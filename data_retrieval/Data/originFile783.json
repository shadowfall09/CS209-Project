{"items":[{"tags":["java","eclipse","junit"],"answers":[{"tags":[],"owner":{"account_id":13278454,"reputation":626,"user_id":9586997,"display_name":"aryanveer"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1600159064,"creation_date":1600028935,"answer_id":63875261,"question_id":63875055,"body_markdown":"You need to read this documentation of [Java Collections][1]. Find the sort method and check how it works.\r\n\r\nYou can do two things:\r\n\r\n1. Implement `Comparable` interface in your `LinkedinUser` class and override `compareTo` method, providing its implementation according to which you want to sort objects.\r\n\r\n2. Use `Comparator` interface, and implementing the `compare` method(using Anonymous Interface Implementations)\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html","title":"Getting error The method sort(List&lt;T&gt;) in the type Collections is not applicable for the arguments (List&lt;LinkedInUser&gt;)","body":"<p>You need to read this documentation of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"nofollow noreferrer\">Java Collections</a>. Find the sort method and check how it works.</p>\n<p>You can do two things:</p>\n<ol>\n<li><p>Implement <code>Comparable</code> interface in your <code>LinkedinUser</code> class and override <code>compareTo</code> method, providing its implementation according to which you want to sort objects.</p>\n</li>\n<li><p>Use <code>Comparator</code> interface, and implementing the <code>compare</code> method(using Anonymous Interface Implementations)</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600092090,"creation_date":1600036150,"answer_id":63876157,"question_id":63875055,"body_markdown":"The [method][1] is declared as:\r\n\r\n```lang-java\r\npublic static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\r\n```\r\n\r\nWhen you call with a `List&lt;LinkedInUser&gt;`, it means that `T` is a `LinkedInUser`, which means that **`LinkedInUser` *must* implement `Comparable&lt;LinkedInUser&gt;`** *(or some super-type of `LinkedInUser`)*.\r\n\r\nIf you can&#39;t do that, call the [overload][2], so you can supply a `Comparator` instead:\r\n\r\n```lang-java\r\npublic static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)\r\n```\r\n\r\nRight now, without the class implementing `Comparable`, and without supplying a `Comparator`, what order did you expect the objects to be sorted in?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-java.util.Comparator-","title":"Getting error The method sort(List&lt;T&gt;) in the type Collections is not applicable for the arguments (List&lt;LinkedInUser&gt;)","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-\" rel=\"nofollow noreferrer\">method</a> is declared as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\n</code></pre>\n<p>When you call with a <code>List&lt;LinkedInUser&gt;</code>, it means that <code>T</code> is a <code>LinkedInUser</code>, which means that <strong><code>LinkedInUser</code> <em>must</em> implement <code>Comparable&lt;LinkedInUser&gt;</code></strong> <em>(or some super-type of <code>LinkedInUser</code>)</em>.</p>\n<p>If you can't do that, call the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#sort-java.util.List-java.util.Comparator-\" rel=\"nofollow noreferrer\">overload</a>, so you can supply a <code>Comparator</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)\n</code></pre>\n<p>Right now, without the class implementing <code>Comparable</code>, and without supplying a <code>Comparator</code>, what order did you expect the objects to be sorted in?</p>\n"}],"owner":{"account_id":19422270,"reputation":21,"user_id":14204560,"display_name":"Npclever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1671856144,"creation_date":1600027439,"question_id":63875055,"body_markdown":"@Test\r\n\r\n\tpublic void sortingTest() throws LinkedInException {\r\n\t\r\n\tLinkedInUser Han = new LinkedInUser(&quot;Han&quot;, &quot;hanpass&quot;);\r\n\t\r\n\tLinkedInUser LUKE = new LinkedInUser(&quot;LUKE&quot;, &quot;LUKEpass&quot;);\r\n\t\r\n\tLinkedInUser leia = new LinkedInUser(&quot;leia&quot;, &quot;leiapass&quot;);\r\n\t\r\n\tHan.addConnection(LUKE);\r\n\t\r\n\tHan.addConnection(leia);\r\n\t\r\n\tList&lt;LinkedInUser&gt; hansConnections = Han.getConnections();\r\n\t\r\n\t\r\n\tCollections.sort(hansConnections);\r\n\t\r\n\thansConnections.get(0).equals(leia);\r\n\t\r\n\thansConnections.get(1).equals(LUKE);\r\n\t\r\n\t}\r\nI am getting an error code with my sort, if anyone could provide insight as to how to fix this issue I would appreciate it.","title":"Getting error The method sort(List&lt;T&gt;) in the type Collections is not applicable for the arguments (List&lt;LinkedInUser&gt;)","body":"<p>@Test</p>\n<pre><code>public void sortingTest() throws LinkedInException {\n\nLinkedInUser Han = new LinkedInUser(&quot;Han&quot;, &quot;hanpass&quot;);\n\nLinkedInUser LUKE = new LinkedInUser(&quot;LUKE&quot;, &quot;LUKEpass&quot;);\n\nLinkedInUser leia = new LinkedInUser(&quot;leia&quot;, &quot;leiapass&quot;);\n\nHan.addConnection(LUKE);\n\nHan.addConnection(leia);\n\nList&lt;LinkedInUser&gt; hansConnections = Han.getConnections();\n\n\nCollections.sort(hansConnections);\n\nhansConnections.get(0).equals(leia);\n\nhansConnections.get(1).equals(LUKE);\n\n}\n</code></pre>\n<p>I am getting an error code with my sort, if anyone could provide insight as to how to fix this issue I would appreciate it.</p>\n"},{"tags":["java","c++","constructor","initialization","initialization-list"],"answers":[{"comments":[{"owner":{"account_id":539129,"reputation":51271,"user_id":906773,"accept_rate":95,"display_name":"Jesse Good"},"score":0,"creation_date":1314057124,"post_id":7154689,"comment_id":8583838,"body_markdown":"Thanks for the answer. However, I was a little weary of the term &quot;zero value&quot;, as it sounds like it is talking about the integer 0, whereas in C++Ox (nullptr) and the Java null I dont consider to be equivalent.","body":"Thanks for the answer. However, I was a little weary of the term &quot;zero value&quot;, as it sounds like it is talking about the integer 0, whereas in C++Ox (nullptr) and the Java null I dont consider to be equivalent."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1314057928,"post_id":7154689,"comment_id":8583957,"body_markdown":"@Jesse, I didn&#39;t invent the term &quot;zero-value.&quot;  It is a common term in programming language specification documents and the like.  E.g. [&quot;Effective Go&quot;](http://golang.org/doc/effective_go.html) says of return parameters, &quot;When named, they are initialized to the zero values for their types when the function begins&quot; and the [language spec](http://golang.org/doc/go_spec.html#The_zero_value) defines `nil` as the zero value for pointer types.","body":"@Jesse, I didn&#39;t invent the term &quot;zero-value.&quot;  It is a common term in programming language specification documents and the like.  E.g. <a href=\"http://golang.org/doc/effective_go.html\" rel=\"nofollow noreferrer\">&quot;Effective Go&quot;</a> says of return parameters, &quot;When named, they are initialized to the zero values for their types when the function begins&quot; and the <a href=\"http://golang.org/doc/go_spec.html#The_zero_value\" rel=\"nofollow noreferrer\">language spec</a> defines <code>nil</code> as the zero value for pointer types."},{"owner":{"account_id":539129,"reputation":51271,"user_id":906773,"accept_rate":95,"display_name":"Jesse Good"},"score":0,"creation_date":1314065405,"post_id":7154689,"comment_id":8584952,"body_markdown":"Thanks for the links regarding &quot;zero-value&quot;. As you may know, different languages use different terminology regarding similar concepts, like [here](http://stackoverflow.com/questions/1350819/c-free-store-vs-heap). So, I would recommend differentiating the two.","body":"Thanks for the links regarding &quot;zero-value&quot;. As you may know, different languages use different terminology regarding similar concepts, like <a href=\"http://stackoverflow.com/questions/1350819/c-free-store-vs-heap\">here</a>. So, I would recommend differentiating the two."},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1314067989,"post_id":7154689,"comment_id":8585251,"body_markdown":"@Jesse, Yeah.  I think languages where the specifiers expect that `bzero`ing an objects memory sets all its fields to the `zero-value` as in Go, tend to prefer that term, whereas the Java language spec uses &quot;default value&quot; since Java doesn&#39;t specify a module named &quot;unsafe&quot; that requires specifying anything about object layout.  Perhaps &quot;default value&quot; or &quot;initial value&quot; would be better, especially since &quot;zero value&quot; w.r.t. IEEE 754 values prompts the question &quot;Which zero?&quot;","body":"@Jesse, Yeah.  I think languages where the specifiers expect that <code>bzero</code>ing an objects memory sets all its fields to the <code>zero-value</code> as in Go, tend to prefer that term, whereas the Java language spec uses &quot;default value&quot; since Java doesn&#39;t specify a module named &quot;unsafe&quot; that requires specifying anything about object layout.  Perhaps &quot;default value&quot; or &quot;initial value&quot; would be better, especially since &quot;zero value&quot; w.r.t. IEEE 754 values prompts the question &quot;Which zero?&quot;"}],"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314058081,"creation_date":1314054805,"answer_id":7154689,"question_id":7154654,"body_markdown":"Because Java does not need them to allow initialization of fields whose type has no zero-value.\r\n\r\nIn C++\r\n\r\n    class C {\r\n      D d;\r\n    }\r\n\r\nwithout a member initializer for `d`, `D::D()` will be called which makes it impossible to initialize the field if there is no zero-type for `D`.  This can happen when `D::D()` is explicitly declared `private`.\r\n\r\nIn Java, there is a known [zero-value](http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#15858) for all reference types, `null`, so a field can always be initialized.\r\n\r\nJava also does a bunch of work to make sure* that all `final` fields are initialized before first use and before the constructor ends, so while Java has a requirement like C++&#39;s `const` field initialization requirement, it just overloads `this.fieldName = &lt;expression&gt;` in the constructor body to mean field initialization.\r\n\r\n* : modulo exceptions thrown in the ctor, overridden method calls from the base class, etc.","title":"Why doesn&#39;t Java have initializer lists like in C++?","body":"<p>Because Java does not need them to allow initialization of fields whose type has no zero-value.</p>\n\n<p>In C++</p>\n\n<pre><code>class C {\n  D d;\n}\n</code></pre>\n\n<p>without a member initializer for <code>d</code>, <code>D::D()</code> will be called which makes it impossible to initialize the field if there is no zero-type for <code>D</code>.  This can happen when <code>D::D()</code> is explicitly declared <code>private</code>.</p>\n\n<p>In Java, there is a known <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#15858\" rel=\"nofollow\">zero-value</a> for all reference types, <code>null</code>, so a field can always be initialized.</p>\n\n<p>Java also does a bunch of work to make sure* that all <code>final</code> fields are initialized before first use and before the constructor ends, so while Java has a requirement like C++'s <code>const</code> field initialization requirement, it just overloads <code>this.fieldName = &lt;expression&gt;</code> in the constructor body to mean field initialization.</p>\n\n<ul>\n<li>: modulo exceptions thrown in the ctor, overridden method calls from the base class, etc.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":539129,"reputation":51271,"user_id":906773,"accept_rate":95,"display_name":"Jesse Good"},"score":0,"creation_date":1314056926,"post_id":7154700,"comment_id":8583808,"body_markdown":"Excellent answer. I was very suprised at the response time for my question. I&#39;ll upvote you after I register. Also, a link about the change in C++0x would be appreciated.","body":"Excellent answer. I was very suprised at the response time for my question. I&#39;ll upvote you after I register. Also, a link about the change in C++0x would be appreciated."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1314057007,"post_id":7154700,"comment_id":8583824,"body_markdown":"@Jesse- Glad to help!  Don&#39;t forget to accept the answer as well if you think it answers the question. :-)  And I&#39;ve included a link for the C++0x change in the question.","body":"@Jesse- Glad to help!  Don&#39;t forget to accept the answer as well if you think it answers the question. :-)  And I&#39;ve included a link for the C++0x change in the question."},{"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"score":3,"creation_date":1314081167,"post_id":7154700,"comment_id":8587064,"body_markdown":"@templatetypedef : `In C++, references (as opposed to pointers) must be initialized to bind to some object.` . I think, its not *&quot;must be initialized&quot;*.  You can have uninitialized references in a valid program; just that you must not use it, to avoid undefined behavior. :-). +1 for a good post.","body":"@templatetypedef : <code>In C++, references (as opposed to pointers) must be initialized to bind to some object.</code> . I think, its not <i>&quot;must be initialized&quot;</i>.  You can have uninitialized references in a valid program; just that you must not use it, to avoid undefined behavior. :-). +1 for a good post."}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":3,"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1671855768,"creation_date":1314054921,"answer_id":7154700,"question_id":7154654,"body_markdown":"In C++, initializer lists are necessary because of a few language features that are either not present in Java or work differently in Java:\r\n\r\n1. **`const`**:  In C++, you can define a fields that are marked `const` that cannot be assigned to and must be initialized in the initializer list.  Java does have `final` fields, but you can assign to `final` fields in the body of a constructor.  In C++, assigning to a `const` field in the constructor is illegal.\r\n\r\n2. **References**: In C++, references (as opposed to pointers) must be initialized to bind to some object.  It is illegal to create a reference without an initializer.  In C++, the way that you specify this is with the initializer list, since if you were to refer to the reference in the body of the constructor without first initializing it you would be using an uninitialized reference.  In Java, object references behave like C++ pointers and can be assigned to after created.  They just default to `null` otherwise.\r\n\r\n3. **Direct subobjects**.  In C++, an object can contain object directly as fields, whereas in Java objects can only hold *references* to those objects.  That is, in C++, if you declare an object that has a `string` as a member, the storage space for that string is built directly into the space for the object itself, while in Java you just get space for a reference to some other `String` object stored elsewhere.  Consequently, C++ needs to provide a way for you to give those subobjects initial values, since otherwise they&#39;d just stay uninitialized.  By default it uses the default constructor for those types, but if you want to use a different constructor or no default constructor is available the initializer list gives you a way to bypass this.  In Java, you don&#39;t need to worry about this because the references will default to `null`, and you can then assign them to refer to the objects you actually want them to refer to.  If you want to use a non-default constructor, then you don&#39;t need any special syntax for it; just set the reference to a new object initialized via the appropriate constructor.\r\n\r\nIn the few cases where Java might want initializer lists (for example, to call superclass constructors or give default values to its fields), this is handled through two other language features: the `super` keyword to invoke superclass constructors, and the fact that Java objects can give their fields default values at the point at which they&#39;re declared. Since C++ has multiple inheritance, just having a single `super` keyword wouldn&#39;t unambiguously refer to a single base class, and prior to C++11 C++ didn&#39;t support default initializers in a class and had to rely on initializer lists.","title":"Why doesn&#39;t Java have initializer lists like in C++?","body":"<p>In C++, initializer lists are necessary because of a few language features that are either not present in Java or work differently in Java:</p>\n<ol>\n<li><p><strong><code>const</code></strong>:  In C++, you can define a fields that are marked <code>const</code> that cannot be assigned to and must be initialized in the initializer list.  Java does have <code>final</code> fields, but you can assign to <code>final</code> fields in the body of a constructor.  In C++, assigning to a <code>const</code> field in the constructor is illegal.</p>\n</li>\n<li><p><strong>References</strong>: In C++, references (as opposed to pointers) must be initialized to bind to some object.  It is illegal to create a reference without an initializer.  In C++, the way that you specify this is with the initializer list, since if you were to refer to the reference in the body of the constructor without first initializing it you would be using an uninitialized reference.  In Java, object references behave like C++ pointers and can be assigned to after created.  They just default to <code>null</code> otherwise.</p>\n</li>\n<li><p><strong>Direct subobjects</strong>.  In C++, an object can contain object directly as fields, whereas in Java objects can only hold <em>references</em> to those objects.  That is, in C++, if you declare an object that has a <code>string</code> as a member, the storage space for that string is built directly into the space for the object itself, while in Java you just get space for a reference to some other <code>String</code> object stored elsewhere.  Consequently, C++ needs to provide a way for you to give those subobjects initial values, since otherwise they'd just stay uninitialized.  By default it uses the default constructor for those types, but if you want to use a different constructor or no default constructor is available the initializer list gives you a way to bypass this.  In Java, you don't need to worry about this because the references will default to <code>null</code>, and you can then assign them to refer to the objects you actually want them to refer to.  If you want to use a non-default constructor, then you don't need any special syntax for it; just set the reference to a new object initialized via the appropriate constructor.</p>\n</li>\n</ol>\n<p>In the few cases where Java might want initializer lists (for example, to call superclass constructors or give default values to its fields), this is handled through two other language features: the <code>super</code> keyword to invoke superclass constructors, and the fact that Java objects can give their fields default values at the point at which they're declared. Since C++ has multiple inheritance, just having a single <code>super</code> keyword wouldn't unambiguously refer to a single base class, and prior to C++11 C++ didn't support default initializers in a class and had to rely on initializer lists.</p>\n"},{"tags":[],"owner":{"account_id":433169,"reputation":1457,"user_id":818352,"accept_rate":33,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1314056158,"creation_date":1314056158,"answer_id":7154814,"question_id":7154654,"body_markdown":"**C++**\r\n\r\nThere is a difference between \r\n\r\n    ClassType t(initialization arguments);\r\n\r\nand \r\n\r\n    ClassType * pt;\r\n\r\nThe latter doesn&#39;t need to be initialized (set to NULL).  The former does.  Think of it as an integer.  You can&#39;t have an int without a value, **BUT** you can have an int pointer without a value.\r\n\r\nSo when you have:\r\n\r\n    class ClassType\r\n    {\r\n        OtherClass value;\r\n        OtherClass * reference;\r\n    };\r\n\r\nThen the declaration:\r\n\r\n    ClassType object;\r\n\r\nautomatically creates an instance of `OtherClass` in `value`.  Therefore, if `OtherClass` has initialization, it must be done in the `ClassType` constructor.  However, `reference` is just a pointer (address in memory) and can remain uninitialized.  If you want an instance of `OtherClass` you must use\r\n\r\n    object.reference = new OtherClass(initialization arguments);\r\n\r\n**Java**\r\n\r\nThere is only \r\n\r\n    class ClassType\r\n    {\r\n        OtherClass reference;\r\n    }\r\n\r\nThis is equivalent to a pointer in C++.  In this case when you do:\r\n\r\n    ClassType object = new ClassType();\r\n\r\nYou don&#39;t automatically create an instance of `OtherClass`.  Therefore, you don&#39;t have to initialize anything in the constructor unless you want to.  When you want an object of `OtherClass` you can use\r\n\r\n    object.reference = new OtherClass();\r\n\r\n","title":"Why doesn&#39;t Java have initializer lists like in C++?","body":"<p><strong>C++</strong></p>\n\n<p>There is a difference between </p>\n\n<pre><code>ClassType t(initialization arguments);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>ClassType * pt;\n</code></pre>\n\n<p>The latter doesn't need to be initialized (set to NULL).  The former does.  Think of it as an integer.  You can't have an int without a value, <strong>BUT</strong> you can have an int pointer without a value.</p>\n\n<p>So when you have:</p>\n\n<pre><code>class ClassType\n{\n    OtherClass value;\n    OtherClass * reference;\n};\n</code></pre>\n\n<p>Then the declaration:</p>\n\n<pre><code>ClassType object;\n</code></pre>\n\n<p>automatically creates an instance of <code>OtherClass</code> in <code>value</code>.  Therefore, if <code>OtherClass</code> has initialization, it must be done in the <code>ClassType</code> constructor.  However, <code>reference</code> is just a pointer (address in memory) and can remain uninitialized.  If you want an instance of <code>OtherClass</code> you must use</p>\n\n<pre><code>object.reference = new OtherClass(initialization arguments);\n</code></pre>\n\n<p><strong>Java</strong></p>\n\n<p>There is only </p>\n\n<pre><code>class ClassType\n{\n    OtherClass reference;\n}\n</code></pre>\n\n<p>This is equivalent to a pointer in C++.  In this case when you do:</p>\n\n<pre><code>ClassType object = new ClassType();\n</code></pre>\n\n<p>You don't automatically create an instance of <code>OtherClass</code>.  Therefore, you don't have to initialize anything in the constructor unless you want to.  When you want an object of <code>OtherClass</code> you can use</p>\n\n<pre><code>object.reference = new OtherClass();\n</code></pre>\n"}],"owner":{"account_id":539129,"reputation":51271,"user_id":906773,"accept_rate":95,"display_name":"Jesse Good"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24960,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":7154700,"answer_count":3,"score":59,"last_activity_date":1671855768,"creation_date":1314054521,"question_id":7154654,"body_markdown":"In C++, you can use an initializer list to initialize the class&#39;s fields before the constructor begins running.  For example:\r\n\r\n    Foo::Foo(string s, double d, int n) : name(s), weight(d), age(n) {\r\n        // Empty; already handled!\r\n    }\r\n\r\nI am curious why Java does not have a similar feature.  According to *Core Java: Volume 1*:\r\n\r\n&gt; C++ uses this special syntax to call field constructors. In Java, there is no need for it because objects have no subobjects, only pointers to other objects.\r\n\r\nHere are my questions:\r\n\r\n1. What do they mean by &quot;because objects have no subobjects?&quot; I don&#39;t understand what a subobject is (I tried looking it up); do they mean an instantiation of a subclass which extends a superclass?\r\n\r\n2. As for why Java does not have initializer lists like C++, I would assume that the reason is because all fields are already initialized by default in Java and also because Java uses the `super` keyword to call the super(or base in C++ lingo)-class constructor.  Is this correct?","title":"Why doesn&#39;t Java have initializer lists like in C++?","body":"<p>In C++, you can use an initializer list to initialize the class's fields before the constructor begins running.  For example:</p>\n\n<pre><code>Foo::Foo(string s, double d, int n) : name(s), weight(d), age(n) {\n    // Empty; already handled!\n}\n</code></pre>\n\n<p>I am curious why Java does not have a similar feature.  According to <em>Core Java: Volume 1</em>:</p>\n\n<blockquote>\n  <p>C++ uses this special syntax to call field constructors. In Java, there is no need for it because objects have no subobjects, only pointers to other objects.</p>\n</blockquote>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li><p>What do they mean by \"because objects have no subobjects?\" I don't understand what a subobject is (I tried looking it up); do they mean an instantiation of a subclass which extends a superclass?</p></li>\n<li><p>As for why Java does not have initializer lists like C++, I would assume that the reason is because all fields are already initialized by default in Java and also because Java uses the <code>super</code> keyword to call the super(or base in C++ lingo)-class constructor.  Is this correct?</p></li>\n</ol>\n"},{"tags":["java","string","scala"],"comments":[{"owner":{"account_id":222214,"reputation":12763,"user_id":480674,"display_name":"pedrofurla"},"score":0,"creation_date":1476034294,"post_id":39945725,"comment_id":67173119,"body_markdown":"What does &quot;String Template&quot; do?","body":"What does &quot;String Template&quot; do?"}],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476034613,"creation_date":1476034259,"answer_id":39946470,"question_id":39945725,"body_markdown":"It&#39;s built into the language (in an extendable way). Just \r\n\r\n    val obj = Obj(&quot;replacement&quot;)\r\n    s&quot;xx ${obj.str} xx&quot;\r\n\r\nYou can have any Scala expression inside `${...}`.\r\n\r\nSee http://docs.scala-lang.org/overviews/core/string-interpolation.html (or just search for &quot;Scala string interpolation&quot;) for more.","title":"Scala - runtime String template","body":"<p>It's built into the language (in an extendable way). Just </p>\n\n<pre><code>val obj = Obj(\"replacement\")\ns\"xx ${obj.str} xx\"\n</code></pre>\n\n<p>You can have any Scala expression inside <code>${...}</code>.</p>\n\n<p>See <a href=\"http://docs.scala-lang.org/overviews/core/string-interpolation.html\" rel=\"nofollow\">http://docs.scala-lang.org/overviews/core/string-interpolation.html</a> (or just search for \"Scala string interpolation\") for more.</p>\n"},{"tags":[],"owner":{"account_id":61969,"reputation":825,"user_id":184394,"display_name":"tonakai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476038386,"creation_date":1476038386,"answer_id":39947165,"question_id":39945725,"body_markdown":"Try to create your class like this:\r\n\r\n        case class Obj(@BeanProperty str: String)\r\nHere is the scala doc: http://www.scala-lang.org/api/current/#scala.beans.BeanProperty\r\n\r\nAlso you can take a look at the project Scalasti which is a interface for StringTemplate: http://software.clapper.org/scalasti/","title":"Scala - runtime String template","body":"<p>Try to create your class like this:</p>\n\n<pre><code>    case class Obj(@BeanProperty str: String)\n</code></pre>\n\n<p>Here is the scala doc: <a href=\"http://www.scala-lang.org/api/current/#scala.beans.BeanProperty\" rel=\"nofollow\">http://www.scala-lang.org/api/current/#scala.beans.BeanProperty</a></p>\n\n<p>Also you can take a look at the project Scalasti which is a interface for StringTemplate: <a href=\"http://software.clapper.org/scalasti/\" rel=\"nofollow\">http://software.clapper.org/scalasti/</a></p>\n"}],"owner":{"account_id":4097938,"reputation":3833,"user_id":3364192,"accept_rate":53,"display_name":"user3364192"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1671855607,"creation_date":1476029640,"question_id":39945725,"body_markdown":"I want to do exactly what java&#39;s String Template does, but in scala. This library however does not work with case classes:\r\n\r\n    case class Obj(str:String)\r\n    val st = new ST(&quot;xx $obj.str$ xx&quot;,&#39;$&#39;,&#39;$&#39;)\r\n    st.add(&quot;obj&quot;,Obj(&quot;replacement&quot;))\r\n    st.render()  //returns &quot;xx  xx&quot;\r\n\r\nST tries to find property &quot;str&quot; with reflection, but it just does not work with scala.\r\n\r\nHow can I achieve it without ST?","title":"Scala - runtime String template","body":"<p>I want to do exactly what java's String Template does, but in scala. This library however does not work with case classes:</p>\n\n<pre><code>case class Obj(str:String)\nval st = new ST(\"xx $obj.str$ xx\",'$','$')\nst.add(\"obj\",Obj(\"replacement\"))\nst.render()  //returns \"xx  xx\"\n</code></pre>\n\n<p>ST tries to find property \"str\" with reflection, but it just does not work with scala.</p>\n\n<p>How can I achieve it without ST?</p>\n"},{"tags":["java","kotlin","quarkus","quarkus-rest-client","quarkus-reactive"],"owner":{"account_id":6800049,"reputation":2045,"user_id":5233656,"accept_rate":88,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671855528,"creation_date":1671852992,"question_id":74905450,"body_markdown":"Im trying to use `io.quarkus:quarkus-rest-client-reactive-jackson` to send a multipart file.\r\n\r\nHere is my client class\r\n\r\n    @RegisterRestClient(configKey = &quot;foo&quot;)\r\n    interface FooClient {\r\n        @POST\r\n        @Path(&quot;/upload&quot;)\r\n        fun uploadFile(\r\n            @RestForm(&quot;file&quot;)\r\n            @PartType(&quot;application/octet-stream&quot;)\r\n            file: ByteArray\r\n        ): Uni&lt;String&gt;\r\n    }\r\n\r\nand here is how I invoke it\r\n\r\n    val file:ByteArray = storage.readAllBytes(&quot;foo&quot;, &quot;foo&quot;)\r\n    fooClient.uploadFile(file = file)\r\n                  .subscribe()\r\n                  .with { log.info(&quot;upload file result : $it&quot;) }\r\n\r\nbut I always get internal server error\r\n\r\n&gt; 2022-12-24 03:11:55,135 ERROR [io.qua.mut.run.MutinyInfrastructure]\r\n&gt; (vert.x-eventloop-thread-0) Mutiny had to drop the following\r\n&gt; exception: org.jboss.resteasy.reactive.ClientWebApplicationException:\r\n&gt; Received: &#39;Internal Server Error, status code 500&#39; when invoking: Rest\r\n&gt; Client method: &#39;foo.FooClient#uploadFile&#39;\r\n\r\n\r\nHow to send a multipart file with `ByteArray` in `quarkus reactive`?\r\n","title":"Quarkus reactive client - sending Multipart from ByteArray","body":"<p>Im trying to use <code>io.quarkus:quarkus-rest-client-reactive-jackson</code> to send a multipart file.</p>\n<p>Here is my client class</p>\n<pre><code>@RegisterRestClient(configKey = &quot;foo&quot;)\ninterface FooClient {\n    @POST\n    @Path(&quot;/upload&quot;)\n    fun uploadFile(\n        @RestForm(&quot;file&quot;)\n        @PartType(&quot;application/octet-stream&quot;)\n        file: ByteArray\n    ): Uni&lt;String&gt;\n}\n</code></pre>\n<p>and here is how I invoke it</p>\n<pre><code>val file:ByteArray = storage.readAllBytes(&quot;foo&quot;, &quot;foo&quot;)\nfooClient.uploadFile(file = file)\n              .subscribe()\n              .with { log.info(&quot;upload file result : $it&quot;) }\n</code></pre>\n<p>but I always get internal server error</p>\n<blockquote>\n<p>2022-12-24 03:11:55,135 ERROR [io.qua.mut.run.MutinyInfrastructure]\n(vert.x-eventloop-thread-0) Mutiny had to drop the following\nexception: org.jboss.resteasy.reactive.ClientWebApplicationException:\nReceived: 'Internal Server Error, status code 500' when invoking: Rest\nClient method: 'foo.FooClient#uploadFile'</p>\n</blockquote>\n<p>How to send a multipart file with <code>ByteArray</code> in <code>quarkus reactive</code>?</p>\n"},{"tags":["java","arrays","arraylist","linked-list","hashmap"],"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":11,"creation_date":1320207979,"post_id":7975802,"comment_id":9753602,"body_markdown":"`Lists` and `Maps` are two *completely* different data structures, with different operations and invariants.  Can you explain the context/requirements you&#39;re thinking of where both would be acceptable solutions?","body":"<code>Lists</code> and <code>Maps</code> are two <i>completely</i> different data structures, with different operations and invariants.  Can you explain the context/requirements you&#39;re thinking of where both would be acceptable solutions?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":3,"creation_date":1320208266,"post_id":7975802,"comment_id":9753646,"body_markdown":"Apparently you&#39;ve never needed to keep a set of things *in a particular order* ...","body":"Apparently you&#39;ve never needed to keep a set of things <i>in a particular order</i> ..."},{"owner":{"display_name":"user517491"},"score":59,"creation_date":1320209792,"post_id":7975802,"comment_id":9753795,"body_markdown":"Downvote, why? I think this is a proper question. Shows lack of knowlegde though, but on SO question should not be downvoted for showing lack of knowledge. In fact a question is always a result of lack of knowledge.","body":"Downvote, why? I think this is a proper question. Shows lack of knowlegde though, but on SO question should not be downvoted for showing lack of knowledge. In fact a question is always a result of lack of knowledge."}],"answers":[{"tags":[],"owner":{"account_id":148537,"reputation":564,"user_id":360384,"accept_rate":100,"display_name":"jazzdawg"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1320209770,"creation_date":1320209121,"answer_id":7975907,"question_id":7975802,"body_markdown":"Lists and Maps are different data structures. Maps are used for when you want to associate a key with a value and Lists are an ordered collection.\r\n\r\nMap is an interface in the Java Collection Framework and a HashMap is one implementation of the Map interface. HashMap are efficient for locating a value based on a key and inserting and deleting values based on a key. The entries of a HashMap are not ordered.\r\n\r\nArrayList and LinkedList are an implementation of the List interface. LinkedList provides sequential access and is generally more efficient at inserting and deleting elements in the list, however, it is it less efficient at accessing elements in a list. ArrayList provides random access and is more efficient at accessing elements but is generally slower at inserting and deleting elements.","title":"When to use HashMap over LinkedList or ArrayList and vice-versa","body":"<p>Lists and Maps are different data structures. Maps are used for when you want to associate a key with a value and Lists are an ordered collection.</p>\n\n<p>Map is an interface in the Java Collection Framework and a HashMap is one implementation of the Map interface. HashMap are efficient for locating a value based on a key and inserting and deleting values based on a key. The entries of a HashMap are not ordered.</p>\n\n<p>ArrayList and LinkedList are an implementation of the List interface. LinkedList provides sequential access and is generally more efficient at inserting and deleting elements in the list, however, it is it less efficient at accessing elements in a list. ArrayList provides random access and is more efficient at accessing elements but is generally slower at inserting and deleting elements.</p>\n"},{"comments":[{"owner":{"account_id":1499019,"reputation":1892,"user_id":1404279,"display_name":"Cesar Castro"},"score":0,"creation_date":1382123133,"post_id":7976002,"comment_id":28852250,"body_markdown":"LinkedLists are often said to be bad because of performance issues. I frequently use LinkedLists over ArrayLists because of element ordering. Would it be better (for performance and memory) if I used HashMaps with positions as keys?","body":"LinkedLists are often said to be bad because of performance issues. I frequently use LinkedLists over ArrayLists because of element ordering. Would it be better (for performance and memory) if I used HashMaps with positions as keys?"}],"tags":[],"owner":{"account_id":922081,"reputation":1353,"user_id":953582,"display_name":"polster"},"comment_count":1,"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1671855273,"creation_date":1320210215,"answer_id":7976002,"question_id":7975802,"body_markdown":"Lists represent a sequential ordering of elements.\r\nMaps are used to represent a collection of key / value pairs.\r\n\r\nWhile you could use a map as a list, there are some definite downsides of doing so.\r\n\r\n**Maintaining order:**\r\n- A list by definition is ordered.   You add items and then you are able to iterate back through the list in the order that you inserted the items.    When you add items to a HashMap, you are not guaranteed to retrieve the items in the same order you put them in.   There are subclasses of HashMap like LinkedHashMap that will maintain the order, but in general order is not guaranteed with a Map.\r\n\r\n**Key/Value semantics:**\r\n- The purpose of a map is to store items based on a key that can be used to retrieve the item at a later point.    Similar functionality can only be achieved with a list in the limited case where the key happens to be the position in the list. \r\n  \r\n\r\n**Code readability**\r\nConsider the following examples.   \r\n\r\n        // Adding to a List\r\n        list.add(myObject);         // adds to the end of the list\r\n        map.put(myKey, myObject);   // sure, you can do this, but what is myKey?\r\n        map.put(&quot;1&quot;, myObject);     // you could use the position as a key but why?\r\n\r\n        // Iterating through the items\r\n        for (Object o : myList)           // nice and easy\r\n        for (Object o : myMap.values())   // more code and the order is not guaranteed\r\n\r\n**Collection functionality**\r\nSome great utility functions are available for lists via the Collections class.   For example ... \r\n\r\n        // Randomize the list\r\n        Collections.shuffle(myList);\r\n\r\n        // Sort the list\r\n        Collections.sort(myList, myComparator);","title":"When to use HashMap over LinkedList or ArrayList and vice-versa","body":"<p>Lists represent a sequential ordering of elements.\nMaps are used to represent a collection of key / value pairs.</p>\n<p>While you could use a map as a list, there are some definite downsides of doing so.</p>\n<p><strong>Maintaining order:</strong></p>\n<ul>\n<li>A list by definition is ordered.   You add items and then you are able to iterate back through the list in the order that you inserted the items.    When you add items to a HashMap, you are not guaranteed to retrieve the items in the same order you put them in.   There are subclasses of HashMap like LinkedHashMap that will maintain the order, but in general order is not guaranteed with a Map.</li>\n</ul>\n<p><strong>Key/Value semantics:</strong></p>\n<ul>\n<li>The purpose of a map is to store items based on a key that can be used to retrieve the item at a later point.    Similar functionality can only be achieved with a list in the limited case where the key happens to be the position in the list.</li>\n</ul>\n<p><strong>Code readability</strong>\nConsider the following examples.</p>\n<pre><code>    // Adding to a List\n    list.add(myObject);         // adds to the end of the list\n    map.put(myKey, myObject);   // sure, you can do this, but what is myKey?\n    map.put(&quot;1&quot;, myObject);     // you could use the position as a key but why?\n\n    // Iterating through the items\n    for (Object o : myList)           // nice and easy\n    for (Object o : myMap.values())   // more code and the order is not guaranteed\n</code></pre>\n<p><strong>Collection functionality</strong>\nSome great utility functions are available for lists via the Collections class.   For example ...</p>\n<pre><code>    // Randomize the list\n    Collections.shuffle(myList);\n\n    // Sort the list\n    Collections.sort(myList, myComparator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16801425,"reputation":56,"user_id":12146580,"display_name":"Simon Walker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576265068,"creation_date":1576265068,"answer_id":59328660,"question_id":7975802,"body_markdown":"The downfall of ArrayList and LinkedList is that when iterating through them, depending on the search algorithm, the time it takes to find an item grows with the size of the list.\r\n\r\nThe beauty of hashing is that although you sacrifice some extra time searching for the element, the time taken does not grow with the size of the map. This is because the HashMap finds information by converting the element you are searching for, directly into the index, so it can make the jump.\r\n\r\nLong story short...\r\n**LinkedList**: Consumes a little more memory than ArrayList, low cost for insertions(add &amp; remove)\r\n**ArrayList**: Consumes low memory, but similar to LinkedList, and takes extra time to search when large.\r\n**HashMap**: Can perform a jump to the value, making the search time constant for large maps. Consumes more memory and takes longer to find the value than small lists.","title":"When to use HashMap over LinkedList or ArrayList and vice-versa","body":"<p>The downfall of ArrayList and LinkedList is that when iterating through them, depending on the search algorithm, the time it takes to find an item grows with the size of the list.</p>\n\n<p>The beauty of hashing is that although you sacrifice some extra time searching for the element, the time taken does not grow with the size of the map. This is because the HashMap finds information by converting the element you are searching for, directly into the index, so it can make the jump.</p>\n\n<p>Long story short...\n<strong>LinkedList</strong>: Consumes a little more memory than ArrayList, low cost for insertions(add &amp; remove)\n<strong>ArrayList</strong>: Consumes low memory, but similar to LinkedList, and takes extra time to search when large.\n<strong>HashMap</strong>: Can perform a jump to the value, making the search time constant for large maps. Consumes more memory and takes longer to find the value than small lists.</p>\n"},{"tags":[],"owner":{"account_id":3130552,"reputation":1267,"user_id":2648444,"display_name":"vhbazan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588203496,"creation_date":1588203496,"answer_id":61513500,"question_id":7975802,"body_markdown":"I will put here some real case examples and scenarios when to use one or another, it might be of help for somebody else: \r\n\r\n**HashMap**\r\n\r\nWhen you have to use cache in your application. Redis and membase are some type of extended HashMap. (Doesn&#39;t matter the order of the elements, you need quick ( O(1) ) read access (a value), using a key). \r\n\r\n**LinkedList**\r\n\r\nWhen the order is important (they are ordered as they were added to the LinkedList), the number of elements are unknown (don&#39;t waste memory allocation) and you require quick insertion time ( O(1) ). A list of to-do items that can be listed sequentially as they are added is a good example. \r\n\r\n","title":"When to use HashMap over LinkedList or ArrayList and vice-versa","body":"<p>I will put here some real case examples and scenarios when to use one or another, it might be of help for somebody else: </p>\n\n<p><strong>HashMap</strong></p>\n\n<p>When you have to use cache in your application. Redis and membase are some type of extended HashMap. (Doesn't matter the order of the elements, you need quick ( O(1) ) read access (a value), using a key). </p>\n\n<p><strong>LinkedList</strong></p>\n\n<p>When the order is important (they are ordered as they were added to the LinkedList), the number of elements are unknown (don't waste memory allocation) and you require quick insertion time ( O(1) ). A list of to-do items that can be listed sequentially as they are added is a good example. </p>\n"}],"owner":{"display_name":"user517491"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136488,"favorite_count":0,"down_vote_count":1,"up_vote_count":96,"accepted_answer_id":7976002,"answer_count":4,"score":95,"last_activity_date":1671855273,"creation_date":1320207815,"question_id":7975802,"body_markdown":"What is the reason why we cannot always use a HashMap, even though it is much more efficient than ArrayList or LinkedList in add,remove operations, also irrespective of the number of the elements.\r\n\r\nI googled it and found some reasons, but there was always a workaround for using HashMap, with advantages still alive.\r\n","title":"When to use HashMap over LinkedList or ArrayList and vice-versa","body":"<p>What is the reason why we cannot always use a HashMap, even though it is much more efficient than ArrayList or LinkedList in add,remove operations, also irrespective of the number of the elements.</p>\n\n<p>I googled it and found some reasons, but there was always a workaround for using HashMap, with advantages still alive.</p>\n"},{"tags":["java","android","sqlite","singleton","android-loadermanager"],"answers":[{"comments":[{"owner":{"account_id":118707,"reputation":1526,"user_id":309926,"accept_rate":64,"display_name":"Dan"},"score":0,"creation_date":1312240970,"post_id":6905579,"comment_id":8223112,"body_markdown":"Thanks St&#233;phane. The articles that I used as a base are these:\n\nhttp://stackoverflow.com/questions/2647542/android-threading-and-database-locking\n\nhttp://stackoverflow.com/questions/4302286/android-simultaneous-db-operations-database-is-locked\n\nRegards, Dan","body":"Thanks St&#233;phane. The articles that I used as a base are these:  <a href=\"http://stackoverflow.com/questions/2647542/android-threading-and-database-locking\" title=\"android threading and database locking\">stackoverflow.com/questions/2647542/&hellip;</a>  <a href=\"http://stackoverflow.com/questions/4302286/android-simultaneous-db-operations-database-is-locked\" title=\"android simultaneous db operations database is locked\">stackoverflow.com/questions/4302286/&hellip;</a>  Regards, Dan"},{"owner":{"account_id":118707,"reputation":1526,"user_id":309926,"accept_rate":64,"display_name":"Dan"},"score":0,"creation_date":1312241213,"post_id":6905579,"comment_id":8223157,"body_markdown":"The problem to what you comment is that (AFAIK) using different connections to the same database is recipe for failure. Thus the use of a singleton.","body":"The problem to what you comment is that (AFAIK) using different connections to the same database is recipe for failure. Thus the use of a singleton."},{"owner":{"account_id":118707,"reputation":1526,"user_id":309926,"accept_rate":64,"display_name":"Dan"},"score":0,"creation_date":1312242375,"post_id":6905579,"comment_id":8223324,"body_markdown":"See this thread, which seems to support my theory: http://stackoverflow.com/questions/2493331/what-is-best-practice-with-sqlite-and-android","body":"See this thread, which seems to support my theory: <a href=\"http://stackoverflow.com/questions/2493331/what-is-best-practice-with-sqlite-and-android\" title=\"what is best practice with sqlite and android\">stackoverflow.com/questions/2493331/&hellip;</a>"}],"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1332448161,"creation_date":1312240651,"answer_id":6905579,"question_id":6905524,"body_markdown":"I never read about using a singleton to access a db on android. Would you mind to provide a link about that.\r\n\r\nIn my apps, I use simple dbhelper objects, not singletons, I was thinking this is more the job of the sql engine to ensure db is not locked, not the job of your android classes, and it works pretty well for my biggest app that is medium sized.\r\n\r\nUpdate #1: looking at the reference you gave, it looks like the problem is not at all about using different instances of a `dbhelper`. Even a single instance could encounter problems accessing the databases : the problem comes from a concurrent accesses. So the only way to ensure a proper access to the database by different threads is to use simple thread synchronization mechanisms (`synchronized` methods or blocks), and it almost nothing to do with using a singleton.\r\n\r\nUpdate #2 : the second link you provide clearly shows that their is a need for singleton dbhelper objects in the case of multiple threads writing concurrently in a db. This can happen if you do you sql operations (inserts/updates/deletes) from AsyncTasks for instance. In that case a singleton object dbhelper would simply put all sql operations in some sort of pipeline and execute them in order.\r\n\r\nThis solution could be easier to implement than using proper thread synchronization using synchronized methods in java. Actually I think there should be more emphasize somewhere in android docs about this problem and the use of a singleton db helper could be encouraged.\r\n\r\nThanks for this nice question and the follow ups.","title":"Using Singleton design pattern for SQLiteDatabase","body":"<p>I never read about using a singleton to access a db on android. Would you mind to provide a link about that.</p>\n\n<p>In my apps, I use simple dbhelper objects, not singletons, I was thinking this is more the job of the sql engine to ensure db is not locked, not the job of your android classes, and it works pretty well for my biggest app that is medium sized.</p>\n\n<p>Update #1: looking at the reference you gave, it looks like the problem is not at all about using different instances of a <code>dbhelper</code>. Even a single instance could encounter problems accessing the databases : the problem comes from a concurrent accesses. So the only way to ensure a proper access to the database by different threads is to use simple thread synchronization mechanisms (<code>synchronized</code> methods or blocks), and it almost nothing to do with using a singleton.</p>\n\n<p>Update #2 : the second link you provide clearly shows that their is a need for singleton dbhelper objects in the case of multiple threads writing concurrently in a db. This can happen if you do you sql operations (inserts/updates/deletes) from AsyncTasks for instance. In that case a singleton object dbhelper would simply put all sql operations in some sort of pipeline and execute them in order.</p>\n\n<p>This solution could be easier to implement than using proper thread synchronization using synchronized methods in java. Actually I think there should be more emphasize somewhere in android docs about this problem and the use of a singleton db helper could be encouraged.</p>\n\n<p>Thanks for this nice question and the follow ups.</p>\n"},{"comments":[{"owner":{"account_id":1132785,"reputation":12894,"user_id":1118475,"accept_rate":79,"display_name":"Micha Klimczak"},"score":0,"creation_date":1339370452,"post_id":9286006,"comment_id":14329946,"body_markdown":"Alex, I use your approach (#2) and I love its simplicity. But recently I noticed a problem. Wonder if you can help me with that issue: http://stackoverflow.com/questions/10972719/sqliteopenhelper-getwritabledatabse-fails-with-no-exception\nBtw, just noticed that I use static mCxt (forgot why). Wonder if it has anything to do with my problem","body":"Alex, I use your approach (#2) and I love its simplicity. But recently I noticed a problem. Wonder if you can help me with that issue: <a href=\"http://stackoverflow.com/questions/10972719/sqliteopenhelper-getwritabledatabse-fails-with-no-exception\" title=\"sqliteopenhelper getwritabledatabse fails with no exception\">stackoverflow.com/questions/10972719/&hellip;</a> Btw, just noticed that I use static mCxt (forgot why). Wonder if it has anything to do with my problem"},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1350062394,"post_id":9286006,"comment_id":17411811,"body_markdown":"The above link is broken... here&#39;s an updated one: http://android-developers.blogspot.com/2009/01/avoiding-memory-leaks.html","body":"The above link is broken... here&#39;s an updated one: <a href=\"http://android-developers.blogspot.com/2009/01/avoiding-memory-leaks.html\" rel=\"nofollow noreferrer\">android-developers.blogspot.com/2009/01/&hellip;</a>"},{"owner":{"account_id":128404,"reputation":460,"user_id":326212,"display_name":"keios"},"score":0,"creation_date":1388486291,"post_id":9286006,"comment_id":31286889,"body_markdown":"Here is a wrapper I wrote/use which makes it slightly easier to use SQLite well in the context of android - [SqlDb for Android](https://github.com/kashifrazzaqui/sqldb)","body":"Here is a wrapper I wrote/use which makes it slightly easier to use SQLite well in the context of android - <a href=\"https://github.com/kashifrazzaqui/sqldb\" rel=\"nofollow noreferrer\">SqlDb for Android</a>"},{"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"score":1,"creation_date":1420599188,"post_id":9286006,"comment_id":44030219,"body_markdown":"Thanks @AlexLockwood, while the approach #1 makes perfect sense to me, I thought one should only use `ContentProvider` when sharing the database access with other application?","body":"Thanks @AlexLockwood, while the approach #1 makes perfect sense to me, I thought one should only use <code>ContentProvider</code> when sharing the database access with other application?"},{"owner":{"account_id":85542,"reputation":5303,"user_id":238411,"accept_rate":86,"display_name":"Matthew Mitchell"},"score":3,"creation_date":1435755256,"post_id":9286006,"comment_id":50332236,"body_markdown":"Wouldn&#39;t it be a good idea to make `getInstance` synchronized?","body":"Wouldn&#39;t it be a good idea to make <code>getInstance</code> synchronized?"},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1457314063,"post_id":9286006,"comment_id":59336564,"body_markdown":"@AlexLockwood I am setting up a SQLite database for the first time.  It will hold data that will then populate a RecyclerView item list.  SQLite is being used for data persistence.  Would you recommend your Approach #1 or Approach #2?","body":"@AlexLockwood I am setting up a SQLite database for the first time.  It will hold data that will then populate a RecyclerView item list.  SQLite is being used for data persistence.  Would you recommend your Approach #1 or Approach #2?"},{"owner":{"account_id":2255833,"reputation":2036,"user_id":1987045,"accept_rate":40,"display_name":"rahulrvp"},"score":0,"creation_date":1478067386,"post_id":9286006,"comment_id":67999989,"body_markdown":"Here the `mInstance` contains a `Context` object in it. Which is a memory leak and a blocker for new instant run feature,","body":"Here the <code>mInstance</code> contains a <code>Context</code> object in it. Which is a memory leak and a blocker for new instant run feature,"},{"owner":{"account_id":2323535,"reputation":9860,"user_id":2038544,"accept_rate":74,"display_name":"razz"},"score":0,"creation_date":1493188825,"post_id":9286006,"comment_id":74302125,"body_markdown":"I&#39;m getting a warning about the class instance `mInstance`: &quot;`Do not place Android context classes in static fields (static reference to DatabaseHelper which has field contenxt pointing to Context); this is a memoryleak (and also breaks Instant Run)`&quot;. Is there a work around?","body":"I&#39;m getting a warning about the class instance <code>mInstance</code>: &quot;<code>Do not place Android context classes in static fields (static reference to DatabaseHelper which has field contenxt pointing to Context); this is a memoryleak (and also breaks Instant Run)</code>&quot;. Is there a work around?"},{"owner":{"account_id":2323535,"reputation":9860,"user_id":2038544,"accept_rate":74,"display_name":"razz"},"score":0,"creation_date":1493192105,"post_id":9286006,"comment_id":74304073,"body_markdown":"nvm, the warning disappeared after I removed the Context variable `mCxt`","body":"nvm, the warning disappeared after I removed the Context variable <code>mCxt</code>"}],"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"comment_count":9,"down_vote_count":1,"up_vote_count":103,"is_accepted":true,"score":102,"last_activity_date":1671855228,"creation_date":1329263722,"answer_id":9286006,"question_id":6905524,"body_markdown":"&lt;h1&gt;&lt;a href=&quot;http://www.androiddesignpatterns.com/2012/05/correctly-managing-your-sqlite-database.html&quot;&gt;Click here to see my blog post on this subject.&lt;/a&gt;&lt;/h1&gt;\r\n\r\n---\r\n\r\nHere is some sample code that illustrates three possible approaches. These will allow access to the database throughout the application. \r\n\r\n&lt;h3&gt;Approach #1: have `SQLiteOpenHelper` be a static data member&lt;/h3&gt;\r\n\r\nThis isn&#39;t the complete implementation, but it should give you a good idea on how to go about designing the `DatabaseHelper` class correctly. The static factory method ensures that there exists only one DatabaseHelper instance at any time.\r\n\r\n    /**\r\n     * create custom DatabaseHelper class that extends SQLiteOpenHelper\r\n     */\r\n    public class DatabaseHelper extends SQLiteOpenHelper { \r\n        private static DatabaseHelper mInstance = null;\r\n\r\n        private static final String DATABASE_NAME = &quot;databaseName&quot;;\r\n        private static final String DATABASE_TABLE = &quot;tableName&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n\r\n        private Context mCxt;\r\n \r\n        public static DatabaseHelper getInstance(Context ctx) {\r\n            /** \r\n             * use the application context as suggested by CommonsWare.\r\n             * this will ensure that you dont accidentally leak an Activitys\r\n             * context (see this article for more information: \r\n             * http://android-developers.blogspot.nl/2009/01/avoiding-memory-leaks.html)\r\n             */\r\n            if (mInstance == null) {\r\n                mInstance = new DatabaseHelper(ctx.getApplicationContext());\r\n            }\r\n            return mInstance;\r\n        }\r\n        \r\n        /**\r\n         * constructor should be private to prevent direct instantiation.\r\n         * make call to static factory method &quot;getInstance()&quot; instead.\r\n         */\r\n        private DatabaseHelper(Context ctx) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.mCtx = ctx;\r\n        }\r\n    }\r\n\r\n&lt;h3&gt;Approach #2: abstract the SQLite database with a `ContentProvider`&lt;/h3&gt;\r\n\r\nThis is the approach I would suggest. For one, the new `CursorLoader` class requires `ContentProvider`s, so if you want an Activity or Fragment to implement `LoaderManager.LoaderCallbacks&lt;Cursor&gt;` with a `CursorLoader` (which I suggest you take advantage of, it is magical!), you&#39;ll need to implement a `ContentProvider` for your application. Further, you don&#39;t need to worry about making a Singleton database helper with ContentProviders. Simply call `getContentResolver()` from the Activity and the system will take care of everything for you (in other words, there is no need for designing a Singleton pattern to prevent multiple instances from being created).","title":"Using Singleton design pattern for SQLiteDatabase","body":"<h1><a href=\"http://www.androiddesignpatterns.com/2012/05/correctly-managing-your-sqlite-database.html\" rel=\"nofollow noreferrer\">Click here to see my blog post on this subject.</a></h1>\n<hr />\n<p>Here is some sample code that illustrates three possible approaches. These will allow access to the database throughout the application.</p>\n<h3>Approach #1: have `SQLiteOpenHelper` be a static data member</h3>\n<p>This isn't the complete implementation, but it should give you a good idea on how to go about designing the <code>DatabaseHelper</code> class correctly. The static factory method ensures that there exists only one DatabaseHelper instance at any time.</p>\n<pre><code>/**\n * create custom DatabaseHelper class that extends SQLiteOpenHelper\n */\npublic class DatabaseHelper extends SQLiteOpenHelper { \n    private static DatabaseHelper mInstance = null;\n\n    private static final String DATABASE_NAME = &quot;databaseName&quot;;\n    private static final String DATABASE_TABLE = &quot;tableName&quot;;\n    private static final int DATABASE_VERSION = 1;\n\n    private Context mCxt;\n\n    public static DatabaseHelper getInstance(Context ctx) {\n        /** \n         * use the application context as suggested by CommonsWare.\n         * this will ensure that you dont accidentally leak an Activitys\n         * context (see this article for more information: \n         * http://android-developers.blogspot.nl/2009/01/avoiding-memory-leaks.html)\n         */\n        if (mInstance == null) {\n            mInstance = new DatabaseHelper(ctx.getApplicationContext());\n        }\n        return mInstance;\n    }\n    \n    /**\n     * constructor should be private to prevent direct instantiation.\n     * make call to static factory method &quot;getInstance()&quot; instead.\n     */\n    private DatabaseHelper(Context ctx) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.mCtx = ctx;\n    }\n}\n</code></pre>\n<h3>Approach #2: abstract the SQLite database with a `ContentProvider`</h3>\n<p>This is the approach I would suggest. For one, the new <code>CursorLoader</code> class requires <code>ContentProvider</code>s, so if you want an Activity or Fragment to implement <code>LoaderManager.LoaderCallbacks&lt;Cursor&gt;</code> with a <code>CursorLoader</code> (which I suggest you take advantage of, it is magical!), you'll need to implement a <code>ContentProvider</code> for your application. Further, you don't need to worry about making a Singleton database helper with ContentProviders. Simply call <code>getContentResolver()</code> from the Activity and the system will take care of everything for you (in other words, there is no need for designing a Singleton pattern to prevent multiple instances from being created).</p>\n"}],"owner":{"account_id":118707,"reputation":1526,"user_id":309926,"accept_rate":64,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51834,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":9286006,"answer_count":2,"score":82,"last_activity_date":1671855228,"creation_date":1312240172,"question_id":6905524,"body_markdown":"I&#39;m rather newbie on Android, and I&#39;m working on a simple application to get some basic experience. My app is pretty simple and consists among other things of a broadcast receiver and some activities. Both components make use of a single database, so in theory it could happen that both try to access the db concurrently.\r\n\r\nCurrently I&#39;m simply instantiating the db object (which is-a SQLite db helper class) each time I need it, and performing the needed operations: query, insert, etc.\r\n\r\nFrom what I&#39;ve been reading here and in some other documents, this has the problem of getting a &quot;db locked&quot; exception in case the db is accessed concurrently, so a better approach would be having a single instance of this db object so all components use the same db connection at all times.\r\n\r\nIs the above reasoning correct? Would a singleton then be a good-enough solution for this? I know some purists may argue against it, but please note that this is a rather simple application so I can afford doing things I wouldn&#39;t in other cases.\r\n\r\nOtherwise, what would a better option be? I&#39;ve read about using content provider but it would be too much for this, besides that I&#39;m not interested to share the data with other activities. I have indeed read this [**post**](http://www.androiddesignpatterns.com/2012/05/correctly-managing-your-sqlite-database.html) and found it rather helpful.","title":"Using Singleton design pattern for SQLiteDatabase","body":"<p>I'm rather newbie on Android, and I'm working on a simple application to get some basic experience. My app is pretty simple and consists among other things of a broadcast receiver and some activities. Both components make use of a single database, so in theory it could happen that both try to access the db concurrently.</p>\n\n<p>Currently I'm simply instantiating the db object (which is-a SQLite db helper class) each time I need it, and performing the needed operations: query, insert, etc.</p>\n\n<p>From what I've been reading here and in some other documents, this has the problem of getting a \"db locked\" exception in case the db is accessed concurrently, so a better approach would be having a single instance of this db object so all components use the same db connection at all times.</p>\n\n<p>Is the above reasoning correct? Would a singleton then be a good-enough solution for this? I know some purists may argue against it, but please note that this is a rather simple application so I can afford doing things I wouldn't in other cases.</p>\n\n<p>Otherwise, what would a better option be? I've read about using content provider but it would be too much for this, besides that I'm not interested to share the data with other activities. I have indeed read this <a href=\"http://www.androiddesignpatterns.com/2012/05/correctly-managing-your-sqlite-database.html\" rel=\"noreferrer\"><strong>post</strong></a> and found it rather helpful.</p>\n"},{"tags":["java","comments","intellij-idea"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1270904859,"post_id":2613432,"comment_id":2624383,"body_markdown":"Why not just run the Ant task in IntelliJ and call it a day?","body":"Why not just run the Ant task in IntelliJ and call it a day?"},{"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"score":0,"creation_date":1270908160,"post_id":2613432,"comment_id":2624619,"body_markdown":"Duffymo that makes too much sense ;-)","body":"Duffymo that makes too much sense ;-)"},{"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"score":0,"creation_date":1271002061,"post_id":2613432,"comment_id":2629500,"body_markdown":"Well it does make sense, I&#39;d love to find a little IntelliJ plugin that I can use easily on any old file I open that I want to clear out the comments on.","body":"Well it does make sense, I&#39;d love to find a little IntelliJ plugin that I can use easily on any old file I open that I want to clear out the comments on."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1469633164,"post_id":2613432,"comment_id":64620360,"body_markdown":"This regex removes the stars: `^[ ]*/?\\*+/? ?`","body":"This regex removes the stars: <code>^[ ]*&#47;?\\*+&#47;? ?</code>"}],"answers":[{"comments":[{"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"score":0,"creation_date":1270998514,"post_id":2613945,"comment_id":2629289,"body_markdown":"The first one? I just double checked it in IDEA 9.0.1 and it is working for me.","body":"The first one? I just double checked it in IDEA 9.0.1 and it is working for me."},{"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"score":0,"creation_date":1271002295,"post_id":2613945,"comment_id":2629521,"body_markdown":"Hmmm..  I&#39;m trying on this http://pastebin.com/u0fQub8j file..  doesn&#39;t seem to work.  Any ideas?   I&#39;m on IntelliJ 8.","body":"Hmmm..  I&#39;m trying on this <a href=\"http://pastebin.com/u0fQub8j\" rel=\"nofollow noreferrer\">pastebin.com/u0fQub8j</a> file..  doesn&#39;t seem to work.  Any ideas?   I&#39;m on IntelliJ 8."},{"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"score":0,"creation_date":1271013325,"post_id":2613945,"comment_id":2630243,"body_markdown":"Tried again, the second one works nicely..  doesn&#39;t get all the comments but most.  Still couldn&#39;t get the first to work.","body":"Tried again, the second one works nicely..  doesn&#39;t get all the comments but most.  Still couldn&#39;t get the first to work."},{"owner":{"account_id":2767646,"reputation":4657,"user_id":2382964,"accept_rate":67,"display_name":"Tushar Pandey"},"score":0,"creation_date":1372445373,"post_id":2613945,"comment_id":25213751,"body_markdown":"Every day what i want , i found Here ( Stack over flow , Rocks )\n\n@intellij , dont forget to check the , Regular Expression check box .","body":"Every day what i want , i found Here ( Stack over flow , Rocks )  @intellij , dont forget to check the , Regular Expression check box ."},{"owner":{"account_id":395893,"reputation":334,"user_id":759096,"display_name":"Konstantin Bulenkov"},"score":2,"creation_date":1410304082,"post_id":2613945,"comment_id":40273359,"body_markdown":"@marcus, you can select the proper context to make it 100% http://content.screencast.com/users/bulenkov/folders/Jing/media/2fb0dbdf-a959-4e97-be72-65e4909b20e0/00000608.png","body":"@marcus, you can select the proper context to make it 100% <a href=\"http://content.screencast.com/users/bulenkov/folders/Jing/media/2fb0dbdf-a959-4e97-be72-65e4909b20e0/00000608.png\" rel=\"nofollow noreferrer\">content.screencast.com/users/bulenkov/folders/Jing/media/&hellip;</a>"},{"owner":{"account_id":2001315,"reputation":240,"user_id":1792302,"display_name":"ydobonebi"},"score":0,"creation_date":1447634069,"post_id":2613945,"comment_id":55222954,"body_markdown":"OMB, this is my favorite answer. I love REGEX more than most people do and I wanted the answer to this question so I found this and wow, just awesome. I wish I could upvote you 2 times for it.","body":"OMB, this is my favorite answer. I love REGEX more than most people do and I wanted the answer to this question so I found this and wow, just awesome. I wish I could upvote you 2 times for it."},{"owner":{"account_id":7184878,"reputation":1131,"user_id":5487258,"display_name":"Vasili Fedotov"},"score":0,"creation_date":1559472677,"post_id":2613945,"comment_id":99424913,"body_markdown":"is there any way to handle having something like /*test1*//*test2*/ in the middle of your code? using the first expression?","body":"is there any way to handle having something like /*test1*//*test2*/ in the middle of your code? using the first expression?"},{"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"score":0,"creation_date":1559475850,"post_id":2613945,"comment_id":99425581,"body_markdown":"I suggest following the method posted by Prashant Bhate (Structural Search and Replace).","body":"I suggest following the method posted by Prashant Bhate (Structural Search and Replace)."},{"owner":{"account_id":1138870,"reputation":700,"user_id":1123332,"accept_rate":77,"display_name":"Christopher Ambler"},"score":0,"creation_date":1602001384,"post_id":2613945,"comment_id":113578981,"body_markdown":"WARNING: If you have URLs in your code, this will match with the // in the http-colon-slash-slash pattern. If there are only a few, edit them to be http-colon-star or something, replace, and then edit them back. Or if you like regex (and if you do, you&#39;re sick :-)), exclude http-slash-slash itself.","body":"WARNING: If you have URLs in your code, this will match with the // in the http-colon-slash-slash pattern. If there are only a few, edit them to be http-colon-star or something, replace, and then edit them back. Or if you like regex (and if you do, you&#39;re sick :-)), exclude http-slash-slash itself."}],"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":9,"down_vote_count":0,"up_vote_count":108,"is_accepted":true,"score":108,"last_activity_date":1671854633,"creation_date":1270914820,"answer_id":2613945,"question_id":2613432,"body_markdown":"You can use the &quot;Replace&quot; (or &quot;Replace in Path&quot; if you want to remove comments in multiple files) in the regular expression mode and then use this regular expression in the &quot;Text to find&quot; field:\r\n\r\n    (/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/|[ \\t]*//.*)\r\n\r\nand replace it with an empty string. Then press &quot;All&quot; to apply this replacement to the entire file or all the selected files. This will remove all block comments and line comments from your file. If you want only block comments to be removed, use this regex instead:\r\n\r\n    (/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)\r\n\r\nAnd if you want to just remove line comments, you can use this regex:\r\n\r\n    ([ \\t]*//.*)\r\n\r\nHowever, I should warn that this works only %99.99 of times. You might have a string variable defined in your file like:\r\n\r\n    String myStr = &quot;/** I am not a comment */&quot;;\r\n\r\nThis regex will turn this to:\r\n\r\n    String myStr = &quot;&quot;;","title":"Remove source file comments using IntelliJ?","body":"<p>You can use the &quot;Replace&quot; (or &quot;Replace in Path&quot; if you want to remove comments in multiple files) in the regular expression mode and then use this regular expression in the &quot;Text to find&quot; field:</p>\n<pre><code>(/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/|[ \\t]*//.*)\n</code></pre>\n<p>and replace it with an empty string. Then press &quot;All&quot; to apply this replacement to the entire file or all the selected files. This will remove all block comments and line comments from your file. If you want only block comments to be removed, use this regex instead:</p>\n<pre><code>(/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)\n</code></pre>\n<p>And if you want to just remove line comments, you can use this regex:</p>\n<pre><code>([ \\t]*//.*)\n</code></pre>\n<p>However, I should warn that this works only %99.99 of times. You might have a string variable defined in your file like:</p>\n<pre><code>String myStr = &quot;/** I am not a comment */&quot;;\n</code></pre>\n<p>This regex will turn this to:</p>\n<pre><code>String myStr = &quot;&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356706294,"creation_date":1356706294,"answer_id":14071306,"question_id":2613432,"body_markdown":"The Comment Java Preprocessor allows to cut all commentaries from Java sources (the /R option)\r\nhttp://code.google.com/p/java-comment-preprocessor/","title":"Remove source file comments using IntelliJ?","body":"<p>The Comment Java Preprocessor allows to cut all commentaries from Java sources (the /R option)\n<a href=\"http://code.google.com/p/java-comment-preprocessor/\" rel=\"nofollow\">http://code.google.com/p/java-comment-preprocessor/</a></p>\n"},{"comments":[{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1619914596,"post_id":25419985,"comment_id":119047916,"body_markdown":"This is the best one I found so far - I just found that it left blank lines where the `//` were, so I played with it a bit and got this change to the perl bit: `perl -0pe &#39;s#/\\*(.|\\n)*?\\*/##g; s|[^\\S\\r\\n]*//.*?\\n||g; s|//.*?\\n|\\n|g&#39; `","body":"This is the best one I found so far - I just found that it left blank lines where the <code>&#47;&#47;</code> were, so I played with it a bit and got this change to the perl bit: <code>perl -0pe &#39;s#&#47;\\*(.|\\n)*?\\*&#47;##g; s|[^\\S\\r\\n]*&#47;&#47;.*?\\n||g; s|&#47;&#47;.*?\\n|\\n|g&#39; </code>"}],"tags":[],"owner":{"account_id":4920276,"reputation":11,"user_id":3963014,"display_name":"digua"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408605064,"creation_date":1408604026,"answer_id":25419985,"question_id":2613432,"body_markdown":"My solution is:\r\n\r\n    find . -name *.java -type f -exec sh -c &quot;perl -0pe &#39;s#/\\*(.|\\n)*?\\*/##g; s|//.*?\\n|\\n|g&#39; &#39;{}&#39; &gt; temp.java; cat temp.java &gt; {} ; rm temp.java;&quot; \\;","title":"Remove source file comments using IntelliJ?","body":"<p>My solution is:</p>\n\n<pre><code>find . -name *.java -type f -exec sh -c \"perl -0pe 's#/\\*(.|\\n)*?\\*/##g; s|//.*?\\n|\\n|g' '{}' &gt; temp.java; cat temp.java &gt; {} ; rm temp.java;\" \\;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3054981,"reputation":1666,"user_id":2588819,"display_name":"otaviodecampos"},"score":0,"creation_date":1501091990,"post_id":44074706,"comment_id":77630666,"body_markdown":"best answer for me","body":"best answer for me"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1574171889,"post_id":44074706,"comment_id":104130226,"body_markdown":"how do you do with xml comments? I&#39;m trying to add &lt;!-- $CommentContent$ --&gt; but it says is malformed.","body":"how do you do with xml comments? I&#39;m trying to add &lt;!-- $CommentContent$ --&gt; but it says is malformed."},{"owner":{"account_id":4962635,"reputation":399,"user_id":3993203,"accept_rate":33,"display_name":"Chris Smith"},"score":0,"creation_date":1592753528,"post_id":44074706,"comment_id":110531228,"body_markdown":"This worked perfectly except for one instance. Cheers.","body":"This worked perfectly except for one instance. Cheers."},{"owner":{"account_id":2934958,"reputation":725,"user_id":2514137,"accept_rate":70,"display_name":"DevWithSigns"},"score":0,"creation_date":1624828331,"post_id":44074706,"comment_id":120457461,"body_markdown":"best answer. Worked for me really well.","body":"best answer. Worked for me really well."},{"owner":{"account_id":362337,"reputation":6295,"user_id":705471,"accept_rate":94,"display_name":"Axe"},"score":0,"creation_date":1702256317,"post_id":44074706,"comment_id":136870669,"body_markdown":"This ^^. Please make this the accepted answer","body":"This ^^. Please make this the accepted answer"}],"tags":[],"owner":{"account_id":350533,"reputation":10937,"user_id":686478,"accept_rate":59,"display_name":"Prashant Bhate"},"comment_count":5,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1495210818,"creation_date":1495210818,"answer_id":44074706,"question_id":2613432,"body_markdown":"Late to the party but there is [&quot;Structural Search and Replace Dialogs&quot;][1] option that can be used to search different kind of comments and replace them\r\n\r\nGo to Edit =&gt; Find =&gt; Replace Structurally...\r\n\r\n\r\n* Enter one of below in **&quot;Search Template:&quot;** \r\n\r\n**Single line** \r\n\r\n    // $CommentContent$ \r\n\r\n**Multi line**\r\n\r\n    /*\r\n      $CommentContent$ \r\n    */\r\n\r\nJavadoc\r\n\r\n    /**\r\n      $CommentContent$ \r\n    */\r\n\r\n\r\n*  Leave the **&quot;Replacement Template:&quot;** blank\r\n\r\n* Select appropriate **Scope**\r\n\r\n* Click &#39;Find&#39; and then &#39;Replace all&#39;\r\n\r\n* you Should see no more comments\r\n\r\n***Note:** that this might mess up formatting so you will have to reformat affected code*\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2017.1/structural-search-and-replace-dialogs.html\r\n","title":"Remove source file comments using IntelliJ?","body":"<p>Late to the party but there is <a href=\"https://www.jetbrains.com/help/idea/2017.1/structural-search-and-replace-dialogs.html\" rel=\"noreferrer\">\"Structural Search and Replace Dialogs\"</a> option that can be used to search different kind of comments and replace them</p>\n\n<p>Go to Edit => Find => Replace Structurally...</p>\n\n<ul>\n<li>Enter one of below in <strong>\"Search Template:\"</strong> </li>\n</ul>\n\n<p><strong>Single line</strong> </p>\n\n<pre><code>// $CommentContent$ \n</code></pre>\n\n<p><strong>Multi line</strong></p>\n\n<pre><code>/*\n  $CommentContent$ \n*/\n</code></pre>\n\n<p>Javadoc</p>\n\n<pre><code>/**\n  $CommentContent$ \n*/\n</code></pre>\n\n<ul>\n<li><p>Leave the <strong>\"Replacement Template:\"</strong> blank</p></li>\n<li><p>Select appropriate <strong>Scope</strong></p></li>\n<li><p>Click 'Find' and then 'Replace all'</p></li>\n<li><p>you Should see no more comments</p></li>\n</ul>\n\n<p><strong><em>Note:</strong> that this might mess up formatting so you will have to reformat affected code</em></p>\n"},{"comments":[{"owner":{"account_id":7184878,"reputation":1131,"user_id":5487258,"display_name":"Vasili Fedotov"},"score":0,"creation_date":1555240848,"post_id":54275061,"comment_id":98034595,"body_markdown":"This is a really nice solution. one thing to take into account, if you have a comment on the last line of a comment block.\n\n/*  /n\n// comment here  */\n\nyour code can become jumbled.  so be careful with it.\n\nmaybe edit your regex to fit that scenario as well.","body":"This is a really nice solution. one thing to take into account, if you have a comment on the last line of a comment block.  /*  /n // comment here  */  your code can become jumbled.  so be careful with it.  maybe edit your regex to fit that scenario as well."},{"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"score":0,"creation_date":1619323834,"post_id":54275061,"comment_id":118868218,"body_markdown":"In newer versions of IntelliJ, remember to click the `.*` button on the right of the text box to enable Regex mode to use this solution.","body":"In newer versions of IntelliJ, remember to click the <code>.*</code> button on the right of the text box to enable Regex mode to use this solution."}],"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1547976071,"creation_date":1547976071,"answer_id":54275061,"question_id":2613432,"body_markdown":"Press `ctrl + r` and in first textbox type `//.*\\n` and then press **replace all** button. Then reformat the file by `ctrl + alt + l`.","title":"Remove source file comments using IntelliJ?","body":"<p>Press <code>ctrl + r</code> and in first textbox type <code>//.*\\n</code> and then press <strong>replace all</strong> button. Then reformat the file by <code>ctrl + alt + l</code>.</p>\n"},{"comments":[{"owner":{"account_id":378535,"reputation":13462,"user_id":731314,"accept_rate":90,"display_name":"Gary"},"score":0,"creation_date":1600784927,"post_id":64009632,"comment_id":113193638,"body_markdown":"There are a few flaws in this idea.  1. It won&#39;t strip comments in /* this form */. 2. I think the OP is looking to do this for all .java files, not just the currently opened one.  3.  You need to turn on the filter &#39;In Comments&#39;, otherwise you&#39;d blindly replace that pattern everywhere, including strings.  4. This is basically the same answer as Blasanka, almost 2 years prior","body":"There are a few flaws in this idea.  1. It won&#39;t strip comments in /* this form */. 2. I think the OP is looking to do this for all .java files, not just the currently opened one.  3.  You need to turn on the filter &#39;In Comments&#39;, otherwise you&#39;d blindly replace that pattern everywhere, including strings.  4. This is basically the same answer as Blasanka, almost 2 years prior"}],"tags":[],"owner":{"account_id":15578997,"reputation":141,"user_id":11239376,"display_name":"Kaushik Borah"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600777356,"creation_date":1600777356,"answer_id":64009632,"question_id":2613432,"body_markdown":"Press control + r to open replace and replace all box\r\n\r\ntype //.* in first box, keep in second box empty and then select Regex. Select replace or replace all\r\n\r\nThat&#39;s it.\r\n\r\nEnjoy &#128526;","title":"Remove source file comments using IntelliJ?","body":"<p>Press control + r to open replace and replace all box</p>\n<p>type //.* in first box, keep in second box empty and then select Regex. Select replace or replace all</p>\n<p>That's it.</p>\n<p>Enjoy </p>\n"}],"owner":{"account_id":19971,"reputation":55479,"user_id":47281,"accept_rate":83,"display_name":"Marcus Leon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39544,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":2613945,"answer_count":6,"score":48,"last_activity_date":1671854633,"creation_date":1270904359,"question_id":2613432,"body_markdown":"Is there a plugin or tool in IntelliJ that will strip all comments out of your source .java files?  I&#39;ve read about an [ANT task][1] that can do this..  was looking to do the same from within the IDE.  Alternatively a TextPad plugin would work as well..\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/834584/script-to-remove-comments-in-java/834619#834619","title":"Remove source file comments using IntelliJ?","body":"<p>Is there a plugin or tool in IntelliJ that will strip all comments out of your source .java files?  I've read about an <a href=\"https://stackoverflow.com/questions/834584/script-to-remove-comments-in-java/834619#834619\">ANT task</a> that can do this..  was looking to do the same from within the IDE.  Alternatively a TextPad plugin would work as well..</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-rest"],"answers":[{"tags":[],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651836623,"creation_date":1651836623,"answer_id":72140784,"question_id":68835200,"body_markdown":"I am not an expert but I&#39;d like to say something, maybe it can help:\r\n\r\nSpring uses &quot;in the background&quot; a way to retrieve user data for authentication when you activate Spring Security. Of course, this method can be overriden so the developer can change how Spring obtains this data in order to support situations where the data is sparced in different tables, from a file, an API REST query, etc.\r\n\r\nThe authentication data is structured as a list, where each element corresponds to the data used to authenticate each user. This data is structured as a tuple of 3 elements: `String username`, `String hashedPassword` and `boolean isAccountActive`.\r\n\r\n**You need to provide a way to obtain this data for each user**. You do not need to **provide** the data explicitly, just the way (method) to obtain it. One way to do it (as you said) is creating a class that implements UserDetailsService, which, for example, forces you to implement `UserDetails loadUserByUsername(String email);`. In this method you need to provide an instance of a class that implements `UserDetails`, which corresponds to the `UserDetails` of the User with the username passed as a parameter. This methods (and similar) are used by Spring Security &quot;in the background&quot; to retrieve the UserDetails of a certain user when is trying to access your web server. \r\n\r\nIf the Userdetails match with the credentials provided in the request, Spring will allow the request to hit your controllers; else it will throw a HTTP 401. Of course there are other authentication methods, but for the sake of simplicity we understand credentials as user / password with HTTP basic authentication.\r\n\r\nSo, why do we need a class that implements `UserDetails`? Because is the contract that a class needs to fulfill if it has to be used for internal authentication in Spring Security. Also to separate from a `User` class the logic of the business with the logic of the security. Probably creating your own class that extends UserDetails is the best idea, but is not actually necessary. For example if you have your own class to contain the data of a user, you just need to understand how to transform your `User` instance to `UserDetails`, so Spring Security can use it transparently and the opposite: how the `UserDetails` instance can be transformed into one of your users.\r\n\r\nFor example this is a method to obtain the `User` instance using the `UserDetails` instance that is currently authenticated in Spring Boot.\r\n```java\r\n@Service\r\npublic class SecurityServiceClass{\r\n\r\n    @Override\r\n    public User getLoggedUser() {\r\n        String username = ((UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getUsername();\r\n        Optional&lt;User&gt; user = this.userService.get().stream().filter(r -&gt; r.getEmail().equals(username)).findFirst();\r\n\r\n        UserDetails userDetails = ((UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal());\r\n\r\n        // TODO: make error in case of null\r\n        return user.orElse(new User());\r\n    }\r\n}\r\n```\r\nHere I retrieve the `User` by retrieving the username from the `UserDetails` and querying it to the DB to recover the `User`. I am accessing the DB using a repository class.\r\n\r\nHere I do the opposite, transforming a `User` to a `UserDetails` by creating a `Userdetails` instance based on the relevant data of the `User`. (Note that I use the email as username)\r\n\r\n```java\r\n@Service\r\npublic class UserServiceClass extends GenericServiceClass&lt;User, UUID&gt; {\r\n\r\n    @Autowired\r\n    public UserServiceClass(UserRepository userRepository) {\r\n        super(userRepository);\r\n    }\r\n\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; selected = ((UserRepository) this.genericRepository).getUserByEmail(s);\r\n\r\n        if (selected.isPresent())\r\n        {\r\n            // Obtain user by email (username)\r\n            User user = selected.get();\r\n\r\n            // Obtain the roles of this user to construct the instance of UserDetails for SpringBoot Security.\r\n            Set&lt;Role&gt; roles = user.getRoles();\r\n\r\n            return org.springframework.security.core.userdetails.User\r\n                    .withUsername(s)\r\n                    .roles(roles.stream().toArray(\r\n                        (n) -&gt; {\r\n                            return new String[n];\r\n                        }\r\n                    ))\r\n                    .password(user.getHashedPassword())\r\n                    .build();\r\n        }\r\n        else\r\n        {\r\n            throw new UsernameNotFoundException(&quot;The user with email &quot; + s + &quot; is not registered in the database&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nFinally, regarding AuthenticationManagerBuilder: This is a method that is used to configure authentication. As far as I know, you can define how your application should obtain the UserDetails. I am not sure if you can provide a method or a lambda to retrieve the triplet for authentication `String username`, `String hashedPassword` and `boolean isAccountActive`. What I do know and did in my application is provide **the SQL query used to retrieve the triplet from my DB since I have there all that information**. Code:\r\n\r\n```java\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder authenticationBuilder) throws Exception\r\n    {\r\n        Session session = this.sessionFactory.getCurrentSession();\r\n        session.beginTransaction();\r\n\r\n        authenticationBuilder.userDetailsService(this.userDetailsService()).passwordEncoder(this.passwordEncoder()).and()\r\n                .jdbcAuthentication().dataSource(this.dataSource)\r\n                .usersByUsernameQuery(&quot;select email, hashed_password as passw, true from user where email = ?&quot;)\r\n                .authoritiesByUsernameQuery(&quot;SELECT user.email, CONCAT(elementpermission.journal_id, &#39;_&#39;, elementpermission.authority)\\n&quot; +\r\n                        &quot;FROM user, elementpermission\\n&quot; +\r\n                        &quot;WHERE elementpermission.user = user.uuid \\n&quot; +\r\n                        &quot;AND user.email = ?&quot;);\r\n                \r\n        session.getTransaction().commit();\r\n        session.close();\r\n    }\r\n```\r\n\r\n**TL;DR**\r\nSpring Security needs instances that fulfill the contract of the interface UserDetails because is the interface that Spring Security uses to obtain the relevant data for authentication. \r\n\r\nThe authentication manager builder is used to config *how*to obtain the data used for authentication. \r\n\r\nYou can check this links if you want better information:\r\n- https://www.baeldung.com/spring-security-jdbc-authentication\r\n- https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html\r\n- https://stackoverflow.com/questions/51642604/jdbcauthentication-instead-of-inmemoryauthentication-doesnt-give-access-s\r\n","title":"Authentication Manager Builder in Spring Security","body":"<p>I am not an expert but I'd like to say something, maybe it can help:</p>\n<p>Spring uses &quot;in the background&quot; a way to retrieve user data for authentication when you activate Spring Security. Of course, this method can be overriden so the developer can change how Spring obtains this data in order to support situations where the data is sparced in different tables, from a file, an API REST query, etc.</p>\n<p>The authentication data is structured as a list, where each element corresponds to the data used to authenticate each user. This data is structured as a tuple of 3 elements: <code>String username</code>, <code>String hashedPassword</code> and <code>boolean isAccountActive</code>.</p>\n<p><strong>You need to provide a way to obtain this data for each user</strong>. You do not need to <strong>provide</strong> the data explicitly, just the way (method) to obtain it. One way to do it (as you said) is creating a class that implements UserDetailsService, which, for example, forces you to implement <code>UserDetails loadUserByUsername(String email);</code>. In this method you need to provide an instance of a class that implements <code>UserDetails</code>, which corresponds to the <code>UserDetails</code> of the User with the username passed as a parameter. This methods (and similar) are used by Spring Security &quot;in the background&quot; to retrieve the UserDetails of a certain user when is trying to access your web server.</p>\n<p>If the Userdetails match with the credentials provided in the request, Spring will allow the request to hit your controllers; else it will throw a HTTP 401. Of course there are other authentication methods, but for the sake of simplicity we understand credentials as user / password with HTTP basic authentication.</p>\n<p>So, why do we need a class that implements <code>UserDetails</code>? Because is the contract that a class needs to fulfill if it has to be used for internal authentication in Spring Security. Also to separate from a <code>User</code> class the logic of the business with the logic of the security. Probably creating your own class that extends UserDetails is the best idea, but is not actually necessary. For example if you have your own class to contain the data of a user, you just need to understand how to transform your <code>User</code> instance to <code>UserDetails</code>, so Spring Security can use it transparently and the opposite: how the <code>UserDetails</code> instance can be transformed into one of your users.</p>\n<p>For example this is a method to obtain the <code>User</code> instance using the <code>UserDetails</code> instance that is currently authenticated in Spring Boot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class SecurityServiceClass{\n\n    @Override\n    public User getLoggedUser() {\n        String username = ((UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getUsername();\n        Optional&lt;User&gt; user = this.userService.get().stream().filter(r -&gt; r.getEmail().equals(username)).findFirst();\n\n        UserDetails userDetails = ((UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal());\n\n        // TODO: make error in case of null\n        return user.orElse(new User());\n    }\n}\n</code></pre>\n<p>Here I retrieve the <code>User</code> by retrieving the username from the <code>UserDetails</code> and querying it to the DB to recover the <code>User</code>. I am accessing the DB using a repository class.</p>\n<p>Here I do the opposite, transforming a <code>User</code> to a <code>UserDetails</code> by creating a <code>Userdetails</code> instance based on the relevant data of the <code>User</code>. (Note that I use the email as username)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserServiceClass extends GenericServiceClass&lt;User, UUID&gt; {\n\n    @Autowired\n    public UserServiceClass(UserRepository userRepository) {\n        super(userRepository);\n    }\n\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n        Optional&lt;User&gt; selected = ((UserRepository) this.genericRepository).getUserByEmail(s);\n\n        if (selected.isPresent())\n        {\n            // Obtain user by email (username)\n            User user = selected.get();\n\n            // Obtain the roles of this user to construct the instance of UserDetails for SpringBoot Security.\n            Set&lt;Role&gt; roles = user.getRoles();\n\n            return org.springframework.security.core.userdetails.User\n                    .withUsername(s)\n                    .roles(roles.stream().toArray(\n                        (n) -&gt; {\n                            return new String[n];\n                        }\n                    ))\n                    .password(user.getHashedPassword())\n                    .build();\n        }\n        else\n        {\n            throw new UsernameNotFoundException(&quot;The user with email &quot; + s + &quot; is not registered in the database&quot;);\n        }\n    }\n</code></pre>\n<p>Finally, regarding AuthenticationManagerBuilder: This is a method that is used to configure authentication. As far as I know, you can define how your application should obtain the UserDetails. I am not sure if you can provide a method or a lambda to retrieve the triplet for authentication <code>String username</code>, <code>String hashedPassword</code> and <code>boolean isAccountActive</code>. What I do know and did in my application is provide <strong>the SQL query used to retrieve the triplet from my DB since I have there all that information</strong>. Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private DataSource dataSource;\n\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder authenticationBuilder) throws Exception\n    {\n        Session session = this.sessionFactory.getCurrentSession();\n        session.beginTransaction();\n\n        authenticationBuilder.userDetailsService(this.userDetailsService()).passwordEncoder(this.passwordEncoder()).and()\n                .jdbcAuthentication().dataSource(this.dataSource)\n                .usersByUsernameQuery(&quot;select email, hashed_password as passw, true from user where email = ?&quot;)\n                .authoritiesByUsernameQuery(&quot;SELECT user.email, CONCAT(elementpermission.journal_id, '_', elementpermission.authority)\\n&quot; +\n                        &quot;FROM user, elementpermission\\n&quot; +\n                        &quot;WHERE elementpermission.user = user.uuid \\n&quot; +\n                        &quot;AND user.email = ?&quot;);\n                \n        session.getTransaction().commit();\n        session.close();\n    }\n</code></pre>\n<p><strong>TL;DR</strong>\nSpring Security needs instances that fulfill the contract of the interface UserDetails because is the interface that Spring Security uses to obtain the relevant data for authentication.</p>\n<p>The authentication manager builder is used to config <em>how</em>to obtain the data used for authentication.</p>\n<p>You can check this links if you want better information:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/spring-security-jdbc-authentication\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-jdbc-authentication</a></li>\n<li><a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51642604/jdbcauthentication-instead-of-inmemoryauthentication-doesnt-give-access-s\">jdbcAuthentication() instead of inMemoryAuthentication() doesn&#39;t give access - Spring Security and Spring Data JPA</a></li>\n</ul>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671853514,"creation_date":1629300271,"question_id":68835200,"body_markdown":"I was exploring spring security and tried to build a small application wherein I have a an entity name User and a userRepository having a one declared method findByUserName(String userName)\r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    class User {\r\n      @id\r\n      private Long id;\r\n      \r\n      private String userName;\r\n\r\n      private String password;\r\n\r\n    }\r\n\r\nI have heard that spring security depends on principles and not users.\r\nSo we have to have a class which implements `UserDetails` (provided by spring security).\r\n\r\nWhat&#39;s the reason behind this?\r\n\r\nSecondly, once we have written all this code we need to configure it into a class which I have done as shown below:\r\n\r\n    public class AppSecurityConfid extends WebSecurityCongigurerAdapter {\r\n      // here we have to autowire the service class which we have made to call the \r\n         userRepository and find the user based on userName\r\n\r\n      @Bean\r\n      public DAOAuthenicationProvider authenicationProvider() {\r\n          // wherein we create an instance and pass the autowired instance and set the \r\n             password encoder and return the instance\r\n\r\n      }\r\n\r\n       protected void configurer(AuthenticationManagerBuilder auth) {\r\n           auth.authenticationProvider(authenticationProvider());\r\n       }\r\n\r\n    } \r\n\r\n\r\nThings up to here make sense, but why we need Authentication Build Manager in this scheme of things?","title":"Authentication Manager Builder in Spring Security","body":"<p>I was exploring spring security and tried to build a small application wherein I have a an entity name User and a userRepository having a one declared method findByUserName(String userName)</p>\n<pre><code>@Entity\n@Table(name=&quot;user&quot;)\nclass User {\n  @id\n  private Long id;\n  \n  private String userName;\n\n  private String password;\n\n}\n</code></pre>\n<p>I have heard that spring security depends on principles and not users.\nSo we have to have a class which implements <code>UserDetails</code> (provided by spring security).</p>\n<p>What's the reason behind this?</p>\n<p>Secondly, once we have written all this code we need to configure it into a class which I have done as shown below:</p>\n<pre><code>public class AppSecurityConfid extends WebSecurityCongigurerAdapter {\n  // here we have to autowire the service class which we have made to call the \n     userRepository and find the user based on userName\n\n  @Bean\n  public DAOAuthenicationProvider authenicationProvider() {\n      // wherein we create an instance and pass the autowired instance and set the \n         password encoder and return the instance\n\n  }\n\n   protected void configurer(AuthenticationManagerBuilder auth) {\n       auth.authenticationProvider(authenticationProvider());\n   }\n\n} \n</code></pre>\n<p>Things up to here make sense, but why we need Authentication Build Manager in this scheme of things?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":55219,"reputation":58950,"user_id":165297,"accept_rate":75,"display_name":"Amarghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1257500279,"creation_date":1257500279,"answer_id":1686489,"question_id":1686425,"body_markdown":"You are not initializing the local 2D array.\r\n\r\n    int[][] myInt = new int[matrix.length][];\r\n    for(int i = 0; i &lt; matrix.length; i++)\r\n    {\r\n      myInt[i] = new int[matrix[i].length];\r\n      for (int j = 0; j &lt; matrix[i].length; j++)\r\n      {\r\n        myInt[i][j] = matrix[i][j];\r\n      }\r\n    }\r\n\r\n","title":"copy a 2d array in java","body":"<p>You are not initializing the local 2D array.</p>\n\n<pre><code>int[][] myInt = new int[matrix.length][];\nfor(int i = 0; i &lt; matrix.length; i++)\n{\n  myInt[i] = new int[matrix[i].length];\n  for (int j = 0; j &lt; matrix[i].length; j++)\n  {\n    myInt[i][j] = matrix[i][j];\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":7,"creation_date":1257504021,"post_id":1686523,"comment_id":1561317,"body_markdown":"Arrays.copyOf() also can be used","body":"Arrays.copyOf() also can be used"},{"owner":{"account_id":58854,"reputation":25269,"user_id":176180,"accept_rate":72,"display_name":"NawaMan"},"score":3,"creation_date":1257505530,"post_id":1686523,"comment_id":1561454,"body_markdown":"Pete is right. But Arrays.copyOf() makes use of System.arraycopy() with an over head for the assumption that the length of the result might not be the same as the original. In this case we know for sure the size of the result, so it is much more efficient to use clone() and System.arraycopy() as they are native. Nonetheless, Arrays.copyOf() can be use too.","body":"Pete is right. But Arrays.copyOf() makes use of System.arraycopy() with an over head for the assumption that the length of the result might not be the same as the original. In this case we know for sure the size of the result, so it is much more efficient to use clone() and System.arraycopy() as they are native. Nonetheless, Arrays.copyOf() can be use too."},{"owner":{"account_id":2846759,"reputation":3710,"user_id":2444921,"accept_rate":50,"display_name":"Sachin Verma"},"score":2,"creation_date":1519648050,"post_id":1686523,"comment_id":84981600,"body_markdown":"@PeteKirkham Arrays.copyOf() does not deep copy a 2d matrix. It just refers same 2nd dimension arrays.","body":"@PeteKirkham Arrays.copyOf() does not deep copy a 2d matrix. It just refers same 2nd dimension arrays."},{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":1,"creation_date":1519653501,"post_id":1686523,"comment_id":84984952,"body_markdown":"@SachinVerma yes. Rather than doing the new and then arraycopy in the second example, you make one library call that does both.","body":"@SachinVerma yes. Rather than doing the new and then arraycopy in the second example, you make one library call that does both."}],"tags":[],"owner":{"account_id":58854,"reputation":25269,"user_id":176180,"accept_rate":72,"display_name":"NawaMan"},"comment_count":4,"down_vote_count":0,"up_vote_count":103,"is_accepted":false,"score":103,"last_activity_date":1671853246,"creation_date":1257500790,"answer_id":1686523,"question_id":1686425,"body_markdown":"There are two good ways to copy array is to use clone and `System.arraycopy()`.\r\n\r\nHere is how to use clone for 2D case:\r\n\r\n    int [][] myInt = new int[matrix.length][];\r\n    for(int i = 0; i &lt; matrix.length; i++)\r\n        myInt[i] = matrix[i].clone();\r\n\r\nFor System.arraycopy(), you use:\r\n\r\n    int [][] myInt = new int[matrix.length][];\r\n    for(int i = 0; i &lt; matrix.length; i++)\r\n    {\r\n      int[] aMatrix = matrix[i];\r\n      int   aLength = aMatrix.length;\r\n      myInt[i] = new int[aLength];\r\n      System.arraycopy(aMatrix, 0, myInt[i], 0, aLength);\r\n    }\r\n\r\nI don&#39;t have a benchmark but I can bet with my &lt;i&gt;2 cents&lt;/i&gt; that they are faster and &lt;b&gt;less mistake-prone&lt;/b&gt; than doing it yourself. Especially, `System.arraycopy()` as it is implemented in native code.","title":"copy a 2d array in java","body":"<p>There are two good ways to copy array is to use clone and <code>System.arraycopy()</code>.</p>\n<p>Here is how to use clone for 2D case:</p>\n<pre><code>int [][] myInt = new int[matrix.length][];\nfor(int i = 0; i &lt; matrix.length; i++)\n    myInt[i] = matrix[i].clone();\n</code></pre>\n<p>For System.arraycopy(), you use:</p>\n<pre><code>int [][] myInt = new int[matrix.length][];\nfor(int i = 0; i &lt; matrix.length; i++)\n{\n  int[] aMatrix = matrix[i];\n  int   aLength = aMatrix.length;\n  myInt[i] = new int[aLength];\n  System.arraycopy(aMatrix, 0, myInt[i], 0, aLength);\n}\n</code></pre>\n<p>I don't have a benchmark but I can bet with my <i>2 cents</i> that they are faster and <b>less mistake-prone</b> than doing it yourself. Especially, <code>System.arraycopy()</code> as it is implemented in native code.</p>\n"},{"comments":[{"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"score":11,"creation_date":1257503941,"post_id":1686599,"comment_id":1561310,"body_markdown":"That will create a matrix which shares the row arrays as the original","body":"That will create a matrix which shares the row arrays as the original"}],"tags":[],"owner":{"account_id":58610,"reputation":5815,"user_id":175422,"display_name":"valli"},"comment_count":1,"down_vote_count":20,"up_vote_count":5,"is_accepted":false,"score":-15,"last_activity_date":1257501967,"creation_date":1257501967,"answer_id":1686599,"question_id":1686425,"body_markdown":"you can code like this also\r\nmyInt = matrix.clone(); ","title":"copy a 2d array in java","body":"<p>you can code like this also\nmyInt = matrix.clone(); </p>\n"},{"comments":[{"owner":{"account_id":354906,"reputation":2523,"user_id":693538,"display_name":"NIA"},"score":17,"creation_date":1475495712,"post_id":27357042,"comment_id":66951398,"body_markdown":"For one-liner - collapse all lambdas to method references  `Arrays.stream(data).map(int[]::clone).toArray(int[][]::new);` But please note that for huge arrays native System.arraycopy should be (probably?) faster, unless you `parallel()` your stream.","body":"For one-liner - collapse all lambdas to method references  <code>Arrays.stream(data).map(int[]::clone).toArray(int[][]::new);</code> But please note that for huge arrays native System.arraycopy should be (probably?) faster, unless you <code>parallel()</code> your stream."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":2,"creation_date":1615060197,"post_id":27357042,"comment_id":117577034,"body_markdown":"@NIA  `clone()` is essentially identical to `System.arraycopy()` in speed on the oracle jvm: both are native methods . Your code is the best i&#39;ve seen in all of the answers and comments.","body":"@NIA  <code>clone()</code> is essentially identical to <code>System.arraycopy()</code> in speed on the oracle jvm: both are native methods . Your code is the best i&#39;ve seen in all of the answers and comments."}],"tags":[],"owner":{"account_id":2075991,"reputation":467,"user_id":1849323,"display_name":"NickF"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1418038242,"creation_date":1418038242,"answer_id":27357042,"question_id":1686425,"body_markdown":"It is possible to use streams in Java 8 to copy a 2D array.\r\n\r\n    @Test\r\n    public void testCopy2DArray() {\r\n       int[][] data = {{1, 2}, {3, 4}};\r\n       int[][] dataCopy = Arrays.stream(data)\r\n                 .map((int[] row) -&gt; row.clone())\r\n                 .toArray((int length) -&gt; new int[length][]);\r\n\r\n       assertNotSame(data, dataCopy);\r\n       assertNotSame(data[0], dataCopy[0]);\r\n       assertNotSame(data[1], dataCopy[1]);\r\n    \r\n       dataCopy[0][1] = 5;\r\n       assertEquals(2, data[0][1]);\r\n       assertEquals(5, dataCopy[0][1]);\r\n    }\r\n","title":"copy a 2d array in java","body":"<p>It is possible to use streams in Java 8 to copy a 2D array.</p>\n\n<pre><code>@Test\npublic void testCopy2DArray() {\n   int[][] data = {{1, 2}, {3, 4}};\n   int[][] dataCopy = Arrays.stream(data)\n             .map((int[] row) -&gt; row.clone())\n             .toArray((int length) -&gt; new int[length][]);\n\n   assertNotSame(data, dataCopy);\n   assertNotSame(data[0], dataCopy[0]);\n   assertNotSame(data[1], dataCopy[1]);\n\n   dataCopy[0][1] = 5;\n   assertEquals(2, data[0][1]);\n   assertEquals(5, dataCopy[0][1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615059302,"creation_date":1615059302,"answer_id":66509874,"question_id":1686425,"body_markdown":"If the data is large you should consider using a proper linear algebra library like `colt` or `nd4j`.  `System.arraycopy` will likely only be meaningfully faster if the array were single dimensional.  Otherwise it can not copy the entire data as one unit and then reshape it as in numpy or R. ","title":"copy a 2d array in java","body":"<p>If the data is large you should consider using a proper linear algebra library like <code>colt</code> or <code>nd4j</code>.  <code>System.arraycopy</code> will likely only be meaningfully faster if the array were single dimensional.  Otherwise it can not copy the entire data as one unit and then reshape it as in numpy or R.</p>\n"}],"owner":{"account_id":569939,"reputation":661,"user_id":204641,"display_name":"roberto duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133136,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":5,"score":66,"last_activity_date":1671853246,"creation_date":1257499313,"question_id":1686425,"body_markdown":"i have a 2d array called matrix of type int that i want to copy to a local variable in a method so i can edit it \r\n\r\nwhats the best way to copy the array, i am having some troubles\r\n\r\nfor example\r\n\r\n        int [][] myInt;\r\n        for(int i = 0; i&lt; matrix.length; i++){\r\n            for (int j = 0; j &lt; matrix[i].length; j++){\r\n                myInt[i][j] = matrix[i][j];\r\n            }\r\n        }\r\n              \r\n        //do some stuff here\r\n        return true;\r\n    }","title":"copy a 2d array in java","body":"<p>i have a 2d array called matrix of type int that i want to copy to a local variable in a method so i can edit it </p>\n\n<p>whats the best way to copy the array, i am having some troubles</p>\n\n<p>for example</p>\n\n<pre><code>    int [][] myInt;\n    for(int i = 0; i&lt; matrix.length; i++){\n        for (int j = 0; j &lt; matrix[i].length; j++){\n            myInt[i][j] = matrix[i][j];\n        }\n    }\n\n    //do some stuff here\n    return true;\n}\n</code></pre>\n"},{"tags":["java","swagger-ui","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1629904259,"post_id":68714458,"comment_id":121811755,"body_markdown":"Can you share the exact config that you have for Springdoc? Including the beans you might have declared to integrate Springdoc","body":"Can you share the exact config that you have for Springdoc? Including the beans you might have declared to integrate Springdoc"}],"answers":[{"tags":[],"owner":{"account_id":1151396,"reputation":4281,"user_id":1133021,"accept_rate":70,"display_name":"brianbro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640550179,"creation_date":1640550179,"answer_id":70489585,"question_id":68714458,"body_markdown":"SwaggerUiHome is only invoked if you define: `springdoc.swagger-ui.use-root-path=true`\r\n\r\nTo disable it: `springdoc.swagger-ui.use-root-path=false`\r\n\r\nNote that default path of the swagger-ui is not the root path, but: `http://server:port/context-path/swagger-ui.html`\r\n\r\n","title":"How to configure springdoc ui without mapping the root path?","body":"<p>SwaggerUiHome is only invoked if you define: <code>springdoc.swagger-ui.use-root-path=true</code></p>\n<p>To disable it: <code>springdoc.swagger-ui.use-root-path=false</code></p>\n<p>Note that default path of the swagger-ui is not the root path, but: <code>http://server:port/context-path/swagger-ui.html</code></p>\n"},{"tags":[],"owner":{"account_id":6584445,"reputation":481,"user_id":5087625,"display_name":"Kevin Khew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671851263,"creation_date":1671851263,"answer_id":74905371,"question_id":68714458,"body_markdown":"I&#39;m getting this error if using regular spring framework (not using spring-boot). After dig into the source `/springdoc-openapi-starter-webmvc-ui-2.0.2.jar/org.springdoc.webmvc.ui/SwaggerConfig.class`\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean\r\n    @ConditionalOnProperty(name = SPRINGDOC_USE_ROOT_PATH, havingValue = &quot;true&quot;)\r\n    @Lazy(false)\r\n    SwaggerUiHome swaggerUiHome() {\r\n        return new SwaggerUiHome();\r\n    }\r\n\r\nFound that `String SPRINGDOC_USE_ROOT_PATH = &quot;springdoc.swagger-ui.use-root-path&quot;`. I guess there maybe a bug that this property is not working for `springdoc.swagger-ui.use-root-path=false`\r\n\r\nHere is my working solution after reading [https://www.baeldung.com/spring-requestmapping#4-ambiguous-mapping-error][1]\r\n\r\n    @GetMapping(value = &quot;/&quot;, produces = MediaType.TEXT_HTML_VALUE)\r\n    public String index() {\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-requestmapping#4-ambiguous-mapping-error","title":"How to configure springdoc ui without mapping the root path?","body":"<p>I'm getting this error if using regular spring framework (not using spring-boot). After dig into the source <code>/springdoc-openapi-starter-webmvc-ui-2.0.2.jar/org.springdoc.webmvc.ui/SwaggerConfig.class</code></p>\n<pre><code>@Bean\n@ConditionalOnMissingBean\n@ConditionalOnProperty(name = SPRINGDOC_USE_ROOT_PATH, havingValue = &quot;true&quot;)\n@Lazy(false)\nSwaggerUiHome swaggerUiHome() {\n    return new SwaggerUiHome();\n}\n</code></pre>\n<p>Found that <code>String SPRINGDOC_USE_ROOT_PATH = &quot;springdoc.swagger-ui.use-root-path&quot;</code>. I guess there maybe a bug that this property is not working for <code>springdoc.swagger-ui.use-root-path=false</code></p>\n<p>Here is my working solution after reading <a href=\"https://www.baeldung.com/spring-requestmapping#4-ambiguous-mapping-error\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-requestmapping#4-ambiguous-mapping-error</a></p>\n<pre><code>@GetMapping(value = &quot;/&quot;, produces = MediaType.TEXT_HTML_VALUE)\npublic String index() {\n    return &quot;home&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":5010771,"reputation":319,"user_id":4087306,"accept_rate":29,"display_name":"binarylegit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3266,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1671851263,"creation_date":1628521950,"question_id":68714458,"body_markdown":"I&#39;m trying to configure springdoc-openapi-ui in a spring web app (non-springboot). In my application I have a controller that is mapped to &quot;/&quot; which conflicts with the Springdoc SwaggerUiHome Controller.  I get an error similar to this:\r\n\r\n&gt; java.lang.IllegalStateException: Ambiguous mapping. Cannot map &#39;swaggerUiHome&#39; method &#39;org.springdoc.webmvc.ui.SwaggerUiHome#index() to {GET [/]}: There is already &#39;loginLogoutController&#39; bean method com.company.MyController#method() mapped.\r\n\r\nIf I disable my controller which is mapped to &#39;/&#39; then the swagger UI comes up as expected. However, I need to have my controller running in order for my web app to work.\r\nEven if I set &#39;springdoc.swagger-ui.use-root-path=false&#39; (which should be the default anyway) it is still causing an ambiguous mapping error.\r\n\r\nIs there any way around this?  Any way to disable the default mapping of the SwaggerUiHome.index() to &#39;/&#39;?","title":"How to configure springdoc ui without mapping the root path?","body":"<p>I'm trying to configure springdoc-openapi-ui in a spring web app (non-springboot). In my application I have a controller that is mapped to &quot;/&quot; which conflicts with the Springdoc SwaggerUiHome Controller.  I get an error similar to this:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'swaggerUiHome' method 'org.springdoc.webmvc.ui.SwaggerUiHome#index() to {GET [/]}: There is already 'loginLogoutController' bean method com.company.MyController#method() mapped.</p>\n</blockquote>\n<p>If I disable my controller which is mapped to '/' then the swagger UI comes up as expected. However, I need to have my controller running in order for my web app to work.\nEven if I set 'springdoc.swagger-ui.use-root-path=false' (which should be the default anyway) it is still causing an ambiguous mapping error.</p>\n<p>Is there any way around this?  Any way to disable the default mapping of the SwaggerUiHome.index() to '/'?</p>\n"},{"tags":["java","mysql","hibernate","jpa","groovy"],"answers":[{"comments":[{"owner":{"account_id":10865671,"reputation":586,"user_id":7989121,"display_name":"brat"},"score":0,"creation_date":1661526501,"post_id":306825,"comment_id":129800523,"body_markdown":"Eclipse complains: Attribute &quot;value&quot; must be declared for element type &quot;property&quot;. when adding this property in config file","body":"Eclipse complains: Attribute &quot;value&quot; must be declared for element type &quot;property&quot;. when adding this property in config file"},{"owner":{"account_id":7862,"reputation":14582,"user_id":13824,"accept_rate":83,"display_name":"billjamesdev"},"score":0,"creation_date":1661570867,"post_id":306825,"comment_id":129809542,"body_markdown":"I suppose things could&#39;ve changed in the 14 years since I answered this, but 83 up-votes makes me think I got it right.","body":"I suppose things could&#39;ve changed in the 14 years since I answered this, but 83 up-votes makes me think I got it right."},{"owner":{"account_id":10865671,"reputation":586,"user_id":7989121,"display_name":"brat"},"score":0,"creation_date":1661699581,"post_id":306825,"comment_id":129829005,"body_markdown":"Totally. Was just hoping someone might comment with updated answer. Asking new question will probably just get flagged as duplicate to this one xD.","body":"Totally. Was just hoping someone might comment with updated answer. Asking new question will probably just get flagged as duplicate to this one xD."}],"tags":[],"owner":{"account_id":7862,"reputation":14582,"user_id":13824,"accept_rate":83,"display_name":"billjamesdev"},"comment_count":3,"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1576179487,"creation_date":1227214273,"answer_id":306825,"question_id":306806,"body_markdown":"You might try changing this line in your persistence.xml from\r\n\r\n    &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n\r\nto:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n\r\nThis is supposed to maintain the schema to follow any changes you make to the Model each time you run the app.\r\n\r\nGot this from [JavaRanch][1]\r\n\r\n\r\n  [1]: https://coderanch.com/forums/search/search/-1?match_type=all&amp;sort_by=time&amp;q=hibernate.hbm2ddl.auto&amp;groupByTopic=true","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>You might try changing this line in your persistence.xml from</p>\n\n<pre><code>&lt;property name=\"hbm2ddl.auto\" value=\"create\"/&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n</code></pre>\n\n<p>This is supposed to maintain the schema to follow any changes you make to the Model each time you run the app.</p>\n\n<p>Got this from <a href=\"https://coderanch.com/forums/search/search/-1?match_type=all&amp;sort_by=time&amp;q=hibernate.hbm2ddl.auto&amp;groupByTopic=true\" rel=\"noreferrer\">JavaRanch</a></p>\n"},{"comments":[{"owner":{"account_id":10052,"reputation":14318,"user_id":18811,"accept_rate":93,"display_name":"Jason Miesionczek"},"score":13,"creation_date":1227216968,"post_id":306875,"comment_id":150738,"body_markdown":"It was the missing &#39;hibernate&#39; at the beginning of the hbm2dll.auto. thanks!","body":"It was the missing &#39;hibernate&#39; at the beginning of the hbm2dll.auto. thanks!"},{"owner":{"account_id":4871146,"reputation":1039,"user_id":3927621,"accept_rate":90,"display_name":"sguan"},"score":0,"creation_date":1444706710,"post_id":306875,"comment_id":54002999,"body_markdown":"I just removed that line and it won&#39;t drop the table. Hope this helps!","body":"I just removed that line and it won&#39;t drop the table. Hope this helps!"},{"owner":{"account_id":2678316,"reputation":198,"user_id":2314166,"accept_rate":100,"display_name":"Aman Nagarkoti"},"score":1,"creation_date":1487218622,"post_id":306875,"comment_id":71686582,"body_markdown":"how can I make hibernate to create tables only if they didn&#39;t exists?","body":"how can I make hibernate to create tables only if they didn&#39;t exists?"},{"owner":{"account_id":8220465,"reputation":53,"user_id":6185185,"display_name":"Tarol"},"score":0,"creation_date":1675834200,"post_id":306875,"comment_id":133011202,"body_markdown":"it was the missing `javax.peristence.Table` for me, thanks","body":"it was the missing <code>javax.peristence.Table</code> for me, thanks"}],"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":4,"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1671850974,"creation_date":1227215805,"answer_id":306875,"question_id":306806,"body_markdown":"I don&#39;t know if leaving `hibernate` off the front makes a difference.\r\n\r\nThe [reference](http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html#configuration-misc-properties) suggests it should be `hibernate.hbm2ddl.auto`\r\n\r\nA value of `create` will create your tables at sessionFactory creation, and leave them intact.\r\n\r\nA value of `create-drop` will create your tables, and then drop them when you close the sessionFactory.\r\n\r\nPerhaps you should set the [`javax.persistence.Table`](http://java.sun.com/javaee/5/docs/api/javax/persistence/Table.html) annotation explicitly?","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>I don't know if leaving <code>hibernate</code> off the front makes a difference.</p>\n<p>The <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/session-configuration.html#configuration-misc-properties\" rel=\"nofollow noreferrer\">reference</a> suggests it should be <code>hibernate.hbm2ddl.auto</code></p>\n<p>A value of <code>create</code> will create your tables at sessionFactory creation, and leave them intact.</p>\n<p>A value of <code>create-drop</code> will create your tables, and then drop them when you close the sessionFactory.</p>\n<p>Perhaps you should set the <a href=\"http://java.sun.com/javaee/5/docs/api/javax/persistence/Table.html\" rel=\"nofollow noreferrer\"><code>javax.persistence.Table</code></a> annotation explicitly?</p>\n"},{"tags":[],"owner":{"account_id":423384,"reputation":453,"user_id":802740,"accept_rate":52,"display_name":"Harbir"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1369870086,"creation_date":1369870086,"answer_id":16825571,"question_id":306806,"body_markdown":"Sometimes depending on how the configuration is set, the long form and the short form of the property tag can also make the difference.\r\n\r\ne.g. if you have it like:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n\r\n\r\ntry changing it to:\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>Sometimes depending on how the configuration is set, the long form and the short form of the property tag can also make the difference.</p>\n\n<p>e.g. if you have it like:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\"/&gt;\n</code></pre>\n\n<p>try changing it to:</p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245560,"reputation":958,"user_id":1207102,"accept_rate":40,"display_name":"thorinkor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463665497,"creation_date":1463665497,"answer_id":37325142,"question_id":306806,"body_markdown":"There is one very important detail, than can possibly stop your hibernate from generating tables (assuming You already have set the `hibernate.hbm2ddl.auto`). You will also need the `@Table` annotation! \r\n\r\n    @Entity\r\n    @Table(name = &quot;test_entity&quot;)\r\n        public class TestEntity {\r\n    }\r\n\r\nIt has already helped in my case at least 3 times - still cannot remember it ;)\r\n\r\nPS. Read the hibernate docs - in most cases You will probably not want to set `hibernate.hbm2ddl.auto` to `create-drop`, because it deletes Your tables after stopping the app.","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>There is one very important detail, than can possibly stop your hibernate from generating tables (assuming You already have set the <code>hibernate.hbm2ddl.auto</code>). You will also need the <code>@Table</code> annotation! </p>\n\n<pre><code>@Entity\n@Table(name = \"test_entity\")\n    public class TestEntity {\n}\n</code></pre>\n\n<p>It has already helped in my case at least 3 times - still cannot remember it ;)</p>\n\n<p>PS. Read the hibernate docs - in most cases You will probably not want to set <code>hibernate.hbm2ddl.auto</code> to <code>create-drop</code>, because it deletes Your tables after stopping the app.</p>\n"},{"tags":[],"owner":{"account_id":8282620,"reputation":1,"user_id":6226786,"display_name":"Yusuf Aksun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492237035,"creation_date":1492237035,"answer_id":43422897,"question_id":306806,"body_markdown":"In applicationContext.xml file:\r\n\r\n    &lt;bean id=&quot;entityManagerFactoryBean&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n          &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n          &lt;!-- This makes /META-INF/persistence.xml is no longer necessary --&gt;\r\n          &lt;property name=&quot;packagesToScan&quot; value=&quot;com.howtodoinjava.demo.model&quot; /&gt;\r\n          &lt;!-- JpaVendorAdapter implementation for Hibernate EntityManager.\r\n          \t   Exposes Hibernate&#39;s persistence provider and EntityManager extension interface --&gt;\r\n          &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n             &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n          &lt;/property&gt;\r\n          &lt;property name=&quot;jpaProperties&quot;&gt;\r\n             &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\r\n             &lt;/props&gt;\r\n          &lt;/property&gt;\r\n       &lt;/bean&gt;","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>In applicationContext.xml file:</p>\n\n<pre><code>&lt;bean id=\"entityManagerFactoryBean\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n      &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n      &lt;!-- This makes /META-INF/persistence.xml is no longer necessary --&gt;\n      &lt;property name=\"packagesToScan\" value=\"com.howtodoinjava.demo.model\" /&gt;\n      &lt;!-- JpaVendorAdapter implementation for Hibernate EntityManager.\n           Exposes Hibernate's persistence provider and EntityManager extension interface --&gt;\n      &lt;property name=\"jpaVendorAdapter\"&gt;\n         &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n      &lt;/property&gt;\n      &lt;property name=\"jpaProperties\"&gt;\n         &lt;props&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/prop&gt;\n         &lt;/props&gt;\n      &lt;/property&gt;\n   &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890236,"reputation":1523,"user_id":5294016,"display_name":"DevDio"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1512925332,"creation_date":1512925332,"answer_id":47741227,"question_id":306806,"body_markdown":"In my case table was not created for the first time without last property listed below:\r\n\r\n    &lt;properties&gt;\r\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create-drop&quot;/&gt;\r\n        &lt;!-- without below table was not created --&gt;\r\n        &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot; /&gt;\r\n    &lt;/properties&gt;\r\n\r\nused Wildfly&#39;s in-memory H2 database","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>In my case table was not created for the first time without last property listed below:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;property name=\"hibernate.archive.autodetection\" value=\"class\"/&gt;\n    &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n    &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;\n    &lt;property name=\"hbm2ddl.auto\" value=\"create-drop\"/&gt;\n    &lt;!-- without below table was not created --&gt;\n    &lt;property name=\"javax.persistence.schema-generation.database.action\" value=\"drop-and-create\" /&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>used Wildfly's in-memory H2 database</p>\n"},{"tags":[],"owner":{"account_id":15332332,"reputation":154,"user_id":11061705,"display_name":"AbsoluteDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568804226,"creation_date":1568804226,"answer_id":57991150,"question_id":306806,"body_markdown":"In support to @thorinkor&#39;s answer I would extend my answer to use not only @Table (name = &quot;table_name&quot;) annotation for entity, but also every child variable of entity class should be annotated with @Column(name = &quot;col_name&quot;). This results into seamless updation to the table on the go.\r\n\r\nFor those who are looking for a Java class based hibernate config, the rule applies in java based configurations also(NewHibernateUtil). Hope it helps someone else.","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>In support to @thorinkor's answer I would extend my answer to use not only @Table (name = \"table_name\") annotation for entity, but also every child variable of entity class should be annotated with @Column(name = \"col_name\"). This results into seamless updation to the table on the go.</p>\n\n<p>For those who are looking for a Java class based hibernate config, the rule applies in java based configurations also(NewHibernateUtil). Hope it helps someone else.</p>\n"},{"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1631113450,"post_id":69098659,"comment_id":122137420,"body_markdown":"This solution has already been proposed in other answers to this question.","body":"This solution has already been proposed in other answers to this question."}],"tags":[],"owner":{"account_id":15960027,"reputation":31,"user_id":11517372,"display_name":"Rizwan Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631085868,"creation_date":1631085868,"answer_id":69098659,"question_id":306806,"body_markdown":" 1. TO CREATING TABLE AUTOMATIC , NO CONNECTION WITH ANNOTATIONS \r\n 2. FOR THAT WE NEED TO CHANGE &quot;hibernate.cfg.xml&quot; as like.\r\n\r\n```\r\n &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \r\n``` ","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<ol>\n<li>TO CREATING TABLE AUTOMATIC , NO CONNECTION WITH ANNOTATIONS</li>\n<li>FOR THAT WE NEED TO CHANGE &quot;hibernate.cfg.xml&quot; as like.</li>\n</ol>\n<pre><code> &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \n</code></pre>\n"}],"owner":{"account_id":10052,"reputation":14318,"user_id":18811,"accept_rate":93,"display_name":"Jason Miesionczek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424250,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"accepted_answer_id":306875,"answer_count":8,"score":107,"last_activity_date":1671850974,"creation_date":1227213925,"question_id":306806,"body_markdown":"I have the following entity class (in Groovy):\r\n\r\n    import javax.persistence.Entity\r\n    import javax.persistence.Id\r\n    import javax.persistence.GeneratedValue\r\n    import javax.persistence.GenerationType\r\n\r\n    @Entity\r\n    public class ServerNode {\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      Long id\r\n\r\n      String firstName\r\n      String lastName\r\n\r\n    }\r\n\r\nand my persistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;1.0&quot;&gt;\r\n        &lt;persistence-unit name=&quot;NewPersistenceUnit&quot;&gt;\r\n            &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/Icarus&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;root&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n                &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n            &lt;/properties&gt;\r\n            &lt;class&gt;net.interaxia.icarus.data.models.ServerNode&lt;/class&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nand the script:\r\n\r\n    import javax.persistence.EntityManager\r\n    import javax.persistence.EntityManagerFactory\r\n    import javax.persistence.Persistence\r\n    import net.interaxia.icarus.data.models.ServerNode\r\n    \r\n    def factory = Persistence.createEntityManagerFactory(&quot;NewPersistenceUnit&quot;)\r\n    def manager = factory.createEntityManager()\r\n    \r\n    manager.getTransaction().begin()\r\n    \r\n    manager.persist new ServerNode(firstName: &quot;Test&quot;, lastName: &quot;Server&quot;)\r\n    \r\n    manager.getTransaction().commit()\r\n\r\n\r\nthe database _Icarus_ exists, but currently has no tables. I would like Hibernate to automatically create and/or update the tables based on the entity classes. How would I accomplish this?","title":"Hibernate: Automatically creating/updating the db tables based on entity classes","body":"<p>I have the following entity class (in Groovy):</p>\n\n<pre><code>import javax.persistence.Entity\nimport javax.persistence.Id\nimport javax.persistence.GeneratedValue\nimport javax.persistence.GenerationType\n\n@Entity\npublic class ServerNode {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  Long id\n\n  String firstName\n  String lastName\n\n}\n</code></pre>\n\n<p>and my persistence.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"1.0\"&gt;\n    &lt;persistence-unit name=\"NewPersistenceUnit\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost:3306/Icarus\"/&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"root\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"\"/&gt;\n            &lt;property name=\"hibernate.archive.autodetection\" value=\"class\"/&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hbm2ddl.auto\" value=\"create\"/&gt;\n        &lt;/properties&gt;\n        &lt;class&gt;net.interaxia.icarus.data.models.ServerNode&lt;/class&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>and the script:</p>\n\n<pre><code>import javax.persistence.EntityManager\nimport javax.persistence.EntityManagerFactory\nimport javax.persistence.Persistence\nimport net.interaxia.icarus.data.models.ServerNode\n\ndef factory = Persistence.createEntityManagerFactory(\"NewPersistenceUnit\")\ndef manager = factory.createEntityManager()\n\nmanager.getTransaction().begin()\n\nmanager.persist new ServerNode(firstName: \"Test\", lastName: \"Server\")\n\nmanager.getTransaction().commit()\n</code></pre>\n\n<p>the database <em>Icarus</em> exists, but currently has no tables. I would like Hibernate to automatically create and/or update the tables based on the entity classes. How would I accomplish this?</p>\n"},{"tags":["java","google-chrome","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":7995311,"reputation":671,"user_id":6031829,"display_name":"maharaja"},"score":2,"creation_date":1518111475,"post_id":48665237,"comment_id":84381347,"body_markdown":"Thanks! It worked. Updated the chrome driver to 2.35","body":"Thanks! It worked. Updated the chrome driver to 2.35"},{"owner":{"account_id":153165,"reputation":5541,"user_id":368220,"accept_rate":57,"display_name":"Martijn"},"score":0,"creation_date":1518125963,"post_id":48665237,"comment_id":84389038,"body_markdown":"You&#39;re welcome. If the answer solves your problem, it&#39;s customary to mark it as &quot;accepted answer&quot;.","body":"You&#39;re welcome. If the answer solves your problem, it&#39;s customary to mark it as &quot;accepted answer&quot;."},{"owner":{"account_id":393724,"reputation":1401,"user_id":755742,"display_name":"Anton"},"score":2,"creation_date":1519661604,"post_id":48665237,"comment_id":84990166,"body_markdown":"chromedriver v2.35 supports chrome 62-64 at the moment","body":"chromedriver v2.35 supports chrome 62-64 at the moment"},{"owner":{"account_id":2449510,"reputation":792,"user_id":2136126,"accept_rate":35,"display_name":"Greg P"},"score":0,"creation_date":1524486332,"post_id":48665237,"comment_id":86978108,"body_markdown":"I updated this to 2.38.0, But when I check the version, it always says 2.33. I have changed the package.config (Visual Studio C#)...I cannot find any reference to 2.33 anymore. Where could this be? I tried to delete the project and recreate it.I am using the standalone selenium server..","body":"I updated this to 2.38.0, But when I check the version, it always says 2.33. I have changed the package.config (Visual Studio C#)...I cannot find any reference to 2.33 anymore. Where could this be? I tried to delete the project and recreate it.I am using the standalone selenium server.."},{"owner":{"account_id":9060552,"reputation":701,"user_id":6774932,"accept_rate":49,"display_name":"user74843"},"score":0,"creation_date":1527259265,"post_id":48665237,"comment_id":88075320,"body_markdown":"my chromedriver didn&#39;t automatically update in katalon studio. why is this and what can I do about it?","body":"my chromedriver didn&#39;t automatically update in katalon studio. why is this and what can I do about it?"},{"owner":{"account_id":1947675,"reputation":2009,"user_id":1752448,"accept_rate":75,"display_name":"Pinte Dani"},"score":0,"creation_date":1539924578,"post_id":48665237,"comment_id":92685024,"body_markdown":"Performed chromedriver update in visual studio with NuGet package Manager and everything works fine as before.","body":"Performed chromedriver update in visual studio with NuGet package Manager and everything works fine as before."},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":1,"creation_date":1545385591,"post_id":48665237,"comment_id":94611475,"body_markdown":"This solution doesn&#39;t work. i have chrome 71 and driver version 2.45","body":"This solution doesn&#39;t work. i have chrome 71 and driver version 2.45"},{"owner":{"account_id":7791081,"reputation":5412,"user_id":5893995,"accept_rate":89,"display_name":"Yashwardhan Pauranik"},"score":0,"creation_date":1547713687,"post_id":48665237,"comment_id":95288320,"body_markdown":"@NarendraR did you find any solution to this problem? It&#39;s been almost 2 days, I can&#39;t find the solution","body":"@NarendraR did you find any solution to this problem? It&#39;s been almost 2 days, I can&#39;t find the solution"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1547720908,"post_id":48665237,"comment_id":95292452,"body_markdown":"@YashwardhanPauranik, Yes i found. refer this https://stackoverflow.com/questions/53883518/exception-in-thread-main-org-openqa-selenium-webdriverexception-unknown-error","body":"@YashwardhanPauranik, Yes i found. refer this <a href=\"https://stackoverflow.com/questions/53883518/exception-in-thread-main-org-openqa-selenium-webdriverexception-unknown-error\" title=\"exception in thread main org openqa selenium webdriverexception unknown error\">stackoverflow.com/questions/53883518/&hellip;</a>"},{"owner":{"account_id":7791081,"reputation":5412,"user_id":5893995,"accept_rate":89,"display_name":"Yashwardhan Pauranik"},"score":0,"creation_date":1547729511,"post_id":48665237,"comment_id":95297246,"body_markdown":"@NarendraR Thanks bro..I&#39;ll look into this","body":"@NarendraR Thanks bro..I&#39;ll look into this"},{"owner":{"account_id":4802527,"reputation":71,"user_id":3878743,"display_name":"Igor Mel&#227;o"},"score":0,"creation_date":1580027920,"post_id":48665237,"comment_id":105957711,"body_markdown":"I just need to put a new args to force to update the chromedriver because of already existed an version installed. \n\nnpm install -g --force chromedriver","body":"I just need to put a new args to force to update the chromedriver because of already existed an version installed.   npm install -g --force chromedriver"}],"tags":[],"owner":{"account_id":153165,"reputation":5541,"user_id":368220,"accept_rate":57,"display_name":"Martijn"},"comment_count":11,"down_vote_count":0,"up_vote_count":114,"is_accepted":true,"score":114,"last_activity_date":1671850946,"creation_date":1518010609,"answer_id":48665237,"question_id":48609069,"body_markdown":"I was seeing the same issue. The problem only appears when using Chrome 65 (currently: dev channel). With Chrome 64 (both stable channel and beta channel) everything worked fine.\r\n\r\nIt turns out I had an old chromedriver installed. Specifically, I was using `chrome=65.0.3325.51` with `chromedriver=2.29.461585`. Running `npm install -g chromedriver` bumped chromedriver to 2.35.528157 and now the problem is solved.\r\n\r\n**TL;DR**: run `npm install -g chromedriver`","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>I was seeing the same issue. The problem only appears when using Chrome 65 (currently: dev channel). With Chrome 64 (both stable channel and beta channel) everything worked fine.</p>\n<p>It turns out I had an old chromedriver installed. Specifically, I was using <code>chrome=65.0.3325.51</code> with <code>chromedriver=2.29.461585</code>. Running <code>npm install -g chromedriver</code> bumped chromedriver to 2.35.528157 and now the problem is solved.</p>\n<p><strong>TL;DR</strong>: run <code>npm install -g chromedriver</code></p>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521316141,"creation_date":1520931708,"answer_id":49252012,"question_id":48609069,"body_markdown":"I have encountered the same issue and installed the chrome drive. Issue got resolved.\r\n\r\nnpm install chromedriver --chromedriver_version=LATEST","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>I have encountered the same issue and installed the chrome drive. Issue got resolved.</p>\n\n<p>npm install chromedriver --chromedriver_version=LATEST</p>\n"},{"tags":[],"owner":{"account_id":1827765,"reputation":31,"user_id":1660026,"display_name":"user1660026"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520941013,"creation_date":1520941013,"answer_id":49255159,"question_id":48609069,"body_markdown":"The latest chrome browser requires corresponding latest chromedriver executable for the tests to run.\r\n","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>The latest chrome browser requires corresponding latest chromedriver executable for the tests to run.</p>\n"},{"tags":[],"owner":{"account_id":11402616,"reputation":3097,"user_id":8359107,"display_name":"Matt"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1521226681,"creation_date":1521226681,"answer_id":49327799,"question_id":48609069,"body_markdown":"You may need to update you driver the link for all the chromedriver updates are http://chromedriver.storage.googleapis.com/index.html\r\nmake sure you chromedriver corresponds to your version of chrome","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>You may need to update you driver the link for all the chromedriver updates are <a href=\"http://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">http://chromedriver.storage.googleapis.com/index.html</a>\nmake sure you chromedriver corresponds to your version of chrome</p>\n"},{"tags":[],"owner":{"account_id":7421871,"reputation":991,"user_id":5645869,"display_name":"Rohit Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521435195,"creation_date":1521435195,"answer_id":49356002,"question_id":48609069,"body_markdown":"Changing latest version of ChromDriver worked for me.\r\n\r\n","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>Changing latest version of ChromDriver worked for me.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1522144608,"creation_date":1522144608,"answer_id":49509800,"question_id":48609069,"body_markdown":"The error says it all :\r\n\r\n\tException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;\r\n\r\n\t  (Session info: chrome=65.0.3325.31)\r\n\t  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86) \r\n\t(WARNING: The server did not provide any stacktrace information)\r\n\tCommand duration or timeout: 0 milliseconds\r\n\r\n\tBuild info: version: &#39;3.8.1&#39;, revision: &#39;6e95a6684b&#39;, time: &#39;2017-12-01T19:05:32.194Z&#39;\t\r\n\r\nYour main issue is the **version compatibility** between the binaries you are using as follows :\r\n\r\n - You are using _chromedriver=2.33_ \r\n - Release Notes of [_chromedriver=2.33_](https://chromedriver.storage.googleapis.com/2.33/notes.txt) clearly mentions the following :\r\n\r\n&gt;Supports **Chrome v60-62**\r\n\r\n - You are using _chrome=65.0_\r\n - Release Notes of [_ChromeDriver v2.37_](https://chromedriver.storage.googleapis.com/2.37/notes.txt) clearly mentions the following :\r\n\r\n&gt;Supports **Chrome v64-66**\r\n\r\n\r\nSo there is a clear mismatch between the _ChromeDriver_ version (_v2.33_) and the _Chrome Browser_ version (_v65.0_)\r\n\r\nSolution\r\n--------\r\n\r\n - Upgrade _ChromeDriver_ to  current [**ChromeDriver v2.37**](https://sites.google.com/a/chromium.org/chromedriver/downloads) level.\r\n - Keep _Chrome_ version at **_Chrome v65.x_** levels. ([as per ChromeDriver v2.37 release notes](https://chromedriver.storage.googleapis.com/2.37/notes.txt))\r\n - _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n - Use [_CCleaner_](https://www.ccleaner.com/ccleaner) tool to wipe off all the OS chores before and after the execution of your _test Suite_.\r\n - If your base _Web Client_ version is too old, then uninstall it through [_Revo Uninstaller_](https://www.revouninstaller.com/revo_uninstaller_free_download.html) and install a recent GA and released version of _Web Client_.\r\n - Execute your `@Test`.","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>The error says it all :</p>\n\n<pre><code>Exception in thread \"main\" org.openqa.selenium.WebDriverException: unknown error: call function result missing 'value'\n\n  (Session info: chrome=65.0.3325.31)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86) \n(WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\n\nBuild info: version: '3.8.1', revision: '6e95a6684b', time: '2017-12-01T19:05:32.194Z'  \n</code></pre>\n\n<p>Your main issue is the <strong>version compatibility</strong> between the binaries you are using as follows :</p>\n\n<ul>\n<li>You are using <em>chromedriver=2.33</em> </li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/2.33/notes.txt\" rel=\"noreferrer\"><em>chromedriver=2.33</em></a> clearly mentions the following :</li>\n</ul>\n\n<blockquote>\n  <p>Supports <strong>Chrome v60-62</strong></p>\n</blockquote>\n\n<ul>\n<li>You are using <em>chrome=65.0</em></li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/2.37/notes.txt\" rel=\"noreferrer\"><em>ChromeDriver v2.37</em></a> clearly mentions the following :</li>\n</ul>\n\n<blockquote>\n  <p>Supports <strong>Chrome v64-66</strong></p>\n</blockquote>\n\n<p>So there is a clear mismatch between the <em>ChromeDriver</em> version (<em>v2.33</em>) and the <em>Chrome Browser</em> version (<em>v65.0</em>)</p>\n\n<h2>Solution</h2>\n\n<ul>\n<li>Upgrade <em>ChromeDriver</em> to  current <a href=\"https://sites.google.com/a/chromium.org/chromedriver/downloads\" rel=\"noreferrer\"><strong>ChromeDriver v2.37</strong></a> level.</li>\n<li>Keep <em>Chrome</em> version at <strong><em>Chrome v65.x</em></strong> levels. (<a href=\"https://chromedriver.storage.googleapis.com/2.37/notes.txt\" rel=\"noreferrer\">as per ChromeDriver v2.37 release notes</a>)</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>Use <a href=\"https://www.ccleaner.com/ccleaner\" rel=\"noreferrer\"><em>CCleaner</em></a> tool to wipe off all the OS chores before and after the execution of your <em>test Suite</em>.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it through <a href=\"https://www.revouninstaller.com/revo_uninstaller_free_download.html\" rel=\"noreferrer\"><em>Revo Uninstaller</em></a> and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Execute your <code>@Test</code>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1354687,"reputation":354,"user_id":1296237,"accept_rate":33,"display_name":"alezvic"},"score":2,"creation_date":1523300236,"post_id":49536546,"comment_id":86494099,"body_markdown":"Sorry but this solution (if correct) highly depends on the workflow of the user who posted the question. Introducing a new tool when there&#39;s no real need looks like a desperate attempt to solve the issue without really understanding the nature/source of the problem.","body":"Sorry but this solution (if correct) highly depends on the workflow of the user who posted the question. Introducing a new tool when there&#39;s no real need looks like a desperate attempt to solve the issue without really understanding the nature/source of the problem."}],"tags":[],"owner":{"account_id":2113874,"reputation":2867,"user_id":1878571,"accept_rate":9,"display_name":"nix86"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522245506,"creation_date":1522245506,"answer_id":49536546,"question_id":48609069,"body_markdown":"I simply installed a new version of Katalon Studio and it has worked fine.","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>I simply installed a new version of Katalon Studio and it has worked fine.</p>\n"},{"tags":[],"owner":{"account_id":3066408,"reputation":2307,"user_id":2597991,"display_name":"sree"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573005104,"creation_date":1573005104,"answer_id":58721963,"question_id":48609069,"body_markdown":"This issue happens when chrome and chromedriver are not in sync. Either update both to the latest version or make sure they can work together. After running the following commands it worked for me\r\n\r\n    npm install -g chromedriver --chromedriver-force-download\r\n    webdriver-manager update","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>This issue happens when chrome and chromedriver are not in sync. Either update both to the latest version or make sure they can work together. After running the following commands it worked for me</p>\n\n<pre><code>npm install -g chromedriver --chromedriver-force-download\nwebdriver-manager update\n</code></pre>\n"}],"owner":{"account_id":7995311,"reputation":671,"user_id":6031829,"display_name":"maharaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92209,"favorite_count":0,"down_vote_count":1,"up_vote_count":67,"accepted_answer_id":48665237,"answer_count":8,"score":66,"last_activity_date":1671850946,"creation_date":1517754236,"question_id":48609069,"body_markdown":"Sendkeys not working. Please help me to resolve this..\r\n\r\n    WebElement username = driver.findElement(By.xpath(&quot;//*[@id=&#39;username&#39;]&quot;));\t\t\r\n    username.sendKeys(&quot;123456&quot;);\r\n\r\nConsole:\r\n\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;\r\n    \r\n      (Session info: chrome=65.0.3325.31)\r\n      (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86) \r\n    (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    \r\n    Build info: version: &#39;3.8.1&#39;, revision: &#39;6e95a6684b&#39;, time: &#39;2017-12-01T19:05:32.194Z&#39;\r\n    System info: host: &#39;NEW-PC&#39;, ip: &#39;192.168.0.103&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;x86&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_161&#39;\r\n\r\nDriver info: \r\n\r\n    org.openqa.selenium.chrome.ChromeDriver\r\n    \r\n    Capabilities {acceptSslCerts: true, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 2.33.506120 (e3e53437346286..., userDataDir: C:\\Users\\NEW\\AppData\\Local\\...}, cssSelectorsEnabled: true, databaseEnabled: false, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, rotatable: false, setWindowRect: true, takesHeapSnapshot: true, takesScreenshot: true, unexpectedAlertBehaviour: , unhandledPromptBehavior: , version: 65.0.3325.31, webStorageEnabled: true}\r\n\r\n","title":"org.openqa.selenium.WebDriverException: unknown error: call function result missing &#39;value&#39;","body":"<p>Sendkeys not working. Please help me to resolve this..</p>\n\n<pre><code>WebElement username = driver.findElement(By.xpath(\"//*[@id='username']\"));      \nusername.sendKeys(\"123456\");\n</code></pre>\n\n<p>Console:</p>\n\n<pre><code>Exception in thread \"main\" org.openqa.selenium.WebDriverException: unknown error: call function result missing 'value'\n\n  (Session info: chrome=65.0.3325.31)\n  (Driver info: chromedriver=2.33.506120 (e3e53437346286c0bc2d2dc9aa4915ba81d9023f),platform=Windows NT 6.1.7601 SP1 x86) \n(WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\n\nBuild info: version: '3.8.1', revision: '6e95a6684b', time: '2017-12-01T19:05:32.194Z'\nSystem info: host: 'NEW-PC', ip: '192.168.0.103', os.name: 'Windows 7', os.arch: 'x86', os.version: '6.1', java.version: '1.8.0_161'\n</code></pre>\n\n<p>Driver info: </p>\n\n<pre><code>org.openqa.selenium.chrome.ChromeDriver\n\nCapabilities {acceptSslCerts: true, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 2.33.506120 (e3e53437346286..., userDataDir: C:\\Users\\NEW\\AppData\\Local\\...}, cssSelectorsEnabled: true, databaseEnabled: false, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, rotatable: false, setWindowRect: true, takesHeapSnapshot: true, takesScreenshot: true, unexpectedAlertBehaviour: , unhandledPromptBehavior: , version: 65.0.3325.31, webStorageEnabled: true}\n</code></pre>\n"},{"tags":["java","file-io","cluster-computing","qsub"],"answers":[{"tags":[],"owner":{"account_id":3884753,"reputation":10795,"user_id":3216427,"display_name":"joanis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671849744,"creation_date":1671849744,"answer_id":74905316,"question_id":74445569,"body_markdown":"When you have multiple processes writing output to the same file, you&#39;re always going to get conflicts between the outputs.\r\n\r\nTo use job arrays, or multiple parallel jobs, effectively, you should have each job write to its own output file - maybe add the job array index to the file name in each job - and then possibly concatenate the files from each array job into a joined output file when all the jobs have completed.\r\n\r\nThis is not a Java problem: as you have written it, your code is writing to the same place in the same file in different processes on multiple machines, so the bytes that remain in the actual file at the end are the last bytes the were written in any given position by any of the processes.\r\n\r\nPBS gives each of your parallel job instances a variable specifying the id within the array, you should pass that information to your java program or use it to create the name of the output/log file the program is supposed to use. Something like `java myJavaProgram --output output-file-${PBS_ARRAY_INDEX}` or `java myJavaProgram &gt; output-file-${PBS_ARRAY_INDEX}`.","title":"How to print to a common file with qsub arrays?","body":"<p>When you have multiple processes writing output to the same file, you're always going to get conflicts between the outputs.</p>\n<p>To use job arrays, or multiple parallel jobs, effectively, you should have each job write to its own output file - maybe add the job array index to the file name in each job - and then possibly concatenate the files from each array job into a joined output file when all the jobs have completed.</p>\n<p>This is not a Java problem: as you have written it, your code is writing to the same place in the same file in different processes on multiple machines, so the bytes that remain in the actual file at the end are the last bytes the were written in any given position by any of the processes.</p>\n<p>PBS gives each of your parallel job instances a variable specifying the id within the array, you should pass that information to your java program or use it to create the name of the output/log file the program is supposed to use. Something like <code>java myJavaProgram --output output-file-${PBS_ARRAY_INDEX}</code> or <code>java myJavaProgram &gt; output-file-${PBS_ARRAY_INDEX}</code>.</p>\n"}],"owner":{"account_id":4544809,"reputation":2072,"user_id":3691730,"accept_rate":84,"display_name":"k88074"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671849744,"creation_date":1668514981,"question_id":74445569,"body_markdown":"I am running a bunch of java tasks on a cluster with many nodes. I use `qsub` arrays with a script file like:\r\n\r\n    #PBS ...\r\n    #PBS -t 1-100\r\n    java myJavaProgram\r\nNow, my java program prints results to a common file. I am experiencing that the file is sometime corrupted, for example lines terminate abruptly with the start of the next line or lines printed only partially. The same problem never occurs if the tasks run sequentially, so my guess is that this has to do with different java processes trying to print at the same time from different compute nodes. However, I do not understand if the problem is on the java side or on the way I let the code run on the cluster.\r\n\r\nSo my **question** is: What is a safe way of having java programs update the same file from different nodes? \r\n\r\n**NOTE**: The java code that actually prints looks like this:\r\n\r\n    try (FileWriter fw = new FileWriter(output_file,true);PrintWriter Printer = new PrintWriter(fw,true)) {\r\n                Printer.println(String.format());\r\n    }\r\n\r\n \r\n\r\n\r\n","title":"How to print to a common file with qsub arrays?","body":"<p>I am running a bunch of java tasks on a cluster with many nodes. I use <code>qsub</code> arrays with a script file like:</p>\n<pre><code>#PBS ...\n#PBS -t 1-100\njava myJavaProgram\n</code></pre>\n<p>Now, my java program prints results to a common file. I am experiencing that the file is sometime corrupted, for example lines terminate abruptly with the start of the next line or lines printed only partially. The same problem never occurs if the tasks run sequentially, so my guess is that this has to do with different java processes trying to print at the same time from different compute nodes. However, I do not understand if the problem is on the java side or on the way I let the code run on the cluster.</p>\n<p>So my <strong>question</strong> is: What is a safe way of having java programs update the same file from different nodes?</p>\n<p><strong>NOTE</strong>: The java code that actually prints looks like this:</p>\n<pre><code>try (FileWriter fw = new FileWriter(output_file,true);PrintWriter Printer = new PrintWriter(fw,true)) {\n            Printer.println(String.format());\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","runtime-error"],"comments":[{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":0,"creation_date":1298832128,"post_id":5134953,"comment_id":5761386,"body_markdown":"try using the `ex.printStackTrace()` method.","body":"try using the <code>ex.printStackTrace()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":305023,"reputation":5914,"user_id":614899,"accept_rate":98,"display_name":"donnyton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298830832,"creation_date":1298830832,"answer_id":5134971,"question_id":5134953,"body_markdown":"It looks like you&#39;re trying to import some google code:\r\n\r\n    import com.google.common.base.Function;\r\n\r\nAnd it&#39;s not finding it the class Function.  Check to make sure all the required libraries are in your build path, and that you typed the package correctly.","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>It looks like you're trying to import some google code:</p>\n\n<pre><code>import com.google.common.base.Function;\n</code></pre>\n\n<p>And it's not finding it the class Function.  Check to make sure all the required libraries are in your build path, and that you typed the package correctly.</p>\n"},{"comments":[{"owner":{"account_id":43264,"reputation":4850,"user_id":126382,"accept_rate":63,"display_name":"azec-pdx"},"score":3,"creation_date":1378232996,"post_id":5134972,"comment_id":27373423,"body_markdown":"This is the most general answer if one wants to run Selenium test for the first time, because all mentioned libraries are needed.","body":"This is the most general answer if one wants to run Selenium test for the first time, because all mentioned libraries are needed."},{"owner":{"account_id":3914374,"reputation":1041,"user_id":3238679,"accept_rate":70,"display_name":"Thoth"},"score":0,"creation_date":1404149723,"post_id":5134972,"comment_id":37920563,"body_markdown":"@Bart Kiers I am running `javac -classpath C:\\selenium-2.42.2\\selenium-server-standalone-2.42.2.jar; C:\\selenium-2.42.2\\selenium-java-2.42.2.jar Test.java` and then `java Test` but returns: `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/firefox/FirefoxDriver at Test.main(Test.java:7) Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.firefox.Firefox` I am with that a few hours; Any ideas please? Thanks! (Win7)","body":"@Bart Kiers I am running <code>javac -classpath C:\\selenium-2.42.2\\selenium-server-standalone-2.42.2.jar; C:\\selenium-2.42.2\\selenium-java-2.42.2.jar Test.java</code> and then <code>java Test</code> but returns: <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org&#47;openqa&#47;selenium&#47;firefox&#47;FirefoxDriver at Test.main(Test.java:7) Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.firefox.Firefox</code> I am with that a few hours; Any ideas please? Thanks! (Win7)"},{"owner":{"account_id":3914374,"reputation":1041,"user_id":3238679,"accept_rate":70,"display_name":"Thoth"},"score":0,"creation_date":1404154433,"post_id":5134972,"comment_id":37922733,"body_markdown":"@Bart Kiers Thanks for your response. I change the pathclass to `javac -classpath &quot;C:\\selenium-2.42.2\\selenium-server-standalone-2.42.2.jar;C:\\selenium-2.42.2\\selenium-java-2.42.2.jar;C:\\selenium-2.42.2\\selenium-firefox-driver-2.42.2.jar&quot; Test.java` But returns the same error. I download `firefox-driver` from this [link](https://www.versioneye.com/java/org.seleniumhq.selenium:selenium-firefox-driver/2.42.2). Any new ideas:)?","body":"@Bart Kiers Thanks for your response. I change the pathclass to <code>javac -classpath &quot;C:\\selenium-2.42.2\\selenium-server-standalone-2.42.2.jar;C:&zwnj;&#8203;\\selenium-2.42.2\\sel&zwnj;&#8203;enium-java-2.42.2.ja&zwnj;&#8203;r;C:\\selenium-2.42.2&zwnj;&#8203;\\selenium-firefox-dr&zwnj;&#8203;iver-2.42.2.jar&quot; Test.java</code> But returns the same error. I download <code>firefox-driver</code> from this <a href=\"https://www.versioneye.com/java/org.seleniumhq.selenium:selenium-firefox-driver/2.42.2\" rel=\"nofollow noreferrer\">link</a>. Any new ideas:)?"},{"owner":{"account_id":5541700,"reputation":434,"user_id":4397981,"accept_rate":50,"display_name":"TacoV"},"score":0,"creation_date":1433751149,"post_id":5134972,"comment_id":49465894,"body_markdown":"+1 for noticing that you need to add the classpath to both the compile and run command. The first was obvious but the second, for me, for some reason, wasn&#39;t.","body":"+1 for noticing that you need to add the classpath to both the compile and run command. The first was obvious but the second, for me, for some reason, wasn&#39;t."}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1298832109,"creation_date":1298830836,"answer_id":5134972,"question_id":5134953,"body_markdown":"A `NoClassDefFoundError` is thrown when the JRE can&#39;t find a class. In your case, it can&#39;t find the class `com.google.common.base.Function`, which you most probably did not add to your classpath.\r\n\r\nEDIT\r\n----\r\n\r\nAfter downloading the following libraries:\r\n\r\n * Selenium: http://code.google.com/p/selenium/downloads/list\r\n * Guava: http://code.google.com/p/guava-libraries/downloads/list\r\n * Apache HttpComponents: http://hc.apache.org/downloads.cgi\r\n * JSON jar: http://www.jarfinder.com/index.php/jars/versionInfo/21653\r\n\r\nand unzipping them and putting all JAR files in a folder called `lib`, the test class:\r\n\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            try{\r\n                FirefoxDriver driver = new FirefoxDriver();\r\n                driver.get(&quot;http:www.yahoo.com&quot;);\r\n            } catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nran without any problems.\r\n\r\nYou can compile and run the class as follows:\r\n\r\n&lt;pre&gt;\r\n# compile and run on Linux &amp; Mac\r\njavac -cp .:lib/* Test.java \r\njava -cp .:lib/* Test\r\n\r\n# compile and run on Windows\r\njavac -cp .;lib/* Test.java \r\njava -cp .;lib/* Test\r\n&lt;/pre&gt;","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>A <code>NoClassDefFoundError</code> is thrown when the JRE can't find a class. In your case, it can't find the class <code>com.google.common.base.Function</code>, which you most probably did not add to your classpath.</p>\n\n<h2>EDIT</h2>\n\n<p>After downloading the following libraries:</p>\n\n<ul>\n<li>Selenium: <a href=\"http://code.google.com/p/selenium/downloads/list\" rel=\"noreferrer\">http://code.google.com/p/selenium/downloads/list</a></li>\n<li>Guava: <a href=\"http://code.google.com/p/guava-libraries/downloads/list\" rel=\"noreferrer\">http://code.google.com/p/guava-libraries/downloads/list</a></li>\n<li>Apache HttpComponents: <a href=\"http://hc.apache.org/downloads.cgi\" rel=\"noreferrer\">http://hc.apache.org/downloads.cgi</a></li>\n<li>JSON jar: <a href=\"http://www.jarfinder.com/index.php/jars/versionInfo/21653\" rel=\"noreferrer\">http://www.jarfinder.com/index.php/jars/versionInfo/21653</a></li>\n</ul>\n\n<p>and unzipping them and putting all JAR files in a folder called <code>lib</code>, the test class:</p>\n\n<pre><code>import org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class Test {\n    public static void main(String[] args) {\n        try{\n            FirefoxDriver driver = new FirefoxDriver();\n            driver.get(\"http:www.yahoo.com\");\n        } catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>ran without any problems.</p>\n\n<p>You can compile and run the class as follows:</p>\n\n<pre>\n# compile and run on Linux & Mac\njavac -cp .:lib/* Test.java \njava -cp .:lib/* Test\n\n# compile and run on Windows\njavac -cp .;lib/* Test.java \njava -cp .;lib/* Test\n</pre>\n"},{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1298832410,"post_id":5134982,"comment_id":5761413,"body_markdown":"Google Collections is sort-of deprecated now, replaced by the Guava project (http://code.google.com/p/guava-libraries/)","body":"Google Collections is sort-of deprecated now, replaced by the Guava project (<a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries</a>)"},{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":1,"creation_date":1298883799,"post_id":5134982,"comment_id":5767713,"body_markdown":"i&#39;m not the one referencing it ;)","body":"i&#39;m not the one referencing it ;)"}],"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1298831319,"creation_date":1298830934,"answer_id":5134982,"question_id":5134953,"body_markdown":"you don&#39;t have the [&quot;google-collections&quot;][1] library on your [classpath][2].\r\n\r\nThere are a number of [ways to add libraries to your classpath][2], so please provide more info regarding how you are executing your program.\r\n\r\nif from the command line, you can add libraries to the classpath via \r\n\r\n`java -classpath path/lib.jar ...`\r\n\r\n\r\n  [1]: http://code.google.com/p/google-collections/\r\n  [2]: http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>you don't have the <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">\"google-collections\"</a> library on your <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">classpath</a>.</p>\n\n<p>There are a number of <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">ways to add libraries to your classpath</a>, so please provide more info regarding how you are executing your program.</p>\n\n<p>if from the command line, you can add libraries to the classpath via </p>\n\n<p><code>java -classpath path/lib.jar ...</code></p>\n"},{"comments":[{"owner":{"account_id":2143607,"reputation":4606,"user_id":1901744,"accept_rate":74,"display_name":"Sohaib"},"score":3,"creation_date":1423723601,"post_id":5254894,"comment_id":45266395,"body_markdown":"Why is the standalone jar needed? I am running it only on a single machine?","body":"Why is the standalone jar needed? I am running it only on a single machine?"},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1456764077,"post_id":5254894,"comment_id":59086234,"body_markdown":"And versions of both jars should better be matched.","body":"And versions of both jars should better be matched."}],"tags":[],"owner":{"account_id":204308,"reputation":1221,"user_id":452439,"display_name":"Henry Ma"},"comment_count":2,"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1671849665,"creation_date":1299725295,"answer_id":5254894,"question_id":5134953,"body_markdown":"I had the same problem, and finally I found that I forgot to add the [selenium-server-standalone-version.jar][1]. I had only added the client jar, [selenium-java-version.jar][2].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server-standalone\r\n  [2]: https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>I had the same problem, and finally I found that I forgot to add the <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-server-standalone\" rel=\"nofollow noreferrer\">selenium-server-standalone-version.jar</a>. I had only added the client jar, <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java\" rel=\"nofollow noreferrer\">selenium-java-version.jar</a>.</p>\n"},{"comments":[{"owner":{"account_id":3001028,"reputation":349,"user_id":2546542,"accept_rate":71,"display_name":"Sujith Babu"},"score":1,"creation_date":1511139890,"post_id":22780489,"comment_id":81720204,"body_markdown":"This is the step that worked for me also. I did not have to do anything else","body":"This is the step that worked for me also. I did not have to do anything else"}],"tags":[],"owner":{"account_id":469276,"reputation":23596,"user_id":875775,"display_name":"Tho"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1511174247,"creation_date":1396340782,"answer_id":22780489,"question_id":5134953,"body_markdown":"I encountered the same error and after the investigation, I found that library selenium-api 2.41.0 requires guava 15.0 but it was overridden by an older version so I declared guava 15.0 as a direct dependency by adding following configuration in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;version&gt;15.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>I encountered the same error and after the investigation, I found that library selenium-api 2.41.0 requires guava 15.0 but it was overridden by an older version so I declared guava 15.0 as a direct dependency by adding following configuration in pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;version&gt;15.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4459398,"reputation":1,"user_id":3628731,"display_name":"Irina Bu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399904008,"creation_date":1399902382,"answer_id":23610793,"question_id":5134953,"body_markdown":"When I caught the exception `java.lang.NoClassDefFoundError: com/google/common/base/Function` it was caused by errors in Project Libraries. \r\n\r\nPlease check it in your project settings. For Intellij IDEA go to **File - Project Structure** and select **Modules** tab. All I needed to do to resolve this exception was re-adding the selenium library","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>When I caught the exception <code>java.lang.NoClassDefFoundError: com/google/common/base/Function</code> it was caused by errors in Project Libraries. </p>\n\n<p>Please check it in your project settings. For Intellij IDEA go to <strong>File - Project Structure</strong> and select <strong>Modules</strong> tab. All I needed to do to resolve this exception was re-adding the selenium library</p>\n"},{"tags":[],"owner":{"account_id":4955907,"reputation":11,"user_id":3988514,"display_name":"Shi Liangjun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410760218,"creation_date":1410760218,"answer_id":25841547,"question_id":5134953,"body_markdown":"I met the same problem and fail even after installing the &#39;selenium-server-standalone-version.jar&#39;, I think you need to install the guava and guava-gwt jar (https://code.google.com/p/guava-libraries/) as well. I added all of these jar, and finally it worked in my PC. Hope it works for others meeting this issue.\r\n","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>I met the same problem and fail even after installing the 'selenium-server-standalone-version.jar', I think you need to install the guava and guava-gwt jar (<a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow\">https://code.google.com/p/guava-libraries/</a>) as well. I added all of these jar, and finally it worked in my PC. Hope it works for others meeting this issue.</p>\n"},{"tags":[],"owner":{"account_id":183457,"reputation":3816,"user_id":418832,"accept_rate":62,"display_name":"Sumod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1435068968,"creation_date":1432271186,"answer_id":30388726,"question_id":5134953,"body_markdown":"For me, in addition to selecting the jar - selenium-java-2.45.0.jar, I had to select all the jars in the &quot;libs&quot; folder under selenium root folder.","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>For me, in addition to selecting the jar - selenium-java-2.45.0.jar, I had to select all the jars in the \"libs\" folder under selenium root folder.</p>\n"},{"tags":[],"owner":{"account_id":6561769,"reputation":11,"user_id":5072619,"display_name":"Sandeep Duve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435821872,"creation_date":1435821872,"answer_id":31178063,"question_id":5134953,"body_markdown":"Please include all the jar files of selenium stand-alone and lib folder, then this error will resolved","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>Please include all the jar files of selenium stand-alone and lib folder, then this error will resolved</p>\n"},{"tags":[],"owner":{"account_id":6836190,"reputation":21,"user_id":5258084,"display_name":"CTester"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440363106,"creation_date":1440363106,"answer_id":32171412,"question_id":5134953,"body_markdown":"   After you extract your &quot;selenium-java-.zip&quot; file you need to configure your build path from your IDE. Import all the jar files under &quot;lib&quot; folder and both selenium standalone server &amp; Selenium java version jar files.","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>After you extract your \"selenium-java-.zip\" file you need to configure your build path from your IDE. Import all the jar files under \"lib\" folder and both selenium standalone server &amp; Selenium java version jar files.</p>\n"},{"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454322940,"creation_date":1454322940,"answer_id":35128354,"question_id":5134953,"body_markdown":"I wanted to try a simple class outside IDE and stuff. So downloaded selenium zip from website and run the class like this:\r\n\r\n    java -cp selenium-2.50.1/*:selenium-2.50.1/libs/*:. my/package/MyClass &lt;params&gt;\r\n\r\nI had the issue that I initially used `lib` instead of `libs`. I **didn&#39;t** need to add selenium standalone jar. This is Java 8 that understands wildcards in classpath. I think java 7 would also do.","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>I wanted to try a simple class outside IDE and stuff. So downloaded selenium zip from website and run the class like this:</p>\n\n<pre><code>java -cp selenium-2.50.1/*:selenium-2.50.1/libs/*:. my/package/MyClass &lt;params&gt;\n</code></pre>\n\n<p>I had the issue that I initially used <code>lib</code> instead of <code>libs</code>. I <strong>didn't</strong> need to add selenium standalone jar. This is Java 8 that understands wildcards in classpath. I think java 7 would also do.</p>\n"},{"tags":[],"owner":{"account_id":7517801,"reputation":51,"user_id":5710682,"display_name":"Lokesh Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460124143,"creation_date":1460124143,"answer_id":36501640,"question_id":5134953,"body_markdown":"I had the same problem, and finally I found that I forgot to add the selenium-server-standalone-version.jar. I had only added the client jar, selenium-java-version.jar.","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>I had the same problem, and finally I found that I forgot to add the selenium-server-standalone-version.jar. I had only added the client jar, selenium-java-version.jar.</p>\n"},{"tags":[],"owner":{"account_id":8719684,"reputation":157,"user_id":6523227,"accept_rate":67,"display_name":"Learner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470917156,"creation_date":1470917156,"answer_id":38895914,"question_id":5134953,"body_markdown":"I had the same issue. I found that I forgot to add selenium-2.53.0/selenium-java-2.53.0-srcs.jar file to my project&#39;s Reference library.","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>I had the same issue. I found that I forgot to add selenium-2.53.0/selenium-java-2.53.0-srcs.jar file to my project's Reference library.</p>\n"},{"tags":[],"owner":{"account_id":11084949,"reputation":69,"user_id":8138984,"display_name":"Rahul k"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497037181,"creation_date":1497037047,"answer_id":44465530,"question_id":5134953,"body_markdown":"I got the same error, but it was resolved if you add the libraries of selenium (again if you haven&#39;t), if you are using INTELIJ\r\n\r\n&gt; project&gt;projectStructure&gt;Module&gt;+&gt;add the selenium jars (both from lib folder and outside ones.). \r\n\r\nSame needs to be done for other IDE&#39;s as well, like eclipse.","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>I got the same error, but it was resolved if you add the libraries of selenium (again if you haven't), if you are using INTELIJ</p>\n\n<blockquote>\n  <p>project>projectStructure>Module>+>add the selenium jars (both from lib folder and outside ones.). </p>\n</blockquote>\n\n<p>Same needs to be done for other IDE's as well, like eclipse.</p>\n"},{"tags":[],"owner":{"account_id":11466376,"reputation":55,"user_id":8404470,"accept_rate":100,"display_name":"inderpreet kaur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509008259,"creation_date":1501834036,"answer_id":45501440,"question_id":5134953,"body_markdown":"    this is for chrome  \r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Testing_offical\\\\chromedriver.exe&quot;);\r\n    driver =new ChromeDriver();\r\n    this is for fire fox \r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&quot;D:\\\\Testing_offical\\\\geckodriver.exe&quot;&quot;);\r\n    driver =new FirefoxDriver();\r\n\r\npattern :\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;**Path of the gecko driver** &quot;);\r\n\r\nNote download gecko from here  :- http://docs.seleniumhq.org/download/ \r\n\r\n","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<pre><code>this is for chrome  \nSystem.setProperty(\"webdriver.chrome.driver\",\"D:\\\\Testing_offical\\\\chromedriver.exe\");\ndriver =new ChromeDriver();\nthis is for fire fox \nSystem.setProperty(\"webdriver.gecko.driver\",\"\"D:\\\\Testing_offical\\\\geckodriver.exe\"\");\ndriver =new FirefoxDriver();\n</code></pre>\n\n<p>pattern :</p>\n\n<pre><code>System.setProperty(\"webdriver.gecko.driver\",\"**Path of the gecko driver** \");\n</code></pre>\n\n<p>Note download gecko from here  :- <a href=\"http://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">http://docs.seleniumhq.org/download/</a> </p>\n"}],"owner":{"account_id":714406,"reputation":601,"user_id":636698,"display_name":"vijaymsc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220906,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":15,"score":60,"last_activity_date":1671849665,"creation_date":1298830685,"question_id":5134953,"body_markdown":"When I executing the following code: \r\n\r\n    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t    FirefoxDriver driver = new FirefoxDriver();\r\n\t\t    driver.get(&quot;http:www.yahoo.com&quot;);\r\n        } catch (NoClassDefFoundError ex) {\r\n            System.out.println(&quot;error: &quot; + ex.getStackTrace());\r\n\t\t}\r\n\t}\r\n\r\nI&#39;m facing the following error: \r\n\r\n&gt;error:[Ljava.lang.StackTraceElement;@80f4cb\r\n&gt;\r\n&gt;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/common/base/Function\r\n\r\n&lt;br&gt;\r\nCould someone help me to find the solution or reason for this?","title":"NoClassDefFoundError in Java: com/google/common/base/Function","body":"<p>When I executing the following code: </p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        FirefoxDriver driver = new FirefoxDriver();\n        driver.get(\"http:www.yahoo.com\");\n    } catch (NoClassDefFoundError ex) {\n        System.out.println(\"error: \" + ex.getStackTrace());\n    }\n}\n</code></pre>\n\n<p>I'm facing the following error: </p>\n\n<blockquote>\n  <p>error:[Ljava.lang.StackTraceElement;@80f4cb</p>\n  \n  <p>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/google/common/base/Function</p>\n</blockquote>\n\n<p><br>\nCould someone help me to find the solution or reason for this?</p>\n"},{"tags":["java","javafx","jdbc"],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671858890,"post_id":74905264,"comment_id":132189347,"body_markdown":"This is a bit confusing to me.  The module path is different than the classpath, so why put a module on the classpath in the Eclipse configuration? (I dont know Eclipse, maybe this is how it works with modules, but it seems wrong).","body":"This is a bit confusing to me.  The module path is different than the classpath, so why put a module on the classpath in the Eclipse configuration? (I dont know Eclipse, maybe this is how it works with modules, but it seems wrong)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671882863,"post_id":74905264,"comment_id":132192099,"body_markdown":"In the answer it says to either add a maven dependency or require the module in the module-info. But are not both things required for a true modular application?","body":"In the answer it says to either add a maven dependency or require the module in the module-info. But are not both things required for a true modular application?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1671883050,"post_id":74905264,"comment_id":132192132,"body_markdown":"If mariadb requires the jna module, and if you have a maven dependency on mariadb and also require mariadb in your module-info, shouldnt both the maven dependency on waffle and its module requirement be transitively picked up automatically? If not, does that mean that the mariadb maven pom or module-info is broken and should be fixed?","body":"If mariadb requires the jna module, and if you have a maven dependency on mariadb and also require mariadb in your module-info, shouldnt both the maven dependency on waffle and its module requirement be transitively picked up automatically? If not, does that mean that the mariadb maven pom or module-info is broken and should be fixed?"}],"tags":[],"owner":{"account_id":20961162,"reputation":1462,"user_id":15400571,"display_name":"noah1400"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671848905,"creation_date":1671848570,"answer_id":74905264,"question_id":74899927,"body_markdown":"You get this error because the MariaDB JDBC driver has a dependency on the Waffle JNA (Java Native Access) library.\r\n\r\nTo get rid of this error you need add the waffle.jna library to your `module-info.java` file:\r\n```java\r\nrequires waffle.jna\r\n```\r\nOr include the library to your `pom.xml` if you are using Maven\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\r\n    &lt;artifactId&gt;waffle-jna&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIf you&#39;re using Gradle add it to your `build.gradle`\r\n```\r\ndependencies {\r\n  implementation group: &#39;com.github.waffle&#39;, name: &#39;waffle-jna&#39;, version: &#39;3.2.0&#39;\r\n}\r\n```\r\nIf you&#39;re using java eclipse u can add it to the `.classpath` file\r\n```xml\r\n&lt;classpathentry kind=&quot;lib&quot; path=&quot;/path/to/waffle-jna-3.2.0.jar&quot;/&gt;\r\n```\r\nYou can download the jar file [here][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.github.waffle/waffle-jna/3.2.0","title":"Module waffle.jna not found, required by org.mariadb.jdbc","body":"<p>You get this error because the MariaDB JDBC driver has a dependency on the Waffle JNA (Java Native Access) library.</p>\n<p>To get rid of this error you need add the waffle.jna library to your <code>module-info.java</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requires waffle.jna\n</code></pre>\n<p>Or include the library to your <code>pom.xml</code> if you are using Maven</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.waffle&lt;/groupId&gt;\n    &lt;artifactId&gt;waffle-jna&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you're using Gradle add it to your <code>build.gradle</code></p>\n<pre><code>dependencies {\n  implementation group: 'com.github.waffle', name: 'waffle-jna', version: '3.2.0'\n}\n</code></pre>\n<p>If you're using java eclipse u can add it to the <code>.classpath</code> file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;/path/to/waffle-jna-3.2.0.jar&quot;/&gt;\n</code></pre>\n<p>You can download the jar file <a href=\"https://mvnrepository.com/artifact/com.github.waffle/waffle-jna/3.2.0\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":23452248,"reputation":11,"user_id":17508254,"display_name":"ismail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671848905,"creation_date":1671800417,"question_id":74899927,"body_markdown":"I doing my first JDBC project with javaFX\r\n\r\n```\r\nmodule com.example.obs {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n\r\n    requires org.controlsfx.controls;\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires javafx.graphics;\r\n    requires java.sql;\r\n    requires org.mariadb.jdbc;\r\n\r\n    opens com.example.obs to javafx.fxml;\r\n    exports com.example.obs;\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;m getting this excaption\r\n\r\n\r\n```\r\njava: java.lang.reflect.InvocationTargetException\r\nModule waffle.jna not found, required by org.mariadb.jdbc\r\n```\r\n\r\n","title":"Module waffle.jna not found, required by org.mariadb.jdbc","body":"<p>I doing my first JDBC project with javaFX</p>\n<pre><code>module com.example.obs {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    requires org.controlsfx.controls;\n    requires org.kordamp.bootstrapfx.core;\n    requires javafx.graphics;\n    requires java.sql;\n    requires org.mariadb.jdbc;\n\n    opens com.example.obs to javafx.fxml;\n    exports com.example.obs;\n\n}\n</code></pre>\n<p>I'm getting this excaption</p>\n<pre><code>java: java.lang.reflect.InvocationTargetException\nModule waffle.jna not found, required by org.mariadb.jdbc\n</code></pre>\n"},{"tags":["java","spring-boot","maven","apache-flink"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1671849096,"post_id":74905265,"comment_id":132188628,"body_markdown":"You could try using a [dependency exclusion](https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html) to exclude one version of the dependency.  But if the two intermediate dependencies (`flink-kubetnets` and `flink-kubernrts-operator`) **really** need those specific versions of `kubernets-client`, you need to look for and use alternate (compatible) versions of **them**.","body":"You could try using a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html\" rel=\"nofollow noreferrer\">dependency exclusion</a> to exclude one version of the dependency.  But if the two intermediate dependencies (<code>flink-kubetnets</code> and <code>flink-kubernrts-operator</code>) <b>really</b> need those specific versions of <code>kubernets-client</code>, you need to look for and use alternate (compatible) versions of <b>them</b>."},{"owner":{"account_id":27340213,"reputation":1,"user_id":20850996,"display_name":"ikiler"},"score":0,"creation_date":1671850350,"post_id":74905265,"comment_id":132188748,"body_markdown":"thx. So there really is no way to coexist ?","body":"thx. So there really is no way to coexist ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1671851082,"post_id":74905265,"comment_id":132188797,"body_markdown":"Technically, they can.  But you would need to load the relevant parts of `fklink-kubetnets` and `flink-kubernrts-operator` in separate classloaders so that they can load the two versions of `kubernets-client`.  That&#39;s complicated, and it may well be impractical.  And you are adding a whole lot of *technical debt* to your project.","body":"Technically, they can.  But you would need to load the relevant parts of <code>fklink-kubetnets</code> and <code>flink-kubernrts-operator</code> in separate classloaders so that they can load the two versions of <code>kubernets-client</code>.  That&#39;s complicated, and it may well be impractical.  And you are adding a whole lot of <i>technical debt</i> to your project."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671906636,"post_id":74905265,"comment_id":132195987,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27340213,"reputation":1,"user_id":20850996,"display_name":"ikiler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671848577,"creation_date":1671848577,"question_id":74905265,"body_markdown":"My project has two dependencies\r\nflink-kubetnets and flink-kubernrts-operator, Let&#39;s call him A, B\r\nThe A shaded the kubernets-client into itself and not change package name, and B also dependend  kubernets-client with different version.\r\nSo they conflict, how to solve it?\r\n\r\n I tried packing again with shaded, but no, It seems that this situation can no longer be solved with shaded.\r\nBecause both A and B call kubernets-client, shaded cannot change their internal codes","title":"How to solve the conflict caused by shaded without changing the package name","body":"<p>My project has two dependencies\nflink-kubetnets and flink-kubernrts-operator, Let's call him A, B\nThe A shaded the kubernets-client into itself and not change package name, and B also dependend  kubernets-client with different version.\nSo they conflict, how to solve it?</p>\n<p>I tried packing again with shaded, but no, It seems that this situation can no longer be solved with shaded.\nBecause both A and B call kubernets-client, shaded cannot change their internal codes</p>\n"},{"tags":["java","android","android-actionbar"],"answers":[{"comments":[{"owner":{"account_id":1854263,"reputation":1105,"user_id":1680187,"display_name":"Raul Pinto"},"score":4,"creation_date":1450694630,"post_id":25863690,"comment_id":56528800,"body_markdown":"This one didn&#39;t help, used http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa instead","body":"This one didn&#39;t help, used <a href=\"http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa\" title=\"upgraded to appcompat v22 1 0 and now getting illegalargumentexception appcompa\">stackoverflow.com/questions/29790070/&hellip;</a> instead"},{"owner":{"account_id":980790,"reputation":8154,"user_id":1000551,"display_name":"Vadim Kotov"},"score":3,"creation_date":1521544115,"post_id":25863690,"comment_id":85765882,"body_markdown":"Are you sure it is `item name = &quot;android:windowActionBar&quot;`? I had to use it without `android:` prefix to make it work. See [this answer](https://stackoverflow.com/a/26515159/1000551)","body":"Are you sure it is <code>item name = &quot;android:windowActionBar&quot;</code>? I had to use it without <code>android:</code> prefix to make it work. See <a href=\"https://stackoverflow.com/a/26515159/1000551\">this answer</a>"},{"owner":{"account_id":4933970,"reputation":2891,"user_id":3972773,"accept_rate":88,"display_name":"JRsz"},"score":1,"creation_date":1524103918,"post_id":25863690,"comment_id":86839131,"body_markdown":"This answer is almost 4 years old, there may be something different by now. Thank you for sharing the solution that worked for you though!","body":"This answer is almost 4 years old, there may be something different by now. Thank you for sharing the solution that worked for you though!"},{"owner":{"account_id":4873831,"reputation":2759,"user_id":3929529,"accept_rate":57,"display_name":"kunal.c"},"score":1,"creation_date":1577268350,"post_id":25863690,"comment_id":105131841,"body_markdown":"Use &lt;item name = &quot;windowNoTitle&quot;&gt;true&lt;/item&gt; instead of &lt;item name = &quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;","body":"Use &lt;item name = &quot;windowNoTitle&quot;&gt;true&lt;/item&gt; instead of &lt;item name = &quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;"},{"owner":{"account_id":4352662,"reputation":417,"user_id":3552429,"accept_rate":33,"display_name":"ibrahim saputra"},"score":1,"creation_date":1657693052,"post_id":25863690,"comment_id":128868044,"body_markdown":"this work for flutter too.","body":"this work for flutter too."}],"tags":[],"owner":{"account_id":4933970,"reputation":2891,"user_id":3972773,"accept_rate":88,"display_name":"JRsz"},"comment_count":5,"down_vote_count":2,"up_vote_count":119,"is_accepted":true,"score":117,"last_activity_date":1671848551,"creation_date":1410855070,"answer_id":25863690,"question_id":25863676,"body_markdown":"Haha, I have been stuck at that point a while ago as well, so I am glad I can help you out with a solution, that worked for me at least :)\r\n\r\nWhat you want to do is define a new style within values/styles.xml so it looks like this\r\n\r\n    &lt;resources&gt;\r\n        &lt;style name = &quot;AppTheme&quot; parent = &quot;android:Theme.Holo.Light.DarkActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name = &quot;NoActionBar&quot; parent = &quot;@android:style/Theme.Holo.Light&quot;&gt;\r\n            &lt;item name = &quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name = &quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n    &lt;/resources&gt;\r\n\r\n\r\nOnly the NoActionBar style is intresting for you. At last you have to set is as your application&#39;s theme in the AndroidManifest.xml so it looks like this\r\n\r\n    &lt;application\r\n        android:allowBackup = &quot;true&quot;\r\n        android:icon = &quot;@drawable/ic_launcher&quot;\r\n        android:label = &quot;@string/app_name&quot;\r\n        android:theme = &quot;@style/NoActionBar&quot;   &lt;!--This is the important line--&gt;\r\n        &gt;\r\n        &lt;activity\r\n    \t[...]","title":"Android Activity without ActionBar","body":"<p>Haha, I have been stuck at that point a while ago as well, so I am glad I can help you out with a solution, that worked for me at least :)</p>\n<p>What you want to do is define a new style within values/styles.xml so it looks like this</p>\n<pre><code>&lt;resources&gt;\n    &lt;style name = &quot;AppTheme&quot; parent = &quot;android:Theme.Holo.Light.DarkActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n\n    &lt;style name = &quot;NoActionBar&quot; parent = &quot;@android:style/Theme.Holo.Light&quot;&gt;\n        &lt;item name = &quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name = &quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p>Only the NoActionBar style is intresting for you. At last you have to set is as your application's theme in the AndroidManifest.xml so it looks like this</p>\n<pre><code>&lt;application\n    android:allowBackup = &quot;true&quot;\n    android:icon = &quot;@drawable/ic_launcher&quot;\n    android:label = &quot;@string/app_name&quot;\n    android:theme = &quot;@style/NoActionBar&quot;   &lt;!--This is the important line--&gt;\n    &gt;\n    &lt;activity\n    [...]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1139624,"reputation":687,"user_id":1123898,"display_name":"atablash"},"score":0,"creation_date":1446051406,"post_id":25863848,"comment_id":54585466,"body_markdown":"You can use android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot; for AppCompat.","body":"You can use android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot; for AppCompat."}],"tags":[],"owner":{"display_name":"user4009281"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410855573,"creation_date":1410855573,"answer_id":25863848,"question_id":25863676,"body_markdown":"I will try to show it as simple as i can:\r\n\r\nDECLARE FULL SCREEN ACTIVITY IN ANDROID MAINIFEST file:\r\n\r\n \r\n\r\n    &lt;activity\r\n                android:name=&quot;.GameActivity&quot;\r\n                android:label=&quot;@string/title_activity_game&quot;\r\n                android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;&gt;\r\n\r\nNow in Android studio (if you using it) open your Activity xml file ( in my example activity_game.xml) in designer and select theme (above mobile phone in designer click button with small circle) and then select Mainfest Themes on the left side and then NoTitleBar.Fullscreen.\r\n\r\nHope it will help! ","title":"Android Activity without ActionBar","body":"<p>I will try to show it as simple as i can:</p>\n\n<p>DECLARE FULL SCREEN ACTIVITY IN ANDROID MAINIFEST file:</p>\n\n<pre><code>&lt;activity\n            android:name=\".GameActivity\"\n            android:label=\"@string/title_activity_game\"\n            android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"&gt;\n</code></pre>\n\n<p>Now in Android studio (if you using it) open your Activity xml file ( in my example activity_game.xml) in designer and select theme (above mobile phone in designer click button with small circle) and then select Mainfest Themes on the left side and then NoTitleBar.Fullscreen.</p>\n\n<p>Hope it will help! </p>\n"},{"comments":[{"owner":{"account_id":1854263,"reputation":1105,"user_id":1680187,"display_name":"Raul Pinto"},"score":0,"creation_date":1450694649,"post_id":25863861,"comment_id":56528817,"body_markdown":"This one didn&#39;t help, used http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa instead.","body":"This one didn&#39;t help, used <a href=\"http://stackoverflow.com/questions/29790070/upgraded-to-appcompat-v22-1-0-and-now-getting-illegalargumentexception-appcompa\" title=\"upgraded to appcompat v22 1 0 and now getting illegalargumentexception appcompa\">stackoverflow.com/questions/29790070/&hellip;</a> instead."},{"owner":{"account_id":3787937,"reputation":5676,"user_id":3886922,"accept_rate":69,"display_name":"Confuse"},"score":0,"creation_date":1450701216,"post_id":25863861,"comment_id":56532744,"body_markdown":"That&#39;s because you will be using appcompat. Thanks for pointing it out. I have made the changes.","body":"That&#39;s because you will be using appcompat. Thanks for pointing it out. I have made the changes."},{"owner":{"account_id":7465457,"reputation":343,"user_id":5675212,"display_name":"klys"},"score":0,"creation_date":1647475859,"post_id":25863861,"comment_id":126383801,"body_markdown":"This is for me the more completed answer.","body":"This is for me the more completed answer."}],"tags":[],"owner":{"account_id":3787937,"reputation":5676,"user_id":3886922,"accept_rate":69,"display_name":"Confuse"},"comment_count":3,"down_vote_count":1,"up_vote_count":90,"is_accepted":false,"score":89,"last_activity_date":1485253825,"creation_date":1410855612,"answer_id":25863861,"question_id":25863676,"body_markdown":"There are multiple ways of doing this.\n\n\n# 1) Change the theme in Android Manifest\n\nBelow the Application element, you will find theme tag. Replace it with this one -\n\n    android:theme=&quot;@android:style/Theme.NoTitleBar&quot;\n\nIf you are using AppCompat, use `@android:style/Theme.AppCompat.NoActionBar`.\n\nThis will set the theme for all activities. If you don&#39;t need the action bar in a specific acitivity, then set the theme in the activity container, ie\n\n    &lt;activity android:theme=&quot;@android:style/Theme.NoTitleBar&quot; ...&gt;\n\nYou may also set `android:theme=&quot;@android:style/Theme.NoTitleBar&quot;` theme in the styles and use it later on.\n\n___\n\n# 2) Create a Custom Theme\n\nAdd this in `res/values/styles.xml`\n\n    &lt;style name=&quot;NoActionBar&quot; parent=&quot;@android:style/Theme.Holo.Light&quot;&gt;\n         &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n         &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\nand then set it as your activity&#39;s theme in Manifest:\n\n    &lt;activity android:theme=&quot;@style/NoActionBar&quot; ... /&gt;\n\n___\n\n# 3) Dynamically Remove the Action Bar\n\nPut this code in the `onCreate` method **before setting content view** -\n\n    getWindow().requestFeature(Window.FEATURE_ACTION_BAR);\n    getActionBar().hide();\n\nIf you are using the support library use `getSupportActionBar()`.","title":"Android Activity without ActionBar","body":"<p>There are multiple ways of doing this.</p>\n<h1>1) Change the theme in Android Manifest</h1>\n<p>Below the Application element, you will find theme tag. Replace it with this one -</p>\n<pre><code>android:theme=&quot;@android:style/Theme.NoTitleBar&quot;\n</code></pre>\n<p>If you are using AppCompat, use <code>@android:style/Theme.AppCompat.NoActionBar</code>.</p>\n<p>This will set the theme for all activities. If you don't need the action bar in a specific acitivity, then set the theme in the activity container, ie</p>\n<pre><code>&lt;activity android:theme=&quot;@android:style/Theme.NoTitleBar&quot; ...&gt;\n</code></pre>\n<p>You may also set <code>android:theme=&quot;@android:style/Theme.NoTitleBar&quot;</code> theme in the styles and use it later on.</p>\n<hr />\n<h1>2) Create a Custom Theme</h1>\n<p>Add this in <code>res/values/styles.xml</code></p>\n<pre><code>&lt;style name=&quot;NoActionBar&quot; parent=&quot;@android:style/Theme.Holo.Light&quot;&gt;\n     &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n     &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>and then set it as your activity's theme in Manifest:</p>\n<pre><code>&lt;activity android:theme=&quot;@style/NoActionBar&quot; ... /&gt;\n</code></pre>\n<hr />\n<h1>3) Dynamically Remove the Action Bar</h1>\n<p>Put this code in the <code>onCreate</code> method <strong>before setting content view</strong> -</p>\n<pre><code>getWindow().requestFeature(Window.FEATURE_ACTION_BAR);\ngetActionBar().hide();\n</code></pre>\n<p>If you are using the support library use <code>getSupportActionBar()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1442072716,"creation_date":1442068533,"answer_id":32539993,"question_id":25863676,"body_markdown":"You may also change inheritance from ActionBarActivity to Activity as written [here][1].\r\n\r\nUPDATE\r\n\r\nA good solution is [here][2]:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        getWindow().requestFeature(Window.FEATURE_ACTION_BAR);\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21815015/2914140\r\n  [2]: https://stackoverflow.com/a/28618934/2914140","title":"Android Activity without ActionBar","body":"<p>You may also change inheritance from ActionBarActivity to Activity as written <a href=\"https://stackoverflow.com/a/21815015/2914140\">here</a>.</p>\n\n<p>UPDATE</p>\n\n<p>A good solution is <a href=\"https://stackoverflow.com/a/28618934/2914140\">here</a>:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    getWindow().requestFeature(Window.FEATURE_ACTION_BAR);\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    setContentView(R.layout.activity_main);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1442072587,"post_id":32540466,"comment_id":52938445,"body_markdown":"Thanks, Eugene H. Well, I tried your code changing colors with random values. It works, as it could work without color definitions. Due to NoActionBar.","body":"Thanks, Eugene H. Well, I tried your code changing colors with random values. It works, as it could work without color definitions. Due to NoActionBar."},{"owner":{"account_id":4838192,"reputation":3540,"user_id":3904085,"accept_rate":71,"display_name":"Eugene H"},"score":1,"creation_date":1442073645,"post_id":32540466,"comment_id":52938782,"body_markdown":"@CoolMind You are correct. I just added some typical styles attributes with AppCompat. I will add descriptions within the answer.","body":"@CoolMind You are correct. I just added some typical styles attributes with AppCompat. I will add descriptions within the answer."},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1442076023,"post_id":32540466,"comment_id":52939512,"body_markdown":"Eugene, yes, moving from ActionBar to a ToolBar is a good idea.","body":"Eugene, yes, moving from ActionBar to a ToolBar is a good idea."},{"owner":{"account_id":953949,"reputation":7872,"user_id":979580,"accept_rate":92,"display_name":"Alexander Bell"},"score":0,"creation_date":1569247418,"post_id":32540466,"comment_id":102524744,"body_markdown":"This is probably the best solution and should be accepted as an answer. It&#39;s based on the latest technique available in Android dev studio, thus recommended for use. Kudos to Eugene H.","body":"This is probably the best solution and should be accepted as an answer. It&#39;s based on the latest technique available in Android dev studio, thus recommended for use. Kudos to Eugene H."}],"tags":[],"owner":{"account_id":4838192,"reputation":3540,"user_id":3904085,"accept_rate":71,"display_name":"Eugene H"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1442076304,"creation_date":1442071397,"answer_id":32540466,"question_id":25863676,"body_markdown":"Considering everyone is posting older ways of hiding the ActionBar here is the proper way of implementing it within styles for AppCompat support library. Which I highly suggest moving toward if you haven&#39;t already. \r\n\r\nSimply removing the ActionBar\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n    &lt;/style&gt;\r\n\r\nIf you are using the appcompat support libraries, this is the easiest and recommended way of hiding the ActionBar to make full screen or start implementing to toolbar within your layouts.\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Your Toolbar Color--&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/primary&lt;/item&gt;\r\n\r\n        &lt;!-- colorPrimaryDark is used for the status bar --&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/primary_dark&lt;/item&gt;\r\n\r\n        &lt;!-- colorAccent is used as the default value for colorControlActivated,\r\n         which is used to tint widgets --&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/accent&lt;/item&gt;\r\n\r\n        &lt;!-- You can also set colorControlNormal, colorControlActivated\r\n         colorControlHighlight, and colorSwitchThumbNormal. --&gt;\r\n    &lt;/style&gt;\r\n\r\nThen to change your toolbar color\r\n\r\n\r\n\t&lt;android.support.v7.widget.Toolbar\r\n\t\tandroid:id=@+id/my_awesome_toolbar\r\n\t\tandroid:layout_height=wrap_content\r\n\t\tandroid:layout_width=match_parent\r\n\t\tandroid:minHeight=?attr/actionBarSize\r\n\t\tandroid:background=?attr/primary /&gt;\r\n\r\nLast note: Your Activity class should extend AppCompatActivity\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\t\r\n\t&lt;!--Activity Items --&gt;\r\n\t\r\n\t}","title":"Android Activity without ActionBar","body":"<p>Considering everyone is posting older ways of hiding the ActionBar here is the proper way of implementing it within styles for AppCompat support library. Which I highly suggest moving toward if you haven't already. </p>\n\n<p>Simply removing the ActionBar</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>If you are using the appcompat support libraries, this is the easiest and recommended way of hiding the ActionBar to make full screen or start implementing to toolbar within your layouts.</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Your Toolbar Color--&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/primary&lt;/item&gt;\n\n    &lt;!-- colorPrimaryDark is used for the status bar --&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/primary_dark&lt;/item&gt;\n\n    &lt;!-- colorAccent is used as the default value for colorControlActivated,\n     which is used to tint widgets --&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/accent&lt;/item&gt;\n\n    &lt;!-- You can also set colorControlNormal, colorControlActivated\n     colorControlHighlight, and colorSwitchThumbNormal. --&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Then to change your toolbar color</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    android:id=@+id/my_awesome_toolbar\n    android:layout_height=wrap_content\n    android:layout_width=match_parent\n    android:minHeight=?attr/actionBarSize\n    android:background=?attr/primary /&gt;\n</code></pre>\n\n<p>Last note: Your Activity class should extend AppCompatActivity</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n&lt;!--Activity Items --&gt;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139624,"reputation":687,"user_id":1123898,"display_name":"atablash"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1548019479,"creation_date":1446051341,"answer_id":33397039,"question_id":25863676,"body_markdown":"If you&#39;re using `AppCompat`, declare your activity in `AndroidManifest.xml` as follows:\r\n\r\n    &lt;activity\r\n        android:name=&quot;.SomeActivity&quot;\r\n        ...\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot; /&gt;\r\n\r\n","title":"Android Activity without ActionBar","body":"<p>If you're using <code>AppCompat</code>, declare your activity in <code>AndroidManifest.xml</code> as follows:</p>\n\n<pre><code>&lt;activity\n    android:name=\".SomeActivity\"\n    ...\n    android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5407099,"reputation":479,"user_id":4305240,"display_name":"Claude"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1462892297,"creation_date":1462892297,"answer_id":37142193,"question_id":25863676,"body_markdown":"If you want most of your activities to have an action bar you would probably inherit your base theme from the default one (this is automatically generated by Android Studio per default):\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nAnd then add a special theme for your bar-less activity:\r\n\r\n    &lt;style name=&quot;AppTheme.NoTitle&quot; parent=&quot;AppTheme&quot;&gt;\r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name=&quot;actionBarTheme&quot;&gt;@null&lt;/item&gt;\r\n        &lt;/style&gt;\r\nFor me, setting *actionBarTheme* to *@null* was the solution.\r\n\r\nFinally setup the activity in your manifest file:\r\n\r\n    &lt;activity ... android:theme=&quot;@style/AppTheme.NoTitle&quot; ... &gt;","title":"Android Activity without ActionBar","body":"<p>If you want most of your activities to have an action bar you would probably inherit your base theme from the default one (this is automatically generated by Android Studio per default):</p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>And then add a special theme for your bar-less activity:</p>\n\n<pre><code>&lt;style name=\"AppTheme.NoTitle\" parent=\"AppTheme\"&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"actionBarTheme\"&gt;@null&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>For me, setting <em>actionBarTheme</em> to <em>@null</em> was the solution.</p>\n\n<p>Finally setup the activity in your manifest file:</p>\n\n<pre><code>&lt;activity ... android:theme=\"@style/AppTheme.NoTitle\" ... &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8738664,"reputation":281,"user_id":6536369,"display_name":"Karthick"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507622564,"creation_date":1507622564,"answer_id":46661527,"question_id":25863676,"body_markdown":"Create an new Style with any name, in my case &quot;Theme.Alert.NoActionBar&quot;\r\n\r\n    &lt;style name=&quot;Theme.Alert.NoActionBar&quot; parent=&quot;Theme.AppCompat.Dialog&quot;&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nset its parent as &quot;Theme.AppCompat.Dialog&quot; like in the above code\r\n\r\nopen AndoridManifest.xml and customize the activity you want to show as Alert Dialog like this\r\n\r\n        &lt;activity\r\n            android:excludeFromRecents=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Alert.NoActionBar&quot;\r\n            android:name=&quot;.activities.UserLoginActivity&quot; /&gt;\r\n\r\nin my app i want show my user login activity as Alert Dialog, these are the codes i used. hope this works for you!!!","title":"Android Activity without ActionBar","body":"<p>Create an new Style with any name, in my case \"Theme.Alert.NoActionBar\"</p>\n\n<pre><code>&lt;style name=\"Theme.Alert.NoActionBar\" parent=\"Theme.AppCompat.Dialog\"&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>set its parent as \"Theme.AppCompat.Dialog\" like in the above code</p>\n\n<p>open AndoridManifest.xml and customize the activity you want to show as Alert Dialog like this</p>\n\n<pre><code>    &lt;activity\n        android:excludeFromRecents=\"true\"\n        android:theme=\"@style/Theme.Alert.NoActionBar\"\n        android:name=\".activities.UserLoginActivity\" /&gt;\n</code></pre>\n\n<p>in my app i want show my user login activity as Alert Dialog, these are the codes i used. hope this works for you!!!</p>\n"},{"tags":[],"owner":{"account_id":12175559,"reputation":1820,"user_id":8888756,"display_name":"Mahmoud Salah Eldin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1536348080,"creation_date":1536348080,"answer_id":52228510,"question_id":25863676,"body_markdown":"open Manifest and add attribute theme = &quot;@style/Theme.AppCompat.Light.NoActionBar&quot; to activity you want it without actionbar :\r\n\r\n    &lt;application\r\n        ...\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            ...\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;","title":"Android Activity without ActionBar","body":"<p>open Manifest and add attribute theme = \"@style/Theme.AppCompat.Light.NoActionBar\" to activity you want it without actionbar :</p>\n\n<pre><code>&lt;application\n    ...\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"\n        android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n        ...\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7360764,"reputation":2305,"user_id":5604117,"accept_rate":30,"display_name":"D. Sergeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547372932,"creation_date":1547372932,"answer_id":54167686,"question_id":25863676,"body_markdown":"Please find the default theme in styles.xml\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nAnd change parent this way \r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;","title":"Android Activity without ActionBar","body":"<p>Please find the default theme in styles.xml</p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>And change parent this way </p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2277087,"reputation":6826,"user_id":2003070,"display_name":"Dmitry"},"score":3,"creation_date":1549274338,"post_id":54513307,"comment_id":95830401,"body_markdown":"How is your answer different from Eugene H&#39;s?","body":"How is your answer different from Eugene H&#39;s?"}],"tags":[],"owner":{"account_id":10078460,"reputation":3,"user_id":7449688,"display_name":"mustansir makda"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1549276660,"creation_date":1549272784,"answer_id":54513307,"question_id":25863676,"body_markdown":"It&#39;s Really Simple Just go to your `styles.xml` change the parent Theme to either\r\n`Theme.AppCompat.Light.NoActionBar` or `Theme.AppCompat.NoActionbar` and you are done.. :)","title":"Android Activity without ActionBar","body":"<p>It's Really Simple Just go to your <code>styles.xml</code> change the parent Theme to either\n<code>Theme.AppCompat.Light.NoActionBar</code> or <code>Theme.AppCompat.NoActionbar</code> and you are done.. :)</p>\n"},{"tags":[],"owner":{"account_id":13390389,"reputation":121,"user_id":9662902,"display_name":"Prashant Mhetre"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1555917578,"creation_date":1555917578,"answer_id":55790630,"question_id":25863676,"body_markdown":"Default style you getting in res/value/style.xml like \r\n\r\n```\r\n  &lt;style name=&quot;AppTheme.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n  &lt;/style&gt;\r\n```\r\nAnd just the below like in your activity tag,\r\n\r\n```\r\nandroid:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n```\r\n","title":"Android Activity without ActionBar","body":"<p>Default style you getting in res/value/style.xml like </p>\n\n<pre><code>  &lt;style name=\"AppTheme.NoActionBar\"&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n  &lt;/style&gt;\n</code></pre>\n\n<p>And just the below like in your activity tag,</p>\n\n<pre><code>android:theme=\"@style/AppTheme.NoActionBar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13733259,"reputation":1173,"user_id":9910265,"display_name":"Mohamed Ben Romdhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603977650,"creation_date":1603977650,"answer_id":64591962,"question_id":25863676,"body_markdown":"Put this line in your `Activity` in the `Manifest`:\r\n\r\n````\r\n&lt;activity android:name=&quot;.MainActivity&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        ...\r\n    &lt;/activity&gt;\r\n````\r\nand make sure you didn&#39;t put `Toolbar` in your layout\r\n\r\n````\r\n &lt;androidx.appcompat.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            /&gt;\r\n````","title":"Android Activity without ActionBar","body":"<p>Put this line in your <code>Activity</code> in the <code>Manifest</code>:</p>\n<pre><code>&lt;activity android:name=&quot;.MainActivity&quot;\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        ...\n    &lt;/activity&gt;\n</code></pre>\n<p>and make sure you didn't put <code>Toolbar</code> in your layout</p>\n<pre><code> &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6993660,"reputation":8644,"user_id":5361964,"accept_rate":40,"display_name":"Zohab Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628716361,"creation_date":1628716361,"answer_id":68748983,"question_id":25863676,"body_markdown":"    android:theme=&quot;@style/Theme.MaterialComponents.Light.NoActionBar&quot;\r\n\r\nUsing this theme worked for me","title":"Android Activity without ActionBar","body":"<pre><code>android:theme=&quot;@style/Theme.MaterialComponents.Light.NoActionBar&quot;\n</code></pre>\n<p>Using this theme worked for me</p>\n"}],"owner":{"account_id":5022111,"reputation":1152,"user_id":4035306,"display_name":"Mentos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166326,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":25863690,"answer_count":14,"score":81,"last_activity_date":1671848551,"creation_date":1410855014,"question_id":25863676,"body_markdown":"I have different `Activities` in my App and in all of them I do not want the `Action Bar`. I cannot find how to disable it. I have tried to find an attribute to apply it to the `main_activity.xml` but so far I did not find anything. Can somebody help me please?","title":"Android Activity without ActionBar","body":"<p>I have different <code>Activities</code> in my App and in all of them I do not want the <code>Action Bar</code>. I cannot find how to disable it. I have tried to find an attribute to apply it to the <code>main_activity.xml</code> but so far I did not find anything. Can somebody help me please?</p>\n"},{"tags":["java","android","json","android-arrayadapter"],"comments":[{"owner":{"account_id":1018150,"reputation":45383,"user_id":1029225,"display_name":"MH."},"score":1,"creation_date":1330132318,"post_id":9440138,"comment_id":11939116,"body_markdown":"There&#39;s tons of [similar question asked before on SO](http://stackoverflow.com/search?q=json+array+listview) - did you have a browse through those? If all you want to do is show a list of names, there&#39;s no need to subclass ArrayAdapter.","body":"There&#39;s tons of <a href=\"http://stackoverflow.com/search?q=json+array+listview\">similar question asked before on SO</a> - did you have a browse through those? If all you want to do is show a list of names, there&#39;s no need to subclass ArrayAdapter."}],"answers":[{"tags":[],"owner":{"account_id":137918,"reputation":30865,"user_id":342473,"accept_rate":77,"display_name":"Mariusz Jamro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330132193,"creation_date":1330132193,"answer_id":9440207,"question_id":9440138,"body_markdown":"Put the data into an Array and use ArrayAdapter to bind data to a list items.\r\n\r\nSee the article on:\r\n\r\nhttp://www.josecgomez.com/2010/05/03/android-putting-custom-objects-in-listview/","title":"How to convert JSONArray to ListView?","body":"<p>Put the data into an Array and use ArrayAdapter to bind data to a list items.</p>\n\n<p>See the article on:</p>\n\n<p><a href=\"http://www.josecgomez.com/2010/05/03/android-putting-custom-objects-in-listview/\" rel=\"nofollow\">http://www.josecgomez.com/2010/05/03/android-putting-custom-objects-in-listview/</a></p>\n"},{"tags":[],"owner":{"account_id":1263496,"reputation":1555,"user_id":1221286,"accept_rate":100,"display_name":"unbekant"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671846963,"creation_date":1330133153,"answer_id":9440282,"question_id":9440138,"body_markdown":"Inside your for loop where you are printing the names, you should be loading an array list containing the values you would like to insert to the list later.\r\nNotice that the example uses the following:\r\n        \r\n&lt;code&gt;ArrayList&lt; HashMap &lt; String, String &gt; &gt; mylist = new ArrayList &lt; HashMap &lt; String, String &gt; &gt; ();&lt;/code&gt;\r\n\r\nAnd you have an integer and a string to add to the structure so you could simply turn that ID into a String and problem solved.\r\nAfterwards you can use a list adapter without the need  of creating a separate class:\r\n   \r\n&lt;code&gt; ListAdapter adapter = new SimpleAdapter(this, mylist , R.layout.main, new String[] { &quot;name&quot;, &quot;id&quot; }, new int[] { R.id.item_title, R.id.item_subtitle });&lt;/code&gt;\r\n\r\nWhere &quot;name&quot; and &quot;id&quot; will be the keys in your map for the name and id values returned by json and item_title, item_subtitle the views to &quot;adapt&quot; the text on.\r\n","title":"How to convert JSONArray to ListView?","body":"<p>Inside your for loop where you are printing the names, you should be loading an array list containing the values you would like to insert to the list later.\nNotice that the example uses the following:</p>\n<p><code>ArrayList&lt; HashMap &lt; String, String &gt; &gt; mylist = new ArrayList &lt; HashMap &lt; String, String &gt; &gt; ();</code></p>\n<p>And you have an integer and a string to add to the structure so you could simply turn that ID into a String and problem solved.\nAfterwards you can use a list adapter without the need  of creating a separate class:</p>\n<p><code> ListAdapter adapter = new SimpleAdapter(this, mylist , R.layout.main, new String[] { &quot;name&quot;, &quot;id&quot; }, new int[] { R.id.item_title, R.id.item_subtitle });</code></p>\n<p>Where &quot;name&quot; and &quot;id&quot; will be the keys in your map for the name and id values returned by json and item_title, item_subtitle the views to &quot;adapt&quot; the text on.</p>\n"},{"comments":[{"owner":{"account_id":1128103,"reputation":109,"user_id":1114866,"accept_rate":71,"display_name":"Beetle"},"score":0,"creation_date":1330152684,"post_id":9440439,"comment_id":11941406,"body_markdown":"Thanks.. this is exactly what I wanted. I know this might not be the best way to do this, however, I only wanted one working model because I was about to loose my head thinking about this. Now I am going to look at making this program much efficient. Thank you very much..","body":"Thanks.. this is exactly what I wanted. I know this might not be the best way to do this, however, I only wanted one working model because I was about to loose my head thinking about this. Now I am going to look at making this program much efficient. Thank you very much.."}],"tags":[],"owner":{"account_id":1228367,"reputation":1446,"user_id":1193475,"display_name":"ByteMe"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1330134787,"creation_date":1330134787,"answer_id":9440439,"question_id":9440138,"body_markdown":"If you just want to display a list of textViews you don&#39;t need to override anything, you can just add all of the items into an arrayList and use an arrayAdapter. \r\n\r\nPut a list view in your xml that is named android:list and then create your arrayAdapter with the textView you want to use.\r\n\r\nAfter that all you have to do is call setListAdapter(mArrayAdapter) and it should populate your list.\r\n\r\n    ArrayList&lt;String&gt; items = new ArrayList&lt;String&gt;();\r\n    for(int i=0; i &lt; jArray.length() ; i++) {\r\n        json_data = jArray.getJSONObject(i);\r\n        int id=json_data.getInt(&quot;id&quot;);\r\n        String name=json_data.getString(&quot;name&quot;);\r\n        items.add(name);\r\n        Log.d(name,&quot;Output&quot;);\r\n    }\r\n\r\n    ArrayAdapter&lt;String&gt; mArrayAdapter = new ArrayAdapter&lt;String&gt;(this,  \r\n               android.R.layout.simple_expandable_list_item_1, items));\r\n    setListAdapter(mArrayAdapter)\r\n\r\n\r\nhope this helps!","title":"How to convert JSONArray to ListView?","body":"<p>If you just want to display a list of textViews you don't need to override anything, you can just add all of the items into an arrayList and use an arrayAdapter. </p>\n\n<p>Put a list view in your xml that is named android:list and then create your arrayAdapter with the textView you want to use.</p>\n\n<p>After that all you have to do is call setListAdapter(mArrayAdapter) and it should populate your list.</p>\n\n<pre><code>ArrayList&lt;String&gt; items = new ArrayList&lt;String&gt;();\nfor(int i=0; i &lt; jArray.length() ; i++) {\n    json_data = jArray.getJSONObject(i);\n    int id=json_data.getInt(\"id\");\n    String name=json_data.getString(\"name\");\n    items.add(name);\n    Log.d(name,\"Output\");\n}\n\nArrayAdapter&lt;String&gt; mArrayAdapter = new ArrayAdapter&lt;String&gt;(this,  \n           android.R.layout.simple_expandable_list_item_1, items));\nsetListAdapter(mArrayAdapter)\n</code></pre>\n\n<p>hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":4720369,"reputation":4182,"user_id":3818437,"display_name":"mhdjazmati"},"score":0,"creation_date":1553353410,"post_id":22756925,"comment_id":97357206,"body_markdown":"this is great answer BTY","body":"this is great answer BTY"}],"tags":[],"owner":{"account_id":105957,"reputation":6322,"user_id":282484,"display_name":"Luca Rocchi"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396254736,"creation_date":1396254736,"answer_id":22756925,"question_id":9440138,"body_markdown":"I do not like to remap data while i already have them in a JSON array\r\nso this is my code ... it is simple enough for me ....hope it helps\r\n\r\n    package ...;\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.ListFragment;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.BaseAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    \r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    public class DataListFragment extends ListFragment{\r\n    \tJSONArray data;\r\n    \r\n    \tpublic DataListFragment(){\r\n    \r\n    \t}\r\n    \r\n    \t@Override \r\n    \tpublic void onActivityCreated(Bundle savedInstanceState) {\r\n    \t\tsuper.onActivityCreated(savedInstanceState);\r\n    \t\tLog.i(&quot;mycode&quot;, &quot;DataListFragment onActivityCreated&quot;);\r\n    \t\tdata=((MainActivity)this.getActivity()).data;\r\n    \t\tLog.i(&quot;mycode&quot;, &quot;data length &quot;+data.toString());\r\n    \t\tsetEmptyText(&quot;No Data Here&quot;);\r\n    \t\tfinal JSONArrayAdapter adapter = new JSONArrayAdapter(this.getActivity(),data);\r\n    \t\tsetListAdapter(adapter);\r\n    \r\n    \t\t// Start out with a progress indicator.\r\n    \t\t//setListShown(false);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onListItemClick(ListView l, View v, int position, long id) {\r\n    \t\t// Insert desired behavior here.\r\n    \t\tLog.i(&quot;mycode&quot;, &quot;Item clicked: &quot; + id);\r\n    \t}\r\n    \r\n    \tprivate class JSONArrayAdapter extends BaseAdapter {\r\n    \t\tJSONArray data;\r\n    \t\tContext context;\r\n    \r\n    \t\tpublic JSONArrayAdapter(Context context,JSONArray data) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.context=context;\r\n    \t\t\tthis.data=data;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getCount() {\r\n    \t\t\treturn data.length();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Object getItem(int arg0) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\ttry {\r\n    \t\t\t\treturn data.getJSONObject(arg0);\r\n    \t\t\t} catch (JSONException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic long getItemId(int arg0) {\r\n    \t\t\treturn arg0;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean hasStableIds(){\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic boolean isEmpty(){\r\n    \t\t\treturn data==null || data.length()==0;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic View getView(int position, View convertView, ViewGroup parent) {\r\n    \t\t\tLayoutInflater inflater = (LayoutInflater) context\r\n    \t\t\t\t\t.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    \t\t\tView rowView = inflater.inflate(R.layout.single_item, parent, false);\r\n    \t\t\tTextView textView1 = (TextView) rowView.findViewById(R.id.firstLine);\r\n    \t\t\tTextView textView2 = (TextView) rowView.findViewById(R.id.secondLine);\r\n    \t\t\t//ImageView imageView = (ImageView) rowView.findViewById(R.id.icon);\r\n    \t\t\ttry {\r\n    \t\t\t\tJSONObject jo = (JSONObject) data.get(position);\r\n    \t\t\t\ttextView1.setText(jo.getString(&quot;category_title&quot;));\r\n    \t\t\t\ttextView2.setText(jo.getString(&quot;description&quot;));\r\n    \t\t\t} catch (JSONException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\treturn rowView;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;?android:attr/listPreferredItemHeight&quot;\r\n        android:padding=&quot;6dip&quot; &gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/icon&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginRight=&quot;6dip&quot;\r\n            android:contentDescription=&quot;icon&quot;\r\n            android:src=&quot;@drawable/ic_launcher&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/secondLine&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;26dip&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_toRightOf=&quot;@id/icon&quot;\r\n            android:ellipsize=&quot;marquee&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:textSize=&quot;12sp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/firstLine&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@id/secondLine&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignWithParentIfMissing=&quot;true&quot;\r\n            android:layout_toRightOf=&quot;@id/icon&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt; ","title":"How to convert JSONArray to ListView?","body":"<p>I do not like to remap data while i already have them in a JSON array\nso this is my code ... it is simple enough for me ....hope it helps</p>\n\n<pre><code>package ...;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.support.v4.app.ListFragment;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.BaseAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\npublic class DataListFragment extends ListFragment{\n    JSONArray data;\n\n    public DataListFragment(){\n\n    }\n\n    @Override \n    public void onActivityCreated(Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        Log.i(\"mycode\", \"DataListFragment onActivityCreated\");\n        data=((MainActivity)this.getActivity()).data;\n        Log.i(\"mycode\", \"data length \"+data.toString());\n        setEmptyText(\"No Data Here\");\n        final JSONArrayAdapter adapter = new JSONArrayAdapter(this.getActivity(),data);\n        setListAdapter(adapter);\n\n        // Start out with a progress indicator.\n        //setListShown(false);\n    }\n\n    @Override\n    public void onListItemClick(ListView l, View v, int position, long id) {\n        // Insert desired behavior here.\n        Log.i(\"mycode\", \"Item clicked: \" + id);\n    }\n\n    private class JSONArrayAdapter extends BaseAdapter {\n        JSONArray data;\n        Context context;\n\n        public JSONArrayAdapter(Context context,JSONArray data) {\n            super();\n            this.context=context;\n            this.data=data;\n        }\n\n        @Override\n        public int getCount() {\n            return data.length();\n        }\n\n        @Override\n        public Object getItem(int arg0) {\n            // TODO Auto-generated method stub\n            try {\n                return data.getJSONObject(arg0);\n            } catch (JSONException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        public long getItemId(int arg0) {\n            return arg0;\n        }\n\n        @Override\n        public boolean hasStableIds(){\n            return true;\n        }\n\n        @Override\n        public boolean isEmpty(){\n            return data==null || data.length()==0;\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n            LayoutInflater inflater = (LayoutInflater) context\n                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            View rowView = inflater.inflate(R.layout.single_item, parent, false);\n            TextView textView1 = (TextView) rowView.findViewById(R.id.firstLine);\n            TextView textView2 = (TextView) rowView.findViewById(R.id.secondLine);\n            //ImageView imageView = (ImageView) rowView.findViewById(R.id.icon);\n            try {\n                JSONObject jo = (JSONObject) data.get(position);\n                textView1.setText(jo.getString(\"category_title\"));\n                textView2.setText(jo.getString(\"description\"));\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            return rowView;\n        }\n\n    }\n\n}\n\n\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"?android:attr/listPreferredItemHeight\"\n    android:padding=\"6dip\" &gt;\n\n    &lt;ImageView\n        android:id=\"@+id/icon\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"fill_parent\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginRight=\"6dip\"\n        android:contentDescription=\"icon\"\n        android:src=\"@drawable/ic_launcher\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/secondLine\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"26dip\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_toRightOf=\"@id/icon\"\n        android:ellipsize=\"marquee\"\n        android:singleLine=\"true\"\n        android:textSize=\"12sp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/firstLine\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_above=\"@id/secondLine\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignWithParentIfMissing=\"true\"\n        android:layout_toRightOf=\"@id/icon\"\n        android:gravity=\"center_vertical\"\n        android:textSize=\"16sp\" /&gt;\n\n&lt;/RelativeLayout&gt; \n</code></pre>\n"}],"owner":{"account_id":1128103,"reputation":109,"user_id":1114866,"accept_rate":71,"display_name":"Beetle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27806,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":9440439,"answer_count":4,"score":5,"last_activity_date":1671846963,"creation_date":1330131419,"question_id":9440138,"body_markdown":"I have a code which does following - \r\n\r\n1. Connect to a web service via HttpClient to PHP file\r\n2. Returns a result from an SQL query\r\n3. Returns format is a jArray (a JSONArray)\r\n\r\n&lt;b&gt;&lt;/b&gt;\r\n\r\n    for(int i=0; i &lt; jArray.length() ; i++) {\r\n        json_data = jArray.getJSONObject(i);\r\n        int id=json_data.getInt(&quot;id&quot;);\r\n        String name=json_data.getString(&quot;name&quot;);\r\n        Log.d(name,&quot;Output&quot;);\r\n    }\r\n\r\nWhen I look at the LogCat, I see all the &quot;names&quot; of the query, Each record is printed. I just need to plug these results into a ListView. How can I accomplish this ? \r\n\r\nPS - I do not have a separate class for an ArrayAdapter. Could this be the reason ? ","title":"How to convert JSONArray to ListView?","body":"<p>I have a code which does following - </p>\n\n<ol>\n<li>Connect to a web service via HttpClient to PHP file</li>\n<li>Returns a result from an SQL query</li>\n<li>Returns format is a jArray (a JSONArray)</li>\n</ol>\n\n<p><b></b></p>\n\n<pre><code>for(int i=0; i &lt; jArray.length() ; i++) {\n    json_data = jArray.getJSONObject(i);\n    int id=json_data.getInt(\"id\");\n    String name=json_data.getString(\"name\");\n    Log.d(name,\"Output\");\n}\n</code></pre>\n\n<p>When I look at the LogCat, I see all the \"names\" of the query, Each record is printed. I just need to plug these results into a ListView. How can I accomplish this ? </p>\n\n<p>PS - I do not have a separate class for an ArrayAdapter. Could this be the reason ? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":19,"creation_date":1387484475,"post_id":250517,"comment_id":30987483,"body_markdown":"There is a a nice [**Java Conceptual Diagram**](http://docs.oracle.com/javase/7/docs/index.html) (with clickable links) that can help too.","body":"There is a a nice <a href=\"http://docs.oracle.com/javase/7/docs/index.html\" rel=\"nofollow noreferrer\"><b>Java Conceptual Diagram</b></a> (with clickable links) that can help too."}],"answers":[{"comments":[{"owner":{"account_id":1160,"reputation":9209,"user_id":1541,"accept_rate":78,"display_name":"Joe Schneider"},"score":2,"creation_date":1225379701,"post_id":250534,"comment_id":111126,"body_markdown":"So, if I need JDK 1.6, what do I install?   Installing Java SE 6 gives me a JVM that reports as version 11.0!","body":"So, if I need JDK 1.6, what do I install?   Installing Java SE 6 gives me a JVM that reports as version 11.0!"},{"owner":{"account_id":80,"reputation":34261,"user_id":96,"accept_rate":68,"display_name":"Chris Marasti-Georg"},"score":1,"creation_date":1225379844,"post_id":250534,"comment_id":111134,"body_markdown":"You need to go to sun and download JDK 1.6 or 6, whatever they have it listed as.","body":"You need to go to sun and download JDK 1.6 or 6, whatever they have it listed as."},{"owner":{"account_id":8423,"reputation":736056,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":0,"creation_date":1225379866,"post_id":250534,"comment_id":111137,"body_markdown":"I believe that what comes with Java SE 6 should be the correct JDK, despite internal version number differences.","body":"I believe that what comes with Java SE 6 should be the correct JDK, despite internal version number differences."},{"owner":{"account_id":80,"reputation":34261,"user_id":96,"accept_rate":68,"display_name":"Chris Marasti-Georg"},"score":0,"creation_date":1225379897,"post_id":250534,"comment_id":111139,"body_markdown":"http://java.sun.com/javase/downloads/index.jsp 2nd option, Java SE Development Kit (JDK) 6 Update 10","body":"<a href=\"http://java.sun.com/javase/downloads/index.jsp\" rel=\"nofollow noreferrer\">java.sun.com/javase/downloads/index.jsp</a> 2nd option, Java SE Development Kit (JDK) 6 Update 10"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1335471594,"post_id":250534,"comment_id":13318679,"body_markdown":"You don&#39;t need a JDK to develop a java app. All you need is a Java compiler, if you are using Eclipse you don&#39;t need to download any JDK (Eclipse has its own compiler).","body":"You don&#39;t need a JDK to develop a java app. All you need is a Java compiler, if you are using Eclipse you don&#39;t need to download any JDK (Eclipse has its own compiler)."},{"owner":{"account_id":8423,"reputation":736056,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":1,"creation_date":1335472832,"post_id":250534,"comment_id":13319119,"body_markdown":"@Pacerier: was that true in October 2008?  Also, the principle component of the JDK is the Java compiler, isn&#39;t it?","body":"@Pacerier: was that true in October 2008?  Also, the principle component of the JDK is the Java compiler, isn&#39;t it?"},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1335473872,"post_id":250534,"comment_id":13319482,"body_markdown":"@JonathanLeffler Yes, but the JDK comes with many other things besides the Java compiler. We don&#39;t need the JDK to develop a java app, all we need is a Java compiler.","body":"@JonathanLeffler Yes, but the JDK comes with many other things besides the Java compiler. We don&#39;t need the JDK to develop a java app, all we need is a Java compiler."},{"owner":{"account_id":69714,"reputation":6669,"user_id":202705,"accept_rate":56,"display_name":"magallanes"},"score":0,"creation_date":1429353813,"post_id":250534,"comment_id":47567006,"body_markdown":"And way years later, Java 6 is still alive and kicking, at least in the banking sector.","body":"And way years later, Java 6 is still alive and kicking, at least in the banking sector."},{"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"score":2,"creation_date":1515215969,"post_id":250534,"comment_id":83225930,"body_markdown":"*&quot;SE defines a set of capabilities and functionalities&quot;*. This is vague. Could you elaborate more on this? I understand that JDK contains the compiler and *probably* the standard libraries **too**. Am I right? If yes, what does SE contain? What *kind* of capabilities and functionalities? I mean if I want to use lambda, then I&#39;ve to install appropriate JDK to compile my code, right? and SE has no role there?","body":"<i>&quot;SE defines a set of capabilities and functionalities&quot;</i>. This is vague. Could you elaborate more on this? I understand that JDK contains the compiler and <i>probably</i> the standard libraries <b>too</b>. Am I right? If yes, what does SE contain? What <i>kind</i> of capabilities and functionalities? I mean if I want to use lambda, then I&#39;ve to install appropriate JDK to compile my code, right? and SE has no role there?"},{"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"score":0,"creation_date":1515216583,"post_id":250534,"comment_id":83226046,"body_markdown":"... and who contains the JVM? SE, JDK, JRE? :-/ I guess it is JRE which contains the JVM. I think you need to update your answer with these informations.","body":"... and who contains the JVM? SE, JDK, JRE? :-/ I guess it is JRE which contains the JVM. I think you need to update your answer with these informations."},{"owner":{"account_id":8423,"reputation":736056,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":1,"creation_date":1515222684,"post_id":250534,"comment_id":83227063,"body_markdown":"@Nawaz: There&#39;s a serious limit to how much of that sort of information could be included in this answer without it becoming too broad.  Such questions are answered on the Oracle and Java web sites.  For example, you should review [Where can I get technical information about Java](https://java.com/en/download/faq/techinfo.xml).  It has sections comparing and contrasting JRE and JDK, and JRE and JSE.  I believe the JVM comes with the JDK as well as with JRE; if you&#39;re a developer, you get JDK, but as a user, JRE is sufficient. Lambda support depends on the version of Java (9 vs 8 vs 7 vs 6...).","body":"@Nawaz: There&#39;s a serious limit to how much of that sort of information could be included in this answer without it becoming too broad.  Such questions are answered on the Oracle and Java web sites.  For example, you should review <a href=\"https://java.com/en/download/faq/techinfo.xml\" rel=\"nofollow noreferrer\">Where can I get technical information about Java</a>.  It has sections comparing and contrasting JRE and JDK, and JRE and JSE.  I believe the JVM comes with the JDK as well as with JRE; if you&#39;re a developer, you get JDK, but as a user, JRE is sufficient. Lambda support depends on the version of Java (9 vs 8 vs 7 vs 6...)."},{"owner":{"account_id":9767041,"reputation":920,"user_id":7240133,"display_name":"Lefteris Xris"},"score":0,"creation_date":1559809646,"post_id":250534,"comment_id":99537805,"body_markdown":"@JonathanLeffler Are you going to add another edit section, now that **Oracle&#39;s JDK licensing has changed**? The word is keep turning :)","body":"@JonathanLeffler Are you going to add another edit section, now that <b>Oracle&#39;s JDK licensing has changed</b>? The word is keep turning :)"},{"owner":{"account_id":8423,"reputation":736056,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":0,"creation_date":1583256003,"post_id":250534,"comment_id":107051908,"body_markdown":"@LefterisXris: I&#39;m not really planning to do more updates to this answer.  I don&#39;t work with Java much, and am not keeping sufficiently up-to-date on the current versions.  I think Java 12 is current (Wikipedia on [Java Version History](https://en.wikipedia.org/wiki/Java_version_history))  but I think the &#39;real world&#39; is mostly using much older versions (8, even 7 and 6 still; sometimes something a bit newer), maybe in part because of the licensing changes.","body":"@LefterisXris: I&#39;m not really planning to do more updates to this answer.  I don&#39;t work with Java much, and am not keeping sufficiently up-to-date on the current versions.  I think Java 12 is current (Wikipedia on <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">Java Version History</a>)  but I think the &#39;real world&#39; is mostly using much older versions (8, even 7 and 6 still; sometimes something a bit newer), maybe in part because of the licensing changes."}],"tags":[],"owner":{"account_id":8423,"reputation":736056,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"comment_count":13,"down_vote_count":0,"up_vote_count":203,"is_accepted":false,"score":203,"last_activity_date":1430361606,"creation_date":1225379592,"answer_id":250534,"question_id":250517,"body_markdown":"* JDK - Java Development Kit\r\n* JRE - Java Runtime Environment\r\n* Java SE - Java Standard Edition\r\n\r\nSE defines a set of capabilities and functionalities; there are more complex editions (Enterprise Edition  EE) and simpler ones (Micro Edition  ME  for mobile environments).\r\n\r\nThe JDK includes the compiler and other tools needed to develop Java applications; JRE does not.  So, to run a Java application someone else provides, you need JRE; to develop a Java application, you need JDK.\r\n\r\n*Edited*:\r\nAs Chris Marasti-Georg pointed out in a comment, you can find out lots of information at Sun&#39;s [Java][1] web site, and in particular from the [Java SE][2] section, (2nd option, Java SE Development Kit (JDK) 6 Update 10).\r\n\r\n&lt;hr&gt;\r\n\r\n*Edited 2011-04-06:*\r\nThe world turns, and Java is now managed by Oracle, which bought Sun.  Later this year, the `sun.com` domain is supposed to go dark.  The new page (based on a redirect) is this [Java][3] page at the Oracle Tech Network.  (See also [java.com][4].)\r\n\r\n&lt;hr&gt;\r\n\r\n*Edited 2013-01-11:* And the world keeps on turning (2012-12-21 notwithstanding), and lo and behold, JRE 6 is about to reach its end of support.  [Oracle](http://www.oracle.com/technetwork/java/eol-135779.html) says no more public updates to Java 6 after February 2013.\r\n\r\nWithin a given version of Java, this answer remains valid.  JDK is the Java Development Kit, JRE is the Java Runtime Environment, Java SE is the standard edition, and so on.  But the version 6 (1.6) is becoming antiquated.\r\n\r\n*Edited 2015-04-29:* And with another couple of revolutions around the sun, the time has come for the end of support for Java SE 7, too.  In April 2015, Oracle [affirmed](http://www.oracle.com/technetwork/java/eol-135779.html) that it was no longer providing public updates to Java SE 7.  The tentative end of public updates for Java SE 8 is March 2017, but that end date is subject to change (later, not earlier).\r\n\r\n\r\n  [1]: http://java.sun.com/\r\n  [2]: http://java.sun.com/javase/downloads/index.jsp\r\n  [3]: http://www.oracle.com/technetwork/java/index.html\r\n  [4]: http://java.com/","title":"Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?","body":"<ul>\n<li>JDK - Java Development Kit</li>\n<li>JRE - Java Runtime Environment</li>\n<li>Java SE - Java Standard Edition</li>\n</ul>\n\n<p>SE defines a set of capabilities and functionalities; there are more complex editions (Enterprise Edition  EE) and simpler ones (Micro Edition  ME  for mobile environments).</p>\n\n<p>The JDK includes the compiler and other tools needed to develop Java applications; JRE does not.  So, to run a Java application someone else provides, you need JRE; to develop a Java application, you need JDK.</p>\n\n<p><em>Edited</em>:\nAs Chris Marasti-Georg pointed out in a comment, you can find out lots of information at Sun's <a href=\"http://java.sun.com/\" rel=\"noreferrer\">Java</a> web site, and in particular from the <a href=\"http://java.sun.com/javase/downloads/index.jsp\" rel=\"noreferrer\">Java SE</a> section, (2nd option, Java SE Development Kit (JDK) 6 Update 10).</p>\n\n<hr>\n\n<p><em>Edited 2011-04-06:</em>\nThe world turns, and Java is now managed by Oracle, which bought Sun.  Later this year, the <code>sun.com</code> domain is supposed to go dark.  The new page (based on a redirect) is this <a href=\"http://www.oracle.com/technetwork/java/index.html\" rel=\"noreferrer\">Java</a> page at the Oracle Tech Network.  (See also <a href=\"http://java.com/\" rel=\"noreferrer\">java.com</a>.)</p>\n\n<hr>\n\n<p><em>Edited 2013-01-11:</em> And the world keeps on turning (2012-12-21 notwithstanding), and lo and behold, JRE 6 is about to reach its end of support.  <a href=\"http://www.oracle.com/technetwork/java/eol-135779.html\" rel=\"noreferrer\">Oracle</a> says no more public updates to Java 6 after February 2013.</p>\n\n<p>Within a given version of Java, this answer remains valid.  JDK is the Java Development Kit, JRE is the Java Runtime Environment, Java SE is the standard edition, and so on.  But the version 6 (1.6) is becoming antiquated.</p>\n\n<p><em>Edited 2015-04-29:</em> And with another couple of revolutions around the sun, the time has come for the end of support for Java SE 7, too.  In April 2015, Oracle <a href=\"http://www.oracle.com/technetwork/java/eol-135779.html\" rel=\"noreferrer\">affirmed</a> that it was no longer providing public updates to Java SE 7.  The tentative end of public updates for Java SE 8 is March 2017, but that end date is subject to change (later, not earlier).</p>\n"},{"comments":[{"owner":{"account_id":1160,"reputation":9209,"user_id":1541,"accept_rate":78,"display_name":"Joe Schneider"},"score":9,"creation_date":1225380180,"post_id":250559,"comment_id":111146,"body_markdown":"So, what is the difference between JVM 1.6 and JVM 11.0?  What is hotspot?","body":"So, what is the difference between JVM 1.6 and JVM 11.0?  What is hotspot?"},{"owner":{"account_id":1160,"reputation":9209,"user_id":1541,"accept_rate":78,"display_name":"Joe Schneider"},"score":0,"creation_date":1225381297,"post_id":250559,"comment_id":111201,"body_markdown":"Thanks, that was the confusion - two different version numbers.","body":"Thanks, that was the confusion - two different version numbers."},{"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"score":2,"creation_date":1283872826,"post_id":250559,"comment_id":3850246,"body_markdown":"Actually HotSpot isn&#39;t a JIT. JIT implies that compilation takes place before execution. HotSpot first uses intepretation to execute and analyze the code before compiling/optimizing selected parts of the program.","body":"Actually HotSpot isn&#39;t a JIT. JIT implies that compilation takes place before execution. HotSpot first uses intepretation to execute and analyze the code before compiling/optimizing selected parts of the program."}],"tags":[],"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":3,"down_vote_count":4,"up_vote_count":65,"is_accepted":true,"score":61,"last_activity_date":1225380409,"creation_date":1225379949,"answer_id":250559,"question_id":250517,"body_markdown":"When you type &quot;java -version&quot;, you see three version numbers - the java version (on mine, that&#39;s &quot;`1.6.0_07`&quot;), the Java SE Runtime Environment version (&quot;build `1.6.0_07-b06`&quot;), and the HotSpot version (on mine, that&#39;s &quot;`build 10.0-b23, mixed mode&quot;`).  I suspect the &quot;11.0&quot; you are seeing is the HotSpot version.\r\n\r\nUpdate: HotSpot is (or used to be, now they seem to use it to mean the whole VM) the just-in-time compiler that is built in to the Java Virtual Machine.  God only knows why Sun gives it a separate version number.","title":"Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?","body":"<p>When you type \"java -version\", you see three version numbers - the java version (on mine, that's \"<code>1.6.0_07</code>\"), the Java SE Runtime Environment version (\"build <code>1.6.0_07-b06</code>\"), and the HotSpot version (on mine, that's \"<code>build 10.0-b23, mixed mode\"</code>).  I suspect the \"11.0\" you are seeing is the HotSpot version.</p>\n\n<p>Update: HotSpot is (or used to be, now they seem to use it to mean the whole VM) the just-in-time compiler that is built in to the Java Virtual Machine.  God only knows why Sun gives it a separate version number.</p>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1617718142,"creation_date":1225380052,"answer_id":250569,"question_id":250517,"body_markdown":"With the release of Java 5, the product version was made distinct from the developer version as described [here](http://java.sun.com/j2se/1.5.0/docs/relnotes/version-5.0.html)\r\n\r\n## Version 1.5.0 or 5.0?\r\n\r\nBoth version numbers &quot;1.5.0&quot; and &quot;5.0&quot; are used to identify this release of the Java 2 Platform Standard Edition. Version &quot;5.0&quot; is the product version, while &quot;1.5.0&quot; is the developer version. The number &quot;5.0&quot; is used to better reflect the level of maturity, stability, scalability and security of the J2SE.\r\n\r\n### &quot;Version 5.0&quot; Used in Platform and Product Names\r\n\r\nVersion 5.0 is used in the platform and product names as given in this table:\r\n\r\n|                  | Full Name | Abbreviation |\r\n|------------------|----------------|--------------|\r\n| Platform name    | Java&amp;trade; 2 Platform Standard Edition 5.0 | J2SE&amp;trade; 5.0 |\r\n| Products delivered under the platform | J2SE&amp;trade; Development Kit 5.0 | JDK&amp;trade; 5.0 |\r\n|                   | J2SE&amp;trade; Runtime Environment 5.0 | JRE 5.0 |\r\n\r\n### &quot;Version 1.5.0&quot; Used by Developers\r\n\r\nJ2SE also keeps the version number 1.5.0 (or 1.5) in some places that are visible only to developers, or where the version number is parsed by programs. As mentioned, 1.5.0 refers to exactly the same platform and products numbered 5.0. Version numbers 1.5.0 and 1.5 are used at:\r\n\r\n- java -version (among other info, returns  java version &quot;1.5.0&quot;)\r\n- java -fullversion (returns  java full version &quot;1.5.0-b64&quot;)\r\n- javac -source 1.5 (javac -source 5  also works)\r\n- java.version system property \r\n- java.vm.version system property\r\n- @since 1.5 tag values\r\n- jdk1.5.0 installation directory\r\n- jre1.5.0 installation directory\r\n- http://java.sun.com/j2se/1.5.0 website (http://java.sun.com/j2se/5.0\r\n   also works)\r\n\r\n","title":"Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?","body":"<p>With the release of Java 5, the product version was made distinct from the developer version as described <a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/version-5.0.html\" rel=\"nofollow noreferrer\">here</a></p>\n<h2>Version 1.5.0 or 5.0?</h2>\n<p>Both version numbers &quot;1.5.0&quot; and &quot;5.0&quot; are used to identify this release of the Java 2 Platform Standard Edition. Version &quot;5.0&quot; is the product version, while &quot;1.5.0&quot; is the developer version. The number &quot;5.0&quot; is used to better reflect the level of maturity, stability, scalability and security of the J2SE.</p>\n<h3>&quot;Version 5.0&quot; Used in Platform and Product Names</h3>\n<p>Version 5.0 is used in the platform and product names as given in this table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>Full Name</th>\n<th>Abbreviation</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Platform name</td>\n<td>Java 2 Platform Standard Edition 5.0</td>\n<td>J2SE 5.0</td>\n</tr>\n<tr>\n<td>Products delivered under the platform</td>\n<td>J2SE Development Kit 5.0</td>\n<td>JDK 5.0</td>\n</tr>\n<tr>\n<td></td>\n<td>J2SE Runtime Environment 5.0</td>\n<td>JRE 5.0</td>\n</tr>\n</tbody>\n</table>\n</div><h3>&quot;Version 1.5.0&quot; Used by Developers</h3>\n<p>J2SE also keeps the version number 1.5.0 (or 1.5) in some places that are visible only to developers, or where the version number is parsed by programs. As mentioned, 1.5.0 refers to exactly the same platform and products numbered 5.0. Version numbers 1.5.0 and 1.5 are used at:</p>\n<ul>\n<li>java -version (among other info, returns  java version &quot;1.5.0&quot;)</li>\n<li>java -fullversion (returns  java full version &quot;1.5.0-b64&quot;)</li>\n<li>javac -source 1.5 (javac -source 5  also works)</li>\n<li>java.version system property</li>\n<li>java.vm.version system property</li>\n<li>@since 1.5 tag values</li>\n<li>jdk1.5.0 installation directory</li>\n<li>jre1.5.0 installation directory</li>\n<li><a href=\"http://java.sun.com/j2se/1.5.0\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0</a> website (<a href=\"http://java.sun.com/j2se/5.0\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/5.0</a>\nalso works)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1159798,"reputation":781,"user_id":1139559,"display_name":"fchen"},"score":10,"creation_date":1358867545,"post_id":7247851,"comment_id":20142659,"body_markdown":"this answer needs to be bumped up :)","body":"this answer needs to be bumped up :)"},{"owner":{"account_id":933262,"reputation":7628,"user_id":962696,"accept_rate":67,"display_name":"JonnyRaa"},"score":0,"creation_date":1385121767,"post_id":7247851,"comment_id":30023113,"body_markdown":"I recently had to install a jre to run one of the other installer and then had to install a 32 bit version to get one of the other installers to work.  The version I am using at the end of that is glassfish 4 which still doesnt seem to be providing javax.persistence.  It then turned out I needed maven, which you unzip and then set some environment variables.  What a mess!","body":"I recently had to install a jre to run one of the other installer and then had to install a 32 bit version to get one of the other installers to work.  The version I am using at the end of that is glassfish 4 which still doesnt seem to be providing javax.persistence.  It then turned out I needed maven, which you unzip and then set some environment variables.  What a mess!"},{"owner":{"account_id":913683,"reputation":869,"user_id":946979,"accept_rate":47,"display_name":"galmok"},"score":0,"creation_date":1414490773,"post_id":7247851,"comment_id":41823726,"body_markdown":"It seems to me that Java SE and Java SDK are one and the same package.","body":"It seems to me that Java SE and Java SDK are one and the same package."}],"tags":[],"owner":{"account_id":541586,"reputation":15722,"user_id":910201,"accept_rate":73,"display_name":"Xonatron"},"comment_count":3,"down_vote_count":0,"up_vote_count":123,"is_accepted":false,"score":123,"last_activity_date":1671846945,"creation_date":1314728247,"answer_id":7247851,"question_id":250517,"body_markdown":"This might help someone:\r\n\r\nI am installing the latest Java on my system for development, and currently it&#39;s Java SE 7. Now, let&#39;s dive into this &quot;madness&quot;, as you put it...\r\n\r\nAll of these are the same (when developers are talking about Java for development):\r\n\r\n - Java SE 7\r\n - Java SE v1.7.0\r\n - Java SE Development Kit 7\r\n\r\nStarting with Java v1.5:\r\n\r\n - v5 = v1.5.\r\n - v6 = v1.6.\r\n - v7 = v1.7.\r\n\r\nAnd we can assume this will remain for future versions.\r\n\r\nNext, for developers, download JDK, not JRE.\r\n\r\nJDK will contain JRE. If you need JDK and JRE, get JDK. Both will be installed from the single JDK install, as you will see below.\r\n\r\nAs someone above mentioned:\r\n\r\n - JDK = Java Development Kit (developers need this, this is you if you code in Java)\r\n - JRE = Java Runtime Environment (users need this, this is every computer user today)\r\n - Java SE = Java Standard Edition\r\n\r\nHere&#39;s the step by step links I followed (one step leads to the next, this is all for a single download) to download Java for development (JDK):\r\n\r\n1. Visit &quot;Java SE Downloads&quot;: http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n2. Click &quot;JDK Download&quot; and visit &quot;Java SE Development Kit 7 Downloads&quot;: http://www.oracle.com/technetwork/java/javase/downloads/java-se-jdk-7-download-432154.html (note that following the link from step #1 will take you to a different link as JDK 1.7 updates, later versions, are now out)\r\n3. Accept agreement :)\r\n4. Click &quot;Java SE Development Kit 7 (Windows x64)&quot;: http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-windows-x64.exe (for my 64-bit Windows 7 system)\r\n5. You are now downloading (hopefully the latest) JDK for your system! :)\r\n\r\nKeep in mind the above links are for reference purposes only, to show you the step by step method of what it takes to download the JDK.\r\n\r\nAnd install with default settings to:\r\n\r\n - C:\\Program Files\\Java\\jdk1.7.0\\ (JDK)\r\n - C:\\Program Files\\Java\\jre7\\ (JRE) &lt;--- why did it ask a new install folder? it&#39;s JRE!\r\n\r\nRemember from above that JDK contains JRE, which makes sense if you know what they both are. Again, see above.\r\n\r\nAfter your install, double check C:\\Program Files\\Java to see both these folders. Now you know what they are and why they are there.","title":"Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?","body":"<p>This might help someone:</p>\n<p>I am installing the latest Java on my system for development, and currently it's Java SE 7. Now, let's dive into this &quot;madness&quot;, as you put it...</p>\n<p>All of these are the same (when developers are talking about Java for development):</p>\n<ul>\n<li>Java SE 7</li>\n<li>Java SE v1.7.0</li>\n<li>Java SE Development Kit 7</li>\n</ul>\n<p>Starting with Java v1.5:</p>\n<ul>\n<li>v5 = v1.5.</li>\n<li>v6 = v1.6.</li>\n<li>v7 = v1.7.</li>\n</ul>\n<p>And we can assume this will remain for future versions.</p>\n<p>Next, for developers, download JDK, not JRE.</p>\n<p>JDK will contain JRE. If you need JDK and JRE, get JDK. Both will be installed from the single JDK install, as you will see below.</p>\n<p>As someone above mentioned:</p>\n<ul>\n<li>JDK = Java Development Kit (developers need this, this is you if you code in Java)</li>\n<li>JRE = Java Runtime Environment (users need this, this is every computer user today)</li>\n<li>Java SE = Java Standard Edition</li>\n</ul>\n<p>Here's the step by step links I followed (one step leads to the next, this is all for a single download) to download Java for development (JDK):</p>\n<ol>\n<li>Visit &quot;Java SE Downloads&quot;: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></li>\n<li>Click &quot;JDK Download&quot; and visit &quot;Java SE Development Kit 7 Downloads&quot;: <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/java-se-jdk-7-download-432154.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/java-se-jdk-7-download-432154.html</a> (note that following the link from step #1 will take you to a different link as JDK 1.7 updates, later versions, are now out)</li>\n<li>Accept agreement :)</li>\n<li>Click &quot;Java SE Development Kit 7 (Windows x64)&quot;: <a href=\"http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-windows-x64.exe\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn-pub/java/jdk/7/jdk-7-windows-x64.exe</a> (for my 64-bit Windows 7 system)</li>\n<li>You are now downloading (hopefully the latest) JDK for your system! :)</li>\n</ol>\n<p>Keep in mind the above links are for reference purposes only, to show you the step by step method of what it takes to download the JDK.</p>\n<p>And install with default settings to:</p>\n<ul>\n<li>C:\\Program Files\\Java\\jdk1.7.0\\ (JDK)</li>\n<li>C:\\Program Files\\Java\\jre7\\ (JRE) &lt;--- why did it ask a new install folder? it's JRE!</li>\n</ul>\n<p>Remember from above that JDK contains JRE, which makes sense if you know what they both are. Again, see above.</p>\n<p>After your install, double check C:\\Program Files\\Java to see both these folders. Now you know what they are and why they are there.</p>\n"},{"tags":[],"owner":{"account_id":3008778,"reputation":51,"user_id":2552701,"display_name":"mario"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1373007549,"creation_date":1373007549,"answer_id":17482886,"question_id":250517,"body_markdown":"Java SE Runtime is for end user, so you need Java JRE version, the first version of Java was the 1, then 1.1 - 1.2 - 1.3 - 1.4 - 1.5 - 1.6 etc and usually each version is named by version so JRE 6 means Java jre 1.6, anyway there is the update version, for example 1.6 update 45, which is named java jre 6u45.\r\n\r\nFrom what I know, they preferred to use the number 6 instead using 1.6 to better reflect the level of maturity, stability, scalability, security and more","title":"Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?","body":"<p>Java SE Runtime is for end user, so you need Java JRE version, the first version of Java was the 1, then 1.1 - 1.2 - 1.3 - 1.4 - 1.5 - 1.6 etc and usually each version is named by version so JRE 6 means Java jre 1.6, anyway there is the update version, for example 1.6 update 45, which is named java jre 6u45.</p>\n\n<p>From what I know, they preferred to use the number 6 instead using 1.6 to better reflect the level of maturity, stability, scalability, security and more</p>\n"},{"comments":[{"owner":{"account_id":84893,"reputation":3180,"user_id":237059,"accept_rate":88,"display_name":"Stabledog"},"score":7,"creation_date":1446065018,"post_id":23456523,"comment_id":54593693,"body_markdown":"Holy cow.  I thought only Microsoft had the crazy homeless people making up product names.","body":"Holy cow.  I thought only Microsoft had the crazy homeless people making up product names."},{"owner":{"account_id":14611,"reputation":64769,"user_id":30225,"accept_rate":77,"display_name":"Preet Sangha"},"score":4,"creation_date":1452023938,"post_id":23456523,"comment_id":56985984,"body_markdown":"It&#39;s madness. I&#39;ve never been able to comprehend these without having to look them up explicitly every time.","body":"It&#39;s madness. I&#39;ve never been able to comprehend these without having to look them up explicitly every time."}],"tags":[],"owner":{"account_id":47640,"reputation":10124,"user_id":141220,"accept_rate":72,"display_name":"Manav"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1399208415,"creation_date":1399208415,"answer_id":23456523,"question_id":250517,"body_markdown":"## A Brief and Maybe Incorrect History of Java Versions ##\r\n\r\n* Java is a platform. It consists of two products - the software development kit, and the runtime environment.\r\n\r\n* When Java was first released, it was apparently just called __Java__. If you were a developer, you also knew the version, which was a normal &quot;1.0&quot; and later a &quot;1.1&quot;. The two products that were part of the platform were also given names:\r\n\r\n  * JDK - &quot;Java Development Kit&quot;\r\n  * JRE - &quot;Java Runtime Environment&quot;\r\n\r\n* Apparently the changes in version 1.2 so significant that they started calling the platform as __Java 2__. \r\n\r\n  * The default &quot;distribution&quot; of the platform was given the moniker &quot;standard&quot; to contrast it with its siblings. So you had three platforms:\r\n\r\n      * __&quot;Java 2 Standard Edition (J2SE)&quot;__\r\n      * __&quot;Java 2 Enterprise Edition (J2EE)&quot;__\r\n      * __&quot;Java 2 Mobile Edition (J2ME)&quot;__\r\n\r\n  * The JDK was officially renamed to &quot;Java 2 Software Development Kit&quot;.\r\n\r\n* When version 1.5 came out, the suits decided that they needed to &quot;rebrand&quot; the product. So the Java platform got two versions - the product version &quot;5&quot; and the developer version &quot;1.5&quot; (Yes, the rule is explicitly mentioned -- &quot;drop the &#39;1.&#39;). However, the &quot;2&quot; was retained in the name. So now the platform is officially called __&quot;Java 2 Platform Standard Edition 5.0 (J2SE 5.0)&quot;__.\r\n   * The suits also realized that the development community was not picking up their renaming of the JDK. But instead of reverting their change, they just decide to drop the &quot;2&quot; from the name of the individual products, which now get be __&quot;J2SE Development Kit 5.0 (JDK 5.0)&quot;__ and __&quot;J2SE Runtime Environment 5.0 (JRE 5.0)&quot;__.\r\n\r\n* When version 1.6 come out, someone realized that having two numbers in the name was weird. So they decide to completely drop the 2 (and the &quot;.0&quot; suffix), and we end up with the __&quot;Java Platform, Standard Edition 6 (Java SE 6)&quot;__ containing the __&quot;Java SE Development Kit 6 (JDK 6)&quot;__ and the __&quot;Java SE Runtime Environment 6 (JRE 6)&quot;__.\r\n\r\n* Version 1.7 did not do anything stupid. If I had to guess, the next big change would be dropping the &quot;SE&quot;, so that the cycle completes and the JDK again gets to be called the &quot;Java Development Kit&quot;.\r\n\r\n### Notes\r\n\r\n* For simplicity, a bunch of trademark signs were omitted. So assume Java, JDK and JRE.\r\n\r\n* SO seems to have trouble rendering nested lists.\r\n\r\n### References\r\n\r\n* http://www.oracle.com/technetwork/java/javase/namechange-140185.html\r\n\r\n### Epilogue\r\n\r\nJust drop the &quot;1.&quot; from versions printed by `javac -version` and `java -version` and you&#39;re good to go.\r\n","title":"Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?","body":"<h2>A Brief and Maybe Incorrect History of Java Versions</h2>\n\n<ul>\n<li><p>Java is a platform. It consists of two products - the software development kit, and the runtime environment.</p></li>\n<li><p>When Java was first released, it was apparently just called <strong>Java</strong>. If you were a developer, you also knew the version, which was a normal \"1.0\" and later a \"1.1\". The two products that were part of the platform were also given names:</p>\n\n<ul>\n<li>JDK - \"Java Development Kit\"</li>\n<li>JRE - \"Java Runtime Environment\"</li>\n</ul></li>\n<li><p>Apparently the changes in version 1.2 so significant that they started calling the platform as <strong>Java 2</strong>. </p>\n\n<ul>\n<li><p>The default \"distribution\" of the platform was given the moniker \"standard\" to contrast it with its siblings. So you had three platforms:</p>\n\n<ul>\n<li><strong>\"Java 2 Standard Edition (J2SE)\"</strong></li>\n<li><strong>\"Java 2 Enterprise Edition (J2EE)\"</strong></li>\n<li><strong>\"Java 2 Mobile Edition (J2ME)\"</strong></li>\n</ul></li>\n<li><p>The JDK was officially renamed to \"Java 2 Software Development Kit\".</p></li>\n</ul></li>\n<li><p>When version 1.5 came out, the suits decided that they needed to \"rebrand\" the product. So the Java platform got two versions - the product version \"5\" and the developer version \"1.5\" (Yes, the rule is explicitly mentioned -- \"drop the '1.'). However, the \"2\" was retained in the name. So now the platform is officially called <strong>\"Java 2 Platform Standard Edition 5.0 (J2SE 5.0)\"</strong>.</p>\n\n<ul>\n<li>The suits also realized that the development community was not picking up their renaming of the JDK. But instead of reverting their change, they just decide to drop the \"2\" from the name of the individual products, which now get be <strong>\"J2SE Development Kit 5.0 (JDK 5.0)\"</strong> and <strong>\"J2SE Runtime Environment 5.0 (JRE 5.0)\"</strong>.</li>\n</ul></li>\n<li><p>When version 1.6 come out, someone realized that having two numbers in the name was weird. So they decide to completely drop the 2 (and the \".0\" suffix), and we end up with the <strong>\"Java Platform, Standard Edition 6 (Java SE 6)\"</strong> containing the <strong>\"Java SE Development Kit 6 (JDK 6)\"</strong> and the <strong>\"Java SE Runtime Environment 6 (JRE 6)\"</strong>.</p></li>\n<li><p>Version 1.7 did not do anything stupid. If I had to guess, the next big change would be dropping the \"SE\", so that the cycle completes and the JDK again gets to be called the \"Java Development Kit\".</p></li>\n</ul>\n\n<h3>Notes</h3>\n\n<ul>\n<li><p>For simplicity, a bunch of trademark signs were omitted. So assume Java, JDK and JRE.</p></li>\n<li><p>SO seems to have trouble rendering nested lists.</p></li>\n</ul>\n\n<h3>References</h3>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/namechange-140185.html\">http://www.oracle.com/technetwork/java/javase/namechange-140185.html</a></li>\n</ul>\n\n<h3>Epilogue</h3>\n\n<p>Just drop the \"1.\" from versions printed by <code>javac -version</code> and <code>java -version</code> and you're good to go.</p>\n"}],"owner":{"account_id":1160,"reputation":9209,"user_id":1541,"accept_rate":78,"display_name":"Joe Schneider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308179,"favorite_count":0,"down_vote_count":1,"up_vote_count":209,"accepted_answer_id":250559,"answer_count":6,"score":208,"last_activity_date":1671846945,"creation_date":1225379409,"question_id":250517,"body_markdown":"I see many different Java terms floating around.  I need to install the JDK 1.6.  It was my understanding that Java 6 == Java 1.6.  However, when I install Java SE 6, I get a JVM that reports as version 11.0!  Who can solve the madness?","title":"Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?","body":"<p>I see many different Java terms floating around.  I need to install the JDK 1.6.  It was my understanding that Java 6 == Java 1.6.  However, when I install Java SE 6, I get a JVM that reports as version 11.0!  Who can solve the madness?</p>\n"},{"tags":["java","algorithm","data-structures","stack","big-o"],"comments":[{"owner":{"account_id":239868,"reputation":2418,"user_id":509746,"accept_rate":90,"display_name":"Jetti"},"score":2,"creation_date":1313868434,"post_id":7134129,"comment_id":8553002,"body_markdown":"Is this homework? Do you need to use a stack?","body":"Is this homework? Do you need to use a stack?"},{"owner":{"account_id":306208,"reputation":19010,"user_id":616815,"accept_rate":100,"display_name":"Ken Wayne VanderLinde"},"score":9,"creation_date":1313868511,"post_id":7134129,"comment_id":8553011,"body_markdown":"Searching for min/max values isn&#39;t a normal stack operation.","body":"Searching for min/max values isn&#39;t a normal stack operation."},{"owner":{"account_id":796583,"reputation":551,"user_id":904017,"display_name":"Techkriti"},"score":1,"creation_date":1313868603,"post_id":7134129,"comment_id":8553026,"body_markdown":"@Jetti Yes, need a stack implementation","body":"@Jetti Yes, need a stack implementation"},{"owner":{"account_id":237126,"reputation":604242,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1313868821,"post_id":7134129,"comment_id":8553055,"body_markdown":"What do you need beyond min and max?","body":"What do you need beyond min and max?"},{"owner":{"account_id":237126,"reputation":604242,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":0,"creation_date":1313869209,"post_id":7134129,"comment_id":8553114,"body_markdown":"Your question is all backwards. Your performance issue is not with the stack, but the algo for min/max tracking. Do you mean to know min/max after every push/pop?","body":"Your question is all backwards. Your performance issue is not with the stack, but the algo for min/max tracking. Do you mean to know min/max after every push/pop?"},{"owner":{"account_id":796583,"reputation":551,"user_id":904017,"display_name":"Techkriti"},"score":0,"creation_date":1313869543,"post_id":7134129,"comment_id":8553165,"body_markdown":"@David I mean to implement each function min/max and push/pop so that any function can be called in the main program anytime whenever required.","body":"@David I mean to implement each function min/max and push/pop so that any function can be called in the main program anytime whenever required."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1313872422,"post_id":7134129,"comment_id":8553642,"body_markdown":"@Ken Wayne VanderLinde: not a normal stack operation so what?  This is an excellent interview/teaching question and it has +4 nice upvotes and a nice answer also has +4 nice upvotes.","body":"@Ken Wayne VanderLinde: not a normal stack operation so what?  This is an excellent interview/teaching question and it has +4 nice upvotes and a nice answer also has +4 nice upvotes."},{"owner":{"account_id":306208,"reputation":19010,"user_id":616815,"accept_rate":100,"display_name":"Ken Wayne VanderLinde"},"score":1,"creation_date":1313880461,"post_id":7134129,"comment_id":8554708,"body_markdown":"@SyntaxT3rr0r: I didn&#39;t mean to come off that way. I meant to ask whether a stack was really necessary (as the original question didn&#39;t really emphasize this).","body":"@SyntaxT3rr0r: I didn&#39;t mean to come off that way. I meant to ask whether a stack was really necessary (as the original question didn&#39;t really emphasize this)."},{"owner":{"account_id":237126,"reputation":604242,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":1,"creation_date":1313949420,"post_id":7134129,"comment_id":8562176,"body_markdown":"@Syntax template helpfully re-wrote the question. The original question was unclear and the early comments were appropriate at that time.","body":"@Syntax template helpfully re-wrote the question. The original question was unclear and the early comments were appropriate at that time."},{"owner":{"account_id":133649,"reputation":925,"user_id":335175,"accept_rate":94,"display_name":"Nemanja Vujacic"},"score":0,"creation_date":1355424282,"post_id":7134129,"comment_id":19101674,"body_markdown":"Good example and explanation with C# code could be found here: [Stack with GetMinimum O(1)](http://stackoverflow.com/questions/685060/design-a-stack-such-that-getminimum-should-be-o1)","body":"Good example and explanation with C# code could be found here: <a href=\"http://stackoverflow.com/questions/685060/design-a-stack-such-that-getminimum-should-be-o1\">Stack with GetMinimum O(1)</a>"}],"answers":[{"comments":[{"owner":{"account_id":796583,"reputation":551,"user_id":904017,"display_name":"Techkriti"},"score":0,"creation_date":1313869286,"post_id":7134189,"comment_id":8553126,"body_markdown":"thanks for the entire explanation, this will make the problem more clear to other users.\nCan you help with the implementation? What data structure should be used and how the functionality is to implemented?","body":"thanks for the entire explanation, this will make the problem more clear to other users. Can you help with the implementation? What data structure should be used and how the functionality is to implemented?"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":1,"creation_date":1313869595,"post_id":7134189,"comment_id":8553171,"body_markdown":"@Techkriti- I&#39;ve updated my answer with some hints.  I don&#39;t want to just give you the answer since you&#39;ve indicated above that this is a homework question, but I&#39;ve implemented this before in C++ and it&#39;s very straightforward.","body":"@Techkriti- I&#39;ve updated my answer with some hints.  I don&#39;t want to just give you the answer since you&#39;ve indicated above that this is a homework question, but I&#39;ve implemented this before in C++ and it&#39;s very straightforward."},{"owner":{"account_id":237126,"reputation":604242,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":4,"creation_date":1313869640,"post_id":7134189,"comment_id":8553186,"body_markdown":"@Techkriti I think you might consider using the standard Java Stack class. If you can program at all then the explanation above is all you need.all then the explanation above is all you need.","body":"@Techkriti I think you might consider using the standard Java Stack class. If you can program at all then the explanation above is all you need.all then the explanation above is all you need."},{"owner":{"account_id":182320,"reputation":22341,"user_id":416926,"accept_rate":81,"display_name":"Saeed Amiri"},"score":0,"creation_date":1313904319,"post_id":7134189,"comment_id":8556928,"body_markdown":"That&#39;s nice answer, I was thinking for some solution but your way is more straight forward.","body":"That&#39;s nice answer, I was thinking for some solution but your way is more straight forward."},{"owner":{"account_id":796583,"reputation":551,"user_id":904017,"display_name":"Techkriti"},"score":0,"creation_date":1313934062,"post_id":7134189,"comment_id":8559999,"body_markdown":"@templatetypedef  I have implemented finding the highest element in each PUSH to the stack, but cannot implement calculation of new Highest and Lowest element for POP operation. Here is my code snippet:[link]http://www.mediafire.com/?liyugexixk0rrlp","body":"@templatetypedef  I have implemented finding the highest element in each PUSH to the stack, but cannot implement calculation of new Highest and Lowest element for POP operation. Here is my code snippet:[link]<a href=\"http://www.mediafire.com/?liyugexixk0rrlp\" rel=\"nofollow noreferrer\">mediafire.com/?liyugexixk0rrlp</a>"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":3,"creation_date":1313947716,"post_id":7134189,"comment_id":8561950,"body_markdown":"@Techkriti- I think you&#39;re missing an important detail.  You don&#39;t store just one copy of the min/max value in the stack.  Instead, you store multiple copies, one at each level in the stack.  Instead of having an ArrayList of Integers, consider instead having an ArrayList of objects, each of which stores the triple (value, current-min, current-max).","body":"@Techkriti- I think you&#39;re missing an important detail.  You don&#39;t store just one copy of the min/max value in the stack.  Instead, you store multiple copies, one at each level in the stack.  Instead of having an ArrayList of Integers, consider instead having an ArrayList of objects, each of which stores the triple (value, current-min, current-max)."},{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":0,"creation_date":1349776562,"post_id":7134189,"comment_id":17303729,"body_markdown":"@templatetypedef - excellent post, knowledge flowing +1, started following ur site after reading this post","body":"@templatetypedef - excellent post, knowledge flowing +1, started following ur site after reading this post"},{"owner":{"account_id":3322214,"reputation":20913,"user_id":2793118,"accept_rate":80,"display_name":"Filipe Gon&#231;alves"},"score":1,"creation_date":1408254618,"post_id":7134189,"comment_id":39517598,"body_markdown":"It&#39;s a good answer and explanation, but there is some room for optimization. If our stack is big, and min/max don&#39;t change often, we end up wasting lots of space storing the same information over and over. A good optimization is to use a 2nd stack to keep track of minimums. When a value `i` is pushed, if it&#39;s &lt;= to the top of the auxiliary stack, we push it on that stack too. When `pop()` is called, if the popped value is equal to the top of the other stack, we pop from the other stack too. `min()` operates by looking at the top of the auxiliary stack. We can apply the same idea for `max()`.","body":"It&#39;s a good answer and explanation, but there is some room for optimization. If our stack is big, and min/max don&#39;t change often, we end up wasting lots of space storing the same information over and over. A good optimization is to use a 2nd stack to keep track of minimums. When a value <code>i</code> is pushed, if it&#39;s &lt;= to the top of the auxiliary stack, we push it on that stack too. When <code>pop()</code> is called, if the popped value is equal to the top of the other stack, we pop from the other stack too. <code>min()</code> operates by looking at the top of the auxiliary stack. We can apply the same idea for <code>max()</code>."},{"owner":{"account_id":6014381,"reputation":892,"user_id":4723778,"accept_rate":100,"display_name":"Hengameh"},"score":0,"creation_date":1440213438,"post_id":7134189,"comment_id":52192859,"body_markdown":"@FilipeGon&#231;alves, I think in your solution (especially in pop), you must assume your elements are distinct. e.g. consider this example: 4, 5, 8, 3, 8. If you want to pop, you will pop 8 from main stack, and 8 from &#39;max stack&#39;, and this is not correct. correct me if I am wrong.","body":"@FilipeGon&#231;alves, I think in your solution (especially in pop), you must assume your elements are distinct. e.g. consider this example: 4, 5, 8, 3, 8. If you want to pop, you will pop 8 from main stack, and 8 from &#39;max stack&#39;, and this is not correct. correct me if I am wrong."},{"owner":{"account_id":6014381,"reputation":892,"user_id":4723778,"accept_rate":100,"display_name":"Hengameh"},"score":0,"creation_date":1440213519,"post_id":7134189,"comment_id":52192867,"body_markdown":"The &quot;min-Stack&quot; link is not correct. It diverts to &#39;dynamic array&#39; from Wikipedia, instead of your website. :)","body":"The &quot;min-Stack&quot; link is not correct. It diverts to &#39;dynamic array&#39; from Wikipedia, instead of your website. :)"},{"owner":{"account_id":3322214,"reputation":20913,"user_id":2793118,"accept_rate":80,"display_name":"Filipe Gon&#231;alves"},"score":1,"creation_date":1440229915,"post_id":7134189,"comment_id":52195987,"body_markdown":"@Hengameh no, you don&#39;t need to assume that. That would be true if the condition to pop was `&gt;` rather than `&gt;=`. In your example, we&#39;d pop 8 out of the auxiliary stack, but the top of the auxiliary stack would remain 8 because we pushed 8 two times (and we didn&#39;t push 3 because it wasn&#39;t &gt;= than 8).","body":"@Hengameh no, you don&#39;t need to assume that. That would be true if the condition to pop was <code>&gt;</code> rather than <code>&gt;=</code>. In your example, we&#39;d pop 8 out of the auxiliary stack, but the top of the auxiliary stack would remain 8 because we pushed 8 two times (and we didn&#39;t push 3 because it wasn&#39;t &gt;= than 8)."},{"owner":{"account_id":6014381,"reputation":892,"user_id":4723778,"accept_rate":100,"display_name":"Hengameh"},"score":0,"creation_date":1440236558,"post_id":7134189,"comment_id":52197581,"body_markdown":"@FilipeGon&#231;alves, you are right. `&gt;=` is definitely correct. Thanks","body":"@FilipeGon&#231;alves, you are right. <code>&gt;=</code> is definitely correct. Thanks"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":1,"creation_date":1440263764,"post_id":7134189,"comment_id":52205355,"body_markdown":"@Hengameh Fixed! Thanks for spotting that.","body":"@Hengameh Fixed! Thanks for spotting that."}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":13,"down_vote_count":0,"up_vote_count":122,"is_accepted":false,"score":122,"last_activity_date":1671846932,"creation_date":1313869018,"answer_id":7134189,"question_id":7134129,"body_markdown":"This is a classic data structures question.  The intuition behind the problem is as follows - the only way that the maximum and minimum can change is if you push a new value onto the stack or pop a new value off of the stack.  Given this, suppose that at each level in the stack you keep track of the maximum and minimum values at or below that point in the stack.  Then, when you push a new element onto the stack, you can easily (in O(1) time) compute the maximum and minimum value anywhere in the stack by comparing the new element you just pushed to the current maximum and minimum.  Similarly, when you pop off an element, you will expose the element in the stack one step below the top, which already has the maximum and minimum values in the rest of the stack stored alongside it.\r\n\r\nVisually, suppose that we have a stack and add the values 2, 7, 1, 8, 3, and 9, in that order.  We start by pushing 2, and so we push 2 onto our stack.  Since 2 is now the largest and smallest value in the stack as well, we record this:\r\n\r\n     2  (max 2, min 2)\r\n\r\nNow, let&#39;s push 7.  Since 7 is greater than 2 (the current max), we end up with this:\r\n\r\n     7  (max 7, min 2)\r\n     2  (max 2, min 2)\r\n\r\nNotice that right now we can read off the max and min of the stack by looking at the top of the stack and seeing that 7 is the max and 2 is the min.  If we now push 1, we get\r\n\r\n     1  (max 7, min 1)\r\n     7  (max 7, min 2)\r\n     2  (max 2, min 2)\r\n\r\nHere, we know that 1 is the minimum, since we can compare 1 to the cached min value stored atop the stack (2).  As an exercise, make sure you understand why after adding 8, 3, and 9, we get this:\r\n\r\n     9  (max 9, min 1)\r\n     3  (max 8, min 1)\r\n     8  (max 8, min 1)\r\n     1  (max 7, min 1)\r\n     7  (max 7, min 2)\r\n     2  (max 2, min 2)\r\n\r\nNow, if we want to query the max and min, we can do so in O(1) by just reading off the stored max and min atop the stack (9 and 1, respectively).\r\n\r\nNow, suppose that we pop off the top element.  This yields 9 and modifies the stack to be \r\n\r\n     3  (max 8, min 1)\r\n     8  (max 8, min 1)\r\n     1  (max 7, min 1)\r\n     7  (max 7, min 2)\r\n     2  (max 2, min 2)\r\n\r\nAnd now notice that the max of these elements is 8, exactly the correct answer!  If we then pushed 0, we&#39;d get this:\r\n\r\n     0  (max 8, min 0)\r\n     3  (max 8, min 1)\r\n     8  (max 8, min 1)\r\n     1  (max 7, min 1)\r\n     7  (max 7, min 2)\r\n     2  (max 2, min 2)\r\n\r\nAnd, as you can see, the max and min are computed correctly.\r\n\r\nOverall, this leads to an implementation of the stack that has O(1) push, pop, find-max, and find-min, which is as asymptotically as good as it gets.  I&#39;ll leave the implementation as an exercise. :-)  However, you may want to consider implementing the stack using one of the standard stack implementation techniques, such as using a [dynamic array][1] or [linked list][2] of objects, each of which holds the stack element, min, and max.  You could do this easily by leveraging off of `ArrayList` or `LinkedList`.  Alternatively, you could use the provided Java `Stack` class, though IIRC it has some overhead due to synchronization that might be unnecessary for this application.\r\n\r\nInterestingly, once you&#39;ve built a stack with these properties, you can use it as a building block to construct [a queue with the same properties][3] and time guarantees.  You can also use it in a more complex construction to build a double-ended queue with these properties as well.\r\n\r\n**EDIT:** If you&#39;re curious, I have C++ implementations of **[a min-stack][6]** and a the aforementioned **[min-queue][5]** on my personal site.  Hopefully this shows off what this might look like in practice!\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dynamic_array\r\n  [2]: http://en.wikipedia.org/wiki/Linked_list\r\n  [3]: https://stackoverflow.com/questions/4802038/implement-a-queue-in-which-push-rear-pop-front-and-get-min-are-all-constan/4802260#4802260\r\n  [4]: http://en.wikipedia.org/wiki/Dynamic_array\r\n  [5]: http://keithschwarz.com/interesting/code/?dir=min-queue\r\n  [6]: http://www.keithschwarz.com/interesting/code/?dir=min-stack","title":"Stack with find-min/find-max more efficient than O(n)?","body":"<p>This is a classic data structures question.  The intuition behind the problem is as follows - the only way that the maximum and minimum can change is if you push a new value onto the stack or pop a new value off of the stack.  Given this, suppose that at each level in the stack you keep track of the maximum and minimum values at or below that point in the stack.  Then, when you push a new element onto the stack, you can easily (in O(1) time) compute the maximum and minimum value anywhere in the stack by comparing the new element you just pushed to the current maximum and minimum.  Similarly, when you pop off an element, you will expose the element in the stack one step below the top, which already has the maximum and minimum values in the rest of the stack stored alongside it.</p>\n<p>Visually, suppose that we have a stack and add the values 2, 7, 1, 8, 3, and 9, in that order.  We start by pushing 2, and so we push 2 onto our stack.  Since 2 is now the largest and smallest value in the stack as well, we record this:</p>\n<pre><code> 2  (max 2, min 2)\n</code></pre>\n<p>Now, let's push 7.  Since 7 is greater than 2 (the current max), we end up with this:</p>\n<pre><code> 7  (max 7, min 2)\n 2  (max 2, min 2)\n</code></pre>\n<p>Notice that right now we can read off the max and min of the stack by looking at the top of the stack and seeing that 7 is the max and 2 is the min.  If we now push 1, we get</p>\n<pre><code> 1  (max 7, min 1)\n 7  (max 7, min 2)\n 2  (max 2, min 2)\n</code></pre>\n<p>Here, we know that 1 is the minimum, since we can compare 1 to the cached min value stored atop the stack (2).  As an exercise, make sure you understand why after adding 8, 3, and 9, we get this:</p>\n<pre><code> 9  (max 9, min 1)\n 3  (max 8, min 1)\n 8  (max 8, min 1)\n 1  (max 7, min 1)\n 7  (max 7, min 2)\n 2  (max 2, min 2)\n</code></pre>\n<p>Now, if we want to query the max and min, we can do so in O(1) by just reading off the stored max and min atop the stack (9 and 1, respectively).</p>\n<p>Now, suppose that we pop off the top element.  This yields 9 and modifies the stack to be</p>\n<pre><code> 3  (max 8, min 1)\n 8  (max 8, min 1)\n 1  (max 7, min 1)\n 7  (max 7, min 2)\n 2  (max 2, min 2)\n</code></pre>\n<p>And now notice that the max of these elements is 8, exactly the correct answer!  If we then pushed 0, we'd get this:</p>\n<pre><code> 0  (max 8, min 0)\n 3  (max 8, min 1)\n 8  (max 8, min 1)\n 1  (max 7, min 1)\n 7  (max 7, min 2)\n 2  (max 2, min 2)\n</code></pre>\n<p>And, as you can see, the max and min are computed correctly.</p>\n<p>Overall, this leads to an implementation of the stack that has O(1) push, pop, find-max, and find-min, which is as asymptotically as good as it gets.  I'll leave the implementation as an exercise. :-)  However, you may want to consider implementing the stack using one of the standard stack implementation techniques, such as using a <a href=\"http://en.wikipedia.org/wiki/Dynamic_array\" rel=\"nofollow noreferrer\">dynamic array</a> or <a href=\"http://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow noreferrer\">linked list</a> of objects, each of which holds the stack element, min, and max.  You could do this easily by leveraging off of <code>ArrayList</code> or <code>LinkedList</code>.  Alternatively, you could use the provided Java <code>Stack</code> class, though IIRC it has some overhead due to synchronization that might be unnecessary for this application.</p>\n<p>Interestingly, once you've built a stack with these properties, you can use it as a building block to construct <a href=\"https://stackoverflow.com/questions/4802038/implement-a-queue-in-which-push-rear-pop-front-and-get-min-are-all-constan/4802260#4802260\">a queue with the same properties</a> and time guarantees.  You can also use it in a more complex construction to build a double-ended queue with these properties as well.</p>\n<p><strong>EDIT:</strong> If you're curious, I have C++ implementations of <strong><a href=\"http://www.keithschwarz.com/interesting/code/?dir=min-stack\" rel=\"nofollow noreferrer\">a min-stack</a></strong> and a the aforementioned <strong><a href=\"http://keithschwarz.com/interesting/code/?dir=min-queue\" rel=\"nofollow noreferrer\">min-queue</a></strong> on my personal site.  Hopefully this shows off what this might look like in practice!</p>\n"},{"comments":[{"owner":{"account_id":6014381,"reputation":892,"user_id":4723778,"accept_rate":100,"display_name":"Hengameh"},"score":0,"creation_date":1440214057,"post_id":16485020,"comment_id":52192956,"body_markdown":"Nice solution, thanks, +1. You put &#39;=&#39; to handle duplicates, right? I think without &#39;=&#39; this approach won&#39;t work. Am I right? For example, in this sample, 4, 5, 8, 3, 8, if we need to pop, we will delete 8 which is &#39;max&#39;, and this is incorrect.","body":"Nice solution, thanks, +1. You put &#39;=&#39; to handle duplicates, right? I think without &#39;=&#39; this approach won&#39;t work. Am I right? For example, in this sample, 4, 5, 8, 3, 8, if we need to pop, we will delete 8 which is &#39;max&#39;, and this is incorrect."}],"tags":[],"owner":{"account_id":114674,"reputation":4892,"user_id":301444,"accept_rate":78,"display_name":"Vasu"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1368197369,"creation_date":1368197369,"answer_id":16485020,"question_id":7134129,"body_markdown":"Although the [answer][1] is right, but we can do better. If the stack has lot of elements, then we are wasting a lot of space. However, we can save this useless space as follow:\r\n\r\nInstead of saving min(or max) value with each element, we can use two stacks. Because change in the minimum(or maximum) value will not be so frequent, we push the min(or max) value to its respective stack only when the new value is `&lt;=`(or `&gt;=`) to the current min(or max) value.\r\n\r\nHere is the implementation in `Java`:\r\n\r\n    public class StackWithMinMax extends Stack&lt;Integer&gt; {\r\n    \r\n    \tprivate Stack&lt;Integer&gt; minStack;\r\n    \tprivate Stack&lt;Integer&gt; maxStack;\r\n    \r\n    \tpublic StackWithMinMax () {\r\n    \t\tminStack = new Stack&lt;Integer&gt;();\t\r\n    \t\tmaxStack = new Stack&lt;Integer&gt;();\t\r\n    \t}\r\n    \r\n    \tpublic void push(int value){\r\n    \t\tif (value &lt;= min()) { // Note the &#39;=&#39; sign here\r\n    \t\t\tminStack.push(value);\r\n    \t\t}\r\n    \r\n    \t\tif (value &gt;= max()) {\r\n    \t\t\tmaxStack.push(value);\r\n    \t\t}\r\n    \r\n    \t\tsuper.push(value);\r\n    \t}\r\n    \r\n    \tpublic Integer pop() {\r\n    \t\tint value = super.pop();\r\n    \r\n    \t\tif (value == min()) {\r\n    \t\t\tminStack.pop();\t\t\t\r\n    \t\t}\r\n    \r\n    \t\tif (value == max()) {\r\n    \t\t\tmaxStack.pop();\t\t\t\r\n    \t\t}\r\n    \r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \tpublic int min() {\r\n    \t\tif (minStack.isEmpty()) {\r\n    \t\t\treturn Integer.MAX_VALUE;\r\n    \t\t} else {\r\n    \t\t\treturn minStack.peek();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic int max() {\r\n    \t\tif (maxStack.isEmpty()) {\r\n    \t\t\treturn Integer.MIN_VALUE;\r\n    \t\t} else {\r\n    \t\t\treturn maxStack.peek();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nNote that using this approach, we would have very few elements in `minStack` &amp; `maxStack`, thus saving space. e.g.\r\n\r\n    Stack : MinStack : MaxStack\r\n    \r\n    7         7         7\r\n    4         4         7\r\n    5         1         8 (TOP)\r\n    6         1 (TOP)         \r\n    7\r\n    8                 \r\n    1                  \r\n    1                  \r\n    7\r\n    2\r\n    4\r\n    2 (TOP)     \r\n\r\n  [1]: https://stackoverflow.com/a/7134189/301444","title":"Stack with find-min/find-max more efficient than O(n)?","body":"<p>Although the <a href=\"https://stackoverflow.com/a/7134189/301444\">answer</a> is right, but we can do better. If the stack has lot of elements, then we are wasting a lot of space. However, we can save this useless space as follow:</p>\n\n<p>Instead of saving min(or max) value with each element, we can use two stacks. Because change in the minimum(or maximum) value will not be so frequent, we push the min(or max) value to its respective stack only when the new value is <code>&lt;=</code>(or <code>&gt;=</code>) to the current min(or max) value.</p>\n\n<p>Here is the implementation in <code>Java</code>:</p>\n\n<pre><code>public class StackWithMinMax extends Stack&lt;Integer&gt; {\n\n    private Stack&lt;Integer&gt; minStack;\n    private Stack&lt;Integer&gt; maxStack;\n\n    public StackWithMinMax () {\n        minStack = new Stack&lt;Integer&gt;();    \n        maxStack = new Stack&lt;Integer&gt;();    \n    }\n\n    public void push(int value){\n        if (value &lt;= min()) { // Note the '=' sign here\n            minStack.push(value);\n        }\n\n        if (value &gt;= max()) {\n            maxStack.push(value);\n        }\n\n        super.push(value);\n    }\n\n    public Integer pop() {\n        int value = super.pop();\n\n        if (value == min()) {\n            minStack.pop();         \n        }\n\n        if (value == max()) {\n            maxStack.pop();         \n        }\n\n        return value;\n    }\n\n    public int min() {\n        if (minStack.isEmpty()) {\n            return Integer.MAX_VALUE;\n        } else {\n            return minStack.peek();\n        }\n    }\n\n    public int max() {\n        if (maxStack.isEmpty()) {\n            return Integer.MIN_VALUE;\n        } else {\n            return maxStack.peek();\n        }\n    }\n}\n</code></pre>\n\n<p>Note that using this approach, we would have very few elements in <code>minStack</code> &amp; <code>maxStack</code>, thus saving space. e.g.</p>\n\n<pre><code>Stack : MinStack : MaxStack\n\n7         7         7\n4         4         7\n5         1         8 (TOP)\n6         1 (TOP)         \n7\n8                 \n1                  \n1                  \n7\n2\n4\n2 (TOP)     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":716676,"reputation":1474,"user_id":644011,"display_name":"Sanjay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442413475,"creation_date":1442413475,"answer_id":32611396,"question_id":7134129,"body_markdown":"May be too late to reply but just for the sake of record. Here is the java code.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class MinStack {\r\n    \tList&lt;Node&gt; items;\r\n    \r\n    \tpublic void push(int num) {\r\n    \t\tif (items == null) {\r\n    \t\t\titems = new ArrayList&lt;Node&gt;();\r\n    \t\t}\r\n    \t\tNode node = new Node(num);\r\n    \t\tif (items.size() &gt; 0) {\r\n    \t\t\tnode.min = Math.min(items.get(items.size() - 1).min, num);\r\n    \t\t\tnode.max = Math.max(items.get(items.size() - 1).max, num);\r\n    \r\n    \t\t} else {\r\n    \t\t\tnode.min = num;\r\n    \t\t\tnode.max = num;\r\n    \t\t}\r\n    \t\titems.add(node);\r\n    \t\tprintStack();\r\n    \t}\r\n    \r\n    \tpublic Node pop() {\r\n    \t\tNode popThis = null;\r\n    \t\tif (items != null &amp;&amp; items.size() &gt; 0) {\r\n    \t\t\tpopThis = this.items.get(items.size() - 1);\r\n    \t\t\titems.remove(items.size() - 1);\t\t\t\r\n    \t\t}\r\n    \t\tprintStack();\r\n    \t\treturn popThis;\r\n    \t}\r\n    \r\n    \tpublic int getMin() {\r\n    \t\tif (items != null &amp;&amp; items.size() &gt; 0) {\r\n    \t\t\tint min = this.items.get(items.size() - 1).min;\r\n    \t\t\tSystem.out.println(&quot;Minimum Element &gt; &quot; + min);\r\n    \t\t\treturn min;\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}\r\n    \t\r\n    \tpublic int getMax() {\r\n    \t\tif (items != null &amp;&amp; items.size() &gt; 0) {\r\n    \t\t\tint max = this.items.get(items.size() - 1).max;\r\n    \t\t\tSystem.out.println(&quot;Maximum Element &gt; &quot; + max);\r\n    \t\t\treturn max;\r\n    \t\t}\r\n    \t\treturn -1;\r\n    \t}\r\n    \r\n    \tpublic void printStack() {\r\n    \t\tint i = 0;\r\n    \t\tfor (Node n : items) {\r\n    \t\t\tSystem.out.print(n.data + &quot; &gt; &quot;);\r\n    \t\t\tif (i == items.size() - 1) {\r\n    \t\t\t\tSystem.out.print(&quot; | Min = &quot; + n.min + &quot; |&quot;);\r\n    \t\t\t\tSystem.out.print(&quot; | Max = &quot; + n.max + &quot; |&quot;);\r\n    \r\n    \t\t\t}\r\n    \t\t\ti++;\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tMinStack stack = new MinStack();\r\n    \t\tstack.push(10);\r\n    \t\t\r\n    \t\tstack.push(13);\r\n    \t\tstack.push(19);\r\n    \t\tstack.push(3);\r\n    \t\tstack.push(2);\r\n    \t\tstack.push(2);\r\n    \t\tstack.printStack();\r\n    \t\tstack.pop();\r\n    \t\t//stack.getMin();\r\n    \t\tstack.printStack();\r\n    \r\n    \t}\r\n    }\r\n\r\nStack Class:\r\n\r\n    class Node {\r\n        \r\n        \tint data;\r\n        \tint min;\r\n        \tint max;\r\n        \r\n        \tpublic Node(int data) {\r\n        \t\tsuper();\r\n        \t\tthis.data = data;\r\n        \t}\r\n        \r\n        \tpublic Node() {\r\n        \t\tsuper();\r\n        \t}\r\n        }\r\n","title":"Stack with find-min/find-max more efficient than O(n)?","body":"<p>May be too late to reply but just for the sake of record. Here is the java code.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class MinStack {\n    List&lt;Node&gt; items;\n\n    public void push(int num) {\n        if (items == null) {\n            items = new ArrayList&lt;Node&gt;();\n        }\n        Node node = new Node(num);\n        if (items.size() &gt; 0) {\n            node.min = Math.min(items.get(items.size() - 1).min, num);\n            node.max = Math.max(items.get(items.size() - 1).max, num);\n\n        } else {\n            node.min = num;\n            node.max = num;\n        }\n        items.add(node);\n        printStack();\n    }\n\n    public Node pop() {\n        Node popThis = null;\n        if (items != null &amp;&amp; items.size() &gt; 0) {\n            popThis = this.items.get(items.size() - 1);\n            items.remove(items.size() - 1);         \n        }\n        printStack();\n        return popThis;\n    }\n\n    public int getMin() {\n        if (items != null &amp;&amp; items.size() &gt; 0) {\n            int min = this.items.get(items.size() - 1).min;\n            System.out.println(\"Minimum Element &gt; \" + min);\n            return min;\n        }\n        return -1;\n    }\n\n    public int getMax() {\n        if (items != null &amp;&amp; items.size() &gt; 0) {\n            int max = this.items.get(items.size() - 1).max;\n            System.out.println(\"Maximum Element &gt; \" + max);\n            return max;\n        }\n        return -1;\n    }\n\n    public void printStack() {\n        int i = 0;\n        for (Node n : items) {\n            System.out.print(n.data + \" &gt; \");\n            if (i == items.size() - 1) {\n                System.out.print(\" | Min = \" + n.min + \" |\");\n                System.out.print(\" | Max = \" + n.max + \" |\");\n\n            }\n            i++;\n        }\n        System.out.println();\n    }\n\n    public static void main(String args[]) {\n        MinStack stack = new MinStack();\n        stack.push(10);\n\n        stack.push(13);\n        stack.push(19);\n        stack.push(3);\n        stack.push(2);\n        stack.push(2);\n        stack.printStack();\n        stack.pop();\n        //stack.getMin();\n        stack.printStack();\n\n    }\n}\n</code></pre>\n\n<p>Stack Class:</p>\n\n<pre><code>class Node {\n\n        int data;\n        int min;\n        int max;\n\n        public Node(int data) {\n            super();\n            this.data = data;\n        }\n\n        public Node() {\n            super();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6389039,"reputation":495,"user_id":4955885,"accept_rate":86,"display_name":"Nikita Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488682142,"creation_date":1488682142,"answer_id":42603911,"question_id":7134129,"body_markdown":"Using Linkedlist:\r\n\r\n    \r\n    public class MaxMinStack {\r\n    \tMaxMinLLNode headMin = null;\r\n    \tMaxMinLLNode headMax = null;\r\n    \tMaxMinLLNode tailMin = null;\r\n    \tMaxMinLLNode tailMax = null;\r\n    \r\n    \tpublic void push(int data) {\r\n    \t\tMaxMinLLNode node = new MaxMinLLNode(data, null);\r\n    \t\tif (headMin == null) {\r\n    \t\t\theadMin = node;\r\n    \t\t\ttailMin = node;\r\n    \t\t} else {\r\n    \t\t\tif (data &lt; headMin.data) {\r\n    \t\t\t\ttailMin = headMin;\r\n    \t\t\t\theadMin = node;\r\n    \t\t\t\tnode.nextNodeReference = tailMin;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (headMax == null) {\r\n    \t\t\theadMax = node;\r\n    \t\t\ttailMax = node;\r\n    \t\t} else {\r\n    \t\t\tif (data &gt; headMax.data) {\r\n    \t\t\t\ttailMax = headMax;\r\n    \t\t\t\theadMax = node;\r\n    \t\t\t\tnode.nextNodeReference = tailMax;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic void pop() {\r\n    \t\tSystem.out.println(&quot;Max Element:&quot; + &quot; &quot; + String.valueOf(headMax.data));\r\n    \t\tSystem.out.println(&quot;Min Element:&quot; + &quot; &quot; + String.valueOf(headMin.data));\r\n    \t}\r\n    \r\n    \tpublic void traverse() {\r\n    \t\tMaxMinLLNode ptrMin = headMin;\r\n    \t\tMaxMinLLNode ptrMax = headMax;\r\n    \t\tSystem.out.println(&quot;Min&quot;);\r\n    \t\twhile (ptrMin != null) {\r\n    \t\t\tSystem.out.println(ptrMin.data);\r\n    \t\t\tptrMin = ptrMin.nextNodeReference;\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Max&quot;);\r\n    \t\twhile (ptrMax != null) {\r\n    \t\t\tSystem.out.println(ptrMax.data);\r\n    \t\t\tptrMax = ptrMax.nextNodeReference;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMaxMinStack m = new MaxMinStack();\r\n    \t\t m.push(7);\r\n    \t\t m.push(4);\r\n    \t\t m.push(5);\r\n    \t\t m.push(6);\r\n    \t\t m.push(7);\r\n    \t\t m.push(8);\r\n    \t\t m.push(1);\r\n    \t\t m.push(1);\r\n    \t\t m.push(7);\r\n    \t\t m.push(2);\r\n    \t\t m.push(4);\r\n    \t\t m.push(2);\r\n    \t\t m.traverse();\r\n    \t\t m.pop();\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class MaxMinLLNode {\r\n    \tint data;\r\n    \tMaxMinLLNode nextNodeReference;\r\n    \r\n    \tMaxMinLLNode(int data, MaxMinLLNode node) {\r\n    \t\tthis.data = data;\r\n    \t\tthis.nextNodeReference = node;\r\n    \t}\r\n    }\r\n\r\n","title":"Stack with find-min/find-max more efficient than O(n)?","body":"<p>Using Linkedlist:</p>\n\n<pre><code>public class MaxMinStack {\n    MaxMinLLNode headMin = null;\n    MaxMinLLNode headMax = null;\n    MaxMinLLNode tailMin = null;\n    MaxMinLLNode tailMax = null;\n\n    public void push(int data) {\n        MaxMinLLNode node = new MaxMinLLNode(data, null);\n        if (headMin == null) {\n            headMin = node;\n            tailMin = node;\n        } else {\n            if (data &lt; headMin.data) {\n                tailMin = headMin;\n                headMin = node;\n                node.nextNodeReference = tailMin;\n            }\n        }\n\n        if (headMax == null) {\n            headMax = node;\n            tailMax = node;\n        } else {\n            if (data &gt; headMax.data) {\n                tailMax = headMax;\n                headMax = node;\n                node.nextNodeReference = tailMax;\n            }\n        }\n\n    }\n\n    public void pop() {\n        System.out.println(\"Max Element:\" + \" \" + String.valueOf(headMax.data));\n        System.out.println(\"Min Element:\" + \" \" + String.valueOf(headMin.data));\n    }\n\n    public void traverse() {\n        MaxMinLLNode ptrMin = headMin;\n        MaxMinLLNode ptrMax = headMax;\n        System.out.println(\"Min\");\n        while (ptrMin != null) {\n            System.out.println(ptrMin.data);\n            ptrMin = ptrMin.nextNodeReference;\n        }\n\n        System.out.println(\"Max\");\n        while (ptrMax != null) {\n            System.out.println(ptrMax.data);\n            ptrMax = ptrMax.nextNodeReference;\n        }\n\n    }\n\n    public static void main(String[] args) {\n        MaxMinStack m = new MaxMinStack();\n         m.push(7);\n         m.push(4);\n         m.push(5);\n         m.push(6);\n         m.push(7);\n         m.push(8);\n         m.push(1);\n         m.push(1);\n         m.push(7);\n         m.push(2);\n         m.push(4);\n         m.push(2);\n         m.traverse();\n         m.pop();\n    }\n\n}\n\nclass MaxMinLLNode {\n    int data;\n    MaxMinLLNode nextNodeReference;\n\n    MaxMinLLNode(int data, MaxMinLLNode node) {\n        this.data = data;\n        this.nextNodeReference = node;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":796583,"reputation":551,"user_id":904017,"display_name":"Techkriti"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42352,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":4,"score":55,"last_activity_date":1671846932,"creation_date":1313868261,"question_id":7134129,"body_markdown":"I am interested in creating a Java data structure similar to a stack that supports the following operations as efficiently as possible:\r\n\r\n* Push, which adds a new element atop the stack,\r\n* Pop, which removes the top element of the stack,\r\n* Find-Max, which returns (but does not remove) the largest element of the stack, and\r\n* Find-Min, which returns (but does not remove) the smallest element of the stack, and\r\n\r\nWhat would be the fastest implementation of this data structure?  How might I go about writing it in Java?","title":"Stack with find-min/find-max more efficient than O(n)?","body":"<p>I am interested in creating a Java data structure similar to a stack that supports the following operations as efficiently as possible:</p>\n\n<ul>\n<li>Push, which adds a new element atop the stack,</li>\n<li>Pop, which removes the top element of the stack,</li>\n<li>Find-Max, which returns (but does not remove) the largest element of the stack, and</li>\n<li>Find-Min, which returns (but does not remove) the smallest element of the stack, and</li>\n</ul>\n\n<p>What would be the fastest implementation of this data structure?  How might I go about writing it in Java?</p>\n"},{"tags":["java","sql","database","postgresql","jdbc"],"comments":[{"owner":{"account_id":6897470,"reputation":10000,"user_id":5298879,"display_name":"Zegarek"},"score":0,"creation_date":1671786946,"post_id":74897757,"comment_id":132175715,"body_markdown":"You can take a look at [`pg_locks`](https://www.postgresql.org/docs/current/view-pg-locks.html) and fail if there&#39;s a lock that satisfies your criteria.","body":"You can take a look at <a href=\"https://www.postgresql.org/docs/current/view-pg-locks.html\" rel=\"nofollow noreferrer\"><code>pg_locks</code></a> and fail if there&#39;s a lock that satisfies your criteria."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1671787140,"post_id":74897757,"comment_id":132175773,"body_markdown":"I have thought about that but wouldn&#39;t there be a chance (although slim) of the table  being locked between processing the pg_locks select result and performing the select statement?","body":"I have thought about that but wouldn&#39;t there be a chance (although slim) of the table  being locked between processing the pg_locks select result and performing the select statement?"},{"owner":{"account_id":6897470,"reputation":10000,"user_id":5298879,"display_name":"Zegarek"},"score":2,"creation_date":1671789860,"post_id":74897757,"comment_id":132176401,"body_markdown":"You&#39;re right. How about `LOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE`[**`NOWAIT;`**](https://www.postgresql.org/docs/8.0/sql-lock.html)? The `NOWAIT` support reaches back all the way to 8.0. I&#39;m also wondering what your use case is - why don&#39;t you want to read the snapshot made available to the `select`? Or maybe you&#39;re trying to emulate some kind of [serializable](https://www.postgresql.org/docs/9.2/transaction-iso.html#XACT-SERIALIZABLE) behaviour?","body":"You&#39;re right. How about <code>LOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE</code><a href=\"https://www.postgresql.org/docs/8.0/sql-lock.html\" rel=\"nofollow noreferrer\"><b><code>NOWAIT;</code></b></a>? The <code>NOWAIT</code> support reaches back all the way to 8.0. I&#39;m also wondering what your use case is - why don&#39;t you want to read the snapshot made available to the <code>select</code>? Or maybe you&#39;re trying to emulate some kind of <a href=\"https://www.postgresql.org/docs/9.2/transaction-iso.html#XACT-SERIALIZABLE\" rel=\"nofollow noreferrer\">serializable</a> behaviour?"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1671812749,"post_id":74897757,"comment_id":132182457,"body_markdown":"Lord knows what might be possible in an ancient but unspecified version.","body":"Lord knows what might be possible in an ancient but unspecified version."},{"owner":{"account_id":6897470,"reputation":10000,"user_id":5298879,"display_name":"Zegarek"},"score":0,"creation_date":1671813741,"post_id":74897757,"comment_id":132182717,"body_markdown":"@jjanes Presence of [`pg_sleep()` suggests at least 8.2](https://www.postgresql.org/docs/release/8.2.0/#:~:text=server%2Dside%20sleep%20function), lack of [9.3&#39;s `lock_timeout`](https://www.postgresql.org/docs/release/9.3.0/#:~:text=configuration%20variable%20lock_timeout) suggests 9.2 tops. I agree version should be specified, and an update is long overdue.","body":"@jjanes Presence of <a href=\"https://www.postgresql.org/docs/release/8.2.0/#:~:text=server%2Dside%20sleep%20function\" rel=\"nofollow noreferrer\"><code>pg_sleep()</code> suggests at least 8.2</a>, lack of <a href=\"https://www.postgresql.org/docs/release/9.3.0/#:~:text=configuration%20variable%20lock_timeout\" rel=\"nofollow noreferrer\">9.3&#39;s <code>lock_timeout</code></a> suggests 9.2 tops. I agree version should be specified, and an update is long overdue."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1671843872,"post_id":74897757,"comment_id":132188220,"body_markdown":"@jjanes Yeah sorry it&#39;s GaussDB, not actaully postgres, it&#39;s developed based on Postgres (basically it&#39;s postgres), so I don&#39;t know which version of Postgres was used to develop the version I&#39;m using, if I do Select version(); it gives me the GaussDB version which is basically useless. I would have specified the version otherwise.","body":"@jjanes Yeah sorry it&#39;s GaussDB, not actaully postgres, it&#39;s developed based on Postgres (basically it&#39;s postgres), so I don&#39;t know which version of Postgres was used to develop the version I&#39;m using, if I do Select version(); it gives me the GaussDB version which is basically useless. I would have specified the version otherwise."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1671844591,"post_id":74897757,"comment_id":132188280,"body_markdown":"@Zegarek I have a table that&#39;s refreshed every xx hours by a service and have a data cleaning job reading from it and caches it with its own interval, I can&#39;t have it read it while the table is being updated or the data would be bad. Problem is that the update cache part from the job also has its own timeout which  only considers the reading time, so if it has to wait for the lock it would most liekly time out, and adjusting time out has its own problems, so I&#39;ve decided to implement my own retry mechanism in case the table is being updated.","body":"@Zegarek I have a table that&#39;s refreshed every xx hours by a service and have a data cleaning job reading from it and caches it with its own interval, I can&#39;t have it read it while the table is being updated or the data would be bad. Problem is that the update cache part from the job also has its own timeout which  only considers the reading time, so if it has to wait for the lock it would most liekly time out, and adjusting time out has its own problems, so I&#39;ve decided to implement my own retry mechanism in case the table is being updated."}],"answers":[{"comments":[{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1671844921,"post_id":74902112,"comment_id":132188306,"body_markdown":"Have you tried the behaviour in Postgres? It somehow behaves the same for me, the select query will still wait for the lock to be released with no wait, but if I try aquiring the lock with no wait it does work. I tried locking it with a connection and with another connection aquire an access share lock with LOCK TABLE SOME_TABLE IN ACCESS SHARE MODE NOWAIT; and it failed, but a normal select query would not.","body":"Have you tried the behaviour in Postgres? It somehow behaves the same for me, the select query will still wait for the lock to be released with no wait, but if I try aquiring the lock with no wait it does work. I tried locking it with a connection and with another connection aquire an access share lock with LOCK TABLE SOME_TABLE IN ACCESS SHARE MODE NOWAIT; and it failed, but a normal select query would not."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1671848258,"post_id":74902112,"comment_id":132188559,"body_markdown":"So I guess I just need wrap my select statement with a transaction like this? \nBEGIN;\nLOCK TABLE SOME_TABLE IN ACCESS SHARE MODE NOWAIT;\nSELECT * from SOME_TABLE;\nCOMMIT TRANSACTION;","body":"So I guess I just need wrap my select statement with a transaction like this?  BEGIN; LOCK TABLE SOME_TABLE IN ACCESS SHARE MODE NOWAIT; SELECT * from SOME_TABLE; COMMIT TRANSACTION;"}],"tags":[],"owner":{"account_id":6897470,"reputation":10000,"user_id":5298879,"display_name":"Zegarek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671814360,"creation_date":1671814360,"answer_id":74902112,"question_id":74897757,"body_markdown":"As suggested in [the comment][1] earlier: it sounds like it&#39;s exactly what [`NOWAIT`][2] is for:\r\n\r\n&gt; ***NOWAIT***\r\nSpecifies that LOCK TABLE should not wait for any conflicting locks to be released: if the specified lock(s) cannot be acquired immediately without waiting, the transaction is aborted.\r\n\r\nSo you should be able to replace this:\r\n```lang-sql\r\nLOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE;\r\n```\r\nWith this:\r\n```lang-sql\r\nLOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE NOWAIT;\r\n```\r\nWithout the need for `pg_sleep()` and it will fail if the lock isn&#39;t available immediately.\r\n\r\nGuessing from the fact that you&#39;re already using [8.2&#39;s `pg_sleep()`][3] but don&#39;t yet have the [9.3&#39;s `lock_timeout`][4], your version should be covered by [`NOWAIT` support starting with 8.0][5].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74897757/fail-select-query-if-table-is-locked-in-postgresql?noredirect=1#comment132176401_74897757\r\n  [2]: https://www.postgresql.org/docs/8.0/sql-lock.html\r\n  [3]: https://www.postgresql.org/docs/release/8.2.0/#:~:text=server%2Dside%20sleep%20function\r\n  [4]: https://www.postgresql.org/docs/release/9.3.0/#:~:text=configuration%20variable%20lock_timeout\r\n  [5]: https://www.postgresql.org/docs/release/8.0.0/#:~:text=Add%20NOWAIT%20option%20to%20LOCK","title":"Fail SELECT Query if table is locked in PostgreSQL","body":"<p>As suggested in <a href=\"https://stackoverflow.com/questions/74897757/fail-select-query-if-table-is-locked-in-postgresql?noredirect=1#comment132176401_74897757\">the comment</a> earlier: it sounds like it's exactly what <a href=\"https://www.postgresql.org/docs/8.0/sql-lock.html\" rel=\"nofollow noreferrer\"><code>NOWAIT</code></a> is for:</p>\n<blockquote>\n<p><em><strong>NOWAIT</strong></em>\nSpecifies that LOCK TABLE should not wait for any conflicting locks to be released: if the specified lock(s) cannot be acquired immediately without waiting, the transaction is aborted.</p>\n</blockquote>\n<p>So you should be able to replace this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>LOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE;\n</code></pre>\n<p>With this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>LOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE NOWAIT;\n</code></pre>\n<p>Without the need for <code>pg_sleep()</code> and it will fail if the lock isn't available immediately.</p>\n<p>Guessing from the fact that you're already using <a href=\"https://www.postgresql.org/docs/release/8.2.0/#:%7E:text=server%2Dside%20sleep%20function\" rel=\"nofollow noreferrer\">8.2's <code>pg_sleep()</code></a> but don't yet have the <a href=\"https://www.postgresql.org/docs/release/9.3.0/#:%7E:text=configuration%20variable%20lock_timeout\" rel=\"nofollow noreferrer\">9.3's <code>lock_timeout</code></a>, your version should be covered by <a href=\"https://www.postgresql.org/docs/release/8.0.0/#:%7E:text=Add%20NOWAIT%20option%20to%20LOCK\" rel=\"nofollow noreferrer\"><code>NOWAIT</code> support starting with 8.0</a>.</p>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74902112,"answer_count":1,"score":3,"last_activity_date":1671845608,"creation_date":1671785270,"question_id":74897757,"body_markdown":"Is there a way to fail a select query if a table is locked for access instead of waiting for the lock to be released?\r\n\r\nI would prefer resolving it with SQL but doing it at JDBC level in the code is also OK.\r\n\r\nI cannot use LOCK_TIMEOUT because Postgres version is too old.\r\n\r\nbasically I would like this \r\n```\r\nSELECT * \r\nFROM SOME_TABLE\r\n```\r\nto fail immediately instead of waiting for this\r\n\r\n```\r\nBEGIN;\r\nLOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE;\r\nSELECT pg_sleep(10);\r\nCOMMIT TRANSACTION;\r\n```\r\n\r\nEDIT: Version is unknown because the DBMS I&#39;m using is actually GaussDB, PostghreSQL, but it basically behaves like Postgres since it&#39;s developed based on Postgres. So I don&#39;t know which version of Postgres my version corresponds to. SELECT VERSION() will give me Gauss version instead of Postgre version.","title":"Fail SELECT Query if table is locked in PostgreSQL","body":"<p>Is there a way to fail a select query if a table is locked for access instead of waiting for the lock to be released?</p>\n<p>I would prefer resolving it with SQL but doing it at JDBC level in the code is also OK.</p>\n<p>I cannot use LOCK_TIMEOUT because Postgres version is too old.</p>\n<p>basically I would like this</p>\n<pre><code>SELECT * \nFROM SOME_TABLE\n</code></pre>\n<p>to fail immediately instead of waiting for this</p>\n<pre><code>BEGIN;\nLOCK TABLE SOME_TABLE IN ACCESS EXCLUSIVE MODE;\nSELECT pg_sleep(10);\nCOMMIT TRANSACTION;\n</code></pre>\n<p>EDIT: Version is unknown because the DBMS I'm using is actually GaussDB, PostghreSQL, but it basically behaves like Postgres since it's developed based on Postgres. So I don't know which version of Postgres my version corresponds to. SELECT VERSION() will give me Gauss version instead of Postgre version.</p>\n"},{"tags":["java","regex","regex-lookarounds"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671728312,"creation_date":1671728312,"answer_id":74891625,"question_id":74891555,"body_markdown":"You can use\r\n```none\r\n(\\G(?!^)|=)(.*?)\\bold\\b\r\n```\r\nAnd replace with `$1$2new`, see the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `(\\G(?!^)|=)` - Group 1 (`$1`): either the end of the previous successful match or `=`\r\n - `(.*?)` - Group 2 (`$2`): any zero or more chars other than line break chars, as few as possible\r\n - `\\bold\\b` - a whole word `old`.\r\n\r\n  [1]: https://regex101.com/r/bO67qs/2","title":"Regexp multiple match in a part of a string after a specific value","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>(\\G(?!^)|=)(.*?)\\bold\\b\n</code></pre>\n<p>And replace with <code>$1$2new</code>, see the <a href=\"https://regex101.com/r/bO67qs/2\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(\\G(?!^)|=)</code> - Group 1 (<code>$1</code>): either the end of the previous successful match or <code>=</code></li>\n<li><code>(.*?)</code> - Group 2 (<code>$2</code>): any zero or more chars other than line break chars, as few as possible</li>\n<li><code>\\bold\\b</code> - a whole word <code>old</code>.</li>\n</ul>\n"}],"owner":{"account_id":6377624,"reputation":11,"user_id":8357534,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671845550,"creation_date":1671727981,"question_id":74891555,"body_markdown":"I need to replace some values in the properties files without touching the keys, so for the example input string, I need to replace &#39;old&#39; with &#39;new&#39; only in the substring after the &#39;=&#39; sign. \r\n\r\n&gt;Input:\r\nmessage.document.**old**.text=This **old **document is very **old **and will stay **old **forever\r\n\r\n&gt;Output\r\nmessage.document.**old**.text=This **new **document is very **new **and will stay **new **forever\r\n\r\n\r\n\r\n\r\nPositive lookbehind (?&lt;=\\=).*old gives a single match &quot;This old document is very old and will stay old&quot; whilst the desired result is three matches &#39;old old old&#39; just like the primitive expression &#39;old&#39; would return if the original string is just &#39;This old document is very old and will stay old forever&#39; without a key","title":"Regexp multiple match in a part of a string after a specific value","body":"<p>I need to replace some values in the properties files without touching the keys, so for the example input string, I need to replace 'old' with 'new' only in the substring after the '=' sign.</p>\n<blockquote>\n<p>Input:\nmessage.document.<strong>old</strong>.text=This **old **document is very **old **and will stay **old **forever</p>\n</blockquote>\n<blockquote>\n<p>Output\nmessage.document.<strong>old</strong>.text=This **new **document is very **new **and will stay **new **forever</p>\n</blockquote>\n<p>Positive lookbehind (?&lt;==).*old gives a single match &quot;This old document is very old and will stay old&quot; whilst the desired result is three matches 'old old old' just like the primitive expression 'old' would return if the original string is just 'This old document is very old and will stay old forever' without a key</p>\n"},{"tags":["java","mysql","exception","try-catch"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1671835679,"post_id":74904532,"comment_id":132187207,"body_markdown":"You need to call `resultSet.next()`.","body":"You need to call <code>resultSet.next()</code>."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1671835690,"post_id":74904532,"comment_id":132187210,"body_markdown":"While this doesn&#39;t answer your question, I would urge you to take a peek at [Java Bean Validation](https://www.baeldung.com/javax-validation).","body":"While this doesn&#39;t answer your question, I would urge you to take a peek at <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">Java Bean Validation</a>."},{"owner":{"account_id":26581595,"reputation":11,"user_id":20206157,"display_name":"Adryan Reis"},"score":1,"creation_date":1671836436,"post_id":74904532,"comment_id":132187330,"body_markdown":"it was the result set, i did resultSet.next() &amp;&amp; ..., I&#39;ll take a look at java bean validation, thank you guys","body":"it was the result set, i did resultSet.next() &amp;&amp; ..., I&#39;ll take a look at java bean validation, thank you guys"},{"owner":{"account_id":3793951,"reputation":655,"user_id":3149693,"display_name":"Arnas"},"score":0,"creation_date":1671857494,"post_id":74904532,"comment_id":132189237,"body_markdown":"Add `if (resultSet.next()) { // your checking logic here }`","body":"Add <code>if (resultSet.next()) { &#47;&#47; your checking logic here }</code>"}],"owner":{"account_id":26581595,"reputation":11,"user_id":20206157,"display_name":"Adryan Reis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671845510,"creation_date":1671835435,"question_id":74904532,"body_markdown":"I create the first try/catch to check if user,email or phone number is already registered, but I got a `java.sql.SQLException: Illegal operation on empty result set`, when I set a non registered name. When I send a registered name got `java.sql.SQLException: Before start of result set`. What&#39;s happening?\r\n\r\n\r\n```\r\n\r\n\tpublic void createUser(User user) throws NameFieldNotFilledException,EmailFieldNotFilledException, PhoneFieldNotFilledException,\r\n\tPasswordFieldNotFilledException, PasswordConfirmationDoesNotMatchException, EmailNotValidException, PasswordInvalidException, \r\n\tUserAlreadyRegisteredException, EmailAlreadyRegisteredException, PhoneAlreadyRegisteredException{\r\n\t\t\r\n\t\tString userSalt = PBKDF2Salt.getSalt();\r\n\t\tMatcher matcherEmail = patternEmail.matcher(user.getEmail());\r\n\t\tMatcher matcherPassword = patternPassword.matcher(user.getPassword());\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tPreparedStatement preparedStatement = this.databaseMySQL.getConnection().\r\n\t\t\t\t\tprepareStatement(&quot;SELECT * FROM OS_USERS WHERE USR_NAME = ? ;&quot;);\r\n\t\t\tpreparedStatement.setString(1, user.getName());\r\n\t\t\tResultSet resultSet = preparedStatement.executeQuery();\r\n\t\t\tif (resultSet.getString(&quot;USR_NAME&quot;).equals(user.getName())) \r\n\t\t\t\tthrow new UserAlreadyRegisteredException(&quot;User already registered&quot;);\r\n\t\t\tif (resultSet.getString(&quot;USR_EMAIL&quot;).equals(user.getEmail()))\r\n\t\t\t\tthrow new EmailAlreadyRegisteredException(&quot;Email already registered&quot;);\r\n\t\t\tif (resultSet.getString(&quot;USR_PHONE&quot;).equals(user.getPhone())) \r\n\t\t\t\tthrow new PhoneAlreadyRegisteredException(&quot;Phone already registered&quot;);\r\n\t\t}catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tif (user.getName() == null || user.getName().equalsIgnoreCase(&quot;&quot;) || user.getName().equalsIgnoreCase(&quot;\\n&quot;)) \r\n\t\t\tthrow new NameFieldNotFilledException(&quot;Name is required&quot;);\r\n\t\telse if (user.getEmail() == null || user.getEmail().equalsIgnoreCase(&quot;&quot;) || user.getEmail().equalsIgnoreCase(&quot;\\n&quot;))\r\n\t\t\tthrow new EmailFieldNotFilledException(&quot;Email is required&quot;);\r\n\t\telse if (user.getPhone() == null || user.getPhone().equalsIgnoreCase(&quot;&quot;) || user.getPhone().equalsIgnoreCase(&quot;\\n&quot;))\r\n\t\t\tthrow new PhoneFieldNotFilledException(&quot;Phone is required&quot;);\r\n\t\telse if (user.getPassword() == null || user.getPassword().equalsIgnoreCase(&quot;&quot;) || user.getPassword().equalsIgnoreCase(&quot;\\n&quot;))\r\n\t\t\tthrow new PasswordFieldNotFilledException(&quot;Password is required&quot;);\r\n\t\telse if (! user.getConfirmPassword().equals(user.getPassword()))\r\n\t\t\tthrow new PasswordConfirmationDoesNotMatchException(&quot;Password and confirm password do not match&quot;);\r\n\t\telse if (! matcherEmail.matches())\r\n\t\t\tthrow new EmailNotValidException(&quot;Email format invalid. Example valid: user@domain.com&quot;);\r\n\t\telse if (! matcherPassword.matches())\r\n\t\t\tthrow new PasswordInvalidException(&quot;Invalid password&quot;);\r\n\t\telse {\r\n\t\t\ttry {\r\n\t\t\t\tPreparedStatement preparedStatement = this.databaseMySQL.getConnection().prepareStatement(&quot;INSERT INTO OS_USERS VALUES (?, ?, ?, ?, ?, ?);&quot;);\r\n\t\t\t\tpreparedStatement.setInt(1, user.getId());\r\n\t\t\t\tpreparedStatement.setString(2, user.getName());\r\n\t\t\t\tpreparedStatement.setString(3, user.getEmail());\r\n\t\t\t\tpreparedStatement.setString(4, user.getPhone());\r\n\t\t\t\tpreparedStatement.setString(5, PBKDF2Salt.hashing(user.getPassword(),userSalt));\r\n\t\t\t\tpreparedStatement.setString(6,userSalt);\r\n\t\t\t\tpreparedStatement.execute();\r\n\t\t\t}catch(SQLException exception){\r\n\t\t\t\texception.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI want to throw these exception if already exists username, email or phone in my database","title":"Check if user,phone or email is already registered using java and mysql","body":"<p>I create the first try/catch to check if user,email or phone number is already registered, but I got a <code>java.sql.SQLException: Illegal operation on empty result set</code>, when I set a non registered name. When I send a registered name got <code>java.sql.SQLException: Before start of result set</code>. What's happening?</p>\n<pre><code>\n    public void createUser(User user) throws NameFieldNotFilledException,EmailFieldNotFilledException, PhoneFieldNotFilledException,\n    PasswordFieldNotFilledException, PasswordConfirmationDoesNotMatchException, EmailNotValidException, PasswordInvalidException, \n    UserAlreadyRegisteredException, EmailAlreadyRegisteredException, PhoneAlreadyRegisteredException{\n        \n        String userSalt = PBKDF2Salt.getSalt();\n        Matcher matcherEmail = patternEmail.matcher(user.getEmail());\n        Matcher matcherPassword = patternPassword.matcher(user.getPassword());\n        \n        \n        try {\n            PreparedStatement preparedStatement = this.databaseMySQL.getConnection().\n                    prepareStatement(&quot;SELECT * FROM OS_USERS WHERE USR_NAME = ? ;&quot;);\n            preparedStatement.setString(1, user.getName());\n            ResultSet resultSet = preparedStatement.executeQuery();\n            if (resultSet.getString(&quot;USR_NAME&quot;).equals(user.getName())) \n                throw new UserAlreadyRegisteredException(&quot;User already registered&quot;);\n            if (resultSet.getString(&quot;USR_EMAIL&quot;).equals(user.getEmail()))\n                throw new EmailAlreadyRegisteredException(&quot;Email already registered&quot;);\n            if (resultSet.getString(&quot;USR_PHONE&quot;).equals(user.getPhone())) \n                throw new PhoneAlreadyRegisteredException(&quot;Phone already registered&quot;);\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        if (user.getName() == null || user.getName().equalsIgnoreCase(&quot;&quot;) || user.getName().equalsIgnoreCase(&quot;\\n&quot;)) \n            throw new NameFieldNotFilledException(&quot;Name is required&quot;);\n        else if (user.getEmail() == null || user.getEmail().equalsIgnoreCase(&quot;&quot;) || user.getEmail().equalsIgnoreCase(&quot;\\n&quot;))\n            throw new EmailFieldNotFilledException(&quot;Email is required&quot;);\n        else if (user.getPhone() == null || user.getPhone().equalsIgnoreCase(&quot;&quot;) || user.getPhone().equalsIgnoreCase(&quot;\\n&quot;))\n            throw new PhoneFieldNotFilledException(&quot;Phone is required&quot;);\n        else if (user.getPassword() == null || user.getPassword().equalsIgnoreCase(&quot;&quot;) || user.getPassword().equalsIgnoreCase(&quot;\\n&quot;))\n            throw new PasswordFieldNotFilledException(&quot;Password is required&quot;);\n        else if (! user.getConfirmPassword().equals(user.getPassword()))\n            throw new PasswordConfirmationDoesNotMatchException(&quot;Password and confirm password do not match&quot;);\n        else if (! matcherEmail.matches())\n            throw new EmailNotValidException(&quot;Email format invalid. Example valid: user@domain.com&quot;);\n        else if (! matcherPassword.matches())\n            throw new PasswordInvalidException(&quot;Invalid password&quot;);\n        else {\n            try {\n                PreparedStatement preparedStatement = this.databaseMySQL.getConnection().prepareStatement(&quot;INSERT INTO OS_USERS VALUES (?, ?, ?, ?, ?, ?);&quot;);\n                preparedStatement.setInt(1, user.getId());\n                preparedStatement.setString(2, user.getName());\n                preparedStatement.setString(3, user.getEmail());\n                preparedStatement.setString(4, user.getPhone());\n                preparedStatement.setString(5, PBKDF2Salt.hashing(user.getPassword(),userSalt));\n                preparedStatement.setString(6,userSalt);\n                preparedStatement.execute();\n            }catch(SQLException exception){\n                exception.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>I want to throw these exception if already exists username, email or phone in my database</p>\n"},{"tags":["java","montecarlo","birthday-paradox"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671581204,"post_id":74870013,"comment_id":132128922,"body_markdown":"It looks like if exactly two people in your sample share a birthday, then `Collision` will return 1.  But in your main loop, if your inputs are 20 and 2, you&#39;ll only count a success when `Collision` returns 2 or more (which would happen if there are two pairs of birthday sharers, or three people who share a birthday).  There&#39;s no way that happens 41% of the time.","body":"It looks like if exactly two people in your sample share a birthday, then <code>Collision</code> will return 1.  But in your main loop, if your inputs are 20 and 2, you&#39;ll only count a success when <code>Collision</code> returns 2 or more (which would happen if there are two pairs of birthday sharers, or three people who share a birthday).  There&#39;s no way that happens 41% of the time."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671585941,"post_id":74870013,"comment_id":132129556,"body_markdown":"Also, it loops for one less (`for int i = 1;..` should be `for (int i = 0; ...`).","body":"Also, it loops for one less (<code>for int i = 1;..</code> should be <code>for (int i = 0; ...</code>)."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1671589035,"post_id":74870013,"comment_id":132129969,"body_markdown":"@rzwitserloot I don&#39;t think that will actually affect the calculation.","body":"@rzwitserloot I don&#39;t think that will actually affect the calculation."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1671591194,"post_id":74870013,"comment_id":132130233,"body_markdown":"@DawoodibnKareem By sheer luck, indeed, locking the birthday of at most 1 classmate to a specific date (in this case, jan 1st), wouldn&#39;t. But leaving that bug in there means further experimentation with this code will then start running into this. With monte carlo simulations, things are complicated - normally you can just debug and follow along with your algorithm, check for problems. With MC, you may not see such stochastic errors.","body":"@DawoodibnKareem By sheer luck, indeed, locking the birthday of at most 1 classmate to a specific date (in this case, jan 1st), wouldn&#39;t. But leaving that bug in there means further experimentation with this code will then start running into this. With monte carlo simulations, things are complicated - normally you can just debug and follow along with your algorithm, check for problems. With MC, you may not see such stochastic errors."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671593996,"post_id":74870013,"comment_id":132130655,"body_markdown":"&quot;find probability of n people in a class of x&quot; -- Is that *exactly* `n`? Or is it at least n?  Suppose, for example, `classSize` is 25, and `birthPpl` is 2. Suppose there are 3 people that share a birthday. How should your program handle that?  What if there are 3 pairs of shared birthdays?","body":"&quot;find probability of n people in a class of x&quot; -- Is that <i>exactly</i> <code>n</code>? Or is it at least n?  Suppose, for example, <code>classSize</code> is 25, and <code>birthPpl</code> is 2. Suppose there are 3 people that share a birthday. How should your program handle that?  What if there are 3 pairs of shared birthdays?"}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1671818600,"post_id":74876214,"comment_id":132183959,"body_markdown":"This is a &quot;code dump&quot; answer: Code with no explanation. I guess the O/P doesn&#39;t mind, since the answer came from the O/P.","body":"This is a &quot;code dump&quot; answer: Code with no explanation. I guess the O/P doesn&#39;t mind, since the answer came from the O/P."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1671841668,"post_id":74876214,"comment_id":132188047,"body_markdown":"Stack Overflow is not a coding service - it&#39;s about providing clear answers to problems people are facing.  So answers that contain code but no explanation aren&#39;t really welcome on Stack Overflow.  I have voted to delete this.","body":"Stack Overflow is not a coding service - it&#39;s about providing clear answers to problems people are facing.  So answers that contain code but no explanation aren&#39;t really welcome on Stack Overflow.  I have voted to delete this."}],"tags":[],"owner":{"account_id":27312415,"reputation":1,"user_id":20827360,"display_name":"rimvoo"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1671845492,"creation_date":1671626506,"answer_id":74876214,"question_id":74870013,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class Birthday {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int n = sc.nextInt(); // class size\r\n        int x = sc.nextInt(); // people who share the same birthday\r\n        double tests = 1_000_000;\r\n        double success = 0;\r\n\r\n\r\n        // fills array of birthdays and breaks out when x amount of people share \r\n        // a birthday. then we find the % of successes.\r\n        for (int i = 0; i &lt; tests; i++) {\r\n            int[] year = new int[365];\r\n\r\n            for (int j = 0; j &lt; n; j++) {\r\n                int birthday = (int) (Math.random() * 365);\r\n                year[birthday]++;\r\n                if (year[birthday] &gt;= x) {\r\n                    success++;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(Math.round(success * 100 / tests));\r\n    }\r\n}\r\n```","title":"find probability of n people in a class of x share the same birthday using monte carlo simulation in java","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Birthday {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt(); // class size\n        int x = sc.nextInt(); // people who share the same birthday\n        double tests = 1_000_000;\n        double success = 0;\n\n\n        // fills array of birthdays and breaks out when x amount of people share \n        // a birthday. then we find the % of successes.\n        for (int i = 0; i &lt; tests; i++) {\n            int[] year = new int[365];\n\n            for (int j = 0; j &lt; n; j++) {\n                int birthday = (int) (Math.random() * 365);\n                year[birthday]++;\n                if (year[birthday] &gt;= x) {\n                    success++;\n                    break;\n                }\n            }\n        }\n\n        System.out.println(Math.round(success * 100 / tests));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671814018,"creation_date":1671814018,"answer_id":74902062,"question_id":74870013,"body_markdown":"You could also make use the [Random](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Random.html#Random()) and [HashMap](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/HashMap.html#HashMap()) classes. [Map.merge](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)) will take the key, a birthday in this case, then a default value of `1`, and continues to add `1` to the existing value which is returned and compared to `x`. Then success is appropriately updated.  The Random class provides a variety of methods to return random numbers and is usually preferred over `Math.random.`\r\n```\r\ndouble success = 0;\r\nint tests = 1_000_000;\r\n\r\n// instantiate a Random class for selecting the next birthday\r\nRandom r = new Random();\r\n\r\n// a map to hold the frequency count of same birthdays\r\nMap&lt;Integer,Integer&gt; birthdays = new HashMap&lt;&gt;();\r\n\r\n\r\nint n = 23;\r\nint x = 2;\r\n\r\nfor(int i=0; i&lt; tests; i++) {\r\n   for (int j = 0; j &lt; n; j++) {\r\n       if (birthdays.merge(r.nextInt(365), 1, Integer::sum) &gt;= x) {\r\n           success++;\r\n           break;\r\n       }\r\n   }\r\n   // clear the map for the next run\r\n   birthdays.clear();\r\n}\r\n```\r\nUsing [System.out.printf](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)) facilitates formatting the output.\r\n```\r\nSystem.out.printf(&quot;probability = %4.1f%%%n&quot;, (success/tests) * 100);\r\n```\r\nprints something like the following:\r\n```\r\nprobability = 50.7%","title":"find probability of n people in a class of x share the same birthday using monte carlo simulation in java","body":"<p>You could also make use the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Random.html#Random()\" rel=\"nofollow noreferrer\">Random</a> and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/HashMap.html#HashMap()\" rel=\"nofollow noreferrer\">HashMap</a> classes. <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Map.merge</a> will take the key, a birthday in this case, then a default value of <code>1</code>, and continues to add <code>1</code> to the existing value which is returned and compared to <code>x</code>. Then success is appropriately updated.  The Random class provides a variety of methods to return random numbers and is usually preferred over <code>Math.random.</code></p>\n<pre><code>double success = 0;\nint tests = 1_000_000;\n\n// instantiate a Random class for selecting the next birthday\nRandom r = new Random();\n\n// a map to hold the frequency count of same birthdays\nMap&lt;Integer,Integer&gt; birthdays = new HashMap&lt;&gt;();\n\n\nint n = 23;\nint x = 2;\n\nfor(int i=0; i&lt; tests; i++) {\n   for (int j = 0; j &lt; n; j++) {\n       if (birthdays.merge(r.nextInt(365), 1, Integer::sum) &gt;= x) {\n           success++;\n           break;\n       }\n   }\n   // clear the map for the next run\n   birthdays.clear();\n}\n</code></pre>\n<p>Using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html#printf(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">System.out.printf</a> facilitates formatting the output.</p>\n<pre><code>System.out.printf(&quot;probability = %4.1f%%%n&quot;, (success/tests) * 100);\n</code></pre>\n<p>prints something like the following:</p>\n<pre><code>probability = 50.7%\n</code></pre>\n"}],"owner":{"account_id":27312415,"reputation":1,"user_id":20827360,"display_name":"rimvoo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671845492,"creation_date":1671579835,"question_id":74870013,"body_markdown":"As the problem states, i must use monte carlo(randomness) to solve the question given. I am running the simulation 1,000,000 times. \r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class MonteCarlo {\r\n    public static void main(String[] args) {\r\n       Scanner sc = new Scanner(System.in);\r\n       System.out.println(&quot;Please enter size of the class: &quot;);\r\n       int classSize = sc.nextInt();\r\n       System.out.println(&quot;Please enter the amount of people who share the same birthday: &quot;);\r\n       int birthPpl = sc.nextInt();\r\n       System.out.println(&quot;calculate the probability that &quot;+birthPpl+&quot; people share the same Birthday in a class size of &quot;+classSize);\r\n      \r\n       sc.close();\r\n       \r\n       int birthdays [] = new int[classSize];\r\n       int simulations = 0;\r\n       int success=0;\r\n       for(int i=0; i&lt;1000000; i++){\r\n            simulations++;\r\n            if(Collision(birthdays)&gt;=birthPpl){\r\n                success++;\r\n            }\r\n       }\r\n       System.out.println(success+&quot; &quot;+simulations);\r\n       System.out.println(&quot;Answer: &quot;+ (success*100)/simulations + &quot;%&quot;);\r\n    }\r\n\r\n    public static int Collision(int birthday[]){\r\n        Random rand = new Random();\r\n        for(int i=1; i&lt;birthday.length; i++){\r\n            birthday[i]= rand.nextInt(365);\r\n        }\r\n\r\n        int count = 0;\r\n        for(int i=0; i&lt;birthday.length; i++){\r\n            for(int j= i+1; j&lt;birthday.length; j++){\r\n                \r\n                if(birthday[i]==birthday[j]){\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n}\r\n```\r\n\r\nAs per a couple of psuedo code solutions i have seen online i have tried looping through the size of the class x and inserting in a random birthday. then comparing birthdays , reducing the birthdays i look through by 1 each time. I then check the number of collisions against the amount sof ppl who should a birthday , if it is greater or equal to it than i increase the count. i have been given sample imput 20 and 2 which should give 41 % but my program gives eithe 7 or 8 %\r\n\r\nWhat&#39;s the problem, and how can it be fixed?","title":"find probability of n people in a class of x share the same birthday using monte carlo simulation in java","body":"<p>As the problem states, i must use monte carlo(randomness) to solve the question given. I am running the simulation 1,000,000 times.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class MonteCarlo {\n    public static void main(String[] args) {\n       Scanner sc = new Scanner(System.in);\n       System.out.println(&quot;Please enter size of the class: &quot;);\n       int classSize = sc.nextInt();\n       System.out.println(&quot;Please enter the amount of people who share the same birthday: &quot;);\n       int birthPpl = sc.nextInt();\n       System.out.println(&quot;calculate the probability that &quot;+birthPpl+&quot; people share the same Birthday in a class size of &quot;+classSize);\n      \n       sc.close();\n       \n       int birthdays [] = new int[classSize];\n       int simulations = 0;\n       int success=0;\n       for(int i=0; i&lt;1000000; i++){\n            simulations++;\n            if(Collision(birthdays)&gt;=birthPpl){\n                success++;\n            }\n       }\n       System.out.println(success+&quot; &quot;+simulations);\n       System.out.println(&quot;Answer: &quot;+ (success*100)/simulations + &quot;%&quot;);\n    }\n\n    public static int Collision(int birthday[]){\n        Random rand = new Random();\n        for(int i=1; i&lt;birthday.length; i++){\n            birthday[i]= rand.nextInt(365);\n        }\n\n        int count = 0;\n        for(int i=0; i&lt;birthday.length; i++){\n            for(int j= i+1; j&lt;birthday.length; j++){\n                \n                if(birthday[i]==birthday[j]){\n                    count++;\n                }\n            }\n        }\n        return count;\n    }\n}\n</code></pre>\n<p>As per a couple of psuedo code solutions i have seen online i have tried looping through the size of the class x and inserting in a random birthday. then comparing birthdays , reducing the birthdays i look through by 1 each time. I then check the number of collisions against the amount sof ppl who should a birthday , if it is greater or equal to it than i increase the count. i have been given sample imput 20 and 2 which should give 41 % but my program gives eithe 7 or 8 %</p>\n<p>What's the problem, and how can it be fixed?</p>\n"},{"tags":["java","jboss","resteasy"],"answers":[{"tags":[],"owner":{"account_id":1249752,"reputation":357,"user_id":1210397,"accept_rate":33,"display_name":"MFH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671845452,"creation_date":1671845452,"answer_id":74905125,"question_id":74819640,"body_markdown":"No and @RoleAllowed does not invoke SecurityContext isUserInRole(String role) method.\r\n\r\nTherefore, create @Namebinding annotation based filter to handle the permission by SecurityContext isUserInRole(String role) is the best way to go.","title":"Can I use JAX-RS @RoleAllowed in the Rest API resource&#39;s method, if EJB is used","body":"<p>No and @RoleAllowed does not invoke SecurityContext isUserInRole(String role) method.</p>\n<p>Therefore, create @Namebinding annotation based filter to handle the permission by SecurityContext isUserInRole(String role) is the best way to go.</p>\n"}],"owner":{"account_id":1249752,"reputation":357,"user_id":1210397,"accept_rate":33,"display_name":"MFH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671845452,"creation_date":1671158247,"question_id":74819640,"body_markdown":"\r\nAccording to the JBoss 7.1 Enterprise Edition, @RolesAllowed is not advised in the Resource&#39;s method, if RESTful services use EJB.\r\n\r\n&gt; Do not activate role-based security if the application uses EJBs. The\r\n&gt; EJB container will provide the functionality, instead of RESTEasy.\r\n&gt; \r\n&gt; Ref:\r\n&gt; &lt;https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html/developing_web_services_applications/developing_jax_rs_web_services#Enable_Role-Based_Security_RESTEasy_JAX-RS_Web_Service&gt;\r\n\r\nI am confused about the above statement. My application is build by JAX-RS layer and EJB layer. I am resolving role in the implementation of SecurityContext isUserInRole(String role) mehod. My web.xml is empty. Does it mean I am not allowed to use @RolesAllowed on my Resource&#39;s method because my REST services use EJB under the hood?\r\n","title":"Can I use JAX-RS @RoleAllowed in the Rest API resource&#39;s method, if EJB is used","body":"<p>According to the JBoss 7.1 Enterprise Edition, @RolesAllowed is not advised in the Resource's method, if RESTful services use EJB.</p>\n<blockquote>\n<p>Do not activate role-based security if the application uses EJBs. The\nEJB container will provide the functionality, instead of RESTEasy.</p>\n<p>Ref:\n<a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html/developing_web_services_applications/developing_jax_rs_web_services#Enable_Role-Based_Security_RESTEasy_JAX-RS_Web_Service\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html/developing_web_services_applications/developing_jax_rs_web_services#Enable_Role-Based_Security_RESTEasy_JAX-RS_Web_Service</a></p>\n</blockquote>\n<p>I am confused about the above statement. My application is build by JAX-RS layer and EJB layer. I am resolving role in the implementation of SecurityContext isUserInRole(String role) mehod. My web.xml is empty. Does it mean I am not allowed to use @RolesAllowed on my Resource's method because my REST services use EJB under the hood?</p>\n"},{"tags":["java","sql","spring","jpa","specifications"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671767895,"post_id":74895699,"comment_id":132172643,"body_markdown":"Try `Expression&lt;String&gt; rootKey = ((ExpressionImplementor)root.get(criteria.getKey()).asString();` instead of `Path&lt;String&gt; rootKey = root.get(criteria.getKey();`","body":"Try <code>Expression&lt;String&gt; rootKey = ((ExpressionImplementor)root.get(criteria.getKey()).asString&zwnj;&#8203;();</code> instead of <code>Path&lt;String&gt; rootKey = root.get(criteria.getKey();</code>"},{"owner":{"account_id":27022743,"reputation":3,"user_id":20580494,"display_name":"hum_ChrisWU"},"score":0,"creation_date":1671778958,"post_id":74895699,"comment_id":132174095,"body_markdown":"@AndreyB.Panfilov Unfortunately , it gives me the same exception:\n`Parameter value [%ASE%] did not match expected type [com.scm.co.constant.CoApplicationType (n/a)]`","body":"@AndreyB.Panfilov Unfortunately , it gives me the same exception: <code>Parameter value [%ASE%] did not match expected type [com.scm.co.constant.CoApplicationType (n&#47;a)]</code>"}],"answers":[{"comments":[{"owner":{"account_id":27022743,"reputation":3,"user_id":20580494,"display_name":"hum_ChrisWU"},"score":0,"creation_date":1671779691,"post_id":74897004,"comment_id":132174221,"body_markdown":"Thanks for your answer. However, it is for simple Enum type case. Take a look on https://www.baeldung.com/jpa-persisting-enums-in-jpa , my case is similar to the `Category`, and it needs no `@Enumerated` annotation, but a enum converter instead. \n\nIn your case, hibernate throws another exception:  `No enum constant com.scm.co.constant.CoApplicationType.CO(ASE)` when extracting data from DB.","body":"Thanks for your answer. However, it is for simple Enum type case. Take a look on <a href=\"https://www.baeldung.com/jpa-persisting-enums-in-jpa\" rel=\"nofollow noreferrer\">baeldung.com/jpa-persisting-enums-in-jpa</a> , my case is similar to the <code>Category</code>, and it needs no <code>@Enumerated</code> annotation, but a enum converter instead.   In your case, hibernate throws another exception:  <code>No enum constant com.scm.co.constant.CoApplicationType.CO(ASE)</code> when extracting data from DB."},{"owner":{"account_id":10342917,"reputation":31,"user_id":7628711,"display_name":"Rajvee Shah"},"score":0,"creation_date":1671782951,"post_id":74897004,"comment_id":132174839,"body_markdown":"For that particular value you don&#39;t have to go for db call in controller you can add logic     \n/*if (strRoles == null) {\n\t\t\tAuthority userRole = roleRepository.findRoleByName(ERole.ROLE_PROFFESOR)\n\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(MessageConstants.ROLE_NOT_FOUND_MESSAGE));\n\t\t\troles.add(userRole);\n\t\t} else {\n\t\t\tstrRoles.forEach(role -&gt; {\n\t\t\t\tswitch (role) { case &quot;admin&quot;: Authority adminRole = roleRepository.findRoleByName(ERole.ROLE_ADMIN)\n\t\t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(MessageConstants.ROLE_NOT_FOUND_MESSAGE));\n\t\t\t\t\t\troles.add(adminRole);\n\t\t\t\t\t\tbreak;","body":"For that particular value you don&#39;t have to go for db call in controller you can add logic      /*if (strRoles == null) { \t\t\tAuthority userRole = roleRepository.findRoleByName(ERole.ROLE_PROFFESOR) \t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(MessageConstants.ROLE_NOT_FOUND_MESSAGE)); \t\t\troles.add(userRole); \t\t} else { \t\t\tstrRoles.forEach(role -&gt; { \t\t\t\tswitch (role) { case &quot;admin&quot;: Authority adminRole = roleRepository.findRoleByName(ERole.ROLE_ADMIN) \t\t\t\t\t\t\t\t.orElseThrow(() -&gt; new RuntimeException(MessageConstants.ROLE_NOT_FOUND_MESSAGE)); \t\t\t\t\t\troles.add(adminRole); \t\t\t\t\t\tbreak;"}],"tags":[],"owner":{"account_id":10342917,"reputation":31,"user_id":7628711,"display_name":"Rajvee Shah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671845212,"creation_date":1671779215,"answer_id":74897004,"question_id":74895699,"body_markdown":"You have to add\r\n```java\r\n@Enumerated(EnumType.STRING) // dataType of your enum\r\n@Column(insertable = false, updatable = false , name = &quot;co_application_type&quot;)\r\nprivate CoApplicationType coApplicationType; //DB column is CHAR(255);\r\n```\r\nfor enums you have to add `@Enumerated` annotation before your column. \r\n\r\n","title":"Spring JPA specification with enum mapping","body":"<p>You have to add</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Enumerated(EnumType.STRING) // dataType of your enum\n@Column(insertable = false, updatable = false , name = &quot;co_application_type&quot;)\nprivate CoApplicationType coApplicationType; //DB column is CHAR(255);\n</code></pre>\n<p>for enums you have to add <code>@Enumerated</code> annotation before your column.</p>\n"}],"owner":{"account_id":27022743,"reputation":3,"user_id":20580494,"display_name":"hum_ChrisWU"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74897004,"answer_count":1,"score":0,"last_activity_date":1671845212,"creation_date":1671764064,"question_id":74895699,"body_markdown":"In my project, I used a complicated enum for my entity, and I want to do some search function with specification using JPA.\r\n\r\n(Entity)\r\nCoDocument.java\r\n```\r\n@Getter @Setter\r\n@Entity\r\n@Table(name =&quot;co_document&quot;)\r\npublic class CoDocument {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;Id&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Column(insertable = false, updatable = false , name = &quot;co_application_type&quot;)\r\n  private CoApplicationType coApplicationType; //DB column is CHAR(255)\r\n\r\n\r\n}\r\n```\r\n\r\n(Specification)\r\nRepositorySpecification.java\r\n```\r\npublic class RepositorySpecification implements Specification&lt;CoDocument&gt; {\r\n    @Serial\r\n    private static final long serialVersionUID = -7694054498602732930L;\r\n    private final List&lt;SearchCriteria&gt; list;\r\n\r\n    public CoapRepositorySpecification(List&lt;SearchCriteria&gt; list) {\r\n        this.list = list != null ? list : new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;CoDocument&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\r\n        List&lt;Predicate&gt; andPredicates = new ArrayList&lt;&gt;();\r\n        for (SearchCriteria criteria : list) {\r\n            if (criteria.getValue() == null || !StringUtils.hasLength(criteria.getValue().toString())) {\r\n                continue;\r\n            }\r\n\r\n            Path&lt;String&gt; rootKey = root.get(criteria.getKey();\r\n\r\n            andPredicates.add(builder.like(\r\n                     rootKey,\r\n                     &quot;%&quot; + criteria.getValue().toString().toLowerCase() + &quot;%&quot;));\r\n        }\r\n        return builder.and(andPredicates.toArray(new Predicate[0]));\r\n    }\r\n```\r\n\r\n(Enum)\r\nCoApplicationType.java\r\n```\r\n@Getter @Setter\r\npublic enum CoApplicationType {\r\n    CO_TYPE_A(&quot;CO(Maldives)&quot;,&quot;CO_MALDIVES&quot;),\r\n    CO_TYPE_B(&quot;CO(ASE)&quot;,&quot;CO_ASE&quot;);\r\n\r\n    private String applicationType;\r\n    private String formName;\r\n\r\n    private CoApplicationType(String appicationType, String formName){\r\n        this.applicationType = appicationType;\r\n        this.formName = formName;\r\n    }\r\n```\r\n\r\n(Enum converter)\r\nCoApplicationTypeConverter.java\r\n```\r\n@Converter(autoApply = true)\r\npublic class CoApplicationTypeConverter implements AttributeConverter&lt;CoApplicationType, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(CoApplicationType coApplicationType) {\r\n        if (coApplicationType == null) {\r\n            return null;\r\n        }\r\n        return coApplicationType.getAppicationType();\r\n    }\r\n\r\n    @Override\r\n    public CoApplicationType convertToEntityAttribute(String applicationType) {\r\n        if (applicationType == null) {\r\n            return null;\r\n        }\r\n\r\n        return Stream.of(CoApplicationType.values())\r\n                .filter(c -&gt; c.getAppicationType().equals(applicationType))\r\n                .findFirst()\r\n                .orElseThrow(IllegalArgumentException::new);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nBut here comes the exception: \r\n`Parameter value [%ASE%] did not match expected type [com.scm.co.constant.CoApplicationType (n/a)]`\r\nThere&#39;s something wrong with the type in the entity, and I have no clue searching the document online.\r\n\r\nWhat I want to do in SQL statement is like:\r\n`SELECT * FROM co_document WHERE coApplicationType like &quot;%ASE%&quot;;`\r\nand it does work in MySQL Workbench.\r\n\r\nBut I&#39;m not sure how to convert it into JPA with specification, and with complicated enum structure.\r\n\r\nAny reply would be appreciated!","title":"Spring JPA specification with enum mapping","body":"<p>In my project, I used a complicated enum for my entity, and I want to do some search function with specification using JPA.</p>\n<p>(Entity)\nCoDocument.java</p>\n<pre><code>@Getter @Setter\n@Entity\n@Table(name =&quot;co_document&quot;)\npublic class CoDocument {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;Id&quot;, nullable = false)\n  private Long id;\n\n  @Column(insertable = false, updatable = false , name = &quot;co_application_type&quot;)\n  private CoApplicationType coApplicationType; //DB column is CHAR(255)\n\n\n}\n</code></pre>\n<p>(Specification)\nRepositorySpecification.java</p>\n<pre><code>public class RepositorySpecification implements Specification&lt;CoDocument&gt; {\n    @Serial\n    private static final long serialVersionUID = -7694054498602732930L;\n    private final List&lt;SearchCriteria&gt; list;\n\n    public CoapRepositorySpecification(List&lt;SearchCriteria&gt; list) {\n        this.list = list != null ? list : new ArrayList&lt;&gt;();\n    }\n\n    @Override\n    public Predicate toPredicate(Root&lt;CoDocument&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {\n        List&lt;Predicate&gt; andPredicates = new ArrayList&lt;&gt;();\n        for (SearchCriteria criteria : list) {\n            if (criteria.getValue() == null || !StringUtils.hasLength(criteria.getValue().toString())) {\n                continue;\n            }\n\n            Path&lt;String&gt; rootKey = root.get(criteria.getKey();\n\n            andPredicates.add(builder.like(\n                     rootKey,\n                     &quot;%&quot; + criteria.getValue().toString().toLowerCase() + &quot;%&quot;));\n        }\n        return builder.and(andPredicates.toArray(new Predicate[0]));\n    }\n</code></pre>\n<p>(Enum)\nCoApplicationType.java</p>\n<pre><code>@Getter @Setter\npublic enum CoApplicationType {\n    CO_TYPE_A(&quot;CO(Maldives)&quot;,&quot;CO_MALDIVES&quot;),\n    CO_TYPE_B(&quot;CO(ASE)&quot;,&quot;CO_ASE&quot;);\n\n    private String applicationType;\n    private String formName;\n\n    private CoApplicationType(String appicationType, String formName){\n        this.applicationType = appicationType;\n        this.formName = formName;\n    }\n</code></pre>\n<p>(Enum converter)\nCoApplicationTypeConverter.java</p>\n<pre><code>@Converter(autoApply = true)\npublic class CoApplicationTypeConverter implements AttributeConverter&lt;CoApplicationType, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(CoApplicationType coApplicationType) {\n        if (coApplicationType == null) {\n            return null;\n        }\n        return coApplicationType.getAppicationType();\n    }\n\n    @Override\n    public CoApplicationType convertToEntityAttribute(String applicationType) {\n        if (applicationType == null) {\n            return null;\n        }\n\n        return Stream.of(CoApplicationType.values())\n                .filter(c -&gt; c.getAppicationType().equals(applicationType))\n                .findFirst()\n                .orElseThrow(IllegalArgumentException::new);\n    }\n}\n\n</code></pre>\n<p>But here comes the exception:\n<code>Parameter value [%ASE%] did not match expected type [com.scm.co.constant.CoApplicationType (n/a)]</code>\nThere's something wrong with the type in the entity, and I have no clue searching the document online.</p>\n<p>What I want to do in SQL statement is like:\n<code>SELECT * FROM co_document WHERE coApplicationType like &quot;%ASE%&quot;;</code>\nand it does work in MySQL Workbench.</p>\n<p>But I'm not sure how to convert it into JPA with specification, and with complicated enum structure.</p>\n<p>Any reply would be appreciated!</p>\n"},{"tags":["java","file","file-io","directory","temporary-directory"],"answers":[{"comments":[{"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"score":1,"creation_date":1246976334,"post_id":375925,"comment_id":906549,"body_markdown":"You should always check the return value for mkdir(). If that is false then it means the directory already existed. This can cause security problems, so consider whether this should raise an error in your application or not.","body":"You should always check the return value for mkdir(). If that is false then it means the directory already existed. This can cause security problems, so consider whether this should raise an error in your application or not."},{"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"score":1,"creation_date":1382446001,"post_id":375925,"comment_id":28954832,"body_markdown":"See the note about the race condition in the other answer.","body":"See the note about the race condition in the other answer."},{"owner":{"account_id":21815,"reputation":19742,"user_id":53328,"accept_rate":78,"display_name":"Martin Wickman"},"score":0,"creation_date":1405065097,"post_id":375925,"comment_id":38288955,"body_markdown":"This I like, barring the race","body":"This I like, barring the race"}],"tags":[],"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"comment_count":3,"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1229545983,"creation_date":1229545983,"answer_id":375925,"question_id":617414,"body_markdown":"Well, &quot;createTempFile&quot; actually creates the file.  So why not just delete it first, and then do the mkdir on it?","title":"How to create a temporary directory/folder in Java?","body":"<p>Well, \"createTempFile\" actually creates the file.  So why not just delete it first, and then do the mkdir on it?</p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1229550234,"post_id":375927,"comment_id":204085,"body_markdown":"Isn&#39;t this property called &quot;java.io.tmpdir&quot;, not &quot;...temp&quot;? See http://java.sun.com/j2se/1.4.2/docs/api/java/io/File.html","body":"Isn&#39;t this property called &quot;java.io.tmpdir&quot;, not &quot;...temp&quot;? See <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/io/File.html</a>"},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1229618995,"post_id":375927,"comment_id":206163,"body_markdown":"Quite so. I should have verified before repeating what I read.","body":"Quite so. I should have verified before repeating what I read."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1284368063,"post_id":375927,"comment_id":3899833,"body_markdown":"The java.io.tmpdir is shared so you need to do all the usual voodoo to avoid stepping on somebody elses toes.","body":"The java.io.tmpdir is shared so you need to do all the usual voodoo to avoid stepping on somebody elses toes."}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1229618932,"creation_date":1229546036,"answer_id":375927,"question_id":617414,"body_markdown":"As discussed in [this RFE][1] and its comments, you could call `tempDir.delete()` first. Or you could use `System.getProperty(&quot;java.io.tmpdir&quot;)` and create a directory there. Either way, you should remember to call `tempDir.deleteOnExit()`, or the file won&#39;t be deleted after you&#39;re done.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4735419","title":"How to create a temporary directory/folder in Java?","body":"<p>As discussed in <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4735419\" rel=\"nofollow noreferrer\">this RFE</a> and its comments, you could call <code>tempDir.delete()</code> first. Or you could use <code>System.getProperty(&quot;java.io.tmpdir&quot;)</code> and create a directory there. Either way, you should remember to call <code>tempDir.deleteOnExit()</code>, or the file won't be deleted after you're done.</p>\n"},{"comments":[{"owner":{"account_id":35052,"reputation":5206,"user_id":99189,"accept_rate":75,"display_name":"Jeremy Huiskamp"},"score":3,"creation_date":1241374051,"post_id":375997,"comment_id":626919,"body_markdown":"What if the directory already exists and you don&#39;t have read/write access to it or what if it&#39;s a regular file?  You also have a race condition there.","body":"What if the directory already exists and you don&#39;t have read/write access to it or what if it&#39;s a regular file?  You also have a race condition there."},{"owner":{"account_id":6404,"reputation":11778,"user_id":2601671,"accept_rate":77,"display_name":"Trenton"},"score":2,"creation_date":1267742226,"post_id":375997,"comment_id":2360616,"body_markdown":"Also, deleteOnExit will not delete non-empty directories.","body":"Also, deleteOnExit will not delete non-empty directories."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":2,"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1229547324,"creation_date":1229547324,"answer_id":375997,"question_id":617414,"body_markdown":"This code should work reasonably well:\r\n\r\n    public static File createTempDir() {\r\n        final String baseTempPath = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\r\n        Random rand = new Random();\r\n        int randomInt = 1 + rand.nextInt();\r\n        \r\n        File tempDir = new File(baseTempPath + File.separator + &quot;tempDir&quot; + randomInt);\r\n        if (tempDir.exists() == false) {\r\n            tempDir.mkdir();\r\n        }\r\n\r\n        tempDir.deleteOnExit();\r\n        \r\n        return tempDir;\r\n    }\r\n","title":"How to create a temporary directory/folder in Java?","body":"<p>This code should work reasonably well:</p>\n\n<pre><code>public static File createTempDir() {\n    final String baseTempPath = System.getProperty(\"java.io.tmpdir\");\n\n    Random rand = new Random();\n    int randomInt = 1 + rand.nextInt();\n\n    File tempDir = new File(baseTempPath + File.separator + \"tempDir\" + randomInt);\n    if (tempDir.exists() == false) {\n        tempDir.mkdir();\n    }\n\n    tempDir.deleteOnExit();\n\n    return tempDir;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1284367101,"post_id":617438,"comment_id":3899703,"body_markdown":"Nice touch of just reusing the guaranteed temporary name.","body":"Nice touch of just reusing the guaranteed temporary name."},{"owner":{"account_id":54710,"reputation":1633,"user_id":163768,"accept_rate":68,"display_name":"Demiurg"},"score":12,"creation_date":1291191317,"post_id":617438,"comment_id":4696009,"body_markdown":"This is dangerous. Java is known not to delete files immediately, so mkdir may fail sometimes","body":"This is dangerous. Java is known not to delete files immediately, so mkdir may fail sometimes"},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":5,"creation_date":1291221408,"post_id":617438,"comment_id":4701238,"body_markdown":"@Demiurg The only case of a file not being deleted immediately is on Windows when the file is already open (it could be open by a virus scanner for example).  Do you have other documentation to show otherwise (I am curious about things like that :-)? If it happens regularly then the above code won&#39;t work, if it is rare then lopping the call to the above code until the delete happens (or some max tries is reached) would work.","body":"@Demiurg The only case of a file not being deleted immediately is on Windows when the file is already open (it could be open by a virus scanner for example).  Do you have other documentation to show otherwise (I am curious about things like that :-)? If it happens regularly then the above code won&#39;t work, if it is rare then lopping the call to the above code until the delete happens (or some max tries is reached) would work."},{"owner":{"account_id":75696,"reputation":14036,"user_id":217071,"accept_rate":85,"display_name":"Lenik"},"score":7,"creation_date":1294715098,"post_id":617438,"comment_id":5125371,"body_markdown":"@Demiurg Java is known not to delete files immediately. That&#39;s true, even if you don&#39;t open it. So, a more safe way is `temp.delete(); temp = new File(temp.getPath + &quot;.d&quot;); temp.mkdir(); ..., temp.delete();`.","body":"@Demiurg Java is known not to delete files immediately. That&#39;s true, even if you don&#39;t open it. So, a more safe way is <code>temp.delete(); temp = new File(temp.getPath + &quot;.d&quot;); temp.mkdir(); ..., temp.delete();</code>."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":104,"creation_date":1298034580,"post_id":617438,"comment_id":5641096,"body_markdown":"This code has a race condition between `delete()` and `mkdir()`: A malicious process could create the target directory in the meantime (taking the name of the recently-created file). See [`Files.createTempDir()`](http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/io/Files.html#createTempDir%28%29) for an alternative.","body":"This code has a race condition between <code>delete()</code> and <code>mkdir()</code>: A malicious process could create the target directory in the meantime (taking the name of the recently-created file). See <a href=\"http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/io/Files.html#createTempDir%28%29\" rel=\"nofollow noreferrer\"><code>Files.createTempDir()</code></a> for an alternative."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":11,"creation_date":1324343766,"post_id":617438,"comment_id":10624706,"body_markdown":"I like the ! to stand out, too easy to miss it.  I read a lot of code written by students... if(!i) is common enough to be annoying :-)","body":"I like the ! to stand out, too easy to miss it.  I read a lot of code written by students... if(!i) is common enough to be annoying :-)"},{"owner":{"account_id":175470,"reputation":5175,"user_id":405505,"display_name":"zbyszek"},"score":2,"creation_date":1345704490,"post_id":617438,"comment_id":16148231,"body_markdown":"To add to Joachin Sauers&#39; comment: e.g. on linux, inotify on /tmp will tell you the names of all created and deleted files. It is trivial for an attacker, a user on the same machine, to cause the process using this function to write to arbitrary file accessible by the victim.","body":"To add to Joachin Sauers&#39; comment: e.g. on linux, inotify on /tmp will tell you the names of all created and deleted files. It is trivial for an attacker, a user on the same machine, to cause the process using this function to write to arbitrary file accessible by the victim."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":1,"creation_date":1345756926,"post_id":617438,"comment_id":16171876,"body_markdown":"@zbyszek You can use the version of createTempFile that takes a File, being the temporary directory to use.  Pass it a directory that only the user has access to.","body":"@zbyszek You can use the version of createTempFile that takes a File, being the temporary directory to use.  Pass it a directory that only the user has access to."},{"owner":{"account_id":175470,"reputation":5175,"user_id":405505,"display_name":"zbyszek"},"score":1,"creation_date":1345816036,"post_id":617438,"comment_id":16188884,"body_markdown":"@TofuBeer: yes, with the disclaimer that &quot;temp&quot; is under your complete control, and that you are running only one instance of this tempdir function at a time, this function is fine. But that&#39;s not what people usually mean by &quot;create a temporary dir&quot;.","body":"@TofuBeer: yes, with the disclaimer that &quot;temp&quot; is under your complete control, and that you are running only one instance of this tempdir function at a time, this function is fine. But that&#39;s not what people usually mean by &quot;create a temporary dir&quot;."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1345831102,"post_id":617438,"comment_id":16195661,"body_markdown":"No, you misunderstand what I said (I think).  Make a directory like ~/.tmp.  Give it user only permissions.  Then use the createTempFile method that allows you to specify the temp directory, passing in ~/.tmp.  The number of times this method is called has no bearing on it (the odds of collisions are low, and can be handled via looping).","body":"No, you misunderstand what I said (I think).  Make a directory like ~/.tmp.  Give it user only permissions.  Then use the createTempFile method that allows you to specify the temp directory, passing in ~/.tmp.  The number of times this method is called has no bearing on it (the odds of collisions are low, and can be handled via looping)."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1345831142,"post_id":617438,"comment_id":16195681,"body_markdown":"Also, if you have access to JDK 7 you should use the javax.nio.Files class to create the temp directory.","body":"Also, if you have access to JDK 7 you should use the javax.nio.Files class to create the temp directory."},{"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"score":0,"creation_date":1354212915,"post_id":617438,"comment_id":18698071,"body_markdown":"@Xi&#232;J&#236;l&#233;i That code is potentially dangerous on a Unix system because you&#39;re not checking the return of mkdir().","body":"@Xi&#232;J&#236;l&#233;i That code is potentially dangerous on a Unix system because you&#39;re not checking the return of mkdir()."},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":1,"creation_date":1526929853,"post_id":617438,"comment_id":87923735,"body_markdown":"You could always use a UUID instead of nanoTime. UUIDs are supposed to be unique...","body":"You could always use a UUID instead of nanoTime. UUIDs are supposed to be unique..."}],"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"comment_count":13,"down_vote_count":20,"up_vote_count":462,"is_accepted":true,"score":442,"last_activity_date":1538168285,"creation_date":1236303087,"answer_id":617438,"question_id":617414,"body_markdown":"If you are using JDK 7 use the new [Files.createTempDirectory][1] class to create the temporary directory.\r\n\r\n    Path tempDirWithPrefix = Files.createTempDirectory(prefix);\r\n\r\nBefore JDK 7 this should do it:\r\n\r\n    public static File createTempDirectory()\r\n        throws IOException\r\n    {\r\n        final File temp;\r\n        \r\n        temp = File.createTempFile(&quot;temp&quot;, Long.toString(System.nanoTime()));\r\n        \r\n        if(!(temp.delete()))\r\n        {\r\n            throw new IOException(&quot;Could not delete temp file: &quot; + temp.getAbsolutePath());\r\n        }\r\n        \r\n        if(!(temp.mkdir()))\r\n        {\r\n            throw new IOException(&quot;Could not create temp directory: &quot; + temp.getAbsolutePath());\r\n        }\r\n        \r\n        return (temp);\r\n    }\r\n\r\nYou could make better exceptions (subclass IOException) if you want.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createTempDirectory%28java.nio.file.Path,%20java.lang.String,%20java.nio.file.attribute.FileAttribute...%29","title":"How to create a temporary directory/folder in Java?","body":"<p>If you are using JDK 7 use the new <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createTempDirectory%28java.nio.file.Path,%20java.lang.String,%20java.nio.file.attribute.FileAttribute...%29\" rel=\"noreferrer\">Files.createTempDirectory</a> class to create the temporary directory.</p>\n\n<pre><code>Path tempDirWithPrefix = Files.createTempDirectory(prefix);\n</code></pre>\n\n<p>Before JDK 7 this should do it:</p>\n\n<pre><code>public static File createTempDirectory()\n    throws IOException\n{\n    final File temp;\n\n    temp = File.createTempFile(\"temp\", Long.toString(System.nanoTime()));\n\n    if(!(temp.delete()))\n    {\n        throw new IOException(\"Could not delete temp file: \" + temp.getAbsolutePath());\n    }\n\n    if(!(temp.mkdir()))\n    {\n        throw new IOException(\"Could not create temp directory: \" + temp.getAbsolutePath());\n    }\n\n    return (temp);\n}\n</code></pre>\n\n<p>You could make better exceptions (subclass IOException) if you want.</p>\n"},{"comments":[{"owner":{"account_id":8891,"reputation":3425,"user_id":16193,"accept_rate":88,"display_name":"Daniel Hiller"},"score":0,"creation_date":1236430365,"post_id":618273,"comment_id":434705,"body_markdown":"A shutdown hook is cumbersome. Wouldn&#39;t File#deleteOnExit also work?","body":"A shutdown hook is cumbersome. Wouldn&#39;t File#deleteOnExit also work?"},{"owner":{"account_id":4660,"reputation":2692,"user_id":7111,"accept_rate":59,"display_name":"muriloq"},"score":2,"creation_date":1249916386,"post_id":618273,"comment_id":1082282,"body_markdown":"#deleteOnExit didn&#39;t work for me - I believe it won&#39;t delete non-empty directories.","body":"#deleteOnExit didn&#39;t work for me - I believe it won&#39;t delete non-empty directories."},{"owner":{"account_id":5907672,"reputation":356,"user_id":4648862,"display_name":"geri"},"score":0,"creation_date":1495296329,"post_id":618273,"comment_id":75197924,"body_markdown":"I implemented a quick test running with Java 8, but temp folder was not deleted, see https://pastebin.com/mjgG70KG","body":"I implemented a quick test running with Java 8, but temp folder was not deleted, see <a href=\"https://pastebin.com/mjgG70KG\" rel=\"nofollow noreferrer\">pastebin.com/mjgG70KG</a>"}],"tags":[],"owner":{"account_id":5580,"reputation":3140,"user_id":9069,"display_name":"ordnungswidrig"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1236333344,"creation_date":1236333344,"answer_id":618273,"question_id":617414,"body_markdown":"Using `File#createTempFile` and `delete` to create a unique name for the directory seems ok. You should add a `ShutdownHook` to delete the directory (recursively) on JVM shutdown. ","title":"How to create a temporary directory/folder in Java?","body":"<p>Using <code>File#createTempFile</code> and <code>delete</code> to create a unique name for the directory seems ok. You should add a <code>ShutdownHook</code> to delete the directory (recursively) on JVM shutdown. </p>\n"},{"comments":[{"owner":{"account_id":175470,"reputation":5175,"user_id":405505,"display_name":"zbyszek"},"score":2,"creation_date":1345704140,"post_id":1305966,"comment_id":16148100,"body_markdown":"This is insecure. See comment by Joachim Sauer in the first (equally insecure) option. Proper way to check for existence of a file or dir and than to grab the filename, atomically, is by creating the file or dir.","body":"This is insecure. See comment by Joachim Sauer in the first (equally insecure) option. Proper way to check for existence of a file or dir and than to grab the filename, atomically, is by creating the file or dir."},{"owner":{"account_id":53518,"reputation":2820,"user_id":160015,"accept_rate":85,"display_name":"Keith"},"score":1,"creation_date":1345737561,"post_id":1305966,"comment_id":16163838,"body_markdown":"@zbyszek javadocs say &quot;The UUID is generated using a cryptographically strong pseudo random number generator.&quot; Given that how does a malicious process create a dir with the same name between exists() and mkdirs(). In fact looking at this now I think my exists() test might be a little silly.","body":"@zbyszek javadocs say &quot;The UUID is generated using a cryptographically strong pseudo random number generator.&quot; Given that how does a malicious process create a dir with the same name between exists() and mkdirs(). In fact looking at this now I think my exists() test might be a little silly."},{"owner":{"account_id":175470,"reputation":5175,"user_id":405505,"display_name":"zbyszek"},"score":0,"creation_date":1345742781,"post_id":1305966,"comment_id":16166031,"body_markdown":"Keith: UUID being secure or not isn&#39;t crucial in this case. It is enough for the information about the name you queried to somehow &quot;leak&quot;. For example, let&#39;s say that the file being created is on an NFS filesystem, and the attacker can listen (passively) to packets. Or the random generator state has been leaked. In my comment I said that your solution is equally insecure as the accepted answer, but this isn&#39;t fair: the accepted one is trivial to defeat with inotify, and this one is much harder to defeat. Nevertheless, in some scenarios it is certainly possible.","body":"Keith: UUID being secure or not isn&#39;t crucial in this case. It is enough for the information about the name you queried to somehow &quot;leak&quot;. For example, let&#39;s say that the file being created is on an NFS filesystem, and the attacker can listen (passively) to packets. Or the random generator state has been leaked. In my comment I said that your solution is equally insecure as the accepted answer, but this isn&#39;t fair: the accepted one is trivial to defeat with inotify, and this one is much harder to defeat. Nevertheless, in some scenarios it is certainly possible."},{"owner":{"account_id":1742,"reputation":42756,"user_id":2362,"accept_rate":79,"display_name":"brabster"},"score":2,"creation_date":1385655023,"post_id":1305966,"comment_id":30238392,"body_markdown":"I had the same thought and implemented a solution using random UUIDs bit like this one. No check for exists, just one attempt to create - strong RNG used by randomUUID method pretty much guarantees no collisions (can be used for generating primary keys in DB tables, done this myself and never known a collision), so pretty confident. If anyone&#39;s not sure, check out http://stackoverflow.com/questions/2513573/how-good-is-javas-uuid-randomuuid","body":"I had the same thought and implemented a solution using random UUIDs bit like this one. No check for exists, just one attempt to create - strong RNG used by randomUUID method pretty much guarantees no collisions (can be used for generating primary keys in DB tables, done this myself and never known a collision), so pretty confident. If anyone&#39;s not sure, check out <a href=\"http://stackoverflow.com/questions/2513573/how-good-is-javas-uuid-randomuuid\" title=\"how good is javas uuid randomuuid\">stackoverflow.com/questions/2513573/&hellip;</a>"},{"owner":{"account_id":5242188,"reputation":1514,"user_id":7381355,"display_name":"dosentmatter"},"score":0,"creation_date":1531204507,"post_id":1305966,"comment_id":89495611,"body_markdown":"If you look at Java&#39;s implementation, they just generate random names until there is no collision. Their max attempts are infinite. So if somebody malicious were to keep guessing your file/directory name, it would loop forever. Here is a link to the source: http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/9fb81d7a2f16/src/share/classes/java/nio/file/TempFileHelper.java#l124\nI was thinking that it could somehow lock the filesystem so it could atomically generate a unique name and create the directory, but I guess it doesn&#39;t do that according to the source code.","body":"If you look at Java&#39;s implementation, they just generate random names until there is no collision. Their max attempts are infinite. So if somebody malicious were to keep guessing your file/directory name, it would loop forever. Here is a link to the source: <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/9fb81d7a2f16/src/share/classes/java/nio/file/TempFileHelper.java#l124\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/9fb81d7a2f16/src/sh&zwnj;&#8203;are/&hellip;</a> I was thinking that it could somehow lock the filesystem so it could atomically generate a unique name and create the directory, but I guess it doesn&#39;t do that according to the source code."}],"tags":[],"owner":{"account_id":53518,"reputation":2820,"user_id":160015,"accept_rate":85,"display_name":"Keith"},"comment_count":5,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1250772422,"creation_date":1250772422,"answer_id":1305966,"question_id":617414,"body_markdown":"This is what I decided to do for my own code:\r\n\r\n    /**\r\n     * Create a new temporary directory. Use something like\r\n     * {@link #recursiveDelete(File)} to clean this directory up since it isn&#39;t\r\n     * deleted automatically\r\n     * @return  the new directory\r\n     * @throws IOException if there is an error creating the temporary directory\r\n     */\r\n    public static File createTempDir() throws IOException\r\n    {\r\n        final File sysTempDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n        File newTempDir;\r\n        final int maxAttempts = 9;\r\n        int attemptCount = 0;\r\n        do\r\n        {\r\n            attemptCount++;\r\n            if(attemptCount &gt; maxAttempts)\r\n            {\r\n                throw new IOException(\r\n                        &quot;The highly improbable has occurred! Failed to &quot; +\r\n                        &quot;create a unique temporary directory after &quot; +\r\n                        maxAttempts + &quot; attempts.&quot;);\r\n            }\r\n            String dirName = UUID.randomUUID().toString();\r\n            newTempDir = new File(sysTempDir, dirName);\r\n        } while(newTempDir.exists());\r\n        \r\n        if(newTempDir.mkdirs())\r\n        {\r\n            return newTempDir;\r\n        }\r\n        else\r\n        {\r\n            throw new IOException(\r\n                    &quot;Failed to create temp dir named &quot; +\r\n                    newTempDir.getAbsolutePath());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Recursively delete file or directory\r\n     * @param fileOrDir\r\n     *          the file or dir to delete\r\n     * @return\r\n     *          true iff all files are successfully deleted\r\n     */\r\n    public static boolean recursiveDelete(File fileOrDir)\r\n    {\r\n        if(fileOrDir.isDirectory())\r\n        {\r\n            // recursively delete contents\r\n            for(File innerFile: fileOrDir.listFiles())\r\n            {\r\n                if(!FileUtilities.recursiveDelete(innerFile))\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return fileOrDir.delete();\r\n    }\r\n\r\n","title":"How to create a temporary directory/folder in Java?","body":"<p>This is what I decided to do for my own code:</p>\n\n<pre><code>/**\n * Create a new temporary directory. Use something like\n * {@link #recursiveDelete(File)} to clean this directory up since it isn't\n * deleted automatically\n * @return  the new directory\n * @throws IOException if there is an error creating the temporary directory\n */\npublic static File createTempDir() throws IOException\n{\n    final File sysTempDir = new File(System.getProperty(\"java.io.tmpdir\"));\n    File newTempDir;\n    final int maxAttempts = 9;\n    int attemptCount = 0;\n    do\n    {\n        attemptCount++;\n        if(attemptCount &gt; maxAttempts)\n        {\n            throw new IOException(\n                    \"The highly improbable has occurred! Failed to \" +\n                    \"create a unique temporary directory after \" +\n                    maxAttempts + \" attempts.\");\n        }\n        String dirName = UUID.randomUUID().toString();\n        newTempDir = new File(sysTempDir, dirName);\n    } while(newTempDir.exists());\n\n    if(newTempDir.mkdirs())\n    {\n        return newTempDir;\n    }\n    else\n    {\n        throw new IOException(\n                \"Failed to create temp dir named \" +\n                newTempDir.getAbsolutePath());\n    }\n}\n\n/**\n * Recursively delete file or directory\n * @param fileOrDir\n *          the file or dir to delete\n * @return\n *          true iff all files are successfully deleted\n */\npublic static boolean recursiveDelete(File fileOrDir)\n{\n    if(fileOrDir.isDirectory())\n    {\n        // recursively delete contents\n        for(File innerFile: fileOrDir.listFiles())\n        {\n            if(!FileUtilities.recursiveDelete(innerFile))\n            {\n                return false;\n            }\n        }\n    }\n\n    return fileOrDir.delete();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1284367232,"post_id":1506777,"comment_id":3899722,"body_markdown":"We have a JVM where class and jar files get hidden files underneath created by the JVM, and this extra information takes quite a while to delete.  When doing hot redeploys on web containers exploding WARs, the JVM can literaly take minutes to clean up after finishing but before exiting when having run for a few hours.","body":"We have a JVM where class and jar files get hidden files underneath created by the JVM, and this extra information takes quite a while to delete.  When doing hot redeploys on web containers exploding WARs, the JVM can literaly take minutes to clean up after finishing but before exiting when having run for a few hours."}],"tags":[],"owner":{"account_id":563810,"reputation":301,"user_id":182790,"display_name":"Developer Dude"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1298034654,"creation_date":1254434888,"answer_id":1506777,"question_id":617414,"body_markdown":"Do not use `deleteOnExit()` even if you explicitly delete it later.\r\n\r\n[Google &#39;deleteonexit is evil&#39;][1] for more info, but the gist of the problem is:\r\n\r\n1. `deleteOnExit()` only deletes for normal JVM shutdowns, not crashes or killing the JVM process.\r\n\r\n2. `deleteOnExit()` only deletes on JVM shutdown - not good for long running server processes because:\r\n\r\n3. The most evil of all - `deleteOnExit()` consumes memory for each temp file entry. If your process is running for months, or creates a lot of temp files in a short time, you consume memory and never release it until the JVM shuts down.\r\n\r\n\r\n  [1]: http://www.google.com/search?q=deleteonexit+is+evil","title":"How to create a temporary directory/folder in Java?","body":"<p>Do not use <code>deleteOnExit()</code> even if you explicitly delete it later.</p>\n\n<p><a href=\"http://www.google.com/search?q=deleteonexit+is+evil\" rel=\"noreferrer\">Google 'deleteonexit is evil'</a> for more info, but the gist of the problem is:</p>\n\n<ol>\n<li><p><code>deleteOnExit()</code> only deletes for normal JVM shutdowns, not crashes or killing the JVM process.</p></li>\n<li><p><code>deleteOnExit()</code> only deletes on JVM shutdown - not good for long running server processes because:</p></li>\n<li><p>The most evil of all - <code>deleteOnExit()</code> consumes memory for each temp file entry. If your process is running for months, or creates a lot of temp files in a short time, you consume memory and never release it until the JVM shuts down.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":698283,"reputation":11,"user_id":573233,"display_name":"Chris Lott"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315905319,"creation_date":1294859070,"answer_id":4672884,"question_id":617414,"body_markdown":"I like the multiple attempts at creating a unique name but even this solution does not rule out a race condition.  Another process can slip in after the test for `exists()` and the `if(newTempDir.mkdirs())` method invocation.  I have no idea how to completely make this safe without resorting to native code, which I presume is what&#39;s buried inside `File.createTempFile()`.","title":"How to create a temporary directory/folder in Java?","body":"<p>I like the multiple attempts at creating a unique name but even this solution does not rule out a race condition.  Another process can slip in after the test for <code>exists()</code> and the <code>if(newTempDir.mkdirs())</code> method invocation.  I have no idea how to completely make this safe without resorting to native code, which I presume is what's buried inside <code>File.createTempFile()</code>.</p>\n"},{"comments":[{"owner":{"account_id":223452,"reputation":569,"user_id":482677,"display_name":"exception"},"score":0,"creation_date":1332855299,"post_id":6185359,"comment_id":12616000,"body_markdown":"Doesn&#39;t work in JUnit 4.8.2 on Windows 7! (Permissions issue)","body":"Doesn&#39;t work in JUnit 4.8.2 on Windows 7! (Permissions issue)"},{"owner":{"account_id":244931,"reputation":18072,"user_id":808804,"accept_rate":80,"display_name":"Adam Parkin"},"score":2,"creation_date":1358372969,"post_id":6185359,"comment_id":19980794,"body_markdown":"@CraigRinger: Why is it unwise to rely on this?","body":"@CraigRinger: Why is it unwise to rely on this?"},{"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":2,"creation_date":1358379212,"post_id":6185359,"comment_id":19983244,"body_markdown":"@AdamParkin Honestly, I don&#39;t remember anymore. Explanation fail!","body":"@AdamParkin Honestly, I don&#39;t remember anymore. Explanation fail!"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"score":0,"creation_date":1373262394,"post_id":6185359,"comment_id":25474687,"body_markdown":"Doesn&#39;t work in 4.11. `getRoot()` and `newFile()` both complained &quot;temp dir not created yet&quot;. Besides, &quot;Folder&quot; is ugly Windows term. It&#39;s a directory.","body":"Doesn&#39;t work in 4.11. <code>getRoot()</code> and <code>newFile()</code> both complained &quot;temp dir not created yet&quot;. Besides, &quot;Folder&quot; is ugly Windows term. It&#39;s a directory."},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1379669725,"post_id":6185359,"comment_id":27921338,"body_markdown":"@CraigRinger `java.nio.file.Files#createTempDirectory` is not available before Java 7.","body":"@CraigRinger <code>java.nio.file.Files#createTempDirectory</code> is not available before Java 7."},{"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"score":1,"creation_date":1454467424,"post_id":6185359,"comment_id":58053344,"body_markdown":"The main benefit of this approach is that the directory is managed by JUnit (created before the test and deleted recursively after the test). And it does work. If you get &quot;temp dir not created yet&quot;, it might be because you forgot @Rule or the field in not public.","body":"The main benefit of this approach is that the directory is managed by JUnit (created before the test and deleted recursively after the test). And it does work. If you get &quot;temp dir not created yet&quot;, it might be because you forgot @Rule or the field in not public."}],"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":6,"down_vote_count":1,"up_vote_count":181,"is_accepted":false,"score":180,"last_activity_date":1549607605,"creation_date":1306833049,"answer_id":6185359,"question_id":617414,"body_markdown":"If you need a temporary directory for testing and you are using jUnit, `@Rule` together with `TemporaryFolder` solves your problem:\r\n\r\n    @Rule\r\n    public TemporaryFolder folder = new TemporaryFolder();\r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; The TemporaryFolder Rule allows creation of files and folders that are guaranteed to be deleted when the test method finishes (whether it passes or fails) \r\n\r\n\r\n---\r\n\r\n**Update:** \r\n\r\nIf you are using JUnit Jupiter (version 5.1.1 or greater), you have the option to use JUnit Pioneer which is the JUnit 5 Extension Pack. \r\n\r\nCopied from the [project documentation][2]:\r\n\r\n&gt; For example, the following test registers the extension for a single test method, creates and writes a file to the temporary directory and checks its content.\r\n\r\n    @Test\r\n    @ExtendWith(TempDirectory.class)\r\n    void test(@TempDir Path tempDir) {\r\n        Path file = tempDir.resolve(&quot;test.txt&quot;);\r\n        writeFile(file);\r\n        assertExpectedFileContent(file);\r\n    }\r\n\r\nMore info in the [JavaDoc][3] and the [JavaDoc of TempDirectory][4]\r\n\r\nGradle:\r\n\r\n    dependencies {\r\n        testImplementation &#39;org.junit-pioneer:junit-pioneer:0.1.2&#39;\r\n    }\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.junit-pioneer&lt;/groupId&gt;\r\n       &lt;artifactId&gt;junit-pioneer&lt;/artifactId&gt;\r\n       &lt;version&gt;0.1.2&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n---\r\n\r\n**Update 2:**\r\n\r\nThe [@TempDir][5] annotation was added to the JUnit Jupiter 5.4.0 release as an experimental feature. Example copied from the [JUnit 5 User Guide][6]:\r\n\r\n    @Test\r\n    void writeItemsToFile(@TempDir Path tempDir) throws IOException {\r\n        Path file = tempDir.resolve(&quot;test.txt&quot;);\r\n    \r\n        new ListWriter(file).write(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    \r\n        assertEquals(singletonList(&quot;a,b,c&quot;), Files.readAllLines(file));\r\n    }\r\n\r\n\r\n  [1]: https://junit.org/junit4/javadoc/latest/index.html\r\n  [2]: https://junit-pioneer.org/docs/temp-directory/\r\n  [3]: https://javadoc.io/doc/org.junit-pioneer/junit-pioneer/0.1.2\r\n  [4]: https://static.javadoc.io/org.junit-pioneer/junit-pioneer/0.1.2/org/junitpioneer/jupiter/TempDirectory.html\r\n  [5]: https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/io/TempDir.html\r\n  [6]: https://junit.org/junit5/docs/5.4.0/user-guide/#writing-tests-built-in-extensions-TempDirectory","title":"How to create a temporary directory/folder in Java?","body":"<p>If you need a temporary directory for testing and you are using jUnit, <code>@Rule</code> together with <code>TemporaryFolder</code> solves your problem:</p>\n\n<pre><code>@Rule\npublic TemporaryFolder folder = new TemporaryFolder();\n</code></pre>\n\n<p>From the <a href=\"https://junit.org/junit4/javadoc/latest/index.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The TemporaryFolder Rule allows creation of files and folders that are guaranteed to be deleted when the test method finishes (whether it passes or fails) </p>\n</blockquote>\n\n<hr>\n\n<p><strong>Update:</strong> </p>\n\n<p>If you are using JUnit Jupiter (version 5.1.1 or greater), you have the option to use JUnit Pioneer which is the JUnit 5 Extension Pack. </p>\n\n<p>Copied from the <a href=\"https://junit-pioneer.org/docs/temp-directory/\" rel=\"noreferrer\">project documentation</a>:</p>\n\n<blockquote>\n  <p>For example, the following test registers the extension for a single test method, creates and writes a file to the temporary directory and checks its content.</p>\n</blockquote>\n\n<pre><code>@Test\n@ExtendWith(TempDirectory.class)\nvoid test(@TempDir Path tempDir) {\n    Path file = tempDir.resolve(\"test.txt\");\n    writeFile(file);\n    assertExpectedFileContent(file);\n}\n</code></pre>\n\n<p>More info in the <a href=\"https://javadoc.io/doc/org.junit-pioneer/junit-pioneer/0.1.2\" rel=\"noreferrer\">JavaDoc</a> and the <a href=\"https://static.javadoc.io/org.junit-pioneer/junit-pioneer/0.1.2/org/junitpioneer/jupiter/TempDirectory.html\" rel=\"noreferrer\">JavaDoc of TempDirectory</a></p>\n\n<p>Gradle:</p>\n\n<pre><code>dependencies {\n    testImplementation 'org.junit-pioneer:junit-pioneer:0.1.2'\n}\n</code></pre>\n\n<p>Maven:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.junit-pioneer&lt;/groupId&gt;\n   &lt;artifactId&gt;junit-pioneer&lt;/artifactId&gt;\n   &lt;version&gt;0.1.2&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Update 2:</strong></p>\n\n<p>The <a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/io/TempDir.html\" rel=\"noreferrer\">@TempDir</a> annotation was added to the JUnit Jupiter 5.4.0 release as an experimental feature. Example copied from the <a href=\"https://junit.org/junit5/docs/5.4.0/user-guide/#writing-tests-built-in-extensions-TempDirectory\" rel=\"noreferrer\">JUnit 5 User Guide</a>:</p>\n\n<pre><code>@Test\nvoid writeItemsToFile(@TempDir Path tempDir) throws IOException {\n    Path file = tempDir.resolve(\"test.txt\");\n\n    new ListWriter(file).write(\"a\", \"b\", \"c\");\n\n    assertEquals(singletonList(\"a,b,c\"), Files.readAllLines(file));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":87496,"reputation":684,"user_id":242600,"accept_rate":60,"display_name":"abb"},"score":0,"creation_date":1311765631,"post_id":6403880,"comment_id":8134876,"body_markdown":"I wonder what vulnerability you refer to. This approach does not appear to create a race condition as File.mkdir() is suppposed to fail if such the directory already exists (created by an attacker). I don&#39;t think this call will follow through a malicious symlinks either. Could you clarify what you have meant?","body":"I wonder what vulnerability you refer to. This approach does not appear to create a race condition as File.mkdir() is suppposed to fail if such the directory already exists (created by an attacker). I don&#39;t think this call will follow through a malicious symlinks either. Could you clarify what you have meant?"},{"owner":{"account_id":56959,"reputation":9026,"user_id":170587,"accept_rate":79,"display_name":"Spina"},"score":3,"creation_date":1313445540,"post_id":6403880,"comment_id":8461002,"body_markdown":"@abb: I don&#39;t know the details of the race condition that is mentioned in the Guava documentation. I suspect that the documentation is correct given that it specifically calls out the problem.","body":"@abb: I don&#39;t know the details of the race condition that is mentioned in the Guava documentation. I suspect that the documentation is correct given that it specifically calls out the problem."},{"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"score":1,"creation_date":1354212942,"post_id":6403880,"comment_id":18698081,"body_markdown":"@abb You&#39;re right. As long as the return of mkdir() is checked then it would be secure. The code Spina points to uses this mkdir() method. http://grepcode.com/file/repo1.maven.org/maven2/com.google.guava/guava/r03/com/google/common/io/Files.java#Files.createTempDir%28%29 . This is only a potential issue on Unix systems when using the /tmp directory because it has the sticky bit enabled.","body":"@abb You&#39;re right. As long as the return of mkdir() is checked then it would be secure. The code Spina points to uses this mkdir() method. <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.google.guava/guava/r03/com/google/common/io/Files.java#Files.createTempDir%28%29\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/com.google.guava/gu&zwnj;&#8203;ava/&hellip;</a> . This is only a potential issue on Unix systems when using the /tmp directory because it has the sticky bit enabled."},{"owner":{"account_id":56959,"reputation":9026,"user_id":170587,"accept_rate":79,"display_name":"Spina"},"score":0,"creation_date":1359598951,"post_id":6403880,"comment_id":20413312,"body_markdown":"@SarelBotha thanks for filling in the blank here. I&#39;d been wondering idly about this for quite some time.","body":"@SarelBotha thanks for filling in the blank here. I&#39;d been wondering idly about this for quite some time."},{"owner":{"account_id":483242,"reputation":915,"user_id":898154,"accept_rate":100,"display_name":"Alessandro S."},"score":0,"creation_date":1632382805,"post_id":6403880,"comment_id":122477800,"body_markdown":"It is deprecated now: https://guava.dev/releases/30.1-jre/api/docs/com/google/common/io/Files.html","body":"It is deprecated now: <a href=\"https://guava.dev/releases/30.1-jre/api/docs/com/google/common/io/Files.html\" rel=\"nofollow noreferrer\">guava.dev/releases/30.1-jre/api/docs/com/google/common/io/&hellip;</a>"}],"tags":[],"owner":{"account_id":56959,"reputation":9026,"user_id":170587,"accept_rate":79,"display_name":"Spina"},"comment_count":5,"down_vote_count":1,"up_vote_count":185,"is_accepted":false,"score":184,"last_activity_date":1464385770,"creation_date":1308503717,"answer_id":6403880,"question_id":617414,"body_markdown":"The Google Guava library has a ton of helpful utilities. One of note here is the [Files class](http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html). It has a bunch of useful methods including:\r\n\r\n    File myTempDir = Files.createTempDir();\r\n\r\nThis does exactly what you asked for in one line. If you read the documentation [here][1] you&#39;ll see that the proposed adaptation of `File.createTempFile(&quot;install&quot;, &quot;dir&quot;)` typically introduces security vulnerabilities.\r\n\r\n  [1]: http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html#createTempDir()","title":"How to create a temporary directory/folder in Java?","body":"<p>The Google Guava library has a ton of helpful utilities. One of note here is the <a href=\"http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html\" rel=\"noreferrer\">Files class</a>. It has a bunch of useful methods including:</p>\n\n<pre><code>File myTempDir = Files.createTempDir();\n</code></pre>\n\n<p>This does exactly what you asked for in one line. If you read the documentation <a href=\"http://google.github.io/guava/releases/19.0/api/docs/com/google/common/io/Files.html#createTempDir()\" rel=\"noreferrer\">here</a> you'll see that the proposed adaptation of <code>File.createTempFile(\"install\", \"dir\")</code> typically introduces security vulnerabilities.</p>\n"},{"tags":[],"owner":{"account_id":159068,"reputation":2936,"user_id":378130,"display_name":"Greg Price"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1671844908,"creation_date":1318922512,"answer_id":7803748,"question_id":617414,"body_markdown":"Naively written code to solve this problem suffers from race conditions, including several of the answers here.  Historically you could think carefully about race conditions and write it yourself, or you could use a third-party library like Google&#39;s Guava (as Spina&#39;s answer suggested.) Or you could write buggy code.\r\n\r\nBut as of JDK 7, there is good news! The Java standard library itself now provides a properly working (non-racy) solution to this problem. You want [java.nio.file.Files#createTempDirectory()][1]. From the [documentation][1]:\r\n\r\n    public static Path createTempDirectory(Path dir,\r\n                           String prefix,\r\n                           FileAttribute&lt;?&gt;... attrs)\r\n                                    throws IOException\r\n\r\n&gt; Creates a new directory in the specified directory, using the given prefix to generate its name. The resulting Path is associated with the same FileSystem as the given directory.\r\n\r\n&gt; The details as to how the name of the directory is constructed is implementation dependent and therefore not specified. Where possible the prefix is used to construct candidate names.\r\n\r\nThis effectively resolves the [embarrassingly ancient bug report](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4735419) in the Sun bug tracker which asked for just such a function.\r\n\r\n[1]: http://download.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createTempDirectory(java.nio.file.Path,%20java.lang.String,%20java.nio.file.attribute.FileAttribute...)\r\n","title":"How to create a temporary directory/folder in Java?","body":"<p>Naively written code to solve this problem suffers from race conditions, including several of the answers here.  Historically you could think carefully about race conditions and write it yourself, or you could use a third-party library like Google's Guava (as Spina's answer suggested.) Or you could write buggy code.</p>\n<p>But as of JDK 7, there is good news! The Java standard library itself now provides a properly working (non-racy) solution to this problem. You want <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createTempDirectory(java.nio.file.Path,%20java.lang.String,%20java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\">java.nio.file.Files#createTempDirectory()</a>. From the <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createTempDirectory(java.nio.file.Path,%20java.lang.String,%20java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<pre><code>public static Path createTempDirectory(Path dir,\n                       String prefix,\n                       FileAttribute&lt;?&gt;... attrs)\n                                throws IOException\n</code></pre>\n<blockquote>\n<p>Creates a new directory in the specified directory, using the given prefix to generate its name. The resulting Path is associated with the same FileSystem as the given directory.</p>\n</blockquote>\n<blockquote>\n<p>The details as to how the name of the directory is constructed is implementation dependent and therefore not specified. Where possible the prefix is used to construct candidate names.</p>\n</blockquote>\n<p>This effectively resolves the <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4735419\" rel=\"nofollow noreferrer\">embarrassingly ancient bug report</a> in the Sun bug tracker which asked for just such a function.</p>\n"},{"tags":[],"owner":{"account_id":478919,"reputation":671,"user_id":891292,"display_name":"seeker"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1326141845,"creation_date":1326141198,"answer_id":8794812,"question_id":617414,"body_markdown":"As of Java 1.7 `createTempDirectory(prefix, attrs)` and `createTempDirectory(dir, prefix, attrs)` are included in `java.nio.file.Files`\r\n\r\nExample:\r\n`File tempDir = Files.createTempDirectory(&quot;foobar&quot;).toFile();`","title":"How to create a temporary directory/folder in Java?","body":"<p>As of Java 1.7 <code>createTempDirectory(prefix, attrs)</code> and <code>createTempDirectory(dir, prefix, attrs)</code> are included in <code>java.nio.file.Files</code></p>\n\n<p>Example:\n<code>File tempDir = Files.createTempDirectory(\"foobar\").toFile();</code></p>\n"},{"tags":[],"owner":{"account_id":166831,"reputation":3471,"user_id":391231,"display_name":"Andres Kievsky"},"comment_count":0,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1327474732,"creation_date":1327474732,"answer_id":8998916,"question_id":617414,"body_markdown":"This is the source code to the Guava library&#39;s Files.createTempDir(). It&#39;s nowhere as complex as you might think:\r\n\r\n    public static File createTempDir() {\r\n      File baseDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n      String baseName = System.currentTimeMillis() + &quot;-&quot;;\r\n\r\n      for (int counter = 0; counter &lt; TEMP_DIR_ATTEMPTS; counter++) {\r\n        File tempDir = new File(baseDir, baseName + counter);\r\n        if (tempDir.mkdir()) {\r\n          return tempDir;\r\n        }\r\n      }\r\n      throw new IllegalStateException(&quot;Failed to create directory within &quot;\r\n          + TEMP_DIR_ATTEMPTS + &quot; attempts (tried &quot;\r\n          + baseName + &quot;0 to &quot; + baseName + (TEMP_DIR_ATTEMPTS - 1) + &#39;)&#39;);\r\n    }\r\n\r\nBy default:\r\n\r\n    private static final int TEMP_DIR_ATTEMPTS = 10000;\r\n\r\n[See here][1]\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/io/Files.java","title":"How to create a temporary directory/folder in Java?","body":"<p>This is the source code to the Guava library's Files.createTempDir(). It's nowhere as complex as you might think:</p>\n\n<pre><code>public static File createTempDir() {\n  File baseDir = new File(System.getProperty(\"java.io.tmpdir\"));\n  String baseName = System.currentTimeMillis() + \"-\";\n\n  for (int counter = 0; counter &lt; TEMP_DIR_ATTEMPTS; counter++) {\n    File tempDir = new File(baseDir, baseName + counter);\n    if (tempDir.mkdir()) {\n      return tempDir;\n    }\n  }\n  throw new IllegalStateException(\"Failed to create directory within \"\n      + TEMP_DIR_ATTEMPTS + \" attempts (tried \"\n      + baseName + \"0 to \" + baseName + (TEMP_DIR_ATTEMPTS - 1) + ')');\n}\n</code></pre>\n\n<p>By default:</p>\n\n<pre><code>private static final int TEMP_DIR_ATTEMPTS = 10000;\n</code></pre>\n\n<p><a href=\"http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/io/Files.java\" rel=\"noreferrer\">See here</a></p>\n"},{"tags":[],"owner":{"account_id":2080158,"reputation":43,"user_id":1852316,"display_name":"immoteous"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359422147,"creation_date":1359422147,"answer_id":14574100,"question_id":617414,"body_markdown":"I got the same problem so this is just another answer for those who are interested, and it&#39;s similar to one of the above:\r\n\r\n    public static final String tempDir = System.getProperty(&quot;java.io.tmpdir&quot;)+&quot;tmp&quot;+System.nanoTime();\r\n    static {\r\n        File f = new File(tempDir);\r\n        if(!f.exists())\r\n            f.mkdir();\r\n    }\r\n\r\nAnd for my application, I decided that to add in a option to clear the **temp** on exit so I added in a shut-down hook:\r\n\r\n    Runtime.getRuntime().addShutdownHook(new Thread() {\r\n            @Override\r\n            public void run() {\r\n                //stackless deletion\r\n                String root = MainWindow.tempDir;\r\n                Stack&lt;String&gt; dirStack = new Stack&lt;String&gt;();\r\n                dirStack.push(root);\r\n                while(!dirStack.empty()) {\r\n                    String dir = dirStack.pop();\r\n                    File f = new File(dir);\r\n                    if(f.listFiles().length==0)\r\n                        f.delete();\r\n                    else {\r\n                        dirStack.push(dir);\r\n                        for(File ff: f.listFiles()) {\r\n                            if(ff.isFile())\r\n                                ff.delete();\r\n                            else if(ff.isDirectory())\r\n                                dirStack.push(ff.getPath());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\nThe method delete all subdirs and files before deleting the **temp**, without using the callstack (which is totally optional and you could do it with recursion at this point), but I want to be on the safe side.","title":"How to create a temporary directory/folder in Java?","body":"<p>I got the same problem so this is just another answer for those who are interested, and it's similar to one of the above:</p>\n\n<pre><code>public static final String tempDir = System.getProperty(\"java.io.tmpdir\")+\"tmp\"+System.nanoTime();\nstatic {\n    File f = new File(tempDir);\n    if(!f.exists())\n        f.mkdir();\n}\n</code></pre>\n\n<p>And for my application, I decided that to add in a option to clear the <strong>temp</strong> on exit so I added in a shut-down hook:</p>\n\n<pre><code>Runtime.getRuntime().addShutdownHook(new Thread() {\n        @Override\n        public void run() {\n            //stackless deletion\n            String root = MainWindow.tempDir;\n            Stack&lt;String&gt; dirStack = new Stack&lt;String&gt;();\n            dirStack.push(root);\n            while(!dirStack.empty()) {\n                String dir = dirStack.pop();\n                File f = new File(dir);\n                if(f.listFiles().length==0)\n                    f.delete();\n                else {\n                    dirStack.push(dir);\n                    for(File ff: f.listFiles()) {\n                        if(ff.isFile())\n                            ff.delete();\n                        else if(ff.isDirectory())\n                            dirStack.push(ff.getPath());\n                    }\n                }\n            }\n        }\n    });\n</code></pre>\n\n<p>The method delete all subdirs and files before deleting the <strong>temp</strong>, without using the callstack (which is totally optional and you could do it with recursion at this point), but I want to be on the safe side.</p>\n"},{"tags":[],"owner":{"account_id":1536315,"reputation":31,"user_id":1432262,"display_name":"Carsten Engelke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403608298,"creation_date":1403605816,"answer_id":24384306,"question_id":617414,"body_markdown":"As you can see in the other answers, no standard approach has arisen.\r\nHence you already mentioned Apache Commons, I propose the following approach using FileUtils from [Apache Commons IO][1]:\r\n\r\n    /**\r\n\t * Creates a temporary subdirectory in the standard temporary directory.\r\n\t * This will be automatically deleted upon exit.\r\n\t * \r\n\t * @param prefix\r\n\t *            the prefix used to create the directory, completed by a\r\n\t *            current timestamp. Use for instance your application&#39;s name\r\n\t * @return the directory\r\n\t */\r\n\tpublic static File createTempDirectory(String prefix) {\r\n\r\n\t\tfinal File tmp = new File(FileUtils.getTempDirectory().getAbsolutePath()\r\n\t\t\t\t+ &quot;/&quot; + prefix + System.currentTimeMillis());\r\n\t\ttmp.mkdir();\r\n\t\tRuntime.getRuntime().addShutdownHook(new Thread() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tFileUtils.deleteDirectory(tmp);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn tmp;\r\n\r\n\t}\r\n\r\nThis is preferred since apache commons the library that comes as closest to the asked &quot;standard&quot; and works with both JDK 7 and older versions. This also returns an &quot;old&quot; File instance (which is stream based) and not a &quot;new&quot; Path instance (which is buffer based and would be the result of JDK7&#39;s getTemporaryDirectory() method) -&gt; Therefore it returns what most people need when they want to create a temporary directory.\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/","title":"How to create a temporary directory/folder in Java?","body":"<p>As you can see in the other answers, no standard approach has arisen.\nHence you already mentioned Apache Commons, I propose the following approach using FileUtils from <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow\">Apache Commons IO</a>:</p>\n\n<pre><code>/**\n * Creates a temporary subdirectory in the standard temporary directory.\n * This will be automatically deleted upon exit.\n * \n * @param prefix\n *            the prefix used to create the directory, completed by a\n *            current timestamp. Use for instance your application's name\n * @return the directory\n */\npublic static File createTempDirectory(String prefix) {\n\n    final File tmp = new File(FileUtils.getTempDirectory().getAbsolutePath()\n            + \"/\" + prefix + System.currentTimeMillis());\n    tmp.mkdir();\n    Runtime.getRuntime().addShutdownHook(new Thread() {\n\n        @Override\n        public void run() {\n\n            try {\n                FileUtils.deleteDirectory(tmp);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    });\n    return tmp;\n\n}\n</code></pre>\n\n<p>This is preferred since apache commons the library that comes as closest to the asked \"standard\" and works with both JDK 7 and older versions. This also returns an \"old\" File instance (which is stream based) and not a \"new\" Path instance (which is buffer based and would be the result of JDK7's getTemporaryDirectory() method) -> Therefore it returns what most people need when they want to create a temporary directory.</p>\n"},{"tags":[],"owner":{"account_id":221741,"reputation":8017,"user_id":479905,"accept_rate":80,"display_name":"Arne"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466515865,"creation_date":1466513814,"answer_id":37945114,"question_id":617414,"body_markdown":"Just for completion, this is the code from google guava library. It is not my code, but I think it is valueable to show it here in this thread.\r\n\r\n      /** Maximum loop count when creating temp directories. */\r\n      private static final int TEMP_DIR_ATTEMPTS = 10000;\r\n\r\n      /**\r\n       * Atomically creates a new directory somewhere beneath the system&#39;s temporary directory (as\r\n       * defined by the {@code java.io.tmpdir} system property), and returns its name.\r\n       *\r\n       * &lt;p&gt;Use this method instead of {@link File#createTempFile(String, String)} when you wish to\r\n       * create a directory, not a regular file. A common pitfall is to call {@code createTempFile},\r\n       * delete the file and create a directory in its place, but this leads a race condition which can\r\n       * be exploited to create security vulnerabilities, especially when executable files are to be\r\n       * written into the directory.\r\n       *\r\n       * &lt;p&gt;This method assumes that the temporary volume is writable, has free inodes and free blocks,\r\n       * and that it will not be called thousands of times per second.\r\n       *\r\n       * @return the newly-created directory\r\n       * @throws IllegalStateException if the directory could not be created\r\n       */\r\n      public static File createTempDir() {\r\n        File baseDir = new File(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n        String baseName = System.currentTimeMillis() + &quot;-&quot;;\r\n    \r\n        for (int counter = 0; counter &lt; TEMP_DIR_ATTEMPTS; counter++) {\r\n          File tempDir = new File(baseDir, baseName + counter);\r\n          if (tempDir.mkdir()) {\r\n            return tempDir;\r\n          }\r\n        }\r\n        throw new IllegalStateException(\r\n            &quot;Failed to create directory within &quot;\r\n                + TEMP_DIR_ATTEMPTS\r\n                + &quot; attempts (tried &quot;\r\n                + baseName\r\n                + &quot;0 to &quot;\r\n                + baseName\r\n                + (TEMP_DIR_ATTEMPTS - 1)\r\n                + &#39;)&#39;);\r\n      }","title":"How to create a temporary directory/folder in Java?","body":"<p>Just for completion, this is the code from google guava library. It is not my code, but I think it is valueable to show it here in this thread.</p>\n\n<pre><code>  /** Maximum loop count when creating temp directories. */\n  private static final int TEMP_DIR_ATTEMPTS = 10000;\n\n  /**\n   * Atomically creates a new directory somewhere beneath the system's temporary directory (as\n   * defined by the {@code java.io.tmpdir} system property), and returns its name.\n   *\n   * &lt;p&gt;Use this method instead of {@link File#createTempFile(String, String)} when you wish to\n   * create a directory, not a regular file. A common pitfall is to call {@code createTempFile},\n   * delete the file and create a directory in its place, but this leads a race condition which can\n   * be exploited to create security vulnerabilities, especially when executable files are to be\n   * written into the directory.\n   *\n   * &lt;p&gt;This method assumes that the temporary volume is writable, has free inodes and free blocks,\n   * and that it will not be called thousands of times per second.\n   *\n   * @return the newly-created directory\n   * @throws IllegalStateException if the directory could not be created\n   */\n  public static File createTempDir() {\n    File baseDir = new File(System.getProperty(\"java.io.tmpdir\"));\n    String baseName = System.currentTimeMillis() + \"-\";\n\n    for (int counter = 0; counter &lt; TEMP_DIR_ATTEMPTS; counter++) {\n      File tempDir = new File(baseDir, baseName + counter);\n      if (tempDir.mkdir()) {\n        return tempDir;\n      }\n    }\n    throw new IllegalStateException(\n        \"Failed to create directory within \"\n            + TEMP_DIR_ATTEMPTS\n            + \" attempts (tried \"\n            + baseName\n            + \"0 to \"\n            + baseName\n            + (TEMP_DIR_ATTEMPTS - 1)\n            + ')');\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4330655,"reputation":1423,"user_id":3536285,"display_name":"Adam Taras"},"score":1,"creation_date":1495187984,"post_id":43975187,"comment_id":75158040,"body_markdown":"Nice code. But unfortunatelly &quot;deleteOnExit()&quot; won&#39;t work, since Java can&#39;t delete the whole folder at once. You have to delete all files recursively :/","body":"Nice code. But unfortunatelly &quot;deleteOnExit()&quot; won&#39;t work, since Java can&#39;t delete the whole folder at once. You have to delete all files recursively :/"}],"tags":[],"owner":{"account_id":5907672,"reputation":356,"user_id":4648862,"display_name":"geri"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494838608,"creation_date":1494838608,"answer_id":43975187,"question_id":617414,"body_markdown":"Before Java 7 you could also:\r\n\r\n    File folder = File.createTempFile(&quot;testFileUtils&quot;, &quot;&quot;); // no suffix\r\n    folder.delete();\r\n    folder.mkdirs();\r\n    folder.deleteOnExit();\r\n","title":"How to create a temporary directory/folder in Java?","body":"<p>Before Java 7 you could also:</p>\n\n<pre><code>File folder = File.createTempFile(\"testFileUtils\", \"\"); // no suffix\nfolder.delete();\nfolder.mkdirs();\nfolder.deleteOnExit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582100967,"creation_date":1581592251,"answer_id":60206442,"question_id":617414,"body_markdown":"**Try this small example:**&lt;br&gt;\r\n\r\n**Code:**\r\n\r\n    try {\r\n\t    Path tmpDir = Files.createTempDirectory(&quot;tmpDir&quot;);\r\n\t    System.out.println(tmpDir.toString());\r\n\t    Files.delete(tmpDir);\r\n    } catch (IOException e) {\r\n\t    e.printStackTrace();\r\n    }\r\n\r\n&lt;br&gt;\r\n**Imports:**&lt;br&gt;\r\njava.io.IOException&lt;br&gt;\r\njava.nio.file.Files&lt;br&gt;\r\njava.nio.file.Path&lt;br&gt;\r\n\r\n**Console output on Windows machine:**&lt;br&gt;\r\nC:\\Users\\userName\\AppData\\Local\\Temp\\tmpDir2908538301081367877\r\n\r\n**Comment:**&lt;br&gt;\r\nFiles.createTempDirectory generates unique ID atomatically - 2908538301081367877. &lt;br&gt;\r\n&lt;br&gt;\r\n**Note:**&lt;br&gt;\r\nRead the following for deleting directories recursively:&lt;br&gt;\r\nhttps://stackoverflow.com/questions/779519/delete-directories-recursively-in-java\r\n","title":"How to create a temporary directory/folder in Java?","body":"<p><strong>Try this small example:</strong><br></p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>try {\n    Path tmpDir = Files.createTempDirectory(\"tmpDir\");\n    System.out.println(tmpDir.toString());\n    Files.delete(tmpDir);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p><br>\n<strong>Imports:</strong><br>\njava.io.IOException<br>\njava.nio.file.Files<br>\njava.nio.file.Path<br></p>\n\n<p><strong>Console output on Windows machine:</strong><br>\nC:\\Users\\userName\\AppData\\Local\\Temp\\tmpDir2908538301081367877</p>\n\n<p><strong>Comment:</strong><br>\nFiles.createTempDirectory generates unique ID atomatically - 2908538301081367877. <br>\n<br>\n<strong>Note:</strong><br>\nRead the following for deleting directories recursively:<br>\n<a href=\"https://stackoverflow.com/questions/779519/delete-directories-recursively-in-java\">Delete directories recursively in Java</a></p>\n"}],"owner":{"account_id":10475,"reputation":8823,"user_id":19820,"accept_rate":41,"display_name":"Peter Becker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468059,"favorite_count":0,"down_vote_count":0,"up_vote_count":415,"accepted_answer_id":617438,"answer_count":18,"score":415,"last_activity_date":1671844908,"creation_date":1236302275,"question_id":617414,"body_markdown":"Is there a standard and reliable way of creating a temporary directory inside a Java application? There&#39;s [an entry in Java&#39;s issue database](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4735419), which has a bit of code in the comments, but I wonder if there is a standard solution to be found in one of the usual libraries (Apache Commons etc.) ?","title":"How to create a temporary directory/folder in Java?","body":"<p>Is there a standard and reliable way of creating a temporary directory inside a Java application? There's <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4735419\" rel=\"noreferrer\">an entry in Java's issue database</a>, which has a bit of code in the comments, but I wonder if there is a standard solution to be found in one of the usual libraries (Apache Commons etc.) ?</p>\n"},{"tags":["java","performance","algorithm","random"],"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":154,"creation_date":1358987835,"post_id":14491966,"comment_id":20196365,"body_markdown":"&quot;seems pretty random&quot;; you should generate a histogram and run some autocorrelation on your sequence...","body":"&quot;seems pretty random&quot;; you should generate a histogram and run some autocorrelation on your sequence..."},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":0,"creation_date":1358987875,"post_id":14491966,"comment_id":20196375,"body_markdown":"@OliCharlesworth I... err... what? I have no idea what you just said :P","body":"@OliCharlesworth I... err... what? I have no idea what you just said :P"},{"owner":{"account_id":9708,"reputation":7331,"user_id":18049,"accept_rate":87,"display_name":"Matt H"},"score":63,"creation_date":1358987933,"post_id":14491966,"comment_id":20196396,"body_markdown":"He means &quot;seems pretty random&quot; isn&#39;t really an objective measure of randomness and you should get some actual statistics.","body":"He means &quot;seems pretty random&quot; isn&#39;t really an objective measure of randomness and you should get some actual statistics."},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":2,"creation_date":1358987970,"post_id":14491966,"comment_id":20196411,"body_markdown":"@MattH The problem is I have no idea how to do that. Which is why I am asking here.","body":"@MattH The problem is I have no idea how to do that. Which is why I am asking here."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":23,"creation_date":1358988002,"post_id":14491966,"comment_id":20196419,"body_markdown":"@Doorknob: In layman&#39;s terms, you should investigate whether your numbers have a &quot;flat&quot; distribution between 0 and 1, and see whether there are any periodic/repetitive patterns over time.","body":"@Doorknob: In layman&#39;s terms, you should investigate whether your numbers have a &quot;flat&quot; distribution between 0 and 1, and see whether there are any periodic/repetitive patterns over time."},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":0,"creation_date":1358988034,"post_id":14491966,"comment_id":20196425,"body_markdown":"@OliCharlesworth See previous comment :P Also they don&#39;t need to be **perfectly** random, just &quot;good enough.&quot;","body":"@OliCharlesworth See previous comment :P Also they don&#39;t need to be <b>perfectly</b> random, just &quot;good enough.&quot;"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":1,"creation_date":1358988042,"post_id":14491966,"comment_id":20196429,"body_markdown":"What does random mean to you? If every value in a range occurs an equal amount of times after a big enough amount of tests has been done, you can conclude it&#39;s random.","body":"What does random mean to you? If every value in a range occurs an equal amount of times after a big enough amount of tests has been done, you can conclude it&#39;s random."},{"owner":{"account_id":9708,"reputation":7331,"user_id":18049,"accept_rate":87,"display_name":"Matt H"},"score":3,"creation_date":1358988076,"post_id":14491966,"comment_id":20196443,"body_markdown":"You could start here: http://en.wikipedia.org/wiki/Statistical_randomness","body":"You could start here: <a href=\"http://en.wikipedia.org/wiki/Statistical_randomness\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Statistical_randomness</a>"},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":0,"creation_date":1358988078,"post_id":14491966,"comment_id":20196445,"body_markdown":"@JeroenVannevel I don&#39;t need it to be *really, really* random. Just good enough to have a human player think it&#39;s random enough.","body":"@JeroenVannevel I don&#39;t need it to be <i>really, really</i> random. Just good enough to have a human player think it&#39;s random enough."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":4,"creation_date":1358988105,"post_id":14491966,"comment_id":20196454,"body_markdown":"Also, `Math.random` uses `Random.nextDouble`, which really isn&#39;t as complex as you make out.  Take a look at its source code!","body":"Also, <code>Math.random</code> uses <code>Random.nextDouble</code>, which really isn&#39;t as complex as you make out.  Take a look at its source code!"},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":5,"creation_date":1358988132,"post_id":14491966,"comment_id":20196464,"body_markdown":"@OliCharlesworth Hrm. *I&#39;ve been lied to my whole life* :P","body":"@OliCharlesworth Hrm. <i>I&#39;ve been lied to my whole life</i> :P"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1358988157,"post_id":14491966,"comment_id":20196470,"body_markdown":"@Doorknob: Ok, but that&#39;s not really a question we can answer here (how do you define &quot;random enough&quot;?).  But you should just use `Random` (or `Math.random`).","body":"@Doorknob: Ok, but that&#39;s not really a question we can answer here (how do you define &quot;random enough&quot;?).  But you should just use <code>Random</code> (or <code>Math.random</code>)."},{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":0,"creation_date":1358988247,"post_id":14491966,"comment_id":20196495,"body_markdown":"@OliCharlesworth 1. It&#39;s faster, that&#39;s why I think I should use it 2. I just want to know if there&#39;s any problems or anything. 3. Hey, this isn&#39;t off topic :P","body":"@OliCharlesworth 1. It&#39;s faster, that&#39;s why I think I should use it 2. I just want to know if there&#39;s any problems or anything. 3. Hey, this isn&#39;t off topic :P"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":1,"creation_date":1358988353,"post_id":14491966,"comment_id":20196526,"body_markdown":"@Doorknob: Then approximate it to an equal amount. Execute your result a few million times, hold an array which represents each value you could have and increment its value in the array. Afterwards you can output some statistics (max occurrence, min occurence, range, etc) to determine whether or not it&#39;s random enough for you.","body":"@Doorknob: Then approximate it to an equal amount. Execute your result a few million times, hold an array which represents each value you could have and increment its value in the array. Afterwards you can output some statistics (max occurrence, min occurence, range, etc) to determine whether or not it&#39;s random enough for you."},{"owner":{"account_id":1061058,"reputation":6749,"user_id":1062679,"accept_rate":87,"display_name":"user2398029"},"score":5,"creation_date":1358988567,"post_id":14491966,"comment_id":20196589,"body_markdown":"I&#39;m currently trying to look for periodicity. Still running, but from what I have now its &gt; 10^9. By comparison, the Mersenne Twister has a periodicity of 10^6001.","body":"I&#39;m currently trying to look for periodicity. Still running, but from what I have now its &gt; 10^9. By comparison, the Mersenne Twister has a periodicity of 10^6001."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1358988727,"post_id":14491966,"comment_id":20196637,"body_markdown":"@louism: You need to do a proper autocorrelation, at a minimum.  And you probably also need to investigate the properties of individual bit positions as well (but this is getting beyond my area of expertise ;) )","body":"@louism: You need to do a proper autocorrelation, at a minimum.  And you probably also need to investigate the properties of individual bit positions as well (but this is getting beyond my area of expertise ;) )"},{"owner":{"account_id":1022885,"reputation":6710,"user_id":1032796,"accept_rate":100,"display_name":"FrankieTheKneeMan"},"score":22,"creation_date":1358989246,"post_id":14491966,"comment_id":20196776,"body_markdown":"Try `new QuickRandom(0,5)` or `new QuickRandom(.5, 2)`.  Those will both repeatedly output 0 for your number.","body":"Try <code>new QuickRandom(0,5)</code> or <code>new QuickRandom(.5, 2)</code>.  Those will both repeatedly output 0 for your number."},{"owner":{"account_id":55732,"reputation":75249,"user_id":166949,"accept_rate":90,"display_name":"steveha"},"score":119,"creation_date":1358989259,"post_id":14491966,"comment_id":20196779,"body_markdown":"Writing your own random number generation algorithm is like writing your own encryption algorithm.  There is so much prior art, by people who are hyper-qualified, that it&#39;s senseless to spend your time trying to get it right.  There is no reason not to use the Java library functions, and if you really want to write your own for some reason, visit Wikipedia and look up algorithms there like Mersenne Twister.","body":"Writing your own random number generation algorithm is like writing your own encryption algorithm.  There is so much prior art, by people who are hyper-qualified, that it&#39;s senseless to spend your time trying to get it right.  There is no reason not to use the Java library functions, and if you really want to write your own for some reason, visit Wikipedia and look up algorithms there like Mersenne Twister."},{"owner":{"account_id":55732,"reputation":75249,"user_id":166949,"accept_rate":90,"display_name":"steveha"},"score":12,"creation_date":1358989441,"post_id":14491966,"comment_id":20196830,"body_markdown":"Also, an RNG that has unexpected patterns can make a game less fun. For example, if you shuffle a card deck and the distribution isn&#39;t really random, the game will suffer.  And on the Urban Dead online web-based game, the RNG is actually something the players complain about in the discussion forums.  (In Urban Dead, the game does things in response to clicks, and the expected percentages are known, so the players can actually get a sense of whether the RNG is random or not!)","body":"Also, an RNG that has unexpected patterns can make a game less fun. For example, if you shuffle a card deck and the distribution isn&#39;t really random, the game will suffer.  And on the Urban Dead online web-based game, the RNG is actually something the players complain about in the discussion forums.  (In Urban Dead, the game does things in response to clicks, and the expected percentages are known, so the players can actually get a sense of whether the RNG is random or not!)"},{"owner":{"account_id":256499,"reputation":1629,"user_id":537252,"display_name":"zxcdw"},"score":6,"creation_date":1359006236,"post_id":14491966,"comment_id":20200827,"body_markdown":"@steveha I wouldn&#39;t go as far as claiming that you absolutely *should not* write your own RNG *if* the intended use is does not bear much responsibility. Of course for things like crypto you definitely should *not* do your own implementations, as lots of crypto relies on the fact that the values from the function are indisinguishable from a truly random generator. The whole cryptosystem goes down if your RNG fails at this. There are valid reasons for requiring high-bandwidth random sequences for which the Java library implementation might be inadequate, that&#39;s when you need to hack a bit. :)","body":"@steveha I wouldn&#39;t go as far as claiming that you absolutely <i>should not</i> write your own RNG <i>if</i> the intended use is does not bear much responsibility. Of course for things like crypto you definitely should <i>not</i> do your own implementations, as lots of crypto relies on the fact that the values from the function are indisinguishable from a truly random generator. The whole cryptosystem goes down if your RNG fails at this. There are valid reasons for requiring high-bandwidth random sequences for which the Java library implementation might be inadequate, that&#39;s when you need to hack a bit. :)"},{"owner":{"account_id":55732,"reputation":75249,"user_id":166949,"accept_rate":90,"display_name":"steveha"},"score":5,"creation_date":1359009061,"post_id":14491966,"comment_id":20201613,"body_markdown":"@zxcdw, the point I meant to make is that other people have worked really hard to figure out really good algorithms, and those algorithms are public.  Given that, the sensible thing to do is to just use the public algorithms with their known good qualities.  If someone just wants to play around with RNG algorithms, I have no objection.  But I think the Java library RNG is unlikely to be a real bottleneck in a game, and if Doorknob really needs something faster, I would recommend using something from: http://en.wikipedia.org/wiki/List_of_random_number_generators","body":"@zxcdw, the point I meant to make is that other people have worked really hard to figure out really good algorithms, and those algorithms are public.  Given that, the sensible thing to do is to just use the public algorithms with their known good qualities.  If someone just wants to play around with RNG algorithms, I have no objection.  But I think the Java library RNG is unlikely to be a real bottleneck in a game, and if Doorknob really needs something faster, I would recommend using something from: <a href=\"http://en.wikipedia.org/wiki/List_of_random_number_generators\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/List_of_random_number_generators</a>"},{"owner":{"account_id":1112090,"reputation":3331,"user_id":1102380,"accept_rate":86,"display_name":"Thomas"},"score":2,"creation_date":1359014241,"post_id":14491966,"comment_id":20203491,"body_markdown":"@steveha I agree with you, with the sole exception of curiosity. If one is genuinely interested in pseudorandom number generation, it is commendable to try and create one&#39;s own algorithm (provided it never leaves the workbench, of course - it&#39;s just for fun). But if your goal is to just get a PRNG up and running, yes, do not reinvent the wheel (obviously).","body":"@steveha I agree with you, with the sole exception of curiosity. If one is genuinely interested in pseudorandom number generation, it is commendable to try and create one&#39;s own algorithm (provided it never leaves the workbench, of course - it&#39;s just for fun). But if your goal is to just get a PRNG up and running, yes, do not reinvent the wheel (obviously)."},{"owner":{"account_id":541610,"reputation":1377,"user_id":910227,"accept_rate":80,"display_name":"Jannis Froese"},"score":14,"creation_date":1359034486,"post_id":14491966,"comment_id":20213619,"body_markdown":"Also, a comparison against Math.random is not fair. Math.random has to be thread save, which is using up a lot of runtime, while your class isn&#39;t thread save. ThreadLocalRandom.getCurrent().nextFloat() is a version which avoids thread issues, and is therefore much more comparable to your class. As ThreadLocalRandom is about two to three times faster than Random it also achieves somewhat similar runtime (while giving better randomness)","body":"Also, a comparison against Math.random is not fair. Math.random has to be thread save, which is using up a lot of runtime, while your class isn&#39;t thread save. ThreadLocalRandom.getCurrent().nextFloat() is a version which avoids thread issues, and is therefore much more comparable to your class. As ThreadLocalRandom is about two to three times faster than Random it also achieves somewhat similar runtime (while giving better randomness)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":6,"creation_date":1359050559,"post_id":14491966,"comment_id":20222742,"body_markdown":"I&#39;ll add that even if a user can&#39;t precisely identify *what* the non-randomness is, it *can* be detected. I have a hand-held Yahtzee game that rolls random-ishly, but there are detectable sequences where once I&#39;ve gotten one of (four of a kind, full house, large straight) I&#39;m much more likely to get the other two within 2-3 more rolls. It&#39;s predictable enough that it messes with me when I&#39;m playing a more-random version (like with dice).","body":"I&#39;ll add that even if a user can&#39;t precisely identify <i>what</i> the non-randomness is, it <i>can</i> be detected. I have a hand-held Yahtzee game that rolls random-ishly, but there are detectable sequences where once I&#39;ve gotten one of (four of a kind, full house, large straight) I&#39;m much more likely to get the other two within 2-3 more rolls. It&#39;s predictable enough that it messes with me when I&#39;m playing a more-random version (like with dice)."},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":2,"creation_date":1359059018,"post_id":14491966,"comment_id":20227094,"body_markdown":"You have a bug in your default constructor. `Math.random() * 10` produces a value between 0 and 10, not 1 and 10. You want `Math.random() * 9 + 1`. As written, I think you&#39;ll get an exception approximately 10% of the time...","body":"You have a bug in your default constructor. <code>Math.random() * 10</code> produces a value between 0 and 10, not 1 and 10. You want <code>Math.random() * 9 + 1</code>. As written, I think you&#39;ll get an exception approximately 10% of the time..."},{"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"score":9,"creation_date":1359062523,"post_id":14491966,"comment_id":20228803,"body_markdown":"@steveha - Someone needs to speak up for those who find writing compression, PRNGs and encryption fun. Like myself. And actually, probably like the researchers who do it for a living, I&#39;m sure they find it fun, too. Don&#39;t ever let anyone tell you to not do something because 1) You are not good enough; or 2) it has all been done. If you like what you are doing, both 1) and 2) are total bullshit. And actually as far as algorithms go, these are pretty basic and accessible and v cool. More people should play with them not less. A few folk once told Heath Ledger he would never make it as an actor.","body":"@steveha - Someone needs to speak up for those who find writing compression, PRNGs and encryption fun. Like myself. And actually, probably like the researchers who do it for a living, I&#39;m sure they find it fun, too. Don&#39;t ever let anyone tell you to not do something because 1) You are not good enough; or 2) it has all been done. If you like what you are doing, both 1) and 2) are total bullshit. And actually as far as algorithms go, these are pretty basic and accessible and v cool. More people should play with them not less. A few folk once told Heath Ledger he would never make it as an actor."},{"owner":{"account_id":55690,"reputation":2735,"user_id":166848,"display_name":"Zano"},"score":2,"creation_date":1359062811,"post_id":14491966,"comment_id":20228946,"body_markdown":"@CrisStringfellow: I agree. But keep it away from production code.","body":"@CrisStringfellow: I agree. But keep it away from production code."},{"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"score":0,"creation_date":1359062937,"post_id":14491966,"comment_id":20229011,"body_markdown":"@Zano : Sure, unless it happens to win an AES, the Wikipedia compression challenge, or actually just kicks arse as a PRNG. PRNGs are the easiest to hack together, you just have to test them properly : compression, and DIEHARD/NIST. Maker-revolution!","body":"@Zano : Sure, unless it happens to win an AES, the Wikipedia compression challenge, or actually just kicks arse as a PRNG. PRNGs are the easiest to hack together, you just have to test them properly : compression, and DIEHARD/NIST. Maker-revolution!"},{"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"score":3,"creation_date":1359063713,"post_id":14491966,"comment_id":20229423,"body_markdown":"Actually people writing their own algorithms is much needed -- don&#39;t advise them not to, the very fact that people don&#39;t know about it *is* the very reason more people should play and learn about it. There is a big lack of awareness about crypto and randomness. If more people can write and play with their own stuff, more people are going to learn. That can only be good. An argument could be made that &quot;programming&quot; is very hard, there is so much prior art, and so many experts, no novices should even think about coming to the table. Clearly, this argument is false. Same for new langs/crypto","body":"Actually people writing their own algorithms is much needed -- don&#39;t advise them not to, the very fact that people don&#39;t know about it <i>is</i> the very reason more people should play and learn about it. There is a big lack of awareness about crypto and randomness. If more people can write and play with their own stuff, more people are going to learn. That can only be good. An argument could be made that &quot;programming&quot; is very hard, there is so much prior art, and so many experts, no novices should even think about coming to the table. Clearly, this argument is false. Same for new langs/crypto"},{"owner":{"account_id":55732,"reputation":75249,"user_id":166949,"accept_rate":90,"display_name":"steveha"},"score":7,"creation_date":1359064677,"post_id":14491966,"comment_id":20229876,"body_markdown":"Let me just repeat one part of my comment: &quot;If someone just wants to play around with RNG algorithms, I have no objection.&quot;  You can&#39;t become a master without becoming a journeyman first, and everyone has to start somewhere, and I have no objection to additional people working on the problem of RNG.  But in this case, Doorknob wants to write a game, and clearly doesn&#39;t have a strong background in statistics or math as they relate to RNGs.  I think Doorknob would be better served by using the Java RNG or a known RNG algorithm, and focusing on the actual game.  Or forget the game and study RNG.","body":"Let me just repeat one part of my comment: &quot;If someone just wants to play around with RNG algorithms, I have no objection.&quot;  You can&#39;t become a master without becoming a journeyman first, and everyone has to start somewhere, and I have no objection to additional people working on the problem of RNG.  But in this case, Doorknob wants to write a game, and clearly doesn&#39;t have a strong background in statistics or math as they relate to RNGs.  I think Doorknob would be better served by using the Java RNG or a known RNG algorithm, and focusing on the actual game.  Or forget the game and study RNG."},{"owner":{"display_name":"user2005819"},"score":4,"creation_date":1359071208,"post_id":14491966,"comment_id":20232406,"body_markdown":"I very much recommend finding a copy of _Numerical Recipes_ by Press, Teukolksy, Vetterling, and Flannery (make sure it&#39;s the *third* edition, no other edition will suffice), and read the section on random number generators. In addition to the theory, they give a good history lesson about how many people once thought the way you did.","body":"I very much recommend finding a copy of <i>Numerical Recipes</i> by Press, Teukolksy, Vetterling, and Flannery (make sure it&#39;s the <i>third</i> edition, no other edition will suffice), and read the section on random number generators. In addition to the theory, they give a good history lesson about how many people once thought the way you did."},{"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"score":0,"creation_date":1359091505,"post_id":14491966,"comment_id":20237430,"body_markdown":"@steveha I think we are all agreed then. He could also do both game and RNG. However, sometimes mistaken glitches lead to interesting stuff, a unique signature of the games weakly random generator.","body":"@steveha I think we are all agreed then. He could also do both game and RNG. However, sometimes mistaken glitches lead to interesting stuff, a unique signature of the games weakly random generator."},{"owner":{"account_id":10272,"reputation":2703,"user_id":19308,"accept_rate":83,"display_name":"Joshua Drake"},"score":3,"creation_date":1359126219,"post_id":14491966,"comment_id":20251820,"body_markdown":"&quot;Just good enough to have a human player think it&#39;s random enough.&quot;, may be more difficult than you think... Quoth the creator: &quot;I have used Math.random, Random.org and other sources, but have always received numerous complaints that the dice are not random enough.&quot; - [Dice-O-Matic](http://gamesbyemail.com/News/DiceOMatic)","body":"&quot;Just good enough to have a human player think it&#39;s random enough.&quot;, may be more difficult than you think... Quoth the creator: &quot;I have used Math.random, Random.org and other sources, but have always received numerous complaints that the dice are not random enough.&quot; - <a href=\"http://gamesbyemail.com/News/DiceOMatic\" rel=\"nofollow noreferrer\">Dice-O-Matic</a>"},{"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"score":0,"creation_date":1359485971,"post_id":14491966,"comment_id":20366272,"body_markdown":"Knuth also has good stuff on Random in _The Art of Computer Programming_. I&#39;ll add my vote that RNGs are fun to play with, but (a) you need to know how to test them and (b) you should know something about prior art.","body":"Knuth also has good stuff on Random in <i>The Art of Computer Programming</i>. I&#39;ll add my vote that RNGs are fun to play with, but (a) you need to know how to test them and (b) you should know something about prior art."},{"owner":{"account_id":2726,"reputation":13431,"user_id":3832,"accept_rate":25,"display_name":"Larry Gritz"},"score":4,"creation_date":1359487539,"post_id":14491966,"comment_id":20367121,"body_markdown":"&quot;Looks pretty random&quot; is the devil talking to you. Humans are notoriously bad at judging what is random. There is extensive literature about what tests are good to evaluate a RNG. Knuth isn&#39;t a bad place to start!","body":"&quot;Looks pretty random&quot; is the devil talking to you. Humans are notoriously bad at judging what is random. There is extensive literature about what tests are good to evaluate a RNG. Knuth isn&#39;t a bad place to start!"},{"owner":{"account_id":466180,"reputation":3071,"user_id":870776,"accept_rate":94,"display_name":"eversor"},"score":0,"creation_date":1360324517,"post_id":14491966,"comment_id":20678901,"body_markdown":"http://search.dilbert.com/comic/Random%20Nine","body":"<a href=\"http://search.dilbert.com/comic/Random%20Nine\" rel=\"nofollow noreferrer\">search.dilbert.com/comic/Random%20Nine</a>"}],"answers":[{"comments":[{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":3,"creation_date":1358988449,"post_id":14492043,"comment_id":20196555,"body_markdown":"Pretty much anything that doesn&#39;t involve a hardware noise generator or a direct line into the OS&#39;s I/O stuff, is going to be pseudo-random.  Genuine randomness can&#39;t be generated by an algorithm alone; you need noise from somewhere.  (Some OSes&#39; RNGs get their input by measuring stuff like how/when you move the mouse, type stuff, etc.  Measured on a scale of microseconds to nanoseconds, that can be highly unpredictable.)","body":"Pretty much anything that doesn&#39;t involve a hardware noise generator or a direct line into the OS&#39;s I/O stuff, is going to be pseudo-random.  Genuine randomness can&#39;t be generated by an algorithm alone; you need noise from somewhere.  (Some OSes&#39; RNGs get their input by measuring stuff like how/when you move the mouse, type stuff, etc.  Measured on a scale of microseconds to nanoseconds, that can be highly unpredictable.)"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1358988459,"post_id":14492043,"comment_id":20196556,"body_markdown":"@OliCharlesworth: indeed, as far as I know the only true random values are found using atmospheric noise.","body":"@OliCharlesworth: indeed, as far as I know the only true random values are found using atmospheric noise."},{"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"score":0,"creation_date":1358988773,"post_id":14492043,"comment_id":20196652,"body_markdown":"@me ... stupid to answer hastily. The Math.random is pseudorandom, and also, it is *synchronized*.","body":"@me ... stupid to answer hastily. The Math.random is pseudorandom, and also, it is <i>synchronized</i>."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1358988930,"post_id":14492043,"comment_id":20196694,"body_markdown":"@rolfl: Synchronization could very well explain why `Math.random()` is slower.  It&#39;d either have to synchronize or create a new `Random` every time, and neither one&#39;s very attractive performancewise.  If i cared about performance, i&#39;d create my own `new Random` and just use that.  :P","body":"@rolfl: Synchronization could very well explain why <code>Math.random()</code> is slower.  It&#39;d either have to synchronize or create a new <code>Random</code> every time, and neither one&#39;s very attractive performancewise.  If i cared about performance, i&#39;d create my own <code>new Random</code> and just use that.  :P"},{"owner":{"account_id":469164,"reputation":750,"user_id":875592,"accept_rate":75,"display_name":"Cassandra S."},"score":0,"creation_date":1359514961,"post_id":14492043,"comment_id":20376827,"body_markdown":"@JeroenVannevel radioactive decay is random too.","body":"@JeroenVannevel radioactive decay is random too."}],"tags":[],"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"comment_count":5,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1358988720,"creation_date":1358988272,"answer_id":14492043,"question_id":14491966,"body_markdown":"&#39;Random&#39; is more than just about getting numbers.... what you have is [pseudo-random][1]\r\n\r\nIf pseudo-random is good enough for your purposes, then sure, it&#39;s way faster (and XOR+Bitshift will be faster than what you have)\r\n\r\nRolf\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Pseudorandomness\r\n\r\nEdit:\r\n\r\nOK, after being too hasty in this answer, let me answer the real reason why your code is faster:\r\n\r\nFrom the JavaDoc for Math.Random() \r\n\r\n&gt;  This method is properly synchronized to allow correct use by more than one thread. However, if many threads need to generate pseudorandom numbers at a great rate, it may reduce contention for each thread to have its own pseudorandom-number generator.\r\n\r\nThis is likely why your code is faster.","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>'Random' is more than just about getting numbers.... what you have is <a href=\"http://en.wikipedia.org/wiki/Pseudorandomness\" rel=\"nofollow\">pseudo-random</a></p>\n\n<p>If pseudo-random is good enough for your purposes, then sure, it's way faster (and XOR+Bitshift will be faster than what you have)</p>\n\n<p>Rolf</p>\n\n<p>Edit:</p>\n\n<p>OK, after being too hasty in this answer, let me answer the real reason why your code is faster:</p>\n\n<p>From the JavaDoc for Math.Random() </p>\n\n<blockquote>\n  <p>This method is properly synchronized to allow correct use by more than one thread. However, if many threads need to generate pseudorandom numbers at a great rate, it may reduce contention for each thread to have its own pseudorandom-number generator.</p>\n</blockquote>\n\n<p>This is likely why your code is faster.</p>\n"},{"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1358988971,"post_id":14492105,"comment_id":20196705,"body_markdown":"@louism- It&#39;s not really &quot;random,&quot; per se.  The results will be deterministic.  That said, I didn&#39;t think about that when writing my answer; perhaps someone can clarify that detail?","body":"@louism- It&#39;s not really &quot;random,&quot; per se.  The results will be deterministic.  That said, I didn&#39;t think about that when writing my answer; perhaps someone can clarify that detail?"},{"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"score":2,"creation_date":1358988980,"post_id":14492105,"comment_id":20196712,"body_markdown":"Floating point arithmetic errors are implementation designed. As far as I know, they are consistent for a certain platform but can differ e.g. between different mobile phones and between PC architectures. Although there are extra &#39;guard bits&#39; sometimes added when doing a series of floating point calculations in a row, and the presence or absence of these guard bits can make a calculation subtly differ in the result. (guard bits being, e.g., the expansion of a 64 bit double to 80 bits)","body":"Floating point arithmetic errors are implementation designed. As far as I know, they are consistent for a certain platform but can differ e.g. between different mobile phones and between PC architectures. Although there are extra &#39;guard bits&#39; sometimes added when doing a series of floating point calculations in a row, and the presence or absence of these guard bits can make a calculation subtly differ in the result. (guard bits being, e.g., the expansion of a 64 bit double to 80 bits)"},{"owner":{"display_name":"user149341"},"score":2,"creation_date":1358993362,"post_id":14492105,"comment_id":20197693,"body_markdown":"Also, keep in mind that the theory behind LCRNGs all assumes that you&#39;re working with integers! Throwing floating-point numbers at it will *not* yield the same quality of results.","body":"Also, keep in mind that the theory behind LCRNGs all assumes that you&#39;re working with integers! Throwing floating-point numbers at it will <i>not</i> yield the same quality of results."},{"owner":{"account_id":1914880,"reputation":11452,"user_id":1839777,"display_name":"vonbrand"},"score":1,"creation_date":1359032499,"post_id":14492105,"comment_id":20212521,"body_markdown":"@duskwuff, you are right. But if the floating point hardware does follow sane rules, doing this is the same as doing it modulo the mantissa size, and the theory applies. Just need extra care in what you are doing.","body":"@duskwuff, you are right. But if the floating point hardware does follow sane rules, doing this is the same as doing it modulo the mantissa size, and the theory applies. Just need extra care in what you are doing."}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":4,"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1671844847,"creation_date":1358988715,"answer_id":14492105,"question_id":14491966,"body_markdown":"What you are describing is a type of random generator called a [linear congruential generator][1].  The generator works as follows:\r\n\r\n* Start with a seed value and multiplier.\r\n* To generate a random number:\r\n   * Multiply the seed by the multiplier.\r\n   * Set the seed equal to this value.\r\n   * Return this value.\r\n\r\nThis generator has many nice properties, but has significant problems as a good random source.  The Wikipedia article linked above describes some of the strengths and weaknesses.  In short, if you need good random values, this is probably not a very good approach.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Linear_congruential_generator","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>What you are describing is a type of random generator called a <a href=\"http://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">linear congruential generator</a>.  The generator works as follows:</p>\n<ul>\n<li>Start with a seed value and multiplier.</li>\n<li>To generate a random number:\n<ul>\n<li>Multiply the seed by the multiplier.</li>\n<li>Set the seed equal to this value.</li>\n<li>Return this value.</li>\n</ul>\n</li>\n</ul>\n<p>This generator has many nice properties, but has significant problems as a good random source.  The Wikipedia article linked above describes some of the strengths and weaknesses.  In short, if you need good random values, this is probably not a very good approach.</p>\n"},{"comments":[{"owner":{"account_id":342731,"reputation":343483,"user_id":674039,"accept_rate":94,"display_name":"wim"},"score":36,"creation_date":1358993145,"post_id":14492114,"comment_id":20197651,"body_markdown":"+1 for a practical answer ... use this in a shoot em up and spawn enemies along diagonals for epic multiple headshots?  :D","body":"+1 for a practical answer ... use this in a shoot em up and spawn enemies along diagonals for epic multiple headshots?  :D"},{"owner":{"account_id":118410,"reputation":62929,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"score":0,"creation_date":1359094994,"post_id":14492114,"comment_id":20238330,"body_markdown":"@wim: you don&#39;t need a PRNG if you want such patterns.","body":"@wim: you don&#39;t need a PRNG if you want such patterns."}],"tags":[],"owner":{"display_name":"user149341"},"comment_count":2,"down_vote_count":1,"up_vote_count":114,"is_accepted":false,"score":113,"last_activity_date":1358988786,"creation_date":1358988786,"answer_id":14492114,"question_id":14491966,"body_markdown":"Your random number function is poor, as it has too little internal state -- the number output by the function at any given step is entirely dependent on the previous number. For instance, if we assume that `magicNumber` is 2 (by way of example), then the sequence:\r\n\r\n    0.10 -&gt; 0.20\r\n\r\nis strongly mirrored by similar sequences:\r\n\r\n    0.09 -&gt; 0.18\r\n    0.11 -&gt; 0.22\r\n\r\nIn many cases, this will generate noticeable correlations in your game -- for instance, if you make successive calls to your function to generate X and Y coordinates for objects, the objects will form clear diagonal patterns.\r\n\r\nUnless you have good reason to believe that the random number generator is slowing your application down (and this is VERY unlikely), there is no good reason to try and write your own.","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>Your random number function is poor, as it has too little internal state -- the number output by the function at any given step is entirely dependent on the previous number. For instance, if we assume that <code>magicNumber</code> is 2 (by way of example), then the sequence:</p>\n\n<pre><code>0.10 -&gt; 0.20\n</code></pre>\n\n<p>is strongly mirrored by similar sequences:</p>\n\n<pre><code>0.09 -&gt; 0.18\n0.11 -&gt; 0.22\n</code></pre>\n\n<p>In many cases, this will generate noticeable correlations in your game -- for instance, if you make successive calls to your function to generate X and Y coordinates for objects, the objects will form clear diagonal patterns.</p>\n\n<p>Unless you have good reason to believe that the random number generator is slowing your application down (and this is VERY unlikely), there is no good reason to try and write your own.</p>\n"},{"comments":[{"owner":{"display_name":"user149341"},"score":8,"creation_date":1358989206,"post_id":14492128,"comment_id":20196768,"body_markdown":"There is at least one trivial loop on this generator for all seeds: `0 -&gt; 0`. Depending on the seed, there may be many others. (For instance, with a seed of 3.0, `0.5 -&gt; 0.5`, `0.25 -&gt; 0.75 -&gt; 0.25`, `0.2 -&gt; 0.6 -&gt; 0.8 -&gt; 0.4 -&gt; 0.2`, etc.)","body":"There is at least one trivial loop on this generator for all seeds: <code>0 -&gt; 0</code>. Depending on the seed, there may be many others. (For instance, with a seed of 3.0, <code>0.5 -&gt; 0.5</code>, <code>0.25 -&gt; 0.75 -&gt; 0.25</code>, <code>0.2 -&gt; 0.6 -&gt; 0.8 -&gt; 0.4 -&gt; 0.2</code>, etc.)"}],"tags":[],"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"comment_count":1,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1358988880,"creation_date":1358988880,"answer_id":14492128,"question_id":14491966,"body_markdown":"One problem with your random number generator is that there is no &#39;hidden state&#39; - if I know what random number you returned on the last call, I know every single random number you will send until the end of time, since there is only one possible next result, and so on and so on.\r\n\r\nAnother thing to consider is the &#39;period&#39; of your random number generator. Obviously with a finite state size, equal to the mantissa portion of a double, it will only be able to return at most 2^52 values before looping. But that&#39;s in the best case - can you prove that there are no loops of period 1, 2, 3, 4...? If there are, your RNG will have awful, degenerate behavior in those cases.\r\n\r\nIn addition, will your random number generation have a uniform distribution for all starting points? If it does not, then your RNG will be biased - or worse, biased in different ways depending on the starting seed.\r\n\r\nIf you can answer all of these questions, awesome. If you can&#39;t, then you know why most people do not re-invent the wheel and use a proven random number generator ;)\r\n\r\n*(By the way, a good adage is: The fastest code is code that does not run. You could make the fastest random() in the world, but it&#39;s no good if it is not very random)*","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>One problem with your random number generator is that there is no 'hidden state' - if I know what random number you returned on the last call, I know every single random number you will send until the end of time, since there is only one possible next result, and so on and so on.</p>\n\n<p>Another thing to consider is the 'period' of your random number generator. Obviously with a finite state size, equal to the mantissa portion of a double, it will only be able to return at most 2^52 values before looping. But that's in the best case - can you prove that there are no loops of period 1, 2, 3, 4...? If there are, your RNG will have awful, degenerate behavior in those cases.</p>\n\n<p>In addition, will your random number generation have a uniform distribution for all starting points? If it does not, then your RNG will be biased - or worse, biased in different ways depending on the starting seed.</p>\n\n<p>If you can answer all of these questions, awesome. If you can't, then you know why most people do not re-invent the wheel and use a proven random number generator ;)</p>\n\n<p><em>(By the way, a good adage is: The fastest code is code that does not run. You could make the fastest random() in the world, but it's no good if it is not very random)</em></p>\n"},{"tags":[],"owner":{"account_id":149301,"reputation":88700,"user_id":361684,"accept_rate":90,"display_name":"gilly3"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1358990035,"creation_date":1358990035,"answer_id":14492309,"question_id":14491966,"body_markdown":"I put together [a quick mock-up of your algorithm](http://jsfiddle.net/Dhtzh/) in JavaScript to evaluate the results.  It generates 100,000 random integers from 0 - 99 and tracks the instance of each integer.\r\n\r\nThe first thing I notice is that you are more likely to get a low number than a high number.  You see this the most when `seed1` is high and `seed2` is low.  In a couple of instances, I got only 3 numbers.\r\n\r\nAt best, your algorithm needs some refining.","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>I put together <a href=\"http://jsfiddle.net/Dhtzh/\">a quick mock-up of your algorithm</a> in JavaScript to evaluate the results.  It generates 100,000 random integers from 0 - 99 and tracks the instance of each integer.</p>\n\n<p>The first thing I notice is that you are more likely to get a low number than a high number.  You see this the most when <code>seed1</code> is high and <code>seed2</code> is low.  In a couple of instances, I got only 3 numbers.</p>\n\n<p>At best, your algorithm needs some refining.</p>\n"},{"comments":[{"owner":{"account_id":20514,"reputation":7078,"user_id":49107,"accept_rate":84,"display_name":"Maciej Piechotka"},"score":17,"creation_date":1358991610,"post_id":14492320,"comment_id":20197332,"body_markdown":"+1 for numerical data - although looking on raw numbers can be misleading as it does not mean that they have statistically significant difference.","body":"+1 for numerical data - although looking on raw numbers can be misleading as it does not mean that they have statistically significant difference."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":16,"creation_date":1358994009,"post_id":14492320,"comment_id":20197854,"body_markdown":"These results vary heavily with the initial seeds passed to `QuickRandom`. Sometimes, it&#39;s close to uniform, sometimes it&#39;s _much_ worse than this.","body":"These results vary heavily with the initial seeds passed to <code>QuickRandom</code>. Sometimes, it&#39;s close to uniform, sometimes it&#39;s <i>much</i> worse than this."},{"owner":{"account_id":1827,"reputation":99237,"user_id":2509,"accept_rate":88,"display_name":"dmckee --- ex-moderator kitten"},"score":4,"creation_date":1359000860,"post_id":14492320,"comment_id":20199456,"body_markdown":"This is enough to eyeball the non-randomness. 10,000 per bin implies an expected sqrt{variance} of 100, and these bins are repeatedly many times that.","body":"This is enough to eyeball the non-randomness. 10,000 per bin implies an expected sqrt{variance} of 100, and these bins are repeatedly many times that."},{"owner":{"account_id":225818,"reputation":6897,"user_id":486504,"accept_rate":79,"display_name":"user"},"score":69,"creation_date":1359019273,"post_id":14492320,"comment_id":20205675,"body_markdown":"@BlueRaja-DannyPflughoeft Any PRNG where the quality of the output depends highly on the initial seed value(s) (as opposed to internal constants) seems broken to me.","body":"@BlueRaja-DannyPflughoeft Any PRNG where the quality of the output depends highly on the initial seed value(s) (as opposed to internal constants) seems broken to me."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":22,"creation_date":1359025169,"post_id":14492320,"comment_id":20208722,"body_markdown":"First rule of statistics: **plot the data**. Your analysis is spot-on, but plotting a histogram shows this much quicker. ;-) (And its two lines in R.)","body":"First rule of statistics: <b>plot the data</b>. Your analysis is spot-on, but plotting a histogram shows this much quicker. ;-) (And its two lines in R.)"},{"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"score":1,"creation_date":1359051909,"post_id":14492320,"comment_id":20223413,"body_markdown":"@MichaelKj&#246;rling: If we treat this as an LCG (which is it), `magicNumber` is not actually considered part of the seed...","body":"@MichaelKj&#246;rling: If we treat this as an LCG (which is it), <code>magicNumber</code> is not actually considered part of the seed..."},{"owner":{"account_id":225818,"reputation":6897,"user_id":486504,"accept_rate":79,"display_name":"user"},"score":3,"creation_date":1359102676,"post_id":14492320,"comment_id":20240898,"body_markdown":"@BlueRaja-DannyPflughoeft The simple fact is that the initial value for `magicNumber` is set when the generator is constructed (either by passing it as a parameter, or generated randomly). If as you say the quality of the output depends highly on that value, it should be a carefully selected constant (or possibly selected from a set of such constants), not a random value. So whether or not we call the initial value for `magicNumber` a &quot;seed&quot; is really splitting hairs; the important part is that it offloads a huge burden on the user of the PRNG in the form of good constants selection.","body":"@BlueRaja-DannyPflughoeft The simple fact is that the initial value for <code>magicNumber</code> is set when the generator is constructed (either by passing it as a parameter, or generated randomly). If as you say the quality of the output depends highly on that value, it should be a carefully selected constant (or possibly selected from a set of such constants), not a random value. So whether or not we call the initial value for <code>magicNumber</code> a &quot;seed&quot; is really splitting hairs; the important part is that it offloads a huge burden on the user of the PRNG in the form of good constants selection."},{"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"score":0,"creation_date":1359131429,"post_id":14492320,"comment_id":20254486,"body_markdown":"@MichaelKj&#246;rling: Yes, it should be a carefully constructed constant, not a random value or chosen by the user.. which is why this &quot;test&quot; is meaningless!  That&#39;s my point!","body":"@MichaelKj&#246;rling: Yes, it should be a carefully constructed constant, not a random value or chosen by the user.. which is why this &quot;test&quot; is meaningless!  That&#39;s my point!"},{"owner":{"account_id":47227,"reputation":15660,"user_id":139766,"accept_rate":88,"display_name":"Callum Rogers"},"score":0,"creation_date":1359133752,"post_id":14492320,"comment_id":20255870,"body_markdown":"[I made some images to show this way down here](http://stackoverflow.com/a/14526729/139766)","body":"<a href=\"http://stackoverflow.com/a/14526729/139766\">I made some images to show this way down here</a>"},{"owner":{"account_id":482959,"reputation":1629,"user_id":897728,"display_name":"Happy Green Kid Naps"},"score":37,"creation_date":1359149149,"post_id":14492320,"comment_id":20262870,"body_markdown":"Mandatory quotes:\n\nAnyone who considers arithmetical methods of producing\nrandom digits is, of course, in a state of sin. - John von\nNeumann (1951)\n\nAnyone who has not seen the above quotation in at least\n100 places is probably not very old. - D. V. Pryor (1993)\n\nRandom number generators should not be chosen at random.\n- Donald Knuth (1986)","body":"Mandatory quotes:  Anyone who considers arithmetical methods of producing random digits is, of course, in a state of sin. - John von Neumann (1951)  Anyone who has not seen the above quotation in at least 100 places is probably not very old. - D. V. Pryor (1993)  Random number generators should not be chosen at random. - Donald Knuth (1986)"},{"owner":{"account_id":10071,"reputation":3556,"user_id":18854,"accept_rate":96,"display_name":"Piku"},"score":1,"creation_date":1359634922,"post_id":14492320,"comment_id":20426825,"body_markdown":"I don&#39;t care about random number generators, but I just learnt about sscce.org which will help me next time I want to post a problem on here. Useful post.","body":"I don&#39;t care about random number generators, but I just learnt about sscce.org which will help me next time I want to post a problem on here. Useful post."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":11,"down_vote_count":1,"up_vote_count":353,"is_accepted":true,"score":352,"last_activity_date":1362164288,"creation_date":1358990099,"answer_id":14492320,"question_id":14491966,"body_markdown":"Your `QuickRandom` implementation hasn&#39;t really an uniform distribution. The frequencies are generally higher at the lower values while `Math.random()` has a more uniform distribution. Here&#39;s a [SSCCE][1] which shows that:\r\n\r\n    package com.stackoverflow.q14491966;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            QuickRandom qr = new QuickRandom();\r\n            int[] frequencies = new int[10];\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                frequencies[(int) (qr.random() * 10)]++;\r\n            }\r\n            printDistribution(&quot;QR&quot;, frequencies);\r\n\r\n            frequencies = new int[10];\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                frequencies[(int) (Math.random() * 10)]++;\r\n            }\r\n            printDistribution(&quot;MR&quot;, frequencies);\r\n        }\r\n\r\n        public static void printDistribution(String name, int[] frequencies) {\r\n            System.out.printf(&quot;%n%s distribution |8000     |9000     |10000    |11000    |12000%n&quot;, name);\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                char[] bar = &quot;                                                  &quot;.toCharArray(); // 50 chars.\r\n                Arrays.fill(bar, 0, Math.max(0, Math.min(50, frequencies[i] / 100 - 80)), &#39;#&#39;);\r\n                System.out.printf(&quot;0.%dxxx: %6d  :%s%n&quot;, i, frequencies[i], new String(bar));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nThe average result looks like this:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    QR distribution |8000     |9000     |10000    |11000    |12000\r\n    0.0xxx:  11376  :#################################                 \r\n    0.1xxx:  11178  :###############################                   \r\n    0.2xxx:  11312  :#################################                 \r\n    0.3xxx:  10809  :############################                      \r\n    0.4xxx:  10242  :######################                            \r\n    0.5xxx:   8860  :########                                          \r\n    0.6xxx:   9004  :##########                                        \r\n    0.7xxx:   8987  :#########                                         \r\n    0.8xxx:   9075  :##########                                        \r\n    0.9xxx:   9157  :###########                                       \r\n    \r\n    MR distribution |8000     |9000     |10000    |11000    |12000\r\n    0.0xxx:  10097  :####################                              \r\n    0.1xxx:   9901  :###################                               \r\n    0.2xxx:  10018  :####################                              \r\n    0.3xxx:   9956  :###################                               \r\n    0.4xxx:   9974  :###################                               \r\n    0.5xxx:  10007  :####################                              \r\n    0.6xxx:  10136  :#####################                             \r\n    0.7xxx:   9937  :###################                               \r\n    0.8xxx:  10029  :####################                              \r\n    0.9xxx:   9945  :###################    \r\n\r\nIf you repeat the test, you&#39;ll see that the QR distribution varies heavily, depending on the initial seeds, while the MR distribution is stable. Sometimes it reaches the desired uniform distribution, but more than often it doesn&#39;t. Here&#39;s one of the more extreme examples, it&#39;s even beyond the borders of the graph:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    QR distribution |8000     |9000     |10000    |11000    |12000\r\n    0.0xxx:  41788  :##################################################\r\n    0.1xxx:  17495  :##################################################\r\n    0.2xxx:  10285  :######################                            \r\n    0.3xxx:   7273  :                                                  \r\n    0.4xxx:   5643  :                                                  \r\n    0.5xxx:   4608  :                                                  \r\n    0.6xxx:   3907  :                                                  \r\n    0.7xxx:   3350  :                                                  \r\n    0.8xxx:   2999  :                                                  \r\n    0.9xxx:   2652  :                                                  \r\n\r\n\r\n  [1]: http://sscce.org","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>Your <code>QuickRandom</code> implementation hasn't really an uniform distribution. The frequencies are generally higher at the lower values while <code>Math.random()</code> has a more uniform distribution. Here's a <a href=\"http://sscce.org\" rel=\"noreferrer\">SSCCE</a> which shows that:</p>\n\n<pre><code>package com.stackoverflow.q14491966;\n\nimport java.util.Arrays;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n        QuickRandom qr = new QuickRandom();\n        int[] frequencies = new int[10];\n        for (int i = 0; i &lt; 100000; i++) {\n            frequencies[(int) (qr.random() * 10)]++;\n        }\n        printDistribution(\"QR\", frequencies);\n\n        frequencies = new int[10];\n        for (int i = 0; i &lt; 100000; i++) {\n            frequencies[(int) (Math.random() * 10)]++;\n        }\n        printDistribution(\"MR\", frequencies);\n    }\n\n    public static void printDistribution(String name, int[] frequencies) {\n        System.out.printf(\"%n%s distribution |8000     |9000     |10000    |11000    |12000%n\", name);\n        for (int i = 0; i &lt; 10; i++) {\n            char[] bar = \"                                                  \".toCharArray(); // 50 chars.\n            Arrays.fill(bar, 0, Math.max(0, Math.min(50, frequencies[i] / 100 - 80)), '#');\n            System.out.printf(\"0.%dxxx: %6d  :%s%n\", i, frequencies[i], new String(bar));\n        }\n    }\n\n}\n</code></pre>\n\n<p>The average result looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>QR distribution |8000     |9000     |10000    |11000    |12000\n0.0xxx:  11376  :#################################                 \n0.1xxx:  11178  :###############################                   \n0.2xxx:  11312  :#################################                 \n0.3xxx:  10809  :############################                      \n0.4xxx:  10242  :######################                            \n0.5xxx:   8860  :########                                          \n0.6xxx:   9004  :##########                                        \n0.7xxx:   8987  :#########                                         \n0.8xxx:   9075  :##########                                        \n0.9xxx:   9157  :###########                                       \n\nMR distribution |8000     |9000     |10000    |11000    |12000\n0.0xxx:  10097  :####################                              \n0.1xxx:   9901  :###################                               \n0.2xxx:  10018  :####################                              \n0.3xxx:   9956  :###################                               \n0.4xxx:   9974  :###################                               \n0.5xxx:  10007  :####################                              \n0.6xxx:  10136  :#####################                             \n0.7xxx:   9937  :###################                               \n0.8xxx:  10029  :####################                              \n0.9xxx:   9945  :###################    \n</code></pre>\n\n<p>If you repeat the test, you'll see that the QR distribution varies heavily, depending on the initial seeds, while the MR distribution is stable. Sometimes it reaches the desired uniform distribution, but more than often it doesn't. Here's one of the more extreme examples, it's even beyond the borders of the graph:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>QR distribution |8000     |9000     |10000    |11000    |12000\n0.0xxx:  41788  :##################################################\n0.1xxx:  17495  :##################################################\n0.2xxx:  10285  :######################                            \n0.3xxx:   7273  :                                                  \n0.4xxx:   5643  :                                                  \n0.5xxx:   4608  :                                                  \n0.6xxx:   3907  :                                                  \n0.7xxx:   3350  :                                                  \n0.8xxx:   2999  :                                                  \n0.9xxx:   2652  :                                                  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1017882,"reputation":1123,"user_id":1029012,"display_name":"Matt Krause"},"score":5,"creation_date":1359035769,"post_id":14495128,"comment_id":20214397,"body_markdown":"I mostly agree, except with your first paragraph. The built-in random calls (and /dev/random on Unix-like systems) are also PRNGs. I&#39;d call anything that produces random numbers algorithmically a PRNG, even if the seed is something that is hard to predict. There are a few &quot;true&quot; random number generators that use radioactive decay, atmospheric noise, etc but these often generate relatively few bits/second.","body":"I mostly agree, except with your first paragraph. The built-in random calls (and /dev/random on Unix-like systems) are also PRNGs. I&#39;d call anything that produces random numbers algorithmically a PRNG, even if the seed is something that is hard to predict. There are a few &quot;true&quot; random number generators that use radioactive decay, atmospheric noise, etc but these often generate relatively few bits/second."},{"owner":{"account_id":1300809,"reputation":56627,"user_id":1250772,"accept_rate":45,"display_name":"Kaz"},"score":0,"creation_date":1359063366,"post_id":14495128,"comment_id":20229252,"body_markdown":"On Linux boxes, `/dev/random` is a source of real randomness obtained from device drivers, and not a PRNG. It blocks when not enough bits are available. The sister device `/dev/urandom` also does not block, but it is still not exactly a PRNG since it is updated with random bits when they are available.","body":"On Linux boxes, <code>&#47;dev&#47;random</code> is a source of real randomness obtained from device drivers, and not a PRNG. It blocks when not enough bits are available. The sister device <code>&#47;dev&#47;urandom</code> also does not block, but it is still not exactly a PRNG since it is updated with random bits when they are available."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1359075713,"post_id":14495128,"comment_id":20233792,"body_markdown":"*If the Math.Random() function calls the operating system to get the time of day* -- this is absolutely untrue. (in any of the java flavors/versions I know of)","body":"<i>If the Math.Random() function calls the operating system to get the time of day</i> -- this is absolutely untrue. (in any of the java flavors/versions I know of)"},{"owner":{"account_id":1300809,"reputation":56627,"user_id":1250772,"accept_rate":45,"display_name":"Kaz"},"score":0,"creation_date":1359077144,"post_id":14495128,"comment_id":20234171,"body_markdown":"@bestsss This is from the original question: *I remember reading somewhere that Math.random used System.nanoTime()*. Your knowledge may be worth adding there or in your answer. I used it conditionally with an *if*. :)","body":"@bestsss This is from the original question: <i>I remember reading somewhere that Math.random used System.nanoTime()</i>. Your knowledge may be worth adding there or in your answer. I used it conditionally with an <i>if</i>. :)"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1359077668,"post_id":14495128,"comment_id":20234295,"body_markdown":"Kaz, both `nanoTime()`+counter/hash is used for the default seed of `java.util.Random` of oracle/OpenJDK. That&#39;s for the seed only then it&#39;s a standard LCG. In effect the OP generator takes 2 random numbers for seed, which is ok - so no difference than `java.util.Random`. `System.currentTimeMillis()` was the default seed in JDK1.4-","body":"Kaz, both <code>nanoTime()</code>+counter/hash is used for the default seed of <code>java.util.Random</code> of oracle/OpenJDK. That&#39;s for the seed only then it&#39;s a standard LCG. In effect the OP generator takes 2 random numbers for seed, which is ok - so no difference than <code>java.util.Random</code>. <code>System.currentTimeMillis()</code> was the default seed in JDK1.4-"}],"tags":[],"owner":{"account_id":1300809,"reputation":56627,"user_id":1250772,"accept_rate":45,"display_name":"Kaz"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1359008400,"creation_date":1359008400,"answer_id":14495128,"question_id":14491966,"body_markdown":"If the `Math.Random()` function calls the operating system to get the time of day, then you cannot compare it to your function. Your function is a PRNG, whereas that function is striving for real random numbers. Apples and oranges.\r\n\r\nYour PRNG may be fast, but it does not have enough state information to achieve a long period before it repeats (and its logic is not sophisticated enough to even achieve the periods that are possible with that much state information).\r\n\r\nPeriod is the length of the sequence before your PRNG begins to repeat itself.  This happens as soon as the PRNG machine makes a state transition to a state which is identical to some past state. From there, it will repeat the transitions which began in that state. Another problem with PRNG&#39;s can be a low number of unique sequences, as well as degenerate convergence on a particular sequence which repeats. There can also be undesirable patterns. For instance, suppose that a PRNG looks fairly random when the numbers are printed in decimal, but an inspection of the values in binary shows that bit 4 is simply toggling between 0 and 1 on each call. Oops!\r\n\r\nTake a look at the Mersenne Twister and other algorithms. There are ways to strike a balance between the period length and CPU cycles. One basic approach (used in the Mersenne Twister) is to cycle around in the state vector. That is to say, when a number is being generated, it is not based on the entire state, just on a few words from the state array subject to a few bit operations. But at each step, the algorithm also moves around in the array, scrambling the contents a little bit at a time.\r\n","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>If the <code>Math.Random()</code> function calls the operating system to get the time of day, then you cannot compare it to your function. Your function is a PRNG, whereas that function is striving for real random numbers. Apples and oranges.</p>\n\n<p>Your PRNG may be fast, but it does not have enough state information to achieve a long period before it repeats (and its logic is not sophisticated enough to even achieve the periods that are possible with that much state information).</p>\n\n<p>Period is the length of the sequence before your PRNG begins to repeat itself.  This happens as soon as the PRNG machine makes a state transition to a state which is identical to some past state. From there, it will repeat the transitions which began in that state. Another problem with PRNG's can be a low number of unique sequences, as well as degenerate convergence on a particular sequence which repeats. There can also be undesirable patterns. For instance, suppose that a PRNG looks fairly random when the numbers are printed in decimal, but an inspection of the values in binary shows that bit 4 is simply toggling between 0 and 1 on each call. Oops!</p>\n\n<p>Take a look at the Mersenne Twister and other algorithms. There are ways to strike a balance between the period length and CPU cycles. One basic approach (used in the Mersenne Twister) is to cycle around in the state vector. That is to say, when a number is being generated, it is not based on the entire state, just on a few words from the state array subject to a few bit operations. But at each step, the algorithm also moves around in the array, scrambling the contents a little bit at a time.</p>\n"},{"tags":[],"owner":{"account_id":1914880,"reputation":11452,"user_id":1839777,"display_name":"vonbrand"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1359033460,"creation_date":1359033460,"answer_id":14502259,"question_id":14491966,"body_markdown":"There are many, many pseudo random number generators out there. For example Knuth&#39;s [ranarray][1], the [Mersenne twister][2], or look for LFSR generators. Knuth&#39;s monumental &quot;Seminumerical algorithms&quot; analizes the area, and proposes some linear congruential generators (simple to implement, fast). \r\n\r\nBut I&#39;d suggest you just stick to `java.util.Random` or `Math.random`, they fast and at least OK for occasional use (i.e., games and such). If you are just paranoid on the distribution (some Monte Carlo program, or a genetic algorithm), check out their implementation (source is available somewhere), and seed them with some truly random number, either from your operating system or from [random.org][3]. If this is required for some application where security is critical, you&#39;ll have to dig yourself. And as in that case you shouldn&#39;t believe what some colored square with missing bits spouts here, I&#39;ll shut up now.\r\n\r\n\r\n  [1]: http://www-cs-faculty.stanford.edu/~uno/programs.html\r\n  [2]: http://saluc.engr.uconn.edu/refs/crypto/rng/matsumoto98mersenne.pdf\r\n  [3]: http://random.org","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>There are many, many pseudo random number generators out there. For example Knuth's <a href=\"http://www-cs-faculty.stanford.edu/~uno/programs.html\">ranarray</a>, the <a href=\"http://saluc.engr.uconn.edu/refs/crypto/rng/matsumoto98mersenne.pdf\">Mersenne twister</a>, or look for LFSR generators. Knuth's monumental \"Seminumerical algorithms\" analizes the area, and proposes some linear congruential generators (simple to implement, fast). </p>\n\n<p>But I'd suggest you just stick to <code>java.util.Random</code> or <code>Math.random</code>, they fast and at least OK for occasional use (i.e., games and such). If you are just paranoid on the distribution (some Monte Carlo program, or a genetic algorithm), check out their implementation (source is available somewhere), and seed them with some truly random number, either from your operating system or from <a href=\"http://random.org\">random.org</a>. If this is required for some application where security is critical, you'll have to dig yourself. And as in that case you shouldn't believe what some colored square with missing bits spouts here, I'll shut up now.</p>\n"},{"comments":[{"owner":{"account_id":53270,"reputation":66095,"user_id":159270,"accept_rate":100,"display_name":"Aristos"},"score":2,"creation_date":1359071241,"post_id":14510880,"comment_id":20232418,"body_markdown":"Imaging it or not, I have the same idea with the zip years ago when I test my random generators.","body":"Imaging it or not, I have the same idea with the zip years ago when I test my random generators."},{"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"score":1,"creation_date":1359091300,"post_id":14510880,"comment_id":20237372,"body_markdown":"Thanks @Alexandre C. and Aristos and aidan. I believe you.","body":"Thanks @Alexandre C. and Aristos and aidan. I believe you."}],"tags":[],"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1359061941,"creation_date":1359061941,"answer_id":14510880,"question_id":14491966,"body_markdown":"One common test I always did when developing PRNGs was to :\r\n\r\n 1. Convert output to char values\r\n 2. Write chars value to a file\r\n 3. Compress file\r\n\r\nThis let me quickly iterate on ideas that were &quot;good enough&quot; PRNGs for sequences of around 1 to 20 megabytes. It also gave a better top down picture than just inspecting it by eye, as any &quot;good enough&quot; PRNG with half-a-word of state could quickly exceed your eyes ability to see the cycle point. \r\n\r\nIf I was really picky, I might take the good algorithms and run the DIEHARD/NIST tests on them, to get more of an insight, and then go back and tweak some more.\r\n\r\nThe advantage of the compression test, as opposed to a frequency analysis is that, trivially it is easy to construct a good distribution : simply output a 256 length block containing all chars of values 0 - 255, and do this 100,000 times. But this sequence has a cycle of length 256. \r\n\r\nA skewed distribution, even by a small margin, should be picked up by a compression algorithm, particularly if you give it enough (say 1 megabyte) of the sequence to work with. If some characters, or bigrams, or n-grams occur more frequently, a compression algorithm can encode this distribution skew to codes that favor the frequent occurrences with shorter code words, and you get a delta of compression.\r\n\r\nSince most compression algorithms are fast, and they require no implementation (as OSs have them just lying around), the compression test is a very useful one for quickly rating pass/fail for an PRNG you might be developing.\r\n\r\nGood luck with your experiments!\r\n\r\nOh, I performed this test on the rng you have above, using the following small mod of your code :\r\n\r\n    import java.io.*;\r\n\r\n    public class QuickRandom {\r\n        private double prevNum;\r\n        private double magicNumber;\r\n    \r\n        public QuickRandom(double seed1, double seed2) {\r\n            if (seed1 &gt;= 1 || seed1 &lt; 0) throw new IllegalArgumentException(&quot;Seed 1 must be &gt;= 0 and &lt; 1, not &quot; + seed1);\r\n            prevNum = seed1;\r\n            if (seed2 &lt;= 1 || seed2 &gt; 10) throw new IllegalArgumentException(&quot;Seed 2 must be &gt; 1 and &lt;= 10, not &quot; + seed2);\r\n            magicNumber = seed2;\r\n        }\r\n    \r\n        public QuickRandom() {\r\n            this(Math.random(), Math.random() * 10);\r\n        }\r\n    \r\n        public double random() {\r\n            return prevNum = (prevNum*magicNumber)%1;\r\n        }\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tQuickRandom qr = new QuickRandom();\r\n    \t\tFileOutputStream fout = new FileOutputStream(&quot;qr20M.bin&quot;);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 20000000; i ++) {\r\n    \t\t    fout.write((char)(qr.random()*256));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe results were :\r\n\r\n    Cris-Mac-Book-2:rt cris$ zip -9 qr20M.zip qr20M.bin2\r\n    adding: qr20M.bin2 (deflated 16%)\r\n    Cris-Mac-Book-2:rt cris$ ls -al\r\n    total 104400\r\n    drwxr-xr-x   8 cris  staff       272 Jan 25 05:09 .\r\n    drwxr-xr-x+ 48 cris  staff      1632 Jan 25 05:04 ..\r\n    -rw-r--r--   1 cris  staff      1243 Jan 25 04:54 QuickRandom.class\r\n    -rw-r--r--   1 cris  staff       883 Jan 25 05:04 QuickRandom.java\r\n    -rw-r--r--   1 cris  staff  16717260 Jan 25 04:55 qr20M.bin.gz\r\n    -rw-r--r--   1 cris  staff  20000000 Jan 25 05:07 qr20M.bin2\r\n    -rw-r--r--   1 cris  staff  16717402 Jan 25 05:09 qr20M.zip\r\n\r\n\r\nI would consider an PRNG good if the output file could not be compressed at all.\r\nTo be honest, I did not think your PRNG would do so well, only 16% on ~20 Megs is pretty impressive for such a simple construction. But I still consider it a fail.","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>One common test I always did when developing PRNGs was to :</p>\n\n<ol>\n<li>Convert output to char values</li>\n<li>Write chars value to a file</li>\n<li>Compress file</li>\n</ol>\n\n<p>This let me quickly iterate on ideas that were \"good enough\" PRNGs for sequences of around 1 to 20 megabytes. It also gave a better top down picture than just inspecting it by eye, as any \"good enough\" PRNG with half-a-word of state could quickly exceed your eyes ability to see the cycle point. </p>\n\n<p>If I was really picky, I might take the good algorithms and run the DIEHARD/NIST tests on them, to get more of an insight, and then go back and tweak some more.</p>\n\n<p>The advantage of the compression test, as opposed to a frequency analysis is that, trivially it is easy to construct a good distribution : simply output a 256 length block containing all chars of values 0 - 255, and do this 100,000 times. But this sequence has a cycle of length 256. </p>\n\n<p>A skewed distribution, even by a small margin, should be picked up by a compression algorithm, particularly if you give it enough (say 1 megabyte) of the sequence to work with. If some characters, or bigrams, or n-grams occur more frequently, a compression algorithm can encode this distribution skew to codes that favor the frequent occurrences with shorter code words, and you get a delta of compression.</p>\n\n<p>Since most compression algorithms are fast, and they require no implementation (as OSs have them just lying around), the compression test is a very useful one for quickly rating pass/fail for an PRNG you might be developing.</p>\n\n<p>Good luck with your experiments!</p>\n\n<p>Oh, I performed this test on the rng you have above, using the following small mod of your code :</p>\n\n<pre><code>import java.io.*;\n\npublic class QuickRandom {\n    private double prevNum;\n    private double magicNumber;\n\n    public QuickRandom(double seed1, double seed2) {\n        if (seed1 &gt;= 1 || seed1 &lt; 0) throw new IllegalArgumentException(\"Seed 1 must be &gt;= 0 and &lt; 1, not \" + seed1);\n        prevNum = seed1;\n        if (seed2 &lt;= 1 || seed2 &gt; 10) throw new IllegalArgumentException(\"Seed 2 must be &gt; 1 and &lt;= 10, not \" + seed2);\n        magicNumber = seed2;\n    }\n\n    public QuickRandom() {\n        this(Math.random(), Math.random() * 10);\n    }\n\n    public double random() {\n        return prevNum = (prevNum*magicNumber)%1;\n    }\n\n    public static void main(String[] args) throws Exception {\n        QuickRandom qr = new QuickRandom();\n        FileOutputStream fout = new FileOutputStream(\"qr20M.bin\");\n\n        for (int i = 0; i &lt; 20000000; i ++) {\n            fout.write((char)(qr.random()*256));\n        }\n    }\n}\n</code></pre>\n\n<p>The results were :</p>\n\n<pre><code>Cris-Mac-Book-2:rt cris$ zip -9 qr20M.zip qr20M.bin2\nadding: qr20M.bin2 (deflated 16%)\nCris-Mac-Book-2:rt cris$ ls -al\ntotal 104400\ndrwxr-xr-x   8 cris  staff       272 Jan 25 05:09 .\ndrwxr-xr-x+ 48 cris  staff      1632 Jan 25 05:04 ..\n-rw-r--r--   1 cris  staff      1243 Jan 25 04:54 QuickRandom.class\n-rw-r--r--   1 cris  staff       883 Jan 25 05:04 QuickRandom.java\n-rw-r--r--   1 cris  staff  16717260 Jan 25 04:55 qr20M.bin.gz\n-rw-r--r--   1 cris  staff  20000000 Jan 25 05:07 qr20M.bin2\n-rw-r--r--   1 cris  staff  16717402 Jan 25 05:09 qr20M.zip\n</code></pre>\n\n<p>I would consider an PRNG good if the output file could not be compressed at all.\nTo be honest, I did not think your PRNG would do so well, only 16% on ~20 Megs is pretty impressive for such a simple construction. But I still consider it a fail.</p>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359075171,"creation_date":1359075171,"answer_id":14513598,"question_id":14491966,"body_markdown":"java.util.Random is not much different, a basic LCG described by Knuth. However it has main 2 main advantages/differences:\r\n\r\n* thread safe - each update is a CAS which is more expensive than a simple write and needs a branch (even if perfectly predicted single threaded). Depending on the CPU it could be significant difference.\r\n* undisclosed internal state - this is very important for anything non-trivial. You wish the random numbers not to be predictable.\r\n\r\nBelow it&#39;s the main routine generating &#39;random&#39; integers in java.util.Random.\r\n&lt;pre&gt;&lt;code&gt;\r\n  protected int next(int bits) {\r\n        long oldseed, nextseed;\r\n        AtomicLong seed = this.seed;\r\n        do {\r\n          oldseed = seed.get();\r\n          nextseed = (oldseed * multiplier + addend) &amp; mask;\r\n        } while (!seed.compareAndSet(oldseed, nextseed));\r\n        return (int)(nextseed &gt;&gt;&gt; (48 - bits));\r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIf you remove the AtomicLong and the undisclosed sate (i.e. using all bits of the `long`), you&#39;d get more performance than the double multiplication/modulo. \r\n\r\nLast note: `Math.random` should not be used for anything but simple tests, it&#39;s prone to contention and if you have even a couple of threads calling it concurrently the performance degrades. One little known historical feature of it is the introduction of CAS in java - to beat an infamous benchmark (first by IBM via intrinsics and then Sun made &quot;CAS from Java&quot;) ","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>java.util.Random is not much different, a basic LCG described by Knuth. However it has main 2 main advantages/differences:</p>\n\n<ul>\n<li>thread safe - each update is a CAS which is more expensive than a simple write and needs a branch (even if perfectly predicted single threaded). Depending on the CPU it could be significant difference.</li>\n<li>undisclosed internal state - this is very important for anything non-trivial. You wish the random numbers not to be predictable.</li>\n</ul>\n\n<p>Below it's the main routine generating 'random' integers in java.util.Random.</p>\n\n<pre><code>\n  protected int next(int bits) {\n        long oldseed, nextseed;\n        AtomicLong seed = this.seed;\n        do {\n          oldseed = seed.get();\n          nextseed = (oldseed * multiplier + addend) & mask;\n        } while (!seed.compareAndSet(oldseed, nextseed));\n        return (int)(nextseed >>> (48 - bits));\n    }\n\n</code></pre>\n\n<p>If you remove the AtomicLong and the undisclosed sate (i.e. using all bits of the <code>long</code>), you'd get more performance than the double multiplication/modulo. </p>\n\n<p>Last note: <code>Math.random</code> should not be used for anything but simple tests, it's prone to contention and if you have even a couple of threads calling it concurrently the performance degrades. One little known historical feature of it is the introduction of CAS in java - to beat an infamous benchmark (first by IBM via intrinsics and then Sun made \"CAS from Java\") </p>\n"},{"comments":[{"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"score":2,"creation_date":1359240059,"post_id":14526729,"comment_id":20283563,"body_markdown":"Nice code. Yes, that is cool. I used to do that too sometimes, it&#39;s hard to get a quantifiable measure out of it, but it&#39;s another good way to look at the sequence. And if you wanted get a look at sequences of longer than width*height you could xor the next image with this one pixel-per-pixel. I think the QuickRandom picture is much more aesthetically pleasing though, on account of it being textured like a seaweed carpet.","body":"Nice code. Yes, that is cool. I used to do that too sometimes, it&#39;s hard to get a quantifiable measure out of it, but it&#39;s another good way to look at the sequence. And if you wanted get a look at sequences of longer than width*height you could xor the next image with this one pixel-per-pixel. I think the QuickRandom picture is much more aesthetically pleasing though, on account of it being textured like a seaweed carpet."},{"owner":{"account_id":47227,"reputation":15660,"user_id":139766,"accept_rate":88,"display_name":"Callum Rogers"},"score":0,"creation_date":1359249561,"post_id":14526729,"comment_id":20285564,"body_markdown":"The aesthetically pleasing part is how the sequence tends to increase as you go along each row (and then back to the start again) as the `magicNumber` multiplication produces a number similar to `prevNum`, which shows the lack of randomness. If we use the seeds `new QuickRandom(0.01, 1.03)` then we get this http://i.imgur.com/Q1Yunbe.png!","body":"The aesthetically pleasing part is how the sequence tends to increase as you go along each row (and then back to the start again) as the <code>magicNumber</code> multiplication produces a number similar to <code>prevNum</code>, which shows the lack of randomness. If we use the seeds <code>new QuickRandom(0.01, 1.03)</code> then we get this <a href=\"http://i.imgur.com/Q1Yunbe.png\" rel=\"nofollow noreferrer\">i.imgur.com/Q1Yunbe.png</a>!"},{"owner":{"account_id":539550,"reputation":3750,"user_id":907415,"accept_rate":98,"display_name":"Cris Stringfellow"},"score":0,"creation_date":1359262336,"post_id":14526729,"comment_id":20287514,"body_markdown":"Yes, great analysis. Since it just multiplies mod 1 by a constant clearly before wrapping occurs there will be the increase you describe. Seems like this could be avoided if we took the less significant decimal placings by say multiplying by 1 billion then reducing mod a 256 color palette.","body":"Yes, great analysis. Since it just multiplies mod 1 by a constant clearly before wrapping occurs there will be the increase you describe. Seems like this could be avoided if we took the less significant decimal placings by say multiplying by 1 billion then reducing mod a 256 color palette."},{"owner":{"account_id":956406,"reputation":8592,"user_id":981616,"accept_rate":87,"display_name":"uday"},"score":0,"creation_date":1359507623,"post_id":14526729,"comment_id":20375129,"body_markdown":"Can you tell me what did you use to generate those output images? Matlab?","body":"Can you tell me what did you use to generate those output images? Matlab?"},{"owner":{"account_id":47227,"reputation":15660,"user_id":139766,"accept_rate":88,"display_name":"Callum Rogers"},"score":0,"creation_date":1359508218,"post_id":14526729,"comment_id":20375258,"body_markdown":"@uDaY: Take a look at the code, C# and `System.Drawing.Bitmap`.","body":"@uDaY: Take a look at the code, C# and <code>System.Drawing.Bitmap</code>."},{"owner":{"account_id":28866,"reputation":473,"user_id":77462,"accept_rate":38,"display_name":"LegendLength"},"score":0,"creation_date":1452136172,"post_id":14526729,"comment_id":57039129,"body_markdown":"It&#39;s a nice way to create 3d spikes though!","body":"It&#39;s a nice way to create 3d spikes though!"}],"tags":[],"owner":{"account_id":47227,"reputation":15660,"user_id":139766,"accept_rate":88,"display_name":"Callum Rogers"},"comment_count":6,"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1359249680,"creation_date":1359133399,"answer_id":14526729,"question_id":14491966,"body_markdown":"The real problem with this is that it&#39;s output histogram is dependent on the initial seed far to much - much of the time it will end up with a near uniform output but a lot of the time will have distinctly un-uniform output.\r\n\r\nInspired by [this article about how bad php&#39;s `rand()` function is][1], I made some random matrix images using `QuickRandom` and `System.Random`. This run shows how sometimes the seed can have a bad effect (in this case favouring lower numbers) where as `System.Random` is pretty uniform.\r\n\r\n`QuickRandom`\r\n===\r\n![][2]\r\n\r\n`System.Random`\r\n===\r\n![][3]\r\n\r\nEven Worse\r\n===\r\n\r\nIf we initialise `QuickRandom` as `new QuickRandom(0.01, 1.03)` we get this image:\r\n\r\n![][4]\r\n\r\nThe Code\r\n===\r\n\r\n    using System;\r\n    using System.Drawing;\r\n    using System.Drawing.Imaging;\r\n    \r\n    namespace QuickRandomTest\r\n    {\r\n        public class QuickRandom\r\n        {\r\n            private double prevNum;\r\n            private readonly double magicNumber;\r\n    \r\n            private static readonly Random rand = new Random();\r\n    \r\n            public QuickRandom(double seed1, double seed2)\r\n            {\r\n                if (seed1 &gt;= 1 || seed1 &lt; 0) throw new ArgumentException(&quot;Seed 1 must be &gt;= 0 and &lt; 1, not &quot; + seed1);\r\n                prevNum = seed1;\r\n                if (seed2 &lt;= 1 || seed2 &gt; 10) throw new ArgumentException(&quot;Seed 2 must be &gt; 1 and &lt;= 10, not &quot; + seed2);\r\n                magicNumber = seed2;\r\n            }\r\n    \r\n            public QuickRandom()\r\n                : this(rand.NextDouble(), rand.NextDouble() * 10)\r\n            {\r\n            }\r\n    \r\n            public double Random()\r\n            {\r\n                return prevNum = (prevNum * magicNumber) % 1;\r\n            }\r\n        }\r\n    \r\n        class Program\r\n        {\r\n            static void Main(string[] args)\r\n            {\r\n                var rand = new Random();\r\n                var qrand = new QuickRandom();\r\n                int w = 600;\r\n                int h = 600;\r\n                CreateMatrix(w, h, rand.NextDouble).Save(&quot;System.Random.png&quot;, ImageFormat.Png);\r\n                CreateMatrix(w, h, qrand.Random).Save(&quot;QuickRandom.png&quot;, ImageFormat.Png);\r\n            }\r\n    \r\n            private static Image CreateMatrix(int width, int height, Func&lt;double&gt; f)\r\n            {\r\n                var bitmap = new Bitmap(width, height);\r\n                for (int y = 0; y &lt; height; y++) {\r\n                    for (int x = 0; x &lt; width; x++) {\r\n                        var c = (int) (f()*255);\r\n                        bitmap.SetPixel(x, y, Color.FromArgb(c,c,c));\r\n                    }\r\n                }\r\n    \r\n                return bitmap;\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://boallen.com/random-numbers.html\r\n  [2]: http://i.stack.imgur.com/6LaLK.png\r\n  [3]: http://i.stack.imgur.com/CBwTp.png\r\n  [4]: http://i.stack.imgur.com/p78FO.png","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>The real problem with this is that it's output histogram is dependent on the initial seed far to much - much of the time it will end up with a near uniform output but a lot of the time will have distinctly un-uniform output.</p>\n\n<p>Inspired by <a href=\"http://boallen.com/random-numbers.html\" rel=\"noreferrer\">this article about how bad php's <code>rand()</code> function is</a>, I made some random matrix images using <code>QuickRandom</code> and <code>System.Random</code>. This run shows how sometimes the seed can have a bad effect (in this case favouring lower numbers) where as <code>System.Random</code> is pretty uniform.</p>\n\n<h1><code>QuickRandom</code></h1>\n\n<p><img src=\"https://i.stack.imgur.com/6LaLK.png\" alt=\"\"></p>\n\n<h1><code>System.Random</code></h1>\n\n<p><img src=\"https://i.stack.imgur.com/CBwTp.png\" alt=\"\"></p>\n\n<h1>Even Worse</h1>\n\n<p>If we initialise <code>QuickRandom</code> as <code>new QuickRandom(0.01, 1.03)</code> we get this image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/p78FO.png\" alt=\"\"></p>\n\n<h1>The Code</h1>\n\n<pre><code>using System;\nusing System.Drawing;\nusing System.Drawing.Imaging;\n\nnamespace QuickRandomTest\n{\n    public class QuickRandom\n    {\n        private double prevNum;\n        private readonly double magicNumber;\n\n        private static readonly Random rand = new Random();\n\n        public QuickRandom(double seed1, double seed2)\n        {\n            if (seed1 &gt;= 1 || seed1 &lt; 0) throw new ArgumentException(\"Seed 1 must be &gt;= 0 and &lt; 1, not \" + seed1);\n            prevNum = seed1;\n            if (seed2 &lt;= 1 || seed2 &gt; 10) throw new ArgumentException(\"Seed 2 must be &gt; 1 and &lt;= 10, not \" + seed2);\n            magicNumber = seed2;\n        }\n\n        public QuickRandom()\n            : this(rand.NextDouble(), rand.NextDouble() * 10)\n        {\n        }\n\n        public double Random()\n        {\n            return prevNum = (prevNum * magicNumber) % 1;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var rand = new Random();\n            var qrand = new QuickRandom();\n            int w = 600;\n            int h = 600;\n            CreateMatrix(w, h, rand.NextDouble).Save(\"System.Random.png\", ImageFormat.Png);\n            CreateMatrix(w, h, qrand.Random).Save(\"QuickRandom.png\", ImageFormat.Png);\n        }\n\n        private static Image CreateMatrix(int width, int height, Func&lt;double&gt; f)\n        {\n            var bitmap = new Bitmap(width, height);\n            for (int y = 0; y &lt; height; y++) {\n                for (int x = 0; x &lt; width; x++) {\n                    var c = (int) (f()*255);\n                    bitmap.SetPixel(x, y, Color.FromArgb(c,c,c));\n                }\n            }\n\n            return bitmap;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":2,"creation_date":1381267667,"post_id":14563808,"comment_id":28511203,"body_markdown":"@Edit Hmm, I may compare QR, Math.random, and ThreadLocalRandom sometime when I&#39;m not too lazy `:)` That&#39;s interesting, thanks!","body":"@Edit Hmm, I may compare QR, Math.random, and ThreadLocalRandom sometime when I&#39;m not too lazy <code>:)</code> That&#39;s interesting, thanks!"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1497283288,"post_id":14563808,"comment_id":76001362,"body_markdown":"1. You can gain some more speed by dropping the mask as the highest 16 bits don&#39;t influence the used bits. 2. You can use those bits, save one subtraction and get a better generator (bigger state; the most significant bits of a product are the most nicely distributed, but some evaluation would be needed). 3. The Sun guys simply implemented an archaic RNG by Knuth and added synchronization. :(","body":"1. You can gain some more speed by dropping the mask as the highest 16 bits don&#39;t influence the used bits. 2. You can use those bits, save one subtraction and get a better generator (bigger state; the most significant bits of a product are the most nicely distributed, but some evaluation would be needed). 3. The Sun guys simply implemented an archaic RNG by Knuth and added synchronization. :("}],"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1381242080,"creation_date":1359382023,"answer_id":14563808,"question_id":14491966,"body_markdown":"It is very unlikely that random number generation performance would be an issue for any use-case you came up with unless accessing a single `Random` instance from multiple threads (because `Random` is `synchronized`).\r\n\r\nHowever, if that _really_ is the case and you need lots of random numbers fast, your solution is far too unreliable. Sometimes it gives good results, sometimes it gives _horrible_ results (based on the initial settings).\r\n\r\nIf you want the same numbers that the [`Random`](http://docs.oracle.com/javase/7/docs/api/java/util/Random.html) class gives you, only faster, you could get rid of the synchronization in there:\r\n\r\n    public class QuickRandom {\r\n    \r\n    \tprivate long seed;\r\n    \r\n    \tprivate static final long MULTIPLIER = 0x5DEECE66DL;\r\n    \tprivate static final long ADDEND = 0xBL;\r\n    \tprivate static final long MASK = (1L &lt;&lt; 48) - 1;\r\n    \r\n    \tpublic QuickRandom() {\r\n    \t\tthis((8682522807148012L * 181783497276652981L) ^ System.nanoTime());\r\n    \t}\r\n    \t\r\n    \tpublic QuickRandom(long seed) {\r\n    \t\tthis.seed = (seed ^ MULTIPLIER) &amp; MASK;\r\n    \t}\r\n    \r\n    \tpublic double nextDouble() {\r\n    \t\treturn (((long)(next(26)) &lt;&lt; 27) + next(27)) / (double)(1L &lt;&lt; 53);\r\n    \t}\r\n    \r\n    \tprivate int next(int bits) {\r\n    \t\tseed = (seed * MULTIPLIER + ADDEND) &amp; MASK;\r\n    \t\treturn (int)(seed &gt;&gt;&gt; (48 - bits));\r\n    \t}\r\n    \r\n    }\r\n\r\nI simply took the [`java.util.Random`](http://hg.openjdk.java.net/jdk7u/jdk7u-gate/jdk/file/791e94e7b64f/src/share/classes/java/util/Random.java) code and removed the synchronization which results in _twice_ the performance compared to the original on my Oracle HotSpot JVM 7u9. It is still slower than your `QuickRandom`, but it gives much more consistent results. To be precise, for the same `seed` values and single threaded applications, it gives _the same_ pseudo-random numbers as the original `Random` class would.\r\n\r\n---\r\n\r\n&lt;sub&gt;This code is based on the current [`java.util.Random` in OpenJDK 7u](http://hg.openjdk.java.net/jdk7u/jdk7u-gate/jdk/file/791e94e7b64f/src/share/classes/java/util/Random.java) which is licensed under [GNU GPL v2](http://www.gnu.org/licenses/gpl-2.0.html).&lt;/sub&gt;\r\n\r\n---\r\n\r\n__EDIT__ 10 months later:\r\n\r\nI just discovered that you don&#39;t even have to use my code above to get an unsynchronized `Random` instance. There&#39;s one in the JDK, too!\r\n\r\nLook at Java 7&#39;s [`ThreadLocalRandom`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadLocalRandom.html) class. The code inside it is almost identical to my code above. The class is simply a local-thread-isolated `Random` version suitable for generating random numbers quickly. The only downside I can think of is that you can&#39;t set its `seed` manually.\r\n\r\nExample usage:\r\n\r\n    Random random = ThreadLocalRandom.current();","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>It is very unlikely that random number generation performance would be an issue for any use-case you came up with unless accessing a single <code>Random</code> instance from multiple threads (because <code>Random</code> is <code>synchronized</code>).</p>\n\n<p>However, if that <em>really</em> is the case and you need lots of random numbers fast, your solution is far too unreliable. Sometimes it gives good results, sometimes it gives <em>horrible</em> results (based on the initial settings).</p>\n\n<p>If you want the same numbers that the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Random.html\" rel=\"nofollow\"><code>Random</code></a> class gives you, only faster, you could get rid of the synchronization in there:</p>\n\n<pre><code>public class QuickRandom {\n\n    private long seed;\n\n    private static final long MULTIPLIER = 0x5DEECE66DL;\n    private static final long ADDEND = 0xBL;\n    private static final long MASK = (1L &lt;&lt; 48) - 1;\n\n    public QuickRandom() {\n        this((8682522807148012L * 181783497276652981L) ^ System.nanoTime());\n    }\n\n    public QuickRandom(long seed) {\n        this.seed = (seed ^ MULTIPLIER) &amp; MASK;\n    }\n\n    public double nextDouble() {\n        return (((long)(next(26)) &lt;&lt; 27) + next(27)) / (double)(1L &lt;&lt; 53);\n    }\n\n    private int next(int bits) {\n        seed = (seed * MULTIPLIER + ADDEND) &amp; MASK;\n        return (int)(seed &gt;&gt;&gt; (48 - bits));\n    }\n\n}\n</code></pre>\n\n<p>I simply took the <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u-gate/jdk/file/791e94e7b64f/src/share/classes/java/util/Random.java\" rel=\"nofollow\"><code>java.util.Random</code></a> code and removed the synchronization which results in <em>twice</em> the performance compared to the original on my Oracle HotSpot JVM 7u9. It is still slower than your <code>QuickRandom</code>, but it gives much more consistent results. To be precise, for the same <code>seed</code> values and single threaded applications, it gives <em>the same</em> pseudo-random numbers as the original <code>Random</code> class would.</p>\n\n<hr>\n\n<p><sub>This code is based on the current <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u-gate/jdk/file/791e94e7b64f/src/share/classes/java/util/Random.java\" rel=\"nofollow\"><code>java.util.Random</code> in OpenJDK 7u</a> which is licensed under <a href=\"http://www.gnu.org/licenses/gpl-2.0.html\" rel=\"nofollow\">GNU GPL v2</a>.</sub></p>\n\n<hr>\n\n<p><strong>EDIT</strong> 10 months later:</p>\n\n<p>I just discovered that you don't even have to use my code above to get an unsynchronized <code>Random</code> instance. There's one in the JDK, too!</p>\n\n<p>Look at Java 7's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow\"><code>ThreadLocalRandom</code></a> class. The code inside it is almost identical to my code above. The class is simply a local-thread-isolated <code>Random</code> version suitable for generating random numbers quickly. The only downside I can think of is that you can't set its <code>seed</code> manually.</p>\n\n<p>Example usage:</p>\n\n<pre><code>Random random = ThreadLocalRandom.current();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"score":9,"creation_date":1359426471,"post_id":14574674,"comment_id":20340012,"body_markdown":"+1 for xkcd which is an amazing [wobsite](http://xkcd.com/148/) (oh, and the great answer) :P","body":"+1 for xkcd which is an amazing <a href=\"http://xkcd.com/148/\" rel=\"nofollow noreferrer\">wobsite</a> (oh, and the great answer) :P"},{"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"score":1,"creation_date":1359427268,"post_id":14574674,"comment_id":20340180,"body_markdown":"Thanks, and yes xkcd racks! XD","body":"Thanks, and yes xkcd racks! XD"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1359457446,"post_id":14574674,"comment_id":20350822,"body_markdown":"The theory is fine but the execution is poor: the code is susceptible to integer overflow. In java all `int[]` are initialized to zero, so no need for this part. Casting to float is pointless when you work w/ doubles. Last: calling the methods names random1 and random2 is quite funny.","body":"The theory is fine but the execution is poor: the code is susceptible to integer overflow. In java all <code>int[]</code> are initialized to zero, so no need for this part. Casting to float is pointless when you work w/ doubles. Last: calling the methods names random1 and random2 is quite funny."},{"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"score":0,"creation_date":1359465770,"post_id":14574674,"comment_id":20355164,"body_markdown":"@bestsss Thanks for the observations! I made a direct translation from the C code and didn&#39;t pay much attention to it =(. I made some modifications and updated the answer. I&#39;d appreciate any additional suggestion","body":"@bestsss Thanks for the observations! I made a direct translation from the C code and didn&#39;t pay much attention to it =(. I made some modifications and updated the answer. I&#39;d appreciate any additional suggestion"}],"tags":[],"owner":{"account_id":1034085,"reputation":15781,"user_id":1041822,"accept_rate":100,"display_name":"higuaro"},"comment_count":4,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1373738134,"creation_date":1359426333,"answer_id":14574674,"question_id":14491966,"body_markdown":"The fastest random generator you could implement is this:\r\n   \r\n  ![enter image description here][2]\r\n\r\nXD, jokes apart, besides everything said here, I&#39;d like to contribute citing \r\nthat testing random sequences &quot;is a hard task&quot; [ 1 ], and there are several test \r\nthat check certain properties of pseudo-random numbers, you can find a lot of them\r\nhere: http://www.random.org/analysis/#2005\r\n\r\nOne simple way to evaluate random generator &quot;quality&quot; is the old Chi Square test.\r\n\r\n    static double chisquare(int numberCount, int maxRandomNumber) {\r\n        long[] f = new long[maxRandomNumber];\r\n        for (long i = 0; i &lt; numberCount; i++) {\r\n            f[randomint(maxRandomNumber)]++;\r\n        }\r\n\r\n        long t = 0;\r\n        for (int i = 0; i &lt; maxRandomNumber; i++) {\r\n            t += f[i] * f[i];\r\n        }\r\n        return (((double) maxRandomNumber * t) / numberCount) - (double) (numberCount);\r\n    }\r\n\r\n Citing [ 1 ]\r\n\r\n   &gt; The idea of the &#178; test is to check whether or not the numbers produced are \r\n   &gt; spread out reasonably. If we generate _N_ positive numbers less than _r_, then we&#39;d\r\n   &gt; expect to get about _N_ / _r_ numbers of each value. But---and this is the essence of\r\n   &gt; the matter---the frequencies of ocurrence of all the values should not be exactly\r\n   &gt; the same: that wouldn&#39;t be random! \r\n\r\n   &gt; We simply calculate the sum of the squares of the frecuencies of occurrence of \r\n   &gt; each value, scaled by the expected frequency, and then substract off the size of the\r\n   &gt; sequence. This number, the &quot;&#178; statistic,&quot; may be expressed mathematically as\r\n\r\n   ![chi squared formula][3]  \r\n\r\n   &gt; If the &#178; statistic is close to _r_, then the numbers are random; if it is too far away,\r\n   &gt; then they are not. The notions of &quot;close&quot; and &quot;far away&quot; can be more precisely \r\n   &gt; defined: tables exist that tell exactly how relate the statistic to properties of \r\n   &gt; random sequences. For the simple test that we&#39;re performing, the statistic should\r\n   &gt; be within 2r\r\n\r\nUsing this theory and the following code:\r\n\r\n\r\n    abstract class RandomFunction {\r\n        public abstract int randomint(int range); \r\n    }\r\n    \r\n    public class test {\r\n        static QuickRandom qr = new QuickRandom();\r\n    \r\n        static double chisquare(int numberCount, int maxRandomNumber, RandomFunction function) {\r\n            long[] f = new long[maxRandomNumber];\r\n            for (long i = 0; i &lt; numberCount; i++) {\r\n                f[function.randomint(maxRandomNumber)]++;\r\n            }\r\n\r\n            long t = 0;\r\n            for (int i = 0; i &lt; maxRandomNumber; i++) {\r\n                t += f[i] * f[i];\r\n            }\r\n            return (((double) maxRandomNumber * t) / numberCount) - (double) (numberCount);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            final int ITERATION_COUNT = 1000;\r\n            final int N = 5000000;\r\n            final int R = 100000;\r\n\r\n            double total = 0.0;\r\n            RandomFunction qrRandomInt = new RandomFunction() {\r\n                @Override\r\n                public int randomint(int range) {\r\n                    return (int) (qr.random() * range);\r\n                }\r\n            }; \r\n            for (int i = 0; i &lt; ITERATION_COUNT; i++) {\r\n                total += chisquare(N, R, qrRandomInt);\r\n            }\r\n            System.out.printf(&quot;Ave Chi2 for QR: %f \\n&quot;, total / ITERATION_COUNT);        \r\n    \r\n            total = 0.0;\r\n            RandomFunction mathRandomInt = new RandomFunction() {\r\n                @Override\r\n                public int randomint(int range) {\r\n                    return (int) (Math.random() * range);\r\n                }\r\n            };         \r\n            for (int i = 0; i &lt; ITERATION_COUNT; i++) {\r\n                total += chisquare(N, R, mathRandomInt);\r\n            }\r\n            System.out.printf(&quot;Ave Chi2 for Math.random: %f \\n&quot;, total / ITERATION_COUNT);\r\n        }\r\n    }\r\n    \r\n\r\nI got the following result:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Ave Chi2 for QR: 108965,078640\r\n    Ave Chi2 for Math.random: 99988,629040\r\n\r\nWhich, for QuickRandom, is far away from _r_  (outside of  `r &#177; 2 * sqrt(r)`)\r\n\r\nThat been said, QuickRandom could be fast but (as stated in another answers) is not good as a random number generator\r\n\r\n  [2]: http://i.stack.imgur.com/DeAn9.png\r\n  [3]: http://i.stack.imgur.com/GzPyq.png\r\n\r\n--------------------\r\n[ 1 ] SEDGEWICK ROBERT, [_Algorithms in C_](http://www.goodreads.com/book/show/2398048.Algorithims_in_C), Addinson Wesley Publishing Company, 1990, pages 516 to 518","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>The fastest random generator you could implement is this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/DeAn9.png\" alt=\"enter image description here\"></p>\n\n<p>XD, jokes apart, besides everything said here, I'd like to contribute citing \nthat testing random sequences \"is a hard task\" [ 1 ], and there are several test \nthat check certain properties of pseudo-random numbers, you can find a lot of them\nhere: <a href=\"http://www.random.org/analysis/#2005\" rel=\"noreferrer\">http://www.random.org/analysis/#2005</a></p>\n\n<p>One simple way to evaluate random generator \"quality\" is the old Chi Square test.</p>\n\n<pre><code>static double chisquare(int numberCount, int maxRandomNumber) {\n    long[] f = new long[maxRandomNumber];\n    for (long i = 0; i &lt; numberCount; i++) {\n        f[randomint(maxRandomNumber)]++;\n    }\n\n    long t = 0;\n    for (int i = 0; i &lt; maxRandomNumber; i++) {\n        t += f[i] * f[i];\n    }\n    return (((double) maxRandomNumber * t) / numberCount) - (double) (numberCount);\n}\n</code></pre>\n\n<p>Citing [ 1 ]</p>\n\n<blockquote>\n  <p>The idea of the  test is to check whether or not the numbers produced are \n  spread out reasonably. If we generate <em>N</em> positive numbers less than <em>r</em>, then we'd\n  expect to get about <em>N</em> / <em>r</em> numbers of each value. But---and this is the essence of\n  the matter---the frequencies of ocurrence of all the values should not be exactly\n  the same: that wouldn't be random! </p>\n  \n  <p>We simply calculate the sum of the squares of the frecuencies of occurrence of \n  each value, scaled by the expected frequency, and then substract off the size of the\n  sequence. This number, the \" statistic,\" may be expressed mathematically as</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/GzPyq.png\" alt=\"chi squared formula\">  </p>\n\n<blockquote>\n  <p>If the  statistic is close to <em>r</em>, then the numbers are random; if it is too far away,\n  then they are not. The notions of \"close\" and \"far away\" can be more precisely \n  defined: tables exist that tell exactly how relate the statistic to properties of \n  random sequences. For the simple test that we're performing, the statistic should\n  be within 2r</p>\n</blockquote>\n\n<p>Using this theory and the following code:</p>\n\n<pre><code>abstract class RandomFunction {\n    public abstract int randomint(int range); \n}\n\npublic class test {\n    static QuickRandom qr = new QuickRandom();\n\n    static double chisquare(int numberCount, int maxRandomNumber, RandomFunction function) {\n        long[] f = new long[maxRandomNumber];\n        for (long i = 0; i &lt; numberCount; i++) {\n            f[function.randomint(maxRandomNumber)]++;\n        }\n\n        long t = 0;\n        for (int i = 0; i &lt; maxRandomNumber; i++) {\n            t += f[i] * f[i];\n        }\n        return (((double) maxRandomNumber * t) / numberCount) - (double) (numberCount);\n    }\n\n    public static void main(String[] args) {\n        final int ITERATION_COUNT = 1000;\n        final int N = 5000000;\n        final int R = 100000;\n\n        double total = 0.0;\n        RandomFunction qrRandomInt = new RandomFunction() {\n            @Override\n            public int randomint(int range) {\n                return (int) (qr.random() * range);\n            }\n        }; \n        for (int i = 0; i &lt; ITERATION_COUNT; i++) {\n            total += chisquare(N, R, qrRandomInt);\n        }\n        System.out.printf(\"Ave Chi2 for QR: %f \\n\", total / ITERATION_COUNT);        \n\n        total = 0.0;\n        RandomFunction mathRandomInt = new RandomFunction() {\n            @Override\n            public int randomint(int range) {\n                return (int) (Math.random() * range);\n            }\n        };         \n        for (int i = 0; i &lt; ITERATION_COUNT; i++) {\n            total += chisquare(N, R, mathRandomInt);\n        }\n        System.out.printf(\"Ave Chi2 for Math.random: %f \\n\", total / ITERATION_COUNT);\n    }\n}\n</code></pre>\n\n<p>I got the following result:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Ave Chi2 for QR: 108965,078640\nAve Chi2 for Math.random: 99988,629040\n</code></pre>\n\n<p>Which, for QuickRandom, is far away from <em>r</em>  (outside of  <code>r  2 * sqrt(r)</code>)</p>\n\n<p>That been said, QuickRandom could be fast but (as stated in another answers) is not good as a random number generator</p>\n\n<hr>\n\n<p>[ 1 ] SEDGEWICK ROBERT, <a href=\"http://www.goodreads.com/book/show/2398048.Algorithims_in_C\" rel=\"noreferrer\"><em>Algorithms in C</em></a>, Addinson Wesley Publishing Company, 1990, pages 516 to 518</p>\n"},{"comments":[{"owner":{"account_id":548213,"reputation":6628,"user_id":1049308,"display_name":"John Willemse"},"score":1,"creation_date":1401975919,"post_id":24061450,"comment_id":37101950,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post.","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post."},{"owner":{"account_id":83307,"reputation":1753,"user_id":233646,"display_name":"Terje"},"score":0,"creation_date":1401976465,"post_id":24061450,"comment_id":37102341,"body_markdown":"I think it was already established that the original algorithm is not good enough? Perhaps an example of what is good enough can lead to inspiration on how to improve it?","body":"I think it was already established that the original algorithm is not good enough? Perhaps an example of what is good enough can lead to inspiration on how to improve it?"},{"owner":{"account_id":548213,"reputation":6628,"user_id":1049308,"display_name":"John Willemse"},"score":0,"creation_date":1401978408,"post_id":24061450,"comment_id":37103733,"body_markdown":"Yes, maybe, but it doesn&#39;t answer the question at all and there&#39;s no data supporting your algorithm is actually &quot;good enough&quot;. Generally, random number algoritms and closely related encryption algorithms are never as good as the ones by the experts that implemented them in a programming language. So, if you could support your claim and elaborate on why it is better than the algorithm in the Question you would at least answer a question asked.","body":"Yes, maybe, but it doesn&#39;t answer the question at all and there&#39;s no data supporting your algorithm is actually &quot;good enough&quot;. Generally, random number algoritms and closely related encryption algorithms are never as good as the ones by the experts that implemented them in a programming language. So, if you could support your claim and elaborate on why it is better than the algorithm in the Question you would at least answer a question asked."},{"owner":{"account_id":83307,"reputation":1753,"user_id":233646,"display_name":"Terje"},"score":0,"creation_date":1402039277,"post_id":24061450,"comment_id":37128695,"body_markdown":"Well... Experts that implemented them in a programming language aim for &quot;perfect&quot; distribution, whereas in a game, you never need that. You want speed, and &quot;good enough&quot; distribution. This code offers this. If it&#39;s inappropriate here, I&#39;ll delete the answer, no problem.","body":"Well... Experts that implemented them in a programming language aim for &quot;perfect&quot; distribution, whereas in a game, you never need that. You want speed, and &quot;good enough&quot; distribution. This code offers this. If it&#39;s inappropriate here, I&#39;ll delete the answer, no problem."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1497283648,"post_id":24061450,"comment_id":76001567,"body_markdown":"Concerning multithreading, your usage of the local variable is a no-op, as without `volatile`, the compiler is free to eliminate (or introduce) local variables at will.","body":"Concerning multithreading, your usage of the local variable is a no-op, as without <code>volatile</code>, the compiler is free to eliminate (or introduce) local variables at will."}],"tags":[],"owner":{"account_id":83307,"reputation":1753,"user_id":233646,"display_name":"Terje"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401974657,"creation_date":1401974657,"answer_id":24061450,"question_id":14491966,"body_markdown":"This is the random function I use for my games. It&#39;s pretty fast, and has good (enough) distribution.\r\n\r\n    public class FastRandom {\r\n    \r\n        public static int randSeed;\r\n    \r\n    \t  public static final int random()\r\n    \t  {\r\n    \t    // this makes a &#39;nod&#39; to being potentially called from multiple threads\r\n    \t    int seed = randSeed;\r\n    \t    \r\n    \t    seed    *= 1103515245;\r\n    \t    seed    += 12345;\r\n    \t    randSeed = seed;\r\n    \t    return seed;\r\n    \t  }\r\n    \r\n    \t  public static final int random(int range)\r\n    \t  {\r\n    \t    return ((random()&gt;&gt;&gt;15) * range) &gt;&gt;&gt; 17;\r\n    \t  }\r\n    \r\n    \t  public static final boolean randomBoolean()\r\n    \t  {\r\n    \t     return random() &gt; 0;\r\n    \t  }\r\n    \r\n    \t   public static final float randomFloat()\r\n    \t   {\r\n    \t     return (random()&gt;&gt;&gt;8) * (1.f/(1&lt;&lt;24));\r\n    \t   }\r\n    \t   \r\n    \t   public static final double randomDouble() {\r\n    \t       return (random()&gt;&gt;&gt;8) * (1.0/(1&lt;&lt;24));\r\n    \t   }\r\n    }","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>This is the random function I use for my games. It's pretty fast, and has good (enough) distribution.</p>\n\n<pre><code>public class FastRandom {\n\n    public static int randSeed;\n\n      public static final int random()\n      {\n        // this makes a 'nod' to being potentially called from multiple threads\n        int seed = randSeed;\n\n        seed    *= 1103515245;\n        seed    += 12345;\n        randSeed = seed;\n        return seed;\n      }\n\n      public static final int random(int range)\n      {\n        return ((random()&gt;&gt;&gt;15) * range) &gt;&gt;&gt; 17;\n      }\n\n      public static final boolean randomBoolean()\n      {\n         return random() &gt; 0;\n      }\n\n       public static final float randomFloat()\n       {\n         return (random()&gt;&gt;&gt;8) * (1.f/(1&lt;&lt;24));\n       }\n\n       public static final double randomDouble() {\n           return (random()&gt;&gt;&gt;8) * (1.0/(1&lt;&lt;24));\n       }\n}\n</code></pre>\n"}],"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"comment_count":36,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14420,"favorite_count":0,"down_vote_count":17,"up_vote_count":188,"accepted_answer_id":14492320,"answer_count":14,"score":171,"last_activity_date":1671844847,"creation_date":1358987742,"question_id":14491966,"body_markdown":"I made a class called `QuickRandom`, and its job is to produce random numbers quickly. It&#39;s really simple: just take the old value, multiply by a `double`, and take the decimal part.\r\n\r\nHere is my `QuickRandom` class in its entirety:\r\n\r\n    public class QuickRandom {\r\n    \tprivate double prevNum;\r\n    \tprivate double magicNumber;\r\n    \t\r\n    \tpublic QuickRandom(double seed1, double seed2) {\r\n    \t\tif (seed1 &gt;= 1 || seed1 &lt; 0) throw new IllegalArgumentException(&quot;Seed 1 must be &gt;= 0 and &lt; 1, not &quot; + seed1);\r\n    \t\tprevNum = seed1;\r\n    \t\tif (seed2 &lt;= 1 || seed2 &gt; 10) throw new IllegalArgumentException(&quot;Seed 2 must be &gt; 1 and &lt;= 10, not &quot; + seed2);\r\n    \t\tmagicNumber = seed2;\r\n    \t}\r\n    \t\r\n    \tpublic QuickRandom() {\r\n    \t\tthis(Math.random(), Math.random() * 10);\r\n    \t}\r\n    \t\r\n    \tpublic double random() {\r\n    \t\treturn prevNum = (prevNum*magicNumber)%1;\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd here is the code I wrote to test it:\r\n\r\n\tpublic static void main(String[] args) {\r\n    \t\tQuickRandom qr = new QuickRandom();\r\n    \t\t\r\n    \t\t/*for (int i = 0; i &lt; 20; i ++) {\r\n    \t\t\tSystem.out.println(qr.random());\r\n    \t\t}*/\r\n    \t\t\r\n    \t\t//Warm up\r\n    \t\tfor (int i = 0; i &lt; 10000000; i ++) {\r\n    \t\t\tMath.random();\r\n    \t\t\tqr.random();\r\n    \t\t\tSystem.nanoTime();\r\n    \t\t}\r\n    \t\t\r\n    \t\tlong oldTime;\r\n    \t\t\r\n    \t\toldTime = System.nanoTime();\r\n    \t\tfor (int i = 0; i &lt; 100000000; i ++) {\r\n    \t\t\tMath.random();\r\n    \t\t}\r\n    \t\tSystem.out.println(System.nanoTime() - oldTime);\r\n    \t\t\r\n    \t\toldTime = System.nanoTime();\r\n    \t\tfor (int i = 0; i &lt; 100000000; i ++) {\r\n    \t\t\tqr.random();\r\n    \t\t}\r\n    \t\tSystem.out.println(System.nanoTime() - oldTime);\r\n\t}\r\n\r\nIt is a very simple algorithm that simply multiplies the previous double by a &quot;magic number&quot; double. I threw it together pretty quickly, so I could probably make it better, but strangely, it seems to be working fine.\r\n\r\nThis is sample output of the commented-out lines in the `main` method:\r\n\r\n    0.612201846732229\r\n    0.5823974655091941\r\n    0.31062451498865684\r\n    0.8324473610354004\r\n    0.5907187526770246\r\n    0.38650264675748947\r\n    0.5243464344127049\r\n    0.7812828761272188\r\n    0.12417247811074805\r\n    0.1322738256858378\r\n    0.20614642573072284\r\n    0.8797579436677381\r\n    0.022122999476108518\r\n    0.2017298328387873\r\n    0.8394849894162446\r\n    0.6548917685640614\r\n    0.971667953190428\r\n    0.8602096647696964\r\n    0.8438709031160894\r\n    0.694884972852229\r\n\r\nHm. Pretty random. In fact, that would work for a random number generator in a game.\r\n\r\nHere is sample output of the non-commented out part:\r\n\r\n    5456313909\r\n    1427223941\r\n\r\nWow! It performs almost 4 times faster than `Math.random`.\r\n\r\nI remember reading somewhere that `Math.random` used `System.nanoTime()` and tons of crazy modulus and division stuff. Is that really necessary? My algorithm performs a lot faster and it seems pretty random.\r\n\r\nI have two questions:\r\n\r\n- Is my algorithm &quot;good enough&quot; (for, say, a game, where **really** random numbers aren&#39;t too important)?\r\n- Why does `Math.random` do so much when it seems just simple multiplication and cutting out the decimal will suffice?","title":"Is this a &quot;good enough&quot; random algorithm; why isn&#39;t it used if it&#39;s faster?","body":"<p>I made a class called <code>QuickRandom</code>, and its job is to produce random numbers quickly. It's really simple: just take the old value, multiply by a <code>double</code>, and take the decimal part.</p>\n\n<p>Here is my <code>QuickRandom</code> class in its entirety:</p>\n\n<pre><code>public class QuickRandom {\n    private double prevNum;\n    private double magicNumber;\n\n    public QuickRandom(double seed1, double seed2) {\n        if (seed1 &gt;= 1 || seed1 &lt; 0) throw new IllegalArgumentException(\"Seed 1 must be &gt;= 0 and &lt; 1, not \" + seed1);\n        prevNum = seed1;\n        if (seed2 &lt;= 1 || seed2 &gt; 10) throw new IllegalArgumentException(\"Seed 2 must be &gt; 1 and &lt;= 10, not \" + seed2);\n        magicNumber = seed2;\n    }\n\n    public QuickRandom() {\n        this(Math.random(), Math.random() * 10);\n    }\n\n    public double random() {\n        return prevNum = (prevNum*magicNumber)%1;\n    }\n\n}\n</code></pre>\n\n<p>And here is the code I wrote to test it:</p>\n\n<pre><code>public static void main(String[] args) {\n        QuickRandom qr = new QuickRandom();\n\n        /*for (int i = 0; i &lt; 20; i ++) {\n            System.out.println(qr.random());\n        }*/\n\n        //Warm up\n        for (int i = 0; i &lt; 10000000; i ++) {\n            Math.random();\n            qr.random();\n            System.nanoTime();\n        }\n\n        long oldTime;\n\n        oldTime = System.nanoTime();\n        for (int i = 0; i &lt; 100000000; i ++) {\n            Math.random();\n        }\n        System.out.println(System.nanoTime() - oldTime);\n\n        oldTime = System.nanoTime();\n        for (int i = 0; i &lt; 100000000; i ++) {\n            qr.random();\n        }\n        System.out.println(System.nanoTime() - oldTime);\n}\n</code></pre>\n\n<p>It is a very simple algorithm that simply multiplies the previous double by a \"magic number\" double. I threw it together pretty quickly, so I could probably make it better, but strangely, it seems to be working fine.</p>\n\n<p>This is sample output of the commented-out lines in the <code>main</code> method:</p>\n\n<pre><code>0.612201846732229\n0.5823974655091941\n0.31062451498865684\n0.8324473610354004\n0.5907187526770246\n0.38650264675748947\n0.5243464344127049\n0.7812828761272188\n0.12417247811074805\n0.1322738256858378\n0.20614642573072284\n0.8797579436677381\n0.022122999476108518\n0.2017298328387873\n0.8394849894162446\n0.6548917685640614\n0.971667953190428\n0.8602096647696964\n0.8438709031160894\n0.694884972852229\n</code></pre>\n\n<p>Hm. Pretty random. In fact, that would work for a random number generator in a game.</p>\n\n<p>Here is sample output of the non-commented out part:</p>\n\n<pre><code>5456313909\n1427223941\n</code></pre>\n\n<p>Wow! It performs almost 4 times faster than <code>Math.random</code>.</p>\n\n<p>I remember reading somewhere that <code>Math.random</code> used <code>System.nanoTime()</code> and tons of crazy modulus and division stuff. Is that really necessary? My algorithm performs a lot faster and it seems pretty random.</p>\n\n<p>I have two questions:</p>\n\n<ul>\n<li>Is my algorithm \"good enough\" (for, say, a game, where <strong>really</strong> random numbers aren't too important)?</li>\n<li>Why does <code>Math.random</code> do so much when it seems just simple multiplication and cutting out the decimal will suffice?</li>\n</ul>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1658498451,"post_id":73081312,"comment_id":129073387,"body_markdown":"Do you want to find Bluetooth Classic or Bluetooth Low Energy devices?","body":"Do you want to find Bluetooth Classic or Bluetooth Low Energy devices?"},{"owner":{"account_id":13820855,"reputation":23,"user_id":9976333,"display_name":"Ravi Khinchi"},"score":0,"creation_date":1658561707,"post_id":73081312,"comment_id":129086369,"body_markdown":"bluetooth classic @MichaelKotzjan","body":"bluetooth classic @MichaelKotzjan"}],"owner":{"account_id":13820855,"reputation":23,"user_id":9976333,"display_name":"Ravi Khinchi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671843431,"creation_date":1658497209,"question_id":73081312,"body_markdown":"I am trying to discover available bluetooth devices but it seems `bluetoothAdapter.startDiscovery()` is not starting for some reason\r\n\r\nI don&#39;t understand the following\r\n1. why despite explictly requesting for `BLUETOOTH_SCAN` does `bluetoothAdapter.startDiscovery()` statement complain about adding `BLUETOOTH_SCAN` permission\r\n2. why we need location permission for discovering bluetooth devices\r\n3. while going through the logs I came accross the following \r\n\r\n```\r\n3.1 D/BluetoothAdapterService: startDiscovery \r\n3.2 E/BluetoothUtils: Permission denial: Need ACCESS_FINE_LOCATION permission to get scan results \r\n```\r\n\r\n   despite I have asked for `ACCESS_FINE_LOCATION` permissions and it doesn&#39;t seem to go away\r\n4. what is this error\r\n\r\n```\r\n4.1 Could not connect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n```\r\n   what is wififorward do here ?\r\n\r\nI really confused, can someone pls explain this\r\n\r\n\r\nmy `MainActivity.java`\r\n\r\n```lang-java\r\n BluetoothAdapter bluetoothAdapter;\r\n\r\n\r\nBroadcastReceiver receiver = new BroadcastReceiver() {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        String action = intent.getAction();\r\n        Log.i(&quot;Action&quot;, action);\r\n    }\r\n};\r\n\r\n@SuppressLint(&quot;MissingPermission&quot;)\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    IntentFilter intent = new IntentFilter();\r\n    intent.addAction(BluetoothAdapter.ACTION_STATE_CHANGED);\r\n    intent.addAction(BluetoothDevice.ACTION_FOUND);\r\n    intent.addAction(BluetoothAdapter.ACTION_DISCOVERY_STARTED);\r\n    intent.addAction(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\r\n    registerReceiver(receiver, intent);\r\n\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 2);\r\n        }\r\n    }\r\n\r\n\r\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_SCAN}, 1);\r\n    }\r\n\r\n    try {\r\n        bluetoothAdapter.startDiscovery();\r\n        \r\n    }catch (Exception e){\r\n        \r\n        e.printStackTrace();\r\n    }\r\n\r\n}   \r\n```\r\n\r\nManifest file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.bf&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n   &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.BF&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.bf&quot;\r\n        minSdk 24\r\n        targetSdk 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\n\r\nhere is Logcat\r\n```\r\n2022-07-22 18:48:02.501 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to \r\nthe &#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-07-22 18:48:02.501 483-483/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: \r\nInvalid argument\r\n2022-07-22 18:48:04.160 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \r\nconnect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2022-07-22 18:48:04.160 490-490/? E/wifi_forwarder: RemoteConnection failed to \r\ninitialize: RemoteConnection failed to open pipe\r\n2022-07-22 18:48:12.419 1191-5141/? I/PhenotypeProcessReaper: Memory state is: 125\r\n2022-07-22 18:49:02.505 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to \r\nthe &#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-07-22 18:49:02.505 483-483/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: \r\nInvalid argument\r\n2022-07-22 18:49:04.222 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \r\nconnect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2022-07-22 18:49:04.222 490-490/? E/wifi_forwarder: RemoteConnection failed to \r\ninitialize: RemoteConnection failed to open pipe\r\n2022-07-22 18:49:11.493 2627-2671/? I/Finsky: [203] goa.run(17): Stats for Executor: \r\nBlockingExecutor ivq@4a9b5c1[Running, pool size = 0, active threads = 0, queued tasks = \r\n0, completed tasks = 442]\r\n2022-07-22 18:49:11.493 2627-2671/? I/Finsky: [203] goa.run(17): Stats for Executor: \r\nLightweightExecutor ivq@aefbca7[Running, pool size = 3, active threads = 0, queued tasks \r\n= 0, completed tasks = 700]\r\n2022-07-22 18:49:12.055 2627-2671/? I/Finsky: [203] goa.run(17): Stats for Executor: \r\nbgExecutor ivq@3b86554[Running, pool size = 4, active threads = 0, queued tasks = 0, \r\ncompleted tasks = 4014]\r\n2022-07-22 18:50:02.566 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to \r\nthe &#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-07-22 18:50:02.566 483-483/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: \r\nInvalid argument\r\n2022-07-22 18:50:04.228 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not   \r\nconnect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2022-07-22 18:50:04.228 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \r\nRemoteConnection failed to open pipe\r\n2022-07-22 18:50:29.450 1191-6722/? E/WakeLock: GCM_HB_ALARM release without a matched \r\nacquire!\r\n2022-07-22 18:51:02.567 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \r\n&#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-07-22 18:51:02.567 483-483/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: \r\nInvalid argument\r\n2022-07-22 18:51:04.238 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \r\nconnect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument \r\n2022-07-22 18:51:04.239 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \r\nRemoteConnection failed to open pipe\r\n2022-07-22 18:52:02.573 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \r\n&#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-07-22 18:52:02.573 483-483/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: \r\nInvalid argument\r\n2022-07-22 18:52:04.293 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \r\nconnect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2022-07-22 18:52:04.293 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \r\nRemoteConnection failed to open pipe\r\n2022-07-22 18:53:02.627 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \r\n&#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-07-22 18:53:02.628 483-483/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: \r\nInvalid argument\r\n2022-07-22 18:53:04.321 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \r\nconnect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2022-07-22 18:53:04.321 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \r\nRemoteConnection failed to open pipe\r\n2022-07-22 18:54:02.640 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \r\n&#39;pipe:qemud:network&#39; service: Invalid argument\r\n2022-07-22 18:54:02.640 483-483/? E/netmgr: Failed to open QEMU pipe &#39;qemud:network&#39;: \r\nInvalid argument\r\n2022-07-22 18:54:04.383 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \r\nconnect to the &#39;pipe:qemud:wififorward&#39; service: Invalid argument\r\n2022-07-22 18:54:04.383 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \r\nRemoteConnection failed to open pipe}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ","title":"error in descovering available bluetooth devices in android studio","body":"<p>I am trying to discover available bluetooth devices but it seems <code>bluetoothAdapter.startDiscovery()</code> is not starting for some reason</p>\n<p>I don't understand the following</p>\n<ol>\n<li>why despite explictly requesting for <code>BLUETOOTH_SCAN</code> does <code>bluetoothAdapter.startDiscovery()</code> statement complain about adding <code>BLUETOOTH_SCAN</code> permission</li>\n<li>why we need location permission for discovering bluetooth devices</li>\n<li>while going through the logs I came accross the following</li>\n</ol>\n<pre><code>3.1 D/BluetoothAdapterService: startDiscovery \n3.2 E/BluetoothUtils: Permission denial: Need ACCESS_FINE_LOCATION permission to get scan results \n</code></pre>\n<p>despite I have asked for <code>ACCESS_FINE_LOCATION</code> permissions and it doesn't seem to go away\n4. what is this error</p>\n<pre><code>4.1 Could not connect to the 'pipe:qemud:wififorward' service: Invalid argument\n</code></pre>\n<p>what is wififorward do here ?</p>\n<p>I really confused, can someone pls explain this</p>\n<p>my <code>MainActivity.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> BluetoothAdapter bluetoothAdapter;\n\n\nBroadcastReceiver receiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        Log.i(&quot;Action&quot;, action);\n    }\n};\n\n@SuppressLint(&quot;MissingPermission&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    IntentFilter intent = new IntentFilter();\n    intent.addAction(BluetoothAdapter.ACTION_STATE_CHANGED);\n    intent.addAction(BluetoothDevice.ACTION_FOUND);\n    intent.addAction(BluetoothAdapter.ACTION_DISCOVERY_STARTED);\n    intent.addAction(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\n    registerReceiver(receiver, intent);\n\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 2);\n        }\n    }\n\n\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n        requestPermissions(new String[]{Manifest.permission.BLUETOOTH_SCAN}, 1);\n    }\n\n    try {\n        bluetoothAdapter.startDiscovery();\n        \n    }catch (Exception e){\n        \n        e.printStackTrace();\n    }\n\n}   \n</code></pre>\n<p>Manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.bf&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n   &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.BF&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.bf&quot;\n        minSdk 24\n        targetSdk 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>here is Logcat</p>\n<pre><code>2022-07-22 18:48:02.501 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to \nthe 'pipe:qemud:network' service: Invalid argument\n2022-07-22 18:48:02.501 483-483/? E/netmgr: Failed to open QEMU pipe 'qemud:network': \nInvalid argument\n2022-07-22 18:48:04.160 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \nconnect to the 'pipe:qemud:wififorward' service: Invalid argument\n2022-07-22 18:48:04.160 490-490/? E/wifi_forwarder: RemoteConnection failed to \ninitialize: RemoteConnection failed to open pipe\n2022-07-22 18:48:12.419 1191-5141/? I/PhenotypeProcessReaper: Memory state is: 125\n2022-07-22 18:49:02.505 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to \nthe 'pipe:qemud:network' service: Invalid argument\n2022-07-22 18:49:02.505 483-483/? E/netmgr: Failed to open QEMU pipe 'qemud:network': \nInvalid argument\n2022-07-22 18:49:04.222 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \nconnect to the 'pipe:qemud:wififorward' service: Invalid argument\n2022-07-22 18:49:04.222 490-490/? E/wifi_forwarder: RemoteConnection failed to \ninitialize: RemoteConnection failed to open pipe\n2022-07-22 18:49:11.493 2627-2671/? I/Finsky: [203] goa.run(17): Stats for Executor: \nBlockingExecutor ivq@4a9b5c1[Running, pool size = 0, active threads = 0, queued tasks = \n0, completed tasks = 442]\n2022-07-22 18:49:11.493 2627-2671/? I/Finsky: [203] goa.run(17): Stats for Executor: \nLightweightExecutor ivq@aefbca7[Running, pool size = 3, active threads = 0, queued tasks \n= 0, completed tasks = 700]\n2022-07-22 18:49:12.055 2627-2671/? I/Finsky: [203] goa.run(17): Stats for Executor: \nbgExecutor ivq@3b86554[Running, pool size = 4, active threads = 0, queued tasks = 0, \ncompleted tasks = 4014]\n2022-07-22 18:50:02.566 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to \nthe 'pipe:qemud:network' service: Invalid argument\n2022-07-22 18:50:02.566 483-483/? E/netmgr: Failed to open QEMU pipe 'qemud:network': \nInvalid argument\n2022-07-22 18:50:04.228 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not   \nconnect to the 'pipe:qemud:wififorward' service: Invalid argument\n2022-07-22 18:50:04.228 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \nRemoteConnection failed to open pipe\n2022-07-22 18:50:29.450 1191-6722/? E/WakeLock: GCM_HB_ALARM release without a matched \nacquire!\n2022-07-22 18:51:02.567 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \n'pipe:qemud:network' service: Invalid argument\n2022-07-22 18:51:02.567 483-483/? E/netmgr: Failed to open QEMU pipe 'qemud:network': \nInvalid argument\n2022-07-22 18:51:04.238 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \nconnect to the 'pipe:qemud:wififorward' service: Invalid argument \n2022-07-22 18:51:04.239 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \nRemoteConnection failed to open pipe\n2022-07-22 18:52:02.573 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \n'pipe:qemud:network' service: Invalid argument\n2022-07-22 18:52:02.573 483-483/? E/netmgr: Failed to open QEMU pipe 'qemud:network': \nInvalid argument\n2022-07-22 18:52:04.293 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \nconnect to the 'pipe:qemud:wififorward' service: Invalid argument\n2022-07-22 18:52:04.293 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \nRemoteConnection failed to open pipe\n2022-07-22 18:53:02.627 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \n'pipe:qemud:network' service: Invalid argument\n2022-07-22 18:53:02.628 483-483/? E/netmgr: Failed to open QEMU pipe 'qemud:network': \nInvalid argument\n2022-07-22 18:53:04.321 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \nconnect to the 'pipe:qemud:wififorward' service: Invalid argument\n2022-07-22 18:53:04.321 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \nRemoteConnection failed to open pipe\n2022-07-22 18:54:02.640 483-483/? E/netmgr: qemu_pipe_open_ns:62: Could not connect to the \n'pipe:qemud:network' service: Invalid argument\n2022-07-22 18:54:02.640 483-483/? E/netmgr: Failed to open QEMU pipe 'qemud:network': \nInvalid argument\n2022-07-22 18:54:04.383 490-490/? E/wifi_forwarder: qemu_pipe_open_ns:62: Could not \nconnect to the 'pipe:qemud:wififorward' service: Invalid argument\n2022-07-22 18:54:04.383 490-490/? E/wifi_forwarder: RemoteConnection failed to initialize: \nRemoteConnection failed to open pipe}\n</code></pre>\n"},{"tags":["java","android","background","listener","survey"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1426780941,"post_id":29149429,"comment_id":46520962,"body_markdown":"If you want to have somebody write your code for you (&quot;i would like you to write me an example&quot;), please hire a consultant. Otherwise, please explain what you tried and what specific problems that you encountered. Or, explain what you think is different about whatever the Pollfish API exposes compared to using a `LocationListener`, so we can explain how to address those differences.","body":"If you want to have somebody write your code for you (&quot;i would like you to write me an example&quot;), please hire a consultant. Otherwise, please explain what you tried and what specific problems that you encountered. Or, explain what you think is different about whatever the Pollfish API exposes compared to using a <code>LocationListener</code>, so we can explain how to address those differences."},{"owner":{"account_id":2422085,"reputation":23,"user_id":2114837,"display_name":"user2114837"},"score":0,"creation_date":1426781089,"post_id":29149429,"comment_id":46521080,"body_markdown":"Ok sorry, could you show me how can i implement a listener in a service? Is it the same as location listener?","body":"Ok sorry, could you show me how can i implement a listener in a service? Is it the same as location listener?"}],"owner":{"account_id":2422085,"reputation":23,"user_id":2114837,"display_name":"user2114837"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1426818186,"answer_count":0,"score":2,"last_activity_date":1671843302,"creation_date":1426780794,"question_id":29149429,"body_markdown":"I&#39;m a new android developer so excuse me if i ask too much. The thing is i would like you to write me an example of the way i could listen, in background, for survey availability of pollfish (sdk documentation here: https://www.pollfish.com/android) using a service or something.\r\n\r\nI&#39;ve tried searching for background listeners in google but the only thing i found was about location background listeners.\r\n\r\nEdit:(He means to say is there a way to listen for survey availability even in the background when app is closed, and he can! by using background task and the alarm manager, if someone can, link to the answer will also help&#127995;).\r\n\r\nAny help is appreciated!","title":"Background listener for pollfish survey availability for android","body":"<p>I'm a new android developer so excuse me if i ask too much. The thing is i would like you to write me an example of the way i could listen, in background, for survey availability of pollfish (sdk documentation here: <a href=\"https://www.pollfish.com/android\" rel=\"nofollow noreferrer\">https://www.pollfish.com/android</a>) using a service or something.</p>\n<p>I've tried searching for background listeners in google but the only thing i found was about location background listeners.</p>\n<p>Edit:(He means to say is there a way to listen for survey availability even in the background when app is closed, and he can! by using background task and the alarm manager, if someone can, link to the answer will also help).</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["javascript","java","spring","websocket","spring-webflux"],"comments":[{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":0,"creation_date":1574209112,"post_id":58942599,"comment_id":104147986,"body_markdown":"Have you tried to set CORS configuration on your HandlerMapping?","body":"Have you tried to set CORS configuration on your HandlerMapping?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1574256395,"post_id":58942599,"comment_id":104166539,"body_markdown":"are the ports correct?","body":"are the ports correct?"},{"owner":{"account_id":8088563,"reputation":71,"user_id":6095286,"display_name":"At&#237;lio Ara&#250;jo"},"score":0,"creation_date":1574259716,"post_id":58942599,"comment_id":104168661,"body_markdown":"@FelipeBonfante yes, I have already tried CORS configuration but no luck. Anyway my Javascript code is running from inside a jsp file the application itself is serving.","body":"@FelipeBonfante yes, I have already tried CORS configuration but no luck. Anyway my Javascript code is running from inside a jsp file the application itself is serving."},{"owner":{"account_id":8088563,"reputation":71,"user_id":6095286,"display_name":"At&#237;lio Ara&#250;jo"},"score":0,"creation_date":1574259779,"post_id":58942599,"comment_id":104168696,"body_markdown":"@ThomasAndolf yes, they are. I have changed the default 8080 port as I have another application using it.","body":"@ThomasAndolf yes, they are. I have changed the default 8080 port as I have another application using it."}],"answers":[{"tags":[],"owner":{"account_id":8088563,"reputation":71,"user_id":6095286,"display_name":"At&#237;lio Ara&#250;jo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1574685880,"creation_date":1574685880,"answer_id":59032143,"question_id":58942599,"body_markdown":"I could make it work removing *spring-boot-starter-web* and *tomcat-embed-jasper* dependencies. I suppose *spring-boot-starter-web* might conflict with *spring-boot-starter-webflux*.\r\n\r\nAlso I have changed my *ReactiveWebSocketConfiguration* class to set *WebSocketService* bean using *ReactorNettyRequestUpgradeStrategy* instead of *TomcatRequestUpgradeStrategy*:\r\n\r\n    @Bean\r\n    public WebSocketService webSocketService() {\r\n\t\treturn new HandshakeWebSocketService(new ReactorNettyRequestUpgradeStrategy());\r\n    }\r\n\r\nAfter those changes my jsp pages stopped working as my web container changed from Tomcat to Netty Web Server.\r\nI had to use Thymeleaf (added *spring-boot-starter-thymeleaf* dependency, configured its basic strucute and converted my pages to .html files) instead of traditional jsp.\r\n\r\nI have opted to change from traditional jsp to Thymeleaf due to time constraints as my application has few and simple pages.\r\n\r\nI have created a very simple project with all those configuration including a dummy page connecting to the websocket via javascript.\r\n\r\nhttps://github.com/atilio-araujo/spring-webflux-websocket","title":"Spring WebFlux and WebSocket","body":"<p>I could make it work removing <em>spring-boot-starter-web</em> and <em>tomcat-embed-jasper</em> dependencies. I suppose <em>spring-boot-starter-web</em> might conflict with <em>spring-boot-starter-webflux</em>.</p>\n\n<p>Also I have changed my <em>ReactiveWebSocketConfiguration</em> class to set <em>WebSocketService</em> bean using <em>ReactorNettyRequestUpgradeStrategy</em> instead of <em>TomcatRequestUpgradeStrategy</em>:</p>\n\n<pre><code>@Bean\npublic WebSocketService webSocketService() {\n    return new HandshakeWebSocketService(new ReactorNettyRequestUpgradeStrategy());\n}\n</code></pre>\n\n<p>After those changes my jsp pages stopped working as my web container changed from Tomcat to Netty Web Server.\nI had to use Thymeleaf (added <em>spring-boot-starter-thymeleaf</em> dependency, configured its basic strucute and converted my pages to .html files) instead of traditional jsp.</p>\n\n<p>I have opted to change from traditional jsp to Thymeleaf due to time constraints as my application has few and simple pages.</p>\n\n<p>I have created a very simple project with all those configuration including a dummy page connecting to the websocket via javascript.</p>\n\n<p><a href=\"https://github.com/atilio-araujo/spring-webflux-websocket\" rel=\"nofollow noreferrer\">https://github.com/atilio-araujo/spring-webflux-websocket</a></p>\n"},{"comments":[{"owner":{"account_id":2475327,"reputation":693,"user_id":2156084,"accept_rate":88,"display_name":"Fariba"},"score":0,"creation_date":1623601636,"post_id":65163944,"comment_id":120120028,"body_markdown":"I would like to ask can we log client information in your example by ServerHttpRequest?  how in the websocket webflux we can log client information?","body":"I would like to ask can we log client information in your example by ServerHttpRequest?  how in the websocket webflux we can log client information?"}],"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1627398861,"creation_date":1607219961,"answer_id":65163944,"question_id":58942599,"body_markdown":"# Spring WebFlux WebSocket:\r\n\r\nJust adding this answer for people who are trying to achieve `websocket` with `webflux`.\r\n\r\n1. The OP has both `web` and `webflux` dependencies for some reason. However you just need `WebFlux` dependency only.  \r\n2. Implement a WebSocketHandler\r\n```\r\n    @Service\r\n    public class WebFluxWebSocketHandler implements WebSocketHandler {\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; handle(WebSocketSession webSocketSession) {\r\n            Flux&lt;WebSocketMessage&gt; stringFlux = webSocketSession.receive()\r\n                    .map(WebSocketMessage::getPayloadAsText)\r\n                    .map(String::toUpperCase)\r\n                    .map(webSocketSession::textMessage);\r\n            return webSocketSession.send(stringFlux);\r\n        }\r\n    \r\n    }\r\n```\r\n3. Add a path - handler mapping. Here the handler is an instance of the websockethandler.\r\n\r\n ```\r\n      @Bean\r\n        public HandlerMapping handlerMapping(){\r\n            Map&lt;String, WebFluxWebSocketHandler&gt; handlerMap = Map.of(\r\n                    &quot;/test&quot;, handler\r\n            );\r\n            return new SimpleUrlHandlerMapping(handlerMap, 1);\r\n        }\r\n```\r\n\r\nThat&#39;s it! Now the client should be able to connect to `ws://localhost:8080/test`\r\n\r\nCheck here for more info - https://www.vinsguru.com/spring-webflux-websocket/","title":"Spring WebFlux and WebSocket","body":"<h1 id=\"spring-webflux-websocket-bwce\">Spring WebFlux WebSocket:</h1>\n<p>Just adding this answer for people who are trying to achieve <code>websocket</code> with <code>webflux</code>.</p>\n<ol>\n<li>The OP has both <code>web</code> and <code>webflux</code> dependencies for some reason. However you just need <code>WebFlux</code> dependency only.</li>\n<li>Implement a WebSocketHandler</li>\n</ol>\n<pre><code>    @Service\n    public class WebFluxWebSocketHandler implements WebSocketHandler {\n    \n        @Override\n        public Mono&lt;Void&gt; handle(WebSocketSession webSocketSession) {\n            Flux&lt;WebSocketMessage&gt; stringFlux = webSocketSession.receive()\n                    .map(WebSocketMessage::getPayloadAsText)\n                    .map(String::toUpperCase)\n                    .map(webSocketSession::textMessage);\n            return webSocketSession.send(stringFlux);\n        }\n    \n    }\n</code></pre>\n<ol start=\"3\">\n<li>Add a path - handler mapping. Here the handler is an instance of the websockethandler.</li>\n</ol>\n<pre><code>     @Bean\n       public HandlerMapping handlerMapping(){\n           Map&lt;String, WebFluxWebSocketHandler&gt; handlerMap = Map.of(\n                   &quot;/test&quot;, handler\n           );\n           return new SimpleUrlHandlerMapping(handlerMap, 1);\n       }\n</code></pre>\n<p>That's it! Now the client should be able to connect to <code>ws://localhost:8080/test</code></p>\n<p>Check here for more info - <a href=\"https://www.vinsguru.com/spring-webflux-websocket/\" rel=\"nofollow noreferrer\">https://www.vinsguru.com/spring-webflux-websocket/</a></p>\n"}],"owner":{"account_id":8088563,"reputation":71,"user_id":6095286,"display_name":"At&#237;lio Ara&#250;jo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59032143,"answer_count":2,"score":2,"last_activity_date":1671842658,"creation_date":1574196631,"question_id":58942599,"body_markdown":"I am trying to add WebSocket functionality to an existing application which uses Spring WebFlux. It uses:\r\n\r\n - Spring boot 2.2.1.RELEASE\r\n - Tomcat container\r\n - Configured to serve jsp pages\r\n\r\nWhen I try to connect to it through JavaScript (from inside a jsp page) I am receiving the error &quot;*failed: Error during WebSocket handshake: Unexpected response code: 404*&quot;\r\n\r\nI noted that if I create a controller class mapping url &#39;/ws/event-emitter&#39; (the one mapped in my websocket configuration) accepting GET requests, it receives the requests from Javascript call when it tries to open the websocket connection, which made me more confused.\r\n\r\nWhat am I missing?\r\n\r\nAfter read some tutorials on the Internet I set my configuration as below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;br.com.samsung&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;monitor&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;monitor&lt;/name&gt;\r\n\t&lt;description&gt;Health Check Monitor&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.projectreactor&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;reactor-spring&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- MongoDB --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;Lovelace-SR9&lt;/version&gt;\r\n\t\t    &lt;type&gt;pom&lt;/type&gt;\r\n\t\t    &lt;scope&gt;import&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n    @Configuration\r\n    public class ReactiveWebSocketConfiguration {\r\n\r\n        @Autowired\r\n        private WebSocketHandler webSocketHandler;\r\n\r\n        @Bean\r\n        public HandlerMapping webSocketHandlerMapping() {\r\n            Map&lt;String, WebSocketHandler&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;/ws/event-emitter&quot;, webSocketHandler);\r\n\r\n            SimpleUrlHandlerMapping handlerMapping = new SimpleUrlHandlerMapping();\r\n            handlerMapping.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n            handlerMapping.setUrlMap(map);\r\n            return handlerMapping;\r\n        }\r\n\r\n        @Bean\r\n        public WebSocketHandlerAdapter handlerAdapter(WebSocketService webSocketService) {\r\n            return new WebSocketHandlerAdapter(webSocketService);\r\n        }\r\n \r\n        @Bean\r\n        public WebSocketService webSocketService() {\r\n\t    \tTomcatRequestUpgradeStrategy strategy = new TomcatRequestUpgradeStrategy();\r\n\t    \tstrategy.setMaxSessionIdleTimeout(0L);\r\n\t    \treturn new HandshakeWebSocketService(strategy);\r\n        }\r\n\r\n    }\r\n\r\nand the Web socket handler class\r\n\r\n\r\n    @Component\r\n    public class ReactiveWebSocketHandler implements WebSocketHandler {\r\n\r\n        private static final ObjectMapper json = new ObjectMapper();\r\n\r\n        private Flux&lt;String&gt; eventFlux = Flux.generate(sink -&gt; {\r\n            Event event = new Event(randomUUID().toString(), now().toString());\r\n            try {\r\n                sink.next(json.writeValueAsString(event));\r\n            } catch (JsonProcessingException e) {\r\n                sink.error(e);\r\n            }\r\n        });\r\n\r\n        private Flux&lt;String&gt; intervalFlux = Flux.interval(Duration.ofMillis(1000L))\r\n          .zipWith(eventFlux, (time, event) -&gt; event);\r\n\r\n        @Override\r\n        public Mono&lt;Void&gt; handle(WebSocketSession webSocketSession) {\r\n            return webSocketSession.send(intervalFlux\r\n              .map(webSocketSession::textMessage))\r\n              .and(webSocketSession.receive()\r\n                .map(WebSocketMessage::getPayloadAsText).log());\r\n        }\r\n\r\n    }\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var clientWebSocket = new WebSocket(&quot;ws://localhost:6600/ws/event-emitter&quot;);\r\n    clientWebSocket.onopen = function() {\r\n      console.log(&quot;clientWebSocket.onopen&quot;, clientWebSocket);\r\n      console.log(&quot;clientWebSocket.readyState&quot;, &quot;websocketstatus&quot;);\r\n      clientWebSocket.send(&quot;event-me-from-browser&quot;);\r\n    }\r\n    clientWebSocket.onclose = function(error) {\r\n      console.log(&quot;clientWebSocket.onclose&quot;, clientWebSocket, error);\r\n      events(&quot;Closing connection&quot;);\r\n    }\r\n    clientWebSocket.onerror = function(error) {\r\n      console.log(&quot;clientWebSocket.onerror&quot;, clientWebSocket, error);\r\n      events(&quot;An error occured&quot;);\r\n    }\r\n    clientWebSocket.onmessage = function(error) {\r\n      console.log(&quot;clientWebSocket.onmessage&quot;, clientWebSocket, error);\r\n      events(error.data);\r\n    }\r\n\r\n    function events(responseEvent) {\r\n      document.querySelector(&quot;.events&quot;).innerHTML += responseEvent + &quot;&lt;br&gt;&quot;;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring WebFlux and WebSocket","body":"<p>I am trying to add WebSocket functionality to an existing application which uses Spring WebFlux. It uses:</p>\n<ul>\n<li>Spring boot 2.2.1.RELEASE</li>\n<li>Tomcat container</li>\n<li>Configured to serve jsp pages</li>\n</ul>\n<p>When I try to connect to it through JavaScript (from inside a jsp page) I am receiving the error &quot;<em>failed: Error during WebSocket handshake: Unexpected response code: 404</em>&quot;</p>\n<p>I noted that if I create a controller class mapping url '/ws/event-emitter' (the one mapped in my websocket configuration) accepting GET requests, it receives the requests from Javascript call when it tries to open the websocket connection, which made me more confused.</p>\n<p>What am I missing?</p>\n<p>After read some tutorials on the Internet I set my configuration as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.2.1.RELEASE\n \n\nbr.com.samsung\nmonitor\n0.0.1-SNAPSHOT\nmonitor\nHealth Check Monitor</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n     --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- MongoDB --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\n        &lt;version&gt;Lovelace-SR9&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<pre><code>@Configuration\npublic class ReactiveWebSocketConfiguration {\n\n    @Autowired\n    private WebSocketHandler webSocketHandler;\n\n    @Bean\n    public HandlerMapping webSocketHandlerMapping() {\n        Map&lt;String, WebSocketHandler&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;/ws/event-emitter&quot;, webSocketHandler);\n\n        SimpleUrlHandlerMapping handlerMapping = new SimpleUrlHandlerMapping();\n        handlerMapping.setOrder(Ordered.HIGHEST_PRECEDENCE);\n        handlerMapping.setUrlMap(map);\n        return handlerMapping;\n    }\n\n    @Bean\n    public WebSocketHandlerAdapter handlerAdapter(WebSocketService webSocketService) {\n        return new WebSocketHandlerAdapter(webSocketService);\n    }\n\n    @Bean\n    public WebSocketService webSocketService() {\n        TomcatRequestUpgradeStrategy strategy = new TomcatRequestUpgradeStrategy();\n        strategy.setMaxSessionIdleTimeout(0L);\n        return new HandshakeWebSocketService(strategy);\n    }\n\n}\n</code></pre>\n<p>and the Web socket handler class</p>\n<pre><code>@Component\npublic class ReactiveWebSocketHandler implements WebSocketHandler {\n\n    private static final ObjectMapper json = new ObjectMapper();\n\n    private Flux&lt;String&gt; eventFlux = Flux.generate(sink -&gt; {\n        Event event = new Event(randomUUID().toString(), now().toString());\n        try {\n            sink.next(json.writeValueAsString(event));\n        } catch (JsonProcessingException e) {\n            sink.error(e);\n        }\n    });\n\n    private Flux&lt;String&gt; intervalFlux = Flux.interval(Duration.ofMillis(1000L))\n      .zipWith(eventFlux, (time, event) -&gt; event);\n\n    @Override\n    public Mono&lt;Void&gt; handle(WebSocketSession webSocketSession) {\n        return webSocketSession.send(intervalFlux\n          .map(webSocketSession::textMessage))\n          .and(webSocketSession.receive()\n            .map(WebSocketMessage::getPayloadAsText).log());\n    }\n\n}\n</code></pre>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var clientWebSocket = new WebSocket(\"ws://localhost:6600/ws/event-emitter\");\nclientWebSocket.onopen = function() {\n  console.log(\"clientWebSocket.onopen\", clientWebSocket);\n  console.log(\"clientWebSocket.readyState\", \"websocketstatus\");\n  clientWebSocket.send(\"event-me-from-browser\");\n}\nclientWebSocket.onclose = function(error) {\n  console.log(\"clientWebSocket.onclose\", clientWebSocket, error);\n  events(\"Closing connection\");\n}\nclientWebSocket.onerror = function(error) {\n  console.log(\"clientWebSocket.onerror\", clientWebSocket, error);\n  events(\"An error occured\");\n}\nclientWebSocket.onmessage = function(error) {\n  console.log(\"clientWebSocket.onmessage\", clientWebSocket, error);\n  events(error.data);\n}\n\nfunction events(responseEvent) {\n  document.querySelector(\".events\").innerHTML += responseEvent + \"&lt;br&gt;\";\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-mvc","ip-address"],"comments":[{"owner":{"account_id":17040681,"reputation":61,"user_id":12328657,"display_name":"Dilip G"},"score":0,"creation_date":1574358878,"post_id":22877350,"comment_id":104214763,"body_markdown":"Try using Spring AOP and handling HttpServletRequest.\nhttps://stackoverflow.com/questions/19271807/how-to-inject-httpservletrequest-into-a-spring-aop-request-custom-scenario","body":"Try using Spring AOP and handling HttpServletRequest. <a href=\"https://stackoverflow.com/questions/19271807/how-to-inject-httpservletrequest-into-a-spring-aop-request-custom-scenario\" title=\"how to inject httpservletrequest into a spring aop request custom scenario\">stackoverflow.com/questions/19271807/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":2,"creation_date":1396679799,"post_id":22877465,"comment_id":34907607,"body_markdown":"Thanks Koitoer for the help. One quick question, suppose if the call is coming from Load Balancer instead of specific machine then this will work as well? I guess not..","body":"Thanks Koitoer for the help. One quick question, suppose if the call is coming from Load Balancer instead of specific machine then this will work as well? I guess not.."},{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1396679866,"post_id":22877465,"comment_id":34907627,"body_markdown":"No it wont, but there are some configuration in the loadbalancer that can send the IP as they does not exist, probably this is your case","body":"No it wont, but there are some configuration in the loadbalancer that can send the IP as they does not exist, probably this is your case"},{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":1,"creation_date":1396679941,"post_id":22877465,"comment_id":34907647,"body_markdown":"Check probably load balancer can send those values in a header, so consider using getHeader method of HttpServletRequest.","body":"Check probably load balancer can send those values in a header, so consider using getHeader method of HttpServletRequest."},{"owner":{"account_id":3922468,"reputation":6689,"user_id":3244185,"display_name":"Harshal Patil"},"score":0,"creation_date":1396680941,"post_id":22877465,"comment_id":34907859,"body_markdown":"Koitoer It works perfectly!! But there is any other way rather than HttpServletRequest.","body":"Koitoer It works perfectly!! But there is any other way rather than HttpServletRequest."},{"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"score":0,"creation_date":1396772141,"post_id":22877465,"comment_id":34932798,"body_markdown":"Also you could use HttpSession but then extract HttpServletRequest lol.. Actually I think the question is there is another way to send the IP information in the request, if the answer is positive there could be another ways to extract, but use the API in the common way I don&#39;t even know any other option . If you add the IP in the headers, you can extract them and read the IP info, but this is a customization of the headers, that you can extract with HttpSession object","body":"Also you could use HttpSession but then extract HttpServletRequest lol.. Actually I think the question is there is another way to send the IP information in the request, if the answer is positive there could be another ways to extract, but use the API in the common way I don&#39;t even know any other option . If you add the IP in the headers, you can extract them and read the IP info, but this is a customization of the headers, that you can extract with HttpSession object"},{"owner":{"account_id":406051,"reputation":765,"user_id":775325,"accept_rate":56,"display_name":"Dipesh Gandhi"},"score":1,"creation_date":1430533900,"post_id":22877465,"comment_id":48114959,"body_markdown":"I am getting wrong ip address (0:0:0:0:0:0:0:1) if the request from postman. Do anyone have idea, how to get ip address even if the request from the postman?","body":"I am getting wrong ip address (0:0:0:0:0:0:0:1) if the request from postman. Do anyone have idea, how to get ip address even if the request from the postman?"},{"owner":{"account_id":1568778,"reputation":5404,"user_id":1456962,"accept_rate":73,"display_name":"code"},"score":1,"creation_date":1453514243,"post_id":22877465,"comment_id":57649003,"body_markdown":"I&#39;m also getting 0:0:0:0:0:0:0:1","body":"I&#39;m also getting 0:0:0:0:0:0:0:1"},{"owner":{"account_id":4166869,"reputation":1208,"user_id":3488735,"accept_rate":82,"display_name":"Gewure"},"score":1,"creation_date":1525739419,"post_id":22877465,"comment_id":87465879,"body_markdown":"This is deprecated.","body":"This is deprecated."},{"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"score":0,"creation_date":1665397480,"post_id":22877465,"comment_id":130682906,"body_markdown":"@DipeshGandhi were you able to resolve your problem? I am also getting `(0:0:0:0:0:0:0:1)` through postman. Were you able to get pubic IP address?","body":"@DipeshGandhi were you able to resolve your problem? I am also getting <code>(0:0:0:0:0:0:0:1)</code> through postman. Were you able to get pubic IP address?"}],"tags":[],"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"comment_count":9,"down_vote_count":1,"up_vote_count":192,"is_accepted":true,"score":191,"last_activity_date":1396679599,"creation_date":1396679599,"answer_id":22877465,"question_id":22877350,"body_markdown":"The solution is \r\n\r\n    @RequestMapping(value = &quot;processing&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody ProcessResponse processData(@RequestParam(&quot;workflow&quot;) final String workflow,\r\n        @RequestParam(&quot;conf&quot;) final String value, @RequestParam(&quot;dc&quot;) final String dc, HttpServletRequest request) {\r\n    \r\n            System.out.println(workflow);\r\n            System.out.println(value);\r\n            System.out.println(dc);\r\n            System.out.println(request.getRemoteAddr());\r\n            // some other code\r\n        }\r\n\r\nAdd `HttpServletRequest request` to your method definition and then use the Servlet API\r\n\r\n\r\nSpring Documentation [here][1] said in \r\n\r\n&gt; 15.3.2.3 Supported handler method arguments and return types\r\n\r\n    Handler methods that are annotated with @RequestMapping can have very flexible signatures.\r\n    Most of them can be used in arbitrary order (see below for more details).\r\n    \r\n    Request or response objects (Servlet API). Choose any specific request or response type,\r\n    for example ServletRequest or HttpServletRequest\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/mvc.html","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>The solution is </p>\n\n<pre><code>@RequestMapping(value = \"processing\", method = RequestMethod.GET)\npublic @ResponseBody ProcessResponse processData(@RequestParam(\"workflow\") final String workflow,\n    @RequestParam(\"conf\") final String value, @RequestParam(\"dc\") final String dc, HttpServletRequest request) {\n\n        System.out.println(workflow);\n        System.out.println(value);\n        System.out.println(dc);\n        System.out.println(request.getRemoteAddr());\n        // some other code\n    }\n</code></pre>\n\n<p>Add <code>HttpServletRequest request</code> to your method definition and then use the Servlet API</p>\n\n<p>Spring Documentation <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/mvc.html\">here</a> said in </p>\n\n<blockquote>\n  <p>15.3.2.3 Supported handler method arguments and return types</p>\n</blockquote>\n\n<pre><code>Handler methods that are annotated with @RequestMapping can have very flexible signatures.\nMost of them can be used in arbitrary order (see below for more details).\n\nRequest or response objects (Servlet API). Choose any specific request or response type,\nfor example ServletRequest or HttpServletRequest\n</code></pre>\n"},{"comments":[{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":15,"creation_date":1462508535,"post_id":29641322,"comment_id":61674563,"body_markdown":"Note that `X-Forwarded-For` is generally a comma-separated list of ips, with each proxy in the chain adding the remote address it sees to the list. So a good implementation would generally have a list of trusted proxies and &quot;skip&quot; those ips when reading this header from right to left.","body":"Note that <code>X-Forwarded-For</code> is generally a comma-separated list of ips, with each proxy in the chain adding the remote address it sees to the list. So a good implementation would generally have a list of trusted proxies and &quot;skip&quot; those ips when reading this header from right to left."},{"owner":{"account_id":224471,"reputation":820,"user_id":2633456,"accept_rate":67,"display_name":"Muneeb Mirza"},"score":0,"creation_date":1485511734,"post_id":29641322,"comment_id":70964816,"body_markdown":"how to get ip address as 111.111.111.111/X","body":"how to get ip address as 111.111.111.111/X"},{"owner":{"account_id":6576261,"reputation":618,"user_id":5082182,"display_name":"Gediminas Rimsa"},"score":8,"creation_date":1610096875,"post_id":29641322,"comment_id":116029197,"body_markdown":"Note that e.g. Tomcat has `RemoteIpValve` that parses `X-Forwarded-For` header and sets it on the `HttpServletRequest`, so that `servletRequest.getRemoteAddr()` returns correct end-user IP address.\n\nIn Spring Boot it can be enabled via `server.tomcat.remote-ip-header=X-Forwarded-For` application property","body":"Note that e.g. Tomcat has <code>RemoteIpValve</code> that parses <code>X-Forwarded-For</code> header and sets it on the <code>HttpServletRequest</code>, so that <code>servletRequest.getRemoteAddr()</code> returns correct end-user IP address.  In Spring Boot it can be enabled via <code>server.tomcat.remote-ip-header=X-Forwarded-For</code> application property"},{"owner":{"account_id":3266323,"reputation":12565,"user_id":2750743,"display_name":"Klesun"},"score":1,"creation_date":1630696153,"post_id":29641322,"comment_id":122036221,"body_markdown":"Can&#39;t `X-FORWARDED-FOR` header be spoofed by the client? Wouldn&#39;t it be safer to only assume `X-FORWARDED-FOR` valid if `getRemoteAddr()` belongs to a whitelist of credible  proxy service providers?","body":"Can&#39;t <code>X-FORWARDED-FOR</code> header be spoofed by the client? Wouldn&#39;t it be safer to only assume <code>X-FORWARDED-FOR</code> valid if <code>getRemoteAddr()</code> belongs to a whitelist of credible  proxy service providers?"},{"owner":{"account_id":5382172,"reputation":580,"user_id":4287124,"display_name":"icguy"},"score":0,"creation_date":1634837188,"post_id":29641322,"comment_id":123140616,"body_markdown":"Spring boot is able to automatically resolve the forwarded IP address for you. See [this question](https://stackoverflow.com/questions/59126518/how-to-cope-with-x-forwarded-headers-in-spring-boot-2-2-0-spring-web-mvc-behin) for details.","body":"Spring boot is able to automatically resolve the forwarded IP address for you. See <a href=\"https://stackoverflow.com/questions/59126518/how-to-cope-with-x-forwarded-headers-in-spring-boot-2-2-0-spring-web-mvc-behin\">this question</a> for details."}],"tags":[],"owner":{"account_id":3882891,"reputation":2008,"user_id":3214988,"display_name":"sunitkatkar"},"comment_count":5,"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1671842289,"creation_date":1429070119,"answer_id":29641322,"question_id":22877350,"body_markdown":"I am late here, but this might help someone looking for the answer. Typically `servletRequest.getRemoteAddr()` works. \r\n\r\nIn many cases your application users might be accessing your web server via a proxy server or maybe your application is behind a load balancer.\r\n\r\nSo you should access the [**X-Forwarded-For**][1] http header in such a case to get the user&#39;s IP address.\r\n\r\ne.g. `String ipAddress = request.getHeader(&quot;X-FORWARDED-FOR&quot;);`\r\n\r\n  [1]: http://en.wikipedia.org/wiki/X-Forwarded-For","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>I am late here, but this might help someone looking for the answer. Typically <code>servletRequest.getRemoteAddr()</code> works.</p>\n<p>In many cases your application users might be accessing your web server via a proxy server or maybe your application is behind a load balancer.</p>\n<p>So you should access the <a href=\"http://en.wikipedia.org/wiki/X-Forwarded-For\" rel=\"noreferrer\"><strong>X-Forwarded-For</strong></a> http header in such a case to get the user's IP address.</p>\n<p>e.g. <code>String ipAddress = request.getHeader(&quot;X-FORWARDED-FOR&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":6649080,"reputation":10675,"user_id":5131937,"accept_rate":67,"display_name":"Radouane ROUFID"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1495379674,"creation_date":1495379359,"answer_id":44098402,"question_id":22877350,"body_markdown":"You can get the IP address statically from the `RequestContextHolder` as below : \r\n\r\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\r\n            .getRequest();\r\n\r\n    String ip = request.getRemoteAddr();\r\n\r\n","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>You can get the IP address statically from the <code>RequestContextHolder</code> as below : </p>\n\n<pre><code>HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\n        .getRequest();\n\nString ip = request.getRemoteAddr();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":230293,"reputation":8818,"user_id":493807,"accept_rate":84,"display_name":"Andy"},"score":4,"creation_date":1566234758,"post_id":55025170,"comment_id":101584171,"body_markdown":"This could cause issues with concurrent use of the controller across multiple threads. Only singletons should be injected into `@Controller` instances using `@Autowired`. Otherwise, you must use `@Scope(BeanDefinition.SCOPE_PROTOTYPE)` on the controller class to ensure that a new instance of the controller is made with every request. This is less efficient, but is a workaround if you must inject something as a property to the controller class.","body":"This could cause issues with concurrent use of the controller across multiple threads. Only singletons should be injected into <code>@Controller</code> instances using <code>@Autowired</code>. Otherwise, you must use <code>@Scope(BeanDefinition.SCOPE_PROTOTYPE)</code> on the controller class to ensure that a new instance of the controller is made with every request. This is less efficient, but is a workaround if you must inject something as a property to the controller class."}],"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1551881708,"creation_date":1551881708,"answer_id":55025170,"question_id":22877350,"body_markdown":"Below is the Spring way, with `autowired` request bean in `@Controller` class:\r\n\r\n    @Autowired \r\n    private HttpServletRequest request;\r\n    \r\n    System.out.println(request.getRemoteHost());\r\n    \r\n    ","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>Below is the Spring way, with <code>autowired</code> request bean in <code>@Controller</code> class:</p>\n\n<pre><code>@Autowired \nprivate HttpServletRequest request;\n\nSystem.out.println(request.getRemoteHost());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"score":2,"creation_date":1575978561,"post_id":55266907,"comment_id":104740611,"body_markdown":"where do i use it ?","body":"where do i use it ?"},{"owner":{"account_id":9844516,"reputation":401,"user_id":7292536,"display_name":"Manuel Larrota"},"score":0,"creation_date":1625768544,"post_id":55266907,"comment_id":120722326,"body_markdown":"It is a static class, it uses the name of the class and the method\n\nip = HttpReqRespUtils.getClientIpAddressIfServletRequestExist();","body":"It is a static class, it uses the name of the class and the method  ip = HttpReqRespUtils.getClientIpAddressIfServletRequestExist();"},{"owner":{"account_id":6797655,"reputation":975,"user_id":5232255,"display_name":"Jason Law"},"score":1,"creation_date":1633576353,"post_id":55266907,"comment_id":122798034,"body_markdown":"For those who are wondering why return `0.0.0.0` when `RequestContextHolder.getRequestAttributes() == null`, see [0.0.0.0 - Wikipedia](https://en.wikipedia.org/wiki/0.0.0.0).","body":"For those who are wondering why return <code>0.0.0.0</code> when <code>RequestContextHolder.getRequestAttributes() == null</code>, see <a href=\"https://en.wikipedia.org/wiki/0.0.0.0\" rel=\"nofollow noreferrer\">0.0.0.0 - Wikipedia</a>."},{"owner":{"account_id":1180483,"reputation":3616,"user_id":1155514,"display_name":"Muhammad Tariq"},"score":1,"creation_date":1642569381,"post_id":55266907,"comment_id":125102636,"body_markdown":"Add `if (ip.equals(&quot;0:0:0:0:0:0:0:1&quot;)) ip = &quot;127.0.0.1&quot;;` before `return ip` statement in the above code to make it IPv4 complaint.","body":"Add <code>if (ip.equals(&quot;0:0:0:0:0:0:0:1&quot;)) ip = &quot;127.0.0.1&quot;;</code> before <code>return ip</code> statement in the above code to make it IPv4 complaint."}],"tags":[],"owner":{"account_id":4356026,"reputation":1989,"user_id":3554624,"display_name":"panser"},"comment_count":4,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1573665475,"creation_date":1553103057,"answer_id":55266907,"question_id":22877350,"body_markdown":"I use such method to do this\r\n\r\n```\r\npublic class HttpReqRespUtils {\r\n\r\n    private static final String[] IP_HEADER_CANDIDATES = {\r\n        &quot;X-Forwarded-For&quot;,\r\n        &quot;Proxy-Client-IP&quot;,\r\n        &quot;WL-Proxy-Client-IP&quot;,\r\n        &quot;HTTP_X_FORWARDED_FOR&quot;,\r\n        &quot;HTTP_X_FORWARDED&quot;,\r\n        &quot;HTTP_X_CLUSTER_CLIENT_IP&quot;,\r\n        &quot;HTTP_CLIENT_IP&quot;,\r\n        &quot;HTTP_FORWARDED_FOR&quot;,\r\n        &quot;HTTP_FORWARDED&quot;,\r\n        &quot;HTTP_VIA&quot;,\r\n        &quot;REMOTE_ADDR&quot;\r\n    };\r\n\r\n    public static String getClientIpAddressIfServletRequestExist() {\r\n\r\n        if (RequestContextHolder.getRequestAttributes() == null) {\r\n            return &quot;0.0.0.0&quot;;\r\n        }\r\n\r\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n        for (String header: IP_HEADER_CANDIDATES) {\r\n            String ipList = request.getHeader(header);\r\n            if (ipList != null &amp;&amp; ipList.length() != 0 &amp;&amp; !&quot;unknown&quot;.equalsIgnoreCase(ipList)) {\r\n                String ip = ipList.split(&quot;,&quot;)[0];\r\n                return ip;\r\n            }\r\n        }\r\n\r\n        return request.getRemoteAddr();\r\n    }\r\n}\r\n```","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>I use such method to do this</p>\n\n<pre><code>public class HttpReqRespUtils {\n\n    private static final String[] IP_HEADER_CANDIDATES = {\n        \"X-Forwarded-For\",\n        \"Proxy-Client-IP\",\n        \"WL-Proxy-Client-IP\",\n        \"HTTP_X_FORWARDED_FOR\",\n        \"HTTP_X_FORWARDED\",\n        \"HTTP_X_CLUSTER_CLIENT_IP\",\n        \"HTTP_CLIENT_IP\",\n        \"HTTP_FORWARDED_FOR\",\n        \"HTTP_FORWARDED\",\n        \"HTTP_VIA\",\n        \"REMOTE_ADDR\"\n    };\n\n    public static String getClientIpAddressIfServletRequestExist() {\n\n        if (RequestContextHolder.getRequestAttributes() == null) {\n            return \"0.0.0.0\";\n        }\n\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n        for (String header: IP_HEADER_CANDIDATES) {\n            String ipList = request.getHeader(header);\n            if (ipList != null &amp;&amp; ipList.length() != 0 &amp;&amp; !\"unknown\".equalsIgnoreCase(ipList)) {\n                String ip = ipList.split(\",\")[0];\n                return ip;\n            }\n        }\n\n        return request.getRemoteAddr();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565440732,"creation_date":1565440732,"answer_id":57442234,"question_id":22877350,"body_markdown":"Put this method in your BaseController:\r\n\r\n    @SuppressWarnings(&quot;ConstantConditions&quot;)\r\n    protected String fetchClientIpAddr() {\r\n        HttpServletRequest request = ((ServletRequestAttributes) (RequestContextHolder.getRequestAttributes())).getRequest();\r\n        String ip = Optional.ofNullable(request.getHeader(&quot;X-FORWARDED-FOR&quot;)).orElse(request.getRemoteAddr());\r\n        if (ip.equals(&quot;0:0:0:0:0:0:0:1&quot;)) ip = &quot;127.0.0.1&quot;;\r\n        Assert.isTrue(ip.chars().filter($ -&gt; $ == &#39;.&#39;).count() == 3, &quot;Illegal IP: &quot; + ip);\r\n        return ip;\r\n    }","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>Put this method in your BaseController:</p>\n\n<pre><code>@SuppressWarnings(\"ConstantConditions\")\nprotected String fetchClientIpAddr() {\n    HttpServletRequest request = ((ServletRequestAttributes) (RequestContextHolder.getRequestAttributes())).getRequest();\n    String ip = Optional.ofNullable(request.getHeader(\"X-FORWARDED-FOR\")).orElse(request.getRemoteAddr());\n    if (ip.equals(\"0:0:0:0:0:0:0:1\")) ip = \"127.0.0.1\";\n    Assert.isTrue(ip.chars().filter($ -&gt; $ == '.').count() == 3, \"Illegal IP: \" + ip);\n    return ip;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7179860,"reputation":141,"user_id":5484266,"display_name":"Vagner Nogueira"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1572800849,"creation_date":1572800849,"answer_id":58682577,"question_id":22877350,"body_markdown":"See below. This code works with spring-boot and spring-boot + apache CXF/SOAP.\r\n\r\n```\r\n    // in your class RequestUtil\r\n    private static final String[] IP_HEADER_NAMES = { \r\n                                                        &quot;X-Forwarded-For&quot;,\r\n                                                        &quot;Proxy-Client-IP&quot;,\r\n                                                        &quot;WL-Proxy-Client-IP&quot;,\r\n                                                        &quot;HTTP_X_FORWARDED_FOR&quot;,\r\n                                                        &quot;HTTP_X_FORWARDED&quot;,\r\n                                                        &quot;HTTP_X_CLUSTER_CLIENT_IP&quot;,\r\n                                                        &quot;HTTP_CLIENT_IP&quot;,\r\n                                                        &quot;HTTP_FORWARDED_FOR&quot;,\r\n                                                        &quot;HTTP_FORWARDED&quot;,\r\n                                                        &quot;HTTP_VIA&quot;,\r\n                                                        &quot;REMOTE_ADDR&quot;\r\n                                                    };\r\n\r\n    public static String getRemoteIP(RequestAttributes requestAttributes)\r\n    {\r\n        if (requestAttributes == null)\r\n        {\r\n            return &quot;0.0.0.0&quot;;\r\n        }\r\n        HttpServletRequest request = ((ServletRequestAttributes) requestAttributes).getRequest();\r\n        String ip = Arrays.asList(IP_HEADER_NAMES)\r\n            .stream()\r\n            .map(request::getHeader)\r\n            .filter(h -&gt; h != null &amp;&amp; h.length() != 0 &amp;&amp; !&quot;unknown&quot;.equalsIgnoreCase(h))\r\n            .map(h -&gt; h.split(&quot;,&quot;)[0])\r\n            .reduce(&quot;&quot;, (h1, h2) -&gt; h1 + &quot;:&quot; + h2);\r\n        return ip + request.getRemoteAddr();\r\n    }\r\n\r\n    //... in service class:\r\n    String remoteAddress = RequestUtil.getRemoteIP(RequestContextHolder.currentRequestAttributes());\r\n```\r\n\r\n:)","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>See below. This code works with spring-boot and spring-boot + apache CXF/SOAP.</p>\n\n<pre><code>    // in your class RequestUtil\n    private static final String[] IP_HEADER_NAMES = { \n                                                        \"X-Forwarded-For\",\n                                                        \"Proxy-Client-IP\",\n                                                        \"WL-Proxy-Client-IP\",\n                                                        \"HTTP_X_FORWARDED_FOR\",\n                                                        \"HTTP_X_FORWARDED\",\n                                                        \"HTTP_X_CLUSTER_CLIENT_IP\",\n                                                        \"HTTP_CLIENT_IP\",\n                                                        \"HTTP_FORWARDED_FOR\",\n                                                        \"HTTP_FORWARDED\",\n                                                        \"HTTP_VIA\",\n                                                        \"REMOTE_ADDR\"\n                                                    };\n\n    public static String getRemoteIP(RequestAttributes requestAttributes)\n    {\n        if (requestAttributes == null)\n        {\n            return \"0.0.0.0\";\n        }\n        HttpServletRequest request = ((ServletRequestAttributes) requestAttributes).getRequest();\n        String ip = Arrays.asList(IP_HEADER_NAMES)\n            .stream()\n            .map(request::getHeader)\n            .filter(h -&gt; h != null &amp;&amp; h.length() != 0 &amp;&amp; !\"unknown\".equalsIgnoreCase(h))\n            .map(h -&gt; h.split(\",\")[0])\n            .reduce(\"\", (h1, h2) -&gt; h1 + \":\" + h2);\n        return ip + request.getRemoteAddr();\n    }\n\n    //... in service class:\n    String remoteAddress = RequestUtil.getRemoteIP(RequestContextHolder.currentRequestAttributes());\n</code></pre>\n\n<p>:)</p>\n"},{"comments":[{"owner":{"account_id":9207370,"reputation":683,"user_id":6864948,"display_name":"Andrew G"},"score":1,"creation_date":1647784212,"post_id":61495191,"comment_id":126453101,"body_markdown":"Thank you sir. It&#39;s a graceful solution that helped me.","body":"Thank you sir. It&#39;s a graceful solution that helped me."}],"tags":[],"owner":{"account_id":6103893,"reputation":850,"user_id":4762075,"accept_rate":47,"display_name":"BaDr Amer"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588139897,"creation_date":1588139897,"answer_id":61495191,"question_id":22877350,"body_markdown":"In my case, I was using Nginx in front of my application with the following configuration:\r\n\r\n```\r\nlocation / {\r\n     proxy_pass        http://localhost:8080/;\r\n     proxy_set_header  X-Real-IP $remote_addr;\r\n     proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;\r\n     proxy_set_header  Host $http_host;\r\n     add_header Content-Security-Policy &#39;upgrade-insecure-requests&#39;;\r\n}\r\n```\r\nso in my application I get the real user ip like so:\r\n\r\n```\r\nString clientIP = request.getHeader(&quot;X-Real-IP&quot;);\r\n```\r\n\r\n","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>In my case, I was using Nginx in front of my application with the following configuration:</p>\n\n<pre><code>location / {\n     proxy_pass        http://localhost:8080/;\n     proxy_set_header  X-Real-IP $remote_addr;\n     proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;\n     proxy_set_header  Host $http_host;\n     add_header Content-Security-Policy 'upgrade-insecure-requests';\n}\n</code></pre>\n\n<p>so in my application I get the real user ip like so:</p>\n\n<pre><code>String clientIP = request.getHeader(\"X-Real-IP\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10225897,"reputation":551,"user_id":7548514,"display_name":"Kyo Huu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1593102826,"creation_date":1593102826,"answer_id":62580113,"question_id":22877350,"body_markdown":"    private static final String[] IP_HEADER_CANDIDATES = {\r\n                &quot;X-Forwarded-For&quot;,\r\n                &quot;Proxy-Client-IP&quot;,\r\n                &quot;WL-Proxy-Client-IP&quot;,\r\n                &quot;HTTP_X_FORWARDED_FOR&quot;,\r\n                &quot;HTTP_X_FORWARDED&quot;,\r\n                &quot;HTTP_X_CLUSTER_CLIENT_IP&quot;,\r\n                &quot;HTTP_CLIENT_IP&quot;,\r\n                &quot;HTTP_FORWARDED_FOR&quot;,\r\n                &quot;HTTP_FORWARDED&quot;,\r\n                &quot;HTTP_VIA&quot;,\r\n                &quot;REMOTE_ADDR&quot;\r\n        };\r\n    \r\n        public static String getIPFromRequest(HttpServletRequest request) {\r\n            String ip = null;\r\n            if (request == null) {\r\n                if (RequestContextHolder.getRequestAttributes() == null) {\r\n                    return null;\r\n                }\r\n                request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n            }\r\n    \r\n            try {\r\n                ip = InetAddress.getLocalHost().getHostAddress();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (!StringUtils.isEmpty(ip))\r\n                return ip;\r\n    \r\n            for (String header : IP_HEADER_CANDIDATES) {\r\n                String ipList = request.getHeader(header);\r\n                if (ipList != null &amp;&amp; ipList.length() != 0 &amp;&amp; !&quot;unknown&quot;.equalsIgnoreCase(ipList)) {\r\n                    return ipList.split(&quot;,&quot;)[0];\r\n                }\r\n            }\r\n    \r\n            return request.getRemoteAddr();\r\n        }\r\n\r\nI combie the code above to this code work for most case. Pass the `HttpServletRequest request` you get from the api to the method","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<pre><code>private static final String[] IP_HEADER_CANDIDATES = {\n            &quot;X-Forwarded-For&quot;,\n            &quot;Proxy-Client-IP&quot;,\n            &quot;WL-Proxy-Client-IP&quot;,\n            &quot;HTTP_X_FORWARDED_FOR&quot;,\n            &quot;HTTP_X_FORWARDED&quot;,\n            &quot;HTTP_X_CLUSTER_CLIENT_IP&quot;,\n            &quot;HTTP_CLIENT_IP&quot;,\n            &quot;HTTP_FORWARDED_FOR&quot;,\n            &quot;HTTP_FORWARDED&quot;,\n            &quot;HTTP_VIA&quot;,\n            &quot;REMOTE_ADDR&quot;\n    };\n\n    public static String getIPFromRequest(HttpServletRequest request) {\n        String ip = null;\n        if (request == null) {\n            if (RequestContextHolder.getRequestAttributes() == null) {\n                return null;\n            }\n            request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n        }\n\n        try {\n            ip = InetAddress.getLocalHost().getHostAddress();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (!StringUtils.isEmpty(ip))\n            return ip;\n\n        for (String header : IP_HEADER_CANDIDATES) {\n            String ipList = request.getHeader(header);\n            if (ipList != null &amp;&amp; ipList.length() != 0 &amp;&amp; !&quot;unknown&quot;.equalsIgnoreCase(ipList)) {\n                return ipList.split(&quot;,&quot;)[0];\n            }\n        }\n\n        return request.getRemoteAddr();\n    }\n</code></pre>\n<p>I combie the code above to this code work for most case. Pass the <code>HttpServletRequest request</code> you get from the api to the method</p>\n"},{"tags":[],"owner":{"account_id":1939812,"reputation":2762,"user_id":1746258,"accept_rate":72,"display_name":"Ulug&#39;bek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641970681,"creation_date":1641970681,"answer_id":70677455,"question_id":22877350,"body_markdown":"In my case, I am using this piece of code:\r\n\r\n    private String getRemoteAddr(HttpServletRequest req) {\r\n        if (!StringUtils.isEmpty(req.getHeader(&quot;X-Real-IP&quot;))) {\r\n            return req.getHeader(&quot;X-Real-IP&quot;);\r\n        }\r\n        return req.getRemoteAddr();\r\n    }","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>In my case, I am using this piece of code:</p>\n<pre><code>private String getRemoteAddr(HttpServletRequest req) {\n    if (!StringUtils.isEmpty(req.getHeader(&quot;X-Real-IP&quot;))) {\n        return req.getHeader(&quot;X-Real-IP&quot;);\n    }\n    return req.getRemoteAddr();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15901758,"reputation":33,"user_id":11473946,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669616114,"creation_date":1669616114,"answer_id":74596651,"question_id":22877350,"body_markdown":"In my case request.getRemoteAddr() contains the IP address of system from which user is trying to access the application.\r\nand in case, if I am running my application on localhost or 127.0.0.1 it is returning &quot;0:0:0:0:0:0:0:1&quot;","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>In my case request.getRemoteAddr() contains the IP address of system from which user is trying to access the application.\nand in case, if I am running my application on localhost or 127.0.0.1 it is returning &quot;0:0:0:0:0:0:0:1&quot;</p>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245072,"favorite_count":0,"down_vote_count":0,"up_vote_count":146,"accepted_answer_id":22877465,"answer_count":11,"score":146,"last_activity_date":1671842289,"creation_date":1396678875,"question_id":22877350,"body_markdown":"I am working on Spring MVC controller project in which I am making a GET URL call from the browser -\r\n\r\nBelow is the url by which I am making a GET call from the browser -\r\n\r\n\thttp://127.0.0.1:8080/testweb/processing?workflow=test&amp;conf=20140324&amp;dc=all\r\n\r\nAnd below is the code in which the call comes after hitting at the browser - \t\r\n\t\r\n    @RequestMapping(value = &quot;processing&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody ProcessResponse processData(@RequestParam(&quot;workflow&quot;) final String workflow,\r\n        @RequestParam(&quot;conf&quot;) final String value, @RequestParam(&quot;dc&quot;) final String dc) {\r\n    \t\r\n    \t\tSystem.out.println(workflow);\r\n    \t\tSystem.out.println(value);\r\n    \t\tSystem.out.println(dc);\r\n    \t\t\r\n    \t\t// some other code\r\n    \t}\r\n\r\n\t\t\r\n**Problem Statement:-**\r\n\r\nNow is there any way, I can extract IP Address from some header? Meaning I  would like to know from which  IP Address, call is coming, meaning whoever is calling above URL, I need to know their IP Address. Is this possible to do?\r\n","title":"How to extract IP Address in Spring MVC Controller get call?","body":"<p>I am working on Spring MVC controller project in which I am making a GET URL call from the browser -</p>\n\n<p>Below is the url by which I am making a GET call from the browser -</p>\n\n<pre><code>http://127.0.0.1:8080/testweb/processing?workflow=test&amp;conf=20140324&amp;dc=all\n</code></pre>\n\n<p>And below is the code in which the call comes after hitting at the browser -    </p>\n\n<pre><code>@RequestMapping(value = \"processing\", method = RequestMethod.GET)\npublic @ResponseBody ProcessResponse processData(@RequestParam(\"workflow\") final String workflow,\n    @RequestParam(\"conf\") final String value, @RequestParam(\"dc\") final String dc) {\n\n        System.out.println(workflow);\n        System.out.println(value);\n        System.out.println(dc);\n\n        // some other code\n    }\n</code></pre>\n\n<p><strong>Problem Statement:-</strong></p>\n\n<p>Now is there any way, I can extract IP Address from some header? Meaning I  would like to know from which  IP Address, call is coming, meaning whoever is calling above URL, I need to know their IP Address. Is this possible to do?</p>\n"},{"tags":["java","xml","dom","iteration"],"comments":[{"owner":{"account_id":307607,"reputation":812,"user_id":618996,"display_name":"Vance Maverick"},"score":0,"creation_date":1300772316,"post_id":5386991,"comment_id":6091398,"body_markdown":"Recursive invocation of Node.getChildNodes? http://download.oracle.com/javase/6/docs/api/org/w3c/dom/Node.html#getChildNodes%28%29","body":"Recursive invocation of Node.getChildNodes? <a href=\"http://download.oracle.com/javase/6/docs/api/org/w3c/dom/Node.html#getChildNodes%28%29\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/org/w3c/dom/&hellip;</a>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1584217294,"post_id":5386991,"comment_id":107370924,"body_markdown":"I think it&#39;s interesting that the question asked the _most efficient_ method to iterate over all elements of a `Document`, but none of the answers did any tests of efficiency, and the only mention of efficiency was &quot;I think&quot; or similar surmises.","body":"I think it&#39;s interesting that the question asked the <i>most efficient</i> method to iterate over all elements of a <code>Document</code>, but none of the answers did any tests of efficiency, and the only mention of efficiency was &quot;I think&quot; or similar surmises."}],"answers":[{"comments":[{"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"score":11,"creation_date":1301855447,"post_id":5511298,"comment_id":6284950,"body_markdown":"Passing the iteration index as an argument to the recursive function, you can made it tail-recursive, which is optimized by compiler, to avoid stack overflow.","body":"Passing the iteration index as an argument to the recursive function, you can made it tail-recursive, which is optimized by compiler, to avoid stack overflow."},{"owner":{"account_id":1012174,"reputation":1506,"user_id":1024503,"accept_rate":100,"display_name":"braden"},"score":139,"creation_date":1348852794,"post_id":5511298,"comment_id":17054403,"body_markdown":"I think it&#39;s too late to avoid stack overflow. You&#39;re already here.","body":"I think it&#39;s too late to avoid stack overflow. You&#39;re already here."},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":1,"creation_date":1362680225,"post_id":5511298,"comment_id":21556216,"body_markdown":"What makes you think that the creation of a node list for the whole document is efficient? This means almost copying the whole document. Or is there some kind of delayed evaluation hidden in `NodeList` optimizing sequential calls to `item`?","body":"What makes you think that the creation of a node list for the whole document is efficient? This means almost copying the whole document. Or is there some kind of delayed evaluation hidden in <code>NodeList</code> optimizing sequential calls to <code>item</code>?"},{"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"score":1,"creation_date":1408559536,"post_id":5511298,"comment_id":39639878,"body_markdown":"@ceving NodeList is an interface.  Implementations are free to do advanced things.  The item(n) implementation in org.apache.xerces.dom.ParentNode includes a cache but it is used to speed up the lookup, not to save memory.","body":"@ceving NodeList is an interface.  Implementations are free to do advanced things.  The item(n) implementation in org.apache.xerces.dom.ParentNode includes a cache but it is used to speed up the lookup, not to save memory."},{"owner":{"account_id":1906666,"reputation":761,"user_id":1721406,"display_name":"Andrew"},"score":1,"creation_date":1527140361,"post_id":5511298,"comment_id":88015725,"body_markdown":"Go with answer #2 but change the for loop to read:\nfor (int i = 0, len = nodeList.getLength(); i &lt; len; i++)","body":"Go with answer #2 but change the for loop to read: for (int i = 0, len = nodeList.getLength(); i &lt; len; i++)"}],"tags":[],"owner":{"account_id":316863,"reputation":59335,"user_id":633239,"accept_rate":90,"display_name":"javanna"},"comment_count":5,"down_vote_count":1,"up_vote_count":137,"is_accepted":true,"score":136,"last_activity_date":1671842127,"creation_date":1301648955,"answer_id":5511298,"question_id":5386991,"body_markdown":"Basically you have two ways to iterate over all elements:\r\n\r\n **1. Using recursion** (the most common way I think):\r\n\r\n    public static void main(String[] args) throws SAXException, IOException,\r\n    \t    ParserConfigurationException, TransformerException {\r\n    \r\n    \tDocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory\r\n    \t\t.newInstance();\r\n    \tDocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\r\n    \tDocument document = docBuilder.parse(new File(&quot;document.xml&quot;));\r\n    \tdoSomething(document.getDocumentElement());\r\n    }\r\n\r\n    public static void doSomething(Node node) {\r\n    \t// do something with the current node instead of System.out\r\n    \tSystem.out.println(node.getNodeName());\r\n    \r\n    \tNodeList nodeList = node.getChildNodes();\r\n    \tfor (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n    \t    Node currentNode = nodeList.item(i);\r\n    \t    if (currentNode.getNodeType() == Node.ELEMENT_NODE) {\r\n    \t\t    //calls this method for all the children which is Element\r\n    \t\t    doSomething(currentNode);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n **2. Avoiding recursion** using `getElementsByTagName()` method with `*` as parameter:\r\n\r\n\tpublic static void main(String[] args) throws SAXException, IOException,\r\n\t        ParserConfigurationException, TransformerException {\r\n\r\n\t\tDocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory\r\n\t\t        .newInstance();\r\n\t\tDocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\r\n\t\tDocument document = docBuilder.parse(new File(&quot;document.xml&quot;));\r\n\t\t\r\n\t\tNodeList nodeList = document.getElementsByTagName(&quot;*&quot;);\r\n\t\tfor (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n\t        Node node = nodeList.item(i);\r\n\t        if (node.getNodeType() == Node.ELEMENT_NODE) {\r\n\t        \t// do something with the current element\r\n\t\t\t\tSystem.out.println(node.getNodeName());\r\n\t        }\r\n        }\r\n\t}\r\n\r\nI think these ways are both efficient.","title":"Java: Most efficient method to iterate over all elements in a org.w3c.dom.Document?","body":"<p>Basically you have two ways to iterate over all elements:</p>\n<p><strong>1. Using recursion</strong> (the most common way I think):</p>\n<pre><code>public static void main(String[] args) throws SAXException, IOException,\n        ParserConfigurationException, TransformerException {\n\n    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory\n        .newInstance();\n    DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\n    Document document = docBuilder.parse(new File(&quot;document.xml&quot;));\n    doSomething(document.getDocumentElement());\n}\n\npublic static void doSomething(Node node) {\n    // do something with the current node instead of System.out\n    System.out.println(node.getNodeName());\n\n    NodeList nodeList = node.getChildNodes();\n    for (int i = 0; i &lt; nodeList.getLength(); i++) {\n        Node currentNode = nodeList.item(i);\n        if (currentNode.getNodeType() == Node.ELEMENT_NODE) {\n            //calls this method for all the children which is Element\n            doSomething(currentNode);\n        }\n    }\n}\n</code></pre>\n<p><strong>2. Avoiding recursion</strong> using <code>getElementsByTagName()</code> method with <code>*</code> as parameter:</p>\n<pre><code>public static void main(String[] args) throws SAXException, IOException,\n        ParserConfigurationException, TransformerException {\n\n    DocumentBuilderFactory docBuilderFactory = DocumentBuilderFactory\n            .newInstance();\n    DocumentBuilder docBuilder = docBuilderFactory.newDocumentBuilder();\n    Document document = docBuilder.parse(new File(&quot;document.xml&quot;));\n    \n    NodeList nodeList = document.getElementsByTagName(&quot;*&quot;);\n    for (int i = 0; i &lt; nodeList.getLength(); i++) {\n        Node node = nodeList.item(i);\n        if (node.getNodeType() == Node.ELEMENT_NODE) {\n            // do something with the current element\n            System.out.println(node.getNodeName());\n        }\n    }\n}\n</code></pre>\n<p>I think these ways are both efficient.</p>\n"},{"comments":[{"owner":{"account_id":173411,"reputation":508,"user_id":402061,"display_name":"nyaray"},"score":1,"creation_date":1373561664,"post_id":12736268,"comment_id":25613342,"body_markdown":"You need at least 50 rep score to comment. I had the same problem and answered because I couldn&#39;t comment. Have some upvote-aid ;)","body":"You need at least 50 rep score to comment. I had the same problem and answered because I couldn&#39;t comment. Have some upvote-aid ;)"},{"owner":{"account_id":1906666,"reputation":761,"user_id":1721406,"display_name":"Andrew"},"score":0,"creation_date":1522421847,"post_id":12736268,"comment_id":86160812,"body_markdown":"The avoiding recursion solution above prevents the program from using more stack memory based on the data.  Each step in recursion pushes more data into the stack.","body":"The avoiding recursion solution above prevents the program from using more stack memory based on the data.  Each step in recursion pushes more data into the stack."}],"tags":[],"owner":{"account_id":1906666,"reputation":761,"user_id":1721406,"display_name":"Andrew"},"comment_count":2,"down_vote_count":3,"up_vote_count":40,"is_accepted":false,"score":37,"last_activity_date":1527140321,"creation_date":1349386087,"answer_id":12736268,"question_id":5386991,"body_markdown":" `for (int i = 0; i &lt; nodeList.getLength(); i++)`\r\n\r\nchange to \r\n\r\n `for (int i = 0, len = nodeList.getLength(); i &lt; len; i++)` \r\n\r\nto be more efficient.\r\n\r\nThe second way of javanna answer may be the best as it tends to use a flatter, predictable memory model.","title":"Java: Most efficient method to iterate over all elements in a org.w3c.dom.Document?","body":"<p><code>for (int i = 0; i &lt; nodeList.getLength(); i++)</code></p>\n\n<p>change to </p>\n\n<p><code>for (int i = 0, len = nodeList.getLength(); i &lt; len; i++)</code> </p>\n\n<p>to be more efficient.</p>\n\n<p>The second way of javanna answer may be the best as it tends to use a flatter, predictable memory model.</p>\n"},{"tags":[],"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391602213,"creation_date":1391599442,"answer_id":21575867,"question_id":5386991,"body_markdown":"I also stumbled over this problem recently. Here is my solution.\r\nI wanted to avoid recursion, so I used a while loop.\r\n\r\nBecause of the adds and removes in arbitrary places on the list,\r\nI went with the `LinkedList` implementation.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    /* traverses tree starting with given node */\r\n      private static List&lt;Node&gt; traverse(Node n)\r\n      {\r\n        return traverse(Arrays.asList(n));\r\n      }\r\n    \r\n      /* traverses tree starting with given nodes */\r\n      private static List&lt;Node&gt; traverse(List&lt;Node&gt; nodes)\r\n      {\r\n        List&lt;Node&gt; open = new LinkedList&lt;Node&gt;(nodes);\r\n        List&lt;Node&gt; visited = new LinkedList&lt;Node&gt;();\r\n    \r\n        ListIterator&lt;Node&gt; it = open.listIterator();\r\n        while (it.hasNext() || it.hasPrevious())\r\n        {\r\n          Node unvisited;\r\n          if (it.hasNext())\r\n            unvisited = it.next();\r\n          else\r\n            unvisited = it.previous();\r\n    \r\n          it.remove();\r\n    \r\n          List&lt;Node&gt; children = getChildren(unvisited);\r\n          for (Node child : children)\r\n            it.add(child);\r\n    \r\n          visited.add(unvisited);\r\n        }\r\n    \r\n        return visited;\r\n      }\r\n    \r\n      private static List&lt;Node&gt; getChildren(Node n)\r\n      {\r\n        List&lt;Node&gt; children = asList(n.getChildNodes());\r\n        Iterator&lt;Node&gt; it = children.iterator();\r\n        while (it.hasNext())\r\n          if (it.next().getNodeType() != Node.ELEMENT_NODE)\r\n            it.remove();\r\n        return children;\r\n      }\r\n\r\n      private static List&lt;Node&gt; asList(NodeList nodes)\r\n      {\r\n        List&lt;Node&gt; list = new ArrayList&lt;Node&gt;(nodes.getLength());\r\n        for (int i = 0, l = nodes.getLength(); i &lt; l; i++)\r\n          list.add(nodes.item(i));\r\n        return list;\r\n      }\r\n\r\n","title":"Java: Most efficient method to iterate over all elements in a org.w3c.dom.Document?","body":"<p>I also stumbled over this problem recently. Here is my solution.\nI wanted to avoid recursion, so I used a while loop.</p>\n\n<p>Because of the adds and removes in arbitrary places on the list,\nI went with the <code>LinkedList</code> implementation.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/* traverses tree starting with given node */\n  private static List&lt;Node&gt; traverse(Node n)\n  {\n    return traverse(Arrays.asList(n));\n  }\n\n  /* traverses tree starting with given nodes */\n  private static List&lt;Node&gt; traverse(List&lt;Node&gt; nodes)\n  {\n    List&lt;Node&gt; open = new LinkedList&lt;Node&gt;(nodes);\n    List&lt;Node&gt; visited = new LinkedList&lt;Node&gt;();\n\n    ListIterator&lt;Node&gt; it = open.listIterator();\n    while (it.hasNext() || it.hasPrevious())\n    {\n      Node unvisited;\n      if (it.hasNext())\n        unvisited = it.next();\n      else\n        unvisited = it.previous();\n\n      it.remove();\n\n      List&lt;Node&gt; children = getChildren(unvisited);\n      for (Node child : children)\n        it.add(child);\n\n      visited.add(unvisited);\n    }\n\n    return visited;\n  }\n\n  private static List&lt;Node&gt; getChildren(Node n)\n  {\n    List&lt;Node&gt; children = asList(n.getChildNodes());\n    Iterator&lt;Node&gt; it = children.iterator();\n    while (it.hasNext())\n      if (it.next().getNodeType() != Node.ELEMENT_NODE)\n        it.remove();\n    return children;\n  }\n\n  private static List&lt;Node&gt; asList(NodeList nodes)\n  {\n    List&lt;Node&gt; list = new ArrayList&lt;Node&gt;(nodes.getLength());\n    for (int i = 0, l = nodes.getLength(); i &lt; l; i++)\n      list.add(nodes.item(i));\n    return list;\n  }\n</code></pre>\n"}],"owner":{"account_id":151201,"reputation":15045,"user_id":364914,"accept_rate":85,"display_name":"KJW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193134,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":5511298,"answer_count":3,"score":82,"last_activity_date":1671842127,"creation_date":1300769715,"question_id":5386991,"body_markdown":"What is the most efficient way to iterate through all DOM elements in Java?\r\n\r\nSomething like this but for every single DOM elements on current `org.w3c.dom.Document`?\r\n\r\n    for(Node childNode = node.getFirstChild(); childNode!=null;){\r\n        Node nextChild = childNode.getNextSibling();\r\n        // Do something with childNode, including move or delete...\r\n        childNode = nextChild;\r\n    }","title":"Java: Most efficient method to iterate over all elements in a org.w3c.dom.Document?","body":"<p>What is the most efficient way to iterate through all DOM elements in Java?</p>\n\n<p>Something like this but for every single DOM elements on current <code>org.w3c.dom.Document</code>?</p>\n\n<pre><code>for(Node childNode = node.getFirstChild(); childNode!=null;){\n    Node nextChild = childNode.getNextSibling();\n    // Do something with childNode, including move or delete...\n    childNode = nextChild;\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":16870790,"reputation":26,"user_id":12199323,"display_name":"Nitish Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666464730,"creation_date":1666464730,"answer_id":74166304,"question_id":74157919,"body_markdown":"I think you forgot to mention the port in your configuration\r\n\r\nSomething like this in kafka configuration:\r\n\r\n    spring.kafka.bootstrap-servers=localhost:9092","title":"Spring Kafka consumer keep disconnecting from broker at random time intervals","body":"<p>I think you forgot to mention the port in your configuration</p>\n<p>Something like this in kafka configuration:</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost:9092\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671841179,"creation_date":1671841179,"answer_id":74904924,"question_id":74157919,"body_markdown":"Your Spring client timeout is a red-herring. \r\n\r\nYour Broker is failing to connect to Zookeeper, and crashes. Therefore Spring app will also crash. Restarts will only temporarily fix it, so you need to address why the broker is really disconnecting from Zookpeeper (do Zookepeer logs look okay?)","title":"Spring Kafka consumer keep disconnecting from broker at random time intervals","body":"<p>Your Spring client timeout is a red-herring.</p>\n<p>Your Broker is failing to connect to Zookeeper, and crashes. Therefore Spring app will also crash. Restarts will only temporarily fix it, so you need to address why the broker is really disconnecting from Zookpeeper (do Zookepeer logs look okay?)</p>\n"}],"owner":{"account_id":24627106,"reputation":11,"user_id":18526719,"display_name":"music bot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671841179,"creation_date":1666377412,"question_id":74157919,"body_markdown":"My kafka configuration is simple as it can be:\r\n\r\n    @Bean\r\n    public NewTopic generalTopic() {\r\n        return TopicBuilder.name(&quot;topic&quot;)\r\n                .partitions(5)\r\n                .replicas(5)\r\n                .build();\r\n    }\r\n\r\n    @KafkaListener(id= &quot;anyID&quot;, topics=&quot;topic&quot;)\r\n    public void consumer(String message) {\r\n    \tSystem.out.println(message);\r\n    }\r\n\r\nProducer: sending messages invoking kafkaTemplate.send():\r\n\r\n    @Autowired\r\n\tprivate KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n    kafkaTemplate.send(&quot;topic&quot;, &quot;message to send&quot;);\r\n\r\nAnd finnally, kafka configuration:\r\n\r\n    spring.kafka.bootstrap-servers=localhost\r\n    \r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    \r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer= org.apache.kafka.common.serialization.StringSerializer\r\n\r\n\r\nMy application is a desktop application, so every client has it&#39;s own producer and consumer with this very same configuration above (excluding @KafkaListener(id= &quot;anyID&quot;, where anyID is the user name).\r\n\r\nWhen launching the application (right after closing it), sometimes it generates this error message:\r\n\r\n \r\n\r\n    \r\n\r\n    2022-10-21 15:13:42.130 ERROR 3524 --- [JavaFX-Launcher] o.springframework.kafka.core.KafkaAdmin  : Could not configure topics\r\n    \r\n    org.springframework.kafka.KafkaException: Timed out waiting to get existing topics; nested exception is java.util.concurrent.TimeoutException\r\n\r\nChecking the kafka server.log (under logs/server.log), there&#39;s this stack trace:\r\n\r\n        [2022-10-21 18:11:28,519] WARN Unexpected exception (org.apache.zookeeper.server.NIOServerCnxn)\r\n    EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:34456, session = 0x100a5e36a580005\r\n    \tat org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)\r\n    \tat org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)\r\n    \tat org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)\r\n    \tat org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n    [2022-10-21 18:11:43,670] INFO Expiring session 0x100a5e36a580005, timeout of 18000ms exceeded (org.apache.zookeeper.server.ZooKeeperServer)\r\n\r\n\r\nI&#39;m sure the error message is related to the log stack trace, but I have no idea what&#39;s is causing it and how to solve it.\r\n\r\n\r\nIn order to get it working back, I just restart kafka with \r\n\r\n&gt; bin/kafka-server-start.sh -daemon config/server.properties\r\n\r\nSo basically I have to keep restarting kafka everytime I get this error.\r\n\r\n\r\nAny thoughts?\r\n\r\nFor reference, here&#39;s a full reference of the error I&#39;m getting in the clients:\r\n\r\n        org.springframework.kafka.KafkaException: Timed out waiting to get existing topics; nested exception is java.util.concurrent.TimeoutException\r\n    \tat org.springframework.kafka.core.KafkaAdmin.lambda$checkPartitions$8(KafkaAdmin.java:388) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n    \tat java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\r\n    \tat org.springframework.kafka.core.KafkaAdmin.checkPartitions(KafkaAdmin.java:367) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n    \tat org.springframework.kafka.core.KafkaAdmin.addOrModifyTopicsIfNeeded(KafkaAdmin.java:263) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n    \tat org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:200) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n    \tat org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:167) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:974) ~[spring-beans-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat com.nume.main.MirroredMain.springBootApplicationContext(MirroredMain.java:40) ~[classes/:na]\r\n    \tat com.nume.main.MirroredMain.init(MirroredMain.java:61) ~[classes/:na]\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:825) ~[javafx.graphics.jar:na]\r\n    \tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196) ~[javafx.graphics.jar:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    Caused by: java.util.concurrent.TimeoutException: null\r\n    \tat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095) ~[na:na]\r\n    \tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180) ~[kafka-clients-3.1.1.jar:na]\r\n    \tat org.springframework.kafka.core.KafkaAdmin.lambda$checkPartitions$8(KafkaAdmin.java:370) ~[spring-kafka-2.8.8.jar:2.8.8]\r\n    \t... 17 common frames omitted\r\n\r\n","title":"Spring Kafka consumer keep disconnecting from broker at random time intervals","body":"<p>My kafka configuration is simple as it can be:</p>\n<pre><code>@Bean\npublic NewTopic generalTopic() {\n    return TopicBuilder.name(&quot;topic&quot;)\n            .partitions(5)\n            .replicas(5)\n            .build();\n}\n\n@KafkaListener(id= &quot;anyID&quot;, topics=&quot;topic&quot;)\npublic void consumer(String message) {\n    System.out.println(message);\n}\n</code></pre>\n<p>Producer: sending messages invoking kafkaTemplate.send():</p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\nkafkaTemplate.send(&quot;topic&quot;, &quot;message to send&quot;);\n</code></pre>\n<p>And finnally, kafka configuration:</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost\n\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\n\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer= org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>My application is a desktop application, so every client has it's own producer and consumer with this very same configuration above (excluding @KafkaListener(id= &quot;anyID&quot;, where anyID is the user name).</p>\n<p>When launching the application (right after closing it), sometimes it generates this error message:</p>\n<pre><code>2022-10-21 15:13:42.130 ERROR 3524 --- [JavaFX-Launcher] o.springframework.kafka.core.KafkaAdmin  : Could not configure topics\n\norg.springframework.kafka.KafkaException: Timed out waiting to get existing topics; nested exception is java.util.concurrent.TimeoutException\n</code></pre>\n<p>Checking the kafka server.log (under logs/server.log), there's this stack trace:</p>\n<pre><code>    [2022-10-21 18:11:28,519] WARN Unexpected exception (org.apache.zookeeper.server.NIOServerCnxn)\nEndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:34456, session = 0x100a5e36a580005\n    at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)\n    at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:326)\n    at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:522)\n    at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:154)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\n[2022-10-21 18:11:43,670] INFO Expiring session 0x100a5e36a580005, timeout of 18000ms exceeded (org.apache.zookeeper.server.ZooKeeperServer)\n</code></pre>\n<p>I'm sure the error message is related to the log stack trace, but I have no idea what's is causing it and how to solve it.</p>\n<p>In order to get it working back, I just restart kafka with</p>\n<blockquote>\n<p>bin/kafka-server-start.sh -daemon config/server.properties</p>\n</blockquote>\n<p>So basically I have to keep restarting kafka everytime I get this error.</p>\n<p>Any thoughts?</p>\n<p>For reference, here's a full reference of the error I'm getting in the clients:</p>\n<pre><code>    org.springframework.kafka.KafkaException: Timed out waiting to get existing topics; nested exception is java.util.concurrent.TimeoutException\n    at org.springframework.kafka.core.KafkaAdmin.lambda$checkPartitions$8(KafkaAdmin.java:388) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]\n    at org.springframework.kafka.core.KafkaAdmin.checkPartitions(KafkaAdmin.java:367) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.core.KafkaAdmin.addOrModifyTopicsIfNeeded(KafkaAdmin.java:263) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:200) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:167) ~[spring-kafka-2.8.8.jar:2.8.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:974) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164) ~[spring-boot-2.7.3.jar:2.7.3]\n    at com.nume.main.MirroredMain.springBootApplicationContext(MirroredMain.java:40) ~[classes/:na]\n    at com.nume.main.MirroredMain.init(MirroredMain.java:61) ~[classes/:na]\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:825) ~[javafx.graphics.jar:na]\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196) ~[javafx.graphics.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.util.concurrent.TimeoutException: null\n    at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095) ~[na:na]\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180) ~[kafka-clients-3.1.1.jar:na]\n    at org.springframework.kafka.core.KafkaAdmin.lambda$checkPartitions$8(KafkaAdmin.java:370) ~[spring-kafka-2.8.8.jar:2.8.8]\n    ... 17 common frames omitted\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666772127,"creation_date":1666772127,"answer_id":74204603,"question_id":74200119,"body_markdown":"When a consumer groupId does not already exist, consumers will use the [auto.offset.reset][1] setting to find their starting position. This setting defaults to `latest` so it will only consume new records from the topic. \r\n\r\nIf you set `auto.offset.reset=earliest` and switch to a new groupId then consumers will start from the first available offset (which may not necessarily be 0 if retention policies have deleted the oldest records from the topic)\r\n\r\n\r\n  [1]: https://kafka.apache.org/documentation/#consumerconfigs_auto.offset.reset","title":"I&#39;ve built a kafka consumer that consumes from a topic with a specified groupId. If I changed the groupID to start from offset 0, it doesn&#39;t work","body":"<p>When a consumer groupId does not already exist, consumers will use the <a href=\"https://kafka.apache.org/documentation/#consumerconfigs_auto.offset.reset\" rel=\"nofollow noreferrer\">auto.offset.reset</a> setting to find their starting position. This setting defaults to <code>latest</code> so it will only consume new records from the topic.</p>\n<p>If you set <code>auto.offset.reset=earliest</code> and switch to a new groupId then consumers will start from the first available offset (which may not necessarily be 0 if retention policies have deleted the oldest records from the topic)</p>\n"}],"owner":{"account_id":26558931,"reputation":23,"user_id":20277203,"display_name":"dpaine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74204603,"answer_count":1,"score":2,"last_activity_date":1671841007,"creation_date":1666731448,"question_id":74200119,"body_markdown":"In the following method, I&#39;m able to consume many messages from &quot;my_topic&quot;. From my understanding, if I want to then start consuming from offset 0 again, I can either \r\n\r\na) Reset the offsets using;\r\n\r\n*kafka-consumer-groups.sh --bootstrap-server xxx:9094 --command-config ./xxx --execute --reset-offsets -group my_group -to-earliest*\r\n\r\nor...\r\nb) Rename the groupID to something different the &quot;my_group&quot; e.g. &quot;my_group_2&quot;.\r\n\r\n\r\n```\r\npublic class MessageConsumer extends ConsumerBase {\r\n\r\n  @KafkaListener(topics = &quot;my_topic&quot;, groupId = &quot;my_group&quot;)\r\n  void processReferralEvents(String message) {\r\n    log.info(&quot;message received: [{}]&quot;, message);\r\n\r\n```\r\n\r\n\r\nWhen I do specify my_group_2 as the groupId, then *my_group_2* is created and it automatically assumes the offsets of *my_group*. \r\n\r\nAm I missing something obvious?\r\n","title":"I&#39;ve built a kafka consumer that consumes from a topic with a specified groupId. If I changed the groupID to start from offset 0, it doesn&#39;t work","body":"<p>In the following method, I'm able to consume many messages from &quot;my_topic&quot;. From my understanding, if I want to then start consuming from offset 0 again, I can either</p>\n<p>a) Reset the offsets using;</p>\n<p><em>kafka-consumer-groups.sh --bootstrap-server xxx:9094 --command-config ./xxx --execute --reset-offsets -group my_group -to-earliest</em></p>\n<p>or...\nb) Rename the groupID to something different the &quot;my_group&quot; e.g. &quot;my_group_2&quot;.</p>\n<pre><code>public class MessageConsumer extends ConsumerBase {\n\n  @KafkaListener(topics = &quot;my_topic&quot;, groupId = &quot;my_group&quot;)\n  void processReferralEvents(String message) {\n    log.info(&quot;message received: [{}]&quot;, message);\n\n</code></pre>\n<p>When I do specify my_group_2 as the groupId, then <em>my_group_2</em> is created and it automatically assumes the offsets of <em>my_group</em>.</p>\n<p>Am I missing something obvious?</p>\n"},{"tags":["java","apache-kafka","confluent-schema-registry"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671840839,"post_id":74872318,"comment_id":132187963,"body_markdown":"This isn&#39;t what was being asked. What if `y.class` is StringSerializer? Then data is still produced to the topic without the registry, and it breaks consumers that need schemas.","body":"This isn&#39;t what was being asked. What if <code>y.class</code> is StringSerializer? Then data is still produced to the topic without the registry, and it breaks consumers that need schemas."}],"tags":[],"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671606025,"creation_date":1671606025,"answer_id":74872318,"question_id":74871691,"body_markdown":"Fahad , **auto.register.schemas=false** will prevent schemas from being registered. Can you try this option and see how it goes\r\n\r\n    Properties kafkaProps = new Properties();\r\n    kafkaProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;&lt;broker-address&gt;&quot;);\r\n    kafkaProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, x.class);\r\n    kafkaProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, y.class);\r\n    kafkaProps.put(&quot;schema.registry.url&quot;, &quot;&lt;schema-registry&gt;&quot;);\r\n    kafkaProps.put(AbstractKafkaAvroSerDeConfig.AUTO_REGISTER_SCHEMAS, false);","title":"How to stop java producer from updating schema registry?","body":"<p>Fahad , <strong>auto.register.schemas=false</strong> will prevent schemas from being registered. Can you try this option and see how it goes</p>\n<pre><code>Properties kafkaProps = new Properties();\nkafkaProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;&lt;broker-address&gt;&quot;);\nkafkaProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, x.class);\nkafkaProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, y.class);\nkafkaProps.put(&quot;schema.registry.url&quot;, &quot;&lt;schema-registry&gt;&quot;);\nkafkaProps.put(AbstractKafkaAvroSerDeConfig.AUTO_REGISTER_SCHEMAS, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671840800,"creation_date":1671840500,"answer_id":74904888,"question_id":74871691,"body_markdown":"&gt; when I produce an invalid message, the topic schema updates in accordance to the invalid message\r\n\r\nDid you disable the default backwards compatibility on the Registry?\r\n\r\nOtherwise, is your schema backwards compatible? What exactly are you changing? If you change the serializer setting, then the Registry is not used anymore. \r\n\r\n&gt; anyone can produce without those configs and alter the schema\r\n\r\nIndeed. \r\n\r\n&gt; defeats the purpose of schema registry\r\n\r\nEnforcement is not its purpose. Its purpose is more of a database of schemas... Anyone can also insert random data into a database without _authorization controls_. \r\n\r\n&gt; enforce schema registry to all topics who produce to it?\r\n\r\nYou can&#39;t (for free, or from the Registry itself). That is currently a (paid) feature of [Confluent Server](https://docs.confluent.io/platform/current/schema-registry/schema-validation.html#change-the-subject-naming-strategy-for-a-topic) only. \r\n\r\nWithout this, you could, instead, setup Security settings on the Registry to prevent &quot;anyone&quot; from registering a schema, and similarly on Kafka to prevent &quot;anyone&quot; from producing to certain topics. This way, only _authorized users_ will &quot;_shoot themselves in the foot_&quot;. ","title":"How to stop java producer from updating schema registry?","body":"<blockquote>\n<p>when I produce an invalid message, the topic schema updates in accordance to the invalid message</p>\n</blockquote>\n<p>Did you disable the default backwards compatibility on the Registry?</p>\n<p>Otherwise, is your schema backwards compatible? What exactly are you changing? If you change the serializer setting, then the Registry is not used anymore.</p>\n<blockquote>\n<p>anyone can produce without those configs and alter the schema</p>\n</blockquote>\n<p>Indeed.</p>\n<blockquote>\n<p>defeats the purpose of schema registry</p>\n</blockquote>\n<p>Enforcement is not its purpose. Its purpose is more of a database of schemas... Anyone can also insert random data into a database without <em>authorization controls</em>.</p>\n<blockquote>\n<p>enforce schema registry to all topics who produce to it?</p>\n</blockquote>\n<p>You can't (for free, or from the Registry itself). That is currently a (paid) feature of <a href=\"https://docs.confluent.io/platform/current/schema-registry/schema-validation.html#change-the-subject-naming-strategy-for-a-topic\" rel=\"nofollow noreferrer\">Confluent Server</a> only.</p>\n<p>Without this, you could, instead, setup Security settings on the Registry to prevent &quot;anyone&quot; from registering a schema, and similarly on Kafka to prevent &quot;anyone&quot; from producing to certain topics. This way, only <em>authorized users</em> will &quot;<em>shoot themselves in the foot</em>&quot;.</p>\n"}],"owner":{"account_id":18944908,"reputation":190,"user_id":13824045,"display_name":"fahadhub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671840815,"creation_date":1671600723,"question_id":74871691,"body_markdown":"I have a java producer which produces to a kafka topic. I use schema registry to make sure the messages which are produced to the topic are valid. But when I produce an invalid message, the topic schema updates in accordance to the invalid message rather than not accepting the invalid message.  \r\nI have come across parameters like auto.register.schemas and use.latest.version but they&#39;re producer configs, and anyone can produce without those configs and alter the schema which defeats the purpose of schema registry.\r\n\r\nHow do I enforce schema registry to all topics who produce to it?","title":"How to stop java producer from updating schema registry?","body":"<p>I have a java producer which produces to a kafka topic. I use schema registry to make sure the messages which are produced to the topic are valid. But when I produce an invalid message, the topic schema updates in accordance to the invalid message rather than not accepting the invalid message.<br />\nI have come across parameters like auto.register.schemas and use.latest.version but they're producer configs, and anyone can produce without those configs and alter the schema which defeats the purpose of schema registry.</p>\n<p>How do I enforce schema registry to all topics who produce to it?</p>\n"},{"tags":["java","encryption","arrays","digital-signature","public-key"],"comments":[{"owner":{"account_id":1852643,"reputation":12660,"user_id":1678858,"display_name":"gtrig"},"score":0,"creation_date":1380678165,"post_id":19127079,"comment_id":28288575,"body_markdown":"Please add the code you used to generate the signature.","body":"Please add the code you used to generate the signature."},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380684948,"post_id":19127079,"comment_id":28289972,"body_markdown":"I just add the code of generate the signature.","body":"I just add the code of generate the signature."}],"answers":[{"comments":[{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380685285,"post_id":19129085,"comment_id":28290033,"body_markdown":"Hi gtrig,\nMy propose is same as this image of receiver of this site: \nhttp://www.indicthreads.com/1480/what-are-digital-signatures-compute-and-verify-a-digital-signature-using-java/","body":"Hi gtrig, My propose is same as this image of receiver of this site:  <a href=\"http://www.indicthreads.com/1480/what-are-digital-signatures-compute-and-verify-a-digital-signature-using-java/\" rel=\"nofollow noreferrer\">indicthreads.com/1480/&hellip;</a>"},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380685537,"post_id":19129085,"comment_id":28290096,"body_markdown":"SHA256withRSA with do the message digest for me?? i don&#39;t understand, but i checked api, it didn&#39;t say it will generate the message digest for me. Thats why i tried to generate the message digest.","body":"SHA256withRSA with do the message digest for me?? i don&#39;t understand, but i checked api, it didn&#39;t say it will generate the message digest for me. Thats why i tried to generate the message digest."},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380685819,"post_id":19129085,"comment_id":28290155,"body_markdown":"If i changed `boolean decryptmd2= signature.verify(data2);` to `boolean decryptmd2= signature.verify(encryptmd);` it generates &quot;true&quot;, and there is no error. \n&quot;data2&quot; is the message digest after i sign by private key and put this digital signature to txt file, and another one &quot;encryptmd&quot;, which i didn&#39;t put it to the txt file, only put it to the variable, but i don&#39;t know why for &quot;data2&quot; is not work. &quot;data2&quot; and &quot;encrypmd&quot; both have same string (i already printed out to check).","body":"If i changed <code>boolean decryptmd2= signature.verify(data2);</code> to <code>boolean decryptmd2= signature.verify(encryptmd);</code> it generates &quot;true&quot;, and there is no error.  &quot;data2&quot; is the message digest after i sign by private key and put this digital signature to txt file, and another one &quot;encryptmd&quot;, which i didn&#39;t put it to the txt file, only put it to the variable, but i don&#39;t know why for &quot;data2&quot; is not work. &quot;data2&quot; and &quot;encrypmd&quot; both have same string (i already printed out to check)."},{"owner":{"account_id":1852643,"reputation":12660,"user_id":1678858,"display_name":"gtrig"},"score":0,"creation_date":1380686758,"post_id":19129085,"comment_id":28290352,"body_markdown":"`SHA256withRSA` will do the digest for you (a SHA256 digest will be performed on your data).  If you use `NONEwithRSA`, then you must provide a digest.  See the [signature algorithms](http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Signature) page for more info. Go back to the tutorial you listed in your original question.  There is also a tutorial on signing.  If you are getting &quot;true&quot; back from the verify method, it means that you were successful.  But in this case you are actually signing a digest of the digest and not the digest of the actual file.","body":"<code>SHA256withRSA</code> will do the digest for you (a SHA256 digest will be performed on your data).  If you use <code>NONEwithRSA</code>, then you must provide a digest.  See the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#Signature\" rel=\"nofollow noreferrer\">signature algorithms</a> page for more info. Go back to the tutorial you listed in your original question.  There is also a tutorial on signing.  If you are getting &quot;true&quot; back from the verify method, it means that you were successful.  But in this case you are actually signing a digest of the digest and not the digest of the actual file."},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380687515,"post_id":19129085,"comment_id":28290519,"body_markdown":"I just want to make sure if it is correct i think.\nfirst, i need to input the file (2.jpg), and then sign the file with private key to generate the digital signature, and then use public key to verify the digital signature to get message digest.\n\nif SHA256withRSA will automatically generate the message digest, but how i can print out the content of that message digest??\n\nI should not generate the message digest, but i still can not understand why the &quot;data2&quot; and &quot;encryptmd&quot; both are the same string, and one can not work.","body":"I just want to make sure if it is correct i think. first, i need to input the file (2.jpg), and then sign the file with private key to generate the digital signature, and then use public key to verify the digital signature to get message digest.  if SHA256withRSA will automatically generate the message digest, but how i can print out the content of that message digest??  I should not generate the message digest, but i still can not understand why the &quot;data2&quot; and &quot;encryptmd&quot; both are the same string, and one can not work."},{"owner":{"account_id":1852643,"reputation":12660,"user_id":1678858,"display_name":"gtrig"},"score":2,"creation_date":1380696217,"post_id":19129085,"comment_id":28292869,"body_markdown":"Why do you need the digest?  You should only sign the 2.jpg file, which gives you a byte array, and then verify the signature.  You don&#39;t need the digest.  You can save the signature to a file much easier than you are doing.  Please re-read the Java tutorial completely to see how simple this process is.  You are making it much more complicated (and error-prone) than it needs to be.","body":"Why do you need the digest?  You should only sign the 2.jpg file, which gives you a byte array, and then verify the signature.  You don&#39;t need the digest.  You can save the signature to a file much easier than you are doing.  Please re-read the Java tutorial completely to see how simple this process is.  You are making it much more complicated (and error-prone) than it needs to be."},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380724555,"post_id":19129085,"comment_id":28306775,"body_markdown":"when i do verify i need to compare two message digest. one is using public key to verify digital signature to get message digest-1, and then using hash function to calculate .jpg to generate the message digest-2. finally to compare message digest-1 and message digest-2. But if","body":"when i do verify i need to compare two message digest. one is using public key to verify digital signature to get message digest-1, and then using hash function to calculate .jpg to generate the message digest-2. finally to compare message digest-1 and message digest-2. But if"},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380725486,"post_id":19129085,"comment_id":28307450,"body_markdown":"I already delete the code of message digest.\n\n`public void firstDigitalSignature() throws IOException, NoSuchAlgorithmException, Throwable\n{\n\t  FileInputStream fis = new FileInputStream(&quot;C:\\\\Directroy1\\\\2.jpg&quot;);\n\t  ba = new byte[fis.available()];\n\t  fis.read(ba);\n\t  fis.close();\n    Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n    signature.initSign(privateKey);\n    signature.update(ba);\n    encryptmd= signature.sign();\n    StringBuffer hexString2 = new StringBuffer();\n    for(int i=0;i&lt;encryptmd.length;i++){\n      hexString2.append(Integer.toHexString(0xFF &amp; encryptmd[i]));`","body":"I already delete the code of message digest.  <code>public void firstDigitalSignature() throws IOException, NoSuchAlgorithmException, Throwable { \t  FileInputStream fis = new FileInputStream(&quot;C:\\\\Directroy1\\\\2.jpg&quot;); \t  ba = new byte[fis.available()]; \t  fis.read(ba); \t  fis.close();     Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);     signature.initSign(privateKey);     signature.update(ba);     encryptmd= signature.sign();     StringBuffer hexString2 = new StringBuffer();     for(int i=0;i&lt;encryptmd.length;i++){       hexString2.append(Integer.toHexString(0xFF &amp; encryptmd[i]));</code>"},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380725633,"post_id":19129085,"comment_id":28307558,"body_markdown":"But it still gave me the same error. \n`public void firstVerify() throws IOException, NoSuchAlgorithmException, Throwable \n {\n    FileInputStream fis2 = new FileInputStream(&quot;C:\\\\Directroy111\\\\Digital Signature Doctor.txt&quot;);\n\t  byte [] ba2 = new byte[fis2.available()];\n\t  fis2.read(ba2);\n\t  fis2.close();\n\t  Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n      signature.initVerify(publicKey);\n      signature.update(ba);\n  \t  boolean verify=signature.verify(ba2);\n  \t  System.out.println(verify);\n  \tSystem.out.println(&quot;true or false: &quot;+verify);     \n     \n\t    } `","body":"But it still gave me the same error.  <code>public void firstVerify() throws IOException, NoSuchAlgorithmException, Throwable   {     FileInputStream fis2 = new FileInputStream(&quot;C:\\\\Directroy111\\\\Digital Signature Doctor.txt&quot;); \t  byte [] ba2 = new byte[fis2.available()]; \t  fis2.read(ba2); \t  fis2.close(); \t  Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);       signature.initVerify(publicKey);       signature.update(ba);   \t  boolean verify=signature.verify(ba2);   \t  System.out.println(verify);   \tSystem.out.println(&quot;true or false: &quot;+verify);            \t    } </code>"},{"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"score":0,"creation_date":1380725754,"post_id":19129085,"comment_id":28307667,"body_markdown":"once i replace  `boolean verify=signature.verify(ba2);` to  `boolean verify=signature.verify(ba2);`, the error is gone, and then print the &quot;true&quot;.\nBTW, i was looking for help for comments, but i didnt see how i can make the code to change line automatically.","body":"once i replace  <code>boolean verify=signature.verify(ba2);</code> to  <code>boolean verify=signature.verify(ba2);</code>, the error is gone, and then print the &quot;true&quot;. BTW, i was looking for help for comments, but i didnt see how i can make the code to change line automatically."},{"owner":{"account_id":1852643,"reputation":12660,"user_id":1678858,"display_name":"gtrig"},"score":1,"creation_date":1380752615,"post_id":19129085,"comment_id":28321923,"body_markdown":"You don&#39;t need the digest.  Also, the Signature.verify() method does NOT give message digests.  It only gives true/false.  Getting &quot;true&quot; is all you need to verify a signature of a message with a trusted public key.  Look at the Java tutorial that you linked to in your question.  Also look at the answer provided by GregS.  No message digests are needed.","body":"You don&#39;t need the digest.  Also, the Signature.verify() method does NOT give message digests.  It only gives true/false.  Getting &quot;true&quot; is all you need to verify a signature of a message with a trusted public key.  Look at the Java tutorial that you linked to in your question.  Also look at the answer provided by GregS.  No message digests are needed."}],"tags":[],"owner":{"account_id":1852643,"reputation":12660,"user_id":1678858,"display_name":"gtrig"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380680860,"creation_date":1380680860,"answer_id":19129085,"question_id":19127079,"body_markdown":"I see a couple issues here.  First, the actual signing code should be included with your question as well.  Without being able to see the signing code, it&#39;s more difficult to debug the problem.  Check if your signing algorithm is the same as your verification algorithm (SHA256withRSA).  \r\n\r\nNext, if you&#39;re using the `SHA256withRSA` algorithm, you don&#39;t need to calculate a message digest first.  The algorithm will calculate it for you and sign the digest.  You just pass in the entire file to be signed.\r\n\r\nIn your verification step, you are updating the Signature object with the same file that you are saying is the signature.  Both files are `Digital Signature Doctor.txt`.  You should update the Signature object with the file to be signed, which I believe from your example is `2.jpg`.  Then when you call the `verify()` method, pass in the signature bytes.\r\n\r\nFinally, you are misinterpreting the return value of `verify()`.  It returns a boolean.  It does not return the message digest or the original message.  When your code does `String.valueOf(decryptmd2)`, the value will either be &quot;false&quot; or &quot;true&quot;.\r\n\r\nI&#39;m not sure why you are trying to compare the message digests.  Let&#39;s say you are sent a message with a signature signed by a private key corresponding to a public key that you trust.  IF the `verify()` method returns true, you can be sure that:\r\n\r\n - the message was signed by that person\r\n - the message you received is identical to the message that was signed\r\n\r\nThat should be sufficient for what you need.\r\n","title":"Difference result by using sign and verify for signature","body":"<p>I see a couple issues here.  First, the actual signing code should be included with your question as well.  Without being able to see the signing code, it's more difficult to debug the problem.  Check if your signing algorithm is the same as your verification algorithm (SHA256withRSA).  </p>\n\n<p>Next, if you're using the <code>SHA256withRSA</code> algorithm, you don't need to calculate a message digest first.  The algorithm will calculate it for you and sign the digest.  You just pass in the entire file to be signed.</p>\n\n<p>In your verification step, you are updating the Signature object with the same file that you are saying is the signature.  Both files are <code>Digital Signature Doctor.txt</code>.  You should update the Signature object with the file to be signed, which I believe from your example is <code>2.jpg</code>.  Then when you call the <code>verify()</code> method, pass in the signature bytes.</p>\n\n<p>Finally, you are misinterpreting the return value of <code>verify()</code>.  It returns a boolean.  It does not return the message digest or the original message.  When your code does <code>String.valueOf(decryptmd2)</code>, the value will either be \"false\" or \"true\".</p>\n\n<p>I'm not sure why you are trying to compare the message digests.  Let's say you are sent a message with a signature signed by a private key corresponding to a public key that you trust.  IF the <code>verify()</code> method returns true, you can be sure that:</p>\n\n<ul>\n<li>the message was signed by that person</li>\n<li>the message you received is identical to the message that was signed</li>\n</ul>\n\n<p>That should be sufficient for what you need.</p>\n"},{"tags":[],"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380730671,"creation_date":1380730671,"answer_id":19141746,"question_id":19127079,"body_markdown":"Echoing gtrig&#39;s comments, here is a complete example showing signature creation and verification:\r\n\r\n    import java.io.*;\r\n    import java.security.*;\r\n    \r\n    public class RSASignatureExample {\r\n    \r\n    \tprivate static int BUFSIZE = 8192;\r\n    \tprivate PrivateKey privateKey;\r\n    \tprivate PublicKey publicKey;\r\n    \r\n    \tpublic RSASignatureExample() throws Exception {\r\n    \t\tKeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    \t\tkpg.initialize(1024);\r\n    \t\tKeyPair kp = kpg.generateKeyPair();\r\n    \t\tprivateKey = kp.getPrivate();\r\n    \t\tpublicKey = kp.getPublic();\r\n    \t}\r\n    \r\n    \tprivate static void processData(File f, Signature s) throws Exception {\r\n    \t\tBufferedInputStream bis = new BufferedInputStream(new FileInputStream(f), BUFSIZE);\r\n    \t\tbyte[] buf = new byte[BUFSIZE];\r\n    \t\tint numRead;\r\n    \t\twhile ((numRead = bis.read(buf)) &gt; 0) {\r\n    \t\t\ts.update(buf, 0, numRead);\r\n    \t\t}\r\n    \t\tbis.close();\r\n    \t}\r\n    \r\n    \tpublic byte[] sign(File fileToSign) throws Exception {\r\n    \t\tSignature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n    \t\tsignature.initSign(privateKey);\r\n    \t\tprocessData(fileToSign, signature);\r\n    \t\treturn signature.sign();\r\n    \t}\r\n    \r\n    \tpublic boolean verify(File fileToVerify, byte[] signatureBytes)\tthrows Exception {\r\n    \t\tSignature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n    \t\tsignature.initVerify(publicKey);\r\n    \t\tprocessData(fileToVerify, signature);\r\n    \t\treturn signature.verify(signatureBytes);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tRSASignatureExample example = new RSASignatureExample();\r\n    \t\tFile tempFile = File.createTempFile(&quot;rsa&quot;, null);\r\n    \t\tFileOutputStream fos = new FileOutputStream(tempFile);\r\n    \t\tfos.write(&quot;Hello World&quot;.getBytes(&quot;UTF-8&quot;));\r\n    \t\tfos.close();\r\n    \t\t\r\n    \t\t// Sign the file\r\n    \t\t\r\n    \t\tbyte [] signatureBytes = example.sign(tempFile);\r\n    \t\t\r\n    \t\t// Verify the signature\r\n    \t\t\r\n    \t\tboolean isVerified = example.verify(tempFile, signatureBytes);\r\n    \t\tSystem.out.printf(&quot;Signature verified ?: %b&quot;, isVerified);\r\n    \t}\r\n    }\r\n\r\n","title":"Difference result by using sign and verify for signature","body":"<p>Echoing gtrig's comments, here is a complete example showing signature creation and verification:</p>\n\n<pre><code>import java.io.*;\nimport java.security.*;\n\npublic class RSASignatureExample {\n\n    private static int BUFSIZE = 8192;\n    private PrivateKey privateKey;\n    private PublicKey publicKey;\n\n    public RSASignatureExample() throws Exception {\n        KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"RSA\");\n        kpg.initialize(1024);\n        KeyPair kp = kpg.generateKeyPair();\n        privateKey = kp.getPrivate();\n        publicKey = kp.getPublic();\n    }\n\n    private static void processData(File f, Signature s) throws Exception {\n        BufferedInputStream bis = new BufferedInputStream(new FileInputStream(f), BUFSIZE);\n        byte[] buf = new byte[BUFSIZE];\n        int numRead;\n        while ((numRead = bis.read(buf)) &gt; 0) {\n            s.update(buf, 0, numRead);\n        }\n        bis.close();\n    }\n\n    public byte[] sign(File fileToSign) throws Exception {\n        Signature signature = Signature.getInstance(\"SHA256withRSA\");\n        signature.initSign(privateKey);\n        processData(fileToSign, signature);\n        return signature.sign();\n    }\n\n    public boolean verify(File fileToVerify, byte[] signatureBytes) throws Exception {\n        Signature signature = Signature.getInstance(\"SHA256withRSA\");\n        signature.initVerify(publicKey);\n        processData(fileToVerify, signature);\n        return signature.verify(signatureBytes);\n    }\n\n    public static void main(String[] args) throws Exception {\n        RSASignatureExample example = new RSASignatureExample();\n        File tempFile = File.createTempFile(\"rsa\", null);\n        FileOutputStream fos = new FileOutputStream(tempFile);\n        fos.write(\"Hello World\".getBytes(\"UTF-8\"));\n        fos.close();\n\n        // Sign the file\n\n        byte [] signatureBytes = example.sign(tempFile);\n\n        // Verify the signature\n\n        boolean isVerified = example.verify(tempFile, signatureBytes);\n        System.out.printf(\"Signature verified ?: %b\", isVerified);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2456422,"reputation":19,"user_id":2141529,"display_name":"user2141529"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10640,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1671840375,"creation_date":1380666525,"question_id":19127079,"body_markdown":"I tried to use private key to sign the message digest to generate the signature, and then use public key to verify the signature to get message digest. I want to compare with this two message digests, but i got a error about &quot;java.security.SignatureException: Signature length not correct: got 250 but was expecting 128&quot;.\r\n\r\nWhen i tried to print out Arrays.toString(data2), its all 0.\r\nI also tried to follow the link: [Verify the Signature][1]\r\n\r\n \r\n\r\n     public void firstDigitalSignature() throws IOException, NoSuchAlgorithmException, Throwable\r\n     {\r\n\r\n         //*Generate Message Digest1*\r\n         byte[] buffer=null;\r\n         buffer = new byte[(int) inputFile1.length()]; \r\n         FileInputStream fis = new FileInputStream(inputFile1);\r\n         fis.read(buffer);\r\n         MessageDigest messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;); \r\n         messageDigest.update(buffer);\r\n         digestBytes = messageDigest.digest();  \r\n         //convert the byte to hex format method 2\r\n         StringBuffer hexString = new StringBuffer();\r\n         for(int i=0;i&lt;digestBytes.length;i++){\r\n             hexString.append(Integer.toHexString(0xFF &amp; digestBytes[i]));\r\n         }\r\n         System.out.println(&quot;Message Digest-1: &quot;+hexString.toString()); \r\n\r\n       //*Using private key to encrypt the image-Digital signauture1 *\r\n         Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n         signature.initSign(privateKey);\r\n         signature.update(digestBytes);\r\n         encryptmd= signature.sign();\r\n         StringBuffer hexString2 = new StringBuffer();\r\n         for(int i=0;i&lt;encryptmd.length;i++){\r\n              hexString2.append(Integer.toHexString(0xFF &amp; encryptmd[i]));\r\n              x=hexString2.toString();\r\n              File file = new File(&quot;c://Directroy111&quot;);\r\n              if (!file.exists()) {  \r\n                 if (file.mkdir()) {\r\n                     System.out.println(&quot;Doctor is created!&quot;);\r\n                 } else {\r\n                     System.out.println(&quot;Failed to create Doctor!&quot;);\r\n                 }\r\n          }\r\n             BufferedWriter out = new BufferedWriter(\r\n             new FileWriter(&quot;C:\\\\Directroy111\\\\Digital Signature Doctor.txt&quot;));\r\n             out.write(x);\r\n             out.close();\r\n             this.copyImageFiles(sourceFile, destinationDir);\r\n          }\r\n              System.out.println(&quot;Message Digest Encrypted-1: &quot;+hexString2.toString()+&quot;\\n&quot;);\r\n       }\r\n\r\n\r\n    public void firstVerify() throws IOException, NoSuchAlgorithmException, Throwable\r\n    {\r\n    //Generate Message Digest1 - Decrypt\r\n    String verifyfile= &quot;c:\\\\Directroy111\\\\2.jpg&quot;;\r\n    File decryptfile= new File(verifyfile);\r\n    byte[] buffer2=null;\r\n    buffer2 = new byte[(int) decryptfile.length()]; //array type is integer, thats why we use int here\r\n    FileInputStream fis2 = new FileInputStream(decryptfile);\r\n    fis2.read(buffer2);\r\n    MessageDigest messageDigest2 = MessageDigest.getInstance(&quot;SHA-256&quot;); \r\n    messageDigest2.update(buffer2);\r\n    byte[] digestBytes2 = messageDigest2.digest();  \r\n    StringBuffer hexString22 = new StringBuffer();\r\n    for(int i=0;i&lt;digestBytes2.length;i++){\r\n      hexString22.append(Integer.toHexString(0xFF &amp; digestBytes2[i]));\r\n    }\r\n    System.out.println(&quot;Message Digest(Hash)-1(Decryption): &quot;+hexString22.toString()); //System.out.println(hexString);\r\n\r\n       //*******Decypt*************//\r\n    Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n      signature.initVerify(publicKey);\r\n      //FileReader read= new FileReader(&quot;C:\\\\TEMP1\\\\Doctor\\\\Digital Signature Doctor.txt&quot;);\r\n      FileInputStream br2 = new FileInputStream(&quot;C:\\\\Directroy111\\\\Digital Signature Doctor.txt&quot;);\r\n     //BufferedInputStream bis=new BufferedInputStream(br2);\r\n      //BufferedReader br = new BufferedReader(new FileReader(br2));\r\n      byte[] data2=new byte[br2.available()];\r\n      System.out.println(Arrays.toString(data2));\r\n      br2.read(data2);\r\n      br2.close();\r\n\r\n      FileInputStream datafis=new FileInputStream(&quot;C:\\\\Directroy111\\\\Digital Signature Doctor.txt&quot;);\r\n      BufferedInputStream bufin=new BufferedInputStream(datafis);\r\n      byte[] buffer=new byte[1024];\r\n      \r\n      int len;\r\n      while(bufin.available()!=0){\r\n              len=bufin.read(buffer);\r\n              signature.update(buffer,0,len);\r\n          };\r\n          bufin.close();\r\n          System.out.println(&quot;111111&quot;);\r\n          boolean decryptmd2= signature.verify(data2);\r\n          System.out.println(&quot;signature verifies: &quot; + decryptmd2);\r\n          if(decryptmd2==false){\r\n           str = String.valueOf(decryptmd2);\r\n          System.out.println(&quot;Message Digest-1(Decryption): &quot;+str);\r\n          }else{\r\n              System.out.println(&quot;1111&quot;);\r\n          }\r\n\r\n              //**Verify*\r\n          if(str.equals(hexString22.toString())){\r\n            System.out.println(&quot;Digital Signature-1 was not modified&quot;+&quot;\\n&quot;);\r\n          }else{\r\n\r\n            System.out.println(&quot;ERROR!!!  Digital Signature-1 was modified&quot;+&quot;\\n&quot;);\r\n          }\r\n\r\n    } \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/security/apisign/vstep4.html","title":"Difference result by using sign and verify for signature","body":"<p>I tried to use private key to sign the message digest to generate the signature, and then use public key to verify the signature to get message digest. I want to compare with this two message digests, but i got a error about \"java.security.SignatureException: Signature length not correct: got 250 but was expecting 128\".</p>\n\n<p>When i tried to print out Arrays.toString(data2), its all 0.\nI also tried to follow the link: <a href=\"http://docs.oracle.com/javase/tutorial/security/apisign/vstep4.html\" rel=\"nofollow\">Verify the Signature</a></p>\n\n<pre><code> public void firstDigitalSignature() throws IOException, NoSuchAlgorithmException, Throwable\n {\n\n     //*Generate Message Digest1*\n     byte[] buffer=null;\n     buffer = new byte[(int) inputFile1.length()]; \n     FileInputStream fis = new FileInputStream(inputFile1);\n     fis.read(buffer);\n     MessageDigest messageDigest = MessageDigest.getInstance(\"SHA-256\"); \n     messageDigest.update(buffer);\n     digestBytes = messageDigest.digest();  \n     //convert the byte to hex format method 2\n     StringBuffer hexString = new StringBuffer();\n     for(int i=0;i&lt;digestBytes.length;i++){\n         hexString.append(Integer.toHexString(0xFF &amp; digestBytes[i]));\n     }\n     System.out.println(\"Message Digest-1: \"+hexString.toString()); \n\n   //*Using private key to encrypt the image-Digital signauture1 *\n     Signature signature = Signature.getInstance(\"SHA256withRSA\");\n     signature.initSign(privateKey);\n     signature.update(digestBytes);\n     encryptmd= signature.sign();\n     StringBuffer hexString2 = new StringBuffer();\n     for(int i=0;i&lt;encryptmd.length;i++){\n          hexString2.append(Integer.toHexString(0xFF &amp; encryptmd[i]));\n          x=hexString2.toString();\n          File file = new File(\"c://Directroy111\");\n          if (!file.exists()) {  \n             if (file.mkdir()) {\n                 System.out.println(\"Doctor is created!\");\n             } else {\n                 System.out.println(\"Failed to create Doctor!\");\n             }\n      }\n         BufferedWriter out = new BufferedWriter(\n         new FileWriter(\"C:\\\\Directroy111\\\\Digital Signature Doctor.txt\"));\n         out.write(x);\n         out.close();\n         this.copyImageFiles(sourceFile, destinationDir);\n      }\n          System.out.println(\"Message Digest Encrypted-1: \"+hexString2.toString()+\"\\n\");\n   }\n\n\npublic void firstVerify() throws IOException, NoSuchAlgorithmException, Throwable\n{\n//Generate Message Digest1 - Decrypt\nString verifyfile= \"c:\\\\Directroy111\\\\2.jpg\";\nFile decryptfile= new File(verifyfile);\nbyte[] buffer2=null;\nbuffer2 = new byte[(int) decryptfile.length()]; //array type is integer, thats why we use int here\nFileInputStream fis2 = new FileInputStream(decryptfile);\nfis2.read(buffer2);\nMessageDigest messageDigest2 = MessageDigest.getInstance(\"SHA-256\"); \nmessageDigest2.update(buffer2);\nbyte[] digestBytes2 = messageDigest2.digest();  \nStringBuffer hexString22 = new StringBuffer();\nfor(int i=0;i&lt;digestBytes2.length;i++){\n  hexString22.append(Integer.toHexString(0xFF &amp; digestBytes2[i]));\n}\nSystem.out.println(\"Message Digest(Hash)-1(Decryption): \"+hexString22.toString()); //System.out.println(hexString);\n\n   //*******Decypt*************//\nSignature signature = Signature.getInstance(\"SHA256withRSA\");\n  signature.initVerify(publicKey);\n  //FileReader read= new FileReader(\"C:\\\\TEMP1\\\\Doctor\\\\Digital Signature Doctor.txt\");\n  FileInputStream br2 = new FileInputStream(\"C:\\\\Directroy111\\\\Digital Signature Doctor.txt\");\n //BufferedInputStream bis=new BufferedInputStream(br2);\n  //BufferedReader br = new BufferedReader(new FileReader(br2));\n  byte[] data2=new byte[br2.available()];\n  System.out.println(Arrays.toString(data2));\n  br2.read(data2);\n  br2.close();\n\n  FileInputStream datafis=new FileInputStream(\"C:\\\\Directroy111\\\\Digital Signature Doctor.txt\");\n  BufferedInputStream bufin=new BufferedInputStream(datafis);\n  byte[] buffer=new byte[1024];\n\n  int len;\n  while(bufin.available()!=0){\n          len=bufin.read(buffer);\n          signature.update(buffer,0,len);\n      };\n      bufin.close();\n      System.out.println(\"111111\");\n      boolean decryptmd2= signature.verify(data2);\n      System.out.println(\"signature verifies: \" + decryptmd2);\n      if(decryptmd2==false){\n       str = String.valueOf(decryptmd2);\n      System.out.println(\"Message Digest-1(Decryption): \"+str);\n      }else{\n          System.out.println(\"1111\");\n      }\n\n          //**Verify*\n      if(str.equals(hexString22.toString())){\n        System.out.println(\"Digital Signature-1 was not modified\"+\"\\n\");\n      }else{\n\n        System.out.println(\"ERROR!!!  Digital Signature-1 was modified\"+\"\\n\");\n      }\n\n} \n</code></pre>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"account_id":1043355,"reputation":1365,"user_id":1048860,"accept_rate":63,"display_name":"abksrv"},"score":38,"creation_date":1503118631,"post_id":4343202,"comment_id":78493958,"body_markdown":"Check out this excellent talk : https://youtu.be/V1vQf4qyMXg?t=22m24s","body":"Check out this excellent talk : <a href=\"https://youtu.be/V1vQf4qyMXg?t=22m24s\" rel=\"nofollow noreferrer\">youtu.be/V1vQf4qyMXg?t=22m24s</a>"},{"owner":{"account_id":1827567,"reputation":1054,"user_id":1659875,"display_name":"spandey"},"score":1,"creation_date":1510050113,"post_id":4343202,"comment_id":81260228,"body_markdown":"here null we can add","body":"here null we can add"},{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":0,"creation_date":1547965289,"post_id":4343202,"comment_id":95370609,"body_markdown":"A very good explanation with an example @ youtube.com/watch?v=34oiEq9nD0M&amp;feature=youtu.be&amp;t=1630 which explains &lt;? super T&gt; part but, gives an idea of another.","body":"A very good explanation with an example @ youtube.com/watch?v=34oiEq9nD0M&amp;feature=youtu.be&amp;t=1630 which explains &lt;? super T&gt; part but, gives an idea of another."},{"owner":{"account_id":7151291,"reputation":8900,"user_id":5465237,"display_name":"John XU"},"score":0,"creation_date":1595728338,"post_id":4343202,"comment_id":111573855,"body_markdown":"upper bounded: https://docs.oracle.com/javase/tutorial/java/generics/upperBounded.html  lower bounded: https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html","body":"upper bounded: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/upperBounded.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/upperBounded.h&zwnj;&#8203;tml</a>  lower bounded: <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/lowerBounded.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":7613344,"reputation":197,"user_id":5773581,"accept_rate":100,"display_name":"Abhishek Kumar"},"score":1,"creation_date":1653755168,"post_id":4343202,"comment_id":127930498,"body_markdown":"I think of it like this: List&lt;? extends B&gt; means List whose elements have more than equal feature than B(all it&#39;s sub classes).   List&lt;? super B&gt; means List whose elements have less than equal feature than B(all it&#39;s super classes).","body":"I think of it like this: List&lt;? extends B&gt; means List whose elements have more than equal feature than B(all it&#39;s sub classes).   List&lt;? super B&gt; means List whose elements have less than equal feature than B(all it&#39;s super classes)."}],"answers":[{"tags":[],"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"comment_count":0,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1291359861,"creation_date":1291359861,"answer_id":4343237,"question_id":4343202,"body_markdown":"super is a lower bound, and extends is an upper bound.\r\n\r\nAccording to http://download.oracle.com/javase/tutorial/extra/generics/morefun.html :\r\n\r\n&gt; The solution is to use a form of\r\n&gt; bounded wildcard we haven&#39;t seen yet:\r\n&gt; wildcards with a lower bound. The\r\n&gt; syntax ? super T denotes an unknown\r\n&gt; type that is a supertype of T (or T\r\n&gt; itself; remember that the supertype\r\n&gt; relation is reflexive). It is the dual\r\n&gt; of the bounded wildcards we&#39;ve been\r\n&gt; using, where we use ? extends T to\r\n&gt; denote an unknown type that is a\r\n&gt; subtype of T.","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>super is a lower bound, and extends is an upper bound.</p>\n\n<p>According to <a href=\"http://download.oracle.com/javase/tutorial/extra/generics/morefun.html\" rel=\"noreferrer\">http://download.oracle.com/javase/tutorial/extra/generics/morefun.html</a> :</p>\n\n<blockquote>\n  <p>The solution is to use a form of\n  bounded wildcard we haven't seen yet:\n  wildcards with a lower bound. The\n  syntax ? super T denotes an unknown\n  type that is a supertype of T (or T\n  itself; remember that the supertype\n  relation is reflexive). It is the dual\n  of the bounded wildcards we've been\n  using, where we use ? extends T to\n  denote an unknown type that is a\n  subtype of T.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":235146,"reputation":11962,"user_id":501767,"accept_rate":80,"display_name":"Anand"},"score":1,"creation_date":1291365601,"post_id":4343547,"comment_id":4723421,"body_markdown":"I have a doubt here: If I need to add to a generic list and then get data from it, what should i do?","body":"I have a doubt here: If I need to add to a generic list and then get data from it, what should i do?"},{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":2,"creation_date":1291384962,"post_id":4343547,"comment_id":4726529,"body_markdown":"@Anand - See the 3rd bullet under `PECS` above.  You&#39;ll probably need to use a specific generic parameters (no wildcard, e.g. `List&lt;T&gt;`).  Unfortunately, you can&#39;t have everything.  You can either create a flexible reference to list by using a generic wildcard (e.g. `&lt;? super T&gt;` or `&lt;? extends T&gt;` and suffer limitations with respect to what you can add or read from it. Or else you can a less flexible reference to a list with a specific type (e.g. `List&lt;T&gt;`) and get better guarantees as to what you can read /write from it.","body":"@Anand - See the 3rd bullet under <code>PECS</code> above.  You&#39;ll probably need to use a specific generic parameters (no wildcard, e.g. <code>List&lt;T&gt;</code>).  Unfortunately, you can&#39;t have everything.  You can either create a flexible reference to list by using a generic wildcard (e.g. <code>&lt;? super T&gt;</code> or <code>&lt;? extends T&gt;</code> and suffer limitations with respect to what you can add or read from it. Or else you can a less flexible reference to a list with a specific type (e.g. <code>List&lt;T&gt;</code>) and get better guarantees as to what you can read /write from it."},{"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"score":1,"creation_date":1361200012,"post_id":4343547,"comment_id":20965795,"body_markdown":"as an example you can see Collections copy method\npublic static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\n @ http://www.docjar.com/html/api/java/util/Collections.java.html","body":"as an example you can see Collections copy method public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {  @ <a href=\"http://www.docjar.com/html/api/java/util/Collections.java.html\" rel=\"nofollow noreferrer\">docjar.com/html/api/java/util/Collections.java.html</a>"},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":4,"creation_date":1392246004,"post_id":4343547,"comment_id":32883610,"body_markdown":"@BertF: great explanation.one correction (if it ) do you mean to say`List&lt;? super Integer&gt; foo3` instead of `List&lt;? super Number&gt; foo3` below `super` ?","body":"@BertF: great explanation.one correction (if it ) do you mean to say<code>List&lt;? super Integer&gt; foo3</code> instead of <code>List&lt;? super Number&gt; foo3</code> below <code>super</code> ?"},{"owner":{"account_id":4028938,"reputation":4478,"user_id":3315914,"display_name":"rpax"},"score":18,"creation_date":1429996347,"post_id":4343547,"comment_id":47866499,"body_markdown":"I have reached this answer a couple of times. I whish I could vote more than once. Do you know that you are #1 in [google search results](https://www.google.es/search?q=Difference%20between%20%3C?%20super%20T%3E%20and%20%3C?%20extends%20T%3E%20in%20Java)?","body":"I have reached this answer a couple of times. I whish I could vote more than once. Do you know that you are #1 in <a href=\"https://www.google.es/search?q=Difference%20between%20%3C?%20super%20T%3E%20and%20%3C?%20extends%20T%3E%20in%20Java\" rel=\"nofollow noreferrer\">google search results</a>?"},{"owner":{"account_id":1532505,"reputation":1954,"user_id":1429367,"accept_rate":71,"display_name":"leokom"},"score":1,"creation_date":1444201489,"post_id":4343547,"comment_id":53796446,"body_markdown":"_You can add an instance of a subclass of Integer_\nthis is wrong : Integer is a final class","body":"<i>You can add an instance of a subclass of Integer</i> this is wrong : Integer is a final class"},{"owner":{"account_id":3676496,"reputation":441,"user_id":3062486,"accept_rate":12,"display_name":"IntelliData"},"score":3,"creation_date":1449003298,"post_id":4343547,"comment_id":55815244,"body_markdown":"Beautiful answer! I have 1 question though, you wrote &#39;You can add an instance of a subclass of Integer because an instance of a subclass of Integer is allowed in any of the above lists&#39; - I thought you can only add a supertype of Integer because of  &lt;? super Integer&gt;?","body":"Beautiful answer! I have 1 question though, you wrote &#39;You can add an instance of a subclass of Integer because an instance of a subclass of Integer is allowed in any of the above lists&#39; - I thought you can only add a supertype of Integer because of  &lt;? super Integer&gt;?"},{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":0,"creation_date":1449192947,"post_id":4343547,"comment_id":55912177,"body_markdown":"@IntelliData - For the declaration `List&lt;? super X&gt; foo`, the  `&lt;? super X&gt;` part of the declaration *DOES NOT* describe what you can add to the list - it describes what kinds of lists that the variable `foo` can point to.  As an implication of all the different kinds of lists that `foo` can legally point to, only certain types of objects can be added to `foo` that is guaranteed to be acceptable to *ANY* type of list that `foo` may be pointed to.","body":"@IntelliData - For the declaration <code>List&lt;? super X&gt; foo</code>, the  <code>&lt;? super X&gt;</code> part of the declaration <i>DOES NOT</i> describe what you can add to the list - it describes what kinds of lists that the variable <code>foo</code> can point to.  As an implication of all the different kinds of lists that <code>foo</code> can legally point to, only certain types of objects can be added to <code>foo</code> that is guaranteed to be acceptable to <i>ANY</i> type of list that <code>foo</code> may be pointed to."},{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":0,"creation_date":1449194057,"post_id":4343547,"comment_id":55912472,"body_markdown":"@IntelliData - Said another way: if `List&lt;? super VEGETABLES&gt; foo` is a special box that can contain a person with a special diet, i.e. a vegetarian who consumes only VEGETABLES and subclasses of VEGETABLES (i.e. `List&lt;VEGETABLES&gt;`) or that can contain a person with a &quot;normal&quot; diet -can eat vegetables, meat, dairy, or whatever (i.e. `List&lt;Object&gt;`), then what  kind of food can I throw in the box that I&#39;m sure that whoever is in the box will eat it?  Only VEGETABLES or subclasses of VEGETABLES can be fed to the box `foo` since only they are edible to whichever person/List is really in the box.","body":"@IntelliData - Said another way: if <code>List&lt;? super VEGETABLES&gt; foo</code> is a special box that can contain a person with a special diet, i.e. a vegetarian who consumes only VEGETABLES and subclasses of VEGETABLES (i.e. <code>List&lt;VEGETABLES&gt;</code>) or that can contain a person with a &quot;normal&quot; diet -can eat vegetables, meat, dairy, or whatever (i.e. <code>List&lt;Object&gt;</code>), then what  kind of food can I throw in the box that I&#39;m sure that whoever is in the box will eat it?  Only VEGETABLES or subclasses of VEGETABLES can be fed to the box <code>foo</code> since only they are edible to whichever person/List is really in the box."},{"owner":{"account_id":3676496,"reputation":441,"user_id":3062486,"accept_rate":12,"display_name":"IntelliData"},"score":0,"creation_date":1449241120,"post_id":4343547,"comment_id":55934483,"body_markdown":"@Bert F I still don&#39;t get it: if &#39;Only VEGETABLES or subclasses of VEGETABLES can be fed to the box foo&#39;, then what does &#39;&lt;? super VEGETABLES&gt; mean?","body":"@Bert F I still don&#39;t get it: if &#39;Only VEGETABLES or subclasses of VEGETABLES can be fed to the box foo&#39;, then what does &#39;&lt;? super VEGETABLES&gt; mean?"},{"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"score":9,"creation_date":1449270635,"post_id":4343547,"comment_id":55950109,"body_markdown":"@Bert F &#39;&lt;? super VEGETABLE&gt;&#39; does *NOT* describe what things you can add to &#39;foo&#39; - it describes the kinds of Lists that &#39;foo&#39; can point to.  &#39;List&lt;? super VEGETABLE&gt; foo&#39; means &#39;foo&#39; is pointing at either List&lt;VEGETABLE&gt; or LIST&lt;FOOD&gt; at any given time, but you don&#39;t know which.  Therefore you can only give &#39;foo&#39; stuff that both would like.  Both lists are okay to be given a VEGETABLE or subclass of VEGETABLE, but you can&#39;t give FOOD or MEAT (because List&lt;VEGETABLE&gt; can&#39;t eat FOOD or MEAT - has be a VEGETABLE).","body":"@Bert F &#39;&lt;? super VEGETABLE&gt;&#39; does <i>NOT</i> describe what things you can add to &#39;foo&#39; - it describes the kinds of Lists that &#39;foo&#39; can point to.  &#39;List&lt;? super VEGETABLE&gt; foo&#39; means &#39;foo&#39; is pointing at either List&lt;VEGETABLE&gt; or LIST&lt;FOOD&gt; at any given time, but you don&#39;t know which.  Therefore you can only give &#39;foo&#39; stuff that both would like.  Both lists are okay to be given a VEGETABLE or subclass of VEGETABLE, but you can&#39;t give FOOD or MEAT (because List&lt;VEGETABLE&gt; can&#39;t eat FOOD or MEAT - has be a VEGETABLE)."},{"owner":{"account_id":1661129,"reputation":3626,"user_id":1529412,"accept_rate":73,"display_name":"user1529412"},"score":2,"creation_date":1452572883,"post_id":4343547,"comment_id":57217346,"body_markdown":"For completness, List&lt;? extends Number&gt; foo3, In the writing part, you can actually write null, as in: foo3.add(null);","body":"For completness, List&lt;? extends Number&gt; foo3, In the writing part, you can actually write null, as in: foo3.add(null);"},{"owner":{"account_id":929792,"reputation":3142,"user_id":959876,"display_name":"moldovean"},"score":1,"creation_date":1477420782,"post_id":4343547,"comment_id":67756926,"body_markdown":"after reading your answer I had to try it out on my own. I did a simple class A{}\nclass B extends A{}\nclass C extends B{} and convinced myself that I had a totally wrong view about generics! :) Thank you so much!","body":"after reading your answer I had to try it out on my own. I did a simple class A{} class B extends A{} class C extends B{} and convinced myself that I had a totally wrong view about generics! :) Thank you so much!"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1489135413,"post_id":4343547,"comment_id":72548293,"body_markdown":"Very good explanation! A tiny little note: *&quot;You can add an instance of a subclass of Integer because an instance of a subclass of Integer is allowed in any of the above lists.&quot;*  correct, except that the `Integer` class is declared final and therefore cannot be extended.","body":"Very good explanation! A tiny little note: <i>&quot;You can add an instance of a subclass of Integer because an instance of a subclass of Integer is allowed in any of the above lists.&quot;</i>  correct, except that the <code>Integer</code> class is declared final and therefore cannot be extended."},{"owner":{"account_id":4681588,"reputation":1955,"user_id":3790150,"display_name":"saeed"},"score":1,"creation_date":1492068303,"post_id":4343547,"comment_id":73833441,"body_markdown":"What is the usage doing like this \nList&lt;Number&gt; can allow to do all operation what List&lt;? super Number &gt; can do\nand List&lt;Number&gt; can allow all operation what List&lt;? extends Number &gt; can do","body":"What is the usage doing like this  List&lt;Number&gt; can allow to do all operation what List&lt;? super Number &gt; can do and List&lt;Number&gt; can allow all operation what List&lt;? extends Number &gt; can do"},{"owner":{"account_id":4254889,"reputation":3902,"user_id":3568919,"accept_rate":50,"display_name":"Nasif Md. Tanjim"},"score":1,"creation_date":1507897487,"post_id":4343547,"comment_id":80405734,"body_markdown":"Can&#39;t figure out what would be wrong if instead of &lt;? super T&gt; in the copy method it is &lt;T&gt; i.e.\n\n\n`\nclass Test {\n    static &lt;T&gt; void copy(List&lt;T&gt; dest, List&lt;? extends T&gt; src) {\n        for (int i = 0; i &lt; src.size(); i++)\n            dest.set(i, src.get(i));\n    }\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; src = new ArrayList&lt;&gt;(Arrays.asList(1, 2));\n\n        List&lt;Number&gt; dest = new ArrayList&lt;&gt;(Arrays.asList(3, 4));\n\n        copy(dest, src);\n\n        System.out.println(dest);\n    }\n}\n`","body":"Can&#39;t figure out what would be wrong if instead of &lt;? super T&gt; in the copy method it is &lt;T&gt; i.e.   ` class Test {     static &lt;T&gt; void copy(List&lt;T&gt; dest, List&lt;? extends T&gt; src) {         for (int i = 0; i &lt; src.size(); i++)             dest.set(i, src.get(i));     }      public static void main(String[] args) {         List&lt;Integer&gt; src = new ArrayList&lt;&gt;(Arrays.asList(1, 2));          List&lt;Number&gt; dest = new ArrayList&lt;&gt;(Arrays.asList(3, 4));          copy(dest, src);          System.out.println(dest);     } } `"},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1529566270,"post_id":4343547,"comment_id":88922246,"body_markdown":"Since `Number` is not widely used, it would be useful to add a comment about the relationship between `Number`, `Integer` and `Double` to complete this answer. (`Integer` and `Double` both extend `Number`.)","body":"Since <code>Number</code> is not widely used, it would be useful to add a comment about the relationship between <code>Number</code>, <code>Integer</code> and <code>Double</code> to complete this answer. (<code>Integer</code> and <code>Double</code> both extend <code>Number</code>.)"},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":1,"creation_date":1567326415,"post_id":4343547,"comment_id":101927012,"body_markdown":"I get no error when I execute the code:\n\t\tList&lt;? extends Number&gt; foo3 = new ArrayList&lt;Integer&gt;();\n\t\t((List&lt;Double&gt;) foo3).add(1.2);\n\t\tSystem.out.println(foo3.get(0));\n\nThat&#39;s to the point &quot;You can&#39;t add a Double because foo3 could be pointing at a List&lt;Integer&gt;.&quot;","body":"I get no error when I execute the code: \t\tList&lt;? extends Number&gt; foo3 = new ArrayList&lt;Integer&gt;(); \t\t((List&lt;Double&gt;) foo3).add(1.2); \t\tSystem.out.println(foo3.get(0));  That&#39;s to the point &quot;You can&#39;t add a Double because foo3 could be pointing at a List&lt;Integer&gt;.&quot;"},{"owner":{"account_id":3052317,"reputation":474,"user_id":2586617,"accept_rate":43,"display_name":"Neil"},"score":2,"creation_date":1568410063,"post_id":4343547,"comment_id":102278455,"body_markdown":"As mentioned by @Danon, a very nice explaination of genrics in Java 8 - https://nofluffjuststuff.com/magazine/2016/09/time_to_really_learn_generics_a_java_8_perspective","body":"As mentioned by @Danon, a very nice explaination of genrics in Java 8 - <a href=\"https://nofluffjuststuff.com/magazine/2016/09/time_to_really_learn_generics_a_java_8_perspective\" rel=\"nofollow noreferrer\">nofluffjuststuff.com/magazine/2016/09/&hellip;</a>"},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":1,"creation_date":1576341983,"post_id":4343547,"comment_id":104872058,"body_markdown":"@BertF it is valid to say in **extends**, on **reading** &quot;You can read a Object (or something above Number) because any of the lists that could be assigned to foo3 contain a Number or a subclass of Number.&quot; maybe you could add that on the bulltets","body":"@BertF it is valid to say in <b>extends</b>, on <b>reading</b> &quot;You can read a Object (or something above Number) because any of the lists that could be assigned to foo3 contain a Number or a subclass of Number.&quot; maybe you could add that on the bulltets"},{"owner":{"account_id":13889174,"reputation":2896,"user_id":10027592,"display_name":"starriet"},"score":1,"creation_date":1605664947,"post_id":4343547,"comment_id":114719095,"body_markdown":"Thanks, the last example explains everything!\nso, `we &quot;read&quot; from &quot;producer&quot;` and `&quot;write&quot; to &quot;consumer&quot;`.\nI have no idea where these vague producer&amp;consumer wording came from...\nAnyways I&#39;ll come back here in the future again.. :)","body":"Thanks, the last example explains everything! so, <code>we &quot;read&quot; from &quot;producer&quot;</code> and <code>&quot;write&quot; to &quot;consumer&quot;</code>. I have no idea where these vague producer&amp;consumer wording came from... Anyways I&#39;ll come back here in the future again.. :)"},{"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"score":1,"creation_date":1605905910,"post_id":4343547,"comment_id":114806454,"body_markdown":"[This site](https://medium.com/@isuru89/java-producer-extends-consumer-super-9fbb0e7dd268) elaborates in a concise way on this answer.","body":"<a href=\"https://medium.com/@isuru89/java-producer-extends-consumer-super-9fbb0e7dd268\" rel=\"nofollow noreferrer\">This site</a> elaborates in a concise way on this answer."},{"owner":{"account_id":9610073,"reputation":801,"user_id":7134739,"accept_rate":50,"display_name":"A srinivas"},"score":0,"creation_date":1618410904,"post_id":4343547,"comment_id":118593710,"body_markdown":"@Bert F In the producer concept, why can not Java have a mechanism to check the instance type just before adding the element?\n\nLet&#39;s say, in the Number type collection, you need to add a Number type element\nThen, do a instance check on the collection type and accordingly add it. \n\nit might not be elegant, still, it looks like a possible solution.\n\nThanks!!","body":"@Bert F In the producer concept, why can not Java have a mechanism to check the instance type just before adding the element?  Let&#39;s say, in the Number type collection, you need to add a Number type element Then, do a instance check on the collection type and accordingly add it.   it might not be elegant, still, it looks like a possible solution.  Thanks!!"},{"owner":{"account_id":1001293,"reputation":1879,"user_id":5337834,"accept_rate":88,"display_name":"John Strood"},"score":0,"creation_date":1641581598,"post_id":4343547,"comment_id":124850410,"body_markdown":"@BertF If `&lt;? extends Foo&gt;` becomes `&lt;Foo&gt;`, then does `&lt;? super Foo&gt;` become `&lt;Object&gt;`?","body":"@BertF If <code>&lt;? extends Foo&gt;</code> becomes <code>&lt;Foo&gt;</code>, then does <code>&lt;? super Foo&gt;</code> become <code>&lt;Object&gt;</code>?"},{"owner":{"account_id":3764140,"reputation":67,"user_id":3128115,"display_name":"TacoManStan"},"score":1,"creation_date":1644617106,"post_id":4343547,"comment_id":125663147,"body_markdown":"I want to emphasize how important it is to really understand the difference between `List&lt;? extends T&gt;` (or `List&lt;? super T&gt;`) and `List&lt;T&gt;`. There&#39;s really nothing left that needs explaining; prior comments, as well as the OP, are both incredibly well-written. The point I&#39;m trying to drive home is that if you don&#39;t immediately know the difference without thinking about it, it&#39;s probably an indicator that you should do more work with ALL types of generics until they are all second nature.","body":"I want to emphasize how important it is to really understand the difference between <code>List&lt;? extends T&gt;</code> (or <code>List&lt;? super T&gt;</code>) and <code>List&lt;T&gt;</code>. There&#39;s really nothing left that needs explaining; prior comments, as well as the OP, are both incredibly well-written. The point I&#39;m trying to drive home is that if you don&#39;t immediately know the difference without thinking about it, it&#39;s probably an indicator that you should do more work with ALL types of generics until they are all second nature."},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1662300097,"post_id":4343547,"comment_id":129969640,"body_markdown":"@BertF Can I double confirm my understanding with you on this PECS concept? ie PE: `? extends T` meaning ? is a subclass of T and the you can read whatever T/? from the list, and CS: `? super T` means that whatever ? is, it is a super class of T or T itself and because of this, you can only write T or whatever subclass of T to the list","body":"@BertF Can I double confirm my understanding with you on this PECS concept? ie PE: <code>? extends T</code> meaning ? is a subclass of T and the you can read whatever T/? from the list, and CS: <code>? super T</code> means that whatever ? is, it is a super class of T or T itself and because of this, you can only write T or whatever subclass of T to the list"}],"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":26,"down_vote_count":2,"up_vote_count":2048,"is_accepted":true,"score":2046,"last_activity_date":1507353678,"creation_date":1291363429,"answer_id":4343547,"question_id":4343202,"body_markdown":"### `extends` ###\r\n\r\nThe wildcard declaration of `List&lt;? extends Number&gt; foo3` means that any of these are legal assignments:\r\n\r\n    List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Number&gt;();  // Number &quot;extends&quot; Number (in this context)\r\n    List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Integer&gt;(); // Integer extends Number\r\n    List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Double&gt;();  // Double extends Number\r\n\r\n1. **Reading** - Given the above possible assignments, what type of object are you guaranteed to read from `List foo3`:\r\n\r\n* You can read a **`Number`** because any of the lists that could be assigned to `foo3` contain a `Number` or a subclass of `Number`.\r\n* You can&#39;t read an `Integer` because `foo3` could be pointing at a `List&lt;Double&gt;`.\r\n* You can&#39;t read a `Double` because `foo3` could be pointing at a `List&lt;Integer&gt;`.\r\n\r\n2. **Writing** - Given the above possible assignments, what type of object could you add to `List foo3` that would be legal for **all** the above possible `ArrayList` assignments:\r\n\r\n* You can&#39;t add an `Integer` because `foo3` could be pointing at a `List&lt;Double&gt;`.\r\n* You can&#39;t add a `Double` because `foo3` could be pointing at a `List&lt;Integer&gt;`.\r\n* You can&#39;t add a `Number` because `foo3` could be pointing at a `List&lt;Integer&gt;`.\r\n\r\n*You can&#39;t add any object to `List&lt;? extends T&gt;` because you can&#39;t guarantee what kind of `List` it is really pointing to, so you can&#39;t guarantee that the object is allowed in that `List`. The only &quot;guarantee&quot; is that you can only read from it and you&#39;ll get a `T` or subclass of  `T`.*\r\n\r\n### `super` ###\r\n\r\nNow consider `List &lt;? super T&gt;`.\r\n\r\nThe wildcard declaration of `List&lt;? super Integer&gt; foo3` means that any of these are legal assignments:\r\n\r\n    List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Integer&gt;();  // Integer is a &quot;superclass&quot; of Integer (in this context)\r\n    List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Number&gt;();   // Number is a superclass of Integer\r\n    List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Object&gt;();   // Object is a superclass of Integer\r\n\r\n1. **Reading** - Given the above possible assignments, what type of object are you guaranteed to receive when you read from `List foo3`:\r\n\r\n* You aren&#39;t guaranteed an `Integer` because `foo3` could be pointing at a `List&lt;Number&gt;` or `List&lt;Object&gt;`.\r\n* You aren&#39;t guaranteed a `Number` because `foo3` could be pointing at a `List&lt;Object&gt;`.\r\n* The **only** guarantee is that you will get an instance of an **`Object`** or subclass of `Object` (but you don&#39;t know what subclass).\r\n\r\n2. **Writing** - Given the above possible assignments, what type of object could you add to `List foo3` that would be legal for **all** the above possible `ArrayList` assignments:\r\n\r\n* You can add an `Integer` because an `Integer` is allowed in any of above lists.\r\n* You can add an instance of a subclass of `Integer` because an instance of a subclass of `Integer` is allowed in any of the above lists.\r\n* You can&#39;t add a `Double` because `foo3` could be pointing at an `ArrayList&lt;Integer&gt;`.\r\n* You can&#39;t add a `Number` because `foo3` could be pointing at an `ArrayList&lt;Integer&gt;`.\r\n* You can&#39;t add an `Object` because `foo3` could be pointing at an `ArrayList&lt;Integer&gt;`.\r\n\r\n### PECS ###\r\n\r\nRemember *PECS*: **&quot;Producer Extends, Consumer Super&quot;**.\r\n\r\n * **&quot;Producer Extends&quot;** - If you need a `List` to produce `T` values (you want to read `T`s from the list), you need to declare it with `? extends T`, e.g. `List&lt;? extends Integer&gt;`. But you cannot add to this list.\r\n\r\n * **&quot;Consumer Super&quot;** - If you need a `List` to consume `T` values (you want to write `T`s into the list), you need to declare it with `? super T`, e.g. `List&lt;? super Integer&gt;`. But there are no guarantees what type of object you may read from this list.\r\n\r\n * If you need to both read from and write to a list, you need to declare it exactly with no wildcards, e.g. `List&lt;Integer&gt;`.\r\n\r\n### Example ###\r\n\r\nNote [this example from the Java Generics FAQ][1]. Note how the source list `src` (the producing list) uses `extends`, and the destination list `dest` (the consuming list) uses `super`:\r\n\r\n    public class Collections { \r\n      public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\r\n          for (int i = 0; i &lt; src.size(); i++) \r\n            dest.set(i, src.get(i)); \r\n      } \r\n    }\r\n\r\nAlso see \r\nhttps://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures/2777297#2777297\r\n\r\n\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html#FAQ103","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<h3><code>extends</code></h3>\n\n<p>The wildcard declaration of <code>List&lt;? extends Number&gt; foo3</code> means that any of these are legal assignments:</p>\n\n<pre><code>List&lt;? extends Number&gt; foo3 = new ArrayList&lt;Number&gt;();  // Number \"extends\" Number (in this context)\nList&lt;? extends Number&gt; foo3 = new ArrayList&lt;Integer&gt;(); // Integer extends Number\nList&lt;? extends Number&gt; foo3 = new ArrayList&lt;Double&gt;();  // Double extends Number\n</code></pre>\n\n<ol>\n<li><p><strong>Reading</strong> - Given the above possible assignments, what type of object are you guaranteed to read from <code>List foo3</code>:</p>\n\n<ul>\n<li>You can read a <strong><code>Number</code></strong> because any of the lists that could be assigned to <code>foo3</code> contain a <code>Number</code> or a subclass of <code>Number</code>.</li>\n<li>You can't read an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Double&gt;</code>.</li>\n<li>You can't read a <code>Double</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li>\n</ul></li>\n<li><p><strong>Writing</strong> - Given the above possible assignments, what type of object could you add to <code>List foo3</code> that would be legal for <strong>all</strong> the above possible <code>ArrayList</code> assignments:</p>\n\n<ul>\n<li>You can't add an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Double&gt;</code>.</li>\n<li>You can't add a <code>Double</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li>\n<li>You can't add a <code>Number</code> because <code>foo3</code> could be pointing at a <code>List&lt;Integer&gt;</code>.</li>\n</ul></li>\n</ol>\n\n<p><em>You can't add any object to <code>List&lt;? extends T&gt;</code> because you can't guarantee what kind of <code>List</code> it is really pointing to, so you can't guarantee that the object is allowed in that <code>List</code>. The only \"guarantee\" is that you can only read from it and you'll get a <code>T</code> or subclass of  <code>T</code>.</em></p>\n\n<h3><code>super</code></h3>\n\n<p>Now consider <code>List &lt;? super T&gt;</code>.</p>\n\n<p>The wildcard declaration of <code>List&lt;? super Integer&gt; foo3</code> means that any of these are legal assignments:</p>\n\n<pre><code>List&lt;? super Integer&gt; foo3 = new ArrayList&lt;Integer&gt;();  // Integer is a \"superclass\" of Integer (in this context)\nList&lt;? super Integer&gt; foo3 = new ArrayList&lt;Number&gt;();   // Number is a superclass of Integer\nList&lt;? super Integer&gt; foo3 = new ArrayList&lt;Object&gt;();   // Object is a superclass of Integer\n</code></pre>\n\n<ol>\n<li><p><strong>Reading</strong> - Given the above possible assignments, what type of object are you guaranteed to receive when you read from <code>List foo3</code>:</p>\n\n<ul>\n<li>You aren't guaranteed an <code>Integer</code> because <code>foo3</code> could be pointing at a <code>List&lt;Number&gt;</code> or <code>List&lt;Object&gt;</code>.</li>\n<li>You aren't guaranteed a <code>Number</code> because <code>foo3</code> could be pointing at a <code>List&lt;Object&gt;</code>.</li>\n<li>The <strong>only</strong> guarantee is that you will get an instance of an <strong><code>Object</code></strong> or subclass of <code>Object</code> (but you don't know what subclass).</li>\n</ul></li>\n<li><p><strong>Writing</strong> - Given the above possible assignments, what type of object could you add to <code>List foo3</code> that would be legal for <strong>all</strong> the above possible <code>ArrayList</code> assignments:</p>\n\n<ul>\n<li>You can add an <code>Integer</code> because an <code>Integer</code> is allowed in any of above lists.</li>\n<li>You can add an instance of a subclass of <code>Integer</code> because an instance of a subclass of <code>Integer</code> is allowed in any of the above lists.</li>\n<li>You can't add a <code>Double</code> because <code>foo3</code> could be pointing at an <code>ArrayList&lt;Integer&gt;</code>.</li>\n<li>You can't add a <code>Number</code> because <code>foo3</code> could be pointing at an <code>ArrayList&lt;Integer&gt;</code>.</li>\n<li>You can't add an <code>Object</code> because <code>foo3</code> could be pointing at an <code>ArrayList&lt;Integer&gt;</code>.</li>\n</ul></li>\n</ol>\n\n<h3>PECS</h3>\n\n<p>Remember <em>PECS</em>: <strong>\"Producer Extends, Consumer Super\"</strong>.</p>\n\n<ul>\n<li><p><strong>\"Producer Extends\"</strong> - If you need a <code>List</code> to produce <code>T</code> values (you want to read <code>T</code>s from the list), you need to declare it with <code>? extends T</code>, e.g. <code>List&lt;? extends Integer&gt;</code>. But you cannot add to this list.</p></li>\n<li><p><strong>\"Consumer Super\"</strong> - If you need a <code>List</code> to consume <code>T</code> values (you want to write <code>T</code>s into the list), you need to declare it with <code>? super T</code>, e.g. <code>List&lt;? super Integer&gt;</code>. But there are no guarantees what type of object you may read from this list.</p></li>\n<li><p>If you need to both read from and write to a list, you need to declare it exactly with no wildcards, e.g. <code>List&lt;Integer&gt;</code>.</p></li>\n</ul>\n\n<h3>Example</h3>\n\n<p>Note <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeArguments.html#FAQ103\" rel=\"noreferrer\">this example from the Java Generics FAQ</a>. Note how the source list <code>src</code> (the producing list) uses <code>extends</code>, and the destination list <code>dest</code> (the consuming list) uses <code>super</code>:</p>\n\n<pre><code>public class Collections { \n  public static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\n      for (int i = 0; i &lt; src.size(); i++) \n        dest.set(i, src.get(i)); \n  } \n}\n</code></pre>\n\n<p>Also see \n<a href=\"https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures/2777297#2777297\">How can I add to List&lt;? extends Number&gt; data structures?</a></p>\n"},{"tags":[],"owner":{"account_id":928111,"reputation":1021,"user_id":958470,"accept_rate":12,"display_name":"Sai Sunder"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1533422199,"creation_date":1390891886,"answer_id":21398777,"question_id":4343202,"body_markdown":"Using **extends** you can only get from the collection. You cannot put into it. Also, though **super** allows to both get and put, the return type during get is **? super T**.","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>Using <strong>extends</strong> you can only get from the collection. You cannot put into it. Also, though <strong>super</strong> allows to both get and put, the return type during get is <strong>? super T</strong>.</p>\n"},{"tags":[],"owner":{"account_id":265347,"reputation":1035,"user_id":2322270,"display_name":"Vaibhav Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440336309,"creation_date":1440336309,"answer_id":32167126,"question_id":4343202,"body_markdown":" The generic wildcards target two primary needs:\r\n\r\nReading from a generic collection\r\nInserting into a generic collection\r\nThere are three ways to define a collection (variable) using generic wildcards. These are:\r\n\r\n    List&lt;?&gt;           listUknown = new ArrayList&lt;A&gt;();\r\n    List&lt;? extends A&gt; listUknown = new ArrayList&lt;A&gt;();\r\n    List&lt;? super   A&gt; listUknown = new ArrayList&lt;A&gt;();\r\n\r\n`List&lt;?&gt;` means a list typed to an unknown type. This could be a `List&lt;A&gt;`, a `List&lt;B&gt;`, a `List&lt;String&gt;` etc.\r\n\r\n`List&lt;? extends A&gt;` means a List of objects that are instances of the `class A`, or `subclasses of A` (e.g. B and C).\r\n`List&lt;? super A&gt;` means that the list is typed to either the `A class`, or a `superclass of A`.\r\n\r\nRead more : http://tutorials.jenkov.com/java-generics/wildcards.html","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>The generic wildcards target two primary needs:</p>\n\n<p>Reading from a generic collection\nInserting into a generic collection\nThere are three ways to define a collection (variable) using generic wildcards. These are:</p>\n\n<pre><code>List&lt;?&gt;           listUknown = new ArrayList&lt;A&gt;();\nList&lt;? extends A&gt; listUknown = new ArrayList&lt;A&gt;();\nList&lt;? super   A&gt; listUknown = new ArrayList&lt;A&gt;();\n</code></pre>\n\n<p><code>List&lt;?&gt;</code> means a list typed to an unknown type. This could be a <code>List&lt;A&gt;</code>, a <code>List&lt;B&gt;</code>, a <code>List&lt;String&gt;</code> etc.</p>\n\n<p><code>List&lt;? extends A&gt;</code> means a List of objects that are instances of the <code>class A</code>, or <code>subclasses of A</code> (e.g. B and C).\n<code>List&lt;? super A&gt;</code> means that the list is typed to either the <code>A class</code>, or a <code>superclass of A</code>.</p>\n\n<p>Read more : <a href=\"http://tutorials.jenkov.com/java-generics/wildcards.html\" rel=\"nofollow\">http://tutorials.jenkov.com/java-generics/wildcards.html</a></p>\n"},{"comments":[{"owner":{"account_id":224311,"reputation":2478,"user_id":484050,"accept_rate":81,"display_name":"Mike"},"score":0,"creation_date":1463138048,"post_id":33246935,"comment_id":61948050,"body_markdown":"Looks like B1, B4, C1 and C3 should not be colored on the second picture. Because those are not included in the list above the picture.","body":"Looks like B1, B4, C1 and C3 should not be colored on the second picture. Because those are not included in the list above the picture."},{"owner":{"account_id":1123823,"reputation":10881,"user_id":1111544,"accept_rate":79,"display_name":"Luigi Cortese"},"score":2,"creation_date":1463138437,"post_id":33246935,"comment_id":61948308,"body_markdown":"@Mike I&#39;m not sure what you mean, those nodes are blue in the second picture, not being part of any set/case","body":"@Mike I&#39;m not sure what you mean, those nodes are blue in the second picture, not being part of any set/case"},{"owner":{"account_id":224311,"reputation":2478,"user_id":484050,"accept_rate":81,"display_name":"Mike"},"score":0,"creation_date":1463143087,"post_id":33246935,"comment_id":61951592,"body_markdown":"@LuigiCortese Ok, you got me, I was wrong. What I wrote was about the last (third) picture not about the second picture. B1, B4, C1 and C3 should not be red on the last picture.","body":"@LuigiCortese Ok, you got me, I was wrong. What I wrote was about the last (third) picture not about the second picture. B1, B4, C1 and C3 should not be red on the last picture."},{"owner":{"account_id":224311,"reputation":2478,"user_id":484050,"accept_rate":81,"display_name":"Mike"},"score":0,"creation_date":1463656568,"post_id":33246935,"comment_id":62162514,"body_markdown":"Good post overall but I have to -1 because the last picture seems incorrect and I got no clarification about that.","body":"Good post overall but I have to -1 because the last picture seems incorrect and I got no clarification about that."},{"owner":{"account_id":1123823,"reputation":10881,"user_id":1111544,"accept_rate":79,"display_name":"Luigi Cortese"},"score":1,"creation_date":1463656883,"post_id":33246935,"comment_id":62162714,"body_markdown":"@Mike B1 is part of case 1, B4 is part of case 4, C1 is part of cases 1-2-5, C3 is part of cases 3-4-6. Is it possible that you&#39;re misinterpreting something?","body":"@Mike B1 is part of case 1, B4 is part of case 4, C1 is part of cases 1-2-5, C3 is part of cases 3-4-6. Is it possible that you&#39;re misinterpreting something?"},{"owner":{"account_id":1123823,"reputation":10881,"user_id":1111544,"accept_rate":79,"display_name":"Luigi Cortese"},"score":2,"creation_date":1464022196,"post_id":33246935,"comment_id":62301500,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/112707/discussion-between-luigi-cortese-and-mike).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/112707/discussion-between-luigi-cortese-and-mike\">continue this discussion in chat</a>."},{"owner":{"account_id":8933,"reputation":2489,"user_id":16295,"accept_rate":48,"display_name":"Groxx"},"score":0,"creation_date":1480284663,"post_id":33246935,"comment_id":68886564,"body_markdown":"I spent a bit of time confused by image 3 as well, but I think I figured it out and it makes sense: There are only 7 `ArrayList&lt;x&gt;` values, which are listed - B1 is not one of them, it will be a compiler error.  But A1 *is* valid, and it can (in principle) hold both B1 and everything under B2, which is why B1 is in the same highlight as A1.  The compiler will not let you `list.add(new B1(){});` though (nor B2) because `list` could be e.g. a B3.  You can only `add` C2 and sublasses because they work with all possible containers.","body":"I spent a bit of time confused by image 3 as well, but I think I figured it out and it makes sense: There are only 7 <code>ArrayList&lt;x&gt;</code> values, which are listed - B1 is not one of them, it will be a compiler error.  But A1 <i>is</i> valid, and it can (in principle) hold both B1 and everything under B2, which is why B1 is in the same highlight as A1.  The compiler will not let you <code>list.add(new B1(){});</code> though (nor B2) because <code>list</code> could be e.g. a B3.  You can only <code>add</code> C2 and sublasses because they work with all possible containers."}],"tags":[],"owner":{"account_id":1123823,"reputation":10881,"user_id":1111544,"accept_rate":79,"display_name":"Luigi Cortese"},"comment_count":7,"down_vote_count":2,"up_vote_count":336,"is_accepted":false,"score":334,"last_activity_date":1465998689,"creation_date":1445375815,"answer_id":33246935,"question_id":4343202,"body_markdown":"Imagine having this hierarchy\r\n\r\n[![enter image description here][1]][1]\r\n\r\n1. Extends\r\n=\r\n\r\nBy writing \r\n\r\n        List&lt;? extends C2&gt; list;\r\n\r\nyou are saying that `list` will be able to reference an object of type (for example) `ArrayList` whose generic type is one of the 7 **subtypes** of `C2` (`C2` included):\r\n\r\n 1. *C2:* `new ArrayList&lt;C2&gt;();`, (an object that can store C2 or subtypes) or\r\n 2. *D1:* `new ArrayList&lt;D1&gt;();`, (an object that can store D1 or subtypes) or\r\n 3. *D2:* `new ArrayList&lt;D2&gt;();`, (an object that can store D2 or subtypes) or...\r\n\r\nand so on. Seven different cases:\r\n\r\n\t\t1) new ArrayList&lt;C2&gt;(): can store C2 D1 D2 E1 E2 E3 E4\r\n\t\t2) new ArrayList&lt;D1&gt;(): can store    D1    E1 E2  \r\n\t\t3) new ArrayList&lt;D2&gt;(): can store       D2       E3 E4\r\n\t\t4) new ArrayList&lt;E1&gt;(): can store          E1             \r\n\t\t5) new ArrayList&lt;E2&gt;(): can store             E2             \r\n\t\t6) new ArrayList&lt;E3&gt;(): can store                E3             \r\n\t\t7) new ArrayList&lt;E4&gt;(): can store                   E4             \r\n\r\nWe have a set of &quot;storable&quot; types for each possible case: 7 (red) sets here graphically represented\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see, there is not a *safe type* that is common to every case:\r\n\r\n - you cannot `list.add(new C2(){});` because it could be `list = new ArrayList&lt;D1&gt;();`\r\n - you cannot `list.add(new D1(){});` because it could be `list = new ArrayList&lt;D2&gt;();`\r\n\r\nand so on. \r\n\r\n\r\n\r\n\r\n\r\n\r\n2. Super\r\n=\r\n\r\nBy writing \r\n\r\n        List&lt;? super C2&gt; list;\r\n\r\nyou are saying that `list` will be able to reference an object of type (for example) `ArrayList` whose generic type is one of the 7 **supertypes** of `C2` (`C2` included):\r\n\r\n - *A1:* `new ArrayList&lt;A1&gt;();`, (an object that can store A1 or subtypes) or\r\n - *A2:* `new ArrayList&lt;A2&gt;();`, (an object that can store A2 or subtypes) or\r\n - *A3:* `new ArrayList&lt;A3&gt;();`, (an object that can store A3 or subtypes) or...\r\n\r\nand so on. Seven different cases:\r\n\r\n\t\t1) new ArrayList&lt;A1&gt;(): can store A1          B1 B2       C1 C2    D1 D2 E1 E2 E3 E4\r\n\t\t2) new ArrayList&lt;A2&gt;(): can store    A2          B2       C1 C2    D1 D2 E1 E2 E3 E4\r\n\t\t3) new ArrayList&lt;A3&gt;(): can store       A3          B3       C2 C3 D1 D2 E1 E2 E3 E4\r\n\t\t4) new ArrayList&lt;A4&gt;(): can store          A4       B3 B4    C2 C3 D1 D2 E1 E2 E3 E4\r\n\t\t5) new ArrayList&lt;B2&gt;(): can store                B2       C1 C2    D1 D2 E1 E2 E3 E4\r\n\t\t6) new ArrayList&lt;B3&gt;(): can store                   B3       C2 C3 D1 D2 E1 E2 E3 E4\r\n\t\t7) new ArrayList&lt;C2&gt;(): can store                            C2    D1 D2 E1 E2 E3 E4\r\n\r\nWe have a set of &quot;storable&quot; types for each possible case: 7 (red) sets here graphically represented\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see, here we have seven *safe types* that are common to every case: `C2`, `D1`, `D2`, `E1`, `E2`, `E3`, `E4`.\r\n\r\n - you can `list.add(new C2(){});` because, regardless of the kind of List we&#39;re referencing, `C2` is allowed\r\n - you can `list.add(new D1(){});` because, regardless of the kind of List we&#39;re referencing, `D1` is allowed\r\n\r\nand so on. You probably noticed that these types correspond to the hierarchy starting from type `C2`.\r\n\r\nNotes\r\n=\r\n\r\nHere the complete hierarchy if you wish to make some tests\r\n\r\n\tinterface A1{}\r\n\tinterface A2{}\r\n\tinterface A3{}\r\n\tinterface A4{}\r\n\t\r\n\tinterface B1 extends A1{}\r\n\tinterface B2 extends A1,A2{}\r\n\tinterface B3 extends A3,A4{}\r\n\tinterface B4 extends A4{}\r\n\t\r\n\tinterface C1 extends B2{}\r\n\tinterface C2 extends B2,B3{}\r\n\tinterface C3 extends B3{}\r\n\t\r\n\tinterface D1 extends C1,C2{}\r\n\tinterface D2 extends C2{}\r\n\t\r\n\tinterface E1 extends D1{}\r\n\tinterface E2 extends D1{}\r\n\tinterface E3 extends D2{}\r\n\tinterface E4 extends D2{}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4U72V.png\r\n  [2]: http://i.stack.imgur.com/UpmXo.png\r\n  [3]: http://i.stack.imgur.com/FfVcl.png","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>Imagine having this hierarchy</p>\n\n<p><a href=\"https://i.stack.imgur.com/4U72V.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4U72V.png\" alt=\"enter image description here\"></a></p>\n\n<h1>1. Extends</h1>\n\n<p>By writing </p>\n\n<pre><code>    List&lt;? extends C2&gt; list;\n</code></pre>\n\n<p>you are saying that <code>list</code> will be able to reference an object of type (for example) <code>ArrayList</code> whose generic type is one of the 7 <strong>subtypes</strong> of <code>C2</code> (<code>C2</code> included):</p>\n\n<ol>\n<li><em>C2:</em> <code>new ArrayList&lt;C2&gt;();</code>, (an object that can store C2 or subtypes) or</li>\n<li><em>D1:</em> <code>new ArrayList&lt;D1&gt;();</code>, (an object that can store D1 or subtypes) or</li>\n<li><em>D2:</em> <code>new ArrayList&lt;D2&gt;();</code>, (an object that can store D2 or subtypes) or...</li>\n</ol>\n\n<p>and so on. Seven different cases:</p>\n\n<pre><code>    1) new ArrayList&lt;C2&gt;(): can store C2 D1 D2 E1 E2 E3 E4\n    2) new ArrayList&lt;D1&gt;(): can store    D1    E1 E2  \n    3) new ArrayList&lt;D2&gt;(): can store       D2       E3 E4\n    4) new ArrayList&lt;E1&gt;(): can store          E1             \n    5) new ArrayList&lt;E2&gt;(): can store             E2             \n    6) new ArrayList&lt;E3&gt;(): can store                E3             \n    7) new ArrayList&lt;E4&gt;(): can store                   E4             \n</code></pre>\n\n<p>We have a set of \"storable\" types for each possible case: 7 (red) sets here graphically represented</p>\n\n<p><a href=\"https://i.stack.imgur.com/UpmXo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UpmXo.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, there is not a <em>safe type</em> that is common to every case:</p>\n\n<ul>\n<li>you cannot <code>list.add(new C2(){});</code> because it could be <code>list = new ArrayList&lt;D1&gt;();</code></li>\n<li>you cannot <code>list.add(new D1(){});</code> because it could be <code>list = new ArrayList&lt;D2&gt;();</code></li>\n</ul>\n\n<p>and so on. </p>\n\n<h1>2. Super</h1>\n\n<p>By writing </p>\n\n<pre><code>    List&lt;? super C2&gt; list;\n</code></pre>\n\n<p>you are saying that <code>list</code> will be able to reference an object of type (for example) <code>ArrayList</code> whose generic type is one of the 7 <strong>supertypes</strong> of <code>C2</code> (<code>C2</code> included):</p>\n\n<ul>\n<li><em>A1:</em> <code>new ArrayList&lt;A1&gt;();</code>, (an object that can store A1 or subtypes) or</li>\n<li><em>A2:</em> <code>new ArrayList&lt;A2&gt;();</code>, (an object that can store A2 or subtypes) or</li>\n<li><em>A3:</em> <code>new ArrayList&lt;A3&gt;();</code>, (an object that can store A3 or subtypes) or...</li>\n</ul>\n\n<p>and so on. Seven different cases:</p>\n\n<pre><code>    1) new ArrayList&lt;A1&gt;(): can store A1          B1 B2       C1 C2    D1 D2 E1 E2 E3 E4\n    2) new ArrayList&lt;A2&gt;(): can store    A2          B2       C1 C2    D1 D2 E1 E2 E3 E4\n    3) new ArrayList&lt;A3&gt;(): can store       A3          B3       C2 C3 D1 D2 E1 E2 E3 E4\n    4) new ArrayList&lt;A4&gt;(): can store          A4       B3 B4    C2 C3 D1 D2 E1 E2 E3 E4\n    5) new ArrayList&lt;B2&gt;(): can store                B2       C1 C2    D1 D2 E1 E2 E3 E4\n    6) new ArrayList&lt;B3&gt;(): can store                   B3       C2 C3 D1 D2 E1 E2 E3 E4\n    7) new ArrayList&lt;C2&gt;(): can store                            C2    D1 D2 E1 E2 E3 E4\n</code></pre>\n\n<p>We have a set of \"storable\" types for each possible case: 7 (red) sets here graphically represented</p>\n\n<p><a href=\"https://i.stack.imgur.com/FfVcl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FfVcl.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, here we have seven <em>safe types</em> that are common to every case: <code>C2</code>, <code>D1</code>, <code>D2</code>, <code>E1</code>, <code>E2</code>, <code>E3</code>, <code>E4</code>.</p>\n\n<ul>\n<li>you can <code>list.add(new C2(){});</code> because, regardless of the kind of List we're referencing, <code>C2</code> is allowed</li>\n<li>you can <code>list.add(new D1(){});</code> because, regardless of the kind of List we're referencing, <code>D1</code> is allowed</li>\n</ul>\n\n<p>and so on. You probably noticed that these types correspond to the hierarchy starting from type <code>C2</code>.</p>\n\n<h1>Notes</h1>\n\n<p>Here the complete hierarchy if you wish to make some tests</p>\n\n<pre><code>interface A1{}\ninterface A2{}\ninterface A3{}\ninterface A4{}\n\ninterface B1 extends A1{}\ninterface B2 extends A1,A2{}\ninterface B3 extends A3,A4{}\ninterface B4 extends A4{}\n\ninterface C1 extends B2{}\ninterface C2 extends B2,B3{}\ninterface C3 extends B3{}\n\ninterface D1 extends C1,C2{}\ninterface D2 extends C2{}\n\ninterface E1 extends D1{}\ninterface E2 extends D1{}\ninterface E3 extends D2{}\ninterface E4 extends D2{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33887,"reputation":4322,"user_id":95242,"accept_rate":62,"display_name":"Michael Dausmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":158,"is_accepted":false,"score":158,"last_activity_date":1671840160,"creation_date":1449180316,"answer_id":34077112,"question_id":4343202,"body_markdown":"I love the answer from @Bert F but this is the way my brain sees it.\r\n\r\nI have an X in my hand.  If I want to **write** my X into a List, that List needs to be either a List of X or a List of things that my X can be upcast to as I write them in i.e. any **superclass** of X...\r\n\r\n    List&lt;? super   X&gt;\r\n\r\nIf I get a List and I want to **read** an X out of that List, that better be a List of X or a List of things that can be upcast to X as I read them out, i.e. anything that **extends** X\r\n\r\n    List&lt;? extends X&gt;","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>I love the answer from @Bert F but this is the way my brain sees it.</p>\n<p>I have an X in my hand.  If I want to <strong>write</strong> my X into a List, that List needs to be either a List of X or a List of things that my X can be upcast to as I write them in i.e. any <strong>superclass</strong> of X...</p>\n<pre><code>List&lt;? super   X&gt;\n</code></pre>\n<p>If I get a List and I want to <strong>read</strong> an X out of that List, that better be a List of X or a List of things that can be upcast to X as I read them out, i.e. anything that <strong>extends</strong> X</p>\n<pre><code>List&lt;? extends X&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4117489,"reputation":1844,"user_id":3378714,"accept_rate":55,"display_name":"Sushant"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1458375614,"creation_date":1458374924,"answer_id":36099419,"question_id":4343202,"body_markdown":"Based on [Bert F&#39;s answer][1] I would like to explain my understanding.\r\n\r\nLets say we have 3 classes as\r\n\r\n\r\n    public class Fruit{}\r\n    \r\n    public class Melon extends Fruit{}\r\n    \r\n    public class WaterMelon extends Melon{}\r\n\r\nHere We have\r\n\r\n\r\n    List&lt;? extends Fruit&gt; fruitExtendedList = \r\n    \r\n    //Says that I can be a list of any object as long as this object extends Fruit.\r\n\r\nOk now lets try to get some value from fruitExtendedList\r\n\r\n    Fruit fruit = fruitExtendedList.get(position)\r\n    \r\n    //This is valid as it can only return Fruit or its subclass.\r\n\r\nAgain lets try \r\n\r\n    Melon melon = fruitExtendedList.get(position)\r\n    \r\n    //This is not valid because fruitExtendedList can be a list of Fruit only, it may not be \r\n    //list of Melon or WaterMelon and in java we cannot assign sub class object to \r\n    //super class object reference without explicitly casting it.\r\n\r\nSame is the case for \r\n\r\n    WaterMelon waterMelon = fruitExtendedList.get(position)\r\n\r\n\r\nNow lets try to set some object in fruitExtendedList\r\n\r\nAdding fruit object\r\n\r\n    fruitExtendedList.add(new Fruit())\r\n    \r\n    //This in not valid because as we know fruitExtendedList can be a list of any \r\n    //object as long as this object extends Fruit. So what if it was the list of  \r\n    //WaterMelon or Melon you cannot add Fruit to the list of WaterMelon or Melon.\r\n\r\nAdding Melon object\r\n\r\n    fruitExtendedList.add(new Melon())\r\n    \r\n    //This would be valid if fruitExtendedList was the list of Fruit but it may \r\n    //not be, as it can also be the list of WaterMelon object. So, we see an invalid \r\n    //condition already.\r\n\r\nFinally let try to add WaterMelon object \r\n\r\n    fruitExtendedList.add(new WaterMelon())\r\n    \r\n    //Ok, we got it now we can finally write to fruitExtendedList as WaterMelon \r\n    //can be added to the list of Fruit or Melon as any superclass reference can point \r\n    //to its subclass object.\r\n\r\n***But wait** what if someone decides to make a new type of  Lemon lets say for arguments sake SaltyLemon as*\r\n\r\n    public class SaltyLemon extends Lemon{}\r\n\r\n*Now fruitExtendedList can be list of Fruit, Melon, WaterMelon or SaltyLemon.*\r\n\r\nSo, our statement \r\n\r\n    fruitExtendedList.add(new WaterMelon())\r\n\r\nis not valid either.\r\n\r\n**Basically we can say that we cannot write anything to a fruitExtendedList.**\r\n\r\n**This sums up `List&lt;? extends Fruit&gt;`**\r\n\r\nNow lets see\r\n\r\n    List&lt;? super Melon&gt; melonSuperList= \r\n    \r\n    //Says that I can be a list of anything as long as its object has super class of Melon.\r\n\r\nNow lets try to get some value from melonSuperList\r\n\r\n    Fruit fruit = melonSuperList.get(position)\r\n    \r\n    //This is not valid as melonSuperList can be a list of Object as in java all \r\n    //the object extends from Object class. So, Object can be super class of Melon and \r\n    //melonSuperList can be a list of Object type\r\n\r\n*Similarly Melon, WaterMelon or any other object cannot be read.*\r\n\r\nBut note that we can read Object type instances\r\n\r\n    Object myObject = melonSuperList.get(position)\r\n    \r\n    //This is valid because Object cannot have any super class and above statement \r\n    //can return only Fruit, Melon, WaterMelon or Object they all can be referenced by\r\n    //Object type reference.\r\n\r\nNow, lets try to set some value from melonSuperList.\r\n\r\nAdding Object type object\r\n\r\n    melonSuperList.add(new Object())\r\n    \r\n    //This is not valid as melonSuperList can be a list of Fruit or Melon.\r\n    //Note that Melon itself can be considered as super class of Melon.\r\n\r\nAdding Fruit type object\r\n\r\n    melonSuperList.add(new Fruit())\r\n    \r\n    //This is also not valid as melonSuperList can be list of Melon\r\n\r\nAdding Melon type object\r\n\r\n    melonSuperList.add(new Melon())\r\n    \r\n    //This is valid because melonSuperList can be list of Object, Fruit or Melon and in \r\n    //this entire list we can add Melon type object.\r\n\r\n\r\nAdding WaterMelon type object\r\n\r\n    melonSuperList.add(new WaterMelon())\r\n    \r\n    //This is also valid because of same reason as adding Melon\r\n\r\n**To sum it up we can add Melon or its subclass in melonSuperList and read only Object type object.**\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4343547/3378714\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>Based on <a href=\"https://stackoverflow.com/a/4343547/3378714\">Bert F's answer</a> I would like to explain my understanding.</p>\n\n<p>Lets say we have 3 classes as</p>\n\n<pre><code>public class Fruit{}\n\npublic class Melon extends Fruit{}\n\npublic class WaterMelon extends Melon{}\n</code></pre>\n\n<p>Here We have</p>\n\n<pre><code>List&lt;? extends Fruit&gt; fruitExtendedList = \n\n//Says that I can be a list of any object as long as this object extends Fruit.\n</code></pre>\n\n<p>Ok now lets try to get some value from fruitExtendedList</p>\n\n<pre><code>Fruit fruit = fruitExtendedList.get(position)\n\n//This is valid as it can only return Fruit or its subclass.\n</code></pre>\n\n<p>Again lets try </p>\n\n<pre><code>Melon melon = fruitExtendedList.get(position)\n\n//This is not valid because fruitExtendedList can be a list of Fruit only, it may not be \n//list of Melon or WaterMelon and in java we cannot assign sub class object to \n//super class object reference without explicitly casting it.\n</code></pre>\n\n<p>Same is the case for </p>\n\n<pre><code>WaterMelon waterMelon = fruitExtendedList.get(position)\n</code></pre>\n\n<p>Now lets try to set some object in fruitExtendedList</p>\n\n<p>Adding fruit object</p>\n\n<pre><code>fruitExtendedList.add(new Fruit())\n\n//This in not valid because as we know fruitExtendedList can be a list of any \n//object as long as this object extends Fruit. So what if it was the list of  \n//WaterMelon or Melon you cannot add Fruit to the list of WaterMelon or Melon.\n</code></pre>\n\n<p>Adding Melon object</p>\n\n<pre><code>fruitExtendedList.add(new Melon())\n\n//This would be valid if fruitExtendedList was the list of Fruit but it may \n//not be, as it can also be the list of WaterMelon object. So, we see an invalid \n//condition already.\n</code></pre>\n\n<p>Finally let try to add WaterMelon object </p>\n\n<pre><code>fruitExtendedList.add(new WaterMelon())\n\n//Ok, we got it now we can finally write to fruitExtendedList as WaterMelon \n//can be added to the list of Fruit or Melon as any superclass reference can point \n//to its subclass object.\n</code></pre>\n\n<p><strong><em>But wait</strong> what if someone decides to make a new type of  Lemon lets say for arguments sake SaltyLemon as</em></p>\n\n<pre><code>public class SaltyLemon extends Lemon{}\n</code></pre>\n\n<p><em>Now fruitExtendedList can be list of Fruit, Melon, WaterMelon or SaltyLemon.</em></p>\n\n<p>So, our statement </p>\n\n<pre><code>fruitExtendedList.add(new WaterMelon())\n</code></pre>\n\n<p>is not valid either.</p>\n\n<p><strong>Basically we can say that we cannot write anything to a fruitExtendedList.</strong></p>\n\n<p><strong>This sums up <code>List&lt;? extends Fruit&gt;</code></strong></p>\n\n<p>Now lets see</p>\n\n<pre><code>List&lt;? super Melon&gt; melonSuperList= \n\n//Says that I can be a list of anything as long as its object has super class of Melon.\n</code></pre>\n\n<p>Now lets try to get some value from melonSuperList</p>\n\n<pre><code>Fruit fruit = melonSuperList.get(position)\n\n//This is not valid as melonSuperList can be a list of Object as in java all \n//the object extends from Object class. So, Object can be super class of Melon and \n//melonSuperList can be a list of Object type\n</code></pre>\n\n<p><em>Similarly Melon, WaterMelon or any other object cannot be read.</em></p>\n\n<p>But note that we can read Object type instances</p>\n\n<pre><code>Object myObject = melonSuperList.get(position)\n\n//This is valid because Object cannot have any super class and above statement \n//can return only Fruit, Melon, WaterMelon or Object they all can be referenced by\n//Object type reference.\n</code></pre>\n\n<p>Now, lets try to set some value from melonSuperList.</p>\n\n<p>Adding Object type object</p>\n\n<pre><code>melonSuperList.add(new Object())\n\n//This is not valid as melonSuperList can be a list of Fruit or Melon.\n//Note that Melon itself can be considered as super class of Melon.\n</code></pre>\n\n<p>Adding Fruit type object</p>\n\n<pre><code>melonSuperList.add(new Fruit())\n\n//This is also not valid as melonSuperList can be list of Melon\n</code></pre>\n\n<p>Adding Melon type object</p>\n\n<pre><code>melonSuperList.add(new Melon())\n\n//This is valid because melonSuperList can be list of Object, Fruit or Melon and in \n//this entire list we can add Melon type object.\n</code></pre>\n\n<p>Adding WaterMelon type object</p>\n\n<pre><code>melonSuperList.add(new WaterMelon())\n\n//This is also valid because of same reason as adding Melon\n</code></pre>\n\n<p><strong>To sum it up we can add Melon or its subclass in melonSuperList and read only Object type object.</strong></p>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1506423836,"creation_date":1467990683,"answer_id":38270035,"question_id":4343202,"body_markdown":"The most confusing thing here is that whatever type restrictions we specify, assignment works only one way:\r\n\r\n    baseClassInstance = derivedClassInstance;\r\n\r\nYou may think that `Integer extends Number` and that an `Integer` would do as a `&lt;? extends Number&gt;`, but the compiler will tell you that `&lt;? extends Number&gt; cannot be converted to Integer` (that is, in human parlance, _it is wrong that anything that extends number can be converted to Integer_):\r\n\r\n    class Holder&lt;T&gt; {\r\n        T v;\r\n        T get() { return v; }\r\n        void set(T n) { v=n; }\r\n    }\r\n    class A {\r\n        public static void main(String[]args) {\r\n            Holder&lt;? extends Number&gt; he = new Holder();\r\n            Holder&lt;? super Number&gt; hs = new Holder();\r\n\r\n            Integer i;\r\n            Number n;\r\n            Object o;\r\n\r\n            // Producer Super: always gives an error except\r\n            //       when consumer expects just Object\r\n            i = hs.get(); // &lt;? super Number&gt; cannot be converted to Integer\r\n            n = hs.get(); // &lt;? super Number&gt; cannot be converted to Number\r\n                          // &lt;? super Number&gt; cannot be converted to ... (but\r\n                          //       there is no class between Number and Object)\r\n            o = hs.get();\r\n\r\n            // Consumer Super\r\n            hs.set(i);\r\n            hs.set(n);\r\n            hs.set(o); // Object cannot be converted to &lt;? super Number&gt;\r\n\r\n            // Producer Extends\r\n            i = he.get(); // &lt;? extends Number&gt; cannot be converted to Integer\r\n            n = he.get();\r\n            o = he.get();\r\n\r\n            // Consumer Extends: always gives an error\r\n            he.set(i); // Integer cannot be converted to &lt;? extends Number&gt;\r\n            he.set(n); // Number cannot be converted to &lt;? extends Number&gt;\r\n            he.set(o); // Object cannot be converted to &lt;? extends Number&gt;\r\n        }\r\n    }\r\n\r\n`hs.set(i);` is ok because _`Integer` can be converted to any superclass of `Number`_ (and not because `Integer` is a superclass of `Number`, which is not true).\r\n\r\nEDIT added a comment about Consumer Extends and Producer Super -- they are not meaningful because they specify, correspondingly, _nothing_ and just _`Object`_. You are advised to remember PECS because CEPS is never useful.","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>The most confusing thing here is that whatever type restrictions we specify, assignment works only one way:</p>\n\n<pre><code>baseClassInstance = derivedClassInstance;\n</code></pre>\n\n<p>You may think that <code>Integer extends Number</code> and that an <code>Integer</code> would do as a <code>&lt;? extends Number&gt;</code>, but the compiler will tell you that <code>&lt;? extends Number&gt; cannot be converted to Integer</code> (that is, in human parlance, <em>it is wrong that anything that extends number can be converted to Integer</em>):</p>\n\n<pre><code>class Holder&lt;T&gt; {\n    T v;\n    T get() { return v; }\n    void set(T n) { v=n; }\n}\nclass A {\n    public static void main(String[]args) {\n        Holder&lt;? extends Number&gt; he = new Holder();\n        Holder&lt;? super Number&gt; hs = new Holder();\n\n        Integer i;\n        Number n;\n        Object o;\n\n        // Producer Super: always gives an error except\n        //       when consumer expects just Object\n        i = hs.get(); // &lt;? super Number&gt; cannot be converted to Integer\n        n = hs.get(); // &lt;? super Number&gt; cannot be converted to Number\n                      // &lt;? super Number&gt; cannot be converted to ... (but\n                      //       there is no class between Number and Object)\n        o = hs.get();\n\n        // Consumer Super\n        hs.set(i);\n        hs.set(n);\n        hs.set(o); // Object cannot be converted to &lt;? super Number&gt;\n\n        // Producer Extends\n        i = he.get(); // &lt;? extends Number&gt; cannot be converted to Integer\n        n = he.get();\n        o = he.get();\n\n        // Consumer Extends: always gives an error\n        he.set(i); // Integer cannot be converted to &lt;? extends Number&gt;\n        he.set(n); // Number cannot be converted to &lt;? extends Number&gt;\n        he.set(o); // Object cannot be converted to &lt;? extends Number&gt;\n    }\n}\n</code></pre>\n\n<p><code>hs.set(i);</code> is ok because <em><code>Integer</code> can be converted to any superclass of <code>Number</code></em> (and not because <code>Integer</code> is a superclass of <code>Number</code>, which is not true).</p>\n\n<p>EDIT added a comment about Consumer Extends and Producer Super -- they are not meaningful because they specify, correspondingly, <em>nothing</em> and just <em><code>Object</code></em>. You are advised to remember PECS because CEPS is never useful.</p>\n"},{"tags":[],"owner":{"account_id":5326035,"reputation":183,"user_id":4248083,"display_name":"Kevin STS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496355638,"creation_date":1496355638,"answer_id":44317988,"question_id":4343202,"body_markdown":"***When to use extends and super***\r\n\r\nWildcards are most useful in method parameters. They allow for the necessary flexibility in method interfaces.\r\n\r\nPeople are often confused when to use extends and when to use super bounds. The rule of thumb is the get-put principle. If you get something from a parametrized container, use extends.\r\n\r\n\r\n    int totalFuel(List&lt;? extends Vehicle&gt; list) {\r\n    int total = 0;\r\n    for(Vehicle v : list) {\r\n        total += v.getFuel();\r\n    }\r\n    return total;}\r\n\r\nThe method totalFuel gets Vehicles from the list, asks them about how much fuel they have, and computes the total.\r\nIf you put objects into a parameterized container, use super.\r\n\r\n    int totalValue(Valuer&lt;? super Vehicle&gt; valuer) {\r\n    int total = 0;\r\n    for(Vehicle v : vehicles) {\r\n        total += valuer.evaluate(v);\r\n    }\r\n    return total;}\r\n\r\nThe method totalValue puts Vehicles into the Valuer.\r\nIt&#39;s useful to know that extends bound is much more common than super.\r\n","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p><strong><em>When to use extends and super</em></strong></p>\n\n<p>Wildcards are most useful in method parameters. They allow for the necessary flexibility in method interfaces.</p>\n\n<p>People are often confused when to use extends and when to use super bounds. The rule of thumb is the get-put principle. If you get something from a parametrized container, use extends.</p>\n\n<pre><code>int totalFuel(List&lt;? extends Vehicle&gt; list) {\nint total = 0;\nfor(Vehicle v : list) {\n    total += v.getFuel();\n}\nreturn total;}\n</code></pre>\n\n<p>The method totalFuel gets Vehicles from the list, asks them about how much fuel they have, and computes the total.\nIf you put objects into a parameterized container, use super.</p>\n\n<pre><code>int totalValue(Valuer&lt;? super Vehicle&gt; valuer) {\nint total = 0;\nfor(Vehicle v : vehicles) {\n    total += valuer.evaluate(v);\n}\nreturn total;}\n</code></pre>\n\n<p>The method totalValue puts Vehicles into the Valuer.\nIt's useful to know that extends bound is much more common than super.</p>\n"},{"tags":[],"owner":{"account_id":11519184,"reputation":315,"user_id":8441607,"accept_rate":60,"display_name":"jforex78"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505385449,"creation_date":1503435937,"answer_id":45826961,"question_id":4343202,"body_markdown":"You can go through all the answers above to understand why the `.add()` is restricted to `&#39;&lt;?&gt;&#39;`, `&#39;&lt;? extends&gt;&#39;`, and partly to `&#39;&lt;? super&gt;&#39;`.\r\n\r\nBut here&#39;s the conclusion of it all if you want to remember it, and dont want to go exploring the answer every time:\r\n\r\n`List&lt;? extends A&gt;` means this will accept any `List` of `A` and subclass of `A`. \r\nBut you cannot add anything to this list. Not even objects of type `A`.\r\n\r\n`List&lt;? super A&gt;` means this will accept any list of `A` and superclass of `A`.\r\nYou can add objects of type `A` and its subclasses.\r\n","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>You can go through all the answers above to understand why the <code>.add()</code> is restricted to <code>'&lt;?&gt;'</code>, <code>'&lt;? extends&gt;'</code>, and partly to <code>'&lt;? super&gt;'</code>.</p>\n\n<p>But here's the conclusion of it all if you want to remember it, and dont want to go exploring the answer every time:</p>\n\n<p><code>List&lt;? extends A&gt;</code> means this will accept any <code>List</code> of <code>A</code> and subclass of <code>A</code>. \nBut you cannot add anything to this list. Not even objects of type <code>A</code>.</p>\n\n<p><code>List&lt;? super A&gt;</code> means this will accept any list of <code>A</code> and superclass of <code>A</code>.\nYou can add objects of type <code>A</code> and its subclasses.</p>\n"},{"tags":[],"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"comment_count":0,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1552215907,"creation_date":1506602679,"answer_id":46469507,"question_id":4343202,"body_markdown":"Adding an item to the list:\r\n\r\n - **List&lt; ? extends X &gt;** doesn&#39;t allow to add anything, except for `null` into the list.\r\n\r\n - **List&lt; ? super X &gt;** allows to add anything that is-a X (X or its subtype), or null.\r\n\r\nGetting an item from the list:\r\n\r\n - When you get an item from **List&lt; ? extends X &gt;**, you can assign it to a variable of type X or any supertype of X, including Object.\r\n - When you get an item from **List&lt; ? super X &gt;**, you can only assign it to a variable of type `Object`.\r\n\r\nSome examples:\r\n\r\n        List&lt;? extends Number&gt; list1 = new ArrayList&lt;Integer&gt;();\r\n        list1.add(null);  //OK\r\n        Number n = list1.get(0);  //OK\r\n        Serializable s = list1.get(0);  //OK\r\n        Object o = list1.get(0);  //OK\r\n\r\n        list1.add(2.3);  //ERROR\r\n        list1.add(5);  //ERROR\r\n        list1.add(new Object());  //ERROR\r\n        Integer i = list1.get(0);  //ERROR\r\n\r\n------------------------------------------------------------\r\n\r\n        List&lt;? super Number&gt; list2 = new ArrayList&lt;Number&gt;();\r\n        list2.add(null);  //OK\r\n        list2.add(2.3);  //OK\r\n        list2.add(5);  //OK\r\n        Object o = list2.get(0);  //OK\r\n\r\n        list2.add(new Object());  //ERROR\r\n        Number n = list2.get(0);  //ERROR\r\n        Serializable s = list2.get(0);  //ERROR\r\n        Integer i = list2.get(0);  //ERROR\r\n","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>Adding an item to the list:</p>\n\n<ul>\n<li><p><strong>List&lt; ? extends X ></strong> doesn't allow to add anything, except for <code>null</code> into the list.</p></li>\n<li><p><strong>List&lt; ? super X ></strong> allows to add anything that is-a X (X or its subtype), or null.</p></li>\n</ul>\n\n<p>Getting an item from the list:</p>\n\n<ul>\n<li>When you get an item from <strong>List&lt; ? extends X ></strong>, you can assign it to a variable of type X or any supertype of X, including Object.</li>\n<li>When you get an item from <strong>List&lt; ? super X ></strong>, you can only assign it to a variable of type <code>Object</code>.</li>\n</ul>\n\n<p>Some examples:</p>\n\n<pre><code>    List&lt;? extends Number&gt; list1 = new ArrayList&lt;Integer&gt;();\n    list1.add(null);  //OK\n    Number n = list1.get(0);  //OK\n    Serializable s = list1.get(0);  //OK\n    Object o = list1.get(0);  //OK\n\n    list1.add(2.3);  //ERROR\n    list1.add(5);  //ERROR\n    list1.add(new Object());  //ERROR\n    Integer i = list1.get(0);  //ERROR\n</code></pre>\n\n<hr>\n\n<pre><code>    List&lt;? super Number&gt; list2 = new ArrayList&lt;Number&gt;();\n    list2.add(null);  //OK\n    list2.add(2.3);  //OK\n    list2.add(5);  //OK\n    Object o = list2.get(0);  //OK\n\n    list2.add(new Object());  //ERROR\n    Number n = list2.get(0);  //ERROR\n    Serializable s = list2.get(0);  //ERROR\n    Integer i = list2.get(0);  //ERROR\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1429360,"reputation":4094,"user_id":1352127,"accept_rate":45,"display_name":"Shailesh Pratapwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522470018,"creation_date":1522470018,"answer_id":49584200,"question_id":4343202,"body_markdown":"The up voted answers covers the details on many aspects. However, I would try to answer this in different way.\r\n\r\nThere are 2 things we need to consider, \r\n\r\n**1. Assignment to the list variable**\r\n--------------------------------------\r\n\r\n \r\n`List&lt;? extends X&gt; listvar;`\r\n\r\nHere, any **list of X or list of subclasses of X can be assigned** to listvar.\r\n\r\n`List&lt;? extends Number&gt; listvar;\r\n listvar = new ArrayList&lt;Number&gt;(); \r\n listvar = new ArrayList&lt;Integer&gt;();`\r\n\r\n----------\r\n\r\n\r\n`List&lt;? super X&gt; listvar;`\r\n\r\nHere, any **list of X or list of superclasses of X can be assigned** to listvar.\r\n\r\n`List&lt;? super Number&gt; listvar;\r\n listvar = new ArrayList&lt;Number&gt;(); \r\n listvar = new ArrayList&lt;Object&gt;();`\r\n\r\n\r\n\r\n2. Perform Read or Write operation on the list variable\r\n----------------------------------------------------\r\n\r\n    `List&lt;? extends X&gt; listvar;`\r\n\r\nYou can use this feature to accept a list in method arguments and perform any operations on **type X** (Note: You can **only read objects of type X** from the list).\r\n\r\n    `List&lt;? super Number&gt; listvar;\r\n\r\nYou can use this feature to accept a list in method arguments and perform any operations on **type Object** as You can **only read objects of type Object** from the list. **But yes, additional thing here is , you can add objects of type X into the list.**\r\n","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>The up voted answers covers the details on many aspects. However, I would try to answer this in different way.</p>\n\n<p>There are 2 things we need to consider, </p>\n\n<h2><strong>1. Assignment to the list variable</strong></h2>\n\n<p><code>List&lt;? extends X&gt; listvar;</code></p>\n\n<p>Here, any <strong>list of X or list of subclasses of X can be assigned</strong> to listvar.</p>\n\n<p><code>List&lt;? extends Number&gt; listvar;\n listvar = new ArrayList&lt;Number&gt;(); \n listvar = new ArrayList&lt;Integer&gt;();</code></p>\n\n<hr>\n\n<p><code>List&lt;? super X&gt; listvar;</code></p>\n\n<p>Here, any <strong>list of X or list of superclasses of X can be assigned</strong> to listvar.</p>\n\n<p><code>List&lt;? super Number&gt; listvar;\n listvar = new ArrayList&lt;Number&gt;(); \n listvar = new ArrayList&lt;Object&gt;();</code></p>\n\n<h2>2. Perform Read or Write operation on the list variable</h2>\n\n<pre><code>`List&lt;? extends X&gt; listvar;`\n</code></pre>\n\n<p>You can use this feature to accept a list in method arguments and perform any operations on <strong>type X</strong> (Note: You can <strong>only read objects of type X</strong> from the list).</p>\n\n<pre><code>`List&lt;? super Number&gt; listvar;\n</code></pre>\n\n<p>You can use this feature to accept a list in method arguments and perform any operations on <strong>type Object</strong> as You can <strong>only read objects of type Object</strong> from the list. <strong>But yes, additional thing here is , you can add objects of type X into the list.</strong></p>\n"},{"comments":[{"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"score":1,"creation_date":1540245588,"post_id":51467849,"comment_id":92785752,"body_markdown":"not sure why this was downvoted... other than for the naming of variables in a .net fashion. I corrected the -1, but you probably should conform to the normal naming convention :) https://www.oracle.com/technetwork/java/codeconventions-135099.html","body":"not sure why this was downvoted... other than for the naming of variables in a .net fashion. I corrected the -1, but you probably should conform to the normal naming convention :) <a href=\"https://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/codeconventions-135099.html</a>"}],"tags":[],"owner":{"account_id":13393653,"reputation":51,"user_id":9665308,"display_name":"Crox"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1532282254,"creation_date":1532282254,"answer_id":51467849,"question_id":4343202,"body_markdown":"Example,\r\nOrder of inheritance is assumed as O &gt; S &gt; T &gt; U &gt; V\r\n\r\n**Using extends Keyword ,**\r\n\r\n***Correct:***\r\n\r\n    List&lt;? extends T&gt; Object = new List&lt;T&gt;();\r\n    List&lt;? extends T&gt; Object = new List&lt;U&gt;();\r\n    List&lt;? extends T&gt; Object = new List&lt;V&gt;();\r\n\r\n***InCorrect:***\r\n\r\n    List&lt;? extends T&gt; Object = new List&lt;S&gt;();\r\n    List&lt;? extends T&gt; Object = new List&lt;O&gt;();\r\n\r\n**super Keyword:** \r\n\r\n***Correct:***\r\n\r\n    List&lt;? super T&gt; Object = new List&lt;T&gt;();\r\n    List&lt;? super T&gt; Object = new List&lt;S&gt;();\r\n    List&lt;? super T&gt; Object = new List&lt;O&gt;();\r\n\r\n***InCorrect:***\r\n\r\n    List&lt;? super T&gt; Object = new List&lt;U&gt;();\r\n    List&lt;? super T&gt; Object = new List&lt;V&gt;();\r\n\r\nAdding object:\r\nList&lt;? extends T&gt; Object = new List&lt;T&gt;();\r\n\r\n    Object.add(new T()); //error\r\n\r\nBut Why error ?\r\nLet&#39;s look at the Possibilities of initializations of List&lt;? extends T&gt; Object\r\n   \r\n    List&lt;? extends T&gt; Object = new List&lt;T&gt;();\r\n    List&lt;? extends T&gt; Object = new List&lt;U&gt;();\r\n    List&lt;? extends T&gt; Object = new List&lt;V&gt;();\r\nIf we use Object.add(new T()); then it will be correct only if \r\n\r\n    List&lt;? extends T&gt; Object = new List&lt;T&gt;(); \r\n\r\nBut there are extra two possibilities\r\n\r\nList&lt;? extends T&gt; Object = new List&lt;U&gt;();\r\nList&lt;? extends T&gt; Object = new List&lt;V&gt;();\r\nIf we try to add (new T()) to the above two possibilities it will give an error because T is the superior class of U and V . we try to add a T object [which is (new T()) ] to List of type U and V . Higher class object(Base class) cannot be passed to lower class Object(Sub class).\r\n\r\nDue to the extra two possibilities , Java gives you error even if you use the correct possilibity as Java don&#39;t know what Object you are referring to .So you can&#39;t add objects to List&lt;? extends T&gt; Object = new List&lt;T&gt;(); as there are possibilities that are not valid.\r\n\r\nAdding object:\r\nList&lt;? super T&gt; Object = new List&lt;T&gt;();\r\n\r\n    Object.add(new T()); // compiles fine without error\r\n    Object.add(new U()); // compiles fine without error\r\n    Object.add(new V()); // compiles fine without error\r\n\r\n    Object.add(new S()); //  error\r\n    Object.add(new O()); //  error\r\nBut why error occurs in the above two ?\r\nwe can use Object.add(new T()); only on the below possibilities,\r\n\r\n    List&lt;? super T&gt; Object = new List&lt;T&gt;();\r\n    List&lt;? super T&gt; Object = new List&lt;S&gt;();\r\n    List&lt;? super T&gt; Object = new List&lt;O&gt;();\r\n\r\nIf we Tried to use Object.add(new T()) in \r\n  List&lt;? extends T&gt; Object = new List&lt;U&gt;(); \r\n            and\r\n  List&lt;? extends T&gt; Object = new List&lt;V&gt;(); \r\nthen it will give error \r\nThis is because \r\nWe can&#39;t add T object[which is new T()] to the  List&lt;? extends T&gt; Object = new List&lt;U&gt;();  because it is an object of type U . We can&#39;t add a T object[which is new T()] to U Object because T is a base class and U is a sub class . We can&#39;t add base class to subclass and that&#39;s why error occurs . This is same for the another case .\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n \r\n","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>Example,\nOrder of inheritance is assumed as O > S > T > U > V</p>\n\n<p><strong>Using extends Keyword ,</strong></p>\n\n<p><strong><em>Correct:</em></strong></p>\n\n<pre><code>List&lt;? extends T&gt; Object = new List&lt;T&gt;();\nList&lt;? extends T&gt; Object = new List&lt;U&gt;();\nList&lt;? extends T&gt; Object = new List&lt;V&gt;();\n</code></pre>\n\n<p><strong><em>InCorrect:</em></strong></p>\n\n<pre><code>List&lt;? extends T&gt; Object = new List&lt;S&gt;();\nList&lt;? extends T&gt; Object = new List&lt;O&gt;();\n</code></pre>\n\n<p><strong>super Keyword:</strong> </p>\n\n<p><strong><em>Correct:</em></strong></p>\n\n<pre><code>List&lt;? super T&gt; Object = new List&lt;T&gt;();\nList&lt;? super T&gt; Object = new List&lt;S&gt;();\nList&lt;? super T&gt; Object = new List&lt;O&gt;();\n</code></pre>\n\n<p><strong><em>InCorrect:</em></strong></p>\n\n<pre><code>List&lt;? super T&gt; Object = new List&lt;U&gt;();\nList&lt;? super T&gt; Object = new List&lt;V&gt;();\n</code></pre>\n\n<p>Adding object:\nList Object = new List();</p>\n\n<pre><code>Object.add(new T()); //error\n</code></pre>\n\n<p>But Why error ?\nLet's look at the Possibilities of initializations of List Object</p>\n\n<pre><code>List&lt;? extends T&gt; Object = new List&lt;T&gt;();\nList&lt;? extends T&gt; Object = new List&lt;U&gt;();\nList&lt;? extends T&gt; Object = new List&lt;V&gt;();\n</code></pre>\n\n<p>If we use Object.add(new T()); then it will be correct only if </p>\n\n<pre><code>List&lt;? extends T&gt; Object = new List&lt;T&gt;(); \n</code></pre>\n\n<p>But there are extra two possibilities</p>\n\n<p>List Object = new List();\nList Object = new List();\nIf we try to add (new T()) to the above two possibilities it will give an error because T is the superior class of U and V . we try to add a T object [which is (new T()) ] to List of type U and V . Higher class object(Base class) cannot be passed to lower class Object(Sub class).</p>\n\n<p>Due to the extra two possibilities , Java gives you error even if you use the correct possilibity as Java don't know what Object you are referring to .So you can't add objects to List Object = new List(); as there are possibilities that are not valid.</p>\n\n<p>Adding object:\nList Object = new List();</p>\n\n<pre><code>Object.add(new T()); // compiles fine without error\nObject.add(new U()); // compiles fine without error\nObject.add(new V()); // compiles fine without error\n\nObject.add(new S()); //  error\nObject.add(new O()); //  error\n</code></pre>\n\n<p>But why error occurs in the above two ?\nwe can use Object.add(new T()); only on the below possibilities,</p>\n\n<pre><code>List&lt;? super T&gt; Object = new List&lt;T&gt;();\nList&lt;? super T&gt; Object = new List&lt;S&gt;();\nList&lt;? super T&gt; Object = new List&lt;O&gt;();\n</code></pre>\n\n<p>If we Tried to use Object.add(new T()) in \n  List Object = new List(); \n            and\n  List Object = new List(); \nthen it will give error \nThis is because \nWe can't add T object[which is new T()] to the  List Object = new List();  because it is an object of type U . We can't add a T object[which is new T()] to U Object because T is a base class and U is a sub class . We can't add base class to subclass and that's why error occurs . This is same for the another case .</p>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1573730742,"creation_date":1537724815,"answer_id":52468735,"question_id":4343202,"body_markdown":"I&#39;d like to visualize the difference. Suppose we have:\r\n\r\n    class A { }\r\n    class B extends A { }\r\n    class C extends B { }\r\n\r\n`List&lt;? extends T&gt;` - reading and assigning:\r\n\r\n    |-------------------------|-------------------|---------------------------------|\r\n    |         wildcard        |        get        |              assign             |\r\n    |-------------------------|-------------------|---------------------------------|\r\n    |    List&lt;? extends C&gt;    |    A    B    C    |                       List&lt;C&gt;   |\r\n    |-------------------------|-------------------|---------------------------------|\r\n    |    List&lt;? extends B&gt;    |    A    B         |             List&lt;B&gt;   List&lt;C&gt;   |\r\n    |-------------------------|-------------------|---------------------------------|\r\n    |    List&lt;? extends A&gt;    |    A              |   List&lt;A&gt;   List&lt;B&gt;   List&lt;C&gt;   |\r\n    |-------------------------|-------------------|---------------------------------|\r\n\r\n`List&lt;? super T&gt;` - writing and assigning:\r\n\r\n    |-------------------------|-------------------|-------------------------------------------|\r\n    |         wildcard        |        add        |                   assign                  |\r\n    |-------------------------|-------------------|-------------------------------------------|\r\n    |     List&lt;? super C&gt;     |              C    |  List&lt;Object&gt;  List&lt;A&gt;  List&lt;B&gt;  List&lt;C&gt;  |\r\n    |-------------------------|-------------------|-------------------------------------------|\r\n    |     List&lt;? super B&gt;     |         B    C    |  List&lt;Object&gt;  List&lt;A&gt;  List&lt;B&gt;           |\r\n    |-------------------------|-------------------|-------------------------------------------|\r\n    |     List&lt;? super A&gt;     |    A    B    C    |  List&lt;Object&gt;  List&lt;A&gt;                    |\r\n    |-------------------------|-------------------|-------------------------------------------|\r\n\r\nIn all of the cases:\r\n\r\n - you can always **get** `Object` from a list regardless of the wildcard.&lt;/sup&gt;&lt;br/&gt;\r\n - you can always **add** `null` to a mutable list regardless of the wildcard.&lt;/sup&gt;","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>I'd like to visualize the difference. Suppose we have:</p>\n\n<pre><code>class A { }\nclass B extends A { }\nclass C extends B { }\n</code></pre>\n\n<p><code>List&lt;? extends T&gt;</code> - reading and assigning:</p>\n\n<pre><code>|-------------------------|-------------------|---------------------------------|\n|         wildcard        |        get        |              assign             |\n|-------------------------|-------------------|---------------------------------|\n|    List&lt;? extends C&gt;    |    A    B    C    |                       List&lt;C&gt;   |\n|-------------------------|-------------------|---------------------------------|\n|    List&lt;? extends B&gt;    |    A    B         |             List&lt;B&gt;   List&lt;C&gt;   |\n|-------------------------|-------------------|---------------------------------|\n|    List&lt;? extends A&gt;    |    A              |   List&lt;A&gt;   List&lt;B&gt;   List&lt;C&gt;   |\n|-------------------------|-------------------|---------------------------------|\n</code></pre>\n\n<p><code>List&lt;? super T&gt;</code> - writing and assigning:</p>\n\n<pre><code>|-------------------------|-------------------|-------------------------------------------|\n|         wildcard        |        add        |                   assign                  |\n|-------------------------|-------------------|-------------------------------------------|\n|     List&lt;? super C&gt;     |              C    |  List&lt;Object&gt;  List&lt;A&gt;  List&lt;B&gt;  List&lt;C&gt;  |\n|-------------------------|-------------------|-------------------------------------------|\n|     List&lt;? super B&gt;     |         B    C    |  List&lt;Object&gt;  List&lt;A&gt;  List&lt;B&gt;           |\n|-------------------------|-------------------|-------------------------------------------|\n|     List&lt;? super A&gt;     |    A    B    C    |  List&lt;Object&gt;  List&lt;A&gt;                    |\n|-------------------------|-------------------|-------------------------------------------|\n</code></pre>\n\n<p>In all of the cases:</p>\n\n<ul>\n<li>you can always <strong>get</strong> <code>Object</code> from a list regardless of the wildcard.<br/></li>\n<li>you can always <strong>add</strong> <code>null</code> to a mutable list regardless of the wildcard.</li>\n</ul>\n"}],"owner":{"account_id":235146,"reputation":11962,"user_id":501767,"accept_rate":80,"display_name":"Anand"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353855,"favorite_count":1,"down_vote_count":0,"up_vote_count":1043,"closed_date":1538251500,"accepted_answer_id":4343547,"answer_count":14,"score":1043,"last_activity_date":1671840160,"creation_date":1291359426,"question_id":4343202,"body_markdown":"What is the difference between `List&lt;? super T&gt;` and `List&lt;? extends T&gt;` ?\r\n\r\nI used to use `List&lt;? extends T&gt;`, but it does not allow me to add elements to it `list.add(e)`, whereas the `List&lt;? super T&gt;` does.\r\n","title":"Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java","body":"<p>What is the difference between <code>List&lt;? super T&gt;</code> and <code>List&lt;? extends T&gt;</code> ?</p>\n\n<p>I used to use <code>List&lt;? extends T&gt;</code>, but it does not allow me to add elements to it <code>list.add(e)</code>, whereas the <code>List&lt;? super T&gt;</code> does.</p>\n"},{"tags":["java","android","android-fragments","classnotfoundexception","android-library"],"comments":[{"owner":{"account_id":217708,"reputation":23000,"user_id":473637,"accept_rate":88,"display_name":"Jeshurun"},"score":1,"creation_date":1338676537,"post_id":10866431,"comment_id":14157223,"body_markdown":"Is your Activity in the Library or the application?","body":"Is your Activity in the Library or the application?"},{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1338676608,"post_id":10866431,"comment_id":14157235,"body_markdown":"It&#39;s in the application. It extends a base activity in the library project.","body":"It&#39;s in the application. It extends a base activity in the library project."},{"owner":{"account_id":994572,"reputation":8429,"user_id":1010868,"accept_rate":69,"display_name":"Tomasz Gawel"},"score":0,"creation_date":1338678356,"post_id":10866431,"comment_id":14157462,"body_markdown":"Do you build with ant or with ADT? it seems that dex files do not contain library classes.","body":"Do you build with ant or with ADT? it seems that dex files do not contain library classes."},{"owner":{"account_id":483376,"reputation":28370,"user_id":898375,"accept_rate":100,"display_name":"Gunnar Karlsson"},"score":0,"creation_date":1338678715,"post_id":10866431,"comment_id":14157518,"body_markdown":"The error implies that your Activity location is com.matthewrathbone.eastersays.com.matthewrathbone.eastersays.EasterSimonSaysActivity - clearly not right. Try adding a package level to the project package that doesn&#39;t exist in the library e.g. ...eastersays.myapp.EasterSimonSaysActivity and specify com.matthewrathbone.eastersays.myapp as package in the manifest. But don&#39;t add the &#39;myapp&#39; level to the library to keep the project path in the manifest distinct from the library framework path.","body":"The error implies that your Activity location is com.matthewrathbone.eastersays.com.matthewrathbone.eastersay&zwnj;&#8203;s.EasterSimonSaysAct&zwnj;&#8203;ivity - clearly not right. Try adding a package level to the project package that doesn&#39;t exist in the library e.g. ...eastersays.myapp.EasterSimonSaysActivity and specify com.matthewrathbone.eastersays.myapp as package in the manifest. But don&#39;t add the &#39;myapp&#39; level to the library to keep the project path in the manifest distinct from the library framework path."},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1339266587,"post_id":10866431,"comment_id":14313727,"body_markdown":"what do you mean &quot;you refactored your app into a framework library and an application&quot;?","body":"what do you mean &quot;you refactored your app into a framework library and an application&quot;?"},{"owner":{"account_id":42119,"reputation":1592,"user_id":122610,"accept_rate":82,"display_name":"richardwiden"},"score":0,"creation_date":1339287404,"post_id":10866431,"comment_id":14317202,"body_markdown":"Not to be an ass but this is asked roughly once a week, did you try the searchfunction?\n\nhttp://stackoverflow.com/questions/3642928/adding-a-library-jar-to-an-eclipse-android-project","body":"Not to be an ass but this is asked roughly once a week, did you try the searchfunction?  <a href=\"http://stackoverflow.com/questions/3642928/adding-a-library-jar-to-an-eclipse-android-project\" title=\"adding a library jar to an eclipse android project\">stackoverflow.com/questions/3642928/&hellip;</a>"},{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1339287720,"post_id":10866431,"comment_id":14317240,"body_markdown":"Yep. I tried everything from every answer I found. That link you gave me does not have the solution to my problem. The answer accepted below is the correct solution to my specific issue.","body":"Yep. I tried everything from every answer I found. That link you gave me does not have the solution to my problem. The answer accepted below is the correct solution to my specific issue."},{"owner":{"account_id":3260021,"reputation":4753,"user_id":2745762,"display_name":"Nishant Srivastava"},"score":1,"creation_date":1442861828,"post_id":10866431,"comment_id":53248433,"body_markdown":"http://iqadd.com/item/noclassdeffounderror-adt-fix : Link broken :/","body":"<a href=\"http://iqadd.com/item/noclassdeffounderror-adt-fix\" rel=\"nofollow noreferrer\">iqadd.com/item/noclassdeffounderror-adt-fix</a> : Link broken :/"}],"answers":[{"comments":[{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1338732286,"post_id":10866563,"comment_id":14164441,"body_markdown":"So you&#39;re right, if I extend Activity directly it works. My build order matches yours, so I can&#39;t find a way to fix it that way. Any other ideas?","body":"So you&#39;re right, if I extend Activity directly it works. My build order matches yours, so I can&#39;t find a way to fix it that way. Any other ideas?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1338732519,"post_id":10866563,"comment_id":14164495,"body_markdown":"that&#39;s really odd . try to update the sdk&amp;adt. also , please tell me if there are multiple library projects (or jar files, or both) that your app uses . if so , try to play a little with the order of the build path (i would try to put the libraries before) . in addition , i have another question : did you create a class that is called &quot;Activity&quot; and maybe you&#39;ve extended it instead of the one of android?","body":"that&#39;s really odd . try to update the sdk&amp;adt. also , please tell me if there are multiple library projects (or jar files, or both) that your app uses . if so , try to play a little with the order of the build path (i would try to put the libraries before) . in addition , i have another question : did you create a class that is called &quot;Activity&quot; and maybe you&#39;ve extended it instead of the one of android?"},{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1338736027,"post_id":10866563,"comment_id":14165089,"body_markdown":"There are 2 library projects, the second (engine) is depended on by both simonSays and the android project. I&#39;ve tried every combination of build order, exporting the engine project from SimonSays. Answer to your question: I don&#39;t have a class called activity anywhere.","body":"There are 2 library projects, the second (engine) is depended on by both simonSays and the android project. I&#39;ve tried every combination of build order, exporting the engine project from SimonSays. Answer to your question: I don&#39;t have a class called activity anywhere."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1338736690,"post_id":10866563,"comment_id":14165216,"body_markdown":"the engine is the core . other projects should use it and not the opposite . only the project that is an android project (meaning not a library project) should have the manifest that includes the decleration of all of the activities ,services, etc... the manifest on android library projects (currently) doesn&#39;t have much purposes (see this for more information : http://stackoverflow.com/a/10445630/878126 )","body":"the engine is the core . other projects should use it and not the opposite . only the project that is an android project (meaning not a library project) should have the manifest that includes the decleration of all of the activities ,services, etc... the manifest on android library projects (currently) doesn&#39;t have much purposes (see this for more information : <a href=\"http://stackoverflow.com/a/10445630/878126\">stackoverflow.com/a/10445630/878126</a> )"},{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1338737282,"post_id":10866563,"comment_id":14165333,"body_markdown":"None of the library projects have a manifest file. Only the android project does.","body":"None of the library projects have a manifest file. Only the android project does."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":1,"creation_date":1338739500,"post_id":10866563,"comment_id":14165794,"body_markdown":"they must have . it&#39;s just that the manifest file can be very short and not include almost anything . also check the project.properties file (in each of the projects) that its target sdk is 15 as this is the latest version currently . if you wish, you can PM me and i will fix the projects .","body":"they must have . it&#39;s just that the manifest file can be very short and not include almost anything . also check the project.properties file (in each of the projects) that its target sdk is 15 as this is the latest version currently . if you wish, you can PM me and i will fix the projects ."},{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1338774554,"post_id":10866563,"comment_id":14171975,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/12084/discussion-between-matthew-rathbone-and-android-developer)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/12084/discussion-between-matthew-rathbone-and-android-developer\">continue this discussion in chat</a>"},{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1339264317,"post_id":10866563,"comment_id":14313256,"body_markdown":"I tried making every project an android library project, all with the exact same android requirements. It did not work.","body":"I tried making every project an android library project, all with the exact same android requirements. It did not work."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1339266374,"post_id":10866563,"comment_id":14313674,"body_markdown":"please send me your entire workspace (or the relevant projects) via PM or put a link on the first thread  . i will see what i can do to fix it.","body":"please send me your entire workspace (or the relevant projects) via PM or put a link on the first thread  . i will see what i can do to fix it."},{"owner":{"account_id":1442293,"reputation":459,"user_id":1362041,"accept_rate":94,"display_name":"B. TIger"},"score":0,"creation_date":1372969380,"post_id":10866563,"comment_id":25399277,"body_markdown":"Yo this really helped me I had a project that always worked and than stoped working when I imported it and this was the only solution to fix it @androiddeveloper","body":"Yo this really helped me I had a project that always worked and than stoped working when I imported it and this was the only solution to fix it @androiddeveloper"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1372977273,"post_id":10866563,"comment_id":25401589,"body_markdown":"@B.TIger i don&#39;t understand. do you need any help?","body":"@B.TIger i don&#39;t understand. do you need any help?"},{"owner":{"account_id":1442293,"reputation":459,"user_id":1362041,"accept_rate":94,"display_name":"B. TIger"},"score":0,"creation_date":1373313108,"post_id":10866563,"comment_id":25501132,"body_markdown":"@androiddeveloper Thanks I am all good but this solution was gold to me","body":"@androiddeveloper Thanks I am all good but this solution was gold to me"}],"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":12,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1338677923,"creation_date":1338677923,"answer_id":10866563,"question_id":10866431,"body_markdown":"i&#39;ve tested the code that you&#39;ve given , and it works fine.\r\ntry changing the &quot;extends SimonSaysActivity &quot; to simply &quot;extends Activity &quot; and see for yourself that it works .\r\n\r\nthe reason that it doesn&#39;t work is either SimonSaysActivity doesn&#39;t extend Activity (which i don&#39;t think you&#39;ve made this mistake) , or the order of the build path is wrong . \r\n\r\nto go to the order of the build path , go to :\r\n\r\n    project-&gt;properties-&gt;Java build path-&gt;order and export .\r\n\r\nmy basic order is : project src , project gen , android 4.0.3 , android dependencies .\r\n\r\nthis problem usually occurs when you use libraries . ","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>i've tested the code that you've given , and it works fine.\ntry changing the \"extends SimonSaysActivity \" to simply \"extends Activity \" and see for yourself that it works .</p>\n\n<p>the reason that it doesn't work is either SimonSaysActivity doesn't extend Activity (which i don't think you've made this mistake) , or the order of the build path is wrong . </p>\n\n<p>to go to the order of the build path , go to :</p>\n\n<pre><code>project-&gt;properties-&gt;Java build path-&gt;order and export .\n</code></pre>\n\n<p>my basic order is : project src , project gen , android 4.0.3 , android dependencies .</p>\n\n<p>this problem usually occurs when you use libraries . </p>\n"},{"comments":[{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1338736048,"post_id":10866593,"comment_id":14165093,"body_markdown":"all versions are the same, android 2.2.","body":"all versions are the same, android 2.2."}],"tags":[],"owner":{"account_id":157812,"reputation":7194,"user_id":376016,"accept_rate":100,"display_name":"Charles Harley"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338678179,"creation_date":1338678179,"answer_id":10866593,"question_id":10866431,"body_markdown":"What interfaces or parent classes does SimonSaysActivity use/extend and are they available on the version of Android you&#39;re using? I&#39;ve seen similar problems where my activity implemented an API interface that wasn&#39;t available on the version of Android I was using.\r\n\r\nIn my case my activity implemented the interface PopupMenu.OnDismissListener which is only available in API 14 but when I ran the app on my 2.3 device I received a java.lang.NoClassDefFoundError exception for the activity.","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>What interfaces or parent classes does SimonSaysActivity use/extend and are they available on the version of Android you're using? I've seen similar problems where my activity implemented an API interface that wasn't available on the version of Android I was using.</p>\n\n<p>In my case my activity implemented the interface PopupMenu.OnDismissListener which is only available in API 14 but when I ran the app on my 2.3 device I received a java.lang.NoClassDefFoundError exception for the activity.</p>\n"},{"comments":[{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1339287868,"post_id":10963617,"comment_id":14317256,"body_markdown":"Yeah, I was absolutely treating the individual projects correctly, it was the manner in which I was referencing the library projects that actually caused the issue. Thanks for the awesome help though!","body":"Yeah, I was absolutely treating the individual projects correctly, it was the manner in which I was referencing the library projects that actually caused the issue. Thanks for the awesome help though!"},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1339287919,"post_id":10963617,"comment_id":14317265,"body_markdown":"np... it was worth a shot, haha","body":"np... it was worth a shot, haha"}],"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1339286745,"creation_date":1339267465,"answer_id":10963617,"question_id":10866431,"body_markdown":"&gt; I&#39;ve just refactored an app into a framework library and an application.\r\n\r\nI&#39;m not entirely sure what you are trying to say here, but the fact that you used the word &quot;refactored&quot; here leads me to believe that you are misunderstanding the concept of a library project.\r\n\r\n---\r\n\r\n&lt;h3&gt;What library projects &lt;i&gt;are&lt;/i&gt;:&lt;/h3&gt;\r\n\r\nA library project is a development project that contains shared source code and resources. Other Android projects can reference the library project and include its compiled sources in their .apk files at compile time.\r\n\r\n&lt;h3&gt;What library projects &lt;i&gt;are not&lt;/i&gt;:&lt;/h3&gt;\r\n\r\nA library project differs from a standard Android project in that you cannot compile it directly to a single `.apk` file and run it on an Android device. You can&#39;t use an Android projects as a library project, and then have another Android project *extend* the library project. It doesn&#39;t work that way.\r\n\r\n---\r\n\r\nThat said, I would investigate the structure of your library project and insure that you&#39;ve [set it up correctly](http://developer.android.com/guide/developing/projects/index.html#LibraryProjects). It&#39;s OK to use your library to store shared code/resources, but if your library is attempting to behave as if it were a separate `.apk` within the library project itself, then you&#39;ve probably done something wrong. I believe a `ClassNotFoundException` would be thrown if this were the case. To fix the problem, I&#39;d just build the library project from scratch, rather than attempting to convert the Android project to a library project. That&#39;ll prevent you from running into tiny, annoying bugs.\r\n\r\nFeel free to post more code if you are still having trouble. You should also elaborate a bit more on the structure (and purpose) of your library project... why you decided to use one, how you created it, etc.","title":"Android Activity ClassNotFoundException - tried everything","body":"<blockquote>\n  <p>I've just refactored an app into a framework library and an application.</p>\n</blockquote>\n\n<p>I'm not entirely sure what you are trying to say here, but the fact that you used the word \"refactored\" here leads me to believe that you are misunderstanding the concept of a library project.</p>\n\n<hr>\n\n<h3>What library projects <i>are</i>:</h3>\n\n<p>A library project is a development project that contains shared source code and resources. Other Android projects can reference the library project and include its compiled sources in their .apk files at compile time.</p>\n\n<h3>What library projects <i>are not</i>:</h3>\n\n<p>A library project differs from a standard Android project in that you cannot compile it directly to a single <code>.apk</code> file and run it on an Android device. You can't use an Android projects as a library project, and then have another Android project <em>extend</em> the library project. It doesn't work that way.</p>\n\n<hr>\n\n<p>That said, I would investigate the structure of your library project and insure that you've <a href=\"http://developer.android.com/guide/developing/projects/index.html#LibraryProjects\" rel=\"nofollow\">set it up correctly</a>. It's OK to use your library to store shared code/resources, but if your library is attempting to behave as if it were a separate <code>.apk</code> within the library project itself, then you've probably done something wrong. I believe a <code>ClassNotFoundException</code> would be thrown if this were the case. To fix the problem, I'd just build the library project from scratch, rather than attempting to convert the Android project to a library project. That'll prevent you from running into tiny, annoying bugs.</p>\n\n<p>Feel free to post more code if you are still having trouble. You should also elaborate a bit more on the structure (and purpose) of your library project... why you decided to use one, how you created it, etc.</p>\n"},{"comments":[{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":1,"creation_date":1339287059,"post_id":10965393,"comment_id":14317160,"body_markdown":"You my friend are a genius. What&#39;s interesting about this is that I was always including one library &#39;the wrong way&#39;, and it worked. So when I refactored into two libraries I thought it was something I did differently. You&#39;ve just saved me hours and hours of work.","body":"You my friend are a genius. What&#39;s interesting about this is that I was always including one library &#39;the wrong way&#39;, and it worked. So when I refactored into two libraries I thought it was something I did differently. You&#39;ve just saved me hours and hours of work."},{"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"score":0,"creation_date":1339287805,"post_id":10965393,"comment_id":14317250,"body_markdown":"funny thing is, it was working before, I guess upgrading my sdk tools changed the behavior. It was very non-obvious.","body":"funny thing is, it was working before, I guess upgrading my sdk tools changed the behavior. It was very non-obvious."},{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":0,"creation_date":1339304979,"post_id":10965393,"comment_id":14318791,"body_markdown":"@MatthewRathbone, AFAIK sdk upgrading should not change the behavior. You mentioned you have tried changing the library project into a regular java project. I would assume your problem is introduced by this action, as this is usually the case when we need add one project as a dependency into another one&#39;s build path.","body":"@MatthewRathbone, AFAIK sdk upgrading should not change the behavior. You mentioned you have tried changing the library project into a regular java project. I would assume your problem is introduced by this action, as this is usually the case when we need add one project as a dependency into another one&#39;s build path."},{"owner":{"account_id":86830,"reputation":3504,"user_id":241189,"accept_rate":90,"display_name":"Nick"},"score":3,"creation_date":1339505871,"post_id":10965393,"comment_id":14368293,"body_markdown":"Yes, updating the SDK Tools to &gt;ADT 17 introduces this error due to a change in the way the current ADT-version handles libraries. Check out: http://iqadd.com/item/noclassdeffounderror-adt-fix","body":"Yes, updating the SDK Tools to &gt;ADT 17 introduces this error due to a change in the way the current ADT-version handles libraries. Check out: <a href=\"http://iqadd.com/item/noclassdeffounderror-adt-fix\" rel=\"nofollow noreferrer\">iqadd.com/item/noclassdeffounderror-adt-fix</a>"},{"owner":{"account_id":273780,"reputation":1026,"user_id":565611,"accept_rate":86,"display_name":"Niels"},"score":2,"creation_date":1369381420,"post_id":10965393,"comment_id":24090959,"body_markdown":"Updating to ADT 22 gave a similar issue: http://stackoverflow.com/questions/16596969/libraries-do-not-get-added-to-apk-anymore-after-upgrade-to-adt-22","body":"Updating to ADT 22 gave a similar issue: <a href=\"http://stackoverflow.com/questions/16596969/libraries-do-not-get-added-to-apk-anymore-after-upgrade-to-adt-22\" title=\"libraries do not get added to apk anymore after upgrade to adt 22\">stackoverflow.com/questions/16596969/&hellip;</a>"},{"owner":{"account_id":122559,"reputation":3170,"user_id":316441,"accept_rate":55,"display_name":"RRTW"},"score":0,"creation_date":1383227049,"post_id":10965393,"comment_id":29275700,"body_markdown":"I did this correct way, and ADT says &quot;conversion to dalvik format failed with error 1&quot; while exporting signed APK file...Everything is fine before...How come is it happen ?","body":"I did this correct way, and ADT says &quot;conversion to dalvik format failed with error 1&quot; while exporting signed APK file...Everything is fine before...How come is it happen ?"},{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1392220814,"post_id":10965393,"comment_id":32867342,"body_markdown":"Any idea how I might fix a problem like this one on Netbeans, except with the native library? http://stackoverflow.com/questions/21732730/netbeans-activity-classnotfoundexception-nativelibrarydirectories","body":"Any idea how I might fix a problem like this one on Netbeans, except with the native library? <a href=\"http://stackoverflow.com/questions/21732730/netbeans-activity-classnotfoundexception-nativelibrarydirectories\" title=\"netbeans activity classnotfoundexception nativelibrarydirectories\">stackoverflow.com/questions/21732730/&hellip;</a>"},{"owner":{"account_id":8377397,"reputation":743,"user_id":6290489,"accept_rate":71,"display_name":"jlively"},"score":8,"creation_date":1491469009,"post_id":10965393,"comment_id":73569710,"body_markdown":"Would someone please let me know where can I find the `Properties`? I can&#39;t seem to find it anywhere.","body":"Would someone please let me know where can I find the <code>Properties</code>? I can&#39;t seem to find it anywhere."}],"tags":[],"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"comment_count":8,"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1671840088,"creation_date":1339285378,"answer_id":10965393,"question_id":10866431,"body_markdown":"I spent some time play with my own project, and I am able to replicate your problem and get exactly the same exception stack trace when trying to run my main project, so I think this could be the cause:\r\n\r\nJust like what I thought, it is all about how you reference your Android library project in the Android main project, a simple Eclipse configuration settings.\r\n\r\n**The Wrong Way:**  \r\nRight click main project, choose `Properties -&gt; Java Build Path -&gt; Projects -&gt; Add...`, this add the Android library Project as a dependency project in Android main project&#39;s build path, this does not work. If all required Android-related resources are defined in main project, you will not get any error at compile time, but when run the application, you get the exception described in the question.\r\n\r\n\r\n**The Correct Way:**  \r\nRight click main project, choose `Properties -&gt; Android`, in the Library section, add your Android library project here. Check out official dev guide [Referencing a library project][1]. This should fix all your problem. Also note that you have to use relative path reference the actual Android library project, as stated in the [Library Project - Development considerations][2].\r\n\r\n\r\n  [1]: http://developer.android.com/guide/developing/projects/projects-eclipse.html#ReferencingLibraryProject\r\n  [2]: http://developer.android.com/guide/developing/projects/index.html#considerations","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>I spent some time play with my own project, and I am able to replicate your problem and get exactly the same exception stack trace when trying to run my main project, so I think this could be the cause:</p>\n<p>Just like what I thought, it is all about how you reference your Android library project in the Android main project, a simple Eclipse configuration settings.</p>\n<p><strong>The Wrong Way:</strong><br />\nRight click main project, choose <code>Properties -&gt; Java Build Path -&gt; Projects -&gt; Add...</code>, this add the Android library Project as a dependency project in Android main project's build path, this does not work. If all required Android-related resources are defined in main project, you will not get any error at compile time, but when run the application, you get the exception described in the question.</p>\n<p><strong>The Correct Way:</strong><br />\nRight click main project, choose <code>Properties -&gt; Android</code>, in the Library section, add your Android library project here. Check out official dev guide <a href=\"http://developer.android.com/guide/developing/projects/projects-eclipse.html#ReferencingLibraryProject\" rel=\"nofollow noreferrer\">Referencing a library project</a>. This should fix all your problem. Also note that you have to use relative path reference the actual Android library project, as stated in the <a href=\"http://developer.android.com/guide/developing/projects/index.html#considerations\" rel=\"nofollow noreferrer\">Library Project - Development considerations</a>.</p>\n"},{"tags":[],"owner":{"account_id":264321,"reputation":331,"user_id":550518,"accept_rate":0,"display_name":"Luke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379554816,"creation_date":1379554816,"answer_id":18884993,"question_id":10866431,"body_markdown":"I had the same problem and wasted most of a day trying all sorts of things. The app ran find when deployed from one pc but not on this one pc. In the end it ended up being a missing java nature! Strange how it showed me java build paths, order/export and all that but yet didn&#39;t have a java nature. :( Hope this saves someone else a lot of time","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>I had the same problem and wasted most of a day trying all sorts of things. The app ran find when deployed from one pc but not on this one pc. In the end it ended up being a missing java nature! Strange how it showed me java build paths, order/export and all that but yet didn't have a java nature. :( Hope this saves someone else a lot of time</p>\n"},{"comments":[{"owner":{"account_id":1980584,"reputation":56,"user_id":1777308,"display_name":"AdrianTut"},"score":0,"creation_date":1601818080,"post_id":18959289,"comment_id":113517554,"body_markdown":"Thank you so much!! It was driving me crazy. This worked for me, I had a dummy MainActivity which was just loading an so. Took 2 days to find your comment!","body":"Thank you so much!! It was driving me crazy. This worked for me, I had a dummy MainActivity which was just loading an so. Took 2 days to find your comment!"}],"tags":[],"owner":{"account_id":1250442,"reputation":685,"user_id":1210953,"display_name":"Corona"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379939493,"creation_date":1379939493,"answer_id":18959289,"question_id":10866431,"body_markdown":"If you followed all the hints (checked the private Libraries etc.) and still have the bug.\r\nCheck your manifest for this Line of code in the application-tag\r\n\r\n        android:hasCode=&quot;false&quot; \r\n\r\nRemove it and be happy. (I was finally) :)","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>If you followed all the hints (checked the private Libraries etc.) and still have the bug.\nCheck your manifest for this Line of code in the application-tag</p>\n\n<pre><code>    android:hasCode=\"false\" \n</code></pre>\n\n<p>Remove it and be happy. (I was finally) :)</p>\n"},{"comments":[{"owner":{"account_id":1721333,"reputation":1158,"user_id":1577106,"display_name":"whiteagle"},"score":0,"creation_date":1443786608,"post_id":19460539,"comment_id":53640933,"body_markdown":"This fixed it for me. including just the v4-support.jar as a library didn&#39;t work.","body":"This fixed it for me. including just the v4-support.jar as a library didn&#39;t work."}],"tags":[],"owner":{"account_id":1301257,"reputation":4463,"user_id":1251112,"accept_rate":89,"display_name":"PSchuette"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382138832,"creation_date":1382138832,"answer_id":19460539,"question_id":10866431,"body_markdown":"For Eclipse Kepler(Mac): Control-click project -&gt; Android Tools -&gt; add support library","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>For Eclipse Kepler(Mac): Control-click project -> Android Tools -> add support library</p>\n"},{"tags":[],"owner":{"account_id":1427617,"reputation":3425,"user_id":1350740,"accept_rate":16,"display_name":"kaushal trivedi"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1392111088,"creation_date":1392111088,"answer_id":21697913,"question_id":10866431,"body_markdown":"I was getting the same issue.\r\nBut then i checked the current structure of the application.I found that older application structure(i don&#39;t know the time it is changed by android framework developers) has a folder name `&quot;lib&quot;` which is now `&quot;libs&quot;`.\r\nI migrate my all jar files into &quot;libs&quot; and the error is gone.\r\nI hope this may help to someone :)\r\n","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>I was getting the same issue.\nBut then i checked the current structure of the application.I found that older application structure(i don't know the time it is changed by android framework developers) has a folder name <code>\"lib\"</code> which is now <code>\"libs\"</code>.\nI migrate my all jar files into \"libs\" and the error is gone.\nI hope this may help to someone :)</p>\n"},{"tags":[],"owner":{"account_id":449119,"reputation":3674,"user_id":843726,"accept_rate":70,"display_name":"Gonzalo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1400799633,"creation_date":1400799633,"answer_id":23818428,"question_id":10866431,"body_markdown":"I had this problem with a project I was working on, though my case was different.\r\nIf anyone out there still can&#39;t find the solution to their problem, try checking this:\r\n\r\n&lt;b&gt;In Eclipse:&lt;/b&gt;\r\n\r\n    Project properties -&gt; Java Build Path -&gt; Source tab\r\n\r\nInside you&#39;ll find a list with all the source folders to be compiled and put into the generated apk each time to build your project (and &lt;i&gt;/gen&lt;/i&gt;). Tipically:\r\n\r\n    &gt;MyProject/gen\r\n    &gt;MyProject/src\r\n\r\nWhat you&#39;ll want to be sure of is that inside each of your source folders (exclude &lt;i&gt;/gen&lt;/i&gt;, so only &lt;i&gt;/src&lt;/i&gt; in this case) the item &lt;code&gt;Output folder&lt;/code&gt; is poiting to the default output folder, which is &lt;code&gt;MyProject/bin/classes&lt;/code&gt;. Do this by selecting Output folder and clicking Remove from the right set of buttons (this will make it point to the default folder).\r\n\r\n&lt;i&gt;If you can&#39;t see the subitem Output folder, check &quot;Allow output folders for source folders&quot; right below the list&lt;/i&gt;","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>I had this problem with a project I was working on, though my case was different.\nIf anyone out there still can't find the solution to their problem, try checking this:</p>\n\n<p><b>In Eclipse:</b></p>\n\n<pre><code>Project properties -&gt; Java Build Path -&gt; Source tab\n</code></pre>\n\n<p>Inside you'll find a list with all the source folders to be compiled and put into the generated apk each time to build your project (and <i>/gen</i>). Tipically:</p>\n\n<pre><code>&gt;MyProject/gen\n&gt;MyProject/src\n</code></pre>\n\n<p>What you'll want to be sure of is that inside each of your source folders (exclude <i>/gen</i>, so only <i>/src</i> in this case) the item <code>Output folder</code> is poiting to the default output folder, which is <code>MyProject/bin/classes</code>. Do this by selecting Output folder and clicking Remove from the right set of buttons (this will make it point to the default folder).</p>\n\n<p><i>If you can't see the subitem Output folder, check \"Allow output folders for source folders\" right below the list</i></p>\n"},{"tags":[],"owner":{"account_id":2154086,"reputation":2201,"user_id":1909708,"display_name":"Himadri Pant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403603434,"creation_date":1403603434,"answer_id":24383490,"question_id":10866431,"body_markdown":"solution provided by @yorkw is absolutely correct. I had an additional issue, in one of the layout files, I had mentioned the absolute name incorrectly. It should have been\r\n\r\n\t&lt;android.support.v4.view.ViewPager xmlns:android=&quot;...\r\n\t\r\nrather I had put it \r\n\r\n    &lt;android.support.v4.app.view.ViewPager xmlns:android=&quot;...\r\n\t\r\nafter resolving these, it worked good.","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>solution provided by @yorkw is absolutely correct. I had an additional issue, in one of the layout files, I had mentioned the absolute name incorrectly. It should have been</p>\n\n<pre><code>&lt;android.support.v4.view.ViewPager xmlns:android=\"...\n</code></pre>\n\n<p>rather I had put it </p>\n\n<pre><code>&lt;android.support.v4.app.view.ViewPager xmlns:android=\"...\n</code></pre>\n\n<p>after resolving these, it worked good.</p>\n"},{"tags":[],"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453975552,"creation_date":1429187701,"answer_id":29674899,"question_id":10866431,"body_markdown":"&gt; classNotFoundException in Java is a subclass of java.lang.Exception\r\n&gt; and Comes when Java Virtual Machine tries to load a particular class\r\n&gt; and doesn&#39;t found the requested class in classpath.\r\n\r\nRead more: http://javarevisited.blogspot.com/2011/08/classnotfoundexception-in-java-example.html#ixzz3yX3WBeFA\r\n\r\nTry going to **`Project -&gt; Properties -&gt; Java Build Path -&gt; Order &amp; Export`** And **Confirm Android Private Libraries** are checked for your project and for all other library projects you are using in your Application.\r\n\r\n**How to deal with the ClassNotFoundException**\r\n\r\n 1. Verify that the name of the requested class is correct and that the\r\n    **appropriate .jar** file exists in your *classpath*. If not, you must\r\n    explicitly add it to your applications classpath.\r\n 2. In case the specified .jar file exists in your classpath then, your\r\n    applications classpath is getting overriden and you must find the\r\n    exact classpath used by your application.\r\n 3. In case the exception is caused by a third party class, you must\r\n    identify the class that throws the exception and then, add the\r\n    missing **.jar** files in your *classpath*.\r\n\r\n","title":"Android Activity ClassNotFoundException - tried everything","body":"<blockquote>\n  <p>classNotFoundException in Java is a subclass of java.lang.Exception\n  and Comes when Java Virtual Machine tries to load a particular class\n  and doesn't found the requested class in classpath.</p>\n</blockquote>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2011/08/classnotfoundexception-in-java-example.html#ixzz3yX3WBeFA\" rel=\"nofollow\">http://javarevisited.blogspot.com/2011/08/classnotfoundexception-in-java-example.html#ixzz3yX3WBeFA</a></p>\n\n<p>Try going to <strong><code>Project -&gt; Properties -&gt; Java Build Path -&gt; Order &amp; Export</code></strong> And <strong>Confirm Android Private Libraries</strong> are checked for your project and for all other library projects you are using in your Application.</p>\n\n<p><strong>How to deal with the ClassNotFoundException</strong></p>\n\n<ol>\n<li>Verify that the name of the requested class is correct and that the\n<strong>appropriate .jar</strong> file exists in your <em>classpath</em>. If not, you must\nexplicitly add it to your applications classpath.</li>\n<li>In case the specified .jar file exists in your classpath then, your\napplications classpath is getting overriden and you must find the\nexact classpath used by your application.</li>\n<li>In case the exception is caused by a third party class, you must\nidentify the class that throws the exception and then, add the\nmissing <strong>.jar</strong> files in your <em>classpath</em>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2894963,"reputation":11,"user_id":2482945,"display_name":"Criss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431040014,"creation_date":1431040014,"answer_id":30113122,"question_id":10866431,"body_markdown":"Believe it or not, the fix for me was to remove the old version (2.0) of google analytics library from my project, after trying everything for at least 4 hours. Of course, an update of this library could be the solution also.\r\nSo it could be a dependency jar versioning problem.","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>Believe it or not, the fix for me was to remove the old version (2.0) of google analytics library from my project, after trying everything for at least 4 hours. Of course, an update of this library could be the solution also.\nSo it could be a dependency jar versioning problem.</p>\n"},{"tags":[],"owner":{"account_id":366024,"reputation":2524,"user_id":711299,"accept_rate":71,"display_name":"lase"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456410112,"creation_date":1456410112,"answer_id":35629919,"question_id":10866431,"body_markdown":"While this won&#39;t be applicable for everyone, I recently had this problem because my project was failing to link with a shared library present on the device. I had forgotten to [specify in my manifest][1] that my application `&lt;uses-library&gt;`.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/uses-library-element.html","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>While this won't be applicable for everyone, I recently had this problem because my project was failing to link with a shared library present on the device. I had forgotten to <a href=\"https://developer.android.com/guide/topics/manifest/uses-library-element.html\" rel=\"nofollow\">specify in my manifest</a> that my application <code>&lt;uses-library&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":1874644,"reputation":233,"user_id":1696110,"display_name":"Afzaal Iftikhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485414413,"creation_date":1485414413,"answer_id":41868338,"question_id":10866431,"body_markdown":"remove classes.dex from bin and rebuild project","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>remove classes.dex from bin and rebuild project</p>\n"},{"tags":[],"owner":{"account_id":10600166,"reputation":162,"user_id":7807339,"display_name":"Junaid Bashir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594724608,"creation_date":1594724608,"answer_id":62893718,"question_id":10866431,"body_markdown":"I was getting these type of error and i have tried everything but didn&#39;t get the solution. then i figured out if you are using library as aar file then you have to add all dependencies of your aar library to your app gradle.build file. if someone didn&#39;t figure out solution then try this!","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>I was getting these type of error and i have tried everything but didn't get the solution. then i figured out if you are using library as aar file then you have to add all dependencies of your aar library to your app gradle.build file. if someone didn't figure out solution then try this!</p>\n"}],"owner":{"account_id":10054,"reputation":8145,"user_id":18818,"accept_rate":51,"display_name":"Matthew Rathbone"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101674,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":10965393,"answer_count":15,"score":85,"last_activity_date":1671840088,"creation_date":1338676237,"question_id":10866431,"body_markdown":"I&#39;ve just refactored an app into a framework library and an application, but now when I try and start the app in the emulator I get the following error stack trace:\r\n\r\n\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): FATAL EXCEPTION: main\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.matthewrathbone.eastersays/com.matthewrathbone.eastersays.EasterSimonSaysActivity}: java.lang.ClassNotFoundException: com.matthewrathbone.eastersays.EasterSimonSaysActivity in loader dalvik.system.PathClassLoader[/data/app/com.matthewrathbone.eastersays-1.apk]\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.app.ActivityThread.access$2300(ActivityThread.java:125)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.os.Looper.loop(Looper.java:123)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.app.ActivityThread.main(ActivityThread.java:4627)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat java.lang.reflect.Method.invoke(Method.java:521)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat dalvik.system.NativeStart.main(Native Method)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): Caused by: java.lang.ClassNotFoundException: com.matthewrathbone.eastersays.EasterSimonSaysActivity in loader dalvik.system.PathClassLoader[/data/app/com.matthewrathbone.eastersays-1.apk]\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:573)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:532)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.app.Instrumentation.newActivity(Instrumentation.java:1021)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)\r\n    06-02 18:22:35.529: E/AndroidRuntime(586): \t... 11 more\r\n\r\nUsually this means that the manifest file is wrong in some way, but I&#39;ve double checked everything I can think of.\r\n\r\n\r\nHere is my activity class:\r\n\r\n    package com.matthewrathbone.eastersays;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import com.rathboma.simonsays.Assets.Season;\r\n    import com.rathboma.simonsays.SeasonPicker;\r\n    import com.rathboma.simonsays.SimonSaysActivity;\r\n    \r\n        public class EasterSimonSaysActivity extends SimonSaysActivity {\r\n        \r\n          @Override\r\n          protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n          }\r\n        \r\n          @Override\r\n          protected void onDestroy() {\r\n            // TODO Auto-generated method stub\r\n            super.onDestroy();\r\n          }\r\n        \r\n          @Override\r\n          public SeasonPicker getSeasonPicker() {\r\n           return new SeasonPicker(){\r\n            @Override\r\n            public Season getSeason() {\r\n              // TODO Auto-generated method stub\r\n              return Season.EASTER;\r\n            }\r\n           };\r\n          }\r\n        }\r\n\r\nAs you can see, it&#39;s listed correctly in the manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.matthewrathbone.eastersays&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n    \r\n        &lt;uses-sdk android:minSdkVersion=&quot;7&quot; android:targetSdkVersion=&quot;15&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.EasterSimonSaysActivity&quot;\r\n                android:label=&quot;@string/app_name&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nI have no idea how to fix this, and would appreciate any help. I&#39;ve scanned many similar questions on SO without seeing this particular behavior.\r\n\r\nMore info:\r\n\r\n - I&#39;ve checked inside the generated APK and the class has an entry in\r\n   the classes.dex file \r\n - I&#39;ve tried cleaning/building the project in\r\n   eclipse \r\n - I&#39;ve tried using a totally new device image that doesn&#39;t have\r\n   a copy of the APK on it already \r\n - I&#39;ve changed the library project into\r\n   a regular java, then changed back into an android project, no\r\n   difference\r\n - Adding the abstract SimonSaysActivity to the manifest makes no difference.\r\n - I&#39;ve tried making every dependency an android library project, and syncing the android version that they require, it did not help\r\n\r\nFound the solution (see below). To everyone that posted an answer / comment: You all rock, thanks for helping me work through the problems!\r\n\r\nLooks like this is introduced by an SDK tools upgrade. Thanks to @Nick below in the comments for this link:\r\nhttp://iqadd.com/item/noclassdeffounderror-adt-fix","title":"Android Activity ClassNotFoundException - tried everything","body":"<p>I've just refactored an app into a framework library and an application, but now when I try and start the app in the emulator I get the following error stack trace:</p>\n\n<pre><code>06-02 18:22:35.529: E/AndroidRuntime(586): FATAL EXCEPTION: main\n06-02 18:22:35.529: E/AndroidRuntime(586): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.matthewrathbone.eastersays/com.matthewrathbone.eastersays.EasterSimonSaysActivity}: java.lang.ClassNotFoundException: com.matthewrathbone.eastersays.EasterSimonSaysActivity in loader dalvik.system.PathClassLoader[/data/app/com.matthewrathbone.eastersays-1.apk]\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.os.Handler.dispatchMessage(Handler.java:99)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.os.Looper.loop(Looper.java:123)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at java.lang.reflect.Method.invokeNative(Native Method)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at java.lang.reflect.Method.invoke(Method.java:521)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at dalvik.system.NativeStart.main(Native Method)\n06-02 18:22:35.529: E/AndroidRuntime(586): Caused by: java.lang.ClassNotFoundException: com.matthewrathbone.eastersays.EasterSimonSaysActivity in loader dalvik.system.PathClassLoader[/data/app/com.matthewrathbone.eastersays-1.apk]\n06-02 18:22:35.529: E/AndroidRuntime(586):  at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at java.lang.ClassLoader.loadClass(ClassLoader.java:573)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at java.lang.ClassLoader.loadClass(ClassLoader.java:532)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)\n06-02 18:22:35.529: E/AndroidRuntime(586):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)\n06-02 18:22:35.529: E/AndroidRuntime(586):  ... 11 more\n</code></pre>\n\n<p>Usually this means that the manifest file is wrong in some way, but I've double checked everything I can think of.</p>\n\n<p>Here is my activity class:</p>\n\n<pre><code>package com.matthewrathbone.eastersays;\n\nimport android.os.Bundle;\n\nimport com.rathboma.simonsays.Assets.Season;\nimport com.rathboma.simonsays.SeasonPicker;\nimport com.rathboma.simonsays.SimonSaysActivity;\n\n    public class EasterSimonSaysActivity extends SimonSaysActivity {\n\n      @Override\n      protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n      }\n\n      @Override\n      protected void onDestroy() {\n        // TODO Auto-generated method stub\n        super.onDestroy();\n      }\n\n      @Override\n      public SeasonPicker getSeasonPicker() {\n       return new SeasonPicker(){\n        @Override\n        public Season getSeason() {\n          // TODO Auto-generated method stub\n          return Season.EASTER;\n        }\n       };\n      }\n    }\n</code></pre>\n\n<p>As you can see, it's listed correctly in the manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.matthewrathbone.eastersays\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;uses-sdk android:minSdkVersion=\"7\" android:targetSdkVersion=\"15\" /&gt;\n\n    &lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;activity\n            android:name=\".EasterSimonSaysActivity\"\n            android:label=\"@string/app_name\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>I have no idea how to fix this, and would appreciate any help. I've scanned many similar questions on SO without seeing this particular behavior.</p>\n\n<p>More info:</p>\n\n<ul>\n<li>I've checked inside the generated APK and the class has an entry in\nthe classes.dex file </li>\n<li>I've tried cleaning/building the project in\neclipse </li>\n<li>I've tried using a totally new device image that doesn't have\na copy of the APK on it already </li>\n<li>I've changed the library project into\na regular java, then changed back into an android project, no\ndifference</li>\n<li>Adding the abstract SimonSaysActivity to the manifest makes no difference.</li>\n<li>I've tried making every dependency an android library project, and syncing the android version that they require, it did not help</li>\n</ul>\n\n<p>Found the solution (see below). To everyone that posted an answer / comment: You all rock, thanks for helping me work through the problems!</p>\n\n<p>Looks like this is introduced by an SDK tools upgrade. Thanks to @Nick below in the comments for this link:\n<a href=\"http://iqadd.com/item/noclassdeffounderror-adt-fix\">http://iqadd.com/item/noclassdeffounderror-adt-fix</a></p>\n"},{"tags":["java","spring","rest","exception","spring-boot"],"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":8,"creation_date":1456323186,"post_id":28902374,"comment_id":58893490,"body_markdown":"The client is never actually sent a redirect. The redirect is handled internally by the servlet container (e.g. Tomcat).","body":"The client is never actually sent a redirect. The redirect is handled internally by the servlet container (e.g. Tomcat)."},{"owner":{"account_id":2355308,"reputation":774,"user_id":2063238,"display_name":"pmorken"},"score":1,"creation_date":1490883364,"post_id":28902374,"comment_id":73320073,"body_markdown":"Removing the @ResponseStatus annotations on my exception handlers was what I needed; see http://stackoverflow.com/questions/35563968/spring-boot-override-default-rest-exception-handler","body":"Removing the @ResponseStatus annotations on my exception handlers was what I needed; see <a href=\"http://stackoverflow.com/questions/35563968/spring-boot-override-default-rest-exception-handler\" title=\"spring boot override default rest exception handler\">stackoverflow.com/questions/35563968/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":210903,"reputation":3971,"user_id":462771,"accept_rate":73,"display_name":"ogradyjd"},"score":8,"creation_date":1425909599,"post_id":28903217,"comment_id":46141746,"body_markdown":"I have seen this code before, and after implementing it, the class did catch exceptions raised in controller requestmapping methods.  This still does not catch 404 errors, which are getting handled in the ResourceHttpRequestHandler.handleRequest method, or, if the @EnableWebMvc annotation is used, in DispatcherServlet.noHandlerFound.   We want to handle any error, including 404s, but the latest version of Spring Boot seem to be incredibly obtuse on how to do that.","body":"I have seen this code before, and after implementing it, the class did catch exceptions raised in controller requestmapping methods.  This still does not catch 404 errors, which are getting handled in the ResourceHttpRequestHandler.handleRequest method, or, if the @EnableWebMvc annotation is used, in DispatcherServlet.noHandlerFound.   We want to handle any error, including 404s, but the latest version of Spring Boot seem to be incredibly obtuse on how to do that."},{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1536943660,"post_id":28903217,"comment_id":91619405,"body_markdown":"I wrote the same way to handle `HttpRequestMethodNotSupportedException` and plugin the same jar in multiple micro-services, for some business purpose we need to respond micro-service alias name in the response. is there any way we can get the underlying micro-service name / controller name ?\nI know `HandlerMethod` will provide the java method name from where the exception is originated. But here, none of the methods received the request, hence `HandlerMethod` won&#39;t be initialized. So is there any solution to solve this?","body":"I wrote the same way to handle <code>HttpRequestMethodNotSupportedException</code> and plugin the same jar in multiple micro-services, for some business purpose we need to respond micro-service alias name in the response. is there any way we can get the underlying micro-service name / controller name ? I know <code>HandlerMethod</code> will provide the java method name from where the exception is originated. But here, none of the methods received the request, hence <code>HandlerMethod</code> won&#39;t be initialized. So is there any solution to solve this?"},{"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"score":0,"creation_date":1560274048,"post_id":28903217,"comment_id":99679600,"body_markdown":"Controller advice is a good approach, but always remember that exceptions are not part of the flow they must occur in exceptional cases!","body":"Controller advice is a good approach, but always remember that exceptions are not part of the flow they must occur in exceptional cases!"}],"tags":[],"owner":{"account_id":2196926,"reputation":1438,"user_id":1942323,"display_name":"Efe Kahraman"},"comment_count":3,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1425659425,"creation_date":1425659425,"answer_id":28903217,"question_id":28902374,"body_markdown":"I think `ResponseEntityExceptionHandler` meets your requirements. A sample piece of code for HTTP 400:\r\n\r\n    @ControllerAdvice\r\n    public class MyExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n      @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n      @ExceptionHandler({HttpMessageNotReadableException.class, MethodArgumentNotValidException.class,\r\n          HttpRequestMethodNotSupportedException.class})\r\n      public ResponseEntity&lt;Object&gt; badRequest(HttpServletRequest req, Exception exception) {\r\n        // ...\r\n      }\r\n    }\r\n\r\nYou can check this [post][1]\r\n\r\n\r\n  [1]: http://springinpractice.com/2013/10/09/generating-json-error-object-responses-with-spring-web-mvc","title":"Spring Boot REST service exception handling","body":"<p>I think <code>ResponseEntityExceptionHandler</code> meets your requirements. A sample piece of code for HTTP 400:</p>\n\n<pre><code>@ControllerAdvice\npublic class MyExceptionHandler extends ResponseEntityExceptionHandler {\n\n  @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n  @ExceptionHandler({HttpMessageNotReadableException.class, MethodArgumentNotValidException.class,\n      HttpRequestMethodNotSupportedException.class})\n  public ResponseEntity&lt;Object&gt; badRequest(HttpServletRequest req, Exception exception) {\n    // ...\n  }\n}\n</code></pre>\n\n<p>You can check this <a href=\"http://springinpractice.com/2013/10/09/generating-json-error-object-responses-with-spring-web-mvc\">post</a></p>\n"},{"comments":[{"owner":{"account_id":210903,"reputation":3971,"user_id":462771,"accept_rate":73,"display_name":"ogradyjd"},"score":0,"creation_date":1431609172,"post_id":29767982,"comment_id":48578067,"body_markdown":"The default DispatcherServlet is hardcoded to do the redirect with MVC rather than throw an exception when a request for a non-existent mapping is received - unless you set the flag as I did in the post above.","body":"The default DispatcherServlet is hardcoded to do the redirect with MVC rather than throw an exception when a request for a non-existent mapping is received - unless you set the flag as I did in the post above."},{"owner":{"account_id":210903,"reputation":3971,"user_id":462771,"accept_rate":73,"display_name":"ogradyjd"},"score":0,"creation_date":1431609427,"post_id":29767982,"comment_id":48578233,"body_markdown":"Also, the reason we implemented the ResponseEntityExceptionHandler class is so we could control the format of the output and log error stack traces to a NoSQL solution and then send a client-safe error message.","body":"Also, the reason we implemented the ResponseEntityExceptionHandler class is so we could control the format of the output and log error stack traces to a NoSQL solution and then send a client-safe error message."}],"tags":[],"owner":{"account_id":3627999,"reputation":1418,"user_id":3025055,"accept_rate":48,"display_name":"PaintedRed"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429608078,"creation_date":1429608078,"answer_id":29767982,"question_id":28902374,"body_markdown":"By default Spring Boot gives json with error details.\r\n\r\n    curl -v localhost:8080/greet | json_pp\r\n    [...]\r\n    &lt; HTTP/1.1 400 Bad Request\r\n    [...]\r\n    {\r\n       &quot;timestamp&quot; : 1413313361387,\r\n       &quot;exception&quot; : &quot;org.springframework.web.bind.MissingServletRequestParameterException&quot;,\r\n       &quot;status&quot; : 400,\r\n       &quot;error&quot; : &quot;Bad Request&quot;,\r\n       &quot;path&quot; : &quot;/greet&quot;,\r\n       &quot;message&quot; : &quot;Required String parameter &#39;name&#39; is not present&quot;\r\n    }\r\n\r\nIt also works for all kind of request mapping errors. Check this article\r\nhttp://www.jayway.com/2014/10/19/spring-boot-error-responses/\r\n\r\nIf you want to create log it to NoSQL. You can create @ControllerAdvice where you would log it and then re-throw the exception. \r\nThere is example in documentation\r\nhttps://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"Spring Boot REST service exception handling","body":"<p>By default Spring Boot gives json with error details.</p>\n\n<pre><code>curl -v localhost:8080/greet | json_pp\n[...]\n&lt; HTTP/1.1 400 Bad Request\n[...]\n{\n   \"timestamp\" : 1413313361387,\n   \"exception\" : \"org.springframework.web.bind.MissingServletRequestParameterException\",\n   \"status\" : 400,\n   \"error\" : \"Bad Request\",\n   \"path\" : \"/greet\",\n   \"message\" : \"Required String parameter 'name' is not present\"\n}\n</code></pre>\n\n<p>It also works for all kind of request mapping errors. Check this article\n<a href=\"http://www.jayway.com/2014/10/19/spring-boot-error-responses/\" rel=\"noreferrer\">http://www.jayway.com/2014/10/19/spring-boot-error-responses/</a></p>\n\n<p>If you want to create log it to NoSQL. You can create @ControllerAdvice where you would log it and then re-throw the exception. \nThere is example in documentation\n<a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"noreferrer\">https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a></p>\n"},{"comments":[{"owner":{"account_id":50234,"reputation":3526,"user_id":149789,"display_name":"wwadge"},"score":0,"creation_date":1440112530,"post_id":30193013,"comment_id":52150837,"body_markdown":"instead of creating a new dispatcher servlet bean you can flip the flag in a post processor:   YourClass implements BeanPostProcessor { ... `public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException{\n    if (bean instanceof DispatcherServlet) {\n        // otherwise we get a 404 before our exception handler kicks in\n        ((DispatcherServlet) bean).setThrowExceptionIfNoHandlerFound(true);\n    }\n    return bean;\n}\n\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException { return bean; }","body":"instead of creating a new dispatcher servlet bean you can flip the flag in a post processor:   YourClass implements BeanPostProcessor { ... `public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException{     if (bean instanceof DispatcherServlet) {         // otherwise we get a 404 before our exception handler kicks in         ((DispatcherServlet) bean).setThrowExceptionIfNoHandlerFound(true);     }     return bean; }      public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException { return bean; }"},{"owner":{"account_id":33597,"reputation":1926,"user_id":94159,"accept_rate":83,"display_name":"Ian Gilham"},"score":1,"creation_date":1442587491,"post_id":30193013,"comment_id":53156213,"body_markdown":"I have this problem but customizing the DispatcherServlet doesn&#39;t work for me. Is there any additional magic required for Boot to use this extra bean and config?","body":"I have this problem but customizing the DispatcherServlet doesn&#39;t work for me. Is there any additional magic required for Boot to use this extra bean and config?"},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":3,"creation_date":1446104847,"post_id":30193013,"comment_id":54607695,"body_markdown":"@IanGilham I too do not get this to work with Spring Boot 1.2.7. I even do not get any  `@ExceptionHandler` method called when placing it into the `@ControllerAdvice` class although they properly work if placed in the `@RestController` class. `@EnableWebMvc` is on the `@ControllerAdvice` and the `@Configuration` (I tested every combination)  class. Any idea or working example? // @Andy Wilkinson","body":"@IanGilham I too do not get this to work with Spring Boot 1.2.7. I even do not get any  <code>@ExceptionHandler</code> method called when placing it into the <code>@ControllerAdvice</code> class although they properly work if placed in the <code>@RestController</code> class. <code>@EnableWebMvc</code> is on the <code>@ControllerAdvice</code> and the <code>@Configuration</code> (I tested every combination)  class. Any idea or working example? // @Andy Wilkinson"},{"owner":{"account_id":33597,"reputation":1926,"user_id":94159,"accept_rate":83,"display_name":"Ian Gilham"},"score":0,"creation_date":1446105170,"post_id":30193013,"comment_id":54607842,"body_markdown":"@FrVaBe it sounds like the `@ControllerAdvice` might not be picked up by the configuration auto-scan defined on the application class.","body":"@FrVaBe it sounds like the <code>@ControllerAdvice</code> might not be picked up by the configuration auto-scan defined on the application class."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":0,"creation_date":1446106003,"post_id":30193013,"comment_id":54608272,"body_markdown":"@IanGilham Yes, but I haven no idea why. Is there any full working simple example out there?","body":"@IanGilham Yes, but I haven no idea why. Is there any full working simple example out there?"},{"owner":{"account_id":33597,"reputation":1926,"user_id":94159,"accept_rate":83,"display_name":"Ian Gilham"},"score":0,"creation_date":1446106170,"post_id":30193013,"comment_id":54608351,"body_markdown":"@FrVaBe there are only limited examples in the spring boot docs. Just make sure anything using spring annotations is in the same package as the main class or a sub package with the same root.","body":"@FrVaBe there are only limited examples in the spring boot docs. Just make sure anything using spring annotations is in the same package as the main class or a sub package with the same root."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1446109868,"post_id":30193013,"comment_id":54610432,"body_markdown":"Using `@EnableWebMvc` almost certainly isn&#39;t what you want. It turns off all of Spring Boot&#39;s auto-configuration of Spring MVC. I don&#39;t understand the concerns about redirects and forwards in the question as the client doesn&#39;t see any of that. Implementing a custom `ErrorController` is almost certainly a better way to tackle this problem.","body":"Using <code>@EnableWebMvc</code> almost certainly isn&#39;t what you want. It turns off all of Spring Boot&#39;s auto-configuration of Spring MVC. I don&#39;t understand the concerns about redirects and forwards in the question as the client doesn&#39;t see any of that. Implementing a custom <code>ErrorController</code> is almost certainly a better way to tackle this problem."},{"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"score":1,"creation_date":1446111139,"post_id":30193013,"comment_id":54611209,"body_markdown":"Whoever reads this question and answer should have a look at the corresponding SpringBoot Issue on [github](https://github.com/spring-projects/spring-boot/issues/3980).","body":"Whoever reads this question and answer should have a look at the corresponding SpringBoot Issue on <a href=\"https://github.com/spring-projects/spring-boot/issues/3980\" rel=\"nofollow noreferrer\">github</a>."},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1449059551,"post_id":30193013,"comment_id":55840162,"body_markdown":"I am using Spring boot 1.3.0.RELEASE and its only working for the exceptions which are being thrown from Controllers. Its not handling other exceptions which are thrown from outside controller. e.g. Filters etc. Any clue ? @ogradyjd","body":"I am using Spring boot 1.3.0.RELEASE and its only working for the exceptions which are being thrown from Controllers. Its not handling other exceptions which are thrown from outside controller. e.g. Filters etc. Any clue ? @ogradyjd"},{"owner":{"account_id":210903,"reputation":3971,"user_id":462771,"accept_rate":73,"display_name":"ogradyjd"},"score":1,"creation_date":1449237765,"post_id":30193013,"comment_id":55932150,"body_markdown":"Not sure @agpt.  I have an internal project that I can move up to 1.3.0 and see what the effect is on my setup and let you know what I find.","body":"Not sure @agpt.  I have an internal project that I can move up to 1.3.0 and see what the effect is on my setup and let you know what I find."},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1449253773,"post_id":30193013,"comment_id":55942376,"body_markdown":"@ogradyjd Thank you !","body":"@ogradyjd Thank you !"},{"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"score":0,"creation_date":1450277066,"post_id":30193013,"comment_id":56371521,"body_markdown":"@agpt Did you find a solution? It also doesn&#39;t work for me with 1.3.0. It still maps for instance persistence exceptions to /error","body":"@agpt Did you find a solution? It also doesn&#39;t work for me with 1.3.0. It still maps for instance persistence exceptions to /error"},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1450289436,"post_id":30193013,"comment_id":56379907,"body_markdown":"@user3748908 no not yet. I guess best solution would be to go for AOP based solution. writing own pointcut etc","body":"@user3748908 no not yet. I guess best solution would be to go for AOP based solution. writing own pointcut etc"},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":0,"creation_date":1499781374,"post_id":30193013,"comment_id":77047164,"body_markdown":"Please note that property setting &quot;spring.resources.add-mappings=false&quot; disables Swagger.","body":"Please note that property setting &quot;spring.resources.add-mappings=false&quot; disables Swagger."},{"owner":{"account_id":334117,"reputation":15586,"user_id":660350,"accept_rate":54,"display_name":"Pascal"},"score":0,"creation_date":1679504616,"post_id":30193013,"comment_id":133735327,"body_markdown":"spring.resources.add-mappings is now deprecated. use spring.web.resources.add-mappings instead","body":"spring.resources.add-mappings is now deprecated. use spring.web.resources.add-mappings instead"}],"tags":[],"owner":{"account_id":210903,"reputation":3971,"user_id":462771,"accept_rate":73,"display_name":"ogradyjd"},"comment_count":15,"down_vote_count":1,"up_vote_count":156,"is_accepted":true,"score":155,"last_activity_date":1671839402,"creation_date":1431438865,"answer_id":30193013,"question_id":28902374,"body_markdown":"**New answer (2016-04-20)**\r\n\r\nUsing Spring Boot 1.3.1.RELEASE\r\n\r\n**New Step 1 -** It is easy and less intrusive to add the following properties to the application.properties:\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n&gt; Much easier than modifying the existing DispatcherServlet instance (as below)! - JO&#39;\r\n\r\nIf working with a full RESTful Application, it is very important to disable the automatic mapping of static resources since if you are using Spring Boot&#39;s default configuration for handling static resources then the resource handler will be handling the request (it&#39;s ordered last and mapped to /** which means that it picks up any requests that haven&#39;t been handled by any other handler in the application) so the dispatcher servlet doesn&#39;t get a chance to throw an exception.\r\n\r\n---\r\n**New Answer (2015-12-04)**\r\n\r\nUsing Spring Boot 1.2.7.RELEASE\r\n\r\n**New Step 1 -** I found a much less intrusive way of setting the &quot;throExceptionIfNoHandlerFound&quot; flag.  Replace the DispatcherServlet replacement code below (Step 1) with this in your application initialization class:\r\n\r\n    @ComponentScan()\r\n    @EnableAutoConfiguration\r\n    public class MyApplication extends SpringBootServletInitializer {\r\n        private static Logger LOG = LoggerFactory.getLogger(MyApplication.class);\r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = SpringApplication.run(MyApplication.class, args);\r\n            DispatcherServlet dispatcherServlet = (DispatcherServlet)ctx.getBean(&quot;dispatcherServlet&quot;);\r\n            dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\r\n        }\r\n\r\nIn this case, we&#39;re setting the flag on the existing DispatcherServlet, which preserves any auto-configuration by the Spring Boot framework.  \r\n\r\nOne more thing I&#39;ve found - the @EnableWebMvc annotation is deadly to Spring Boot.  Yes, that annotation enables things like being able to catch all the controller exceptions as described below, but it also kills a LOT of the helpful auto-configuration that Spring Boot would normally provide.  Use that annotation with extreme caution when you use Spring Boot.\r\n\r\n---\r\n**Original Answer:**\r\n\r\nAfter a lot more research and following up on the solutions posted here (thanks for the help!) and no small amount of runtime tracing into the Spring code, I finally found a configuration that will handle all Exceptions (not Errors, but read on) including 404s.\r\n\r\n**Step 1 -** tell SpringBoot to stop using MVC for &quot;handler not found&quot; situations.  We want Spring to throw an exception instead of returning to the client a view redirect to &quot;/error&quot;.  To do this, you need to have an entry in one of your configuration classes:\r\n\r\n    // NEW CODE ABOVE REPLACES THIS! (2015-12-04)\r\n    @Configuration\r\n    public class MyAppConfig {\r\n        @Bean  // Magic entry \r\n        public DispatcherServlet dispatcherServlet() {\r\n            DispatcherServlet ds = new DispatcherServlet();\r\n            ds.setThrowExceptionIfNoHandlerFound(true);\r\n            return ds;\r\n        }\r\n    }\r\n\r\nThe downside of this is that it replaces the default dispatcher servlet. This hasn&#39;t been a problem for us yet, with no side effects or execution problems showing up.  If you&#39;re going to do anything else with the dispatcher servlet for other reasons, this is the place to do them.\r\n\r\n**Step 2 -** Now that spring boot will throw an exception when no handler is found, that exception can be handled with any others in a unified exception handler:\r\n\r\n    @EnableWebMvc\r\n    @ControllerAdvice\r\n    public class ServiceExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n        @ExceptionHandler(Throwable.class)\r\n        @ResponseBody\r\n        ResponseEntity&lt;Object&gt; handleControllerException(HttpServletRequest req, Throwable ex) {\r\n            ErrorResponse errorResponse = new ErrorResponse(ex);\r\n            if(ex instanceof ServiceException) {\r\n                errorResponse.setDetails(((ServiceException)ex).getDetails());\r\n            }\r\n            if(ex instanceof ServiceHttpException) {\r\n                return new ResponseEntity&lt;Object&gt;(errorResponse,((ServiceHttpException)ex).getStatus());\r\n            } else {\r\n                return new ResponseEntity&lt;Object&gt;(errorResponse,HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n            Map&lt;String,String&gt; responseBody = new HashMap&lt;&gt;();\r\n            responseBody.put(&quot;path&quot;,request.getContextPath());\r\n            responseBody.put(&quot;message&quot;,&quot;The URL you have reached is not in service at this time (404).&quot;);\r\n            return new ResponseEntity&lt;Object&gt;(responseBody,HttpStatus.NOT_FOUND);\r\n        }\r\n        ...\r\n    }\r\n\r\nKeep in mind that I think the &quot;@EnableWebMvc&quot; annotation is significant here.  It seems that none of this works without it.  And that&#39;s it - your Spring boot app will now catch all exceptions, including 404s, in the above handler class and you may do with them as you please.\r\n\r\nOne last point - there doesn&#39;t seem to be a way to get this to catch thrown Errors.  I have a wacky idea of using aspects to catch errors and turn them into Exceptions that the above code can then deal with, but I have not yet had time to actually try implementing that.\r\n\r\nAny comments/corrections/enhancements will be appreciated.","title":"Spring Boot REST service exception handling","body":"<p><strong>New answer (2016-04-20)</strong></p>\n<p>Using Spring Boot 1.3.1.RELEASE</p>\n<p><strong>New Step 1 -</strong> It is easy and less intrusive to add the following properties to the application.properties:</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n<blockquote>\n<p>Much easier than modifying the existing DispatcherServlet instance (as below)! - JO'</p>\n</blockquote>\n<p>If working with a full RESTful Application, it is very important to disable the automatic mapping of static resources since if you are using Spring Boot's default configuration for handling static resources then the resource handler will be handling the request (it's ordered last and mapped to /** which means that it picks up any requests that haven't been handled by any other handler in the application) so the dispatcher servlet doesn't get a chance to throw an exception.</p>\n<hr />\n<p><strong>New Answer (2015-12-04)</strong></p>\n<p>Using Spring Boot 1.2.7.RELEASE</p>\n<p><strong>New Step 1 -</strong> I found a much less intrusive way of setting the &quot;throExceptionIfNoHandlerFound&quot; flag.  Replace the DispatcherServlet replacement code below (Step 1) with this in your application initialization class:</p>\n<pre><code>@ComponentScan()\n@EnableAutoConfiguration\npublic class MyApplication extends SpringBootServletInitializer {\n    private static Logger LOG = LoggerFactory.getLogger(MyApplication.class);\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(MyApplication.class, args);\n        DispatcherServlet dispatcherServlet = (DispatcherServlet)ctx.getBean(&quot;dispatcherServlet&quot;);\n        dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);\n    }\n</code></pre>\n<p>In this case, we're setting the flag on the existing DispatcherServlet, which preserves any auto-configuration by the Spring Boot framework.</p>\n<p>One more thing I've found - the @EnableWebMvc annotation is deadly to Spring Boot.  Yes, that annotation enables things like being able to catch all the controller exceptions as described below, but it also kills a LOT of the helpful auto-configuration that Spring Boot would normally provide.  Use that annotation with extreme caution when you use Spring Boot.</p>\n<hr />\n<p><strong>Original Answer:</strong></p>\n<p>After a lot more research and following up on the solutions posted here (thanks for the help!) and no small amount of runtime tracing into the Spring code, I finally found a configuration that will handle all Exceptions (not Errors, but read on) including 404s.</p>\n<p><strong>Step 1 -</strong> tell SpringBoot to stop using MVC for &quot;handler not found&quot; situations.  We want Spring to throw an exception instead of returning to the client a view redirect to &quot;/error&quot;.  To do this, you need to have an entry in one of your configuration classes:</p>\n<pre><code>// NEW CODE ABOVE REPLACES THIS! (2015-12-04)\n@Configuration\npublic class MyAppConfig {\n    @Bean  // Magic entry \n    public DispatcherServlet dispatcherServlet() {\n        DispatcherServlet ds = new DispatcherServlet();\n        ds.setThrowExceptionIfNoHandlerFound(true);\n        return ds;\n    }\n}\n</code></pre>\n<p>The downside of this is that it replaces the default dispatcher servlet. This hasn't been a problem for us yet, with no side effects or execution problems showing up.  If you're going to do anything else with the dispatcher servlet for other reasons, this is the place to do them.</p>\n<p><strong>Step 2 -</strong> Now that spring boot will throw an exception when no handler is found, that exception can be handled with any others in a unified exception handler:</p>\n<pre><code>@EnableWebMvc\n@ControllerAdvice\npublic class ServiceExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(Throwable.class)\n    @ResponseBody\n    ResponseEntity&lt;Object&gt; handleControllerException(HttpServletRequest req, Throwable ex) {\n        ErrorResponse errorResponse = new ErrorResponse(ex);\n        if(ex instanceof ServiceException) {\n            errorResponse.setDetails(((ServiceException)ex).getDetails());\n        }\n        if(ex instanceof ServiceHttpException) {\n            return new ResponseEntity&lt;Object&gt;(errorResponse,((ServiceHttpException)ex).getStatus());\n        } else {\n            return new ResponseEntity&lt;Object&gt;(errorResponse,HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleNoHandlerFoundException(NoHandlerFoundException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n        Map&lt;String,String&gt; responseBody = new HashMap&lt;&gt;();\n        responseBody.put(&quot;path&quot;,request.getContextPath());\n        responseBody.put(&quot;message&quot;,&quot;The URL you have reached is not in service at this time (404).&quot;);\n        return new ResponseEntity&lt;Object&gt;(responseBody,HttpStatus.NOT_FOUND);\n    }\n    ...\n}\n</code></pre>\n<p>Keep in mind that I think the &quot;@EnableWebMvc&quot; annotation is significant here.  It seems that none of this works without it.  And that's it - your Spring boot app will now catch all exceptions, including 404s, in the above handler class and you may do with them as you please.</p>\n<p>One last point - there doesn't seem to be a way to get this to catch thrown Errors.  I have a wacky idea of using aspects to catch errors and turn them into Exceptions that the above code can then deal with, but I have not yet had time to actually try implementing that.</p>\n<p>Any comments/corrections/enhancements will be appreciated.</p>\n"},{"tags":[],"owner":{"account_id":5107530,"reputation":1799,"user_id":4095194,"display_name":"Dennis R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451405913,"creation_date":1451405913,"answer_id":34514907,"question_id":28902374,"body_markdown":"Solution with \r\n`dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);` and\r\n`@EnableWebMvc\r\n@ControllerAdvice`\r\nworked for me with Spring Boot 1.3.1, while was not working on 1.2.7","title":"Spring Boot REST service exception handling","body":"<p>Solution with \n<code>dispatcherServlet.setThrowExceptionIfNoHandlerFound(true);</code> and\n<code>@EnableWebMvc\n@ControllerAdvice</code>\nworked for me with Spring Boot 1.3.1, while was not working on 1.2.7</p>\n"},{"tags":[],"owner":{"account_id":7545274,"reputation":131,"user_id":5728576,"display_name":"Ludovic Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1451426144,"creation_date":1451426144,"answer_id":34519712,"question_id":28902374,"body_markdown":"What about this code ? I use a fallback request mapping to catch 404 errors.\r\n\r\n    @Controller\r\n    @ControllerAdvice\r\n    public class ExceptionHandlerController {\r\n    \r\n        @ExceptionHandler(Exception.class)\r\n        public ModelAndView exceptionHandler(HttpServletRequest request, HttpServletResponse response, Exception ex) {\r\n            //If exception has a ResponseStatus annotation then use its response code\r\n            ResponseStatus responseStatusAnnotation = AnnotationUtils.findAnnotation(ex.getClass(), ResponseStatus.class);\r\n    \r\n            return buildModelAndViewErrorPage(request, response, ex, responseStatusAnnotation != null ? responseStatusAnnotation.value() : HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    \r\n        @RequestMapping(&quot;*&quot;)\r\n        public ModelAndView fallbackHandler(HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n            return buildModelAndViewErrorPage(request, response, null, HttpStatus.NOT_FOUND);\r\n        }\r\n    \r\n        private ModelAndView buildModelAndViewErrorPage(HttpServletRequest request, HttpServletResponse response, Exception ex, HttpStatus httpStatus) {\r\n            response.setStatus(httpStatus.value());\r\n    \r\n            ModelAndView mav = new ModelAndView(&quot;error.html&quot;);\r\n            if (ex != null) {\r\n                mav.addObject(&quot;title&quot;, ex);\r\n            }\r\n            mav.addObject(&quot;content&quot;, request.getRequestURL());\r\n            return mav;\r\n        }\r\n    \r\n    }","title":"Spring Boot REST service exception handling","body":"<p>What about this code ? I use a fallback request mapping to catch 404 errors.</p>\n\n<pre><code>@Controller\n@ControllerAdvice\npublic class ExceptionHandlerController {\n\n    @ExceptionHandler(Exception.class)\n    public ModelAndView exceptionHandler(HttpServletRequest request, HttpServletResponse response, Exception ex) {\n        //If exception has a ResponseStatus annotation then use its response code\n        ResponseStatus responseStatusAnnotation = AnnotationUtils.findAnnotation(ex.getClass(), ResponseStatus.class);\n\n        return buildModelAndViewErrorPage(request, response, ex, responseStatusAnnotation != null ? responseStatusAnnotation.value() : HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n    @RequestMapping(\"*\")\n    public ModelAndView fallbackHandler(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        return buildModelAndViewErrorPage(request, response, null, HttpStatus.NOT_FOUND);\n    }\n\n    private ModelAndView buildModelAndViewErrorPage(HttpServletRequest request, HttpServletResponse response, Exception ex, HttpStatus httpStatus) {\n        response.setStatus(httpStatus.value());\n\n        ModelAndView mav = new ModelAndView(\"error.html\");\n        if (ex != null) {\n            mav.addObject(\"title\", ex);\n        }\n        mav.addObject(\"content\", request.getRequestURL());\n        return mav;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486283422,"creation_date":1455052874,"answer_id":35302410,"question_id":28902374,"body_markdown":"For REST controllers, I would recommend to use `Zalando Problem Spring Web`.\r\n\r\nhttps://github.com/zalando/problem-spring-web\r\n\r\nIf Spring Boot aims to embed some auto-configuration, this library does more for exception handling. You just need to add the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n        &lt;artifactId&gt;problem-spring-web&lt;/artifactId&gt;\r\n        &lt;version&gt;LATEST&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then define one or more advice traits for your exceptions (or use those provided by default)\r\n\r\n    public interface NotAcceptableAdviceTrait extends AdviceTrait {\r\n    \r\n        @ExceptionHandler\r\n        default ResponseEntity&lt;Problem&gt; handleMediaTypeNotAcceptable(\r\n                final HttpMediaTypeNotAcceptableException exception,\r\n                final NativeWebRequest request) {\r\n            return Responses.create(Status.NOT_ACCEPTABLE, exception, request);\r\n        }\r\n    \r\n    }\r\n\r\nThen you can defined the controller advice for exception handling as:\r\n\r\n    @ControllerAdvice\r\n    class ExceptionHandling implements MethodNotAllowedAdviceTrait, NotAcceptableAdviceTrait {\r\n    \r\n    }","title":"Spring Boot REST service exception handling","body":"<p>For REST controllers, I would recommend to use <code>Zalando Problem Spring Web</code>.</p>\n\n<p><a href=\"https://github.com/zalando/problem-spring-web\" rel=\"nofollow noreferrer\">https://github.com/zalando/problem-spring-web</a></p>\n\n<p>If Spring Boot aims to embed some auto-configuration, this library does more for exception handling. You just need to add the dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n    &lt;artifactId&gt;problem-spring-web&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And then define one or more advice traits for your exceptions (or use those provided by default)</p>\n\n<pre><code>public interface NotAcceptableAdviceTrait extends AdviceTrait {\n\n    @ExceptionHandler\n    default ResponseEntity&lt;Problem&gt; handleMediaTypeNotAcceptable(\n            final HttpMediaTypeNotAcceptableException exception,\n            final NativeWebRequest request) {\n        return Responses.create(Status.NOT_ACCEPTABLE, exception, request);\n    }\n\n}\n</code></pre>\n\n<p>Then you can defined the controller advice for exception handling as:</p>\n\n<pre><code>@ControllerAdvice\nclass ExceptionHandling implements MethodNotAllowedAdviceTrait, NotAcceptableAdviceTrait {\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5728153,"reputation":872,"user_id":4524563,"display_name":"fiskra"},"score":7,"creation_date":1492520595,"post_id":39705512,"comment_id":74000777,"body_markdown":"That&#39;s really helpful, thank you. But I didn&#39;t get why we need to ` @EnableWebMvc `  with ` spring.mvc.throw-exception-if-no-handler-found=true ` . My expectation was to handle all exceptions via `@RestControllerAdvice` without additional configuration. What am I missing here?","body":"That&#39;s really helpful, thank you. But I didn&#39;t get why we need to ` @EnableWebMvc `  with ` spring.mvc.throw-exception-if-no-handler-found=true ` . My expectation was to handle all exceptions via <code>@RestControllerAdvice</code> without additional configuration. What am I missing here?"}],"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"comment_count":1,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1474901175,"creation_date":1474900105,"answer_id":39705512,"question_id":28902374,"body_markdown":"With Spring Boot 1.4+ new cool classes for easier exception handling were added that helps in removing the boilerplate code.\r\n\r\nA new `@RestControllerAdvice` is provided for exception handling, it is combination of `@ControllerAdvice` and `@ResponseBody`. You can remove the `@ResponseBody` on the `@ExceptionHandler` method when use this new annotation.\r\n\r\ni.e.  \r\n\r\n    @RestControllerAdvice\r\n    public class GlobalControllerExceptionHandler {\r\n\r\n        @ExceptionHandler(value = { Exception.class })\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        public ApiErrorResponse unknownException(Exception ex, WebRequest req) {\r\n            return new ApiErrorResponse(...);\r\n        }\r\n    }\r\n\r\nFor handling 404 errors adding `@EnableWebMvc` annotation and the following to application.properties was enough:    \r\n`spring.mvc.throw-exception-if-no-handler-found=true`\r\n\r\nYou can find and play with the sources here:  \r\nhttps://github.com/magiccrafter/spring-boot-exception-handling\r\n","title":"Spring Boot REST service exception handling","body":"<p>With Spring Boot 1.4+ new cool classes for easier exception handling were added that helps in removing the boilerplate code.</p>\n\n<p>A new <code>@RestControllerAdvice</code> is provided for exception handling, it is combination of <code>@ControllerAdvice</code> and <code>@ResponseBody</code>. You can remove the <code>@ResponseBody</code> on the <code>@ExceptionHandler</code> method when use this new annotation.</p>\n\n<p>i.e.  </p>\n\n<pre><code>@RestControllerAdvice\npublic class GlobalControllerExceptionHandler {\n\n    @ExceptionHandler(value = { Exception.class })\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ApiErrorResponse unknownException(Exception ex, WebRequest req) {\n        return new ApiErrorResponse(...);\n    }\n}\n</code></pre>\n\n<p>For handling 404 errors adding <code>@EnableWebMvc</code> annotation and the following to application.properties was enough:<br>\n<code>spring.mvc.throw-exception-if-no-handler-found=true</code></p>\n\n<p>You can find and play with the sources here:<br>\n<a href=\"https://github.com/magiccrafter/spring-boot-exception-handling\">https://github.com/magiccrafter/spring-boot-exception-handling</a></p>\n"},{"comments":[{"owner":{"account_id":2892194,"reputation":6142,"user_id":2480714,"accept_rate":67,"display_name":"PGMacDesign"},"score":0,"creation_date":1525196394,"post_id":47384824,"comment_id":87259916,"body_markdown":"This solved the problem for me. Just to add, I was missing the @ RestControllerAdvice annotation so I added that along with the @ ControllerAdvice annotation so that it would handle all and that did the trick.","body":"This solved the problem for me. Just to add, I was missing the @ RestControllerAdvice annotation so I added that along with the @ ControllerAdvice annotation so that it would handle all and that did the trick."}],"tags":[],"owner":{"account_id":3695852,"reputation":1085,"user_id":3077218,"accept_rate":83,"display_name":"Andr&#233; Gasser"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1519054934,"creation_date":1511149811,"answer_id":47384824,"question_id":28902374,"body_markdown":"Although this is an older question, I would like to share my thoughts on this. I hope, that it will be helpful to some of you.\r\n\r\nI am currently building a REST API which makes use of Spring Boot 1.5.2.RELEASE with Spring Framework 4.3.7.RELEASE. I use the Java Config approach (as opposed to XML configuration). Also, my project uses a global exception handling mechanism using the `@RestControllerAdvice` annotation (see later below).\r\n\r\nMy project has the same requirements as yours: I want my REST API to return a `HTTP 404 Not Found` with an accompanying JSON payload in the HTTP response to the API client when it tries to send a request to an URL which does not exist. In my case, the JSON payload looks like this (which clearly differs from the Spring Boot default, btw.):\r\n\r\n    {\r\n        &quot;code&quot;: 1000,\r\n        &quot;message&quot;: &quot;No handler found for your request.&quot;,\r\n        &quot;timestamp&quot;: &quot;2017-11-20T02:40:57.628Z&quot;\r\n    }\r\n\r\nI finally made it work. Here are the main tasks you need to do in brief:\r\n\r\n - Make sure that the `NoHandlerFoundException` is thrown if API clients\r\n   call URLS for which no handler method exists (see Step 1 below).\r\n - Create a custom error class (in my case `ApiError`) which contains all the data that should be returned to the API client (see step 2).\r\n - Create an exception handler which reacts on the `NoHandlerFoundException`\r\n   and returns a proper error message to the API client (see step 3).\r\n - Write a test for it and make sure, it works (see step 4).\r\n\r\nOk, now on to the details:\r\n\r\n**Step 1: Configure application.properties**\r\n\r\nI had to add the following two configuration settings to the project&#39;s `application.properties` file:\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n\r\nThis makes sure, the `NoHandlerFoundException` is thrown in cases where a client tries to access an URL for which no controller method exists which would be able to handle the request.\r\n\r\n**Step 2: Create a Class for API Errors**\r\n\r\nI made a class similar to the one suggested in [this article][1] on Eugen Paraschiv&#39;s blog. This class represents an API error. This information is \r\nsent to the client in the HTTP response body in case of an error.\r\n\r\n    public class ApiError {\r\n\r\n        private int code;\r\n        private String message;\r\n        private Instant timestamp;\r\n\r\n        public ApiError(int code, String message) {\r\n            this.code = code;\r\n            this.message = message;\r\n            this.timestamp = Instant.now();\r\n        }\r\n\r\n        public ApiError(int code, String message, Instant timestamp) {\r\n            this.code = code;\r\n            this.message = message;\r\n            this.timestamp = timestamp;\r\n        }\r\n\r\n        // Getters and setters here...\r\n    }\r\n\r\n**Step 3: Create / Configure a Global Exception Handler**\r\n\r\nI use the following class to handle exceptions (for simplicity, I have removed import statements, logging code and some other, non-relevant pieces of code):\r\n\r\n    @RestControllerAdvice\r\n    public class GlobalExceptionHandler {\r\n\r\n        @ExceptionHandler(NoHandlerFoundException.class)\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        public ApiError noHandlerFoundException(\r\n                NoHandlerFoundException ex) {\r\n\r\n\t\t    int code = 1000;\r\n\t\t    String message = &quot;No handler found for your request.&quot;;\r\n\t\t    return new ApiError(code, message);\r\n        }\r\n\r\n        // More exception handlers here ...\r\n    }\r\n\r\n**Step 4: Write a test**\r\n\r\nI want to make sure, the API always returns the correct error messages to the calling client, even in the case of failure. Thus, I wrote a test like this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SprintBootTest.WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    @ActiveProfiles(&quot;dev&quot;)\r\n    public class GlobalExceptionHandlerIntegrationTest {\r\n\r\n        public static final String ISO8601_DATE_REGEX =\r\n            &quot;^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{3}Z$&quot;;\r\n\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n\r\n        @Test\r\n        @WithMockUser(roles = &quot;DEVICE_SCAN_HOSTS&quot;)\r\n        public void invalidUrl_returnsHttp404() throws Exception {\r\n            RequestBuilder requestBuilder = getGetRequestBuilder(&quot;/does-not-exist&quot;);\r\n            mockMvc.perform(requestBuilder)\r\n                .andExpect(status().isNotFound())\r\n                .andExpect(jsonPath(&quot;$.code&quot;, is(1000)))\r\n                .andExpect(jsonPath(&quot;$.message&quot;, is(&quot;No handler found for your request.&quot;)))\r\n                .andExpect(jsonPath(&quot;$.timestamp&quot;, RegexMatcher.matchesRegex(ISO8601_DATE_REGEX)));\r\n        }\r\n\r\n        private RequestBuilder getGetRequestBuilder(String url) {\r\n            return MockMvcRequestBuilders\r\n                .get(url)\r\n                .accept(MediaType.APPLICATION_JSON);\r\n        }\r\n\r\nThe `@ActiveProfiles(&quot;dev&quot;)` annotation can be left away. I use it only as I work with different profiles. The `RegexMatcher` is a custom [Hamcrest matcher][2] I use to better handle timestamp fields. Here&#39;s the code (I found it [here][3]):\r\n\r\n    public class RegexMatcher extends TypeSafeMatcher&lt;String&gt; {\r\n\r\n        private final String regex;\r\n\r\n        public RegexMatcher(final String regex) {\r\n            this.regex = regex;\r\n        }\r\n\r\n        @Override\r\n        public void describeTo(final Description description) {\r\n            description.appendText(&quot;matches regular expression=`&quot; + regex + &quot;`&quot;);\r\n        }\r\n\r\n        @Override\r\n        public boolean matchesSafely(final String string) {\r\n            return string.matches(regex);\r\n        }\r\n\r\n        // Matcher method you can call on this matcher class\r\n        public static RegexMatcher matchesRegex(final String string) {\r\n            return new RegexMatcher(regex);\r\n        }\r\n    }\r\n\r\n**Some further notes from my side:**\r\n\r\n - In many other posts on StackOverflow, people suggested setting the `@EnableWebMvc` annotation. This was not necessary in my case.\r\n - This approach works well with MockMvc (see test above).\r\n \r\n\r\n\r\n  [1]: http://www.baeldung.com/global-error-handler-in-a-spring-rest-api\r\n  [2]: http://hamcrest.org/JavaHamcrest/\r\n  [3]: http://www.vogella.com/tutorials/Hamcrest/article.html","title":"Spring Boot REST service exception handling","body":"<p>Although this is an older question, I would like to share my thoughts on this. I hope, that it will be helpful to some of you.</p>\n\n<p>I am currently building a REST API which makes use of Spring Boot 1.5.2.RELEASE with Spring Framework 4.3.7.RELEASE. I use the Java Config approach (as opposed to XML configuration). Also, my project uses a global exception handling mechanism using the <code>@RestControllerAdvice</code> annotation (see later below).</p>\n\n<p>My project has the same requirements as yours: I want my REST API to return a <code>HTTP 404 Not Found</code> with an accompanying JSON payload in the HTTP response to the API client when it tries to send a request to an URL which does not exist. In my case, the JSON payload looks like this (which clearly differs from the Spring Boot default, btw.):</p>\n\n<pre><code>{\n    \"code\": 1000,\n    \"message\": \"No handler found for your request.\",\n    \"timestamp\": \"2017-11-20T02:40:57.628Z\"\n}\n</code></pre>\n\n<p>I finally made it work. Here are the main tasks you need to do in brief:</p>\n\n<ul>\n<li>Make sure that the <code>NoHandlerFoundException</code> is thrown if API clients\ncall URLS for which no handler method exists (see Step 1 below).</li>\n<li>Create a custom error class (in my case <code>ApiError</code>) which contains all the data that should be returned to the API client (see step 2).</li>\n<li>Create an exception handler which reacts on the <code>NoHandlerFoundException</code>\nand returns a proper error message to the API client (see step 3).</li>\n<li>Write a test for it and make sure, it works (see step 4).</li>\n</ul>\n\n<p>Ok, now on to the details:</p>\n\n<p><strong>Step 1: Configure application.properties</strong></p>\n\n<p>I had to add the following two configuration settings to the project's <code>application.properties</code> file:</p>\n\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n\n<p>This makes sure, the <code>NoHandlerFoundException</code> is thrown in cases where a client tries to access an URL for which no controller method exists which would be able to handle the request.</p>\n\n<p><strong>Step 2: Create a Class for API Errors</strong></p>\n\n<p>I made a class similar to the one suggested in <a href=\"http://www.baeldung.com/global-error-handler-in-a-spring-rest-api\" rel=\"noreferrer\">this article</a> on Eugen Paraschiv's blog. This class represents an API error. This information is \nsent to the client in the HTTP response body in case of an error.</p>\n\n<pre><code>public class ApiError {\n\n    private int code;\n    private String message;\n    private Instant timestamp;\n\n    public ApiError(int code, String message) {\n        this.code = code;\n        this.message = message;\n        this.timestamp = Instant.now();\n    }\n\n    public ApiError(int code, String message, Instant timestamp) {\n        this.code = code;\n        this.message = message;\n        this.timestamp = timestamp;\n    }\n\n    // Getters and setters here...\n}\n</code></pre>\n\n<p><strong>Step 3: Create / Configure a Global Exception Handler</strong></p>\n\n<p>I use the following class to handle exceptions (for simplicity, I have removed import statements, logging code and some other, non-relevant pieces of code):</p>\n\n<pre><code>@RestControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(NoHandlerFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public ApiError noHandlerFoundException(\n            NoHandlerFoundException ex) {\n\n        int code = 1000;\n        String message = \"No handler found for your request.\";\n        return new ApiError(code, message);\n    }\n\n    // More exception handlers here ...\n}\n</code></pre>\n\n<p><strong>Step 4: Write a test</strong></p>\n\n<p>I want to make sure, the API always returns the correct error messages to the calling client, even in the case of failure. Thus, I wrote a test like this:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SprintBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\n@ActiveProfiles(\"dev\")\npublic class GlobalExceptionHandlerIntegrationTest {\n\n    public static final String ISO8601_DATE_REGEX =\n        \"^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{3}Z$\";\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    @WithMockUser(roles = \"DEVICE_SCAN_HOSTS\")\n    public void invalidUrl_returnsHttp404() throws Exception {\n        RequestBuilder requestBuilder = getGetRequestBuilder(\"/does-not-exist\");\n        mockMvc.perform(requestBuilder)\n            .andExpect(status().isNotFound())\n            .andExpect(jsonPath(\"$.code\", is(1000)))\n            .andExpect(jsonPath(\"$.message\", is(\"No handler found for your request.\")))\n            .andExpect(jsonPath(\"$.timestamp\", RegexMatcher.matchesRegex(ISO8601_DATE_REGEX)));\n    }\n\n    private RequestBuilder getGetRequestBuilder(String url) {\n        return MockMvcRequestBuilders\n            .get(url)\n            .accept(MediaType.APPLICATION_JSON);\n    }\n</code></pre>\n\n<p>The <code>@ActiveProfiles(\"dev\")</code> annotation can be left away. I use it only as I work with different profiles. The <code>RegexMatcher</code> is a custom <a href=\"http://hamcrest.org/JavaHamcrest/\" rel=\"noreferrer\">Hamcrest matcher</a> I use to better handle timestamp fields. Here's the code (I found it <a href=\"http://www.vogella.com/tutorials/Hamcrest/article.html\" rel=\"noreferrer\">here</a>):</p>\n\n<pre><code>public class RegexMatcher extends TypeSafeMatcher&lt;String&gt; {\n\n    private final String regex;\n\n    public RegexMatcher(final String regex) {\n        this.regex = regex;\n    }\n\n    @Override\n    public void describeTo(final Description description) {\n        description.appendText(\"matches regular expression=`\" + regex + \"`\");\n    }\n\n    @Override\n    public boolean matchesSafely(final String string) {\n        return string.matches(regex);\n    }\n\n    // Matcher method you can call on this matcher class\n    public static RegexMatcher matchesRegex(final String string) {\n        return new RegexMatcher(regex);\n    }\n}\n</code></pre>\n\n<p><strong>Some further notes from my side:</strong></p>\n\n<ul>\n<li>In many other posts on StackOverflow, people suggested setting the <code>@EnableWebMvc</code> annotation. This was not necessary in my case.</li>\n<li>This approach works well with MockMvc (see test above).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1528475273,"creation_date":1528474907,"answer_id":50764781,"question_id":28902374,"body_markdown":"@RestControllerAdvice is a new feature of Spring Framework 4.3 to handle Exception with RestfulApi by a cross-cutting concern solution:\r\n\r\n\r\n\r\n\r\n     package com.khan.vaquar.exception;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.owasp.esapi.errors.IntrusionException;\r\n    import org.owasp.esapi.errors.ValidationException;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.MissingServletRequestParameterException;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestControllerAdvice;\r\n    import org.springframework.web.servlet.NoHandlerFoundException;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.khan.vaquar.domain.ErrorResponse;\r\n    \r\n    /**\r\n     * Handles exceptions raised through requests to spring controllers.\r\n     **/\r\n    @RestControllerAdvice\r\n    public class RestExceptionHandler {\r\n    \r\n    \tprivate static final String TOKEN_ID = &quot;tokenId&quot;;\r\n    \t\r\n    \tprivate static final Logger log = LoggerFactory.getLogger(RestExceptionHandler.class);\r\n    \t\r\n    \t/**\r\n    \t * Handles InstructionExceptions from the rest controller.\r\n    \t * \r\n    \t * @param e IntrusionException\r\n    \t * @return error response POJO\r\n    \t */\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(value = IntrusionException.class)\r\n    \tpublic ErrorResponse handleIntrusionException(HttpServletRequest request, IntrusionException e) {\t\t\r\n    \t\tlog.warn(e.getLogMessage(), e);\r\n    \t\treturn this.handleValidationException(request, new ValidationException(e.getUserMessage(), e.getLogMessage()));\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Handles ValidationExceptions from the rest controller.\r\n    \t * \r\n    \t * @param e ValidationException\r\n    \t * @return error response POJO\r\n    \t */\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(value = ValidationException.class)\r\n    \tpublic ErrorResponse handleValidationException(HttpServletRequest request, ValidationException e) {\t\t\r\n    \t\tString tokenId = request.getParameter(TOKEN_ID);\r\n    \t\tlog.info(e.getMessage(), e);\r\n    \t\t\r\n    \t\tif (e.getUserMessage().contains(&quot;Token ID&quot;)) {\r\n    \t\t\ttokenId = &quot;&lt;OMITTED&gt;&quot;;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new ErrorResponse(\ttokenId,\r\n    \t\t\t\t\t\t\t\t\tHttpStatus.BAD_REQUEST.value(), \r\n    \t\t\t\t\t\t\t\t\te.getClass().getSimpleName(),\r\n    \t\t\t\t\t\t\t\t\te.getUserMessage());\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Handles JsonProcessingExceptions from the rest controller.\r\n    \t * \r\n    \t * @param e JsonProcessingException\r\n    \t * @return error response POJO\r\n    \t */\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(value = JsonProcessingException.class)\r\n    \tpublic ErrorResponse handleJsonProcessingException(HttpServletRequest request, JsonProcessingException e) {\t\t\r\n    \t\tString tokenId = request.getParameter(TOKEN_ID);\r\n    \t\tlog.info(e.getMessage(), e);\r\n    \t\treturn new ErrorResponse(\ttokenId,\r\n    \t\t\t\t\t\t\t\t\tHttpStatus.BAD_REQUEST.value(), \r\n    \t\t\t\t\t\t\t\t\te.getClass().getSimpleName(),\r\n    \t\t\t\t\t\t\t\t\te.getOriginalMessage());\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Handles IllegalArgumentExceptions from the rest controller.\r\n    \t * \r\n    \t * @param e IllegalArgumentException\r\n    \t * @return error response POJO\r\n    \t */\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(value = IllegalArgumentException.class)\r\n    \tpublic ErrorResponse handleIllegalArgumentException(HttpServletRequest request, IllegalArgumentException e) {\r\n    \t\tString tokenId = request.getParameter(TOKEN_ID);\r\n    \t\tlog.info(e.getMessage(), e);\r\n    \t\treturn new ErrorResponse(\ttokenId,\r\n    \t\t\t\t\t\t\t\t\tHttpStatus.BAD_REQUEST.value(), \r\n    \t\t\t\t\t\t\t\t\te.getClass().getSimpleName(), \r\n    \t\t\t\t\t\t\t\t\te.getMessage());\r\n    \t}\r\n    \t\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(value = UnsupportedOperationException.class)\r\n    \tpublic ErrorResponse handleUnsupportedOperationException(HttpServletRequest request, UnsupportedOperationException e) {\r\n    \t\tString tokenId = request.getParameter(TOKEN_ID);\r\n    \t\tlog.info(e.getMessage(), e);\r\n    \t\treturn new ErrorResponse(\ttokenId,\r\n    \t\t\t\t\t\t\t\t\tHttpStatus.BAD_REQUEST.value(), \r\n    \t\t\t\t\t\t\t\t\te.getClass().getSimpleName(), \r\n    \t\t\t\t\t\t\t\t\te.getMessage());\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Handles MissingServletRequestParameterExceptions from the rest controller.\r\n    \t * \r\n    \t * @param e MissingServletRequestParameterException\r\n    \t * @return error response POJO\r\n    \t */\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(value = MissingServletRequestParameterException.class)\r\n    \tpublic ErrorResponse handleMissingServletRequestParameterException(\tHttpServletRequest request, \r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMissingServletRequestParameterException e) {\r\n    \t\tString tokenId = request.getParameter(TOKEN_ID);\r\n    \t\tlog.info(e.getMessage(), e);\r\n    \t\treturn new ErrorResponse(\ttokenId,\r\n    \t\t\t\t\t\t\t\t\tHttpStatus.BAD_REQUEST.value(), \r\n    \t\t\t\t\t\t\t\t\te.getClass().getSimpleName(), \r\n    \t\t\t\t\t\t\t\t\te.getMessage());\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Handles NoHandlerFoundExceptions from the rest controller.\r\n    \t * \r\n    \t * @param e NoHandlerFoundException\r\n    \t * @return error response POJO\r\n    \t */\r\n    \t@ResponseStatus(HttpStatus.NOT_FOUND)\r\n    \t@ExceptionHandler(value = NoHandlerFoundException.class)\r\n    \tpublic ErrorResponse handleNoHandlerFoundException(HttpServletRequest request, NoHandlerFoundException e) {\r\n    \t\tString tokenId = request.getParameter(TOKEN_ID);\r\n    \t\tlog.info(e.getMessage(), e);\r\n    \t\treturn new ErrorResponse(\ttokenId,\r\n    \t\t\t\t\t\t\t\t\tHttpStatus.NOT_FOUND.value(), \r\n    \t\t\t\t\t\t\t\t\te.getClass().getSimpleName(), \r\n    \t\t\t\t\t\t\t\t\t&quot;The resource &quot; + e.getRequestURL() + &quot; is unavailable&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Handles all remaining exceptions from the rest controller.\r\n    \t * \r\n    \t * This acts as a catch-all for any exceptions not handled by previous exception handlers.\r\n    \t * \r\n    \t * @param e Exception\r\n    \t * @return error response POJO\r\n    \t */\r\n    \t@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    \t@ExceptionHandler(value = Exception.class)\r\n    \tpublic ErrorResponse handleException(HttpServletRequest request, Exception e) {\r\n    \t\tString tokenId = request.getParameter(TOKEN_ID);\r\n    \t\tlog.error(e.getMessage(), e);\r\n    \t\treturn new ErrorResponse(\ttokenId,\r\n    \t\t\t\t\t\t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR.value(), \r\n    \t\t\t\t\t\t\t\t\te.getClass().getSimpleName(), \r\n    \t\t\t\t\t\t\t\t\t&quot;An internal error occurred&quot;);\r\n    \t}\t\r\n    \t\r\n    }\r\n\r\n","title":"Spring Boot REST service exception handling","body":"<p>@RestControllerAdvice is a new feature of Spring Framework 4.3 to handle Exception with RestfulApi by a cross-cutting concern solution:</p>\n\n<pre><code> package com.khan.vaquar.exception;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.owasp.esapi.errors.IntrusionException;\nimport org.owasp.esapi.errors.ValidationException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.MissingServletRequestParameterException;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\nimport org.springframework.web.servlet.NoHandlerFoundException;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.khan.vaquar.domain.ErrorResponse;\n\n/**\n * Handles exceptions raised through requests to spring controllers.\n **/\n@RestControllerAdvice\npublic class RestExceptionHandler {\n\n    private static final String TOKEN_ID = \"tokenId\";\n\n    private static final Logger log = LoggerFactory.getLogger(RestExceptionHandler.class);\n\n    /**\n     * Handles InstructionExceptions from the rest controller.\n     * \n     * @param e IntrusionException\n     * @return error response POJO\n     */\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = IntrusionException.class)\n    public ErrorResponse handleIntrusionException(HttpServletRequest request, IntrusionException e) {       \n        log.warn(e.getLogMessage(), e);\n        return this.handleValidationException(request, new ValidationException(e.getUserMessage(), e.getLogMessage()));\n    }\n\n    /**\n     * Handles ValidationExceptions from the rest controller.\n     * \n     * @param e ValidationException\n     * @return error response POJO\n     */\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = ValidationException.class)\n    public ErrorResponse handleValidationException(HttpServletRequest request, ValidationException e) {     \n        String tokenId = request.getParameter(TOKEN_ID);\n        log.info(e.getMessage(), e);\n\n        if (e.getUserMessage().contains(\"Token ID\")) {\n            tokenId = \"&lt;OMITTED&gt;\";\n        }\n\n        return new ErrorResponse(   tokenId,\n                                    HttpStatus.BAD_REQUEST.value(), \n                                    e.getClass().getSimpleName(),\n                                    e.getUserMessage());\n    }\n\n    /**\n     * Handles JsonProcessingExceptions from the rest controller.\n     * \n     * @param e JsonProcessingException\n     * @return error response POJO\n     */\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = JsonProcessingException.class)\n    public ErrorResponse handleJsonProcessingException(HttpServletRequest request, JsonProcessingException e) {     \n        String tokenId = request.getParameter(TOKEN_ID);\n        log.info(e.getMessage(), e);\n        return new ErrorResponse(   tokenId,\n                                    HttpStatus.BAD_REQUEST.value(), \n                                    e.getClass().getSimpleName(),\n                                    e.getOriginalMessage());\n    }\n\n    /**\n     * Handles IllegalArgumentExceptions from the rest controller.\n     * \n     * @param e IllegalArgumentException\n     * @return error response POJO\n     */\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = IllegalArgumentException.class)\n    public ErrorResponse handleIllegalArgumentException(HttpServletRequest request, IllegalArgumentException e) {\n        String tokenId = request.getParameter(TOKEN_ID);\n        log.info(e.getMessage(), e);\n        return new ErrorResponse(   tokenId,\n                                    HttpStatus.BAD_REQUEST.value(), \n                                    e.getClass().getSimpleName(), \n                                    e.getMessage());\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = UnsupportedOperationException.class)\n    public ErrorResponse handleUnsupportedOperationException(HttpServletRequest request, UnsupportedOperationException e) {\n        String tokenId = request.getParameter(TOKEN_ID);\n        log.info(e.getMessage(), e);\n        return new ErrorResponse(   tokenId,\n                                    HttpStatus.BAD_REQUEST.value(), \n                                    e.getClass().getSimpleName(), \n                                    e.getMessage());\n    }\n\n    /**\n     * Handles MissingServletRequestParameterExceptions from the rest controller.\n     * \n     * @param e MissingServletRequestParameterException\n     * @return error response POJO\n     */\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(value = MissingServletRequestParameterException.class)\n    public ErrorResponse handleMissingServletRequestParameterException( HttpServletRequest request, \n                                                                        MissingServletRequestParameterException e) {\n        String tokenId = request.getParameter(TOKEN_ID);\n        log.info(e.getMessage(), e);\n        return new ErrorResponse(   tokenId,\n                                    HttpStatus.BAD_REQUEST.value(), \n                                    e.getClass().getSimpleName(), \n                                    e.getMessage());\n    }\n\n    /**\n     * Handles NoHandlerFoundExceptions from the rest controller.\n     * \n     * @param e NoHandlerFoundException\n     * @return error response POJO\n     */\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    @ExceptionHandler(value = NoHandlerFoundException.class)\n    public ErrorResponse handleNoHandlerFoundException(HttpServletRequest request, NoHandlerFoundException e) {\n        String tokenId = request.getParameter(TOKEN_ID);\n        log.info(e.getMessage(), e);\n        return new ErrorResponse(   tokenId,\n                                    HttpStatus.NOT_FOUND.value(), \n                                    e.getClass().getSimpleName(), \n                                    \"The resource \" + e.getRequestURL() + \" is unavailable\");\n    }\n\n    /**\n     * Handles all remaining exceptions from the rest controller.\n     * \n     * This acts as a catch-all for any exceptions not handled by previous exception handlers.\n     * \n     * @param e Exception\n     * @return error response POJO\n     */\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(value = Exception.class)\n    public ErrorResponse handleException(HttpServletRequest request, Exception e) {\n        String tokenId = request.getParameter(TOKEN_ID);\n        log.error(e.getMessage(), e);\n        return new ErrorResponse(   tokenId,\n                                    HttpStatus.INTERNAL_SERVER_ERROR.value(), \n                                    e.getClass().getSimpleName(), \n                                    \"An internal error occurred\");\n    }   \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6783160,"reputation":951,"user_id":5222747,"accept_rate":40,"display_name":"Lym Zoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547639986,"creation_date":1547639986,"answer_id":54216634,"question_id":28902374,"body_markdown":"For people that want to response according to http status code, you can use the `ErrorController` way:\r\n\r\n    @Controller\r\n    public class CustomErrorController extends BasicErrorController {\r\n    \r\n        public CustomErrorController(ServerProperties serverProperties) {\r\n            super(new DefaultErrorAttributes(), serverProperties.getError());\r\n        }\r\n    \r\n        @Override\r\n        public ResponseEntity error(HttpServletRequest request) {\r\n            HttpStatus status = getStatus(request);\r\n            if (status.equals(HttpStatus.INTERNAL_SERVER_ERROR)){\r\n                return ResponseEntity.status(status).body(ResponseBean.SERVER_ERROR);\r\n            }else if (status.equals(HttpStatus.BAD_REQUEST)){\r\n                return ResponseEntity.status(status).body(ResponseBean.BAD_REQUEST);\r\n            }\r\n            return super.error(request);\r\n        }\r\n    }\r\n\r\nThe `ResponseBean` here is my custom pojo for response.","title":"Spring Boot REST service exception handling","body":"<p>For people that want to response according to http status code, you can use the <code>ErrorController</code> way:</p>\n\n<pre><code>@Controller\npublic class CustomErrorController extends BasicErrorController {\n\n    public CustomErrorController(ServerProperties serverProperties) {\n        super(new DefaultErrorAttributes(), serverProperties.getError());\n    }\n\n    @Override\n    public ResponseEntity error(HttpServletRequest request) {\n        HttpStatus status = getStatus(request);\n        if (status.equals(HttpStatus.INTERNAL_SERVER_ERROR)){\n            return ResponseEntity.status(status).body(ResponseBean.SERVER_ERROR);\n        }else if (status.equals(HttpStatus.BAD_REQUEST)){\n            return ResponseEntity.status(status).body(ResponseBean.BAD_REQUEST);\n        }\n        return super.error(request);\n    }\n}\n</code></pre>\n\n<p>The <code>ResponseBean</code> here is my custom pojo for response.</p>\n"},{"tags":[],"owner":{"account_id":16659495,"reputation":318,"user_id":12039826,"display_name":"ajesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655097529,"creation_date":1655097529,"answer_id":72598061,"question_id":28902374,"body_markdown":"**Simple exception controller class with RestController Annotation will take care the exception handling at controller level.**    \r\n\r\n        @RestControllerAdvice\r\n        public class ExceptionController\r\n        {\r\n            // Mention the exception here..\r\n            @ExceptionHandler(value = MethodArgumentNotValidException.class)\r\n            public ResponseEntity&lt;?&gt; exceptionHandler(MethodArgumentNotValidException e)\r\n            {\r\n                var errors = e.getBindingResult().getAllErrors().stream()\r\n                              .map(DefaultMessageSourceResolvable::getDefaultMessage).collect(Collectors.toList());\r\n                var response = new ResponseBuilder()\r\n                    .withHttpStatus(HttpStatus.BAD_REQUEST.value())\r\n                    .withMessage(CustomStatus.FAILED.getMessage())\r\n                    .withErrorCode(CustomStatus.FAILED.getValue())\r\n                    .withErrorDescription(errors)\r\n                    .build();\r\n                return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\r\n            }\r\n        }","title":"Spring Boot REST service exception handling","body":"<p><strong>Simple exception controller class with RestController Annotation will take care the exception handling at controller level.</strong></p>\n<pre><code>    @RestControllerAdvice\n    public class ExceptionController\n    {\n        // Mention the exception here..\n        @ExceptionHandler(value = MethodArgumentNotValidException.class)\n        public ResponseEntity&lt;?&gt; exceptionHandler(MethodArgumentNotValidException e)\n        {\n            var errors = e.getBindingResult().getAllErrors().stream()\n                          .map(DefaultMessageSourceResolvable::getDefaultMessage).collect(Collectors.toList());\n            var response = new ResponseBuilder()\n                .withHttpStatus(HttpStatus.BAD_REQUEST.value())\n                .withMessage(CustomStatus.FAILED.getMessage())\n                .withErrorCode(CustomStatus.FAILED.getValue())\n                .withErrorDescription(errors)\n                .build();\n            return new ResponseEntity&lt;&gt;(response, HttpStatus.BAD_REQUEST);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":210903,"reputation":3971,"user_id":462771,"accept_rate":73,"display_name":"ogradyjd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352599,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"accepted_answer_id":30193013,"answer_count":11,"score":199,"last_activity_date":1671839402,"creation_date":1425656788,"question_id":28902374,"body_markdown":"I am trying to set up a large-scale REST services server.  We&#39;re using Spring Boot 1.2.1 Spring 4.1.5, and Java 8.  Our controllers are implementing @RestController and the standard @RequestMapping annotations.\r\n\r\nMy problem is that Spring Boot sets up a default redirect for controller exceptions to `/error`.  From the docs:\r\n\r\n&gt; Spring Boot provides an /error mapping by default that handles all errors in a sensible way, and it is registered as a global error page in the servlet container. \r\n\r\nComing from years writing REST applications with Node.js, this is, to me, anything but sensible.  Any exception a service endpoint generates should return in the response.  I can&#39;t understand why you&#39;d send a redirect to what is most likely an Angular or JQuery SPA consumer which is only looking for an answer and can&#39;t or won&#39;t take any action on a redirect.\r\n\r\nWhat I want to do is set up a global error handler that can take any exception - either purposefully thrown from a request mapping method or auto-generated by Spring (404 if no handler method is found for the request path signature), and return a standard formatted error response (400, 500, 503, 404) to the client without any MVC redirects.  Specifically, we are going to take the error, log it to NoSQL with a UUID, then return to the client the right HTTP error code with the UUID of the log entry in the JSON body.\r\n\r\nThe docs have been vague on how to do this.  It seems to me that you have to either create your own [ErrorController][1] implementation or use [ControllerAdvice][2] in some fashion, but all the examples I&#39;ve seen still include forwarding the response to some kind of error mapping, which doesn&#39;t help.  Other examples suggest that you&#39;d have to list every Exception type you want to handle instead of just listing &quot;Throwable&quot; and getting everything.\r\n\r\nCan anyone tell me what I missed, or point me in the right direction on how to do this without suggesting up the chain that Node.js would be easier to deal with?  \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.2.2.RELEASE/api/org/springframework/boot/autoconfigure/web/ErrorController.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html","title":"Spring Boot REST service exception handling","body":"<p>I am trying to set up a large-scale REST services server.  We're using Spring Boot 1.2.1 Spring 4.1.5, and Java 8.  Our controllers are implementing @RestController and the standard @RequestMapping annotations.</p>\n\n<p>My problem is that Spring Boot sets up a default redirect for controller exceptions to <code>/error</code>.  From the docs:</p>\n\n<blockquote>\n  <p>Spring Boot provides an /error mapping by default that handles all errors in a sensible way, and it is registered as a global error page in the servlet container. </p>\n</blockquote>\n\n<p>Coming from years writing REST applications with Node.js, this is, to me, anything but sensible.  Any exception a service endpoint generates should return in the response.  I can't understand why you'd send a redirect to what is most likely an Angular or JQuery SPA consumer which is only looking for an answer and can't or won't take any action on a redirect.</p>\n\n<p>What I want to do is set up a global error handler that can take any exception - either purposefully thrown from a request mapping method or auto-generated by Spring (404 if no handler method is found for the request path signature), and return a standard formatted error response (400, 500, 503, 404) to the client without any MVC redirects.  Specifically, we are going to take the error, log it to NoSQL with a UUID, then return to the client the right HTTP error code with the UUID of the log entry in the JSON body.</p>\n\n<p>The docs have been vague on how to do this.  It seems to me that you have to either create your own <a href=\"http://docs.spring.io/spring-boot/docs/1.2.2.RELEASE/api/org/springframework/boot/autoconfigure/web/ErrorController.html\" rel=\"noreferrer\">ErrorController</a> implementation or use <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\" rel=\"noreferrer\">ControllerAdvice</a> in some fashion, but all the examples I've seen still include forwarding the response to some kind of error mapping, which doesn't help.  Other examples suggest that you'd have to list every Exception type you want to handle instead of just listing \"Throwable\" and getting everything.</p>\n\n<p>Can anyone tell me what I missed, or point me in the right direction on how to do this without suggesting up the chain that Node.js would be easier to deal with?  </p>\n"},{"tags":["java","jakarta-ee","servlets"],"comments":[{"owner":{"account_id":452854,"reputation":303,"user_id":849525,"display_name":"shohan"},"score":4,"creation_date":1396433103,"post_id":7213541,"comment_id":35216039,"body_markdown":"[Servlets](http://stackoverflow.com/tags/servlets/info) You can look on it. I think this is details and authentic.","body":"<a href=\"http://stackoverflow.com/tags/servlets/info\">Servlets</a> You can look on it. I think this is details and authentic."},{"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"score":1,"creation_date":1524736573,"post_id":7213541,"comment_id":87096043,"body_markdown":"[A simple tutorial to create webservice using servlets](https://www.youtube.com/watch?v=0L9yTE_zFM0)","body":"<a href=\"https://www.youtube.com/watch?v=0L9yTE_zFM0\" rel=\"nofollow noreferrer\">A simple tutorial to create webservice using servlets</a>"},{"owner":{"account_id":12051935,"reputation":347,"user_id":8814543,"display_name":"Vaclav Vlcek"},"score":0,"creation_date":1654673993,"post_id":7213541,"comment_id":128144087,"body_markdown":"Sticking to the last question: &quot;What is difference between server-side programming and servlets&quot;. Servlet is a part of server that receives e.g. http request and then responds to that, e.g. sends html page back to the user. It is actually controller that builds the final view for the user (check [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller). So it is similar to technologies such as PHP or so, but this is just coming from Java.","body":"Sticking to the last question: &quot;What is difference between server-side programming and servlets&quot;. Servlet is a part of server that receives e.g. http request and then responds to that, e.g. sends html page back to the user. It is actually controller that builds the final view for the user (check <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">MVC</a>. So it is similar to technologies such as PHP or so, but this is just coming from Java."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669521905,"post_id":7213541,"comment_id":131658233,"body_markdown":"Update: Now known as [*Jakarta Servlet*](https://jakarta.ee/specifications/servlet/)","body":"Update: Now known as <a href=\"https://jakarta.ee/specifications/servlet/\" rel=\"nofollow noreferrer\"><i>Jakarta Servlet</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":1,"creation_date":1314437052,"post_id":7213582,"comment_id":8668063,"body_markdown":"First of all thanx for the answer, is java servlets is another server side programming language like PHP or ASP?","body":"First of all thanx for the answer, is java servlets is another server side programming language like PHP or ASP?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":22,"creation_date":1314440437,"post_id":7213582,"comment_id":8668500,"body_markdown":"Servlets are snippets of java code called by the web server _inside_ the web server itself.  If you want something looking like PHP or ASP you need JSPs (which are a special kind of servlets)","body":"Servlets are snippets of java code called by the web server <i>inside</i> the web server itself.  If you want something looking like PHP or ASP you need JSPs (which are a special kind of servlets)"},{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":5,"creation_date":1314442168,"post_id":7213582,"comment_id":8668710,"body_markdown":"Thanx for the answer but still i can&#39;t get the real use of servlets, it would be better if u can explain by example like sitution where we can use servlets. i didn&#39;t understand the use of servlet like what servlet can do that other server side programming languages can&#39;t do.","body":"Thanx for the answer but still i can&#39;t get the real use of servlets, it would be better if u can explain by example like sitution where we can use servlets. i didn&#39;t understand the use of servlet like what servlet can do that other server side programming languages can&#39;t do."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1314443719,"post_id":7213582,"comment_id":8668894,"body_markdown":"@Hardik: it&#39;s not that they can do anything that can&#39;t be done another way. Servlets are just a common technology for server-side Java work. Servlets aren&#39;t a language - and neither is ASPX. Both are platforms you use in conjunction with another language - usually Java in the case of servlets.","body":"@Hardik: it&#39;s not that they can do anything that can&#39;t be done another way. Servlets are just a common technology for server-side Java work. Servlets aren&#39;t a language - and neither is ASPX. Both are platforms you use in conjunction with another language - usually Java in the case of servlets."},{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":1,"creation_date":1314444990,"post_id":7213582,"comment_id":8669051,"body_markdown":"@Jon Skeet: so is servlets are serverside programs? or is it mini server??","body":"@Jon Skeet: so is servlets are serverside programs? or is it mini server??"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1314445758,"post_id":7213582,"comment_id":8669155,"body_markdown":"@Hardik: As I wrote in my post, servlets are classes which operate inside a servlet container. The servlet container can host several servlets at the same time.","body":"@Hardik: As I wrote in my post, servlets are classes which operate inside a servlet container. The servlet container can host several servlets at the same time."},{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":1,"creation_date":1314447326,"post_id":7213582,"comment_id":8669375,"body_markdown":"@Jon Skeet: so you mean Servlets is just a platform to write java code for server side application. so we can submit our form data to the database by using servlets??","body":"@Jon Skeet: so you mean Servlets is just a platform to write java code for server side application. so we can submit our form data to the database by using servlets??"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1314447358,"post_id":7213582,"comment_id":8669381,"body_markdown":"@Hardik: Yes, exactly. The servlet can provide the HTML to display the form and also act on the submission. Servlets can also be used to implement web services. They *can* be used for other protocols aside from HTTP, but HTTP is overwhelmingly the most common transport handled by servlets.","body":"@Hardik: Yes, exactly. The servlet can provide the HTML to display the form and also act on the submission. Servlets can also be used to implement web services. They <i>can</i> be used for other protocols aside from HTTP, but HTTP is overwhelmingly the most common transport handled by servlets."},{"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"score":0,"creation_date":1314448007,"post_id":7213582,"comment_id":8669460,"body_markdown":"@Jon Skeet: thank you very much Jon, now i read one line in article that says &quot;whenever request made to servlet it is handled by separate thread where as CGI scripts creates new process for each new request&quot; i can&#39;t understand this statement. will you pls help? extremely sorry because i am asking too many questions.  :(","body":"@Jon Skeet: thank you very much Jon, now i read one line in article that says &quot;whenever request made to servlet it is handled by separate thread where as CGI scripts creates new process for each new request&quot; i can&#39;t understand this statement. will you pls help? extremely sorry because i am asking too many questions.  :("},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1314450906,"post_id":7213582,"comment_id":8669842,"body_markdown":"@Hardik: I can&#39;t really start going into the difference between threads and processes in comments... read up on threading and you may understand the difference.","body":"@Hardik: I can&#39;t really start going into the difference between threads and processes in comments... read up on threading and you may understand the difference."},{"owner":{"account_id":1179123,"reputation":5301,"user_id":1154447,"accept_rate":70,"display_name":"Konstantin Burlachenko"},"score":0,"creation_date":1456936299,"post_id":7213582,"comment_id":59179061,"body_markdown":"I have never used Java, but I&#39;m interesting in this conception. Who processed HTTP request -- class method of object method (which has access to self/this pointer)? If it is object then after process request and store it&#39;s state in some place object will be destroyed or it depends?","body":"I have never used Java, but I&#39;m interesting in this conception. Who processed HTTP request -- class method of object method (which has access to self/this pointer)? If it is object then after process request and store it&#39;s state in some place object will be destroyed or it depends?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1456937577,"post_id":7213582,"comment_id":59180018,"body_markdown":"@bruziuz: I&#39;m afraid I&#39;m finding it hard to understand your question... but *instances* of servlets process requests, and typically they are long-lasting.","body":"@bruziuz: I&#39;m afraid I&#39;m finding it hard to understand your question... but <i>instances</i> of servlets process requests, and typically they are long-lasting."},{"owner":{"account_id":1179123,"reputation":5301,"user_id":1154447,"accept_rate":70,"display_name":"Konstantin Burlachenko"},"score":1,"creation_date":1456952897,"post_id":7213582,"comment_id":59189561,"body_markdown":"I can reformulate. You typed &quot;A servlet is simply a class &quot;. But I&#39;d like to understand &quot;A servlet is simply a class&quot; or &quot;A servlet is instance of the class&quot;? Is sounds like SERVer-side-control-eLEmenT is such transcription  correct? If so then to store per-user info it should me &quot;instance of the class&quot;","body":"I can reformulate. You typed &quot;A servlet is simply a class &quot;. But I&#39;d like to understand &quot;A servlet is simply a class&quot; or &quot;A servlet is instance of the class&quot;? Is sounds like SERVer-side-control-eLEmenT is such transcription  correct? If so then to store per-user info it should me &quot;instance of the class&quot;"},{"owner":{"account_id":1179123,"reputation":5301,"user_id":1154447,"accept_rate":70,"display_name":"Konstantin Burlachenko"},"score":0,"creation_date":1456954265,"post_id":7213582,"comment_id":59190352,"body_markdown":"What does it mean &#39;long-lasting&#39; ? Does it mean that after sent HTTP response to client the &quot;servlet&quot; (I imagine shop&#39;s cart with bough items) for this client &quot;servlet&quot; state will be alive and leave in java vm enviroment and client in future http requests will send session-id via cookie|hidden input fields (like ViewState in ASP.NET)|embded session-id in url?","body":"What does it mean &#39;long-lasting&#39; ? Does it mean that after sent HTTP response to client the &quot;servlet&quot; (I imagine shop&#39;s cart with bough items) for this client &quot;servlet&quot; state will be alive and leave in java vm enviroment and client in future http requests will send session-id via cookie|hidden input fields (like ViewState in ASP.NET)|embded session-id in url?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1456956425,"post_id":7213582,"comment_id":59191555,"body_markdown":"@bruziuz: No, the same servlet is used for multiple requests, but should be stateless. State should be handled elsewhere. But really, this is beyond the scope of comments. If you want to know more, I suggest you read a full tutorial on servlets.","body":"@bruziuz: No, the same servlet is used for multiple requests, but should be stateless. State should be handled elsewhere. But really, this is beyond the scope of comments. If you want to know more, I suggest you read a full tutorial on servlets."},{"owner":{"account_id":2801879,"reputation":695,"user_id":3810038,"accept_rate":100,"display_name":"John Red"},"score":2,"creation_date":1472451918,"post_id":7213582,"comment_id":65739359,"body_markdown":"Sorry to say, but information in the &quot;info&quot; section of the servlets tag looks like has been written by Mr. Jack Bigbrains for Mr. Harry Biggerbrains. :/","body":"Sorry to say, but information in the &quot;info&quot; section of the servlets tag looks like has been written by Mr. Jack Bigbrains for Mr. Harry Biggerbrains. :/"},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1597682102,"post_id":7213582,"comment_id":112207169,"body_markdown":"Could you explain how do they relate to these 2 technologies  Jax-RS and Springboot?  Thank you","body":"Could you explain how do they relate to these 2 technologies  Jax-RS and Springboot?  Thank you"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1597682428,"post_id":7213582,"comment_id":112207323,"body_markdown":"@pixel: No, that&#39;s not part of this question. Please ask a *new* (very specific) question.","body":"@pixel: No, that&#39;s not part of this question. Please ask a <i>new</i> (very specific) question."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":18,"down_vote_count":1,"up_vote_count":450,"is_accepted":true,"score":449,"last_activity_date":1392978453,"creation_date":1314436321,"answer_id":7213582,"question_id":7213541,"body_markdown":"A servlet is simply a class which responds to a particular type of network request - most commonly an HTTP request. Basically servlets are usually used to implement web applications - but there are also various frameworks which operate on top of servlets (e.g. Struts) to give a higher-level abstraction than the &quot;here&#39;s an HTTP request, write to this HTTP response&quot; level which servlets provide.\r\n\r\nServlets run in a *servlet container* which handles the networking side (e.g. parsing an HTTP request, connection handling etc). One of the best-known open source servlet containers is [Tomcat][1].\r\n\r\n\r\n  [1]: http://tomcat.apache.org/","title":"What is Java Servlet?","body":"<p>A servlet is simply a class which responds to a particular type of network request - most commonly an HTTP request. Basically servlets are usually used to implement web applications - but there are also various frameworks which operate on top of servlets (e.g. Struts) to give a higher-level abstraction than the \"here's an HTTP request, write to this HTTP response\" level which servlets provide.</p>\n\n<p>Servlets run in a <em>servlet container</em> which handles the networking side (e.g. parsing an HTTP request, connection handling etc). One of the best-known open source servlet containers is <a href=\"http://tomcat.apache.org/\" rel=\"noreferrer\">Tomcat</a>.</p>\n"},{"comments":[{"owner":{"display_name":"user456814"},"score":16,"creation_date":1397419550,"post_id":7226610,"comment_id":35215108,"body_markdown":"Link-only answers are discouraged on Stack Overflow, because the resources that they link to may become unavailable in the future or may change. Consider summarizing the relevant content of the link in your answer to improve it.","body":"Link-only answers are discouraged on Stack Overflow, because the resources that they link to may become unavailable in the future or may change. Consider summarizing the relevant content of the link in your answer to improve it."},{"owner":{"account_id":128529,"reputation":8559,"user_id":326439,"accept_rate":69,"display_name":"Ayusman"},"score":9,"creation_date":1450258368,"post_id":7226610,"comment_id":56358208,"body_markdown":"@Cupcake appreciate your constructive feedback. I tried to add some meat to the answer. Thanks for making the community better.","body":"@Cupcake appreciate your constructive feedback. I tried to add some meat to the answer. Thanks for making the community better."},{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1597682333,"post_id":7226610,"comment_id":112207275,"body_markdown":"How do servlets fit with Jax-RS and Springboot?  Are they used with these 2 technologies?","body":"How do servlets fit with Jax-RS and Springboot?  Are they used with these 2 technologies?"},{"owner":{"account_id":128529,"reputation":8559,"user_id":326439,"accept_rate":69,"display_name":"Ayusman"},"score":1,"creation_date":1597851190,"post_id":7226610,"comment_id":112269839,"body_markdown":"@pixel ultimately it has to use the servlets. If you look through the source code of Jax-RS / springboot it would at some point be extending a standard java servlet to provide all the abstractions and features.","body":"@pixel ultimately it has to use the servlets. If you look through the source code of Jax-RS / springboot it would at some point be extending a standard java servlet to provide all the abstractions and features."}],"tags":[],"owner":{"account_id":128529,"reputation":8559,"user_id":326439,"accept_rate":69,"display_name":"Ayusman"},"comment_count":4,"down_vote_count":2,"up_vote_count":162,"is_accepted":false,"score":160,"last_activity_date":1671838991,"creation_date":1314597400,"answer_id":7226610,"question_id":7213541,"body_markdown":"A servlet at its very core is a java class; which can handle HTTP requests.\r\nTypically the internal nitty-gritty of reading a HTTP request and response over the wire is taken care of by the containers like Tomcat. This is done so that as a server side developer you can focus on what to do with the HTTP request and responses and not bother about dealing with code that deals with networking etc. The container will take care of things like wrapping the whole thing in a HTTP response object and send it over to the client (say a browser).\r\n\r\nNow the next logical question to ask is who decides what is a container supposed to do? And the answer is; In Java world at least It is guided (note I did not use the word controlled) by specifications. For example Servlet specifications (See resource 2) dictates what a servlet must be able to do. So if you can write an implementation for the specification, congratulations you just created a container (Technically containers like Tomcat also implement other specifications and do tricky stuff like custom class loaders etc but you get the idea).\r\n\r\nAssuming you have a container, your servlets are now java classes whose lifecycle will be maintained by the container but their reaction to incoming HTTP requests will be decided by you. You do that by writing what-you-want-to-do in the pre-defined methods like init(), doGet(), doPost() etc. Look at Resource 3.\r\n\r\nHere is a fun exercise for you. Create a simple servlet like in Resource 3 and write a few System.out.println() statements in it&#39;s constructor method (Yes you can have a constructor of a servlet), init(), doGet(), doPost() methods and run the servlet in tomcat. See the console logs and tomcat logs.\r\n\r\n**Resources**\r\n\r\n1. Look how the HTTP servlet looks [here][1](Tomcat example).\r\n\r\n2. Servlet [Specification][2].\r\n\r\n3. Simple Servlet [example][3].\r\n\r\n4. Start reading the [book][4] online/PDF\r\nIt also provides you download of the whole book. May be this will help.\r\nif you are just starting servlets may be it&#39;s a good idea to read the material along with the servlet API. it&#39;s a slower process of learning, but is way more helpful in getting the basics clear.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-servlet-api/7.0.0/javax/servlet/http/HttpServlet.java#HttpServlet\r\n  [2]: https://download.oracle.com/otndocs/jcp/servlet-4-final-spec/index.html\r\n  [3]: http://www.tutorialspoint.com/servlets/servlets-first-example.htm\r\n  [4]: http://pdf.coreservlets.com/Servlet-Basics.pdf","title":"What is Java Servlet?","body":"<p>A servlet at its very core is a java class; which can handle HTTP requests.\nTypically the internal nitty-gritty of reading a HTTP request and response over the wire is taken care of by the containers like Tomcat. This is done so that as a server side developer you can focus on what to do with the HTTP request and responses and not bother about dealing with code that deals with networking etc. The container will take care of things like wrapping the whole thing in a HTTP response object and send it over to the client (say a browser).</p>\n<p>Now the next logical question to ask is who decides what is a container supposed to do? And the answer is; In Java world at least It is guided (note I did not use the word controlled) by specifications. For example Servlet specifications (See resource 2) dictates what a servlet must be able to do. So if you can write an implementation for the specification, congratulations you just created a container (Technically containers like Tomcat also implement other specifications and do tricky stuff like custom class loaders etc but you get the idea).</p>\n<p>Assuming you have a container, your servlets are now java classes whose lifecycle will be maintained by the container but their reaction to incoming HTTP requests will be decided by you. You do that by writing what-you-want-to-do in the pre-defined methods like init(), doGet(), doPost() etc. Look at Resource 3.</p>\n<p>Here is a fun exercise for you. Create a simple servlet like in Resource 3 and write a few System.out.println() statements in it's constructor method (Yes you can have a constructor of a servlet), init(), doGet(), doPost() methods and run the servlet in tomcat. See the console logs and tomcat logs.</p>\n<p><strong>Resources</strong></p>\n<ol>\n<li><p>Look how the HTTP servlet looks <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-servlet-api/7.0.0/javax/servlet/http/HttpServlet.java#HttpServlet\" rel=\"noreferrer\">here</a>(Tomcat example).</p>\n</li>\n<li><p>Servlet <a href=\"https://download.oracle.com/otndocs/jcp/servlet-4-final-spec/index.html\" rel=\"noreferrer\">Specification</a>.</p>\n</li>\n<li><p>Simple Servlet <a href=\"http://www.tutorialspoint.com/servlets/servlets-first-example.htm\" rel=\"noreferrer\">example</a>.</p>\n</li>\n<li><p>Start reading the <a href=\"http://pdf.coreservlets.com/Servlet-Basics.pdf\" rel=\"noreferrer\">book</a> online/PDF\nIt also provides you download of the whole book. May be this will help.\nif you are just starting servlets may be it's a good idea to read the material along with the servlet API. it's a slower process of learning, but is way more helpful in getting the basics clear.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4321836,"reputation":270,"user_id":3529776,"accept_rate":25,"display_name":"Roopam"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1397419594,"creation_date":1397418237,"answer_id":23047573,"question_id":7213541,"body_markdown":"I think servlet is basically a java class which acts as a middle way between HTTP request and HTTP response.Servlet is also used to make your web page dynamic. Suppose for example if you want to redirect to another web page on server then you have to use servlets. Another important thing is that servlet can run on localhost as well as a web browser.","title":"What is Java Servlet?","body":"<p>I think servlet is basically a java class which acts as a middle way between HTTP request and HTTP response.Servlet is also used to make your web page dynamic. Suppose for example if you want to redirect to another web page on server then you have to use servlets. Another important thing is that servlet can run on localhost as well as a web browser.</p>\n"},{"tags":[],"owner":{"account_id":4321836,"reputation":270,"user_id":3529776,"accept_rate":25,"display_name":"Roopam"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1426326458,"creation_date":1426326458,"answer_id":29047547,"question_id":7213541,"body_markdown":"Servlet is a java class to respond a HTTP request and produce a HTTP response...... when we make a page with the use of HTML then it would be a static page so to make it dynamic we use SERVLET {in simple words one can understand}\r\nTo make use of servlet is overcomed by JSP it uses the code and HTML tag both in itself..\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is Java Servlet?","body":"<p>Servlet is a java class to respond a HTTP request and produce a HTTP response...... when we make a page with the use of HTML then it would be a static page so to make it dynamic we use SERVLET {in simple words one can understand}\nTo make use of servlet is overcomed by JSP it uses the code and HTML tag both in itself..</p>\n"},{"comments":[{"owner":{"account_id":2904173,"reputation":10884,"user_id":2490003,"accept_rate":53,"display_name":"user2490003"},"score":2,"creation_date":1521910023,"post_id":30682408,"comment_id":85937047,"body_markdown":"Is it incorrect to view the servlet as analogous to a &quot;controller&quot; in a standard MVC framework?","body":"Is it incorrect to view the servlet as analogous to a &quot;controller&quot; in a standard MVC framework?"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1522001181,"post_id":30682408,"comment_id":85961034,"body_markdown":"Personally I can&#39;t see how that analogy holds.  I&#39;d also tend to think that people who think my answer is a useful one (helps clarify things for them) might well be confused by your suggestion.","body":"Personally I can&#39;t see how that analogy holds.  I&#39;d also tend to think that people who think my answer is a useful one (helps clarify things for them) might well be confused by your suggestion."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1576784281,"post_id":30682408,"comment_id":105019220,"body_markdown":"I think this Answer is useful.  But I also wondered (independent of this Answer, and before reading it) the same question that @user2490003 posed above.  What is the difference between a Servlet and an MVC-framework Controller?  Why does analogy by user2490003 not hold?","body":"I think this Answer is useful.  But I also wondered (independent of this Answer, and before reading it) the same question that @user2490003 posed above.  What is the difference between a Servlet and an MVC-framework Controller?  Why does analogy by user2490003 not hold?"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1576788575,"post_id":30682408,"comment_id":105020790,"body_markdown":"An MVC arrangement is more complicated and yet less complicated. It doesn&#39;t necessarily involving waiting for input. In defining the basic idea of a server-client setup, it is that simplicity which I seek to emphasise.  Look at the basic MVC diagram here: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller. In a simple client-server setup, the user interacts only with the client, not with two objects, namely a view and a controller. With MVC there can also be multiple views, multiple controllers and multiple models.  And waiting for input is not (necessarily) involved.","body":"An MVC arrangement is more complicated and yet less complicated. It doesn&#39;t necessarily involving waiting for input. In defining the basic idea of a server-client setup, it is that simplicity which I seek to emphasise.  Look at the basic MVC diagram here: <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a>. In a simple client-server setup, the user interacts only with the client, not with two objects, namely a view and a controller. With MVC there can also be multiple views, multiple controllers and multiple models.  And waiting for input is not (necessarily) involved."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1576790421,"post_id":30682408,"comment_id":105021350,"body_markdown":"In addition to the above, a server can serve multiple users, whereas there is no such requirement with an MVC setup. An MVC setup belongs to the world of classical computing, i.e. standalone apps. With servers we take our first step into the universe of interactive computing. It&#39;s not that that the analogy is 100% wrong, more 90% wrong, and above all that any analogy is simply of no use if it doesn&#39;t actually help anyone or anything in any way whatsoever.  A server-client arrangement is so utterly simple as an idea no-one needs analogies, *of any kind at all*, to understand.","body":"In addition to the above, a server can serve multiple users, whereas there is no such requirement with an MVC setup. An MVC setup belongs to the world of classical computing, i.e. standalone apps. With servers we take our first step into the universe of interactive computing. It&#39;s not that that the analogy is 100% wrong, more 90% wrong, and above all that any analogy is simply of no use if it doesn&#39;t actually help anyone or anything in any way whatsoever.  A server-client arrangement is so utterly simple as an idea no-one needs analogies, <i>of any kind at all</i>, to understand."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1580408825,"post_id":30682408,"comment_id":106097617,"body_markdown":"&quot;servlet&quot; was to my understanding chosen to be similar to &quot;applet&quot; which was the hottest hotness at that time for client side browser code execution.   And servlets run in a web server.","body":"&quot;servlet&quot; was to my understanding chosen to be similar to &quot;applet&quot; which was the hottest hotness at that time for client side browser code execution.   And servlets run in a web server."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1590824064,"post_id":30682408,"comment_id":109831419,"body_markdown":"@Thorbj&#248;rnRavnAndersen Ah. Yes, it may well be a more specific question than I realised.","body":"@Thorbj&#248;rnRavnAndersen Ah. Yes, it may well be a more specific question than I realised."}],"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"comment_count":7,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1577019189,"creation_date":1433590899,"answer_id":30682408,"question_id":7213541,"body_markdown":"In addition to the above, and just to point out the bleedin&#39; obvious...\r\n\r\nTo many this is hyper obvious, but to someone used to writing apps which are just run and then end: a servlet spends most of its time hanging around doing nothing... waiting to be sent something, a request, and then responding to it.  For this reason a servlet has a lifetime: it is initalised and then waits around, responding to anything thrown at it, and is then destroyed.  Which implies that it has to be created (and later destroyed) by something else (a framework), that it runs in its own thread or process, and that it does nothing unless asked to. And also that, by some means or other, a mechanism must be implemented whereby this &quot;entity&quot; can &quot;listen&quot; for requests.\r\n\r\nI suggest that reading about threads, processes and sockets will throw some light on this: it&#39;s quite different to the way a basic &quot;hello world&quot; app functions.\r\n\r\nIt could be argued that the term &quot;server&quot; or &quot;servlet&quot; is a bit of an overkill. A more rational and simpler name might be &quot;responder&quot;. The reason for the choice of the term &quot;server&quot; is historical: the first such arrangements were &quot;file servers&quot;, where multiple user/client terminals would ask for a specific file from a central machine, and this file would then be &quot;served up&quot; like a book or a plate of fish and chips.","title":"What is Java Servlet?","body":"<p>In addition to the above, and just to point out the bleedin' obvious...</p>\n\n<p>To many this is hyper obvious, but to someone used to writing apps which are just run and then end: a servlet spends most of its time hanging around doing nothing... waiting to be sent something, a request, and then responding to it.  For this reason a servlet has a lifetime: it is initalised and then waits around, responding to anything thrown at it, and is then destroyed.  Which implies that it has to be created (and later destroyed) by something else (a framework), that it runs in its own thread or process, and that it does nothing unless asked to. And also that, by some means or other, a mechanism must be implemented whereby this \"entity\" can \"listen\" for requests.</p>\n\n<p>I suggest that reading about threads, processes and sockets will throw some light on this: it's quite different to the way a basic \"hello world\" app functions.</p>\n\n<p>It could be argued that the term \"server\" or \"servlet\" is a bit of an overkill. A more rational and simpler name might be \"responder\". The reason for the choice of the term \"server\" is historical: the first such arrangements were \"file servers\", where multiple user/client terminals would ask for a specific file from a central machine, and this file would then be \"served up\" like a book or a plate of fish and chips.</p>\n"},{"comments":[{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":1,"creation_date":1469990999,"post_id":34012384,"comment_id":64753875,"body_markdown":"That&#39;s a really good tutorial that explains concepts from the basic","body":"That&#39;s a really good tutorial that explains concepts from the basic"}],"tags":[],"owner":{"account_id":3881339,"reputation":880,"user_id":3213745,"accept_rate":50,"display_name":"Sandun Madola"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1503469743,"creation_date":1448942606,"answer_id":34012384,"question_id":7213541,"body_markdown":"If you are beginner, I think this tutorial may give basic idea about **[What Servlet is ...][1]** \r\n\r\n*Some valuable points are below from the given link.*\r\n\r\nServlet technology is used to create web application which resides at server side and generates dynamic web page.\r\n\r\n**Servlet can be described in many ways, depending on the context.**\r\n\r\n - Servlet is a technology i.e. used to create web application.\r\n - Servlet is an API that provides many interfaces and classes including\r\n   documentations.\r\n - Servlet is an interface that must be implemented for creating any\r\n   servlet.\r\n - Servlet is a class that extend the capabilities of the servers and\r\n   respond to the incoming request. It can respond to any type of\r\n   requests.\r\n - Servlet is a web component that is deployed on the server to create\r\n   dynamic web page.\r\n   Reference:[Here][1].\r\n\r\n\r\n  [1]: http://www.javatpoint.com/servlet-tutorial","title":"What is Java Servlet?","body":"<p>If you are beginner, I think this tutorial may give basic idea about <strong><a href=\"http://www.javatpoint.com/servlet-tutorial\" rel=\"nofollow noreferrer\">What Servlet is ...</a></strong> </p>\n\n<p><em>Some valuable points are below from the given link.</em></p>\n\n<p>Servlet technology is used to create web application which resides at server side and generates dynamic web page.</p>\n\n<p><strong>Servlet can be described in many ways, depending on the context.</strong></p>\n\n<ul>\n<li>Servlet is a technology i.e. used to create web application.</li>\n<li>Servlet is an API that provides many interfaces and classes including\ndocumentations.</li>\n<li>Servlet is an interface that must be implemented for creating any\nservlet.</li>\n<li>Servlet is a class that extend the capabilities of the servers and\nrespond to the incoming request. It can respond to any type of\nrequests.</li>\n<li>Servlet is a web component that is deployed on the server to create\ndynamic web page.\nReference:<a href=\"http://www.javatpoint.com/servlet-tutorial\" rel=\"nofollow noreferrer\">Here</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8974122,"reputation":1683,"user_id":6691610,"display_name":"David Pham"},"comment_count":0,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1481184598,"creation_date":1481180056,"answer_id":41033515,"question_id":7213541,"body_markdown":"You just got the answer for a normally servlet. However, I want to share you about something about Servlet 3.0 \r\n\r\n&gt; **What is first a Servlet?**\r\n&gt; \r\n&gt; A servlet is a Web component that is managed by a container and\r\n&gt; generates dynamic content. Servlets are Java classes that are compiled\r\n&gt; to byte code that can be loaded dynamically into and run by a Java\r\n&gt; technology-enabled Web server or Servlet container.\r\n&gt; \r\n&gt; Servlet 3.0 is an update to the existing Servlet 2.5 specification.\r\n&gt; Servlet 3.0 required API of the Java Platform, Enterprise Edition 6.\r\n&gt; Servlet 3.0 is focussed on extensibility and web framework\r\n&gt; pluggability. Servlet 3.0 bring you up some extensions such as Ease of\r\n&gt; Development (EoD), Pluggability, Async Support and Security\r\n&gt; Enhancements\r\n&gt; \r\n&gt; **Ease of Development**\r\n&gt; \r\n&gt; You can declare Servlets, Filter, Listeners, Init Params, and almost\r\n&gt; everything can be configured by using annotations\r\n&gt; \r\n&gt; **Pluggability**\r\n&gt; \r\n&gt; You can create a sub-project or a module with a web-fragment.xml. It\r\n&gt; means that it allows to implement pluggable functional requirements\r\n&gt; independently.\r\n&gt; \r\n&gt; **Async Support**\r\n&gt; \r\n&gt; Servlet 3.0 provides the ability of asynchronous processing, for\r\n&gt; example: Waiting for a resource to become available, Generating\r\n&gt; response asynchronously.\r\n&gt; \r\n&gt; **Security Enhancements**\r\n&gt; \r\n&gt; Support for the authenticate, login and logout servlet security\r\n&gt; methods\r\n\r\nI found it from [Java Servlet Tutorial][1]\r\n\r\n\r\n  [1]: http://javabycode.com/java-frameworks/servlet-jsp/java-servlet-tutorial-java-servlet-example.html","title":"What is Java Servlet?","body":"<p>You just got the answer for a normally servlet. However, I want to share you about something about Servlet 3.0 </p>\n\n<blockquote>\n  <p><strong>What is first a Servlet?</strong></p>\n  \n  <p>A servlet is a Web component that is managed by a container and\n  generates dynamic content. Servlets are Java classes that are compiled\n  to byte code that can be loaded dynamically into and run by a Java\n  technology-enabled Web server or Servlet container.</p>\n  \n  <p>Servlet 3.0 is an update to the existing Servlet 2.5 specification.\n  Servlet 3.0 required API of the Java Platform, Enterprise Edition 6.\n  Servlet 3.0 is focussed on extensibility and web framework\n  pluggability. Servlet 3.0 bring you up some extensions such as Ease of\n  Development (EoD), Pluggability, Async Support and Security\n  Enhancements</p>\n  \n  <p><strong>Ease of Development</strong></p>\n  \n  <p>You can declare Servlets, Filter, Listeners, Init Params, and almost\n  everything can be configured by using annotations</p>\n  \n  <p><strong>Pluggability</strong></p>\n  \n  <p>You can create a sub-project or a module with a web-fragment.xml. It\n  means that it allows to implement pluggable functional requirements\n  independently.</p>\n  \n  <p><strong>Async Support</strong></p>\n  \n  <p>Servlet 3.0 provides the ability of asynchronous processing, for\n  example: Waiting for a resource to become available, Generating\n  response asynchronously.</p>\n  \n  <p><strong>Security Enhancements</strong></p>\n  \n  <p>Support for the authenticate, login and logout servlet security\n  methods</p>\n</blockquote>\n\n<p>I found it from <a href=\"http://javabycode.com/java-frameworks/servlet-jsp/java-servlet-tutorial-java-servlet-example.html\" rel=\"nofollow noreferrer\">Java Servlet Tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":10753100,"reputation":364,"user_id":7911790,"display_name":"Navnath Adsul"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1494564923,"creation_date":1494564923,"answer_id":43929552,"question_id":7213541,"body_markdown":"Servlet is server side technology which is used to create **dynamic web page** in web application. Actually servlet is an api which consist of group of classes and interfaces, which has some functionality. When we use Servlet API we can use predefined functionality of servlet classes and interfaces.\r\n\r\n**Lifecycle of Servlet:**\r\n\r\nWeb container maintains the lifecycle of servlet instance.\r\n\r\n**1 . Servlet class loaded**\r\n\r\n**2 . Servlet instance created**\r\n\r\n**3 . init() method is invoked**\r\n\r\n**4 . service() method invoked**\r\n\r\n**5 . destroy() method invoked**\r\n\r\n\r\nWhen request raise by client(browser) then web-container checks whether the servlet is running or not if yes then it invoke the service() method and give the response to browser..\r\n\r\nWhen servlet is not running then web-container follow the following steps..\r\n\r\n**1. classloader load the servlet class**  \r\n\r\n**2. Instantiates the servlet**\r\n\r\n**3. Initializes the servlet**\r\n\r\n**4.invoke the service() method**\r\n\r\nafter serving the request web-container wait for specific time, in this time if request comes then it  call only  service() method otherwise it call destroy() method..   \r\n  \r\n","title":"What is Java Servlet?","body":"<p>Servlet is server side technology which is used to create <strong>dynamic web page</strong> in web application. Actually servlet is an api which consist of group of classes and interfaces, which has some functionality. When we use Servlet API we can use predefined functionality of servlet classes and interfaces.</p>\n\n<p><strong>Lifecycle of Servlet:</strong></p>\n\n<p>Web container maintains the lifecycle of servlet instance.</p>\n\n<p><strong>1 . Servlet class loaded</strong></p>\n\n<p><strong>2 . Servlet instance created</strong></p>\n\n<p><strong>3 . init() method is invoked</strong></p>\n\n<p><strong>4 . service() method invoked</strong></p>\n\n<p><strong>5 . destroy() method invoked</strong></p>\n\n<p>When request raise by client(browser) then web-container checks whether the servlet is running or not if yes then it invoke the service() method and give the response to browser..</p>\n\n<p>When servlet is not running then web-container follow the following steps..</p>\n\n<p><strong>1. classloader load the servlet class</strong>  </p>\n\n<p><strong>2. Instantiates the servlet</strong></p>\n\n<p><strong>3. Initializes the servlet</strong></p>\n\n<p><strong>4.invoke the service() method</strong></p>\n\n<p>after serving the request web-container wait for specific time, in this time if request comes then it  call only  service() method otherwise it call destroy() method..   </p>\n"},{"comments":[{"owner":{"account_id":1851431,"reputation":44947,"user_id":1677912,"accept_rate":82,"display_name":"Mogsdad"},"score":1,"creation_date":1516770844,"post_id":48413138,"comment_id":83820155,"body_markdown":"A link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why its there, then quote the most relevant part of the page you&#39;re linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](//stackoverflow.com/help/deleted-answers)","body":"A link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why its there, then quote the most relevant part of the page you&#39;re linking to in case the target page is unavailable. <a href=\"//stackoverflow.com/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1580408948,"post_id":48413138,"comment_id":106097658,"body_markdown":"Note that the world has moved on.  In 2020 we use annotations on the code instead of central string based configurations file in XML.","body":"Note that the world has moved on.  In 2020 we use annotations on the code instead of central string based configurations file in XML."}],"tags":[],"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1516774786,"creation_date":1516754396,"answer_id":48413138,"question_id":7213541,"body_markdown":"**What is a Servlet?**\r\n\r\n* A servlet is simply a class which responds to a particular type of network request - most commonly an HTTP request. \r\n* Basically servlets are usually used to implement web applications - but there are also various frameworks which operate on top of servlets (e.g. Struts) to give a higher-level abstraction than the &quot;here&#39;s an HTTP request, write to this HTTP response&quot; level which servlets provide.\r\n* Servlets run in a servlet container which handles the networking side (e.g. parsing an HTTP request, connection handling etc). One of the best-known open source servlet containers is Tomcat.\r\n\r\n* In a request/response paradigm, a web server can serve only static pages to the client\r\n* To serve dynamic pages, a we require Servlets.\r\n* Servlet is nothing but a Java program\r\n* This Java program doesnt have a main method. It only has some callback methods.\r\n* How does the web server communicate to the servlet? Via container or Servlet engine.\r\n* Servlet lives and dies within a web container.\r\n* Web container is responsible for invoking methods in a servlets. It knows what callback methods the Servlet has.\r\n\r\n**Flow of Request**\r\n\r\n* Client sends HTTP request to Web server\r\n* Web server forwards that HTTP request to web container.\r\n* Since Servlet can not understand HTTP, its a Java program, it only understands objects, so web container converts that request into valid request object\r\n* Web container spins a thread for each request \r\n* All the business logic goes inside doGet() or doPost() callback methods inside the servlets\r\n* Servlet builds a Java response object and sends it to the container. It converts that to HTTP response again to send it to the client\r\n\r\n**How does the Container know which Servlet client has requested for?**\r\n\r\n* Theres a file called web.xml\r\n* This is the master file for a web container\r\n* You have information about servlet in this file- \r\n    * **servlets**\r\n        * Servlet-name\r\n        * Servlet-class\r\n    * **servlet-mappings**- the path like /Login or /Notifications is mapped here in &lt;url-pattern&gt;\r\n        * Servlet-name\r\n        * url-pattern\r\n    * and so on\r\n\r\n* Every servlet in the web app should have an entry into this file\r\n* So this lookup happens like- url-pattern -&gt; servlet-name -&gt; servlet-class\r\n\r\n**How to &quot;install&quot; Servlets?**\r\n* Well, the servlet objects are inherited from the library- javax.servlet.* . Tomcat and Spring can be used to utilize these objects to fit the use case.\r\n\r\nRef- Watch this on 1.5x- https://www.youtube.com/watch?v=tkFRGdUgCsE . This has an awesome explanation.","title":"What is Java Servlet?","body":"<p><strong>What is a Servlet?</strong></p>\n\n<ul>\n<li>A servlet is simply a class which responds to a particular type of network request - most commonly an HTTP request. </li>\n<li>Basically servlets are usually used to implement web applications - but there are also various frameworks which operate on top of servlets (e.g. Struts) to give a higher-level abstraction than the \"here's an HTTP request, write to this HTTP response\" level which servlets provide.</li>\n<li><p>Servlets run in a servlet container which handles the networking side (e.g. parsing an HTTP request, connection handling etc). One of the best-known open source servlet containers is Tomcat.</p></li>\n<li><p>In a request/response paradigm, a web server can serve only static pages to the client</p></li>\n<li>To serve dynamic pages, a we require Servlets.</li>\n<li>Servlet is nothing but a Java program</li>\n<li>This Java program doesnt have a main method. It only has some callback methods.</li>\n<li>How does the web server communicate to the servlet? Via container or Servlet engine.</li>\n<li>Servlet lives and dies within a web container.</li>\n<li>Web container is responsible for invoking methods in a servlets. It knows what callback methods the Servlet has.</li>\n</ul>\n\n<p><strong>Flow of Request</strong></p>\n\n<ul>\n<li>Client sends HTTP request to Web server</li>\n<li>Web server forwards that HTTP request to web container.</li>\n<li>Since Servlet can not understand HTTP, its a Java program, it only understands objects, so web container converts that request into valid request object</li>\n<li>Web container spins a thread for each request </li>\n<li>All the business logic goes inside doGet() or doPost() callback methods inside the servlets</li>\n<li>Servlet builds a Java response object and sends it to the container. It converts that to HTTP response again to send it to the client</li>\n</ul>\n\n<p><strong>How does the Container know which Servlet client has requested for?</strong></p>\n\n<ul>\n<li>Theres a file called web.xml</li>\n<li>This is the master file for a web container</li>\n<li><p>You have information about servlet in this file- </p>\n\n<ul>\n<li><strong>servlets</strong>\n\n<ul>\n<li>Servlet-name</li>\n<li>Servlet-class</li>\n</ul></li>\n<li><strong>servlet-mappings</strong>- the path like /Login or /Notifications is mapped here in \n\n<ul>\n<li>Servlet-name</li>\n<li>url-pattern</li>\n</ul></li>\n<li>and so on</li>\n</ul></li>\n<li><p>Every servlet in the web app should have an entry into this file</p></li>\n<li>So this lookup happens like- url-pattern -> servlet-name -> servlet-class</li>\n</ul>\n\n<p><strong>How to \"install\" Servlets?</strong>\n* Well, the servlet objects are inherited from the library- javax.servlet.* . Tomcat and Spring can be used to utilize these objects to fit the use case.</p>\n\n<p>Ref- Watch this on 1.5x- <a href=\"https://www.youtube.com/watch?v=tkFRGdUgCsE\" rel=\"noreferrer\">https://www.youtube.com/watch?v=tkFRGdUgCsE</a> . This has an awesome explanation.</p>\n"},{"tags":[],"owner":{"account_id":11045803,"reputation":1246,"user_id":8111997,"display_name":"Poorna Senani Gamage"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1520099569,"creation_date":1520099569,"answer_id":49087321,"question_id":7213541,"body_markdown":"Java Servlets are server-side Java program modules that procedure and answer customer demands and actualize the servlet interface. It helps in improving Web server usefulness with negligible overhead, upkeep and support. \r\n\r\nA servlet goes about as a mediator between the customer and the server. As servlet modules keep running on the server, they can get and react to demands made by the customer. Demand and reaction objects of the servlet offer a helpful method to deal with HTTP asks for and send content information back to the customer. \r\n\r\nSince a servlet is coordinated with the Java dialect, it additionally has all the Java highlights, for example, high movability, stage autonomy, security and Java database availability.","title":"What is Java Servlet?","body":"<p>Java Servlets are server-side Java program modules that procedure and answer customer demands and actualize the servlet interface. It helps in improving Web server usefulness with negligible overhead, upkeep and support. </p>\n\n<p>A servlet goes about as a mediator between the customer and the server. As servlet modules keep running on the server, they can get and react to demands made by the customer. Demand and reaction objects of the servlet offer a helpful method to deal with HTTP asks for and send content information back to the customer. </p>\n\n<p>Since a servlet is coordinated with the Java dialect, it additionally has all the Java highlights, for example, high movability, stage autonomy, security and Java database availability.</p>\n"},{"tags":[],"owner":{"account_id":213709,"reputation":8276,"user_id":467240,"accept_rate":57,"display_name":"mtyson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540849064,"creation_date":1540849064,"answer_id":53054206,"question_id":7213541,"body_markdown":"As [this article][1] describes, a Servlet is a standardized way of extending a Java server, and accessing its capabilities.\r\n\r\nEach Servlet can be seen as a tiny server (hence the name), that gets access to the request and response modelled in Java code, along with other context data, like the Session.\r\n\r\nWith these in hand, the Java code of the servlet can interface with whatever it needs to to render a response, including handing off to a JSP page for generating a HTML view.\r\n\r\n\r\n  [1]: https://www.javaworld.com/article/3313114/learn-java/what-is-a-java-servlet-request-handling-for-java-web-applications.html","title":"What is Java Servlet?","body":"<p>As <a href=\"https://www.javaworld.com/article/3313114/learn-java/what-is-a-java-servlet-request-handling-for-java-web-applications.html\" rel=\"nofollow noreferrer\">this article</a> describes, a Servlet is a standardized way of extending a Java server, and accessing its capabilities.</p>\n\n<p>Each Servlet can be seen as a tiny server (hence the name), that gets access to the request and response modelled in Java code, along with other context data, like the Session.</p>\n\n<p>With these in hand, the Java code of the servlet can interface with whatever it needs to to render a response, including handing off to a JSP page for generating a HTML view.</p>\n"},{"tags":[],"owner":{"account_id":15979473,"reputation":121,"user_id":11531469,"display_name":"kundus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1559410413,"creation_date":1559410413,"answer_id":56408975,"question_id":7213541,"body_markdown":"Servlets are Java classes that run certain functions when a website user requests a URL from a server. These functions can complete tasks like saving data to a database, executing logic, and returning information (like JSON data) needed to load a page. \r\n\r\nMost Java programs use a `main()` method that executes code when the program in run. Java servlets contain `doGet()` and `doPost()` methods that act just like the `main()` method. These functions are executed when the user makes a `GET` or `POST` request to the URL mapped to that servlet. So the user can load a page for a `GET` request, or store data from a `POST` request. \r\n\r\nWhen the user sends a `GET` or `POST` request, the server reads the `@WebServlet` at the top of each servlet class in your directory to decide which servlet class to call. For example, let&#39;s say you have a ChatBox class and there&#39;s this at the top:\r\n\r\n    @WebServlet(&quot;/chat&quot;)\r\n    public class ChatBox extends HttpServlet {\r\n\r\nWhen a user requests the `/chat` URL, your `ChatBox` class with be executed. \r\n\r\n    ","title":"What is Java Servlet?","body":"<p>Servlets are Java classes that run certain functions when a website user requests a URL from a server. These functions can complete tasks like saving data to a database, executing logic, and returning information (like JSON data) needed to load a page. </p>\n\n<p>Most Java programs use a <code>main()</code> method that executes code when the program in run. Java servlets contain <code>doGet()</code> and <code>doPost()</code> methods that act just like the <code>main()</code> method. These functions are executed when the user makes a <code>GET</code> or <code>POST</code> request to the URL mapped to that servlet. So the user can load a page for a <code>GET</code> request, or store data from a <code>POST</code> request. </p>\n\n<p>When the user sends a <code>GET</code> or <code>POST</code> request, the server reads the <code>@WebServlet</code> at the top of each servlet class in your directory to decide which servlet class to call. For example, let's say you have a ChatBox class and there's this at the top:</p>\n\n<pre><code>@WebServlet(\"/chat\")\npublic class ChatBox extends HttpServlet {\n</code></pre>\n\n<p>When a user requests the <code>/chat</code> URL, your <code>ChatBox</code> class with be executed. </p>\n"}],"owner":{"account_id":425066,"reputation":9181,"user_id":805437,"accept_rate":55,"display_name":"hardik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220732,"favorite_count":0,"down_vote_count":2,"up_vote_count":393,"accepted_answer_id":7213582,"answer_count":12,"score":391,"last_activity_date":1671838991,"creation_date":1314435875,"question_id":7213541,"body_markdown":"I read many articles to understand Java servlet but I did not succeed.\r\n\r\nCan you please give brief introduction of Java servlets (in easy language). What is a servlet? What are the advantages?\r\n\r\nI can&#39;t understand the difference between server-side programming languages (PHP, ASP) and servlets.","title":"What is Java Servlet?","body":"<p>I read many articles to understand Java servlet but I did not succeed.</p>\n<p>Can you please give brief introduction of Java servlets (in easy language). What is a servlet? What are the advantages?</p>\n<p>I can't understand the difference between server-side programming languages (PHP, ASP) and servlets.</p>\n"},{"tags":["java","immutability","final"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":1,"creation_date":1346958987,"post_id":12306651,"comment_id":16512999,"body_markdown":"`java.math.BigInteger` class is example, it&#39;s values are immutable but it is not final.","body":"<code>java.math.BigInteger</code> class is example, it&#39;s values are immutable but it is not final."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1346960960,"post_id":12306651,"comment_id":16513691,"body_markdown":"@Nandkumar If you have a `BigInteger`, you don&#39;t know if it is immutable or not. It&#39;s a messed up design. / `java.io.File` is a more interesting example.","body":"@Nandkumar If you have a <code>BigInteger</code>, you don&#39;t know if it is immutable or not. It&#39;s a messed up design. / <code>java.io.File</code> is a more interesting example."},{"owner":{"account_id":396691,"reputation":1552,"user_id":760393,"accept_rate":71,"display_name":"Ra&#250;l"},"score":1,"creation_date":1428668418,"post_id":12306651,"comment_id":47272278,"body_markdown":"Don&#39;t allow subclasses to override methods - The simplest way to do this is to declare the class as final. A more sophisticated approach is to make the constructor private and construct instances in factory methods - from - https://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html","body":"Don&#39;t allow subclasses to override methods - The simplest way to do this is to declare the class as final. A more sophisticated approach is to make the constructor private and construct instances in factory methods - from - <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/imstrat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1460650936,"post_id":12306651,"comment_id":60853290,"body_markdown":"@TomHawtin-tackline can you explain (or link to an explanation) of why `java.io.File` is an interesting example?","body":"@TomHawtin-tackline can you explain (or link to an explanation) of why <code>java.io.File</code> is an interesting example?"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1460654502,"post_id":12306651,"comment_id":60855359,"body_markdown":"@mkobit `File` is interesting because it is likely to be trusted to be immutable, and therefore lead to TOCTOU (Time Of Check/Time Of Use) attacks. Trusted code checks that the `File` has an acceptable path and then uses the path. A subclassed `File` can change value between check and use.","body":"@mkobit <code>File</code> is interesting because it is likely to be trusted to be immutable, and therefore lead to TOCTOU (Time Of Check/Time Of Use) attacks. Trusted code checks that the <code>File</code> has an acceptable path and then uses the path. A subclassed <code>File</code> can change value between check and use."},{"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"score":1,"creation_date":1586669700,"post_id":12306651,"comment_id":108208983,"body_markdown":"`Make the class final` or Make sure that all subclasses are immutable","body":"<code>Make the class final</code> or Make sure that all subclasses are immutable"}],"answers":[{"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":2,"creation_date":1346958017,"post_id":12306658,"comment_id":16512653,"body_markdown":"That&#39;s true, but why is it necessary here?","body":"That&#39;s true, but why is it necessary here?"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1346958113,"post_id":12306658,"comment_id":16512690,"body_markdown":"@templatetypedef: You are too fast. I am editing my answer with supporting points.","body":"@templatetypedef: You are too fast. I am editing my answer with supporting points."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":4,"creation_date":1346958245,"post_id":12306658,"comment_id":16512734,"body_markdown":"Right now your answer is so vague that I don&#39;t think it answers the question at all.  What do you mean by &quot;it may change the state of the class due to inheritance principles?&quot;  Unless you already know why you should mark it `final`, I can&#39;t see how this answer helps.","body":"Right now your answer is so vague that I don&#39;t think it answers the question at all.  What do you mean by &quot;it may change the state of the class due to inheritance principles?&quot;  Unless you already know why you should mark it <code>final</code>, I can&#39;t see how this answer helps."}],"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1346958643,"creation_date":1346957995,"answer_id":12306658,"question_id":12306651,"body_markdown":"That constraints other classes extending your class.\r\n\r\nfinal class can&#39;t be extended by other classes.\r\n\r\nIf a class extend the class you want to make as immutable, it may change the state of the class due to inheritance principles.\r\n\r\nJust clarify &quot;it may change&quot;. Subclass can override superclass behaviour like using method overriding (like templatetypedef/ Ted Hop answer)","title":"Why would one declare an immutable class final in Java?","body":"<p>That constraints other classes extending your class.</p>\n\n<p>final class can't be extended by other classes.</p>\n\n<p>If a class extend the class you want to make as immutable, it may change the state of the class due to inheritance principles.</p>\n\n<p>Just clarify \"it may change\". Subclass can override superclass behaviour like using method overriding (like templatetypedef/ Ted Hop answer)</p>\n"},{"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":1,"creation_date":1346958697,"post_id":12306676,"comment_id":16512887,"body_markdown":"Although you&#39;re right, it&#39;s not clear why the fact that you can add mutable behavior would necessarily break things if the base class fields are all private and final.  The real hazard is that the subclass might turn a previously immutable object into a mutable object by overriding the behavior.","body":"Although you&#39;re right, it&#39;s not clear why the fact that you can add mutable behavior would necessarily break things if the base class fields are all private and final.  The real hazard is that the subclass might turn a previously immutable object into a mutable object by overriding the behavior."}],"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1346958077,"creation_date":1346958077,"answer_id":12306676,"question_id":12306651,"body_markdown":"If it&#39;s not final then anyone could extend the class and do whatever they like, like providing setters, shadowing your private variables, and basically making it mutable.","title":"Why would one declare an immutable class final in Java?","body":"<p>If it's not final then anyone could extend the class and do whatever they like, like providing setters, shadowing your private variables, and basically making it mutable.</p>\n"},{"comments":[{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":18,"creation_date":1346959599,"post_id":12306696,"comment_id":16513212,"body_markdown":"If I do                                                          Mutable m = new Mutable(4);\nm.setValue(5);\nHere, I am playing around with Mutable class object, not Immutable class object.So, I am still confused why Immutable class is not immutable","body":"If I do                                                          Mutable m = new Mutable(4); m.setValue(5); Here, I am playing around with Mutable class object, not Immutable class object.So, I am still confused why Immutable class is not immutable"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":27,"creation_date":1346959829,"post_id":12306696,"comment_id":16513290,"body_markdown":"@anand- Imagine you have a function that takes an `Immutable` an argument.  I can pass a `Mutable` object to that function, since `Mutable extends Immutable`.  Inside that function, while you think your object is immutable, I could have a secondary thread that goes and changes the value as the function runs.  I could also give you a `Mutable` object that the function stores, then later change its value externally.  In other words, if your function assumes the value is immutable, it could easily break, since I could give you a mutable object and change it later on.  Does that make sense?","body":"@anand- Imagine you have a function that takes an <code>Immutable</code> an argument.  I can pass a <code>Mutable</code> object to that function, since <code>Mutable extends Immutable</code>.  Inside that function, while you think your object is immutable, I could have a secondary thread that goes and changes the value as the function runs.  I could also give you a <code>Mutable</code> object that the function stores, then later change its value externally.  In other words, if your function assumes the value is immutable, it could easily break, since I could give you a mutable object and change it later on.  Does that make sense?"},{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":0,"creation_date":1346960520,"post_id":12306696,"comment_id":16513515,"body_markdown":"@templatetypedef- it might sound stupid, but really i am still not clear..lets take an example say I have method void fun(Immutable i)..I pass this method Mutable object say m..now how can I change the object..Can you please explain it with reference to the code example or if you can give some other example, I am fine with that also..","body":"@templatetypedef- it might sound stupid, but really i am still not clear..lets take an example say I have method void fun(Immutable i)..I pass this method Mutable object say m..now how can I change the object..Can you please explain it with reference to the code example or if you can give some other example, I am fine with that also.."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":8,"creation_date":1346960729,"post_id":12306696,"comment_id":16513595,"body_markdown":"@anand- The method that you pass the `Mutable` object into won&#39;t change the object.  The concern is that that method might assume that the object is immutable when it really isn&#39;t.  For example, the method might assume that, since it thinks the object is immutable, it can be used as the key in a `HashMap`.  I could then break that function by passing in a `Mutable`, waiting for it to store the object as a key, then changing the `Mutable` object.  Now, lookups in that `HashMap` will fail, because I changed the key associated with the object.  Does that make sense?","body":"@anand- The method that you pass the <code>Mutable</code> object into won&#39;t change the object.  The concern is that that method might assume that the object is immutable when it really isn&#39;t.  For example, the method might assume that, since it thinks the object is immutable, it can be used as the key in a <code>HashMap</code>.  I could then break that function by passing in a <code>Mutable</code>, waiting for it to store the object as a key, then changing the <code>Mutable</code> object.  Now, lookups in that <code>HashMap</code> will fail, because I changed the key associated with the object.  Does that make sense?"},{"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"score":3,"creation_date":1346961286,"post_id":12306696,"comment_id":16513802,"body_markdown":"@templatetypedef- Yes, I got it now..must say that was an awesome explanation..took a little time to grasp it though","body":"@templatetypedef- Yes, I got it now..must say that was an awesome explanation..took a little time to grasp it though"},{"owner":{"account_id":1123316,"reputation":6969,"user_id":1111130,"accept_rate":65,"display_name":"Sunny Gupta"},"score":0,"creation_date":1347000017,"post_id":12306696,"comment_id":16522522,"body_markdown":"@templatetypedef but after inheriting the immutable class also we are not able to change the variable named &quot;value&quot;. Am I right??","body":"@templatetypedef but after inheriting the immutable class also we are not able to change the variable named &quot;value&quot;. Am I right??"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":1,"creation_date":1347036645,"post_id":12306696,"comment_id":16537114,"body_markdown":"@SAM- That&#39;s correct.  However, it doesn&#39;t really matter,  since the overridden functions never reference that variable again.","body":"@SAM- That&#39;s correct.  However, it doesn&#39;t really matter,  since the overridden functions never reference that variable again."},{"owner":{"account_id":231971,"reputation":3364,"user_id":496501,"accept_rate":100,"display_name":"Justin Ohms"},"score":1,"creation_date":1362691510,"post_id":12306696,"comment_id":21562214,"body_markdown":"You don&#39;t need to make the entire class final just the getter... public final int getValue()","body":"You don&#39;t need to make the entire class final just the getter... public final int getValue()"},{"owner":{"account_id":10891,"reputation":30989,"user_id":20770,"accept_rate":74,"display_name":"cdeszaq"},"score":0,"creation_date":1513185866,"post_id":12306696,"comment_id":82558845,"body_markdown":"@JustinOhms For the `HashMap` example, the `hashCode` method would need to be made `final` as well, and anything else inherited from `Object` that could be impactful, which is why making the class `final` is much simpler.","body":"@JustinOhms For the <code>HashMap</code> example, the <code>hashCode</code> method would need to be made <code>final</code> as well, and anything else inherited from <code>Object</code> that could be impactful, which is why making the class <code>final</code> is much simpler."},{"owner":{"account_id":231971,"reputation":3364,"user_id":496501,"accept_rate":100,"display_name":"Justin Ohms"},"score":0,"creation_date":1513201760,"post_id":12306696,"comment_id":82566611,"body_markdown":"@cdeszaq I agree with your evaluation of the HashMap example, although while making the entire class final might be simpler that does not mean it is correct. Making the entire class final implements an architecture design beyond the minimal needed to accomplish the functionality.  Since it is likely that someone would use this kind of structure in a library (for others to use) it is courteous to make minimal assumptions about use and impose the minimal restrictions necessary to ensure proper operation of the library.  Even if it ultimately requires more work by the library author.","body":"@cdeszaq I agree with your evaluation of the HashMap example, although while making the entire class final might be simpler that does not mean it is correct. Making the entire class final implements an architecture design beyond the minimal needed to accomplish the functionality.  Since it is likely that someone would use this kind of structure in a library (for others to use) it is courteous to make minimal assumptions about use and impose the minimal restrictions necessary to ensure proper operation of the library.  Even if it ultimately requires more work by the library author."},{"owner":{"account_id":10891,"reputation":30989,"user_id":20770,"accept_rate":74,"display_name":"cdeszaq"},"score":0,"creation_date":1513270374,"post_id":12306696,"comment_id":82598728,"body_markdown":"@JustinOhms I 100% agree. Personally I hate restricting &quot;downstream&quot; use. If someone wants to break something, they can. So the purpose is not to make it impossible to do the wrong thing, just to make it hard. `private final` members is enough of a barrier in most cases. I only called out the other (often invisible) methods that have bitten me in the past, like `hashCode` so that they were not forgotten ;-)","body":"@JustinOhms I 100% agree. Personally I hate restricting &quot;downstream&quot; use. If someone wants to break something, they can. So the purpose is not to make it impossible to do the wrong thing, just to make it hard. <code>private final</code> members is enough of a barrier in most cases. I only called out the other (often invisible) methods that have bitten me in the past, like <code>hashCode</code> so that they were not forgotten ;-)"},{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":0,"creation_date":1523363185,"post_id":12306696,"comment_id":86521755,"body_markdown":"just a clarification, its not-immutable even if the state is updated by native class(where its declared) right? if a field is `private final` it will still be able to update in the same class hence breaking immutable...correct me if im wrong.","body":"just a clarification, its not-immutable even if the state is updated by native class(where its declared) right? if a field is <code>private final</code> it will still be able to update in the same class hence breaking immutable...correct me if im wrong."},{"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"score":1,"creation_date":1534885441,"post_id":12306696,"comment_id":90863941,"body_markdown":"Somehow I do not agree with this because with `Immutable immObj = (Immutable)obj;  ` - an immutable class&#39;s ORV is pointing to a mutable object, and it can do it because that&#39;s super class. Point here is that object is of mutable class and not immutable class, if you create the object of immutable class then it would always be immutable.","body":"Somehow I do not agree with this because with <code>Immutable immObj = (Immutable)obj;  </code> - an immutable class&#39;s ORV is pointing to a mutable object, and it can do it because that&#39;s super class. Point here is that object is of mutable class and not immutable class, if you create the object of immutable class then it would always be immutable."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1534887646,"post_id":12306696,"comment_id":90864706,"body_markdown":"@hagrawal The concern here is that if you have an object reference and the reference has type `Immutable`, you can&#39;t tell whether it&#39;s referring to an actual, honest-to-goodness `Immutable` object or whether it&#39;s pointing to a tricky `Mutable` object that can actually change over time. The cast here is perfectly safe, but hides the fact that an object reference that conveys that the object won&#39;t ever change actually points to something that really can change over time.","body":"@hagrawal The concern here is that if you have an object reference and the reference has type <code>Immutable</code>, you can&#39;t tell whether it&#39;s referring to an actual, honest-to-goodness <code>Immutable</code> object or whether it&#39;s pointing to a tricky <code>Mutable</code> object that can actually change over time. The cast here is perfectly safe, but hides the fact that an object reference that conveys that the object won&#39;t ever change actually points to something that really can change over time."},{"owner":{"account_id":3315004,"reputation":1317,"user_id":2787584,"display_name":"aaiezza"},"score":0,"creation_date":1542134529,"post_id":12306696,"comment_id":93457112,"body_markdown":"So I can definitely appreciate this answer, but even though I don&#39;t 100% agree with @Laurence Gonsalves answer, I can&#39;t help but bring up Mockito&#39;s need for a non-final class when mocking. How do you get around that?","body":"So I can definitely appreciate this answer, but even though I don&#39;t 100% agree with @Laurence Gonsalves answer, I can&#39;t help but bring up Mockito&#39;s need for a non-final class when mocking. How do you get around that?"},{"owner":{"account_id":9288944,"reputation":1498,"user_id":6897913,"display_name":"linjiejun"},"score":0,"creation_date":1548502472,"post_id":12306696,"comment_id":95569531,"body_markdown":"@Anand  Because!    obj and immObj  point to the same instance.","body":"@Anand  Because!    obj and immObj  point to the same instance."},{"owner":{"account_id":9288944,"reputation":1498,"user_id":6897913,"display_name":"linjiejun"},"score":0,"creation_date":1548502545,"post_id":12306696,"comment_id":95569543,"body_markdown":"@templatetypedef It&#39;s very clear and simple to understand!  Thank you ! It&#39;s help me.","body":"@templatetypedef It&#39;s very clear and simple to understand!  Thank you ! It&#39;s help me."},{"owner":{"account_id":7245967,"reputation":119,"user_id":5527839,"display_name":"Piyush Kumar"},"score":0,"creation_date":1575444380,"post_id":12306696,"comment_id":104564227,"body_markdown":"@templatetypedef very nice explanation. I have a doubt, if I am marking a class as final do I still need to mark the properties as final in a class?? I think we can skip that. Could you please confirm this.","body":"@templatetypedef very nice explanation. I have a doubt, if I am marking a class as final do I still need to mark the properties as final in a class?? I think we can skip that. Could you please confirm this."},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1575473221,"post_id":12306696,"comment_id":104579820,"body_markdown":"Whether a class is final and whether its fields are final are independent questions. If you want to make a class immutable, its best to do both. However, you might independently make a class final even if its not immutable.","body":"Whether a class is final and whether its fields are final are independent questions. If you want to make a class immutable, its best to do both. However, you might independently make a class final even if its not immutable."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1619070724,"post_id":12306696,"comment_id":118794493,"body_markdown":"According to this logic, an object of [`java.time.LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) or [`java.math.BigDecimal`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) etc. should not be called immutable while the documentation claims so. What&#39;s the truth?","body":"According to this logic, an object of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>java.math.BigDecimal</code></a> etc. should not be called immutable while the documentation claims so. What&#39;s the truth?"},{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":0,"creation_date":1619104193,"post_id":12306696,"comment_id":118809075,"body_markdown":"This is less of a hard and fast rule (its not immutable unless its final) and more of a guideline (to avoid surprises, mark your immutable classes final.)","body":"This is less of a hard and fast rule (its not immutable unless its final) and more of a guideline (to avoid surprises, mark your immutable classes final.)"},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1644169642,"post_id":12306696,"comment_id":125528997,"body_markdown":"A person can just as easily add a setter to `Immutable` and remove the `final` on the `int`. While a `final` class is easier to reason about since you can&#39;t extend it (although it can have parent classes), you have to trust that programmers won&#39;t do stuff like violate a core design principle used in the code, and if they do, a code review will catch it. Otherwise, testing might catch it. Immutable classes can benefit from inheritance and polymorphism as much as any other class. Immutable is a promise never to mutate an object. `final` isn&#39;t needed to ensure that.","body":"A person can just as easily add a setter to <code>Immutable</code> and remove the <code>final</code> on the <code>int</code>. While a <code>final</code> class is easier to reason about since you can&#39;t extend it (although it can have parent classes), you have to trust that programmers won&#39;t do stuff like violate a core design principle used in the code, and if they do, a code review will catch it. Otherwise, testing might catch it. Immutable classes can benefit from inheritance and polymorphism as much as any other class. Immutable is a promise never to mutate an object. <code>final</code> isn&#39;t needed to ensure that."}],"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":22,"down_vote_count":3,"up_vote_count":159,"is_accepted":true,"score":156,"last_activity_date":1671838897,"creation_date":1346958176,"answer_id":12306696,"question_id":12306651,"body_markdown":"If you don&#39;t mark the class `final`, it might be possible for me to suddenly make your seemingly immutable class actually mutable.  For example, consider this code:\r\n\r\n    public class Immutable {\r\n         private final int value;\r\n\r\n         public Immutable(int value) {\r\n             this.value = value;\r\n         }\r\n\r\n         public int getValue() {\r\n             return value;\r\n         }\r\n    }\r\n\r\nNow, suppose I do the following:\r\n\r\n    public class Mutable extends Immutable {\r\n         private int realValue;\r\n\r\n         public Mutable(int value) {\r\n             super(value);\r\n           \r\n             realValue = value;\r\n         }\r\n\r\n         public int getValue() {\r\n             return realValue;\r\n         }\r\n         public void setValue(int newValue) {\r\n             realValue = newValue;\r\n         }\r\n\r\n        public static void main(String[] arg){\r\n    \t    Mutable obj = new Mutable(4);\r\n    \t    Immutable immObj = (Immutable)obj;   \t    \t\r\n    \t    System.out.println(immObj.getValue());\r\n    \t    obj.setValue(8);\r\n    \t    System.out.println(immObj.getValue());\r\n        }\r\n    }\r\n\r\nNotice that in my `Mutable` subclass, I&#39;ve overridden the behavior of `getValue` to read a new, mutable field declared in my subclass.  As a result, your class, which initially looks immutable, really isn&#39;t immutable.  I can pass this `Mutable` object wherever an `Immutable` object is expected, which could do Very Bad Things to code assuming the object is truly immutable.  Marking the base class `final` prevents this from happening.","title":"Why would one declare an immutable class final in Java?","body":"<p>If you don't mark the class <code>final</code>, it might be possible for me to suddenly make your seemingly immutable class actually mutable.  For example, consider this code:</p>\n<pre><code>public class Immutable {\n     private final int value;\n\n     public Immutable(int value) {\n         this.value = value;\n     }\n\n     public int getValue() {\n         return value;\n     }\n}\n</code></pre>\n<p>Now, suppose I do the following:</p>\n<pre><code>public class Mutable extends Immutable {\n     private int realValue;\n\n     public Mutable(int value) {\n         super(value);\n       \n         realValue = value;\n     }\n\n     public int getValue() {\n         return realValue;\n     }\n     public void setValue(int newValue) {\n         realValue = newValue;\n     }\n\n    public static void main(String[] arg){\n        Mutable obj = new Mutable(4);\n        Immutable immObj = (Immutable)obj;              \n        System.out.println(immObj.getValue());\n        obj.setValue(8);\n        System.out.println(immObj.getValue());\n    }\n}\n</code></pre>\n<p>Notice that in my <code>Mutable</code> subclass, I've overridden the behavior of <code>getValue</code> to read a new, mutable field declared in my subclass.  As a result, your class, which initially looks immutable, really isn't immutable.  I can pass this <code>Mutable</code> object wherever an <code>Immutable</code> object is expected, which could do Very Bad Things to code assuming the object is truly immutable.  Marking the base class <code>final</code> prevents this from happening.</p>\n"},{"comments":[{"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"score":2,"creation_date":1346958405,"post_id":12306732,"comment_id":16512788,"body_markdown":"I think this is pretty much identical to my answer.","body":"I think this is pretty much identical to my answer."},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1346962025,"post_id":12306732,"comment_id":16514081,"body_markdown":"Yes, checked half way through posting, no new answers. And then when posted, there yours were, 1 minute before me. At least we did not use the same names for everything.","body":"Yes, checked half way through posting, no new answers. And then when posted, there yours were, 1 minute before me. At least we did not use the same names for everything."},{"owner":{"account_id":1123316,"reputation":6969,"user_id":1111130,"accept_rate":65,"display_name":"Sunny Gupta"},"score":0,"creation_date":1346999375,"post_id":12306732,"comment_id":16522310,"body_markdown":"One Correction : In FakeImmutable class, Constructor name should be FakeImmutable NOT Immutable","body":"One Correction : In FakeImmutable class, Constructor name should be FakeImmutable NOT Immutable"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1619070821,"post_id":12306732,"comment_id":118794513,"body_markdown":"According to this logic, an object of [`java.time.LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) or [`java.math.BigDecimal`](https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) etc. should not be called immutable while the documentation claims so. What&#39;s the truth?","body":"According to this logic, an object of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>java.math.BigDecimal</code></a> etc. should not be called immutable while the documentation claims so. What&#39;s the truth?"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1619080913,"post_id":12306732,"comment_id":118798274,"body_markdown":"I think https://stackoverflow.com/a/12327580/917548 explains much more details on Immutability. You can have a contract that says this class is immutable. With final you signal that this class is not supposed to be extended / enhanced.","body":"I think <a href=\"https://stackoverflow.com/a/12327580/917548\">stackoverflow.com/a/12327580/917548</a> explains much more details on Immutability. You can have a contract that says this class is immutable. With final you signal that this class is not supposed to be extended / enhanced."}],"tags":[],"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1347023350,"creation_date":1346958338,"answer_id":12306732,"question_id":12306651,"body_markdown":"If you do not make it final I can extend it and make it non mutable.\r\n\r\n    public class Immutable {\r\n      privat final int val;\r\n      public Immutable(int val) {\r\n        this.val = val;\r\n      }\r\n\r\n      public int getVal() {\r\n        return val;\r\n      }\r\n    }\r\n\r\n    public class FakeImmutable extends Immutable {\r\n      privat int val2;\r\n      public FakeImmutable(int val) {\r\n        super(val);\r\n      }\r\n\r\n      public int getVal() {\r\n        return val2;\r\n      }\r\n\r\n      public void setVal(int val2) {\r\n        this.val2 = val2;\r\n      }\r\n    }\r\n  \r\nNow, I can pass FakeImmutable to any class that expects Immutable, and it will not behave as the expected contract.","title":"Why would one declare an immutable class final in Java?","body":"<p>If you do not make it final I can extend it and make it non mutable.</p>\n\n<pre><code>public class Immutable {\n  privat final int val;\n  public Immutable(int val) {\n    this.val = val;\n  }\n\n  public int getVal() {\n    return val;\n  }\n}\n\npublic class FakeImmutable extends Immutable {\n  privat int val2;\n  public FakeImmutable(int val) {\n    super(val);\n  }\n\n  public int getVal() {\n    return val2;\n  }\n\n  public void setVal(int val2) {\n    this.val2 = val2;\n  }\n}\n</code></pre>\n\n<p>Now, I can pass FakeImmutable to any class that expects Immutable, and it will not behave as the expected contract.</p>\n"},{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346958398,"creation_date":1346958398,"answer_id":12306741,"question_id":12306651,"body_markdown":"Suppose the following class were not `final`:\r\n\r\n    public class Foo {\r\n        private int mThing;\r\n        public Foo(int thing) {\r\n            mThing = thing;\r\n        }\r\n        public int doSomething() { /* doesn&#39;t change mThing */ }\r\n    }\r\n\r\nIt&#39;s apparently immutable because even subclasses can&#39;t modify `mThing`. However, a subclass can be mutable:\r\n\r\n    public class Bar extends Foo {\r\n        private int mValue;\r\n        public Bar(int thing, int value) {\r\n            super(thing);\r\n            mValue = value;\r\n        }\r\n        public int getValue() { return mValue; }\r\n        public void setValue(int value) { mValue = value; }\r\n    }\r\n\r\nNow an object that is assignable to a variable of type `Foo` is no longer guaranteed to be mmutable. This can cause problems with things like hashing, equality, concurrency, etc.","title":"Why would one declare an immutable class final in Java?","body":"<p>Suppose the following class were not <code>final</code>:</p>\n\n<pre><code>public class Foo {\n    private int mThing;\n    public Foo(int thing) {\n        mThing = thing;\n    }\n    public int doSomething() { /* doesn't change mThing */ }\n}\n</code></pre>\n\n<p>It's apparently immutable because even subclasses can't modify <code>mThing</code>. However, a subclass can be mutable:</p>\n\n<pre><code>public class Bar extends Foo {\n    private int mValue;\n    public Bar(int thing, int value) {\n        super(thing);\n        mValue = value;\n    }\n    public int getValue() { return mValue; }\n    public void setValue(int value) { mValue = value; }\n}\n</code></pre>\n\n<p>Now an object that is assignable to a variable of type <code>Foo</code> is no longer guaranteed to be mmutable. This can cause problems with things like hashing, equality, concurrency, etc.</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":3,"creation_date":1347397080,"post_id":12327580,"comment_id":16627024,"body_markdown":"It&#39;s worth noting that Java &quot;expects&quot;, but does not enforce, that given two objects `X` and `Y`, the value of `X.equals(Y)` will be immutable (as long as `X` and `Y` continue to refer to the same objects). It has similar expectations regarding hash codes. It&#39;s clear that nobody should expect the compiler to enforce the immutability of equivalence relations and hash codes (since it just plain can&#39;t). I see no reason people should expect it to be enforced for other aspects of a type.","body":"It&#39;s worth noting that Java &quot;expects&quot;, but does not enforce, that given two objects <code>X</code> and <code>Y</code>, the value of <code>X.equals(Y)</code> will be immutable (as long as <code>X</code> and <code>Y</code> continue to refer to the same objects). It has similar expectations regarding hash codes. It&#39;s clear that nobody should expect the compiler to enforce the immutability of equivalence relations and hash codes (since it just plain can&#39;t). I see no reason people should expect it to be enforced for other aspects of a type."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1347397289,"post_id":12327580,"comment_id":16627094,"body_markdown":"Also, there are many cases where it may be useful to have an abstract type whose contract specifies immutability.  For example, one may have an abstract ImmutableMatrix type which, given a coordinate pair, returns a `double`.  One might derive a `GeneralImmutableMatrix` which uses an array as a backing store, but one might also have e.g. `ImmutableDiagonalMatrix` which simply stores an array of items along the diagonal (reading item X,Y would yield Arr[X] if X==y and zero otherwise).","body":"Also, there are many cases where it may be useful to have an abstract type whose contract specifies immutability.  For example, one may have an abstract ImmutableMatrix type which, given a coordinate pair, returns a <code>double</code>.  One might derive a <code>GeneralImmutableMatrix</code> which uses an array as a backing store, but one might also have e.g. <code>ImmutableDiagonalMatrix</code> which simply stores an array of items along the diagonal (reading item X,Y would yield Arr[X] if X==y and zero otherwise)."},{"owner":{"account_id":277137,"reputation":10622,"user_id":570930,"accept_rate":75,"display_name":"curioustechizen"},"score":3,"creation_date":1357284546,"post_id":12327580,"comment_id":19602724,"body_markdown":"I like this explanation the best. Always making an immutable class `final` restricts its usefulness, especially when you are designing an API meant to be extended. In the interest of thread-safety, it makes sense to make your class as immutable as possible, but keep it extensible. You can make the fields `protected final` instead of `private final`. Then, explicitly establish a contract (in documentation) about sub-classes adhering to the immutability and thread-safety guarantees.","body":"I like this explanation the best. Always making an immutable class <code>final</code> restricts its usefulness, especially when you are designing an API meant to be extended. In the interest of thread-safety, it makes sense to make your class as immutable as possible, but keep it extensible. You can make the fields <code>protected final</code> instead of <code>private final</code>. Then, explicitly establish a contract (in documentation) about sub-classes adhering to the immutability and thread-safety guarantees."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":5,"creation_date":1435973061,"post_id":12327580,"comment_id":50432799,"body_markdown":"+1 - I&#39;m with you all the way until the Bloch quote. We don&#39;t have to be so paranoid. 99% of coding are cooperative. No big deal if someone really need to override something, let them. 99% of us are not writing some core APIs like String or Collection. A lot of Bloch&#39;s advices, unfortunately, are based on that kind of use cases. They are not really helpful to most programmers, especially new ones.","body":"+1 - I&#39;m with you all the way until the Bloch quote. We don&#39;t have to be so paranoid. 99% of coding are cooperative. No big deal if someone really need to override something, let them. 99% of us are not writing some core APIs like String or Collection. A lot of Bloch&#39;s advices, unfortunately, are based on that kind of use cases. They are not really helpful to most programmers, especially new ones."},{"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"score":0,"creation_date":1586670692,"post_id":12327580,"comment_id":108209178,"body_markdown":"I would prefer make immutable class `final`. Just because `equals` and `hashcode` can&#39;t be final does not mean I may tolerate the same for immutable class, unless I have a valid reason to do so, and in this case I may use documentation or testing as a defense line.","body":"I would prefer make immutable class <code>final</code>. Just because <code>equals</code> and <code>hashcode</code> can&#39;t be final does not mean I may tolerate the same for immutable class, unless I have a valid reason to do so, and in this case I may use documentation or testing as a defense line."},{"owner":{"account_id":1912339,"reputation":380,"user_id":1725803,"display_name":"Jacek Obarymski"},"score":0,"creation_date":1591114194,"post_id":12327580,"comment_id":109930101,"body_markdown":"Very good comment. Immutability and designing for extension are separate concerns.\nImmutability of sublcasses should not be enforced by compiler.","body":"Very good comment. Immutability and designing for extension are separate concerns. Immutability of sublcasses should not be enforced by compiler."}],"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"comment_count":6,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1347071410,"creation_date":1347071410,"answer_id":12327580,"question_id":12306651,"body_markdown":"Contrary to what many people believe, making an immutable class `final` is *not* required.\r\n\r\nThe standard argument for making immutable classes `final` is that if you don&#39;t do this, then subclasses can add mutability, thereby violating the contract of the superclass. Clients of the class will assume immutability, but will be surprised when something mutates out from under them.\r\n\r\nIf you take this argument to its logical extreme, then *all* methods should be made `final`, as otherwise a subclass could override a method in a way that doesn&#39;t conform to the contract of its superclass. It&#39;s interesting that most Java programmers see this as ridiculous, but are somehow okay with the idea that immutable classes should be `final`. I suspect that it has something to do with Java programmers in general not being entirely comfortable with the notion of immutability, and perhaps some sort of fuzzy thinking relating to the multiple meanings of the `final` keyword in Java.\r\n\r\n**Conforming to the contract of your superclass is not something that can or should always be enforced by the compiler.** The compiler can enforce certain aspects of your contract (eg: a minimum set of methods and their type signatures) but there are many parts of typical contracts that cannot be enforced by the compiler.\r\n\r\nImmutability is part of the contract of a class. It&#39;s a bit different from some of the things people are more used to, because it says what the class (and all subclasses) *can&#39;t* do, while I think most Java (and generally OOP) programmers tend to think about contracts as relating to what a class *can* do, not what it *can&#39;t* do. \r\n\r\nImmutability also affects more than just a single method &amp;mdash; it affects the entire instance &amp;mdash; but this isn&#39;t really much different than the way `equals` and `hashCode` in Java work. Those two methods have a specific contract laid out in `Object`. This contract very carefully lays out things that these methods *cannot* do. This contract is made more specific in subclasses. It is very easy to override `equals` or `hashCode` in a way that violates the contract. In fact, if you override only one of these two methods without the other, chances are that you&#39;re violating the contract. So should `equals` and `hashCode` have been declared `final` in `Object` to avoid this? I think most would argue that they should not. Likewise, it is not necessary to make immutable classes `final`.\r\n\r\nThat said, most of your classes, immutable or not, probably *should* be `final`. See *Effective Java Second Edition* Item 17: &quot;Design and document for inheritance or else prohibit it&quot;. \r\n\r\nSo a correct version of your step 3 would be: &quot;Make the class final or, when designing for subclassing, clearly document that all subclasses must continue to be immutable.&quot;","title":"Why would one declare an immutable class final in Java?","body":"<p>Contrary to what many people believe, making an immutable class <code>final</code> is <em>not</em> required.</p>\n\n<p>The standard argument for making immutable classes <code>final</code> is that if you don't do this, then subclasses can add mutability, thereby violating the contract of the superclass. Clients of the class will assume immutability, but will be surprised when something mutates out from under them.</p>\n\n<p>If you take this argument to its logical extreme, then <em>all</em> methods should be made <code>final</code>, as otherwise a subclass could override a method in a way that doesn't conform to the contract of its superclass. It's interesting that most Java programmers see this as ridiculous, but are somehow okay with the idea that immutable classes should be <code>final</code>. I suspect that it has something to do with Java programmers in general not being entirely comfortable with the notion of immutability, and perhaps some sort of fuzzy thinking relating to the multiple meanings of the <code>final</code> keyword in Java.</p>\n\n<p><strong>Conforming to the contract of your superclass is not something that can or should always be enforced by the compiler.</strong> The compiler can enforce certain aspects of your contract (eg: a minimum set of methods and their type signatures) but there are many parts of typical contracts that cannot be enforced by the compiler.</p>\n\n<p>Immutability is part of the contract of a class. It's a bit different from some of the things people are more used to, because it says what the class (and all subclasses) <em>can't</em> do, while I think most Java (and generally OOP) programmers tend to think about contracts as relating to what a class <em>can</em> do, not what it <em>can't</em> do. </p>\n\n<p>Immutability also affects more than just a single method &mdash; it affects the entire instance &mdash; but this isn't really much different than the way <code>equals</code> and <code>hashCode</code> in Java work. Those two methods have a specific contract laid out in <code>Object</code>. This contract very carefully lays out things that these methods <em>cannot</em> do. This contract is made more specific in subclasses. It is very easy to override <code>equals</code> or <code>hashCode</code> in a way that violates the contract. In fact, if you override only one of these two methods without the other, chances are that you're violating the contract. So should <code>equals</code> and <code>hashCode</code> have been declared <code>final</code> in <code>Object</code> to avoid this? I think most would argue that they should not. Likewise, it is not necessary to make immutable classes <code>final</code>.</p>\n\n<p>That said, most of your classes, immutable or not, probably <em>should</em> be <code>final</code>. See <em>Effective Java Second Edition</em> Item 17: \"Design and document for inheritance or else prohibit it\". </p>\n\n<p>So a correct version of your step 3 would be: \"Make the class final or, when designing for subclassing, clearly document that all subclasses must continue to be immutable.\"</p>\n"},{"comments":[{"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"score":2,"creation_date":1418107805,"post_id":15281988,"comment_id":43196756,"body_markdown":"I&#39;d rather encapsulate all of the immutable aspects in a separate class and use it by means of composition. It would be easier to reason about than mixing mutable and immutable state in a single unit of code.","body":"I&#39;d rather encapsulate all of the immutable aspects in a separate class and use it by means of composition. It would be easier to reason about than mixing mutable and immutable state in a single unit of code."},{"owner":{"account_id":231971,"reputation":3364,"user_id":496501,"accept_rate":100,"display_name":"Justin Ohms"},"score":2,"creation_date":1421856619,"post_id":15281988,"comment_id":44522880,"body_markdown":"Totally agree.  Composition would be one very good way of accomplishing this, provided your mutable class contains your immutable class.  If your structure is the other way around it would be a good partial solution.","body":"Totally agree.  Composition would be one very good way of accomplishing this, provided your mutable class contains your immutable class.  If your structure is the other way around it would be a good partial solution."}],"tags":[],"owner":{"account_id":231971,"reputation":3364,"user_id":496501,"accept_rate":100,"display_name":"Justin Ohms"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1362691285,"creation_date":1362691285,"answer_id":15281988,"question_id":12306651,"body_markdown":"Don&#39;t mark the entire class final.\r\n\r\nThere are valid reasons for allowing an immutable class to be extended as stated in some of the other answers so marking the class as final is not always a good idea. \r\n\r\nIt&#39;s better to mark your properties private and final and if you want to protect the &quot;contract&quot; mark your getters as final.  \r\n\r\nIn this way you can allow the class to be extended (yes possibly even by a mutable class) however the immutable aspects of your class are protected.   Properties are private and can&#39;t be accessed, getters for these properties are final and cannot be overridden. \r\n\r\nAny other code that uses an instance of your immutable class will be able to rely on the immutable aspects of your class even if the sub class it is passed is mutable in other aspects.  Of course, since it takes an instance of your class it wouldn&#39;t even know about these other aspects.","title":"Why would one declare an immutable class final in Java?","body":"<p>Don't mark the entire class final.</p>\n\n<p>There are valid reasons for allowing an immutable class to be extended as stated in some of the other answers so marking the class as final is not always a good idea. </p>\n\n<p>It's better to mark your properties private and final and if you want to protect the \"contract\" mark your getters as final.  </p>\n\n<p>In this way you can allow the class to be extended (yes possibly even by a mutable class) however the immutable aspects of your class are protected.   Properties are private and can't be accessed, getters for these properties are final and cannot be overridden. </p>\n\n<p>Any other code that uses an instance of your immutable class will be able to rely on the immutable aspects of your class even if the sub class it is passed is mutable in other aspects.  Of course, since it takes an instance of your class it wouldn't even know about these other aspects.</p>\n"},{"tags":[],"owner":{"account_id":452899,"reputation":61,"user_id":6623472,"display_name":"Tarun Bedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619069534,"creation_date":1469172185,"answer_id":38520508,"question_id":12306651,"body_markdown":"For creating an immutable class it is not mandatory to mark the class as `final`.\r\n\r\nLet me take one such example from the standard library itself:  `BigInteger` is immutable but it&#39;s not `final`.\r\n\r\nActually, immutability is a concept according to which once an object is created, it can not be modified.\r\n\r\nLet&#39;s think from the JVM point of view. From the JVM point of view, an object of this class should be fully constructed before any thread can access it and the state of the object shouldn&#39;t change after its construction.\r\n\r\nImmutability means there is no way to change the state of the object once it is created and this is achieved by three thumb rules which make the compiler recognize that class is immutable and they are as follows:\r\n\r\n - All non-`private` fields should be `final`\r\n - Make sure that there is no method in the class that can change the fields of the object either directly or indirectly\r\n - Any object reference defined in the class can&#39;t be modified from outside of the class\r\n\r\nFor more information refer to [this URL](http://javaunturnedtopics.blogspot.in/2016/07/can-we-create-immutable-class-without.html).","title":"Why would one declare an immutable class final in Java?","body":"<p>For creating an immutable class it is not mandatory to mark the class as <code>final</code>.</p>\n<p>Let me take one such example from the standard library itself:  <code>BigInteger</code> is immutable but it's not <code>final</code>.</p>\n<p>Actually, immutability is a concept according to which once an object is created, it can not be modified.</p>\n<p>Let's think from the JVM point of view. From the JVM point of view, an object of this class should be fully constructed before any thread can access it and the state of the object shouldn't change after its construction.</p>\n<p>Immutability means there is no way to change the state of the object once it is created and this is achieved by three thumb rules which make the compiler recognize that class is immutable and they are as follows:</p>\n<ul>\n<li>All non-<code>private</code> fields should be <code>final</code></li>\n<li>Make sure that there is no method in the class that can change the fields of the object either directly or indirectly</li>\n<li>Any object reference defined in the class can't be modified from outside of the class</li>\n</ul>\n<p>For more information refer to <a href=\"http://javaunturnedtopics.blogspot.in/2016/07/can-we-create-immutable-class-without.html\" rel=\"nofollow noreferrer\">this URL</a>.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485425383,"creation_date":1485425383,"answer_id":41871081,"question_id":12306651,"body_markdown":"Design by itself has no value. Design is always used to achieve a goal. What is the goal here? Do we want to reduce the amount of surprises in the code? Do we want to prevent bugs? Are we blindly following rules?\r\n\r\nAlso, design always comes at a cost. [Every design that deserves the name means you have a conflict of goals][1].\r\n\r\nWith that in mind, you need to find answers to these questions:\r\n\r\n1. How many obvious bugs will this prevent?\r\n1. How many subtle bugs will this prevent?\r\n1. How often will this make other code more complex (= more error prone)?\r\n1. Does this make testing easier or harder?\r\n1. How good are the developers in your project? How much guidance with a sledge hammer do they need?\r\n\r\nSay you have many junior developers in your team. They will desperately try any stupid thing just because they don&#39;t know good solutions for their problems, yet. Making the class final could prevent bugs (good) but could also make them come up with &quot;clever&quot; solutions like copying all these classes into a mutable ones everywhere in the code.\r\n\r\nOn the other hand, it will be very hard to make a class `final` after it&#39;s being used everywhere but it&#39;s easy to make a `final` class non-`final` later if you find out you need to extend it.\r\n\r\nIf you properly use interfaces, you can avoid the &quot;I need to make this mutable&quot; problem by always using the interface and then later adding a mutable implementation when the need arises.\r\n\r\nConclusion: There is no &quot;best&quot; solution for this answer. It depends on which price you&#39;re willing and which you have to pay.\r\n\r\n  [1]: https://blog.pdark.de/2012/12/17/designing-a-garbage-bin/","title":"Why would one declare an immutable class final in Java?","body":"<p>Design by itself has no value. Design is always used to achieve a goal. What is the goal here? Do we want to reduce the amount of surprises in the code? Do we want to prevent bugs? Are we blindly following rules?</p>\n\n<p>Also, design always comes at a cost. <a href=\"https://blog.pdark.de/2012/12/17/designing-a-garbage-bin/\" rel=\"nofollow noreferrer\">Every design that deserves the name means you have a conflict of goals</a>.</p>\n\n<p>With that in mind, you need to find answers to these questions:</p>\n\n<ol>\n<li>How many obvious bugs will this prevent?</li>\n<li>How many subtle bugs will this prevent?</li>\n<li>How often will this make other code more complex (= more error prone)?</li>\n<li>Does this make testing easier or harder?</li>\n<li>How good are the developers in your project? How much guidance with a sledge hammer do they need?</li>\n</ol>\n\n<p>Say you have many junior developers in your team. They will desperately try any stupid thing just because they don't know good solutions for their problems, yet. Making the class final could prevent bugs (good) but could also make them come up with \"clever\" solutions like copying all these classes into a mutable ones everywhere in the code.</p>\n\n<p>On the other hand, it will be very hard to make a class <code>final</code> after it's being used everywhere but it's easy to make a <code>final</code> class non-<code>final</code> later if you find out you need to extend it.</p>\n\n<p>If you properly use interfaces, you can avoid the \"I need to make this mutable\" problem by always using the interface and then later adding a mutable implementation when the need arises.</p>\n\n<p>Conclusion: There is no \"best\" solution for this answer. It depends on which price you're willing and which you have to pay.</p>\n"},{"tags":[],"owner":{"account_id":10452620,"reputation":101,"user_id":7705733,"display_name":"Anitha B S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525901878,"creation_date":1525901878,"answer_id":50262435,"question_id":12306651,"body_markdown":"The default meaning of equals() is the same as referential equality. For immutable data types, this is almost always wrong. So you have to override the equals() method, replacing it with your own implementation. [link](http://web.mit.edu/6.005/www/fa15/classes/15-equality/#equality_of_immutable_types)\r\n","title":"Why would one declare an immutable class final in Java?","body":"<p>The default meaning of equals() is the same as referential equality. For immutable data types, this is almost always wrong. So you have to override the equals() method, replacing it with your own implementation. <a href=\"http://web.mit.edu/6.005/www/fa15/classes/15-equality/#equality_of_immutable_types\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"comments":[{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1644168941,"post_id":57923993,"comment_id":125528825,"body_markdown":"You can&#39;t be sure anything is immutable except stuff like final primitives unless you check the code yourself. Just like a class that says it&#39;s immutable is probably immutable, you can probably trust people wouldn&#39;t extend an immutable class and make it mutable. There&#39;s no reason why you can&#39;t use the benefits of inheritance and polymorphism with immutable classes. Marking the class `final` just makes confirming a class is immutable easier, but someone could just as easily add a setter to a `final` immutable class as they could make an mutable child class.","body":"You can&#39;t be sure anything is immutable except stuff like final primitives unless you check the code yourself. Just like a class that says it&#39;s immutable is probably immutable, you can probably trust people wouldn&#39;t extend an immutable class and make it mutable. There&#39;s no reason why you can&#39;t use the benefits of inheritance and polymorphism with immutable classes. Marking the class <code>final</code> just makes confirming a class is immutable easier, but someone could just as easily add a setter to a <code>final</code> immutable class as they could make an mutable child class."},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1650709739,"post_id":57923993,"comment_id":127187632,"body_markdown":"Greate @valijon thanks","body":"Greate @valijon thanks"}],"tags":[],"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568379085,"creation_date":1568379085,"answer_id":57923993,"question_id":12306651,"body_markdown":"Let&#39;s say you have the following class:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class PaymentImmutable {\r\n    \tprivate final Long id;\r\n    \tprivate final List&lt;String&gt; details;\r\n    \tprivate final Date paymentDate;\r\n    \tprivate final String notes;\r\n    \r\n    \tpublic PaymentImmutable (Long id, List&lt;String&gt; details, Date paymentDate, String notes) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.notes = notes;\r\n    \t\tthis.paymentDate = paymentDate == null ? null : new Date(paymentDate.getTime());\r\n    \t\tif (details != null) {\r\n    \t\t\tthis.details = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\t\tfor(String d : details) {\r\n    \t\t\t\tthis.details.add(d);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tthis.details = null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic List&lt;String&gt; getDetails() {\r\n    \t\tif(this.details != null) {\r\n    \t\t\tList&lt;String&gt; detailsForOutside = new ArrayList&lt;String&gt;();\r\n    \t\t\tfor(String d: this.details) {\r\n    \t\t\t\tdetailsForOutside.add(d);\r\n    \t\t\t}\r\n    \t\t\treturn detailsForOutside;\r\n    \t\t} else {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nThen you extend it and break its immutability.\r\n\r\n    public class PaymentChild extends PaymentImmutable {\r\n        private List&lt;String&gt; temp;\r\n        public PaymentChild(Long id, List&lt;String&gt; details, Date paymentDate, String notes) {\r\n            super(id, details, paymentDate, notes);\r\n            this.temp = details;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;String&gt; getDetails() {\r\n            return temp;\r\n        }\r\n    }\r\n\r\nHere we test it:\r\n\r\n    public class Demo {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;a&quot;);\r\n            details.add(&quot;b&quot;);\r\n            PaymentImmutable immutableParent = new PaymentImmutable(1L, details, new Date(), &quot;notes&quot;);\r\n            PaymentImmutable notImmutableChild = new PaymentChild(1L, details, new Date(), &quot;notes&quot;);\r\n    \r\n            details.add(&quot;some value&quot;);\r\n            System.out.println(immutableParent.getDetails());\r\n            System.out.println(notImmutableChild.getDetails());\r\n        }\r\n    }\r\n\r\nOutput result will be:\r\n\r\n    [a, b]\r\n    [a, b, some value]\r\n\r\nAs you can see while original class is keeping its immutability, child classes can be mutable. Consequently, in your design you cannot be sure that the object you are using is immutable, unless you make your class final.","title":"Why would one declare an immutable class final in Java?","body":"<p>Let's say you have the following class:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class PaymentImmutable {\n    private final Long id;\n    private final List&lt;String&gt; details;\n    private final Date paymentDate;\n    private final String notes;\n\n    public PaymentImmutable (Long id, List&lt;String&gt; details, Date paymentDate, String notes) {\n        this.id = id;\n        this.notes = notes;\n        this.paymentDate = paymentDate == null ? null : new Date(paymentDate.getTime());\n        if (details != null) {\n            this.details = new ArrayList&lt;String&gt;();\n\n            for(String d : details) {\n                this.details.add(d);\n            }\n        } else {\n            this.details = null;\n        }\n    }\n\n    public Long getId() {\n        return this.id;\n    }\n\n    public List&lt;String&gt; getDetails() {\n        if(this.details != null) {\n            List&lt;String&gt; detailsForOutside = new ArrayList&lt;String&gt;();\n            for(String d: this.details) {\n                detailsForOutside.add(d);\n            }\n            return detailsForOutside;\n        } else {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Then you extend it and break its immutability.</p>\n\n<pre><code>public class PaymentChild extends PaymentImmutable {\n    private List&lt;String&gt; temp;\n    public PaymentChild(Long id, List&lt;String&gt; details, Date paymentDate, String notes) {\n        super(id, details, paymentDate, notes);\n        this.temp = details;\n    }\n\n    @Override\n    public List&lt;String&gt; getDetails() {\n        return temp;\n    }\n}\n</code></pre>\n\n<p>Here we test it:</p>\n\n<pre><code>public class Demo {\n\n    public static void main(String[] args) {\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(\"a\");\n        details.add(\"b\");\n        PaymentImmutable immutableParent = new PaymentImmutable(1L, details, new Date(), \"notes\");\n        PaymentImmutable notImmutableChild = new PaymentChild(1L, details, new Date(), \"notes\");\n\n        details.add(\"some value\");\n        System.out.println(immutableParent.getDetails());\n        System.out.println(notImmutableChild.getDetails());\n    }\n}\n</code></pre>\n\n<p>Output result will be:</p>\n\n<pre><code>[a, b]\n[a, b, some value]\n</code></pre>\n\n<p>As you can see while original class is keeping its immutability, child classes can be mutable. Consequently, in your design you cannot be sure that the object you are using is immutable, unless you make your class final.</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39833,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":12306696,"answer_count":11,"score":96,"last_activity_date":1671838897,"creation_date":1346957958,"question_id":12306651,"body_markdown":"I read that to make a [class immutable](https://en.wikipedia.org/wiki/Immutable_object) in Java, we should do the following,  \r\n\r\n1. Do not provide any setters  \r\n2. Mark all fields as private  \r\n3. Make the class final\r\n\r\nWhy is step 3 required? Why should I mark the class `final`?  \r\n","title":"Why would one declare an immutable class final in Java?","body":"<p>I read that to make a <a href=\"https://en.wikipedia.org/wiki/Immutable_object\">class immutable</a> in Java, we should do the following,  </p>\n\n<ol>\n<li>Do not provide any setters  </li>\n<li>Mark all fields as private  </li>\n<li>Make the class final</li>\n</ol>\n\n<p>Why is step 3 required? Why should I mark the class <code>final</code>?  </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1671838190,"post_id":74904570,"comment_id":132187620,"body_markdown":"Try removing the `@Transactional` annotation from `ReceiptService`. Are there more methods in that class that you haven&#39;t shown in your post? Perhaps one that called a reactive repository method, annotated with `@Transactional`, and returns a `List`? Can you please show the entire stack trace?","body":"Try removing the <code>@Transactional</code> annotation from <code>ReceiptService</code>. Are there more methods in that class that you haven&#39;t shown in your post? Perhaps one that called a reactive repository method, annotated with <code>@Transactional</code>, and returns a <code>List</code>? Can you please show the entire stack trace?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671838413,"post_id":74904570,"comment_id":132187650,"body_markdown":"There are more I will update the question with complete service","body":"There are more I will update the question with complete service"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671838593,"post_id":74904570,"comment_id":132187666,"body_markdown":"I deleted transactional from service but still the same error. Now I will give you the complete stacktrace","body":"I deleted transactional from service but still the same error. Now I will give you the complete stacktrace"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671838822,"post_id":74904570,"comment_id":132187694,"body_markdown":"I can not post the stacktrace because it is too long getting the error that I have exceeded the body limit. I will post a bit more nevertheless","body":"I can not post the stacktrace because it is too long getting the error that I have exceeded the body limit. I will post a bit more nevertheless"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671838871,"post_id":74904570,"comment_id":132187703,"body_markdown":"I added the stacktrace","body":"I added the stacktrace"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1671839120,"post_id":74904570,"comment_id":132187738,"body_markdown":"Can we please see the rest of your service?","body":"Can we please see the rest of your service?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671839231,"post_id":74904570,"comment_id":132187749,"body_markdown":"it is above the error this is my complete ReceiptService","body":"it is above the error this is my complete ReceiptService"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1671839341,"post_id":74904570,"comment_id":132187767,"body_markdown":"It&#39;s probably because your service method uses a reactive interface `R2dbcRepository` method but does not return a reactive type. Just because your repository method `findReceiptsByCompanyId` doesn&#39;t return `Mono` or `Flux`, doesn&#39;t mean that the generated Spring code doesn&#39;t use reactive code.","body":"It&#39;s probably because your service method uses a reactive interface <code>R2dbcRepository</code> method but does not return a reactive type. Just because your repository method <code>findReceiptsByCompanyId</code> doesn&#39;t return <code>Mono</code> or <code>Flux</code>, doesn&#39;t mean that the generated Spring code doesn&#39;t use reactive code."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671839477,"post_id":74904570,"comment_id":132187786,"body_markdown":"I tried to return a Flux but then I am getting the following error: java.lang.IllegalStateException: No MethodInvocation found: Check that an AOP invocation is in progress and that the ExposeInvocationInterceptor is upfront in the interceptor chain. Specifically, note that advices with order HIGHEST_PRECEDENCE will execute before ExposeInvocationInterceptor! In addition, ExposeInvocationInterceptor and ExposeInvocationInterceptor.currentInvocation() must be invoked from the same thread.","body":"I tried to return a Flux but then I am getting the following error: java.lang.IllegalStateException: No MethodInvocation found: Check that an AOP invocation is in progress and that the ExposeInvocationInterceptor is upfront in the interceptor chain. Specifically, note that advices with order HIGHEST_PRECEDENCE will execute before ExposeInvocationInterceptor! In addition, ExposeInvocationInterceptor and ExposeInvocationInterceptor.currentInvocation() must be invoked from the same thread."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671839489,"post_id":74904570,"comment_id":132187789,"body_markdown":"Do you have any advice for me?","body":"Do you have any advice for me?"},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1671839544,"post_id":74904570,"comment_id":132187802,"body_markdown":"Sorry, I do not. I have little experience with Spring Reactive.","body":"Sorry, I do not. I have little experience with Spring Reactive."}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671838862,"creation_date":1671835907,"question_id":74904570,"body_markdown":"In my jhipster gateway application I have a repository (extends R2dbcRepository) a method which should return me every value connected to an id. But I am getting the following error:\r\n\r\n    Cannot apply reactive transaction to non-reactive return type: interface java.util.List\r\n\r\nI tried adding the transactional annotation but it did not help. Could someone take a look and tell me what my mistake is.\r\n\r\n    @Service\r\n    @Transactional\r\n    public class ReceiptService {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\r\n    \r\n        private final ReceiptRepository receiptRepository;\r\n    \r\n        private final RceiptRepository rceiptRepository;\r\n        private final ReceiptMapper receiptMapper;\r\n    \r\n    \r\n        public ReceiptService(ReceiptRepository receiptRepository, RceiptRepository rceiptRepository, ReceiptMapper receiptMapper) {\r\n            this.receiptRepository = receiptRepository;\r\n            this.rceiptRepository = rceiptRepository;\r\n            //   this.rceiptRepository = rceiptRepository;\r\n            this.receiptMapper = receiptMapper;\r\n        }\r\n    \r\n        @Transactional\r\n        public List&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\r\n            log.debug(&quot;Request to get all Receipts by a company&quot;);\r\n            return receiptRepository.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\r\n        }\r\n    \r\n    }\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface ReceiptRepository extends R2dbcRepository&lt;Receipt, Long&gt;, ReceiptRepositoryInternal {\r\n        @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id = :id&quot;)\r\n        Flux&lt;Receipt&gt; findByUser_receipt(Long id);\r\n    \r\n        @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id IS NULL&quot;)\r\n        Flux&lt;Receipt&gt; findAllWhereUser_receiptIsNull();\r\n    \r\n        // just to avoid having unambigous methods\r\n        @Override\r\n        Flux&lt;Receipt&gt; findAll();\r\n    \r\n        @Override\r\n        List&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\r\n    \r\n        @Override\r\n        Mono&lt;Receipt&gt; findById(Long id);\r\n    \r\n    \r\n        @Override\r\n        &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\r\n    }\r\n    \r\n    interface ReceiptRepositoryInternal{\r\n        &lt;S extends Receipt&gt; Mono&lt;S&gt; insert(S entity);\r\n        &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\r\n        Mono&lt;Integer&gt; update(Receipt entity);\r\n    \r\n        Flux&lt;Receipt&gt; findAll();\r\n        Mono&lt;Receipt&gt; findById(Long id);\r\n        Flux&lt;Receipt&gt; findAllBy(Pageable pageable);\r\n        Flux&lt;Receipt&gt; findAllBy(Pageable pageable, Criteria criteria);\r\n    \r\n        List&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\r\n    \r\n    \r\n    }\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ReceiptResource {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(ReceiptResource.class);\r\n    \r\n        private static final String ENTITY_NAME = &quot;receipt&quot;;\r\n    \r\n        @Value(&quot;${jhipster.clientApp.name}&quot;)\r\n        private String applicationName;\r\n    \r\n        private final ReceiptService receiptService;\r\n    \r\n        private final ReceiptRepository receiptRepository;\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        public ReceiptResource(ReceiptService receiptService, ReceiptRepository receiptRepository, UserRepository userRepository) {\r\n            this.receiptService = receiptService;\r\n            this.receiptRepository = receiptRepository;\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        /**\r\n         * {@code POST  /receipts} : Create a new receipt.\r\n         *\r\n         * @param receiptDTO the receiptDTO to create.\r\n         * @return the {@link ResponseEntity} with status {@code 201 (Created)} and with body the new receiptDTO, or with status {@code 400 (Bad Request)} if the receipt has already an ID.\r\n         * @throws URISyntaxException if the Location URI syntax is incorrect.\r\n         */\r\n    \r\n        @PostMapping(&quot;/receipts&quot;)\r\n        public Mono&lt;ResponseEntity&lt;ReceiptDTO&gt;&gt; createReceipt(@RequestBody ReceiptDTO receiptDTO) throws URISyntaxException {\r\n            log.debug(&quot;REST request to save Receipt : {}&quot;, receiptDTO);\r\n            if (receiptDTO.getId() != null) {\r\n                throw new BadRequestAlertException(&quot;A new receipt cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\r\n            }\r\n            return receiptService\r\n                .save(receiptDTO)\r\n                .map(result -&gt; {\r\n                    try {\r\n                        return ResponseEntity\r\n                            .created(new URI(&quot;/api/receipts/&quot; + result.getId()))\r\n                            .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\r\n                            .body(result);\r\n                    } catch (URISyntaxException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                });\r\n        }\r\n    \r\n        @GetMapping(&quot;/receipts/byUserId&quot;)\r\n        public List&lt;ReceiptDTO&gt; getAllReceiptsByCompanyId(@RequestParam Long companyId) {\r\n            log.debug(&quot;REST request to get all Receipts&quot;);\r\n    \r\n            return receiptService.findByCompany(companyId);\r\n        }\r\n    \r\n    }\r\n\r\nComplete Service class:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class ReceiptService {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\r\n    \r\n        private final ReceiptRepository receiptRepository;\r\n    \r\n        private final ReceiptMapper receiptMapper;\r\n    \r\n    \r\n        public ReceiptService(ReceiptRepository receiptRepository, ReceiptMapper receiptMapper) {\r\n            this.receiptRepository = receiptRepository;\r\n            this.receiptMapper = receiptMapper;\r\n        }\r\n    \r\n        /**\r\n         * Save a receipt.\r\n         *\r\n         * @param receiptDTO the entity to save.\r\n         * @return the persisted entity.\r\n         */\r\n        public Mono&lt;ReceiptDTO&gt; save(ReceiptDTO receiptDTO) {\r\n            log.debug(&quot;Request to save Receipt : {}&quot;, receiptDTO);\r\n            return receiptRepository.save(receiptMapper.toEntity(receiptDTO)).map(receiptMapper::toDto);\r\n        }\r\n    \r\n        /**\r\n         * Partially update a receipt.\r\n         *\r\n         * @param receiptDTO the entity to update partially.\r\n         * @return the persisted entity.\r\n         */\r\n        public Mono&lt;ReceiptDTO&gt; partialUpdate(ReceiptDTO receiptDTO) {\r\n            log.debug(&quot;Request to partially update Receipt : {}&quot;, receiptDTO);\r\n    \r\n            return receiptRepository\r\n                .findById(receiptDTO.getId())\r\n                .map(existingReceipt -&gt; {\r\n                    receiptMapper.partialUpdate(existingReceipt, receiptDTO);\r\n    \r\n                    return existingReceipt;\r\n                })\r\n                .flatMap(receiptRepository::save)\r\n                .map(receiptMapper::toDto);\r\n        }\r\n    \r\n        @Transactional\r\n        public List&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\r\n            log.debug(&quot;Request to get all Receipts by a company&quot;);\r\n            return receiptRepository.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\r\n        }\r\n    \r\n    //    public List&lt;ReceiptDTO&gt; findByCompanyJpa(Long companyUserID) {\r\n    //        log.debug(&quot;Request to get all Receipts by a company&quot;);\r\n    //        return rceiptRepository.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\r\n    //    }\r\n    \r\n        /**\r\n         * Get all the receipts.\r\n         *\r\n         * @return the list of entities.\r\n         */\r\n        @Transactional(readOnly = true)\r\n        public Flux&lt;ReceiptDTO&gt; findAll() {\r\n            log.debug(&quot;Request to get all Receipts&quot;);\r\n            return receiptRepository.findAll().map(receiptMapper::toDto);\r\n        }\r\n    \r\n        /**\r\n         * Returns the number of receipts available.\r\n         *\r\n         * @return the number of entities in the database.\r\n         */\r\n        public Mono&lt;Long&gt; countAll() {\r\n            return receiptRepository.count();\r\n        }\r\n    \r\n        /**\r\n         * Get one receipt by id.\r\n         *\r\n         * @param id the id of the entity.\r\n         * @return the entity.\r\n         */\r\n        @Transactional(readOnly = true)\r\n        public Mono&lt;ReceiptDTO&gt; findOne(Long id) {\r\n            log.debug(&quot;Request to get Receipt : {}&quot;, id);\r\n            return receiptRepository.findById(id).map(receiptMapper::toDto);\r\n        }\r\n    \r\n        /**\r\n         * Delete the receipt by id.\r\n         *\r\n         * @param id the id of the entity.\r\n         * @return a Mono to signal the deletion\r\n         */\r\n        public Mono&lt;Void&gt; delete(Long id) {\r\n            log.debug(&quot;Request to delete Receipt : {}&quot;, id);\r\n            return receiptRepository.deleteById(id);\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n  \r\n\r\n      java.lang.IllegalStateException: Cannot apply reactive transaction to non-reactive return type: interface java.util.List\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.lambda$invokeWithinTransaction$0(TransactionAspectSupport.java:359)\r\n    \tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:353)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n    \tat com.nosi.gateway.service.ReceiptService$$EnhancerBySpringCGLIB$$a802f8a9.findByCompany(&lt;generated&gt;)\r\n    \tat com.nosi.gateway.web.rest.ReceiptResource.getAllReceiptsByCompanyId(ReceiptResource.java:85)\r\n    \tat com.nosi.gateway.web.rest.ReceiptResource$$FastClassBySpringCGLIB$$a680ab7a.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n    \tat com.nosi.gateway.aop.logging.LoggingAspect.logAround(LoggingAspect.java:103)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)","title":"How to correctly use Transactional","body":"<p>In my jhipster gateway application I have a repository (extends R2dbcRepository) a method which should return me every value connected to an id. But I am getting the following error:</p>\n<pre><code>Cannot apply reactive transaction to non-reactive return type: interface java.util.List\n</code></pre>\n<p>I tried adding the transactional annotation but it did not help. Could someone take a look and tell me what my mistake is.</p>\n<pre><code>@Service\n@Transactional\npublic class ReceiptService {\n\n    private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\n\n    private final ReceiptRepository receiptRepository;\n\n    private final RceiptRepository rceiptRepository;\n    private final ReceiptMapper receiptMapper;\n\n\n    public ReceiptService(ReceiptRepository receiptRepository, RceiptRepository rceiptRepository, ReceiptMapper receiptMapper) {\n        this.receiptRepository = receiptRepository;\n        this.rceiptRepository = rceiptRepository;\n        //   this.rceiptRepository = rceiptRepository;\n        this.receiptMapper = receiptMapper;\n    }\n\n    @Transactional\n    public List&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\n        log.debug(&quot;Request to get all Receipts by a company&quot;);\n        return receiptRepository.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface ReceiptRepository extends R2dbcRepository&lt;Receipt, Long&gt;, ReceiptRepositoryInternal {\n    @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id = :id&quot;)\n    Flux&lt;Receipt&gt; findByUser_receipt(Long id);\n\n    @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id IS NULL&quot;)\n    Flux&lt;Receipt&gt; findAllWhereUser_receiptIsNull();\n\n    // just to avoid having unambigous methods\n    @Override\n    Flux&lt;Receipt&gt; findAll();\n\n    @Override\n    List&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\n\n    @Override\n    Mono&lt;Receipt&gt; findById(Long id);\n\n\n    @Override\n    &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\n}\n\ninterface ReceiptRepositoryInternal{\n    &lt;S extends Receipt&gt; Mono&lt;S&gt; insert(S entity);\n    &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\n    Mono&lt;Integer&gt; update(Receipt entity);\n\n    Flux&lt;Receipt&gt; findAll();\n    Mono&lt;Receipt&gt; findById(Long id);\n    Flux&lt;Receipt&gt; findAllBy(Pageable pageable);\n    Flux&lt;Receipt&gt; findAllBy(Pageable pageable, Criteria criteria);\n\n    List&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\n\n\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ReceiptResource {\n\n    private final Logger log = LoggerFactory.getLogger(ReceiptResource.class);\n\n    private static final String ENTITY_NAME = &quot;receipt&quot;;\n\n    @Value(&quot;${jhipster.clientApp.name}&quot;)\n    private String applicationName;\n\n    private final ReceiptService receiptService;\n\n    private final ReceiptRepository receiptRepository;\n\n    private final UserRepository userRepository;\n\n    public ReceiptResource(ReceiptService receiptService, ReceiptRepository receiptRepository, UserRepository userRepository) {\n        this.receiptService = receiptService;\n        this.receiptRepository = receiptRepository;\n        this.userRepository = userRepository;\n    }\n\n    /**\n     * {@code POST  /receipts} : Create a new receipt.\n     *\n     * @param receiptDTO the receiptDTO to create.\n     * @return the {@link ResponseEntity} with status {@code 201 (Created)} and with body the new receiptDTO, or with status {@code 400 (Bad Request)} if the receipt has already an ID.\n     * @throws URISyntaxException if the Location URI syntax is incorrect.\n     */\n\n    @PostMapping(&quot;/receipts&quot;)\n    public Mono&lt;ResponseEntity&lt;ReceiptDTO&gt;&gt; createReceipt(@RequestBody ReceiptDTO receiptDTO) throws URISyntaxException {\n        log.debug(&quot;REST request to save Receipt : {}&quot;, receiptDTO);\n        if (receiptDTO.getId() != null) {\n            throw new BadRequestAlertException(&quot;A new receipt cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\n        }\n        return receiptService\n            .save(receiptDTO)\n            .map(result -&gt; {\n                try {\n                    return ResponseEntity\n                        .created(new URI(&quot;/api/receipts/&quot; + result.getId()))\n                        .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\n                        .body(result);\n                } catch (URISyntaxException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n    }\n\n    @GetMapping(&quot;/receipts/byUserId&quot;)\n    public List&lt;ReceiptDTO&gt; getAllReceiptsByCompanyId(@RequestParam Long companyId) {\n        log.debug(&quot;REST request to get all Receipts&quot;);\n\n        return receiptService.findByCompany(companyId);\n    }\n\n}\n</code></pre>\n<p>Complete Service class:</p>\n<pre><code>@Service\n@Transactional\npublic class ReceiptService {\n\n    private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\n\n    private final ReceiptRepository receiptRepository;\n\n    private final ReceiptMapper receiptMapper;\n\n\n    public ReceiptService(ReceiptRepository receiptRepository, ReceiptMapper receiptMapper) {\n        this.receiptRepository = receiptRepository;\n        this.receiptMapper = receiptMapper;\n    }\n\n    /**\n     * Save a receipt.\n     *\n     * @param receiptDTO the entity to save.\n     * @return the persisted entity.\n     */\n    public Mono&lt;ReceiptDTO&gt; save(ReceiptDTO receiptDTO) {\n        log.debug(&quot;Request to save Receipt : {}&quot;, receiptDTO);\n        return receiptRepository.save(receiptMapper.toEntity(receiptDTO)).map(receiptMapper::toDto);\n    }\n\n    /**\n     * Partially update a receipt.\n     *\n     * @param receiptDTO the entity to update partially.\n     * @return the persisted entity.\n     */\n    public Mono&lt;ReceiptDTO&gt; partialUpdate(ReceiptDTO receiptDTO) {\n        log.debug(&quot;Request to partially update Receipt : {}&quot;, receiptDTO);\n\n        return receiptRepository\n            .findById(receiptDTO.getId())\n            .map(existingReceipt -&gt; {\n                receiptMapper.partialUpdate(existingReceipt, receiptDTO);\n\n                return existingReceipt;\n            })\n            .flatMap(receiptRepository::save)\n            .map(receiptMapper::toDto);\n    }\n\n    @Transactional\n    public List&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\n        log.debug(&quot;Request to get all Receipts by a company&quot;);\n        return receiptRepository.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\n    }\n\n//    public List&lt;ReceiptDTO&gt; findByCompanyJpa(Long companyUserID) {\n//        log.debug(&quot;Request to get all Receipts by a company&quot;);\n//        return rceiptRepository.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\n//    }\n\n    /**\n     * Get all the receipts.\n     *\n     * @return the list of entities.\n     */\n    @Transactional(readOnly = true)\n    public Flux&lt;ReceiptDTO&gt; findAll() {\n        log.debug(&quot;Request to get all Receipts&quot;);\n        return receiptRepository.findAll().map(receiptMapper::toDto);\n    }\n\n    /**\n     * Returns the number of receipts available.\n     *\n     * @return the number of entities in the database.\n     */\n    public Mono&lt;Long&gt; countAll() {\n        return receiptRepository.count();\n    }\n\n    /**\n     * Get one receipt by id.\n     *\n     * @param id the id of the entity.\n     * @return the entity.\n     */\n    @Transactional(readOnly = true)\n    public Mono&lt;ReceiptDTO&gt; findOne(Long id) {\n        log.debug(&quot;Request to get Receipt : {}&quot;, id);\n        return receiptRepository.findById(id).map(receiptMapper::toDto);\n    }\n\n    /**\n     * Delete the receipt by id.\n     *\n     * @param id the id of the entity.\n     * @return a Mono to signal the deletion\n     */\n    public Mono&lt;Void&gt; delete(Long id) {\n        log.debug(&quot;Request to delete Receipt : {}&quot;, id);\n        return receiptRepository.deleteById(id);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>  java.lang.IllegalStateException: Cannot apply reactive transaction to non-reactive return type: interface java.util.List\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.lambda$invokeWithinTransaction$0(TransactionAspectSupport.java:359)\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:353)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at com.nosi.gateway.service.ReceiptService$$EnhancerBySpringCGLIB$$a802f8a9.findByCompany(&lt;generated&gt;)\n    at com.nosi.gateway.web.rest.ReceiptResource.getAllReceiptsByCompanyId(ReceiptResource.java:85)\n    at com.nosi.gateway.web.rest.ReceiptResource$$FastClassBySpringCGLIB$$a680ab7a.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at com.nosi.gateway.aop.logging.LoggingAspect.logAround(LoggingAspect.java:103)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n</code></pre>\n"},{"tags":["c#","java","integer","int"],"comments":[{"owner":{"account_id":420,"reputation":59102,"user_id":536,"accept_rate":96,"display_name":"Judah Gabriel Himango"},"score":5,"creation_date":1267757919,"post_id":564,"comment_id":2361868,"body_markdown":"C# doesn&#39;t have an Integer type.","body":"C# doesn&#39;t have an Integer type."}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":63,"creation_date":1225106282,"post_id":566,"comment_id":103075,"body_markdown":"The statement that &quot;objects [...] are passed by reference&quot; is confusing and incorrect, IMO. It&#39;s more accurate to say that &quot;Object references are passed by value.&quot; (Also primitives aren&#39;t always allocated from the stack - consider a primitive field within an object...)","body":"The statement that &quot;objects [...] are passed by reference&quot; is confusing and incorrect, IMO. It&#39;s more accurate to say that &quot;Object references are passed by value.&quot; (Also primitives aren&#39;t always allocated from the stack - consider a primitive field within an object...)"},{"owner":{"account_id":1175,"reputation":42324,"user_id":1559,"accept_rate":67,"display_name":"Scott Dorman"},"score":5,"creation_date":1233372969,"post_id":566,"comment_id":313921,"body_markdown":"In C# at least, int is a language keyword that is equivalent to the Int32 CLR (actually CTS) type.","body":"In C# at least, int is a language keyword that is equivalent to the Int32 CLR (actually CTS) type."},{"owner":{"account_id":16544,"reputation":5041,"user_id":36157,"accept_rate":48,"display_name":"Tim Matthews"},"score":0,"creation_date":1233818046,"post_id":566,"comment_id":328576,"body_markdown":"@Jon Skeet i&#39;m aware that you are seen as a C# Guru but due to the way the ENGLISH LANGUAGE works you can just say passed by reference as it is exatcly the same meaning not programming related. Yes I&#39;m aware that passing by reference in C#  just causes the reference to be passed by ref.","body":"@Jon Skeet i&#39;m aware that you are seen as a C# Guru but due to the way the ENGLISH LANGUAGE works you can just say passed by reference as it is exatcly the same meaning not programming related. Yes I&#39;m aware that passing by reference in C#  just causes the reference to be passed by ref."},{"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"score":6,"creation_date":1278518354,"post_id":566,"comment_id":3293796,"body_markdown":"Sorry, the English language does not make &quot;pass something by reference&quot; and &quot;pass a reference to something by value&quot; equivalent statements, nor do these have equivalent meanings in a programming language context.","body":"Sorry, the English language does not make &quot;pass something by reference&quot; and &quot;pass a reference to something by value&quot; equivalent statements, nor do these have equivalent meanings in a programming language context."},{"owner":{"account_id":27626,"reputation":346938,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":8,"creation_date":1294832426,"post_id":566,"comment_id":5144026,"body_markdown":"1. This may accurately describe how Java handles this, but for C# it is plain wrong.","body":"1. This may accurately describe how Java handles this, but for C# it is plain wrong."},{"owner":{"account_id":19219,"reputation":80057,"user_id":44852,"accept_rate":98,"display_name":"Tarik"},"score":0,"creation_date":1335290832,"post_id":566,"comment_id":13260226,"body_markdown":"I don&#39;t know Java but there is not type `Integer` but `Int32`,`Int64` and they are all struct which is value type. Primitive means in C# that types are defined in FCL (Framework Class Library) by CLR team and that&#39;s why they&#39;re called primitive. In this case even Date obj is called primitive type. `int` is a keyword which is exactly the same thing as `Int32` and `single` is `Int16` and etc. They become objects when they are boxed however this is not what OP said.","body":"I don&#39;t know Java but there is not type <code>Integer</code> but <code>Int32</code>,<code>Int64</code> and they are all struct which is value type. Primitive means in C# that types are defined in FCL (Framework Class Library) by CLR team and that&#39;s why they&#39;re called primitive. In this case even Date obj is called primitive type. <code>int</code> is a keyword which is exactly the same thing as <code>Int32</code> and <code>single</code> is <code>Int16</code> and etc. They become objects when they are boxed however this is not what OP said."},{"owner":{"account_id":53309,"reputation":13936,"user_id":159369,"accept_rate":84,"display_name":"Thom Smith"},"score":9,"creation_date":1347890622,"post_id":566,"comment_id":16759100,"body_markdown":"Why is this voted up? The answer is wrong. It&#39;s not quite right for Java, and not even close to right for C#. Someone who reads this will know *less* about the topic than they did before.","body":"Why is this voted up? The answer is wrong. It&#39;s not quite right for Java, and not even close to right for C#. Someone who reads this will know <i>less</i> about the topic than they did before."},{"owner":{"account_id":5331,"reputation":35167,"user_id":8521,"accept_rate":68,"display_name":"Isak Savo"},"score":0,"creation_date":1380014292,"post_id":566,"comment_id":28030896,"body_markdown":"I took the liberty of adding the C# aspect to this answer (instead of creating a new answer).","body":"I took the liberty of adding the C# aspect to this answer (instead of creating a new answer)."},{"owner":{"account_id":2936599,"reputation":326,"user_id":2515353,"accept_rate":50,"display_name":"ghoulfolk"},"score":1,"creation_date":1472107727,"post_id":566,"comment_id":65621136,"body_markdown":"just thought it would be worth mentioning that at least in Java, Integer can also be null, whilst int cannot be null and will result in a nullPointerException if it is. That is another key difference between the two which can help someone who isn&#39;t so acquainted with the terminology","body":"just thought it would be worth mentioning that at least in Java, Integer can also be null, whilst int cannot be null and will result in a nullPointerException if it is. That is another key difference between the two which can help someone who isn&#39;t so acquainted with the terminology"}],"tags":[],"owner":{"account_id":126,"reputation":5883,"user_id":154,"display_name":"Matt"},"comment_count":9,"down_vote_count":12,"up_vote_count":263,"is_accepted":true,"score":251,"last_activity_date":1584530723,"creation_date":1217714145,"answer_id":566,"question_id":564,"body_markdown":"**In Java,** the &#39;int&#39; type is a primitive, whereas the &#39;Integer&#39; type is an object.\r\n\r\n**In C#,** the &#39;int&#39; type is the same as `System.Int32` and is [a value type][1] (ie more like the java &#39;int&#39;). An integer (just like any other value types) can be [boxed][2] (&quot;wrapped&quot;) into an object. \r\n\r\n---\r\n\r\nThe differences between objects and primitives are somewhat beyond the scope of this question, but to summarize: \r\n\r\n**Objects** provide facilities for polymorphism, are passed by reference (or more accurately have references passed by value), and are allocated from the [heap](http://en.wikipedia.org/wiki/Dynamic_memory_allocation). Conversely, **primitives** are immutable types that are passed by value and are often allocated from the [stack](https://en.wikipedia.org/wiki/Stack-based_memory_allocation).\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/value-types\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/types/boxing-and-unboxing","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p><strong>In Java,</strong> the 'int' type is a primitive, whereas the 'Integer' type is an object.</p>\n\n<p><strong>In C#,</strong> the 'int' type is the same as <code>System.Int32</code> and is <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/value-types\" rel=\"noreferrer\">a value type</a> (ie more like the java 'int'). An integer (just like any other value types) can be <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/types/boxing-and-unboxing\" rel=\"noreferrer\">boxed</a> (\"wrapped\") into an object. </p>\n\n<hr>\n\n<p>The differences between objects and primitives are somewhat beyond the scope of this question, but to summarize: </p>\n\n<p><strong>Objects</strong> provide facilities for polymorphism, are passed by reference (or more accurately have references passed by value), and are allocated from the <a href=\"http://en.wikipedia.org/wiki/Dynamic_memory_allocation\" rel=\"noreferrer\">heap</a>. Conversely, <strong>primitives</strong> are immutable types that are passed by value and are often allocated from the <a href=\"https://en.wikipedia.org/wiki/Stack-based_memory_allocation\" rel=\"noreferrer\">stack</a>.</p>\n"},{"comments":[{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":0,"creation_date":1221822837,"post_id":568,"comment_id":17104,"body_markdown":"in C# int is a synonym for Int32, see http://stackoverflow.com/questions/62503/c-int-or-int32-should-i-care","body":"in C# int is a synonym for Int32, see <a href=\"http://stackoverflow.com/questions/62503/c-int-or-int32-should-i-care\" title=\"c int or int32 should i care\">stackoverflow.com/questions/62503/c-int-or-int32-should-i-ca&zwnj;&#8203;re</a>"},{"owner":{"account_id":19219,"reputation":80057,"user_id":44852,"accept_rate":98,"display_name":"Tarik"},"score":0,"creation_date":1335290719,"post_id":568,"comment_id":13260183,"body_markdown":"I don&#39;t know Java but there is not type Integer but Int32,Int64 and they are all struct which is value type. Primitive means in C# that types are defined in FCL (Framework Class Library) by CLR team and that&#39;s why they&#39;re called primitive. In this case even Date obj is called primitive type.","body":"I don&#39;t know Java but there is not type Integer but Int32,Int64 and they are all struct which is value type. Primitive means in C# that types are defined in FCL (Framework Class Library) by CLR team and that&#39;s why they&#39;re called primitive. In this case even Date obj is called primitive type."}],"tags":[],"owner":{"account_id":47,"reputation":47816,"user_id":58,"accept_rate":91,"display_name":"cmcculloh"},"comment_count":2,"down_vote_count":2,"up_vote_count":155,"is_accepted":false,"score":153,"last_activity_date":1671838823,"creation_date":1217714708,"answer_id":568,"question_id":564,"body_markdown":"Well, in Java an int is a primitive while an Integer is an Object. Meaning, if you made a new Integer:\r\n\r\n    Integer i = new Integer(6);\r\n\r\nYou could call some method on i:\r\n\r\n    String s = i.toString();//sets s the string representation of i\r\n\r\nWhereas with an int:\r\n\r\n    int i = 6;\r\n\r\nYou cannot call any methods on it, because it is simply a primitive. So:\r\n\r\n    String s = i.toString();//will not work!!!\r\n\r\nwould produce an error, because int is not an object.\r\n\r\nint is one of the few primitives in Java (along with char and some others). I&#39;m not 100% sure, but I&#39;m thinking that the Integer object more or less just has an int property and a whole bunch of methods to interact with that property (like the toString() method for example). So Integer is a fancy way to work with an int (Just as perhaps String is a fancy way to work with a group of chars).\r\n\r\nI know that Java isn&#39;t C, but since I&#39;ve never programmed in C this is the closest I could come to the answer.\r\n\r\n[Integer object javadoc](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html)\r\n\r\n[Integer Ojbect vs. int primitive comparison](http://mindprod.com/jgloss/intvsinteger.html)","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>Well, in Java an int is a primitive while an Integer is an Object. Meaning, if you made a new Integer:</p>\n<pre><code>Integer i = new Integer(6);\n</code></pre>\n<p>You could call some method on i:</p>\n<pre><code>String s = i.toString();//sets s the string representation of i\n</code></pre>\n<p>Whereas with an int:</p>\n<pre><code>int i = 6;\n</code></pre>\n<p>You cannot call any methods on it, because it is simply a primitive. So:</p>\n<pre><code>String s = i.toString();//will not work!!!\n</code></pre>\n<p>would produce an error, because int is not an object.</p>\n<p>int is one of the few primitives in Java (along with char and some others). I'm not 100% sure, but I'm thinking that the Integer object more or less just has an int property and a whole bunch of methods to interact with that property (like the toString() method for example). So Integer is a fancy way to work with an int (Just as perhaps String is a fancy way to work with a group of chars).</p>\n<p>I know that Java isn't C, but since I've never programmed in C this is the closest I could come to the answer.</p>\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer object javadoc</a></p>\n<p><a href=\"http://mindprod.com/jgloss/intvsinteger.html\" rel=\"nofollow noreferrer\">Integer Ojbect vs. int primitive comparison</a></p>\n"},{"comments":[{"owner":{"account_id":420,"reputation":59102,"user_id":536,"accept_rate":96,"display_name":"Judah Gabriel Himango"},"score":2,"creation_date":1267758170,"post_id":583,"comment_id":2361879,"body_markdown":"And it should be added, C#&#39;s int/Int32 are *not* the same as Java&#39;s Integer.","body":"And it should be added, C#&#39;s int/Int32 are <i>not</i> the same as Java&#39;s Integer."}],"tags":[],"owner":{"account_id":30,"reputation":14983,"user_id":39,"accept_rate":63,"display_name":"huseyint"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1401963126,"creation_date":1217720230,"answer_id":583,"question_id":564,"body_markdown":"In C#, int is just an ***alias*** for `System.Int32`, string for `System.String`, double for `System.Double` etc...\r\n\r\nPersonally I prefer int, string, double, etc. because they don&#39;t require a `using System;` statement :) A silly reason, I know...","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>In C#, int is just an <strong><em>alias</em></strong> for <code>System.Int32</code>, string for <code>System.String</code>, double for <code>System.Double</code> etc...</p>\n\n<p>Personally I prefer int, string, double, etc. because they don't require a <code>using System;</code> statement :) A silly reason, I know...</p>\n"},{"comments":[{"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"score":2,"creation_date":1284864874,"post_id":608,"comment_id":3957785,"body_markdown":"Deque isn&#39;t in java 1.5 or 1.4. It was added in 1.6.","body":"Deque isn&#39;t in java 1.5 or 1.4. It was added in 1.6."}],"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1584530808,"creation_date":1217730770,"answer_id":608,"question_id":564,"body_markdown":"I&#39;ll add to the excellent answers given above, and talk about boxing and unboxing, and how this applies to Java (although C# has it too). I&#39;ll use just Java terminology because I am more _au fait_ with that.\r\n\r\nAs the answers mentioned, `int` is just a number (called the _unboxed_ type), whereas `Integer` is an object (which contains the number, hence a _boxed_ type). In Java terms, that means (apart from not being able to call methods on `int`), you cannot store `int` or other non-object types in collections (`List`, `Map`, etc.). In order to store them, you must first box them up in its corresponding boxed type.\r\n\r\nJava 5 onwards have something called _auto-boxing_ and _auto-unboxing_ which allow the boxing/unboxing to be done behind the scenes. Compare and contrast: Java 5 version:\r\n\r\n    Deque&lt;Integer&gt; queue;\r\n\r\n    void add(int n) {\r\n        queue.add(n);\r\n    }\r\n\r\n    int remove() {\r\n        return queue.remove();\r\n    }\r\n\r\nJava 1.4 or earlier (no generics either):\r\n\r\n    Deque queue;\r\n\r\n    void add(int n) {\r\n        queue.add(Integer.valueOf(n));\r\n    }\r\n\r\n    int remove() {\r\n        return ((Integer) queue.remove()).intValue();\r\n    }\r\n\r\nIt must be noted that despite the brevity in the Java 5 version, both versions generate identical bytecode. Thus, although auto-boxing and auto-unboxing are very convenient because you write less code, these operations _do_ happens behind the scenes, with the same runtime costs, so you still have to be aware of their existence.\r\n\r\nHope this helps!","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>I'll add to the excellent answers given above, and talk about boxing and unboxing, and how this applies to Java (although C# has it too). I'll use just Java terminology because I am more <em>au fait</em> with that.</p>\n\n<p>As the answers mentioned, <code>int</code> is just a number (called the <em>unboxed</em> type), whereas <code>Integer</code> is an object (which contains the number, hence a <em>boxed</em> type). In Java terms, that means (apart from not being able to call methods on <code>int</code>), you cannot store <code>int</code> or other non-object types in collections (<code>List</code>, <code>Map</code>, etc.). In order to store them, you must first box them up in its corresponding boxed type.</p>\n\n<p>Java 5 onwards have something called <em>auto-boxing</em> and <em>auto-unboxing</em> which allow the boxing/unboxing to be done behind the scenes. Compare and contrast: Java 5 version:</p>\n\n<pre><code>Deque&lt;Integer&gt; queue;\n\nvoid add(int n) {\n    queue.add(n);\n}\n\nint remove() {\n    return queue.remove();\n}\n</code></pre>\n\n<p>Java 1.4 or earlier (no generics either):</p>\n\n<pre><code>Deque queue;\n\nvoid add(int n) {\n    queue.add(Integer.valueOf(n));\n}\n\nint remove() {\n    return ((Integer) queue.remove()).intValue();\n}\n</code></pre>\n\n<p>It must be noted that despite the brevity in the Java 5 version, both versions generate identical bytecode. Thus, although auto-boxing and auto-unboxing are very convenient because you write less code, these operations <em>do</em> happens behind the scenes, with the same runtime costs, so you still have to be aware of their existence.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":213,"reputation":383059,"user_id":267,"accept_rate":87,"display_name":"Lasse V. Karlsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1448897470,"creation_date":1217859063,"answer_id":1266,"question_id":564,"body_markdown":"I&#39;ll just post here since some of the other posts are slightly inaccurate in relation to C#.\r\n\r\n**Correct:** `int` is an alias for `System.Int32`.&lt;br/&gt;\r\n**Wrong:** `float` is not an alias for `System.Float`, but for `System.Single`\r\n\r\nBasically, int is a reserved keyword in the C# programming language, and is an alias for the `System.Int32` value type.\r\n\r\nfloat and Float is not the same however, as the right system type for &#39;&#39;`float`&#39;&#39; is System.Single. There are some types like this that has reserved keywords that doesn&#39;t seem to match the type names directly.\r\n\r\nIn C# there is no difference between &#39;&#39;`int`&#39;&#39; and &#39;&#39;`System.Int32`&#39;&#39;, or any of the other pairs or keywords/system types, except for when defining enums. With enums you can specify the storage size to use and in this case you can only use the reserved keyword, and not the system runtime type name.\r\n\r\nWether the value in the int will be stored on the stack, in memory, or as a referenced heap object depends on the context and how you use it.\r\n\r\nThis declaration in a method:\r\n\r\n    int i;\r\n\r\ndefines a variable `i` of type `System.Int32`, living in a register or on the stack, depending on optimizations. The same declaration in a type (struct or class) defines a member field. The same declaration in a method argument list defines a parameter, with the same storage options as for a local variable. (note that this paragraph is not valid if you start pulling iterator methods into the mix, these are different beasts altogether)\r\n\r\nTo get a heap object, you can use boxing:\r\n\r\n    object o = i;\r\n\r\nthis will create a boxed copy of the contents of `i` on the heap. In IL you can access methods on the heap object directly, but in C# you need to cast it back to an int, which will create another copy. Thus, the object on the heap cannot easily be changed in C# without creating a new boxed copy of a new int value. (Ugh, this paragraph doesn&#39;t read all that easily.)","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>I'll just post here since some of the other posts are slightly inaccurate in relation to C#.</p>\n\n<p><strong>Correct:</strong> <code>int</code> is an alias for <code>System.Int32</code>.<br/>\n<strong>Wrong:</strong> <code>float</code> is not an alias for <code>System.Float</code>, but for <code>System.Single</code></p>\n\n<p>Basically, int is a reserved keyword in the C# programming language, and is an alias for the <code>System.Int32</code> value type.</p>\n\n<p>float and Float is not the same however, as the right system type for ''<code>float</code>'' is System.Single. There are some types like this that has reserved keywords that doesn't seem to match the type names directly.</p>\n\n<p>In C# there is no difference between ''<code>int</code>'' and ''<code>System.Int32</code>'', or any of the other pairs or keywords/system types, except for when defining enums. With enums you can specify the storage size to use and in this case you can only use the reserved keyword, and not the system runtime type name.</p>\n\n<p>Wether the value in the int will be stored on the stack, in memory, or as a referenced heap object depends on the context and how you use it.</p>\n\n<p>This declaration in a method:</p>\n\n<pre><code>int i;\n</code></pre>\n\n<p>defines a variable <code>i</code> of type <code>System.Int32</code>, living in a register or on the stack, depending on optimizations. The same declaration in a type (struct or class) defines a member field. The same declaration in a method argument list defines a parameter, with the same storage options as for a local variable. (note that this paragraph is not valid if you start pulling iterator methods into the mix, these are different beasts altogether)</p>\n\n<p>To get a heap object, you can use boxing:</p>\n\n<pre><code>object o = i;\n</code></pre>\n\n<p>this will create a boxed copy of the contents of <code>i</code> on the heap. In IL you can access methods on the heap object directly, but in C# you need to cast it back to an int, which will create another copy. Thus, the object on the heap cannot easily be changed in C# without creating a new boxed copy of a new int value. (Ugh, this paragraph doesn't read all that easily.)</p>\n"},{"comments":[{"owner":{"account_id":1403,"reputation":25791,"user_id":1875,"accept_rate":100,"display_name":"Peter Meyer"},"score":2,"creation_date":1222804847,"post_id":1582,"comment_id":46551,"body_markdown":"To be clear, in C#, int as well as System.Int32 are not objects.  They are value types and treated much differently by the CLR than objects.","body":"To be clear, in C#, int as well as System.Int32 are not objects.  They are value types and treated much differently by the CLR than objects."},{"owner":{"account_id":269,"reputation":19587,"user_id":332,"accept_rate":80,"display_name":"Wedge"},"score":4,"creation_date":1222807607,"post_id":1582,"comment_id":46688,"body_markdown":"Actually, in C# Int32 is an object. It is a valuetype struct object that derives from system.object. It is not treated especially differently from other value objects as an &quot;int&quot; would be in Java.","body":"Actually, in C# Int32 is an object. It is a valuetype struct object that derives from system.object. It is not treated especially differently from other value objects as an &quot;int&quot; would be in Java."}],"tags":[],"owner":{"account_id":269,"reputation":19587,"user_id":332,"accept_rate":80,"display_name":"Wedge"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1217883774,"creation_date":1217883774,"answer_id":1582,"question_id":564,"body_markdown":"This has already been answered for Java, here&#39;s the C# answer:\r\n\r\n&quot;Integer&quot; is not a valid type name in C# and &quot;int&quot; is just an alias for System.Int32. Also, unlike in Java (or C++) there aren&#39;t any special primitive types in C#, every instance of a type in C# (including int) is an object. Here&#39;s some demonstrative code:\r\n\r\n    void DoStuff()\r\n    {\r\n        System.Console.WriteLine( SomeMethod((int)5) );\r\n        System.Console.WriteLine( GetTypeName&lt;int&gt;() );\r\n    }\r\n\r\n    string SomeMethod(object someParameter)\r\n    {\r\n        return string.Format(&quot;Some text {0}&quot;, someParameter.ToString());\r\n    }\r\n    \r\n    string GetTypeName&lt;T&gt;()\r\n    {\r\n    \treturn (typeof (T)).FullName;\r\n    }","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>This has already been answered for Java, here's the C# answer:</p>\n\n<p>\"Integer\" is not a valid type name in C# and \"int\" is just an alias for System.Int32. Also, unlike in Java (or C++) there aren't any special primitive types in C#, every instance of a type in C# (including int) is an object. Here's some demonstrative code:</p>\n\n<pre><code>void DoStuff()\n{\n    System.Console.WriteLine( SomeMethod((int)5) );\n    System.Console.WriteLine( GetTypeName&lt;int&gt;() );\n}\n\nstring SomeMethod(object someParameter)\n{\n    return string.Format(\"Some text {0}\", someParameter.ToString());\n}\n\nstring GetTypeName&lt;T&gt;()\n{\n    return (typeof (T)).FullName;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":3,"creation_date":1221502979,"post_id":2823,"comment_id":5614,"body_markdown":"Objects created with the new operator will always return false when compared with ==. Andreas is confusing Integer.valueOf(int) with new Integer(int)","body":"Objects created with the new operator will always return false when compared with ==. Andreas is confusing Integer.valueOf(int) with new Integer(int)"},{"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"score":1,"creation_date":1412265897,"post_id":2823,"comment_id":41019806,"body_markdown":"Note: the default value `127` is fetched from `sun.misc.VM.getSavedProperty(&quot;java.lang.Integer.IntegerCache.high&quot;);`","body":"Note: the default value <code>127</code> is fetched from <code>sun.misc.VM.getSavedProperty(&quot;java.lang.Integer.IntegerCache&zwnj;&#8203;.high&quot;);</code>"},{"owner":{"account_id":1127382,"reputation":815,"user_id":1114316,"accept_rate":67,"display_name":"bcar"},"score":1,"creation_date":1453135492,"post_id":2823,"comment_id":57458937,"body_markdown":"@andnil - I use to work with Bex at Stellent. He&#39;s a very great resource to quote +1 for bexhuff.com reference!","body":"@andnil - I use to work with Bex at Stellent. He&#39;s a very great resource to quote +1 for bexhuff.com reference!"},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1455711361,"post_id":2823,"comment_id":58609223,"body_markdown":"http://stackoverflow.com/questions/20877086/why-do-comparisons-with-integer-valueofstring-give-different-results-for-12","body":"<a href=\"http://stackoverflow.com/questions/20877086/why-do-comparisons-with-integer-valueofstring-give-different-results-for-12\" title=\"why do comparisons with integer valueofstring give different results for 12\">stackoverflow.com/questions/20877086/&hellip;</a>"}],"tags":[],"owner":{"account_id":357,"reputation":28418,"user_id":446,"display_name":"andynil"},"comment_count":4,"down_vote_count":4,"up_vote_count":25,"is_accepted":false,"score":21,"last_activity_date":1217969673,"creation_date":1217969353,"answer_id":2823,"question_id":564,"body_markdown":"Regarding Java 1.5 and [autoboxing](http://en.wikipedia.org/wiki/Autoboxing#Autoboxing) there is an important &quot;quirk&quot; that comes to play when comparing Integer objects.\r\n\r\nIn Java, Integer objects with the values -128 to 127 are immutable (that is, for one particular integer value, say 23, all Integer objects instantiated through your program with the value 23 points to the _exact_ same object).\r\n\r\nExample, this returns true:\r\n\r\n    Integer i1 = new Integer(127);\r\n    Integer i2 = new Integer(127);\r\n    System.out.println(i1 == i2); //  true\r\n\r\nWhile this returns false:\r\n\r\n    Integer i1 = new Integer(128);\r\n    Integer i2 = new Integer(128);\r\n    System.out.println(i1 == i2); //  false\r\n\r\nThe == compares by reference (does the variables point to the same object).\r\n\r\nThis result may or may not differ depending on what JVM you are using. The specification autoboxing for Java 1.5 requires that integers (-128 to 127) always box to the same wrapper object. \r\n\r\nA solution? =) One should always use the Integer.equals() method when comparing Integer objects.\r\n\r\n    System.out.println(i1.equals(i2)); //  true\r\n\r\nMore info at [java.net](http://today.java.net/pub/a/today/2005/03/24/autoboxing.html) Example at [bexhuff.com](http://bexhuff.com/2006/11/java-1-5-autoboxing-wackyness)","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>Regarding Java 1.5 and <a href=\"http://en.wikipedia.org/wiki/Autoboxing#Autoboxing\" rel=\"noreferrer\">autoboxing</a> there is an important \"quirk\" that comes to play when comparing Integer objects.</p>\n\n<p>In Java, Integer objects with the values -128 to 127 are immutable (that is, for one particular integer value, say 23, all Integer objects instantiated through your program with the value 23 points to the <em>exact</em> same object).</p>\n\n<p>Example, this returns true:</p>\n\n<pre><code>Integer i1 = new Integer(127);\nInteger i2 = new Integer(127);\nSystem.out.println(i1 == i2); //  true\n</code></pre>\n\n<p>While this returns false:</p>\n\n<pre><code>Integer i1 = new Integer(128);\nInteger i2 = new Integer(128);\nSystem.out.println(i1 == i2); //  false\n</code></pre>\n\n<p>The == compares by reference (does the variables point to the same object).</p>\n\n<p>This result may or may not differ depending on what JVM you are using. The specification autoboxing for Java 1.5 requires that integers (-128 to 127) always box to the same wrapper object. </p>\n\n<p>A solution? =) One should always use the Integer.equals() method when comparing Integer objects.</p>\n\n<pre><code>System.out.println(i1.equals(i2)); //  true\n</code></pre>\n\n<p>More info at <a href=\"http://today.java.net/pub/a/today/2005/03/24/autoboxing.html\" rel=\"noreferrer\">java.net</a> Example at <a href=\"http://bexhuff.com/2006/11/java-1-5-autoboxing-wackyness\" rel=\"noreferrer\">bexhuff.com</a></p>\n"},{"comments":[{"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"score":0,"creation_date":1233371538,"post_id":3285,"comment_id":313882,"body_markdown":"By your definition, there is no pass by reference. Anything that is passed must have a value(even null is a value), even if it is just a value of the pointer, otherwise it is just an empty set. By CS terms, pass by reference is passing the value of the the reference(pointer). I&#39;m a little confused.?","body":"By your definition, there is no pass by reference. Anything that is passed must have a value(even null is a value), even if it is just a value of the pointer, otherwise it is just an empty set. By CS terms, pass by reference is passing the value of the the reference(pointer). I&#39;m a little confused.?"}],"tags":[],"owner":{"account_id":386,"reputation":15890,"user_id":486,"accept_rate":70,"display_name":"grom"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1233817099,"creation_date":1218020932,"answer_id":3285,"question_id":564,"body_markdown":"In Java there are two basic types in the [JVM](http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#22930). 1) Primitive types and 2) Reference Types. int is a primitive type and Integer is a class type (which is kind of reference type).\r\n\r\nPrimitive values do not share state with other primitive values. A variable whose type is a primitive type always holds a primitive value of that type.\r\n\r\n    int aNumber = 4;\r\n    int anotherNum = aNumber;\r\n    aNumber += 6;\r\n    System.out.println(anotherNum); // Prints 4\r\n\r\nAn object is a dynamically created class instance or an array. The reference values (often just references) are pointers to these objects and a special null reference, which refers to no object. There may be many references to the same object.\r\n\r\n    Integer aNumber = Integer.valueOf(4);\r\n    Integer anotherNumber = aNumber; // anotherNumber references the \r\n                                     // same object as aNumber\r\n\r\nAlso in Java everything is passed by value. With objects the value that is passed is the reference to the object. So another difference between int and Integer in java is how they are passed in method calls. For example in\r\n\r\n    public int add(int a, int b) {\r\n        return a + b;\r\n    }\r\n    final int two = 2;\r\n    int sum = add(1, two);\r\n\r\nThe variable _two_ is passed as the primitive integer type 2. Whereas in\r\n\r\n    public int add(Integer a, Integer b) {\r\n        return a.intValue() + b.intValue();\r\n    }\r\n    final Integer two = Integer.valueOf(2);\r\n    int sum = add(Integer.valueOf(1), two);\r\n\r\nThe variable _two_ is passed as a reference to an object that holds the integer value 2.\r\n\r\n----------\r\n\r\n@WolfmanDragon:\r\nPass by reference would work like so:\r\n\r\n    public void increment(int x) {\r\n      x = x + 1;\r\n    }\r\n    int a = 1;\r\n    increment(a);\r\n    // a is now 2\r\n\r\nWhen increment is called it passes a reference (pointer) to variable _a_. And the _increment_ function directly modifies variable _a_.\r\n\r\nAnd for object types it would work as follows:\r\n\r\n    public void increment(Integer x) {\r\n      x = Integer.valueOf(x.intValue() + 1);\r\n    }\r\n    Integer a = Integer.valueOf(1);\r\n    increment(a);\r\n    // a is now 2\r\n\r\nDo you see the difference now?","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>In Java there are two basic types in the <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Concepts.doc.html#22930\" rel=\"noreferrer\">JVM</a>. 1) Primitive types and 2) Reference Types. int is a primitive type and Integer is a class type (which is kind of reference type).</p>\n\n<p>Primitive values do not share state with other primitive values. A variable whose type is a primitive type always holds a primitive value of that type.</p>\n\n<pre><code>int aNumber = 4;\nint anotherNum = aNumber;\naNumber += 6;\nSystem.out.println(anotherNum); // Prints 4\n</code></pre>\n\n<p>An object is a dynamically created class instance or an array. The reference values (often just references) are pointers to these objects and a special null reference, which refers to no object. There may be many references to the same object.</p>\n\n<pre><code>Integer aNumber = Integer.valueOf(4);\nInteger anotherNumber = aNumber; // anotherNumber references the \n                                 // same object as aNumber\n</code></pre>\n\n<p>Also in Java everything is passed by value. With objects the value that is passed is the reference to the object. So another difference between int and Integer in java is how they are passed in method calls. For example in</p>\n\n<pre><code>public int add(int a, int b) {\n    return a + b;\n}\nfinal int two = 2;\nint sum = add(1, two);\n</code></pre>\n\n<p>The variable <em>two</em> is passed as the primitive integer type 2. Whereas in</p>\n\n<pre><code>public int add(Integer a, Integer b) {\n    return a.intValue() + b.intValue();\n}\nfinal Integer two = Integer.valueOf(2);\nint sum = add(Integer.valueOf(1), two);\n</code></pre>\n\n<p>The variable <em>two</em> is passed as a reference to an object that holds the integer value 2.</p>\n\n<hr>\n\n<p>@WolfmanDragon:\nPass by reference would work like so:</p>\n\n<pre><code>public void increment(int x) {\n  x = x + 1;\n}\nint a = 1;\nincrement(a);\n// a is now 2\n</code></pre>\n\n<p>When increment is called it passes a reference (pointer) to variable <em>a</em>. And the <em>increment</em> function directly modifies variable <em>a</em>.</p>\n\n<p>And for object types it would work as follows:</p>\n\n<pre><code>public void increment(Integer x) {\n  x = Integer.valueOf(x.intValue() + 1);\n}\nInteger a = Integer.valueOf(1);\nincrement(a);\n// a is now 2\n</code></pre>\n\n<p>Do you see the difference now?</p>\n"},{"tags":[],"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1267757336,"creation_date":1218033213,"answer_id":3464,"question_id":564,"body_markdown":"One more thing that I don&#39;t see in previous answers:\r\nIn Java the primitive wrappers classes like Integer, Double, Float, Boolean... and String are suposed to be invariant, so that when you pass an instance of those classes the invoked method couldn&#39;t alter your data in any way, in opositi&#243;n with most of other classes, which internal data could be altered by its public methods. So that this classes only has &#39;getter&#39; methods, no &#39;setters&#39;, besides the constructor.\r\n\r\nIn a java program String literals are stored in a separate portion of heap memory, only a instance for literal, to save memory reusing those instances","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>One more thing that I don't see in previous answers:\nIn Java the primitive wrappers classes like Integer, Double, Float, Boolean... and String are suposed to be invariant, so that when you pass an instance of those classes the invoked method couldn't alter your data in any way, in opositin with most of other classes, which internal data could be altered by its public methods. So that this classes only has 'getter' methods, no 'setters', besides the constructor.</p>\n\n<p>In a java program String literals are stored in a separate portion of heap memory, only a instance for literal, to save memory reusing those instances</p>\n"},{"comments":[{"owner":{"account_id":8385196,"reputation":359,"user_id":6295832,"accept_rate":70,"display_name":"Anuj Masand"},"score":0,"creation_date":1498562349,"post_id":498102,"comment_id":76538306,"body_markdown":"@peter Mortense, How does (int a; Integer a;  ) affects the program, i mean how do they make a difference during execution.","body":"@peter Mortense, How does (int a; Integer a;  ) affects the program, i mean how do they make a difference during execution."}],"tags":[],"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1370890553,"creation_date":1233370149,"answer_id":498102,"question_id":564,"body_markdown":"In platforms like Java, `int`s are primitives while `Integer` is an object which holds a integer field. The important distinction is that primitives are always passed around by value and by definition are immutable. \r\n\r\nAny operation involving a primitive variable always returns a new value. On the other hand, objects are passed around by reference. One could argue that the point to the object (AKA the reference) is also being passed around by value, but the contents are not.\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>In platforms like Java, <code>int</code>s are primitives while <code>Integer</code> is an object which holds a integer field. The important distinction is that primitives are always passed around by value and by definition are immutable. </p>\n\n<p>Any operation involving a primitive variable always returns a new value. On the other hand, objects are passed around by reference. One could argue that the point to the object (AKA the reference) is also being passed around by value, but the contents are not.</p>\n"},{"tags":[],"owner":{"account_id":1051263,"reputation":81,"user_id":1055140,"display_name":"nagarajn89"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1323587972,"creation_date":1323587972,"answer_id":8462531,"question_id":564,"body_markdown":"int is used to declare primitive variable \r\n\r\n\r\n    e.g. int i=10;\r\n\r\n\r\nInteger is used to create reference variable of class Integer\r\n\r\n\r\n    Integer a = new Integer();\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>int is used to declare primitive variable </p>\n\n<pre><code>e.g. int i=10;\n</code></pre>\n\n<p>Integer is used to create reference variable of class Integer</p>\n\n<pre><code>Integer a = new Integer();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1472622790,"creation_date":1400327818,"answer_id":23711054,"question_id":564,"body_markdown":"have you ever programmed before then (int) is one of the primitive types you can set for your variables (just like char, float, ...).\r\n\r\nbut Integer is a wrapper class that you can use it to do some functions on an int variable (e.g convert it to string or vise versa,...) , but keep note that methods in the wrapper classes are static so you can use them anytime without creating an instance of Integer class.\r\nas a recap :\r\n\r\n    int x;\r\n    Integer y; \r\nx and y are both variables of type int but y is wrapped by an Integer class and has several methods that you use,but i case you need to call some functions of Integer wrapper class you can do it simply.\r\n\r\n    Integer.toString(x);\r\n\r\nbut be aware that both x and y are corect but if you want to use them just as a primitive type, use the simple form (used for defining x).\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>have you ever programmed before then (int) is one of the primitive types you can set for your variables (just like char, float, ...).</p>\n\n<p>but Integer is a wrapper class that you can use it to do some functions on an int variable (e.g convert it to string or vise versa,...) , but keep note that methods in the wrapper classes are static so you can use them anytime without creating an instance of Integer class.\nas a recap :</p>\n\n<pre><code>int x;\nInteger y; \n</code></pre>\n\n<p>x and y are both variables of type int but y is wrapped by an Integer class and has several methods that you use,but i case you need to call some functions of Integer wrapper class you can do it simply.</p>\n\n<pre><code>Integer.toString(x);\n</code></pre>\n\n<p>but be aware that both x and y are corect but if you want to use them just as a primitive type, use the simple form (used for defining x).</p>\n"},{"tags":[],"owner":{"account_id":4682307,"reputation":1137,"user_id":3790709,"accept_rate":44,"display_name":"Eternal_Explorer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448895257,"creation_date":1405576923,"answer_id":24795920,"question_id":564,"body_markdown":"In both languages (Java and C#) `int` is 4-byte signed integer.\r\n\r\nUnlike Java, C# Provides both signed and unsigned integer values. As Java and C# are object object-oriented, some operations in these languages do not map directly onto instructions provided by the run time and so needs to be defined as part of an object of some type.\r\n\r\nC# provides `System.Int32` which is a value type using a part of  memory that belongs to the reference type on the heap.\r\n\r\njava provides `java.lang.Integer` which is a reference type operating on `int`. The methods in `Integer` can&#39;t be compiled directly to run time instructions.So we box an int value to convert it into an instance of Integer and use the methods which expects instance of some type (like `toString()`, `parseInt()`, `valueOf()` etc).\r\n\r\nIn C# variable  int refers to `System.Int32.Any` 4-byte value in memory can be interpreted as a primitive int, that can be manipulated by  instance of System.Int32.So int is an alias for `System.Int32.When` using integer-related methods like `int.Parse()`, `int.ToString()` etc. Integer is compiled into the FCL `System.Int32` struct calling the respective methods like `Int32.Parse()`, `Int32.ToString()`.\r\n\r\n\r\n\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>In both languages (Java and C#) <code>int</code> is 4-byte signed integer.</p>\n\n<p>Unlike Java, C# Provides both signed and unsigned integer values. As Java and C# are object object-oriented, some operations in these languages do not map directly onto instructions provided by the run time and so needs to be defined as part of an object of some type.</p>\n\n<p>C# provides <code>System.Int32</code> which is a value type using a part of  memory that belongs to the reference type on the heap.</p>\n\n<p>java provides <code>java.lang.Integer</code> which is a reference type operating on <code>int</code>. The methods in <code>Integer</code> can't be compiled directly to run time instructions.So we box an int value to convert it into an instance of Integer and use the methods which expects instance of some type (like <code>toString()</code>, <code>parseInt()</code>, <code>valueOf()</code> etc).</p>\n\n<p>In C# variable  int refers to <code>System.Int32.Any</code> 4-byte value in memory can be interpreted as a primitive int, that can be manipulated by  instance of System.Int32.So int is an alias for <code>System.Int32.When</code> using integer-related methods like <code>int.Parse()</code>, <code>int.ToString()</code> etc. Integer is compiled into the FCL <code>System.Int32</code> struct calling the respective methods like <code>Int32.Parse()</code>, <code>Int32.ToString()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4825570,"reputation":101,"user_id":3895136,"display_name":"Shravan"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1406803113,"creation_date":1406801275,"answer_id":25056184,"question_id":564,"body_markdown":"There are many reasons to use wrapper classes:\r\n\r\n 1. We get extra behavior (for instance we can use methods)\r\n 2. We can store null values whereas in primitives we cannot\r\n 3. Collections support storing objects and not primitives.","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>There are many reasons to use wrapper classes:</p>\n\n<ol>\n<li>We get extra behavior (for instance we can use methods)</li>\n<li>We can store null values whereas in primitives we cannot</li>\n<li>Collections support storing objects and not primitives.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4857249,"reputation":206,"user_id":3917868,"display_name":"Rufaro Muchedzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448895182,"creation_date":1407408629,"answer_id":25180570,"question_id":564,"body_markdown":"An int and Integer in Java and C# are two different terms used to represent different things. It is one of the the primitive data types that can be assigned to a variable that can store exactly. One value of its declared type at a time.\r\n\r\n**For example:**\r\n\r\n    int number = 7;\r\n\r\nWhere `int` is the datatype assigned to the variable number which holds the value seven. So an `int` is just a primitive not an object.\r\n\r\nWhile an `Integer` is a wrapper class for a primitive data type which has static methods. That can be used as an argument to a method which requires an object, where as int can be used as an argument to a method which requires an integer value, that can be used for arithmetic expression. \r\n\r\n**For example:**\r\n\r\n    Integer number = new Integer(5);\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>An int and Integer in Java and C# are two different terms used to represent different things. It is one of the the primitive data types that can be assigned to a variable that can store exactly. One value of its declared type at a time.</p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>int number = 7;\n</code></pre>\n\n<p>Where <code>int</code> is the datatype assigned to the variable number which holds the value seven. So an <code>int</code> is just a primitive not an object.</p>\n\n<p>While an <code>Integer</code> is a wrapper class for a primitive data type which has static methods. That can be used as an argument to a method which requires an object, where as int can be used as an argument to a method which requires an integer value, that can be used for arithmetic expression. </p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>Integer number = new Integer(5);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5585864"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448535255,"creation_date":1448535255,"answer_id":33936777,"question_id":564,"body_markdown":"An int variable holds a 32 bit signed integer value. An Integer (with capital I) holds a reference to an object of (class) type Integer, or to null.\r\n\r\nJava automatically casts between the two; from Integer to int whenever the Integer object occurs as an argument to an int operator or is assigned to an int variable, or an int value is assigned to an Integer variable. This casting is called boxing/unboxing.\r\n\r\nIf an Integer variable referencing null is unboxed, explicitly or implicitly, a NullPointerException is thrown.\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>An int variable holds a 32 bit signed integer value. An Integer (with capital I) holds a reference to an object of (class) type Integer, or to null.</p>\n\n<p>Java automatically casts between the two; from Integer to int whenever the Integer object occurs as an argument to an int operator or is assigned to an int variable, or an int value is assigned to an Integer variable. This casting is called boxing/unboxing.</p>\n\n<p>If an Integer variable referencing null is unboxed, explicitly or implicitly, a NullPointerException is thrown.</p>\n"},{"tags":[],"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472622698,"creation_date":1456684966,"answer_id":35686676,"question_id":564,"body_markdown":"In Java int is a primitive data type while Integer is a Helper class, it is use to convert for one data type to other. \r\n\r\nFor example: \r\n\r\n    double doubleValue = 156.5d;\r\n    Double doubleObject  = new Double(doubleValue);\r\n    Byte myByteValue = doubleObject.byteValue ();\r\n    String myStringValue = doubleObject.toString();\r\n\r\nPrimitive data types are store the fastest available memory where the Helper class is complex and store in heep memory. \r\n\r\nreference from &quot;David Gassner&quot; Java Essential Training. \r\n\r\n\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>In Java int is a primitive data type while Integer is a Helper class, it is use to convert for one data type to other. </p>\n\n<p>For example: </p>\n\n<pre><code>double doubleValue = 156.5d;\nDouble doubleObject  = new Double(doubleValue);\nByte myByteValue = doubleObject.byteValue ();\nString myStringValue = doubleObject.toString();\n</code></pre>\n\n<p>Primitive data types are store the fastest available memory where the Helper class is complex and store in heep memory. </p>\n\n<p>reference from \"David Gassner\" Java Essential Training. </p>\n"},{"tags":[],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524340318,"creation_date":1465846303,"answer_id":37797743,"question_id":564,"body_markdown":"**Java:** \r\n\r\n`int`, `double`, `long`, `byte`, `float`, `double`, `short`, `boolean`, `char` - primitives. Used for hold the basic data types\r\nsupported by the language. the primitive types are not part of the\r\nobject hierarchy, and they do not inherit Object. Thet can&#39;be pass by reference to a method. \r\n\r\n`Double`, `Float`, `Long`, `Integer`, `Short`, `Byte`, `Character`, and `Boolean`, are type Wrappers, packaged in `java.lang`. All of the numeric type wrappers define constructors that allow an object to be constructed from a given value, or a string representation of that value.\r\nUsing objects can add an overhead to even the simplest of calculations. \r\n\r\nBeginning with JDK 5, Java has included two very helpful features: autoboxing and autounboxing. Autoboxing/unboxing greatly simplifies and streamlines code that must convert primitive types into objects, and vice versa.  \r\n\r\nExample of constructors:\r\n\r\n    Integer(int num)\r\n    Integer(String str) throws NumberFormatException\r\n    Double(double num)\r\n    Double(String str) throws NumberFormatException\r\n\r\nExample of boxing/unboxing:\r\n  \r\n\r\n    class ManualBoxing {\r\n            public static void main(String args[]) {\r\n            Integer objInt = new Integer(20);  // Manually box the value 20.\r\n            int i = objInt.intValue();  // Manually unbox the value 20\r\n            System.out.println(i + &quot; &quot; + iOb); // displays 20 20\r\n        }\r\n    }\r\n\r\nExample of autoboxing/autounboxing:\r\n\r\n    class AutoBoxing {\r\n        public static void main(String args[]) {\r\n            Integer objInt = 40; // autobox an int\r\n            int i = objInt ; // auto-unbox\r\n            System.out.println(i + &quot; &quot; + iOb); // displays 40 40\r\n        }\r\n    }\r\n\r\n\r\nP.S. Herbert Schildt&#39;s book was taken as a reference.\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p><strong>Java:</strong> </p>\n\n<p><code>int</code>, <code>double</code>, <code>long</code>, <code>byte</code>, <code>float</code>, <code>double</code>, <code>short</code>, <code>boolean</code>, <code>char</code> - primitives. Used for hold the basic data types\nsupported by the language. the primitive types are not part of the\nobject hierarchy, and they do not inherit Object. Thet can'be pass by reference to a method. </p>\n\n<p><code>Double</code>, <code>Float</code>, <code>Long</code>, <code>Integer</code>, <code>Short</code>, <code>Byte</code>, <code>Character</code>, and <code>Boolean</code>, are type Wrappers, packaged in <code>java.lang</code>. All of the numeric type wrappers define constructors that allow an object to be constructed from a given value, or a string representation of that value.\nUsing objects can add an overhead to even the simplest of calculations. </p>\n\n<p>Beginning with JDK 5, Java has included two very helpful features: autoboxing and autounboxing. Autoboxing/unboxing greatly simplifies and streamlines code that must convert primitive types into objects, and vice versa.  </p>\n\n<p>Example of constructors:</p>\n\n<pre><code>Integer(int num)\nInteger(String str) throws NumberFormatException\nDouble(double num)\nDouble(String str) throws NumberFormatException\n</code></pre>\n\n<p>Example of boxing/unboxing:</p>\n\n<pre><code>class ManualBoxing {\n        public static void main(String args[]) {\n        Integer objInt = new Integer(20);  // Manually box the value 20.\n        int i = objInt.intValue();  // Manually unbox the value 20\n        System.out.println(i + \" \" + iOb); // displays 20 20\n    }\n}\n</code></pre>\n\n<p>Example of autoboxing/autounboxing:</p>\n\n<pre><code>class AutoBoxing {\n    public static void main(String args[]) {\n        Integer objInt = 40; // autobox an int\n        int i = objInt ; // auto-unbox\n        System.out.println(i + \" \" + iOb); // displays 40 40\n    }\n}\n</code></pre>\n\n<p>P.S. Herbert Schildt's book was taken as a reference.</p>\n"},{"comments":[{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1474658478,"post_id":39635844,"comment_id":66637870,"body_markdown":"There are 18 other answers to this question.  Does yours add something that the others missed?  It doesn&#39;t help that this isn&#39;t grammatical to begin with.","body":"There are 18 other answers to this question.  Does yours add something that the others missed?  It doesn&#39;t help that this isn&#39;t grammatical to begin with."}],"tags":[],"owner":{"account_id":9240015,"reputation":11,"user_id":6863552,"display_name":"Aatu Dave"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1533808780,"creation_date":1474538032,"answer_id":39635844,"question_id":564,"body_markdown":"In java as per my knowledge if you learner then, when you write int a; then in java generic it will compile code like `Integer a = new Integer()`.\r\nSo,as per generics `Integer` is not used but `int` is used.\r\nso there is so such difference there.\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>In java as per my knowledge if you learner then, when you write int a; then in java generic it will compile code like <code>Integer a = new Integer()</code>.\nSo,as per generics <code>Integer</code> is not used but <code>int</code> is used.\nso there is so such difference there.</p>\n"},{"tags":[],"owner":{"account_id":8245717,"reputation":153,"user_id":6201874,"display_name":"Mausam Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533808831,"creation_date":1488776919,"answer_id":42617947,"question_id":564,"body_markdown":"`int` is predefined in library function c# but in java we can create object of `Integer` ","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p><code>int</code> is predefined in library function c# but in java we can create object of <code>Integer</code> </p>\n"},{"tags":[],"owner":{"account_id":10676267,"reputation":41,"user_id":7859659,"display_name":"thamashi97"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493282867,"creation_date":1493277954,"answer_id":43651213,"question_id":564,"body_markdown":"In Java, the `int` type is a primitive data type, where as the `Integer` type is an object.\r\n\r\nIn C#, the `int` type is also a data type same as `System.Int32`. An `integer` (just like any other value types) can be boxed (&quot;wrapped&quot;) into an object.","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>In Java, the <code>int</code> type is a primitive data type, where as the <code>Integer</code> type is an object.</p>\n\n<p>In C#, the <code>int</code> type is also a data type same as <code>System.Int32</code>. An <code>integer</code> (just like any other value types) can be boxed (\"wrapped\") into an object.</p>\n"},{"tags":[],"owner":{"account_id":10625524,"reputation":99,"user_id":7825278,"display_name":"MD RAHIIM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501840642,"creation_date":1501840642,"answer_id":45503764,"question_id":564,"body_markdown":"&quot;int&quot; is primitive data-type and &quot;Integer&quot; in Wrapper Class in Java. &quot;Integer&quot; can be used as an argument to a method which requires an object, where as &quot;int&quot; can be used as an argument to a method which requires an integer value, that can be used for arithmetic expression.","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>\"int\" is primitive data-type and \"Integer\" in Wrapper Class in Java. \"Integer\" can be used as an argument to a method which requires an object, where as \"int\" can be used as an argument to a method which requires an integer value, that can be used for arithmetic expression.</p>\n"},{"tags":[],"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628712295,"creation_date":1518728685,"answer_id":48816251,"question_id":564,"body_markdown":"(Java Version)\r\nIn Simple words `int` is primitive (cannot have null value) and Integer is wrapper object for int. \r\n\r\nOne example where to use Integer vs int, When you want to compare and int variable again null it will throw error.\r\n\r\n \r\n\r\n    int a;\r\n    //assuming a value you are getting from data base which is null\r\n    if(a ==null) // this is wrong - cannot compare primitive to null\r\n    {\r\n    do something...}\r\n\r\n    Instead you will use,\r\n    Integer a;\r\n    //assuming a value you are getting from data base which is null\r\n    if(a ==null) // this is correct/legal\r\n    { do something...}\r\n\r\n\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>(Java Version)\nIn Simple words <code>int</code> is primitive (cannot have null value) and Integer is wrapper object for int.</p>\n<p>One example where to use Integer vs int, When you want to compare and int variable again null it will throw error.</p>\n<pre><code>int a;\n//assuming a value you are getting from data base which is null\nif(a ==null) // this is wrong - cannot compare primitive to null\n{\ndo something...}\n\nInstead you will use,\nInteger a;\n//assuming a value you are getting from data base which is null\nif(a ==null) // this is correct/legal\n{ do something...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10104128,"reputation":4849,"user_id":7467246,"accept_rate":67,"display_name":"Priyantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528198514,"creation_date":1528198514,"answer_id":50699096,"question_id":564,"body_markdown":"**01. Integer can be null. But int cannot be null.**\r\n\r\n    Integer value1 = null; //OK\r\n\r\n    int value2 = null      //Error\r\n\r\n**02. Only can pass Wrapper Classes type values to any collection class.**\r\n  \r\n(Wrapper Classes - Boolean,Character,Byte,Short,Integer,Long,Float,Double)\r\n\r\n \r\n\r\n    List&lt;Integer&gt; element = new ArrayList&lt;&gt;();\r\n    int valueInt = 10;\r\n    Integer  valueInteger = new Integer(value);\r\n    element.add(valueInteger);\r\n\r\n But normally we add primitive values to collection class? Is point 02 correct?\r\n\r\n    List&lt;Integer&gt; element = new ArrayList&lt;&gt;();\r\n    element.add(5);\r\n\r\nYes 02 is correct, beacouse `autoboxing.`\r\n\r\n&gt; Autoboxing is the automatic conversion that the java compiler makes\r\n&gt; between the primitive type and their corresponding wrapper class.\r\n\r\nThen 5 convert as Integer value by autoboxing. \r\n\r\n ","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p><strong>01. Integer can be null. But int cannot be null.</strong></p>\n\n<pre><code>Integer value1 = null; //OK\n\nint value2 = null      //Error\n</code></pre>\n\n<p><strong>02. Only can pass Wrapper Classes type values to any collection class.</strong></p>\n\n<p>(Wrapper Classes - Boolean,Character,Byte,Short,Integer,Long,Float,Double)</p>\n\n<pre><code>List&lt;Integer&gt; element = new ArrayList&lt;&gt;();\nint valueInt = 10;\nInteger  valueInteger = new Integer(value);\nelement.add(valueInteger);\n</code></pre>\n\n<p>But normally we add primitive values to collection class? Is point 02 correct?</p>\n\n<pre><code>List&lt;Integer&gt; element = new ArrayList&lt;&gt;();\nelement.add(5);\n</code></pre>\n\n<p>Yes 02 is correct, beacouse <code>autoboxing.</code></p>\n\n<blockquote>\n  <p>Autoboxing is the automatic conversion that the java compiler makes\n  between the primitive type and their corresponding wrapper class.</p>\n</blockquote>\n\n<p>Then 5 convert as Integer value by autoboxing. </p>\n"},{"tags":[],"owner":{"account_id":12397977,"reputation":247,"user_id":9036713,"display_name":"Kavinda Pushpitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559545264,"creation_date":1559545264,"answer_id":56422463,"question_id":564,"body_markdown":"**int** is a primitive data type.\r\n**Integer** is a wrapper class. It can store int data as objects.","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p><strong>int</strong> is a primitive data type.\n<strong>Integer</strong> is a wrapper class. It can store int data as objects.</p>\n"},{"tags":[],"owner":{"account_id":16247586,"reputation":11,"user_id":11732298,"display_name":"Lourdes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562132118,"creation_date":1562132118,"answer_id":56863511,"question_id":564,"body_markdown":"int is a primitive datatype whereas Integer is an object. \r\nCreating an object with Integer will give you access to all the methods that are available in the Integer class. \r\nBut, if you create a primitive data type with int, you will not be able to use those inbuild methods and you have to define them by yourself.\r\nBut, if you don&#39;t want any other methods and want to make the program more memory efficient, you can go with primitive datatype because creating an object will increase the memory consumption.","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>int is a primitive datatype whereas Integer is an object. \nCreating an object with Integer will give you access to all the methods that are available in the Integer class. \nBut, if you create a primitive data type with int, you will not be able to use those inbuild methods and you have to define them by yourself.\nBut, if you don't want any other methods and want to make the program more memory efficient, you can go with primitive datatype because creating an object will increase the memory consumption.</p>\n"}],"owner":{"account_id":18,"reputation":35658,"user_id":25,"accept_rate":77,"display_name":"CodingWithoutComments"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248667,"favorite_count":0,"down_vote_count":3,"up_vote_count":272,"accepted_answer_id":566,"answer_count":26,"score":269,"last_activity_date":1671838823,"creation_date":1217713654,"question_id":564,"body_markdown":"I was reading *[More Joel on Software][2]* when I came across [Joel Spolsky][3] saying something about a particular type of programmer knowing the difference between an `int` and an `Integer` in Java/C# (Object-Oriented Programming Languages).\r\n\r\nSo, what is the difference?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Borders_%28UK%29\r\n  [2]: http://www.amazon.com/More-Joel-Software-Occasionally-Developers/dp/1430209879\r\n  [3]: http://en.wikipedia.org/wiki/Joel_Spolsky\r\n","title":"What is the difference between an int and an Integer in Java and C#?","body":"<p>I was reading <em><a href=\"https://rads.stackoverflow.com/amzn/click/com/1430209879\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">More Joel on Software</a></em> when I came across <a href=\"http://en.wikipedia.org/wiki/Joel_Spolsky\" rel=\"noreferrer\">Joel Spolsky</a> saying something about a particular type of programmer knowing the difference between an <code>int</code> and an <code>Integer</code> in Java/C# (Object-Oriented Programming Languages).</p>\n\n<p>So, what is the difference?</p>\n"},{"tags":["java","linux","ubuntu","netbeans","command-line"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1372385158,"post_id":17355863,"comment_id":25185670,"body_markdown":"Where did /usr/local/java/jre1.7.0_25 come from?","body":"Where did /usr/local/java/jre1.7.0_25 come from?"},{"owner":{"account_id":1313069,"reputation":1143,"user_id":1260632,"accept_rate":95,"display_name":"Tropical_Peach"},"score":0,"creation_date":1372400510,"post_id":17355863,"comment_id":25189582,"body_markdown":"It&#39;s the Oracle one. I had problems with open jre","body":"It&#39;s the Oracle one. I had problems with open jre"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1372416384,"post_id":17355863,"comment_id":25197285,"body_markdown":"I would strongly suggest just running `sudo apt-get install openjdk-6- jdk` and see if that Java version is good enough for your purposes.  That was built on your platform and should work well out of the box","body":"I would strongly suggest just running <code>sudo apt-get install openjdk-6- jdk</code> and see if that Java version is good enough for your purposes.  That was built on your platform and should work well out of the box"},{"owner":{"account_id":1313069,"reputation":1143,"user_id":1260632,"accept_rate":95,"display_name":"Tropical_Peach"},"score":0,"creation_date":1372552606,"post_id":17355863,"comment_id":25239232,"body_markdown":"I had that before, and it was having errors with Netbeans. Trust me, I would rather use openjdk/jre than the Oracle ones, but it just doesn&#39;t work for whatever reason with Netbeans.","body":"I had that before, and it was having errors with Netbeans. Trust me, I would rather use openjdk/jre than the Oracle ones, but it just doesn&#39;t work for whatever reason with Netbeans."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1372553096,"post_id":17355863,"comment_id":25239311,"body_markdown":"Whenever you run into problems with a software package under Linux, check what platforms are supported. http://wiki.netbeans.org/NetBeans_70_Supported_Platforms - if &quot;I need this to work&quot; is i mportant then you should only use one of those.  Here Ubuntu 10.10.","body":"Whenever you run into problems with a software package under Linux, check what platforms are supported. <a href=\"http://wiki.netbeans.org/NetBeans_70_Supported_Platforms\" rel=\"nofollow noreferrer\">wiki.netbeans.org/NetBeans_70_Supported_Platforms</a> - if &quot;I need this to work&quot; is i mportant then you should only use one of those.  Here Ubuntu 10.10."}],"answers":[{"comments":[{"owner":{"account_id":1313069,"reputation":1143,"user_id":1260632,"accept_rate":95,"display_name":"Tropical_Peach"},"score":3,"creation_date":1372383549,"post_id":17355914,"comment_id":25185339,"body_markdown":"That did nothing, it installed something but I still get the same error.","body":"That did nothing, it installed something but I still get the same error."},{"owner":{"account_id":1899579,"reputation":10124,"user_id":1715716,"accept_rate":86,"display_name":"Gauthier Boaglio"},"score":0,"creation_date":1372383698,"post_id":17355914,"comment_id":25185366,"body_markdown":"what do you get with `$ locate libXtst` ? Nothing ?","body":"what do you get with <code>$ locate libXtst</code> ? Nothing ?"},{"owner":{"account_id":1313069,"reputation":1143,"user_id":1260632,"accept_rate":95,"display_name":"Tropical_Peach"},"score":0,"creation_date":1372400376,"post_id":17355914,"comment_id":25189517,"body_markdown":"Okay, this works, I have the package now. All I need to do now is find out where I need to put if for script to see it","body":"Okay, this works, I have the package now. All I need to do now is find out where I need to put if for script to see it"},{"owner":{"account_id":1313069,"reputation":1143,"user_id":1260632,"accept_rate":95,"display_name":"Tropical_Peach"},"score":1,"creation_date":1372400764,"post_id":17355914,"comment_id":25189690,"body_markdown":"Now, I&#39;m getting &#39;[2013-06-28 00:24:46.802]:     /usr/local/java/jre1.7.0_25/lib/i386/xawt/libmawt.so: libXtst.so.6: wrong ELF class: ELFCLASS64&#39;","body":"Now, I&#39;m getting &#39;[2013-06-28 00:24:46.802]:     /usr/local/java/jre1.7.0_25/lib/i386/xawt/libmawt.so: libXtst.so.6: wrong ELF class: ELFCLASS64&#39;"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1372416337,"post_id":17355914,"comment_id":25197259,"body_markdown":"Try the other one of the 32-bit/64-bit versions.","body":"Try the other one of the 32-bit/64-bit versions."},{"owner":{"account_id":1313069,"reputation":1143,"user_id":1260632,"accept_rate":95,"display_name":"Tropical_Peach"},"score":0,"creation_date":1372552651,"post_id":17355914,"comment_id":25239238,"body_markdown":"Thanks, I had already done that, but yes it works, turns out I had the 32-bit of JRE instead of the 64-bit.","body":"Thanks, I had already done that, but yes it works, turns out I had the 32-bit of JRE instead of the 64-bit."},{"owner":{"account_id":942528,"reputation":2557,"user_id":970346,"accept_rate":40,"display_name":"Stephen Niedzielski"},"score":43,"creation_date":1382323823,"post_id":17355914,"comment_id":28900612,"body_markdown":"`sudo apt-get install libxtst6:i386`","body":"<code>sudo apt-get install libxtst6:i386</code>"},{"owner":{"display_name":"user285594"},"score":0,"creation_date":1388175261,"post_id":17355914,"comment_id":31196125,"body_markdown":"+1 @StephenNiedzielski. ( Step 1) download http://www.ultramixer.com/download.html  Step 2) sudo apt-get install libxtst6:i386 Step 3) run ./UltraMixer4.sh . Workings )","body":"+1 @StephenNiedzielski. ( Step 1) download <a href=\"http://www.ultramixer.com/download.html\" rel=\"nofollow noreferrer\">ultramixer.com/download.html</a>  Step 2) sudo apt-get install libxtst6:i386 Step 3) run ./UltraMixer4.sh . Workings )"},{"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"score":0,"creation_date":1462797969,"post_id":17355914,"comment_id":61773362,"body_markdown":"The answer above still works with Ubuntu 16 + Quartus II v12 32-bit edition. `sudo apt-get install libxtst6:i386`","body":"The answer above still works with Ubuntu 16 + Quartus II v12 32-bit edition. <code>sudo apt-get install libxtst6:i386</code>"},{"owner":{"account_id":1685877,"reputation":1198,"user_id":1549185,"display_name":"SeeJayBee"},"score":0,"creation_date":1470834731,"post_id":17355914,"comment_id":65110254,"body_markdown":"I&#39;d like to point out that this didn&#39;t work for me. Turned out I didn&#39;t even have the i386 architecture installed. So I had to first: `sudo dpkg --add-architecture i368` then `sudo apt-get update`. Then I could install the 32-bit package.","body":"I&#39;d like to point out that this didn&#39;t work for me. Turned out I didn&#39;t even have the i386 architecture installed. So I had to first: <code>sudo dpkg --add-architecture i368</code> then <code>sudo apt-get update</code>. Then I could install the 32-bit package."},{"owner":{"account_id":2207699,"reputation":3178,"user_id":2372784,"accept_rate":56,"display_name":"zed"},"score":0,"creation_date":1474496919,"post_id":17355914,"comment_id":66560570,"body_markdown":"If you are looking for the i386 version of the file, it is in `/usr/lib/i386-linux-gnu/libXtst.so.6`","body":"If you are looking for the i386 version of the file, it is in <code>&#47;usr&#47;lib&#47;i386-linux-gnu&#47;libXtst.so.6</code>"}],"tags":[],"owner":{"account_id":1899579,"reputation":10124,"user_id":1715716,"accept_rate":86,"display_name":"Gauthier Boaglio"},"comment_count":11,"down_vote_count":1,"up_vote_count":158,"is_accepted":true,"score":157,"last_activity_date":1671838800,"creation_date":1372383326,"answer_id":17355914,"question_id":17355863,"body_markdown":"&lt;!-- language-all: lang-sh --&gt;\r\n\r\n**EDIT:** As mentioned by [Stephen Niedzielski](https://stackoverflow.com/users/970346/stephen-niedzielski) in his comment, the issue seems to come from the 32-bit being of the JRE, which is de facto, looking for the 32-bit version of `libXtst6`. To install the required version of the library:\r\n\r\n    $ sudo apt-get install libxtst6:i386\r\n\r\n---\r\n\r\nType:\r\n\r\n    $ sudo apt-get update\r\n    $ sudo apt-get install libxtst6\r\n\r\nIf this isnt OK, type:\r\n\r\n    $ sudo updatedb\r\n    $ locate libXtst\r\n\r\nit should return something like:\r\n\r\n    /usr/lib/x86_64-linux-gnu/libXtst.so.6       # Mine is OK\r\n    /usr/lib/x86_64-linux-gnu/libXtst.so.6.1.0\r\n\r\nIf you do not have `libXtst.so.6` but do have `libXtst.so.6.X.X` create a symbolic link:\r\n\r\n    $ cd /usr/lib/x86_64-linux-gnu/\r\n    $ ln -s libXtst.so.6 libXtst.so.6.X.X","title":"Can&#39;t find/install libXtst.so.6?","body":"\n<p><strong>EDIT:</strong> As mentioned by <a href=\"https://stackoverflow.com/users/970346/stephen-niedzielski\">Stephen Niedzielski</a> in his comment, the issue seems to come from the 32-bit being of the JRE, which is de facto, looking for the 32-bit version of <code>libXtst6</code>. To install the required version of the library:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ sudo apt-get install libxtst6:i386\n</code></pre>\n<hr />\n<p>Type:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ sudo apt-get update\n$ sudo apt-get install libxtst6\n</code></pre>\n<p>If this isnt OK, type:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ sudo updatedb\n$ locate libXtst\n</code></pre>\n<p>it should return something like:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>/usr/lib/x86_64-linux-gnu/libXtst.so.6       # Mine is OK\n/usr/lib/x86_64-linux-gnu/libXtst.so.6.1.0\n</code></pre>\n<p>If you do not have <code>libXtst.so.6</code> but do have <code>libXtst.so.6.X.X</code> create a symbolic link:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ cd /usr/lib/x86_64-linux-gnu/\n$ ln -s libXtst.so.6 libXtst.so.6.X.X\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6773908,"reputation":131,"user_id":5216380,"display_name":"user5216380"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1439318962,"creation_date":1439317965,"answer_id":31949425,"question_id":17355863,"body_markdown":"This worked for me in Luna elementary OS\r\n\r\n    sudo apt-get install libxtst6:i386\r\n\r\n","title":"Can&#39;t find/install libXtst.so.6?","body":"<p>This worked for me in Luna elementary OS</p>\n\n<pre><code>sudo apt-get install libxtst6:i386\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7347368,"reputation":225,"user_id":5594645,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448281965,"creation_date":1448272652,"answer_id":33868087,"question_id":17355863,"body_markdown":"Your problem comes from the 32/64 bit version of your JDK/JRE... Your shared lib is searched for a 32 bit version.\r\n\r\nYour default JDK is a 32 bit version. Try to install a 64 bit one by default and relaunch your `.sh file.","title":"Can&#39;t find/install libXtst.so.6?","body":"<p>Your problem comes from the 32/64 bit version of your JDK/JRE... Your shared lib is searched for a 32 bit version.</p>\n\n<p>Your default JDK is a 32 bit version. Try to install a 64 bit one by default and relaunch your `.sh file.</p>\n"},{"tags":[],"owner":{"account_id":11807710,"reputation":21,"user_id":8639818,"display_name":"Darek Nowak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505912326,"creation_date":1505901038,"answer_id":46318767,"question_id":17355863,"body_markdown":"Had that issue on Ubuntu 14.04, In my case I had also &lt;b&gt;libXtst.so&lt;/b&gt; missing:\r\n\r\n    Could not open library &#39;libXtst.so&#39;: libXtst.so: cannot open shared object \r\n    file: No such file or directory\r\n\r\nMake sure your symbolic link is pointing to proper file, \r\ncd /usr/lib/x86_64-linux-gnu and list libXtst with:\r\n\r\n     ll |grep libXtst                                                                                                                                                           \r\n     lrwxrwxrwx   1 root root        16 Oct  7  2016 libXtst.so.6 -&gt; libXtst.so.6.1.0\r\n     -rw-r--r--   1 root root     22880 Aug 16  2013 libXtst.so.6.1.0\r\nThen just create proper symbolic link using:\r\n\r\n    sudo ln -s libXtst.so.6 libXtst.so\r\n\r\nList again:\r\n\r\n    ll | grep libXtst\r\n    lrwxrwxrwx   1 root root        12 Sep 20 10:23 libXtst -&gt; libXtst.so.6\r\n    lrwxrwxrwx   1 root root        12 Sep 20 10:23 libXtst.so -&gt; libXtst.so.6\r\n    lrwxrwxrwx   1 root root        16 Oct  7  2016 libXtst.so.6 -&gt; libXtst.so.6.1.0\r\n    -rw-r--r--   1 root root     22880 Aug 16  2013 libXtst.so.6.1.0\r\n\r\n all set!","title":"Can&#39;t find/install libXtst.so.6?","body":"<p>Had that issue on Ubuntu 14.04, In my case I had also <b>libXtst.so</b> missing:</p>\n\n<pre><code>Could not open library 'libXtst.so': libXtst.so: cannot open shared object \nfile: No such file or directory\n</code></pre>\n\n<p>Make sure your symbolic link is pointing to proper file, \ncd /usr/lib/x86_64-linux-gnu and list libXtst with:</p>\n\n<pre><code> ll |grep libXtst                                                                                                                                                           \n lrwxrwxrwx   1 root root        16 Oct  7  2016 libXtst.so.6 -&gt; libXtst.so.6.1.0\n -rw-r--r--   1 root root     22880 Aug 16  2013 libXtst.so.6.1.0\n</code></pre>\n\n<p>Then just create proper symbolic link using:</p>\n\n<pre><code>sudo ln -s libXtst.so.6 libXtst.so\n</code></pre>\n\n<p>List again:</p>\n\n<pre><code>ll | grep libXtst\nlrwxrwxrwx   1 root root        12 Sep 20 10:23 libXtst -&gt; libXtst.so.6\nlrwxrwxrwx   1 root root        12 Sep 20 10:23 libXtst.so -&gt; libXtst.so.6\nlrwxrwxrwx   1 root root        16 Oct  7  2016 libXtst.so.6 -&gt; libXtst.so.6.1.0\n-rw-r--r--   1 root root     22880 Aug 16  2013 libXtst.so.6.1.0\n</code></pre>\n\n<p>all set!</p>\n"},{"tags":[],"owner":{"account_id":7336616,"reputation":167,"user_id":5587780,"display_name":"Leland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657673589,"creation_date":1657673589,"answer_id":72959796,"question_id":17355863,"body_markdown":"I had this issue with CentOS 8 and all of the packages above did not solve my problem. When I reviewed the two folders that store these files (for 64 bit /usr/lib64/ vs 32 bit /usr/lib/) I found that the 64-bit folder did not have libXt (but I was on a 64 bit OS). So I ran:\r\n\r\n&gt; yum install -y libXt.x86_64 \r\n\r\nAnd this resolved my problem. libXt.so.6 was now in that directory. \r\n","title":"Can&#39;t find/install libXtst.so.6?","body":"<p>I had this issue with CentOS 8 and all of the packages above did not solve my problem. When I reviewed the two folders that store these files (for 64 bit /usr/lib64/ vs 32 bit /usr/lib/) I found that the 64-bit folder did not have libXt (but I was on a 64 bit OS). So I ran:</p>\n<blockquote>\n<p>yum install -y libXt.x86_64</p>\n</blockquote>\n<p>And this resolved my problem. libXt.so.6 was now in that directory.</p>\n"}],"owner":{"account_id":1313069,"reputation":1143,"user_id":1260632,"accept_rate":95,"display_name":"Tropical_Peach"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228495,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":17355914,"answer_count":5,"score":81,"last_activity_date":1671838800,"creation_date":1372382850,"question_id":17355863,"body_markdown":"I&#39;m running Ubuntu 12.10 and I&#39;m trying to install Netbeans 7.1(or later)\r\nI have the .sh file, but it won&#39;t install, the error appears here:\r\n\r\n    [2013-06-27 19:11:28.918]:     \tat org.netbeans.installer.Installer.main(Installer.java:81)\r\n    [2013-06-27 19:11:28.918]:     An error occured while initializing the NetBeans IDE installer UI.\r\n    [2013-06-27 19:11:28.918]:     Most probably the running JVM is not compatible with the current platform.\r\n    [2013-06-27 19:11:28.919]:     See FAQ at http://wiki.netbeans.org/FaqUnableToPrepareBundledJdk for more information.\r\n    [2013-06-27 19:11:28.919]:     /usr/local/java/jre1.7.0_25/lib/i386/xawt/libmawt.so: libXtst.so.6: cannot open shared object file: No such file or directory\r\n    [2013-06-27 19:11:28.919]:     \r\n    [2013-06-27 19:11:28.919]:     Exception:\r\n    [2013-06-27 19:11:28.919]:       java.lang.UnsatisfiedLinkError:\r\n    [2013-06-27 19:11:28.919]:       /usr/local/java/jre1.7.0_25/lib/i386/xawt/libmawt.so: libXtst.so.6: cannot open shared object file: No such file or directory\r\n    [2013-06-27 19:11:28.919]:     \r\n    [2013-06-27 19:11:28.919]:     You can get more details about the issue in the installer log file:\r\n    [2013-06-27 19:11:28.919]:      /root/.nbi/log/20130627191128.log\r\n\r\nI don&#39;t have the libXtst.so.6 file in any directory, and I can&#39;t seem to find it anywhere to download. Has anyone else run into this problem, or know a work around?","title":"Can&#39;t find/install libXtst.so.6?","body":"<p>I'm running Ubuntu 12.10 and I'm trying to install Netbeans 7.1(or later)\nI have the .sh file, but it won't install, the error appears here:</p>\n\n<pre><code>[2013-06-27 19:11:28.918]:      at org.netbeans.installer.Installer.main(Installer.java:81)\n[2013-06-27 19:11:28.918]:     An error occured while initializing the NetBeans IDE installer UI.\n[2013-06-27 19:11:28.918]:     Most probably the running JVM is not compatible with the current platform.\n[2013-06-27 19:11:28.919]:     See FAQ at http://wiki.netbeans.org/FaqUnableToPrepareBundledJdk for more information.\n[2013-06-27 19:11:28.919]:     /usr/local/java/jre1.7.0_25/lib/i386/xawt/libmawt.so: libXtst.so.6: cannot open shared object file: No such file or directory\n[2013-06-27 19:11:28.919]:     \n[2013-06-27 19:11:28.919]:     Exception:\n[2013-06-27 19:11:28.919]:       java.lang.UnsatisfiedLinkError:\n[2013-06-27 19:11:28.919]:       /usr/local/java/jre1.7.0_25/lib/i386/xawt/libmawt.so: libXtst.so.6: cannot open shared object file: No such file or directory\n[2013-06-27 19:11:28.919]:     \n[2013-06-27 19:11:28.919]:     You can get more details about the issue in the installer log file:\n[2013-06-27 19:11:28.919]:      /root/.nbi/log/20130627191128.log\n</code></pre>\n\n<p>I don't have the libXtst.so.6 file in any directory, and I can't seem to find it anywhere to download. Has anyone else run into this problem, or know a work around?</p>\n"},{"tags":["java","inheritance","aspectj"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671664103,"post_id":74882376,"comment_id":132150096,"body_markdown":"Why does your example show B().foo() calling blah(), when your question asks for B().blah() to call foo()?","body":"Why does your example show B().foo() calling blah(), when your question asks for B().blah() to call foo()?"},{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1671666082,"post_id":74882376,"comment_id":132150406,"body_markdown":"See [Template Method Design Pattern in Java](https://www.digitalocean.com/community/tutorials/template-method-design-pattern-in-java).","body":"See <a href=\"https://www.digitalocean.com/community/tutorials/template-method-design-pattern-in-java\" rel=\"nofollow noreferrer\">Template Method Design Pattern in Java</a>."},{"owner":{"account_id":877569,"reputation":3025,"user_id":87240,"accept_rate":100,"display_name":"krasnaya"},"score":0,"creation_date":1671739061,"post_id":74882376,"comment_id":132167982,"body_markdown":"@tgdavies my bad, updated the names in the python examples to be consistent with the java one","body":"@tgdavies my bad, updated the names in the python examples to be consistent with the java one"}],"answers":[{"comments":[{"owner":{"account_id":877569,"reputation":3025,"user_id":87240,"accept_rate":100,"display_name":"krasnaya"},"score":1,"creation_date":1671662794,"post_id":74882470,"comment_id":132149865,"body_markdown":"I don&#39;t want to keep having to remember to call foo() in all subclasses though. Is there any way around this?","body":"I don&#39;t want to keep having to remember to call foo() in all subclasses though. Is there any way around this?"},{"owner":{"account_id":12635177,"reputation":158,"user_id":9184911,"display_name":"Ishak Hari"},"score":0,"creation_date":1671662963,"post_id":74882470,"comment_id":132149895,"body_markdown":"Can you explain more please ?","body":"Can you explain more please ?"},{"owner":{"account_id":877569,"reputation":3025,"user_id":87240,"accept_rate":100,"display_name":"krasnaya"},"score":0,"creation_date":1671663021,"post_id":74882470,"comment_id":132149910,"body_markdown":"In your solution, the subclass is explicitly calling `foo()`. I want that part to be handled automatically. Something like this discussion: https://github.com/microsoft/TypeScript/issues/21388","body":"In your solution, the subclass is explicitly calling <code>foo()</code>. I want that part to be handled automatically. Something like this discussion: <a href=\"https://github.com/microsoft/TypeScript/issues/21388\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/21388</a>"},{"owner":{"account_id":12635177,"reputation":158,"user_id":9184911,"display_name":"Ishak Hari"},"score":0,"creation_date":1671663368,"post_id":74882470,"comment_id":132149962,"body_markdown":"If I understand you correctly, in this case, try to move `foo();` to be below `// Implementation of blah` and tell me if it meet your needs","body":"If I understand you correctly, in this case, try to move <code>foo();</code> to be below <code>&#47;&#47; Implementation of blah</code> and tell me if it meet your needs"},{"owner":{"account_id":877569,"reputation":3025,"user_id":87240,"accept_rate":100,"display_name":"krasnaya"},"score":0,"creation_date":1671837723,"post_id":74882470,"comment_id":132187528,"body_markdown":"Not really, because now we have to remember to call super.blah() everywhere instead","body":"Not really, because now we have to remember to call super.blah() everywhere instead"}],"tags":[],"owner":{"account_id":12635177,"reputation":158,"user_id":9184911,"display_name":"Ishak Hari"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671662582,"creation_date":1671662582,"answer_id":74882470,"question_id":74882376,"body_markdown":"In java you can also use `decorator pattern`\r\n\r\nBased on your example, try this:\r\n\r\n    class A {\r\n      void foo() {\r\n        System.out.println(&quot;foo called&quot;);\r\n      }\r\n    \r\n      void blah() {\r\n        // Implementation of blah\r\n      }\r\n    }\r\n    \r\n    class B extends A {\r\n      @Override\r\n      void blah() {\r\n        super.blah();\r\n        foo();\r\n      }\r\n    }\r\n\r\n\r\nNow, when you call `blah` on an instance of `B`, the `foo` method will be called immediately after the original implementation of `blah`. ","title":"Automatically call superclass method after inherited subclass method","body":"<p>In java you can also use <code>decorator pattern</code></p>\n<p>Based on your example, try this:</p>\n<pre><code>class A {\n  void foo() {\n    System.out.println(&quot;foo called&quot;);\n  }\n\n  void blah() {\n    // Implementation of blah\n  }\n}\n\nclass B extends A {\n  @Override\n  void blah() {\n    super.blah();\n    foo();\n  }\n}\n</code></pre>\n<p>Now, when you call <code>blah</code> on an instance of <code>B</code>, the <code>foo</code> method will be called immediately after the original implementation of <code>blah</code>.</p>\n"},{"comments":[{"owner":{"account_id":877569,"reputation":3025,"user_id":87240,"accept_rate":100,"display_name":"krasnaya"},"score":0,"creation_date":1671837529,"post_id":74882709,"comment_id":132187505,"body_markdown":"In the inheritance example, how do we prevent users from calling `B.onBlah`directly? Even though `onBlah` is declared protected, it&#39;s still accessible within the same package right?","body":"In the inheritance example, how do we prevent users from calling <code>B.onBlah</code>directly? Even though <code>onBlah</code> is declared protected, it&#39;s still accessible within the same package right?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671837975,"post_id":74882709,"comment_id":132187582,"body_markdown":"That&#39;s right -- you can put B in a package where the users of B are not &quot;supposed&quot; to create classes, but I don&#39;t think you can actually prevent them calling it. That&#39;s another advantage of the composition solution.","body":"That&#39;s right -- you can put B in a package where the users of B are not &quot;supposed&quot; to create classes, but I don&#39;t think you can actually prevent them calling it. That&#39;s another advantage of the composition solution."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671838324,"creation_date":1671664847,"answer_id":74882709,"question_id":74882376,"body_markdown":"You can make `blah()` a final method in your base class, with an `onBlah()` method in your child classes which is implemented instead of overriding `blah`. This enforces the calling of `foo()`.\r\n\r\n```\r\n\r\n\r\nabstract class A {\r\n    public final void blah() {\r\n        onBlah();\r\n        foo();\r\n    }\r\n\r\n    public final void foo() {\r\n        System.out.println(&quot;Foo called&quot;);\r\n    }\r\n\r\n    /**\r\n     * Subclasses implement this to provide blah behaviour\r\n     */\r\n    protected abstract void onBlah();\r\n}\r\n\r\nclass B extends A {\r\n\r\n    @Override\r\n    protected void onBlah() {\r\n        System.out.println(&quot;Subclass blah&quot;);\r\n    }\r\n}\r\n\r\npublic class So74882376 {\r\n    public static void main(String[] args) {\r\n        new B().blah();\r\n    }\r\n}\r\n```\r\n\r\nBecause `blah()` is final, no subclass can break the relationship between calling `blah` and calling `foo`.\r\n\r\n`onBlah()` is protected so that we don&#39;t pollute the public interface of `A`.\r\n\r\nDesigning for inheritance is something which needs careful thought. It is often better to use composition.\r\n\r\nAn alternative to using inheritance here would be to compose an `A` and a `BlahStrategy` instance:\r\n\r\n```\r\ninterface BlahStrategy {\r\n    public void onBlah();\r\n}\r\n\r\nfinal class A2 {\r\n    private final BlahStrategy blahStrategy;\r\n\r\n    public A2(BlahStrategy blahStrategy) {\r\n        this.blahStrategy = blahStrategy;\r\n    }\r\n\r\n    public void blah() {\r\n        blahStrategy.onBlah();\r\n        foo();\r\n    }\r\n\r\n    public void foo() {\r\n        System.out.println(&quot;Foo called&quot;);\r\n    }\r\n}\r\n\r\npublic class So74882376 {\r\n    public static void main(String[] args) {\r\n        new B().blah();\r\n        new A2(() -&gt; System.out.println(&quot;my blah action&quot;)).blah();\r\n        new A2(() -&gt; System.out.println(&quot;another blah action&quot;)).blah();\r\n    }\r\n}\r\n```\r\nOf course you can extend `A2` to encapsulate the `BlahStrategy`:\r\n```\r\nfinal class B2 extends A2 {\r\n   public B2() { super(() -&gt; System.out.println(&quot;Subclass blah&quot;)); }\r\n}\r\n```","title":"Automatically call superclass method after inherited subclass method","body":"<p>You can make <code>blah()</code> a final method in your base class, with an <code>onBlah()</code> method in your child classes which is implemented instead of overriding <code>blah</code>. This enforces the calling of <code>foo()</code>.</p>\n<pre><code>\n\nabstract class A {\n    public final void blah() {\n        onBlah();\n        foo();\n    }\n\n    public final void foo() {\n        System.out.println(&quot;Foo called&quot;);\n    }\n\n    /**\n     * Subclasses implement this to provide blah behaviour\n     */\n    protected abstract void onBlah();\n}\n\nclass B extends A {\n\n    @Override\n    protected void onBlah() {\n        System.out.println(&quot;Subclass blah&quot;);\n    }\n}\n\npublic class So74882376 {\n    public static void main(String[] args) {\n        new B().blah();\n    }\n}\n</code></pre>\n<p>Because <code>blah()</code> is final, no subclass can break the relationship between calling <code>blah</code> and calling <code>foo</code>.</p>\n<p><code>onBlah()</code> is protected so that we don't pollute the public interface of <code>A</code>.</p>\n<p>Designing for inheritance is something which needs careful thought. It is often better to use composition.</p>\n<p>An alternative to using inheritance here would be to compose an <code>A</code> and a <code>BlahStrategy</code> instance:</p>\n<pre><code>interface BlahStrategy {\n    public void onBlah();\n}\n\nfinal class A2 {\n    private final BlahStrategy blahStrategy;\n\n    public A2(BlahStrategy blahStrategy) {\n        this.blahStrategy = blahStrategy;\n    }\n\n    public void blah() {\n        blahStrategy.onBlah();\n        foo();\n    }\n\n    public void foo() {\n        System.out.println(&quot;Foo called&quot;);\n    }\n}\n\npublic class So74882376 {\n    public static void main(String[] args) {\n        new B().blah();\n        new A2(() -&gt; System.out.println(&quot;my blah action&quot;)).blah();\n        new A2(() -&gt; System.out.println(&quot;another blah action&quot;)).blah();\n    }\n}\n</code></pre>\n<p>Of course you can extend <code>A2</code> to encapsulate the <code>BlahStrategy</code>:</p>\n<pre><code>final class B2 extends A2 {\n   public B2() { super(() -&gt; System.out.println(&quot;Subclass blah&quot;)); }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":877569,"reputation":3025,"user_id":87240,"accept_rate":100,"display_name":"krasnaya"},"score":0,"creation_date":1671837933,"post_id":74885859,"comment_id":132187572,"body_markdown":"Thanks for this answer! I was indeed hoping for an Aspectj solution. As a follow-up question, how would `interceptBlah` get the results from the `blah` call in the case `blah` was non void? I could create another question if the answer is complicated.","body":"Thanks for this answer! I was indeed hoping for an Aspectj solution. As a follow-up question, how would <code>interceptBlah</code> get the results from the <code>blah</code> call in the case <code>blah</code> was non void? I could create another question if the answer is complicated."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1671872411,"post_id":74885859,"comment_id":132190568,"body_markdown":"Normally I would ask you to create a new question, but today is Xmas Eve. &#127876;&#128578; Please consult the AspectJ documentation, specifically [`after() returning()`](https://www.eclipse.org/aspectj/doc/released/progguide/language-advice.html) or [`@AfterReturning`](https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-pcadvice.html), respectively. See also the [language semantics](https://www.eclipse.org/aspectj/doc/released/progguide/semantics-advice.html) section.","body":"Normally I would ask you to create a new question, but today is Xmas Eve.  Please consult the AspectJ documentation, specifically <a href=\"https://www.eclipse.org/aspectj/doc/released/progguide/language-advice.html\" rel=\"nofollow noreferrer\"><code>after() returning()</code></a> or <a href=\"https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-pcadvice.html\" rel=\"nofollow noreferrer\"><code>@AfterReturning</code></a>, respectively. See also the <a href=\"https://www.eclipse.org/aspectj/doc/released/progguide/semantics-advice.html\" rel=\"nofollow noreferrer\">language semantics</a> section."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671872493,"post_id":74885859,"comment_id":132190576,"body_markdown":"If you want to do anything other than read and maybe log the result, such as modify the return value, modify the intercepted method&#39;s input parameters, catch exceptions etc., please take a look at `around()` or `@Around`, respectively. You find information about this advice type under the same links as mentioned above.","body":"If you want to do anything other than read and maybe log the result, such as modify the return value, modify the intercepted method&#39;s input parameters, catch exceptions etc., please take a look at <code>around()</code> or <code>@Around</code>, respectively. You find information about this advice type under the same links as mentioned above."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671697413,"creation_date":1671697413,"answer_id":74885859,"question_id":74882376,"body_markdown":"Because you tagged your question with _aspectj_, I am presenting a simple AspectJ solution.\r\n\r\n```java\r\npublic class A {\r\n  protected void blah() {\r\n    System.out.println(&quot;A.blah&quot;);\r\n  }\r\n\r\n  public void foo() {\r\n    System.out.println(&quot;A.foo&quot;);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new A().blah();\r\n    System.out.println(&quot;---&quot;);\r\n    new B().blah();\r\n    System.out.println(&quot;---&quot;);\r\n    new C().blah();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nclass B extends A {\r\n  @Override\r\n  protected void blah() {\r\n    System.out.println(&quot;B.blah&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nclass C extends B {\r\n  @Override\r\n  protected void blah() {\r\n    super.blah();\r\n    System.out.println(&quot;C.blah&quot;);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npublic aspect FooCaller {\r\n  after(A a) : execution(void A.blah()) &amp;&amp; target(a) {\r\n    a.foo();\r\n  }\r\n}\r\n```\r\n\r\nConsole log:\r\n\r\n```none\r\nA.blah\r\nA.foo\r\n---\r\nB.blah\r\nA.foo\r\n---\r\nB.blah\r\nA.foo\r\nC.blah\r\nA.foo\r\n```\r\n\r\nPlease note how `A.foo` is called twice when calling `C.blah` because of the `super.blah()` call. If this is not what you want, you need to refine the aspect.\r\n\r\nIf you want to avoid caling `A.foo` in case of `blah` throwing an exception, you also have to alter the aspect a bit. Your question is somewhat unspecific in this regard. \r\n\r\nIf you want to avoid `A.foo` to be overridden by subclasses (and hence called by the aspect), you can make the method `final`.\r\n\r\nBesides, if you do not like native AspectJ syntax as much as I do, but prefer the more tedious annotation syntax, the equivalent aspect looks like this:\r\n\r\n```java\r\nimport org.aspectj.lang.annotation.After;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class FooCaller {\r\n  @After(&quot;execution(void A.blah()) &amp;&amp; target(a)&quot;)\r\n  public void interceptBlah(A a) {\r\n    a.foo();\r\n  }\r\n}\r\n```\r\n","title":"Automatically call superclass method after inherited subclass method","body":"<p>Because you tagged your question with <em>aspectj</em>, I am presenting a simple AspectJ solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n  protected void blah() {\n    System.out.println(&quot;A.blah&quot;);\n  }\n\n  public void foo() {\n    System.out.println(&quot;A.foo&quot;);\n  }\n\n  public static void main(String[] args) {\n    new A().blah();\n    System.out.println(&quot;---&quot;);\n    new B().blah();\n    System.out.println(&quot;---&quot;);\n    new C().blah();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class B extends A {\n  @Override\n  protected void blah() {\n    System.out.println(&quot;B.blah&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class C extends B {\n  @Override\n  protected void blah() {\n    super.blah();\n    System.out.println(&quot;C.blah&quot;);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect FooCaller {\n  after(A a) : execution(void A.blah()) &amp;&amp; target(a) {\n    a.foo();\n  }\n}\n</code></pre>\n<p>Console log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A.blah\nA.foo\n---\nB.blah\nA.foo\n---\nB.blah\nA.foo\nC.blah\nA.foo\n</code></pre>\n<p>Please note how <code>A.foo</code> is called twice when calling <code>C.blah</code> because of the <code>super.blah()</code> call. If this is not what you want, you need to refine the aspect.</p>\n<p>If you want to avoid caling <code>A.foo</code> in case of <code>blah</code> throwing an exception, you also have to alter the aspect a bit. Your question is somewhat unspecific in this regard.</p>\n<p>If you want to avoid <code>A.foo</code> to be overridden by subclasses (and hence called by the aspect), you can make the method <code>final</code>.</p>\n<p>Besides, if you do not like native AspectJ syntax as much as I do, but prefer the more tedious annotation syntax, the equivalent aspect looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class FooCaller {\n  @After(&quot;execution(void A.blah()) &amp;&amp; target(a)&quot;)\n  public void interceptBlah(A a) {\n    a.foo();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":877569,"reputation":3025,"user_id":87240,"accept_rate":100,"display_name":"krasnaya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74885859,"answer_count":3,"score":1,"last_activity_date":1671838324,"creation_date":1671661757,"question_id":74882376,"body_markdown":"I have a class `A` where I want `foo` to be called immediately after `blah` is called, including calls to `blah` from subclasses. So below, `B().blah()` will also call `A.foo`. I think this type of thing is possible in Python using decorators, but don&#39;t know how to achieve the same effect in Java.\r\n\r\n```\r\nclass A {\r\n  @protected\r\n  void blah() {\r\n    // pass\r\n  }\r\n\r\n  void foo() {\r\n    System.out.println(&quot;foo called&quot;);\r\n  }\r\n}\r\n\r\nclass B extends A {\r\n  void blah() {\r\n    System.out.println(&quot;blah called&quot;);\r\n  }\r\n}\r\n```\r\n\r\nIn python, something like this works although it still needs the `blah` decorator to be added in the subclass:\r\n\r\n```\r\nfrom abc import ABC, abstractmethod\r\n\r\ndef foo(fn):\r\n    def wrapper(*args, **kwargs):\r\n        retval = fn(*args, **kwargs)\r\n        print(&quot;foo called&quot;)\r\n        return retval\r\n    return wrapper\r\n\r\nclass A(ABC):\r\n    @abstractmethod\r\n    @foo\r\n    def blah(self):\r\n        pass\r\n\r\nclass B(A):\r\n    @foo\r\n    def blah(self):\r\n        print(&quot;blah called&quot;)\r\n\r\nB().blah()\r\n# prints:\r\n#   blah called\r\n#   foo called\r\n```","title":"Automatically call superclass method after inherited subclass method","body":"<p>I have a class <code>A</code> where I want <code>foo</code> to be called immediately after <code>blah</code> is called, including calls to <code>blah</code> from subclasses. So below, <code>B().blah()</code> will also call <code>A.foo</code>. I think this type of thing is possible in Python using decorators, but don't know how to achieve the same effect in Java.</p>\n<pre><code>class A {\n  @protected\n  void blah() {\n    // pass\n  }\n\n  void foo() {\n    System.out.println(&quot;foo called&quot;);\n  }\n}\n\nclass B extends A {\n  void blah() {\n    System.out.println(&quot;blah called&quot;);\n  }\n}\n</code></pre>\n<p>In python, something like this works although it still needs the <code>blah</code> decorator to be added in the subclass:</p>\n<pre><code>from abc import ABC, abstractmethod\n\ndef foo(fn):\n    def wrapper(*args, **kwargs):\n        retval = fn(*args, **kwargs)\n        print(&quot;foo called&quot;)\n        return retval\n    return wrapper\n\nclass A(ABC):\n    @abstractmethod\n    @foo\n    def blah(self):\n        pass\n\nclass B(A):\n    @foo\n    def blah(self):\n        print(&quot;blah called&quot;)\n\nB().blah()\n# prints:\n#   blah called\n#   foo called\n</code></pre>\n"},{"tags":["java","spring-boot","firebase-authentication","swagger","swagger-ui"],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671838019,"creation_date":1671837146,"question_id":74904670,"body_markdown":"I&#39;d like to allow users of the Swagger UI provided by my app to be able to log in with GitHub.  \r\nI&#39;m using Firebase Auth with GitHub as sign-in method.  \r\nThe [official example by Google][1] has no `authorizationUrl` for the implicit flow which leads to Swagger UI running in an error when the `Authorize` button is clicked:  \r\n[![enter image description here][2]][2]  \r\nIs it possible to configure a v3 security scheme in a way that when the user clicks the `Authorize` button, the GitHub login popup appears like in the UI with the firebase library?\r\n\r\n\r\n  [1]: https://cloud.google.com/endpoints/docs/openapi/authenticating-users-firebase#configuring_your_openapi_document\r\n  [2]: https://i.stack.imgur.com/7H6s2.png","title":"Possible to perform GitHub OAuth 2 login with Firebase from Swagger UI?","body":"<p>I'd like to allow users of the Swagger UI provided by my app to be able to log in with GitHub.<br />\nI'm using Firebase Auth with GitHub as sign-in method.<br />\nThe <a href=\"https://cloud.google.com/endpoints/docs/openapi/authenticating-users-firebase#configuring_your_openapi_document\" rel=\"nofollow noreferrer\">official example by Google</a> has no <code>authorizationUrl</code> for the implicit flow which leads to Swagger UI running in an error when the <code>Authorize</code> button is clicked:<br />\n<a href=\"https://i.stack.imgur.com/7H6s2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7H6s2.png\" alt=\"enter image description here\" /></a><br />\nIs it possible to configure a v3 security scheme in a way that when the user clicks the <code>Authorize</code> button, the GitHub login popup appears like in the UI with the firebase library?</p>\n"},{"tags":["java","json","spring","yaml","objectmapper"],"answers":[{"comments":[{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":1,"creation_date":1671849326,"post_id":74904655,"comment_id":132188649,"body_markdown":"You can make this a little more readable by enclosing the entire JSON in single-quotes (that way you do not have the escape the individual double quotes). This approach and other (potentially better) approaches are mentioned in this answer here - https://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file","body":"You can make this a little more readable by enclosing the entire JSON in single-quotes (that way you do not have the escape the individual double quotes). This approach and other (potentially better) approaches are mentioned in this answer here - <a href=\"https://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file\" title=\"embedding json data into yaml file\">stackoverflow.com/questions/9532840/&hellip;</a>"}],"tags":[],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671837018,"creation_date":1671837018,"answer_id":74904655,"question_id":74904580,"body_markdown":"I just found a solution to my problem. So if modify my yaml file like this:\r\n\r\n    -field1: 2022-12-23T21:45:26.097+01\r\n     field2: true\r\n     field3: &quot;{\\&quot;x\\&quot;:\\&quot;apple\\&quot;, \\&quot;y\\&quot;: { \\&quot;z\\&quot;:10, \\&quot;w\\&quot;:[{ \\&quot;a\\&quot;: 11}]}}&quot;\r\n\r\nSo I escape the double quotes in the json and apply double quotes at the start and end of the json it is considered as String. ","title":"Read Json as string from Yaml file","body":"<p>I just found a solution to my problem. So if modify my yaml file like this:</p>\n<pre><code>-field1: 2022-12-23T21:45:26.097+01\n field2: true\n field3: &quot;{\\&quot;x\\&quot;:\\&quot;apple\\&quot;, \\&quot;y\\&quot;: { \\&quot;z\\&quot;:10, \\&quot;w\\&quot;:[{ \\&quot;a\\&quot;: 11}]}}&quot;\n</code></pre>\n<p>So I escape the double quotes in the json and apply double quotes at the start and end of the json it is considered as String.</p>\n"}],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74904655,"answer_count":1,"score":0,"last_activity_date":1671837018,"creation_date":1671836036,"question_id":74904580,"body_markdown":"I want to parse a yaml file. This file contains a field with json structure. I want this field as String in my java class.\r\n\r\nThis is my java class:\r\n\r\n    class A{\r\n      int field1;\r\n      boolean field2;\r\n      String field3;\r\n    }\r\n\r\nThis is the yaml file:\r\n\r\n    -field1: 2022-12-23T21:45:26.097+01\r\n     field2: true\r\n     field3: {&quot;x&quot;:&quot;apple&quot;, &quot;y&quot;: { &quot;z&quot;:10, &quot;w&quot;:[{ &quot;a&quot;: 11}]}}\r\n\r\nI&#39;m using Objectmapper for parsing yaml with the following configuration:\r\n\r\n    ObjectMapper mapper = new Jackson2ObjectMapperBuilder()\r\n                    .serializationInclusion(JsonInclude.Include.NON_NULL)\r\n                    .modulesToInstall(new JavaTimeModule())\r\n                    .featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                    .featuresToDisable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE)\r\n                    .factory(new YAMLFactory())\r\n                    .build();\r\n\r\nAnd whenever I try to read my yaml file I get an error:\r\n\r\n        com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n     at [Source: (File); line: 3, column: 11] (through reference chain: java.lang.Object[][0]-&gt;company_related_class)\r\n\r\nI&#39;m using java 11. \r\n\r\nAny idea what&#39;s wrong here? ","title":"Read Json as string from Yaml file","body":"<p>I want to parse a yaml file. This file contains a field with json structure. I want this field as String in my java class.</p>\n<p>This is my java class:</p>\n<pre><code>class A{\n  int field1;\n  boolean field2;\n  String field3;\n}\n</code></pre>\n<p>This is the yaml file:</p>\n<pre><code>-field1: 2022-12-23T21:45:26.097+01\n field2: true\n field3: {&quot;x&quot;:&quot;apple&quot;, &quot;y&quot;: { &quot;z&quot;:10, &quot;w&quot;:[{ &quot;a&quot;: 11}]}}\n</code></pre>\n<p>I'm using Objectmapper for parsing yaml with the following configuration:</p>\n<pre><code>ObjectMapper mapper = new Jackson2ObjectMapperBuilder()\n                .serializationInclusion(JsonInclude.Include.NON_NULL)\n                .modulesToInstall(new JavaTimeModule())\n                .featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .featuresToDisable(DeserializationFeature.ADJUST_DATES_TO_CONTEXT_TIME_ZONE)\n                .factory(new YAMLFactory())\n                .build();\n</code></pre>\n<p>And whenever I try to read my yaml file I get an error:</p>\n<pre><code>    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (File); line: 3, column: 11] (through reference chain: java.lang.Object[][0]-&gt;company_related_class)\n</code></pre>\n<p>I'm using java 11.</p>\n<p>Any idea what's wrong here?</p>\n"},{"tags":["java","spring-boot","jasypt"],"answers":[{"tags":[],"owner":{"account_id":27330465,"reputation":1,"user_id":20842680,"display_name":"mountain scatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671740837,"creation_date":1671740837,"answer_id":74893546,"question_id":74893337,"body_markdown":"1.Make sure that the jasypt.encryptor.password property in your application.yml file is set to the same value as the demo-password that you used when encrypting the spring-cloud-password in your main method.\r\n\r\n2.Make sure that you are passing the correct value for the PASSWORD program argument when running your application.\r\n\r\n3.Make sure that you are using the correct algorithm when encrypting and decrypting the password. In your main method, you are using the &quot;PBEWithHMACSHA512AndAES_256&quot; algorithm, but it&#39;s not clear if this is the same algorithm that is being used by Jasypt in your application.\r\n\r\n4.Make sure that you are using the correct value for the encrypted password in your application.yml file. It&#39;s possible that the value you have pasted there is incorrect or has been modified in some way.","title":"Spring Boot - Config Server - Jasypt DecryptionException: Unable to decrypt: ENC()","body":"<p>1.Make sure that the jasypt.encryptor.password property in your application.yml file is set to the same value as the demo-password that you used when encrypting the spring-cloud-password in your main method.</p>\n<p>2.Make sure that you are passing the correct value for the PASSWORD program argument when running your application.</p>\n<p>3.Make sure that you are using the correct algorithm when encrypting and decrypting the password. In your main method, you are using the &quot;PBEWithHMACSHA512AndAES_256&quot; algorithm, but it's not clear if this is the same algorithm that is being used by Jasypt in your application.</p>\n<p>4.Make sure that you are using the correct value for the encrypted password in your application.yml file. It's possible that the value you have pasted there is incorrect or has been modified in some way.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671836893,"creation_date":1671739316,"question_id":74893337,"body_markdown":"I have a problem about running config server in my spring boot microservice example.\r\n\r\nAfter I defined the dependency shown below, I tried to encrypt the password.\r\n\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\nNext, I want to test if it works or not through this code snippet shown below.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        StandardPBEStringEncryptor standardPBEStringEncryptor = new StandardPBEStringEncryptor();\r\n        standardPBEStringEncryptor.setPassword(&quot;demo-password&quot;);\r\n        standardPBEStringEncryptor.setAlgorithm(&quot;PBEWithHMACSHA512AndAES_256&quot;);\r\n        standardPBEStringEncryptor.setIvGenerator(new RandomIvGenerator());\r\n        String result = standardPBEStringEncryptor.encrypt(&quot;spring-cloud-password&quot;);\r\n        System.out.println(result);\r\n        System.out.println(standardPBEStringEncryptor.decrypt(result));\r\n\r\n    }\r\n\r\nThen I copied it and pasted it wrapping with `ENC(encrpted-password)` in yml file.\r\n\r\nHere is the yml file shown below\r\n\r\n    spring:\r\n      application:\r\n        name: configserver\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              uri: Github-repo-address\r\n              username: Github-username\r\n              password: github-token\r\n              clone-on-start: true\r\n              default-label: main\r\n        fail-fast: true\r\n    \r\n      security:\r\n        user:\r\n          name: spring-cloud-user\r\n          password: ENC(YcplhYriW9Uwo+pByJxBl04lqiQKGEIbBgVeIXn+DBITIHV9IUVenfknA2VHFswkm144fSrQRqjxZ17+g+z3GA==)\r\n    \r\n    \r\n    jasypt:\r\n      encryptor:\r\n        password: ${PASSWORD}\r\n\r\n\r\nI get ${PASSWORD} from **program arguments** part.\r\n\r\nNext, I run the app but I got this issue shown below.\r\n\r\n    com.ulisesbocchio.jasyptspringboot.exception.DecryptionException: Unable to decrypt: ENC(YcplhYriW9Uwo+pByJxBl04lqiQKGEIbBgVeIXn+DBITIHV9IUVenfknA2VHFswkm144fSrQRqjxZ17+g+z3GA==). Decryption of Properties failed,  make sure encryption/decryption passwords match\r\n    \tat com.ulisesbocchio.jasyptspringboot.resolver.DefaultPropertyResolver.lambda$resolvePropertyValue$0(DefaultPropertyResolver.java:46)\r\n    \tat java.base/java.util.Optional.map(Optional.java:260)\r\n    \tat com.ulisesbocchio.jasyptspringboot.resolver.DefaultPropertyResolver.resolvePropertyValue(DefaultPropertyResolver.java:40)\r\n    \tat com.ulisesbocchio.jasyptspringboot.resolver.DefaultLazyPropertyResolver.resolvePropertyValue(DefaultLazyPropertyResolver.java:50)\r\n    \tat com.ulisesbocchio.jasyptspringboot.EncryptablePropertySource.getProperty(EncryptablePropertySource.java:20)\r\n    \tat com.ulisesbocchio.jasyptspringboot.caching.CachingDelegateEncryptablePropertySource.getProperty(CachingDelegateEncryptablePropertySource.java:41)\r\n    \tat com.ulisesbocchio.jasyptspringboot.wrapper.EncryptableMapPropertySourceWrapper.getProperty(EncryptableMapPropertySourceWrapper.java:31)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.merge(EnvironmentDecryptApplicationInitializer.java:236)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.merge(EnvironmentDecryptApplicationInitializer.java:207)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.decrypt(EnvironmentDecryptApplicationInitializer.java:189)\r\n    \tat org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.initialize(EnvironmentDecryptApplicationInitializer.java:124)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener$DelegatingEnvironmentDecryptApplicationInitializer.initialize(BootstrapApplicationListener.java:441)\r\n    \tat org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)\r\n    \tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat com.microservices.demo.config.server.ConfigServer.main(ConfigServer.java:11)\r\n    Caused by: org.jasypt.exceptions.EncryptionOperationNotPossibleException: null\r\n    \tat org.jasypt.encryption.pbe.StandardPBEByteEncryptor.decrypt(StandardPBEByteEncryptor.java:1169)\r\n    \tat org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:738)\r\n    \tat org.jasypt.encryption.pbe.PooledPBEStringEncryptor.decrypt(PooledPBEStringEncryptor.java:511)\r\n    \tat com.ulisesbocchio.jasyptspringboot.encryptor.DefaultLazyEncryptor.decrypt(DefaultLazyEncryptor.java:57)\r\n    \tat com.ulisesbocchio.jasyptspringboot.resolver.DefaultPropertyResolver.lambda$resolvePropertyValue$0(DefaultPropertyResolver.java:44)\r\n    \t... 17 common frames omitted\r\n\r\nHow can I fix it?\r\n\r\nEdited I passed the value as shown below\r\n\r\nProgram Arguments -&gt; `-Djasypt.encryptor.password=&#39;Demo_Pwd!2020&#39;`","title":"Spring Boot - Config Server - Jasypt DecryptionException: Unable to decrypt: ENC()","body":"<p>I have a problem about running config server in my spring boot microservice example.</p>\n<p>After I defined the dependency shown below, I tried to encrypt the password.</p>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n        &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Next, I want to test if it works or not through this code snippet shown below.</p>\n<pre><code>public static void main(String[] args) {\n\n    StandardPBEStringEncryptor standardPBEStringEncryptor = new StandardPBEStringEncryptor();\n    standardPBEStringEncryptor.setPassword(&quot;demo-password&quot;);\n    standardPBEStringEncryptor.setAlgorithm(&quot;PBEWithHMACSHA512AndAES_256&quot;);\n    standardPBEStringEncryptor.setIvGenerator(new RandomIvGenerator());\n    String result = standardPBEStringEncryptor.encrypt(&quot;spring-cloud-password&quot;);\n    System.out.println(result);\n    System.out.println(standardPBEStringEncryptor.decrypt(result));\n\n}\n</code></pre>\n<p>Then I copied it and pasted it wrapping with <code>ENC(encrpted-password)</code> in yml file.</p>\n<p>Here is the yml file shown below</p>\n<pre><code>spring:\n  application:\n    name: configserver\n  cloud:\n    config:\n      server:\n        git:\n          uri: Github-repo-address\n          username: Github-username\n          password: github-token\n          clone-on-start: true\n          default-label: main\n    fail-fast: true\n\n  security:\n    user:\n      name: spring-cloud-user\n      password: ENC(YcplhYriW9Uwo+pByJxBl04lqiQKGEIbBgVeIXn+DBITIHV9IUVenfknA2VHFswkm144fSrQRqjxZ17+g+z3GA==)\n\n\njasypt:\n  encryptor:\n    password: ${PASSWORD}\n</code></pre>\n<p>I get ${PASSWORD} from <strong>program arguments</strong> part.</p>\n<p>Next, I run the app but I got this issue shown below.</p>\n<pre><code>com.ulisesbocchio.jasyptspringboot.exception.DecryptionException: Unable to decrypt: ENC(YcplhYriW9Uwo+pByJxBl04lqiQKGEIbBgVeIXn+DBITIHV9IUVenfknA2VHFswkm144fSrQRqjxZ17+g+z3GA==). Decryption of Properties failed,  make sure encryption/decryption passwords match\n    at com.ulisesbocchio.jasyptspringboot.resolver.DefaultPropertyResolver.lambda$resolvePropertyValue$0(DefaultPropertyResolver.java:46)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at com.ulisesbocchio.jasyptspringboot.resolver.DefaultPropertyResolver.resolvePropertyValue(DefaultPropertyResolver.java:40)\n    at com.ulisesbocchio.jasyptspringboot.resolver.DefaultLazyPropertyResolver.resolvePropertyValue(DefaultLazyPropertyResolver.java:50)\n    at com.ulisesbocchio.jasyptspringboot.EncryptablePropertySource.getProperty(EncryptablePropertySource.java:20)\n    at com.ulisesbocchio.jasyptspringboot.caching.CachingDelegateEncryptablePropertySource.getProperty(CachingDelegateEncryptablePropertySource.java:41)\n    at com.ulisesbocchio.jasyptspringboot.wrapper.EncryptableMapPropertySourceWrapper.getProperty(EncryptableMapPropertySourceWrapper.java:31)\n    at org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.merge(EnvironmentDecryptApplicationInitializer.java:236)\n    at org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.merge(EnvironmentDecryptApplicationInitializer.java:207)\n    at org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.decrypt(EnvironmentDecryptApplicationInitializer.java:189)\n    at org.springframework.cloud.bootstrap.encrypt.EnvironmentDecryptApplicationInitializer.initialize(EnvironmentDecryptApplicationInitializer.java:124)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener$DelegatingEnvironmentDecryptApplicationInitializer.initialize(BootstrapApplicationListener.java:441)\n    at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:626)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:370)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at com.microservices.demo.config.server.ConfigServer.main(ConfigServer.java:11)\nCaused by: org.jasypt.exceptions.EncryptionOperationNotPossibleException: null\n    at org.jasypt.encryption.pbe.StandardPBEByteEncryptor.decrypt(StandardPBEByteEncryptor.java:1169)\n    at org.jasypt.encryption.pbe.StandardPBEStringEncryptor.decrypt(StandardPBEStringEncryptor.java:738)\n    at org.jasypt.encryption.pbe.PooledPBEStringEncryptor.decrypt(PooledPBEStringEncryptor.java:511)\n    at com.ulisesbocchio.jasyptspringboot.encryptor.DefaultLazyEncryptor.decrypt(DefaultLazyEncryptor.java:57)\n    at com.ulisesbocchio.jasyptspringboot.resolver.DefaultPropertyResolver.lambda$resolvePropertyValue$0(DefaultPropertyResolver.java:44)\n    ... 17 common frames omitted\n</code></pre>\n<p>How can I fix it?</p>\n<p>Edited I passed the value as shown below</p>\n<p>Program Arguments -&gt; <code>-Djasypt.encryptor.password='Demo_Pwd!2020'</code></p>\n"},{"tags":["java","android","android-drawable","bitmapfactory"],"comments":[{"owner":{"account_id":912245,"reputation":1789,"user_id":945808,"accept_rate":89,"display_name":"toantran"},"score":0,"creation_date":1369793598,"post_id":16804404,"comment_id":24220490,"body_markdown":"BitmapFactory.decodeFile(path) --&gt; does this return an Bitmap object for you ? can you verify it ?","body":"BitmapFactory.decodeFile(path) --&gt; does this return an Bitmap object for you ? can you verify it ?"},{"owner":{"account_id":2577145,"reputation":2459,"user_id":2238996,"accept_rate":55,"display_name":"Nari Kim Shin"},"score":1,"creation_date":1369794394,"post_id":16804404,"comment_id":24220645,"body_markdown":"@autobot_101 in debug mode, it has `id` in `mBuffer`.  But its `mHeight`, `mWidth` value is `-1`, and `mLayoutBounds` is `null`.","body":"@autobot_101 in debug mode, it has <code>id</code> in <code>mBuffer</code>.  But its <code>mHeight</code>, <code>mWidth</code> value is <code>-1</code>, and <code>mLayoutBounds</code> is <code>null</code>."},{"owner":{"account_id":912245,"reputation":1789,"user_id":945808,"accept_rate":89,"display_name":"toantran"},"score":0,"creation_date":1369794733,"post_id":16804404,"comment_id":24220731,"body_markdown":"Then you should check your file path again, because that means your image has not been &#39;inflated&#39; to the bitmap object. Maybe you can try another image","body":"Then you should check your file path again, because that means your image has not been &#39;inflated&#39; to the bitmap object. Maybe you can try another image"},{"owner":{"account_id":2577145,"reputation":2459,"user_id":2238996,"accept_rate":55,"display_name":"Nari Kim Shin"},"score":1,"creation_date":1369795089,"post_id":16804404,"comment_id":24220806,"body_markdown":"@autobot_101 actually i got this image path from `Cursor` and tried other images, but same result. Also, i checked the path via `adb shell` and found out images are exists in that path.","body":"@autobot_101 actually i got this image path from <code>Cursor</code> and tried other images, but same result. Also, i checked the path via <code>adb shell</code> and found out images are exists in that path."}],"answers":[{"comments":[{"owner":{"account_id":1139827,"reputation":675,"user_id":1124058,"accept_rate":58,"display_name":"Antarix"},"score":3,"creation_date":1381134029,"post_id":16804467,"comment_id":28444167,"body_markdown":"Try getting SdCard path from `Environment.getExternalStorageDirectory().toString()` and then try","body":"Try getting SdCard path from <code>Environment.getExternalStorageDirectory().toString()</code> and then try"}],"tags":[],"owner":{"account_id":1188905,"reputation":15517,"user_id":1162233,"accept_rate":95,"display_name":"Kaidul"},"comment_count":1,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1406278683,"creation_date":1369793821,"answer_id":16804467,"question_id":16804404,"body_markdown":"It works for me:\r\n\r\n    File imgFile = new  File(&quot;/sdcard/Images/test_image.jpg&quot;);\r\n    if(imgFile.exists()){\r\n        Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\r\n        //Drawable d = new BitmapDrawable(getResources(), myBitmap);\r\n        ImageView myImage = (ImageView) findViewById(R.id.imageviewTest);\r\n        myImage.setImageBitmap(myBitmap);\r\n    \r\n    }\r\n\r\n**Edit:**\r\n\r\nIf above hard-coded sdcard directory is not working in your case, you can fetch the sdcard path:\r\n\r\n    String sdcardPath = Environment.getExternalStorageDirectory().toString();\r\n    File imgFile = new  File(sdcardPath);\r\n\r\n","title":"Create a Bitmap/Drawable from file path","body":"<p>It works for me:</p>\n\n<pre><code>File imgFile = new  File(\"/sdcard/Images/test_image.jpg\");\nif(imgFile.exists()){\n    Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());\n    //Drawable d = new BitmapDrawable(getResources(), myBitmap);\n    ImageView myImage = (ImageView) findViewById(R.id.imageviewTest);\n    myImage.setImageBitmap(myBitmap);\n\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>If above hard-coded sdcard directory is not working in your case, you can fetch the sdcard path:</p>\n\n<pre><code>String sdcardPath = Environment.getExternalStorageDirectory().toString();\nFile imgFile = new  File(sdcardPath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2405186,"reputation":825,"user_id":2101865,"display_name":"Suresh Parmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409418893,"creation_date":1409418893,"answer_id":25584932,"question_id":16804404,"body_markdown":"you can&#39;t access your drawables via a path, so if you want a human readable interface with your drawables that you can build programatically.\r\n\r\ndeclare a HashMap somewhere in your class:\r\n\r\n    private static HashMap&lt;String, Integer&gt; images = null;\r\n    \r\n    //Then initialize it in your constructor:\r\n    \r\n    public myClass() {\r\n      if (images == null) {\r\n        images = new HashMap&lt;String, Integer&gt;();\r\n        images.put(&quot;Human1Arm&quot;, R.drawable.human_one_arm);\r\n        // for all your images - don&#39;t worry, this is really fast and will only happen once\r\n      }\r\n    }\r\n\r\nNow for access -\r\n\r\n    String drawable = &quot;wrench&quot;;\r\n    // fill in this value however you want, but in the end you want Human1Arm etc\r\n    // access is fast and easy:\r\n    Bitmap wrench = BitmapFactory.decodeResource(getResources(), images.get(drawable));\r\n    canvas.drawColor(Color .BLACK);\r\n    Log.d(&quot;OLOLOLO&quot;,Integer.toString(wrench.getHeight()));\r\n    canvas.drawBitmap(wrench, left, top, null);","title":"Create a Bitmap/Drawable from file path","body":"<p>you can't access your drawables via a path, so if you want a human readable interface with your drawables that you can build programatically.</p>\n\n<p>declare a HashMap somewhere in your class:</p>\n\n<pre><code>private static HashMap&lt;String, Integer&gt; images = null;\n\n//Then initialize it in your constructor:\n\npublic myClass() {\n  if (images == null) {\n    images = new HashMap&lt;String, Integer&gt;();\n    images.put(\"Human1Arm\", R.drawable.human_one_arm);\n    // for all your images - don't worry, this is really fast and will only happen once\n  }\n}\n</code></pre>\n\n<p>Now for access -</p>\n\n<pre><code>String drawable = \"wrench\";\n// fill in this value however you want, but in the end you want Human1Arm etc\n// access is fast and easy:\nBitmap wrench = BitmapFactory.decodeResource(getResources(), images.get(drawable));\ncanvas.drawColor(Color .BLACK);\nLog.d(\"OLOLOLO\",Integer.toString(wrench.getHeight()));\ncanvas.drawBitmap(wrench, left, top, null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2371849,"reputation":9565,"user_id":2076286,"accept_rate":72,"display_name":"G&#225;bor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421445784,"creation_date":1421445784,"answer_id":27993514,"question_id":16804404,"body_markdown":"Well, using the static `Drawable.createFromPath(String pathName)` seems a bit more straightforward to me than decoding it yourself... :-)\r\n\r\nIf your `mImg` is a simple `ImageView`, you don&#39;t even need it, use `mImg.setImageUri(Uri uri)` directly.","title":"Create a Bitmap/Drawable from file path","body":"<p>Well, using the static <code>Drawable.createFromPath(String pathName)</code> seems a bit more straightforward to me than decoding it yourself... :-)</p>\n\n<p>If your <code>mImg</code> is a simple <code>ImageView</code>, you don't even need it, use <code>mImg.setImageUri(Uri uri)</code> directly.</p>\n"},{"comments":[{"owner":{"account_id":2577145,"reputation":2459,"user_id":2238996,"accept_rate":55,"display_name":"Nari Kim Shin"},"score":1,"creation_date":1424977798,"post_id":28351881,"comment_id":45783417,"body_markdown":"I already got my solution long time ago, but I&#39;ll take this as a correct answer because it can also handles OOM errors while you&#39;re loading a big scale image. Very clean and nice solution! Thanks!","body":"I already got my solution long time ago, but I&#39;ll take this as a correct answer because it can also handles OOM errors while you&#39;re loading a big scale image. Very clean and nice solution! Thanks!"},{"owner":{"account_id":7003373,"reputation":5579,"user_id":5368667,"accept_rate":85,"display_name":"Jeet"},"score":1,"creation_date":1479088407,"post_id":28351881,"comment_id":68397425,"body_markdown":"I assume imageName here is any string? or is it any specific imageName?","body":"I assume imageName here is any string? or is it any specific imageName?"},{"owner":{"account_id":3311159,"reputation":3521,"user_id":3839716,"display_name":"CodeShadow"},"score":0,"creation_date":1479121343,"post_id":28351881,"comment_id":68409553,"body_markdown":"@JeetendraChoudhary Yes imageName could be any final String as the name of the image.","body":"@JeetendraChoudhary Yes imageName could be any final String as the name of the image."}],"tags":[],"owner":{"account_id":3311159,"reputation":3521,"user_id":3839716,"display_name":"CodeShadow"},"comment_count":3,"down_vote_count":2,"up_vote_count":161,"is_accepted":true,"score":159,"last_activity_date":1671836151,"creation_date":1423162681,"answer_id":28351881,"question_id":16804404,"body_markdown":"Create bitmap from file path:\r\n\r\n    File sd = Environment.getExternalStorageDirectory();\r\n    File image = new File(sd+filePath, imageName);\r\n    BitmapFactory.Options bmOptions = new BitmapFactory.Options();\r\n    Bitmap bitmap = BitmapFactory.decodeFile(image.getAbsolutePath(),bmOptions);\r\n    bitmap = Bitmap.createScaledBitmap(bitmap,parent.getWidth(),parent.getHeight(),true);\r\n    imageView.setImageBitmap(bitmap);\r\n\r\nIf you want to scale the bitmap to the parent&#39;s height and width then use `Bitmap.createScaledBitmap` function.\r\n\r\nI think you are giving the wrong file path.","title":"Create a Bitmap/Drawable from file path","body":"<p>Create bitmap from file path:</p>\n<pre><code>File sd = Environment.getExternalStorageDirectory();\nFile image = new File(sd+filePath, imageName);\nBitmapFactory.Options bmOptions = new BitmapFactory.Options();\nBitmap bitmap = BitmapFactory.decodeFile(image.getAbsolutePath(),bmOptions);\nbitmap = Bitmap.createScaledBitmap(bitmap,parent.getWidth(),parent.getHeight(),true);\nimageView.setImageBitmap(bitmap);\n</code></pre>\n<p>If you want to scale the bitmap to the parent's height and width then use <code>Bitmap.createScaledBitmap</code> function.</p>\n<p>I think you are giving the wrong file path.</p>\n"},{"comments":[{"owner":{"account_id":5559444,"reputation":43202,"user_id":4409409,"display_name":"Daniel Nugent"},"score":4,"creation_date":1429255608,"post_id":29692538,"comment_id":47522225,"body_markdown":"Note that you should explain the code that you provide in an answer.","body":"Note that you should explain the code that you provide in an answer."}],"tags":[],"owner":{"account_id":5876495,"reputation":11,"user_id":4627173,"display_name":"sanjay patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429255152,"creation_date":1429254586,"answer_id":29692538,"question_id":16804404,"body_markdown":"    static ArrayList&lt; Drawable&gt;  d;\r\n    d = new ArrayList&lt;Drawable&gt;();\r\n    for(int i=0;i&lt;MainActivity.FilePathStrings1.size();i++) {\r\n      myDrawable =  Drawable.createFromPath(MainActivity.FilePathStrings1.get(i));\r\n      d.add(myDrawable);\r\n    }\r\n","title":"Create a Bitmap/Drawable from file path","body":"<pre><code>static ArrayList&lt; Drawable&gt;  d;\nd = new ArrayList&lt;Drawable&gt;();\nfor(int i=0;i&lt;MainActivity.FilePathStrings1.size();i++) {\n  myDrawable =  Drawable.createFromPath(MainActivity.FilePathStrings1.get(i));\n  d.add(myDrawable);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9038350,"reputation":2716,"user_id":6733404,"display_name":"Abner Esc&#243;cio"},"score":0,"creation_date":1544543898,"post_id":36488468,"comment_id":94309319,"body_markdown":"I was searching for it!","body":"I was searching for it!"}],"tags":[],"owner":{"account_id":2419496,"reputation":1280,"user_id":2112837,"accept_rate":31,"display_name":"techtinkerer"},"comment_count":1,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1460619746,"creation_date":1460068802,"answer_id":36488468,"question_id":16804404,"body_markdown":"here is a solution:\r\n\r\n    Bitmap bitmap = BitmapFactory.decodeFile(filePath);","title":"Create a Bitmap/Drawable from file path","body":"<p>here is a solution:</p>\n\n<pre><code>Bitmap bitmap = BitmapFactory.decodeFile(filePath);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20618398,"reputation":149,"user_id":15135947,"display_name":"Aarush Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617458956,"creation_date":1617458956,"answer_id":66932098,"question_id":16804404,"body_markdown":"#### For Drawable -\r\n````\r\nDrawable drawable = Drawable.createFromPath(your path in string);\r\n````\r\n#### For Bitmap -\r\n````\r\nBitmap bitmap = BitmapFactory.decodeFile(your path in string);\r\n````\r\n### How simple it was hope you like","title":"Create a Bitmap/Drawable from file path","body":"For Drawable -\n<pre><code>Drawable drawable = Drawable.createFromPath(your path in string);\n</code></pre>\nFor Bitmap -\n<pre><code>Bitmap bitmap = BitmapFactory.decodeFile(your path in string);\n</code></pre>\n<h3>How simple it was hope you like</h3>\n"}],"owner":{"account_id":2577145,"reputation":2459,"user_id":2238996,"accept_rate":55,"display_name":"Nari Kim Shin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189167,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":28351881,"answer_count":7,"score":97,"last_activity_date":1671836151,"creation_date":1369793399,"question_id":16804404,"body_markdown":"I&#39;m trying to create a Bitmap or Drawable from existing file path.\r\n\r\n    String path = intent.getStringExtra(&quot;FilePath&quot;);\r\n    BitmapFactory.Options option = new BitmapFactory.Options();\r\n    option.inPreferredConfig = Bitmap.Config.ARGB_8888;\r\n    \r\n    mImg.setImageBitmap(BitmapFactory.decodeFile(path));\r\n    // mImg.setImageBitmap(BitmapFactory.decodeFile(path, option));\r\n    // mImg.setImageDrawable(Drawable.createFromPath(path));\r\n    mImg.setVisibility(View.VISIBLE);\r\n    mText.setText(path);\r\n\r\nBut `setImageBitmap()`, `setImageDrawable()` doesn&#39;t show an image from the path. I&#39;ve printed path with `mText` and it looks like : `/storage/sdcard0/DCIM/100LGDSC/CAM00001.jpg`\r\n\r\nWhat am i doing wrong? Anyone can help me?","title":"Create a Bitmap/Drawable from file path","body":"<p>I'm trying to create a Bitmap or Drawable from existing file path.</p>\n\n<pre><code>String path = intent.getStringExtra(\"FilePath\");\nBitmapFactory.Options option = new BitmapFactory.Options();\noption.inPreferredConfig = Bitmap.Config.ARGB_8888;\n\nmImg.setImageBitmap(BitmapFactory.decodeFile(path));\n// mImg.setImageBitmap(BitmapFactory.decodeFile(path, option));\n// mImg.setImageDrawable(Drawable.createFromPath(path));\nmImg.setVisibility(View.VISIBLE);\nmText.setText(path);\n</code></pre>\n\n<p>But <code>setImageBitmap()</code>, <code>setImageDrawable()</code> doesn't show an image from the path. I've printed path with <code>mText</code> and it looks like : <code>/storage/sdcard0/DCIM/100LGDSC/CAM00001.jpg</code></p>\n\n<p>What am i doing wrong? Anyone can help me?</p>\n"},{"tags":["java","security","quarkus","quarkus-oidc"],"owner":{"account_id":1959790,"reputation":41,"user_id":1761772,"display_name":"Genku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671835846,"creation_date":1671835846,"question_id":74904568,"body_markdown":"I have an application with 2 entities : A and B.\r\n\r\nEach of these entities contain a &quot;Workspace&quot; :\r\n\r\n    @Entity\r\n    class A {\r\n      private Workspace workspace;\r\n    }\r\n    \r\n    @Entity\r\n    class B {\r\n      private Workspace workspace;\r\n    }\r\n\r\nFor each request that comes in like a `GET &lt;api&gt;/resourceA` or a `POST &lt;api&gt;/resourceB/{id}/createSomething`, we need to check that the caller (that is logged in through Keycloak and has a JWT) has access to the Workspace that A is part of (or B, in the latter case). It&#39;s all &quot;dynamic&quot; as it&#39;s based on the ID of the specific object A.\r\n\r\nSo, for each endpoint (or each Resource, might be all that&#39;s needed), we need to call a method that is specific to that endpoint/Resource. We cannot do this with just &quot;Roles&quot;, because we need to have that specific check on the IDs, like :\r\n\r\n    A.getWorkspace().isAccessibleBy(theCallingUser)\r\n\r\nI know Spring Security has specific methods like &quot;hasRole()&quot; and you can call specific code in the `@PreAuthorize` annotations, but I haven&#39;t seen the same in Quarkus.\r\n","title":"Call custom method for authorization for each endpoint or resource in Quarkus","body":"<p>I have an application with 2 entities : A and B.</p>\n<p>Each of these entities contain a &quot;Workspace&quot; :</p>\n<pre><code>@Entity\nclass A {\n  private Workspace workspace;\n}\n\n@Entity\nclass B {\n  private Workspace workspace;\n}\n</code></pre>\n<p>For each request that comes in like a <code>GET &lt;api&gt;/resourceA</code> or a <code>POST &lt;api&gt;/resourceB/{id}/createSomething</code>, we need to check that the caller (that is logged in through Keycloak and has a JWT) has access to the Workspace that A is part of (or B, in the latter case). It's all &quot;dynamic&quot; as it's based on the ID of the specific object A.</p>\n<p>So, for each endpoint (or each Resource, might be all that's needed), we need to call a method that is specific to that endpoint/Resource. We cannot do this with just &quot;Roles&quot;, because we need to have that specific check on the IDs, like :</p>\n<pre><code>A.getWorkspace().isAccessibleBy(theCallingUser)\n</code></pre>\n<p>I know Spring Security has specific methods like &quot;hasRole()&quot; and you can call specific code in the <code>@PreAuthorize</code> annotations, but I haven't seen the same in Quarkus.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1671827069,"post_id":74903633,"comment_id":132185674,"body_markdown":"See https://www.baeldung.com/exception-handling-for-rest-with-spring, especially the solution about the `@ControllerAdvice`.","body":"See <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/exception-handling-for-rest-with-spring</a>, especially the solution about the <code>@ControllerAdvice</code>."}],"answers":[{"comments":[{"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"score":0,"creation_date":1671835252,"post_id":74903738,"comment_id":132187125,"body_markdown":"thanks for the answer, I&#39;m trying also to write a JUnit test for this endpoint, could you also help me to fix it, it throws BadRequest and not my custom exception. I added to my answer","body":"thanks for the answer, I&#39;m trying also to write a JUnit test for this endpoint, could you also help me to fix it, it throws BadRequest and not my custom exception. I added to my answer"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1671835282,"post_id":74903738,"comment_id":132187134,"body_markdown":"@LDropl That is a significantly different question, so I would recommend asking a new question.","body":"@LDropl That is a significantly different question, so I would recommend asking a new question."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671827198,"creation_date":1671827198,"answer_id":74903738,"question_id":74903633,"body_markdown":"Set `spring.servlet.multipart.resolve-lazily` to `true`, then add an `ExceptionHandler` for `MaxUploadSizeExceededException`.\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=10MB\r\nspring.servlet.multipart.resolve-lazily=true\r\n```\r\n\r\nController:\r\n\r\n```java\r\n@ExceptionHandler(MaxUploadSizeExceededException.class)\r\npublic ResponseEntity maxUploadSizeExceeded(MaxUploadSizeExceededException e) {\r\n\t// handle it here\r\n}\r\n```","title":"Handling MaxUploadSizeExceededException in java spring boot","body":"<p>Set <code>spring.servlet.multipart.resolve-lazily</code> to <code>true</code>, then add an <code>ExceptionHandler</code> for <code>MaxUploadSizeExceededException</code>.</p>\n<p>application.properties:</p>\n<pre><code>spring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\nspring.servlet.multipart.resolve-lazily=true\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler(MaxUploadSizeExceededException.class)\npublic ResponseEntity maxUploadSizeExceeded(MaxUploadSizeExceededException e) {\n    // handle it here\n}\n</code></pre>\n"}],"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74903738,"answer_count":1,"score":1,"last_activity_date":1671835352,"creation_date":1671826162,"question_id":74903633,"body_markdown":"There is endpoint to upload a file and there is max file size defined in `application.properties`. \r\n\r\nIf I&#39;m uploading large file it&#39;s not even going inside `uploadFile` function and it just throwing `MaxUploadSizeExceededException`\r\n\r\nIn that case I would like to return some specific response status/message like in an example below.\r\n\r\nI tried to remove configuration for max-file-size from `application.properties` but it didn&#39;t help.\r\n\r\nAny ideas how properly handle this case ?\r\n\r\n```java\r\n\t@PostMapping(&quot;file&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n\t\tString contentType = file.getContentType();\r\n\t\tif (file.isEmpty()) {\r\n\t\t\treturn ResponseEntity.badRequest().build();\r\n\t\t}\r\n\t\tif (file.getSize() &gt; MAX_FILE_SIZE_10MB) {\r\n\t\t\treturn ResponseEntity.badRequest().body(&quot;File is too large&quot;);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tString filename = file.getOriginalFilename();\r\n\t\t\tFile dbFile = File.builder().name(filename).content(file.getBytes()).mediaType(contentType).build();\r\n\t\t\tdbFile = fileRepository.save(dbFile);\r\n\t\t\treturn ResponseEntity.ok(dbFile);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```xml\r\n***application.properties***\r\n\r\nspring.servlet.multipart.max-file-size=10MB\r\nspring.servlet.multipart.max-request-size=10MB\r\n```\r\n\r\n```logs\r\nServlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: \r\n\r\norg.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (15582677) exceeds the configured maximum (10485760)\r\n```","title":"Handling MaxUploadSizeExceededException in java spring boot","body":"<p>There is endpoint to upload a file and there is max file size defined in <code>application.properties</code>.</p>\n<p>If I'm uploading large file it's not even going inside <code>uploadFile</code> function and it just throwing <code>MaxUploadSizeExceededException</code></p>\n<p>In that case I would like to return some specific response status/message like in an example below.</p>\n<p>I tried to remove configuration for max-file-size from <code>application.properties</code> but it didn't help.</p>\n<p>Any ideas how properly handle this case ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;file&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) {\n        String contentType = file.getContentType();\n        if (file.isEmpty()) {\n            return ResponseEntity.badRequest().build();\n        }\n        if (file.getSize() &gt; MAX_FILE_SIZE_10MB) {\n            return ResponseEntity.badRequest().body(&quot;File is too large&quot;);\n        }\n        try {\n            String filename = file.getOriginalFilename();\n            File dbFile = File.builder().name(filename).content(file.getBytes()).mediaType(contentType).build();\n            dbFile = fileRepository.save(dbFile);\n            return ResponseEntity.ok(dbFile);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>***application.properties***\n\nspring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is org.springframework.web.multipart.MaxUploadSizeExceededException: Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: \n\norg.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (15582677) exceeds the configured maximum (10485760)\n</code></pre>\n"},{"tags":["java","couchbase","spring-data-couchbase"],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671834613,"creation_date":1663265035,"answer_id":73735608,"question_id":73591722,"body_markdown":"There is no integration for FTS in spring data couchbase repositories.\r\n\r\nUse 8.3 Object Conversion for object mapping. https://docs.spring.io/spring-data/couchbase/docs/4.4.5/reference/html/#couchbase.transactions\r\n","title":"How to perform Full Text Search in Couchbase using Spring Data Repository","body":"<p>There is no integration for FTS in spring data couchbase repositories.</p>\n<p>Use 8.3 Object Conversion for object mapping. <a href=\"https://docs.spring.io/spring-data/couchbase/docs/4.4.5/reference/html/#couchbase.transactions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/4.4.5/reference/html/#couchbase.transactions</a></p>\n"}],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671834613,"creation_date":1662202986,"question_id":73591722,"body_markdown":"I have created a full-text search index for my bucket and I am able to use it in web UI and get some search results. Still, I can&#39;t find an appropriate example of how to create a repository or method in the existing repository using Spring Data Couchbase for performing a full-text search. \r\n\r\nHere is my index definition:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;fulltext-index&quot;,\r\n      &quot;name&quot;: &quot;FTI_Users&quot;,\r\n      &quot;uuid&quot;: &quot;48316628ed720269&quot;,\r\n      &quot;sourceType&quot;: &quot;gocbcore&quot;,\r\n      &quot;sourceName&quot;: &quot;Users&quot;,\r\n      &quot;sourceUUID&quot;: &quot;d8a535cb7b46f6b4f85b24bc0887e740&quot;,\r\n      &quot;planParams&quot;: {\r\n        &quot;maxPartitionsPerPIndex&quot;: 1024,\r\n        &quot;indexPartitions&quot;: 1\r\n      },\r\n      &quot;params&quot;: {\r\n        &quot;doc_config&quot;: {\r\n          &quot;docid_prefix_delim&quot;: &quot;&quot;,\r\n          &quot;docid_regexp&quot;: &quot;&quot;,\r\n          &quot;mode&quot;: &quot;type_field&quot;,\r\n          &quot;type_field&quot;: &quot;type&quot;\r\n        },\r\n        &quot;mapping&quot;: {\r\n          &quot;analysis&quot;: {},\r\n          &quot;default_analyzer&quot;: &quot;standard&quot;,\r\n          &quot;default_datetime_parser&quot;: &quot;dateTimeOptional&quot;,\r\n          &quot;default_field&quot;: &quot;_all&quot;,\r\n          &quot;default_mapping&quot;: {\r\n            &quot;dynamic&quot;: true,\r\n            &quot;enabled&quot;: true\r\n          },\r\n          &quot;default_type&quot;: &quot;_default&quot;,\r\n          &quot;docvalues_dynamic&quot;: false,\r\n          &quot;index_dynamic&quot;: true,\r\n          &quot;store_dynamic&quot;: true,\r\n          &quot;type_field&quot;: &quot;_type&quot;\r\n        },\r\n        &quot;store&quot;: {\r\n          &quot;indexType&quot;: &quot;scorch&quot;,\r\n          &quot;segmentVersion&quot;: 15\r\n        }\r\n      },\r\n      &quot;sourceParams&quot;: {}\r\n    }\r\n\r\nAll I found is this short Spring documentation https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#:~:text=for%20more%20information.-,Full%20Text%20Search,-(FTS) where they suggest using `Cluster` class. \r\n\r\nFirst of all, I would like to use the Spring repository instead of this class if it&#39;s possible. If not, how do I convert `SearchResult` that returns from\r\n\r\n    cluster.searchQuery(&quot;FTI_Users&quot;, SearchQuery.queryString(query))\r\n\r\ninto a list of my entity objects?","title":"How to perform Full Text Search in Couchbase using Spring Data Repository","body":"<p>I have created a full-text search index for my bucket and I am able to use it in web UI and get some search results. Still, I can't find an appropriate example of how to create a repository or method in the existing repository using Spring Data Couchbase for performing a full-text search.</p>\n<p>Here is my index definition:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;fulltext-index&quot;,\n  &quot;name&quot;: &quot;FTI_Users&quot;,\n  &quot;uuid&quot;: &quot;48316628ed720269&quot;,\n  &quot;sourceType&quot;: &quot;gocbcore&quot;,\n  &quot;sourceName&quot;: &quot;Users&quot;,\n  &quot;sourceUUID&quot;: &quot;d8a535cb7b46f6b4f85b24bc0887e740&quot;,\n  &quot;planParams&quot;: {\n    &quot;maxPartitionsPerPIndex&quot;: 1024,\n    &quot;indexPartitions&quot;: 1\n  },\n  &quot;params&quot;: {\n    &quot;doc_config&quot;: {\n      &quot;docid_prefix_delim&quot;: &quot;&quot;,\n      &quot;docid_regexp&quot;: &quot;&quot;,\n      &quot;mode&quot;: &quot;type_field&quot;,\n      &quot;type_field&quot;: &quot;type&quot;\n    },\n    &quot;mapping&quot;: {\n      &quot;analysis&quot;: {},\n      &quot;default_analyzer&quot;: &quot;standard&quot;,\n      &quot;default_datetime_parser&quot;: &quot;dateTimeOptional&quot;,\n      &quot;default_field&quot;: &quot;_all&quot;,\n      &quot;default_mapping&quot;: {\n        &quot;dynamic&quot;: true,\n        &quot;enabled&quot;: true\n      },\n      &quot;default_type&quot;: &quot;_default&quot;,\n      &quot;docvalues_dynamic&quot;: false,\n      &quot;index_dynamic&quot;: true,\n      &quot;store_dynamic&quot;: true,\n      &quot;type_field&quot;: &quot;_type&quot;\n    },\n    &quot;store&quot;: {\n      &quot;indexType&quot;: &quot;scorch&quot;,\n      &quot;segmentVersion&quot;: 15\n    }\n  },\n  &quot;sourceParams&quot;: {}\n}\n</code></pre>\n<p>All I found is this short Spring documentation <a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#:%7E:text=for%20more%20information.-,Full%20Text%20Search,-(FTS)\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#:~:text=for%20more%20information.-,Full%20Text%20Search,-(FTS)</a> where they suggest using <code>Cluster</code> class.</p>\n<p>First of all, I would like to use the Spring repository instead of this class if it's possible. If not, how do I convert <code>SearchResult</code> that returns from</p>\n<pre><code>cluster.searchQuery(&quot;FTI_Users&quot;, SearchQuery.queryString(query))\n</code></pre>\n<p>into a list of my entity objects?</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1635151952,"post_id":69705151,"comment_id":123209442,"body_markdown":"&quot;My application works fine&quot; what more do you expect?","body":"&quot;My application works fine&quot; what more do you expect?"},{"owner":{"account_id":23129778,"reputation":61,"user_id":17235009,"display_name":"Castro99"},"score":0,"creation_date":1635153201,"post_id":69705151,"comment_id":123209895,"body_markdown":"I wanted to understand this warnings","body":"I wanted to understand this warnings"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1635153517,"post_id":69705151,"comment_id":123210028,"body_markdown":"why do you assume they are warnings? Nowhere in that entire block I find the word &#39;warning&#39;","body":"why do you assume they are warnings? Nowhere in that entire block I find the word &#39;warning&#39;"},{"owner":{"account_id":23129778,"reputation":61,"user_id":17235009,"display_name":"Castro99"},"score":2,"creation_date":1635153860,"post_id":69705151,"comment_id":123210151,"body_markdown":"The &quot;W/&quot; string at the beginning of the log it should mean Warning if i am not wrong","body":"The &quot;W/&quot; string at the beginning of the log it should mean Warning if i am not wrong"},{"owner":{"account_id":5791964,"reputation":694,"user_id":4569103,"display_name":"masoomyf"},"score":0,"creation_date":1635188030,"post_id":69705151,"comment_id":123224394,"body_markdown":"You should provide more details like when this warning came i.e. As soon as app get open, or performing specific task.","body":"You should provide more details like when this warning came i.e. As soon as app get open, or performing specific task."},{"owner":{"account_id":23129778,"reputation":61,"user_id":17235009,"display_name":"Castro99"},"score":1,"creation_date":1635235447,"post_id":69705151,"comment_id":123235298,"body_markdown":"This warnings come as soon as app get open, at the really beginning. But I dont&#39;know what causes them","body":"This warnings come as soon as app get open, at the really beginning. But I dont&#39;know what causes them"},{"owner":{"account_id":2093310,"reputation":337,"user_id":1862625,"accept_rate":100,"display_name":"Ast"},"score":0,"creation_date":1643705544,"post_id":69705151,"comment_id":125404552,"body_markdown":"did you understand what this warnings are? I got the same behavior...hateful","body":"did you understand what this warnings are? I got the same behavior...hateful"},{"owner":{"account_id":23129778,"reputation":61,"user_id":17235009,"display_name":"Castro99"},"score":0,"creation_date":1643816508,"post_id":69705151,"comment_id":125440701,"body_markdown":"Yes, If I understood these warnings should mean that you are using some functions that in future could be deprecated. But I am not sure 100% so check it","body":"Yes, If I understood these warnings should mean that you are using some functions that in future could be deprecated. But I am not sure 100% so check it"}],"answers":[{"tags":[],"owner":{"account_id":6914700,"reputation":4797,"user_id":5309419,"display_name":"DmitryArc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671834399,"creation_date":1671834399,"answer_id":74904446,"question_id":69705151,"body_markdown":"`Accessing hidden field` warning means that your app is using some restricted non-SDK interfaces.\r\n\r\n&gt; Starting in Android 9 (API level 28), the platform restricts which non-SDK interfaces your app can use. These restrictions apply whenever an app references a non-SDK interface or attempts to obtain its handle using reflection or JNI. These restrictions were put in place to help improve the user and developer experience and reduce the risks of crashes for users and emergency rollouts for developers.\r\n\r\nThis [document][1] provides a comprehensive explanation on this topic and provides guidance on how to resolve these issues:\r\n\r\n&gt; While you can currently use some non-SDK interfaces (depending on your app&#39;s target API level), using any non-SDK method or field always carries a high risk of breaking your app. If your app relies on non-SDK interfaces, you should begin planning a migration to SDK interfaces or other alternatives. If you cannot find an alternative to using a non-SDK interface for a feature in your app, you should request a new public API.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/app-compatibility/restrictions-non-sdk-interfaces","title":"Android studio gives me a lot of hidden methods warning","body":"<p><code>Accessing hidden field</code> warning means that your app is using some restricted non-SDK interfaces.</p>\n<blockquote>\n<p>Starting in Android 9 (API level 28), the platform restricts which non-SDK interfaces your app can use. These restrictions apply whenever an app references a non-SDK interface or attempts to obtain its handle using reflection or JNI. These restrictions were put in place to help improve the user and developer experience and reduce the risks of crashes for users and emergency rollouts for developers.</p>\n</blockquote>\n<p>This <a href=\"https://developer.android.com/guide/app-compatibility/restrictions-non-sdk-interfaces\" rel=\"nofollow noreferrer\">document</a> provides a comprehensive explanation on this topic and provides guidance on how to resolve these issues:</p>\n<blockquote>\n<p>While you can currently use some non-SDK interfaces (depending on your app's target API level), using any non-SDK method or field always carries a high risk of breaking your app. If your app relies on non-SDK interfaces, you should begin planning a migration to SDK interfaces or other alternatives. If you cannot find an alternative to using a non-SDK interface for a feature in your app, you should request a new public API.</p>\n</blockquote>\n"}],"owner":{"account_id":23129778,"reputation":61,"user_id":17235009,"display_name":"Castro99"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3732,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1671834399,"creation_date":1635151836,"question_id":69705151,"body_markdown":"i am working on an Android project and i am getting a lot of access hidden methods warning and i don&#39;t know what i am doing wrong. My application works fine so i really don&#39;t know what to do to delete these warnings. Plese help me i really don&#39;t know what should i do. I am a beginner in Android so i really have no idea.\r\n\r\n        W/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;&lt;clinit&gt;()V (blacklist, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;EMPTY_STACK_TRACE:[Ljava/lang/StackTraceElement; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;SUBCLASS_IMPLEMENTATION_PERMISSION:Ljava/lang/RuntimePermission; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;lock:Ljava/lang/Object; (greylist, linking, allowed)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;daemon:Z (greylist, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;threadLocals:Ljava/lang/ThreadLocal$ThreadLocalMap; (greylist, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;inheritableThreadLocals:Ljava/lang/ThreadLocal$ThreadLocalMap; (greylist, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;&lt;init&gt;(Ljava/lang/Runnable;Ljava/security/AccessControlContext;)V (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;&lt;init&gt;(Ljava/lang/ThreadGroup;Ljava/lang/String;IZ)V (greylist, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;group:Ljava/lang/ThreadGroup; (greylist, linking, allowed)\r\n        Accessing hidden method Ljava/lang/ThreadGroup;-&gt;addUnstarted()V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;auditSubclass(Ljava/lang/Class;)Z (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread$1;-&gt;&lt;init&gt;(Ljava/lang/Class;)V (blacklist, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;exit()V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/ThreadGroup;-&gt;threadTerminated(Ljava/lang/Thread;)V (greylist, linking, allowed)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;target:Ljava/lang/Runnable; (greylist, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;inheritedAccessControlContext:Ljava/security/AccessControlContext; (greylist, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blocker:Lsun/nio/ch/Interruptible; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/ThreadGroup;-&gt;systemThreadGroup:Ljava/lang/ThreadGroup; (greylist, linking, allowed)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;defaultUncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;getNativeTid()I (blacklist, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;getUncaughtExceptionPreHandler()Ljava/lang/Thread$UncaughtExceptionHandler; (greylist,core-platform-api, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionPreHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist, linking, allowed)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;JLjava/security/AccessControlContext;)V (blacklist, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;JLjava/security/AccessControlContext;)V (blacklist, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;name:Ljava/lang/String; (greylist, linking, allowed)\r\n        Accessing hidden method Ljava/lang/ThreadGroup;-&gt;addUnstarted()V (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;init2(Ljava/lang/Thread;)V (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;contextClassLoader:Ljava/lang/ClassLoader; (greylist, linking, allowed)\r\n    W/rackingmypantr: Accessing hidden method Ljava/lang/ThreadLocal;-&gt;createInheritedMap(Ljava/lang/ThreadLocal$ThreadLocalMap;)Ljava/lang/ThreadLocal$ThreadLocalMap; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;interrupt0()V (blacklist, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;isCCLOverridden(Ljava/lang/Class;)Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread$Caches;-&gt;subclassAuditsQueue:Ljava/lang/ref/ReferenceQueue; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread$Caches;-&gt;subclassAudits:Ljava/util/concurrent/ConcurrentMap; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;processQueue(Ljava/lang/ref/ReferenceQueue;Ljava/util/concurrent/ConcurrentMap;)V (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;nativeCreate(Ljava/lang/Thread;JZ)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nativeGetStatus(Z)I (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadID()J (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;threadSeqNumber:J (greylist, linking, allowed)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;threadInitNumber:I (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;threadInitNumber:I (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;processQueue(Ljava/lang/ref/ReferenceQueue;Ljava/util/concurrent/ConcurrentMap;)V (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;defaultUncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;setNativeName(Ljava/lang/String;)V (blacklist, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;setPriority0(I)V (blacklist, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;setUncaughtExceptionPreHandler(Ljava/lang/Thread$UncaughtExceptionHandler;)V (greylist-max-o,core-platform-api, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;sleep(Ljava/lang/Object;JI)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;sleep(Ljava/lang/Object;JI)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;blockedOn(Lsun/nio/ch/Interruptible;)V (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blocker:Lsun/nio/ch/Interruptible; (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;dispatchUncaughtException(Ljava/lang/Throwable;)V (greylist, linking, allowed)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;tid:J (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;priority:I (greylist, linking, allowed)\r\n    W/rackingmypantr: Accessing hidden method Ldalvik/system/VMStack;-&gt;getThreadStackTrace(Ljava/lang/Thread;)[Ljava/lang/StackTraceElement; (greylist, linking, allowed)\r\n        Accessing hidden field Llibcore/util/EmptyArray;-&gt;STACK_TRACE_ELEMENT:[Ljava/lang/StackTraceElement; (blacklist, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nativeGetStatus(Z)I (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;blocker:Lsun/nio/ch/Interruptible; (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;interrupt0()V (blacklist, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;interrupt0()V (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;nativePeer:J (greylist, linking, allowed)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;setNativeName(Ljava/lang/String;)V (blacklist, linking, denied)\r\n        Accessing hidden method Ldalvik/system/RuntimeHooks;-&gt;getThreadPrioritySetter()Ldalvik/system/ThreadPrioritySetter; (blacklist,core-platform-api, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;setSystemDaemon(Z)V (blacklist, linking, denied)\r\n    W/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/ThreadGroup;-&gt;add(Ljava/lang/Thread;)V (greylist, linking, allowed)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;stackSize:J (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/Thread;-&gt;nativeCreate(Ljava/lang/Thread;JZ)V (greylist-max-o, linking, denied)\r\n        Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ljava/lang/ThreadGroup;-&gt;threadStartFailed(Ljava/lang/Thread;)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;)V (blacklist, linking, denied)\r\n        Accessing hidden field Ldalvik/system/DexPathList;-&gt;definingContext:Ljava/lang/ClassLoader; (greylist, linking, allowed)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;splitPaths(Ljava/lang/String;Z)Ljava/util/List; (greylist, linking, allowed)\r\n    W/rackingmypantr: Accessing hidden field Ldalvik/system/DexPathList;-&gt;nativeLibraryDirectories:Ljava/util/List; (greylist, linking, allowed)\r\n        Accessing hidden field Ldalvik/system/DexPathList;-&gt;systemNativeLibraryDirectories:Ljava/util/List; (greylist, linking, allowed)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;getAllNativeLibraryDirectories()Ljava/util/List; (blacklist, linking, denied)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;)V (greylist, linking, allowed)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;Z)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;Z)V (greylist-max-o, linking, denied)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;splitDexPath(Ljava/lang/String;)Ljava/util/List; (greylist-max-o, linking, denied)\r\n    W/rackingmypantr: Accessing hidden method Ldalvik/system/DexPathList;-&gt;concat(Ljava/lang/Class;[Ljava/lang/Object;[Ljava/lang/Object;)[Ljava/lang/Object; (blacklist, linking, denied)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;getAllNativeLibraryDirectories()Ljava/util/List; (blacklist, linking, denied)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;lambda$initByteBufferDexPath$0(Ljava/nio/ByteBuffer;)Z (blacklist, linking, denied)\r\n        Accessing hidden method Ldalvik/system/DexPathList;-&gt;loadDexFile(Ljava/io/File;Ljava/io/File;Ljava/lang/ClassLoader;[Ldalvik/system/DexPathList$Element;)Ldalvik/system/DexFile; (greylist, linking, allowed)\r\n        Accessing hidden method Ldalvik/system/DexFile;-&gt;&lt;init&gt;(Ljava/io/File;Ljava/lang/ClassLoader;[Ldalvik/system/DexPathList$Element;)V (greylist-max-o, linking, denied)\r\n\r\n  ","title":"Android studio gives me a lot of hidden methods warning","body":"<p>i am working on an Android project and i am getting a lot of access hidden methods warning and i don't know what i am doing wrong. My application works fine so i really don't know what to do to delete these warnings. Plese help me i really don't know what should i do. I am a beginner in Android so i really have no idea.</p>\n<pre><code>    W/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;&lt;clinit&gt;()V (blacklist, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;EMPTY_STACK_TRACE:[Ljava/lang/StackTraceElement; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;SUBCLASS_IMPLEMENTATION_PERMISSION:Ljava/lang/RuntimePermission; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;lock:Ljava/lang/Object; (greylist, linking, allowed)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;daemon:Z (greylist, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;threadLocals:Ljava/lang/ThreadLocal$ThreadLocalMap; (greylist, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;inheritableThreadLocals:Ljava/lang/ThreadLocal$ThreadLocalMap; (greylist, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;&lt;init&gt;(Ljava/lang/Runnable;Ljava/security/AccessControlContext;)V (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;&lt;init&gt;(Ljava/lang/ThreadGroup;Ljava/lang/String;IZ)V (greylist, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stillborn:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;group:Ljava/lang/ThreadGroup; (greylist, linking, allowed)\n    Accessing hidden method Ljava/lang/ThreadGroup;-&gt;addUnstarted()V (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;auditSubclass(Ljava/lang/Class;)Z (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread$1;-&gt;&lt;init&gt;(Ljava/lang/Class;)V (blacklist, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;exit()V (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/ThreadGroup;-&gt;threadTerminated(Ljava/lang/Thread;)V (greylist, linking, allowed)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;target:Ljava/lang/Runnable; (greylist, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;inheritedAccessControlContext:Ljava/security/AccessControlContext; (greylist, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blocker:Lsun/nio/ch/Interruptible; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/ThreadGroup;-&gt;systemThreadGroup:Ljava/lang/ThreadGroup; (greylist, linking, allowed)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;defaultUncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;getNativeTid()I (blacklist, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;getUncaughtExceptionPreHandler()Ljava/lang/Thread$UncaughtExceptionHandler; (greylist,core-platform-api, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionPreHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist, linking, allowed)\n    Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;J)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;JLjava/security/AccessControlContext;)V (blacklist, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;init(Ljava/lang/ThreadGroup;Ljava/lang/Runnable;Ljava/lang/String;JLjava/security/AccessControlContext;)V (blacklist, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;name:Ljava/lang/String; (greylist, linking, allowed)\n    Accessing hidden method Ljava/lang/ThreadGroup;-&gt;addUnstarted()V (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;init2(Ljava/lang/Thread;)V (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;contextClassLoader:Ljava/lang/ClassLoader; (greylist, linking, allowed)\nW/rackingmypantr: Accessing hidden method Ljava/lang/ThreadLocal;-&gt;createInheritedMap(Ljava/lang/ThreadLocal$ThreadLocalMap;)Ljava/lang/ThreadLocal$ThreadLocalMap; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;interrupt0()V (blacklist, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;isCCLOverridden(Ljava/lang/Class;)Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread$Caches;-&gt;subclassAuditsQueue:Ljava/lang/ref/ReferenceQueue; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread$Caches;-&gt;subclassAudits:Ljava/util/concurrent/ConcurrentMap; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;processQueue(Ljava/lang/ref/ReferenceQueue;Ljava/util/concurrent/ConcurrentMap;)V (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;nativeCreate(Ljava/lang/Thread;JZ)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nativeGetStatus(Z)I (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadID()J (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;threadSeqNumber:J (greylist, linking, allowed)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nextThreadNum()I (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;threadInitNumber:I (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;threadInitNumber:I (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;processQueue(Ljava/lang/ref/ReferenceQueue;Ljava/util/concurrent/ConcurrentMap;)V (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;defaultUncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;setNativeName(Ljava/lang/String;)V (blacklist, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;setPriority0(I)V (blacklist, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;setUncaughtExceptionPreHandler(Ljava/lang/Thread$UncaughtExceptionHandler;)V (greylist-max-o,core-platform-api, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;sleep(Ljava/lang/Object;JI)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;sleep(Ljava/lang/Object;JI)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;blockedOn(Lsun/nio/ch/Interruptible;)V (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blocker:Lsun/nio/ch/Interruptible; (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden method Ljava/lang/Thread;-&gt;dispatchUncaughtException(Ljava/lang/Throwable;)V (greylist, linking, allowed)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;tid:J (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;priority:I (greylist, linking, allowed)\nW/rackingmypantr: Accessing hidden method Ldalvik/system/VMStack;-&gt;getThreadStackTrace(Ljava/lang/Thread;)[Ljava/lang/StackTraceElement; (greylist, linking, allowed)\n    Accessing hidden field Llibcore/util/EmptyArray;-&gt;STACK_TRACE_ELEMENT:[Ljava/lang/StackTraceElement; (blacklist, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nativeGetStatus(Z)I (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blockerLock:Ljava/lang/Object; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;blocker:Lsun/nio/ch/Interruptible; (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;interrupt0()V (blacklist, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;interrupt0()V (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;nativePeer:J (greylist, linking, allowed)\n    Accessing hidden method Ljava/lang/Thread;-&gt;setNativeName(Ljava/lang/String;)V (blacklist, linking, denied)\n    Accessing hidden method Ldalvik/system/RuntimeHooks;-&gt;getThreadPrioritySetter()Ldalvik/system/ThreadPrioritySetter; (blacklist,core-platform-api, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;setSystemDaemon(Z)V (blacklist, linking, denied)\nW/rackingmypantr: Accessing hidden field Ljava/lang/Thread;-&gt;systemDaemon:Z (blacklist, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;uncaughtExceptionHandler:Ljava/lang/Thread$UncaughtExceptionHandler; (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/ThreadGroup;-&gt;add(Ljava/lang/Thread;)V (greylist, linking, allowed)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;stackSize:J (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/Thread;-&gt;nativeCreate(Ljava/lang/Thread;JZ)V (greylist-max-o, linking, denied)\n    Accessing hidden field Ljava/lang/Thread;-&gt;started:Z (greylist-max-o, linking, denied)\n    Accessing hidden method Ljava/lang/ThreadGroup;-&gt;threadStartFailed(Ljava/lang/Thread;)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;)V (blacklist, linking, denied)\n    Accessing hidden field Ldalvik/system/DexPathList;-&gt;definingContext:Ljava/lang/ClassLoader; (greylist, linking, allowed)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;splitPaths(Ljava/lang/String;Z)Ljava/util/List; (greylist, linking, allowed)\nW/rackingmypantr: Accessing hidden field Ldalvik/system/DexPathList;-&gt;nativeLibraryDirectories:Ljava/util/List; (greylist, linking, allowed)\n    Accessing hidden field Ldalvik/system/DexPathList;-&gt;systemNativeLibraryDirectories:Ljava/util/List; (greylist, linking, allowed)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;getAllNativeLibraryDirectories()Ljava/util/List; (blacklist, linking, denied)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;)V (greylist, linking, allowed)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;Z)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;&lt;init&gt;(Ljava/lang/ClassLoader;Ljava/lang/String;Ljava/lang/String;Ljava/io/File;Z)V (greylist-max-o, linking, denied)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;splitDexPath(Ljava/lang/String;)Ljava/util/List; (greylist-max-o, linking, denied)\nW/rackingmypantr: Accessing hidden method Ldalvik/system/DexPathList;-&gt;concat(Ljava/lang/Class;[Ljava/lang/Object;[Ljava/lang/Object;)[Ljava/lang/Object; (blacklist, linking, denied)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;getAllNativeLibraryDirectories()Ljava/util/List; (blacklist, linking, denied)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;lambda$initByteBufferDexPath$0(Ljava/nio/ByteBuffer;)Z (blacklist, linking, denied)\n    Accessing hidden method Ldalvik/system/DexPathList;-&gt;loadDexFile(Ljava/io/File;Ljava/io/File;Ljava/lang/ClassLoader;[Ldalvik/system/DexPathList$Element;)Ldalvik/system/DexFile; (greylist, linking, allowed)\n    Accessing hidden method Ldalvik/system/DexFile;-&gt;&lt;init&gt;(Ljava/io/File;Ljava/lang/ClassLoader;[Ldalvik/system/DexPathList$Element;)V (greylist-max-o, linking, denied)\n</code></pre>\n"},{"tags":["java","apache-spark-sql","spark-structured-streaming"],"comments":[{"owner":{"account_id":16883509,"reputation":16760,"user_id":12208910,"display_name":"Michael Heil"},"score":0,"creation_date":1614324291,"post_id":66334338,"comment_id":117355754,"body_markdown":"Hi @TheCrucial. Please note that Stackoverflow is not a discussion board but rather a focused Q&amp;A site. If you find my answer useful, feel free to accept it (tick mark on the left hand side of the answer box). If you have a new question please open a new question and avoid using screenshots.","body":"Hi @TheCrucial. Please note that Stackoverflow is not a discussion board but rather a focused Q&amp;A site. If you find my answer useful, feel free to accept it (tick mark on the left hand side of the answer box). If you have a new question please open a new question and avoid using screenshots."}],"answers":[{"tags":[],"owner":{"account_id":16883509,"reputation":16760,"user_id":12208910,"display_name":"Michael Heil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671834117,"creation_date":1614113184,"answer_id":66340863,"question_id":66334338,"body_markdown":"The error is pretty specific in telling what the actual problem is: the output mode complete is not supported for the type of your query.\r\n\r\nAs stated in the Structured Streaming Guide on [OutputeModes](https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html#output-modes):\r\n\r\n&gt; &quot;Complete mode not supported as it is infeasible to keep all unaggregated data in the Result Table.&quot;\r\n\r\nThis issue will be solved when selecting the append mode:\r\n\r\n```\r\nStreamingQuery start = heatData.writeStream().outputMode(&quot;append&quot;).format(&quot;console&quot;).start()\r\n```\r\n","title":"Exception: Complete output mode not supported","body":"<p>The error is pretty specific in telling what the actual problem is: the output mode complete is not supported for the type of your query.</p>\n<p>As stated in the Structured Streaming Guide on <a href=\"https://spark.apache.org/docs/latest/structured-streaming-programming-guide.html#output-modes\" rel=\"nofollow noreferrer\">OutputeModes</a>:</p>\n<blockquote>\n<p>&quot;Complete mode not supported as it is infeasible to keep all unaggregated data in the Result Table.&quot;</p>\n</blockquote>\n<p>This issue will be solved when selecting the append mode:</p>\n<pre><code>StreamingQuery start = heatData.writeStream().outputMode(&quot;append&quot;).format(&quot;console&quot;).start()\n</code></pre>\n"}],"owner":{"account_id":20788745,"reputation":1,"user_id":15267405,"display_name":"TheCrucial"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671834117,"creation_date":1614087954,"question_id":66334338,"body_markdown":"I created sparkStreaming Simulation for my tutorial. When I do the outputMode (&quot;complete&quot;) operation, I get an error.\r\n\r\n\r\nERROR: \r\n```\r\nException in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: Complete output mode not supported when there are no streaming aggregations on streaming DataFrames/Datasets;\r\n```\r\n\r\nMy dataset example:\r\n\r\n```\r\n2006-04-01 00:00:00.000 +0200,Partly Cloudy,rain,9.472222222222221,7.3888888888888875,0.89,14.1197,251.0,15.826300000000002,0.0,1015.13,Partly cloudy throughout the day.\r\n```\r\n\r\nFirst process code (Partition(summary)):\r\n\r\n    System.setProperty(&quot;hadoop.home.dir&quot;,&quot;C:\\\\hadoop-common-2.2.0-bin-master&quot;);\r\n    SparkSession sparkSession = SparkSession.builder()\r\n                    .appName(&quot;SparkStreamingMessageListener&quot;)\r\n                    .master(&quot;local&quot;)\r\n                    .getOrCreate();\r\n    StructType schema = new StructType()\r\n                    .add(&quot;Formatted Date&quot;, &quot;String&quot;)\r\n                    .add(&quot;Summary&quot;,&quot;String&quot;)\r\n                    .add(&quot;Precip Type&quot;, &quot;String&quot;)\r\n                    .add(&quot;Temperature&quot;, &quot;Double&quot;)\r\n                    .add(&quot;Apparent Temperature&quot;, &quot;Double&quot;)\r\n                    .add(&quot;Humidity&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Wind Speed (km/h)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Wind Bearing (degrees)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Visibility (km)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Loud Cover&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Pressure(milibars)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Dailiy Summary&quot;,&quot;String&quot;);\r\n    Dataset&lt;Row&gt; formatted_date = sparkSessionDataFrame.read().schema(schema).option(&quot;header&quot;, true).csv(&quot;C:\\\\Users\\\\Kaan\\\\Desktop\\\\Kaan Proje\\\\SparkStreamingListener\\\\archivecsv\\\\weatherHistory.csv&quot;);\r\n    Dataset&lt;Row&gt; avg = formatted_date.groupBy(&quot;Summary&quot;, &quot;Precip Type&quot;).avg(&quot;Temperature&quot;).sort(functions.desc(&quot;avg(Temperature)&quot;));\r\n    formatted_date.write().partitionBy(&quot;Summary&quot;).csv(&quot;C:\\\\Users\\\\Kaan\\\\Desktop\\\\Kaan Proje\\\\SparkStreamingListener\\\\archivecsv\\\\weatherHistoryFile\\\\&quot;);\r\n\r\nSecond listener process code:\r\n\r\n\r\n    SparkSession sparkSession = SparkSession.builder()\r\n                    .appName(&quot;SparkStreamingMessageListener1&quot;)\r\n                    .master(&quot;local&quot;)\r\n                    .getOrCreate();\r\n    StructType schema1 = new StructType()\r\n                    .add(&quot;Formatted Date&quot;, &quot;String&quot;)\r\n                    .add(&quot;Precip Type&quot;, &quot;String&quot;)\r\n                    .add(&quot;Temperature&quot;, &quot;Double&quot;)\r\n                    .add(&quot;Apparent Temperature&quot;, &quot;Double&quot;)\r\n                    .add(&quot;Humidity&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Wind Speed (km/h)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Wind Bearing (degrees)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Visibility (km)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Loud Cover&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Pressure(milibars)&quot;,&quot;Double&quot;)\r\n                    .add(&quot;Dailiy Summary&quot;,&quot;String&quot;);\r\n     Dataset&lt;Row&gt; rawData = sparkSession.readStream().schema(schema1).option(&quot;sep&quot;, &quot;,&quot;).csv(&quot;C:\\\\Users\\\\Kaan\\\\Desktop\\\\Kaan Proje\\\\sparkStreamingWheather\\\\*&quot;);\r\n            Dataset&lt;Row&gt; heatData = rawData.select(&quot;Temperature&quot;, &quot;Precip Type&quot;).where(&quot;Temperature&gt;10&quot;);\r\n            StreamingQuery start = heatData.writeStream().outputMode(&quot;complete&quot;).format(&quot;console&quot;).start();\r\n            start.awaitTermination();\r\n\r\nI created a Streaming simulation by copying the partitioned files to the specified Listener file path.\r\nI would be glad if you help.Thanks.\r\n\r\n","title":"Exception: Complete output mode not supported","body":"<p>I created sparkStreaming Simulation for my tutorial. When I do the outputMode (&quot;complete&quot;) operation, I get an error.</p>\n<p>ERROR:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: Complete output mode not supported when there are no streaming aggregations on streaming DataFrames/Datasets;\n</code></pre>\n<p>My dataset example:</p>\n<pre><code>2006-04-01 00:00:00.000 +0200,Partly Cloudy,rain,9.472222222222221,7.3888888888888875,0.89,14.1197,251.0,15.826300000000002,0.0,1015.13,Partly cloudy throughout the day.\n</code></pre>\n<p>First process code (Partition(summary)):</p>\n<pre><code>System.setProperty(&quot;hadoop.home.dir&quot;,&quot;C:\\\\hadoop-common-2.2.0-bin-master&quot;);\nSparkSession sparkSession = SparkSession.builder()\n                .appName(&quot;SparkStreamingMessageListener&quot;)\n                .master(&quot;local&quot;)\n                .getOrCreate();\nStructType schema = new StructType()\n                .add(&quot;Formatted Date&quot;, &quot;String&quot;)\n                .add(&quot;Summary&quot;,&quot;String&quot;)\n                .add(&quot;Precip Type&quot;, &quot;String&quot;)\n                .add(&quot;Temperature&quot;, &quot;Double&quot;)\n                .add(&quot;Apparent Temperature&quot;, &quot;Double&quot;)\n                .add(&quot;Humidity&quot;,&quot;Double&quot;)\n                .add(&quot;Wind Speed (km/h)&quot;,&quot;Double&quot;)\n                .add(&quot;Wind Bearing (degrees)&quot;,&quot;Double&quot;)\n                .add(&quot;Visibility (km)&quot;,&quot;Double&quot;)\n                .add(&quot;Loud Cover&quot;,&quot;Double&quot;)\n                .add(&quot;Pressure(milibars)&quot;,&quot;Double&quot;)\n                .add(&quot;Dailiy Summary&quot;,&quot;String&quot;);\nDataset&lt;Row&gt; formatted_date = sparkSessionDataFrame.read().schema(schema).option(&quot;header&quot;, true).csv(&quot;C:\\\\Users\\\\Kaan\\\\Desktop\\\\Kaan Proje\\\\SparkStreamingListener\\\\archivecsv\\\\weatherHistory.csv&quot;);\nDataset&lt;Row&gt; avg = formatted_date.groupBy(&quot;Summary&quot;, &quot;Precip Type&quot;).avg(&quot;Temperature&quot;).sort(functions.desc(&quot;avg(Temperature)&quot;));\nformatted_date.write().partitionBy(&quot;Summary&quot;).csv(&quot;C:\\\\Users\\\\Kaan\\\\Desktop\\\\Kaan Proje\\\\SparkStreamingListener\\\\archivecsv\\\\weatherHistoryFile\\\\&quot;);\n</code></pre>\n<p>Second listener process code:</p>\n<pre><code>SparkSession sparkSession = SparkSession.builder()\n                .appName(&quot;SparkStreamingMessageListener1&quot;)\n                .master(&quot;local&quot;)\n                .getOrCreate();\nStructType schema1 = new StructType()\n                .add(&quot;Formatted Date&quot;, &quot;String&quot;)\n                .add(&quot;Precip Type&quot;, &quot;String&quot;)\n                .add(&quot;Temperature&quot;, &quot;Double&quot;)\n                .add(&quot;Apparent Temperature&quot;, &quot;Double&quot;)\n                .add(&quot;Humidity&quot;,&quot;Double&quot;)\n                .add(&quot;Wind Speed (km/h)&quot;,&quot;Double&quot;)\n                .add(&quot;Wind Bearing (degrees)&quot;,&quot;Double&quot;)\n                .add(&quot;Visibility (km)&quot;,&quot;Double&quot;)\n                .add(&quot;Loud Cover&quot;,&quot;Double&quot;)\n                .add(&quot;Pressure(milibars)&quot;,&quot;Double&quot;)\n                .add(&quot;Dailiy Summary&quot;,&quot;String&quot;);\n Dataset&lt;Row&gt; rawData = sparkSession.readStream().schema(schema1).option(&quot;sep&quot;, &quot;,&quot;).csv(&quot;C:\\\\Users\\\\Kaan\\\\Desktop\\\\Kaan Proje\\\\sparkStreamingWheather\\\\*&quot;);\n        Dataset&lt;Row&gt; heatData = rawData.select(&quot;Temperature&quot;, &quot;Precip Type&quot;).where(&quot;Temperature&gt;10&quot;);\n        StreamingQuery start = heatData.writeStream().outputMode(&quot;complete&quot;).format(&quot;console&quot;).start();\n        start.awaitTermination();\n</code></pre>\n<p>I created a Streaming simulation by copying the partitioned files to the specified Listener file path.\nI would be glad if you help.Thanks.</p>\n"},{"tags":["java","unix","ldap","aix"],"comments":[{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":0,"creation_date":1656850723,"post_id":72831254,"comment_id":128667272,"body_markdown":"truss is the first debug tool you could try, but it isn&#39;t trivial to use either, you should ask a competent AIX-user for help.","body":"truss is the first debug tool you could try, but it isn&#39;t trivial to use either, you should ask a competent AIX-user for help."}],"answers":[{"tags":[],"owner":{"account_id":25284417,"reputation":11,"user_id":20843730,"display_name":"GroverD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671833545,"creation_date":1671833545,"answer_id":74904367,"question_id":72831254,"body_markdown":"Looking at the command you have listed:\r\n\r\n    ldapsearch -h ldaps://url.dc1.dc2:port ...\r\n\r\nI strongly suspect you need to replace &#39;port&#39; with the port number your ldap server is listening on. ","title":"Connect to ldap with ldapsearch","body":"<p>Looking at the command you have listed:</p>\n<pre><code>ldapsearch -h ldaps://url.dc1.dc2:port ...\n</code></pre>\n<p>I strongly suspect you need to replace 'port' with the port number your ldap server is listening on.</p>\n"}],"owner":{"account_id":17504933,"reputation":15,"user_id":14113310,"display_name":"ApoSkunz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671833545,"creation_date":1656688064,"question_id":72831254,"body_markdown":"I need help on a job issue.\r\n\r\nWe are on AIX VM and we&#39;ve got a Java script based on Java class `fr.restitx.LDAP.LDAPSample` (AIX class I guess) which connects and collects data from an LDAP. We need to optimize this script because it lasts 1h30. So I decided to go with `ldapsearch` command whereas I don&#39;t know how the connection currently work.\r\n\r\nI already tried :\r\n\r\n    ldapsearch -h ldaps://url.dc1.dc2:port -D &#39;uid=my-user,ou=ex,ou,ex2,dc=dc1,dc=dc2&#39;-w &#39;pass&#39; -b &#39;dc=dc1,dc=dc2&#39; -s sub &#39;(objectClass=user)&#39; \r\n\r\nThis command doesn&#39;t work and throws: \r\n\r\n    ldap_simple_bind: Unknown error\r\n    ldap_search_ext: Can&#39;t contact LDAP server\r\n\r\nDo you have some ideas to propose for test please?","title":"Connect to ldap with ldapsearch","body":"<p>I need help on a job issue.</p>\n<p>We are on AIX VM and we've got a Java script based on Java class <code>fr.restitx.LDAP.LDAPSample</code> (AIX class I guess) which connects and collects data from an LDAP. We need to optimize this script because it lasts 1h30. So I decided to go with <code>ldapsearch</code> command whereas I don't know how the connection currently work.</p>\n<p>I already tried :</p>\n<pre><code>ldapsearch -h ldaps://url.dc1.dc2:port -D 'uid=my-user,ou=ex,ou,ex2,dc=dc1,dc=dc2'-w 'pass' -b 'dc=dc1,dc=dc2' -s sub '(objectClass=user)' \n</code></pre>\n<p>This command doesn't work and throws:</p>\n<pre><code>ldap_simple_bind: Unknown error\nldap_search_ext: Can't contact LDAP server\n</code></pre>\n<p>Do you have some ideas to propose for test please?</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671833469,"creation_date":1671833469,"question_id":74904356,"body_markdown":"Foo has this property:\r\n\r\n    @OneToMany(mappedBy = &quot;foo&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    @OrderBy(&quot;index&quot;)\r\n    private List&lt;FooItem&gt; fooItems = new ArrayList&lt;&gt;();\r\n\r\n    public void setFooItems(List&lt;FooItem&gt; fooItems) {\r\n      if (this.fooItems == null) {\r\n        this.fooItems = new ArrayList&lt;&gt;();\r\n      }\r\n\r\n      this.fooItems.clear();\r\n      if (fooItems != null) {\r\n        fooItems.forEach(fi -&gt; fi.setFoo(this));\r\n        this.fooItems.addAll(fooItems);\r\n      }\r\n    }\r\n\r\nFooItem has this corresponding property:\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;foo_id&quot;)\r\n    private Foo foo;\r\n\r\nI have a constraint in the database that says no 2 FooItems can hold the same &lt;Foo ID, Other ID&gt; pair.\r\n\r\nWhen I have a service make a change to a specific Foo to replace its FooItems, holding the same Other IDs as before but with some changes to other properties:\r\n\r\n    @Transactional\r\n    void makeChange() {\r\n      ...\r\n      final List&lt;FooItem&gt; newItems = makeNewItems();\r\n      foo.setFooItems(newItems);\r\n      ...\r\n      repository.save(foo);\r\n      ...\r\n    }\r\n\r\nthen JPA/Hibernate causes a constraint violation exception. Even though there is really only ever going to be 1 row for a specific combination, I guess something in JPA/Hibernate/Postgres adapter orders operations badly.\r\n\r\nSo I try clearing out the old items before making the change:\r\n\r\n    final List&lt;FooItem&gt; oldItems = foo.getFooItems();\r\n    oldItems.stream().forEach(fi -&gt; fi.setFoo(null));\r\n    fooItemRepository.deleteAll(oldItems);\r\n    fooItemRepository.flush();\r\n    foo.setFooItems(null);\r\n    repository.saveAndFlush(foo);\r\n\r\nAnd now when I do the last repository.save(foo), I get a EntityNotFoundException thrown from JpaEntityNotFoundDelegate. Why? I explicitly disconnected and deleted the thing!","title":"JPA throwing EntityNotFoundException for thing I just deleted","body":"<p>Foo has this property:</p>\n<pre><code>@OneToMany(mappedBy = &quot;foo&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n@LazyCollection(LazyCollectionOption.FALSE)\n@OrderBy(&quot;index&quot;)\nprivate List&lt;FooItem&gt; fooItems = new ArrayList&lt;&gt;();\n\npublic void setFooItems(List&lt;FooItem&gt; fooItems) {\n  if (this.fooItems == null) {\n    this.fooItems = new ArrayList&lt;&gt;();\n  }\n\n  this.fooItems.clear();\n  if (fooItems != null) {\n    fooItems.forEach(fi -&gt; fi.setFoo(this));\n    this.fooItems.addAll(fooItems);\n  }\n}\n</code></pre>\n<p>FooItem has this corresponding property:\n@JsonIgnore\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;foo_id&quot;)\nprivate Foo foo;</p>\n<p>I have a constraint in the database that says no 2 FooItems can hold the same &lt;Foo ID, Other ID&gt; pair.</p>\n<p>When I have a service make a change to a specific Foo to replace its FooItems, holding the same Other IDs as before but with some changes to other properties:</p>\n<pre><code>@Transactional\nvoid makeChange() {\n  ...\n  final List&lt;FooItem&gt; newItems = makeNewItems();\n  foo.setFooItems(newItems);\n  ...\n  repository.save(foo);\n  ...\n}\n</code></pre>\n<p>then JPA/Hibernate causes a constraint violation exception. Even though there is really only ever going to be 1 row for a specific combination, I guess something in JPA/Hibernate/Postgres adapter orders operations badly.</p>\n<p>So I try clearing out the old items before making the change:</p>\n<pre><code>final List&lt;FooItem&gt; oldItems = foo.getFooItems();\noldItems.stream().forEach(fi -&gt; fi.setFoo(null));\nfooItemRepository.deleteAll(oldItems);\nfooItemRepository.flush();\nfoo.setFooItems(null);\nrepository.saveAndFlush(foo);\n</code></pre>\n<p>And now when I do the last repository.save(foo), I get a EntityNotFoundException thrown from JpaEntityNotFoundDelegate. Why? I explicitly disconnected and deleted the thing!</p>\n"},{"tags":["java","global-variables","mockito","powermock"],"comments":[{"owner":{"account_id":5297319,"reputation":1138,"user_id":4228138,"display_name":"Mateusz Korwel"},"score":1,"creation_date":1453316769,"post_id":34903012,"comment_id":57552669,"body_markdown":"Global variable? Could you be more specific?","body":"Global variable? Could you be more specific?"},{"owner":{"account_id":7614047,"reputation":53,"user_id":5774096,"display_name":"Ishan Parmar"},"score":0,"creation_date":1453317137,"post_id":34903012,"comment_id":57552877,"body_markdown":"an object that is available to any file in the project.","body":"an object that is available to any file in the project."},{"owner":{"account_id":5297319,"reputation":1138,"user_id":4228138,"display_name":"Mateusz Korwel"},"score":0,"creation_date":1453317692,"post_id":34903012,"comment_id":57553153,"body_markdown":"Do you have any code of that object? And test? Because no one knows whether the object is Singleton, or just static method, or something else.","body":"Do you have any code of that object? And test? Because no one knows whether the object is Singleton, or just static method, or something else."},{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":1,"creation_date":1453359739,"post_id":34903012,"comment_id":57568983,"body_markdown":"what have you tried and failed? Why mocking of `global` is failing in your scenario? which error you get?","body":"what have you tried and failed? Why mocking of <code>global</code> is failing in your scenario? which error you get?"}],"answers":[{"tags":[],"owner":{"account_id":3792538,"reputation":11,"user_id":3148615,"display_name":"user3148615"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453301593,"creation_date":1453301593,"answer_id":34903268,"question_id":34903012,"body_markdown":"These are the things you could do, if I understand your question correctly:\r\n\r\n\r\n1. Use setter method of that property in your source class.\r\n    `yourSourceClass.setGlobal(somethingYouNeed);`\r\n\r\n\r\n2. If that is a public member, you can assign that public member value, from your test class. Like: \r\n    `yourSourceClass.global = &lt;somethingYouNeed&gt;;`\r\n\r\nThanks.","title":"how to mock global variable in Mockito","body":"<p>These are the things you could do, if I understand your question correctly:</p>\n\n<ol>\n<li><p>Use setter method of that property in your source class.\n<code>yourSourceClass.setGlobal(somethingYouNeed);</code></p></li>\n<li><p>If that is a public member, you can assign that public member value, from your test class. Like: \n<code>yourSourceClass.global = &lt;somethingYouNeed&gt;;</code></p></li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":4830173,"reputation":2250,"user_id":3898551,"display_name":"Narender Gusain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600843575,"creation_date":1600843575,"answer_id":64022443,"question_id":34903012,"body_markdown":"Use must have the mock object of the same class as below\r\n\r\n@InjectMock\r\n\r\nABCClass abc;\r\n\r\nNow you can set global variable as abc.global = value in the test case where you need this value.\r\n\r\n","title":"how to mock global variable in Mockito","body":"<p>Use must have the mock object of the same class as below</p>\n<p>@InjectMock</p>\n<p>ABCClass abc;</p>\n<p>Now you can set global variable as abc.global = value in the test case where you need this value.</p>\n"}],"owner":{"account_id":7614047,"reputation":53,"user_id":5774096,"display_name":"Ishan Parmar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12760,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1671833150,"creation_date":1453300830,"question_id":34903012,"body_markdown":"I have a global variable `global`.\r\n\r\nMy method has a line: \r\n    \r\n    global.getListOfObjects()\r\n\r\nI am trying to write a unit test and keep getting a NPE on the above line.\r\nHow can i mock a global variable?\r\n\r\nI am using Mockito and PowerMock.","title":"how to mock global variable in Mockito","body":"<p>I have a global variable <code>global</code>.</p>\n\n<p>My method has a line: </p>\n\n<pre><code>global.getListOfObjects()\n</code></pre>\n\n<p>I am trying to write a unit test and keep getting a NPE on the above line.\nHow can i mock a global variable?</p>\n\n<p>I am using Mockito and PowerMock.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1671827362,"post_id":74903695,"comment_id":132185735,"body_markdown":"can you share also your pom.xml file?","body":"can you share also your pom.xml file?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671827476,"post_id":74903695,"comment_id":132185766,"body_markdown":"Yes do you need only the dependency part or everything? Because it is generated by jhipster so its a bit long","body":"Yes do you need only the dependency part or everything? Because it is generated by jhipster so its a bit long"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1671827534,"post_id":74903695,"comment_id":132185776,"body_markdown":"I need to hibarnate dependency","body":"I need to hibarnate dependency"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671827722,"post_id":74903695,"comment_id":132185815,"body_markdown":"I added the pom file","body":"I added the pom file"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1671827885,"post_id":74903695,"comment_id":132185835,"body_markdown":"From hibernate onwards 5.2.0. hibernate-entitymanager is no longer needed. Hibernate-core 5.2.0 have problem with Spring Data JPA while process collection.Hibernate-core 5.2.1 and above is ok with Spring Data JPA if you are using Spring Data JPA.  Would you look at your version?","body":"From hibernate onwards 5.2.0. hibernate-entitymanager is no longer needed. Hibernate-core 5.2.0 have problem with Spring Data JPA while process collection.Hibernate-core 5.2.1 and above is ok with Spring Data JPA if you are using Spring Data JPA.  Would you look at your version?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671828376,"post_id":74903695,"comment_id":132185931,"body_markdown":"I could only find this: &lt;hibernate.version&gt;5.4.32.Final&lt;/hibernate.version&gt; this is used in the jpamodelgen dependency. The version for core is not written do I have to add it manually?","body":"I could only find this: &lt;hibernate.version&gt;5.4.32.Final&lt;/hibernate.version&gt; this is used in the jpamodelgen dependency. The version for core is not written do I have to add it manually?"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1671828496,"post_id":74903695,"comment_id":132185955,"body_markdown":"try to it. but update question add application properties file as well.","body":"try to it. but update question add application properties file as well."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671829666,"post_id":74903695,"comment_id":132186221,"body_markdown":"I have a application properties class do you mean that?","body":"I have a application properties class do you mean that?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671829743,"post_id":74903695,"comment_id":132186240,"body_markdown":"Updating my hibernate core did not help me sadly, I used the latest version or hibernate core","body":"Updating my hibernate core did not help me sadly, I used the latest version or hibernate core"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1671829853,"post_id":74903695,"comment_id":132186263,"body_markdown":"I mean in resources folder location path","body":"I mean in resources folder location path"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1671830035,"post_id":74903695,"comment_id":132186305,"body_markdown":"In jhipster there is no application.properties like in spring boot initilzr project. There is application.dev.yml I can post that? What do you need","body":"In jhipster there is no application.properties like in spring boot initilzr project. There is application.dev.yml I can post that? What do you need"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1671830146,"post_id":74903695,"comment_id":132186334,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250624/discussion-between-anar-mmmdov-and-natyus).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250624/discussion-between-anar-mmmdov-and-natyus\">continue this discussion in chat</a>."}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671832688,"creation_date":1671826780,"question_id":74903695,"body_markdown":"I generated a gateway app with jhipster and generated a jparepository but when I try to use this repository I am getting the following error:\r\n\r\n    Description:\r\n    \r\n    Parameter 1 of constructor in com.nosi.gateway.service.ReceiptService required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\nThis is how I use it in my service:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class ReceiptService {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\r\n    \r\n        private final ReceiptRepository receiptRepository;\r\n        private final ReceiptRepositoryJpa receiptRepositoryJpa;\r\n        private final ReceiptMapper receiptMapper;\r\n    \r\n    \r\n    \r\n        public ReceiptService(ReceiptRepository receiptRepository, ReceiptRepositoryJpa receiptRepositoryJpa, ReceiptMapper receiptMapper) {\r\n            this.receiptRepository = receiptRepository;\r\n            this.receiptRepositoryJpa = receiptRepositoryJpa;\r\n            this.receiptMapper = receiptMapper;\r\n        }\r\n    \r\n        /**\r\n         * Save a receipt.\r\n         *\r\n         * @param receiptDTO the entity to save.\r\n         * @return the persisted entity.\r\n         */\r\n        public Mono&lt;ReceiptDTO&gt; save(ReceiptDTO receiptDTO) {\r\n            log.debug(&quot;Request to save Receipt : {}&quot;, receiptDTO);\r\n            return receiptRepository.save(receiptMapper.toEntity(receiptDTO)).map(receiptMapper::toDto);\r\n        }\r\n    \r\n        /**\r\n         * Partially update a receipt.\r\n         *\r\n         * @param receiptDTO the entity to update partially.\r\n         * @return the persisted entity.\r\n         */\r\n        public Mono&lt;ReceiptDTO&gt; partialUpdate(ReceiptDTO receiptDTO) {\r\n            log.debug(&quot;Request to partially update Receipt : {}&quot;, receiptDTO);\r\n    \r\n            return receiptRepository\r\n                .findById(receiptDTO.getId())\r\n                .map(existingReceipt -&gt; {\r\n                    receiptMapper.partialUpdate(existingReceipt, receiptDTO);\r\n    \r\n                    return existingReceipt;\r\n                })\r\n                .flatMap(receiptRepository::save)\r\n                .map(receiptMapper::toDto);\r\n        }\r\n    \r\n    \r\n        public Flux&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\r\n            log.debug(&quot;Request to get all Receipts by a company&quot;);\r\n            return receiptRepository.findReceiptsByCompanyId(companyUserID).map(receiptMapper::toDto);\r\n        }\r\n    \r\n        public List&lt;ReceiptDTO&gt; findByCompanyJpa(Long companyUserID) {\r\n            log.debug(&quot;Request to get all Receipts by a company&quot;);\r\n            return receiptRepositoryJpa.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\r\n        }\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ReceiptResource {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(ReceiptResource.class);\r\n    \r\n        private static final String ENTITY_NAME = &quot;receipt&quot;;\r\n    \r\n        @Value(&quot;${jhipster.clientApp.name}&quot;)\r\n        private String applicationName;\r\n    \r\n        private final ReceiptService receiptService;\r\n    \r\n        private final ReceiptRepository receiptRepository;\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        public ReceiptResource(ReceiptService receiptService, ReceiptRepository receiptRepository, UserRepository userRepository) {\r\n            this.receiptService = receiptService;\r\n            this.receiptRepository = receiptRepository;\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        /**\r\n         * {@code POST  /receipts} : Create a new receipt.\r\n         *\r\n         * @param receiptDTO the receiptDTO to create.\r\n         * @return the {@link ResponseEntity} with status {@code 201 (Created)} and with body the new receiptDTO, or with status {@code 400 (Bad Request)} if the receipt has already an ID.\r\n         * @throws URISyntaxException if the Location URI syntax is incorrect.\r\n         */\r\n    \r\n        @PostMapping(&quot;/receipts&quot;)\r\n        public Mono&lt;ResponseEntity&lt;ReceiptDTO&gt;&gt; createReceipt(@RequestBody ReceiptDTO receiptDTO) throws URISyntaxException {\r\n            log.debug(&quot;REST request to save Receipt : {}&quot;, receiptDTO);\r\n            if (receiptDTO.getId() != null) {\r\n                throw new BadRequestAlertException(&quot;A new receipt cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\r\n            }\r\n            return receiptService\r\n                .save(receiptDTO)\r\n                .map(result -&gt; {\r\n                    try {\r\n                        return ResponseEntity\r\n                            .created(new URI(&quot;/api/receipts/&quot; + result.getId()))\r\n                            .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\r\n                            .body(result);\r\n                    } catch (URISyntaxException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                });\r\n        }\r\n    \r\n        @GetMapping(&quot;/receipts/byUserId&quot;)\r\n        public Mono&lt;List&lt;ReceiptDTO&gt;&gt; getAllReceiptsByCompanyId(@RequestParam Long companyId) {\r\n            log.debug(&quot;REST request to get all Receipts&quot;);\r\n    \r\n            return receiptService.findByCompany(companyId).collectList();\r\n        }\r\n    \r\n        @GetMapping(&quot;/receipts/byUserId&quot;)\r\n        public List&lt;ReceiptDTO&gt; getAllReceiptsByCompanyIdJpa(@RequestParam Long companyId) {\r\n            log.debug(&quot;REST request to get all Receipts&quot;);\r\n    \r\n            return receiptService.findByCompanyJpa(companyId);\r\n        }\r\n\r\nRepository\r\n\r\n\r\n    public interface ReceiptRepositoryJpa extends JpaRepository&lt;Receipt, Long&gt;  {\r\n    \r\n        List&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\r\n    \r\n    }\r\n\r\nI also added this to my mainApplication.java\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties({ LiquibaseProperties.class, ApplicationProperties.class })\r\n    @EnableJpaRepositories(&quot;com.nosi.gateway.repository.jpa&quot;)\r\n    public class NosiApp {\r\n    \r\n    SOme methods are here generated by jhipster\r\n    }\r\n\r\nCan someone give me a pointer how to fix this? I tried to use autowired in service and annotate my repository with @repository but still the same error.\r\n\r\nADDED POM\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAlso I have this one:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.6&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to add a repository correctly and use it in service","body":"<p>I generated a gateway app with jhipster and generated a jparepository but when I try to use this repository I am getting the following error:</p>\n<pre><code>Description:\n\nParameter 1 of constructor in com.nosi.gateway.service.ReceiptService required a bean named 'entityManagerFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n</code></pre>\n<p>This is how I use it in my service:</p>\n<pre><code>@Service\n@Transactional\npublic class ReceiptService {\n\n    private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\n\n    private final ReceiptRepository receiptRepository;\n    private final ReceiptRepositoryJpa receiptRepositoryJpa;\n    private final ReceiptMapper receiptMapper;\n\n\n\n    public ReceiptService(ReceiptRepository receiptRepository, ReceiptRepositoryJpa receiptRepositoryJpa, ReceiptMapper receiptMapper) {\n        this.receiptRepository = receiptRepository;\n        this.receiptRepositoryJpa = receiptRepositoryJpa;\n        this.receiptMapper = receiptMapper;\n    }\n\n    /**\n     * Save a receipt.\n     *\n     * @param receiptDTO the entity to save.\n     * @return the persisted entity.\n     */\n    public Mono&lt;ReceiptDTO&gt; save(ReceiptDTO receiptDTO) {\n        log.debug(&quot;Request to save Receipt : {}&quot;, receiptDTO);\n        return receiptRepository.save(receiptMapper.toEntity(receiptDTO)).map(receiptMapper::toDto);\n    }\n\n    /**\n     * Partially update a receipt.\n     *\n     * @param receiptDTO the entity to update partially.\n     * @return the persisted entity.\n     */\n    public Mono&lt;ReceiptDTO&gt; partialUpdate(ReceiptDTO receiptDTO) {\n        log.debug(&quot;Request to partially update Receipt : {}&quot;, receiptDTO);\n\n        return receiptRepository\n            .findById(receiptDTO.getId())\n            .map(existingReceipt -&gt; {\n                receiptMapper.partialUpdate(existingReceipt, receiptDTO);\n\n                return existingReceipt;\n            })\n            .flatMap(receiptRepository::save)\n            .map(receiptMapper::toDto);\n    }\n\n\n    public Flux&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\n        log.debug(&quot;Request to get all Receipts by a company&quot;);\n        return receiptRepository.findReceiptsByCompanyId(companyUserID).map(receiptMapper::toDto);\n    }\n\n    public List&lt;ReceiptDTO&gt; findByCompanyJpa(Long companyUserID) {\n        log.debug(&quot;Request to get all Receipts by a company&quot;);\n        return receiptRepositoryJpa.findReceiptsByCompanyId(companyUserID).stream().map(receiptMapper::toDto).collect(Collectors.toList());\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ReceiptResource {\n\n    private final Logger log = LoggerFactory.getLogger(ReceiptResource.class);\n\n    private static final String ENTITY_NAME = &quot;receipt&quot;;\n\n    @Value(&quot;${jhipster.clientApp.name}&quot;)\n    private String applicationName;\n\n    private final ReceiptService receiptService;\n\n    private final ReceiptRepository receiptRepository;\n\n    private final UserRepository userRepository;\n\n    public ReceiptResource(ReceiptService receiptService, ReceiptRepository receiptRepository, UserRepository userRepository) {\n        this.receiptService = receiptService;\n        this.receiptRepository = receiptRepository;\n        this.userRepository = userRepository;\n    }\n\n    /**\n     * {@code POST  /receipts} : Create a new receipt.\n     *\n     * @param receiptDTO the receiptDTO to create.\n     * @return the {@link ResponseEntity} with status {@code 201 (Created)} and with body the new receiptDTO, or with status {@code 400 (Bad Request)} if the receipt has already an ID.\n     * @throws URISyntaxException if the Location URI syntax is incorrect.\n     */\n\n    @PostMapping(&quot;/receipts&quot;)\n    public Mono&lt;ResponseEntity&lt;ReceiptDTO&gt;&gt; createReceipt(@RequestBody ReceiptDTO receiptDTO) throws URISyntaxException {\n        log.debug(&quot;REST request to save Receipt : {}&quot;, receiptDTO);\n        if (receiptDTO.getId() != null) {\n            throw new BadRequestAlertException(&quot;A new receipt cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\n        }\n        return receiptService\n            .save(receiptDTO)\n            .map(result -&gt; {\n                try {\n                    return ResponseEntity\n                        .created(new URI(&quot;/api/receipts/&quot; + result.getId()))\n                        .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\n                        .body(result);\n                } catch (URISyntaxException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n    }\n\n    @GetMapping(&quot;/receipts/byUserId&quot;)\n    public Mono&lt;List&lt;ReceiptDTO&gt;&gt; getAllReceiptsByCompanyId(@RequestParam Long companyId) {\n        log.debug(&quot;REST request to get all Receipts&quot;);\n\n        return receiptService.findByCompany(companyId).collectList();\n    }\n\n    @GetMapping(&quot;/receipts/byUserId&quot;)\n    public List&lt;ReceiptDTO&gt; getAllReceiptsByCompanyIdJpa(@RequestParam Long companyId) {\n        log.debug(&quot;REST request to get all Receipts&quot;);\n\n        return receiptService.findByCompanyJpa(companyId);\n    }\n</code></pre>\n<p>Repository</p>\n<pre><code>public interface ReceiptRepositoryJpa extends JpaRepository&lt;Receipt, Long&gt;  {\n\n    List&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\n\n}\n</code></pre>\n<p>I also added this to my mainApplication.java</p>\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties({ LiquibaseProperties.class, ApplicationProperties.class })\n@EnableJpaRepositories(&quot;com.nosi.gateway.repository.jpa&quot;)\npublic class NosiApp {\n\nSOme methods are here generated by jhipster\n}\n</code></pre>\n<p>Can someone give me a pointer how to fix this? I tried to use autowired in service and annotate my repository with @repository but still the same error.</p>\n<p>ADDED POM</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Also I have this one:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.7.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","insert","binary-search-tree"],"answers":[{"comments":[{"owner":{"account_id":27338589,"reputation":5,"user_id":20849629,"display_name":"amjad salih"},"score":1,"creation_date":1671833713,"post_id":74904265,"comment_id":132186908,"body_markdown":"after fixing the code the code works fine thanks :)","body":"after fixing the code the code works fine thanks :)"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671832538,"creation_date":1671832538,"answer_id":74904265,"question_id":74903454,"body_markdown":"The problem is that you change the `root` of the tree, and misuse it for navigating down the tree, thereby losing the reference to what should remain the actual root of the tree. The *only* time the `add` method should assign to `this.root` is when the tree is empty:\r\n\r\n     this.root=new BstNode(val);\r\n\r\nAll other times you have an assignment to `this.root`, it is wrong.\r\n\r\nSo instead of statements like this:\r\n\r\n    this.root = this.root.left;\r\n\r\n...you should use a local variable (let&#39;s say `current`), which you should initialise as\r\n\r\n    BstNode current = this.root;\r\n\r\n...and which you should then use for navigating through the tree with statements like:\r\n\r\n    current = current.left;\r\n\r\nOnce you understand this issue, you should be able to update your code consistently.","title":"after inserting elements to my Bst it always saves the last 3 elements when i try to search in Bst it search only in the last 3 elements","body":"<p>The problem is that you change the <code>root</code> of the tree, and misuse it for navigating down the tree, thereby losing the reference to what should remain the actual root of the tree. The <em>only</em> time the <code>add</code> method should assign to <code>this.root</code> is when the tree is empty:</p>\n<pre><code> this.root=new BstNode(val);\n</code></pre>\n<p>All other times you have an assignment to <code>this.root</code>, it is wrong.</p>\n<p>So instead of statements like this:</p>\n<pre><code>this.root = this.root.left;\n</code></pre>\n<p>...you should use a local variable (let's say <code>current</code>), which you should initialise as</p>\n<pre><code>BstNode current = this.root;\n</code></pre>\n<p>...and which you should then use for navigating through the tree with statements like:</p>\n<pre><code>current = current.left;\n</code></pre>\n<p>Once you understand this issue, you should be able to update your code consistently.</p>\n"}],"owner":{"account_id":27338589,"reputation":5,"user_id":20849629,"display_name":"amjad salih"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74904265,"answer_count":1,"score":0,"last_activity_date":1671832538,"creation_date":1671824686,"question_id":74903454,"body_markdown":"After adding an elements to the Bst its only saves last 3 elements when i try to search an element it only search in the last 3 elements  \r\n\r\nI&#39;am trying to add elements to my Bst and it added all the elements i ask to added but when i try to search in elements its always search in the last 3 elements\r\nin my code there is an add function that i call for inserting the elements and for searching iam using contains function that return true or false if the element is found ... after adding some elements , i tried to search for element in the first 3 elements and in the last 3 elements it finds it but when i search in more than 3 elements its only check in the last 3 , i tried to debug then i saw its only check in the last 3 elements that added, even when i try to add element that is already in the tree , if the element in the last 3 elements it return false but if its not it return true like , again checks only in the last 3 elements\r\nmy code:\r\n\r\n`code:` \r\n\r\n\r\n\r\n\r\n```\r\npublic class BinarySearchTree&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n\tBstNode root;\r\n\tprivate int sizeoftree=0;\r\n\r\n\t// Binary Search Tree Node\r\n\tclass BstNode {\r\n\t\tT val;\r\n\t\tBstNode left, right;\r\n\r\n\t\tpublic BstNode(T val) {\r\n\t\t\tthis.val = val;\r\n\t\t\tleft = null;\r\n\t\t\tright = null;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\r\npublic BinarySearchTree() {\r\n\t\tthis.root=null;\r\n\t}\r\n\r\n\tpublic int size(){\r\n\t\treturn sizeoftree;\r\n\t}\r\n\r\n\r\n\r\npublic boolean add(T val) {\t        \r\n\t\t if (this.root == null) {\r\n\t        \tthis.root=new BstNode(val);\r\n\t        \tsizeoftree++;\r\n\t            return true;\r\n\t        }\r\n\t        while (this.root != null)\r\n\t        {\r\n\t            if (val.compareTo(this.root.val) &lt; 0) {\r\n\t            \tif(this.root.left==null)\r\n\t            \t{\r\n\t            \t\tthis.root.left=new BstNode(val);\r\n\t            \t\tsizeoftree++;\r\n\t            \t\treturn true;\r\n\t            \t}\r\n\t                this.root = this.root.left;\r\n\t            }\r\n\t            else if(val.compareTo(this.root.val) &gt; 0) {\r\n\t            \tif(this.root.right==null)\r\n\t            \t{\r\n\t            \t\tthis.root.right=new BstNode(val);\r\n\t            \t\tsizeoftree++;\r\n\t            \t\treturn true;\r\n\t            \t}\r\n\t                this.root = this.root.right;\r\n\t            }\r\n\t            if(val.compareTo(this.root.val)==0)\r\n\t            {\r\n\t            \treturn false;\r\n\t            }\r\n\t        }\r\n\t        \r\n\t        return false;\r\n\t}\r\n\t\r\n\r\n\r\npublic boolean contains(T val) \r\n\t{\r\n\t\treturn search(this.root, val);\r\n\t}\r\n\t\r\n\t \r\n\t private boolean search(BstNode root, T data) {\r\n\t        if (root == null) {\r\n\t            return false;\r\n\t        } else if (root.val.compareTo(data)==0) {\r\n\t            return true;\r\n\t        } else if (root.val.compareTo(data) &gt; 0) {\r\n\t            return search(root.left, data);\r\n\t        }\r\n\t        \t return search(root.right, data);\r\n\t        \r\n\t    }\r\n\r\n\r\n\r\n\r\n\r\npublic static void main(String[] args)\r\n{\r\n\tBinarySearchTree&lt;Integer&gt; tree = new BinarySearchTree&lt;Integer&gt;();\r\n\ttree.add(5);\r\n\ttree.add(4);\r\n\ttree.add(2);\r\n\ttree.add(3);\r\n\ttree.add(6);\r\n\ttree.add(1);\r\n\ttree.contains(5);\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n","title":"after inserting elements to my Bst it always saves the last 3 elements when i try to search in Bst it search only in the last 3 elements","body":"<p>After adding an elements to the Bst its only saves last 3 elements when i try to search an element it only search in the last 3 elements</p>\n<p>I'am trying to add elements to my Bst and it added all the elements i ask to added but when i try to search in elements its always search in the last 3 elements\nin my code there is an add function that i call for inserting the elements and for searching iam using contains function that return true or false if the element is found ... after adding some elements , i tried to search for element in the first 3 elements and in the last 3 elements it finds it but when i search in more than 3 elements its only check in the last 3 , i tried to debug then i saw its only check in the last 3 elements that added, even when i try to add element that is already in the tree , if the element in the last 3 elements it return false but if its not it return true like , again checks only in the last 3 elements\nmy code:</p>\n<p><code>code:</code></p>\n<pre><code>public class BinarySearchTree&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    BstNode root;\n    private int sizeoftree=0;\n\n    // Binary Search Tree Node\n    class BstNode {\n        T val;\n        BstNode left, right;\n\n        public BstNode(T val) {\n            this.val = val;\n            left = null;\n            right = null;\n        }\n    }\n\n\n\n\npublic BinarySearchTree() {\n        this.root=null;\n    }\n\n    public int size(){\n        return sizeoftree;\n    }\n\n\n\npublic boolean add(T val) {         \n         if (this.root == null) {\n                this.root=new BstNode(val);\n                sizeoftree++;\n                return true;\n            }\n            while (this.root != null)\n            {\n                if (val.compareTo(this.root.val) &lt; 0) {\n                    if(this.root.left==null)\n                    {\n                        this.root.left=new BstNode(val);\n                        sizeoftree++;\n                        return true;\n                    }\n                    this.root = this.root.left;\n                }\n                else if(val.compareTo(this.root.val) &gt; 0) {\n                    if(this.root.right==null)\n                    {\n                        this.root.right=new BstNode(val);\n                        sizeoftree++;\n                        return true;\n                    }\n                    this.root = this.root.right;\n                }\n                if(val.compareTo(this.root.val)==0)\n                {\n                    return false;\n                }\n            }\n            \n            return false;\n    }\n    \n\n\npublic boolean contains(T val) \n    {\n        return search(this.root, val);\n    }\n    \n     \n     private boolean search(BstNode root, T data) {\n            if (root == null) {\n                return false;\n            } else if (root.val.compareTo(data)==0) {\n                return true;\n            } else if (root.val.compareTo(data) &gt; 0) {\n                return search(root.left, data);\n            }\n                 return search(root.right, data);\n            \n        }\n\n\n\n\n\npublic static void main(String[] args)\n{\n    BinarySearchTree&lt;Integer&gt; tree = new BinarySearchTree&lt;Integer&gt;();\n    tree.add(5);\n    tree.add(4);\n    tree.add(2);\n    tree.add(3);\n    tree.add(6);\n    tree.add(1);\n    tree.contains(5);\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":1022283,"reputation":847,"user_id":1032315,"accept_rate":60,"display_name":"pengemizt"},"score":0,"creation_date":1671882063,"post_id":74887392,"comment_id":132192000,"body_markdown":"Yes exactly! I&#39;m not really sure but before Spring Boot 3.0, I&#39;m using exactly same method and the result is like I expected, the exception is returned to body with 400 error code instead 403 and empty response body for authenticated users. Is there any reason why this happen?","body":"Yes exactly! I&#39;m not really sure but before Spring Boot 3.0, I&#39;m using exactly same method and the result is like I expected, the exception is returned to body with 400 error code instead 403 and empty response body for authenticated users. Is there any reason why this happen?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1673031760,"post_id":74887392,"comment_id":132413873,"body_markdown":"What exactly do you mean? The exception thrown is written into the body of the response? Wasn&#39;t that your original question? Could you please elaborate further?","body":"What exactly do you mean? The exception thrown is written into the body of the response? Wasn&#39;t that your original question? Could you please elaborate further?"}],"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671705956,"creation_date":1671705956,"answer_id":74887392,"question_id":74883874,"body_markdown":"If I understood you correctly, you want the exception-message shown in the return body of the request.\r\n\r\nI solved this problem by implementing a (global) [exception handler](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html).\r\n\r\n#### (Optional) Create a custom exception, extending some sort of other exception.\r\n```\r\npublic class ApiException extends RuntimeException {\r\n\r\n    // Not really needed here, as Throwable.java has a message too\r\n    // I added it for better readability\r\n\t@Getter\r\n\tprivate String message;\r\n\r\n\tpublic ApiException() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic ApiException(String message) {\r\n\t\tthis.message = message;\r\n\t}\r\n\r\n\tpublic ApiException(String message, Throwable cause) {\r\n\t\tsuper(message, cause);\r\n\t}\r\n}\r\n```\r\n\r\n#### (Optional) A Wrapper, with custom information. (This is the object returned in the body).\r\n\r\n```\r\n// I&#39;ve used a record, as the wrapper simply has to store data\r\npublic record ApiError(String message, HttpStatus status, Throwable cause, ZonedDateTime timestamp) {}\r\n```\r\n\r\n#### The handler\r\n\r\nTo create the handler, you simply have to create a custom class, which extends the ```ResponseEntityExceptionHandler.java```\r\n\r\n```\r\n@ControllerAdvice\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class ApiExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    // The annotation&#39;s value can be replaced by any exception.\r\n    // Use Throwable.class to handle **all** exceptions.\r\n    // For this example I used the previously created exception.\r\n\t@ExceptionHandler(value = { ApiException.class })\r\n\t@ResponseBody\r\n\t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n\tpublic ResponseEntity&lt;Object&gt; handleApiRequestException(ApiException e) {\r\n\r\n        // At this point, you can create the exception wrapper to create a\r\n        // formatted JSON-response, but you could also just get the info\r\n        // required from the exception and return that.\r\n\t\tApiError error = new ApiError(\r\n\t\t\t\te.getMessage(),\r\n\t\t\t\tHttpStatus.BAD_REQUEST,\r\n\t\t\t\tnull,\r\n\t\t\t\tZonedDateTime.now(ZoneId.of(&quot;Z&quot;))\r\n\t\t);\r\n\r\n\t\treturn new ResponseEntity&lt;&gt;(error, error.status());\r\n\t}\r\n}\r\n```\r\n\r\nAlso: To handle different kinds of exceptions differently, like e.g. you want a ApiException to return a 403 and a FooException to return a 404, just create another method inside of the handler and adjust it to your likings.\r\n\r\nI hope this helped!\r\n\r\nCheers","title":"Spring Rest Forbidden Access when hit Exception","body":"<p>If I understood you correctly, you want the exception-message shown in the return body of the request.</p>\n<p>I solved this problem by implementing a (global) <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html\" rel=\"nofollow noreferrer\">exception handler</a>.</p>\n<h4>(Optional) Create a custom exception, extending some sort of other exception.</h4>\n<pre><code>public class ApiException extends RuntimeException {\n\n    // Not really needed here, as Throwable.java has a message too\n    // I added it for better readability\n    @Getter\n    private String message;\n\n    public ApiException() {\n        super();\n    }\n\n    public ApiException(String message) {\n        this.message = message;\n    }\n\n    public ApiException(String message, Throwable cause) {\n        super(message, cause);\n    }\n}\n</code></pre>\n<h4>(Optional) A Wrapper, with custom information. (This is the object returned in the body).</h4>\n<pre><code>// I've used a record, as the wrapper simply has to store data\npublic record ApiError(String message, HttpStatus status, Throwable cause, ZonedDateTime timestamp) {}\n</code></pre>\n<h4>The handler</h4>\n<p>To create the handler, you simply have to create a custom class, which extends the <code>ResponseEntityExceptionHandler.java</code></p>\n<pre><code>@ControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class ApiExceptionHandler extends ResponseEntityExceptionHandler {\n\n    // The annotation's value can be replaced by any exception.\n    // Use Throwable.class to handle **all** exceptions.\n    // For this example I used the previously created exception.\n    @ExceptionHandler(value = { ApiException.class })\n    @ResponseBody\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public ResponseEntity&lt;Object&gt; handleApiRequestException(ApiException e) {\n\n        // At this point, you can create the exception wrapper to create a\n        // formatted JSON-response, but you could also just get the info\n        // required from the exception and return that.\n        ApiError error = new ApiError(\n                e.getMessage(),\n                HttpStatus.BAD_REQUEST,\n                null,\n                ZonedDateTime.now(ZoneId.of(&quot;Z&quot;))\n        );\n\n        return new ResponseEntity&lt;&gt;(error, error.status());\n    }\n}\n</code></pre>\n<p>Also: To handle different kinds of exceptions differently, like e.g. you want a ApiException to return a 403 and a FooException to return a 404, just create another method inside of the handler and adjust it to your likings.</p>\n<p>I hope this helped!</p>\n<p>Cheers</p>\n"}],"owner":{"account_id":1022283,"reputation":847,"user_id":1032315,"accept_rate":60,"display_name":"pengemizt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671832152,"creation_date":1671679814,"question_id":74883874,"body_markdown":"I&#39;m using Spring Boot 3.0. The authorization just works as expected but when it hit `SomeException` like `MethodArgumentNotValidException` it just only show 403 Forbidden Access with empty body. Before I&#39;m using Spring Boot 3.0 everything just work as I&#39;m expected when hitting Exception like they give me the exception JSON result.\r\n\r\nSecurityConfiguration\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception {\r\n        var secret = System.getProperty(&quot;app.secret&quot;);\r\n        var authorizationFilter = new AuthorizationFilter(secret);\r\n        var authenticationFilter = new AuthenticationFilter(secret, authenticationManager);\r\n        authenticationFilter.setFilterProcessesUrl(&quot;/login&quot;);\r\n        authenticationFilter.setPostOnly(true);\r\n\r\n        return http\r\n                .cors().and()\r\n                .csrf((csrf) -&gt; csrf.disable())\r\n\r\n                .sessionManagement((session) -&gt; session\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                )\r\n\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .requestMatchers(&quot;/login/**&quot;, &quot;/trackers/camera/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/sites/**&quot;).hasAnyRole(Role.OWNER.name())\r\n                        .anyRequest().authenticated()\r\n                )\r\n\r\n                .addFilter(authenticationFilter)\r\n                .addFilterBefore(authorizationFilter, UsernamePasswordAuthenticationFilter.class)\r\n\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n        var config = new CorsConfiguration();\r\n\r\n        var all = Arrays.asList(&quot;*&quot;);\r\n        config.setAllowedOrigins(all);\r\n        config.setAllowedHeaders(all);\r\n        config.setAllowedMethods(all);\r\n        config.setExposedHeaders(all);\r\n\r\n        var source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\r\n        return source;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAuthenticationFilter\r\n```java\r\n@RequiredArgsConstructor\r\npublic class AuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private final String secretToken;\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        String username, password;\r\n\r\n        try {\r\n            var requestMap = new ObjectMapper().readValue(request.getInputStream(), LoginRequest.class);\r\n            username = requestMap.getUsername();\r\n            password = requestMap.getPassword();\r\n        } catch (Exception e) {\r\n            throw new AuthenticationServiceException(e.getMessage(), e);\r\n        }\r\n\r\n        var token = new UsernamePasswordAuthenticationToken(username, password);\r\n        return authenticationManager.authenticate(token);\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n        var user = (UserDetails) authResult.getPrincipal();\r\n        var algorithm = Algorithm.HMAC512(secretToken.getBytes());\r\n\r\n        var token = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withIssuer(request.getRequestURL().toString())\r\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n                .sign(algorithm);\r\n\r\n        var jsonMap = new HashMap&lt;String, String&gt;();\r\n        jsonMap.put(&quot;token&quot;, token);\r\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n\r\n        new ObjectMapper().writeValue(response.getOutputStream(), jsonMap);\r\n        response.flushBuffer();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAuthorizationFilter\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic class AuthorizationFilter extends OncePerRequestFilter {\r\n    private final String secretToken;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        var authentication = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n\r\n        if(authentication != null) {\r\n            if(authentication.startsWith(&quot;Bearer&quot;)) {\r\n                var token = authentication.substring(&quot;Bearer &quot;.length());\r\n                var algorithm = Algorithm.HMAC512(secretToken.getBytes());\r\n                var verifier = JWT.require(algorithm).build();\r\n\r\n                var message = verifier.verify(token);\r\n                var subject = message.getSubject();\r\n                var roles = message.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                var authorities = new ArrayList&lt;SimpleGrantedAuthority&gt;();\r\n                Arrays.stream(roles).forEach(role -&gt; authorities.add(new SimpleGrantedAuthority(role)));\r\n\r\n                var authenticationToken = new UsernamePasswordAuthenticationToken(subject, token, authorities);\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n            } else if(authentication.startsWith(&quot;Basic&quot;)) {\r\n                var token = authentication.substring(&quot;Basic &quot;.length());\r\n                var bundle = new String(Base64.getDecoder().decode(token)).split(&quot;:&quot;, 2);\r\n                if(bundle.length == 2 &amp;&amp; bundle[0].equals(System.getProperty(&quot;app.camera.username&quot;)) &amp;&amp; bundle[1].equals(System.getProperty(&quot;app.camera.password&quot;))) {\r\n                    var authenticationToken = new UsernamePasswordAuthenticationToken(&quot;camera1&quot;, null, Arrays.asList(new SimpleGrantedAuthority(Role.USER.getAuthority())));\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                }\r\n            }\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```","title":"Spring Rest Forbidden Access when hit Exception","body":"<p>I'm using Spring Boot 3.0. The authorization just works as expected but when it hit <code>SomeException</code> like <code>MethodArgumentNotValidException</code> it just only show 403 Forbidden Access with empty body. Before I'm using Spring Boot 3.0 everything just work as I'm expected when hitting Exception like they give me the exception JSON result.</p>\n<p>SecurityConfiguration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, AuthenticationManager authenticationManager) throws Exception {\n        var secret = System.getProperty(&quot;app.secret&quot;);\n        var authorizationFilter = new AuthorizationFilter(secret);\n        var authenticationFilter = new AuthenticationFilter(secret, authenticationManager);\n        authenticationFilter.setFilterProcessesUrl(&quot;/login&quot;);\n        authenticationFilter.setPostOnly(true);\n\n        return http\n                .cors().and()\n                .csrf((csrf) -&gt; csrf.disable())\n\n                .sessionManagement((session) -&gt; session\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                )\n\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .requestMatchers(&quot;/login/**&quot;, &quot;/trackers/camera/**&quot;).permitAll()\n                        .requestMatchers(&quot;/sites/**&quot;).hasAnyRole(Role.OWNER.name())\n                        .anyRequest().authenticated()\n                )\n\n                .addFilter(authenticationFilter)\n                .addFilterBefore(authorizationFilter, UsernamePasswordAuthenticationFilter.class)\n\n                .build();\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        var config = new CorsConfiguration();\n\n        var all = Arrays.asList(&quot;*&quot;);\n        config.setAllowedOrigins(all);\n        config.setAllowedHeaders(all);\n        config.setAllowedMethods(all);\n        config.setExposedHeaders(all);\n\n        var source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n\n        return source;\n    }\n\n}\n</code></pre>\n<p>AuthenticationFilter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class AuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final String secretToken;\n\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        String username, password;\n\n        try {\n            var requestMap = new ObjectMapper().readValue(request.getInputStream(), LoginRequest.class);\n            username = requestMap.getUsername();\n            password = requestMap.getPassword();\n        } catch (Exception e) {\n            throw new AuthenticationServiceException(e.getMessage(), e);\n        }\n\n        var token = new UsernamePasswordAuthenticationToken(username, password);\n        return authenticationManager.authenticate(token);\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        var user = (UserDetails) authResult.getPrincipal();\n        var algorithm = Algorithm.HMAC512(secretToken.getBytes());\n\n        var token = JWT.create()\n                .withSubject(user.getUsername())\n                .withIssuer(request.getRequestURL().toString())\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n                .sign(algorithm);\n\n        var jsonMap = new HashMap&lt;String, String&gt;();\n        jsonMap.put(&quot;token&quot;, token);\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n\n        new ObjectMapper().writeValue(response.getOutputStream(), jsonMap);\n        response.flushBuffer();\n    }\n}\n\n</code></pre>\n<p>AuthorizationFilter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class AuthorizationFilter extends OncePerRequestFilter {\n    private final String secretToken;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        var authentication = request.getHeader(HttpHeaders.AUTHORIZATION);\n\n        if(authentication != null) {\n            if(authentication.startsWith(&quot;Bearer&quot;)) {\n                var token = authentication.substring(&quot;Bearer &quot;.length());\n                var algorithm = Algorithm.HMAC512(secretToken.getBytes());\n                var verifier = JWT.require(algorithm).build();\n\n                var message = verifier.verify(token);\n                var subject = message.getSubject();\n                var roles = message.getClaim(&quot;roles&quot;).asArray(String.class);\n                var authorities = new ArrayList&lt;SimpleGrantedAuthority&gt;();\n                Arrays.stream(roles).forEach(role -&gt; authorities.add(new SimpleGrantedAuthority(role)));\n\n                var authenticationToken = new UsernamePasswordAuthenticationToken(subject, token, authorities);\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            } else if(authentication.startsWith(&quot;Basic&quot;)) {\n                var token = authentication.substring(&quot;Basic &quot;.length());\n                var bundle = new String(Base64.getDecoder().decode(token)).split(&quot;:&quot;, 2);\n                if(bundle.length == 2 &amp;&amp; bundle[0].equals(System.getProperty(&quot;app.camera.username&quot;)) &amp;&amp; bundle[1].equals(System.getProperty(&quot;app.camera.password&quot;))) {\n                    var authenticationToken = new UsernamePasswordAuthenticationToken(&quot;camera1&quot;, null, Arrays.asList(new SimpleGrantedAuthority(Role.USER.getAuthority())));\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n                }\n            }\n        }\n\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":["java","swift","datetimeoffset","localdate"],"comments":[{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1539849091,"post_id":52869194,"comment_id":92652251,"body_markdown":"Can you be a bit more specific?","body":"Can you be a bit more specific?"},{"owner":{"account_id":14487615,"reputation":43,"user_id":10522610,"display_name":"gke"},"score":0,"creation_date":1539849950,"post_id":52869194,"comment_id":92652688,"body_markdown":"Updated.  Does this help?","body":"Updated.  Does this help?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1539851412,"post_id":52869194,"comment_id":92653500,"body_markdown":"It might be good to have a (simplified) example of what your JSON looks like?","body":"It might be good to have a (simplified) example of what your JSON looks like?"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1539906260,"post_id":52869747,"comment_id":92681297,"body_markdown":"The `LocalDateTime` class in Java represents a date and a time-of-day without any concept of time zone nor offset-from-UTC. So it does *not* represent a moment, is *not* a point on the timeline.","body":"The <code>LocalDateTime</code> class in Java represents a date and a time-of-day without any concept of time zone nor offset-from-UTC. So it does <i>not</i> represent a moment, is <i>not</i> a point on the timeline."},{"owner":{"account_id":1810076,"reputation":9969,"user_id":1646335,"display_name":"Andreas Oetjen"},"score":0,"creation_date":1539928151,"post_id":52869747,"comment_id":92685906,"body_markdown":"@BasilBourque I was talking about the Foundation `Date` class, not about any Java classes. `Date` in fact is a point in time.","body":"@BasilBourque I was talking about the Foundation <code>Date</code> class, not about any Java classes. <code>Date</code> in fact is a point in time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1539929742,"post_id":52869747,"comment_id":92686431,"body_markdown":"Thats my point, the title of the Question asks partly about Java `LocalDateTime`. This Answer does not address that part.","body":"Thats my point, the title of the Question asks partly about Java <code>LocalDateTime</code>. This Answer does not address that part."}],"tags":[],"owner":{"account_id":1810076,"reputation":9969,"user_id":1646335,"display_name":"Andreas Oetjen"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539850544,"creation_date":1539850544,"answer_id":52869747,"question_id":52869194,"body_markdown":"Swift uses the `Date` struct to store a point in time. This is always stored in `UTC`. If you want the local date time, you either work with `Calendar` or with `DateFormatter`, like in this example:\r\n\r\n    import Foundation\r\n\r\n    let date = Date();\r\n\r\n    let dateFormatter = DateFormatter()\r\n    dateFormatter.timeStyle = .medium \r\n    dateFormatter.dateStyle = .none // ignore date\r\n    dateFormatter.timeZone = TimeZone(secondsFromGMT: 2*60*60)\r\n    let localDate = dateFormatter.string(from:date)\r\n\r\n    print(&quot;UTC Time: \\(date)&quot;)  // 2018-10-18 08:15:07 +0000\r\n    print(&quot;Local Time: \\(localDate)&quot;) // 10:15:07 AM\r\n\r\nThere are multiple ways to convert `Date` into someting local, just use a search engine of your choice","title":"Java LocalDateTime/ OffsetDateTime to Swift 4","body":"<p>Swift uses the <code>Date</code> struct to store a point in time. This is always stored in <code>UTC</code>. If you want the local date time, you either work with <code>Calendar</code> or with <code>DateFormatter</code>, like in this example:</p>\n\n<pre><code>import Foundation\n\nlet date = Date();\n\nlet dateFormatter = DateFormatter()\ndateFormatter.timeStyle = .medium \ndateFormatter.dateStyle = .none // ignore date\ndateFormatter.timeZone = TimeZone(secondsFromGMT: 2*60*60)\nlet localDate = dateFormatter.string(from:date)\n\nprint(\"UTC Time: \\(date)\")  // 2018-10-18 08:15:07 +0000\nprint(\"Local Time: \\(localDate)\") // 10:15:07 AM\n</code></pre>\n\n<p>There are multiple ways to convert <code>Date</code> into someting local, just use a search engine of your choice</p>\n"},{"tags":[],"owner":{"account_id":8258676,"reputation":973,"user_id":6210973,"display_name":"Mick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671831217,"creation_date":1671831217,"answer_id":74904145,"question_id":52869194,"body_markdown":"Since Java&#39;s LocalDateTime is &quot;just a container&quot; for storing local date and time values, I recently copied this idea from Java and created a Swift version: https://github.com/hoereth/LocalDateTime","title":"Java LocalDateTime/ OffsetDateTime to Swift 4","body":"<p>Since Java's LocalDateTime is &quot;just a container&quot; for storing local date and time values, I recently copied this idea from Java and created a Swift version: <a href=\"https://github.com/hoereth/LocalDateTime\" rel=\"nofollow noreferrer\">https://github.com/hoereth/LocalDateTime</a></p>\n"}],"owner":{"account_id":14487615,"reputation":43,"user_id":10522610,"display_name":"gke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52869747,"answer_count":2,"score":4,"last_activity_date":1671831217,"creation_date":1539848397,"question_id":52869194,"body_markdown":"What&#39;s the equivalent of LocalDateTime and OffsetDateTime in Swift 4?\r\n\r\nI am trying to encode Java dates and decode them in Swift using Json.  It seems like there is only one Date object in Swift. ","title":"Java LocalDateTime/ OffsetDateTime to Swift 4","body":"<p>What's the equivalent of LocalDateTime and OffsetDateTime in Swift 4?</p>\n\n<p>I am trying to encode Java dates and decode them in Swift using Json.  It seems like there is only one Date object in Swift. </p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":1,"creation_date":1671835884,"post_id":74903842,"comment_id":132187251,"body_markdown":"This is no way to make a clock. Instead of `while(true) {`, use a Timer thread. [Read this](https://www.educba.com/javafx-timer/). Also read up on the **Clip** class.","body":"This is no way to make a clock. Instead of <code>while(true) {</code>, use a Timer thread. <a href=\"https://www.educba.com/javafx-timer/\" rel=\"nofollow noreferrer\">Read this</a>. Also read up on the <b>Clip</b> class."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1671842986,"post_id":74903842,"comment_id":132188157,"body_markdown":"@DevilsHnd A timer here is not a good approach. It unnecessarily creates additional threads and the.l code becomes more convoluted to make sure UI updates occur on the correct thread. The animation API is the preferred approach here.","body":"@DevilsHnd A timer here is not a good approach. It unnecessarily creates additional threads and the.l code becomes more convoluted to make sure UI updates occur on the correct thread. The animation API is the preferred approach here."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1672119284,"post_id":74903842,"comment_id":132223519,"body_markdown":"https://stackoverflow.com/questions/60226658/trying-to-stop-a-single-thread-out-of-multiple-running-at-the-same-time-in-java/60234199#60234199","body":"<a href=\"https://stackoverflow.com/questions/60226658/trying-to-stop-a-single-thread-out-of-multiple-running-at-the-same-time-in-java/60234199#60234199\" title=\"trying to stop a single thread out of multiple running at the same time in java\">stackoverflow.com/questions/60226658/&hellip;</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1672119328,"post_id":74903842,"comment_id":132223527,"body_markdown":"https://stackoverflow.com/questions/50766244/creating-a-timer-that-shows-the-time-in-hhmmss-format-javafx/50774740#50774740","body":"<a href=\"https://stackoverflow.com/questions/50766244/creating-a-timer-that-shows-the-time-in-hhmmss-format-javafx/50774740#50774740\" title=\"creating a timer that shows the time in hhmmss format javafx\">stackoverflow.com/questions/50766244/&hellip;</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1672119387,"post_id":74903842,"comment_id":132223538,"body_markdown":"https://stackoverflow.com/questions/50626831/how-to-set-up-two-timelines-to-one-app/50627639#50627639","body":"<a href=\"https://stackoverflow.com/questions/50626831/how-to-set-up-two-timelines-to-one-app/50627639#50627639\" title=\"how to set up two timelines to one app\">stackoverflow.com/questions/50626831/&hellip;</a>"}],"owner":{"account_id":25937798,"reputation":21,"user_id":19657758,"display_name":"AKL-R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671828730,"answer_count":0,"score":0,"last_activity_date":1671830604,"creation_date":1671828141,"question_id":74903842,"body_markdown":"I am a student, I am creating a clock for an application, I added a Label in scene builder assigned the clock to it and added the following java code:\r\n~~~java\r\n public void initialize() throws FileNotFoundException, InterruptedException {\r\n\r\n\r\n   var now = LocalTime.now();\r\n   DateTimeFormatter dft =DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);\r\n   \r\nlabelclock.setText(LocalTime.now().format(dft));\r\n\r\n~~~\r\n\r\n\r\nI want to make the clock tick and tried in many ways but it didn&#39;t work.\r\n\r\nI also tried creating the clock in another way and got the same result.\r\n\r\n~~~java\r\n public void setTime() {\r\n\r\n       while (true) {\r\n\r\n       time = timeFormat.format(calendar.getInstance().getTime());\r\n       labelclock.setText(time);\r\n         try {\r\n          Thread.sleep(1000);\r\n              } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n              }\r\n             }\r\n            }\r\n\r\n~~~","title":"Make the clock tick in (java/ javaFX)","body":"<p>I am a student, I am creating a clock for an application, I added a Label in scene builder assigned the clock to it and added the following java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public void initialize() throws FileNotFoundException, InterruptedException {\n\n\n   var now = LocalTime.now();\n   DateTimeFormatter dft =DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;);\n   \nlabelclock.setText(LocalTime.now().format(dft));\n\n</code></pre>\n<p>I want to make the clock tick and tried in many ways but it didn't work.</p>\n<p>I also tried creating the clock in another way and got the same result.</p>\n<pre class=\"lang-java prettyprint-override\"><code> public void setTime() {\n\n       while (true) {\n\n       time = timeFormat.format(calendar.getInstance().getTime());\n       labelclock.setText(time);\n         try {\n          Thread.sleep(1000);\n              } catch (InterruptedException e) {\n          e.printStackTrace();\n              }\n             }\n            }\n\n</code></pre>\n"},{"tags":["java","for-loop","if-statement","double","calculation"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1671826494,"post_id":74903577,"comment_id":132185549,"body_markdown":"Store the highest input in a separate field and do the comparison after the for loop where you take the inputs and based on them calculate an average. Side note __**3 points above the averag**__ sounds as if you need to substract the average from the highest input and not do a modulo operation","body":"Store the highest input in a separate field and do the comparison after the for loop where you take the inputs and based on them calculate an average. Side note <b><i>*3 points above the averag*</i></b> sounds as if you need to substract the average from the highest input and not do a modulo operation"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671826505,"post_id":74903577,"comment_id":132185553,"body_markdown":"I think you need to save the printing and also the detection of cheating till after the loop (not inside it). Only after all numers have been input can you correctly calculate the average (so-called weighted average). This also means that underway in addition to the sum you will also need to keep track of the highest number entered.","body":"I think you need to save the printing and also the detection of cheating till after the loop (not inside it). Only after all numers have been input can you correctly calculate the average (so-called weighted average). This also means that underway in addition to the sum you will also need to keep track of the highest number entered."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1671829549,"post_id":74903577,"comment_id":132186200,"body_markdown":"what do you think `number%result` does ?","body":"what do you think <code>number%result</code> does ?"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671828199,"post_id":74903805,"comment_id":132185902,"body_markdown":"Thanks for the answer. A bit of nitpicking: 1. When in the average the numbers count 1x, 2x, 3x and 4x, you need to divide by the sum of those numbers, 1 + 2 + 3 + 4 = 10, not by 4. // 2. Another option is to keep track of the highest number entered so far, then you dont need the array. // 3. Incorrectly using `%` instead of `-` may have been a typo. // Also as said in the comments I believe that the calculation of average and printing need to go outside the loop.","body":"Thanks for the answer. A bit of nitpicking: 1. When in the average the numbers count 1x, 2x, 3x and 4x, you need to divide by the sum of those numbers, 1 + 2 + 3 + 4 = 10, not by 4. // 2. Another option is to keep track of the highest number entered so far, then you dont need the array. // 3. Incorrectly using <code>%</code> instead of <code>-</code> may have been a typo. // Also as said in the comments I believe that the calculation of average and printing need to go outside the loop."},{"owner":{"account_id":27239654,"reputation":11,"user_id":20766030,"display_name":"JavaStudent"},"score":0,"creation_date":1671831807,"post_id":74903805,"comment_id":132186623,"body_markdown":"Can it also be done without an array? because that is the way I am trying to solve it.","body":"Can it also be done without an array? because that is the way I am trying to solve it."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671863084,"post_id":74903805,"comment_id":132189648,"body_markdown":"*Can it also be done without an array?* Yes, @JavaStudent, it certainly can. Leave out the array, keep `number = sc.nextDouble()` from your own code and do the comparison as `if (highestNum &lt; number) {`. You will need to adapt a little further, but theres really no need for the array.","body":"<i>Can it also be done without an array?</i> Yes, @JavaStudent, it certainly can. Leave out the array, keep <code>number = sc.nextDouble()</code> from your own code and do the comparison as <code>if (highestNum &lt; number) {</code>. You will need to adapt a little further, but theres really no need for the array."}],"tags":[],"owner":{"account_id":26712766,"reputation":1,"user_id":20317828,"display_name":"Mykyta"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671827981,"creation_date":1671827771,"answer_id":74903805,"question_id":74903577,"body_markdown":"1) to calculate average you need the sum(*sum* variable) divide by amount of numbers(4 in your case) \r\n2) you need to use array to find the highest number\r\n3) the if logic is incorrect \r\n\r\nI suggest:\r\n    \r\n    public class Main{\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            double sum;\r\n            double[] number = new double[4];\r\n            double result = 0;\r\n            double highestNum = 0;\r\n    \r\n            for (int i = 0; i &lt;= 3; i++) {\r\n                number[i] = sc.nextDouble();\r\n                sum += number[i] * i;\r\n                if(highestNum&lt;number[i]){\r\n                     highestNum = number[i];\r\n                     }\r\n                }\r\n                double aveNum = sum/4;\r\n                   \r\n                if ((highestNum-aveNum)&gt; 3) {\r\n                    System.out.println(&quot;cheater!\\n&quot; + &quot;-1.0&quot;);\r\n    \r\n                } else{\r\n                    System.out.printf(&quot;%3.1f&quot;, result / 10);\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to calculate the highest number and compare it to the average?","body":"<ol>\n<li>to calculate average you need the sum(<em>sum</em> variable) divide by amount of numbers(4 in your case)</li>\n<li>you need to use array to find the highest number</li>\n<li>the if logic is incorrect</li>\n</ol>\n<p>I suggest:</p>\n<pre><code>public class Main{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        double sum;\n        double[] number = new double[4];\n        double result = 0;\n        double highestNum = 0;\n\n        for (int i = 0; i &lt;= 3; i++) {\n            number[i] = sc.nextDouble();\n            sum += number[i] * i;\n            if(highestNum&lt;number[i]){\n                 highestNum = number[i];\n                 }\n            }\n            double aveNum = sum/4;\n               \n            if ((highestNum-aveNum)&gt; 3) {\n                System.out.println(&quot;cheater!\\n&quot; + &quot;-1.0&quot;);\n\n            } else{\n                System.out.printf(&quot;%3.1f&quot;, result / 10);\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1671831804,"post_id":74903958,"comment_id":132186621,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value. For reference: [Explaining entirely code-based answers](https://meta.stackoverflow.com/q/392712/12567365)","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value. For reference: <a href=\"https://meta.stackoverflow.com/q/392712/12567365\">Explaining entirely code-based answers</a>"}],"tags":[],"owner":{"account_id":17920962,"reputation":182,"user_id":13250060,"display_name":"Yannick"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671830384,"creation_date":1671829254,"answer_id":74903958,"question_id":74903577,"body_markdown":"\r\n            double sum;\r\n            double number;\r\n            double result = 0;\r\n            double max = 0;\r\n\r\n            //Compute the sum\r\n            for (int i = 1; i &lt; 5; i++)\r\n            {\r\n                number = sc.nextDouble();\r\n                sum = number * i;\r\n                result += sum;\r\n\r\n                if (max &lt; number)\r\n                    max = number;\r\n            }\r\n\r\n            //Average\r\n            double average = Math.Round((double)result / 10, 1);\r\n\r\n            //Compare to data\r\n            if (max &gt; average + 3)\r\n                System.out.println(&quot;cheater!\\n&quot; + &quot;-1.0&quot;);\r\n            else\r\n                System.out.printf(&quot;%3.1f&quot;, average);","title":"How to calculate the highest number and compare it to the average?","body":"<pre><code>        double sum;\n        double number;\n        double result = 0;\n        double max = 0;\n\n        //Compute the sum\n        for (int i = 1; i &lt; 5; i++)\n        {\n            number = sc.nextDouble();\n            sum = number * i;\n            result += sum;\n\n            if (max &lt; number)\n                max = number;\n        }\n\n        //Average\n        double average = Math.Round((double)result / 10, 1);\n\n        //Compare to data\n        if (max &gt; average + 3)\n            System.out.println(&quot;cheater!\\n&quot; + &quot;-1.0&quot;);\n        else\n            System.out.printf(&quot;%3.1f&quot;, average);\n</code></pre>\n"}],"owner":{"account_id":27239654,"reputation":11,"user_id":20766030,"display_name":"JavaStudent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74903958,"answer_count":2,"score":0,"last_activity_date":1671830384,"creation_date":1671825688,"question_id":74903577,"body_markdown":"This is what I am trying to do:\r\n\r\nthe user needs to enter 4 numbers (already done)  \r\nthen I want to calculate the average of those 4 digits but The first digit needs to counts 1x, the second digit 2x, the third digit 3x and the fourth digit 4x. (already done)\r\n\r\n(this is the part where i am stuck)  \r\nAlso calculate the highest number. If the highest grade is more than 3 points above the average, the screen will show:\r\n\r\n```\r\ncheater!\r\n-1\r\n```\r\n\r\nIf the highest grade is less than 3 points above the average, the actual average will appear on the screen, rounded to 1 decimal place.\r\n\r\n\r\n```\r\npublic class Main{\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int i;\r\n        double sum;\r\n        double number;\r\n        double result = 0;\r\n\r\n        for (i = 1; i &lt; 5; i++) {\r\n            number = sc.nextDouble();\r\n            sum = number * i;\r\n            result += sum;\r\n            if (number%result &gt; 3) {\r\n                System.out.println(&quot;cheater!\\n&quot; + &quot;-1.0&quot;);\r\n\r\n            } else{\r\n                System.out.printf(&quot;%3.1f&quot;, result / 10);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you can see above here, this is what I got for now. Don&#39;t know exactly what I am doing wrong here?\r\n\r\n\r\nThese are my input/results:\r\n\r\n```\r\n5.5\r\n6.1\r\n7.3\r\n5.8\r\n\r\n0.6cheater!\r\n-1.0\r\ncheater!\r\n-1.0\r\ncheater!\r\n-1.0\r\n```\r\n\r\nExpected results:\r\n\r\nSample Input 1:\r\n\r\n```\r\n5.5\r\n6.1\r\n7.3\r\n5.8\r\n```\r\n\r\nSample Output 1:\r\n\r\n```\r\n6.3\r\n```\r\n\r\nSample Input 2:\r\n\r\n```\r\n3.0\r\n5.4\r\n9.8\r\n2.5\r\n```\r\n\r\nSample Output 2:\r\n\r\n```\r\ncheater!\r\n-1.0\r\n```\r\n","title":"How to calculate the highest number and compare it to the average?","body":"<p>This is what I am trying to do:</p>\n<p>the user needs to enter 4 numbers (already done)<br />\nthen I want to calculate the average of those 4 digits but The first digit needs to counts 1x, the second digit 2x, the third digit 3x and the fourth digit 4x. (already done)</p>\n<p>(this is the part where i am stuck)<br />\nAlso calculate the highest number. If the highest grade is more than 3 points above the average, the screen will show:</p>\n<pre><code>cheater!\n-1\n</code></pre>\n<p>If the highest grade is less than 3 points above the average, the actual average will appear on the screen, rounded to 1 decimal place.</p>\n<pre><code>public class Main{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int i;\n        double sum;\n        double number;\n        double result = 0;\n\n        for (i = 1; i &lt; 5; i++) {\n            number = sc.nextDouble();\n            sum = number * i;\n            result += sum;\n            if (number%result &gt; 3) {\n                System.out.println(&quot;cheater!\\n&quot; + &quot;-1.0&quot;);\n\n            } else{\n                System.out.printf(&quot;%3.1f&quot;, result / 10);\n            }\n        }\n    }\n}\n</code></pre>\n<p>As you can see above here, this is what I got for now. Don't know exactly what I am doing wrong here?</p>\n<p>These are my input/results:</p>\n<pre><code>5.5\n6.1\n7.3\n5.8\n\n0.6cheater!\n-1.0\ncheater!\n-1.0\ncheater!\n-1.0\n</code></pre>\n<p>Expected results:</p>\n<p>Sample Input 1:</p>\n<pre><code>5.5\n6.1\n7.3\n5.8\n</code></pre>\n<p>Sample Output 1:</p>\n<pre><code>6.3\n</code></pre>\n<p>Sample Input 2:</p>\n<pre><code>3.0\n5.4\n9.8\n2.5\n</code></pre>\n<p>Sample Output 2:</p>\n<pre><code>cheater!\n-1.0\n</code></pre>\n"},{"tags":["java","spring-security","spring-boot-security"],"answers":[{"tags":[],"owner":{"account_id":15806948,"reputation":150,"user_id":11405229,"display_name":"Romain Lavabre"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671829967,"creation_date":1671829967,"answer_id":74904027,"question_id":74901447,"body_markdown":"Ok, I found a solution that seems to work.\r\n\r\nAdding this line fixes the problem :\r\n\r\n```java\r\n.dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\r\n```\r\n\r\nComplete code :\r\n\r\n```java\r\n@Bean\r\n    public SecurityFilterChain filterChain( final HttpSecurity http ) throws Exception {\r\n        http\r\n                .cors().and().csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS )\r\n                .and()\r\n                .anonymous()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\r\n                .requestMatchers( HttpMethod.OPTIONS ).permitAll()\r\n                .requestMatchers( &quot;/guest/**&quot; ).permitAll()\r\n                .requestMatchers( &quot;/system/**&quot; ).hasRole( new SecurityRole( Role.ROLE_SYSTEM ).toString() )\r\n                .requestMatchers( &quot;/admin/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_ADMIN ).toString() )\r\n                .requestMatchers( &quot;/identity/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_IDENTITY ).toString() )\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer( OAuth2ResourceServerConfigurer::jwt );\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nDocumentation : https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html","title":"All exceptions are converted to HTTP 401 on public endpoints","body":"<p>Ok, I found a solution that seems to work.</p>\n<p>Adding this line fixes the problem :</p>\n<pre class=\"lang-java prettyprint-override\"><code>.dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\n</code></pre>\n<p>Complete code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n    public SecurityFilterChain filterChain( final HttpSecurity http ) throws Exception {\n        http\n                .cors().and().csrf().disable()\n                .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS )\n                .and()\n                .anonymous()\n                .and()\n                .authorizeHttpRequests()\n                .dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\n                .requestMatchers( HttpMethod.OPTIONS ).permitAll()\n                .requestMatchers( &quot;/guest/**&quot; ).permitAll()\n                .requestMatchers( &quot;/system/**&quot; ).hasRole( new SecurityRole( Role.ROLE_SYSTEM ).toString() )\n                .requestMatchers( &quot;/admin/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_ADMIN ).toString() )\n                .requestMatchers( &quot;/identity/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_IDENTITY ).toString() )\n                .anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer( OAuth2ResourceServerConfigurer::jwt );\n\n        return http.build();\n    }\n</code></pre>\n<p>Documentation : <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html</a></p>\n"}],"owner":{"account_id":15806948,"reputation":150,"user_id":11405229,"display_name":"Romain Lavabre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74904027,"answer_count":1,"score":0,"last_activity_date":1671829967,"creation_date":1671809986,"question_id":74901447,"body_markdown":"i have problem on spring boot starter security V3.0.0\r\n\r\nFor this configuration : \r\n\r\n```java\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain( final HttpSecurity http ) throws Exception {\r\n        http\r\n                .cors().and().csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS )\r\n                .and()\r\n                .anonymous()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers( HttpMethod.OPTIONS ).permitAll()\r\n                .requestMatchers( &quot;/system/**&quot; ).hasRole( new SecurityRole( Role.ROLE_SYSTEM ).toString() )\r\n                .requestMatchers( &quot;/admin/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_ADMIN ).toString() )\r\n                .requestMatchers( &quot;/identity/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_IDENTITY ).toString() )\r\n                .requestMatchers( &quot;/guest/**&quot; ).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer( OAuth2ResourceServerConfigurer::jwt );\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\nAll exceptions thrown by &quot;/guest/**&quot; endpoint are converted to HTTP 401 whitout body.  Even when I issue an HTTP 409 with this class : \r\n\r\n```java\r\n@ResponseStatus( code = HttpStatus.CONFLICT )\r\npublic class HttpConflictException extends RuntimeException {\r\n    public HttpConflictException( String message ) {\r\n        super( message );\r\n    }\r\n}\r\n```\r\n\r\nIMPORTANT : When no exception is thrown, the query works\r\n\r\n\r\nIf this line \r\n\r\n```java\r\n.requestMatchers( &quot;/guest/**&quot; ).permitAll()\r\n```\r\nis replaced by this\r\n```java\r\n .requestMatchers( &quot;/**&quot; ).permitAll()\r\n```\r\nit works. But this option seems too dangerous. Am I not understanding something? I haven&#39;t seen anything in the documentation that can help with this issue.\r\n\r\nDependencies : \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThank you.","title":"All exceptions are converted to HTTP 401 on public endpoints","body":"<p>i have problem on spring boot starter security V3.0.0</p>\n<p>For this configuration :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    public SecurityFilterChain filterChain( final HttpSecurity http ) throws Exception {\n        http\n                .cors().and().csrf().disable()\n                .sessionManagement().sessionCreationPolicy( SessionCreationPolicy.STATELESS )\n                .and()\n                .anonymous()\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers( HttpMethod.OPTIONS ).permitAll()\n                .requestMatchers( &quot;/system/**&quot; ).hasRole( new SecurityRole( Role.ROLE_SYSTEM ).toString() )\n                .requestMatchers( &quot;/admin/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_ADMIN ).toString() )\n                .requestMatchers( &quot;/identity/**&quot; ).hasRole( new SecurityRole( Role.ROLE_AUTH_IDENTITY ).toString() )\n                .requestMatchers( &quot;/guest/**&quot; ).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer( OAuth2ResourceServerConfigurer::jwt );\n\n        return http.build();\n    }\n</code></pre>\n<p>All exceptions thrown by &quot;/guest/**&quot; endpoint are converted to HTTP 401 whitout body.  Even when I issue an HTTP 409 with this class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus( code = HttpStatus.CONFLICT )\npublic class HttpConflictException extends RuntimeException {\n    public HttpConflictException( String message ) {\n        super( message );\n    }\n}\n</code></pre>\n<p>IMPORTANT : When no exception is thrown, the query works</p>\n<p>If this line</p>\n<pre class=\"lang-java prettyprint-override\"><code>.requestMatchers( &quot;/guest/**&quot; ).permitAll()\n</code></pre>\n<p>is replaced by this</p>\n<pre class=\"lang-java prettyprint-override\"><code> .requestMatchers( &quot;/**&quot; ).permitAll()\n</code></pre>\n<p>it works. But this option seems too dangerous. Am I not understanding something? I haven't seen anything in the documentation that can help with this issue.</p>\n<p>Dependencies :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","parsing","jogl","wavefront"],"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1671881623,"post_id":74904006,"comment_id":132191934,"body_markdown":"It has nothing to do with JOGL, your program expects a number and reads an empty string: &quot;at ImportedModel$ModelImporter.parseOBJ(ImportedModel.java:60)&quot;.","body":"It has nothing to do with JOGL, your program expects a number and reads an empty string: &quot;at ImportedModel$ModelImporter.parseOBJ(ImportedModel.java:60)&quot;&zwnj;&#8203;."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671888064,"post_id":74904006,"comment_id":132192846,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27339043,"reputation":1,"user_id":20850012,"display_name":"Martin Freeman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671829701,"creation_date":1671829701,"question_id":74904006,"body_markdown":"Hopefully someone can help me. I am trying to load a model I made in Blender into my JOGL program. I was able to manual models working and set up my window but there is something wrong with parsing the .obj wavefront file. No errors in my code that I can see, the ImportedModel class came from a textbook.\r\n\r\nHere is the code:\r\n\r\n    import com.jogamp.common.nio.Buffers;\r\n    import com.jogamp.opengl.*;\r\n    import com.jogamp.opengl.awt.GLCanvas;\r\n    import com.jogamp.opengl.util.Animator;\r\n    import org.joml.Matrix4f;\r\n    import org.joml.Vector2f;\r\n    import org.joml.Vector3f;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.nio.FloatBuffer;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static com.jogamp.opengl.GL.*;\r\n    \r\n    \r\n    \r\n    public class WalkingTour extends JFrame implements GLEventListener, KeyListener {\r\n    \r\n    \r\n    private static final int windowWidth = 800, windowHeight = 600;\r\n    private static final String windowTitle = &quot;Walking Tour&quot;;\r\n    private static final String vertexShaderFile = &quot;src/walkingtour-vertex.glsl&quot;,\r\n            fragmentShaderFile = &quot;src/walkingtour-fragment.glsl&quot;;\r\n    private final GLCanvas glCanvas;\r\n    private int renderingProgram;\r\n    private final int[] vao = new int[1];\r\n    private final int[] vbo = new int[6];\r\n    private final FloatBuffer values = Buffers.newDirectFloatBuffer(16);\r\n    private final Matrix4f pMat = new Matrix4f();  // perspective matrix\r\n    private final Matrix4f vMat = new Matrix4f();  // view matrix\r\n    private final Matrix4f mMat = new Matrix4f();  // model matrix\r\n    private final Matrix4f mvMat = new Matrix4f(); // model-view matrix\r\n    private int gTexture;\r\n    private ImportedModel myModel;\r\n    private int numObjVertices;\r\n    \r\n    private boolean keyPressedForward = false,\r\n            keyPressedBackward = false,\r\n            keyPressedMoveRight = false,\r\n            keyPressedMoveLeft = false,\r\n            keyPressedTurnRight = false,\r\n            keyPressedTurnLeft = false,\r\n            keyPressedSpace = false,\r\n            keyPressedControl = false,\r\n            keyPressedShift = false;\r\n    private final ArrayList&lt;Float&gt; vertexValues = new ArrayList&lt;&gt;();\r\n    private final ArrayList&lt;Float&gt; stVals = new ArrayList&lt;&gt;();\r\n    private final ArrayList&lt;Float&gt; normalValues = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n    private final ArrayList&lt;Float&gt; triangleVerts = new ArrayList&lt;&gt;();\r\n    private final ArrayList&lt;Float&gt; textureCoordinates = new ArrayList&lt;&gt;();\r\n    private final ArrayList&lt;Float&gt; normals = new ArrayList&lt;&gt;();\r\n    \r\n    private List&lt;float[]&gt; vertices = new ArrayList&lt;float[]&gt;();\r\n    private List&lt;int[]&gt; faces =new ArrayList&lt;int[]&gt;();\r\n    \r\n    \r\n    \r\n    public WalkingTour() {\r\n        setTitle(windowTitle);\r\n        setSize(windowWidth, windowHeight);\r\n        glCanvas = new GLCanvas(new GLCapabilities(GLProfile.getMaxProgrammableCore(true)));\r\n        glCanvas.addGLEventListener(this);\r\n        this.add(glCanvas);\r\n        this.setVisible(true);\r\n        Animator animator = new Animator(glCanvas);\r\n        animator.start();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        new WalkingTour();\r\n    }\r\n    \r\n    \r\n    \r\n    @Override\r\n    public void init(GLAutoDrawable glAutoDrawable) {\r\n    \r\n        myModel = new ImportedModel(&quot;hwk5Model.obj&quot;);\r\n    \r\n        GL4 gl = (GL4) GLContext.getCurrentGL();\r\n    \r\n        numObjVertices = myModel.getNumVertices();\r\n        Vector3f[ ] vertices = myModel.getVertices();\r\n        Vector2f[ ] texCoords = myModel.getTexCoords();\r\n        Vector3f[ ] normals = myModel.getNormals();\r\n        float[ ] pvalues = new float[numObjVertices*3];        // vertex positions\r\n        float[ ] tvalues = new float[numObjVertices*2];        // texture coordinates\r\n        float[ ] nvalues = new float[numObjVertices*3];        // normal vectors\r\n    \r\n        for (int i=0; i&lt;numObjVertices; i++)\r\n        {   pvalues[i*3]   = (float) (vertices[i]).x();\r\n            pvalues[i*3+1]     = (float) (vertices[i]).y();\r\n            pvalues[i*3+2]  = (float) (vertices[i]).z();\r\n            tvalues[i*2]    = (float) (texCoords[i]).x();\r\n            tvalues[i*2+1]  = (float) (texCoords[i]).y();\r\n            nvalues[i*3]    = (float) (normals[i]).x();\r\n            nvalues[i*3+1]  = (float) (normals[i]).y();\r\n            nvalues[i*3+2]  = (float) (normals[i]).z();\r\n        }\r\n    \r\n        // VBO for vertex locations\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\r\n        FloatBuffer vertBuf = Buffers.newDirectFloatBuffer(pvalues);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, vertBuf.limit()*4, vertBuf, GL_STATIC_DRAW);\r\n    // VBO for texture coordinates\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[3]);\r\n        FloatBuffer texBuf = Buffers.newDirectFloatBuffer(tvalues);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, texBuf.limit()*4, texBuf, GL_STATIC_DRAW);\r\n    // VBO for normal vectors\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[4]);\r\n        FloatBuffer norBuf = Buffers.newDirectFloatBuffer(nvalues);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, norBuf.limit()*4,norBuf, GL_STATIC_DRAW);\r\n    \r\n    \r\n        renderingProgram = Utils.createShaderProgram(vertexShaderFile, fragmentShaderFile);\r\n        gTexture = Utils.loadTexture(&quot;groundTexture.jpeg&quot;);\r\n        gl.glActiveTexture(GL_TEXTURE0);\r\n        gl.glBindTexture(GL_TEXTURE_2D, gTexture);\r\n        \r\n    \r\n        float[] floor = {\r\n                -2000.0f, -50.0f, -2000.0f, -2000.0f, -50.0f, 2000.0f, 2000.0f, -50.0f, 2000.0f,\r\n                -2000.0f, -50.0f, -2000.0f, 2000.0f, -50.0f, -2000.0f, 2000.0f, -50.0f, 2000.0f,\r\n        };\r\n    \r\n        gl.glGenVertexArrays(vao.length, vao, 0);\r\n        gl.glBindVertexArray(vao[0]);\r\n        gl.glGenBuffers(vbo.length, vbo, 0);\r\n    \r\n        FloatBuffer corBuf = Buffers.newDirectFloatBuffer(floor);\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, corBuf.limit() * 4L, corBuf, GL_STATIC_DRAW);\r\n    \r\n        float[] textureCoords = {\r\n                0f, 1f, 0f, 0f, 1f, 0f,\r\n                0f, 1f, 1f, 1f, 1f, 0f\r\n        };\r\n    \r\n        FloatBuffer textureBuffer = Buffers.newDirectFloatBuffer(textureCoords);\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n        gl.glBufferData(GL_ARRAY_BUFFER, textureBuffer.limit() * 4L, textureBuffer, GL_STATIC_DRAW);\r\n    \r\n    \r\n        this.addKeyListener(this);\r\n    }\r\n    \r\n    @Override\r\n    public void dispose(GLAutoDrawable glAutoDrawable) {\r\n        this.removeKeyListener(this);\r\n    }\r\n    \r\n    @Override\r\n    public void display(GLAutoDrawable glAutoDrawable) {\r\n        GL4 gl = (GL4) GLContext.getCurrentGL();\r\n    \r\n        gl.glClear(GL_COLOR_BUFFER_BIT);\r\n        gl.glClear(GL_DEPTH_BUFFER_BIT);\r\n        gl.glUseProgram(renderingProgram);\r\n    \r\n        int mvLoc = gl.glGetUniformLocation(renderingProgram, &quot;mv_matrix&quot;);\r\n        int pLoc = gl.glGetUniformLocation(renderingProgram, &quot;p_matrix&quot;);\r\n    \r\n        float aspect = (float) glCanvas.getWidth() / (float) glCanvas.getHeight();\r\n        pMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 5000.0f);\r\n        gl.glUniformMatrix4fv(pLoc, 1, false, pMat.get(values));\r\n    \r\n        vMat.translate(0f,0f,0f);\r\n    \r\n        mvMat.identity();\r\n        mvMat.mul(vMat);\r\n        mvMat.mul(mMat);\r\n    \r\n        gl.glUniformMatrix4fv(mvLoc, 1, false, mvMat.get(values));\r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\r\n        gl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\r\n        gl.glEnableVertexAttribArray(0);\r\n        gl.glEnable(GL_DEPTH_TEST);\r\n        gl.glDepthFunc(GL_LEQUAL);\r\n    \r\n        gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\r\n        gl.glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\r\n        gl.glEnableVertexAttribArray(1);\r\n    \r\n        gl.glBindTexture(GL_TEXTURE_2D, gTexture);\r\n        gl.glDrawArrays(GL_TRIANGLES, 0, 6);\r\n        gl.glDrawArrays(GL_TRIANGLES, 0, myModel.getNumVertices());\r\n    \r\n        if (keyPressedForward) {\r\n            vMat.translateLocal(0f, 0f, 0.1f);\r\n        }\r\n        if (keyPressedBackward) {\r\n            vMat.translateLocal(0f,0f,-0.1f);\r\n        }\r\n        if (keyPressedMoveLeft) {\r\n            vMat.translateLocal(0.1f,0f,0f);\r\n        }\r\n        if (keyPressedMoveRight) {\r\n            vMat.translateLocal(-0.1f,0f,0f);\r\n        }\r\n        if (keyPressedTurnLeft) {\r\n            vMat.rotateLocalY(-0.001f);\r\n        }\r\n        if (keyPressedTurnRight) {\r\n            vMat.rotateLocalY(0.001f);\r\n        }\r\n        if (keyPressedSpace) {\r\n            vMat.translateLocal(0f,-0.1f,0f);\r\n        }\r\n        if (keyPressedControl) {\r\n            vMat.translateLocal(0f,0.1f,0f);\r\n        }\r\n        if (keyPressedForward &amp;&amp; keyPressedShift){\r\n            vMat.translateLocal(0f,0f,0.2f);\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void reshape(GLAutoDrawable glAutoDrawable, int i, int i1, int i2, int i3) {\r\n    \r\n    }\r\n    \r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n        //do nothing\r\n    }\r\n    \r\n    \r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        int keyCode = e.getKeyCode();\r\n        if (keyCode == KeyEvent.VK_UP || keyCode == KeyEvent.VK_W) {\r\n            // Move camera forward\r\n            keyPressedForward = true;\r\n        } else if (keyCode == KeyEvent.VK_DOWN || keyCode == KeyEvent.VK_S) {\r\n            // Move camera backward\r\n            keyPressedBackward = true;\r\n        } else if (keyCode == KeyEvent.VK_LEFT || keyCode == KeyEvent.VK_A) {\r\n            // Move camera to the left\r\n            keyPressedMoveLeft = true;\r\n        } else if (keyCode == KeyEvent.VK_RIGHT || keyCode == KeyEvent.VK_D) {\r\n            // Move camera to the right\r\n            keyPressedMoveRight = true;\r\n        } else if (keyCode == KeyEvent.VK_HOME || keyCode == KeyEvent.VK_Q) {\r\n            // Turn camera to the left\r\n            keyPressedTurnLeft = true;\r\n        } else if (keyCode == KeyEvent.VK_PAGE_UP || keyCode == KeyEvent.VK_E) {\r\n            // Turn camera to the right\r\n            keyPressedTurnRight = true;\r\n        } else if (keyCode == KeyEvent.VK_SPACE) {\r\n            // Move camera up\r\n            keyPressedSpace = true;\r\n        } else if (keyCode == KeyEvent.VK_CONTROL) {\r\n            // Move camera down\r\n            keyPressedControl = true;\r\n        } else if (keyCode == KeyEvent.VK_SHIFT) {\r\n            //hold shift to &quot;sprint&quot;\r\n            //can only sprint while forward buttons are pressed\r\n            keyPressedShift = true;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        int keyCode = e.getKeyCode();\r\n            if (keyCode == KeyEvent.VK_UP || keyCode == KeyEvent.VK_W) {\r\n                // Move camera forward\r\n                keyPressedForward = false;\r\n            } else if (keyCode == KeyEvent.VK_DOWN || keyCode == KeyEvent.VK_S) {\r\n                // Move camera backward\r\n                keyPressedBackward = false;\r\n            } else if (keyCode == KeyEvent.VK_LEFT || keyCode == KeyEvent.VK_A) {\r\n                // Move camera to the left\r\n                keyPressedMoveLeft = false;\r\n            } else if (keyCode == KeyEvent.VK_RIGHT || keyCode == KeyEvent.VK_D) {\r\n                // Move camera to the right\r\n                keyPressedMoveRight = false;\r\n            } else if (keyCode == KeyEvent.VK_HOME || keyCode == KeyEvent.VK_Q) {\r\n                // Turn camera to the left\r\n                keyPressedTurnLeft = false;\r\n            } else if (keyCode == KeyEvent.VK_PAGE_UP || keyCode == KeyEvent.VK_E) {\r\n                // Turn camera to the right\r\n                keyPressedTurnRight = false;\r\n            } else if (keyCode == KeyEvent.VK_SPACE) {\r\n                // Move camera up\r\n                keyPressedSpace = false;\r\n            } else if (keyCode == KeyEvent.VK_CONTROL) {\r\n                // Move Camera down\r\n                keyPressedControl = false;\r\n            } else if (keyCode == KeyEvent.VK_SHIFT) {\r\n                //hold shift to &quot;sprint&quot;\r\n                keyPressedShift = false;\r\n            }\r\n    }\r\n    }\r\n\r\n    import org.joml.Vector2f;\r\n    import org.joml.Vector3f;\r\n    \r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.util.ArrayList;\r\n    \r\n    public class ImportedModel {\r\n    private Vector3f[ ] vertices;\r\n    private Vector2f[ ] texCoords;\r\n    private Vector3f[] normals;\r\n    private int numVertices;\r\n    \r\n    public ImportedModel(String filename) {\r\n        ModelImporter modelImporter = new ModelImporter();\r\n    \r\n        try {\r\n            modelImporter.parseOBJ(filename);   // uses modelImporter to get vertex information\r\n            numVertices = modelImporter.getNumVertices();\r\n            float[ ] verts = modelImporter.getVertices();\r\n            float[ ] tcs = modelImporter.getTextureCoordinates();\r\n            float[ ] norm = modelImporter.getNormals();\r\n    \r\n            this.vertices = new Vector3f[numVertices];\r\n            this.texCoords = new Vector2f[numVertices];\r\n            this.normals = new Vector3f[numVertices];\r\n    \r\n            for(int i=0; i&lt;vertices.length; i++)\r\n            { vertices[i] = new Vector3f();\r\n                vertices[i].set(verts[i*3], verts[i*3+1], verts[i*3+2]);\r\n                texCoords[i] = new Vector2f();\r\n                texCoords[i].set(tcs[i*2], tcs[i*2+1]);\r\n                this.normals[i] = new Vector3f();\r\n                this.normals[i].set(norm[i*3], norm[i*3+1], norm[i*3+2]);\r\n            }\r\n        } catch (IOException e)\r\n        { e.printStackTrace();\r\n        } }\r\n    public int getNumVertices() { return numVertices; } // accessors\r\n    public Vector3f[ ] getVertices() { return vertices; }\r\n    public Vector2f[ ] getTexCoords() { return texCoords; }\r\n    public Vector3f[ ] getNormals() { return normals; }\r\n    \r\n    private static class ModelImporter\r\n    { // values as read in from OBJ file\r\n        private final ArrayList&lt;Float&gt; vertVals = new ArrayList&lt;&gt;();\r\n        private final ArrayList&lt;Float&gt; stVals = new ArrayList&lt;&gt;();\r\n        private final ArrayList&lt;Float&gt; normVals = new ArrayList&lt;&gt;();\r\n        // values stored for later use as vertex attributes\r\n        private final ArrayList&lt;Float&gt; triangleVerts = new ArrayList&lt;&gt;();\r\n        private final ArrayList&lt;Float&gt; textureCoords = new ArrayList&lt;&gt;();\r\n        private final ArrayList&lt;Float&gt; normals = new ArrayList&lt;&gt;();\r\n        public void parseOBJ(String filename) throws IOException\r\n        {   InputStream input = Files.newInputStream(new File(filename).toPath());\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(input));\r\n            String line;\r\n            while ((line = br.readLine()) != null)\r\n            {    if(line.startsWith(&quot;v&quot;))        // vertex position (&quot;v&quot; case)\r\n            {   for(String s : (line.substring(2)).split(&quot; &quot;))\r\n            {   vertVals.add(Float.valueOf(s));    // extract the vertex position values\r\n            } }\r\n            else if(line.startsWith(&quot;vt&quot;))        // texture coordinates (&quot;vt&quot; case)\r\n            {   for(String s : (line.substring(3)).split(&quot; &quot;))\r\n            {   stVals.add(Float.valueOf(s));     // extract the texture coordinate values\r\n            } }\r\n            else if(line.startsWith(&quot;vn&quot;))        // vertex normals (&quot;vn&quot; case)\r\n            {   for(String s : (line.substring(3)).split(&quot; &quot;))\r\n            {   normVals.add(Float.valueOf(s));    // extract the normal vector values\r\n            } }\r\n            else if(line.startsWith(&quot;f&quot;))         // triangle faces (&quot;f&quot; case)\r\n            {   for(String s : (line.substring(2)).split(&quot; &quot;))\r\n            {   String v = s.split(&quot;/&quot;)[0];        // extract triangle face references\r\n                String vt = s.split(&quot;/&quot;)[1];\r\n                String vn = s.split(&quot;/&quot;)[2];\r\n                int vertRef = (Integer.parseInt(v)-1)*3;\r\n                int tcRef = (Integer.parseInt(vt)-1)*2;\r\n                int normRef = (Integer.parseInt(vn)-1)*3;\r\n                triangleVerts.add(vertVals.get(vertRef));   // build array of vertices\r\n                triangleVerts.add(vertVals.get(vertRef+1));\r\n                triangleVerts.add(vertVals.get(vertRef+2));\r\n                textureCoords.add(stVals.get(tcRef));   // build array of\r\n                textureCoords.add(stVals.get(tcRef+1));     // texture coordinates.\r\n                normals.add(normVals.get(normRef));     // and normals\r\n                normals.add(normVals.get(normRef+1));\r\n                normals.add(normVals.get(normRef+2));\r\n            } }}\r\n            System.out.println(vertVals);\r\n            System.out.println(stVals);\r\n            System.out.println(normVals);\r\n            input.close();\r\n        }\r\n        // accessors for retrieving the number of vertices, the vertices themselves,\r\n        // and the corresponding texture coordinates and normals (only called once per model)\r\n        public int getNumVertices() { return (triangleVerts.size()/3); }\r\n        public float[ ] getVertices()\r\n        {   float[ ] p = new float[triangleVerts.size()];\r\n            for(int i = 0; i &lt; triangleVerts.size(); i++)\r\n            { p[i] = triangleVerts.get(i);\r\n            }\r\n            return p;\r\n        }\r\n    \r\n        public float[] getTextureCoordinates() {\r\n            float[] p = new float[textureCoords.size()];\r\n            for (int i = 0; i &lt; textureCoords.size(); i++) {\r\n                p[i] = textureCoords.get(i);\r\n            }\r\n            return p;\r\n    }\r\n        public float[] getNormals() {\r\n            float[ ] p = new float[normals.size()];\r\n            for(int i = 0; i &lt; normals.size(); i++)\r\n            { p[i] = normals.get(i);\r\n            }\r\n            return p;\r\n        }\r\n        // similar accessors for texture coordinates and normal vectors go here\r\n    } }\r\n\r\nHere are the errors I am getting:\r\n\r\n```\r\nException in thread &quot;main-AWTAnimator#00&quot; com.jogamp.opengl.util.AnimatorBase$UncaughtAnimatorException: java.lang.RuntimeException: com.jogamp.opengl.GLException: Caught NumberFormatException: empty String on thread AWT-EventQueue-0\r\n\tat com.jogamp.opengl.util.AWTAnimatorImpl.display(AWTAnimatorImpl.java:92)\r\n\tat com.jogamp.opengl.util.AnimatorBase.display(AnimatorBase.java:452)\r\n\tat com.jogamp.opengl.util.Animator$MainLoop.run(Animator.java:204)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.RuntimeException: com.jogamp.opengl.GLException: Caught NumberFormatException: empty String on thread AWT-EventQueue-0\r\n\tat com.jogamp.common.util.awt.AWTEDTExecutor.invoke(AWTEDTExecutor.java:58)\r\n\tat jogamp.opengl.awt.AWTThreadingPlugin.invokeOnOpenGLThread(AWTThreadingPlugin.java:103)\r\n\tat jogamp.opengl.ThreadingImpl.invokeOnOpenGLThread(ThreadingImpl.java:201)\r\n\tat com.jogamp.opengl.Threading.invokeOnOpenGLThread(Threading.java:202)\r\n\tat com.jogamp.opengl.Threading.invoke(Threading.java:221)\r\n\tat com.jogamp.opengl.awt.GLCanvas.display(GLCanvas.java:505)\r\n\tat com.jogamp.opengl.util.AWTAnimatorImpl.display(AWTAnimatorImpl.java:81)\r\n\t... 3 more\r\nCaused by: com.jogamp.opengl.GLException: Caught NumberFormatException: empty String on thread AWT-EventQueue-0\r\n\tat com.jogamp.opengl.GLException.newGLException(GLException.java:76)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1327)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\r\n\tat com.jogamp.opengl.awt.GLCanvas$12.run(GLCanvas.java:1438)\r\n\tat java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:301)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: java.lang.NumberFormatException: empty String\r\n\tat sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)\r\n\tat sun.misc.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\r\n\tat java.lang.Float.parseFloat(Float.java:451)\r\n\tat java.lang.Float.valueOf(Float.java:416)\r\n\tat ImportedModel$ModelImporter.parseOBJ(ImportedModel.java:60)\r\n\tat ImportedModel.&lt;init&gt;(ImportedModel.java:18)\r\n\tat WalkingTour.init(WalkingTour.java:83)\r\n\tat jogamp.opengl.GLDrawableHelper.init(GLDrawableHelper.java:644)\r\n\tat jogamp.opengl.GLDrawableHelper.init(GLDrawableHelper.java:667)\r\n\tat com.jogamp.opengl.awt.GLCanvas$10.run(GLCanvas.java:1407)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1291)\r\n\t... 16 more\r\nException in thread &quot;AWT-EventQueue-0&quot; com.jogamp.opengl.GLException: Caught GLException: array vertex_buffer_object must be bound to call this method on thread AWT-EventQueue-0\r\n\tat com.jogamp.opengl.GLException.newGLException(GLException.java:76)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1327)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\r\n\tat com.jogamp.opengl.awt.GLCanvas$12.run(GLCanvas.java:1438)\r\n\tat com.jogamp.opengl.Threading.invoke(Threading.java:223)\r\n\tat com.jogamp.opengl.awt.GLCanvas.display(GLCanvas.java:505)\r\n\tat com.jogamp.opengl.awt.GLCanvas.paint(GLCanvas.java:559)\r\n\tat sun.awt.RepaintArea.paintComponent(RepaintArea.java:264)\r\n\tat sun.lwawt.LWRepaintArea.paintComponent(LWRepaintArea.java:59)\r\n\tat sun.awt.RepaintArea.paint(RepaintArea.java:240)\r\n\tat sun.lwawt.LWComponentPeer.handleJavaPaintEvent(LWComponentPeer.java:1314)\r\n\tat sun.lwawt.LWComponentPeer.handleEvent(LWComponentPeer.java:1198)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4965)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: com.jogamp.opengl.GLException: array vertex_buffer_object must be bound to call this method\r\n\tat jogamp.opengl.gl4.GL4bcImpl.checkBufferObject(GL4bcImpl.java:40621)\r\n\tat jogamp.opengl.gl4.GL4bcImpl.checkArrayVBOBound(GL4bcImpl.java:40653)\r\n\tat jogamp.opengl.gl4.GL4bcImpl.glVertexAttribPointer(GL4bcImpl.java:12429)\r\n\tat WalkingTour.display(WalkingTour.java:180)\r\n\tat jogamp.opengl.GLDrawableHelper.displayImpl(GLDrawableHelper.java:692)\r\n\tat jogamp.opengl.GLDrawableHelper.display(GLDrawableHelper.java:674)\r\n\tat com.jogamp.opengl.awt.GLCanvas$11.run(GLCanvas.java:1424)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1293)\r\n\t... 30 more\r\nException in thread &quot;AWT-EventQueue-0&quot; com.jogamp.opengl.GLException: Caught GLException: array vertex_buffer_object must be bound to call this method on thread AWT-EventQueue-0\r\n\tat com.jogamp.opengl.GLException.newGLException(GLException.java:76)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1327)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\r\n\tat com.jogamp.opengl.awt.GLCanvas$12.run(GLCanvas.java:1438)\r\n\tat com.jogamp.opengl.Threading.invoke(Threading.java:223)\r\n\tat com.jogamp.opengl.awt.GLCanvas.display(GLCanvas.java:505)\r\n\tat com.jogamp.opengl.awt.GLCanvas.paint(GLCanvas.java:559)\r\n\tat com.jogamp.opengl.awt.GLCanvas.update(GLCanvas.java:866)\r\n\tat sun.awt.RepaintArea.updateComponent(RepaintArea.java:255)\r\n\tat sun.lwawt.LWRepaintArea.updateComponent(LWRepaintArea.java:47)\r\n\tat sun.awt.RepaintArea.paint(RepaintArea.java:232)\r\n\tat sun.lwawt.LWComponentPeer.handleJavaPaintEvent(LWComponentPeer.java:1314)\r\n\tat sun.lwawt.LWComponentPeer.handleEvent(LWComponentPeer.java:1198)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4965)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: com.jogamp.opengl.GLException: array vertex_buffer_object must be bound to call this method\r\n\tat jogamp.opengl.gl4.GL4bcImpl.checkBufferObject(GL4bcImpl.java:40621)\r\n\tat jogamp.opengl.gl4.GL4bcImpl.checkArrayVBOBound(GL4bcImpl.java:40653)\r\n\tat jogamp.opengl.gl4.GL4bcImpl.glVertexAttribPointer(GL4bcImpl.java:12429)\r\n\tat WalkingTour.display(WalkingTour.java:180)\r\n\tat jogamp.opengl.GLDrawableHelper.displayImpl(GLDrawableHelper.java:692)\r\n\tat jogamp.opengl.GLDrawableHelper.display(GLDrawableHelper.java:674)\r\n\tat com.jogamp.opengl.awt.GLCanvas$11.run(GLCanvas.java:1424)\r\n\tat jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1293)\r\n\t... 31 more\r\n```\r\n\r\nAny help would be appreciated.\r\n\r\nTrying to parse a .obj model and use the extracted information to load my model into a JOGL program.","title":"Errors loading Blender Wavefront Model","body":"<p>Hopefully someone can help me. I am trying to load a model I made in Blender into my JOGL program. I was able to manual models working and set up my window but there is something wrong with parsing the .obj wavefront file. No errors in my code that I can see, the ImportedModel class came from a textbook.</p>\n<p>Here is the code:</p>\n<pre><code>import com.jogamp.common.nio.Buffers;\nimport com.jogamp.opengl.*;\nimport com.jogamp.opengl.awt.GLCanvas;\nimport com.jogamp.opengl.util.Animator;\nimport org.joml.Matrix4f;\nimport org.joml.Vector2f;\nimport org.joml.Vector3f;\n\nimport javax.swing.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.nio.FloatBuffer;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static com.jogamp.opengl.GL.*;\n\n\n\npublic class WalkingTour extends JFrame implements GLEventListener, KeyListener {\n\n\nprivate static final int windowWidth = 800, windowHeight = 600;\nprivate static final String windowTitle = &quot;Walking Tour&quot;;\nprivate static final String vertexShaderFile = &quot;src/walkingtour-vertex.glsl&quot;,\n        fragmentShaderFile = &quot;src/walkingtour-fragment.glsl&quot;;\nprivate final GLCanvas glCanvas;\nprivate int renderingProgram;\nprivate final int[] vao = new int[1];\nprivate final int[] vbo = new int[6];\nprivate final FloatBuffer values = Buffers.newDirectFloatBuffer(16);\nprivate final Matrix4f pMat = new Matrix4f();  // perspective matrix\nprivate final Matrix4f vMat = new Matrix4f();  // view matrix\nprivate final Matrix4f mMat = new Matrix4f();  // model matrix\nprivate final Matrix4f mvMat = new Matrix4f(); // model-view matrix\nprivate int gTexture;\nprivate ImportedModel myModel;\nprivate int numObjVertices;\n\nprivate boolean keyPressedForward = false,\n        keyPressedBackward = false,\n        keyPressedMoveRight = false,\n        keyPressedMoveLeft = false,\n        keyPressedTurnRight = false,\n        keyPressedTurnLeft = false,\n        keyPressedSpace = false,\n        keyPressedControl = false,\n        keyPressedShift = false;\nprivate final ArrayList&lt;Float&gt; vertexValues = new ArrayList&lt;&gt;();\nprivate final ArrayList&lt;Float&gt; stVals = new ArrayList&lt;&gt;();\nprivate final ArrayList&lt;Float&gt; normalValues = new ArrayList&lt;&gt;();\n\n\nprivate final ArrayList&lt;Float&gt; triangleVerts = new ArrayList&lt;&gt;();\nprivate final ArrayList&lt;Float&gt; textureCoordinates = new ArrayList&lt;&gt;();\nprivate final ArrayList&lt;Float&gt; normals = new ArrayList&lt;&gt;();\n\nprivate List&lt;float[]&gt; vertices = new ArrayList&lt;float[]&gt;();\nprivate List&lt;int[]&gt; faces =new ArrayList&lt;int[]&gt;();\n\n\n\npublic WalkingTour() {\n    setTitle(windowTitle);\n    setSize(windowWidth, windowHeight);\n    glCanvas = new GLCanvas(new GLCapabilities(GLProfile.getMaxProgrammableCore(true)));\n    glCanvas.addGLEventListener(this);\n    this.add(glCanvas);\n    this.setVisible(true);\n    Animator animator = new Animator(glCanvas);\n    animator.start();\n}\n\npublic static void main(String[] args) {\n    new WalkingTour();\n}\n\n\n\n@Override\npublic void init(GLAutoDrawable glAutoDrawable) {\n\n    myModel = new ImportedModel(&quot;hwk5Model.obj&quot;);\n\n    GL4 gl = (GL4) GLContext.getCurrentGL();\n\n    numObjVertices = myModel.getNumVertices();\n    Vector3f[ ] vertices = myModel.getVertices();\n    Vector2f[ ] texCoords = myModel.getTexCoords();\n    Vector3f[ ] normals = myModel.getNormals();\n    float[ ] pvalues = new float[numObjVertices*3];        // vertex positions\n    float[ ] tvalues = new float[numObjVertices*2];        // texture coordinates\n    float[ ] nvalues = new float[numObjVertices*3];        // normal vectors\n\n    for (int i=0; i&lt;numObjVertices; i++)\n    {   pvalues[i*3]   = (float) (vertices[i]).x();\n        pvalues[i*3+1]     = (float) (vertices[i]).y();\n        pvalues[i*3+2]  = (float) (vertices[i]).z();\n        tvalues[i*2]    = (float) (texCoords[i]).x();\n        tvalues[i*2+1]  = (float) (texCoords[i]).y();\n        nvalues[i*3]    = (float) (normals[i]).x();\n        nvalues[i*3+1]  = (float) (normals[i]).y();\n        nvalues[i*3+2]  = (float) (normals[i]).z();\n    }\n\n    // VBO for vertex locations\n    gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[2]);\n    FloatBuffer vertBuf = Buffers.newDirectFloatBuffer(pvalues);\n    gl.glBufferData(GL_ARRAY_BUFFER, vertBuf.limit()*4, vertBuf, GL_STATIC_DRAW);\n// VBO for texture coordinates\n    gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[3]);\n    FloatBuffer texBuf = Buffers.newDirectFloatBuffer(tvalues);\n    gl.glBufferData(GL_ARRAY_BUFFER, texBuf.limit()*4, texBuf, GL_STATIC_DRAW);\n// VBO for normal vectors\n    gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[4]);\n    FloatBuffer norBuf = Buffers.newDirectFloatBuffer(nvalues);\n    gl.glBufferData(GL_ARRAY_BUFFER, norBuf.limit()*4,norBuf, GL_STATIC_DRAW);\n\n\n    renderingProgram = Utils.createShaderProgram(vertexShaderFile, fragmentShaderFile);\n    gTexture = Utils.loadTexture(&quot;groundTexture.jpeg&quot;);\n    gl.glActiveTexture(GL_TEXTURE0);\n    gl.glBindTexture(GL_TEXTURE_2D, gTexture);\n    \n\n    float[] floor = {\n            -2000.0f, -50.0f, -2000.0f, -2000.0f, -50.0f, 2000.0f, 2000.0f, -50.0f, 2000.0f,\n            -2000.0f, -50.0f, -2000.0f, 2000.0f, -50.0f, -2000.0f, 2000.0f, -50.0f, 2000.0f,\n    };\n\n    gl.glGenVertexArrays(vao.length, vao, 0);\n    gl.glBindVertexArray(vao[0]);\n    gl.glGenBuffers(vbo.length, vbo, 0);\n\n    FloatBuffer corBuf = Buffers.newDirectFloatBuffer(floor);\n    gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n    gl.glBufferData(GL_ARRAY_BUFFER, corBuf.limit() * 4L, corBuf, GL_STATIC_DRAW);\n\n    float[] textureCoords = {\n            0f, 1f, 0f, 0f, 1f, 0f,\n            0f, 1f, 1f, 1f, 1f, 0f\n    };\n\n    FloatBuffer textureBuffer = Buffers.newDirectFloatBuffer(textureCoords);\n    gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n    gl.glBufferData(GL_ARRAY_BUFFER, textureBuffer.limit() * 4L, textureBuffer, GL_STATIC_DRAW);\n\n\n    this.addKeyListener(this);\n}\n\n@Override\npublic void dispose(GLAutoDrawable glAutoDrawable) {\n    this.removeKeyListener(this);\n}\n\n@Override\npublic void display(GLAutoDrawable glAutoDrawable) {\n    GL4 gl = (GL4) GLContext.getCurrentGL();\n\n    gl.glClear(GL_COLOR_BUFFER_BIT);\n    gl.glClear(GL_DEPTH_BUFFER_BIT);\n    gl.glUseProgram(renderingProgram);\n\n    int mvLoc = gl.glGetUniformLocation(renderingProgram, &quot;mv_matrix&quot;);\n    int pLoc = gl.glGetUniformLocation(renderingProgram, &quot;p_matrix&quot;);\n\n    float aspect = (float) glCanvas.getWidth() / (float) glCanvas.getHeight();\n    pMat.identity().setPerspective((float) Math.toRadians(60.0f), aspect, 0.1f, 5000.0f);\n    gl.glUniformMatrix4fv(pLoc, 1, false, pMat.get(values));\n\n    vMat.translate(0f,0f,0f);\n\n    mvMat.identity();\n    mvMat.mul(vMat);\n    mvMat.mul(mMat);\n\n    gl.glUniformMatrix4fv(mvLoc, 1, false, mvMat.get(values));\n    gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[0]);\n    gl.glVertexAttribPointer(0, 3, GL_FLOAT, false, 0, 0);\n    gl.glEnableVertexAttribArray(0);\n    gl.glEnable(GL_DEPTH_TEST);\n    gl.glDepthFunc(GL_LEQUAL);\n\n    gl.glBindBuffer(GL_ARRAY_BUFFER, vbo[1]);\n    gl.glVertexAttribPointer(1, 2, GL_FLOAT, false, 0, 0);\n    gl.glEnableVertexAttribArray(1);\n\n    gl.glBindTexture(GL_TEXTURE_2D, gTexture);\n    gl.glDrawArrays(GL_TRIANGLES, 0, 6);\n    gl.glDrawArrays(GL_TRIANGLES, 0, myModel.getNumVertices());\n\n    if (keyPressedForward) {\n        vMat.translateLocal(0f, 0f, 0.1f);\n    }\n    if (keyPressedBackward) {\n        vMat.translateLocal(0f,0f,-0.1f);\n    }\n    if (keyPressedMoveLeft) {\n        vMat.translateLocal(0.1f,0f,0f);\n    }\n    if (keyPressedMoveRight) {\n        vMat.translateLocal(-0.1f,0f,0f);\n    }\n    if (keyPressedTurnLeft) {\n        vMat.rotateLocalY(-0.001f);\n    }\n    if (keyPressedTurnRight) {\n        vMat.rotateLocalY(0.001f);\n    }\n    if (keyPressedSpace) {\n        vMat.translateLocal(0f,-0.1f,0f);\n    }\n    if (keyPressedControl) {\n        vMat.translateLocal(0f,0.1f,0f);\n    }\n    if (keyPressedForward &amp;&amp; keyPressedShift){\n        vMat.translateLocal(0f,0f,0.2f);\n    }\n\n\n}\n\n@Override\npublic void reshape(GLAutoDrawable glAutoDrawable, int i, int i1, int i2, int i3) {\n\n}\n\n@Override\npublic void keyTyped(KeyEvent e) {\n    //do nothing\n}\n\n\n@Override\npublic void keyPressed(KeyEvent e) {\n    int keyCode = e.getKeyCode();\n    if (keyCode == KeyEvent.VK_UP || keyCode == KeyEvent.VK_W) {\n        // Move camera forward\n        keyPressedForward = true;\n    } else if (keyCode == KeyEvent.VK_DOWN || keyCode == KeyEvent.VK_S) {\n        // Move camera backward\n        keyPressedBackward = true;\n    } else if (keyCode == KeyEvent.VK_LEFT || keyCode == KeyEvent.VK_A) {\n        // Move camera to the left\n        keyPressedMoveLeft = true;\n    } else if (keyCode == KeyEvent.VK_RIGHT || keyCode == KeyEvent.VK_D) {\n        // Move camera to the right\n        keyPressedMoveRight = true;\n    } else if (keyCode == KeyEvent.VK_HOME || keyCode == KeyEvent.VK_Q) {\n        // Turn camera to the left\n        keyPressedTurnLeft = true;\n    } else if (keyCode == KeyEvent.VK_PAGE_UP || keyCode == KeyEvent.VK_E) {\n        // Turn camera to the right\n        keyPressedTurnRight = true;\n    } else if (keyCode == KeyEvent.VK_SPACE) {\n        // Move camera up\n        keyPressedSpace = true;\n    } else if (keyCode == KeyEvent.VK_CONTROL) {\n        // Move camera down\n        keyPressedControl = true;\n    } else if (keyCode == KeyEvent.VK_SHIFT) {\n        //hold shift to &quot;sprint&quot;\n        //can only sprint while forward buttons are pressed\n        keyPressedShift = true;\n    }\n}\n\n@Override\npublic void keyReleased(KeyEvent e) {\n    int keyCode = e.getKeyCode();\n        if (keyCode == KeyEvent.VK_UP || keyCode == KeyEvent.VK_W) {\n            // Move camera forward\n            keyPressedForward = false;\n        } else if (keyCode == KeyEvent.VK_DOWN || keyCode == KeyEvent.VK_S) {\n            // Move camera backward\n            keyPressedBackward = false;\n        } else if (keyCode == KeyEvent.VK_LEFT || keyCode == KeyEvent.VK_A) {\n            // Move camera to the left\n            keyPressedMoveLeft = false;\n        } else if (keyCode == KeyEvent.VK_RIGHT || keyCode == KeyEvent.VK_D) {\n            // Move camera to the right\n            keyPressedMoveRight = false;\n        } else if (keyCode == KeyEvent.VK_HOME || keyCode == KeyEvent.VK_Q) {\n            // Turn camera to the left\n            keyPressedTurnLeft = false;\n        } else if (keyCode == KeyEvent.VK_PAGE_UP || keyCode == KeyEvent.VK_E) {\n            // Turn camera to the right\n            keyPressedTurnRight = false;\n        } else if (keyCode == KeyEvent.VK_SPACE) {\n            // Move camera up\n            keyPressedSpace = false;\n        } else if (keyCode == KeyEvent.VK_CONTROL) {\n            // Move Camera down\n            keyPressedControl = false;\n        } else if (keyCode == KeyEvent.VK_SHIFT) {\n            //hold shift to &quot;sprint&quot;\n            keyPressedShift = false;\n        }\n}\n}\n\nimport org.joml.Vector2f;\nimport org.joml.Vector3f;\n\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.util.ArrayList;\n\npublic class ImportedModel {\nprivate Vector3f[ ] vertices;\nprivate Vector2f[ ] texCoords;\nprivate Vector3f[] normals;\nprivate int numVertices;\n\npublic ImportedModel(String filename) {\n    ModelImporter modelImporter = new ModelImporter();\n\n    try {\n        modelImporter.parseOBJ(filename);   // uses modelImporter to get vertex information\n        numVertices = modelImporter.getNumVertices();\n        float[ ] verts = modelImporter.getVertices();\n        float[ ] tcs = modelImporter.getTextureCoordinates();\n        float[ ] norm = modelImporter.getNormals();\n\n        this.vertices = new Vector3f[numVertices];\n        this.texCoords = new Vector2f[numVertices];\n        this.normals = new Vector3f[numVertices];\n\n        for(int i=0; i&lt;vertices.length; i++)\n        { vertices[i] = new Vector3f();\n            vertices[i].set(verts[i*3], verts[i*3+1], verts[i*3+2]);\n            texCoords[i] = new Vector2f();\n            texCoords[i].set(tcs[i*2], tcs[i*2+1]);\n            this.normals[i] = new Vector3f();\n            this.normals[i].set(norm[i*3], norm[i*3+1], norm[i*3+2]);\n        }\n    } catch (IOException e)\n    { e.printStackTrace();\n    } }\npublic int getNumVertices() { return numVertices; } // accessors\npublic Vector3f[ ] getVertices() { return vertices; }\npublic Vector2f[ ] getTexCoords() { return texCoords; }\npublic Vector3f[ ] getNormals() { return normals; }\n\nprivate static class ModelImporter\n{ // values as read in from OBJ file\n    private final ArrayList&lt;Float&gt; vertVals = new ArrayList&lt;&gt;();\n    private final ArrayList&lt;Float&gt; stVals = new ArrayList&lt;&gt;();\n    private final ArrayList&lt;Float&gt; normVals = new ArrayList&lt;&gt;();\n    // values stored for later use as vertex attributes\n    private final ArrayList&lt;Float&gt; triangleVerts = new ArrayList&lt;&gt;();\n    private final ArrayList&lt;Float&gt; textureCoords = new ArrayList&lt;&gt;();\n    private final ArrayList&lt;Float&gt; normals = new ArrayList&lt;&gt;();\n    public void parseOBJ(String filename) throws IOException\n    {   InputStream input = Files.newInputStream(new File(filename).toPath());\n        BufferedReader br = new BufferedReader(new InputStreamReader(input));\n        String line;\n        while ((line = br.readLine()) != null)\n        {    if(line.startsWith(&quot;v&quot;))        // vertex position (&quot;v&quot; case)\n        {   for(String s : (line.substring(2)).split(&quot; &quot;))\n        {   vertVals.add(Float.valueOf(s));    // extract the vertex position values\n        } }\n        else if(line.startsWith(&quot;vt&quot;))        // texture coordinates (&quot;vt&quot; case)\n        {   for(String s : (line.substring(3)).split(&quot; &quot;))\n        {   stVals.add(Float.valueOf(s));     // extract the texture coordinate values\n        } }\n        else if(line.startsWith(&quot;vn&quot;))        // vertex normals (&quot;vn&quot; case)\n        {   for(String s : (line.substring(3)).split(&quot; &quot;))\n        {   normVals.add(Float.valueOf(s));    // extract the normal vector values\n        } }\n        else if(line.startsWith(&quot;f&quot;))         // triangle faces (&quot;f&quot; case)\n        {   for(String s : (line.substring(2)).split(&quot; &quot;))\n        {   String v = s.split(&quot;/&quot;)[0];        // extract triangle face references\n            String vt = s.split(&quot;/&quot;)[1];\n            String vn = s.split(&quot;/&quot;)[2];\n            int vertRef = (Integer.parseInt(v)-1)*3;\n            int tcRef = (Integer.parseInt(vt)-1)*2;\n            int normRef = (Integer.parseInt(vn)-1)*3;\n            triangleVerts.add(vertVals.get(vertRef));   // build array of vertices\n            triangleVerts.add(vertVals.get(vertRef+1));\n            triangleVerts.add(vertVals.get(vertRef+2));\n            textureCoords.add(stVals.get(tcRef));   // build array of\n            textureCoords.add(stVals.get(tcRef+1));     // texture coordinates.\n            normals.add(normVals.get(normRef));     // and normals\n            normals.add(normVals.get(normRef+1));\n            normals.add(normVals.get(normRef+2));\n        } }}\n        System.out.println(vertVals);\n        System.out.println(stVals);\n        System.out.println(normVals);\n        input.close();\n    }\n    // accessors for retrieving the number of vertices, the vertices themselves,\n    // and the corresponding texture coordinates and normals (only called once per model)\n    public int getNumVertices() { return (triangleVerts.size()/3); }\n    public float[ ] getVertices()\n    {   float[ ] p = new float[triangleVerts.size()];\n        for(int i = 0; i &lt; triangleVerts.size(); i++)\n        { p[i] = triangleVerts.get(i);\n        }\n        return p;\n    }\n\n    public float[] getTextureCoordinates() {\n        float[] p = new float[textureCoords.size()];\n        for (int i = 0; i &lt; textureCoords.size(); i++) {\n            p[i] = textureCoords.get(i);\n        }\n        return p;\n}\n    public float[] getNormals() {\n        float[ ] p = new float[normals.size()];\n        for(int i = 0; i &lt; normals.size(); i++)\n        { p[i] = normals.get(i);\n        }\n        return p;\n    }\n    // similar accessors for texture coordinates and normal vectors go here\n} }\n</code></pre>\n<p>Here are the errors I am getting:</p>\n<pre><code>Exception in thread &quot;main-AWTAnimator#00&quot; com.jogamp.opengl.util.AnimatorBase$UncaughtAnimatorException: java.lang.RuntimeException: com.jogamp.opengl.GLException: Caught NumberFormatException: empty String on thread AWT-EventQueue-0\n    at com.jogamp.opengl.util.AWTAnimatorImpl.display(AWTAnimatorImpl.java:92)\n    at com.jogamp.opengl.util.AnimatorBase.display(AnimatorBase.java:452)\n    at com.jogamp.opengl.util.Animator$MainLoop.run(Animator.java:204)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.RuntimeException: com.jogamp.opengl.GLException: Caught NumberFormatException: empty String on thread AWT-EventQueue-0\n    at com.jogamp.common.util.awt.AWTEDTExecutor.invoke(AWTEDTExecutor.java:58)\n    at jogamp.opengl.awt.AWTThreadingPlugin.invokeOnOpenGLThread(AWTThreadingPlugin.java:103)\n    at jogamp.opengl.ThreadingImpl.invokeOnOpenGLThread(ThreadingImpl.java:201)\n    at com.jogamp.opengl.Threading.invokeOnOpenGLThread(Threading.java:202)\n    at com.jogamp.opengl.Threading.invoke(Threading.java:221)\n    at com.jogamp.opengl.awt.GLCanvas.display(GLCanvas.java:505)\n    at com.jogamp.opengl.util.AWTAnimatorImpl.display(AWTAnimatorImpl.java:81)\n    ... 3 more\nCaused by: com.jogamp.opengl.GLException: Caught NumberFormatException: empty String on thread AWT-EventQueue-0\n    at com.jogamp.opengl.GLException.newGLException(GLException.java:76)\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1327)\n    at jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\n    at com.jogamp.opengl.awt.GLCanvas$12.run(GLCanvas.java:1438)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:301)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: java.lang.NumberFormatException: empty String\n    at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)\n    at sun.misc.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\n    at java.lang.Float.parseFloat(Float.java:451)\n    at java.lang.Float.valueOf(Float.java:416)\n    at ImportedModel$ModelImporter.parseOBJ(ImportedModel.java:60)\n    at ImportedModel.&lt;init&gt;(ImportedModel.java:18)\n    at WalkingTour.init(WalkingTour.java:83)\n    at jogamp.opengl.GLDrawableHelper.init(GLDrawableHelper.java:644)\n    at jogamp.opengl.GLDrawableHelper.init(GLDrawableHelper.java:667)\n    at com.jogamp.opengl.awt.GLCanvas$10.run(GLCanvas.java:1407)\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1291)\n    ... 16 more\nException in thread &quot;AWT-EventQueue-0&quot; com.jogamp.opengl.GLException: Caught GLException: array vertex_buffer_object must be bound to call this method on thread AWT-EventQueue-0\n    at com.jogamp.opengl.GLException.newGLException(GLException.java:76)\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1327)\n    at jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\n    at com.jogamp.opengl.awt.GLCanvas$12.run(GLCanvas.java:1438)\n    at com.jogamp.opengl.Threading.invoke(Threading.java:223)\n    at com.jogamp.opengl.awt.GLCanvas.display(GLCanvas.java:505)\n    at com.jogamp.opengl.awt.GLCanvas.paint(GLCanvas.java:559)\n    at sun.awt.RepaintArea.paintComponent(RepaintArea.java:264)\n    at sun.lwawt.LWRepaintArea.paintComponent(LWRepaintArea.java:59)\n    at sun.awt.RepaintArea.paint(RepaintArea.java:240)\n    at sun.lwawt.LWComponentPeer.handleJavaPaintEvent(LWComponentPeer.java:1314)\n    at sun.lwawt.LWComponentPeer.handleEvent(LWComponentPeer.java:1198)\n    at java.awt.Component.dispatchEventImpl(Component.java:4965)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.awt.EventQueue$4.run(EventQueue.java:729)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: com.jogamp.opengl.GLException: array vertex_buffer_object must be bound to call this method\n    at jogamp.opengl.gl4.GL4bcImpl.checkBufferObject(GL4bcImpl.java:40621)\n    at jogamp.opengl.gl4.GL4bcImpl.checkArrayVBOBound(GL4bcImpl.java:40653)\n    at jogamp.opengl.gl4.GL4bcImpl.glVertexAttribPointer(GL4bcImpl.java:12429)\n    at WalkingTour.display(WalkingTour.java:180)\n    at jogamp.opengl.GLDrawableHelper.displayImpl(GLDrawableHelper.java:692)\n    at jogamp.opengl.GLDrawableHelper.display(GLDrawableHelper.java:674)\n    at com.jogamp.opengl.awt.GLCanvas$11.run(GLCanvas.java:1424)\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1293)\n    ... 30 more\nException in thread &quot;AWT-EventQueue-0&quot; com.jogamp.opengl.GLException: Caught GLException: array vertex_buffer_object must be bound to call this method on thread AWT-EventQueue-0\n    at com.jogamp.opengl.GLException.newGLException(GLException.java:76)\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1327)\n    at jogamp.opengl.GLDrawableHelper.invokeGL(GLDrawableHelper.java:1147)\n    at com.jogamp.opengl.awt.GLCanvas$12.run(GLCanvas.java:1438)\n    at com.jogamp.opengl.Threading.invoke(Threading.java:223)\n    at com.jogamp.opengl.awt.GLCanvas.display(GLCanvas.java:505)\n    at com.jogamp.opengl.awt.GLCanvas.paint(GLCanvas.java:559)\n    at com.jogamp.opengl.awt.GLCanvas.update(GLCanvas.java:866)\n    at sun.awt.RepaintArea.updateComponent(RepaintArea.java:255)\n    at sun.lwawt.LWRepaintArea.updateComponent(LWRepaintArea.java:47)\n    at sun.awt.RepaintArea.paint(RepaintArea.java:232)\n    at sun.lwawt.LWComponentPeer.handleJavaPaintEvent(LWComponentPeer.java:1314)\n    at sun.lwawt.LWComponentPeer.handleEvent(LWComponentPeer.java:1198)\n    at java.awt.Component.dispatchEventImpl(Component.java:4965)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.awt.EventQueue$4.run(EventQueue.java:729)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: com.jogamp.opengl.GLException: array vertex_buffer_object must be bound to call this method\n    at jogamp.opengl.gl4.GL4bcImpl.checkBufferObject(GL4bcImpl.java:40621)\n    at jogamp.opengl.gl4.GL4bcImpl.checkArrayVBOBound(GL4bcImpl.java:40653)\n    at jogamp.opengl.gl4.GL4bcImpl.glVertexAttribPointer(GL4bcImpl.java:12429)\n    at WalkingTour.display(WalkingTour.java:180)\n    at jogamp.opengl.GLDrawableHelper.displayImpl(GLDrawableHelper.java:692)\n    at jogamp.opengl.GLDrawableHelper.display(GLDrawableHelper.java:674)\n    at com.jogamp.opengl.awt.GLCanvas$11.run(GLCanvas.java:1424)\n    at jogamp.opengl.GLDrawableHelper.invokeGLImpl(GLDrawableHelper.java:1293)\n    ... 31 more\n</code></pre>\n<p>Any help would be appreciated.</p>\n<p>Trying to parse a .obj model and use the extracted information to load my model into a JOGL program.</p>\n"},{"tags":["java","jdbc","avro","sqoop"],"answers":[{"comments":[{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671878639,"post_id":74903911,"comment_id":132191483,"body_markdown":"this solved the Avro schema error, but now am getting another error.","body":"this solved the Avro schema error, but now am getting another error."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671878723,"post_id":74903911,"comment_id":132191498,"body_markdown":"Such as? And why continue to use Sqoop at all?","body":"Such as? And why continue to use Sqoop at all?"},{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671878830,"post_id":74903911,"comment_id":132191518,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang/StringUtils - i tried adding org-apache-common-langs2.6.jar still its shows the same error.","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/commons/lang/StringUtils - i tried adding org-apache-common-langs2.6.jar still its shows the same error."},{"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"score":0,"creation_date":1671878936,"post_id":74903911,"comment_id":132191534,"body_markdown":"actually, am doing it for a small poc and want to finish rest dependencies. once this is implemented, I will change it later with new tool.","body":"actually, am doing it for a small poc and want to finish rest dependencies. once this is implemented, I will change it later with new tool."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671880870,"post_id":74903911,"comment_id":132191805,"body_markdown":"That should be the correct JAR. Even as a POC, you should use tools that you&#39;ll actually use when deployed for real","body":"That should be the correct JAR. Even as a POC, you should use tools that you&#39;ll actually use when deployed for real"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671829073,"creation_date":1671828753,"answer_id":74903911,"question_id":74899345,"body_markdown":"Sqoop will create Avro schema files for the table when it imports data. You&#39;d need to add Avro JARs to the Sqoop `lib` directory (the tool classpath). \r\n\r\nBy the way, you should use `--table E_INFO` instead of `--query &quot;select * FROM E_INFO&quot;`\r\n\r\nSee docs on controlling data format - https://sqoop.apache.org/docs/1.4.7/SqoopUserGuide.html#_purpose\r\n\r\n**NOTE**: As answered before, Sqoop is a retired Apache project. Suggest you find an alternative tool that will be maintained going forward. ","title":"Facing error while reading MySQL table in Sqoop. using Sqoop Eval","body":"<p>Sqoop will create Avro schema files for the table when it imports data. You'd need to add Avro JARs to the Sqoop <code>lib</code> directory (the tool classpath).</p>\n<p>By the way, you should use <code>--table E_INFO</code> instead of <code>--query &quot;select * FROM E_INFO&quot;</code></p>\n<p>See docs on controlling data format - <a href=\"https://sqoop.apache.org/docs/1.4.7/SqoopUserGuide.html#_purpose\" rel=\"nofollow noreferrer\">https://sqoop.apache.org/docs/1.4.7/SqoopUserGuide.html#_purpose</a></p>\n<p><strong>NOTE</strong>: As answered before, Sqoop is a retired Apache project. Suggest you find an alternative tool that will be maintained going forward.</p>\n"}],"owner":{"account_id":17941912,"reputation":81,"user_id":13310154,"display_name":"Salva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671829073,"creation_date":1671796401,"question_id":74899345,"body_markdown":"```\r\nh-user@h-primary:~/sqoop-1.4.7/bin$ sqoop eval --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxxx --query &quot;select * from E_INFO&quot;\r\nWarning: /home/h-user/sqoop-1.4.7/../hbase does not exist! HBase imports will fail.\r\nPlease set $HBASE_HOME to the root of your HBase installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../hcatalog does not exist! HCatalog jobs will fail.\r\nPlease set $HCAT_HOME to the root of your HCatalog installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../accumulo does not exist! Accumulo imports will fail.\r\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\r\nWarning: /home/h-user/sqoop-1.4.7/../zookeeper does not exist! Accumulo imports will fail.\r\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\r\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2366: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\r\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2461: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\r\n2022-12-23 17:13:06,493 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\r\n2022-12-23 17:13:06,683 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/avro/LogicalType\r\n\tat org.apache.sqoop.manager.DefaultManagerFactory.accept(DefaultManagerFactory.java:67)\r\n\tat org.apache.sqoop.ConnFactory.getManager(ConnFactory.java:184)\r\n\tat org.apache.sqoop.tool.BaseSqoopTool.init(BaseSqoopTool.java:272)\r\n\tat org.apache.sqoop.tool.EvalSqlTool.run(EvalSqlTool.java:56)\r\n\tat org.apache.sqoop.Sqoop.run(Sqoop.java:147)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:76)\r\n\tat org.apache.sqoop.Sqoop.runSqoop(Sqoop.java:183)\r\n\tat org.apache.sqoop.Sqoop.runTool(Sqoop.java:234)\r\n\tat org.apache.sqoop.Sqoop.runTool(Sqoop.java:243)\r\n\tat org.apache.sqoop.Sqoop.main(Sqoop.java:252)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.avro.LogicalType\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 10 more\r\nh-user@h-primary:~/s\r\n```\r\nTrying to read mysql table and databases in sqoop using eval when executed getting above error. \r\ni tried outside of bin also,still same error.whats going wrong here ?","title":"Facing error while reading MySQL table in Sqoop. using Sqoop Eval","body":"<pre><code>h-user@h-primary:~/sqoop-1.4.7/bin$ sqoop eval --connect jdbc:mysql://localhost/HADOOP_BANK_DATA_POC --username root --password xxxxxxxx --query &quot;select * from E_INFO&quot;\nWarning: /home/h-user/sqoop-1.4.7/../hbase does not exist! HBase imports will fail.\nPlease set $HBASE_HOME to the root of your HBase installation.\nWarning: /home/h-user/sqoop-1.4.7/../hcatalog does not exist! HCatalog jobs will fail.\nPlease set $HCAT_HOME to the root of your HCatalog installation.\nWarning: /home/h-user/sqoop-1.4.7/../accumulo does not exist! Accumulo imports will fail.\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\nWarning: /home/h-user/sqoop-1.4.7/../zookeeper does not exist! Accumulo imports will fail.\nPlease set $ZOOKEEPER_HOME to the root of your Zookeeper installation.\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2366: HADOOP_ORG.APACHE.SQOOP.SQOOP_USER: invalid variable name\n/usr/local/hadoop/libexec/hadoop-functions.sh: line 2461: HADOOP_ORG.APACHE.SQOOP.SQOOP_OPTS: invalid variable name\n2022-12-23 17:13:06,493 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\n2022-12-23 17:13:06,683 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/avro/LogicalType\n    at org.apache.sqoop.manager.DefaultManagerFactory.accept(DefaultManagerFactory.java:67)\n    at org.apache.sqoop.ConnFactory.getManager(ConnFactory.java:184)\n    at org.apache.sqoop.tool.BaseSqoopTool.init(BaseSqoopTool.java:272)\n    at org.apache.sqoop.tool.EvalSqlTool.run(EvalSqlTool.java:56)\n    at org.apache.sqoop.Sqoop.run(Sqoop.java:147)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:76)\n    at org.apache.sqoop.Sqoop.runSqoop(Sqoop.java:183)\n    at org.apache.sqoop.Sqoop.runTool(Sqoop.java:234)\n    at org.apache.sqoop.Sqoop.runTool(Sqoop.java:243)\n    at org.apache.sqoop.Sqoop.main(Sqoop.java:252)\nCaused by: java.lang.ClassNotFoundException: org.apache.avro.LogicalType\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 10 more\nh-user@h-primary:~/s\n</code></pre>\n<p>Trying to read mysql table and databases in sqoop using eval when executed getting above error.\ni tried outside of bin also,still same error.whats going wrong here ?</p>\n"},{"tags":["java","android","flutter","sdk"],"comments":[{"owner":{"account_id":8108093,"reputation":2413,"user_id":6109034,"display_name":"Mimu Saha Tishan"},"score":1,"creation_date":1669635358,"post_id":73040651,"comment_id":131679355,"body_markdown":"Here I have written the solution, You can follow this link https://stackoverflow.com/a/74599949/6109034","body":"Here I have written the solution, You can follow this link <a href=\"https://stackoverflow.com/a/74599949/6109034\">stackoverflow.com/a/74599949/6109034</a>"}],"answers":[{"comments":[{"owner":{"account_id":16445686,"reputation":51,"user_id":11880559,"display_name":"Mahir Yakup ahin"},"score":0,"creation_date":1658271465,"post_id":73040878,"comment_id":129009243,"body_markdown":"shaik h if you are talking about C:\\users\\myusername  then i did deleted it but did not worked again.","body":"shaik h if you are talking about C:\\users\\myusername  then i did deleted it but did not worked again."},{"owner":{"account_id":15789852,"reputation":46,"user_id":11393399,"display_name":"Abubakar shaikh"},"score":0,"creation_date":1658295304,"post_id":73040878,"comment_id":129012840,"body_markdown":"Then you need to reinstall android studio again.","body":"Then you need to reinstall android studio again."},{"owner":{"account_id":15789852,"reputation":46,"user_id":11393399,"display_name":"Abubakar shaikh"},"score":0,"creation_date":1658295372,"post_id":73040878,"comment_id":129012860,"body_markdown":"After that, go to android studio folder at c:\\ ... Delete duplicate android studio folder.","body":"After that, go to android studio folder at c:\\ ... Delete duplicate android studio folder."}],"tags":[],"owner":{"account_id":15789852,"reputation":46,"user_id":11393399,"display_name":"Abubakar shaikh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658250030,"creation_date":1658250030,"answer_id":73040878,"question_id":73040651,"body_markdown":"You should delete .gradle folder under user name. Then again run your project.","title":"Flutter &quot;You need Java 11 or higher to build your app with this version of Gradle.&quot; error","body":"<p>You should delete .gradle folder under user name. Then again run your project.</p>\n"},{"tags":[],"owner":{"account_id":15392619,"reputation":11,"user_id":11104775,"display_name":"karim adel rashad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671828158,"creation_date":1671828158,"answer_id":74903845,"question_id":73040651,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8CpyD.png\r\n\r\nchange  gradle to 4.1.0\r\nand it will be run","title":"Flutter &quot;You need Java 11 or higher to build your app with this version of Gradle.&quot; error","body":"<p><a href=\"https://i.stack.imgur.com/8CpyD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8CpyD.png\" alt=\"enter image description here\" /></a></p>\n<p>change  gradle to 4.1.0\nand it will be run</p>\n"}],"owner":{"account_id":16445686,"reputation":51,"user_id":11880559,"display_name":"Mahir Yakup ahin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671828158,"creation_date":1658248827,"question_id":73040651,"body_markdown":"When i create a new project, and press run i get this error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe fact is i do already have jdk verison of 15 and my previously created projects do open and run without any errors. Also, if i add ```org.gradle.java.home=C:/Program Files/Java/jdk-15.0.1``` line to my ```gradle.properties``` file the app runs without error but this way just does not seems right way to do it. \r\n\r\nI have tried to change the SDK version from the project structure like some other questions and answers but it did not worked either. As an additon to other problems i do not have the same project structure screen as they showed so.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/baIFg.jpg\r\n  [2]: https://i.stack.imgur.com/RIIBZ.jpg\r\n  [3]: https://i.stack.imgur.com/xeHHw.jpg\r\n\r\n\r\n\r\nI do not know what to do right now, i would be very grateful if you could help me.","title":"Flutter &quot;You need Java 11 or higher to build your app with this version of Gradle.&quot; error","body":"<p>When i create a new project, and press run i get this error.</p>\n<p><a href=\"https://i.stack.imgur.com/baIFg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/baIFg.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The fact is i do already have jdk verison of 15 and my previously created projects do open and run without any errors. Also, if i add <code>org.gradle.java.home=C:/Program Files/Java/jdk-15.0.1</code> line to my <code>gradle.properties</code> file the app runs without error but this way just does not seems right way to do it.</p>\n<p>I have tried to change the SDK version from the project structure like some other questions and answers but it did not worked either. As an additon to other problems i do not have the same project structure screen as they showed so.</p>\n<p><a href=\"https://i.stack.imgur.com/RIIBZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RIIBZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xeHHw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeHHw.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I do not know what to do right now, i would be very grateful if you could help me.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"comments":[{"owner":{"account_id":1949790,"reputation":563,"user_id":1754147,"accept_rate":59,"display_name":"Dreamer"},"score":0,"creation_date":1671836074,"post_id":74903798,"comment_id":132187276,"body_markdown":"Thanks! This is super helpful.\n\n&gt; &#39;It needs to serialize any object to bytes to send over the network.&#39; \nDo you happen to know any documentation explaining this the expected behavior? I just feel this is not super efficient, so want to confirm further.","body":"Thanks! This is super helpful.  &gt; &#39;It needs to serialize any object to bytes to send over the network.&#39;  Do you happen to know any documentation explaining this the expected behavior? I just feel this is not super efficient, so want to confirm further."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671837114,"post_id":74903798,"comment_id":132187441,"body_markdown":"This is basic concept of serialization and TCP networking, nothing Kafka related","body":"This is basic concept of serialization and TCP networking, nothing Kafka related"},{"owner":{"account_id":1949790,"reputation":563,"user_id":1754147,"accept_rate":59,"display_name":"Dreamer"},"score":0,"creation_date":1671843598,"post_id":74903798,"comment_id":132188201,"body_markdown":"I&#39;m asking about the part where streams library don&#39;t just pass object among operations, if it passes the serialized (key, val) pairs to the brokers every time, then it&#39;s a big IO overhead. Doesn&#39;t this [map](https://github.com/apache/kafka/blob/3.3/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/PageViewTypedDemo.java#L214) operation directly convert the string key to the object without specifying the key serdes?","body":"I&#39;m asking about the part where streams library don&#39;t just pass object among operations, if it passes the serialized (key, val) pairs to the brokers every time, then it&#39;s a big IO overhead. Doesn&#39;t this <a href=\"https://github.com/apache/kafka/blob/3.3/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/PageViewTypedDemo.java#L214\" rel=\"nofollow noreferrer\">map</a> operation directly convert the string key to the object without specifying the key serdes?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671844316,"post_id":74903798,"comment_id":132188258,"body_markdown":"Stateless operations such as `map` or `forEach` don&#39;t need network requests, no. But the JVM still needs to process the data as bytes. Kafka&#39;s serializers use generics, as well, so you need to give explicit type information on the operations.","body":"Stateless operations such as <code>map</code> or <code>forEach</code> don&#39;t need network requests, no. But the JVM still needs to process the data as bytes. Kafka&#39;s serializers use generics, as well, so you need to give explicit type information on the operations."},{"owner":{"account_id":1949790,"reputation":563,"user_id":1754147,"accept_rate":59,"display_name":"Dreamer"},"score":1,"creation_date":1671847508,"post_id":74903798,"comment_id":132188492,"body_markdown":"Thanks for mentioning that. I missed this. So for stateful operations, the streams library persists the state to a local state store (e.g. each aggregation result for a key will be recorded) and this is backed by a Kafka change log partition for fault tolerance (each aggregation result for a key will be streamed back to Kafka), thus Serdes are requied. Helpful video: https://developer.confluent.io/learn-kafka/kafka-streams/stateful-operations/","body":"Thanks for mentioning that. I missed this. So for stateful operations, the streams library persists the state to a local state store (e.g. each aggregation result for a key will be recorded) and this is backed by a Kafka change log partition for fault tolerance (each aggregation result for a key will be streamed back to Kafka), thus Serdes are requied. Helpful video: <a href=\"https://developer.confluent.io/learn-kafka/kafka-streams/stateful-operations/\" rel=\"nofollow noreferrer\">developer.confluent.io/learn-kafka/kafka-streams/&hellip;</a>"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671828036,"creation_date":1671827710,"answer_id":74903798,"question_id":74903542,"body_markdown":"&gt; Why are Serdes required for operations\r\n\r\nKafka stores bytes. Streams API doesn&#39;t pass objects from one operation to the other, it uses Kafka as a message bus. It needs to serialize any object to bytes to send over the network. \r\n\r\nIf you are working with JSON, then Kafka Streams [already has a built-in way to create a JSONSerde](https://github.com/apache/kafka/blob/3.3/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/PageViewUntypedDemo.java#L70-L72); there doesn&#39;t need to be an `ObjectMapper` one since you can use `Serdes.serdeFrom` static method. (Also, it would create a dependency on `connect-json` module and bloat the `kafka-streams` classpath). \r\n\r\nAlternatively, Spring-Kafka also has [`JsonSerde`](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/serializer/JsonSerde.html). And Confluent maintains `AvroSerde`, `ProtobufSerde`, etc. to use with classes generated from those tools. \r\n\r\n&gt; got String serializer not compatible with the UserBankBalance object\r\n\r\nYou need to use some combination of [`Grouped`, `Materialized`, `Consumed`, or `Produced`](https://kafka.apache.org/33/javadoc/org/apache/kafka/streams/kstream/package-summary.html) classes with each operation to override the default topology serde.","title":"Kafka Streams - Serdes for Custom Objects","body":"<blockquote>\n<p>Why are Serdes required for operations</p>\n</blockquote>\n<p>Kafka stores bytes. Streams API doesn't pass objects from one operation to the other, it uses Kafka as a message bus. It needs to serialize any object to bytes to send over the network.</p>\n<p>If you are working with JSON, then Kafka Streams <a href=\"https://github.com/apache/kafka/blob/3.3/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/PageViewUntypedDemo.java#L70-L72\" rel=\"nofollow noreferrer\">already has a built-in way to create a JSONSerde</a>; there doesn't need to be an <code>ObjectMapper</code> one since you can use <code>Serdes.serdeFrom</code> static method. (Also, it would create a dependency on <code>connect-json</code> module and bloat the <code>kafka-streams</code> classpath).</p>\n<p>Alternatively, Spring-Kafka also has <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/serializer/JsonSerde.html\" rel=\"nofollow noreferrer\"><code>JsonSerde</code></a>. And Confluent maintains <code>AvroSerde</code>, <code>ProtobufSerde</code>, etc. to use with classes generated from those tools.</p>\n<blockquote>\n<p>got String serializer not compatible with the UserBankBalance object</p>\n</blockquote>\n<p>You need to use some combination of <a href=\"https://kafka.apache.org/33/javadoc/org/apache/kafka/streams/kstream/package-summary.html\" rel=\"nofollow noreferrer\"><code>Grouped</code>, <code>Materialized</code>, <code>Consumed</code>, or <code>Produced</code></a> classes with each operation to override the default topology serde.</p>\n"}],"owner":{"account_id":1949790,"reputation":563,"user_id":1754147,"accept_rate":59,"display_name":"Dreamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74903798,"answer_count":1,"score":0,"last_activity_date":1671828036,"creation_date":1671825369,"question_id":74903542,"body_markdown":"I&#39;m pretty new to Kafka Streams and found overall the API is confusing and documentation not easy to follow. I&#39;m writing a simple streams app like this: \r\n\r\n1. Input stream: key(String)-&gt;userID, value(String)-&gt;a user&#39;s transaction record JSON string.\r\n2. Topology: aggregate the above input and generate a KTable&lt;String, UserAccountBalance&gt;. Key is userId, value is a custom object updated as the aggregation goes.\r\n\r\n        final KStream&lt;String, String&gt; transactionsInput = streamsBuilder.stream(&quot;bank-balance-input-topic&quot;);\r\n        final KTable&lt;String, UserBankBalance&gt; table =\r\n                transactionsInput.groupBy((key, value) -&gt; key)\r\n                                 .aggregate(() -&gt; new UserBankBalance(&quot;dummyUserId&quot;, 0, &quot;1866-12-23T17:47:37Z&quot;),\r\n                                            (userName, transactionRecordStr, userBankBalance) -&gt; {\r\n                                                // Code does the following:\r\n                                                //   1. Deserialize the transactionRecordStr\r\n                                                //   2. Update the UserBankBalance object.\r\n                                                //   return userBankBalance;\r\n                                            });\r\n\r\n(Default key,value serdes configured to be String)\r\nHowever, when running some sanity tests, I got String serializer not compatible with the UserBankBalance object. \r\n\r\n1. Why are Serdes required for operations like mapValues, groupByKey, aggregate?\r\n\r\n   My understanding: \r\n     * Streams library need to materialize the object using the default serdes to update internal state? \r\n     * If repartition happens, the key, value needs to be serialized and stored back to the internal partition for further processing?\r\n     * Given the above, even if we just create the `KTable&lt;String,UserBankBalance&gt;` as in-memory representation, the Serdes is still required.\r\n  \r\n   I&#39;ve read the official doc and API doc, just couldn&#39;t find any good clarification.\r\n\r\n2. Why Kafka Stream&#39;s library doesn&#39;t provide a default `ObjectMapperSerdes` which utilize the Jackson&#39;s `ObjectMapper` (Like [this official example](https://github.com/apache/kafka/blob/3.3/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/PageViewTypedDemo.java#L83))? I imagine lots of users would have similar use cases and there would be duplicate efforts for the library users to do so.\r\n\r\nReferences:\r\n* [Architecture](https://kafka.apache.org/33/documentation/streams/architecture)\r\n* [DATA TYPES AND SERIALIZATION](https://kafka.apache.org/20/documentation/streams/developer-guide/datatypes)\r\n","title":"Kafka Streams - Serdes for Custom Objects","body":"<p>I'm pretty new to Kafka Streams and found overall the API is confusing and documentation not easy to follow. I'm writing a simple streams app like this:</p>\n<ol>\n<li><p>Input stream: key(String)-&gt;userID, value(String)-&gt;a user's transaction record JSON string.</p>\n</li>\n<li><p>Topology: aggregate the above input and generate a KTable&lt;String, UserAccountBalance&gt;. Key is userId, value is a custom object updated as the aggregation goes.</p>\n<pre><code> final KStream&lt;String, String&gt; transactionsInput = streamsBuilder.stream(&quot;bank-balance-input-topic&quot;);\n final KTable&lt;String, UserBankBalance&gt; table =\n         transactionsInput.groupBy((key, value) -&gt; key)\n                          .aggregate(() -&gt; new UserBankBalance(&quot;dummyUserId&quot;, 0, &quot;1866-12-23T17:47:37Z&quot;),\n                                     (userName, transactionRecordStr, userBankBalance) -&gt; {\n                                         // Code does the following:\n                                         //   1. Deserialize the transactionRecordStr\n                                         //   2. Update the UserBankBalance object.\n                                         //   return userBankBalance;\n                                     });\n</code></pre>\n</li>\n</ol>\n<p>(Default key,value serdes configured to be String)\nHowever, when running some sanity tests, I got String serializer not compatible with the UserBankBalance object.</p>\n<ol>\n<li><p>Why are Serdes required for operations like mapValues, groupByKey, aggregate?</p>\n<p>My understanding:</p>\n<ul>\n<li>Streams library need to materialize the object using the default serdes to update internal state?</li>\n<li>If repartition happens, the key, value needs to be serialized and stored back to the internal partition for further processing?</li>\n<li>Given the above, even if we just create the <code>KTable&lt;String,UserBankBalance&gt;</code> as in-memory representation, the Serdes is still required.</li>\n</ul>\n<p>I've read the official doc and API doc, just couldn't find any good clarification.</p>\n</li>\n<li><p>Why Kafka Stream's library doesn't provide a default <code>ObjectMapperSerdes</code> which utilize the Jackson's <code>ObjectMapper</code> (Like <a href=\"https://github.com/apache/kafka/blob/3.3/streams/examples/src/main/java/org/apache/kafka/streams/examples/pageview/PageViewTypedDemo.java#L83\" rel=\"nofollow noreferrer\">this official example</a>)? I imagine lots of users would have similar use cases and there would be duplicate efforts for the library users to do so.</p>\n</li>\n</ol>\n<p>References:</p>\n<ul>\n<li><a href=\"https://kafka.apache.org/33/documentation/streams/architecture\" rel=\"nofollow noreferrer\">Architecture</a></li>\n<li><a href=\"https://kafka.apache.org/20/documentation/streams/developer-guide/datatypes\" rel=\"nofollow noreferrer\">DATA TYPES AND SERIALIZATION</a></li>\n</ul>\n"},{"tags":["java","android","androidpdfviewer"],"comments":[{"owner":{"account_id":23347294,"reputation":1,"user_id":17421381,"display_name":"user17421381"},"score":0,"creation_date":1671831278,"post_id":74903815,"comment_id":132186532,"body_markdown":"@KJ so please explain more about bookmarks cause they are getting more wierd","body":"@KJ so please explain more about bookmarks cause they are getting more wierd"},{"owner":{"account_id":23347294,"reputation":1,"user_id":17421381,"display_name":"user17421381"},"score":0,"creation_date":1671999321,"post_id":74903815,"comment_id":132206332,"body_markdown":"Well thanks for the explanation and help @KJ so how do we extract bookmarks and how do we make them using pdfviewer lib","body":"Well thanks for the explanation and help @KJ so how do we extract bookmarks and how do we make them using pdfviewer lib"},{"owner":{"account_id":23347294,"reputation":1,"user_id":17421381,"display_name":"user17421381"},"score":0,"creation_date":1672084288,"post_id":74903815,"comment_id":132219016,"body_markdown":"I have seen it that&#39;s what I wanted so how am I getting them in java@KJ","body":"I have seen it that&#39;s what I wanted so how am I getting them in java@KJ"},{"owner":{"account_id":23347294,"reputation":1,"user_id":17421381,"display_name":"user17421381"},"score":0,"creation_date":1672162346,"post_id":74903815,"comment_id":132233539,"body_markdown":"Well I had gotten them but I cant insert them into the dialog","body":"Well I had gotten them but I cant insert them into the dialog"},{"owner":{"account_id":23347294,"reputation":1,"user_id":17421381,"display_name":"user17421381"},"score":0,"creation_date":1672168380,"post_id":74903815,"comment_id":132235190,"body_markdown":"If I use log.i it printed them but I I use a variable it says null","body":"If I use log.i it printed them but I I use a variable it says null"}],"owner":{"account_id":23347294,"reputation":1,"user_id":17421381,"display_name":"user17421381"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671827876,"creation_date":1671827876,"question_id":74903815,"body_markdown":"Well I am using pdf viewer by bartsek but when I try to retrieve bookmarks using the bookmark function it gives me wierd characters \r\nHere is the code \r\n```\r\npdfview.getTableofContents.toString()\r\n```\r\n  [Wierd characters](https://i.stack.imgur.com/9kht3.jpg)\r\n\r\nHow can I achieve this \r\n\r\nI want a list of bookmarks and a way of bookmarking pages\r\nI have no idea about it","title":"How to bookmark and retrieve bookmarks in android java","body":"<p>Well I am using pdf viewer by bartsek but when I try to retrieve bookmarks using the bookmark function it gives me wierd characters\nHere is the code</p>\n<pre><code>pdfview.getTableofContents.toString()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9kht3.jpg\" rel=\"nofollow noreferrer\">Wierd characters</a></p>\n<p>How can I achieve this</p>\n<p>I want a list of bookmarks and a way of bookmarking pages\nI have no idea about it</p>\n"},{"tags":["java","spring-boot","oauth-2.0","openid-connect","spring-oauth2"],"owner":{"account_id":18845492,"reputation":1,"user_id":13745893,"display_name":"melmarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671827091,"creation_date":1671827091,"question_id":74903729,"body_markdown":"I Have a situation when a client send and authorize request as such below: \r\n`\r\nhttp://localhost:8080/oauth2/authorize?scope=openid&amp;response_type=code&amp;redirect_uri=https://api.test.local:9443/commonauth&amp;state=b3cefc9d-2096-4a3c-a291-58781a171b5f,OIDC&amp;client_id=client-id&amp;login_hint=BfcZPa4vv_Q6Y_o0VwqTOnUA4pcPJLTNgSTq3vqiouJFY4TaMd6kKxanim2CDhilkQhrvzbv7fanE3-vpyG4dtLky5bLJFpbDYP7eIAtuP7WLe00mlMUpUPzd733V39TsWhf2lOkpP0z2JcdCQvTi7b2W1OFxPoHrNUMCFhj0AnJqaTal3O7l1Oo1-xrlJR3nz_p_EeK-eWK6bMQZqPvon8AHkQMtq8txClqM3aywZtXJ0Jea4fJyVEhvV_tnIXxgYg296_a5HsnnmcPlkVk-1TMZesr07dC2OBh0m02gGcWW-TPunBH5SRTI8BwzgwFBSig8Js_4gkgGwxhTpBo5g`\r\n\r\nNotice that we have a login_hint query param that we need later on the process \r\n\r\ni wrote an interceptor to intercept the query param after the AbstractPreAuthenticatedProcessingFilter\r\n\r\nOnce storing it in the SecurityContextHolder it seem that i lost it later in the process once getting to the login page\r\n\r\ndoes any have a slick way to store this information (by the way the request.getSession() resulted in the same problem\r\n\r\n\r\n\r\n```\r\npublic class LoginHintFilter extends OncePerRequestFilter {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(LoginHintFilter.class);\r\n\r\n\r\n    @Override\r\n    public void doFilterInternal(final HttpServletRequest httpServletRequest, final HttpServletResponse response, final FilterChain chain) throws ServletException, IOException {\r\n        try {\r\n            if (Objects.equals(httpServletRequest.getServletPath(), &quot;/oauth2/authorize&quot;)) {\r\n                if (httpServletRequest.getParameter(&quot;login_hint&quot;) == null) {\r\n                    throw new SecurityLoginHintException(&quot;Error No security &#39;login_hint&#39; found&quot;);\r\n                }\r\n                ....\r\n            }\r\n        } catch (SecurityLoginHintException | NoSuchPaddingException | IllegalBlockSizeException |\r\n                 NoSuchAlgorithmException | BadPaddingException | InvalidKeyException e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n        try {\r\n            chain.doFilter(httpServletRequest, response);\r\n        } catch (final Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        return http.getConfigurer(OAuth2AuthorizationServerConfigurer.class).oidc(Customizer.withDefaults())\r\n                .and()\r\n                .formLogin().loginPage(&quot;/login_kvk&quot;).and()\r\n                .addFilterAfter(bsnDecryptionFilter, AbstractPreAuthenticatedProcessingFilter.class)\r\n                .build();\r\n    }\r\n```\r\n\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n   return http.formLogin().loginPage(&quot;/login&quot;).and().authorizeRequests().requestMatchers(DEFAULT_WHITELIST).permitAll().anyRequest().authenticated().and().build();\r\n}\r\n```\r\n\r\n\r\n","title":"Spring boot authorization server (1.0.0) intercept and store login_hint as a query param","body":"<p>I Have a situation when a client send and authorize request as such below:\n<code> http://localhost:8080/oauth2/authorize?scope=openid&amp;response_type=code&amp;redirect_uri=https://api.test.local:9443/commonauth&amp;state=b3cefc9d-2096-4a3c-a291-58781a171b5f,OIDC&amp;client_id=client-id&amp;login_hint=BfcZPa4vv_Q6Y_o0VwqTOnUA4pcPJLTNgSTq3vqiouJFY4TaMd6kKxanim2CDhilkQhrvzbv7fanE3-vpyG4dtLky5bLJFpbDYP7eIAtuP7WLe00mlMUpUPzd733V39TsWhf2lOkpP0z2JcdCQvTi7b2W1OFxPoHrNUMCFhj0AnJqaTal3O7l1Oo1-xrlJR3nz_p_EeK-eWK6bMQZqPvon8AHkQMtq8txClqM3aywZtXJ0Jea4fJyVEhvV_tnIXxgYg296_a5HsnnmcPlkVk-1TMZesr07dC2OBh0m02gGcWW-TPunBH5SRTI8BwzgwFBSig8Js_4gkgGwxhTpBo5g</code></p>\n<p>Notice that we have a login_hint query param that we need later on the process</p>\n<p>i wrote an interceptor to intercept the query param after the AbstractPreAuthenticatedProcessingFilter</p>\n<p>Once storing it in the SecurityContextHolder it seem that i lost it later in the process once getting to the login page</p>\n<p>does any have a slick way to store this information (by the way the request.getSession() resulted in the same problem</p>\n<pre><code>public class LoginHintFilter extends OncePerRequestFilter {\n\n    private static final Logger logger = LoggerFactory.getLogger(LoginHintFilter.class);\n\n\n    @Override\n    public void doFilterInternal(final HttpServletRequest httpServletRequest, final HttpServletResponse response, final FilterChain chain) throws ServletException, IOException {\n        try {\n            if (Objects.equals(httpServletRequest.getServletPath(), &quot;/oauth2/authorize&quot;)) {\n                if (httpServletRequest.getParameter(&quot;login_hint&quot;) == null) {\n                    throw new SecurityLoginHintException(&quot;Error No security 'login_hint' found&quot;);\n                }\n                ....\n            }\n        } catch (SecurityLoginHintException | NoSuchPaddingException | IllegalBlockSizeException |\n                 NoSuchAlgorithmException | BadPaddingException | InvalidKeyException e) {\n            logger.error(e.getMessage());\n        }\n        try {\n            chain.doFilter(httpServletRequest, response);\n        } catch (final Exception e) {\n            throw e;\n        }\n    }\n}\n</code></pre>\n<pre><code>    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        return http.getConfigurer(OAuth2AuthorizationServerConfigurer.class).oidc(Customizer.withDefaults())\n                .and()\n                .formLogin().loginPage(&quot;/login_kvk&quot;).and()\n                .addFilterAfter(bsnDecryptionFilter, AbstractPreAuthenticatedProcessingFilter.class)\n                .build();\n    }\n</code></pre>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n   return http.formLogin().loginPage(&quot;/login&quot;).and().authorizeRequests().requestMatchers(DEFAULT_WHITELIST).permitAll().anyRequest().authenticated().and().build();\n}\n</code></pre>\n"},{"tags":["java","bash","macos","terminal","command"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1671796339,"post_id":74899170,"comment_id":132178056,"body_markdown":"You  could try to set the permissions with the ProcesBuilder. For further info have a look on my blog post: https://thilosdevblog.wordpress.com/2022/09/18/how-to-properly-handle-the-output-of-the-processbuilder/","body":"You  could try to set the permissions with the ProcesBuilder. For further info have a look on my blog post: <a href=\"https://thilosdevblog.wordpress.com/2022/09/18/how-to-properly-handle-the-output-of-the-processbuilder/\" rel=\"nofollow noreferrer\">thilosdevblog.wordpress.com/2022/09/18/&hellip;</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1671797377,"post_id":74899170,"comment_id":132178337,"body_markdown":"You could perform the equivalent of `chmod a+x` in your Java program by using `myFile.setExecutable(true)` https://docs.oracle.com/javase/7/docs/api/java/io/File.html#setExecutable(boolean)","body":"You could perform the equivalent of <code>chmod a+x</code> in your Java program by using <code>myFile.setExecutable(true)</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#setExecutable(boolean)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>"},{"owner":{"account_id":465198,"reputation":1536,"user_id":869134,"accept_rate":73,"display_name":"Lasse"},"score":0,"creation_date":1671799278,"post_id":74899170,"comment_id":132178865,"body_markdown":"Do you need the solution to be Java-specific? Otherwise, the Automator app can generate you an app that runs a shell script","body":"Do you need the solution to be Java-specific? Otherwise, the Automator app can generate you an app that runs a shell script"},{"owner":{"account_id":83440,"reputation":12537,"user_id":233944,"accept_rate":78,"display_name":"TheNextman"},"score":0,"creation_date":1671806964,"post_id":74899170,"comment_id":132180884,"body_markdown":"Why is this tagged Java?","body":"Why is this tagged Java?"},{"owner":{"account_id":83440,"reputation":12537,"user_id":233944,"accept_rate":78,"display_name":"TheNextman"},"score":1,"creation_date":1671807024,"post_id":74899170,"comment_id":132180900,"body_markdown":"Make your script executable and then distribute it inside a .tar file. Alternatively, wrap it inside an .app and sign and notarize it with an Apple Developer ID.","body":"Make your script executable and then distribute it inside a .tar file. Alternatively, wrap it inside an .app and sign and notarize it with an Apple Developer ID."},{"owner":{"account_id":24391745,"reputation":29,"user_id":18321622,"display_name":"L_Karapetti"},"score":0,"creation_date":1671826324,"post_id":74899170,"comment_id":132185509,"body_markdown":"@Lasse I&#39;dont. Can I make an automator work on other computers??","body":"@Lasse I&#39;dont. Can I make an automator work on other computers??"},{"owner":{"account_id":24391745,"reputation":29,"user_id":18321622,"display_name":"L_Karapetti"},"score":0,"creation_date":1671826389,"post_id":74899170,"comment_id":132185526,"body_markdown":"@TheNextman Hi, I forgot to mention that , I am trying to distribute a java app.","body":"@TheNextman Hi, I forgot to mention that , I am trying to distribute a java app."},{"owner":{"account_id":24391745,"reputation":29,"user_id":18321622,"display_name":"L_Karapetti"},"score":0,"creation_date":1671826589,"post_id":74899170,"comment_id":132185574,"body_markdown":"@TheNextman I will try it and let people here to know if it works.","body":"@TheNextman I will try it and let people here to know if it works."},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1672604316,"post_id":74899170,"comment_id":132312274,"body_markdown":"`sh myFile.sh`.  This way the executable is `sh` a system command, and your script can remain not +x.","body":"<code>sh myFile.sh</code>.  This way the executable is <code>sh</code> a system command, and your script can remain not +x."}],"owner":{"account_id":24391745,"reputation":29,"user_id":18321622,"display_name":"L_Karapetti"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671826468,"creation_date":1671795224,"question_id":74899170,"body_markdown":"I have to make a click to run  .command/ shell script (.sh) for my users on mac.\r\n\r\nI did manage to make .sh work=&gt; to do that I have to type these in to terminal at that folder.\r\n\r\n    chmod a+x myFile.sh\r\nBut none of my users are technical. So they cant type on terminal.\r\n\r\nI tried creating .command file. But this also needs special permission to execute.\r\nAnd that permission cant be given via right click- info - permissions.\r\nThis permission can only given by terminal code.Thx to stpd mac security policies.\r\n\r\nAlso  creating .app won&#39;t work , because that way also needs a permission code on terminal.\r\n\r\nIs there any hero to help me solve this problem\r\n\r\nEdit 1: Forgot to mention that app I am trying to distribute is Java app, .jar. I need to run sh to run specific commands to run myapp.jar.","title":"How to bypass Mac permission to run .command or .sh file","body":"<p>I have to make a click to run  .command/ shell script (.sh) for my users on mac.</p>\n<p>I did manage to make .sh work=&gt; to do that I have to type these in to terminal at that folder.</p>\n<pre><code>chmod a+x myFile.sh\n</code></pre>\n<p>But none of my users are technical. So they cant type on terminal.</p>\n<p>I tried creating .command file. But this also needs special permission to execute.\nAnd that permission cant be given via right click- info - permissions.\nThis permission can only given by terminal code.Thx to stpd mac security policies.</p>\n<p>Also  creating .app won't work , because that way also needs a permission code on terminal.</p>\n<p>Is there any hero to help me solve this problem</p>\n<p>Edit 1: Forgot to mention that app I am trying to distribute is Java app, .jar. I need to run sh to run specific commands to run myapp.jar.</p>\n"},{"tags":["java","http","http-headers","basic-authentication","java-17"],"answers":[{"comments":[{"owner":{"account_id":5238567,"reputation":113,"user_id":4186378,"display_name":"Piotr Sulecki"},"score":0,"creation_date":1673630359,"post_id":74903640,"comment_id":132549944,"body_markdown":"As I said above, the problem is not with the Digest authentication. The problem is that the  Authorization header is not being sent at all with the request. If the original request contains the Basic authentication data in the header, the request is processed and the camera doesn&#39;t ask for Digest authentication. The problem is, this was done using Apache&#39;s HttpClient, and I wanted to do this using the JDK one.","body":"As I said above, the problem is not with the Digest authentication. The problem is that the  Authorization header is not being sent at all with the request. If the original request contains the Basic authentication data in the header, the request is processed and the camera doesn&#39;t ask for Digest authentication. The problem is, this was done using Apache&#39;s HttpClient, and I wanted to do this using the JDK one."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676904250,"post_id":74903640,"comment_id":133226062,"body_markdown":"Sorry, I misread your post.","body":"Sorry, I misread your post."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676904376,"post_id":74903640,"comment_id":133226107,"body_markdown":"Did you try setting a global ``Authenticator.setDefault(...)`` instead of setting the authenticator per request?","body":"Did you try setting a global <code>Authenticator.setDefault(...)</code> instead of setting the authenticator per request?"}],"tags":[],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671826256,"creation_date":1671826256,"answer_id":74903640,"question_id":72112433,"body_markdown":"You are doing nothing wrong. It seems the new HttpClient does not support Digest authentication out of the box. See here: https://bugs.openjdk.org/browse/JDK-8285888\r\n\r\nThe suggested way is to implement digest authentication yourself on application level. ","title":"java.net.http.HttpRequest not sending &quot;Authorization:&quot; header - why?","body":"<p>You are doing nothing wrong. It seems the new HttpClient does not support Digest authentication out of the box. See here: <a href=\"https://bugs.openjdk.org/browse/JDK-8285888\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8285888</a></p>\n<p>The suggested way is to implement digest authentication yourself on application level.</p>\n"}],"owner":{"account_id":5238567,"reputation":113,"user_id":4186378,"display_name":"Piotr Sulecki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671826256,"creation_date":1651664763,"question_id":72112433,"body_markdown":"I&#39;m trying to download an image from a HTTP camera. The problem is, the camera in question requires (basic) authentication. I know basic auth should not be used over HTTP, but we&#39;re talking about an isolated network, so that&#39;s not the point here.\r\n\r\nI&#39;m trying to use Java17 native java.net.http.HttpClient for this. I&#39;m using the following code:\r\n\r\n    protected BufferedImage retrieveImage(URI uri) throws IOException, InterruptedException {\r\n        log.trace(&quot;Using authorization header of &#39;{}&#39;&quot;, basicAuthString);\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                                         .uri(uri)\r\n                                         .header(&quot;Authorization&quot;, basicAuthString)\r\n                                         .GET()\r\n                                         .timeout(Duration.ofSeconds(20))\r\n                                         .build();\r\n        return retrieveImage(request);\r\n    }\r\n\r\n    private BufferedImage retrieveImage(HttpRequest request) throws IOException, InterruptedException {\r\n        HttpResponse&lt;byte[]&gt; response = null;\r\n        try {\r\n            response = client.send(request, HttpResponse.BodyHandlers.ofByteArray());\r\n        } catch (ConnectException ex) {\r\n            log.error(&quot;Connection refused when downloading image from &quot; + uri.toString());\r\n            return null;\r\n        }\r\n        if (response.statusCode() != 200) { // ok\r\n            log.error(&quot;Error retrieving image, status code is {}&quot;, response.statusCode());\r\n            return null;\r\n        }\r\n        ByteArrayInputStream bis   = new ByteArrayInputStream(response.body());\r\n        BufferedImage        image = ImageIO.read(bis);\r\n        return image;\r\n    }\r\n\r\nThe HttpClient variable (client in the above code) is created by:\r\n\r\n                this.client = HttpClient.newBuilder()\r\n                                    .connectTimeout(Duration.ofSeconds(5))\r\n                                    .followRedirects(HttpClient.Redirect.NORMAL)\r\n                                    .authenticator(new Authenticator() {\r\n                                        @Override\r\n                                        protected PasswordAuthentication getPasswordAuthentication() {\r\n                                            return new PasswordAuthentication(camera.getLogin(), camera.getPassword().toCharArray());\r\n                                        }\r\n                                    })\r\n                                    .version(HttpClient.Version.HTTP_1_1)\r\n                                    .build();\r\n\r\n\r\nSince I&#39;m using Basic authorization, I can pre-calculate the auth header and store it internally. And this code is executed, as in the logs I can see the following:\r\n\r\n    2022-05-04 12:40:00.183 [TRACE] [pool-2-thread-78]     Retrieving image from http://&lt;censored&gt;:7020/ISAPI/Streaming/channels/1/picture\r\n    2022-05-04 12:40:00.183 [TRACE] [pool-2-thread-78]     Using authorization header of &#39;Basic &lt;censored&gt;&#39;\r\n    2022-05-04 12:40:00.491 [ERROR] [pool-2-thread-78]     Error retrieving image, status code is 401\r\n\r\nHowever, what actually gets sent over TCP does not include the Authorization header. The following is a &quot;Follow TCP&quot; dump from Wireshark:\r\n\r\n    GET /ISAPI/Streaming/channels/1/picture HTTP/1.1\r\n    Content-Length: 0\r\n    Host: &lt;censored&gt;:7020\r\n    User-Agent: Java-http-client/17.0.3\r\n\r\n    HTTP/1.1 401 Unauthorized\r\n    Date: Wed, 04 May 2022 12:39:59 GMT\r\n    Server: webserver\r\n    X-Frame-Options: SAMEORIGIN\r\n    Content-Length: 178\r\n    Content-Type: text/html\r\n    Connection: close\r\n    WWW-Authenticate: Digest qop=&quot;auth&quot;, realm=&quot;&lt;censored&gt;&quot;, nonce=&quot;&lt;censored&gt;&quot;, stale=&quot;FALSE&quot;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;&lt;head&gt;&lt;title&gt;Document Error: Unauthorized&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;&lt;h2&gt;Access Error: 401 -- Unauthorized&lt;/h2&gt;\r\n    &lt;p&gt;Authentication Error&lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI know the response asks for Digest authorization, and I&#39;m using Basic. That&#39;s not the point, the camera supports basic authorization as well. **The point is, the &quot;Authorization:&quot; header is not even sent with the request.**\r\n\r\nIt&#39;s hard to find any good guides for using Java17 native HttpClient, as most of them cover the Apache one. I found one from [Baeldung][1], but it covers the Java9. The [JavaDoc][2] is of little help, either. I am also using Authenticator, as Baeldung suggested, but it doesn&#39;t kick in, either.\r\n\r\nWhat am I doing wrong?\r\n\r\n  [1]: https://www.baeldung.com/java-9-http-client\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#header(java.lang.String,java.lang.String)","title":"java.net.http.HttpRequest not sending &quot;Authorization:&quot; header - why?","body":"<p>I'm trying to download an image from a HTTP camera. The problem is, the camera in question requires (basic) authentication. I know basic auth should not be used over HTTP, but we're talking about an isolated network, so that's not the point here.</p>\n<p>I'm trying to use Java17 native java.net.http.HttpClient for this. I'm using the following code:</p>\n<pre><code>protected BufferedImage retrieveImage(URI uri) throws IOException, InterruptedException {\n    log.trace(&quot;Using authorization header of '{}'&quot;, basicAuthString);\n    HttpRequest request = HttpRequest.newBuilder()\n                                     .uri(uri)\n                                     .header(&quot;Authorization&quot;, basicAuthString)\n                                     .GET()\n                                     .timeout(Duration.ofSeconds(20))\n                                     .build();\n    return retrieveImage(request);\n}\n\nprivate BufferedImage retrieveImage(HttpRequest request) throws IOException, InterruptedException {\n    HttpResponse&lt;byte[]&gt; response = null;\n    try {\n        response = client.send(request, HttpResponse.BodyHandlers.ofByteArray());\n    } catch (ConnectException ex) {\n        log.error(&quot;Connection refused when downloading image from &quot; + uri.toString());\n        return null;\n    }\n    if (response.statusCode() != 200) { // ok\n        log.error(&quot;Error retrieving image, status code is {}&quot;, response.statusCode());\n        return null;\n    }\n    ByteArrayInputStream bis   = new ByteArrayInputStream(response.body());\n    BufferedImage        image = ImageIO.read(bis);\n    return image;\n}\n</code></pre>\n<p>The HttpClient variable (client in the above code) is created by:</p>\n<pre><code>            this.client = HttpClient.newBuilder()\n                                .connectTimeout(Duration.ofSeconds(5))\n                                .followRedirects(HttpClient.Redirect.NORMAL)\n                                .authenticator(new Authenticator() {\n                                    @Override\n                                    protected PasswordAuthentication getPasswordAuthentication() {\n                                        return new PasswordAuthentication(camera.getLogin(), camera.getPassword().toCharArray());\n                                    }\n                                })\n                                .version(HttpClient.Version.HTTP_1_1)\n                                .build();\n</code></pre>\n<p>Since I'm using Basic authorization, I can pre-calculate the auth header and store it internally. And this code is executed, as in the logs I can see the following:</p>\n<pre><code>2022-05-04 12:40:00.183 [TRACE] [pool-2-thread-78]     Retrieving image from http://&lt;censored&gt;:7020/ISAPI/Streaming/channels/1/picture\n2022-05-04 12:40:00.183 [TRACE] [pool-2-thread-78]     Using authorization header of 'Basic &lt;censored&gt;'\n2022-05-04 12:40:00.491 [ERROR] [pool-2-thread-78]     Error retrieving image, status code is 401\n</code></pre>\n<p>However, what actually gets sent over TCP does not include the Authorization header. The following is a &quot;Follow TCP&quot; dump from Wireshark:</p>\n<pre><code>GET /ISAPI/Streaming/channels/1/picture HTTP/1.1\nContent-Length: 0\nHost: &lt;censored&gt;:7020\nUser-Agent: Java-http-client/17.0.3\n\nHTTP/1.1 401 Unauthorized\nDate: Wed, 04 May 2022 12:39:59 GMT\nServer: webserver\nX-Frame-Options: SAMEORIGIN\nContent-Length: 178\nContent-Type: text/html\nConnection: close\nWWW-Authenticate: Digest qop=&quot;auth&quot;, realm=&quot;&lt;censored&gt;&quot;, nonce=&quot;&lt;censored&gt;&quot;, stale=&quot;FALSE&quot;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;&lt;title&gt;Document Error: Unauthorized&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h2&gt;Access Error: 401 -- Unauthorized&lt;/h2&gt;\n&lt;p&gt;Authentication Error&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I know the response asks for Digest authorization, and I'm using Basic. That's not the point, the camera supports basic authorization as well. <strong>The point is, the &quot;Authorization:&quot; header is not even sent with the request.</strong></p>\n<p>It's hard to find any good guides for using Java17 native HttpClient, as most of them cover the Apache one. I found one from <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">Baeldung</a>, but it covers the Java9. The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#header(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">JavaDoc</a> is of little help, either. I am also using Authenticator, as Baeldung suggested, but it doesn't kick in, either.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","database","hibernate","jpa"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1671854907,"post_id":74903540,"comment_id":132189057,"body_markdown":"You can remove the field `key` in the query, so the field won&#39;t be updated.","body":"You can remove the field <code>key</code> in the query, so the field won&#39;t be updated."},{"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"score":0,"creation_date":1671861230,"post_id":74903540,"comment_id":132189525,"body_markdown":"From which query? I didn&#39;t understand the solution.","body":"From which query? I didn&#39;t understand the solution."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1671895787,"post_id":74903540,"comment_id":132194149,"body_markdown":"Do you have a `sql` file where you initialize your queries with an Update statement?","body":"Do you have a <code>sql</code> file where you initialize your queries with an Update statement?"},{"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"score":0,"creation_date":1671898151,"post_id":74903540,"comment_id":132194558,"body_markdown":"No. I am not using any sql file. Totally dependent on hibernate","body":"No. I am not using any sql file. Totally dependent on hibernate"}],"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671825355,"creation_date":1671825355,"question_id":74903540,"body_markdown":"I have an class called `Credential` which has field called `User`. Here is the class,\r\n\r\n```\r\n@Entity\r\npublic class Credential extends BaseModel {\r\n\r\n\t// more fields\r\n\r\n\t@ManyToOne(targetEntity = User.class, cascade = CascadeType.ALL)\r\n\t@JoinTable(name = &quot;user_cred&quot;, joinColumns = @JoinColumn(name = &quot;cred_id&quot;, \r\n    updatable = false, insertable = true), \r\n    inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;, updatable = false, \r\n    insertable = true))\r\n    @JsonIgnore\r\n\tprivate User user;\r\n\r\n    // setters getters\r\n}\r\n```\r\n\r\nI also have a service class which I am using to save this object of this `Credential` class. Now the user class is having a field `Key` which I don&#39;t want to update if I am saving a new `Credential` object.\r\nHere is the `User` class,\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User extends BaseModel {\r\n\r\n    // more fields\r\n   \r\n\t@OneToOne(targetEntity = AESKey.class, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;password_id&quot;, updatable = false, insertable = true)\r\n\tprivate Key password;\r\n\r\n    // getter setter\r\n}\r\n``` \r\nI have used `updatable=false` in both `User` field in`Credential` and `Key` field in `User`. Even then when I am saving the `Credential` object, `Key` object is also updated.\r\nI have tried removing `cascade = CascadeType.ALL` but the result is the same.\r\nHere is the query that runs everytime I save the `Credential` object,\r\n\r\n```\r\nHibernate: insert into credential (creation_date, associated_phone_number, email, password, username, id) values (?, ?, ?, ?, ?, ?)\r\nHibernate: insert into user_cred (user_id, cred_id) values (?, ?)\r\nHibernate: update key set creation_date=?, key=?, type=? where id=?\r\n```\r\n\r\nI dont want to add `updatable=false` to my fields in `Key` class as then I will be forbidden to update my `Key` objects *directly*. I just want to prevent *indirect* updations.\r\n\r\nCan anyone tell how prevent my `Key` object from updating.\r\n  ","title":"Saving an object updates all the fields even when `updatable=false` in SpringJPA","body":"<p>I have an class called <code>Credential</code> which has field called <code>User</code>. Here is the class,</p>\n<pre><code>@Entity\npublic class Credential extends BaseModel {\n\n    // more fields\n\n    @ManyToOne(targetEntity = User.class, cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;user_cred&quot;, joinColumns = @JoinColumn(name = &quot;cred_id&quot;, \n    updatable = false, insertable = true), \n    inverseJoinColumns = @JoinColumn(name = &quot;user_id&quot;, updatable = false, \n    insertable = true))\n    @JsonIgnore\n    private User user;\n\n    // setters getters\n}\n</code></pre>\n<p>I also have a service class which I am using to save this object of this <code>Credential</code> class. Now the user class is having a field <code>Key</code> which I don't want to update if I am saving a new <code>Credential</code> object.\nHere is the <code>User</code> class,</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User extends BaseModel {\n\n    // more fields\n   \n    @OneToOne(targetEntity = AESKey.class, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;password_id&quot;, updatable = false, insertable = true)\n    private Key password;\n\n    // getter setter\n}\n</code></pre>\n<p>I have used <code>updatable=false</code> in both <code>User</code> field in<code>Credential</code> and <code>Key</code> field in <code>User</code>. Even then when I am saving the <code>Credential</code> object, <code>Key</code> object is also updated.\nI have tried removing <code>cascade = CascadeType.ALL</code> but the result is the same.\nHere is the query that runs everytime I save the <code>Credential</code> object,</p>\n<pre><code>Hibernate: insert into credential (creation_date, associated_phone_number, email, password, username, id) values (?, ?, ?, ?, ?, ?)\nHibernate: insert into user_cred (user_id, cred_id) values (?, ?)\nHibernate: update key set creation_date=?, key=?, type=? where id=?\n</code></pre>\n<p>I dont want to add <code>updatable=false</code> to my fields in <code>Key</code> class as then I will be forbidden to update my <code>Key</code> objects <em>directly</em>. I just want to prevent <em>indirect</em> updations.</p>\n<p>Can anyone tell how prevent my <code>Key</code> object from updating.</p>\n"},{"tags":["java","spring-boot","spring-security","token","roles"],"owner":{"account_id":19621073,"reputation":47,"user_id":14361541,"display_name":"lucas.iter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671839634,"answer_count":0,"score":0,"last_activity_date":1671825147,"creation_date":1671815983,"question_id":74902320,"body_markdown":"I have an application that validates an authentication token to access your endpoints. It is important to note that I do not have a user&#39;s logged in. This validation is made as follows: \r\n\r\nI get the token and I call an REST API that tells me if that token is valid or not (this validation is made through a filter through which all the requests I receive pass). \r\n\r\nBut now I have to do another validation besides that. I need to decrypt the token to pick up a set of roles and see if for certain endpoints the rule validates. Initially I thought about using `@Secured` but I noticed that without a log in he cannot know where the roles come from that he should validate. So I thought I&#39;d create a filter that would only be used on a few endpoints and validate the permissive role. Something like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .authorizeRequests(r -&gt;\r\n            r \r\n                 .antMatchers(&quot;/isAlive**&quot;).permitAll()\r\n                 .antMatchers(&quot;/users&quot;).permitAll()\r\n                 .and()\r\n            .addFilterBefore(new RoleFilter(),  UsernamePasswordAuthenticationFilter.class)\r\n                 .antMatchers(&quot;/cars&quot;).permitAll()\r\n                 .and()\r\n            .addFilterBefore(new RoleFilter(),  UsernamePasswordAuthenticationFilter.class)\r\n                 .anyRequest().permitAll()\r\n                 .and()\r\n            .addFilterBefore(new AuthorizationFilter(), UsernamePasswordAuthenticationFilter.class))\r\n        .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\nAs you can see the `AuthorizationFilter` is the filter that must be done by all endpoints except `/isAlive`. It validates whether the token is valid. \r\n\r\nAnd `RoleFilter` should be used only on some endpoints to validate whether that token has the specific role that I need. But that doesn&#39;t work. It does not accept this structure with two filters. Any solution?","title":"How to use multiples filters in SecurityConfig on Spring Boot?","body":"<p>I have an application that validates an authentication token to access your endpoints. It is important to note that I do not have a user's logged in. This validation is made as follows:</p>\n<p>I get the token and I call an REST API that tells me if that token is valid or not (this validation is made through a filter through which all the requests I receive pass).</p>\n<p>But now I have to do another validation besides that. I need to decrypt the token to pick up a set of roles and see if for certain endpoints the rule validates. Initially I thought about using <code>@Secured</code> but I noticed that without a log in he cannot know where the roles come from that he should validate. So I thought I'd create a filter that would only be used on a few endpoints and validate the permissive role. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .authorizeRequests(r -&gt;\n        r \n             .antMatchers(&quot;/isAlive**&quot;).permitAll()\n             .antMatchers(&quot;/users&quot;).permitAll()\n             .and()\n        .addFilterBefore(new RoleFilter(),  UsernamePasswordAuthenticationFilter.class)\n             .antMatchers(&quot;/cars&quot;).permitAll()\n             .and()\n        .addFilterBefore(new RoleFilter(),  UsernamePasswordAuthenticationFilter.class)\n             .anyRequest().permitAll()\n             .and()\n        .addFilterBefore(new AuthorizationFilter(), UsernamePasswordAuthenticationFilter.class))\n    .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n</code></pre>\n<p>As you can see the <code>AuthorizationFilter</code> is the filter that must be done by all endpoints except <code>/isAlive</code>. It validates whether the token is valid.</p>\n<p>And <code>RoleFilter</code> should be used only on some endpoints to validate whether that token has the specific role that I need. But that doesn't work. It does not accept this structure with two filters. Any solution?</p>\n"},{"tags":["java","filesystems","jna","windows-server-2016","applocker"],"answers":[{"comments":[{"owner":{"account_id":11322688,"reputation":239,"user_id":8302613,"accept_rate":75,"display_name":"user136819"},"score":0,"creation_date":1670939970,"post_id":74781754,"comment_id":131985502,"body_markdown":"Thanks for answering @Daniel.\nThis may have been the solution, however, the Java Application is pre-built and I cannot modify the source code (I should have mentioned this part in the original question, my bad). And I don&#39;t see any &quot;*.properties&quot; files in the application folder to set the Path variables either.\n\nIs there still a way to go with the Wildcard approach for the AppLocker?\n(this would eventually also save us time)","body":"Thanks for answering @Daniel. This may have been the solution, however, the Java Application is pre-built and I cannot modify the source code (I should have mentioned this part in the original question, my bad). And I don&#39;t see any &quot;*.properties&quot; files in the application folder to set the Path variables either.  Is there still a way to go with the Wildcard approach for the AppLocker? (this would eventually also save us time)"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1670954439,"post_id":74781754,"comment_id":131990919,"body_markdown":"@user136819 Based on [the docs](https://github.com/isbrahm/windows-itpro-docs/blob/2a1630822c9833417543a87d959638eab5f21c4f/windows/security/threat-protection/windows-defender-application-control/select-types-of-rules-to-create.md) you can only use a wildcard at the beginning or end of the path, not in the middle.","body":"@user136819 Based on <a href=\"https://github.com/isbrahm/windows-itpro-docs/blob/2a1630822c9833417543a87d959638eab5f21c4f/windows/security/threat-protection/windows-defender-application-control/select-types-of-rules-to-create.md\" rel=\"nofollow noreferrer\">the docs</a> you can only use a wildcard at the beginning or end of the path, not in the middle."},{"owner":{"account_id":11322688,"reputation":239,"user_id":8302613,"accept_rate":75,"display_name":"user136819"},"score":0,"creation_date":1671048261,"post_id":74781754,"comment_id":132015951,"body_markdown":"I see. Well, it was worth a shot with the AppLocker.\nBut I saw something like &quot;jna.tmpdir&quot; and &quot;java.io.tmpdir&quot; on this question here:   https://stackoverflow.com/questions/59763859/how-to-override-jna-tmpdir-and-java-io-tmpdir-properties-in-testcontainers  ...  Anyway I can override these 2 props? (this may even help the original poster of that question!)","body":"I see. Well, it was worth a shot with the AppLocker. But I saw something like &quot;jna.tmpdir&quot; and &quot;java.io.tmpdir&quot; on this question here:   <a href=\"https://stackoverflow.com/questions/59763859/how-to-override-jna-tmpdir-and-java-io-tmpdir-properties-in-testcontainers\" title=\"how to override jna tmpdir and java io tmpdir properties in testcontainers\">stackoverflow.com/questions/59763859/&hellip;</a>  ...  Anyway I can override these 2 props? (this may even help the original poster of that question!)"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671055789,"post_id":74781754,"comment_id":132017919,"body_markdown":"@user136819 Those would work: Those properties just override the location that you extract the DLL to.  So you could set those to always extract to `C:\\your\\custom\\path` where you&#39;ve added `C:\\your\\custom\\path\\*` to AppLocker.  You&#39;ll still get a randomly named jna dll in that directory.  But they still require a &quot;Java System Property&quot; to be set by whoever is starting the jvm using a `-D` switch on the command line.  If you have any control over the JVM when starting this program you can do that.  If it&#39;s a compiled executable you can&#39;t and need to ask the authors to enable it.","body":"@user136819 Those would work: Those properties just override the location that you extract the DLL to.  So you could set those to always extract to <code>C:\\your\\custom\\path</code> where you&#39;ve added <code>C:\\your\\custom\\path\\*</code> to AppLocker.  You&#39;ll still get a randomly named jna dll in that directory.  But they still require a &quot;Java System Property&quot; to be set by whoever is starting the jvm using a <code>-D</code> switch on the command line.  If you have any control over the JVM when starting this program you can do that.  If it&#39;s a compiled executable you can&#39;t and need to ask the authors to enable it."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671055952,"post_id":74781754,"comment_id":132017959,"body_markdown":"@user136819 in theory you could change the environment variable `%TEMP%` to an allowed location and you would know it would be under a JNA path there.  I&#39;m not sure, but it&#39;s possible that an AppLocker path `%TEMP%\\jna*` might work?","body":"@user136819 in theory you could change the environment variable <code>%TEMP%</code> to an allowed location and you would know it would be under a JNA path there.  I&#39;m not sure, but it&#39;s possible that an AppLocker path <code>%TEMP%\\jna*</code> might work?"},{"owner":{"account_id":11322688,"reputation":239,"user_id":8302613,"accept_rate":75,"display_name":"user136819"},"score":0,"creation_date":1671445550,"post_id":74781754,"comment_id":132093298,"body_markdown":"Unfortunately, the AppLocker reconfiguration isn&#39;t an option with `%TEMP%` anymore due to hardening of the server and we aren&#39;t allowed to change this.\n\nBut we are thinking of going with the `-D` switch via command line.\nCurrently, we pass something like this in command line to open the Java app:\n`&quot;C:\\&lt;J-APP&gt;\\java\\bin\\javaw.exe&quot; -classpath &quot;C:\\&lt;J-APP&gt;\\&lt;J-APP&gt;.exe;commons-logging-1.2.jar;httpclient-4.5.10.jar;httpcore-4.4.12.jar&quot; com.x.x.java.ui.JAppLauncher`\n\nWhere can I include the `-D` switch path in the above command? (i.e. this part: `-Djna.boot.library.path=C:\\your\\path`)","body":"Unfortunately, the AppLocker reconfiguration isn&#39;t an option with <code>%TEMP%</code> anymore due to hardening of the server and we aren&#39;t allowed to change this.  But we are thinking of going with the <code>-D</code> switch via command line. Currently, we pass something like this in command line to open the Java app: <code>&quot;C:\\&lt;J-APP&gt;\\java\\bin\\javaw.exe&quot; -classpath &quot;C:\\&lt;J-APP&gt;\\&lt;J-APP&gt;.exe;commons-logging-1.2.jar;httpclient-4&zwnj;&#8203;.5.10.jar;httpcore-4&zwnj;&#8203;.4.12.jar&quot; com.x.x.java.ui.JAppLauncher</code>  Where can I include the <code>-D</code> switch path in the above command? (i.e. this part: <code>-Djna.boot.library.path=C:\\your\\path</code>)"},{"owner":{"account_id":11322688,"reputation":239,"user_id":8302613,"accept_rate":75,"display_name":"user136819"},"score":0,"creation_date":1671453523,"post_id":74781754,"comment_id":132095486,"body_markdown":"An additional comment: is there any way a custom JAR file will be able to override the `jna.tmpdir` and `java.io.tmpdir`? Can we be able to create one or does it exist online already?","body":"An additional comment: is there any way a custom JAR file will be able to override the <code>jna.tmpdir</code> and <code>java.io.tmpdir</code>? Can we be able to create one or does it exist online already?"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671472798,"post_id":74781754,"comment_id":132102168,"body_markdown":"@user136819 how are you starting the program? If you&#39;re executing via Java you just add those as command line arguments.","body":"@user136819 how are you starting the program? If you&#39;re executing via Java you just add those as command line arguments."},{"owner":{"account_id":11322688,"reputation":239,"user_id":8302613,"accept_rate":75,"display_name":"user136819"},"score":1,"creation_date":1671819425,"post_id":74781754,"comment_id":132184131,"body_markdown":"so basically the program can be started from the command line, but we were exploring ways to just use the `&lt;J-APP&gt;.exe` executable instead of passing a long command line argument. Ultimately, we ended up simply using the command line thing and finally, we were able to solve our issue with this command: `&quot;C:\\&lt;J-APP&gt;\\java\\bin\\javaw.exe&quot; -Djava.io.tmpdir=&quot;C:\\&lt;J-APP&gt;\\temp&quot; -classpath &quot;C:\\&lt;J-APP&gt;\\&lt;J-APP&gt;.exe;commons-logging-1.2.jar;httpclient-4.5.10.jar;httpcore-4.4.12.jar&quot; com.x.x.java.ui.JAppLauncher` . Now, the DLL is generated into the custom path! ;)\n\nThank you for your hints!","body":"so basically the program can be started from the command line, but we were exploring ways to just use the <code>&lt;J-APP&gt;.exe</code> executable instead of passing a long command line argument. Ultimately, we ended up simply using the command line thing and finally, we were able to solve our issue with this command: <code>&quot;C:\\&lt;J-APP&gt;\\java\\bin\\javaw.exe&quot; -Djava.io.tmpdir=&quot;C:\\&lt;J-APP&gt;\\temp&quot; -classpath &quot;C:\\&lt;J-APP&gt;\\&lt;J-APP&gt;.exe;commons-logging-1.2.jar;httpclient-4&zwnj;&#8203;.5.10.jar;httpcore-4&zwnj;&#8203;.4.12.jar&quot; com.x.x.java.ui.JAppLauncher</code> . Now, the DLL is generated into the custom path! ;)  Thank you for your hints!"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671824812,"post_id":74781754,"comment_id":132185228,"body_markdown":"@user136819 a little late but I just realized the `_JAVA_OPTIONS` environment vairable migh thave worked with the .exe: `export _JAVA_OPTIONS=-Djava.io.tmpdir=/new/tmp/dir`","body":"@user136819 a little late but I just realized the <code>_JAVA_OPTIONS</code> environment vairable migh thave worked with the .exe: <code>export _JAVA_OPTIONS=-Djava.io.tmpdir=&#47;new&#47;tmp&#47;dir</code>"}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671825119,"creation_date":1670919180,"answer_id":74781754,"question_id":74772475,"body_markdown":"Based on [the available documentation][1] I could find, it appears that a wildcard (`*`) character is only supported in AppLocker at the beginning or end of a path, but not in the middle.  So your proposed solution is impossible.\r\n\r\nHowever, rather than using a wildcard in the path for AppLocker, you can pre-extract the JNA native library to a known location for all users.  This is a relatively common need for security purposes (exactly your intent), sometimes related to temp directory access permissions or sometimes related to signing binaries.  \r\n\r\nFrom the JNA API Overview [Loading JNA][2]:\r\n&gt; JNA includes a small, platform-specific shared library which enables all native access. When the Native class is first accessed, JNA will first attempt to load this library from the directories specified in `jna.boot.library.path`. If that fails and `jna.nosys=false` is set, it will fall back to loading from the system library paths. Finally it will attempt to extract the stub library from from the JNA jar file, and load it.\r\n\r\nThis gives you two options to avoid the randomly-named temporary file.  Copy it to:\r\n - a directory of your choice, and either pass `-Djna.boot.library.path=C:\\your\\path` on the java command line, or before loading JNA call `System.setProperty(&quot;jna.boot.library.path&quot;, &quot;C:\\your\\path&quot;)` in your program.\r\n - a system directory on the PATH, e.g. System32, and set `jna.nosys=false`.  (You can also set `jna.nounpack=true` to prevent the temp file unpacking.)\r\n\r\nIn addition, the JNA native library will be in a subdirectory of the Java temporary directory specified by the `java.io.tmpdir` system property.  See this SO question: https://stackoverflow.com/questions/1924136/environment-variable-to-control-java-io-tmpdir\r\n\r\nAnswers to that question include using the `_JAVA_OPTIONS` environment variable as a possible means to change the tmpdir even if you&#39;re running an executable rather than Java command line.\r\n\r\n  [1]: https://github.com/isbrahm/windows-itpro-docs/blob/2a1630822c9833417543a87d959638eab5f21c4f/windows/security/threat-protection/windows-defender-application-control/select-types-of-rules-to-create.md\r\n  [2]: https://java-native-access.github.io/jna/5.12.1/javadoc/overview-summary.html#loading","title":"Windows AppLocker Path Wildcards for Files and Folders","body":"<p>Based on <a href=\"https://github.com/isbrahm/windows-itpro-docs/blob/2a1630822c9833417543a87d959638eab5f21c4f/windows/security/threat-protection/windows-defender-application-control/select-types-of-rules-to-create.md\" rel=\"nofollow noreferrer\">the available documentation</a> I could find, it appears that a wildcard (<code>*</code>) character is only supported in AppLocker at the beginning or end of a path, but not in the middle.  So your proposed solution is impossible.</p>\n<p>However, rather than using a wildcard in the path for AppLocker, you can pre-extract the JNA native library to a known location for all users.  This is a relatively common need for security purposes (exactly your intent), sometimes related to temp directory access permissions or sometimes related to signing binaries.</p>\n<p>From the JNA API Overview <a href=\"https://java-native-access.github.io/jna/5.12.1/javadoc/overview-summary.html#loading\" rel=\"nofollow noreferrer\">Loading JNA</a>:</p>\n<blockquote>\n<p>JNA includes a small, platform-specific shared library which enables all native access. When the Native class is first accessed, JNA will first attempt to load this library from the directories specified in <code>jna.boot.library.path</code>. If that fails and <code>jna.nosys=false</code> is set, it will fall back to loading from the system library paths. Finally it will attempt to extract the stub library from from the JNA jar file, and load it.</p>\n</blockquote>\n<p>This gives you two options to avoid the randomly-named temporary file.  Copy it to:</p>\n<ul>\n<li>a directory of your choice, and either pass <code>-Djna.boot.library.path=C:\\your\\path</code> on the java command line, or before loading JNA call <code>System.setProperty(&quot;jna.boot.library.path&quot;, &quot;C:\\your\\path&quot;)</code> in your program.</li>\n<li>a system directory on the PATH, e.g. System32, and set <code>jna.nosys=false</code>.  (You can also set <code>jna.nounpack=true</code> to prevent the temp file unpacking.)</li>\n</ul>\n<p>In addition, the JNA native library will be in a subdirectory of the Java temporary directory specified by the <code>java.io.tmpdir</code> system property.  See this SO question: <a href=\"https://stackoverflow.com/questions/1924136/environment-variable-to-control-java-io-tmpdir\">Environment variable to control java.io.tmpdir?</a></p>\n<p>Answers to that question include using the <code>_JAVA_OPTIONS</code> environment variable as a possible means to change the tmpdir even if you're running an executable rather than Java command line.</p>\n"}],"owner":{"account_id":11322688,"reputation":239,"user_id":8302613,"accept_rate":75,"display_name":"user136819"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74781754,"answer_count":1,"score":1,"last_activity_date":1671825119,"creation_date":1670854712,"question_id":74772475,"body_markdown":"I have a **Java Application** which generates a temporary JNA folder and a temporary DLL file to the following location in the users&#39; profile:\r\n\r\n```%OSDRIVE%\\Users\\ABC-&lt;SOME-USER-ID&gt;\\AppData\\Local\\Temp\\jna--881477353\\jna7513918229606912988.dll```\r\n\r\n(the JNA folder and file names contain random numbers as suffix and with prefix &quot;**jna--**&quot; , &quot;**jna**&quot; respectively)\r\n\r\nThe JNA DLL file &quot;**Path**&quot; needs to be made an exception in Application Control Policies, specifically in ```AppLocker -&gt; DLL Rules -&gt; [Users] -&gt; Exceptions``` in order for the Java app to function properly. At the moment, it is blocked by the AppLocker, however, if I add this path to the AppLocker, it will work for the **current user**.\r\n\r\nNow, this is achievable for 1 user, but I have many users with the prefix as &quot;**ABC-**&quot; and the suffix &quot;**SOME-USER-ID**&quot; contains a random string with numbers and letters, i.e. many users who have prefix &quot;**ABC-**&quot; should be able to use this application without the need for manually adding every users&#39; profile path into the AppLocker configuration.\r\n\r\nIs there a way I can &quot;**Wildcard**&quot; this path into the AppLocker configuration?\r\nFor example, something like this:\r\n\r\n```%OSDRIVE%\\Users\\ABC-&lt;WILDCARD&gt;\\AppData\\Local\\Temp\\jna--&lt;WILDCARD&gt;\\jna&lt;WILDCARD&gt;.dll```\r\n\r\nor even:\r\n\r\n```%OSDRIVE%\\Users\\ABC-&lt;WILDCARD&gt;\\AppData\\Local\\Temp\\jna--&lt;WILDCARD&gt;\\*```\r\n\r\nIs there a realistic way of achieving this via Wildcards?\r\nI do not wish to use **&quot;*&quot;** inside the path because it will then allow **ALL** users to be exempted from the AppLocker settings.\r\n\r\nAny help is appreciated.\r\n\r\nThanks in advance!","title":"Windows AppLocker Path Wildcards for Files and Folders","body":"<p>I have a <strong>Java Application</strong> which generates a temporary JNA folder and a temporary DLL file to the following location in the users' profile:</p>\n<p><code>%OSDRIVE%\\Users\\ABC-&lt;SOME-USER-ID&gt;\\AppData\\Local\\Temp\\jna--881477353\\jna7513918229606912988.dll</code></p>\n<p>(the JNA folder and file names contain random numbers as suffix and with prefix &quot;<strong>jna--</strong>&quot; , &quot;<strong>jna</strong>&quot; respectively)</p>\n<p>The JNA DLL file &quot;<strong>Path</strong>&quot; needs to be made an exception in Application Control Policies, specifically in <code>AppLocker -&gt; DLL Rules -&gt; [Users] -&gt; Exceptions</code> in order for the Java app to function properly. At the moment, it is blocked by the AppLocker, however, if I add this path to the AppLocker, it will work for the <strong>current user</strong>.</p>\n<p>Now, this is achievable for 1 user, but I have many users with the prefix as &quot;<strong>ABC-</strong>&quot; and the suffix &quot;<strong>SOME-USER-ID</strong>&quot; contains a random string with numbers and letters, i.e. many users who have prefix &quot;<strong>ABC-</strong>&quot; should be able to use this application without the need for manually adding every users' profile path into the AppLocker configuration.</p>\n<p>Is there a way I can &quot;<strong>Wildcard</strong>&quot; this path into the AppLocker configuration?\nFor example, something like this:</p>\n<p><code>%OSDRIVE%\\Users\\ABC-&lt;WILDCARD&gt;\\AppData\\Local\\Temp\\jna--&lt;WILDCARD&gt;\\jna&lt;WILDCARD&gt;.dll</code></p>\n<p>or even:</p>\n<p><code>%OSDRIVE%\\Users\\ABC-&lt;WILDCARD&gt;\\AppData\\Local\\Temp\\jna--&lt;WILDCARD&gt;\\*</code></p>\n<p>Is there a realistic way of achieving this via Wildcards?\nI do not wish to use <strong>&quot;*&quot;</strong> inside the path because it will then allow <strong>ALL</strong> users to be exempted from the AppLocker settings.</p>\n<p>Any help is appreciated.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","repository","jhipster"],"comments":[{"owner":{"account_id":2469136,"reputation":641,"user_id":2151471,"display_name":"atomfrede"},"score":0,"creation_date":1673939794,"post_id":74903509,"comment_id":132602714,"body_markdown":"Is the method name correct, such that spring can infer the query? Can you try `findAllByCompanyId`?","body":"Is the method name correct, such that spring can infer the query? Can you try <code>findAllByCompanyId</code>?"}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671825113,"creation_date":1671825113,"question_id":74903509,"body_markdown":"I have a jhipster generated gateway, where I want to add a new method to an existing repository (generated with jhipster entity command) This repository is extending by default R2dbcRepository. So far I have implemented my method called findReceiptsByCompanyId() when I am trying to call this method, it gives me the following error:\r\n\r\n    java.lang.IllegalStateException: No MethodInvocation found: Check that an AOP invocation is in progress and that the ExposeInvocationInterceptor is upfront in the interceptor chain. Specifically, note that advices with order HIGHEST_PRECEDENCE will execute before ExposeInvocationInterceptor! In addition, ExposeInvocationInterceptor and ExposeInvocationInterceptor.currentInvocation() must be invoked from the same thread.\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.currentInvocation(ExposeInvocationInterceptor.java:74)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Assembly trace from producer [reactor.core.publisher.MonoError] :\r\n    \treactor.core.publisher.Mono.error(Mono.java:313)\r\n    \torg.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$5(TransactionAspectSupport.java:951)\r\n    Error has been observed at the following site(s):\r\n    \t|_         Mono.error  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$5(TransactionAspectSupport.java:951)\r\n    \t|_     Flux.usingWhen  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$8(TransactionAspectSupport.java:944)\r\n    \t|_          Mono.then  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$7(TransactionAspectSupport.java:958)\r\n    \t|_ Flux.onErrorResume  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$8(TransactionAspectSupport.java:957)\r\n    \t|_   Mono.flatMapMany  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$invokeWithinTransaction$9(TransactionAspectSupport.java:940)\r\n    \t|_   Mono.flatMapMany  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.invokeWithinTransaction(TransactionAspectSupport.java:939)\r\n    \t|_  Flux.contextWrite  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.invokeWithinTransaction(TransactionAspectSupport.java:964)\r\n    \t|_  Flux.contextWrite  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.invokeWithinTransaction(TransactionAspectSupport.java:965)\r\n    \t|_   Flux.collectList  at com.nosi.gateway.web.rest.ReceiptResource.getAllReceiptsByCompanyId(ReceiptResource.java:180)\r\n    \t|_           Mono.map  at org.springframework.http.codec.json.AbstractJackson2Encoder.encode(AbstractJackson2Encoder.java:150)\r\n    \t|_          Mono.flux  at org.springframework.http.codec.json.AbstractJackson2Encoder.encode(AbstractJackson2Encoder.java:151)\r\n    \t|_ Flux.singleOrEmpty  at org.springframework.http.codec.EncoderHttpMessageWriter.write(EncoderHttpMessageWriter.java:129)\r\n    \t|_ Mono.switchIfEmpty  at org.springframework.http.codec.EncoderHttpMessageWriter.write(EncoderHttpMessageWriter.java:130)\r\n    \t|_       Mono.flatMap  at org.springframework.http.codec.EncoderHttpMessageWriter.write(EncoderHttpMessageWriter.java:134)\r\n    \t|_         checkpoint  Handler com.nosi.gateway.web.rest.ReceiptResource#getAllReceiptsByCompanyId(Long) [DispatcherHandler]\r\n    \r\nHow can I fix this? This is how my repository I modified looks like:\r\n\r\n\r\n\r\n    /**\r\n     * Spring Data SQL reactive repository for the Receipt entity.\r\n     */\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @Repository\r\n    public interface ReceiptRepository extends R2dbcRepository&lt;Receipt, Long&gt;, ReceiptRepositoryInternal {\r\n        @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id = :id&quot;)\r\n        Flux&lt;Receipt&gt; findByUser_receipt(Long id);\r\n    \r\n        @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id IS NULL&quot;)\r\n        Flux&lt;Receipt&gt; findAllWhereUser_receiptIsNull();\r\n    \r\n        // just to avoid having unambigous methods\r\n        @Override\r\n        Flux&lt;Receipt&gt; findAll();\r\n    \r\n        @Override\r\n        Flux&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\r\n    \r\n        @Override\r\n        Mono&lt;Receipt&gt; findById(Long id);\r\n    \r\n    \r\n        @Override\r\n        &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\r\n    }\r\n    \r\n    interface ReceiptRepositoryInternal{\r\n        &lt;S extends Receipt&gt; Mono&lt;S&gt; insert(S entity);\r\n        &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\r\n        Mono&lt;Integer&gt; update(Receipt entity);\r\n    \r\n        Flux&lt;Receipt&gt; findAll();\r\n        Mono&lt;Receipt&gt; findById(Long id);\r\n        Flux&lt;Receipt&gt; findAllBy(Pageable pageable);\r\n        Flux&lt;Receipt&gt; findAllBy(Pageable pageable, Criteria criteria);\r\n    \r\n        Flux&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\r\n    \r\n    \r\n    }\r\n\r\nMy service class implementing the method:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class ReceiptService {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\r\n    \r\n        private final ReceiptRepository receiptRepository;\r\n    \r\n        private final ReceiptMapper receiptMapper;\r\n    \r\n        public ReceiptService(ReceiptRepository receiptRepository, ReceiptMapper receiptMapper) {\r\n            this.receiptRepository = receiptRepository;\r\n            this.receiptMapper = receiptMapper;\r\n        }\r\n    \r\n        /**\r\n         * Save a receipt.\r\n         *\r\n         * @param receiptDTO the entity to save.\r\n         * @return the persisted entity.\r\n         */\r\n        public Mono&lt;ReceiptDTO&gt; save(ReceiptDTO receiptDTO) {\r\n            log.debug(&quot;Request to save Receipt : {}&quot;, receiptDTO);\r\n            return receiptRepository.save(receiptMapper.toEntity(receiptDTO)).map(receiptMapper::toDto);\r\n        }\r\n    \r\n        /**\r\n         * Partially update a receipt.\r\n         *\r\n         * @param receiptDTO the entity to update partially.\r\n         * @return the persisted entity.\r\n         */\r\n        public Mono&lt;ReceiptDTO&gt; partialUpdate(ReceiptDTO receiptDTO) {\r\n            log.debug(&quot;Request to partially update Receipt : {}&quot;, receiptDTO);\r\n    \r\n            return receiptRepository\r\n                .findById(receiptDTO.getId())\r\n                .map(existingReceipt -&gt; {\r\n                    receiptMapper.partialUpdate(existingReceipt, receiptDTO);\r\n    \r\n                    return existingReceipt;\r\n                })\r\n                .flatMap(receiptRepository::save)\r\n                .map(receiptMapper::toDto);\r\n        }\r\n    \r\n    \r\n        public Flux&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\r\n            log.debug(&quot;Request to get all Receipts by a company&quot;);\r\n            return receiptRepository.findReceiptsByCompanyId(companyUserID).map(receiptMapper::toDto);\r\n    \r\n       }\r\n    \r\n    }\r\n\r\nAnd finally my controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ReceiptResource {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(ReceiptResource.class);\r\n    \r\n        private static final String ENTITY_NAME = &quot;receipt&quot;;\r\n    \r\n        @Value(&quot;${jhipster.clientApp.name}&quot;)\r\n        private String applicationName;\r\n    \r\n        private final ReceiptService receiptService;\r\n    \r\n        private final ReceiptRepository receiptRepository;\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        public ReceiptResource(ReceiptService receiptService, ReceiptRepository receiptRepository, UserRepository userRepository) {\r\n            this.receiptService = receiptService;\r\n            this.receiptRepository = receiptRepository;\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        /**\r\n         * {@code POST  /receipts} : Create a new receipt.\r\n         *\r\n         * @param receiptDTO the receiptDTO to create.\r\n         * @return the {@link ResponseEntity} with status {@code 201 (Created)} and with body the new receiptDTO, or with status {@code 400 (Bad Request)} if the receipt has already an ID.\r\n         * @throws URISyntaxException if the Location URI syntax is incorrect.\r\n         */\r\n        \r\n        @PostMapping(&quot;/receipts&quot;)\r\n        public Mono&lt;ResponseEntity&lt;ReceiptDTO&gt;&gt; createReceipt(@RequestBody ReceiptDTO receiptDTO) throws URISyntaxException {\r\n            log.debug(&quot;REST request to save Receipt : {}&quot;, receiptDTO);\r\n            if (receiptDTO.getId() != null) {\r\n                throw new BadRequestAlertException(&quot;A new receipt cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\r\n            }\r\n            return receiptService\r\n                .save(receiptDTO)\r\n                .map(result -&gt; {\r\n                    try {\r\n                        return ResponseEntity\r\n                            .created(new URI(&quot;/api/receipts/&quot; + result.getId()))\r\n                            .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\r\n                            .body(result);\r\n                    } catch (URISyntaxException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                });\r\n        }\r\n    \r\n        @GetMapping(&quot;/receipts/byUserId&quot;)\r\n        public Mono&lt;List&lt;ReceiptDTO&gt;&gt; getAllReceiptsByCompanyId(@RequestParam Long companyId) {\r\n            log.debug(&quot;REST request to get all Receipts&quot;);\r\n    \r\n            return receiptService.findByCompany(companyId).collectList();\r\n        }\r\n    }","title":"How to fix jhipster: No MethodInvocation found: Check that an AOP invocation is in when using repository","body":"<p>I have a jhipster generated gateway, where I want to add a new method to an existing repository (generated with jhipster entity command) This repository is extending by default R2dbcRepository. So far I have implemented my method called findReceiptsByCompanyId() when I am trying to call this method, it gives me the following error:</p>\n<pre><code>java.lang.IllegalStateException: No MethodInvocation found: Check that an AOP invocation is in progress and that the ExposeInvocationInterceptor is upfront in the interceptor chain. Specifically, note that advices with order HIGHEST_PRECEDENCE will execute before ExposeInvocationInterceptor! In addition, ExposeInvocationInterceptor and ExposeInvocationInterceptor.currentInvocation() must be invoked from the same thread.\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.currentInvocation(ExposeInvocationInterceptor.java:74)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoError] :\n    reactor.core.publisher.Mono.error(Mono.java:313)\n    org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$5(TransactionAspectSupport.java:951)\nError has been observed at the following site(s):\n    |_         Mono.error  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$5(TransactionAspectSupport.java:951)\n    |_     Flux.usingWhen  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$8(TransactionAspectSupport.java:944)\n    |_          Mono.then  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$7(TransactionAspectSupport.java:958)\n    |_ Flux.onErrorResume  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$null$8(TransactionAspectSupport.java:957)\n    |_   Mono.flatMapMany  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.lambda$invokeWithinTransaction$9(TransactionAspectSupport.java:940)\n    |_   Mono.flatMapMany  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.invokeWithinTransaction(TransactionAspectSupport.java:939)\n    |_  Flux.contextWrite  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.invokeWithinTransaction(TransactionAspectSupport.java:964)\n    |_  Flux.contextWrite  at org.springframework.transaction.interceptor.TransactionAspectSupport$ReactiveTransactionSupport.invokeWithinTransaction(TransactionAspectSupport.java:965)\n    |_   Flux.collectList  at com.nosi.gateway.web.rest.ReceiptResource.getAllReceiptsByCompanyId(ReceiptResource.java:180)\n    |_           Mono.map  at org.springframework.http.codec.json.AbstractJackson2Encoder.encode(AbstractJackson2Encoder.java:150)\n    |_          Mono.flux  at org.springframework.http.codec.json.AbstractJackson2Encoder.encode(AbstractJackson2Encoder.java:151)\n    |_ Flux.singleOrEmpty  at org.springframework.http.codec.EncoderHttpMessageWriter.write(EncoderHttpMessageWriter.java:129)\n    |_ Mono.switchIfEmpty  at org.springframework.http.codec.EncoderHttpMessageWriter.write(EncoderHttpMessageWriter.java:130)\n    |_       Mono.flatMap  at org.springframework.http.codec.EncoderHttpMessageWriter.write(EncoderHttpMessageWriter.java:134)\n    |_         checkpoint  Handler com.nosi.gateway.web.rest.ReceiptResource#getAllReceiptsByCompanyId(Long) [DispatcherHandler]\n</code></pre>\n<p>How can I fix this? This is how my repository I modified looks like:</p>\n<pre><code>/**\n * Spring Data SQL reactive repository for the Receipt entity.\n */\n@SuppressWarnings(&quot;unused&quot;)\n@Repository\npublic interface ReceiptRepository extends R2dbcRepository&lt;Receipt, Long&gt;, ReceiptRepositoryInternal {\n    @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id = :id&quot;)\n    Flux&lt;Receipt&gt; findByUser_receipt(Long id);\n\n    @Query(&quot;SELECT * FROM receipt entity WHERE entity.user_receipt_id IS NULL&quot;)\n    Flux&lt;Receipt&gt; findAllWhereUser_receiptIsNull();\n\n    // just to avoid having unambigous methods\n    @Override\n    Flux&lt;Receipt&gt; findAll();\n\n    @Override\n    Flux&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\n\n    @Override\n    Mono&lt;Receipt&gt; findById(Long id);\n\n\n    @Override\n    &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\n}\n\ninterface ReceiptRepositoryInternal{\n    &lt;S extends Receipt&gt; Mono&lt;S&gt; insert(S entity);\n    &lt;S extends Receipt&gt; Mono&lt;S&gt; save(S entity);\n    Mono&lt;Integer&gt; update(Receipt entity);\n\n    Flux&lt;Receipt&gt; findAll();\n    Mono&lt;Receipt&gt; findById(Long id);\n    Flux&lt;Receipt&gt; findAllBy(Pageable pageable);\n    Flux&lt;Receipt&gt; findAllBy(Pageable pageable, Criteria criteria);\n\n    Flux&lt;Receipt&gt; findReceiptsByCompanyId(Long id);\n\n\n}\n</code></pre>\n<p>My service class implementing the method:</p>\n<pre><code>@Service\n@Transactional\npublic class ReceiptService {\n\n    private final Logger log = LoggerFactory.getLogger(ReceiptService.class);\n\n    private final ReceiptRepository receiptRepository;\n\n    private final ReceiptMapper receiptMapper;\n\n    public ReceiptService(ReceiptRepository receiptRepository, ReceiptMapper receiptMapper) {\n        this.receiptRepository = receiptRepository;\n        this.receiptMapper = receiptMapper;\n    }\n\n    /**\n     * Save a receipt.\n     *\n     * @param receiptDTO the entity to save.\n     * @return the persisted entity.\n     */\n    public Mono&lt;ReceiptDTO&gt; save(ReceiptDTO receiptDTO) {\n        log.debug(&quot;Request to save Receipt : {}&quot;, receiptDTO);\n        return receiptRepository.save(receiptMapper.toEntity(receiptDTO)).map(receiptMapper::toDto);\n    }\n\n    /**\n     * Partially update a receipt.\n     *\n     * @param receiptDTO the entity to update partially.\n     * @return the persisted entity.\n     */\n    public Mono&lt;ReceiptDTO&gt; partialUpdate(ReceiptDTO receiptDTO) {\n        log.debug(&quot;Request to partially update Receipt : {}&quot;, receiptDTO);\n\n        return receiptRepository\n            .findById(receiptDTO.getId())\n            .map(existingReceipt -&gt; {\n                receiptMapper.partialUpdate(existingReceipt, receiptDTO);\n\n                return existingReceipt;\n            })\n            .flatMap(receiptRepository::save)\n            .map(receiptMapper::toDto);\n    }\n\n\n    public Flux&lt;ReceiptDTO&gt; findByCompany(Long companyUserID) {\n        log.debug(&quot;Request to get all Receipts by a company&quot;);\n        return receiptRepository.findReceiptsByCompanyId(companyUserID).map(receiptMapper::toDto);\n\n   }\n\n}\n</code></pre>\n<p>And finally my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ReceiptResource {\n\n    private final Logger log = LoggerFactory.getLogger(ReceiptResource.class);\n\n    private static final String ENTITY_NAME = &quot;receipt&quot;;\n\n    @Value(&quot;${jhipster.clientApp.name}&quot;)\n    private String applicationName;\n\n    private final ReceiptService receiptService;\n\n    private final ReceiptRepository receiptRepository;\n\n    private final UserRepository userRepository;\n\n    public ReceiptResource(ReceiptService receiptService, ReceiptRepository receiptRepository, UserRepository userRepository) {\n        this.receiptService = receiptService;\n        this.receiptRepository = receiptRepository;\n        this.userRepository = userRepository;\n    }\n\n    /**\n     * {@code POST  /receipts} : Create a new receipt.\n     *\n     * @param receiptDTO the receiptDTO to create.\n     * @return the {@link ResponseEntity} with status {@code 201 (Created)} and with body the new receiptDTO, or with status {@code 400 (Bad Request)} if the receipt has already an ID.\n     * @throws URISyntaxException if the Location URI syntax is incorrect.\n     */\n    \n    @PostMapping(&quot;/receipts&quot;)\n    public Mono&lt;ResponseEntity&lt;ReceiptDTO&gt;&gt; createReceipt(@RequestBody ReceiptDTO receiptDTO) throws URISyntaxException {\n        log.debug(&quot;REST request to save Receipt : {}&quot;, receiptDTO);\n        if (receiptDTO.getId() != null) {\n            throw new BadRequestAlertException(&quot;A new receipt cannot already have an ID&quot;, ENTITY_NAME, &quot;idexists&quot;);\n        }\n        return receiptService\n            .save(receiptDTO)\n            .map(result -&gt; {\n                try {\n                    return ResponseEntity\n                        .created(new URI(&quot;/api/receipts/&quot; + result.getId()))\n                        .headers(HeaderUtil.createEntityCreationAlert(applicationName, true, ENTITY_NAME, result.getId().toString()))\n                        .body(result);\n                } catch (URISyntaxException e) {\n                    throw new RuntimeException(e);\n                }\n            });\n    }\n\n    @GetMapping(&quot;/receipts/byUserId&quot;)\n    public Mono&lt;List&lt;ReceiptDTO&gt;&gt; getAllReceiptsByCompanyId(@RequestParam Long companyId) {\n        log.debug(&quot;REST request to get all Receipts&quot;);\n\n        return receiptService.findByCompany(companyId).collectList();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","filenotfoundexception"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671795834,"post_id":74899153,"comment_id":132177942,"body_markdown":"Can you please describe what: `For some reason it wont work,` means? Exception? does not work in IDE? Does not work on command line??","body":"Can you please describe what: <code>For some reason it wont work,</code> means? Exception? does not work in IDE? Does not work on command line??"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671797855,"post_id":74899153,"comment_id":132178455,"body_markdown":"*i also tried variations on the path like &quot;/pws.csv&quot;* And that&#39;s the very one that ought to work.","body":"<i>i also tried variations on the path like &quot;/pws.csv&quot;</i> And that&#39;s the very one that ought to work."},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671799070,"post_id":74899153,"comment_id":132178803,"body_markdown":"@khmarbaise editet the Question to include the error. I am sorry.","body":"@khmarbaise editet the Question to include the error. I am sorry."},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671799101,"post_id":74899153,"comment_id":132178816,"body_markdown":"@g00se sadly it did not, the very reason I am here","body":"@g00se sadly it did not, the very reason I am here"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671800243,"post_id":74899153,"comment_id":132179102,"body_markdown":"Please include the listing of the compiled jar: `jar tf foo-bar-1.0-SNAPSHOT.jar` *formatted as code*\n*@khmarbaise editet the Question to include the error. I am sorry.* I don&#39;t see that edit...","body":"Please include the listing of the compiled jar: <code>jar tf foo-bar-1.0-SNAPSHOT.jar</code> <i>formatted as code</i> <i>@khmarbaise editet the Question to include the error. I am sorry.</i> I don&#39;t see that edit..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671800581,"post_id":74899153,"comment_id":132179196,"body_markdown":"Make it absolute (`/pws.csv`), not relative (without slash)! ...who knows where it otherwise resolves to!? (-&gt; `/com/kolan/pws.csv`!?;)","body":"Make it absolute (<code>&#47;pws.csv</code>), not relative (without slash)! ...who knows where it otherwise resolves to!? (-&gt; <code>&#47;com&#47;kolan&#47;pws.csv</code>!?;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671800732,"post_id":74899153,"comment_id":132179236,"body_markdown":"..and also expand `target/classes` (to verify csv inside)","body":"..and also expand <code>target&#47;classes</code> (to verify csv inside)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671800854,"post_id":74899153,"comment_id":132179263,"body_markdown":"And of course good old: [Class.getResource vs ClassLoader.getResource](https://stackoverflow.com/q/6608795/592355)","body":"And of course good old: <a href=\"https://stackoverflow.com/q/6608795/592355\">Class.getResource vs ClassLoader.getResource</a>"},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671801649,"post_id":74899153,"comment_id":132179465,"body_markdown":"@xerx593 the .csv is under target/classes/com/ is that the correct directory here? Also I tried using the ClassLoader but I got the same result ( Main.class.getClassLoader().getResourceAsStream )","body":"@xerx593 the .csv is under target/classes/com/ is that the correct directory here? Also I tried using the ClassLoader but I got the same result ( Main.class.getClassLoader().getResourceAsStream )"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671802006,"post_id":74899153,"comment_id":132179545,"body_markdown":"*is that the correct directory here?* No. It should be one higher. But according to the gui tree, that shouldn&#39;t be happening","body":"<i>is that the correct directory here?</i> No. It should be one higher. But according to the gui tree, that shouldn&#39;t be happening"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671802018,"post_id":74899153,"comment_id":132179551,"body_markdown":"`com` is really strange(please clean build).","body":"<code>com</code> is really strange(please clean build)."},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671802298,"post_id":74899153,"comment_id":132179620,"body_markdown":"it&#39;s under classes now","body":"it&#39;s under classes now"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671802329,"post_id":74899153,"comment_id":132179629,"body_markdown":"Then it should work with /pws.csv. It&#39;s probably better to have at least one directory of the resource root though","body":"Then it should work with /pws.csv. It&#39;s probably better to have at least one directory of the resource root though"},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671802467,"post_id":74899153,"comment_id":132179671,"body_markdown":"Sadly it does not, i still get the same error when running the jar and the file via intelliJ","body":"Sadly it does not, i still get the same error when running the jar and the file via intelliJ"},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671802568,"post_id":74899153,"comment_id":132179698,"body_markdown":"@g00se what exactly do you mean by that &quot;It&#39;s probably better to have at least one directory of the resource root though&quot; ?","body":"@g00se what exactly do you mean by that &quot;It&#39;s probably better to have at least one directory of the resource root though&quot; ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671802581,"post_id":74899153,"comment_id":132179700,"body_markdown":"Since you still haven&#39;t posted the listing I can&#39;t really say why. Don&#39;t worry about my remark about directories at the moment. That&#39;s not going to help immediately","body":"Since you still haven&#39;t posted the listing I can&#39;t really say why. Don&#39;t worry about my remark about directories at the moment. That&#39;s not going to help immediately"},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671802841,"post_id":74899153,"comment_id":132179801,"body_markdown":"I&#39;m sorry, I added the output to the question","body":"I&#39;m sorry, I added the output to the question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671803892,"post_id":74899153,"comment_id":132180059,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nBut put that into practice right now by pasting the full stack trace of running the jar","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. But put that into practice right now by pasting the full stack trace of running the jar"},{"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"score":0,"creation_date":1671804170,"post_id":74899153,"comment_id":132180138,"body_markdown":"Should be in the answer now","body":"Should be in the answer now"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671807234,"post_id":74899153,"comment_id":132180957,"body_markdown":"Had to leave. Back later","body":"Had to leave. Back later"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671812390,"post_id":74899153,"comment_id":132182352,"body_markdown":"At this stage I&#39;d probably need a link to your source","body":"At this stage I&#39;d probably need a link to your source"}],"answers":[{"tags":[],"owner":{"account_id":9512052,"reputation":15,"user_id":7069685,"display_name":"Stu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671823996,"creation_date":1671823996,"answer_id":74903387,"question_id":74899153,"body_markdown":"Put pwc.csv in a folder that is on the classpath. And of course, double check your classpath setting.","title":"cannot find resource with maven, even with resource marked as root directory","body":"<p>Put pwc.csv in a folder that is on the classpath. And of course, double check your classpath setting.</p>\n"}],"owner":{"account_id":20512494,"reputation":103,"user_id":15053949,"display_name":"Connor Kolan"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671823996,"creation_date":1671795097,"question_id":74899153,"body_markdown":"[![My project strrcture][1]][1]\r\n\r\n\r\nI am trying to read pws.csv in the resources directory with this line:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(App.class.getClass().getResourceAsStream(&quot;pws.csv&quot;)));\r\n\r\nWhen I try to run it in IntelliJ or the comiled jar, I get a NullPointerExceptions, which I understand means that the file cannot be found. I also tried variations on the path like &quot;/pws.csv&quot; and &quot;src/main/resources/pws.csv&quot; and got the same error. My understanding is, that when using maven, &quot;src/main/resources&quot; is a special directory and intelliJ will recognize it, when searching for resources do I have to change some setting to achieve this or am I just stupid ?\r\n\r\nEdit:\r\nListing of the jar:\r\n\r\n[![Listing of the jar][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/orSJa.png\r\n  [2]: https://i.stack.imgur.com/Nbneo.png\r\n\r\nStacktrace of running that jar:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\r\n    \tat java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\r\n    \tat com.kolan.Main.main(Main.java:8)","title":"cannot find resource with maven, even with resource marked as root directory","body":"<p><a href=\"https://i.stack.imgur.com/orSJa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/orSJa.png\" alt=\"My project strrcture\" /></a></p>\n<p>I am trying to read pws.csv in the resources directory with this line:</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(App.class.getClass().getResourceAsStream(&quot;pws.csv&quot;)));\n</code></pre>\n<p>When I try to run it in IntelliJ or the comiled jar, I get a NullPointerExceptions, which I understand means that the file cannot be found. I also tried variations on the path like &quot;/pws.csv&quot; and &quot;src/main/resources/pws.csv&quot; and got the same error. My understanding is, that when using maven, &quot;src/main/resources&quot; is a special directory and intelliJ will recognize it, when searching for resources do I have to change some setting to achieve this or am I just stupid ?</p>\n<p>Edit:\nListing of the jar:</p>\n<p><a href=\"https://i.stack.imgur.com/Nbneo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nbneo.png\" alt=\"Listing of the jar\" /></a></p>\n<p>Stacktrace of running that jar:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\n    at java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\n    at com.kolan.Main.main(Main.java:8)\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671905989,"post_id":74902577,"comment_id":132195868,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":25299544,"reputation":11,"user_id":19124021,"display_name":"unknown"},"score":0,"creation_date":1671920377,"post_id":74903349,"comment_id":132197936,"body_markdown":"i have tried the suggestions mentioned above, nothing seems to work, could you share sample code.","body":"i have tried the suggestions mentioned above, nothing seems to work, could you share sample code."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1671971022,"post_id":74903349,"comment_id":132202261,"body_markdown":"You can check my unit tests: https://github.com/robtimus/connect-sdk-java-spring-boot-starter/tree/master/src/test/java/com/github/robtimus/connect/sdk/java/springboot/autoconfigure","body":"You can check my unit tests: <a href=\"https://github.com/robtimus/connect-sdk-java-spring-boot-starter/tree/master/src/test/java/com/github/robtimus/connect/sdk/java/springboot/autoconfigure\" rel=\"nofollow noreferrer\">github.com/robtimus/connect-sdk-java-spring-boot-starter/tre&zwnj;&#8203;e/&hellip;</a>"}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671823566,"creation_date":1671823566,"answer_id":74903349,"question_id":74902577,"body_markdown":"You&#39;ve already found `ApplicationContextRunner`, but it can do a lot more than you&#39;ve shown here. https://www.baeldung.com/spring-boot-context-runner contains quite some examples.\r\n\r\nWhat I&#39;ve used myself mostly:\r\n* For `@ConditionalOnClass`, use `FilteredClassLoader` (see the above URL)\r\n* For `@ConditionalOnMissingBean` and `@ConditionalOnBean`, create a custom bean provider class that you include additionally using `withUserConfiguration`\r\n* For `@ConditionalOnProperty`, specify these using `withPropertyValues`\r\n* For `@ConditionalOnAvailableEndpoint` and `@ConditionalOnEnabledHealthIndicator`, just add the necessary properties to enable the endpoint or health indicator","title":"Junit tests for @ConditionalOnClass and @ConditionalOnBean annotations","body":"<p>You've already found <code>ApplicationContextRunner</code>, but it can do a lot more than you've shown here. <a href=\"https://www.baeldung.com/spring-boot-context-runner\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-context-runner</a> contains quite some examples.</p>\n<p>What I've used myself mostly:</p>\n<ul>\n<li>For <code>@ConditionalOnClass</code>, use <code>FilteredClassLoader</code> (see the above URL)</li>\n<li>For <code>@ConditionalOnMissingBean</code> and <code>@ConditionalOnBean</code>, create a custom bean provider class that you include additionally using <code>withUserConfiguration</code></li>\n<li>For <code>@ConditionalOnProperty</code>, specify these using <code>withPropertyValues</code></li>\n<li>For <code>@ConditionalOnAvailableEndpoint</code> and <code>@ConditionalOnEnabledHealthIndicator</code>, just add the necessary properties to enable the endpoint or health indicator</li>\n</ul>\n"}],"owner":{"account_id":25299544,"reputation":11,"user_id":19124021,"display_name":"unknown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671823566,"creation_date":1671817629,"question_id":74902577,"body_markdown":"I have my config class as shown below\r\n\r\n\r\n```\r\n@Configuration\r\n@ConditionalOnClass({SomeKeyService.class})\r\n@EnableConfigurationProperties({SomeConfig.class})\r\npublic class MyServiceAutoConfig {\r\n\r\n@Bean\r\n@ConditionalOnProperty(&quot;certificate.password&quot;)\r\n@ConditionalOnBean(KeyStore.class)\r\n@ConditionalOnMissingBean\r\npublic someClass myService(KeyStore ks, SomeConfig config) {\r\nreturn new someClass(ks, config.getPassword());\r\n}\r\n```\r\n\r\n```\r\npublic class MyServiceAutoConfigTest{\r\nApplicationRunner context = new ApplicationRunner().withConfiguration(AutoConfigurations.of(MyServiceAutoConfig.class));\r\n\r\n@Test\r\npublic void givenPropertyShouldHaveSomeClassBean() {\r\nthis.context.withUserConfiguration(MyServiceAutoConfig.class, SomeConfig.class)\r\n.withPropertyValues(&quot;certificate.password=hdgjashjfdjcn&quot;)\r\n.run((context) -&gt; {assertThat(context).hasSingleBean(someClass.class);});\r\n}\r\n```\r\n&gt; someClass implements SomeKeyService and KeyStore is java.security.KeyStore.\r\n\r\n&gt; Error: no beans found of that type.\r\n\r\nMy question is, How do i test these @Conditionals?\r\n","title":"Junit tests for @ConditionalOnClass and @ConditionalOnBean annotations","body":"<p>I have my config class as shown below</p>\n<pre><code>@Configuration\n@ConditionalOnClass({SomeKeyService.class})\n@EnableConfigurationProperties({SomeConfig.class})\npublic class MyServiceAutoConfig {\n\n@Bean\n@ConditionalOnProperty(&quot;certificate.password&quot;)\n@ConditionalOnBean(KeyStore.class)\n@ConditionalOnMissingBean\npublic someClass myService(KeyStore ks, SomeConfig config) {\nreturn new someClass(ks, config.getPassword());\n}\n</code></pre>\n<pre><code>public class MyServiceAutoConfigTest{\nApplicationRunner context = new ApplicationRunner().withConfiguration(AutoConfigurations.of(MyServiceAutoConfig.class));\n\n@Test\npublic void givenPropertyShouldHaveSomeClassBean() {\nthis.context.withUserConfiguration(MyServiceAutoConfig.class, SomeConfig.class)\n.withPropertyValues(&quot;certificate.password=hdgjashjfdjcn&quot;)\n.run((context) -&gt; {assertThat(context).hasSingleBean(someClass.class);});\n}\n</code></pre>\n<blockquote>\n<p>someClass implements SomeKeyService and KeyStore is java.security.KeyStore.</p>\n</blockquote>\n<blockquote>\n<p>Error: no beans found of that type.</p>\n</blockquote>\n<p>My question is, How do i test these @Conditionals?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":886578,"reputation":219,"user_id":925884,"accept_rate":100,"display_name":"Curlystraw"},"score":0,"creation_date":1354730093,"post_id":13729294,"comment_id":18861693,"body_markdown":"What SDK are you using? I just pasted your code into Eclipse, and it seems to work fine!","body":"What SDK are you using? I just pasted your code into Eclipse, and it seems to work fine!"},{"owner":{"account_id":2005973,"reputation":3730,"user_id":1795862,"accept_rate":96,"display_name":"adaam"},"score":0,"creation_date":1354736266,"post_id":13729294,"comment_id":18864605,"body_markdown":"I am running the program from within TextMate on Mac OS X, although when I run the program from Terminal, I get no errors. So I think it is an environmental issue rather than anything to do with the source code","body":"I am running the program from within TextMate on Mac OS X, although when I run the program from Terminal, I get no errors. So I think it is an environmental issue rather than anything to do with the source code"},{"owner":{"account_id":3557535,"reputation":2460,"user_id":2970890,"accept_rate":71,"display_name":"Ascendant"},"score":1,"creation_date":1391816566,"post_id":13729294,"comment_id":32703444,"body_markdown":"@adaam The reason you got this error is because TextMate terminal simulator can&#39;t (or not properly configured to) accept inputs, I got the same issue in Sublime Text 2.","body":"@adaam The reason you got this error is because TextMate terminal simulator can&#39;t (or not properly configured to) accept inputs, I got the same issue in Sublime Text 2."}],"answers":[{"tags":[],"owner":{"account_id":2043682,"reputation":813,"user_id":1824286,"accept_rate":38,"display_name":"Addict"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1354730004,"creation_date":1354730004,"answer_id":13729393,"question_id":13729294,"body_markdown":"You should use `hasNextInt()` before assigning value to variable.","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>You should use <code>hasNextInt()</code> before assigning value to variable.</p>\n"},{"comments":[{"owner":{"account_id":2005973,"reputation":3730,"user_id":1795862,"accept_rate":96,"display_name":"adaam"},"score":0,"creation_date":1354730420,"post_id":13729414,"comment_id":18861846,"body_markdown":"I receive &quot;variable number1 might not have been initialized&quot; and the same for the second variable.","body":"I receive &quot;variable number1 might not have been initialized&quot; and the same for the second variable."},{"owner":{"display_name":"user813853"},"score":0,"creation_date":1354734790,"post_id":13729414,"comment_id":18863821,"body_markdown":"that means you have not initialized the variable `number1`. \ntry `int number1 = 0; int number2 = 0; `","body":"that means you have not initialized the variable <code>number1</code>.  try <code>int number1 = 0; int number2 = 0; </code>"}],"tags":[],"owner":{"display_name":"user813853"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1354734992,"creation_date":1354730061,"answer_id":13729414,"question_id":13729294,"body_markdown":"`NoSuchElementException` *Thrown by the `nextElement` method of an Enumeration to indicate that there are no more elements in the enumeration.*\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/NoSuchElementException.html\r\n\r\nHow about this : \r\n\r\n    if(input.hasNextInt() )\r\n         number1 = input.nextInt(); // if there is another number  \r\n    else \r\n         number1 = 0; // nothing added in the input \r\n\r\n","title":"NoSuchElementException with Java.Util.Scanner","body":"<p><code>NoSuchElementException</code> <em>Thrown by the <code>nextElement</code> method of an Enumeration to indicate that there are no more elements in the enumeration.</em></p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/NoSuchElementException.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/NoSuchElementException.html</a></p>\n\n<p>How about this : </p>\n\n<pre><code>if(input.hasNextInt() )\n     number1 = input.nextInt(); // if there is another number  \nelse \n     number1 = 0; // nothing added in the input \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2005973,"reputation":3730,"user_id":1795862,"accept_rate":96,"display_name":"adaam"},"score":0,"creation_date":1354736116,"post_id":13729470,"comment_id":18864529,"body_markdown":"Just a sidenote, (I use Mac OS X) I have been trying to compile and run this source code from within my text editor (TextMate- which allows for this kind of procedure). But I have been experiencing the NoSuchElementException still despite your suggestions. When I javac and java the file inside of Terminal however, the example above runs perfectly  - why is this?","body":"Just a sidenote, (I use Mac OS X) I have been trying to compile and run this source code from within my text editor (TextMate- which allows for this kind of procedure). But I have been experiencing the NoSuchElementException still despite your suggestions. When I javac and java the file inside of Terminal however, the example above runs perfectly  - why is this?"}],"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1354730246,"creation_date":1354730246,"answer_id":13729470,"question_id":13729294,"body_markdown":"`Integer#nextInt` throws `NoSuchElementException` - if input is exhausted\r\n\r\nYou should check if there is a next line with `Integer#hasNextLine`\r\n\r\n    if(sc.hasNextLine()){\r\n        number1=sc.nextInt();\r\n    }\r\n\r\n","title":"NoSuchElementException with Java.Util.Scanner","body":"<p><code>Integer#nextInt</code> throws <code>NoSuchElementException</code> - if input is exhausted</p>\n\n<p>You should check if there is a next line with <code>Integer#hasNextLine</code></p>\n\n<pre><code>if(sc.hasNextLine()){\n    number1=sc.nextInt();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397289,"reputation":17010,"user_id":761330,"accept_rate":97,"display_name":"Terry Li"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1354730664,"creation_date":1354730664,"answer_id":13729573,"question_id":13729294,"body_markdown":"`NoSuchElementException` will be thrown [if no more tokens are available][1]. This is caused by invoking `nextInt()` without checking [if there&#39;s any integer available][2]. To prevent it from happening, you may consider using `hasNextInt()` to check if any more tokens are available.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html#next%28%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html#hasNext%28%29","title":"NoSuchElementException with Java.Util.Scanner","body":"<p><code>NoSuchElementException</code> will be thrown <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html#next%28%29\" rel=\"nofollow\">if no more tokens are available</a>. This is caused by invoking <code>nextInt()</code> without checking <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Iterator.html#hasNext%28%29\" rel=\"nofollow\">if there's any integer available</a>. To prevent it from happening, you may consider using <code>hasNextInt()</code> to check if any more tokens are available.</p>\n"},{"tags":[],"owner":{"account_id":15114345,"reputation":11,"user_id":10907253,"display_name":"Kaushal Vyas 007"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547368961,"creation_date":1547368961,"answer_id":54167294,"question_id":13729294,"body_markdown":"You must add input.close() at the end...","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>You must add input.close() at the end...</p>\n"},{"tags":[],"owner":{"account_id":17022824,"reputation":169,"user_id":12314888,"display_name":"Deepanshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585729117,"creation_date":1585729117,"answer_id":60966389,"question_id":13729294,"body_markdown":"This error is mostly occur in case of 0nline IDE&#39;s on which you are testing your code. It is not configured properly, as if you run the same code on any other IDE/Notepad it works properly because the online IDE is not designed such a way that it will adjust the input code of your format, So you have to take input as the Online IDE supports.\r\n","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>This error is mostly occur in case of 0nline IDE's on which you are testing your code. It is not configured properly, as if you run the same code on any other IDE/Notepad it works properly because the online IDE is not designed such a way that it will adjust the input code of your format, So you have to take input as the Online IDE supports.</p>\n"},{"tags":[],"owner":{"account_id":17861786,"reputation":31,"user_id":12975111,"display_name":"maganoegi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602112629,"creation_date":1602112629,"answer_id":64253592,"question_id":13729294,"body_markdown":"If I may, I solved this issue today by realizing that I had multiple functions that used an instance of a Scanner, each. So basically, try refactoring so that you have only **one instance opened and then closed in the end** - this should work.","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>If I may, I solved this issue today by realizing that I had multiple functions that used an instance of a Scanner, each. So basically, try refactoring so that you have only <strong>one instance opened and then closed in the end</strong> - this should work.</p>\n"},{"tags":[],"owner":{"account_id":20265046,"reputation":15,"user_id":14862455,"display_name":"Saeed Dai Alnoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615283690,"creation_date":1615283690,"answer_id":66544602,"question_id":13729294,"body_markdown":"I faced this Error with nextDouble(), when I input numbers such as 5.3, 23.8 ... I think that was from my PC depending on computer settings that use Arabic (23,33 instead 23.33),  I fixed it with add: \r\nScanner scanner = new Scanner(System.in).useLocale(Locale.US);","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>I faced this Error with nextDouble(), when I input numbers such as 5.3, 23.8 ... I think that was from my PC depending on computer settings that use Arabic (23,33 instead 23.33),  I fixed it with add:\nScanner scanner = new Scanner(System.in).useLocale(Locale.US);</p>\n"},{"tags":[],"owner":{"account_id":7844722,"reputation":116,"user_id":5930157,"display_name":"douglas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661777743,"creation_date":1661777743,"answer_id":73529132,"question_id":13729294,"body_markdown":"For anyone using gradle&#39;s application plugin, you must wire it to the standard console in build.gradle(.kts) otherwise it will keep throwing the NoSuchElementException error if you try to use scanner.\r\n\r\nFor groovy:\r\n\r\n    run {\r\n    standardInput = System.in}\r\n\r\nFor gradle kotlin dsl:\r\n\r\n    tasks.withType&lt;JavaExec&gt;() {\r\n    standardInput = System.`in`}","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>For anyone using gradle's application plugin, you must wire it to the standard console in build.gradle(.kts) otherwise it will keep throwing the NoSuchElementException error if you try to use scanner.</p>\n<p>For groovy:</p>\n<pre><code>run {\nstandardInput = System.in}\n</code></pre>\n<p>For gradle kotlin dsl:</p>\n<pre><code>tasks.withType&lt;JavaExec&gt;() {\nstandardInput = System.`in`}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17878793,"reputation":1,"user_id":12988134,"display_name":"Utkarshthgr8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671823385,"creation_date":1671823385,"answer_id":74903326,"question_id":13729294,"body_markdown":"I added a **single static scanner** (sc) at the top of my class and closed it (sc.close()) when coming out of the whole class wherever I used return statements. Again that&#39;s **one instance of scanner** as suggested by another answer, which should be **static**.\r\n\r\n\r\n    package com.example.com;\r\n\timport java.util.Scanner;\r\n\r\n\tpublic class someClass {\r\n\t\tstatic Scanner sc = new Scanner(System.in);\r\n\t\t//Whole world of methods using same sc.\r\n\t\t//sc.close()); return;\r\n\t}\r\n\r\nOther than that you can add @SuppressWarnings(&quot;resource&quot;) on the top of the troubling method to *make the warning go away.* But be careful about resource leaks.","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>I added a <strong>single static scanner</strong> (sc) at the top of my class and closed it (sc.close()) when coming out of the whole class wherever I used return statements. Again that's <strong>one instance of scanner</strong> as suggested by another answer, which should be <strong>static</strong>.</p>\n<pre><code>package com.example.com;\nimport java.util.Scanner;\n\npublic class someClass {\n    static Scanner sc = new Scanner(System.in);\n    //Whole world of methods using same sc.\n    //sc.close()); return;\n}\n</code></pre>\n<p>Other than that you can add @SuppressWarnings(&quot;resource&quot;) on the top of the troubling method to <em>make the warning go away.</em> But be careful about resource leaks.</p>\n"}],"owner":{"account_id":2005973,"reputation":3730,"user_id":1795862,"accept_rate":96,"display_name":"adaam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114657,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":13729414,"answer_count":10,"score":22,"last_activity_date":1671823385,"creation_date":1354729658,"question_id":13729294,"body_markdown":"I am very new to Java but am working through the book Java: How to program (9th ed.) and have reached an example where for the life of me I cannot figure out what the problem is.\r\n\r\nHere is a (slightly) augmented version of the source code example in the textbook:\r\n\r\n    import java.util.Scanner;\r\n    public class Addition {\r\n      public static void main(String[] args) {\r\n        // creates a scanner to obtain input from a command window\r\n    \r\n        Scanner input = new Scanner(System.in);\r\n    \r\n        int number1; // first number to add\r\n        int number2; // second number to add\r\n        int sum; // sum of 1 &amp; 2\r\n    \r\n        System.out.print(&quot;Enter First Integer: &quot;); // prompt\r\n        number1 = input.nextInt(); // reads first number inputted by user\r\n    \r\n        System.out.print(&quot;Enter Second Integer: &quot;); // prompt 2 \r\n        number2 = input.nextInt(); // reads second number from user\r\n    \r\n        sum = number1 + number2; // addition takes place, then stores the total of the two numbers in sum\r\n    \r\n        System.out.printf( &quot;Sum is %d\\n&quot;, sum ); // displays the sum on screen\r\n      } // end method main\r\n    } // end class Addition\r\n\r\nI am getting the &#39;NoSuchElementException&#39; error:\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.util.Scanner.throwFor(Scanner.java:838)\r\n\tat java.util.Scanner.next(Scanner.java:1461)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2091)\r\n\tat java.util.Scanner.nextInt(Scanner.java:2050)\r\n\tat Addition.main(Addition.java:16)\r\n    Enter First Integer:\r\n\r\nI understand that this is probably due to something in the source code that is incompatible with the `Scanner` class from `java.util`, but I really can&#39;t get any further than this in terms of deducing what the problem is.","title":"NoSuchElementException with Java.Util.Scanner","body":"<p>I am very new to Java but am working through the book Java: How to program (9th ed.) and have reached an example where for the life of me I cannot figure out what the problem is.</p>\n\n<p>Here is a (slightly) augmented version of the source code example in the textbook:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Addition {\n  public static void main(String[] args) {\n    // creates a scanner to obtain input from a command window\n\n    Scanner input = new Scanner(System.in);\n\n    int number1; // first number to add\n    int number2; // second number to add\n    int sum; // sum of 1 &amp; 2\n\n    System.out.print(\"Enter First Integer: \"); // prompt\n    number1 = input.nextInt(); // reads first number inputted by user\n\n    System.out.print(\"Enter Second Integer: \"); // prompt 2 \n    number2 = input.nextInt(); // reads second number from user\n\n    sum = number1 + number2; // addition takes place, then stores the total of the two numbers in sum\n\n    System.out.printf( \"Sum is %d\\n\", sum ); // displays the sum on screen\n  } // end method main\n} // end class Addition\n</code></pre>\n\n<p>I am getting the 'NoSuchElementException' error:</p>\n\n<pre><code>Exception in thread \"main\" java.util.NoSuchElementException\nat java.util.Scanner.throwFor(Scanner.java:838)\nat java.util.Scanner.next(Scanner.java:1461)\nat java.util.Scanner.nextInt(Scanner.java:2091)\nat java.util.Scanner.nextInt(Scanner.java:2050)\nat Addition.main(Addition.java:16)\nEnter First Integer:\n</code></pre>\n\n<p>I understand that this is probably due to something in the source code that is incompatible with the <code>Scanner</code> class from <code>java.util</code>, but I really can't get any further than this in terms of deducing what the problem is.</p>\n"},{"tags":["java","json","jackson","record"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1671726361,"post_id":74890806,"comment_id":132164446,"body_markdown":"if a json object contains a field that contains a &quot;discriminator&quot; you can setup your classes in a hierachy where the base class contains only that field (and all common fields) and have subclasses for each discriminator value. https://www.baeldung.com/jackson-inheritance#2-per-class-annotations is an example of that. `@JsonSubTypes` defines the value to class mapping and `@JsonTypeInfo` defines the field name - or see https://stackoverflow.com/questions/18394819/jackson-polymorphism-how-to-map-multiple-subtypes-to-the-same-class","body":"if a json object contains a field that contains a &quot;discriminator&quot; you can setup your classes in a hierachy where the base class contains only that field (and all common fields) and have subclasses for each discriminator value. <a href=\"https://www.baeldung.com/jackson-inheritance#2-per-class-annotations\" rel=\"nofollow noreferrer\">baeldung.com/jackson-inheritance#2-per-class-annotations</a> is an example of that. <code>@JsonSubTypes</code> defines the value to class mapping and <code>@JsonTypeInfo</code> defines the field name - or see <a href=\"https://stackoverflow.com/questions/18394819/jackson-polymorphism-how-to-map-multiple-subtypes-to-the-same-class\" title=\"jackson polymorphism how to map multiple subtypes to the same class\">stackoverflow.com/questions/18394819/&hellip;</a>"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1671729180,"post_id":74890806,"comment_id":132165248,"body_markdown":"indeed, but as far as I know that won&#39;t work on Java records as they can&#39;t extend from a base...","body":"indeed, but as far as I know that won&#39;t work on Java records as they can&#39;t extend from a base..."}],"answers":[{"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":2,"creation_date":1671729443,"post_id":74891785,"comment_id":132165341,"body_markdown":"You can add the type field as a `name` property in the `@JsonSubTypes.Type` annotation, but this works with or without discriminator as long as the fields in your records are never exactly the same","body":"You can add the type field as a <code>name</code> property in the <code>@JsonSubTypes.Type</code> annotation, but this works with or without discriminator as long as the fields in your records are never exactly the same"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1671745415,"post_id":74891785,"comment_id":132169554,"body_markdown":"wow, really like this approach! thanks for your very detailed explanation and test case!!!","body":"wow, really like this approach! thanks for your very detailed explanation and test case!!!"}],"tags":[],"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1671823246,"creation_date":1671729284,"answer_id":74891785,"question_id":74890806,"body_markdown":"Records cannot inherit because they are intended to be a solid contract, but they can implement an interface. So you can do something like this with `JasonSubTypes` with Jackson 2.12 or above:\r\n\r\nModels\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record Drawing(\r\n        String name,\r\n        List&lt;BaseShape&gt; shapes\r\n) { }\r\n\r\n// added benefit of interface here is it reminds you to have the default fields\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(ShapeA.class),\r\n        @JsonSubTypes.Type(ShapeB.class),\r\n        @JsonSubTypes.Type(ShapeC.class)\r\n})\r\npublic interface BaseShape {\r\n    Integer width();\r\n    Integer height();\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record ShapeA (\r\n        Integer width,\r\n        Integer height,\r\n        String label\r\n) implements BaseShape { }\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record ShapeB(\r\n        Integer width,\r\n        Integer height,\r\n        Integer length\r\n) implements BaseShape { }\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record ShapeC(\r\n        Integer width,\r\n        Integer height,\r\n        String url,\r\n        String color\r\n) implements BaseShape { }\r\n```\r\n\r\nTest Class\r\n```java\r\n@Slf4j\r\nclass DemoTest {\r\n\r\n    private ObjectMapper objectMapper = ObjectMapperBuilder.getObjectMapper();\r\n\r\n    @Test\r\n    void test() throws JsonProcessingException {\r\n        final String testString = objectMapper\r\n                .writerWithDefaultPrettyPrinter()\r\n                .writeValueAsString(\r\n                        new Drawing(\r\n                                &quot;happy&quot;,\r\n                                List.of(\r\n                                        new ShapeA(1, 1, &quot;happyShape&quot;),\r\n                                        new ShapeB(2, 2, 3),\r\n                                        new ShapeC(2, 2, &quot;www.shape.com/shape&quot;, &quot;blue&quot;\r\n                                        )\r\n                                )\r\n                        )\r\n                );\r\n\r\n        log.info(&quot;From model to string {}&quot;, testString);\r\n\r\n        Drawing drawing = objectMapper.readValue(testString, Drawing.class);\r\n\r\n        log.info(\r\n                &quot;Captured types {}&quot;,\r\n                drawing\r\n                    .shapes()\r\n                    .stream()\r\n                    .map(s -&gt; s.getClass().getName())\r\n                    .collect(Collectors.toSet())\r\n        );\r\n\r\n        log.info(\r\n                &quot;From string back to model then again to string {}&quot;,\r\n                objectMapper\r\n                    .writerWithDefaultPrettyPrinter()\r\n                    .writeValueAsString(drawing)\r\n        );\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nHere&#39;s the test log output:\r\n```log\r\n17:06:41.293 [Test worker] INFO com.demo.DemoTest - From model to string {\r\n  &quot;name&quot; : &quot;happy&quot;,\r\n  &quot;shapes&quot; : [ {\r\n    &quot;width&quot; : 1,\r\n    &quot;height&quot; : 1,\r\n    &quot;label&quot; : &quot;happyShape&quot;\r\n  }, {\r\n    &quot;width&quot; : 2,\r\n    &quot;height&quot; : 2,\r\n    &quot;length&quot; : 3\r\n  }, {\r\n    &quot;width&quot; : 2,\r\n    &quot;height&quot; : 2,\r\n    &quot;url&quot; : &quot;www.shape.com/shape&quot;,\r\n    &quot;color&quot; : &quot;blue&quot;\r\n  } ]\r\n}\r\n17:06:41.353 [Test worker] INFO com.demo.DemoTest - Captured types [com.demo.DemoTest$ShapeB, com.demo.DemoTest$ShapeA, com.demo.DemoTest$ShapeC]\r\n17:06:41.354 [Test worker] INFO com.demo.DemoTest - From string back to model then again to string {\r\n  &quot;name&quot; : &quot;happy&quot;,\r\n  &quot;shapes&quot; : [ {\r\n    &quot;width&quot; : 1,\r\n    &quot;height&quot; : 1,\r\n    &quot;label&quot; : &quot;happyShape&quot;\r\n  }, {\r\n    &quot;width&quot; : 2,\r\n    &quot;height&quot; : 2,\r\n    &quot;length&quot; : 3\r\n  }, {\r\n    &quot;width&quot; : 2,\r\n    &quot;height&quot; : 2,\r\n    &quot;url&quot; : &quot;www.shape.com/shape&quot;,\r\n    &quot;color&quot; : &quot;blue&quot;\r\n  } ]\r\n}\r\n\r\n```\r\n\r\nNote that you can add the `type` field as a `name` property of the `@JsonSubTypes.Type` annotation, but this works with or without discriminator as long as the fields in your records are never exactly the same.\r\n\r\nYou can read more about `JsonSubtypes` [**here**](https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818).","title":"Parse JSON to Java records with fasterxml.jackson","body":"<p>Records cannot inherit because they are intended to be a solid contract, but they can implement an interface. So you can do something like this with <code>JasonSubTypes</code> with Jackson 2.12 or above:</p>\n<p>Models</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record Drawing(\n        String name,\n        List&lt;BaseShape&gt; shapes\n) { }\n\n// added benefit of interface here is it reminds you to have the default fields\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(ShapeA.class),\n        @JsonSubTypes.Type(ShapeB.class),\n        @JsonSubTypes.Type(ShapeC.class)\n})\npublic interface BaseShape {\n    Integer width();\n    Integer height();\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record ShapeA (\n        Integer width,\n        Integer height,\n        String label\n) implements BaseShape { }\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record ShapeB(\n        Integer width,\n        Integer height,\n        Integer length\n) implements BaseShape { }\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record ShapeC(\n        Integer width,\n        Integer height,\n        String url,\n        String color\n) implements BaseShape { }\n</code></pre>\n<p>Test Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\nclass DemoTest {\n\n    private ObjectMapper objectMapper = ObjectMapperBuilder.getObjectMapper();\n\n    @Test\n    void test() throws JsonProcessingException {\n        final String testString = objectMapper\n                .writerWithDefaultPrettyPrinter()\n                .writeValueAsString(\n                        new Drawing(\n                                &quot;happy&quot;,\n                                List.of(\n                                        new ShapeA(1, 1, &quot;happyShape&quot;),\n                                        new ShapeB(2, 2, 3),\n                                        new ShapeC(2, 2, &quot;www.shape.com/shape&quot;, &quot;blue&quot;\n                                        )\n                                )\n                        )\n                );\n\n        log.info(&quot;From model to string {}&quot;, testString);\n\n        Drawing drawing = objectMapper.readValue(testString, Drawing.class);\n\n        log.info(\n                &quot;Captured types {}&quot;,\n                drawing\n                    .shapes()\n                    .stream()\n                    .map(s -&gt; s.getClass().getName())\n                    .collect(Collectors.toSet())\n        );\n\n        log.info(\n                &quot;From string back to model then again to string {}&quot;,\n                objectMapper\n                    .writerWithDefaultPrettyPrinter()\n                    .writeValueAsString(drawing)\n        );\n    }\n\n}\n\n</code></pre>\n<p>Here's the test log output:</p>\n<pre><code>17:06:41.293 [Test worker] INFO com.demo.DemoTest - From model to string {\n  &quot;name&quot; : &quot;happy&quot;,\n  &quot;shapes&quot; : [ {\n    &quot;width&quot; : 1,\n    &quot;height&quot; : 1,\n    &quot;label&quot; : &quot;happyShape&quot;\n  }, {\n    &quot;width&quot; : 2,\n    &quot;height&quot; : 2,\n    &quot;length&quot; : 3\n  }, {\n    &quot;width&quot; : 2,\n    &quot;height&quot; : 2,\n    &quot;url&quot; : &quot;www.shape.com/shape&quot;,\n    &quot;color&quot; : &quot;blue&quot;\n  } ]\n}\n17:06:41.353 [Test worker] INFO com.demo.DemoTest - Captured types [com.demo.DemoTest$ShapeB, com.demo.DemoTest$ShapeA, com.demo.DemoTest$ShapeC]\n17:06:41.354 [Test worker] INFO com.demo.DemoTest - From string back to model then again to string {\n  &quot;name&quot; : &quot;happy&quot;,\n  &quot;shapes&quot; : [ {\n    &quot;width&quot; : 1,\n    &quot;height&quot; : 1,\n    &quot;label&quot; : &quot;happyShape&quot;\n  }, {\n    &quot;width&quot; : 2,\n    &quot;height&quot; : 2,\n    &quot;length&quot; : 3\n  }, {\n    &quot;width&quot; : 2,\n    &quot;height&quot; : 2,\n    &quot;url&quot; : &quot;www.shape.com/shape&quot;,\n    &quot;color&quot; : &quot;blue&quot;\n  } ]\n}\n\n</code></pre>\n<p>Note that you can add the <code>type</code> field as a <code>name</code> property of the <code>@JsonSubTypes.Type</code> annotation, but this works with or without discriminator as long as the fields in your records are never exactly the same.</p>\n<p>You can read more about <code>JsonSubtypes</code> <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818\" rel=\"nofollow noreferrer\"><strong>here</strong></a>.</p>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74891785,"answer_count":1,"score":2,"last_activity_date":1671823246,"creation_date":1671723766,"question_id":74890806,"body_markdown":"Java records can not - by design - inherit from another object (see https://stackoverflow.com/questions/71139939/why-java-records-do-not-support-inheritance). So I wonder what would be the best way to achieve the following.\r\n\r\nGiven my JSON data contains objects that have some common data + unique data. For example, type, width and height are in all shapes, but depending on the type, they can have additional fields:\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;testDrawing&quot;,\r\n  &quot;shapes&quot;: [\r\n    {\r\n      &quot;type&quot;: &quot;shapeA&quot;,\r\n      &quot;width&quot;: 100,\r\n      &quot;height&quot;: 200,\r\n      &quot;label&quot;: &quot;test&quot;\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;shapeB&quot;,\r\n      &quot;width&quot;: 100,\r\n      &quot;height&quot;: 200,\r\n      &quot;length&quot;: 300\r\n    },\r\n    {\r\n      &quot;type&quot;: &quot;shapeC&quot;,\r\n      &quot;width&quot;: 100,\r\n      &quot;height&quot;: 200,\r\n      &quot;url&quot;: &quot;www.test.be&quot;,\r\n      &quot;color&quot;: &quot;#FF2233&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nIn &quot;traditional&quot; Java you would do this with \r\n\r\n```\r\nBaseShape with width and height\r\nShapeA extends BaseShape with label\r\nShapeB extends BaseShape with length\r\nShapeC extends BaseShape with URL and color\r\n```\r\n\r\nBut I&#39;m a bit stubborn and really would like to use records.\r\n\r\nMy solution now looks like this:\r\n\r\n* No BaseShape\r\n* The common fields are repeated in all records\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record Drawing(\r\n        @JsonProperty(&quot;name&quot;)\r\n        String name,\r\n\r\n        @JsonProperty(&quot;shapes&quot;)\r\n        @JsonDeserialize(using = TestDeserializer.class)\r\n        List&lt;Object&gt; shapes // I don&#39;t like the Objects here... \r\n) {\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record ShapeA (\r\n        @JsonProperty(&quot;type&quot;) String type,\r\n        @JsonProperty(&quot;width&quot;) Integer width,\r\n        @JsonProperty(&quot;height&quot;) Integer height,\r\n        @JsonProperty(&quot;label&quot;) String label\r\n) {\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record ShapeB(\r\n        @JsonProperty(&quot;type&quot;) String type,\r\n        @JsonProperty(&quot;width&quot;) Integer width,\r\n        @JsonProperty(&quot;height&quot;) Integer height,\r\n        @JsonProperty(&quot;length&quot;) Integer length\r\n) {\r\n}\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic record ShapeC(\r\n        @JsonProperty(&quot;type&quot;) String type,\r\n        @JsonProperty(&quot;width&quot;) Integer width,\r\n        @JsonProperty(&quot;height&quot;) Integer height,\r\n        @JsonProperty(&quot;url&quot;) String url,\r\n        @JsonProperty(&quot;color&quot;) String color\r\n) {\r\n}\r\n\r\n```\r\n\r\nI don&#39;t like repeated code and it&#39;s a bad practice... But in the end I can get this loaded with this helper class:\r\n\r\n```\r\npublic class TestDeserializer extends JsonDeserializer {\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n    @Override\r\n    public List&lt;Object&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n        List&lt;Object&gt; rt = new ArrayList&lt;&gt;();\r\n\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\r\n        if (node instanceof ArrayNode array) {\r\n            for (Iterator&lt;JsonNode&gt; it = array.elements(); it.hasNext(); ) {\r\n                JsonNode childNode = it.next();\r\n                rt.add(getShape(childNode));\r\n            }\r\n        } else {\r\n            rt.add(getShape(node));\r\n        }\r\n\r\n        return rt;\r\n    }\r\n\r\n    private Object getShape(JsonNode node) {\r\n        var type = node.get(&quot;type&quot;).asText();\r\n        switch (type) {\r\n            case &quot;shapeA&quot;:\r\n                return mapper.convertValue(node, ShapeA.class);\r\n            case &quot;shapeB&quot;:\r\n                return mapper.convertValue(node, ShapeB.class);\r\n            case &quot;shapeC&quot;:\r\n                return mapper.convertValue(node, ShapeC.class);\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Shape could not be parsed&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this test proves to be working OK:\r\n\r\n```\r\n@Test\r\n    void fromJsonToJson() throws IOException, JSONException {\r\n        File f = new File(this.getClass().getResource(&quot;/test.json&quot;).getFile());\r\n        String jsonFromFile = Files.readString(f.toPath());\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Drawing drawing = mapper.readValue(jsonFromFile, Drawing.class);\r\n        String jsonFromObject = mapper.writeValueAsString(drawing);\r\n\r\n        System.out.println(&quot;Original:\\n&quot; + jsonFromFile.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;));\r\n        System.out.println(&quot;Generated:\\n&quot; + jsonFromObject);\r\n\r\n        assertAll(\r\n                //() -&gt; assertEquals(jsonFromFile, jsonFromObject),\r\n                () -&gt; assertEquals(&quot;testDrawing&quot;, drawing.name()),\r\n                () -&gt; assertTrue(drawing.shapes().get(0) instanceof ShapeA),\r\n                () -&gt; assertTrue(drawing.shapes().get(1) instanceof ShapeB),\r\n                () -&gt; assertTrue(drawing.shapes().get(2) instanceof ShapeC)\r\n        );\r\n    }\r\n```\r\n\r\nWhat would be the best way to achieve this with the Jackson library and Java Records?\r\n\r\nExtra sidenote: I will also need to be able to write back to JSON in the same format as the original.","title":"Parse JSON to Java records with fasterxml.jackson","body":"<p>Java records can not - by design - inherit from another object (see <a href=\"https://stackoverflow.com/questions/71139939/why-java-records-do-not-support-inheritance\">Why Java records do not support inheritance?</a>). So I wonder what would be the best way to achieve the following.</p>\n<p>Given my JSON data contains objects that have some common data + unique data. For example, type, width and height are in all shapes, but depending on the type, they can have additional fields:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;testDrawing&quot;,\n  &quot;shapes&quot;: [\n    {\n      &quot;type&quot;: &quot;shapeA&quot;,\n      &quot;width&quot;: 100,\n      &quot;height&quot;: 200,\n      &quot;label&quot;: &quot;test&quot;\n    },\n    {\n      &quot;type&quot;: &quot;shapeB&quot;,\n      &quot;width&quot;: 100,\n      &quot;height&quot;: 200,\n      &quot;length&quot;: 300\n    },\n    {\n      &quot;type&quot;: &quot;shapeC&quot;,\n      &quot;width&quot;: 100,\n      &quot;height&quot;: 200,\n      &quot;url&quot;: &quot;www.test.be&quot;,\n      &quot;color&quot;: &quot;#FF2233&quot;\n    }\n  ]\n}\n</code></pre>\n<p>In &quot;traditional&quot; Java you would do this with</p>\n<pre><code>BaseShape with width and height\nShapeA extends BaseShape with label\nShapeB extends BaseShape with length\nShapeC extends BaseShape with URL and color\n</code></pre>\n<p>But I'm a bit stubborn and really would like to use records.</p>\n<p>My solution now looks like this:</p>\n<ul>\n<li>No BaseShape</li>\n<li>The common fields are repeated in all records</li>\n</ul>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record Drawing(\n        @JsonProperty(&quot;name&quot;)\n        String name,\n\n        @JsonProperty(&quot;shapes&quot;)\n        @JsonDeserialize(using = TestDeserializer.class)\n        List&lt;Object&gt; shapes // I don't like the Objects here... \n) {\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record ShapeA (\n        @JsonProperty(&quot;type&quot;) String type,\n        @JsonProperty(&quot;width&quot;) Integer width,\n        @JsonProperty(&quot;height&quot;) Integer height,\n        @JsonProperty(&quot;label&quot;) String label\n) {\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record ShapeB(\n        @JsonProperty(&quot;type&quot;) String type,\n        @JsonProperty(&quot;width&quot;) Integer width,\n        @JsonProperty(&quot;height&quot;) Integer height,\n        @JsonProperty(&quot;length&quot;) Integer length\n) {\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record ShapeC(\n        @JsonProperty(&quot;type&quot;) String type,\n        @JsonProperty(&quot;width&quot;) Integer width,\n        @JsonProperty(&quot;height&quot;) Integer height,\n        @JsonProperty(&quot;url&quot;) String url,\n        @JsonProperty(&quot;color&quot;) String color\n) {\n}\n\n</code></pre>\n<p>I don't like repeated code and it's a bad practice... But in the end I can get this loaded with this helper class:</p>\n<pre><code>public class TestDeserializer extends JsonDeserializer {\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    @Override\n    public List&lt;Object&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        List&lt;Object&gt; rt = new ArrayList&lt;&gt;();\n\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n\n        if (node instanceof ArrayNode array) {\n            for (Iterator&lt;JsonNode&gt; it = array.elements(); it.hasNext(); ) {\n                JsonNode childNode = it.next();\n                rt.add(getShape(childNode));\n            }\n        } else {\n            rt.add(getShape(node));\n        }\n\n        return rt;\n    }\n\n    private Object getShape(JsonNode node) {\n        var type = node.get(&quot;type&quot;).asText();\n        switch (type) {\n            case &quot;shapeA&quot;:\n                return mapper.convertValue(node, ShapeA.class);\n            case &quot;shapeB&quot;:\n                return mapper.convertValue(node, ShapeB.class);\n            case &quot;shapeC&quot;:\n                return mapper.convertValue(node, ShapeC.class);\n            default:\n                throw new IllegalArgumentException(&quot;Shape could not be parsed&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And this test proves to be working OK:</p>\n<pre><code>@Test\n    void fromJsonToJson() throws IOException, JSONException {\n        File f = new File(this.getClass().getResource(&quot;/test.json&quot;).getFile());\n        String jsonFromFile = Files.readString(f.toPath());\n\n        ObjectMapper mapper = new ObjectMapper();\n        Drawing drawing = mapper.readValue(jsonFromFile, Drawing.class);\n        String jsonFromObject = mapper.writeValueAsString(drawing);\n\n        System.out.println(&quot;Original:\\n&quot; + jsonFromFile.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;));\n        System.out.println(&quot;Generated:\\n&quot; + jsonFromObject);\n\n        assertAll(\n                //() -&gt; assertEquals(jsonFromFile, jsonFromObject),\n                () -&gt; assertEquals(&quot;testDrawing&quot;, drawing.name()),\n                () -&gt; assertTrue(drawing.shapes().get(0) instanceof ShapeA),\n                () -&gt; assertTrue(drawing.shapes().get(1) instanceof ShapeB),\n                () -&gt; assertTrue(drawing.shapes().get(2) instanceof ShapeC)\n        );\n    }\n</code></pre>\n<p>What would be the best way to achieve this with the Jackson library and Java Records?</p>\n<p>Extra sidenote: I will also need to be able to write back to JSON in the same format as the original.</p>\n"},{"tags":["java","android","location","android-permissions"],"owner":{"account_id":18854506,"reputation":17,"user_id":13752820,"display_name":"Code_Gabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671822779,"creation_date":1671809048,"question_id":74901290,"body_markdown":"I am trying to ask for user location permission but I need to set some kind of listener to the user response otherwise, I cant get the user location and the app crashes due to null pointer exception.\r\n\r\nThis are the functions I am using to get and set the location\r\n\r\n```\r\nprivate void setLocation() {\r\n    if (ContextCompat.checkSelfPermission(getApplicationContext(), android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED ) {\r\n        ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.ACCESS_FINE_LOCATION}, 44);\r\n            \r\n    }\r\n    LocationManager locationManager;\r\n    locationManager = (LocationManager) getSystemService(ScoreActivity.this.LOCATION_SERVICE);\r\n    Location location = locationManager.getLastKnownLocation(locationManager.NETWORK_PROVIDER);\r\n    onLocationChanged(location);\r\n}\r\n```\r\n\r\n\r\n```\r\n@Override\r\npublic void onLocationChanged(@NonNull Location location) {\r\n    locationDetails=new LatLng(location.getLatitude(),location.getLongitude());\r\n}\r\n```\r\n","title":"Android studio location permission listener","body":"<p>I am trying to ask for user location permission but I need to set some kind of listener to the user response otherwise, I cant get the user location and the app crashes due to null pointer exception.</p>\n<p>This are the functions I am using to get and set the location</p>\n<pre><code>private void setLocation() {\n    if (ContextCompat.checkSelfPermission(getApplicationContext(), android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED ) {\n        ActivityCompat.requestPermissions(this, new String[]{android.Manifest.permission.ACCESS_FINE_LOCATION}, 44);\n            \n    }\n    LocationManager locationManager;\n    locationManager = (LocationManager) getSystemService(ScoreActivity.this.LOCATION_SERVICE);\n    Location location = locationManager.getLastKnownLocation(locationManager.NETWORK_PROVIDER);\n    onLocationChanged(location);\n}\n</code></pre>\n<pre><code>@Override\npublic void onLocationChanged(@NonNull Location location) {\n    locationDetails=new LatLng(location.getLatitude(),location.getLongitude());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","cron","scheduled-tasks"],"answers":[{"comments":[{"owner":{"account_id":23135641,"reputation":25,"user_id":17239916,"display_name":"Rafik Boubaker"},"score":0,"creation_date":1671663736,"post_id":74882562,"comment_id":132150019,"body_markdown":"i know about annotation and constant expressions and i&#39;ve thinked about that , but a cron executed every minute ? huh ? i think it&#39;s not an efficient way right ?  i have another crons working in background and maybe this will affect the flow :/","body":"i know about annotation and constant expressions and i&#39;ve thinked about that , but a cron executed every minute ? huh ? i think it&#39;s not an efficient way right ?  i have another crons working in background and maybe this will affect the flow :/"},{"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"score":0,"creation_date":1671664582,"post_id":74882562,"comment_id":132150174,"body_markdown":"If the solution is effective or not depends on many aspects. Based on your question, I guess its hard to decide what is effective for an outsider.","body":"If the solution is effective or not depends on many aspects. Based on your question, I guess its hard to decide what is effective for an outsider."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1671666321,"post_id":74882562,"comment_id":132150457,"body_markdown":"Premature optimisation is the root of all evil. Why do you think running something once a minute is too expensive?","body":"Premature optimisation is the root of all evil. Why do you think running something once a minute is too expensive?"},{"owner":{"account_id":23135641,"reputation":25,"user_id":17239916,"display_name":"Rafik Boubaker"},"score":0,"creation_date":1671699388,"post_id":74882562,"comment_id":132155770,"body_markdown":"because simply the amount of the data is very huge and i need to do some filter before i execute the job too :/  this is why i need an accurate solution.","body":"because simply the amount of the data is very huge and i need to do some filter before i execute the job too :/  this is why i need an accurate solution."}],"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671744371,"creation_date":1671663397,"answer_id":74882562,"question_id":74882447,"body_markdown":"Annotations work with constant expressions.\r\nSo You can not put dynamic expressions inside an annotation.\r\nThe compiler should show you an error, which explains exactly this.\r\n\r\nYou could create one method, which is executed every minute (with @Scheduled annotation). This method calls database and sends Email to users inside your database, which fit to current timeslot.\r\n\r\nMore details about @Scheduled in my German blog: &lt;br&gt;\r\nhttps://agile-coding.blogspot.com/2021/03/spring-cronjobs.html","title":"execute same cronJob with multiple and dynamic dates","body":"<p>Annotations work with constant expressions.\nSo You can not put dynamic expressions inside an annotation.\nThe compiler should show you an error, which explains exactly this.</p>\n<p>You could create one method, which is executed every minute (with @Scheduled annotation). This method calls database and sends Email to users inside your database, which fit to current timeslot.</p>\n<p>More details about @Scheduled in my German blog: <br>\n<a href=\"https://agile-coding.blogspot.com/2021/03/spring-cronjobs.html\" rel=\"nofollow noreferrer\">https://agile-coding.blogspot.com/2021/03/spring-cronjobs.html</a></p>\n"},{"comments":[{"owner":{"account_id":23135641,"reputation":25,"user_id":17239916,"display_name":"Rafik Boubaker"},"score":0,"creation_date":1671816214,"post_id":74890677,"comment_id":132183350,"body_markdown":"Done, i really appreciate the help! , you said that there is no need to convert date to cron expresssion , but it seems , this is only workig with cron expression ! can you show me an example ?","body":"Done, i really appreciate the help! , you said that there is no need to convert date to cron expresssion , but it seems , this is only workig with cron expression ! can you show me an example ?"},{"owner":{"account_id":3793951,"reputation":655,"user_id":3149693,"display_name":"Arnas"},"score":0,"creation_date":1671822302,"post_id":74890677,"comment_id":132184753,"body_markdown":"Just pass your Date or Instant variable to the second parameter. I edited the answer to add an example.","body":"Just pass your Date or Instant variable to the second parameter. I edited the answer to add an example."}],"tags":[],"owner":{"account_id":3793951,"reputation":655,"user_id":3149693,"display_name":"Arnas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671822141,"creation_date":1671723175,"answer_id":74890677,"question_id":74882447,"body_markdown":"You can use [TaskScheduler][1] for dynamic scheduling based on data. Like this:\r\n\r\n```java\r\nimport org.springframework.scheduling.TaskScheduler;\r\n\r\nprivate final TaskScheduler executor;\r\n\r\nString[] cronList = { &quot;0 0 8-10 * * &quot; , &quot; 30 16 * * &quot; , &quot; * 9 * * &quot; };\r\n\r\nfor (String cron: cronList) {\r\n    executor.schedule(() -&gt; {\r\n        // do your job here\r\n    }, new CronTrigger(cron));\r\n}\r\n```\r\nIn your case, you don&#39;t need to convert Date to a cron expression. You can specify [Date][2] or [Instant][3] as a parameter. Read this [documentation][4].\r\n\r\n**For Example:**\r\n\r\nI want to run the task one minute after now. In this case, I use LocalDateTime and convert to Instant.\r\n\r\n```java\r\nLocalDateTime oneMinuteAfter = LocalDateTime.now().plusMinutes(1);\r\n\r\nexecutor.schedule(() =&gt; {}, oneMinuteAfter.atZone(ZoneId.systemDefault()).toInstant());\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html#schedule(java.lang.Runnable,java.time.Instant)","title":"execute same cronJob with multiple and dynamic dates","body":"<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html\" rel=\"nofollow noreferrer\">TaskScheduler</a> for dynamic scheduling based on data. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.scheduling.TaskScheduler;\n\nprivate final TaskScheduler executor;\n\nString[] cronList = { &quot;0 0 8-10 * * &quot; , &quot; 30 16 * * &quot; , &quot; * 9 * * &quot; };\n\nfor (String cron: cronList) {\n    executor.schedule(() -&gt; {\n        // do your job here\n    }, new CronTrigger(cron));\n}\n</code></pre>\n<p>In your case, you don't need to convert Date to a cron expression. You can specify <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\">Date</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\">Instant</a> as a parameter. Read this <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html#schedule(java.lang.Runnable,java.time.Instant)\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p><strong>For Example:</strong></p>\n<p>I want to run the task one minute after now. In this case, I use LocalDateTime and convert to Instant.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime oneMinuteAfter = LocalDateTime.now().plusMinutes(1);\n\nexecutor.schedule(() =&gt; {}, oneMinuteAfter.atZone(ZoneId.systemDefault()).toInstant());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115659,"reputation":32567,"user_id":303598,"accept_rate":84,"display_name":"matsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671745362,"creation_date":1671745362,"answer_id":74894130,"question_id":74882447,"body_markdown":"You cannot schedule the cron job dynamically using the `@Scheduled` annotation. For this you need something like the `TaskScheduler` suggested in [another answer][1].\r\n\r\nIn case you have a static configuration such that you would like to schedule the same job with different cron expressions you can use the `@Schedule` annotation if you refactor the code slightly. For example,  you can extract the business logic to a separate method and then have three cron-annotated method delegate to that method, e.g.\r\n\r\n\r\n    private void sendEmail() {\r\n        // lengthy method that does the actual work\r\n    }\r\n    \r\n    @Scheduled(cron = &quot;0 0 8-10 * *&quot;)\r\n    private void firstCron() {\r\n        sendEmail();    \r\n    }\r\n\r\n    @Scheduled(cron = &quot;30 16 * *&quot;)\r\n    private void secondCron() {\r\n        sendEmail();        \r\n    }\r\n\r\n    @Scheduled(cron = &quot;* 9 * *&quot;)\r\n    private void thirdCron() {\r\n        sendEmail();        \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74890677/303598","title":"execute same cronJob with multiple and dynamic dates","body":"<p>You cannot schedule the cron job dynamically using the <code>@Scheduled</code> annotation. For this you need something like the <code>TaskScheduler</code> suggested in <a href=\"https://stackoverflow.com/a/74890677/303598\">another answer</a>.</p>\n<p>In case you have a static configuration such that you would like to schedule the same job with different cron expressions you can use the <code>@Schedule</code> annotation if you refactor the code slightly. For example,  you can extract the business logic to a separate method and then have three cron-annotated method delegate to that method, e.g.</p>\n<pre><code>private void sendEmail() {\n    // lengthy method that does the actual work\n}\n\n@Scheduled(cron = &quot;0 0 8-10 * *&quot;)\nprivate void firstCron() {\n    sendEmail();    \n}\n\n@Scheduled(cron = &quot;30 16 * *&quot;)\nprivate void secondCron() {\n    sendEmail();        \n}\n\n@Scheduled(cron = &quot;* 9 * *&quot;)\nprivate void thirdCron() {\n    sendEmail();        \n}\n</code></pre>\n"}],"owner":{"account_id":23135641,"reputation":25,"user_id":17239916,"display_name":"Rafik Boubaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74890677,"answer_count":3,"score":0,"last_activity_date":1671822141,"creation_date":1671662405,"question_id":74882447,"body_markdown":"please i need help with this : \r\n\r\ni&#39;m developing an application where the user select multiple dates from a calendar in the frontend and those dates are sent to the spring-boot backend and stored into a database.\r\nOn those exact dates i need to execute a cronjob (let&#39;s say send an email).\r\n\r\n\r\n\r\n\r\n-First of all :  i have convert each date to a cron schedule expressions\r\nfor example the user choose 3 dates and the result is a list of 3 cron expressions as below :\r\n\r\n*[ &quot;0 0 8-10 * * *&quot;  **,** &quot;* 30 16 * * *&quot;  **,**  &quot;* * 9 * * *&quot;* ]*\r\n\r\n**how can i dynamically execute the same job 3 times with the 3 differents cron expressions ??? :** \r\n\r\n\r\n```\r\n`@Scheduled(cron = &quot;cron[0]&quot; &amp; &quot;cron[1]&quot; &amp; &quot;cron[2]&quot;) // &lt;--- this is what i need \r\n  private void sendEmail() {\r\n\r\n  }`\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n","title":"execute same cronJob with multiple and dynamic dates","body":"<p>please i need help with this :</p>\n<p>i'm developing an application where the user select multiple dates from a calendar in the frontend and those dates are sent to the spring-boot backend and stored into a database.\nOn those exact dates i need to execute a cronjob (let's say send an email).</p>\n<p>-First of all :  i have convert each date to a cron schedule expressions\nfor example the user choose 3 dates and the result is a list of 3 cron expressions as below :</p>\n<p><em>[ &quot;0 0 8-10 * * <em>&quot;  <strong>,</strong> &quot;</em> 30 16 * * <em>&quot;  <strong>,</strong>  &quot;</em> * 9 * * <em>&quot;</em> ]</em></p>\n<p><strong>how can i dynamically execute the same job 3 times with the 3 differents cron expressions ??? :</strong></p>\n<pre><code>`@Scheduled(cron = &quot;cron[0]&quot; &amp; &quot;cron[1]&quot; &amp; &quot;cron[2]&quot;) // &lt;--- this is what i need \n  private void sendEmail() {\n\n  }`\n\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","android","android-studio","whatsapp","status"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1671821946,"post_id":74903072,"comment_id":132184679,"body_markdown":"You no longer have access to app-specific storage of other apps.","body":"You no longer have access to app-specific storage of other apps."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1671836005,"post_id":74903072,"comment_id":132187270,"body_markdown":"As @CommonsWare said, in the API 32, you don&#39;t have permission to access the WhatsApp app folders, you have permission to access only your created folders, you need to use scoped storage instead of the old storage","body":"As @CommonsWare said, in the API 32, you don&#39;t have permission to access the WhatsApp app folders, you have permission to access only your created folders, you need to use scoped storage instead of the old storage"},{"owner":{"account_id":27044541,"reputation":13,"user_id":20598914,"display_name":"IT Student"},"score":0,"creation_date":1671862105,"post_id":74903072,"comment_id":132189574,"body_markdown":"Can you please send me the code for getting Scoped storage, or the code for achieving this? Please.","body":"Can you please send me the code for getting Scoped storage, or the code for achieving this? Please."}],"owner":{"account_id":27044541,"reputation":13,"user_id":20598914,"display_name":"IT Student"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671821416,"creation_date":1671821416,"question_id":74903072,"body_markdown":"When I had the Target API 29, the app was showing WhatsApp statuses, but when I increase the target api to 32, it is not showing the statuses.\r\n\r\n    public File getWhatsupFolder() {\r\n            if (new File(Environment.getExternalStorageDirectory().toString() + File.separator + &quot;Android/media/com.whatsapp/WhatsApp&quot; + File.separator + &quot;Media&quot; + File.separator + &quot;.Statuses&quot;).isDirectory()) {\r\n                return new File(Environment.getExternalStorageDirectory() + File.separator + &quot;Android/media/com.whatsapp/WhatsApp&quot; + File.separator + &quot;Media&quot; + File.separator + &quot;.Statuses&quot;);\r\n            } else {\r\n                return new File(Environment.getExternalStorageDirectory() + File.separator + &quot;WhatsApp&quot; + File.separator + &quot;Media&quot; + File.separator + &quot;.Statuses&quot;);\r\n            }\r\n        }\r\n\r\nHere is the code of my getting status that was working fine in target api 29.\r\n\r\nIf anyone knows what is the issue. Please let me know. Thanks in advance.","title":"WhatsApp status in java","body":"<p>When I had the Target API 29, the app was showing WhatsApp statuses, but when I increase the target api to 32, it is not showing the statuses.</p>\n<pre><code>public File getWhatsupFolder() {\n        if (new File(Environment.getExternalStorageDirectory().toString() + File.separator + &quot;Android/media/com.whatsapp/WhatsApp&quot; + File.separator + &quot;Media&quot; + File.separator + &quot;.Statuses&quot;).isDirectory()) {\n            return new File(Environment.getExternalStorageDirectory() + File.separator + &quot;Android/media/com.whatsapp/WhatsApp&quot; + File.separator + &quot;Media&quot; + File.separator + &quot;.Statuses&quot;);\n        } else {\n            return new File(Environment.getExternalStorageDirectory() + File.separator + &quot;WhatsApp&quot; + File.separator + &quot;Media&quot; + File.separator + &quot;.Statuses&quot;);\n        }\n    }\n</code></pre>\n<p>Here is the code of my getting status that was working fine in target api 29.</p>\n<p>If anyone knows what is the issue. Please let me know. Thanks in advance.</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-aop"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659352749,"post_id":73191109,"comment_id":129266832,"body_markdown":"Mono&lt;Void&gt; from the aspect? So every method that is annotated should not return anything?","body":"Mono&lt;Void&gt; from the aspect? So every method that is annotated should not return anything?"},{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1659353407,"post_id":73191109,"comment_id":129267044,"body_markdown":"I am not sure, does it matter what the aspect is retuning? \n\nMethods that will be annotated are returning different objects","body":"I am not sure, does it matter what the aspect is retuning?   Methods that will be annotated are returning different objects"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659353893,"post_id":73191109,"comment_id":129267195,"body_markdown":"Well as the code looks now, every function using the annotation will return nothing, basically discarding the returns, and if thats what you want.","body":"Well as the code looks now, every function using the annotation will return nothing, basically discarding the returns, and if thats what you want."},{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1659353985,"post_id":73191109,"comment_id":129267236,"body_markdown":"for example in the ```FooService``` the annotated method returns a Mono&lt;Bar&gt;. The things is that i don&#39;t care what the aspect is returning, i only want the code from aspect method to be executed always before the annotated method","body":"for example in the <code>FooService</code> the annotated method returns a Mono&lt;Bar&gt;. The things is that i don&#39;t care what the aspect is returning, i only want the code from aspect method to be executed always before the annotated method"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659354269,"post_id":73191109,"comment_id":129267330,"body_markdown":"ah its an `@Before` and not an `@Around` my mistake, but `return validationService.validateObject(object)` what is `object`","body":"ah its an <code>@Before</code> and not an <code>@Around</code> my mistake, but <code>return validationService.validateObject(object)</code> what is <code>object</code>"},{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1659354543,"post_id":73191109,"comment_id":129267434,"body_markdown":"It&#39;s something that I am retrieving somehow using the ```joinPoint``` argument and a SpelExpressionParser.\n\nMy challenge is how can I be sure that the code inside of the aspect is executed before  the method that is annotated starts executing, without using ```.block()```.  With ```.block()``` the order of execution is performed as wanted but I don&#39;t really want to use ```.block()``` just used it to prototype.","body":"It&#39;s something that I am retrieving somehow using the <code>joinPoint</code> argument and a SpelExpressionParser.  My challenge is how can I be sure that the code inside of the aspect is executed before  the method that is annotated starts executing, without using <code>.block()</code>.  With <code>.block()</code> the order of execution is performed as wanted but I don&#39;t really want to use <code>.block()</code> just used it to prototype."},{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1659354660,"post_id":73191109,"comment_id":129267468,"body_markdown":"If i remove ```.block()``` the code  inside aspect is not executed at all, because no one subscribes to it, i think","body":"If i remove <code>.block()</code> the code  inside aspect is not executed at all, because no one subscribes to it, i think"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659355851,"post_id":73191109,"comment_id":129267822,"body_markdown":"since this is a void function no one will subscribe to it, i would recommend that you use the `@Around`annotation instead so that you can return from it and becomes part of the reactive flow.","body":"since this is a void function no one will subscribe to it, i would recommend that you use the <code>@Around</code>annotation instead so that you can return from it and becomes part of the reactive flow."},{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1659356378,"post_id":73191109,"comment_id":129267975,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246943/discussion-between-robertsci-and-toerktumlare).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246943/discussion-between-robertsci-and-toerktumlare\">continue this discussion in chat</a>."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1659356732,"post_id":73191109,"comment_id":129268084,"body_markdown":"A ` @Before` advice has return type `void`, same goes for `@After`. Only `@Around` advices return something. So your code does not make any sense.","body":"A ` @Before` advice has return type <code>void</code>, same goes for <code>@After</code>. Only <code>@Around</code> advices return something. So your code does not make any sense."},{"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"score":0,"creation_date":1659357326,"post_id":73191109,"comment_id":129268311,"body_markdown":"How would you use the @Around to return the subscribtion from the aspect and then use the subscribtion in the annotated method?","body":"How would you use the @Around to return the subscribtion from the aspect and then use the subscribtion in the annotated method?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1659358835,"post_id":73191109,"comment_id":129268864,"body_markdown":"i have no idea what you mean when you say __return a subscription__ functions return _types_ and asking how `@Around` &quot;works&quot; is a big subject and im not going to write your complete implementation. I suggest you google how `@Around` &quot;works&quot; and try to build it yourself and then ask a new question if you get stuck","body":"i have no idea what you mean when you say <b>return a subscription</b> functions return <i>types</i> and asking how <code>@Around</code> &quot;works&quot; is a big subject and im not going to write your complete implementation. I suggest you google how <code>@Around</code> &quot;works&quot; and try to build it yourself and then ask a new question if you get stuck"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1671356095,"post_id":73191109,"comment_id":132078486,"body_markdown":"Please do not answer a question by editing it. Instead, please post an answer. After some waiting time, you can even accept your own answer in order to mark the problem as solved.","body":"Please do not answer a question by editing it. Instead, please post an answer. After some waiting time, you can even accept your own answer in order to mark the problem as solved."}],"answers":[{"tags":[],"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671821312,"creation_date":1671815782,"answer_id":74902296,"question_id":73191109,"body_markdown":"My solution looks like this:\r\n\r\n```java \r\n@Around(&quot;execution(* *.*(..)) &amp;&amp; @annotation(performValidation)&quot;)\r\npublic Mono doBeforeMethod(JoinPoint joinPoint, PerformValidationInterface performValidation) {\r\n  return validationService\r\n    .validateObject(object)\r\n    //i am using defer becaue I don&#39;t want to evaluate the switchIfEmpty() if the validateObject() returns something \r\n    .switchIfEmpty(\r\n      Mono.defer( \r\n        () -&gt; anotherService.checkIfObjectExists(object)\r\n      )\r\n    )\r\n    .then((Mono) joinPoint.proceed());\r\n}\r\n```\r\n\r\n`.then()` -&gt; will wait until your validation logic(or some other logic) is completed, THEN will call the `joinPoint.proceed()`\r\n\r\n`joinPoint.proceed()` -&gt; will continue the execution of the annotated method","title":"Execute custom annotation in webflux application before method execution","body":"<p>My solution looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;execution(* *.*(..)) &amp;&amp; @annotation(performValidation)&quot;)\npublic Mono doBeforeMethod(JoinPoint joinPoint, PerformValidationInterface performValidation) {\n  return validationService\n    .validateObject(object)\n    //i am using defer becaue I don't want to evaluate the switchIfEmpty() if the validateObject() returns something \n    .switchIfEmpty(\n      Mono.defer( \n        () -&gt; anotherService.checkIfObjectExists(object)\n      )\n    )\n    .then((Mono) joinPoint.proceed());\n}\n</code></pre>\n<p><code>.then()</code> -&gt; will wait until your validation logic(or some other logic) is completed, THEN will call the <code>joinPoint.proceed()</code></p>\n<p><code>joinPoint.proceed()</code> -&gt; will continue the execution of the annotated method</p>\n"}],"owner":{"account_id":15882815,"reputation":45,"user_id":11460115,"display_name":"robertsci"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74902296,"answer_count":1,"score":0,"last_activity_date":1671821312,"creation_date":1659343701,"question_id":73191109,"body_markdown":"How can I avoid using the .block() method in the aspect component while making sure the annotation is completed before the method where is called starts executing?\r\n\r\n\r\nI have some validations that needs to be executed before some methods from a service are executed\r\n\r\nI have created a custom annotation, that I can use to annotate each method where I want to perform the validation\r\n\r\nThe Annotation looks like this:\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.METHOD)\r\npublic @interface PerformValidationInterface{\r\n\r\n}\r\n```\r\n\r\nThe Aspect method that i want to be executed looks like this:\r\n```\r\n    @Before(&quot;execution(* *.*(..)) &amp;&amp; @annotation(performValidation)&quot;)\r\n    public Mono&lt;Void&gt; doBeforeMethod(JoinPoint joinPoint, PerformValidationInterface performValidation) {\r\n\r\n        return validationService.validateObject(object)\r\n                         //i am using defer becaue I don&#39;t want to evaluate the switchIfEmpty()  if the validateObject() returns something \r\n                         .switchIfEmpty(Mono.defer( \r\n                              () -&gt; anotherService.checkIfObjectExists(object)))      \r\n                         .block();\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npublic ValidationService {\r\n\r\n    public Mono&lt;Object&gt; validateObject(Object object) {\r\n            //perform object validation\r\n            if (objectIsValid) { \r\n                return Mono.just(object) \r\n            } else { \r\n                return Mono.empty()\r\n            }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\npublic FooService {\r\n\r\n\r\n\r\n     //How can I avoid using the .block() method in the aspect component while making sure the annotation is completed before the barMethod starts executing\r\n      @PerformValidation\r\n      public Mono&lt;Bar&gt; barMethod(Object arg1, Object arg2 ) {\r\n         //do some stuff and return a Mono&lt;Bar&gt;\r\n\r\n      }\r\n}\r\n```","title":"Execute custom annotation in webflux application before method execution","body":"<p>How can I avoid using the .block() method in the aspect component while making sure the annotation is completed before the method where is called starts executing?</p>\n<p>I have some validations that needs to be executed before some methods from a service are executed</p>\n<p>I have created a custom annotation, that I can use to annotate each method where I want to perform the validation</p>\n<p>The Annotation looks like this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface PerformValidationInterface{\n\n}\n</code></pre>\n<p>The Aspect method that i want to be executed looks like this:</p>\n<pre><code>    @Before(&quot;execution(* *.*(..)) &amp;&amp; @annotation(performValidation)&quot;)\n    public Mono&lt;Void&gt; doBeforeMethod(JoinPoint joinPoint, PerformValidationInterface performValidation) {\n\n        return validationService.validateObject(object)\n                         //i am using defer becaue I don't want to evaluate the switchIfEmpty()  if the validateObject() returns something \n                         .switchIfEmpty(Mono.defer( \n                              () -&gt; anotherService.checkIfObjectExists(object)))      \n                         .block();\n}\n\n</code></pre>\n<pre><code>public ValidationService {\n\n    public Mono&lt;Object&gt; validateObject(Object object) {\n            //perform object validation\n            if (objectIsValid) { \n                return Mono.just(object) \n            } else { \n                return Mono.empty()\n            }\n    }\n\n}\n</code></pre>\n<pre><code>\npublic FooService {\n\n\n\n     //How can I avoid using the .block() method in the aspect component while making sure the annotation is completed before the barMethod starts executing\n      @PerformValidation\n      public Mono&lt;Bar&gt; barMethod(Object arg1, Object arg2 ) {\n         //do some stuff and return a Mono&lt;Bar&gt;\n\n      }\n}\n</code></pre>\n"},{"tags":["java","gradle","desktop","gluon"],"answers":[{"comments":[{"owner":{"account_id":11929948,"reputation":37,"user_id":8730104,"display_name":"Harry05"},"score":0,"creation_date":1538895469,"post_id":52684388,"comment_id":92299719,"body_markdown":"Sorry what shity it that. i thinked that glouon company fix ist from Java 8 to 9 Java reales. That call that i have to use the old Version of Java becous dosn&#39;t fix it from Java 8to9 ,8to10,8to11. I meine that gloun Still Standing in the development. The Idee Stop on Java 8. Grrr","body":"Sorry what shity it that. i thinked that glouon company fix ist from Java 8 to 9 Java reales. That call that i have to use the old Version of Java becous dosn&#39;t fix it from Java 8to9 ,8to10,8to11. I meine that gloun Still Standing in the development. The Idee Stop on Java 8. Grrr"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1538913086,"post_id":52684388,"comment_id":92303486,"body_markdown":"First of all, if you find it &quot;shity&quot;, feel free to go and use other technology. If you still like to use it, and want to work with Java 11, you can do the upgrade yourself, as you only have to modify the `build.gradle` file as I proposed here. Most of the JavaFX projects nowadays have to do this migration. And if you have a license, please email to support at gluonhq dot com and ask for a new release of the framework.","body":"First of all, if you find it &quot;shity&quot;, feel free to go and use other technology. If you still like to use it, and want to work with Java 11, you can do the upgrade yourself, as you only have to modify the <code>build.gradle</code> file as I proposed here. Most of the JavaFX projects nowadays have to do this migration. And if you have a license, please email to support at gluonhq dot com and ask for a new release of the framework."},{"owner":{"account_id":11929948,"reputation":37,"user_id":8730104,"display_name":"Harry05"},"score":0,"creation_date":1539007464,"post_id":52684388,"comment_id":92334600,"body_markdown":"No i Like the Main ldee behind it, but the configuration make my depressive &#128513; .  But I anderstand right all developer use java 8 for it for Desktop and mobile?","body":"No i Like the Main ldee behind it, but the configuration make my depressive  .  But I anderstand right all developer use java 8 for it for Desktop and mobile?"},{"owner":{"account_id":352388,"reputation":1045,"user_id":689448,"display_name":"splonk"},"score":0,"creation_date":1580877247,"post_id":52684388,"comment_id":106238130,"body_markdown":"Thanks @Jos&#233;Pereda. Your suggested fix worked for me.","body":"Thanks @Jos&#233;Pereda. Your suggested fix worked for me."}],"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538871067,"creation_date":1538871067,"answer_id":52684388,"question_id":52684025,"body_markdown":"The Gluon plugin 2.7.0 was released a while ago, mainly to create Gluon Desktop or Gluon Mobile applications with Java 8.\r\n\r\nIf you are using now Java 11, until there is a new release of the Gluon plugin, you will have to update the build.gradle file.\r\n\r\nI&#39;d suggest you have a look at how to get started with JavaFX 11 in this [guide](https://openjfx.io/openjfx-docs/#introduction), and check this [question](https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11) about adding JavaFX 11 to a project in IntelliJ.\r\n\r\nWhen you use the Gluon plugin you are creating a Gradle project. And for that, you don&#39;t need to download the whole JavaFX SDK, you can include it via dependencies from Maven Central.\r\n\r\nSo edit your `build.gradle` file, that looks like:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;application&#39;\r\n    \r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            url &#39;http://nexus.gluonhq.com/nexus/content/repositories/releases&#39;\r\n        }\r\n    }\r\n    \r\n    mainClassName = &#39;com.gluonapplication.GluonDesktop&#39;\r\n    \r\n    dependencies {\r\n        compile &#39;com.gluonhq:particle:1.1.3&#39;\r\n    }\r\n\r\nAnd add the following changes:\r\n\r\n1. According to the guide for [Gradle](https://openjfx.io/openjfx-docs/#gradle), add a way to find which is your platform:\r\n\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;application&#39;\r\n    \r\n        def currentOS = org.gradle.internal.os.OperatingSystem.current()\r\n        def platform\r\n        if (currentOS.isWindows()) {\r\n            platform = &#39;win&#39;\r\n        } else if (currentOS.isLinux()) {\r\n            platform = &#39;linux&#39;\r\n        } else if (currentOS.isMacOsX()) {\r\n            platform = &#39;mac&#39;\r\n        }\r\n\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &#39;http://nexus.gluonhq.com/nexus/content/repositories/releases&#39;\r\n            }\r\n        }\r\n    \r\n        mainClassName = &#39;com.gluonapplication.GluonDesktop&#39;\r\n    \r\n\r\n2. Add the JavaFX dependencies for your platform: \r\n    \r\n        dependencies {\r\n            compile &quot;org.openjfx:javafx-base:11:${platform}&quot;\r\n            compile &quot;org.openjfx:javafx-graphics:11:${platform}&quot;\r\n            compile &quot;org.openjfx:javafx-controls:11:${platform}&quot;\r\n            compile &quot;org.openjfx:javafx-fxml:11:${platform}&quot;\r\n    \r\n3. Add the ControlsFX dependency compatible with Java 9+ (by default is using 8.40.14 which was for Java 8) and add the `javax.annotation` dependency, that is not part of Java 9+:\r\n\r\n            compile &#39;com.gluonhq:particle:1.1.3&#39;\r\n            compile &#39;org.controlsfx:controlsfx:9.0.0&#39;\r\n            compile &#39;javax.annotation:javax.annotation-api:1.3.1&#39;\r\n        }\r\n    \r\n4. According to the guide, you need to add the module-path and add the required modules to the compiler arguments: \r\n\r\n        compileJava {\r\n            doFirst {\r\n                options.compilerArgs = [\r\n                        &#39;--module-path&#39;, classpath.asPath,\r\n                        &#39;--add-modules&#39;, &#39;javafx.controls,javafx.fxml&#39;\r\n                ]\r\n            }\r\n        }\r\n\r\n5. And the same for the run arguments. In this case, the access to private API (due to some requirement of ControlsFX), can be done with `--add-exports`:\r\n    \r\n        run {\r\n            doFirst {\r\n                jvmArgs = [\r\n                        &#39;--module-path&#39;, classpath.asPath,\r\n                        &#39;--add-modules&#39;, &#39;javafx.controls,javafx.fxml&#39;,\r\n                        &#39;--add-exports&#39;, &#39;javafx.base/com.sun.javafx.runtime=ALL-UNNAMED&#39;,\r\n                        &#39;--add-exports&#39;, &#39;javafx.graphics/com.sun.javafx.scene=ALL-UNNAMED&#39;,\r\n                        &#39;--add-exports&#39;, &#39;javafx.graphics/com.sun.javafx.scene.traversal=ALL-UNNAMED&#39;,\r\n    \r\n                ]\r\n            }\r\n        }\r\n\r\nSave and sync the changes and you should be able to run your Gluon Desktop project.\r\n\r\n[![Gluon Desktop][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WgklJ.png","title":"I don&#39;t know what i make wrong for the Gluon Start","body":"<p>The Gluon plugin 2.7.0 was released a while ago, mainly to create Gluon Desktop or Gluon Mobile applications with Java 8.</p>\n\n<p>If you are using now Java 11, until there is a new release of the Gluon plugin, you will have to update the build.gradle file.</p>\n\n<p>I'd suggest you have a look at how to get started with JavaFX 11 in this <a href=\"https://openjfx.io/openjfx-docs/#introduction\" rel=\"nofollow noreferrer\">guide</a>, and check this <a href=\"https://stackoverflow.com/questions/52467561/intellij-cant-recognize-javafx-11-with-openjdk-11\">question</a> about adding JavaFX 11 to a project in IntelliJ.</p>\n\n<p>When you use the Gluon plugin you are creating a Gradle project. And for that, you don't need to download the whole JavaFX SDK, you can include it via dependencies from Maven Central.</p>\n\n<p>So edit your <code>build.gradle</code> file, that looks like:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nrepositories {\n    jcenter()\n    maven {\n        url 'http://nexus.gluonhq.com/nexus/content/repositories/releases'\n    }\n}\n\nmainClassName = 'com.gluonapplication.GluonDesktop'\n\ndependencies {\n    compile 'com.gluonhq:particle:1.1.3'\n}\n</code></pre>\n\n<p>And add the following changes:</p>\n\n<ol>\n<li><p>According to the guide for <a href=\"https://openjfx.io/openjfx-docs/#gradle\" rel=\"nofollow noreferrer\">Gradle</a>, add a way to find which is your platform:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\ndef currentOS = org.gradle.internal.os.OperatingSystem.current()\ndef platform\nif (currentOS.isWindows()) {\n    platform = 'win'\n} else if (currentOS.isLinux()) {\n    platform = 'linux'\n} else if (currentOS.isMacOsX()) {\n    platform = 'mac'\n}\n\nrepositories {\n    jcenter()\n    maven {\n        url 'http://nexus.gluonhq.com/nexus/content/repositories/releases'\n    }\n}\n\nmainClassName = 'com.gluonapplication.GluonDesktop'\n</code></pre></li>\n<li><p>Add the JavaFX dependencies for your platform: </p>\n\n<pre><code>dependencies {\n    compile \"org.openjfx:javafx-base:11:${platform}\"\n    compile \"org.openjfx:javafx-graphics:11:${platform}\"\n    compile \"org.openjfx:javafx-controls:11:${platform}\"\n    compile \"org.openjfx:javafx-fxml:11:${platform}\"\n</code></pre></li>\n<li><p>Add the ControlsFX dependency compatible with Java 9+ (by default is using 8.40.14 which was for Java 8) and add the <code>javax.annotation</code> dependency, that is not part of Java 9+:</p>\n\n<pre><code>    compile 'com.gluonhq:particle:1.1.3'\n    compile 'org.controlsfx:controlsfx:9.0.0'\n    compile 'javax.annotation:javax.annotation-api:1.3.1'\n}\n</code></pre></li>\n<li><p>According to the guide, you need to add the module-path and add the required modules to the compiler arguments: </p>\n\n<pre><code>compileJava {\n    doFirst {\n        options.compilerArgs = [\n                '--module-path', classpath.asPath,\n                '--add-modules', 'javafx.controls,javafx.fxml'\n        ]\n    }\n}\n</code></pre></li>\n<li><p>And the same for the run arguments. In this case, the access to private API (due to some requirement of ControlsFX), can be done with <code>--add-exports</code>:</p>\n\n<pre><code>run {\n    doFirst {\n        jvmArgs = [\n                '--module-path', classpath.asPath,\n                '--add-modules', 'javafx.controls,javafx.fxml',\n                '--add-exports', 'javafx.base/com.sun.javafx.runtime=ALL-UNNAMED',\n                '--add-exports', 'javafx.graphics/com.sun.javafx.scene=ALL-UNNAMED',\n                '--add-exports', 'javafx.graphics/com.sun.javafx.scene.traversal=ALL-UNNAMED',\n\n        ]\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>Save and sync the changes and you should be able to run your Gluon Desktop project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WgklJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WgklJ.png\" alt=\"Gluon Desktop\"></a></p>\n"}],"owner":{"account_id":11929948,"reputation":37,"user_id":8730104,"display_name":"Harry05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1166,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1671820794,"creation_date":1538866478,"question_id":52684025,"body_markdown":"I don&#39;t have any idee what I make wrong for the beginning with Gluon.\r\n\r\n 1. I have IntelliJ IDEA 2018.2.4 (Community Edition)  \r\nBuild #IC-182.4505.22, built on September 18, 2018  \r\nJRE: 1.8.0_152-release-1248-b8 amd64  \r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o  \r\nWindows 10 10.0\r\n\r\n 2. install Gluon Plugin Version: 2.7.0\r\n\r\n 3. File-&gt;new-&gt;Project-&gt;gluon-&gt;Desktop Multi view Project with FXML-&gt;java 11-&gt;finish\r\n\r\n 4. install gradel Gradle 4.10.2 used it as local option in last setup view\r\n\r\n 5. I use java version &quot;11&quot; 2018-09-25\r\n\r\n 6. I download the javaFx11 (openjfx-11_windows-x64_bin-sdk) and use it in an Structure as a libery\r\n\r\n\r\nknow I have this --&gt;\r\n\r\n    00:41:11: Executing task &#39;run&#39;...\r\n    \r\n    \r\n    &gt; Task :compileJava FAILED\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:5: error: package javafx.scene.control does not exist\r\n    import javafx.scene.control.Alert;\r\n                               ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:7: error: package javafx.scene.image does not exist\r\n    import javafx.scene.image.Image;\r\n                             ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:8: error: package javafx.scene.image does not exist\r\n    import javafx.scene.image.ImageView;\r\n                             ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:7: error: package javafx.fxml does not exist\r\n    import javafx.fxml.FXML;\r\n                      ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:8: error: package javafx.scene.control does not exist\r\n    import javafx.scene.control.Button;\r\n                               ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:9: error: package javafx.scene.control does not exist\r\n    import javafx.scene.control.Label;\r\n                               ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:10: error: package javafx.scene.control does not exist\r\n    import javafx.scene.control.TextInputDialog;\r\n                               ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:27: error: cannot find symbol\r\n        private Label label;\r\n                ^\r\n      symbol:   class Label\r\n      location: class PrimaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:30: error: cannot find symbol\r\n        private Button button;\r\n                ^\r\n      symbol:   class Button\r\n      location: class PrimaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:6: error: package javafx.fxml does not exist\r\n    import javafx.fxml.FXML;\r\n                      ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:7: error: package javafx.scene.control does not exist\r\n    import javafx.scene.control.Button;\r\n                               ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:20: error: cannot find symbol\r\n        private Button button;\r\n                ^\r\n      symbol:   class Button\r\n      location: class SecondaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\GluonApplication.java:4: error: package javafx.scene does not exist\r\n    import javafx.scene.Scene;\r\n                       ^\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\GluonApplication.java:7: error: cannot access Application\r\n    public class GluonApplication extends ParticleApplication {\r\n           ^\r\n      class file for javafx.application.Application not found\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\GluonApplication.java:14: error: cannot find symbol\r\n        public void postInit(Scene scene) {\r\n                             ^\r\n      symbol:   class Scene\r\n      location: class GluonApplication\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:26: error: cannot find symbol\r\n        @FXML\r\n         ^\r\n      symbol:   class FXML\r\n      location: class PrimaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:29: error: cannot find symbol\r\n        @FXML\r\n         ^\r\n      symbol:   class FXML\r\n      location: class PrimaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:32: error: cannot find symbol\r\n        @FXML\r\n         ^\r\n      symbol:   class FXML\r\n      location: class PrimaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:19: error: cannot find symbol\r\n        @FXML\r\n         ^\r\n      symbol:   class FXML\r\n      location: class SecondaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:22: error: cannot find symbol\r\n        @FXML\r\n         ^\r\n      symbol:   class FXML\r\n      location: class SecondaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:24: error: cannot find symbol\r\n            Alert alert = new Alert(AlertType.INFORMATION);\r\n            ^\r\n      symbol:   class Alert\r\n      location: class MenuActions\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:24: error: cannot find symbol\r\n            Alert alert = new Alert(AlertType.INFORMATION);\r\n                              ^\r\n      symbol:   class Alert\r\n      location: class MenuActions\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:24: error: cannot find symbol\r\n            Alert alert = new Alert(AlertType.INFORMATION);\r\n                                    ^\r\n      symbol:   variable AlertType\r\n      location: class MenuActions\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:27: error: cannot find symbol\r\n            alert.setGraphic(new ImageView(new Image(MenuActions.class.getResource(&quot;/icon.png&quot;).toExternalForm(), 48, 48, true, true)));\r\n                                 ^\r\n      symbol:   class ImageView\r\n      location: class MenuActions\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:27: error: cannot find symbol\r\n            alert.setGraphic(new ImageView(new Image(MenuActions.class.getResource(&quot;/icon.png&quot;).toExternalForm(), 48, 48, true, true)));\r\n                                               ^\r\n      symbol:   class Image\r\n      location: class MenuActions\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:51: error: cannot access StackPane\r\n            app.getParticle().getToolBarActions().add(0, actionSignin);\r\n                             ^\r\n      class file for javafx.scene.layout.StackPane not found\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:55: error: cannot access ObservableList\r\n            app.getParticle().getToolBarActions().remove(actionSignin);\r\n                                               ^\r\n      class file for javafx.collections.ObservableList not found\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:65: error: cannot find symbol\r\n            TextInputDialog input = new TextInputDialog(stateManager.getProperty(&quot;UserName&quot;).orElse(&quot;&quot;).toString());\r\n            ^\r\n      symbol:   class TextInputDialog\r\n      location: class PrimaryController\r\n    E:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:65: error: cannot find symbol\r\n            TextInputDialog input = new TextInputDialog(stateManager.getProperty(&quot;UserName&quot;).orElse(&quot;&quot;).toString());\r\n                                        ^\r\n      symbol:   class TextInputDialog\r\n      location: class PrimaryController\r\n    29 errors\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 0s\r\n    1 actionable task: 1 executed\r\n    Compilation failed; see the compiler error output for details.\r\n    00:41:11: Task execution finished &#39;run&#39;.\r\n\r\nWhich step did I make a mistake in?","title":"I don&#39;t know what i make wrong for the Gluon Start","body":"<p>I don't have any idee what I make wrong for the beginning with Gluon.</p>\n<ol>\n<li><p>I have IntelliJ IDEA 2018.2.4 (Community Edition)<br />\nBuild #IC-182.4505.22, built on September 18, 2018<br />\nJRE: 1.8.0_152-release-1248-b8 amd64<br />\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o<br />\nWindows 10 10.0</p>\n</li>\n<li><p>install Gluon Plugin Version: 2.7.0</p>\n</li>\n<li><p>File-&gt;new-&gt;Project-&gt;gluon-&gt;Desktop Multi view Project with FXML-&gt;java 11-&gt;finish</p>\n</li>\n<li><p>install gradel Gradle 4.10.2 used it as local option in last setup view</p>\n</li>\n<li><p>I use java version &quot;11&quot; 2018-09-25</p>\n</li>\n<li><p>I download the javaFx11 (openjfx-11_windows-x64_bin-sdk) and use it in an Structure as a libery</p>\n</li>\n</ol>\n<p>know I have this --&gt;</p>\n<pre><code>00:41:11: Executing task 'run'...\n\n\n&gt; Task :compileJava FAILED\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:5: error: package javafx.scene.control does not exist\nimport javafx.scene.control.Alert;\n                           ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:7: error: package javafx.scene.image does not exist\nimport javafx.scene.image.Image;\n                         ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:8: error: package javafx.scene.image does not exist\nimport javafx.scene.image.ImageView;\n                         ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:7: error: package javafx.fxml does not exist\nimport javafx.fxml.FXML;\n                  ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:8: error: package javafx.scene.control does not exist\nimport javafx.scene.control.Button;\n                           ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:9: error: package javafx.scene.control does not exist\nimport javafx.scene.control.Label;\n                           ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:10: error: package javafx.scene.control does not exist\nimport javafx.scene.control.TextInputDialog;\n                           ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:27: error: cannot find symbol\n    private Label label;\n            ^\n  symbol:   class Label\n  location: class PrimaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:30: error: cannot find symbol\n    private Button button;\n            ^\n  symbol:   class Button\n  location: class PrimaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:6: error: package javafx.fxml does not exist\nimport javafx.fxml.FXML;\n                  ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:7: error: package javafx.scene.control does not exist\nimport javafx.scene.control.Button;\n                           ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:20: error: cannot find symbol\n    private Button button;\n            ^\n  symbol:   class Button\n  location: class SecondaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\GluonApplication.java:4: error: package javafx.scene does not exist\nimport javafx.scene.Scene;\n                   ^\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\GluonApplication.java:7: error: cannot access Application\npublic class GluonApplication extends ParticleApplication {\n       ^\n  class file for javafx.application.Application not found\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\GluonApplication.java:14: error: cannot find symbol\n    public void postInit(Scene scene) {\n                         ^\n  symbol:   class Scene\n  location: class GluonApplication\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:26: error: cannot find symbol\n    @FXML\n     ^\n  symbol:   class FXML\n  location: class PrimaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:29: error: cannot find symbol\n    @FXML\n     ^\n  symbol:   class FXML\n  location: class PrimaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:32: error: cannot find symbol\n    @FXML\n     ^\n  symbol:   class FXML\n  location: class PrimaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:19: error: cannot find symbol\n    @FXML\n     ^\n  symbol:   class FXML\n  location: class SecondaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\SecondaryController.java:22: error: cannot find symbol\n    @FXML\n     ^\n  symbol:   class FXML\n  location: class SecondaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:24: error: cannot find symbol\n        Alert alert = new Alert(AlertType.INFORMATION);\n        ^\n  symbol:   class Alert\n  location: class MenuActions\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:24: error: cannot find symbol\n        Alert alert = new Alert(AlertType.INFORMATION);\n                          ^\n  symbol:   class Alert\n  location: class MenuActions\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:24: error: cannot find symbol\n        Alert alert = new Alert(AlertType.INFORMATION);\n                                ^\n  symbol:   variable AlertType\n  location: class MenuActions\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:27: error: cannot find symbol\n        alert.setGraphic(new ImageView(new Image(MenuActions.class.getResource(&quot;/icon.png&quot;).toExternalForm(), 48, 48, true, true)));\n                             ^\n  symbol:   class ImageView\n  location: class MenuActions\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\actions\\MenuActions.java:27: error: cannot find symbol\n        alert.setGraphic(new ImageView(new Image(MenuActions.class.getResource(&quot;/icon.png&quot;).toExternalForm(), 48, 48, true, true)));\n                                           ^\n  symbol:   class Image\n  location: class MenuActions\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:51: error: cannot access StackPane\n        app.getParticle().getToolBarActions().add(0, actionSignin);\n                         ^\n  class file for javafx.scene.layout.StackPane not found\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:55: error: cannot access ObservableList\n        app.getParticle().getToolBarActions().remove(actionSignin);\n                                           ^\n  class file for javafx.collections.ObservableList not found\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:65: error: cannot find symbol\n        TextInputDialog input = new TextInputDialog(stateManager.getProperty(&quot;UserName&quot;).orElse(&quot;&quot;).toString());\n        ^\n  symbol:   class TextInputDialog\n  location: class PrimaryController\nE:\\IntellijProjects\\GluonDesktop-MultipleViewProjectwithFXML\\src\\main\\java\\com\\gluonapplication\\controllers\\PrimaryController.java:65: error: cannot find symbol\n        TextInputDialog input = new TextInputDialog(stateManager.getProperty(&quot;UserName&quot;).orElse(&quot;&quot;).toString());\n                                    ^\n  symbol:   class TextInputDialog\n  location: class PrimaryController\n29 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 0s\n1 actionable task: 1 executed\nCompilation failed; see the compiler error output for details.\n00:41:11: Task execution finished 'run'.\n</code></pre>\n<p>Which step did I make a mistake in?</p>\n"},{"tags":["java","overriding","equals"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1538871519,"post_id":52684028,"comment_id":92296671,"body_markdown":"(You also need to override `hashCode`.)","body":"(You also need to override <code>hashCode</code>.)"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538867124,"creation_date":1538866619,"answer_id":52684039,"question_id":52684028,"body_markdown":"This is pretty simple but you need to cast `object`:\r\n\r\n    @Override\r\n    public boolean equals(Object object){\r\n        if (object != null &amp;&amp; object.getClass()==Point.class){\r\n            Point p = (Point)object;\r\n            return p.getX()==this.x &amp;&amp; p.getY()==this.y;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n\r\nThis is also relevant: https://stackoverflow.com/questions/16497471/casting-in-equals-method","title":"Override equals method in java","body":"<p>This is pretty simple but you need to cast <code>object</code>:</p>\n\n<pre><code>@Override\npublic boolean equals(Object object){\n    if (object != null &amp;&amp; object.getClass()==Point.class){\n        Point p = (Point)object;\n        return p.getX()==this.x &amp;&amp; p.getY()==this.y;\n    }\n    else{\n        return false;\n    }\n}\n</code></pre>\n\n<p>This is also relevant: <a href=\"https://stackoverflow.com/questions/16497471/casting-in-equals-method\">Casting in equals method</a></p>\n"}],"owner":{"account_id":14423843,"reputation":57,"user_id":10419198,"display_name":"Phil&#233;mon Roubaud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671820682,"creation_date":1538866509,"question_id":52684028,"body_markdown":"Let&#39;s consider the following simple class.\r\n\r\n    class Point {\r\n    private float x;\r\n    private float y;\r\n    \r\n    public Point(float x, float y){\r\n        this.x=x;\r\n        this.y=y;\r\n    }\r\n    \r\n    public float getX(){return this.x;}\r\n    public float getY(){return this.y;}\r\n    public void setX(float x){this.x=x;}\r\n    public void setY(float y){this.y=y;}\r\n    \r\n    @Override\r\n    public String toString(){\r\n        return (&quot;x = &quot;+this.x+&quot;, y = &quot;+this.y+&quot;;&quot;);\r\n    }\r\n    @Override\r\n    public Point clone(){\r\n        return new Point(this.x,this.y);\r\n    }\r\n    @Override\r\n    public boolean equals(Object object){\r\n        if (object != null &amp;&amp; object.getClass()==Point.class){\r\n            return object.getX()==this.x &amp;&amp; object.getY()==this.y;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\nThe problem is in the rewrite of method equals: I use the general Object class as attribute to make it more flexible, but netbeans prints error on return line: &quot;Object has no method getX&quot; which is perfectly logical. \r\n\r\nBut the problem is still here, how can I manage to fix this?\r\n\r\nThanks you in advance","title":"Override equals method in java","body":"<p>Let's consider the following simple class.</p>\n<pre><code>class Point {\nprivate float x;\nprivate float y;\n\npublic Point(float x, float y){\n    this.x=x;\n    this.y=y;\n}\n\npublic float getX(){return this.x;}\npublic float getY(){return this.y;}\npublic void setX(float x){this.x=x;}\npublic void setY(float y){this.y=y;}\n\n@Override\npublic String toString(){\n    return (&quot;x = &quot;+this.x+&quot;, y = &quot;+this.y+&quot;;&quot;);\n}\n@Override\npublic Point clone(){\n    return new Point(this.x,this.y);\n}\n@Override\npublic boolean equals(Object object){\n    if (object != null &amp;&amp; object.getClass()==Point.class){\n        return object.getX()==this.x &amp;&amp; object.getY()==this.y;\n    }\n    else{\n        return false;\n    }\n}\n</code></pre>\n<p>The problem is in the rewrite of method equals: I use the general Object class as attribute to make it more flexible, but netbeans prints error on return line: &quot;Object has no method getX&quot; which is perfectly logical.</p>\n<p>But the problem is still here, how can I manage to fix this?</p>\n<p>Thanks you in advance</p>\n"},{"tags":["java","web-services","cxf"],"answers":[{"comments":[{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":1,"creation_date":1308065824,"post_id":6344047,"comment_id":7425688,"body_markdown":"I&#39;ve seen this, but the example uses Spring - which I&#39;d like to avoid. Do you have the java code to get this working? +1","body":"I&#39;ve seen this, but the example uses Spring - which I&#39;d like to avoid. Do you have the java code to get this working? +1"},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1308114365,"post_id":6344047,"comment_id":7435633,"body_markdown":"This is what I was afraid of...that in order to do Object over the wire with CXF you have to markup the classes with JAXB annotations. However, in my instance...changing the classes to add the JAXB annotations is not an option. Thus, this is not what I would quantify as &quot;automatically mapping&quot; since you have to modify your classes to get them to marshal. The restlet library does this by default via xstream (you simply add the jar to your path) - I was hoping CXF has something similar.","body":"This is what I was afraid of...that in order to do Object over the wire with CXF you have to markup the classes with JAXB annotations. However, in my instance...changing the classes to add the JAXB annotations is not an option. Thus, this is not what I would quantify as &quot;automatically mapping&quot; since you have to modify your classes to get them to marshal. The restlet library does this by default via xstream (you simply add the jar to your path) - I was hoping CXF has something similar."},{"owner":{"account_id":333322,"reputation":3805,"user_id":659138,"display_name":"philwb"},"score":0,"creation_date":1308147020,"post_id":6344047,"comment_id":7443847,"body_markdown":"I see; so you&#39;re real issue is that you need a json message body provider that isn&#39;t based on the underlying jaxb provider.  Actually, that probably makes it easier.  You can quickly build a provider based on xstream and simply use it.  I&#39;ll post some sample code that I have for that shortly.","body":"I see; so you&#39;re real issue is that you need a json message body provider that isn&#39;t based on the underlying jaxb provider.  Actually, that probably makes it easier.  You can quickly build a provider based on xstream and simply use it.  I&#39;ll post some sample code that I have for that shortly."},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1308170704,"post_id":6344047,"comment_id":7451443,"body_markdown":"First of all, I appreciate your efforts to help me solve this. Second, I would expect something like this to exist in the library &quot;out of the box&quot; - but maybe I&#39;m expecting too much. In my opinion, it seems heavy &amp; cluttery that one would have to implement MessageBody[Reader\\Writer] for every resource. Unless someone comes along with a better solution I&#39;ll accept your solution and grant you the bounty at the end of the timeline, however, I still don&#39;t see this as an optimal solution. Thanks!","body":"First of all, I appreciate your efforts to help me solve this. Second, I would expect something like this to exist in the library &quot;out of the box&quot; - but maybe I&#39;m expecting too much. In my opinion, it seems heavy &amp; cluttery that one would have to implement MessageBody[Reader\\Writer] for every resource. Unless someone comes along with a better solution I&#39;ll accept your solution and grant you the bounty at the end of the timeline, however, I still don&#39;t see this as an optimal solution. Thanks!"},{"owner":{"account_id":333322,"reputation":3805,"user_id":659138,"display_name":"philwb"},"score":0,"creation_date":1308171188,"post_id":6344047,"comment_id":7451572,"body_markdown":"Happy to help if I can.  Personally, I wouldn&#39;t expect much from a json provider out of the box; too many possibilities for it to be generically useful.  In many of these cases the client and server would have to know quite a bit about one another to work properly, which might make jaxb markup or other methods much more feasible.  One last point, you don&#39;t need to have a message body reader/writer for each resource.  You can handily change isWritable/Readable to not care about the class type, leaving you with xstream/jettison default marshalling for all entities.  At less than 100 LOC, cheap.","body":"Happy to help if I can.  Personally, I wouldn&#39;t expect much from a json provider out of the box; too many possibilities for it to be generically useful.  In many of these cases the client and server would have to know quite a bit about one another to work properly, which might make jaxb markup or other methods much more feasible.  One last point, you don&#39;t need to have a message body reader/writer for each resource.  You can handily change isWritable/Readable to not care about the class type, leaving you with xstream/jettison default marshalling for all entities.  At less than 100 LOC, cheap."},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1308202703,"post_id":6344047,"comment_id":7456392,"body_markdown":"Restlet does it by default. I think it achieves it with reflection. But then the restlet library does not adhere to the JAX-RS spec on the client side like CXF does. Do either way I have to compromise :(","body":"Restlet does it by default. I think it achieves it with reflection. But then the restlet library does not adhere to the JAX-RS spec on the client side like CXF does. Do either way I have to compromise :("},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1327707838,"post_id":6344047,"comment_id":11342547,"body_markdown":"Do you have to do something on the server side to make this work? I am finally getting around to trying this out, and I can&#39;t seem to get it to work.","body":"Do you have to do something on the server side to make this work? I am finally getting around to trying this out, and I can&#39;t seem to get it to work."},{"owner":{"account_id":333322,"reputation":3805,"user_id":659138,"display_name":"philwb"},"score":0,"creation_date":1327711798,"post_id":6344047,"comment_id":11343179,"body_markdown":"@javamonkey79: see edit 3 for spring based server configuration.  I don&#39;t have a code based configuration handy but it should follow very similarly to the client configuration for providers which is in one of the code samples above.","body":"@javamonkey79: see edit 3 for spring based server configuration.  I don&#39;t have a code based configuration handy but it should follow very similarly to the client configuration for providers which is in one of the code samples above."},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1327713095,"post_id":6344047,"comment_id":11343339,"body_markdown":"I&#39;ve been looking into Aegis as an alternate databinding (other than JAXB). It looks like this might do the trick if I can get it to work. Have you tried this?","body":"I&#39;ve been looking into Aegis as an alternate databinding (other than JAXB). It looks like this might do the trick if I can get it to work. Have you tried this?"},{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1327713270,"post_id":6344047,"comment_id":11343359,"body_markdown":"I tried to set it as a service provider, I don&#39;t know if I&#39;m doing something wrong or what. I am using: `JAXRSServerFactoryBean` I tried `sf.setResourceProvider( Demo.class, new XstreamJsonProvider() );` but this doesn&#39;t seem to work - also it requires making `XstreamJsonProvider` adhere to the `ResourceProvider` interface...","body":"I tried to set it as a service provider, I don&#39;t know if I&#39;m doing something wrong or what. I am using: <code>JAXRSServerFactoryBean</code> I tried <code>sf.setResourceProvider( Demo.class, new XstreamJsonProvider() );</code> but this doesn&#39;t seem to work - also it requires making <code>XstreamJsonProvider</code> adhere to the <code>ResourceProvider</code> interface..."},{"owner":{"account_id":333322,"reputation":3805,"user_id":659138,"display_name":"philwb"},"score":0,"creation_date":1327714434,"post_id":6344047,"comment_id":11343489,"body_markdown":"@javamonkey79: see edit 4 for help with non-spring configuration.  As for aegis, no I haven&#39;t used it. I&#39;m not sure how much help that is for you in producing JSON, though it looks like it might help with XML in the case where you cannot annotate the source DTO. However, if you are going down that path to avoid a message body writer/reader I think you are adding to your work and complexity without any real gains.","body":"@javamonkey79: see edit 4 for help with non-spring configuration.  As for aegis, no I haven&#39;t used it. I&#39;m not sure how much help that is for you in producing JSON, though it looks like it might help with XML in the case where you cannot annotate the source DTO. However, if you are going down that path to avoid a message body writer/reader I think you are adding to your work and complexity without any real gains."},{"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"score":0,"creation_date":1432899088,"post_id":6344047,"comment_id":49130315,"body_markdown":"@philwb ... thank you, it also helped me as I am working on a RESTful service in CXF with Spring.","body":"@philwb ... thank you, it also helped me as I am working on a RESTful service in CXF with Spring."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1487023036,"post_id":6344047,"comment_id":71589919,"body_markdown":"Is there a way to set a MessageBodyReader/Writer programatically?  I am not using a webap, so I don&#39;t have xml or a startup.","body":"Is there a way to set a MessageBodyReader/Writer programatically?  I am not using a webap, so I don&#39;t have xml or a startup."}],"tags":[],"owner":{"account_id":333322,"reputation":3805,"user_id":659138,"display_name":"philwb"},"comment_count":13,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1327714297,"creation_date":1308057311,"answer_id":6344047,"question_id":6312030,"body_markdown":"It isn&#39;t quite out of the box but CXF does support JSON bindings to rest services.  See [cxf jax-rs json docs here.][1] You&#39;ll still need to do some minimal configuration to have the provider available and you need to be familiar with jettison if you want to have more control over how the JSON is formed.\r\n\r\n**EDIT:** Per comment request, here is some code.  I don&#39;t have a lot of experience with this but the following code worked as an example in a quick test system.\r\n\r\n    //TestApi parts\r\n    @GET\r\n    @Path ( &quot;test&quot; )\r\n    @Produces ( &quot;application/json&quot; )\r\n    public Demo getDemo () {\r\n        Demo d = new Demo ();\r\n        d.id = 1;\r\n        d.name = &quot;test&quot;;\r\n        return d;\r\n    }\r\n\r\n    //client config for a TestApi interface\r\n    List providers = new ArrayList ();\r\n    JSONProvider jsonProvider = new JSONProvider ();\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt; ();\r\n    map.put ( &quot;http://www.myserviceapi.com&quot;, &quot;myapi&quot; );\r\n    jsonProvider.setNamespaceMap ( map );\r\n    providers.add ( jsonProvider );\r\n    TestApi proxy = JAXRSClientFactory.create ( url, TestApi.class, \r\n        providers, true );\r\n\r\n    Demo d = proxy.getDemo ();\r\n    if ( d != null ) {\r\n        System.out.println ( d.id + &quot;:&quot; + d.name );\r\n    }\r\n\r\n    //the Demo class\r\n    @XmlRootElement ( name = &quot;demo&quot;, namespace = &quot;http://www.myserviceapi.com&quot; )\r\n    @XmlType ( name = &quot;demo&quot;, namespace = &quot;http://www.myserviceapi.com&quot;, \r\n        propOrder = { &quot;name&quot;, &quot;id&quot; } )\r\n    @XmlAccessorType ( XmlAccessType.FIELD )\r\n    public class Demo {\r\n\r\n        public String name;\r\n        public int id;\r\n    }\r\n\r\nNotes:\r\n\r\n 1. The providers list is where you code configure the JSON provider on the client.  In particular, you see the namespace mapping.  This needs to match what is on your server side configuration.  I don&#39;t know much about Jettison options so I&#39;m not much help on manipulating all of the various knobs for controlling the marshalling process.\r\n 2. Jettison in CXF works by marshalling XML from a JAXB provider into JSON.  So you have to ensure that the payload objects are all marked up (or otherwise configured) to marshall as application/xml before you can have them marshall as JSON.  If you know of a way around this (other than writing your own message body writer), I&#39;d love to hear about it.\r\n 3. I use spring on the server so my configuration there is all xml stuff.  Essentially, you need to go through the same process to add the JSONProvider to the service with the same namespace configuration.  Don&#39;t have code for that handy but I imagine it will mirror the client side fairly well.\r\n\r\nThis is a bit dirty as an example but will hopefully get you going.\r\n\r\n**Edit2:** An example of a message body writer that is based on xstream to avoid jaxb.\r\n\r\n    @Produces ( &quot;application/json&quot; )\r\n    @Consumes ( &quot;application/json&quot; )\r\n    @Provider\r\n    public class XstreamJsonProvider implements MessageBodyReader&lt;Object&gt;,\r\n        MessageBodyWriter&lt;Object&gt; {\r\n\r\n    @Override\r\n    public boolean isWriteable ( Class&lt;?&gt; type, Type genericType, \r\n        Annotation[] annotations, MediaType mediaType ) {\r\n        return MediaType.APPLICATION_JSON_TYPE.equals ( mediaType ) \r\n            &amp;&amp; type.equals ( Demo.class );\r\n    }\r\n\r\n    @Override\r\n    public long getSize ( Object t, Class&lt;?&gt; type, Type genericType, \r\n        Annotation[] annotations, MediaType mediaType ) {\r\n        // I&#39;m being lazy - should compute the actual size\r\n        return -1;\r\n    }\r\n\r\n    @Override\r\n    public void writeTo ( Object t, Class&lt;?&gt; type, Type genericType, \r\n        Annotation[] annotations, MediaType mediaType, \r\n        MultivaluedMap&lt;String, Object&gt; httpHeaders, OutputStream entityStream ) \r\n        throws IOException, WebApplicationException {\r\n        // deal with thread safe use of xstream, etc.\r\n        XStream xstream = new XStream ( new JettisonMappedXmlDriver () );\r\n        xstream.setMode ( XStream.NO_REFERENCES );\r\n        // add safer encoding, error handling, etc.\r\n        xstream.toXML ( t, entityStream );\r\n    }\r\n\r\n    @Override\r\n    public boolean isReadable ( Class&lt;?&gt; type, Type genericType, \r\n        Annotation[] annotations, MediaType mediaType ) {\r\n        return MediaType.APPLICATION_JSON_TYPE.equals ( mediaType ) \r\n            &amp;&amp; type.equals ( Demo.class );\r\n    }\r\n\r\n    @Override\r\n    public Object readFrom ( Class&lt;Object&gt; type, Type genericType, \r\n        Annotation[] annotations, MediaType mediaType, \r\n        MultivaluedMap&lt;String, String&gt; httpHeaders, InputStream entityStream ) \r\n        throws IOException, WebApplicationException {\r\n        // add error handling, etc.\r\n        XStream xstream = new XStream ( new JettisonMappedXmlDriver () );\r\n        return xstream.fromXML ( entityStream );\r\n    }\r\n    }\r\n\r\n    //now your client just needs this\r\n    List providers = new ArrayList ();\r\n    XstreamJsonProvider jsonProvider = new XstreamJsonProvider ();\r\n    providers.add ( jsonProvider );\r\n    TestApi proxy = JAXRSClientFactory.create ( url, TestApi.class, \r\n        providers, true );\r\n\r\n    Demo d = proxy.getDemo ();\r\n    if ( d != null ) {\r\n        System.out.println ( d.id + &quot;:&quot; + d.name );\r\n    }\r\n\r\nThe sample code is missing the parts for robust media type support, error handling, thread safety, etc.  But, it ought to get you around the jaxb issue with minimal code.\r\n\r\n**EDIT 3 - sample server side configuration**\r\nAs I said before, my server side is spring configured.  Here is a sample configuration that works to wire in the provider:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:jaxrs=&quot;http://cxf.apache.org/jaxrs&quot;\r\n\txmlns:cxf=&quot;http://cxf.apache.org/core&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd\r\n        http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd&quot;&gt;\r\n\r\n\t&lt;import resource=&quot;classpath:META-INF/cxf/cxf.xml&quot; /&gt;\r\n\r\n\t&lt;jaxrs:server id=&quot;TestApi&quot;&gt;\r\n\t\t&lt;jaxrs:serviceBeans&gt;\r\n\t\t\t&lt;ref bean=&quot;testApi&quot; /&gt;\r\n\t\t&lt;/jaxrs:serviceBeans&gt;\r\n\t\t&lt;jaxrs:providers&gt;\r\n\t\t\t&lt;bean id=&quot;xstreamJsonProvider&quot; class=&quot;webtests.rest.XstreamJsonProvider&quot; /&gt;\r\n\t\t&lt;/jaxrs:providers&gt;\r\n\t&lt;/jaxrs:server&gt;\r\n\r\n\t&lt;bean id=&quot;testApi&quot; class=&quot;webtests.rest.TestApi&quot;&gt;\r\n\t&lt;/bean&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nI have also noted that in the latest rev of cxf that I&#39;m using there is a difference in the media types, so the example above on the xstream message body reader/writer needs a quick modification where isWritable/isReadable change to:\r\n\r\n    return MediaType.APPLICATION_JSON_TYPE.getType ().equals ( mediaType.getType () )\r\n        &amp;&amp; MediaType.APPLICATION_JSON_TYPE.getSubtype ().equals ( mediaType.getSubtype () )\r\n        &amp;&amp; type.equals ( Demo.class );\r\n\r\n**EDIT 4 - non-spring configuration**\r\nUsing your servlet container of choice, configure\r\n\r\n    org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet\r\n\r\nwith at least 2 init params of:\r\n\r\n    jaxrs.serviceClasses\r\n    jaxrs.providers\r\n\r\nwhere the serviceClasses is a space separated list of the service implementations you want bound, such as the TestApi mentioned above and the providers is a space separated list of message body providers, such as the XstreamJsonProvider mentioned above.  In tomcat you might add the following to web.xml:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;cxfservlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jaxrs.serviceClasses&lt;/param-name&gt;\r\n            &lt;param-value&gt;webtests.rest.TestApi&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\r\n            &lt;param-value&gt;webtests.rest.XstreamJsonProvider&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\nThat is pretty much the quickest way to run it without spring.  If you are not using a servlet container, you would need to configure the JAXRSServerFactoryBean.setProviders with an instance of XstreamJsonProvider and set the service implementation via the JAXRSServerFactoryBean.setResourceProvider method.  Check the CXFNonSpringJaxrsServlet.init method to see how they do it when setup in a servlet container.\r\n\r\nThat ought to get you going no matter your scenario.\r\n\r\n  [1]: http://cxf.apache.org/docs/jax-rs-data-bindings.html#JAX-RSDataBindings-JSONsupport","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>It isn't quite out of the box but CXF does support JSON bindings to rest services.  See <a href=\"http://cxf.apache.org/docs/jax-rs-data-bindings.html#JAX-RSDataBindings-JSONsupport\">cxf jax-rs json docs here.</a> You'll still need to do some minimal configuration to have the provider available and you need to be familiar with jettison if you want to have more control over how the JSON is formed.</p>\n\n<p><strong>EDIT:</strong> Per comment request, here is some code.  I don't have a lot of experience with this but the following code worked as an example in a quick test system.</p>\n\n<pre><code>//TestApi parts\n@GET\n@Path ( \"test\" )\n@Produces ( \"application/json\" )\npublic Demo getDemo () {\n    Demo d = new Demo ();\n    d.id = 1;\n    d.name = \"test\";\n    return d;\n}\n\n//client config for a TestApi interface\nList providers = new ArrayList ();\nJSONProvider jsonProvider = new JSONProvider ();\nMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt; ();\nmap.put ( \"http://www.myserviceapi.com\", \"myapi\" );\njsonProvider.setNamespaceMap ( map );\nproviders.add ( jsonProvider );\nTestApi proxy = JAXRSClientFactory.create ( url, TestApi.class, \n    providers, true );\n\nDemo d = proxy.getDemo ();\nif ( d != null ) {\n    System.out.println ( d.id + \":\" + d.name );\n}\n\n//the Demo class\n@XmlRootElement ( name = \"demo\", namespace = \"http://www.myserviceapi.com\" )\n@XmlType ( name = \"demo\", namespace = \"http://www.myserviceapi.com\", \n    propOrder = { \"name\", \"id\" } )\n@XmlAccessorType ( XmlAccessType.FIELD )\npublic class Demo {\n\n    public String name;\n    public int id;\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ol>\n<li>The providers list is where you code configure the JSON provider on the client.  In particular, you see the namespace mapping.  This needs to match what is on your server side configuration.  I don't know much about Jettison options so I'm not much help on manipulating all of the various knobs for controlling the marshalling process.</li>\n<li>Jettison in CXF works by marshalling XML from a JAXB provider into JSON.  So you have to ensure that the payload objects are all marked up (or otherwise configured) to marshall as application/xml before you can have them marshall as JSON.  If you know of a way around this (other than writing your own message body writer), I'd love to hear about it.</li>\n<li>I use spring on the server so my configuration there is all xml stuff.  Essentially, you need to go through the same process to add the JSONProvider to the service with the same namespace configuration.  Don't have code for that handy but I imagine it will mirror the client side fairly well.</li>\n</ol>\n\n<p>This is a bit dirty as an example but will hopefully get you going.</p>\n\n<p><strong>Edit2:</strong> An example of a message body writer that is based on xstream to avoid jaxb.</p>\n\n<pre><code>@Produces ( \"application/json\" )\n@Consumes ( \"application/json\" )\n@Provider\npublic class XstreamJsonProvider implements MessageBodyReader&lt;Object&gt;,\n    MessageBodyWriter&lt;Object&gt; {\n\n@Override\npublic boolean isWriteable ( Class&lt;?&gt; type, Type genericType, \n    Annotation[] annotations, MediaType mediaType ) {\n    return MediaType.APPLICATION_JSON_TYPE.equals ( mediaType ) \n        &amp;&amp; type.equals ( Demo.class );\n}\n\n@Override\npublic long getSize ( Object t, Class&lt;?&gt; type, Type genericType, \n    Annotation[] annotations, MediaType mediaType ) {\n    // I'm being lazy - should compute the actual size\n    return -1;\n}\n\n@Override\npublic void writeTo ( Object t, Class&lt;?&gt; type, Type genericType, \n    Annotation[] annotations, MediaType mediaType, \n    MultivaluedMap&lt;String, Object&gt; httpHeaders, OutputStream entityStream ) \n    throws IOException, WebApplicationException {\n    // deal with thread safe use of xstream, etc.\n    XStream xstream = new XStream ( new JettisonMappedXmlDriver () );\n    xstream.setMode ( XStream.NO_REFERENCES );\n    // add safer encoding, error handling, etc.\n    xstream.toXML ( t, entityStream );\n}\n\n@Override\npublic boolean isReadable ( Class&lt;?&gt; type, Type genericType, \n    Annotation[] annotations, MediaType mediaType ) {\n    return MediaType.APPLICATION_JSON_TYPE.equals ( mediaType ) \n        &amp;&amp; type.equals ( Demo.class );\n}\n\n@Override\npublic Object readFrom ( Class&lt;Object&gt; type, Type genericType, \n    Annotation[] annotations, MediaType mediaType, \n    MultivaluedMap&lt;String, String&gt; httpHeaders, InputStream entityStream ) \n    throws IOException, WebApplicationException {\n    // add error handling, etc.\n    XStream xstream = new XStream ( new JettisonMappedXmlDriver () );\n    return xstream.fromXML ( entityStream );\n}\n}\n\n//now your client just needs this\nList providers = new ArrayList ();\nXstreamJsonProvider jsonProvider = new XstreamJsonProvider ();\nproviders.add ( jsonProvider );\nTestApi proxy = JAXRSClientFactory.create ( url, TestApi.class, \n    providers, true );\n\nDemo d = proxy.getDemo ();\nif ( d != null ) {\n    System.out.println ( d.id + \":\" + d.name );\n}\n</code></pre>\n\n<p>The sample code is missing the parts for robust media type support, error handling, thread safety, etc.  But, it ought to get you around the jaxb issue with minimal code.</p>\n\n<p><strong>EDIT 3 - sample server side configuration</strong>\nAs I said before, my server side is spring configured.  Here is a sample configuration that works to wire in the provider:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:jaxrs=\"http://cxf.apache.org/jaxrs\"\nxmlns:cxf=\"http://cxf.apache.org/core\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd\n    http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd\"&gt;\n\n&lt;import resource=\"classpath:META-INF/cxf/cxf.xml\" /&gt;\n\n&lt;jaxrs:server id=\"TestApi\"&gt;\n    &lt;jaxrs:serviceBeans&gt;\n        &lt;ref bean=\"testApi\" /&gt;\n    &lt;/jaxrs:serviceBeans&gt;\n    &lt;jaxrs:providers&gt;\n        &lt;bean id=\"xstreamJsonProvider\" class=\"webtests.rest.XstreamJsonProvider\" /&gt;\n    &lt;/jaxrs:providers&gt;\n&lt;/jaxrs:server&gt;\n\n&lt;bean id=\"testApi\" class=\"webtests.rest.TestApi\"&gt;\n&lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>I have also noted that in the latest rev of cxf that I'm using there is a difference in the media types, so the example above on the xstream message body reader/writer needs a quick modification where isWritable/isReadable change to:</p>\n\n<pre><code>return MediaType.APPLICATION_JSON_TYPE.getType ().equals ( mediaType.getType () )\n    &amp;&amp; MediaType.APPLICATION_JSON_TYPE.getSubtype ().equals ( mediaType.getSubtype () )\n    &amp;&amp; type.equals ( Demo.class );\n</code></pre>\n\n<p><strong>EDIT 4 - non-spring configuration</strong>\nUsing your servlet container of choice, configure</p>\n\n<pre><code>org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet\n</code></pre>\n\n<p>with at least 2 init params of:</p>\n\n<pre><code>jaxrs.serviceClasses\njaxrs.providers\n</code></pre>\n\n<p>where the serviceClasses is a space separated list of the service implementations you want bound, such as the TestApi mentioned above and the providers is a space separated list of message body providers, such as the XstreamJsonProvider mentioned above.  In tomcat you might add the following to web.xml:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;cxfservlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jaxrs.serviceClasses&lt;/param-name&gt;\n        &lt;param-value&gt;webtests.rest.TestApi&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\n        &lt;param-value&gt;webtests.rest.XstreamJsonProvider&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>That is pretty much the quickest way to run it without spring.  If you are not using a servlet container, you would need to configure the JAXRSServerFactoryBean.setProviders with an instance of XstreamJsonProvider and set the service implementation via the JAXRSServerFactoryBean.setResourceProvider method.  Check the CXFNonSpringJaxrsServlet.init method to see how they do it when setup in a servlet container.</p>\n\n<p>That ought to get you going no matter your scenario.</p>\n"},{"tags":[],"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334513973,"creation_date":1334513973,"answer_id":10164730,"question_id":6312030,"body_markdown":"You can also configure CXFNonSpringJAXRSServlet (assuming JSONProvider is used):\r\n\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\r\n      &lt;param-value&gt;\r\n          org.apache.cxf.jaxrs.provider.JSONProvider\r\n          (writeXsiType=false)\r\n      &lt;/param-value&gt; \r\n    &lt;/init-param&gt;\r\n","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>You can also configure CXFNonSpringJAXRSServlet (assuming JSONProvider is used):</p>\n\n<pre><code>&lt;init-param&gt;\n  &lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\n  &lt;param-value&gt;\n      org.apache.cxf.jaxrs.provider.JSONProvider\n      (writeXsiType=false)\n  &lt;/param-value&gt; \n&lt;/init-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468218,"reputation":2281,"user_id":874076,"accept_rate":84,"display_name":"Kilokahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1367418156,"creation_date":1367418156,"answer_id":16319917,"question_id":6312030,"body_markdown":"If you are using jaxrs:client route of configuring, you can choose to use the JacksonJsonProvider to provide \r\n\r\n    &lt;jaxrs:client id=&quot;serviceId&quot;\r\n        serviceClass=&quot;classname&quot;\r\n        address=&quot;&quot;&gt;\r\n        &lt;jaxrs:providers&gt;\r\n            &lt;bean class=&quot;org.codehaus.jackson.jaxrs.JacksonJsonProvider&quot;&gt;\r\n                &lt;property name=&quot;mapper&quot; ref=&quot;jacksonMapper&quot; /&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/jaxrs:providers&gt;\r\n    &lt;/jaxrs:client&gt;\r\n\r\n    &lt;bean id=&quot;jacksonMapper&quot; class=&quot;org.codehaus.jackson.map.ObjectMapper&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nYou need to include the jackson-mapper-asl and jackson-jaxr artifacts in your classpath\r\n","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>If you are using jaxrs:client route of configuring, you can choose to use the JacksonJsonProvider to provide </p>\n\n<pre><code>&lt;jaxrs:client id=\"serviceId\"\n    serviceClass=\"classname\"\n    address=\"\"&gt;\n    &lt;jaxrs:providers&gt;\n        &lt;bean class=\"org.codehaus.jackson.jaxrs.JacksonJsonProvider\"&gt;\n            &lt;property name=\"mapper\" ref=\"jacksonMapper\" /&gt;\n        &lt;/bean&gt;\n    &lt;/jaxrs:providers&gt;\n&lt;/jaxrs:client&gt;\n\n&lt;bean id=\"jacksonMapper\" class=\"org.codehaus.jackson.map.ObjectMapper\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>You need to include the jackson-mapper-asl and jackson-jaxr artifacts in your classpath</p>\n"},{"comments":[{"owner":{"account_id":2426870,"reputation":238,"user_id":2118606,"accept_rate":43,"display_name":"Abhishek Ranjan"},"score":1,"creation_date":1447924795,"post_id":26679847,"comment_id":55365175,"body_markdown":"Can you share what you did do to register the provider class in CXF 2.7?","body":"Can you share what you did do to register the provider class in CXF 2.7?"},{"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"score":0,"creation_date":1589340626,"post_id":26679847,"comment_id":109252270,"body_markdown":"what is the xmlns for jaxrs?","body":"what is the xmlns for jaxrs?"}],"tags":[],"owner":{"account_id":2170364,"reputation":311,"user_id":1922538,"display_name":"Ross H Mills III"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1414774846,"creation_date":1414774846,"answer_id":26679847,"question_id":6312030,"body_markdown":"I encountered this problem while upgrading from CXF 2.7.0 to 3.0.2.  Here is what I did to resolve it:\r\n\r\nIncluded the following in my pom.xml\r\n\r\n    \t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n and added the following provider\r\n\r\n        &lt;jaxrs:providers&gt;\r\n            &lt;bean class=&quot;org.codehaus.jackson.jaxrs.JacksonJaxbJsonProvider&quot; /&gt;\r\n        &lt;/jaxrs:providers&gt;\r\n\r\n","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>I encountered this problem while upgrading from CXF 2.7.0 to 3.0.2.  Here is what I did to resolve it:</p>\n\n<p>Included the following in my pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;1.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and added the following provider</p>\n\n<pre><code>    &lt;jaxrs:providers&gt;\n        &lt;bean class=\"org.codehaus.jackson.jaxrs.JacksonJaxbJsonProvider\" /&gt;\n    &lt;/jaxrs:providers&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1926150,"reputation":42835,"user_id":1736537,"display_name":"A Kunin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482296140,"creation_date":1482296140,"answer_id":41255348,"question_id":6312030,"body_markdown":"When programmatically creating server, you can add message body writers for json/xml by setting Providers.\r\n\r\n    JAXRSServerFactoryBean bean = new JAXRSServerFactoryBean();\r\n    bean.setAddress(&quot;http://localhost:9000/&quot;);\r\n\r\n    List&lt;Object&gt; providers = new ArrayList&lt;Object&gt;();\r\n    providers.add(new JacksonJaxbJsonProvider());\r\n    providers.add(new JacksonJaxbXMLProvider());\r\n    bean.setProviders(providers);\r\n\r\n    List&lt;Class&lt; ? &gt;&gt; resourceClasses = new ArrayList&lt;Class&lt; ? &gt;&gt;();\r\n    resourceClasses.add(YourRestServiceImpl.class);\r\n    bean.setResourceClasses(resourceClasses);\r\n\r\n    bean.setResourceProvider(YourRestServiceImpl.class, new SingletonResourceProvider(new YourRestServiceImpl()));\r\n\r\n    BindingFactoryManager manager = bean.getBus().getExtension(BindingFactoryManager.class);\r\n    JAXRSBindingFactory restFactory = new JAXRSBindingFactory();\r\n    restFactory.setBus(bean.getBus());\r\n    manager.registerBindingFactory(JAXRSBindingFactory.JAXRS_BINDING_ID, restFactory);\r\n\r\n    bean.create();","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>When programmatically creating server, you can add message body writers for json/xml by setting Providers.</p>\n\n<pre><code>JAXRSServerFactoryBean bean = new JAXRSServerFactoryBean();\nbean.setAddress(\"http://localhost:9000/\");\n\nList&lt;Object&gt; providers = new ArrayList&lt;Object&gt;();\nproviders.add(new JacksonJaxbJsonProvider());\nproviders.add(new JacksonJaxbXMLProvider());\nbean.setProviders(providers);\n\nList&lt;Class&lt; ? &gt;&gt; resourceClasses = new ArrayList&lt;Class&lt; ? &gt;&gt;();\nresourceClasses.add(YourRestServiceImpl.class);\nbean.setResourceClasses(resourceClasses);\n\nbean.setResourceProvider(YourRestServiceImpl.class, new SingletonResourceProvider(new YourRestServiceImpl()));\n\nBindingFactoryManager manager = bean.getBus().getExtension(BindingFactoryManager.class);\nJAXRSBindingFactory restFactory = new JAXRSBindingFactory();\nrestFactory.setBus(bean.getBus());\nmanager.registerBindingFactory(JAXRSBindingFactory.JAXRS_BINDING_ID, restFactory);\n\nbean.create();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6839027,"reputation":4521,"user_id":5260008,"accept_rate":100,"display_name":"N00b Pr0grammer"},"score":0,"creation_date":1532684470,"post_id":49612971,"comment_id":90077163,"body_markdown":"This doesn&#39;t really help @Koushik Das","body":"This doesn&#39;t really help @Koushik Das"}],"tags":[],"owner":{"account_id":1461567,"reputation":29,"user_id":1375744,"display_name":"Koushik Das"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1522678577,"creation_date":1522678577,"answer_id":49612971,"question_id":6312030,"body_markdown":"You can try with mentioning  &quot;Accept: application/json&quot; in your rest client header as well, if you are expecting your object as JSON in response.","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>You can try with mentioning  \"Accept: application/json\" in your rest client header as well, if you are expecting your object as JSON in response.</p>\n"},{"tags":[],"owner":{"account_id":7814745,"reputation":417,"user_id":5909830,"display_name":"Purushothaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534517633,"creation_date":1534517633,"answer_id":51897999,"question_id":6312030,"body_markdown":"If you are using &quot;cxf-rt-rs-client&quot; version 3.03. or above make sure the xml name space and schemaLocation are declared as below\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    \txmlns:jaxrs=&quot;http://cxf.apache.org/jaxrs&quot; \r\n    \txmlns:jaxrs-client=&quot;http://cxf.apache.org/jaxrs-client&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \thttp://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd http://cxf.apache.org/jaxrs-client http://cxf.apache.org/schemas/jaxrs-client.xsd&quot;&gt;\r\n\r\nAnd make sure the client have JacksonJsonProvider or your custom JsonProvider \r\n\r\n    &lt;jaxrs-client:client id=&quot;serviceClient&quot; address=&quot;${cxf.endpoint.service.address}&quot; serviceClass=&quot;serviceClass&quot;&gt;\r\n            &lt;jaxrs-client:headers&gt;\r\n                &lt;entry key=&quot;Accept&quot; value=&quot;application/json&quot;&gt;&lt;/entry&gt;\r\n            &lt;/jaxrs-client:headers&gt;\r\n            &lt;jaxrs-client:providers&gt;\r\n                &lt;bean class=&quot;org.codehaus.jackson.jaxrs.JacksonJsonProvider&quot;&gt;\r\n                &lt;property name=&quot;mapper&quot; ref=&quot;jacksonMapper&quot; /&gt;\r\n            &lt;/bean&gt;\r\n            &lt;/jaxrs-client:providers&gt;\r\n    &lt;/jaxrs-client:client&gt;\r\n\r\n","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>If you are using \"cxf-rt-rs-client\" version 3.03. or above make sure the xml name space and schemaLocation are declared as below</p>\n\n\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xmlns:jaxrs=\"http://cxf.apache.org/jaxrs\" \n    xmlns:jaxrs-client=\"http://cxf.apache.org/jaxrs-client\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd http://cxf.apache.org/jaxrs-client http://cxf.apache.org/schemas/jaxrs-client.xsd\"&gt;\n</code></pre>\n\n<p>And make sure the client have JacksonJsonProvider or your custom JsonProvider </p>\n\n<pre><code>&lt;jaxrs-client:client id=\"serviceClient\" address=\"${cxf.endpoint.service.address}\" serviceClass=\"serviceClass\"&gt;\n        &lt;jaxrs-client:headers&gt;\n            &lt;entry key=\"Accept\" value=\"application/json\"&gt;&lt;/entry&gt;\n        &lt;/jaxrs-client:headers&gt;\n        &lt;jaxrs-client:providers&gt;\n            &lt;bean class=\"org.codehaus.jackson.jaxrs.JacksonJsonProvider\"&gt;\n            &lt;property name=\"mapper\" ref=\"jacksonMapper\" /&gt;\n        &lt;/bean&gt;\n        &lt;/jaxrs-client:providers&gt;\n&lt;/jaxrs-client:client&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7029323,"reputation":41,"user_id":5385634,"display_name":"Dinesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555419055,"creation_date":1555419055,"answer_id":55708592,"question_id":6312030,"body_markdown":"In my scenario, i faced similar error, when the rest url without port number is not properly configured for load balancing. I verified the rest url with portnumber and this issue was not occurring. so we had to update the load balancing configuration to resolve this issue.","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>In my scenario, i faced similar error, when the rest url without port number is not properly configured for load balancing. I verified the rest url with portnumber and this issue was not occurring. so we had to update the load balancing configuration to resolve this issue.</p>\n"},{"tags":[],"owner":{"account_id":1028612,"reputation":1675,"user_id":1037363,"accept_rate":20,"display_name":"Prasobh.Kollattu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558424420,"creation_date":1558424420,"answer_id":56233439,"question_id":6312030,"body_markdown":"None of the above changes worked for me.\r\nPlease see my worked configuration below:\r\n\r\nDependencies:\r\n\r\n                &lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jettison&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\nweb.xml:\r\n  \r\n         &lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;cfxServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.MyApplication&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;org.codehaus.jackson.jaxrs.JacksonJsonProvider&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;jaxrs.extensions&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt; \r\n                json=application/json \r\n            &lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;cfxServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/v1/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n\r\nEnjoy coding .. :)","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>None of the above changes worked for me.\nPlease see my worked configuration below:</p>\n\n<p>Dependencies:</p>\n\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-rt-frontend-jaxrs&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n                &lt;version&gt;1.9.13&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;\n                &lt;artifactId&gt;jettison&lt;/artifactId&gt;\n                &lt;version&gt;1.4.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>     &lt;servlet&gt;\n        &lt;servlet-name&gt;cfxServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.apache.cxf.jaxrs.servlet.CXFNonSpringJaxrsServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.MyApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\n            &lt;param-value&gt;org.codehaus.jackson.jaxrs.JacksonJsonProvider&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jaxrs.extensions&lt;/param-name&gt;\n            &lt;param-value&gt; \n            json=application/json \n        &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;cfxServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/v1/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Enjoy coding .. :)</p>\n"},{"tags":[],"owner":{"account_id":18192250,"reputation":11,"user_id":13237905,"display_name":"NatarajaN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586184267,"creation_date":1586178936,"answer_id":61060711,"question_id":6312030,"body_markdown":"Step 1: Add the bean class into the `dataFormat` list:\r\n\r\n```xml\r\n&lt;dataFormats&gt;\r\n    &lt;json id=&quot;jack&quot; library=&quot;Jackson&quot; prettyPrint=&quot;true&quot;\r\n          unmarshalTypeName=&quot;{ur bean class path}&quot; /&gt; \r\n&lt;/dataFormats&gt;\r\n```    \r\n    \r\nStep 2: Marshal the bean prior to the client call:\r\n\r\n```xml\r\n&lt;marchal id=&quot;marsh&quot; ref=&quot;jack&quot;/&gt;\r\n```\r\n\r\n","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>Step 1: Add the bean class into the <code>dataFormat</code> list:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dataFormats&gt;\n    &lt;json id=\"jack\" library=\"Jackson\" prettyPrint=\"true\"\n          unmarshalTypeName=\"{ur bean class path}\" /&gt; \n&lt;/dataFormats&gt;\n</code></pre>\n\n<p>Step 2: Marshal the bean prior to the client call:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;marchal id=\"marsh\" ref=\"jack\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3567133,"reputation":623,"user_id":2978362,"accept_rate":67,"display_name":"vsriram92"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671820016,"creation_date":1671820016,"answer_id":74902884,"question_id":6312030,"body_markdown":"Having both org.codehaus.jackson and com.fasterxml.jackson dependencies in a same project will cause this &quot;No message body writer&quot; issue irrespective of annotations.\r\n\r\nIn my case, the Bean was marshal&#39;d by com.fasterxml.jackson -&gt; jackson-jaxrs-json-provider and unmarshall&#39;d by org.codehaus.jackson -&gt; jackson-jaxrs\r\n\r\nSo removing / updating all the references from org.codehaus.jackson to com.fasterxml.jackson.jaxrs fixed this issue.\r\n\r\nI have updated it in \r\ncxf-servlet.xml, pom.xml and in all java class imports.\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n         &lt;version&gt;2.13.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nProvider in cxf-servlet.xml\r\n\r\n    &lt;jaxrs:providers&gt;\r\n       &lt;bean class=&quot;com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider&quot; /&gt;\r\n    &lt;/jaxrs:providers&gt;","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>Having both org.codehaus.jackson and com.fasterxml.jackson dependencies in a same project will cause this &quot;No message body writer&quot; issue irrespective of annotations.</p>\n<p>In my case, the Bean was marshal'd by com.fasterxml.jackson -&gt; jackson-jaxrs-json-provider and unmarshall'd by org.codehaus.jackson -&gt; jackson-jaxrs</p>\n<p>So removing / updating all the references from org.codehaus.jackson to com.fasterxml.jackson.jaxrs fixed this issue.</p>\n<p>I have updated it in\ncxf-servlet.xml, pom.xml and in all java class imports.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\n    &lt;version&gt;3.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n     &lt;version&gt;2.13.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Provider in cxf-servlet.xml</p>\n<pre><code>&lt;jaxrs:providers&gt;\n   &lt;bean class=&quot;com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider&quot; /&gt;\n&lt;/jaxrs:providers&gt;\n</code></pre>\n"}],"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130651,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":6344047,"answer_count":11,"score":43,"last_activity_date":1671820016,"creation_date":1307739679,"question_id":6312030,"body_markdown":"I am using the CXF rest client which works well for simple data types (eg: Strings, ints). However, when I attempt to use custom Objects I get this:\r\n\r\n    Exception in thread &quot;main&quot; org.apache.cxf.interceptor.Fault: .No message body writer found for class : class com.company.datatype.normal.MyObject.\r\n    \tat org.apache.cxf.jaxrs.client.ClientProxyImpl$BodyWriter.handleMessage(ClientProxyImpl.java:523)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)\r\n    \tat org.apache.cxf.jaxrs.client.ClientProxyImpl.doChainedInvocation(ClientProxyImpl.java:438)\r\n    \tat org.apache.cxf.jaxrs.client.ClientProxyImpl.invoke(ClientProxyImpl.java:177)\r\n    \tat $Proxy13.execute(Unknown Source)\r\n    \tat com.company.JaxTestClient.main(JaxTestClient.java:26)\r\n    Caused by: org.apache.cxf.jaxrs.client.ClientWebApplicationException: .No message body writer found for class : class com.company.datatype.normal.MyObject.\r\n    \tat org.apache.cxf.jaxrs.client.AbstractClient.reportMessageHandlerProblem(AbstractClient.java:491)\r\n    \tat org.apache.cxf.jaxrs.client.AbstractClient.writeBody(AbstractClient.java:401)\r\n    \tat org.apache.cxf.jaxrs.client.ClientProxyImpl$BodyWriter.handleMessage(ClientProxyImpl.java:515)\r\n    \t... 5 more\r\n\r\nI&#39;m calling it like this:\r\n\r\n    JaxExample jaxExample = JAXRSClientFactory.create( &quot;http://localhost:8111/&quot;, JaxExample.class );\r\n    MyObject before = ...\r\n    MyObject after = jaxExample.execute( before );\r\n\r\nHere is the method in the interface:\r\n\r\n\t@POST\r\n\t@Path( &quot;execute&quot; )\r\n\t@Produces( &quot;application/json&quot; )\r\n\tMyObject execute( MyObject myObject );\r\n\r\nThe restlet library does this quite simply, by adding the XStream dependency to your path it &quot;just works&quot;. Does CXF something similar?\r\n\r\n**EDIT #1:**\r\n\r\nI&#39;ve posted this as a feature improvement to the CXF issue management system [here][1]. I can only hope this will get attended to.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/CXF-3617","title":"CXF: No message body writer found for class - automatically mapping non-simple resources","body":"<p>I am using the CXF rest client which works well for simple data types (eg: Strings, ints). However, when I attempt to use custom Objects I get this:</p>\n\n<pre><code>Exception in thread \"main\" org.apache.cxf.interceptor.Fault: .No message body writer found for class : class com.company.datatype.normal.MyObject.\n    at org.apache.cxf.jaxrs.client.ClientProxyImpl$BodyWriter.handleMessage(ClientProxyImpl.java:523)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)\n    at org.apache.cxf.jaxrs.client.ClientProxyImpl.doChainedInvocation(ClientProxyImpl.java:438)\n    at org.apache.cxf.jaxrs.client.ClientProxyImpl.invoke(ClientProxyImpl.java:177)\n    at $Proxy13.execute(Unknown Source)\n    at com.company.JaxTestClient.main(JaxTestClient.java:26)\nCaused by: org.apache.cxf.jaxrs.client.ClientWebApplicationException: .No message body writer found for class : class com.company.datatype.normal.MyObject.\n    at org.apache.cxf.jaxrs.client.AbstractClient.reportMessageHandlerProblem(AbstractClient.java:491)\n    at org.apache.cxf.jaxrs.client.AbstractClient.writeBody(AbstractClient.java:401)\n    at org.apache.cxf.jaxrs.client.ClientProxyImpl$BodyWriter.handleMessage(ClientProxyImpl.java:515)\n    ... 5 more\n</code></pre>\n\n<p>I'm calling it like this:</p>\n\n<pre><code>JaxExample jaxExample = JAXRSClientFactory.create( \"http://localhost:8111/\", JaxExample.class );\nMyObject before = ...\nMyObject after = jaxExample.execute( before );\n</code></pre>\n\n<p>Here is the method in the interface:</p>\n\n<pre><code>@POST\n@Path( \"execute\" )\n@Produces( \"application/json\" )\nMyObject execute( MyObject myObject );\n</code></pre>\n\n<p>The restlet library does this quite simply, by adding the XStream dependency to your path it \"just works\". Does CXF something similar?</p>\n\n<p><strong>EDIT #1:</strong></p>\n\n<p>I've posted this as a feature improvement to the CXF issue management system <a href=\"https://issues.apache.org/jira/browse/CXF-3617\" rel=\"noreferrer\">here</a>. I can only hope this will get attended to.</p>\n"},{"tags":["java","unit-testing","timezone"],"answers":[{"comments":[{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1338469239,"post_id":10834016,"comment_id":14105499,"body_markdown":"I fixed the time strings. They now expect midnight as they should.","body":"I fixed the time strings. They now expect midnight as they should."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1338469381,"post_id":10834016,"comment_id":14105569,"body_markdown":"I don&#39;t want to change the `new DateTime(0L)`. But setting the locale+timezone on the joda-time formatter also fixes the issue.","body":"I don&#39;t want to change the <code>new DateTime(0L)</code>. But setting the locale+timezone on the joda-time formatter also fixes the issue."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1338470234,"post_id":10834016,"comment_id":14105937,"body_markdown":"@AaronDigulla: Sure - I was assuming you wanted to just call toString. If you&#39;re going to allow a DateTimeFormatter, life becomes a lot nicer :)","body":"@AaronDigulla: Sure - I was assuming you wanted to just call toString. If you&#39;re going to allow a DateTimeFormatter, life becomes a lot nicer :)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1338470164,"creation_date":1338468723,"answer_id":10834016,"question_id":10833948,"body_markdown":"By default, a new `SimpleDateFormat` will use the system default time zone. If you want a specific time zone, you should call `setTimeZone` on it:\r\n\r\n    private final static SimpleDateFormat DATE_FORMAT = createFormat();\r\n\r\n    private static SimpleDateFormat createFormat() {\r\n        // Make sure there are no locale-specific nasties, either...\r\n        SimpleDateFormat ret = new SimpleDateFormat(&quot;yyyy.MM.dd&#39;T&#39;HH:mm.ss:SSSZZ&quot;,\r\n                                                    Locale.US);\r\n        ret.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;);\r\n    }\r\n\r\nFor your second test, you&#39;d want to change it to:\r\n\r\n    new DateTime(0L, DateTimeZone.UTC);\r\n\r\nNote that you shouldn&#39;t usually use a static `SimpleDateFormat` variable, as it&#39;s not thread-safe. (Whereas the [Joda Time][1] `DateTimeFormatter` implementation *is* thread-safe.)\r\n\r\n\r\n  [1]: http://joda-time.sf.net","title":"Make unit tests with dates pass in all time zones and with/out DST","body":"<p>By default, a new <code>SimpleDateFormat</code> will use the system default time zone. If you want a specific time zone, you should call <code>setTimeZone</code> on it:</p>\n\n<pre><code>private final static SimpleDateFormat DATE_FORMAT = createFormat();\n\nprivate static SimpleDateFormat createFormat() {\n    // Make sure there are no locale-specific nasties, either...\n    SimpleDateFormat ret = new SimpleDateFormat(\"yyyy.MM.dd'T'HH:mm.ss:SSSZZ\",\n                                                Locale.US);\n    ret.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\");\n}\n</code></pre>\n\n<p>For your second test, you'd want to change it to:</p>\n\n<pre><code>new DateTime(0L, DateTimeZone.UTC);\n</code></pre>\n\n<p>Note that you shouldn't usually use a static <code>SimpleDateFormat</code> variable, as it's not thread-safe. (Whereas the <a href=\"http://joda-time.sf.net\" rel=\"noreferrer\">Joda Time</a> <code>DateTimeFormatter</code> implementation <em>is</em> thread-safe.)</p>\n"},{"comments":[{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1459070899,"post_id":36194014,"comment_id":60121408,"body_markdown":"That will ignore the whole test.","body":"That will ignore the whole test."}],"tags":[],"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1458798573,"creation_date":1458798573,"answer_id":36194014,"question_id":10833948,"body_markdown":"Or you can compare the date and put \r\n\r\n    @Ignore(&quot;Timezone issues&quot;)\r\n    @Test\r\n\r\nIn your unit-test","title":"Make unit tests with dates pass in all time zones and with/out DST","body":"<p>Or you can compare the date and put </p>\n\n<pre><code>@Ignore(\"Timezone issues\")\n@Test\n</code></pre>\n\n<p>In your unit-test</p>\n"}],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6635,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10834016,"answer_count":2,"score":4,"last_activity_date":1671819942,"creation_date":1338468501,"question_id":10833948,"body_markdown":"How do I make this unit test pass in all time zones independent of whether DST is active or not?\r\n\r\n\r\n    import static org.junit.Assert.*;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import org.joda.time.DateTime;\r\n    import org.junit.Test;\r\n    \r\n    public class TimeZoneTest {\r\n    \r\n        private final static SimpleDateFormat DATE_FORMAT = new SimpleDateFormat( &quot;yyyy.MM.dd&#39;T&#39;HH:mm.ss:SSSZZ&quot; );\r\n        \r\n        @Test\r\n        public void testUtilDateMillis() throws Exception {\r\n            assertEquals( &quot;1970.01.01T00:00.00:000+0000&quot;, DATE_FORMAT.format( new Date( 0L ) ) );\r\n        }\r\n        \r\n        @Test\r\n        public void testDateTimeMillis() throws Exception {\r\n            assertEquals( &quot;1970-01-01T00:00:00.000+00:00&quot;, new DateTime( 0L ).toString() );\r\n        }\r\n    }\r\n\r\n","title":"Make unit tests with dates pass in all time zones and with/out DST","body":"<p>How do I make this unit test pass in all time zones independent of whether DST is active or not?</p>\n\n<pre><code>import static org.junit.Assert.*;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport org.joda.time.DateTime;\nimport org.junit.Test;\n\npublic class TimeZoneTest {\n\n    private final static SimpleDateFormat DATE_FORMAT = new SimpleDateFormat( \"yyyy.MM.dd'T'HH:mm.ss:SSSZZ\" );\n\n    @Test\n    public void testUtilDateMillis() throws Exception {\n        assertEquals( \"1970.01.01T00:00.00:000+0000\", DATE_FORMAT.format( new Date( 0L ) ) );\n    }\n\n    @Test\n    public void testDateTimeMillis() throws Exception {\n        assertEquals( \"1970-01-01T00:00:00.000+00:00\", new DateTime( 0L ).toString() );\n    }\n}\n</code></pre>\n"},{"tags":["java","web-services","cxfrs"],"comments":[{"owner":{"account_id":162900,"reputation":2068,"user_id":384673,"accept_rate":64,"display_name":"Yazan Jaber"},"score":0,"creation_date":1329396678,"post_id":9311396,"comment_id":132187710,"body_markdown":"See [this](https://stackoverflow.com/questions/1603404/using-jaxb-to-unmarshal-marshal-a-liststring), Its JAXB thats giving you problems, it doesn&#39;t know how to unmarshal/marshal a List&lt;String&gt;.","body":"See <a href=\"https://stackoverflow.com/questions/1603404/using-jaxb-to-unmarshal-marshal-a-liststring\">this</a>, Its JAXB thats giving you problems, it doesn&#39;t know how to unmarshal/marshal a List&lt;String&gt;."},{"owner":{"account_id":1293616,"reputation":5058,"user_id":1245231,"display_name":"petrsyn"},"score":0,"creation_date":1434016262,"post_id":9311396,"comment_id":132187707,"body_markdown":"I&#39;ve solved it using JacksonJaxbJsonProvider. No Java code needs to be modified. Just few changes in Spring `context.xml` and Maven `pom.xml`, see https://stackoverflow.com/a/30777172/1245231","body":"I&#39;ve solved it using JacksonJaxbJsonProvider. No Java code needs to be modified. Just few changes in Spring <code>context.xml</code> and Maven <code>pom.xml</code>, see <a href=\"https://stackoverflow.com/a/30777172/1245231\">stackoverflow.com/a/30777172/1245231</a>"}],"answers":[{"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":2,"creation_date":1383664190,"post_id":9311666,"comment_id":29421076,"body_markdown":"And make sure that `Container` has a default, no-args constructor :)","body":"And make sure that <code>Container</code> has a default, no-args constructor :)"}],"tags":[],"owner":{"account_id":12693,"reputation":6851,"user_id":25141,"accept_rate":67,"display_name":"Urs Reupke"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1329397024,"creation_date":1329397024,"answer_id":9311666,"question_id":9311396,"body_markdown":"To return a list, best wrap it into a container annotated ``@XmlRootElement`` and give that container your list as a field, annotated as ``@XmlElement``.\r\n\r\nLike so:\r\n\r\n    @XmlRootElement\r\n    public class Container {\r\n        @XmlElement\r\n        public List yourlist;\r\n    }\r\n\r\n","title":"No message body writer has been found for response class ArrayList","body":"<p>To return a list, best wrap it into a container annotated <code>@XmlRootElement</code> and give that container your list as a field, annotated as <code>@XmlElement</code>.</p>\n\n<p>Like so:</p>\n\n<pre><code>@XmlRootElement\npublic class Container {\n    @XmlElement\n    public List yourlist;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100576,"reputation":1195,"user_id":271051,"accept_rate":64,"display_name":"Peter De Winter"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384374982,"creation_date":1384374982,"answer_id":19963807,"question_id":9311396,"body_markdown":"Try using the GenericEntity.\r\n\r\n    Response.ok(new GenericEntity&lt;List&lt;String&gt;&gt;(yourCollectionOfStrings) {}).build();","title":"No message body writer has been found for response class ArrayList","body":"<p>Try using the GenericEntity.</p>\n\n<pre><code>Response.ok(new GenericEntity&lt;List&lt;String&gt;&gt;(yourCollectionOfStrings) {}).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458736235,"creation_date":1458736235,"answer_id":36178261,"question_id":9311396,"body_markdown":"I have added the List&lt;String&gt; to existing object of the project scope of domain layer. \r\n\r\nIt was more contextual for project and also worked out-of-the box: no needed to test XmlRootElement, but add the test data+logic for List&lt;String&gt; of existing test case for that object.","title":"No message body writer has been found for response class ArrayList","body":"<p>I have added the List to existing object of the project scope of domain layer. </p>\n\n<p>It was more contextual for project and also worked out-of-the box: no needed to test XmlRootElement, but add the test data+logic for List of existing test case for that object.</p>\n"},{"tags":[],"owner":{"account_id":14477895,"reputation":1,"user_id":10458019,"display_name":"syam"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538673592,"creation_date":1538673282,"answer_id":52652208,"question_id":9311396,"body_markdown":"Add this Maven dependency:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;init-param&gt;\r\n        &lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\r\n        &lt;param-value&gt;org.codehaus.jackson.jaxrs.JacksonJaxbJsonProvider&lt;/param-value&gt;\r\n\t&lt;/init-param&gt;\r\n\r\n","title":"No message body writer has been found for response class ArrayList","body":"<p>Add this Maven dependency:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;init-param&gt;\n    &lt;param-name&gt;jaxrs.providers&lt;/param-name&gt;\n    &lt;param-value&gt;org.codehaus.jackson.jaxrs.JacksonJaxbJsonProvider&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3567133,"reputation":623,"user_id":2978362,"accept_rate":67,"display_name":"vsriram92"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671819859,"creation_date":1671818600,"answer_id":74902709,"question_id":9311396,"body_markdown":"Having both org.codehaus.jackson and com.fasterxml.jackson dependencies in a same project will cause this No message body writer issue irrespective of annotations.\r\n\r\nIn my case, the Bean was marshal&#39;d by com.fasterxml.jackson -&gt; jackson-jaxrs-json-provider and unmarshall&#39;d by org.codehaus.jackson -&gt; jackson-jaxrs\r\n\r\nSo removing / updating all the references from org.codehaus.jackson to com.fasterxml.jackson fixed this issue.\r\n\r\nI have updated it in \r\ncxf-servlet.xml, pom.xml and in all java class imports.\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n         &lt;version&gt;2.13.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nProvider in cxf-servlet.xml\r\n\r\n    &lt;jaxrs:providers&gt;\r\n       &lt;bean class=&quot;com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider&quot; /&gt;\r\n    &lt;/jaxrs:providers&gt;","title":"No message body writer has been found for response class ArrayList","body":"<p>Having both org.codehaus.jackson and com.fasterxml.jackson dependencies in a same project will cause this No message body writer issue irrespective of annotations.</p>\n<p>In my case, the Bean was marshal'd by com.fasterxml.jackson -&gt; jackson-jaxrs-json-provider and unmarshall'd by org.codehaus.jackson -&gt; jackson-jaxrs</p>\n<p>So removing / updating all the references from org.codehaus.jackson to com.fasterxml.jackson fixed this issue.</p>\n<p>I have updated it in\ncxf-servlet.xml, pom.xml and in all java class imports.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-rs-extension-providers&lt;/artifactId&gt;\n    &lt;version&gt;3.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n     &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n     &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n     &lt;version&gt;2.13.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Provider in cxf-servlet.xml</p>\n<pre><code>&lt;jaxrs:providers&gt;\n   &lt;bean class=&quot;com.fasterxml.jackson.jaxrs.json.JacksonJsonProvider&quot; /&gt;\n&lt;/jaxrs:providers&gt;\n</code></pre>\n"}],"owner":{"account_id":263153,"reputation":953,"user_id":548543,"accept_rate":39,"display_name":"aswininayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53916,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":9311666,"answer_count":5,"score":13,"last_activity_date":1671819859,"creation_date":1329395868,"question_id":9311396,"body_markdown":"While I am trying to return List&lt;String&gt; its throwing No message body writer has been found for response class ArrayList.\r\n\r\nI have code as follows:\r\n\r\n    @POST \r\n    @Path(&quot;/{scope}/{application}/tables&quot;)\r\n    @Produces(&quot;application/xml&quot;)\r\n    public List&lt;String&gt; getTableNames(@PathParam(&quot;scope&quot;) String scope,\r\n        @PathParam(&quot;application&quot;) String application, Request request) {\r\n\r\n        // For example, I am returning a list of String\r\n        return new ArrayList&lt;String&gt;(4);\r\n    }\r\n\r\nPlease help me. Thanks in advance","title":"No message body writer has been found for response class ArrayList","body":"<p>While I am trying to return List its throwing No message body writer has been found for response class ArrayList.</p>\n\n<p>I have code as follows:</p>\n\n<pre><code>@POST \n@Path(\"/{scope}/{application}/tables\")\n@Produces(\"application/xml\")\npublic List&lt;String&gt; getTableNames(@PathParam(\"scope\") String scope,\n    @PathParam(\"application\") String application, Request request) {\n\n    // For example, I am returning a list of String\n    return new ArrayList&lt;String&gt;(4);\n}\n</code></pre>\n\n<p>Please help me. Thanks in advance</p>\n"},{"tags":["java","unit-testing","timezone","jodatime","dst"],"comments":[{"owner":{"account_id":323395,"reputation":124305,"user_id":643383,"accept_rate":79,"display_name":"Caleb"},"score":0,"creation_date":1338612218,"post_id":10846704,"comment_id":14146758,"body_markdown":"possible duplicate of [Make unit tests with dates pass in all time zones and with/out DST](http://stackoverflow.com/questions/10833948/make-unit-tests-with-dates-pass-in-all-time-zones-and-with-out-dst)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10833948/make-unit-tests-with-dates-pass-in-all-time-zones-and-with-out-dst\">Make unit tests with dates pass in all time zones and with/out DST</a>"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1338809038,"post_id":10846704,"comment_id":14179475,"body_markdown":"It&#39;s not a duplicate; it&#39;s a followup.","body":"It&#39;s not a duplicate; it&#39;s a followup."}],"answers":[{"comments":[{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":1,"creation_date":1380832404,"post_id":10854527,"comment_id":28357744,"body_markdown":"I&#39;m not sure this will work independently of Daylight Savings Time.  For instance, right now I&#39;m getting the time zone for &quot;US/Pacific.&quot;  And right now, because we&#39;re still in DST, I get back an offset of -25200.  But when we switch back to standard time in November, the same code will return -28800.  Am I mistaken about that?","body":"I&#39;m not sure this will work independently of Daylight Savings Time.  For instance, right now I&#39;m getting the time zone for &quot;US/Pacific.&quot;  And right now, because we&#39;re still in DST, I get back an offset of -25200.  But when we switch back to standard time in November, the same code will return -28800.  Am I mistaken about that?"}],"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338811456,"creation_date":1338570197,"answer_id":10854527,"question_id":10846704,"body_markdown":"    for (String zoneId : DateTimeZone.getAvailableIDs())\r\n    {\r\n       DateTime testedDate1;\r\n       DateTime testedDate2;\r\n       try\r\n       {\r\n          final DateTimeZone tz = DateTimeZone.forID(zoneId);\r\n          // your test with testedDate1 and testedDate2 \r\n       }\r\n       catch (final IllegalArgumentException e)\r\n       {\r\n          // catching DST problem\r\n          testedDate1 = testetDate1.plusHours(1);\r\n          testedDate2 = testetDate2.plusHours(1);\r\n          // repeat your test for this dates\r\n       }\r\n    }\r\n\r\nChange for single test\r\n\r\n    DateTimeZone default;  \r\n    \r\n    DateTimeZone testedTZ;\r\n    \r\n    @Before\r\n    public void setUp()\r\n    {\r\n       default = GateTimeZone.getDefault();\r\n       DateTimeZone.setDefault\r\n    }  \r\n    \r\n    @After\r\n    public void tearDown()\r\n    {\r\n       default = GateTimeZone.setDefault();\r\n       DateTimeZone.setDefault(testedTZ)\r\n    }   \r\n      \r\n    @Test\r\n    public void test()\r\n    {\r\n    //...\r\n    }\r\n\r\n","title":"How do I write unit tests to make sure my date/time based code works for all time zones and with/out DST?","body":"<pre><code>for (String zoneId : DateTimeZone.getAvailableIDs())\n{\n   DateTime testedDate1;\n   DateTime testedDate2;\n   try\n   {\n      final DateTimeZone tz = DateTimeZone.forID(zoneId);\n      // your test with testedDate1 and testedDate2 \n   }\n   catch (final IllegalArgumentException e)\n   {\n      // catching DST problem\n      testedDate1 = testetDate1.plusHours(1);\n      testedDate2 = testetDate2.plusHours(1);\n      // repeat your test for this dates\n   }\n}\n</code></pre>\n\n<p>Change for single test</p>\n\n<pre><code>DateTimeZone default;  \n\nDateTimeZone testedTZ;\n\n@Before\npublic void setUp()\n{\n   default = GateTimeZone.getDefault();\n   DateTimeZone.setDefault\n}  \n\n@After\npublic void tearDown()\n{\n   default = GateTimeZone.setDefault();\n   DateTimeZone.setDefault(testedTZ)\n}   \n\n@Test\npublic void test()\n{\n//...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":135368,"reputation":547,"user_id":338193,"accept_rate":83,"display_name":"Spille"},"score":1,"creation_date":1541675400,"post_id":11139732,"comment_id":93301004,"body_markdown":"Nice solution, but I think it can be risky to set the original value back, if you run tests in parallel, as the first test, which finishes, sets the timezone (static field) back for all other tests.","body":"Nice solution, but I think it can be risky to set the original value back, if you run tests in parallel, as the first test, which finishes, sets the timezone (static field) back for all other tests."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1548421130,"post_id":11139732,"comment_id":95545275,"body_markdown":"@CSpille Correct. If you want to run tests in parallel, you have to group the tests which need this rule somehow and execute the rule around the group.","body":"@CSpille Correct. If you want to run tests in parallel, you have to group the tests which need this rule somehow and execute the rule around the group."}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1548421205,"creation_date":1340286799,"answer_id":11139732,"question_id":10846704,"body_markdown":"You can use a `@Rule` for this. Here is the code for the rule:\r\n\r\n    import org.joda.time.DateTimeZone;\r\n    import org.junit.rules.TestWatcher;\r\n    import org.junit.runner.Description;\r\n    \r\n    public class UTCRule extends TestWatcher {\r\n    \r\n        private DateTimeZone origDefault = DateTimeZone.getDefault();\r\n        \r\n        @Override\r\n        protected void starting( Description description ) {\r\n            DateTimeZone.setDefault( DateTimeZone.UTC );\r\n        }\r\n    \r\n        @Override\r\n        protected void finished( Description description ) {\r\n            DateTimeZone.setDefault( origDefault );\r\n        }\r\n    }\r\n\r\nYou can use the rule like this:\r\n\r\n    public class SomeTest {\r\n    \r\n        @Rule\r\n        public UTCRule utcRule = new UTCRule();\r\n    \r\n        ....\r\n    }\r\n\r\nThis will change the current time zone to UTC before each test in `SomeTest` will be executed and it will restore the default time zone after each test.\r\n\r\nIf you want to check several time zones, use a rule like this one:\r\n\r\n    import org.joda.time.DateTimeZone;\r\n    import org.junit.rules.TestWatcher;\r\n    import org.junit.runner.Description;\r\n    \r\n    public class TZRule extends TestWatcher {\r\n    \r\n        private DateTimeZone origDefault = DateTimeZone.getDefault();\r\n\r\n        private DateTimeZone tz;\r\n\r\n        public TZRule( DateTimeZone tz ) {\r\n            this.tz = tz;\r\n        }\r\n        \r\n        @Override\r\n        protected void starting( Description description ) {\r\n            DateTimeZone.setDefault( tz );\r\n        }\r\n    \r\n        @Override\r\n        protected void finished( Description description ) {\r\n            DateTimeZone.setDefault( origDefault );\r\n        }\r\n    }\r\n\r\nPut all the affected tests in an abstract base class `AbstractTZTest` and extend it:\r\n\r\n    public class UTCTest extends AbstractTZTest {\r\n        @Rule public TZRule tzRule = new TZRule( DateTimeZone.UTC );\r\n    }\r\n\r\nThat will execute all tests in `AbstractTZTest` with UTC. For each time zone that you want to test, you&#39;ll need another class:\r\n\r\n    public class UTCTest extends AbstractTZTest {\r\n        @Rule public TZRule tzRule = new TZRule( DateTimeZone.forID( &quot;...&quot; );\r\n    }\r\n\r\nSince test cases are inherited, that&#39;s all - you just need to define the rule.\r\n\r\nIn a similar way, you can shift the system clock. Use a rule that calls `DateTimeUtils.setCurrentMillisProvider(...)` to simulate that the test runs at a certain time and `DateTimeUtils.setCurrentMillisSystem()` to restore the defaults.\r\n\r\nNote: Your provider will need a way to make the clock tick or all new `DateTime` instances will have the same value. I often advance the value by a millisecond each time `getMillis()` is called.\r\n\r\nNote 2: That only works with joda-time. It doesn&#39;t affect `new java.util.Date()`.\r\n\r\nNote 3: You can&#39;t run these tests in parallel anymore. They must run in sequence or one of them will most likely restore the default timezone while another test is running.","title":"How do I write unit tests to make sure my date/time based code works for all time zones and with/out DST?","body":"<p>You can use a <code>@Rule</code> for this. Here is the code for the rule:</p>\n\n<pre><code>import org.joda.time.DateTimeZone;\nimport org.junit.rules.TestWatcher;\nimport org.junit.runner.Description;\n\npublic class UTCRule extends TestWatcher {\n\n    private DateTimeZone origDefault = DateTimeZone.getDefault();\n\n    @Override\n    protected void starting( Description description ) {\n        DateTimeZone.setDefault( DateTimeZone.UTC );\n    }\n\n    @Override\n    protected void finished( Description description ) {\n        DateTimeZone.setDefault( origDefault );\n    }\n}\n</code></pre>\n\n<p>You can use the rule like this:</p>\n\n<pre><code>public class SomeTest {\n\n    @Rule\n    public UTCRule utcRule = new UTCRule();\n\n    ....\n}\n</code></pre>\n\n<p>This will change the current time zone to UTC before each test in <code>SomeTest</code> will be executed and it will restore the default time zone after each test.</p>\n\n<p>If you want to check several time zones, use a rule like this one:</p>\n\n<pre><code>import org.joda.time.DateTimeZone;\nimport org.junit.rules.TestWatcher;\nimport org.junit.runner.Description;\n\npublic class TZRule extends TestWatcher {\n\n    private DateTimeZone origDefault = DateTimeZone.getDefault();\n\n    private DateTimeZone tz;\n\n    public TZRule( DateTimeZone tz ) {\n        this.tz = tz;\n    }\n\n    @Override\n    protected void starting( Description description ) {\n        DateTimeZone.setDefault( tz );\n    }\n\n    @Override\n    protected void finished( Description description ) {\n        DateTimeZone.setDefault( origDefault );\n    }\n}\n</code></pre>\n\n<p>Put all the affected tests in an abstract base class <code>AbstractTZTest</code> and extend it:</p>\n\n<pre><code>public class UTCTest extends AbstractTZTest {\n    @Rule public TZRule tzRule = new TZRule( DateTimeZone.UTC );\n}\n</code></pre>\n\n<p>That will execute all tests in <code>AbstractTZTest</code> with UTC. For each time zone that you want to test, you'll need another class:</p>\n\n<pre><code>public class UTCTest extends AbstractTZTest {\n    @Rule public TZRule tzRule = new TZRule( DateTimeZone.forID( \"...\" );\n}\n</code></pre>\n\n<p>Since test cases are inherited, that's all - you just need to define the rule.</p>\n\n<p>In a similar way, you can shift the system clock. Use a rule that calls <code>DateTimeUtils.setCurrentMillisProvider(...)</code> to simulate that the test runs at a certain time and <code>DateTimeUtils.setCurrentMillisSystem()</code> to restore the defaults.</p>\n\n<p>Note: Your provider will need a way to make the clock tick or all new <code>DateTime</code> instances will have the same value. I often advance the value by a millisecond each time <code>getMillis()</code> is called.</p>\n\n<p>Note 2: That only works with joda-time. It doesn't affect <code>new java.util.Date()</code>.</p>\n\n<p>Note 3: You can't run these tests in parallel anymore. They must run in sequence or one of them will most likely restore the default timezone while another test is running.</p>\n"}],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19976,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":11139732,"answer_count":2,"score":25,"last_activity_date":1671819814,"creation_date":1338538376,"question_id":10846704,"body_markdown":"I&#39;m using JodaTime 2.1 and I&#39;m looking for a pattern to unit test code which performs date/time operations to make sure it behaves well for all time zones and independent of [DST][1].\r\n\r\nSpecifically:\r\n\r\n1. How can I mock the system clock (so I don&#39;t have to mock all the places where I call `new DateTime()` to get the current time)\r\n1. How can I do the same for the default time zone?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Daylight_saving_time","title":"How do I write unit tests to make sure my date/time based code works for all time zones and with/out DST?","body":"<p>I'm using JodaTime 2.1 and I'm looking for a pattern to unit test code which performs date/time operations to make sure it behaves well for all time zones and independent of <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">DST</a>.</p>\n\n<p>Specifically:</p>\n\n<ol>\n<li>How can I mock the system clock (so I don't have to mock all the places where I call <code>new DateTime()</code> to get the current time)</li>\n<li>How can I do the same for the default time zone?</li>\n</ol>\n"},{"tags":["java","android","uri"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671738875,"post_id":74893058,"comment_id":132167922,"body_markdown":"Why do you wanna create a new uri? Use the first one. All your trying is false.","body":"Why do you wanna create a new uri? Use the first one. All your trying is false."},{"owner":{"account_id":14531956,"reputation":3,"user_id":10771894,"display_name":"Backfisch Inderjemmel"},"score":0,"creation_date":1671822505,"post_id":74893058,"comment_id":132184796,"body_markdown":"I want to create a duplicate of that Uri for testing purposes. In the end I need to let the user pick a file and then depending on the result of a qr code a different file that&#39;s named similar to the first one has to be opened. So I want to get the path of the first Uri then slightly change it and create another Uri with it.","body":"I want to create a duplicate of that Uri for testing purposes. In the end I need to let the user pick a file and then depending on the result of a qr code a different file that&#39;s named similar to the first one has to be opened. So I want to get the path of the first Uri then slightly change it and create another Uri with it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671835807,"post_id":74893058,"comment_id":132187238,"body_markdown":"That will not go for most of the uris are not decodable to a file system path and if you could you would have no access to that path. And just creating another uri makes no sense. What do you want to do with the file behind the new uri?","body":"That will not go for most of the uris are not decodable to a file system path and if you could you would have no access to that path. And just creating another uri makes no sense. What do you want to do with the file behind the new uri?"},{"owner":{"account_id":14531956,"reputation":3,"user_id":10771894,"display_name":"Backfisch Inderjemmel"},"score":0,"creation_date":1671917892,"post_id":74893058,"comment_id":132197638,"body_markdown":"I need to make an intent with the new file and open it in Google Sheets","body":"I need to make an intent with the new file and open it in Google Sheets"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1671971324,"post_id":74893058,"comment_id":132202302,"body_markdown":"If you have a new file and you want to serve it then you have to use your own file provider. You cannot just change the file name of a valid uri and expect that the provider will serve that other file. Use FileProvider class to serve your file.","body":"If you have a new file and you want to serve it then you have to use your own file provider. You cannot just change the file name of a valid uri and expect that the provider will serve that other file. Use FileProvider class to serve your file."}],"owner":{"account_id":14531956,"reputation":3,"user_id":10771894,"display_name":"Backfisch Inderjemmel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671819682,"creation_date":1671737316,"question_id":74893058,"body_markdown":"I have a Uri of a File that the User can pick with a `FilePicker`.\r\nI can make an intent with this Uri and Google Sheets opens the file successfully.\r\n\r\nI now get the Path of the `pickedUri` and create a new Uri with it and try to open it. This does not work.\r\n\r\n\r\nIf I compare the paths of the URIs, they are identical but if I compare the encoded Paths then they don&#39;t match.\r\n\r\n```\r\nfilepath = pickedUri.getPath();\r\nUri testUri = Uri.fromFile(new File(filepath));\r\n```\r\n\r\nand \r\n\r\n```\r\nfilepath = pickedUri.getPath();\r\nUri testUri = Uri.parse(&quot;file://&quot; + filepath);\r\n```","title":"Uri from Filepath returns false EncodedPath","body":"<p>I have a Uri of a File that the User can pick with a <code>FilePicker</code>.\nI can make an intent with this Uri and Google Sheets opens the file successfully.</p>\n<p>I now get the Path of the <code>pickedUri</code> and create a new Uri with it and try to open it. This does not work.</p>\n<p>If I compare the paths of the URIs, they are identical but if I compare the encoded Paths then they don't match.</p>\n<pre><code>filepath = pickedUri.getPath();\nUri testUri = Uri.fromFile(new File(filepath));\n</code></pre>\n<p>and</p>\n<pre><code>filepath = pickedUri.getPath();\nUri testUri = Uri.parse(&quot;file://&quot; + filepath);\n</code></pre>\n"},{"tags":["java","xpath"],"comments":[{"owner":{"account_id":13823959,"reputation":5465,"user_id":9978746,"display_name":"E.Wiest"},"score":0,"creation_date":1671114059,"post_id":74714664,"comment_id":132031941,"body_markdown":"Could you use a wildcard like `@XmlPath(&quot;reports/*/ReportName/text()&quot;)` ? Or should it be more specific ?","body":"Could you use a wildcard like <code>@XmlPath(&quot;reports&#47;*&#47;ReportName&#47;text()&quot;)</code> ? Or should it be more specific ?"}],"answers":[{"tags":[],"owner":{"account_id":10594731,"reputation":43,"user_id":7803883,"display_name":"Mayur Punjabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671818798,"creation_date":1671818798,"answer_id":74902739,"question_id":74714664,"body_markdown":"xpath `name` function can be used to compare the node/tag. Reference - https://developer.mozilla.org/en-US/docs/Web/XPath/Functions/name\r\n\r\nYou can use `name` function to check if the node/tag contains &#39;FATHER&#39;.\r\n\r\nYour xpath will be - `reports/*[contains(name(),&#39;FATHER&#39;)]/ReportName/text()`.\r\n\r\nIf &#39;FATHER&#39; is supposed to be at the beginning, then you can also use - `reports/*[starts-with(name(),&#39;FATHER&#39;)]/ReportName/text()`.\r\n\r\n","title":"XPath and @XmlPath: same path with different element node name in Java","body":"<p>xpath <code>name</code> function can be used to compare the node/tag. Reference - <a href=\"https://developer.mozilla.org/en-US/docs/Web/XPath/Functions/name\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/XPath/Functions/name</a></p>\n<p>You can use <code>name</code> function to check if the node/tag contains 'FATHER'.</p>\n<p>Your xpath will be - <code>reports/*[contains(name(),'FATHER')]/ReportName/text()</code>.</p>\n<p>If 'FATHER' is supposed to be at the beginning, then you can also use - <code>reports/*[starts-with(name(),'FATHER')]/ReportName/text()</code>.</p>\n"}],"owner":{"account_id":10294346,"reputation":1237,"user_id":7595061,"accept_rate":53,"display_name":"Andrea Bevilacqua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671818798,"creation_date":1670406692,"question_id":74714664,"body_markdown":"I am using in Java the annotation @XmlPath from the org.eclipse.persistence.oxm\r\nI need to map the same field but with different father element node name.\r\nExample:\r\n\r\n\t@XmlPath(&quot;reports/FATHER1/ReportName/text()&quot;)\r\n\tpublic void setReportName(String reportName) {\r\n\t\tthis.reportName = reportName;\r\n\t}\r\n\r\n\t@XmlPath(&quot;reports/FATHER2/ReportName/text()&quot;)\r\n\tpublic void setReportName(String reportName) {\r\n\t\tthis.reportName = reportName;\r\n\t}\r\n\r\nI would like to have only one method setReportName and use a variable expression instead of &quot;FATHER1&quot; or &quot;FATHER2&quot; like:\r\n\r\n\t@XmlPath(&quot;reports/&quot;takeEveryVariableFatherExpression&quot;/ReportName/text()&quot;)\r\n\tpublic void setReportName(String reportName) {\r\n\t\tthis.reportName = reportName;\r\n\t}","title":"XPath and @XmlPath: same path with different element node name in Java","body":"<p>I am using in Java the annotation @XmlPath from the org.eclipse.persistence.oxm\nI need to map the same field but with different father element node name.\nExample:</p>\n<pre><code>@XmlPath(&quot;reports/FATHER1/ReportName/text()&quot;)\npublic void setReportName(String reportName) {\n    this.reportName = reportName;\n}\n\n@XmlPath(&quot;reports/FATHER2/ReportName/text()&quot;)\npublic void setReportName(String reportName) {\n    this.reportName = reportName;\n}\n</code></pre>\n<p>I would like to have only one method setReportName and use a variable expression instead of &quot;FATHER1&quot; or &quot;FATHER2&quot; like:</p>\n<pre><code>@XmlPath(&quot;reports/&quot;takeEveryVariableFatherExpression&quot;/ReportName/text()&quot;)\npublic void setReportName(String reportName) {\n    this.reportName = reportName;\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1671819429,"post_id":74902719,"comment_id":132184132,"body_markdown":"Step 1 is to stop ignoring errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. --- After that, it&#39;ll be easier to help if you debug locally and tell us the results. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"Step 1 is to stop ignoring errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. --- After that, it&#39;ll be easier to help if you debug locally and tell us the results. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671868202,"post_id":74902719,"comment_id":132190076,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671912824,"post_id":74902719,"comment_id":132196867,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":21329131,"reputation":1,"user_id":20849081,"display_name":"leo leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671818669,"creation_date":1671818669,"question_id":74902719,"body_markdown":"I have a search written via order by.\r\nI have 6 buttons (in the future checkboxes) that filter the contents of the view by category.\r\nButtons are described in a similar way to search.\r\nHow to write search and filter correctly in order to synchronize the work of both checkboxes and the search line, so as not to prescribe each script separately.\r\n\r\nsearch code\r\n\r\n```\r\nprivate void search(String s) {\r\n    Query query = ProductsRef.orderByChild(&quot;prodName&quot;)\r\n            .startAt(s)\r\n            .endAt(s + &quot;\\uf8ff&quot;);\r\n\r\n    query.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            if(snapshot.hasChildren())\r\n            {\r\n                arrayList.clear();\r\n                for(DataSnapshot dss: snapshot.getChildren())\r\n                {\r\n                    final Products product = dss.getValue(Products.class);\r\n                    arrayList.add(product);\r\n                }\r\n                MyAdapter myAdapter = new MyAdapter(getApplicationContext(),arrayList);\r\n                recyclerView.setAdapter(myAdapter);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    });\r\n\r\n}\r\n```\r\n\r\nbutton code\r\n\r\n```\r\nprivate void SortByCat(String u) {\r\n    Query query = ProductsRef.orderByChild(&quot;category&quot;).startAt(u).endAt(u +&quot;\\uf8ff&quot; );\r\n    query.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            if(snapshot.hasChildren())\r\n            {\r\n                arrayList.clear();\r\n                for(DataSnapshot dss: snapshot.getChildren())\r\n                {\r\n                    final Products product = dss.getValue(Products.class);\r\n                    arrayList.add(product);\r\n                }\r\n                MyAdapter myAdapter = new MyAdapter(getApplicationContext(),arrayList);\r\n                recyclerView.setAdapter(myAdapter);\r\n            }\r\n        }\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nSearch and buttons work separately, and to be honest, I dont have enough experience to come up with something more concise than going through all the options for using filters with search.","title":"How to make search with filtering in recyclerView(firebase)?","body":"<p>I have a search written via order by.\nI have 6 buttons (in the future checkboxes) that filter the contents of the view by category.\nButtons are described in a similar way to search.\nHow to write search and filter correctly in order to synchronize the work of both checkboxes and the search line, so as not to prescribe each script separately.</p>\n<p>search code</p>\n<pre><code>private void search(String s) {\n    Query query = ProductsRef.orderByChild(&quot;prodName&quot;)\n            .startAt(s)\n            .endAt(s + &quot;\\uf8ff&quot;);\n\n    query.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if(snapshot.hasChildren())\n            {\n                arrayList.clear();\n                for(DataSnapshot dss: snapshot.getChildren())\n                {\n                    final Products product = dss.getValue(Products.class);\n                    arrayList.add(product);\n                }\n                MyAdapter myAdapter = new MyAdapter(getApplicationContext(),arrayList);\n                recyclerView.setAdapter(myAdapter);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n}\n</code></pre>\n<p>button code</p>\n<pre><code>private void SortByCat(String u) {\n    Query query = ProductsRef.orderByChild(&quot;category&quot;).startAt(u).endAt(u +&quot;\\uf8ff&quot; );\n    query.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if(snapshot.hasChildren())\n            {\n                arrayList.clear();\n                for(DataSnapshot dss: snapshot.getChildren())\n                {\n                    final Products product = dss.getValue(Products.class);\n                    arrayList.add(product);\n                }\n                MyAdapter myAdapter = new MyAdapter(getApplicationContext(),arrayList);\n                recyclerView.setAdapter(myAdapter);\n            }\n        }\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n}\n</code></pre>\n<p>Search and buttons work separately, and to be honest, I dont have enough experience to come up with something more concise than going through all the options for using filters with search.</p>\n"},{"tags":["java","apache-spark","rdd","mapper"],"answers":[{"comments":[{"owner":{"account_id":9909961,"reputation":379,"user_id":7337077,"accept_rate":36,"display_name":"Yong Hyun Kwon"},"score":0,"creation_date":1510107880,"post_id":47163135,"comment_id":81290718,"body_markdown":"I wanted to use mapPartition since I have read mapPartition is better in perofmance. Isn&#39;t that so?","body":"I wanted to use mapPartition since I have read mapPartition is better in perofmance. Isn&#39;t that so?"},{"owner":{"account_id":9909961,"reputation":379,"user_id":7337077,"accept_rate":36,"display_name":"Yong Hyun Kwon"},"score":0,"creation_date":1510108216,"post_id":47163135,"comment_id":81290804,"body_markdown":"String[] row = iterator.next().split(&quot;,&quot;); --&gt; where is iterator coming from?","body":"String[] row = iterator.next().split(&quot;,&quot;); --&gt; where is iterator coming from?"},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1510124890,"post_id":47163135,"comment_id":81296193,"body_markdown":"I copy pasted the code from the question and forgot to modify that part. I edited my answer. Thanks ;-)","body":"I copy pasted the code from the question and forgot to modify that part. I edited my answer. Thanks ;-)"},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1510127808,"post_id":47163135,"comment_id":81297777,"body_markdown":"In case you want to use mapPartition, take an iterator as an input and wrap my function inside a for loop that iterates over all its rows ;-)","body":"In case you want to use mapPartition, take an iterator as an input and wrap my function inside a for loop that iterates over all its rows ;-)"}],"tags":[],"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671818584,"creation_date":1510072904,"answer_id":47163135,"question_id":47152679,"body_markdown":"According to the need you express, I cannot see why you use `mapPartition` instead of simply `map`. Also another mistake here is that you should be using `flatMapToPair` instead of `mapToPair`.\r\n\r\nTo achieve what you want, your `flatmap` function needs to map a string (e.g. `&quot;0,1,hi,1.0&quot;`) to an iterator of tuples. To do that, you can simply create an `ArrayList` of the results you compute : \r\n\r\n    @Override\r\n    public Iterator&lt;Tuple2&lt;Integer, String&gt;&gt; call(String row) throws Exception {\r\n        String[] split_row = row.split(&quot;,&quot;);\r\n        //create list\r\n        List&lt;Tuple2&lt;Integer, String&gt;&gt; result = new ArrayList&lt;&gt;()\r\n        for(int j = 0; j&lt;split_row.length;j++) {\r\n            if(split_row[j].matches(int_regex)) {\r\n                result.add(new Tuple2(j, &quot;int&quot;));\r\n            } //else ...\r\n        }\r\n        //return the iterator\r\n        return result.iterator();\r\n    }\r\n\r\nIn case you actually need to use mapPartition, you can apply the same logic to your function.\r\n","title":"RDD get type and index of each element","body":"<p>According to the need you express, I cannot see why you use <code>mapPartition</code> instead of simply <code>map</code>. Also another mistake here is that you should be using <code>flatMapToPair</code> instead of <code>mapToPair</code>.</p>\n<p>To achieve what you want, your <code>flatmap</code> function needs to map a string (e.g. <code>&quot;0,1,hi,1.0&quot;</code>) to an iterator of tuples. To do that, you can simply create an <code>ArrayList</code> of the results you compute :</p>\n<pre><code>@Override\npublic Iterator&lt;Tuple2&lt;Integer, String&gt;&gt; call(String row) throws Exception {\n    String[] split_row = row.split(&quot;,&quot;);\n    //create list\n    List&lt;Tuple2&lt;Integer, String&gt;&gt; result = new ArrayList&lt;&gt;()\n    for(int j = 0; j&lt;split_row.length;j++) {\n        if(split_row[j].matches(int_regex)) {\n            result.add(new Tuple2(j, &quot;int&quot;));\n        } //else ...\n    }\n    //return the iterator\n    return result.iterator();\n}\n</code></pre>\n<p>In case you actually need to use mapPartition, you can apply the same logic to your function.</p>\n"}],"owner":{"account_id":9909961,"reputation":379,"user_id":7337077,"accept_rate":36,"display_name":"Yong Hyun Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47163135,"answer_count":1,"score":0,"last_activity_date":1671818584,"creation_date":1510041576,"question_id":47152679,"body_markdown":"I am looking for ways to get type and index of each element in Java.  For instance, suppose there is an RDD \r\n\r\n    [&#39;0,1,hi,1.0&#39;, &#39;2,3,String,String2&#39;, &#39;1.0,2.0,3,String&#39;]\r\n\r\nThen I want\r\n\r\n    [(0, int),(1, int),(2, String),(3, Double),(0, int) ........]\r\nSo that I can reduce by keys and see the data types for each column. I achieved it in python, but not sure about how to do this in Java. Is there any way to do this? Here is how I did it in python\r\n\r\n    def infer_type(partition):\r\n    for row in partition:\r\n        value = &quot;&quot;\r\n        idx = 0\r\n        for i in range(len(row)):\r\n            if row[0] == self.prop.comment:\r\n                break\r\n            if row[i] == self.prop.delimiter or i == (len(row) - 1):\r\n                if i == len(row) - 1:\r\n                    value += str(row[i])\r\n                if bool(value.strip()) == False:\r\n                    yield (idx, &#39;None&#39;)\r\n                elif int_regex_match.match(value):\r\n                    yield (idx, &#39;int&#39;)\r\n                elif float_regex_match.match(value):\r\n                    yield (idx, &#39;float&#39;)\r\n                else:\r\n                    if date_regex_match.match(value):\r\n                        yield (idx, &#39;date&#39;)\r\n                    else:\r\n                        yield (idx, &#39;str&#39;)\r\n                    idx += 1\r\n                    value = &quot;&quot;\r\n            else:\r\n                value += str(row[i])\r\n        rdd = rdd.mapPartitions(infer_type).map(lambda x: ((x[0], x[1]), 1)).reduceByKey(add).map(\r\n        lambda x: (x[0][0], (x[0][1], x[1])))\r\n\r\n\r\n\r\nEDIT : This is what I got upto now. However, I can&#39;t get iterator of tuple. \r\n\r\n    PairFlatMapFunction map = new PairFlatMapFunction&lt;Iterator&lt;String&gt;, Integer, String&gt;(){\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Iterator&lt;Tuple2&lt;Integer, String&gt;&gt; call(Iterator&lt;String&gt; iterator) throws Exception {\r\n    \t\t\t// TODO Auto-generated method stub\r\n                while(iterator.hasNext()) {\r\n                \tString[] row = iterator.next().split(&quot;,&quot;);\r\n                \tfor(int j = 0; j&lt;row.length;j++) {\r\n                \t\tif(row[j].matches(int_regex)) {\r\n                \t\t\tTuple2&lt;Integer, String&gt; result =new Tuple2(j, &quot;int&quot;);\r\n                \t\t\t// return iterator of result..?\r\n                \t\t}else if(row[j].matches(float_regex)) {\r\n                \t\t\tTuple2&lt;Integer, String&gt; result =new Tuple2(j, &quot;float&quot;);\r\n                \t\t\t// return iterator of result..?\r\n                \t\t}else if(row[j].matches(date_regex_match)) {\r\n                \t\t\tTuple2&lt;Integer, String&gt; result =new Tuple2(j, &quot;date&quot;);\r\n                \t\t\t// return iterator of result..?\r\n                \t\t}else {\r\n                \t\t\tTuple2&lt;Integer, String&gt; result =new Tuple2(j, &quot;str&quot;);\r\n                \t\t\t// return iterator of result..?\r\n                \t\t}\r\n                \t}\r\n                }\r\n    \t\t}\r\n     };\r\n    JavaPairRDD pair_rdd = rdd.mapPartitionsToPair(map, false);\r\n\r\n","title":"RDD get type and index of each element","body":"<p>I am looking for ways to get type and index of each element in Java.  For instance, suppose there is an RDD </p>\n\n<pre><code>['0,1,hi,1.0', '2,3,String,String2', '1.0,2.0,3,String']\n</code></pre>\n\n<p>Then I want</p>\n\n<pre><code>[(0, int),(1, int),(2, String),(3, Double),(0, int) ........]\n</code></pre>\n\n<p>So that I can reduce by keys and see the data types for each column. I achieved it in python, but not sure about how to do this in Java. Is there any way to do this? Here is how I did it in python</p>\n\n<pre><code>def infer_type(partition):\nfor row in partition:\n    value = \"\"\n    idx = 0\n    for i in range(len(row)):\n        if row[0] == self.prop.comment:\n            break\n        if row[i] == self.prop.delimiter or i == (len(row) - 1):\n            if i == len(row) - 1:\n                value += str(row[i])\n            if bool(value.strip()) == False:\n                yield (idx, 'None')\n            elif int_regex_match.match(value):\n                yield (idx, 'int')\n            elif float_regex_match.match(value):\n                yield (idx, 'float')\n            else:\n                if date_regex_match.match(value):\n                    yield (idx, 'date')\n                else:\n                    yield (idx, 'str')\n                idx += 1\n                value = \"\"\n        else:\n            value += str(row[i])\n    rdd = rdd.mapPartitions(infer_type).map(lambda x: ((x[0], x[1]), 1)).reduceByKey(add).map(\n    lambda x: (x[0][0], (x[0][1], x[1])))\n</code></pre>\n\n<p>EDIT : This is what I got upto now. However, I can't get iterator of tuple. </p>\n\n<pre><code>PairFlatMapFunction map = new PairFlatMapFunction&lt;Iterator&lt;String&gt;, Integer, String&gt;(){\n\n        @Override\n        public Iterator&lt;Tuple2&lt;Integer, String&gt;&gt; call(Iterator&lt;String&gt; iterator) throws Exception {\n            // TODO Auto-generated method stub\n            while(iterator.hasNext()) {\n                String[] row = iterator.next().split(\",\");\n                for(int j = 0; j&lt;row.length;j++) {\n                    if(row[j].matches(int_regex)) {\n                        Tuple2&lt;Integer, String&gt; result =new Tuple2(j, \"int\");\n                        // return iterator of result..?\n                    }else if(row[j].matches(float_regex)) {\n                        Tuple2&lt;Integer, String&gt; result =new Tuple2(j, \"float\");\n                        // return iterator of result..?\n                    }else if(row[j].matches(date_regex_match)) {\n                        Tuple2&lt;Integer, String&gt; result =new Tuple2(j, \"date\");\n                        // return iterator of result..?\n                    }else {\n                        Tuple2&lt;Integer, String&gt; result =new Tuple2(j, \"str\");\n                        // return iterator of result..?\n                    }\n                }\n            }\n        }\n };\nJavaPairRDD pair_rdd = rdd.mapPartitionsToPair(map, false);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","build","jar"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671817880,"post_id":74902576,"comment_id":132183776,"body_markdown":"Looks like you are running your code against an incompatible java version","body":"Looks like you are running your code against an incompatible java version"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671818067,"post_id":74902576,"comment_id":132183815,"body_markdown":"The method which is metioned in the stacktrace was introduced in java 9","body":"The method which is metioned in the stacktrace was introduced in java 9"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1671818109,"post_id":74902576,"comment_id":132183826,"body_markdown":"BTW: Please add the stacktrace as text not as image","body":"BTW: Please add the stacktrace as text not as image"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1671818113,"post_id":74902576,"comment_id":132183828,"body_markdown":"And according to the stacktrace you are running your application with Java 1.8","body":"And according to the stacktrace you are running your application with Java 1.8"},{"owner":{"account_id":27337881,"reputation":1,"user_id":20849014,"display_name":"Suhail Ansari"},"score":0,"creation_date":1671821211,"post_id":74902576,"comment_id":132184540,"body_markdown":"Thanks @Jens, it is java version incompatible issue","body":"Thanks @Jens, it is java version incompatible issue"}],"owner":{"account_id":27337881,"reputation":1,"user_id":20849014,"display_name":"Suhail Ansari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671818215,"creation_date":1671817622,"question_id":74902576,"body_markdown":"facing NoSuchMethodError, when I run my spring boot(v2.7.2) build jar file on my cmd. It&#39;s works fine on Eclipse IDE\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n    \r\n        \ttry {\r\n        \t\tRole role1 = new Role();\r\n        \t\trole1.setId(AppConstants.ADMIN_USER);\r\n        \t\trole1.setName(&quot;ROLE_ADMIN&quot;);\r\n        \r\n        \t\tRole role2 = new Role();\r\n        \t\trole2.setId(AppConstants.NORMAL_USER);\r\n        \t\trole2.setName(&quot;ROLE_NORMAL&quot;);\t\t\r\n        \r\n        \t\tList&lt;Role&gt; roles = List.of(role1, role2); //@line 50\r\n        \r\n        \t\tList&lt;Role&gt; result = this.roleRepo.saveAll(roles);\r\n        \r\n        \t\tresult.forEach(r -&gt; System.out.println(r.getName()));\r\n        \r\n        \t} catch (Exception e) {\r\n        \r\n        \t\te.printStackTrace();\r\n        \t}\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uEBwT.png","title":"Failed spring boot app with java.lang.NoSuchMethodError: java.util.List.of","body":"<p>facing NoSuchMethodError, when I run my spring boot(v2.7.2) build jar file on my cmd. It's works fine on Eclipse IDE</p>\n<pre><code>@Override\npublic void run(String... args) throws Exception {\n\n        try {\n            Role role1 = new Role();\n            role1.setId(AppConstants.ADMIN_USER);\n            role1.setName(&quot;ROLE_ADMIN&quot;);\n    \n            Role role2 = new Role();\n            role2.setId(AppConstants.NORMAL_USER);\n            role2.setName(&quot;ROLE_NORMAL&quot;);       \n    \n            List&lt;Role&gt; roles = List.of(role1, role2); //@line 50\n    \n            List&lt;Role&gt; result = this.roleRepo.saveAll(roles);\n    \n            result.forEach(r -&gt; System.out.println(r.getName()));\n    \n        } catch (Exception e) {\n    \n            e.printStackTrace();\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uEBwT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uEBwT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1409669603,"post_id":25626339,"comment_id":40036812,"body_markdown":"Looks like you haven&#39;t attached the sources of your library (not even the own Java SE sources).","body":"Looks like you haven&#39;t attached the sources of your library (not even the own Java SE sources)."},{"owner":{"account_id":4973922,"reputation":31,"user_id":4000857,"display_name":"Selene Nox"},"score":0,"creation_date":1409669832,"post_id":25626339,"comment_id":40036946,"body_markdown":"and how would one go about doing that?","body":"and how would one go about doing that?"},{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":0,"creation_date":1409682406,"post_id":25626339,"comment_id":40043565,"body_markdown":"@SeleneNox-See `Ian Fairman`&#39;s answer.It&#39;ll work out for you!","body":"@SeleneNox-See <code>Ian Fairman</code>&#39;s answer.It&#39;ll work out for you!"}],"answers":[{"tags":[],"owner":{"account_id":162311,"reputation":625,"user_id":383687,"display_name":"Ian Fairman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409670298,"creation_date":1409670298,"answer_id":25626599,"question_id":25626339,"body_markdown":"Try Ctrl-0 or from the menu &quot;Window&quot;/&quot;Editor&quot;.","title":"Why Netbeans 8.0 is not showing Source code","body":"<p>Try Ctrl-0 or from the menu \"Window\"/\"Editor\".</p>\n"},{"tags":[],"owner":{"account_id":3512734,"reputation":1562,"user_id":2936675,"accept_rate":89,"display_name":"nwhaught"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477628575,"creation_date":1477628575,"answer_id":40298003,"question_id":25626339,"body_markdown":"Another possibility is a corrupted userdir. Close NetBeans, remove your userdir, and reopen NetBeans. It will recreate the userdir, and you should have your source tab back. See below, copied from [http://wiki.netbeans.org/FaqWhatIsUserdir][1]\r\n\r\n**NetBeans 7.2 and newer**\r\n\r\nThe default location of the userdir is specific to the given system.\r\nBy default on Windows and Mac OS X the userdir is inside a directory NetBeans in application settings folder (usually at C:\\Users\\&lt;username&gt;\\AppData\\Roaming\\ on Windows 7, and at /Users/&lt;username&gt;/Library/Application Support/ on Mac OS X).\r\n\r\n\r\nOn Unix-like systems the userdir is inside a (hidden) directory called .netbeans in the user&#39;s home directory. The home directory path is ${HOME}.\r\nOn Windows XP system userdir is localised to your language, so in english version it is in: c:\\Documents and Settings\\Your Name\\Application Data\\NetBeans\\7.3\\\r\n\r\n\r\nAs the name suggests, the userdir is unique per user. For each version of NetBeans installed, the userdir will be a unique subdirectory such as NetBeans/&lt;nb-version&gt;.\r\n\r\n\r\nTo find out your exact userdir location, go to the IDE&#39;s main menu, and choose Help &gt; About. (Mac: NetBeans &gt; About NetBeans).\r\n\r\n\r\n  [1]: http://wiki.netbeans.org/FaqWhatIsUserdir","title":"Why Netbeans 8.0 is not showing Source code","body":"<p>Another possibility is a corrupted userdir. Close NetBeans, remove your userdir, and reopen NetBeans. It will recreate the userdir, and you should have your source tab back. See below, copied from <a href=\"http://wiki.netbeans.org/FaqWhatIsUserdir\" rel=\"nofollow\">http://wiki.netbeans.org/FaqWhatIsUserdir</a></p>\n\n<p><strong>NetBeans 7.2 and newer</strong></p>\n\n<p>The default location of the userdir is specific to the given system.\nBy default on Windows and Mac OS X the userdir is inside a directory NetBeans in application settings folder (usually at C:\\Users\\\\AppData\\Roaming\\ on Windows 7, and at /Users//Library/Application Support/ on Mac OS X).</p>\n\n<p>On Unix-like systems the userdir is inside a (hidden) directory called .netbeans in the user's home directory. The home directory path is ${HOME}.\nOn Windows XP system userdir is localised to your language, so in english version it is in: c:\\Documents and Settings\\Your Name\\Application Data\\NetBeans\\7.3\\</p>\n\n<p>As the name suggests, the userdir is unique per user. For each version of NetBeans installed, the userdir will be a unique subdirectory such as NetBeans/.</p>\n\n<p>To find out your exact userdir location, go to the IDE's main menu, and choose Help > About. (Mac: NetBeans > About NetBeans).</p>\n"},{"tags":[],"owner":{"account_id":6931967,"reputation":134,"user_id":5321182,"accept_rate":75,"display_name":"TomateFraiche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569529686,"creation_date":1569529686,"answer_id":58124302,"question_id":25626339,"body_markdown":"Window / Reset Windows could be an option\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JbbLz.png","title":"Why Netbeans 8.0 is not showing Source code","body":"<p>Window / Reset Windows could be an option</p>\n\n<p><a href=\"https://i.stack.imgur.com/JbbLz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JbbLz.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4973922,"reputation":31,"user_id":4000857,"display_name":"Selene Nox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8844,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1671817851,"creation_date":1409669539,"question_id":25626339,"body_markdown":"Okay so the source tab on Netbeans 8.0 shows up on my school computers but not my personal tablet computer. I am frustrated beyond reason because i have no idea how to get my source tabe to appear on my personal computer. Any help beyond uninstalling and reinstalling would be much appreciated as i have tried to uninstall and reinstall. ","title":"Why Netbeans 8.0 is not showing Source code","body":"<p>Okay so the source tab on Netbeans 8.0 shows up on my school computers but not my personal tablet computer. I am frustrated beyond reason because i have no idea how to get my source tabe to appear on my personal computer. Any help beyond uninstalling and reinstalling would be much appreciated as i have tried to uninstall and reinstall. </p>\n"},{"tags":["java","html","spring"],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671817574,"creation_date":1671106045,"question_id":74811276,"body_markdown":"I try to pass a parameter from the view to the controller, but received the &quot;Whiteble error page&quot;.\r\n\r\nI follow the very simple solution that I have successfully implemented in another project, but I can&#39;t understand why it not working now.\r\n\r\nHTML:\r\n\r\n```html\r\n    &lt;form action=&quot;/admin/block/execute&quot; method=&quot;post&quot;&gt;\r\n        &lt;select name=&quot;user&quot; id=userId required&gt;\r\n            &lt;option th:each=&quot;user: ${users}&quot;&gt;\r\n                &lt;title th:text=&quot;${user}&quot;/&gt;\r\n            &lt;/option&gt;\r\n        &lt;/select&gt;\r\n        &lt;div class=&quot;w3-container w3-margin&quot;&gt;\r\n            &lt;input class=&quot;w3-button w3-blue&quot; type=&quot;submit&quot; value=&quot;Start&quot;/&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\n```\r\n\r\ncontroller:\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/admin/block&quot;)\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class AdminController {\r\n\r\n    @RequestMapping(value = &quot;/execute&quot;, method = RequestMethod.POST)\r\n    public String executeParser(\r\n            @RequestParam String user\r\n    ){\r\n        //this controller doesn&#39;t executed\r\n        return &quot;redirect:/admin/block&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nAfter I successfully selected the value from the dropdown and pressed the button `Start` I received *Whiteble page error - This application has no explicit mapping for /error, so you are seeing this as a fallback.*\r\n\r\n\r\nWhat I have missed?","title":"How to pass parameter from dropdown to controller in spring","body":"<p>I try to pass a parameter from the view to the controller, but received the &quot;Whiteble error page&quot;.</p>\n<p>I follow the very simple solution that I have successfully implemented in another project, but I can't understand why it not working now.</p>\n<p>HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;form action=&quot;/admin/block/execute&quot; method=&quot;post&quot;&gt;\n        &lt;select name=&quot;user&quot; id=userId required&gt;\n            &lt;option th:each=&quot;user: ${users}&quot;&gt;\n                &lt;title th:text=&quot;${user}&quot;/&gt;\n            &lt;/option&gt;\n        &lt;/select&gt;\n        &lt;div class=&quot;w3-container w3-margin&quot;&gt;\n            &lt;input class=&quot;w3-button w3-blue&quot; type=&quot;submit&quot; value=&quot;Start&quot;/&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n\n</code></pre>\n<p>controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/admin/block&quot;)\n@AllArgsConstructor\n@Slf4j\npublic class AdminController {\n\n    @RequestMapping(value = &quot;/execute&quot;, method = RequestMethod.POST)\n    public String executeParser(\n            @RequestParam String user\n    ){\n        //this controller doesn't executed\n        return &quot;redirect:/admin/block&quot;;\n    }\n}\n</code></pre>\n<p>After I successfully selected the value from the dropdown and pressed the button <code>Start</code> I received <em>Whiteble page error - This application has no explicit mapping for /error, so you are seeing this as a fallback.</em></p>\n<p>What I have missed?</p>\n"},{"tags":["java","appium","appium-android"],"comments":[{"owner":{"account_id":27264513,"reputation":354,"user_id":20786794,"display_name":"Omprakash Chavan"},"score":0,"creation_date":1671698590,"post_id":74878903,"comment_id":132155576,"body_markdown":"The error is showing multiple locations where it&#39;s not able to find apksigner.jar file. Did you check all these locations and confirm that the file is available?","body":"The error is showing multiple locations where it&#39;s not able to find apksigner.jar file. Did you check all these locations and confirm that the file is available?"}],"answers":[{"tags":[],"owner":{"account_id":20678479,"reputation":33,"user_id":15182594,"display_name":"Gabriel Dragomir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671817483,"creation_date":1671813116,"answer_id":74901905,"question_id":74878903,"body_markdown":"For some reason the apksigner was not there, hence adding it manually based on [the comment](https://stackoverflow.com/questions/74878903/receiving-response-code-500-when-trying-to-open-a-webpage-using-appium-on-androi/74901905#comment132155576_74878903) by @Omprakash Chavan fixed the issue.","title":"Receiving response code 500 when trying to open a webpage using Appium on Android Emulated Device","body":"<p>For some reason the apksigner was not there, hence adding it manually based on <a href=\"https://stackoverflow.com/questions/74878903/receiving-response-code-500-when-trying-to-open-a-webpage-using-appium-on-androi/74901905#comment132155576_74878903\">the comment</a> by @Omprakash Chavan fixed the issue.</p>\n"}],"owner":{"account_id":20678479,"reputation":33,"user_id":15182594,"display_name":"Gabriel Dragomir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74901905,"answer_count":1,"score":0,"last_activity_date":1671817483,"creation_date":1671639571,"question_id":74878903,"body_markdown":"Based on the following code:\r\n\r\n    @Test\r\n    public void androidDriver() throws MalformedURLException {\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(&quot;deviceName&quot;, &quot;emulator-5554&quot;);\r\n        capabilities.setCapability(&quot;browserName&quot;, &quot;Chrome&quot;);\r\n        capabilities.setCapability(&quot;platformVersion&quot;, &quot;11&quot;);\r\n        capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n        WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);\r\n\r\n        driver.get(&quot;website&quot;);\r\n    }\r\n\r\nI am receiving the following errors:\r\n\r\nIDE Error:\r\n\r\n        org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Cannot verify the signature of &#39;C:\\Users\\user\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-uiautomator2-server\\apks\\appium-uiautomator2-server-v4.27.0.apk&#39;. Original error: Could not find &#39;apksigner.jar&#39; in [&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\platform-tools\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\emulator\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\cmdline-tools\\\\latest\\\\bin\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\tools\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\tools\\\\bin\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\apksigner.jar&quot;]. Do you have Android Build Tools installed at &#39;C:\\Users\\user\\AppData\\Local\\Android\\Sdk\\platform-tools&#39;?\r\n    Build info: version: &#39;4.1.2&#39;, revision: &#39;9a5a329c5a&#39;\r\n    System info: host: &#39;LAP3-056&#39;, ip: &#39;192.168.68.102&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.1&#39;\r\n    Driver info: org.openqa.selenium.remote.RemoteWebDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: Chrome, platformName: android}], desiredCapabilities=Capabilities {browserName: Chrome, deviceName: emulator-5554, platformName: Android, platformVersion: 11}}]\r\n    Capabilities {}\r\n\r\nI am using the latest version of Appium Server GUI and Android SDK Platform-Tools is also installed.\r\n\r\nAny other ideas of what can I do to fix this?","title":"Receiving response code 500 when trying to open a webpage using Appium on Android Emulated Device","body":"<p>Based on the following code:</p>\n<pre><code>@Test\npublic void androidDriver() throws MalformedURLException {\n    DesiredCapabilities capabilities = new DesiredCapabilities();\n    capabilities.setCapability(&quot;deviceName&quot;, &quot;emulator-5554&quot;);\n    capabilities.setCapability(&quot;browserName&quot;, &quot;Chrome&quot;);\n    capabilities.setCapability(&quot;platformVersion&quot;, &quot;11&quot;);\n    capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);\n\n    driver.get(&quot;website&quot;);\n}\n</code></pre>\n<p>I am receiving the following errors:</p>\n<p>IDE Error:</p>\n<pre><code>    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Cannot verify the signature of 'C:\\Users\\user\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-uiautomator2-server\\apks\\appium-uiautomator2-server-v4.27.0.apk'. Original error: Could not find 'apksigner.jar' in [&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\platform-tools\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\emulator\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\cmdline-tools\\\\latest\\\\bin\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\tools\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\tools\\\\bin\\\\apksigner.jar&quot;,&quot;C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\apksigner.jar&quot;]. Do you have Android Build Tools installed at 'C:\\Users\\user\\AppData\\Local\\Android\\Sdk\\platform-tools'?\nBuild info: version: '4.1.2', revision: '9a5a329c5a'\nSystem info: host: 'LAP3-056', ip: '192.168.68.102', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: Chrome, platformName: android}], desiredCapabilities=Capabilities {browserName: Chrome, deviceName: emulator-5554, platformName: Android, platformVersion: 11}}]\nCapabilities {}\n</code></pre>\n<p>I am using the latest version of Appium Server GUI and Android SDK Platform-Tools is also installed.</p>\n<p>Any other ideas of what can I do to fix this?</p>\n"},{"tags":["java","android"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671817243,"creation_date":1671817243,"question_id":74902517,"body_markdown":"I have built a call recorder app , i have tested the app in android 9 and it does record both sides but when i try to make a call with one plus phone which has android 12 , it does only record my voice not the other side voice , is there any special permission to be granted or something cause i&#39;m alread using the accessibility permission to handle this , any help would be appreciated thank you \r\n\r\n * Recording block code \r\n\r\n```\r\n      RecordingThread(Context context, String mode, Recorder recorder) throws RecordingException {\r\n        this.context = context;\r\n        channels = (mode.equals(Recorder.MONO) ? 1 : 2);\r\n        this.recorder = recorder;\r\n        bufferSize = AudioRecord.getMinBufferSize(SAMPLE_RATE, channels == 1 ?\r\n                        AudioFormat.CHANNEL_IN_MONO : AudioFormat.CHANNEL_IN_STEREO,\r\n                AudioFormat.ENCODING_PCM_16BIT);\r\n        audioRecord = createAudioRecord();\r\n        audioRecord.startRecording();\r\n    }\r\n\r\n```\r\n\r\n * Permissions in manifest \r\n\r\n```\r\n\r\n   &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.finsky.permission.BIND_GET_INSTALL_REFERRER_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.CAPTURE_AUDIO_OUTPUT&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_SECURE_SETTINGS&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_SETTINGS&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt;\r\n```","title":"App recording only caller voice in android 12","body":"<p>I have built a call recorder app , i have tested the app in android 9 and it does record both sides but when i try to make a call with one plus phone which has android 12 , it does only record my voice not the other side voice , is there any special permission to be granted or something cause i'm alread using the accessibility permission to handle this , any help would be appreciated thank you</p>\n<ul>\n<li>Recording block code</li>\n</ul>\n<pre><code>      RecordingThread(Context context, String mode, Recorder recorder) throws RecordingException {\n        this.context = context;\n        channels = (mode.equals(Recorder.MONO) ? 1 : 2);\n        this.recorder = recorder;\n        bufferSize = AudioRecord.getMinBufferSize(SAMPLE_RATE, channels == 1 ?\n                        AudioFormat.CHANNEL_IN_MONO : AudioFormat.CHANNEL_IN_STEREO,\n                AudioFormat.ENCODING_PCM_16BIT);\n        audioRecord = createAudioRecord();\n        audioRecord.startRecording();\n    }\n\n</code></pre>\n<ul>\n<li>Permissions in manifest</li>\n</ul>\n<pre><code>\n   &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.finsky.permission.BIND_GET_INSTALL_REFERRER_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.CAPTURE_AUDIO_OUTPUT&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.WRITE_SECURE_SETTINGS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.WRITE_SETTINGS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9440,"page":783,"page_size":100}
