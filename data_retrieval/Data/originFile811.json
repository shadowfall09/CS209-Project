{"items":[{"tags":["java","encryption","cryptography","aes","hmacsha256"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1671027402,"post_id":74798951,"comment_id":132008599,"body_markdown":"You have to Base64 decode the ciphertext before decryption and UTF-8 decode the decrypted data (and not vice versa).","body":"You have to Base64 decode the ciphertext before decryption and UTF-8 decode the decrypted data (and not vice versa)."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1671027674,"post_id":74798951,"comment_id":132008713,"body_markdown":"...and during decryption salt and IV from encryption must be used.","body":"...and during decryption salt and IV from encryption must be used."},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1671028162,"post_id":74798951,"comment_id":132008920,"body_markdown":"@Topaco Are you trying to say I make `salt` and `ivBytes` as statics at the top?","body":"@Topaco Are you trying to say I make <code>salt</code> and <code>ivBytes</code> as statics at the top?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1671028648,"post_id":74798951,"comment_id":132009129,"body_markdown":"No, absolutely not. Static values are insecure. IV and salt are to be generated randomly during encryption (as you do). However, after encryption they are concatenated with the ciphertext, e.g. salt|iv|ciphertext, and this is sent to the decrypting side (note that salt and IV are not secret). The decrypting side separates the 3 parts and thus has everything needed for decryption.","body":"No, absolutely not. Static values are insecure. IV and salt are to be generated randomly during encryption (as you do). However, after encryption they are concatenated with the ciphertext, e.g. salt|iv|ciphertext, and this is sent to the decrypting side (note that salt and IV are not secret). The decrypting side separates the 3 parts and thus has everything needed for decryption."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1671036234,"post_id":74798951,"comment_id":132012239,"body_markdown":"Just in general you have to apply de-transformations in the reverse order of the transformations, so in this case it should be plaintext -&gt; encrypt -&gt; base64 encode -&gt; transmit -&gt; receive -&gt; base-64 decode -&gt; decrypt -&gt; plaintext again.","body":"Just in general you have to apply de-transformations in the reverse order of the transformations, so in this case it should be plaintext -&gt; encrypt -&gt; base64 encode -&gt; transmit -&gt; receive -&gt; base-64 decode -&gt; decrypt -&gt; plaintext again."}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671024148,"creation_date":1671024148,"question_id":74798951,"body_markdown":"I am trying to write and encrypt/decrypt program that. I am able to encrypt the String just fine, but while decrypting, I am getting the above error.\r\n\r\nMy code currently looks like this:\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.PBEParameterSpec;\r\n    \r\n    public class Trial {\r\n    \r\n    \tstatic String key = &quot;USSWIF3925NJ50R&quot;;\r\n    \tstatic String userName = &quot;sam1234t&quot;;\r\n    \r\n    \tpublic static void main(String[] arg) throws IllegalBlockSizeException, BadPaddingException {\r\n    \r\n    \t\tTrial trial = new Trial();\r\n    \r\n    \t\tCipher cipher = trial.initialiseCipher(&quot;encrypt&quot;);\r\n    \r\n    \t\t// Finally generate the transient key in bytes.\r\n    \t\tbyte[] transientKey = cipher.doFinal(userName.getBytes(StandardCharsets.UTF_8));\r\n    \r\n    \t\tString encryptedPassword = Base64.getEncoder().encodeToString(transientKey);\r\n    \r\n    \t\tSystem.out.println(&quot;Encrypted Key: &quot; + encryptedPassword);\r\n    \r\n    \t\tcipher = trial.initialiseCipher(&quot;decrypt&quot;);\r\n    \r\n    \t\t// Finally decrypt the transient key in bytes.\r\n    \t\tbyte[] temp = cipher.doFinal(encryptedPassword.getBytes(StandardCharsets.UTF_8));\r\n    \t\tString decryptedKey = new String(Base64.getDecoder().decode(temp));\r\n    \r\n    \t\tSystem.out.println(&quot;Decrypted Key: &quot; + decryptedKey);\r\n    \t}\r\n    \r\n    \r\n    \tprivate Cipher initialiseCipher(String mode) {\r\n    \r\n    \t\tCipher cipher = null;\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tSecurity.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\r\n    \r\n    \t\t\tSecureRandom secureRandom = new SecureRandom();\r\n    \t\t\tbyte[] salt = new byte[256];\r\n    \t\t\tbyte[] ivBytes = new byte[16];\r\n    \r\n    \t\t\tsecureRandom.nextBytes(salt);\r\n    \t\t\tsecureRandom.nextBytes(ivBytes);\r\n    \r\n    \t\t\t// Generate the Key Specs.\r\n    \t\t\tIvParameterSpec ivParameterSpec = new IvParameterSpec(ivBytes);\r\n    \t\t\tPBEParameterSpec pbeParameterSpec = new PBEParameterSpec(salt, 65536, ivParameterSpec);\r\n    \t\t\tPBEKeySpec pbeKeySpec = new PBEKeySpec((key + userName).toCharArray());\r\n    \r\n    \t\t\tSecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(&quot;PBEWITHHMACSHA512ANDAES_256&quot;);\r\n    \t\t\tSecretKey secretKey = secretKeyFactory.generateSecret(pbeKeySpec);\r\n    \r\n    \t\t\tcipher = Cipher.getInstance(&quot;PBEWITHHMACSHA512ANDAES_256&quot;);\r\n    \r\n    \t\t\tif (mode.equals(&quot;encrypt&quot;)) {\r\n    \t\t\t\tcipher.init(Cipher.ENCRYPT_MODE, secretKey, pbeParameterSpec);\r\n    \t\t\t} else if (mode.equals(&quot;decrypt&quot;)) {\r\n    \t\t\t\tcipher.init(Cipher.DECRYPT_MODE, secretKey, pbeParameterSpec);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (NoSuchAlgorithmException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t} catch (InvalidKeySpecException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t} catch (NoSuchPaddingException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t} catch (InvalidKeyException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t} catch (InvalidAlgorithmParameterException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn cipher;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nWhen I run the piece of code I get the output:\r\n\r\n    Encrypted Key: 9DfMJ/yuEFobrdGVsVkhpQ==\r\n    Exception in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\r\n    \tat com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)\r\n    \tat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:848)\r\n    \tat com.sun.crypto.provider.PBES2Core.engineDoFinal(PBES2Core.java:323)\r\n    \tat javax.crypto.Cipher.doFinal(Cipher.java:2164)\r\n    \tat com.att.logicalprovisioning.simulators.Trial.main(Trial.java:43)\r\n\r\n\r\nAll the solutions I Googled for use the Cipher algorithm as `AES`. So I am not sure it replicates like for like, I have tried a few of them, without any luck.\r\n\r\nAny help would be helpful. Thanks.","title":"Input length must be multiple of 16 when decrypting with padded cipher (PBEWITHHMACSHA512ANDAES_256)","body":"<p>I am trying to write and encrypt/decrypt program that. I am able to encrypt the String just fine, but while decrypting, I am getting the above error.</p>\n<p>My code currently looks like this:</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.spec.InvalidKeySpecException;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.PBEParameterSpec;\n\npublic class Trial {\n\n    static String key = &quot;USSWIF3925NJ50R&quot;;\n    static String userName = &quot;sam1234t&quot;;\n\n    public static void main(String[] arg) throws IllegalBlockSizeException, BadPaddingException {\n\n        Trial trial = new Trial();\n\n        Cipher cipher = trial.initialiseCipher(&quot;encrypt&quot;);\n\n        // Finally generate the transient key in bytes.\n        byte[] transientKey = cipher.doFinal(userName.getBytes(StandardCharsets.UTF_8));\n\n        String encryptedPassword = Base64.getEncoder().encodeToString(transientKey);\n\n        System.out.println(&quot;Encrypted Key: &quot; + encryptedPassword);\n\n        cipher = trial.initialiseCipher(&quot;decrypt&quot;);\n\n        // Finally decrypt the transient key in bytes.\n        byte[] temp = cipher.doFinal(encryptedPassword.getBytes(StandardCharsets.UTF_8));\n        String decryptedKey = new String(Base64.getDecoder().decode(temp));\n\n        System.out.println(&quot;Decrypted Key: &quot; + decryptedKey);\n    }\n\n\n    private Cipher initialiseCipher(String mode) {\n\n        Cipher cipher = null;\n\n        try {\n\n            Security.setProperty(&quot;crypto.policy&quot;, &quot;unlimited&quot;);\n\n            SecureRandom secureRandom = new SecureRandom();\n            byte[] salt = new byte[256];\n            byte[] ivBytes = new byte[16];\n\n            secureRandom.nextBytes(salt);\n            secureRandom.nextBytes(ivBytes);\n\n            // Generate the Key Specs.\n            IvParameterSpec ivParameterSpec = new IvParameterSpec(ivBytes);\n            PBEParameterSpec pbeParameterSpec = new PBEParameterSpec(salt, 65536, ivParameterSpec);\n            PBEKeySpec pbeKeySpec = new PBEKeySpec((key + userName).toCharArray());\n\n            SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(&quot;PBEWITHHMACSHA512ANDAES_256&quot;);\n            SecretKey secretKey = secretKeyFactory.generateSecret(pbeKeySpec);\n\n            cipher = Cipher.getInstance(&quot;PBEWITHHMACSHA512ANDAES_256&quot;);\n\n            if (mode.equals(&quot;encrypt&quot;)) {\n                cipher.init(Cipher.ENCRYPT_MODE, secretKey, pbeParameterSpec);\n            } else if (mode.equals(&quot;decrypt&quot;)) {\n                cipher.init(Cipher.DECRYPT_MODE, secretKey, pbeParameterSpec);\n            }\n\n        } catch (NoSuchAlgorithmException e) {\n\n            e.printStackTrace();\n\n        } catch (InvalidKeySpecException e) {\n\n            e.printStackTrace();\n\n        } catch (NoSuchPaddingException e) {\n\n            e.printStackTrace();\n\n        } catch (InvalidKeyException e) {\n\n            e.printStackTrace();\n\n        } catch (InvalidAlgorithmParameterException e) {\n\n            e.printStackTrace();\n        }\n\n        return cipher;\n    }\n}\n</code></pre>\n<p>When I run the piece of code I get the output:</p>\n<pre><code>Encrypted Key: 9DfMJ/yuEFobrdGVsVkhpQ==\nException in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Input length must be multiple of 16 when decrypting with padded cipher\n    at com.sun.crypto.provider.CipherCore.prepareInputBuffer(CipherCore.java:1005)\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:848)\n    at com.sun.crypto.provider.PBES2Core.engineDoFinal(PBES2Core.java:323)\n    at javax.crypto.Cipher.doFinal(Cipher.java:2164)\n    at com.att.logicalprovisioning.simulators.Trial.main(Trial.java:43)\n</code></pre>\n<p>All the solutions I Googled for use the Cipher algorithm as <code>AES</code>. So I am not sure it replicates like for like, I have tried a few of them, without any luck.</p>\n<p>Any help would be helpful. Thanks.</p>\n"},{"tags":["java","windows","eclipse","swing","builder"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1671027110,"post_id":74798865,"comment_id":132008475,"body_markdown":"It is 2022. Have you considered using the latest version of Eclipse? You can have both versions on your harddrive side by side, in case you need to go back. Make a backup copy of the project/workspace, too.","body":"It is 2022. Have you considered using the latest version of Eclipse? You can have both versions on your harddrive side by side, in case you need to go back. Make a backup copy of the project/workspace, too."},{"owner":{"account_id":27007718,"reputation":1,"user_id":20567898,"display_name":"Toan Tran"},"score":0,"creation_date":1671697975,"post_id":74798865,"comment_id":132155412,"body_markdown":"Thanks for commenting! I tried but it did not work. I installed both eclipse 2022 &amp; 2018 and it still did not work. Now I gave up and switched to another IDE","body":"Thanks for commenting! I tried but it did not work. I installed both eclipse 2022 &amp; 2018 and it still did not work. Now I gave up and switched to another IDE"}],"owner":{"account_id":27007718,"reputation":1,"user_id":20567898,"display_name":"Toan Tran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671023777,"creation_date":1671023777,"question_id":74798865,"body_markdown":"I encounter this problem as below:\r\n&quot;Eclipse is running under 0, butthis Java project has a 1.8 Java compliance level, so WindowBuilder will not be able to load classesfrom this project. Use a lower level of Java for the project, or run Eclipse using a newer Javaversion. &quot;\r\n\r\n\r\n\r\nI tried several ways but it did not work. I installed both java 17 and java 1.8 and changed the jre to 1.8 &amp; the complier to 1.8. In the end, it still did not work. \r\nThe eclipse version I am using is 2018. I need it to start the SWING application and now I am into troubles.\r\nCan you give me some suggestions? Thanks in advance!","title":"The incompatible between windows builder versions and java versions and eclipse version","body":"<p>I encounter this problem as below:\n&quot;Eclipse is running under 0, butthis Java project has a 1.8 Java compliance level, so WindowBuilder will not be able to load classesfrom this project. Use a lower level of Java for the project, or run Eclipse using a newer Javaversion. &quot;</p>\n<p>I tried several ways but it did not work. I installed both java 17 and java 1.8 and changed the jre to 1.8 &amp; the complier to 1.8. In the end, it still did not work.\nThe eclipse version I am using is 2018. I need it to start the SWING application and now I am into troubles.\nCan you give me some suggestions? Thanks in advance!</p>\n"},{"tags":["java","hadoop","apache-spark","rdd"],"answers":[{"tags":[],"owner":{"account_id":6430407,"reputation":1114,"user_id":4983845,"accept_rate":93,"display_name":"Vale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467818050,"creation_date":1467818050,"answer_id":38227538,"question_id":38224132,"body_markdown":"Looks like it cannot be done, so here is the code  I used:\r\n\r\n    final hdfsNameNodePath = &quot;hdfs://quickstart.cloudera:8080&quot;;\r\n\r\n    JavaPairRDD&lt;String, PortableDataStream&gt; imageByteRDD = jsc.binaryFiles(sourcePath);\r\n\t\t    if(!imageByteRDD.isEmpty())\r\n\t\t    \timageByteRDD.foreachPartition(new VoidFunction&lt;Iterator&lt;Tuple2&lt;String,PortableDataStream&gt;&gt;&gt;() {\r\n\t\t    \t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void call(Iterator&lt;Tuple2&lt;String, PortableDataStream&gt;&gt; arg0)\r\n\t\t\t\t\t\t\tthrows Exception {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tConfiguration conf = new Configuration();\r\n\t\t\t\t\t\tconf.set(&quot;fs.defaultFS&quot;, hdfsNameNodePath);\r\n\t\t\t\t\t\t//the string above should be passed as argument\r\n    SequenceFile.Writer writer = SequenceFile.createWriter(\r\n\t\t\t\t\t\t        \t\t conf, \r\n\t\t\t\t\t\t        \t\t SequenceFile.Writer.file([***ETCETERA...\r\n\r\n","title":"Use SparkContext hadoop configuration within RDD methods/closures, like foreachPartition","body":"<p>Looks like it cannot be done, so here is the code  I used:</p>\n\n<pre><code>final hdfsNameNodePath = \"hdfs://quickstart.cloudera:8080\";\n\nJavaPairRDD&lt;String, PortableDataStream&gt; imageByteRDD = jsc.binaryFiles(sourcePath);\n        if(!imageByteRDD.isEmpty())\n            imageByteRDD.foreachPartition(new VoidFunction&lt;Iterator&lt;Tuple2&lt;String,PortableDataStream&gt;&gt;&gt;() {\n\n                @Override\n                public void call(Iterator&lt;Tuple2&lt;String, PortableDataStream&gt;&gt; arg0)\n                        throws Exception {\n\n                    Configuration conf = new Configuration();\n                    conf.set(\"fs.defaultFS\", hdfsNameNodePath);\n                    //the string above should be passed as argument\nSequenceFile.Writer writer = SequenceFile.createWriter(\n                                     conf, \n                                     SequenceFile.Writer.file([***ETCETERA...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1471879400,"creation_date":1471865095,"answer_id":39078308,"question_id":38224132,"body_markdown":"The problem here is that Hadoop Configuration&#39;s aren&#39;t tagged as `Serializable`, so Spark wont pull them into RDDs. They are marked as `Writable`, so Hadoop&#39;s serialization mechanism can marshall and unmarshall them, but Spark doesn&#39;t directly work with that\r\n\r\nThe two long term fix options would be \r\n\r\n1. Add Support for serializing writables in Spark. Maybe [SPARK-2421](https://issues.apache.org/jira/browse/SPARK-2421)?\r\n1. Make Hadoop Configuration Serializable. \r\n1. Add explicit support for serializing Hadoop Configs.\r\n\r\nYou aren&#39;t going to hit any major objections to making Hadoop conf serializable; provided you implement custom ser/deser methods which delegate to the writable IO calls (and which just iterate through all key/value pairs). I say that as a Hadoop committer. \r\n\r\n**Update**: Here&#39;s the code to create a serlializable class which does marshall the contents of a Hadoop config. Create it with `val ser = new ConfSerDeser(hadoopConf)`; refer to it in your RDD as `ser.get()`.\r\n\r\n    /*\r\n     * Licensed to the Apache Software Foundation (ASF) under one or more\r\n     * contributor license agreements.  See the NOTICE file distributed with\r\n     * this work for additional information regarding copyright ownership.\r\n     * The ASF licenses this file to You under the Apache License, Version 2.0\r\n     * (the &quot;License&quot;); you may not use this file except in compliance with\r\n     * the License.  You may obtain a copy of the License at\r\n     *\r\n     *    http://www.apache.org/licenses/LICENSE-2.0\r\n     *\r\n     * Unless required by applicable law or agreed to in writing, software\r\n     * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n     * See the License for the specific language governing permissions and\r\n     * limitations under the License.\r\n     */\r\n  \r\n     import org.apache.hadoop.conf.Configuration\r\n    \r\n    /**\r\n     * Class to make Hadoop configurations serializable; uses the\r\n     * `Writeable` operations to do this.\r\n     * Note: this only serializes the explicitly set values, not any set\r\n     * in site/default or other XML resources.\r\n     * @param conf\r\n     */\r\n    class ConfigSerDeser(var conf: Configuration) extends Serializable {\r\n    \r\n      def this() {\r\n        this(new Configuration())\r\n      }\r\n    \r\n      def get(): Configuration = conf\r\n    \r\n      private def writeObject (out: java.io.ObjectOutputStream): Unit = {\r\n        conf.write(out)\r\n      }\r\n    \r\n      private def readObject (in: java.io.ObjectInputStream): Unit = {\r\n        conf = new Configuration()\r\n        conf.readFields(in)\r\n      }\r\n    \r\n      private def readObjectNoData(): Unit = {\r\n        conf = new Configuration()\r\n      }\r\n    }\r\n\r\nNote that it would be relatively straightforward for someone to make this generic for all Writeable classes; you&#39;d just need to provide a classname in the constructor and use that to instantiate the writeable during deserialization.\r\n","title":"Use SparkContext hadoop configuration within RDD methods/closures, like foreachPartition","body":"<p>The problem here is that Hadoop Configuration's aren't tagged as <code>Serializable</code>, so Spark wont pull them into RDDs. They are marked as <code>Writable</code>, so Hadoop's serialization mechanism can marshall and unmarshall them, but Spark doesn't directly work with that</p>\n\n<p>The two long term fix options would be </p>\n\n<ol>\n<li>Add Support for serializing writables in Spark. Maybe <a href=\"https://issues.apache.org/jira/browse/SPARK-2421\" rel=\"noreferrer\">SPARK-2421</a>?</li>\n<li>Make Hadoop Configuration Serializable. </li>\n<li>Add explicit support for serializing Hadoop Configs.</li>\n</ol>\n\n<p>You aren't going to hit any major objections to making Hadoop conf serializable; provided you implement custom ser/deser methods which delegate to the writable IO calls (and which just iterate through all key/value pairs). I say that as a Hadoop committer. </p>\n\n<p><strong>Update</strong>: Here's the code to create a serlializable class which does marshall the contents of a Hadoop config. Create it with <code>val ser = new ConfSerDeser(hadoopConf)</code>; refer to it in your RDD as <code>ser.get()</code>.</p>\n\n<pre><code>/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License.  You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n import org.apache.hadoop.conf.Configuration\n\n/**\n * Class to make Hadoop configurations serializable; uses the\n * `Writeable` operations to do this.\n * Note: this only serializes the explicitly set values, not any set\n * in site/default or other XML resources.\n * @param conf\n */\nclass ConfigSerDeser(var conf: Configuration) extends Serializable {\n\n  def this() {\n    this(new Configuration())\n  }\n\n  def get(): Configuration = conf\n\n  private def writeObject (out: java.io.ObjectOutputStream): Unit = {\n    conf.write(out)\n  }\n\n  private def readObject (in: java.io.ObjectInputStream): Unit = {\n    conf = new Configuration()\n    conf.readFields(in)\n  }\n\n  private def readObjectNoData(): Unit = {\n    conf = new Configuration()\n  }\n}\n</code></pre>\n\n<p>Note that it would be relatively straightforward for someone to make this generic for all Writeable classes; you'd just need to provide a classname in the constructor and use that to instantiate the writeable during deserialization.</p>\n"},{"tags":[],"owner":{"account_id":1167867,"reputation":5014,"user_id":1145750,"accept_rate":69,"display_name":"Gary Gauh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1477985850,"creation_date":1477985850,"answer_id":40355871,"question_id":38224132,"body_markdown":"This is a java implementation, according to @Steve&#39;s Answer.\r\n\r\n    import java.io.Serializable;\r\n    import java.io.IOException;\r\n    import org.apache.hadoop.conf.Configuration;\r\n\r\n\r\n    public class SerializableHadoopConfiguration implements Serializable {\r\n        Configuration conf;\r\n\r\n        public SerializableHadoopConfiguration(Configuration hadoopConf) {\r\n            this.conf = hadoopConf;\r\n\r\n            if (this.conf == null) {\r\n                this.conf = new Configuration();\r\n            }\r\n        }\r\n\r\n        public SerializableHadoopConfiguration() {\r\n            this.conf = new Configuration();\r\n        }\r\n\r\n        public Configuration get() {\r\n            return this.conf;\r\n        }\r\n\r\n        private void writeObject(java.io.ObjectOutputStream out) throws IOException {\r\n            this.conf.write(out);\r\n        }\r\n\r\n        private void readObject(java.io.ObjectInputStream in) throws IOException {\r\n            this.conf = new Configuration();\r\n            this.conf.readFields(in);\r\n        }\r\n    }","title":"Use SparkContext hadoop configuration within RDD methods/closures, like foreachPartition","body":"<p>This is a java implementation, according to @Steve's Answer.</p>\n\n<pre><code>import java.io.Serializable;\nimport java.io.IOException;\nimport org.apache.hadoop.conf.Configuration;\n\n\npublic class SerializableHadoopConfiguration implements Serializable {\n    Configuration conf;\n\n    public SerializableHadoopConfiguration(Configuration hadoopConf) {\n        this.conf = hadoopConf;\n\n        if (this.conf == null) {\n            this.conf = new Configuration();\n        }\n    }\n\n    public SerializableHadoopConfiguration() {\n        this.conf = new Configuration();\n    }\n\n    public Configuration get() {\n        return this.conf;\n    }\n\n    private void writeObject(java.io.ObjectOutputStream out) throws IOException {\n        this.conf.write(out);\n    }\n\n    private void readObject(java.io.ObjectInputStream in) throws IOException {\n        this.conf = new Configuration();\n        this.conf.readFields(in);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13905997,"reputation":141,"user_id":10813447,"display_name":"Simon Wong"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1582951610,"creation_date":1582951610,"answer_id":60462062,"question_id":38224132,"body_markdown":"You can serialize and deserialize the `org.apache.hadoop.conf.Configuration` using `org.apache.spark.SerializableWritable`.\r\n\r\nFor example:\r\n\r\n```\r\nimport org.apache.spark.SerializableWritable\r\n\r\n...\r\n\r\nval hadoopConf = spark.sparkContext.hadoopConfiguration\r\n// serialize here\r\nval serializedConf = new SerializableWritable(hadoopConf)\r\n\r\n\r\n// then access the conf by calling .value on serializedConf\r\nrdd.map(someFunction(serializedConf.value))\r\n","title":"Use SparkContext hadoop configuration within RDD methods/closures, like foreachPartition","body":"<p>You can serialize and deserialize the <code>org.apache.hadoop.conf.Configuration</code> using <code>org.apache.spark.SerializableWritable</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>import org.apache.spark.SerializableWritable\n\n...\n\nval hadoopConf = spark.sparkContext.hadoopConfiguration\n// serialize here\nval serializedConf = new SerializableWritable(hadoopConf)\n\n\n// then access the conf by calling .value on serializedConf\nrdd.map(someFunction(serializedConf.value))\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2387621,"reputation":61,"user_id":2088250,"display_name":"user2088250"},"score":0,"creation_date":1671023655,"post_id":70510066,"comment_id":132007167,"body_markdown":"SerializableConfiguration can be used without broadcasting","body":"SerializableConfiguration can be used without broadcasting"}],"tags":[],"owner":{"account_id":3105922,"reputation":173,"user_id":2628726,"display_name":"gdforj"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640710183,"creation_date":1640710183,"answer_id":70510066,"question_id":38224132,"body_markdown":"Looking at the Spark internal codebase, one should _broadcast_ a serialized version of the Hadoop configuration.\r\n\r\nhttps://github.com/apache/spark/blob/5d45a415f3a29898d92380380cfd82bfc7f579ea/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/binaryfile/BinaryFileFormat.scala#L98-L99\r\n\r\n    val spark = SparkSession.builder.master(&quot;local&quot;).getOrCreate\r\n    val broadcastedHadoopConf = spark.sparkContext.broadcast(new org.apache.spark.util.SerializableConfiguration(spark.sparkContext.hadoopConfiguration))\r\n    \r\n    val dfFiles = spark.read.format(&quot;binaryFile&quot;).load(&quot;/somepath&quot;).select(&quot;path&quot;)\r\n    \r\n    val df = dfFiles.map {row =&gt; {\r\n    &#160; val rawPath = row.getString(0)\r\n      val path = new Path(new URI(rawPath.replace(&quot; &quot;, &quot;%20&quot;)))\r\n\r\n      // get hadoop configuration in RDD method\r\n      val hadoopConf = broadcastedHadoopConf.value.value\r\n\r\n    &#160; val fs = path.getFileSystem(hadoopConfiguration)\r\n    &#160; val status = fs.getFileStatus(path)\r\n    &#160; val inputStream = fs.open(status.getPath)\r\n      // ... whatever you need to do to read data\r\n    }}\r\n    ","title":"Use SparkContext hadoop configuration within RDD methods/closures, like foreachPartition","body":"<p>Looking at the Spark internal codebase, one should <em>broadcast</em> a serialized version of the Hadoop configuration.</p>\n<p><a href=\"https://github.com/apache/spark/blob/5d45a415f3a29898d92380380cfd82bfc7f579ea/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/binaryfile/BinaryFileFormat.scala#L98-L99\" rel=\"nofollow noreferrer\">https://github.com/apache/spark/blob/5d45a415f3a29898d92380380cfd82bfc7f579ea/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/binaryfile/BinaryFileFormat.scala#L98-L99</a></p>\n<pre><code>val spark = SparkSession.builder.master(&quot;local&quot;).getOrCreate\nval broadcastedHadoopConf = spark.sparkContext.broadcast(new org.apache.spark.util.SerializableConfiguration(spark.sparkContext.hadoopConfiguration))\n\nval dfFiles = spark.read.format(&quot;binaryFile&quot;).load(&quot;/somepath&quot;).select(&quot;path&quot;)\n\nval df = dfFiles.map {row =&gt; {\n  val rawPath = row.getString(0)\n  val path = new Path(new URI(rawPath.replace(&quot; &quot;, &quot;%20&quot;)))\n\n  // get hadoop configuration in RDD method\n  val hadoopConf = broadcastedHadoopConf.value.value\n\n  val fs = path.getFileSystem(hadoopConfiguration)\n  val status = fs.getFileStatus(path)\n  val inputStream = fs.open(status.getPath)\n  // ... whatever you need to do to read data\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2387621,"reputation":61,"user_id":2088250,"display_name":"user2088250"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671023616,"creation_date":1671010850,"answer_id":74796219,"question_id":38224132,"body_markdown":"SerializableConfiguration is available in spark 3.1.2\r\n\r\nval serializedConf = new org.apache.spark.util.SerializableConfiguration(spark.sparkContext.hadoopConfiguration)","title":"Use SparkContext hadoop configuration within RDD methods/closures, like foreachPartition","body":"<p>SerializableConfiguration is available in spark 3.1.2</p>\n<p>val serializedConf = new org.apache.spark.util.SerializableConfiguration(spark.sparkContext.hadoopConfiguration)</p>\n"}],"owner":{"account_id":6430407,"reputation":1114,"user_id":4983845,"accept_rate":93,"display_name":"Vale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9550,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38227538,"answer_count":6,"score":9,"last_activity_date":1671023616,"creation_date":1467808421,"question_id":38224132,"body_markdown":"I am using Spark to read a bunch of files, elaborating on them and then saving all of them as a Sequence file. What I wanted, was to have 1 sequence file per partition, so I did this: \r\n\r\n    SparkConf sparkConf = new SparkConf().setAppName(&quot;writingHDFS&quot;)\r\n\t\t\t\t\t.setMaster(&quot;local[2]&quot;)\r\n\t\t\t\t\t.set(&quot;spark.streaming.stopGracefullyOnShutdown&quot;, &quot;true&quot;);\r\n\t\t\tfinal JavaSparkContext jsc = new JavaSparkContext(sparkConf);\r\n\t\t\tjsc.hadoopConfiguration().addResource(hdfsConfPath + &quot;hdfs-site.xml&quot;);\r\n\t\t\tjsc.hadoopConfiguration().addResource(hdfsConfPath + &quot;core-site.xml&quot;);\r\n\t\t    //JavaStreamingContext jssc = new JavaStreamingContext(sparkConf, new Duration(5*1000));\r\n\t\t    \r\n\t\t    JavaPairRDD&lt;String, PortableDataStream&gt; imageByteRDD = jsc.binaryFiles(sourcePath);\r\n\t\t    if(!imageByteRDD.isEmpty())\r\n\t\t    \timageByteRDD.foreachPartition(new VoidFunction&lt;Iterator&lt;Tuple2&lt;String,PortableDataStream&gt;&gt;&gt;() {\r\n\r\n                    @Override\r\n\t\t\t\t\tpublic void call(Iterator&lt;Tuple2&lt;String, PortableDataStream&gt;&gt; arg0){\r\n\t\t\t\t\t\t\tthrows Exception {\r\n                      [&#176;&#176;&#176;SOME STUFF&#176;&#176;&#176;]\r\n                      SequenceFile.Writer writer = SequenceFile.createWriter(\r\n\t\t\t\t\t\t        \t\t jsc.hadoopConfiguration(), \r\n    //here lies the problem: how to pass the hadoopConfiguration I have put inside the Spark Context? \r\n    Previously, I created a Configuration for each partition, and it works, but I&#39;m sure there is a much more &quot;sparky way&quot;\r\n\r\nDoes anybody know how to use the Hadoop Configuration Object *inside* the RDD closures?\r\n\t\t    \t\t","title":"Use SparkContext hadoop configuration within RDD methods/closures, like foreachPartition","body":"<p>I am using Spark to read a bunch of files, elaborating on them and then saving all of them as a Sequence file. What I wanted, was to have 1 sequence file per partition, so I did this: </p>\n\n<pre><code>SparkConf sparkConf = new SparkConf().setAppName(\"writingHDFS\")\n                .setMaster(\"local[2]\")\n                .set(\"spark.streaming.stopGracefullyOnShutdown\", \"true\");\n        final JavaSparkContext jsc = new JavaSparkContext(sparkConf);\n        jsc.hadoopConfiguration().addResource(hdfsConfPath + \"hdfs-site.xml\");\n        jsc.hadoopConfiguration().addResource(hdfsConfPath + \"core-site.xml\");\n        //JavaStreamingContext jssc = new JavaStreamingContext(sparkConf, new Duration(5*1000));\n\n        JavaPairRDD&lt;String, PortableDataStream&gt; imageByteRDD = jsc.binaryFiles(sourcePath);\n        if(!imageByteRDD.isEmpty())\n            imageByteRDD.foreachPartition(new VoidFunction&lt;Iterator&lt;Tuple2&lt;String,PortableDataStream&gt;&gt;&gt;() {\n\n                @Override\n                public void call(Iterator&lt;Tuple2&lt;String, PortableDataStream&gt;&gt; arg0){\n                        throws Exception {\n                  [°°°SOME STUFF°°°]\n                  SequenceFile.Writer writer = SequenceFile.createWriter(\n                                     jsc.hadoopConfiguration(), \n//here lies the problem: how to pass the hadoopConfiguration I have put inside the Spark Context? \nPreviously, I created a Configuration for each partition, and it works, but I'm sure there is a much more \"sparky way\"\n</code></pre>\n\n<p>Does anybody know how to use the Hadoop Configuration Object <em>inside</em> the RDD closures?</p>\n"},{"tags":["java","java-8","predicate","functional-interface"],"comments":[{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":0,"creation_date":1497361257,"post_id":44523215,"comment_id":76038410,"body_markdown":"What do you think what this `Predicate` is doing?","body":"What do you think what this <code>Predicate</code> is doing?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1497361315,"post_id":44523215,"comment_id":76038450,"body_markdown":"this is the `guava` predicate btw, not jdk","body":"this is the <code>guava</code> predicate btw, not jdk"},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":1,"creation_date":1497361378,"post_id":44523215,"comment_id":76038512,"body_markdown":"@Eugene Both Interfaces have the same purpose.","body":"@Eugene Both Interfaces have the same purpose."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1497361411,"post_id":44523215,"comment_id":76038536,"body_markdown":"@Flown I know...","body":"@Flown I know..."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1497361426,"post_id":44523215,"comment_id":76038546,"body_markdown":"Predicates tell you if a condition is true or false. Sounds handy if you&#39;re filtering a collection in a functional way.","body":"Predicates tell you if a condition is true or false. Sounds handy if you&#39;re filtering a collection in a functional way."}],"answers":[{"tags":[],"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497361401,"creation_date":1497361401,"answer_id":44523329,"question_id":44523215,"body_markdown":"`Iterables.tryFind` will return first value in given list (`result.getTravellerTypes()`) which fulfills predicate given by parameter.\r\n\r\nSo for each of your travellerTypes it will run `apply` method. First which will return `true` will be returned by `tryFind` method.\r\n\r\n`.orNull()` indicates, that if none objects in your list fulfills predicate method will return null instead optional.","title":"Why we need Predicate functional interface in Java?","body":"<p><code>Iterables.tryFind</code> will return first value in given list (<code>result.getTravellerTypes()</code>) which fulfills predicate given by parameter.</p>\n\n<p>So for each of your travellerTypes it will run <code>apply</code> method. First which will return <code>true</code> will be returned by <code>tryFind</code> method.</p>\n\n<p><code>.orNull()</code> indicates, that if none objects in your list fulfills predicate method will return null instead optional.</p>\n"},{"tags":[],"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497361706,"creation_date":1497361706,"answer_id":44523464,"question_id":44523215,"body_markdown":"`Predicate`s are great for abstracting out entire functions into whatever type of result they produce, which increases readability and reusability. This is true for both Guava and Java versions of the interface. `Predicate`s should be well-named, so in this example it&#39;s a bit hard to understand what&#39;s going on.\r\n\r\nI have no idea what a `TravellerType` or `PassengerCode` is, but for the sake of argument let&#39;s rename the `Predicate` to whatever it does.\r\n\r\nWe can then code our iterables statement to be:\r\n\r\n    primaryPaxOutput = Iterables.tryFind(result.getTravellerTypes(), paxCodeIsCHD).orNull();\r\n\r\nWe then interpret this statement as:\r\n\r\n    Iterables.tryFind(            //Find the first instance\r\n    result.getTravellerTypes(),   //among this Iterable\r\n    paxCodeIsCHD                  //where this predicate is true\r\n    ).orNull();                   //or else set to null.\r\n\r\nIf you know what `tryFind` does, then this code becomes much more readable than injecting an anonymous class or even a lambda as a parameter.","title":"Why we need Predicate functional interface in Java?","body":"<p><code>Predicate</code>s are great for abstracting out entire functions into whatever type of result they produce, which increases readability and reusability. This is true for both Guava and Java versions of the interface. <code>Predicate</code>s should be well-named, so in this example it's a bit hard to understand what's going on.</p>\n\n<p>I have no idea what a <code>TravellerType</code> or <code>PassengerCode</code> is, but for the sake of argument let's rename the <code>Predicate</code> to whatever it does.</p>\n\n<p>We can then code our iterables statement to be:</p>\n\n<pre><code>primaryPaxOutput = Iterables.tryFind(result.getTravellerTypes(), paxCodeIsCHD).orNull();\n</code></pre>\n\n<p>We then interpret this statement as:</p>\n\n<pre><code>Iterables.tryFind(            //Find the first instance\nresult.getTravellerTypes(),   //among this Iterable\npaxCodeIsCHD                  //where this predicate is true\n).orNull();                   //or else set to null.\n</code></pre>\n\n<p>If you know what <code>tryFind</code> does, then this code becomes much more readable than injecting an anonymous class or even a lambda as a parameter.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497362226,"creation_date":1497361886,"answer_id":44523540,"question_id":44523215,"body_markdown":"Predicates allow to set a condition during filtering.\r\n\r\nHere your condition is :\r\n\r\n    PassengerCodeUtil.paxCodesEqual(input.getTravellerType().getCode(), &quot;CHD&quot;);\r\n\r\nIt means you want to find the first `TravellerType` instance contained in `result.getTravellerTypes()`  which the `code` value is equal to the `CHD` String.&lt;br&gt;\r\n\r\nWithout predicate usage that filters the expected element,  which interest to use `tryFind()` ? &lt;br&gt;\r\nYou may get any element in `result.getTravellerTypes()`.&lt;br&gt;\r\n\r\n","title":"Why we need Predicate functional interface in Java?","body":"<p>Predicates allow to set a condition during filtering.</p>\n\n<p>Here your condition is :</p>\n\n<pre><code>PassengerCodeUtil.paxCodesEqual(input.getTravellerType().getCode(), \"CHD\");\n</code></pre>\n\n<p>It means you want to find the first <code>TravellerType</code> instance contained in <code>result.getTravellerTypes()</code>  which the <code>code</code> value is equal to the <code>CHD</code> String.<br></p>\n\n<p>Without predicate usage that filters the expected element,  which interest to use <code>tryFind()</code> ? <br>\nYou may get any element in <code>result.getTravellerTypes()</code>.<br></p>\n"},{"tags":[],"owner":{"account_id":5376932,"reputation":159,"user_id":4283476,"display_name":"Anushka Senarathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548856705,"creation_date":1540206807,"answer_id":52927993,"question_id":44523215,"body_markdown":"In Java 8, Predicate is a functional interface which can be used as the assignment target for a lambda expression or method reference. So, where you think, we can use these true/false returning functions in day to day programming? I will say you can use predicates anywhere where you need to evaluate a condition on group/collection of similar objects such that evaluation can result either in true or false.\r\n\r\nFor example, you can use predicates in these real-time use cases\r\n\r\n1. Find all children born after a particular date\r\n2. Employees greater than a certain age and so on..\r\n","title":"Why we need Predicate functional interface in Java?","body":"<p>In Java 8, Predicate is a functional interface which can be used as the assignment target for a lambda expression or method reference. So, where you think, we can use these true/false returning functions in day to day programming? I will say you can use predicates anywhere where you need to evaluate a condition on group/collection of similar objects such that evaluation can result either in true or false.</p>\n\n<p>For example, you can use predicates in these real-time use cases</p>\n\n<ol>\n<li>Find all children born after a particular date</li>\n<li>Employees greater than a certain age and so on..</li>\n</ol>\n"}],"owner":{"account_id":3268751,"reputation":1481,"user_id":2752615,"accept_rate":67,"display_name":"Arif Acar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1105,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1671023486,"creation_date":1497361109,"question_id":44523215,"body_markdown":"Why we need Predicate interface? I didn&#39;t understand below code. How can I find result of primaryPaxOutput alternatively?\r\n\r\n        Predicate&lt;TravellerType&gt; predicate1 = new Predicate&lt;TravellerType&gt;() {\r\n            @Override\r\n            public boolean apply(TravellerType input) {\r\n                return PassengerCodeUtil.paxCodesEqual(input.getTravellerType().getCode(), &quot;CHD&quot;);\r\n            }\r\n        };\r\n\r\n        primaryPaxOutput = Iterables.tryFind(result.getTravellerTypes(), predicate1).orNull();","title":"Why we need Predicate functional interface in Java?","body":"<p>Why we need Predicate interface? I didn't understand below code. How can I find result of primaryPaxOutput alternatively?</p>\n\n<pre><code>    Predicate&lt;TravellerType&gt; predicate1 = new Predicate&lt;TravellerType&gt;() {\n        @Override\n        public boolean apply(TravellerType input) {\n            return PassengerCodeUtil.paxCodesEqual(input.getTravellerType().getCode(), \"CHD\");\n        }\n    };\n\n    primaryPaxOutput = Iterables.tryFind(result.getTravellerTypes(), predicate1).orNull();\n</code></pre>\n"},{"tags":["java","fonts","jasper-reports"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1564189268,"post_id":57224644,"comment_id":100960894,"body_markdown":"@Alex K, don&#39;t mark it as duplicated. After 2 hours read these answers, I still cannot run success.","body":"@Alex K, don&#39;t mark it as duplicated. After 2 hours read these answers, I still cannot run success."}],"answers":[{"tags":[],"owner":{"account_id":958762,"reputation":4788,"user_id":983559,"display_name":"dada67"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564168160,"creation_date":1564167792,"answer_id":57225739,"question_id":57224644,"body_markdown":"Try this:\r\n\r\n 1. Do not set a PDF Font Name for the font family that you created with the Arial ttf.  You don&#39;t want to use Helvetica because it doesn&#39;t include glyphs for Vietnamese characters.  Leave it empty so that the Arial ttf is used in PDF.\r\n 2. Set the PDF Encoding for the font family to Identity-H (Vietnamese uses horizontal writing).\r\n 3. The screenshot shows that the font family is called &quot;times&quot;, so you&#39;ll have to use `&lt;font fontName=&quot;times&quot;/&gt;` for the text element.\r\n\r\nThis will result in the Arial ttf being embedded in the PDF file (a subset of it actually) and used for the text.  Therefore the PDF would show the Vietnamese characters, as long as the Arial ttf includes glyphs for them (and my Arial ttf copy does).\r\n\r\nIf for some reason you don&#39;t want to embed Arial in the PDF file, you can also use the DejaVu fonts included in net.sf.jasperreports:jasperreports-fonts:6.9.0, for instance `&lt;font fontName=&quot;DejaVu Sans&quot;/&gt;`\r\n\r\nYou might also want to set the `net.sf.jasperreports.default.pdf.encoding` property to `Identity-H`, if you generally want to embed fonts in PDFs, or just leave it unset and specify the PDF encoding for each font family.","title":"How to display Vietnamese in PDF what exported by Jasper report correctly?","body":"<p>Try this:</p>\n\n<ol>\n<li>Do not set a PDF Font Name for the font family that you created with the Arial ttf.  You don't want to use Helvetica because it doesn't include glyphs for Vietnamese characters.  Leave it empty so that the Arial ttf is used in PDF.</li>\n<li>Set the PDF Encoding for the font family to Identity-H (Vietnamese uses horizontal writing).</li>\n<li>The screenshot shows that the font family is called \"times\", so you'll have to use <code>&lt;font fontName=\"times\"/&gt;</code> for the text element.</li>\n</ol>\n\n<p>This will result in the Arial ttf being embedded in the PDF file (a subset of it actually) and used for the text.  Therefore the PDF would show the Vietnamese characters, as long as the Arial ttf includes glyphs for them (and my Arial ttf copy does).</p>\n\n<p>If for some reason you don't want to embed Arial in the PDF file, you can also use the DejaVu fonts included in net.sf.jasperreports:jasperreports-fonts:6.9.0, for instance <code>&lt;font fontName=\"DejaVu Sans\"/&gt;</code></p>\n\n<p>You might also want to set the <code>net.sf.jasperreports.default.pdf.encoding</code> property to <code>Identity-H</code>, if you generally want to embed fonts in PDFs, or just leave it unset and specify the PDF encoding for each font family.</p>\n"},{"tags":[],"owner":{"account_id":13287713,"reputation":73,"user_id":9593249,"display_name":"pbloz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1564168891,"creation_date":1564168891,"answer_id":57225948,"question_id":57224644,"body_markdown":"It&#39;s a font issue. Not a PDF encoding problem. Maybe try to use **Arial Unicode MS**\r\n\r\nInside your tag add the following\r\n\r\n    &lt;font fontName=&quot;Arial Unicode MS&quot; size=&quot;11&quot; pdfFontName=&quot;Arial Unicode MS&quot; pdfEncoding=&quot;Identity-H&quot;/&gt; \r\n\r\nAlso make sure that Arial font extension jar in class path. Search internet for arial font extension jar.","title":"How to display Vietnamese in PDF what exported by Jasper report correctly?","body":"<p>It's a font issue. Not a PDF encoding problem. Maybe try to use <strong>Arial Unicode MS</strong></p>\n\n<p>Inside your tag add the following</p>\n\n<pre><code>&lt;font fontName=\"Arial Unicode MS\" size=\"11\" pdfFontName=\"Arial Unicode MS\" pdfEncoding=\"Identity-H\"/&gt; \n</code></pre>\n\n<p>Also make sure that Arial font extension jar in class path. Search internet for arial font extension jar.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671023390,"creation_date":1671021130,"answer_id":74798358,"question_id":57224644,"body_markdown":"File `jasperreports.properties`\r\n\r\n```\r\nnet.sf.jasperreports.default.pdf.encoding=UTF-8\r\nnet.sf.jasperreports.export.character.encoding=UTF-8\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhttps://community.jaspersoft.com/wiki/custom-font-font-extension\r\n\r\nhttps://freefontsdownload.net/download/36926/arial-unicode-ms.zip\r\n\r\nhttps://learn.microsoft.com/vi-vn/typography/font-list/arial-unicode-ms\r\n\r\nhttps://stackoverflow.com/questions/43382555/what-is-the-purpose-of-the-pdf-embedded-option-of-the-static-text-element-in-i\r\n\r\n  [1]: https://i.stack.imgur.com/xqIAo.png","title":"How to display Vietnamese in PDF what exported by Jasper report correctly?","body":"<p>File <code>jasperreports.properties</code></p>\n<pre><code>net.sf.jasperreports.default.pdf.encoding=UTF-8\nnet.sf.jasperreports.export.character.encoding=UTF-8\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xqIAo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqIAo.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://community.jaspersoft.com/wiki/custom-font-font-extension\" rel=\"nofollow noreferrer\">https://community.jaspersoft.com/wiki/custom-font-font-extension</a></p>\n<p><a href=\"https://freefontsdownload.net/download/36926/arial-unicode-ms.zip\" rel=\"nofollow noreferrer\">https://freefontsdownload.net/download/36926/arial-unicode-ms.zip</a></p>\n<p><a href=\"https://learn.microsoft.com/vi-vn/typography/font-list/arial-unicode-ms\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/vi-vn/typography/font-list/arial-unicode-ms</a></p>\n<p><a href=\"https://stackoverflow.com/questions/43382555/what-is-the-purpose-of-the-pdf-embedded-option-of-the-static-text-element-in-i\">What is the purpose of the &#39;Pdf embedded&#39; option of the Static Text element in iReport 5.6.0?</a></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2049,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57225948,"answer_count":3,"score":1,"last_activity_date":1671023390,"creation_date":1564162189,"question_id":57224644,"body_markdown":"I am using these dependencies\r\n\r\n    implementation (&#39;net.sf.jasperreports:jasperreports:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-fonts:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-functions:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-metadata:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-fonts:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-annotation-processors:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-chart-themes:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-chart-customizers:6.9.0&#39;)\r\n    implementation (&#39;net.sf.jasperreports:jasperreports-custom-visualization:6.9.0&#39;)\r\n    compile &#39;com.lowagie:itext:2.1.7.js5&#39;\r\n\r\n\r\nwith Jasper report for Eclipse 2019.6 . Vietnamese character display in error\r\n\r\nJava code\r\n\r\n    @RequestMapping(value = &quot;/ca_audit/minute_pdf&quot;, method = RequestMethod.GET)\r\n    public void generatePDFCashAuditMinute() throws JRException {\r\n        JasperReport jasperReport = JasperCompileManager.compileReport(&quot;D:/vy/template.jrxml&quot;);\r\n        Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n        parameters.put(&quot;p1&quot;, &quot;Example joint stock company&quot;); // T&#234;n tổ chức\r\n        parameters.put(&quot;p2&quot;, &quot;EXKK002&quot;); // Số bi&#234;n bản\r\n        parameters.put(&quot;p3&quot;, 26); // Ng&#224;y\r\n        JRDataSource jrDataSource = new JREmptyDataSource();\r\n        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, jrDataSource);\r\n        JasperExportManager.exportReportToPdfFile(jasperPrint, &quot;D:/foo/out.pdf&quot;);\r\n    }\r\n\r\nThe content of file *.jrxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;bien_ban_kiem_ke_quy_a4&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;7098c966-5c92-43e3-a729-b3d486fc858b&quot;&gt;\r\n    \t&lt;parameter name=&quot;p1&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;p2&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;p3&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n    \t&lt;queryString&gt;\r\n    \t\t&lt;![CDATA[select 1 as id]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;field name=&quot;id&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;84&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;14&quot; y=&quot;6&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;2106c35d-3d5e-4203-950a-54a87b6952ea&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font fontName=&quot;Arial&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{p1}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;376&quot; y=&quot;23&quot; width=&quot;64&quot; height=&quot;16&quot; uuid=&quot;77d41a67-82d2-46d0-9a3e-5327ae3b450b&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Số bi&#234;n bản:]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;440&quot; y=&quot;23&quot; width=&quot;50&quot; height=&quot;16&quot; uuid=&quot;a505da46-48af-4dcb-84bc-f9d27697919d&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{p2}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;260&quot; y=&quot;47&quot; width=&quot;34&quot; height=&quot;13&quot; uuid=&quot;541c25ed-4b29-4cc4-a19d-05f295ae0340&quot;/&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[ng&#224;y]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;290&quot; y=&quot;47&quot; width=&quot;40&quot; height=&quot;13&quot; uuid=&quot;72e64426-d702-4694-bc25-81a2f3e43f82&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{p3}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\nI create file `jasperreports.properties` in classpath\r\n[![enter image description here][2]][2]\r\n\r\nIn Eclipse IDE (with Jaspersoft module)\r\n[![enter image description here][3]][3]\r\n\r\nHow to fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kneX0.png\r\n  [2]: https://i.stack.imgur.com/z5hp8.png\r\n  [3]: https://i.stack.imgur.com/Jyddc.png","title":"How to display Vietnamese in PDF what exported by Jasper report correctly?","body":"<p>I am using these dependencies</p>\n\n<pre><code>implementation ('net.sf.jasperreports:jasperreports:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-fonts:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-functions:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-metadata:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-fonts:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-annotation-processors:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-chart-themes:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-chart-customizers:6.9.0')\nimplementation ('net.sf.jasperreports:jasperreports-custom-visualization:6.9.0')\ncompile 'com.lowagie:itext:2.1.7.js5'\n</code></pre>\n\n<p>with Jasper report for Eclipse 2019.6 . Vietnamese character display in error</p>\n\n<p>Java code</p>\n\n<pre><code>@RequestMapping(value = \"/ca_audit/minute_pdf\", method = RequestMethod.GET)\npublic void generatePDFCashAuditMinute() throws JRException {\n    JasperReport jasperReport = JasperCompileManager.compileReport(\"D:/vy/template.jrxml\");\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n    parameters.put(\"p1\", \"Example joint stock company\"); // Tên tổ chức\n    parameters.put(\"p2\", \"EXKK002\"); // Số biên bản\n    parameters.put(\"p3\", 26); // Ngày\n    JRDataSource jrDataSource = new JREmptyDataSource();\n    JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, jrDataSource);\n    JasperExportManager.exportReportToPdfFile(jasperPrint, \"D:/foo/out.pdf\");\n}\n</code></pre>\n\n<p>The content of file *.jrxml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"bien_ban_kiem_ke_quy_a4\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\" uuid=\"7098c966-5c92-43e3-a729-b3d486fc858b\"&gt;\n    &lt;parameter name=\"p1\" class=\"java.lang.String\"/&gt;\n    &lt;parameter name=\"p2\" class=\"java.lang.String\"/&gt;\n    &lt;parameter name=\"p3\" class=\"java.lang.Integer\"/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[select 1 as id]]&gt;\n    &lt;/queryString&gt;\n    &lt;field name=\"id\" class=\"java.lang.Integer\"/&gt;\n    &lt;title&gt;\n        &lt;band height=\"84\" splitType=\"Stretch\"&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"14\" y=\"6\" width=\"100\" height=\"30\" uuid=\"2106c35d-3d5e-4203-950a-54a87b6952ea\"/&gt;\n                &lt;textElement&gt;\n                    &lt;font fontName=\"Arial\"/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{p1}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"376\" y=\"23\" width=\"64\" height=\"16\" uuid=\"77d41a67-82d2-46d0-9a3e-5327ae3b450b\"/&gt;\n                &lt;text&gt;&lt;![CDATA[Số biên bản:]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"440\" y=\"23\" width=\"50\" height=\"16\" uuid=\"a505da46-48af-4dcb-84bc-f9d27697919d\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{p2}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=\"260\" y=\"47\" width=\"34\" height=\"13\" uuid=\"541c25ed-4b29-4cc4-a19d-05f295ae0340\"/&gt;\n                &lt;text&gt;&lt;![CDATA[ngày]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"290\" y=\"47\" width=\"40\" height=\"13\" uuid=\"72e64426-d702-4694-bc25-81a2f3e43f82\"/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{p3}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p>I create file <code>jasperreports.properties</code> in classpath\n<a href=\"https://i.stack.imgur.com/z5hp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5hp8.png\" alt=\"enter image description here\"></a></p>\n\n<p>In Eclipse IDE (with Jaspersoft module)\n<a href=\"https://i.stack.imgur.com/Jyddc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jyddc.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to fix it?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","sdk"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1670967656,"post_id":74791071,"comment_id":131994643,"body_markdown":"if you use the aws sdk within lambda you have automatic credentials once you assign an [execution role](https://docs.aws.amazon.com/lambda/latest/dg/lambda-intro-execution-role.html) to that lambda. And there&#39;s probably an invoke execute api thing that doesn&#39;t require you to manually sign requests. Running on EC2 instances you have similarly automatically the credentials of the Instance Role. And there are more ways to get credentials like from environment variables: https://docs.aws.amazon.com/sdkref/latest/guide/standardized-credentials.html","body":"if you use the aws sdk within lambda you have automatic credentials once you assign an <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/lambda-intro-execution-role.html\" rel=\"nofollow noreferrer\">execution role</a> to that lambda. And there&#39;s probably an invoke execute api thing that doesn&#39;t require you to manually sign requests. Running on EC2 instances you have similarly automatically the credentials of the Instance Role. And there are more ways to get credentials like from environment variables: <a href=\"https://docs.aws.amazon.com/sdkref/latest/guide/standardized-credentials.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdkref/latest/guide/&hellip;</a>"},{"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"score":0,"creation_date":1670968621,"post_id":74791071,"comment_id":131994855,"body_markdown":"You don&#39;t hardcode credentials, you would want to rely on the default credential chain: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html","body":"You don&#39;t hardcode credentials, you would want to rely on the default credential chain: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1670972474,"post_id":74791071,"comment_id":131995710,"body_markdown":"WHen you use Java SDK in an AWS Lambda function, you do not needs creds, You run the Lambda function as a IAM user that has permission to invoke the given service.","body":"WHen you use Java SDK in an AWS Lambda function, you do not needs creds, You run the Lambda function as a IAM user that has permission to invoke the given service."},{"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"score":0,"creation_date":1671031948,"post_id":74791071,"comment_id":132010483,"body_markdown":"But what if I need to pass the access keys to another function in the code. Is there anyway to retrieve them from the lambda using java?","body":"But what if I need to pass the access keys to another function in the code. Is there anyway to retrieve them from the lambda using java?"},{"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"score":0,"creation_date":1671056606,"post_id":74791071,"comment_id":132018110,"body_markdown":"Nevermind, looks like I can get them from the lambda using `System.getenv(&quot;AWS_ACCESS_KEY_ID&quot;)`, `System.getenv(&quot;AWS_SECRET_ACCESS_KEY&quot;)`, `System.getenv(&quot;AWS_SESSION_TOKEN&quot;)`","body":"Nevermind, looks like I can get them from the lambda using <code>System.getenv(&quot;AWS_ACCESS_KEY_ID&quot;)</code>, <code>System.getenv(&quot;AWS_SECRET_ACCESS_KEY&quot;)</code>, <code>System.getenv(&quot;AWS_SESSION_TOKEN&quot;)</code>"}],"owner":{"account_id":4900033,"reputation":1579,"user_id":3948658,"accept_rate":50,"display_name":"dredbound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671023321,"creation_date":1670966956,"question_id":74791071,"body_markdown":"I am writing a script in Java that calls an API Gateway endpoint. However in order for my script to work I need to it pass the AWS access keys and session token. Currently my code works but the AWS keys are hard-coded. How can I pass the keys without hardcoding them? Here is my current code:\r\n\r\n    import java.net.URL;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import auth.AWS4SignerBase;\r\n    import auth.AWS4SignerForAuthorizationHeader;\r\n    import util.HttpUtils;\r\n    \r\n    class Main {\r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        URL endpointUrl = new URL(&quot;https://lmno456.execute-api.us-east-1.amazonaws.com/prod/controlplane/model/a1&quot;);\r\n    \r\n        var regionName = &quot;us-east-1&quot;;\r\n        var awsAccessKey = &quot;abc123&quot;;\r\n        var awsSecretKey = &quot;def234&quot;;\r\n        var awsSessionToken = &quot;xyz789==&quot;;\r\n    \r\n        // for a simple GET, we have no body so supply the precomputed &#39;empty&#39; hash\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n        headers.put(&quot;x-amz-content-sha256&quot;, AWS4SignerBase.EMPTY_BODY_SHA256);\r\n        headers.put(&quot;X-Amz-Security-Token&quot;, awsSessionToken);\r\n    \r\n        AWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;GET&quot;, &quot;execute-api&quot;, regionName);\r\n    \r\n        String authorization = signer.computeSignature(headers,\r\n                                                null, // no query parameters\r\n                                                AWS4SignerBase.EMPTY_BODY_SHA256,\r\n                                                awsAccessKey,\r\n                                                awsSecretKey);\r\n    \r\n        headers.put(&quot;Authorization&quot;, authorization);\r\n        String response = HttpUtils.invokeHttpRequest(endpointUrl, &quot;GET&quot;, headers, null);\r\n        System.out.println(&quot;--------- Response content ---------&quot;);\r\n        System.out.println(response);\r\n        System.out.println(&quot;------------------------------------&quot;);\r\n      }\r\n    }\r\n\r\n\r\nIdeally I&#39;m looking for something similar to python&#39;s boto3 `credentials = session.get_credentials()` to retrieve the access and session keys. I am doing this for an AWS lambda function.","title":"Java import AWS Access Keys from Session","body":"<p>I am writing a script in Java that calls an API Gateway endpoint. However in order for my script to work I need to it pass the AWS access keys and session token. Currently my code works but the AWS keys are hard-coded. How can I pass the keys without hardcoding them? Here is my current code:</p>\n<pre><code>import java.net.URL;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport auth.AWS4SignerBase;\nimport auth.AWS4SignerForAuthorizationHeader;\nimport util.HttpUtils;\n\nclass Main {\n  public static void main(String[] args) throws Exception {\n\n    URL endpointUrl = new URL(&quot;https://lmno456.execute-api.us-east-1.amazonaws.com/prod/controlplane/model/a1&quot;);\n\n    var regionName = &quot;us-east-1&quot;;\n    var awsAccessKey = &quot;abc123&quot;;\n    var awsSecretKey = &quot;def234&quot;;\n    var awsSessionToken = &quot;xyz789==&quot;;\n\n    // for a simple GET, we have no body so supply the precomputed 'empty' hash\n    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n    headers.put(&quot;x-amz-content-sha256&quot;, AWS4SignerBase.EMPTY_BODY_SHA256);\n    headers.put(&quot;X-Amz-Security-Token&quot;, awsSessionToken);\n\n    AWS4SignerForAuthorizationHeader signer = new AWS4SignerForAuthorizationHeader(endpointUrl, &quot;GET&quot;, &quot;execute-api&quot;, regionName);\n\n    String authorization = signer.computeSignature(headers,\n                                            null, // no query parameters\n                                            AWS4SignerBase.EMPTY_BODY_SHA256,\n                                            awsAccessKey,\n                                            awsSecretKey);\n\n    headers.put(&quot;Authorization&quot;, authorization);\n    String response = HttpUtils.invokeHttpRequest(endpointUrl, &quot;GET&quot;, headers, null);\n    System.out.println(&quot;--------- Response content ---------&quot;);\n    System.out.println(response);\n    System.out.println(&quot;------------------------------------&quot;);\n  }\n}\n</code></pre>\n<p>Ideally I'm looking for something similar to python's boto3 <code>credentials = session.get_credentials()</code> to retrieve the access and session keys. I am doing this for an AWS lambda function.</p>\n"},{"tags":["java","mysql","spring-boot","docker","spring-data-jpa"],"comments":[{"owner":{"account_id":535778,"reputation":49549,"user_id":905093,"display_name":"Book Of Zeus"},"score":0,"creation_date":1590905476,"post_id":62111592,"comment_id":109853905,"body_markdown":"always run java with security egd and full path where the app is like: ```CMD [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app/app.jar```","body":"always run java with security egd and full path where the app is like: <code>CMD [&quot;java&quot;,&quot;-Djava.security.egd=file:&#47;dev&#47;.&#47;urandom&quot;,&quot;-jar&quot;,&quot;&#47;a&zwnj;&#8203;pp&#47;app.jar</code>"}],"answers":[{"comments":[{"owner":{"account_id":2319339,"reputation":610,"user_id":2035841,"accept_rate":100,"display_name":"Jay Teli"},"score":1,"creation_date":1668172164,"post_id":62112299,"comment_id":131347237,"body_markdown":"Thanks , it worked. For local , replacing `localhost` with `host.docker.internal` in jdbc url fixed it , for me.","body":"Thanks , it worked. For local , replacing <code>localhost</code> with <code>host.docker.internal</code> in jdbc url fixed it , for me."},{"owner":{"account_id":3502948,"reputation":851,"user_id":2929240,"accept_rate":16,"display_name":"Lijo Abraham"},"score":0,"creation_date":1672747162,"post_id":62112299,"comment_id":132340066,"body_markdown":"@JayTeli You saved my day after searching hours! Thanks.","body":"@JayTeli You saved my day after searching hours! Thanks."}],"tags":[],"owner":{"account_id":4378751,"reputation":1815,"user_id":3571016,"display_name":"camba1"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590905452,"creation_date":1590905452,"answer_id":62112299,"question_id":62111592,"body_markdown":"The error message seems to indicate the issue is failing to connect to the database. From your settings, it appears that you are trying to connect to the DB using localhost:3306. That will not work when you are running the application in a container because docker creates its own network which is separate from you machine’s network.  So, localhost in the container does not refer to your machine. \nYou need to instead setup a docker network that will allow your container to access the database in a specific IP address. \nHere is an article with the specifics:\n https://nickjanetakis.com/blog/docker-tip-35-connect-to-a-database-running-on-your-docker-host\nNote that I have assumed from your post, that the DB is installed in your host machine. If it is not and the DB is running in its own container, the you need to create a docker network and attach both containers to that network. ","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure when trying to build spring boot docker image","body":"<p>The error message seems to indicate the issue is failing to connect to the database. From your settings, it appears that you are trying to connect to the DB using localhost:3306. That will not work when you are running the application in a container because docker creates its own network which is separate from you machine’s network.  So, localhost in the container does not refer to your machine. \nYou need to instead setup a docker network that will allow your container to access the database in a specific IP address. \nHere is an article with the specifics:\n <a href=\"https://nickjanetakis.com/blog/docker-tip-35-connect-to-a-database-running-on-your-docker-host\" rel=\"nofollow noreferrer\">https://nickjanetakis.com/blog/docker-tip-35-connect-to-a-database-running-on-your-docker-host</a>\nNote that I have assumed from your post, that the DB is installed in your host machine. If it is not and the DB is running in its own container, the you need to create a docker network and attach both containers to that network. </p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646287131,"post_id":71332681,"comment_id":126087057,"body_markdown":"`useSSL=false` merely asserts the default, and does not solve this problem. You had another exception.","body":"<code>useSSL=false</code> merely asserts the default, and does not solve this problem. You had another exception."}],"tags":[],"owner":{"account_id":1733872,"reputation":2893,"user_id":1586864,"display_name":"Harsh"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646286936,"creation_date":1646286936,"answer_id":71332681,"question_id":62111592,"body_markdown":"For me below solution worked\r\n\r\nchange your datasource url from \r\n\r\nThis:\r\n \r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/innodb\r\n\r\nTo:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/innodb?useSSL=false","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure when trying to build spring boot docker image","body":"<p>For me below solution worked</p>\n<p>change your datasource url from</p>\n<p>This:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/innodb\n</code></pre>\n<p>To:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/innodb?useSSL=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305058,"reputation":166,"user_id":2024478,"display_name":"Nidhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671022590,"creation_date":1671022590,"answer_id":74798651,"question_id":62111592,"body_markdown":"I had the same issue and resolved it by changing localhost to the service name on which MySQL was running.\r\n\r\nBelow is my docker-compose and application.properties files\r\n\r\n**docker-compose.yml**\r\n\r\n    version: &#39;3.8&#39;\r\n\r\n    services:\r\n     app:\r\n        container_name: tvms\r\n         build: \r\n         context: .\r\n         dockerfile: Dockerfile\r\n         tty: true\r\n        volumes:\r\n           - ../..:/workspaces:cached\r\n        ports:\r\n           - 8990:8990\r\n        networks:\r\n           - impaq\r\n        links:\r\n           - db:db\r\n    db:\r\n      image: percona:8.0\r\n      privileged: true\r\n      restart: always\r\n      container_name: standalone-mysql\r\n      environment:\r\n        MYSQL_ROOT_PASSWORD: ****\r\n      volumes:\r\n        - perconadata:/var/lib/mysql\r\n      ports:\r\n        - 3306:3306\r\n      networks:\r\n        - impaq \r\n    networks:\r\n       impaq:\r\n    volumes:\r\n      perconadata:\r\n\r\n\r\n**application.propeties**\r\n\r\n    #datasource\r\n    spring.datasource.url=jdbc:mysql://db:3306/db_name\r\n    spring.datasource.username=root\r\n    spring.datasource.password=*****\r\n","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure when trying to build spring boot docker image","body":"<p>I had the same issue and resolved it by changing localhost to the service name on which MySQL was running.</p>\n<p>Below is my docker-compose and application.properties files</p>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: '3.8'\n\nservices:\n app:\n    container_name: tvms\n     build: \n     context: .\n     dockerfile: Dockerfile\n     tty: true\n    volumes:\n       - ../..:/workspaces:cached\n    ports:\n       - 8990:8990\n    networks:\n       - impaq\n    links:\n       - db:db\ndb:\n  image: percona:8.0\n  privileged: true\n  restart: always\n  container_name: standalone-mysql\n  environment:\n    MYSQL_ROOT_PASSWORD: ****\n  volumes:\n    - perconadata:/var/lib/mysql\n  ports:\n    - 3306:3306\n  networks:\n    - impaq \nnetworks:\n   impaq:\nvolumes:\n  perconadata:\n</code></pre>\n<p><strong>application.propeties</strong></p>\n<pre><code>#datasource\nspring.datasource.url=jdbc:mysql://db:3306/db_name\nspring.datasource.username=root\nspring.datasource.password=*****\n</code></pre>\n"}],"owner":{"account_id":15338307,"reputation":89,"user_id":11066004,"display_name":"random12524345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7558,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1671022590,"creation_date":1590899383,"question_id":62111592,"body_markdown":"I am trying to build my docker image for my spring boot application but keep encountering this error: \r\n\r\n     :: Spring Boot ::        (v2.2.5.RELEASE)\r\n    \r\n    2020-05-31 02:18:39.820  INFO 63 --- [           main] c.g.Apollo.ApolloApplicationTests        : Starting ApolloApplicationTests on 4b284b60945e with PID 63 (started by root in /build)\r\n    2020-05-31 02:18:39.838  INFO 63 --- [           main] c.g.Apollo.ApolloApplicationTests        : No active profile set, falling back to default profiles: default\r\n    2020-05-31 02:18:42.208  INFO 63 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2020-05-31 02:18:42.467  INFO 63 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 216ms. Found 3 JPA repository interfaces.\r\n    2020-05-31 02:18:44.902  INFO 63 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2020-05-31 02:18:46.575 ERROR 63 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n            at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.20.jar:8.0.20]\r\n            at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.20.jar:8.0.20]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836) ~[mysql-connector-java-8.0.20.jar:8.0.20]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[mysql-connector-java-8.0.20.jar:8.0.20]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246) ~[mysql-connector-java-8.0.20.jar:8.0.20]\r\n            at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:197) ~[mysql-connector-java-8.0.20.jar:8.0.20]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.2.jar:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:354) ~[HikariCP-3.4.2.jar:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-3.4.2.jar:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473) ~[HikariCP-3.4.2.jar:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:554) ~[HikariCP-3.4.2.jar:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.4.2.jar:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.2.jar:na]\r\n\r\nTerminal when successfully running in intellij:\r\n\r\n     :: Spring Boot ::        (v2.2.5.RELEASE)\r\n    \r\n    2020-05-31 01:04:39.322  INFO 19524 --- [  restartedMain] c.g.Apollo.ApolloApplication             : Starting ApolloApplication on asd-PC with PID 19524 (C:\\Projects\\Apollo\\target\\classes started by asd in C:\\Projects\\Apollo)\r\n    2020-05-31 01:04:39.324  INFO 19524 --- [  restartedMain] c.g.Apollo.ApolloApplication             : No active profile set, falling back to default profiles: default\r\n    2020-05-31 01:04:39.354  INFO 19524 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\asd\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.2\\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar\r\n    2020-05-31 01:04:39.354  INFO 19524 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n    2020-05-31 01:04:39.354  INFO 19524 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n    2020-05-31 01:04:39.785  INFO 19524 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2020-05-31 01:04:39.846  INFO 19524 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54ms. Found 3 JPA repository interfaces.\r\n    2020-05-31 01:04:40.214  INFO 19524 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2020-05-31 01:04:40.220  INFO 19524 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2020-05-31 01:04:40.221  INFO 19524 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\r\n    2020-05-31 01:04:40.293  INFO 19524 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2020-05-31 01:04:40.293  INFO 19524 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 939 ms\r\n    2020-05-31 01:04:40.365  INFO 19524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2020-05-31 01:04:40.702  INFO 19524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2020-05-31 01:04:40.731  INFO 19524 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2020-05-31 01:04:40.800  INFO 19524 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.12.Final\r\n    2020-05-31 01:04:40.919  INFO 19524 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    2020-05-31 01:04:41.006  INFO 19524 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\n    2020-05-31 01:04:41.407  INFO 19524 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2020-05-31 01:04:41.413  INFO 19524 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2020-05-31 01:04:41.650  WARN 19524 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2020-05-31 01:04:41.717  INFO 19524 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2020-05-31 01:04:41.967  INFO 19524 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2020-05-31 01:04:41.995  INFO 19524 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2020-05-31 01:04:41.997  INFO 19524 --- [  restartedMain] c.g.Apollo.ApolloApplication             : Started ApolloApplication in 2.911 seconds (JVM running for 3.899)\r\n\r\n\r\nMy Dockerfile:\r\n\r\n    FROM maven:3.6.3-jdk-11-slim AS MAVEN_BUILD\r\n    \r\n    COPY pom.xml /build/\r\n    COPY src /build/src/\r\n    WORKDIR /build/\r\n    RUN mvn package\r\n    \r\n    FROM openjdk:11-jre-alpine\r\n    \r\n    WORKDIR /app\r\n    COPY --from=MAVEN_BUILD /build/target/*.war /app/app.war\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.war&quot;]\r\n\r\nMy application.properties:\r\n\r\n    ## GraphQL SPQR ##\r\n    server.port=8080\r\n    graphql.spqr.gui.enabled=true\r\n    graphql.spqr.http.endpoint=/graphql\r\n    graphql.spqr.ws.endpoint=/graphql\r\n    \r\n    ## Database Properties ##\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/innodb\r\n    spring.datasource.username=root\r\n    spring.datasource.password=1234\r\n\r\nMy application works when I build and run the project in Intellij but not when I try and build my docker image. I am using MySQL and have just been connecting on localhost on port 3306.\r\n\r\n","title":"com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure when trying to build spring boot docker image","body":"<p>I am trying to build my docker image for my spring boot application but keep encountering this error:</p>\n<pre><code> :: Spring Boot ::        (v2.2.5.RELEASE)\n\n2020-05-31 02:18:39.820  INFO 63 --- [           main] c.g.Apollo.ApolloApplicationTests        : Starting ApolloApplicationTests on 4b284b60945e with PID 63 (started by root in /build)\n2020-05-31 02:18:39.838  INFO 63 --- [           main] c.g.Apollo.ApolloApplicationTests        : No active profile set, falling back to default profiles: default\n2020-05-31 02:18:42.208  INFO 63 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-05-31 02:18:42.467  INFO 63 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 216ms. Found 3 JPA repository interfaces.\n2020-05-31 02:18:44.902  INFO 63 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-05-31 02:18:46.575 ERROR 63 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.20.jar:8.0.20]\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.20.jar:8.0.20]\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:836) ~[mysql-connector-java-8.0.20.jar:8.0.20]\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:456) ~[mysql-connector-java-8.0.20.jar:8.0.20]\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:246) ~[mysql-connector-java-8.0.20.jar:8.0.20]\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:197) ~[mysql-connector-java-8.0.20.jar:8.0.20]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.2.jar:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:354) ~[HikariCP-3.4.2.jar:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-3.4.2.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473) ~[HikariCP-3.4.2.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:554) ~[HikariCP-3.4.2.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-3.4.2.jar:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-3.4.2.jar:na]\n</code></pre>\n<p>Terminal when successfully running in intellij:</p>\n<pre><code> :: Spring Boot ::        (v2.2.5.RELEASE)\n\n2020-05-31 01:04:39.322  INFO 19524 --- [  restartedMain] c.g.Apollo.ApolloApplication             : Starting ApolloApplication on asd-PC with PID 19524 (C:\\Projects\\Apollo\\target\\classes started by asd in C:\\Projects\\Apollo)\n2020-05-31 01:04:39.324  INFO 19524 --- [  restartedMain] c.g.Apollo.ApolloApplication             : No active profile set, falling back to default profiles: default\n2020-05-31 01:04:39.354  INFO 19524 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\\Users\\asd\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.2\\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/asd/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar\n2020-05-31 01:04:39.354  INFO 19524 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2020-05-31 01:04:39.354  INFO 19524 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2020-05-31 01:04:39.785  INFO 19524 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-05-31 01:04:39.846  INFO 19524 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54ms. Found 3 JPA repository interfaces.\n2020-05-31 01:04:40.214  INFO 19524 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-05-31 01:04:40.220  INFO 19524 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-05-31 01:04:40.221  INFO 19524 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\n2020-05-31 01:04:40.293  INFO 19524 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-05-31 01:04:40.293  INFO 19524 --- [  restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 939 ms\n2020-05-31 01:04:40.365  INFO 19524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2020-05-31 01:04:40.702  INFO 19524 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2020-05-31 01:04:40.731  INFO 19524 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2020-05-31 01:04:40.800  INFO 19524 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.12.Final\n2020-05-31 01:04:40.919  INFO 19524 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2020-05-31 01:04:41.006  INFO 19524 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\n2020-05-31 01:04:41.407  INFO 19524 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2020-05-31 01:04:41.413  INFO 19524 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2020-05-31 01:04:41.650  WARN 19524 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2020-05-31 01:04:41.717  INFO 19524 --- [  restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-05-31 01:04:41.967  INFO 19524 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2020-05-31 01:04:41.995  INFO 19524 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2020-05-31 01:04:41.997  INFO 19524 --- [  restartedMain] c.g.Apollo.ApolloApplication             : Started ApolloApplication in 2.911 seconds (JVM running for 3.899)\n</code></pre>\n<p>My Dockerfile:</p>\n<pre><code>FROM maven:3.6.3-jdk-11-slim AS MAVEN_BUILD\n\nCOPY pom.xml /build/\nCOPY src /build/src/\nWORKDIR /build/\nRUN mvn package\n\nFROM openjdk:11-jre-alpine\n\nWORKDIR /app\nCOPY --from=MAVEN_BUILD /build/target/*.war /app/app.war\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app.war&quot;]\n</code></pre>\n<p>My application.properties:</p>\n<pre><code>## GraphQL SPQR ##\nserver.port=8080\ngraphql.spqr.gui.enabled=true\ngraphql.spqr.http.endpoint=/graphql\ngraphql.spqr.ws.endpoint=/graphql\n\n## Database Properties ##\nspring.datasource.url=jdbc:mysql://localhost:3306/innodb\nspring.datasource.username=root\nspring.datasource.password=1234\n</code></pre>\n<p>My application works when I build and run the project in Intellij but not when I try and build my docker image. I am using MySQL and have just been connecting on localhost on port 3306.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"score":0,"creation_date":1671023786,"post_id":74798575,"comment_id":132007212,"body_markdown":"Thanks for the quick response. But can point to an example for the same or can you let me know what official means you are talking about","body":"Thanks for the quick response. But can point to an example for the same or can you let me know what official means you are talking about"}],"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671022197,"creation_date":1671022197,"answer_id":74798575,"question_id":74798487,"body_markdown":"You&#39;re probably looking for the [Spring Cloud Config Server][1].  \r\nThe spring context is initialized with the values from `application.properties` to which your database config belongs as well. You would need to establish the database connection prior to constructing the whole application context and then reading properties from the database. This can probably be achieved by modifiying how Spring works, but I&#39;d rather recommend using a means officially supported by Spring.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/centralized-configuration/","title":"Transfer spring properties file to Database","body":"<p>You're probably looking for the <a href=\"https://spring.io/guides/gs/centralized-configuration/\" rel=\"nofollow noreferrer\">Spring Cloud Config Server</a>.<br />\nThe spring context is initialized with the values from <code>application.properties</code> to which your database config belongs as well. You would need to establish the database connection prior to constructing the whole application context and then reading properties from the database. This can probably be achieved by modifiying how Spring works, but I'd rather recommend using a means officially supported by Spring.</p>\n"}],"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671022197,"creation_date":1671021736,"question_id":74798487,"body_markdown":"Can we read the property values from the DB instead of setting up it on `application.properties` ? or even can we update the property value from code if a default value is set up in the `application.properties` file","title":"Transfer spring properties file to Database","body":"<p>Can we read the property values from the DB instead of setting up it on <code>application.properties</code> ? or even can we update the property value from code if a default value is set up in the <code>application.properties</code> file</p>\n"},{"tags":["java","apache","cryptography"],"comments":[{"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"score":0,"creation_date":1520811083,"post_id":49226231,"comment_id":85456169,"body_markdown":"How does it follow.","body":"How does it follow."},{"owner":{"account_id":1004381,"reputation":1682,"user_id":1018513,"accept_rate":59,"display_name":"user1018513"},"score":0,"creation_date":1520811404,"post_id":49226231,"comment_id":85456235,"body_markdown":"I don&#39;t understand your comment, sorry?","body":"I don&#39;t understand your comment, sorry?"},{"owner":{"account_id":8245409,"reputation":3834,"user_id":6201659,"display_name":"Jose Da Silva Gomes"},"score":0,"creation_date":1520811636,"post_id":49226231,"comment_id":85456291,"body_markdown":"You said you use the cipher as follow, but din&#39;t write any code. That of course until you edit","body":"You said you use the cipher as follow, but din&#39;t write any code. That of course until you edit"}],"answers":[{"tags":[],"owner":{"account_id":350479,"reputation":539,"user_id":686368,"display_name":"Gary Gregory"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671022149,"creation_date":1671022149,"answer_id":74798562,"question_id":49226231,"body_markdown":"You are likely running with OpenSSL 3 where ACT supports 1.0.x, 1.1.x, and 2.x.","title":"Apache Commons Crypto Linking Error","body":"<p>You are likely running with OpenSSL 3 where ACT supports 1.0.x, 1.1.x, and 2.x.</p>\n"}],"owner":{"account_id":1004381,"reputation":1682,"user_id":1018513,"accept_rate":59,"display_name":"user1018513"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671022149,"creation_date":1520811004,"question_id":49226231,"body_markdown":"When using the OpenSSL backed cipher as follows:\r\n\r\n     Properties properties = new Properties();\r\n     properties.setProperty(CryptoCipherFactory.CLASSES_KEY,\r\n     CipherProvider.OPENSSL.getClassName());\r\n\r\nI get the following error:\r\n\r\n    java.security.GeneralSecurityException: CryptoCipher {org.apache.commons.crypto.cipher.OpenSslCipher} is not available or transformation AES/CTR/NoPadding is not supported\r\n\r\n:\r\n\r\n    Caused by: java.lang.UnsatisfiedLinkError: EVP_CIPHER_CTX_cleanup\r\n    \t    at org.apache.commons.crypto.cipher.OpenSslNative.initIDs(Native Method)\r\n    \t    at org.apache.commons.crypto.cipher.OpenSsl.&lt;clinit&gt;(OpenSsl.java:95)\r\n    \t    at org.apache.commons.crypto.cipher.OpenSslCipher.&lt;init&gt;(OpenSslCipher.java:57)\r\n\r\nThis is caused by a linking failure to OpenSSl, as far as I can tell. My t LD_LIBRARY_PATH is configured to pointing to /usr/local/lib which contains libssl and libcrypto. What am I missing?\r\n\r\nI run my code as\r\n\r\njava -cp nameofjar.jar my.package.name","title":"Apache Commons Crypto Linking Error","body":"<p>When using the OpenSSL backed cipher as follows:</p>\n\n<pre><code> Properties properties = new Properties();\n properties.setProperty(CryptoCipherFactory.CLASSES_KEY,\n CipherProvider.OPENSSL.getClassName());\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>java.security.GeneralSecurityException: CryptoCipher {org.apache.commons.crypto.cipher.OpenSslCipher} is not available or transformation AES/CTR/NoPadding is not supported\n</code></pre>\n\n<p>:</p>\n\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: EVP_CIPHER_CTX_cleanup\n        at org.apache.commons.crypto.cipher.OpenSslNative.initIDs(Native Method)\n        at org.apache.commons.crypto.cipher.OpenSsl.&lt;clinit&gt;(OpenSsl.java:95)\n        at org.apache.commons.crypto.cipher.OpenSslCipher.&lt;init&gt;(OpenSslCipher.java:57)\n</code></pre>\n\n<p>This is caused by a linking failure to OpenSSl, as far as I can tell. My t LD_LIBRARY_PATH is configured to pointing to /usr/local/lib which contains libssl and libcrypto. What am I missing?</p>\n\n<p>I run my code as</p>\n\n<p>java -cp nameofjar.jar my.package.name</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":300924,"reputation":493,"user_id":608354,"accept_rate":44,"display_name":"bluearth"},"score":0,"creation_date":1671031898,"post_id":74798523,"comment_id":132010466,"body_markdown":"distribution plugin have just knocked about 50 lines out of my gradle build. Thanks.","body":"distribution plugin have just knocked about 50 lines out of my gradle build. Thanks."}],"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671021933,"creation_date":1671021933,"answer_id":74798523,"question_id":74796602,"body_markdown":"you can use the &#39;distribution&#39; plugin ; that would give most of your zip needs ; just need to add additional paths see https://docs.gradle.org/current/userguide/distribution_plugin.html#header ","title":"Gradle zip task: Specify destination path inside zip file individually","body":"<p>you can use the 'distribution' plugin ; that would give most of your zip needs ; just need to add additional paths see <a href=\"https://docs.gradle.org/current/userguide/distribution_plugin.html#header\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/distribution_plugin.html#header</a></p>\n"}],"owner":{"account_id":300924,"reputation":493,"user_id":608354,"accept_rate":44,"display_name":"bluearth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74798523,"answer_count":1,"score":0,"last_activity_date":1671021933,"creation_date":1671012725,"question_id":74796602,"body_markdown":"Here&#39;s my project file layout\r\n\r\n```\r\nROOT\r\n|-src\r\n| |- main\r\n|    |- java\r\n|    |   \\- [rest of java files]\r\n|    |- scripts\r\n|        \\- run.bat\r\n|-build\r\n|-build.gradle\r\n|-settings.gradle\r\n```\r\n\r\nWhat I&#39;m trying to do is to create a &#39;dist&#39; Gradle task that will create a zip file under ```dist``` folder with the following internal layout:\r\n\r\n```\r\nROOT\r\n|\r\n:\r\n|- dist\r\n    \\- myproject.zip\r\n        |-lib\r\n        | |-myapp.jar\r\n        \\-bin\r\n          |-run.bat\r\n```\r\n\r\n\r\n\r\nHere&#39;s my build.gradle\r\n\r\n```groovy\r\nplugins {\r\n  id &#39;java&#39;\r\n}\r\n\r\n/* other tasks */\r\n\r\ntasks.register(&#39;dist&#39;, Zip) {\r\n  dependsOn(&#39;build&#39;)\r\n  from &quot;build/libs/myapp.jar&quot;\r\n  into &quot;lib&quot;\r\n\r\n  from &quot;src/main/scripts/run.bat&quot;\r\n  into &quot;bin&quot;  // &lt;&lt;&lt;--- this wont work as it will overwrite &quot;lib&quot; as destination\r\n\r\n  archiveName &quot;myproject.zip&quot;\r\n  destinationDir(file(&#39;dist&#39;))\r\n}\r\n\r\n```\r\n\r\nMy problem is that [Zip](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Zip.html) task is only allow for one &#39;into&#39; destination. What I need is to specify the destination of each and every source individually. \r\n\r\nAm I doing this correctly?\r\n\r\n\r\n","title":"Gradle zip task: Specify destination path inside zip file individually","body":"<p>Here's my project file layout</p>\n<pre><code>ROOT\n|-src\n| |- main\n|    |- java\n|    |   \\- [rest of java files]\n|    |- scripts\n|        \\- run.bat\n|-build\n|-build.gradle\n|-settings.gradle\n</code></pre>\n<p>What I'm trying to do is to create a 'dist' Gradle task that will create a zip file under <code>dist</code> folder with the following internal layout:</p>\n<pre><code>ROOT\n|\n:\n|- dist\n    \\- myproject.zip\n        |-lib\n        | |-myapp.jar\n        \\-bin\n          |-run.bat\n</code></pre>\n<p>Here's my build.gradle</p>\n<pre><code>plugins {\n  id 'java'\n}\n\n/* other tasks */\n\ntasks.register('dist', Zip) {\n  dependsOn('build')\n  from &quot;build/libs/myapp.jar&quot;\n  into &quot;lib&quot;\n\n  from &quot;src/main/scripts/run.bat&quot;\n  into &quot;bin&quot;  // &lt;&lt;&lt;--- this wont work as it will overwrite &quot;lib&quot; as destination\n\n  archiveName &quot;myproject.zip&quot;\n  destinationDir(file('dist'))\n}\n\n</code></pre>\n<p>My problem is that <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Zip.html\" rel=\"nofollow noreferrer\">Zip</a> task is only allow for one 'into' destination. What I need is to specify the destination of each and every source individually.</p>\n<p>Am I doing this correctly?</p>\n"},{"tags":["java","android","android-layout","android-linearlayout"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671308425,"post_id":74798466,"comment_id":132073292,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74798466/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9081358,"reputation":53,"user_id":6761088,"display_name":"Niranjan Rai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671021609,"creation_date":1671021609,"answer_id":74798466,"question_id":74771275,"body_markdown":"What you can do is to create separate LinearLayout.LayoutParams for the edittext and add addTextChangedListener to that edit text and on onTextChanged\r\nwrite switch statement to increase the weight of the edittext on increase of length of the input number.\r\n\r\n\r\n\r\n","title":"How to change LinearLayout programmaticaly to fit numbers entered to EditText without moving other parts of layout?","body":"<p>What you can do is to create separate LinearLayout.LayoutParams for the edittext and add addTextChangedListener to that edit text and on onTextChanged\nwrite switch statement to increase the weight of the edittext on increase of length of the input number.</p>\n"}],"owner":{"account_id":23732435,"reputation":107,"user_id":17751489,"display_name":"Cuyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671021609,"creation_date":1670848997,"question_id":74771275,"body_markdown":"Im trying to create LinearLayout programmaticaly and I would want to allow user to put number range.\r\nNow it looks like that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I try to enter more digits eg. 100, 101 or 3,50 it dissapears. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI guess there is not enough space for it to be shown, but I can&#39;t figure out what is wrong. Generally I don&#39;t want to move + and - buttons when the user enters some values so I guess it should be hardcoded. There would be up to 5-6 digits only, so I need space just for it, but as I said, I can&#39;t find the place, where I can change it as my changes eiter move entire layout or doesn&#39;t do anything.\r\n\r\nBelow is my code:\r\n\r\n```\r\nLinearLayout horizontalLayout = new LinearLayout(mContext);\r\n\t\t\tLinearLayout titleLayout = new LinearLayout(mContext);\r\n\t\t\tLinearLayout countLayout = new LinearLayout(mContext);\r\n\t\t\tImageButton buttonAdd = new ImageButton(mContext);\r\n\t\t\tImageButton buttonSub = new ImageButton(mContext);\r\n\t\t\tTextView titleTextView = new TextView(mContext);\r\n\t\t\tEditText countEditText = new EditText(mContext);\r\n\r\n\t\t\tfinal int[] currentCount = {defaultValue};\r\n\r\n\t\t\tLinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);\r\n\t\t\tLinearLayout.LayoutParams linearLayout = new LinearLayout.LayoutParams(0, LayoutParams.MATCH_PARENT, 1f);\r\n\t\t\tLinearLayout.LayoutParams utilParams = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\r\n\r\n\t\t\thorizontalLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n\t\t\thorizontalLayout.setLayoutParams(params);\r\n\r\n\t\t\tutilParams.gravity = Gravity.CENTER_VERTICAL;\r\n\t\t\ttitleLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n\t\t\ttitleLayout.setPadding(0, pxFromDp(mContext, 16),0, pxFromDp(mContext, 16));\r\n\t\t\ttitleLayout.setLayoutParams(linearLayout);\r\n\r\n\t\t\tcountLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n\t\t\tcountLayout.setPadding(0, pxFromDp(mContext, 16),0, pxFromDp(mContext, 16));\r\n\t\t\tcountLayout.setLayoutParams(linearLayout);\r\n\r\n\t\t\tutilParams.setMargins(0,0,pxFromDp(mContext, 16f),0);\r\n\t\t\ttitleTextView.setTextSize(TypedValue.COMPLEX_UNIT_SP,16);\r\n\t\t\ttitleTextView.setText(title);\r\n\t\t\ttitleTextView.setLayoutParams(utilParams);\r\n\t\t\ttitleLayout.addView(titleTextView);\r\n\r\n\t\t\tutilParams.setMargins(pxFromDp(mContext, 16f),0,pxFromDp(mContext, 16f),0);\r\n\t\t\tbuttonSub.setImageResource(R.drawable.ic_remove);\r\n\t\t\tbuttonSub.setLayoutParams(utilParams);\r\n\t\t\tbuttonSub.setBackgroundColor(mContext.getResources().getColor(R.color.fsm_survey_btn));\r\n\t\t\tbuttonSub.setColorFilter(ContextCompat.getColor(mContext, R.color.fsm_white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n\t\t\tcountLayout.addView(buttonSub);\r\n\r\n\t\t\tcountEditText.setTextSize(TypedValue.COMPLEX_UNIT_SP, 16);\r\n\t\t\tcountEditText.setText(String.valueOf(defaultValue));\r\n\t\t\tcountEditText.setLayoutParams(linearLayout);\r\n\t\t\tcountEditText.setGravity(Gravity.CENTER);\r\n\t\t\tcountLayout.addView(countEditText);\r\n\r\n\t\t\tbuttonAdd.setImageResource(R.drawable.ic_add_24);\r\n\t\t\tbuttonAdd.setLayoutParams(utilParams);\r\n\t\t\tbuttonAdd.setBackgroundColor(mContext.getResources().getColor(R.color.fsm_survey_btn));\r\n\t\t\tbuttonAdd.setColorFilter(ContextCompat.getColor(mContext, R.color.fsm_white), android.graphics.PorterDuff.Mode.SRC_IN);\r\n\t\t\tcountLayout.addView(buttonAdd);\r\n\r\n\t\t\thorizontalLayout.addView(titleLayout);\r\n\t\t\thorizontalLayout.addView(countLayout);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vKgpJ.png\r\n  [2]: https://i.stack.imgur.com/4zS47.png","title":"How to change LinearLayout programmaticaly to fit numbers entered to EditText without moving other parts of layout?","body":"<p>Im trying to create LinearLayout programmaticaly and I would want to allow user to put number range.\nNow it looks like that:</p>\n<p><a href=\"https://i.stack.imgur.com/vKgpJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKgpJ.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I try to enter more digits eg. 100, 101 or 3,50 it dissapears.</p>\n<p><a href=\"https://i.stack.imgur.com/4zS47.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4zS47.png\" alt=\"enter image description here\" /></a></p>\n<p>I guess there is not enough space for it to be shown, but I can't figure out what is wrong. Generally I don't want to move + and - buttons when the user enters some values so I guess it should be hardcoded. There would be up to 5-6 digits only, so I need space just for it, but as I said, I can't find the place, where I can change it as my changes eiter move entire layout or doesn't do anything.</p>\n<p>Below is my code:</p>\n<pre><code>LinearLayout horizontalLayout = new LinearLayout(mContext);\n            LinearLayout titleLayout = new LinearLayout(mContext);\n            LinearLayout countLayout = new LinearLayout(mContext);\n            ImageButton buttonAdd = new ImageButton(mContext);\n            ImageButton buttonSub = new ImageButton(mContext);\n            TextView titleTextView = new TextView(mContext);\n            EditText countEditText = new EditText(mContext);\n\n            final int[] currentCount = {defaultValue};\n\n            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT);\n            LinearLayout.LayoutParams linearLayout = new LinearLayout.LayoutParams(0, LayoutParams.MATCH_PARENT, 1f);\n            LinearLayout.LayoutParams utilParams = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);\n\n            horizontalLayout.setOrientation(LinearLayout.HORIZONTAL);\n            horizontalLayout.setLayoutParams(params);\n\n            utilParams.gravity = Gravity.CENTER_VERTICAL;\n            titleLayout.setOrientation(LinearLayout.HORIZONTAL);\n            titleLayout.setPadding(0, pxFromDp(mContext, 16),0, pxFromDp(mContext, 16));\n            titleLayout.setLayoutParams(linearLayout);\n\n            countLayout.setOrientation(LinearLayout.HORIZONTAL);\n            countLayout.setPadding(0, pxFromDp(mContext, 16),0, pxFromDp(mContext, 16));\n            countLayout.setLayoutParams(linearLayout);\n\n            utilParams.setMargins(0,0,pxFromDp(mContext, 16f),0);\n            titleTextView.setTextSize(TypedValue.COMPLEX_UNIT_SP,16);\n            titleTextView.setText(title);\n            titleTextView.setLayoutParams(utilParams);\n            titleLayout.addView(titleTextView);\n\n            utilParams.setMargins(pxFromDp(mContext, 16f),0,pxFromDp(mContext, 16f),0);\n            buttonSub.setImageResource(R.drawable.ic_remove);\n            buttonSub.setLayoutParams(utilParams);\n            buttonSub.setBackgroundColor(mContext.getResources().getColor(R.color.fsm_survey_btn));\n            buttonSub.setColorFilter(ContextCompat.getColor(mContext, R.color.fsm_white), android.graphics.PorterDuff.Mode.SRC_IN);\n            countLayout.addView(buttonSub);\n\n            countEditText.setTextSize(TypedValue.COMPLEX_UNIT_SP, 16);\n            countEditText.setText(String.valueOf(defaultValue));\n            countEditText.setLayoutParams(linearLayout);\n            countEditText.setGravity(Gravity.CENTER);\n            countLayout.addView(countEditText);\n\n            buttonAdd.setImageResource(R.drawable.ic_add_24);\n            buttonAdd.setLayoutParams(utilParams);\n            buttonAdd.setBackgroundColor(mContext.getResources().getColor(R.color.fsm_survey_btn));\n            buttonAdd.setColorFilter(ContextCompat.getColor(mContext, R.color.fsm_white), android.graphics.PorterDuff.Mode.SRC_IN);\n            countLayout.addView(buttonAdd);\n\n            horizontalLayout.addView(titleLayout);\n            horizontalLayout.addView(countLayout);\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":0,"creation_date":1671011688,"post_id":74796278,"comment_id":132003024,"body_markdown":"The `userId` attribute has value 0 in the actual call, and 1 in the stub.","body":"The <code>userId</code> attribute has value 0 in the actual call, and 1 in the stub."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671013605,"creation_date":1671013605,"answer_id":74796795,"question_id":74796278,"body_markdown":"I guess that your `User` class has an `equals`/`hashCode` defined either on the `userID` field or on all fields. When you mock your repository in your `setUp` method, you define what the method should do when it is called with the *exact* object that you specified, comparing the given object to the object specified in the mock by calling the `equals`/`hashCode` method. \r\n\r\nYou define the `User` object in your `setUp` method to have the `userID` `1` but in your `UserServiceImpl` the `userID` is not ever set (as it is generated by the persistence layer). Therefore the `equals`/`hashCode` check to determine if Mockito should execute the stub logic will never be called because the object passed by the `UserServiceImpl` will never be equals to the one that you defined in your mock.\r\n\r\nThere are several ways how you can solve this.\r\n\r\n### 1) Integration test\r\nMy advice would be to convert your Unit-Test to a `@SpringBootTest`. There is no value in testing mocked behaviour. If this test was an integration test, you would test that the repository inserts the `User` into the database and generates an ID with your assertion.\r\n\r\n### 2) Unit test\r\nIf you want to mock the repository, you should use an `any()` matcher for the input argument and then do what the repository would do, namely set the id: \r\n```java\r\n  when(repository.save(any(User.class))).thenAnswer(invocation -&gt; {\r\n            final User entity = invocation.getArgument(0);\r\n            ReflectionTestUtils.setField(entity, &quot;userID&quot;, RandomUtils.nextLong());\r\n            return entity;\r\n        });\r\n```\r\n\r\nI would then assert, that the `userID` is not null, as the `userID` will be randomly generated as it would in production:  \r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class UserServiceTest {\r\n\r\n    @Mock\r\n    private UserRepository repository;\r\n\r\n    @InjectMocks\r\n    private UserServiceImpl userServiceImpl;\r\n\r\n    @Test\r\n    void saveUser_userHasID(){\r\n        // Arrange\r\n        final UserModel inputUserModel = new UserModel();\r\n        inputUserModel.setEmail(&quot;testemail@gmail.com&quot;);\r\n        inputUserModel.setFirstName(&quot;john&quot;);\r\n        inputUserModel.setLastName(&quot;doe&quot;);\r\n        inputUserModel.setPassword(&quot;test&quot;);\r\n        inputUserModel.setMatchPassword(&quot;test&quot;);\r\n\r\n        when(repository.save(any(User.class))).thenAnswer(invocation -&gt; {\r\n            final User entity = invocation.getArgument(0);\r\n            ReflectionTestUtils.setField(entity, &quot;userID&quot;, RandomUtils.nextLong());\r\n            return entity;\r\n        });\r\n\r\n        // Act\r\n        final User user = userServiceImpl.saveUser(inputUserModel);\r\n\r\n        // Assert\r\n        assertThat(user.getUserID()).isNotNull();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**I highly recommend to use AssertJ for your assertions as it offers fluent asssertions and way more assertion methods than JUnit.**\r\n","title":"Mockito mock returning Null value from repository","body":"<p>I guess that your <code>User</code> class has an <code>equals</code>/<code>hashCode</code> defined either on the <code>userID</code> field or on all fields. When you mock your repository in your <code>setUp</code> method, you define what the method should do when it is called with the <em>exact</em> object that you specified, comparing the given object to the object specified in the mock by calling the <code>equals</code>/<code>hashCode</code> method.</p>\n<p>You define the <code>User</code> object in your <code>setUp</code> method to have the <code>userID</code> <code>1</code> but in your <code>UserServiceImpl</code> the <code>userID</code> is not ever set (as it is generated by the persistence layer). Therefore the <code>equals</code>/<code>hashCode</code> check to determine if Mockito should execute the stub logic will never be called because the object passed by the <code>UserServiceImpl</code> will never be equals to the one that you defined in your mock.</p>\n<p>There are several ways how you can solve this.</p>\n<h3>1) Integration test</h3>\n<p>My advice would be to convert your Unit-Test to a <code>@SpringBootTest</code>. There is no value in testing mocked behaviour. If this test was an integration test, you would test that the repository inserts the <code>User</code> into the database and generates an ID with your assertion.</p>\n<h3>2) Unit test</h3>\n<p>If you want to mock the repository, you should use an <code>any()</code> matcher for the input argument and then do what the repository would do, namely set the id:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  when(repository.save(any(User.class))).thenAnswer(invocation -&gt; {\n            final User entity = invocation.getArgument(0);\n            ReflectionTestUtils.setField(entity, &quot;userID&quot;, RandomUtils.nextLong());\n            return entity;\n        });\n</code></pre>\n<p>I would then assert, that the <code>userID</code> is not null, as the <code>userID</code> will be randomly generated as it would in production:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n\n    @Mock\n    private UserRepository repository;\n\n    @InjectMocks\n    private UserServiceImpl userServiceImpl;\n\n    @Test\n    void saveUser_userHasID(){\n        // Arrange\n        final UserModel inputUserModel = new UserModel();\n        inputUserModel.setEmail(&quot;testemail@gmail.com&quot;);\n        inputUserModel.setFirstName(&quot;john&quot;);\n        inputUserModel.setLastName(&quot;doe&quot;);\n        inputUserModel.setPassword(&quot;test&quot;);\n        inputUserModel.setMatchPassword(&quot;test&quot;);\n\n        when(repository.save(any(User.class))).thenAnswer(invocation -&gt; {\n            final User entity = invocation.getArgument(0);\n            ReflectionTestUtils.setField(entity, &quot;userID&quot;, RandomUtils.nextLong());\n            return entity;\n        });\n\n        // Act\n        final User user = userServiceImpl.saveUser(inputUserModel);\n\n        // Assert\n        assertThat(user.getUserID()).isNotNull();\n    }\n}\n\n</code></pre>\n<p><strong>I highly recommend to use AssertJ for your assertions as it offers fluent asssertions and way more assertion methods than JUnit.</strong></p>\n"},{"tags":[],"owner":{"account_id":3591100,"reputation":930,"user_id":2997147,"accept_rate":52,"display_name":"FrankelStein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671021410,"creation_date":1671021410,"answer_id":74798426,"question_id":74796278,"body_markdown":"tl;dr\r\n-----\r\nSpring data can&#39;t generate a userID through a simple unit test with a mock, you will need a spring context running in an Integration test.\r\n\r\nDetails\r\n-------\r\n\r\nThere are two fields leading to the error you are having : `UserID` and `timeCreated`.\r\n\r\n - For the `timeCreated` field : in your test you create a `inputUser`\r\n   object that you use for your mock. the problem is that this object\r\n   `inputUser` is NOT the one used by your method under test\r\n   `saveUser(UserModel userModel)` you could clearly see the that the\r\n   timestamp differs in the erreor between the two objects.\r\n - For the `UserID` field : again you give your expect your mock to use\r\n   the `inputUser ` object. this object has userID = 1. but in the real\r\n   method `saveUser(UserModel userModel)` this field is not set\r\n   explicitly so the default value will be set to `0` you could see that\r\n   also in the error.\r\n\r\nNow since your test case `whenSaveUser_ThenUserHasID` is meant to verify that a saved record has an ID, you can&#39;t do it with a mock. The ID is generated by the Spring Data you are using and yo make it run, you should use and Integration test to run your spring context in your test in order for your spring data to be able to generate an ID  for your user, [here is a previous question][1] that will be helpful for you to do so. With this, you will neither need the `inputUser` in your test nor the mock. (You can use `@DataJpaTest` from JUnit 5 or `@SpringBootTest`...)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23435937/how-to-test-spring-data-repositories","title":"Mockito mock returning Null value from repository","body":"<h2>tl;dr</h2>\n<p>Spring data can't generate a userID through a simple unit test with a mock, you will need a spring context running in an Integration test.</p>\n<h2>Details</h2>\n<p>There are two fields leading to the error you are having : <code>UserID</code> and <code>timeCreated</code>.</p>\n<ul>\n<li>For the <code>timeCreated</code> field : in your test you create a <code>inputUser</code>\nobject that you use for your mock. the problem is that this object\n<code>inputUser</code> is NOT the one used by your method under test\n<code>saveUser(UserModel userModel)</code> you could clearly see the that the\ntimestamp differs in the erreor between the two objects.</li>\n<li>For the <code>UserID</code> field : again you give your expect your mock to use\nthe <code>inputUser </code> object. this object has userID = 1. but in the real\nmethod <code>saveUser(UserModel userModel)</code> this field is not set\nexplicitly so the default value will be set to <code>0</code> you could see that\nalso in the error.</li>\n</ul>\n<p>Now since your test case <code>whenSaveUser_ThenUserHasID</code> is meant to verify that a saved record has an ID, you can't do it with a mock. The ID is generated by the Spring Data you are using and yo make it run, you should use and Integration test to run your spring context in your test in order for your spring data to be able to generate an ID  for your user, <a href=\"https://stackoverflow.com/questions/23435937/how-to-test-spring-data-repositories\">here is a previous question</a> that will be helpful for you to do so. With this, you will neither need the <code>inputUser</code> in your test nor the mock. (You can use <code>@DataJpaTest</code> from JUnit 5 or <code>@SpringBootTest</code>...)</p>\n"}],"owner":{"account_id":22114825,"reputation":93,"user_id":16369112,"display_name":"Jschwery"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74796795,"answer_count":2,"score":0,"last_activity_date":1671021410,"creation_date":1671011192,"question_id":74796278,"body_markdown":"I&#39;m trying to test my service implementation with ``JUNIT5``. I don&#39;t quite understand whats going wrong but my ``UserRepository`` doesn&#39;t seem to be returning a value.\r\n\r\nI have tested to see if the UserRepository has been used with:\r\n``verify(repository, times(1));`` And the response was &quot;Wanted but not invoked...Actually, there were zero interactions with this mock&quot;\r\n\r\n\r\n**Here is the Test Class:**\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class UserServiceTest {\r\n\r\n    @Mock\r\n    UserRepository repository;\r\n    @InjectMocks\r\n    UserServiceImpl userServiceImpl;\r\n\r\n    UserModel inputUserModel;\r\n\r\n    @BeforeEach\r\n    public void setUp() throws Exception {\r\n        inputUserModel = new UserModel();\r\n        inputUserModel.setEmail(&quot;testemail@gmail.com&quot;);\r\n        inputUserModel.setFirstName(&quot;john&quot;);\r\n        inputUserModel.setLastName(&quot;doe&quot;);\r\n        inputUserModel.setPassword(&quot;test&quot;);\r\n        inputUserModel.setMatchPassword(&quot;test&quot;);\r\n\r\n        User inputUser = User.builder()\r\n                .email(inputUserModel.getEmail())\r\n                .firstName(inputUserModel.getFirstName())\r\n                .lastName(inputUserModel.getLastName())\r\n                .password(inputUserModel.getPassword())\r\n                .timeCreated(Timestamp.valueOf(LocalDateTime.now(ZoneId.systemDefault()))).userID(1)\r\n                .build();\r\n\r\n        User outputUser = User.builder().\r\n                email(inputUserModel.getFirstName()).\r\n                password(inputUserModel.getLastName()).\r\n                lastName(inputUserModel.getFirstName())\r\n                .firstName(inputUserModel.getFirstName())\r\n\r\n                .timeCreated(Timestamp.valueOf(LocalDateTime.now(ZoneId.systemDefault()))).userID(1).build();\r\n\r\n        Mockito.when(repository.save(inputUser)).thenReturn(outputUser);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void whenSaveUser_ThenUserHasID(){\r\n\r\n        Assertions.assertEquals(1, userServiceImpl.saveUser(inputUserModel).getUserID());\r\n    }\r\n}\r\n```\r\n**The error that I am getting:**\r\n\r\n```\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n - this invocation of &#39;save&#39; method:\r\n    repository.save(\r\n    User(userID=0, email=testemail@gmail.com, timeCreated=2022-12-14 03:18:24.0435578, password=test, firstName=john, lastName=doe)\r\n);\r\n    -&gt; at com.jschwery.securitydemo.service.Implementations.UserServiceImpl.saveUser(UserServiceImpl.java:37)\r\n - has following stubbing(s) with different arguments:\r\n    1. repository.save(\r\n    User(userID=1, email=testemail@gmail.com, timeCreated=2022-12-14 03:18:24.0235563, password=test, firstName=john, lastName=doe)\r\n);\r\n```\r\n\r\n**My Service Class that I&#39;m creating the test for:**\r\n\r\n```@Service\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    UserRepository  userRepository;\r\n\r\n    @Autowired\r\n    public UserServiceImpl(UserRepository repository){\r\n        this.userRepository = repository;\r\n    }\r\n\r\n    @Override\r\n    public User saveUser(UserModel userModel) {\r\n        if(!Objects.equals(userModel.getPassword(), userModel.getMatchPassword())){\r\n            throw new UserException(&quot;Passwords do not match&quot;);\r\n        }\r\n        User user = User.builder().\r\n                email(userModel.getEmail()).\r\n                firstName(userModel.getFirstName()).\r\n                lastName(userModel.getLastName()).\r\n                password(userModel.getPassword()).\r\n                timeCreated(Timestamp.valueOf(LocalDateTime.now(ZoneId.systemDefault()))).build();\r\n        User returnedUser = userRepository.save(user);\r\n        System.out.println(returnedUser.getEmail());\r\n        System.out.println(&quot;userID&quot; + returnedUser.getUserID());\r\n        return returnedUser;\r\n    }\r\n}\r\n```\r\nThanks for reading! :)","title":"Mockito mock returning Null value from repository","body":"<p>I'm trying to test my service implementation with <code>JUNIT5</code>. I don't quite understand whats going wrong but my <code>UserRepository</code> doesn't seem to be returning a value.</p>\n<p>I have tested to see if the UserRepository has been used with:\n<code>verify(repository, times(1));</code> And the response was &quot;Wanted but not invoked...Actually, there were zero interactions with this mock&quot;</p>\n<p><strong>Here is the Test Class:</strong></p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n\n    @Mock\n    UserRepository repository;\n    @InjectMocks\n    UserServiceImpl userServiceImpl;\n\n    UserModel inputUserModel;\n\n    @BeforeEach\n    public void setUp() throws Exception {\n        inputUserModel = new UserModel();\n        inputUserModel.setEmail(&quot;testemail@gmail.com&quot;);\n        inputUserModel.setFirstName(&quot;john&quot;);\n        inputUserModel.setLastName(&quot;doe&quot;);\n        inputUserModel.setPassword(&quot;test&quot;);\n        inputUserModel.setMatchPassword(&quot;test&quot;);\n\n        User inputUser = User.builder()\n                .email(inputUserModel.getEmail())\n                .firstName(inputUserModel.getFirstName())\n                .lastName(inputUserModel.getLastName())\n                .password(inputUserModel.getPassword())\n                .timeCreated(Timestamp.valueOf(LocalDateTime.now(ZoneId.systemDefault()))).userID(1)\n                .build();\n\n        User outputUser = User.builder().\n                email(inputUserModel.getFirstName()).\n                password(inputUserModel.getLastName()).\n                lastName(inputUserModel.getFirstName())\n                .firstName(inputUserModel.getFirstName())\n\n                .timeCreated(Timestamp.valueOf(LocalDateTime.now(ZoneId.systemDefault()))).userID(1).build();\n\n        Mockito.when(repository.save(inputUser)).thenReturn(outputUser);\n\n    }\n\n    @Test\n    public void whenSaveUser_ThenUserHasID(){\n\n        Assertions.assertEquals(1, userServiceImpl.saveUser(inputUserModel).getUserID());\n    }\n}\n</code></pre>\n<p><strong>The error that I am getting:</strong></p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'save' method:\n    repository.save(\n    User(userID=0, email=testemail@gmail.com, timeCreated=2022-12-14 03:18:24.0435578, password=test, firstName=john, lastName=doe)\n);\n    -&gt; at com.jschwery.securitydemo.service.Implementations.UserServiceImpl.saveUser(UserServiceImpl.java:37)\n - has following stubbing(s) with different arguments:\n    1. repository.save(\n    User(userID=1, email=testemail@gmail.com, timeCreated=2022-12-14 03:18:24.0235563, password=test, firstName=john, lastName=doe)\n);\n</code></pre>\n<p><strong>My Service Class that I'm creating the test for:</strong></p>\n<pre><code>public class UserServiceImpl implements UserService {\n\n    UserRepository  userRepository;\n\n    @Autowired\n    public UserServiceImpl(UserRepository repository){\n        this.userRepository = repository;\n    }\n\n    @Override\n    public User saveUser(UserModel userModel) {\n        if(!Objects.equals(userModel.getPassword(), userModel.getMatchPassword())){\n            throw new UserException(&quot;Passwords do not match&quot;);\n        }\n        User user = User.builder().\n                email(userModel.getEmail()).\n                firstName(userModel.getFirstName()).\n                lastName(userModel.getLastName()).\n                password(userModel.getPassword()).\n                timeCreated(Timestamp.valueOf(LocalDateTime.now(ZoneId.systemDefault()))).build();\n        User returnedUser = userRepository.save(user);\n        System.out.println(returnedUser.getEmail());\n        System.out.println(&quot;userID&quot; + returnedUser.getUserID());\n        return returnedUser;\n    }\n}\n</code></pre>\n<p>Thanks for reading! :)</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"owner":{"account_id":27250748,"reputation":11,"user_id":20775254,"display_name":"confused_nerd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671021381,"creation_date":1671021254,"question_id":74798387,"body_markdown":"I am trying to recieve data from the front end and then passing it to my @Query annotation, if the value is null , it would skip it , else it would look for it inside the Mongo database.\r\n\r\n\r\n\r\n\r\nSo far I have tried this `@Query`\r\n\r\n```\r\n @Query(&quot;{$and: [{&quot;\r\n    \t\t+ &quot;            $or: [{&quot;\r\n    \t\t+ &quot;                $where: &#39;?0 == null&#39;&quot;\r\n    \t\t+ &quot;            }, {&quot;\r\n    \t\t+ &quot;                name: &#39;?0&#39;&quot;\r\n    \t\t+ &quot;            }]&quot;\r\n    \t\t+ &quot;        }, {&quot;\r\n    \t\t+ &quot;            $or: [{&quot;\r\n    \t\t+ &quot;                $where: &#39;?1 == null&#39;&quot;\r\n    \t\t+ &quot;            }, {&quot;\r\n    \t\t+ &quot;                batch: &#39;?1&#39;&quot;\r\n    \t\t+ &quot;            }]&quot;\r\n    \t\t+ &quot;        }, {&quot;\r\n    \t\t+ &quot;            $or: [{&quot;\r\n    \t\t+ &quot;                $where: &#39;?2 == null&#39;&quot;\r\n `   \t\t+ &quot;            }, {&quot;\r\n    \t\t+ &quot;                city: &#39;?2&#39;&quot;\r\n    \t\t+ &quot;            }]&quot;\r\n    \t\t+ &quot;        }]}&quot;)\r\n```\r\n\r\n\r\nNow for the above query i am getting the following syntax issue\r\n\r\n`SyntaxError: identifier starts immediately after numeric literal on server`\r\n\r\nNow i know the issue is how i am writing the `$where` part, but I am not really able to understand it.\r\n\r\nThanks.\r\n\r\n```\r\n","title":"Having syntax issue for Spring Mongo @Query while trying to validate null values coming from the front end","body":"<p>I am trying to recieve data from the front end and then passing it to my @Query annotation, if the value is null , it would skip it , else it would look for it inside the Mongo database.</p>\n<p>So far I have tried this <code>@Query</code></p>\n<pre><code> @Query(&quot;{$and: [{&quot;\n            + &quot;            $or: [{&quot;\n            + &quot;                $where: '?0 == null'&quot;\n            + &quot;            }, {&quot;\n            + &quot;                name: '?0'&quot;\n            + &quot;            }]&quot;\n            + &quot;        }, {&quot;\n            + &quot;            $or: [{&quot;\n            + &quot;                $where: '?1 == null'&quot;\n            + &quot;            }, {&quot;\n            + &quot;                batch: '?1'&quot;\n            + &quot;            }]&quot;\n            + &quot;        }, {&quot;\n            + &quot;            $or: [{&quot;\n            + &quot;                $where: '?2 == null'&quot;\n `          + &quot;            }, {&quot;\n            + &quot;                city: '?2'&quot;\n            + &quot;            }]&quot;\n            + &quot;        }]}&quot;)\n</code></pre>\n<p>Now for the above query i am getting the following syntax issue</p>\n<p><code>SyntaxError: identifier starts immediately after numeric literal on server</code></p>\n<p>Now i know the issue is how i am writing the <code>$where</code> part, but I am not really able to understand it.</p>\n<p>Thanks.</p>\n<pre><code></code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670851414,"post_id":74771781,"comment_id":131961775,"body_markdown":"what value does the String have? On what line are you trying to convert it?","body":"what value does the String have? On what line are you trying to convert it?"},{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":0,"creation_date":1670851613,"post_id":74771781,"comment_id":131961851,"body_markdown":"User user = dataSnapshot.getValue(User.class); In this line as error on line 60 (at com.example.guided_app.fragment.exploreFragment$1.onDataChange(exploreFragment.java:60))","body":"User user = dataSnapshot.getValue(User.class); In this line as error on line 60 (at com.example.guided_app.fragment.exploreFragment$1.onDataChan&zwnj;&#8203;ge(exploreFragment.j&zwnj;&#8203;ava:60))"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670851648,"post_id":74771781,"comment_id":131961864,"body_markdown":"so, check that line of code. It&#39;s not like we know what line that is","body":"so, check that line of code. It&#39;s not like we know what line that is"},{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":0,"creation_date":1670851815,"post_id":74771781,"comment_id":131961905,"body_markdown":"Error for getValue","body":"Error for getValue"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670854754,"post_id":74771781,"comment_id":131962996,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data). Please respond using @AlexMamo","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>. Please respond using @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670860123,"post_id":74771781,"comment_id":131965158,"body_markdown":"Are you sure all users have a `guidedCount` field of type int and not String?","body":"Are you sure all users have a <code>guidedCount</code> field of type int and not String?"},{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":0,"creation_date":1670861441,"post_id":74771781,"comment_id":131965658,"body_markdown":"@AlexMamo yes for all users","body":"@AlexMamo yes for all users"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670915472,"post_id":74771781,"comment_id":131977363,"body_markdown":"How many users exist under `Users` node?","body":"How many users exist under <code>Users</code> node?"},{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":0,"creation_date":1671010822,"post_id":74771781,"comment_id":132002780,"body_markdown":"@AlexMamo 6 users. All have the same datatype as above user.","body":"@AlexMamo 6 users. All have the same datatype as above user."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671011163,"post_id":74771781,"comment_id":132002885,"body_markdown":"Is it possible that this `DatabaseException` can be thrown from other parts of your code?","body":"Is it possible that this <code>DatabaseException</code> can be thrown from other parts of your code?"},{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":0,"creation_date":1671011527,"post_id":74771781,"comment_id":132002976,"body_markdown":"@AlexMamo User adapter has an intent to another activity (named VActivity), is it possible that it can have error? (Vactivity is for visit activity, its use is when user go to explore and want to view profile)","body":"@AlexMamo User adapter has an intent to another activity (named VActivity), is it possible that it can have error? (Vactivity is for visit activity, its use is when user go to explore and want to view profile)"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671012003,"post_id":74771781,"comment_id":132003119,"body_markdown":"You have to check that yourself.","body":"You have to check that yourself."},{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":0,"creation_date":1671012688,"post_id":74771781,"comment_id":132003332,"body_markdown":"@AlexMamo Well i checked for that but its showing error in this line  User user = dataSnapshot.getValue(User.class);  App crashes when i go to this explore fragment","body":"@AlexMamo Well i checked for that but its showing error in this line  User user = dataSnapshot.getValue(User.class);  App crashes when i go to this explore fragment"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671014715,"post_id":74771781,"comment_id":132003989,"body_markdown":"Can you show us a screenshot will all of those 6 users?","body":"Can you show us a screenshot will all of those 6 users?"},{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":0,"creation_date":1671017490,"post_id":74771781,"comment_id":132004966,"body_markdown":"@AlexMamo Updated database of users please check","body":"@AlexMamo Updated database of users please check"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1671019969,"post_id":74771781,"comment_id":132005837,"body_markdown":"I git it. I&#39;ll provide an answer right away.","body":"I git it. I&#39;ll provide an answer right away."}],"answers":[{"comments":[{"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"score":1,"creation_date":1671025502,"post_id":74798150,"comment_id":132007866,"body_markdown":"Thanks a lot, I was stuck in this for a long time you really helped me... Appreciated","body":"Thanks a lot, I was stuck in this for a long time you really helped me... Appreciated"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671020181,"creation_date":1671020181,"answer_id":74798150,"question_id":74771781,"body_markdown":"As expected, the following error:\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Failed to convert a value of type java.lang.String to int\r\n\r\nArrives due to the fact that an int-type field holds a value of type String. So when deserializing, the `guidedCount` field is expected to hold a value of type int and not String, hence the error. The node that is responsible for the Exception is: \r\n\r\n    &quot;guidedCount&quot;: &quot;gAzcrP1IYmQI0ht4qfH9WGt9U7F2&quot;,\r\n\r\nSee, it holds a UID rather than a number. So to solve this, change that UID with a number.\r\n","title":"Failed to convert a value of type java.lang.String to int (in explore_fragment)","body":"<p>As expected, the following error:</p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Failed to convert a value of type java.lang.String to int</p>\n</blockquote>\n<p>Arrives due to the fact that an int-type field holds a value of type String. So when deserializing, the <code>guidedCount</code> field is expected to hold a value of type int and not String, hence the error. The node that is responsible for the Exception is:</p>\n<pre><code>&quot;guidedCount&quot;: &quot;gAzcrP1IYmQI0ht4qfH9WGt9U7F2&quot;,\n</code></pre>\n<p>See, it holds a UID rather than a number. So to solve this, change that UID with a number.</p>\n"}],"owner":{"account_id":27220273,"reputation":23,"user_id":20749673,"display_name":"Anshul Lanjewar"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74798150,"answer_count":1,"score":0,"last_activity_date":1671020254,"creation_date":1670851364,"question_id":74771781,"body_markdown":"Showing error on getValue(User.class) in explore_fragment.\r\nMy explore_fragment is:\r\n\r\n```\r\npublic class exploreFragment extends Fragment {\r\n    FragmentExploreBinding binding;\r\n    ArrayList&lt;User&gt; list = new ArrayList&lt;&gt;();\r\n    FirebaseAuth auth;\r\n    FirebaseDatabase database;\r\n\r\n    public exploreFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n        database= FirebaseDatabase.getInstance();\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        binding= FragmentExploreBinding.inflate(inflater, container, false);\r\n        UserAdapter adapter = new UserAdapter(getContext(),list);\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n        binding.usersRV.setLayoutManager(layoutManager);\r\n        binding.usersRV.setAdapter(adapter);\r\n\r\n        database.getReference().child(&quot;Users&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                list.clear();\r\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    User user = dataSnapshot.getValue(User.class);\r\n                    user.setUserID(dataSnapshot.getKey());\r\n\r\n                    if(!dataSnapshot.getKey().equals(FirebaseAuth.getInstance().getUid())){\r\n                        list.add(user);\r\n                    }\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        return binding.getRoot();\r\n    }\r\n}\r\n```\r\n\r\nUser_model is:\r\n\r\n\r\n```\r\npublic class User {\r\n    private String name, profession,email,password,cname;\r\n    private String profile;\r\n    private String userReff;\r\n    private int guidedCount;\r\n    private String userID;\r\n    private  String coverPhoto;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public int getGuidedCount() {\r\n        return guidedCount;\r\n    }\r\n    public void setGuidedCount(int guidedCount) {\r\n        this.guidedCount = guidedCount;\r\n    }\r\n\r\n    public String getCoverPhoto() {\r\n        return coverPhoto;\r\n    }\r\n    public void setCoverPhoto(String coverPhoto) {\r\n        this.coverPhoto = coverPhoto;\r\n    }\r\n\r\n    public User(String name, String profession, String email, String password, String cname) {\r\n        this.name = name;\r\n        this.profession = profession;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.cname = cname;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getProfession() {\r\n        return profession;\r\n    }\r\n    public void setProfession(String profession) {\r\n        this.profession = profession;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getCname() {\r\n        return cname;\r\n    }\r\n    public void setCname(String cname) {\r\n        this.cname = cname;\r\n    }\r\n\r\n    public String getProfile() {\r\n        return profile;\r\n    }\r\n    public void setProfile(String profile) {\r\n        this.profile = profile;\r\n    }\r\n\r\n    public String getUserReff() {\r\n        return userReff;\r\n    }\r\n    public void setUserReff(String userReff) {\r\n        this.userReff = userReff;\r\n    }\r\n\r\n\r\n    public String getUserID() {\r\n        return userID;\r\n    }\r\n\r\n    public void setUserID(String userID) {\r\n        this.userID = userID;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nUser_adapter is:\r\n\r\n\r\n```\r\npublic class UserAdapter extends RecyclerView.Adapter&lt;UserAdapter.viewHolder&gt;{\r\n    Context context;\r\n    ArrayList&lt;User&gt; list;\r\n\r\n    public UserAdapter(Context context, ArrayList&lt;User&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.user_sample,parent,false);\r\n        return new viewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull viewHolder holder, int position) {\r\n        User user = list.get(position);\r\n        Picasso.get().load(user.getProfile()).placeholder(R.drawable.placeholder).into(holder.binding.profileImage);\r\n        holder.binding.name.setText(user.getName());\r\n        holder.binding.profession.setText(user.getProfession());\r\n\r\n        holder.binding.viewprofilebtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view){\r\n\r\n                String visiter = list.get(holder.getAdapterPosition()).getUserID();\r\n                Intent intent= new Intent(context, VActivity.class);\r\n                intent.putExtra(&quot;usersid&quot;,visiter).toString();\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class viewHolder extends RecyclerView.ViewHolder{\r\n        UserSampleBinding binding;\r\n        public viewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            binding = UserSampleBinding.bind(itemView);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nError i am getting is:\r\n\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.guided_app, PID: 2744\r\n    com.google.firebase.database.DatabaseException: Failed to convert a value of type java.lang.String to int\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertInteger(CustomClassMapper.java:364)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToPrimitive(CustomClassMapper.java:290)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:215)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.example.guided_app.fragment.exploreFragment$1.onDataChange(exploreFragment.java:60)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n\r\nThe firebase database is:\r\n```\r\n &quot;Users&quot;: {\r\n    &quot;59fLuGGNugPcgp6b725cFnKIzKC2&quot;: {\r\n      &quot;cname&quot;: &quot;LIT&quot;,\r\n      &quot;email&quot;: &quot;Stephen@gmail.com&quot;,\r\n      &quot;guidedCount&quot;: 0,\r\n      &quot;name&quot;: &quot;Stephen Wade&quot;,\r\n      &quot;password&quot;: &quot;123456&quot;,\r\n      &quot;profession&quot;: &quot;Developer @ Adobe&quot;\r\n    },\r\n    &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;: {\r\n      &quot;cname&quot;: &quot;BIT&quot;,\r\n      &quot;email&quot;: &quot;anshul@gmail.com&quot;,\r\n      &quot;guided&quot;: {\r\n        &quot;FOQEVbKRpNYjfzAJCp1XQtnvRlh2&quot;: {\r\n          &quot;guidedAt&quot;: 1670152487063,\r\n          &quot;guidedBy&quot;: &quot;FOQEVbKRpNYjfzAJCp1XQtnvRlh2&quot;\r\n        },\r\n        &quot;y3pV1GhdLqOnteMO64U2F4o8mMu2&quot;: {\r\n          &quot;guidedAt&quot;: 1670151228825,\r\n          &quot;guidedBy&quot;: &quot;y3pV1GhdLqOnteMO64U2F4o8mMu2&quot;\r\n        }\r\n      },\r\n      &quot;guidedCount&quot;: 2,\r\n      &quot;name&quot;: &quot;Anshul Lanjewar&quot;,\r\n      &quot;password&quot;: &quot;123456&quot;,\r\n      &quot;profession&quot;: &quot;SDE @ Google&quot;\r\n    },\r\n    &quot;FOQEVbKRpNYjfzAJCp1XQtnvRlh2&quot;: {\r\n      &quot;cname&quot;: &quot;SIT&quot;,\r\n      &quot;email&quot;: &quot;Tanvi@gmail.com&quot;,\r\n      &quot;guidedCount&quot;: 0,\r\n      &quot;name&quot;: &quot;Tanvi Colson&quot;,\r\n      &quot;password&quot;: &quot;123456&quot;,\r\n      &quot;profession&quot;: &quot;Analyst @ Google&quot;\r\n    },\r\n    &quot;Jj2RH3iopgdLU6AC3VKeeaMKAXx1&quot;: {\r\n      &quot;cname&quot;: &quot;PIT&quot;,\r\n      &quot;email&quot;: &quot;Shana@gmail.com&quot;,\r\n      &quot;guidedCount&quot;: 0,\r\n      &quot;name&quot;: &quot;Shana Sharma&quot;,\r\n      &quot;password&quot;: &quot;123456&quot;,\r\n      &quot;profession&quot;: &quot;FullStack @ Netflix&quot;\r\n    },\r\n    &quot;gAzcrP1IYmQI0ht4qfH9WGt9U7F2&quot;: {\r\n      &quot;cname&quot;: &quot;MIT&quot;,\r\n      &quot;email&quot;: &quot;John@gmail.com&quot;,\r\n      &quot;guided&quot;: {\r\n        &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;: {\r\n          &quot;guidedAt&quot;: 1670614050015,\r\n          &quot;guidedBy&quot;: &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;\r\n        }\r\n      },\r\n      &quot;guidedCount&quot;: &quot;gAzcrP1IYmQI0ht4qfH9WGt9U7F2&quot;,\r\n      &quot;name&quot;: &quot;John Adams&quot;,\r\n      &quot;password&quot;: &quot;123456&quot;,\r\n      &quot;profession&quot;: &quot;Developer @ Apple&quot;\r\n    },\r\n    &quot;y3pV1GhdLqOnteMO64U2F4o8mMu2&quot;: {\r\n      &quot;cname&quot;: &quot;BIT&quot;,\r\n      &quot;email&quot;: &quot;kumar@gmail.com&quot;,\r\n      &quot;guided&quot;: {\r\n        &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;: {\r\n          &quot;guidedAt&quot;: 1670154254299,\r\n          &quot;guidedBy&quot;: &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;\r\n        }\r\n      },\r\n      &quot;guidedCount&quot;: 1,\r\n      &quot;name&quot;: &quot;Kumar Mishra&quot;,\r\n      &quot;password&quot;: &quot;123456&quot;,\r\n      &quot;profession&quot;: &quot;SDE @ Microsoft&quot;\r\n    }\r\n  }\r\n```\r\n\r\n\r\nI recently started with android development, so was just stucked.\r\nI want to create an explore_fragment in which list of users is added in recyclerView and with view_profile button we can view user profile.","title":"Failed to convert a value of type java.lang.String to int (in explore_fragment)","body":"<p>Showing error on getValue(User.class) in explore_fragment.\nMy explore_fragment is:</p>\n<pre><code>public class exploreFragment extends Fragment {\n    FragmentExploreBinding binding;\n    ArrayList&lt;User&gt; list = new ArrayList&lt;&gt;();\n    FirebaseAuth auth;\n    FirebaseDatabase database;\n\n    public exploreFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        auth = FirebaseAuth.getInstance();\n        database= FirebaseDatabase.getInstance();\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        binding= FragmentExploreBinding.inflate(inflater, container, false);\n        UserAdapter adapter = new UserAdapter(getContext(),list);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());\n        binding.usersRV.setLayoutManager(layoutManager);\n        binding.usersRV.setAdapter(adapter);\n\n        database.getReference().child(&quot;Users&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                list.clear();\n                for(DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    User user = dataSnapshot.getValue(User.class);\n                    user.setUserID(dataSnapshot.getKey());\n\n                    if(!dataSnapshot.getKey().equals(FirebaseAuth.getInstance().getUid())){\n                        list.add(user);\n                    }\n                }\n                adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        return binding.getRoot();\n    }\n}\n</code></pre>\n<p>User_model is:</p>\n<pre><code>public class User {\n    private String name, profession,email,password,cname;\n    private String profile;\n    private String userReff;\n    private int guidedCount;\n    private String userID;\n    private  String coverPhoto;\n\n    public User() {\n    }\n\n    public int getGuidedCount() {\n        return guidedCount;\n    }\n    public void setGuidedCount(int guidedCount) {\n        this.guidedCount = guidedCount;\n    }\n\n    public String getCoverPhoto() {\n        return coverPhoto;\n    }\n    public void setCoverPhoto(String coverPhoto) {\n        this.coverPhoto = coverPhoto;\n    }\n\n    public User(String name, String profession, String email, String password, String cname) {\n        this.name = name;\n        this.profession = profession;\n        this.email = email;\n        this.password = password;\n        this.cname = cname;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getProfession() {\n        return profession;\n    }\n    public void setProfession(String profession) {\n        this.profession = profession;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getCname() {\n        return cname;\n    }\n    public void setCname(String cname) {\n        this.cname = cname;\n    }\n\n    public String getProfile() {\n        return profile;\n    }\n    public void setProfile(String profile) {\n        this.profile = profile;\n    }\n\n    public String getUserReff() {\n        return userReff;\n    }\n    public void setUserReff(String userReff) {\n        this.userReff = userReff;\n    }\n\n\n    public String getUserID() {\n        return userID;\n    }\n\n    public void setUserID(String userID) {\n        this.userID = userID;\n    }\n}\n</code></pre>\n<p>User_adapter is:</p>\n<pre><code>public class UserAdapter extends RecyclerView.Adapter&lt;UserAdapter.viewHolder&gt;{\n    Context context;\n    ArrayList&lt;User&gt; list;\n\n    public UserAdapter(Context context, ArrayList&lt;User&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public viewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.user_sample,parent,false);\n        return new viewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull viewHolder holder, int position) {\n        User user = list.get(position);\n        Picasso.get().load(user.getProfile()).placeholder(R.drawable.placeholder).into(holder.binding.profileImage);\n        holder.binding.name.setText(user.getName());\n        holder.binding.profession.setText(user.getProfession());\n\n        holder.binding.viewprofilebtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view){\n\n                String visiter = list.get(holder.getAdapterPosition()).getUserID();\n                Intent intent= new Intent(context, VActivity.class);\n                intent.putExtra(&quot;usersid&quot;,visiter).toString();\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class viewHolder extends RecyclerView.ViewHolder{\n        UserSampleBinding binding;\n        public viewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            binding = UserSampleBinding.bind(itemView);\n        }\n    }\n}\n</code></pre>\n<p>Error i am getting is:</p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.guided_app, PID: 2744\ncom.google.firebase.database.DatabaseException: Failed to convert a value of type java.lang.String to int\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertInteger(CustomClassMapper.java:364)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToPrimitive(CustomClassMapper.java:290)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:215)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\nat com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\nat com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\nat com.example.guided_app.fragment.exploreFragment$1.onDataChange(exploreFragment.java:60)\nat com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\nat com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\nat com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\nat android.os.Handler.handleCallback(Handler.java:790)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:6494)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)</p>\n</blockquote>\n<p>The firebase database is:</p>\n<pre><code> &quot;Users&quot;: {\n    &quot;59fLuGGNugPcgp6b725cFnKIzKC2&quot;: {\n      &quot;cname&quot;: &quot;LIT&quot;,\n      &quot;email&quot;: &quot;Stephen@gmail.com&quot;,\n      &quot;guidedCount&quot;: 0,\n      &quot;name&quot;: &quot;Stephen Wade&quot;,\n      &quot;password&quot;: &quot;123456&quot;,\n      &quot;profession&quot;: &quot;Developer @ Adobe&quot;\n    },\n    &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;: {\n      &quot;cname&quot;: &quot;BIT&quot;,\n      &quot;email&quot;: &quot;anshul@gmail.com&quot;,\n      &quot;guided&quot;: {\n        &quot;FOQEVbKRpNYjfzAJCp1XQtnvRlh2&quot;: {\n          &quot;guidedAt&quot;: 1670152487063,\n          &quot;guidedBy&quot;: &quot;FOQEVbKRpNYjfzAJCp1XQtnvRlh2&quot;\n        },\n        &quot;y3pV1GhdLqOnteMO64U2F4o8mMu2&quot;: {\n          &quot;guidedAt&quot;: 1670151228825,\n          &quot;guidedBy&quot;: &quot;y3pV1GhdLqOnteMO64U2F4o8mMu2&quot;\n        }\n      },\n      &quot;guidedCount&quot;: 2,\n      &quot;name&quot;: &quot;Anshul Lanjewar&quot;,\n      &quot;password&quot;: &quot;123456&quot;,\n      &quot;profession&quot;: &quot;SDE @ Google&quot;\n    },\n    &quot;FOQEVbKRpNYjfzAJCp1XQtnvRlh2&quot;: {\n      &quot;cname&quot;: &quot;SIT&quot;,\n      &quot;email&quot;: &quot;Tanvi@gmail.com&quot;,\n      &quot;guidedCount&quot;: 0,\n      &quot;name&quot;: &quot;Tanvi Colson&quot;,\n      &quot;password&quot;: &quot;123456&quot;,\n      &quot;profession&quot;: &quot;Analyst @ Google&quot;\n    },\n    &quot;Jj2RH3iopgdLU6AC3VKeeaMKAXx1&quot;: {\n      &quot;cname&quot;: &quot;PIT&quot;,\n      &quot;email&quot;: &quot;Shana@gmail.com&quot;,\n      &quot;guidedCount&quot;: 0,\n      &quot;name&quot;: &quot;Shana Sharma&quot;,\n      &quot;password&quot;: &quot;123456&quot;,\n      &quot;profession&quot;: &quot;FullStack @ Netflix&quot;\n    },\n    &quot;gAzcrP1IYmQI0ht4qfH9WGt9U7F2&quot;: {\n      &quot;cname&quot;: &quot;MIT&quot;,\n      &quot;email&quot;: &quot;John@gmail.com&quot;,\n      &quot;guided&quot;: {\n        &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;: {\n          &quot;guidedAt&quot;: 1670614050015,\n          &quot;guidedBy&quot;: &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;\n        }\n      },\n      &quot;guidedCount&quot;: &quot;gAzcrP1IYmQI0ht4qfH9WGt9U7F2&quot;,\n      &quot;name&quot;: &quot;John Adams&quot;,\n      &quot;password&quot;: &quot;123456&quot;,\n      &quot;profession&quot;: &quot;Developer @ Apple&quot;\n    },\n    &quot;y3pV1GhdLqOnteMO64U2F4o8mMu2&quot;: {\n      &quot;cname&quot;: &quot;BIT&quot;,\n      &quot;email&quot;: &quot;kumar@gmail.com&quot;,\n      &quot;guided&quot;: {\n        &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;: {\n          &quot;guidedAt&quot;: 1670154254299,\n          &quot;guidedBy&quot;: &quot;7kpNGqcHeBfNqf8GrVK2Hpew0L62&quot;\n        }\n      },\n      &quot;guidedCount&quot;: 1,\n      &quot;name&quot;: &quot;Kumar Mishra&quot;,\n      &quot;password&quot;: &quot;123456&quot;,\n      &quot;profession&quot;: &quot;SDE @ Microsoft&quot;\n    }\n  }\n</code></pre>\n<p>I recently started with android development, so was just stucked.\nI want to create an explore_fragment in which list of users is added in recyclerView and with view_profile button we can view user profile.</p>\n"},{"tags":["java","html"],"answers":[{"tags":[],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671020154,"creation_date":1671020138,"answer_id":74798145,"question_id":74793464,"body_markdown":"You have an extra `&lt;td&gt;` close in your code. It is located before `&lt;/tr&gt;`. Try to delete it. You have to do some thing like this :\r\n\r\n         &lt;form id=&quot;config_form&quot; action=&quot;Fruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n            &lt;table id=&quot;myTable&quot;&gt;\r\n            &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;val&quot; varStatus=&quot;count&quot;&gt;\r\n                 &lt;tbody&gt;\r\n                     &lt;tr&gt;\r\n                        &lt;td&gt;    \r\n                           &lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${val.fruitname}&quot;&gt;\r\n                        &lt;/td&gt;\r\n                         &lt;td&gt;     \r\n                           &lt;input type=&quot;password&quot; name=&quot;passphrase&quot; id=&quot;passphrase&quot; value=&quot;${val.passphrase}&quot;&gt;\r\n                         &lt;/td&gt;\r\n                     &lt;/tr&gt;\r\n                 &lt;/tbody&gt;\r\n            &lt;/c:forEach&gt;\r\n         &lt;/table&gt;\r\n         &lt;/form&gt;","title":"getString() is reading all values from one field","body":"<p>You have an extra <code>&lt;td&gt;</code> close in your code. It is located before <code>&lt;/tr&gt;</code>. Try to delete it. You have to do some thing like this :</p>\n<pre><code>     &lt;form id=&quot;config_form&quot; action=&quot;Fruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n        &lt;table id=&quot;myTable&quot;&gt;\n        &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;val&quot; varStatus=&quot;count&quot;&gt;\n             &lt;tbody&gt;\n                 &lt;tr&gt;\n                    &lt;td&gt;    \n                       &lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${val.fruitname}&quot;&gt;\n                    &lt;/td&gt;\n                     &lt;td&gt;     \n                       &lt;input type=&quot;password&quot; name=&quot;passphrase&quot; id=&quot;passphrase&quot; value=&quot;${val.passphrase}&quot;&gt;\n                     &lt;/td&gt;\n                 &lt;/tr&gt;\n             &lt;/tbody&gt;\n        &lt;/c:forEach&gt;\n     &lt;/table&gt;\n     &lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":27187956,"reputation":1,"user_id":20722171,"display_name":"cruzzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671020154,"creation_date":1670990664,"question_id":74793464,"body_markdown":"I&#39;m not sure why my getString() is responding in this way. Sorry for the incomplete code, I just want to know why the problem is like that. For my HTML side, the table will generate the amount of rows according to the `${fruits}` which is a ArrayList from the doGet() method. I&#39;m using `enctype=&quot;multipart/form-data&quot;` because it actually takes in a file but i shorten my codes just to not confuse even further.\r\n\r\n\r\n             &lt;form id=&quot;config_form&quot; action=&quot;Fruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                &lt;table id=&quot;myTable&quot;&gt;\r\n                &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;val&quot; varStatus=&quot;count&quot;&gt;\r\n                     &lt;tbody&gt;\r\n                         &lt;tr&gt;\r\n                            &lt;td&gt;    \r\n                               &lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${val.fruitname}&quot;&gt;\r\n                            &lt;/td&gt;\r\n                             &lt;td&gt;     \r\n                               &lt;input type=&quot;password&quot; name=&quot;passphrase&quot; id=&quot;passphrase&quot; value=&quot;${val.passphrase}&quot;&gt;\r\n                             &lt;/td&gt;\r\n                             &lt;td&gt;\r\n                         &lt;/tr&gt;\r\n                     &lt;/tbody&gt;\r\n                &lt;/c:forEach&gt;\r\n             &lt;/table&gt;\r\n             &lt;/form&gt;\r\n\r\nThis is code from the doPost() method where it will retrieve the values from the textfield from the HTML. The problem is that it will take it the values from the field accordingly until it reaches the 2nd row where it will take all of the values from one field rather than one value from a field.\r\n\r\nFor example, it starts with the &quot;fruit&quot; field and will take in `{&quot;fruitname&quot;:&quot;apple&quot;}` first and follow by `{&quot;passphrase&quot;:&quot;123&quot;}` from the first row and when it reaches the second row it starts to take in all of values `{&quot;fruitname&quot;:&quot;apple&quot;, &quot;passphrase&quot;:&quot;123&quot;}` from the &quot;fruit&quot; field. I do not know why it works for the first row but not the second \r\n\r\n        DiskFileItemFactory factory = new DiskFileItemFactory();\r\n        ServletFileUpload upload = new ServletFileUpload(factory);\r\n        List&lt;FileItem&gt; uploadItems = null;\r\n  \r\n  \r\n        uploadItems = upload.parseRequest(request);\r\n\r\n        for (FileItem uploadItem : uploadItems) {\r\n                    if (uploadItem.isFormField()) {\r\n                        String fieldName = uploadItem.getFieldName();\r\n                        if(fieldName.equals(&quot;fruit&quot;))\r\n                        {\r\n                            String fruitname= uploadItem.getString();       \r\n                            newOutput.put(&quot;port&quot;,port);  //newOutput is a JSONObject\r\n                        }\r\n                        else if(fieldName.equals(&quot;passphrase&quot;))\r\n                        {\r\n                            String passphrase = uploadItem.getString();\r\n                            newOutput.put(&quot;passphrase&quot;,passphrase);\r\n                        }\r\n                }\r\n            }\r\n            arr_Output.add(newOutput);     //arr_Output is a JSONArray Object\r\n            \r\n          ","title":"getString() is reading all values from one field","body":"<p>I'm not sure why my getString() is responding in this way. Sorry for the incomplete code, I just want to know why the problem is like that. For my HTML side, the table will generate the amount of rows according to the <code>${fruits}</code> which is a ArrayList from the doGet() method. I'm using <code>enctype=&quot;multipart/form-data&quot;</code> because it actually takes in a file but i shorten my codes just to not confuse even further.</p>\n<pre><code>         &lt;form id=&quot;config_form&quot; action=&quot;Fruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n            &lt;table id=&quot;myTable&quot;&gt;\n            &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;val&quot; varStatus=&quot;count&quot;&gt;\n                 &lt;tbody&gt;\n                     &lt;tr&gt;\n                        &lt;td&gt;    \n                           &lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${val.fruitname}&quot;&gt;\n                        &lt;/td&gt;\n                         &lt;td&gt;     \n                           &lt;input type=&quot;password&quot; name=&quot;passphrase&quot; id=&quot;passphrase&quot; value=&quot;${val.passphrase}&quot;&gt;\n                         &lt;/td&gt;\n                         &lt;td&gt;\n                     &lt;/tr&gt;\n                 &lt;/tbody&gt;\n            &lt;/c:forEach&gt;\n         &lt;/table&gt;\n         &lt;/form&gt;\n</code></pre>\n<p>This is code from the doPost() method where it will retrieve the values from the textfield from the HTML. The problem is that it will take it the values from the field accordingly until it reaches the 2nd row where it will take all of the values from one field rather than one value from a field.</p>\n<p>For example, it starts with the &quot;fruit&quot; field and will take in <code>{&quot;fruitname&quot;:&quot;apple&quot;}</code> first and follow by <code>{&quot;passphrase&quot;:&quot;123&quot;}</code> from the first row and when it reaches the second row it starts to take in all of values <code>{&quot;fruitname&quot;:&quot;apple&quot;, &quot;passphrase&quot;:&quot;123&quot;}</code> from the &quot;fruit&quot; field. I do not know why it works for the first row but not the second</p>\n<pre><code>    DiskFileItemFactory factory = new DiskFileItemFactory();\n    ServletFileUpload upload = new ServletFileUpload(factory);\n    List&lt;FileItem&gt; uploadItems = null;\n\n\n    uploadItems = upload.parseRequest(request);\n\n    for (FileItem uploadItem : uploadItems) {\n                if (uploadItem.isFormField()) {\n                    String fieldName = uploadItem.getFieldName();\n                    if(fieldName.equals(&quot;fruit&quot;))\n                    {\n                        String fruitname= uploadItem.getString();       \n                        newOutput.put(&quot;port&quot;,port);  //newOutput is a JSONObject\n                    }\n                    else if(fieldName.equals(&quot;passphrase&quot;))\n                    {\n                        String passphrase = uploadItem.getString();\n                        newOutput.put(&quot;passphrase&quot;,passphrase);\n                    }\n            }\n        }\n        arr_Output.add(newOutput);     //arr_Output is a JSONArray Object\n        \n      \n</code></pre>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1671019772,"post_id":74798050,"comment_id":132005769,"body_markdown":"Please provide the exact compiler output in your question. In any case the error happens because the Java compiler *knows* that `m`, being an instance of `MyOwnClass`, will never be `==` to `&quot;abcd&quot;` (a `java.lang.String`), while it is possible to write an `equals` method which will consider them equal (even if that violates the &quot;contract&quot; of `equals`).","body":"Please provide the exact compiler output in your question. In any case the error happens because the Java compiler <i>knows</i> that <code>m</code>, being an instance of <code>MyOwnClass</code>, will never be <code>==</code> to <code>&quot;abcd&quot;</code> (a <code>java.lang.String</code>), while it is possible to write an <code>equals</code> method which will consider them equal (even if that violates the &quot;contract&quot; of <code>equals</code>)."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1671020140,"post_id":74798050,"comment_id":132005897,"body_markdown":"I think @AndyTurner has also provided a nice answer to a similar question here: https://stackoverflow.com/a/60136054/6367213","body":"I think @AndyTurner has also provided a nice answer to a similar question here: <a href=\"https://stackoverflow.com/a/60136054/6367213\">stackoverflow.com/a/60136054/6367213</a>"}],"answers":[{"tags":[],"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671019949,"creation_date":1671019949,"answer_id":74798112,"question_id":74798050,"body_markdown":"Read here please https://docs.oracle.com/javase/specs/jls/se13/html/jls-15.html#jls-15.21.3\r\n\r\n&gt; If the operands of an equality operator are both of either reference type or the null type, then the operation is object equality.","title":"Operator &#39;==&#39; cannot be applied...(java)","body":"<p>Read here please <a href=\"https://docs.oracle.com/javase/specs/jls/se13/html/jls-15.html#jls-15.21.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se13/html/jls-15.html#jls-15.21.3</a></p>\n<blockquote>\n<p>If the operands of an equality operator are both of either reference type or the null type, then the operation is object equality.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23956357,"reputation":87,"user_id":17947184,"display_name":"Math.Random"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671020109,"creation_date":1671020109,"answer_id":74798138,"question_id":74798050,"body_markdown":"== is an operator to compare the reference values and objects.\r\nequals() is used to compare the actual content of the object.\r\n\r\nyou can also check this post:\r\nhttps://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java ","title":"Operator &#39;==&#39; cannot be applied...(java)","body":"<p>== is an operator to compare the reference values and objects.\nequals() is used to compare the actual content of the object.</p>\n<p>you can also check this post:\n<a href=\"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java\">What is the difference between == and equals() in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671020131,"creation_date":1671020131,"answer_id":74798143,"question_id":74798050,"body_markdown":"The method `equals` exists on all `Object` instances and permits any other `Object` (or `null`)  to be passed. `m.equals(&quot;abc&quot;)` is therefore okay; it meets the (very loose) requirements of `equals`.\r\n\r\nThis is allowed because one could write an `equals` method that indeed _does_ allow an `MyOwnClass` instance to be equal to a `String` instance. (It&#39;s probably not a _good_ idea, but something _technically valid_.)\r\n\r\n`==` is different. It has a very specific meaning when dealing with reference types. It returns `true` if and only if the two arguments are the exact same instance; `false` otherwise.\r\n\r\nHowever, in this case, when comparing an `MyOwnClass` and a `String`, the compiler knows that that comparison _can never ever be true_ since the two provably don&#39;t inherit from each other. There is no situation where this comparison would make sense or even be useful; the developer must have made a mistake.\r\n\r\nIf you still _want_ to make this comparison nonetheless, you can cast one or both of the arguments to `Object`:\r\n\r\n```java\r\nout.println(m == (Object) &quot;abd&quot;);\r\n```\r\n\r\nThe comparison is now between a `MyOwnClass` and an `Object`. Since `MyOwnClass` inherits from an `Object`, a `someMyOwnClass == someObject` could sometimes be `true`, so the comparison is permitted.","title":"Operator &#39;==&#39; cannot be applied...(java)","body":"<p>The method <code>equals</code> exists on all <code>Object</code> instances and permits any other <code>Object</code> (or <code>null</code>)  to be passed. <code>m.equals(&quot;abc&quot;)</code> is therefore okay; it meets the (very loose) requirements of <code>equals</code>.</p>\n<p>This is allowed because one could write an <code>equals</code> method that indeed <em>does</em> allow an <code>MyOwnClass</code> instance to be equal to a <code>String</code> instance. (It's probably not a <em>good</em> idea, but something <em>technically valid</em>.)</p>\n<p><code>==</code> is different. It has a very specific meaning when dealing with reference types. It returns <code>true</code> if and only if the two arguments are the exact same instance; <code>false</code> otherwise.</p>\n<p>However, in this case, when comparing an <code>MyOwnClass</code> and a <code>String</code>, the compiler knows that that comparison <em>can never ever be true</em> since the two provably don't inherit from each other. There is no situation where this comparison would make sense or even be useful; the developer must have made a mistake.</p>\n<p>If you still <em>want</em> to make this comparison nonetheless, you can cast one or both of the arguments to <code>Object</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>out.println(m == (Object) &quot;abd&quot;);\n</code></pre>\n<p>The comparison is now between a <code>MyOwnClass</code> and an <code>Object</code>. Since <code>MyOwnClass</code> inherits from an <code>Object</code>, a <code>someMyOwnClass == someObject</code> could sometimes be <code>true</code>, so the comparison is permitted.</p>\n"}],"owner":{"account_id":27034747,"reputation":1,"user_id":20590552,"display_name":"Alex2000"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1671021179,"accepted_answer_id":74798143,"answer_count":3,"score":-4,"last_activity_date":1671020131,"creation_date":1671019562,"question_id":74798050,"body_markdown":"I&#39;m, having a little problem understanding why I get this compiler error. This was just a way for me to understand how all reference type inherit from Object class, but I&#39;m more lost than ever :( \r\n\r\n\r\n```\r\nimport static java.lang.System.out;\r\n\r\npublic class InheritObject {\r\n\r\n    public static void main(String[] args) {\r\n        new InheritObject().program();\r\n    }\r\n\r\n    void program() {\r\n        MyOwnClass m = new MyOwnClass();\r\n\r\n        out.println(m.toString());\r\n        out.println(m.getClass());   // Get class used to create this object\r\n        out.println(m.equals(&quot;abc&quot;));  // m == &quot;abc&quot; not allowed, but equals is!\r\n        out.println(m==&quot;abd&quot;);      // ... and default equals() uses == ?!\r\n        out.println(m.equals(5));\r\n        out.println(m.hashCode());\r\n        // Etc.\r\n\r\n    }\r\n\r\n    class MyOwnClass{\r\n        // No methods here!!!\r\n    }\r\n}\r\n\r\n```\r\n","title":"Operator &#39;==&#39; cannot be applied...(java)","body":"<p>I'm, having a little problem understanding why I get this compiler error. This was just a way for me to understand how all reference type inherit from Object class, but I'm more lost than ever :(</p>\n<pre><code>import static java.lang.System.out;\n\npublic class InheritObject {\n\n    public static void main(String[] args) {\n        new InheritObject().program();\n    }\n\n    void program() {\n        MyOwnClass m = new MyOwnClass();\n\n        out.println(m.toString());\n        out.println(m.getClass());   // Get class used to create this object\n        out.println(m.equals(&quot;abc&quot;));  // m == &quot;abc&quot; not allowed, but equals is!\n        out.println(m==&quot;abd&quot;);      // ... and default equals() uses == ?!\n        out.println(m.equals(5));\n        out.println(m.hashCode());\n        // Etc.\n\n    }\n\n    class MyOwnClass{\n        // No methods here!!!\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","bitmapimage","color-detection"],"owner":{"account_id":27220360,"reputation":1,"user_id":20749747,"display_name":"Jan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671019396,"creation_date":1670776722,"question_id":74762609,"body_markdown":"I am trying to make a program in Android Studio using java, where I can determine the RGB values at the point where the user clicked on the image. The code is working so far, but it gives wrong RGB values as output. They also seem to vary, based on the location where I click, even if the color that should be put out is the same. My guess is, that there is something up with the Bitmap, that I don&#39;t know about.\r\n\r\nMy MainActivity :\r\n\r\n```\r\npackage com.example.fitme;\r\n\r\nimport android.app.Activity;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.BitmapDrawable;\r\nimport android.os.Bundle;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends Activity  {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent ev) {\r\n        final int action = ev.getAction();\r\n        final int evX = (int) ev.getX();\r\n        final  int evY = (int) ev.getY();\r\n\r\n        switch (action) {\r\n            case MotionEvent.ACTION_DOWN :\r\n                break;\r\n            case MotionEvent.ACTION_UP :\r\n                ImageView img = (ImageView) findViewById (R.id.body_front_map);\r\n                img.setDrawingCacheEnabled(true);\r\n                Bitmap imgbmp = Bitmap.createBitmap(img.getDrawingCache());\r\n                img.setDrawingCacheEnabled(false);\r\n                int pxl = imgbmp.getPixel(evX, evY);\r\n                int redComponent = Color.red(pxl);\r\n                int greenComponent = Color.green(pxl);\r\n                int blueComponent = Color.blue(pxl);\r\n\r\n                Toast.makeText(MainActivity.this,&quot;RED: &quot;+redComponent+&quot; GREEN: &quot;+greenComponent+&quot; BLUE: &quot;+blueComponent, Toast.LENGTH_SHORT).show();\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nXML:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/body_front_map&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        android:background=&quot;@drawable/body_front_map&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nThe Image I am trying to use\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8GH4l.png","title":"Color detection in android (java) delivers wrong RGB values","body":"<p>I am trying to make a program in Android Studio using java, where I can determine the RGB values at the point where the user clicked on the image. The code is working so far, but it gives wrong RGB values as output. They also seem to vary, based on the location where I click, even if the color that should be put out is the same. My guess is, that there is something up with the Bitmap, that I don't know about.</p>\n<p>My MainActivity :</p>\n<pre><code>package com.example.fitme;\n\nimport android.app.Activity;\nimport android.graphics.Bitmap;\nimport android.graphics.Color;\nimport android.graphics.drawable.BitmapDrawable;\nimport android.os.Bundle;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\npublic class MainActivity extends Activity  {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent ev) {\n        final int action = ev.getAction();\n        final int evX = (int) ev.getX();\n        final  int evY = (int) ev.getY();\n\n        switch (action) {\n            case MotionEvent.ACTION_DOWN :\n                break;\n            case MotionEvent.ACTION_UP :\n                ImageView img = (ImageView) findViewById (R.id.body_front_map);\n                img.setDrawingCacheEnabled(true);\n                Bitmap imgbmp = Bitmap.createBitmap(img.getDrawingCache());\n                img.setDrawingCacheEnabled(false);\n                int pxl = imgbmp.getPixel(evX, evY);\n                int redComponent = Color.red(pxl);\n                int greenComponent = Color.green(pxl);\n                int blueComponent = Color.blue(pxl);\n\n                Toast.makeText(MainActivity.this,&quot;RED: &quot;+redComponent+&quot; GREEN: &quot;+greenComponent+&quot; BLUE: &quot;+blueComponent, Toast.LENGTH_SHORT).show();\n                break;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/body_front_map&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:visibility=&quot;visible&quot;\n        android:background=&quot;@drawable/body_front_map&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The Image I am trying to use\n<a href=\"https://i.stack.imgur.com/8GH4l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8GH4l.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","regex","replaceall"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1671018381,"post_id":74797777,"comment_id":132005266,"body_markdown":"You could write it like this `(?&lt;!\\\\S)0+`","body":"You could write it like this <code>(?&lt;!\\\\S)0+</code>"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1671018492,"post_id":74797777,"comment_id":132005324,"body_markdown":"So, you want to avoid replacing `0`s in the datetime values only? Or you want to remove `0`s in the `&#39;&lt;digits&gt;&#39;` like strings? Try `query = query.replaceAll(&quot;&#39;0+(\\\\d+&#39;)&quot;,&quot;&#39;$1&quot;); `","body":"So, you want to avoid replacing <code>0</code>s in the datetime values only? Or you want to remove <code>0</code>s in the <code>&#39;&lt;digits&gt;&#39;</code> like strings? Try <code>query = query.replaceAll(&quot;&#39;0+(\\\\d+&#39;)&quot;,&quot;&#39;$1&quot;); </code>"},{"owner":{"account_id":20856183,"reputation":41,"user_id":15319442,"display_name":"nik2811"},"score":0,"creation_date":1671018753,"post_id":74797777,"comment_id":132005418,"body_markdown":"No I only want to replace preceding zeros of number present under &#39;&#39;.  problem with my regex is, it also changes preceding zero after decimal point in timestamp","body":"No I only want to replace preceding zeros of number present under &#39;&#39;.  problem with my regex is, it also changes preceding zero after decimal point in timestamp"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1671018869,"post_id":74797777,"comment_id":132005465,"body_markdown":"Then you can use `query = query.replaceAll(&quot;\\\\b(?&lt;!\\\\d\\\\.)0+&quot;,&quot;&quot;);`. Or `query = query.replaceAll(&quot;\\\\b(?&lt;!\\\\d\\\\.)0+(?=\\\\d)&quot;,&quot;&quot;);`. You should provide expected result in the question body.","body":"Then you can use <code>query = query.replaceAll(&quot;\\\\b(?&lt;!\\\\d\\\\.)0+&quot;,&quot;&quot;);</code>. Or <code>query = query.replaceAll(&quot;\\\\b(?&lt;!\\\\d\\\\.)0+(?=\\\\d)&quot;,&quot;&quot;);</code>. You should provide expected result in the question body."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671019243,"creation_date":1671018748,"answer_id":74797876,"question_id":74797777,"body_markdown":"You can use negative lookarounds to not remove the zero followed by or preceded by any of `-`, `:`, `.` or `T`.\r\n\r\n\r\n\r\n    class Main {\r\n    \r\n        public static void main(String args[]) {\r\n            String query = &quot;contains(costCategories.name,&#39;05.04506&#39;)ge(dateCreated,&#39;2013-01-18T09:30:00.000Z&#39;)&quot;;\r\n            query = query.replaceAll(&quot;(?&lt;![-:\\\\.T])\\\\b0+(?![-:\\\\.T])&quot;, &quot;&quot;);\r\n            System.out.println(query);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    contains(costCategories.name,&#39;5.04506&#39;)ge(dateCreated,&#39;2013-01-18T09:30:00.000Z&#39;)","title":"Trying to select preceding zeros of a number present in a RQL query using regex","body":"<p>You can use negative lookarounds to not remove the zero followed by or preceded by any of <code>-</code>, <code>:</code>, <code>.</code> or <code>T</code>.</p>\n<pre><code>class Main {\n\n    public static void main(String args[]) {\n        String query = &quot;contains(costCategories.name,'05.04506')ge(dateCreated,'2013-01-18T09:30:00.000Z')&quot;;\n        query = query.replaceAll(&quot;(?&lt;![-:\\\\.T])\\\\b0+(?![-:\\\\.T])&quot;, &quot;&quot;);\n        System.out.println(query);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>contains(costCategories.name,'5.04506')ge(dateCreated,'2013-01-18T09:30:00.000Z')\n</code></pre>\n"}],"owner":{"account_id":20856183,"reputation":41,"user_id":15319442,"display_name":"nik2811"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74797876,"answer_count":1,"score":2,"last_activity_date":1671019243,"creation_date":1671018275,"question_id":74797777,"body_markdown":"I&#39;m trying to remove the preceding zeros of numbers present in below query\r\n\r\n```\r\nString query = &quot;or(contains(number,&#39;04506&#39;),contains(name,&#39;04506&#39;),contains(vendorInfo.name,&#39;04506&#39;),contains(vendorInfo.number,&#39;04506&#39;),contains(costCategories.name,&#39;04506&#39;)&quot;;\r\n```\r\n\r\nI&#39;m using below regex\r\n\r\n``` \r\nquery = query.replaceAll(&quot;\\\\b0+&quot;,&quot;&quot;); \r\n```\r\n\r\nProblem is, it also removes zero, if we provide a query with a timestamp to it, e.g.\r\n\r\n``` \r\nquery = &quot;ge(dateCreated,&#39;2013-01-18T19:30:00.000Z&#39;)&quot;; \r\n```","title":"Trying to select preceding zeros of a number present in a RQL query using regex","body":"<p>I'm trying to remove the preceding zeros of numbers present in below query</p>\n<pre><code>String query = &quot;or(contains(number,'04506'),contains(name,'04506'),contains(vendorInfo.name,'04506'),contains(vendorInfo.number,'04506'),contains(costCategories.name,'04506')&quot;;\n</code></pre>\n<p>I'm using below regex</p>\n<pre><code>query = query.replaceAll(&quot;\\\\b0+&quot;,&quot;&quot;); \n</code></pre>\n<p>Problem is, it also removes zero, if we provide a query with a timestamp to it, e.g.</p>\n<pre><code>query = &quot;ge(dateCreated,'2013-01-18T19:30:00.000Z')&quot;; \n</code></pre>\n"},{"tags":["java","gradle","directory","noclassdeffounderror"],"comments":[{"owner":{"account_id":5896458,"reputation":5083,"user_id":4641455,"display_name":"JFPicard"},"score":0,"creation_date":1453391533,"post_id":34928096,"comment_id":57589806,"body_markdown":"Possible duplicate of [Why am I getting a NoClassDefFoundError in Java?](http://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">Why am I getting a NoClassDefFoundError in Java?</a>"}],"answers":[{"comments":[{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1453392153,"post_id":34928184,"comment_id":57590257,"body_markdown":"Whenever I load this project in Intelij and try to create a Configuration to run it, it does not save the configuration? Do you know the reason for this?","body":"Whenever I load this project in Intelij and try to create a Configuration to run it, it does not save the configuration? Do you know the reason for this?"},{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1453392214,"post_id":34928184,"comment_id":57590303,"body_markdown":"More info: when I try to compile module I get &quot;Unable to make the module, related gradle configuration not found&quot; ?","body":"More info: when I try to compile module I get &quot;Unable to make the module, related gradle configuration not found&quot; ?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1453392280,"post_id":34928184,"comment_id":57590351,"body_markdown":"@java123999 Could you create another question for that? It is not related to this problem. But, first, make sure Gradle is properly configured in IntelliJ.","body":"@java123999 Could you create another question for that? It is not related to this problem. But, first, make sure Gradle is properly configured in IntelliJ."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1453391530,"creation_date":1453391317,"answer_id":34928184,"question_id":34928096,"body_markdown":"You should run the command (in Windows)\r\n\r\n    java my\\package\\HelloWorld\r\n\r\nfrom the directory `build/classes/main` and not from `build/classes/main/my/package`. This is because `HelloWorld` class declares that it resides in the package `my.package` with `package my.package;`.","title":"Java.lang.NoClassDefFoundError wrong name: how to solve this?","body":"<p>You should run the command (in Windows)</p>\n\n<pre><code>java my\\package\\HelloWorld\n</code></pre>\n\n<p>from the directory <code>build/classes/main</code> and not from <code>build/classes/main/my/package</code>. This is because <code>HelloWorld</code> class declares that it resides in the package <code>my.package</code> with <code>package my.package;</code>.</p>\n"},{"tags":[],"owner":{"account_id":27199933,"reputation":1,"user_id":20732317,"display_name":"Shlomo Alexander Perlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671019008,"creation_date":1670582188,"answer_id":74741912,"question_id":34928096,"body_markdown":"There are two ways to run from the same folder:\r\n\r\n- First way:\r\n  - delete the `package my.package` line\r\n  - compile your code with `javac HelloWorld.java`\r\n  - run your code with `java HelloWorld`\r\n\r\n- Second way: Run straight away \r\n  - `java -cp . HelloWorld.java`","title":"Java.lang.NoClassDefFoundError wrong name: how to solve this?","body":"<p>There are two ways to run from the same folder:</p>\n<ul>\n<li><p>First way:</p>\n<ul>\n<li>delete the <code>package my.package</code> line</li>\n<li>compile your code with <code>javac HelloWorld.java</code></li>\n<li>run your code with <code>java HelloWorld</code></li>\n</ul>\n</li>\n<li><p>Second way: Run straight away</p>\n<ul>\n<li><code>java -cp . HelloWorld.java</code></li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8067,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34928184,"answer_count":2,"score":2,"last_activity_date":1671019008,"creation_date":1453391124,"question_id":34928096,"body_markdown":"I have created a very simple `Java` application, and built it using `Gradle`.\r\n\r\nIt is an application with just the Standard &quot;Hello World&quot; Java class (shown below).\r\n\r\nI have built it with Gradle successfully and my `.class` file has been created at the standard folder location: \r\n\r\n`build&gt;classes&gt;main&gt;my&gt;package&gt;HelloWorld.class`\r\n\r\nHowever, when I navigate to this folder and run in `cmd line`:\r\n\r\n    java HelloWorld\r\n\r\nI get the following **error:**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: HelloWorld (wrong name: my/package/HelloWorld)\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n            at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n            at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n            at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n\r\n**My HelloWorld.java**\r\n\r\n    package my.package;\r\n     \r\n    public class HelloWorld {\r\n     \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World!&quot;);\r\n        }\r\n    }\r\n\r\nWhat is the cause of this error?","title":"Java.lang.NoClassDefFoundError wrong name: how to solve this?","body":"<p>I have created a very simple <code>Java</code> application, and built it using <code>Gradle</code>.</p>\n\n<p>It is an application with just the Standard \"Hello World\" Java class (shown below).</p>\n\n<p>I have built it with Gradle successfully and my <code>.class</code> file has been created at the standard folder location: </p>\n\n<p><code>build&gt;classes&gt;main&gt;my&gt;package&gt;HelloWorld.class</code></p>\n\n<p>However, when I navigate to this folder and run in <code>cmd line</code>:</p>\n\n<pre><code>java HelloWorld\n</code></pre>\n\n<p>I get the following <strong>error:</strong></p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: HelloWorld (wrong name: my/package/HelloWorld)\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n</code></pre>\n\n<p><strong>My HelloWorld.java</strong></p>\n\n<pre><code>package my.package;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n</code></pre>\n\n<p>What is the cause of this error?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671016412,"post_id":74797275,"comment_id":132004599,"body_markdown":"You can create a unique constraint in the `wallet` table, on the combined `userId` and `walletName` columns. If you try to add a duplicate wallet name for a given user, it&#39;ll throw an error.","body":"You can create a unique constraint in the <code>wallet</code> table, on the combined <code>userId</code> and <code>walletName</code> columns. If you try to add a duplicate wallet name for a given user, it&#39;ll throw an error."},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1671016551,"post_id":74797275,"comment_id":132004641,"body_markdown":"You are missing an additional check for id.\nfindByWalletNameAndId\nhttps://www.baeldung.com/spring-data-derived-queries#multiple-condition-expressions","body":"You are missing an additional check for id. findByWalletNameAndId <a href=\"https://www.baeldung.com/spring-data-derived-queries#multiple-condition-expressions\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1671016590,"post_id":74797275,"comment_id":132004649,"body_markdown":"Any resource for that? I thought to create a unique column but you said `on the combined userId and walletName columns` so its confusing me.","body":"Any resource for that? I thought to create a unique column but you said <code>on the combined userId and walletName columns</code> so its confusing me."},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1671016713,"post_id":74797275,"comment_id":132004685,"body_markdown":"https://www.baeldung.com/spring-data-derived-queries#multiple-condition-expressions","body":"<a href=\"https://www.baeldung.com/spring-data-derived-queries#multiple-condition-expressions\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1671018019,"post_id":74797531,"comment_id":132005143,"body_markdown":"Thanks, I tried, but its still creating new wallets with same name, anyway I updated my question","body":"Thanks, I tried, but its still creating new wallets with same name, anyway I updated my question"},{"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1671018655,"post_id":74797531,"comment_id":132005382,"body_markdown":"@StefanJankovic can you include the whole entities in your post?","body":"@StefanJankovic can you include the whole entities in your post?"},{"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1671019688,"post_id":74797531,"comment_id":132005737,"body_markdown":"I made it, thanks you too","body":"I made it, thanks you too"}],"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671017040,"creation_date":1671017040,"answer_id":74797531,"question_id":74797275,"body_markdown":"You need to include the `userId` in your query:\r\n```java\r\nfinal long userId = getUserId(); // get the currently authenticated user&#39;s id\r\nif (walletRepository.existsByUserIdAndWalletName(userId, walletRequest.getWalletName())) {\r\n    return ResponseEntity.badRequest()\r\n        .body(new MessageResponse(&quot;You already have wallet with that name, choose another!&quot;));\r\n}\r\n```","title":"How to check if one user have already column with same value","body":"<p>You need to include the <code>userId</code> in your query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final long userId = getUserId(); // get the currently authenticated user's id\nif (walletRepository.existsByUserIdAndWalletName(userId, walletRequest.getWalletName())) {\n    return ResponseEntity.badRequest()\n        .body(new MessageResponse(&quot;You already have wallet with that name, choose another!&quot;));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1671017995,"post_id":74797540,"comment_id":132005132,"body_markdown":"Thanks, I tried, btw I think I have problem with variables names, I updated my question with little more information","body":"Thanks, I tried, btw I think I have problem with variables names, I updated my question with little more information"}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671017405,"creation_date":1671017095,"answer_id":74797540,"question_id":74797275,"body_markdown":"    existsByUserIdAndWalletName(userId, walletName);\r\nor\r\n\r\n    findByUserIdAndWalletName(userId, walletName);\r\n\r\nIf id of the user and walletName is provided, it will check only for that user if it has that wallet name or not, and if in that situation returns something (true or result&gt;0), that will mean that for that specific user the wallet name is already taken.\r\n\r\nhttps://www.baeldung.com/spring-data-derived-queries#multiple-condition-expressions","title":"How to check if one user have already column with same value","body":"<pre><code>existsByUserIdAndWalletName(userId, walletName);\n</code></pre>\n<p>or</p>\n<pre><code>findByUserIdAndWalletName(userId, walletName);\n</code></pre>\n<p>If id of the user and walletName is provided, it will check only for that user if it has that wallet name or not, and if in that situation returns something (true or result&gt;0), that will mean that for that specific user the wallet name is already taken.</p>\n<p><a href=\"https://www.baeldung.com/spring-data-derived-queries#multiple-condition-expressions\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-derived-queries#multiple-condition-expressions</a></p>\n"}],"owner":{"account_id":26021002,"reputation":33,"user_id":19728708,"display_name":"Stefan Jankovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671018797,"creation_date":1671015934,"question_id":74797275,"body_markdown":"I have a two tables: `User` and `Wallet`\r\n\r\n`User` have: `id`\r\n`Wallet` have: `userId`, `walletName`\r\n\r\nNow, I want to avoid that so user cant have two wallets with same name.\r\n\r\nI create something but it applies to all users, so if user with `id 1` create a wallet with name `walletSaving` no-one can create wallet with that name, while I want to avoid that, I want to create something to check whether the user with `id 1` have already wallet with that name.\r\n\r\nSo far I have this:\r\n\r\n    if (walletRepository.existsByWalletName(walletRequest.getWalletName())) {\r\n            return ResponseEntity.badRequest().body(new MessageResponse(&quot;You already have wallet with that name, choose another!&quot;));\r\n        }\r\n    \r\nAfter some help I tried with something like this:\r\n\r\n      @PostMapping(&quot;/user/{user_id}/wallets&quot;)\r\n    public ResponseEntity&lt;?&gt; createWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id,\r\n                                          @RequestBody Wallet walletRequest, User user) {\r\n\r\n\r\n        if (walletRepository.existsByUserIdAndWalletName(user.getId(), walletRequest.getWalletName())) {\r\n            return ResponseEntity.badRequest()\r\n                    .body(new MessageResponse(&quot;You already have wallet with that name, choose another!&quot;));\r\n        }\r\n\r\nIts still creating wallets with same name.\r\n\r\nJust to provide more info.\r\n\r\n`User entity`\r\n\r\n        @Entity\r\n        @Table(name = &quot;users&quot;,\r\n           uniqueConstraints = {\r\n               @UniqueConstraint(columnNames = &quot;username&quot;),\r\n               @UniqueConstraint(columnNames = &quot;email&quot;)\r\n           })\r\n    public class User {\r\n      \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n    \r\n      @NotEmpty\r\n      @Size(min = 3, max = 20)\r\n      private String username;\r\n    \r\n      @NotEmpty\r\n      @Size(max = 50)\r\n      @Email\r\n      private String email;\r\n    \r\n      @NotEmpty\r\n      @Size(min = 6)\r\n      private String password;\r\n    \r\n      @NotEmpty(message = &quot;Please, insert a first name&quot;)\r\n      private String firstName;\r\n    \r\n      @NotEmpty(message = &quot;Please, insert a last name&quot;)\r\n      private String lastName;\r\n    \r\n      @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(name = &quot;user_roles&quot;, \r\n                 joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                 inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n      private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n      public User() {\r\n      }\r\n    \r\n      public User(String username, String email, String password, String firstName, String lastName) {\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n      }\r\n    \r\n      public Long getId() {\r\n        return id;\r\n      }\r\n    \r\n      public void setId(Long id) {\r\n        this.id = id;\r\n      }\r\n    \r\n      public String getUsername() {\r\n        return username;\r\n      }\r\n    \r\n      public void setUsername(String username) {\r\n        this.username = username;\r\n      }\r\n    \r\n      public String getEmail() {\r\n        return email;\r\n      }\r\n    \r\n      public void setEmail(String email) {\r\n        this.email = email;\r\n      }\r\n    \r\n      public String getPassword() {\r\n        return password;\r\n      }\r\n    \r\n      public void setPassword(String password) {\r\n        this.password = password;\r\n      }\r\n    \r\n      public String getFirstName() {\r\n        return firstName;\r\n      }\r\n    \r\n      public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n      }\r\n    \r\n      public String getLastName() {\r\n        return lastName;\r\n      }\r\n    \r\n      public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n      }\r\n    \r\n      public Set&lt;Role&gt; getRoles() {\r\n        return roles;\r\n      }\r\n    \r\n      public void setRoles(Set&lt;Role&gt; roles) {\r\n        this.roles = roles;\r\n      }\r\n    }\r\n\r\n`Wallet entity`\r\n\r\n        @Entity\r\n        @Table(name = &quot;wallet&quot;)\r\n        public class Wallet {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotEmpty(message = &quot;Please, insert a wallet name&quot;)\r\n        private String walletName;\r\n    \r\n        private double initialBalance;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        @JsonIgnore\r\n        private User user;\r\n    \r\n        public Wallet() {\r\n        }\r\n    \r\n        public Wallet(String walletName, double initialBalance) {\r\n            this.walletName = walletName;\r\n            this.initialBalance = initialBalance;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getWalletName() {\r\n            return walletName;\r\n        }\r\n    \r\n        public void setWalletName(String walletName) {\r\n            this.walletName = walletName;\r\n        }\r\n    \r\n        public double getInitialBalance() {\r\n            return initialBalance;\r\n        }\r\n    \r\n        public void setInitialBalance(double initialBalance) {\r\n            this.initialBalance = initialBalance;\r\n        }\r\n    \r\n        public User getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(User user) {\r\n            this.user = user;\r\n        }\r\n    }\r\n\r\n\r\n`Wallet Repository`\r\n\r\n    boolean existsByUserIdAndWalletName(Long userId, String walletName);\r\n\r\n\r\n\r\n","title":"How to check if one user have already column with same value","body":"<p>I have a two tables: <code>User</code> and <code>Wallet</code></p>\n<p><code>User</code> have: <code>id</code>\n<code>Wallet</code> have: <code>userId</code>, <code>walletName</code></p>\n<p>Now, I want to avoid that so user cant have two wallets with same name.</p>\n<p>I create something but it applies to all users, so if user with <code>id 1</code> create a wallet with name <code>walletSaving</code> no-one can create wallet with that name, while I want to avoid that, I want to create something to check whether the user with <code>id 1</code> have already wallet with that name.</p>\n<p>So far I have this:</p>\n<pre><code>if (walletRepository.existsByWalletName(walletRequest.getWalletName())) {\n        return ResponseEntity.badRequest().body(new MessageResponse(&quot;You already have wallet with that name, choose another!&quot;));\n    }\n</code></pre>\n<p>After some help I tried with something like this:</p>\n<pre><code>  @PostMapping(&quot;/user/{user_id}/wallets&quot;)\npublic ResponseEntity&lt;?&gt; createWallet(@PathVariable(value = &quot;user_id&quot;) Long user_id,\n                                      @RequestBody Wallet walletRequest, User user) {\n\n\n    if (walletRepository.existsByUserIdAndWalletName(user.getId(), walletRequest.getWalletName())) {\n        return ResponseEntity.badRequest()\n                .body(new MessageResponse(&quot;You already have wallet with that name, choose another!&quot;));\n    }\n</code></pre>\n<p>Its still creating wallets with same name.</p>\n<p>Just to provide more info.</p>\n<p><code>User entity</code></p>\n<pre><code>    @Entity\n    @Table(name = &quot;users&quot;,\n       uniqueConstraints = {\n           @UniqueConstraint(columnNames = &quot;username&quot;),\n           @UniqueConstraint(columnNames = &quot;email&quot;)\n       })\npublic class User {\n  \n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @NotEmpty\n  @Size(min = 3, max = 20)\n  private String username;\n\n  @NotEmpty\n  @Size(max = 50)\n  @Email\n  private String email;\n\n  @NotEmpty\n  @Size(min = 6)\n  private String password;\n\n  @NotEmpty(message = &quot;Please, insert a first name&quot;)\n  private String firstName;\n\n  @NotEmpty(message = &quot;Please, insert a last name&quot;)\n  private String lastName;\n\n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(name = &quot;user_roles&quot;, \n             joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n             inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n  private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n  public User() {\n  }\n\n  public User(String username, String email, String password, String firstName, String lastName) {\n    this.username = username;\n    this.email = email;\n    this.password = password;\n    this.firstName = firstName;\n    this.lastName = lastName;\n  }\n\n  public Long getId() {\n    return id;\n  }\n\n  public void setId(Long id) {\n    this.id = id;\n  }\n\n  public String getUsername() {\n    return username;\n  }\n\n  public void setUsername(String username) {\n    this.username = username;\n  }\n\n  public String getEmail() {\n    return email;\n  }\n\n  public void setEmail(String email) {\n    this.email = email;\n  }\n\n  public String getPassword() {\n    return password;\n  }\n\n  public void setPassword(String password) {\n    this.password = password;\n  }\n\n  public String getFirstName() {\n    return firstName;\n  }\n\n  public void setFirstName(String firstName) {\n    this.firstName = firstName;\n  }\n\n  public String getLastName() {\n    return lastName;\n  }\n\n  public void setLastName(String lastName) {\n    this.lastName = lastName;\n  }\n\n  public Set&lt;Role&gt; getRoles() {\n    return roles;\n  }\n\n  public void setRoles(Set&lt;Role&gt; roles) {\n    this.roles = roles;\n  }\n}\n</code></pre>\n<p><code>Wallet entity</code></p>\n<pre><code>    @Entity\n    @Table(name = &quot;wallet&quot;)\n    public class Wallet {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotEmpty(message = &quot;Please, insert a wallet name&quot;)\n    private String walletName;\n\n    private double initialBalance;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JsonIgnore\n    private User user;\n\n    public Wallet() {\n    }\n\n    public Wallet(String walletName, double initialBalance) {\n        this.walletName = walletName;\n        this.initialBalance = initialBalance;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getWalletName() {\n        return walletName;\n    }\n\n    public void setWalletName(String walletName) {\n        this.walletName = walletName;\n    }\n\n    public double getInitialBalance() {\n        return initialBalance;\n    }\n\n    public void setInitialBalance(double initialBalance) {\n        this.initialBalance = initialBalance;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n}\n</code></pre>\n<p><code>Wallet Repository</code></p>\n<pre><code>boolean existsByUserIdAndWalletName(Long userId, String walletName);\n</code></pre>\n"},{"tags":["java","caching","project-reactor","reactive","spring-mongodb"],"owner":{"account_id":20758614,"reputation":11,"user_id":15255478,"display_name":"Question_283"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671018603,"creation_date":1671018603,"question_id":74797846,"body_markdown":"My situation is:\r\n\r\n```\r\nclass Obj {\r\n  final List&lt;?&gt; section1;\r\n  final List&lt;?&gt; section2;\r\n}\r\n\r\nprivate final ReactiveRepo repository;\r\nprivate final AsyncLoadingCache&lt;UUID, Obj&gt; cache;\r\n\r\n...\r\ncache = Caffeine.newBuilder()\r\n        .expireAfterAccess(Duration.ofMinutes(15))\r\n        .&lt;UUID, Obj&gt;removalListener((uniqueId, obj, cause) -&gt; {\r\n          if (Obj!= null) {\r\n            repository.save(obj)\r\n                .timeout(Duration.ofSeconds(30))\r\n                .subscribe();\r\n          }\r\n        })\r\n        .buildAsync((uniqueId, executor) -&gt;\r\n            repository.findById(uniqueId)\r\n                .switchIfEmpty(\r\n                    Mono.just(\r\n                        ...\r\n                    ))\r\n                .toFuture()\r\n        );\r\n```\r\n\r\nSo, when REST API requests smth, I use the values from the cache and synchronized(required section). However, what is the probability that changes may occur with #save and my object will be saved incorrectly? How can I prevent this? \r\n\r\nDoes the ReactiveMongoRepository#save method make a separate copy of the object?\r\n\r\nAre there ways to do better caching in a reactive programming environment?","title":"Spring Reactive MongoDB and caching","body":"<p>My situation is:</p>\n<pre><code>class Obj {\n  final List&lt;?&gt; section1;\n  final List&lt;?&gt; section2;\n}\n\nprivate final ReactiveRepo repository;\nprivate final AsyncLoadingCache&lt;UUID, Obj&gt; cache;\n\n...\ncache = Caffeine.newBuilder()\n        .expireAfterAccess(Duration.ofMinutes(15))\n        .&lt;UUID, Obj&gt;removalListener((uniqueId, obj, cause) -&gt; {\n          if (Obj!= null) {\n            repository.save(obj)\n                .timeout(Duration.ofSeconds(30))\n                .subscribe();\n          }\n        })\n        .buildAsync((uniqueId, executor) -&gt;\n            repository.findById(uniqueId)\n                .switchIfEmpty(\n                    Mono.just(\n                        ...\n                    ))\n                .toFuture()\n        );\n</code></pre>\n<p>So, when REST API requests smth, I use the values from the cache and synchronized(required section). However, what is the probability that changes may occur with #save and my object will be saved incorrectly? How can I prevent this?</p>\n<p>Does the ReactiveMongoRepository#save method make a separate copy of the object?</p>\n<p>Are there ways to do better caching in a reactive programming environment?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","endpoint"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1670916024,"post_id":74781101,"comment_id":131977503,"body_markdown":"What is the problem?","body":"What is the problem?"},{"owner":{"account_id":16245506,"reputation":11,"user_id":11930270,"display_name":"Christian jire"},"score":0,"creation_date":1670916191,"post_id":74781101,"comment_id":131977542,"body_markdown":"I&#39;m not sure on how to group the leads by the day created","body":"I&#39;m not sure on how to group the leads by the day created"},{"owner":{"account_id":16245506,"reputation":11,"user_id":11930270,"display_name":"Christian jire"},"score":0,"creation_date":1670916233,"post_id":74781101,"comment_id":131977548,"body_markdown":"so far i have grouped them by their status","body":"so far i have grouped them by their status"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1670917465,"post_id":74781101,"comment_id":131977841,"body_markdown":"https://stackoverflow.com/questions/13647422/check-if-the-calendar-date-is-a-sunday\n\nYou can use this link to do the **days of the week created** base comparison. PS: In the status-based comparison will there be a need to check other statuses if the status matches with any one of the expected statuses (eg; `UNQUALIFIED_OPEN`) ? If not you can go with `if and else if`.","body":"<a href=\"https://stackoverflow.com/questions/13647422/check-if-the-calendar-date-is-a-sunday\" title=\"check if the calendar date is a sunday\">stackoverflow.com/questions/13647422/&hellip;</a>  You can use this link to do the <b>days of the week created</b> base comparison. PS: In the status-based comparison will there be a need to check other statuses if the status matches with any one of the expected statuses (eg; <code>UNQUALIFIED_OPEN</code>) ? If not you can go with <code>if and else if</code>."},{"owner":{"account_id":16245506,"reputation":11,"user_id":11930270,"display_name":"Christian jire"},"score":0,"creation_date":1670921533,"post_id":74781101,"comment_id":131978965,"body_markdown":"yes there is a need to check other statuses so as to group the leads according to which status they are currently in","body":"yes there is a need to check other statuses so as to group the leads according to which status they are currently in"},{"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1672321612,"post_id":74781101,"comment_id":132266909,"body_markdown":"@Christianjire did you check my answer?","body":"@Christianjire did you check my answer?"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671018584,"creation_date":1671018584,"answer_id":74797837,"question_id":74781101,"body_markdown":"Check out the sample project I created for testing:\r\n```java\r\n public static void main(String[] args) {\r\n        final List&lt;Lead&gt; leads = Arrays.stream(Status.values()).flatMap(status -&gt;\r\n                        IntStream.range(0, 10)\r\n                                .mapToObj(i -&gt; new Lead(status, LocalDate.now().minusDays(RandomUtils.nextInt(0, 7)))))\r\n                .toList();\r\n\r\n        final Map&lt;Status, Map&lt;LocalDate, Long&gt;&gt; groupedByStatusAndDate =\r\n                leads.stream().collect(\r\n                        Collectors.groupingBy(Lead::getStatus,\r\n                                Collectors.groupingBy(Lead::getDate, Collectors.counting())));\r\n\r\n        groupedByStatusAndDate.forEach((status, map) -&gt; {\r\n            System.out.println(&quot;-- &quot; + status + &quot; --&quot;);\r\n            map.forEach((date, count) -&gt; System.out.println(date + &quot;: &quot; + count));\r\n        });\r\n    }\r\n\r\n    public static class Lead {\r\n\r\n       private final Status status;\r\n       private final LocalDate date;\r\n\r\n        public Lead(Status status, LocalDate date) {\r\n            this.status = status;\r\n            this.date = date;\r\n        }\r\n\r\n        public Status getStatus() {\r\n            return status;\r\n        }\r\n\r\n        public LocalDate getDate() {\r\n            return date;\r\n        }\r\n\r\n    }\r\n\r\n    public enum Status {\r\n        UNQUALIFIED_CLOSED,\r\n        UNQUALIFIED_OPEN,\r\n        NEW,\r\n        CLOSED,\r\n        REJECT,\r\n        APPROVED,\r\n        OPEN\r\n    }\r\n```\r\n\r\nIt outputs the following:\r\n```\r\n-- REJECT --\r\n2022-12-14: 3\r\n2022-12-12: 2\r\n2022-12-11: 2\r\n2022-12-09: 1\r\n2022-12-08: 2\r\n\r\n-- UNQUALIFIED_OPEN --\r\n2022-12-14: 2\r\n2022-12-12: 1\r\n2022-12-11: 2\r\n2022-12-10: 1\r\n2022-12-09: 2\r\n2022-12-08: 2\r\n\r\n-- CLOSED --\r\n2022-12-14: 2\r\n2022-12-13: 1\r\n2022-12-12: 1\r\n2022-12-11: 1\r\n2022-12-10: 2\r\n2022-12-09: 2\r\n2022-12-08: 1\r\n\r\n-- UNQUALIFIED_CLOSED --\r\n2022-12-13: 3\r\n2022-12-12: 2\r\n2022-12-10: 2\r\n2022-12-09: 3\r\n\r\n-- NEW --\r\n2022-12-14: 2\r\n2022-12-13: 3\r\n2022-12-12: 1\r\n2022-12-11: 1\r\n2022-12-10: 2\r\n2022-12-08: 1\r\n\r\n-- OPEN --\r\n2022-12-13: 2\r\n2022-12-12: 1\r\n2022-12-11: 3\r\n2022-12-10: 1\r\n2022-12-09: 2\r\n2022-12-08: 1\r\n\r\n-- APPROVED --\r\n2022-12-14: 1\r\n2022-12-13: 1\r\n2022-12-12: 2\r\n2022-12-11: 1\r\n2022-12-10: 2\r\n2022-12-09: 1\r\n2022-12-08: 2\r\n```\r\n\r\nMaybe a good read for you: [Baeldung guide to `groupingBy`][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-groupingby-collector","title":"i&#39;m trying to group the leads created by their status and group them by the days of the week created from Monday to Saturday using spring boot","body":"<p>Check out the sample project I created for testing:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public static void main(String[] args) {\n        final List&lt;Lead&gt; leads = Arrays.stream(Status.values()).flatMap(status -&gt;\n                        IntStream.range(0, 10)\n                                .mapToObj(i -&gt; new Lead(status, LocalDate.now().minusDays(RandomUtils.nextInt(0, 7)))))\n                .toList();\n\n        final Map&lt;Status, Map&lt;LocalDate, Long&gt;&gt; groupedByStatusAndDate =\n                leads.stream().collect(\n                        Collectors.groupingBy(Lead::getStatus,\n                                Collectors.groupingBy(Lead::getDate, Collectors.counting())));\n\n        groupedByStatusAndDate.forEach((status, map) -&gt; {\n            System.out.println(&quot;-- &quot; + status + &quot; --&quot;);\n            map.forEach((date, count) -&gt; System.out.println(date + &quot;: &quot; + count));\n        });\n    }\n\n    public static class Lead {\n\n       private final Status status;\n       private final LocalDate date;\n\n        public Lead(Status status, LocalDate date) {\n            this.status = status;\n            this.date = date;\n        }\n\n        public Status getStatus() {\n            return status;\n        }\n\n        public LocalDate getDate() {\n            return date;\n        }\n\n    }\n\n    public enum Status {\n        UNQUALIFIED_CLOSED,\n        UNQUALIFIED_OPEN,\n        NEW,\n        CLOSED,\n        REJECT,\n        APPROVED,\n        OPEN\n    }\n</code></pre>\n<p>It outputs the following:</p>\n<pre><code>-- REJECT --\n2022-12-14: 3\n2022-12-12: 2\n2022-12-11: 2\n2022-12-09: 1\n2022-12-08: 2\n\n-- UNQUALIFIED_OPEN --\n2022-12-14: 2\n2022-12-12: 1\n2022-12-11: 2\n2022-12-10: 1\n2022-12-09: 2\n2022-12-08: 2\n\n-- CLOSED --\n2022-12-14: 2\n2022-12-13: 1\n2022-12-12: 1\n2022-12-11: 1\n2022-12-10: 2\n2022-12-09: 2\n2022-12-08: 1\n\n-- UNQUALIFIED_CLOSED --\n2022-12-13: 3\n2022-12-12: 2\n2022-12-10: 2\n2022-12-09: 3\n\n-- NEW --\n2022-12-14: 2\n2022-12-13: 3\n2022-12-12: 1\n2022-12-11: 1\n2022-12-10: 2\n2022-12-08: 1\n\n-- OPEN --\n2022-12-13: 2\n2022-12-12: 1\n2022-12-11: 3\n2022-12-10: 1\n2022-12-09: 2\n2022-12-08: 1\n\n-- APPROVED --\n2022-12-14: 1\n2022-12-13: 1\n2022-12-12: 2\n2022-12-11: 1\n2022-12-10: 2\n2022-12-09: 1\n2022-12-08: 2\n</code></pre>\n<p>Maybe a good read for you: <a href=\"https://www.baeldung.com/java-groupingby-collector\" rel=\"nofollow noreferrer\">Baeldung guide to <code>groupingBy</code></a></p>\n"}],"owner":{"account_id":16245506,"reputation":11,"user_id":11930270,"display_name":"Christian jire"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671018584,"creation_date":1670915291,"question_id":74781101,"body_markdown":"I&#39;m supposed to get the leads created from Microsoft SQL server database by their status and the day they are created to display the information on a graph that summarizes the leads created from Monday to Saturday. below is the my code and a screenshot of the graph I&#39;m using to display the data\r\n\r\n    @Override\r\n    public Response&lt;Map&lt;String, Collection&lt;LeadsDashboard&gt;&gt;getLeadsDashboards(){\r\n    \tResponse&lt;Map&lt;String, Collection&lt;LeadsDashboard&gt;&gt;response = new Response&lt;&gt;();\r\n    \r\n        User user = userRepository.getById(auditorAware.getCurrentAuditor().get().getId());\r\n        List&lt;Leadleads = leadRepository.findAll(user.getCompany().getId());\r\n        Collection&lt;LeadsDashboardunqualifiedClosed = new ArrayList&lt;&gt;();\r\n        int[] unqualifiedClosedi = new int[6];\r\n        AtomicInteger counter = new AtomicInteger();\r\n        Collection&lt;LeadsDashboardunqualifiedOpen = new ArrayList&lt;&gt;();\r\n        int[] unqualifiedOpeni = new int[6];\r\n        AtomicInteger counter2 = new AtomicInteger();\r\n        Collection&lt;LeadsDashboardnewLeads = new ArrayList&lt;&gt;();\r\n        int[] newLeadsi = new int[6];\r\n        AtomicInteger counter3 = new AtomicInteger();\r\n        Collection&lt;LeadsDashboardclosedLeads = new ArrayList&lt;&gt;();\r\n        int[] closedLeadi = new int[6];\r\n        AtomicInteger counter4 = new AtomicInteger();\r\n        Collection&lt;LeadsDashboardrejectedLeads = new ArrayList&lt;&gt;();\r\n        int[] rejectedLeadsi = new int[6];\r\n        AtomicInteger counter5 = new AtomicInteger();\r\n        Collection&lt;LeadsDashboardapprovedLeads = new ArrayList&lt;&gt;();\r\n        int[] approvedLeadsi = new int[6];\r\n        AtomicInteger counter6 = new AtomicInteger();\r\n        Collection&lt;LeadsDashboardopenLeads = new ArrayList&lt;&gt;();\r\n        int[] openLeadsi = new int[6];\r\n        AtomicInteger counter7 = new AtomicInteger();\r\n        \r\n        leads.forEach(lead -&gt;{\r\n            LeadsDashboard leadsDashboard = new LeadsDashboard();\r\n            leadsDashboard.setStatus(lead.getStatus());\r\n            if(lead.getStatus().equals(Statuses.UNQUALIFIED_CLOSED.getStatus())){\r\n                // leadsDashboard.setCount(unqualifiedClosed.size() + 1);\r\n                unqualifiedClosedi[counter.getAndIncrement()] = unqualifiedClosedi[counter.get()] + 1;\r\n                leadsDashboard.setCount(unqualifiedClosedi);\r\n                unqualifiedClosed.add(leadsDashboard);\r\n            }\r\n            if(lead.getStatus().equals(Statuses.UNQUALIFIED_OPEN.getStatus())){\r\n\t\t\t\t// leadsDashboard.setCount(unqualifiedOpen.size() + 1);\r\n                unqualifiedOpeni[counter2.getAndIncrement()] = unqualifiedOpeni[counter2.get()] + 1;\r\n                leadsDashboard.setCount(unqualifiedOpeni);\r\n                unqualifiedOpen.add(leadsDashboard);\r\n            }\r\n            if(lead.getStatus().equals(Statuses.NEW.getStatus())){\r\n\t\t\t\t// leadsDashboard.setCount(newLeads.size() + 1);\r\n                newLeadsi[counter3.getAndIncrement()] = newLeadsi[counter3.get()] + 1;\r\n                leadsDashboard.setCount(newLeadsi);\r\n                newLeads.add(leadsDashboard);\r\n            }\r\n            if(lead.getStatus().equals(Statuses.CLOSED.getStatus())){\r\n\t\t\t\t// leadsDashboard.setCount(closedLeads.size() + 1);\r\n                closedLeadi[counter4.getAndIncrement()] = closedLeadi[counter2.get()] + 1;\r\n                leadsDashboard.setCount(closedLeadi);\r\n                closedLeads.add(leadsDashboard);\r\n            }\r\n            if(lead.getStatus().equals(Statuses.REJECT.getStatus())){\r\n\t\t\t\t//  leadsDashboard.setCount(rejectedLeads.size() + 1);\r\n                rejectedLeadsi[counter5.getAndIncrement()] = rejectedLeadsi[counter5.get()] + 1;\r\n                leadsDashboard.setCount(rejectedLeadsi);\r\n                rejectedLeads.add(leadsDashboard);\r\n            }\r\n            if(lead.getStatus().equals(Statuses.APPROVED.getStatus())){\r\n\t\t\t\t//  leadsDashboard.setCount(approvedLeads.size() + 1);\r\n                approvedLeadsi[counter6.getAndIncrement()] = approvedLeadsi[counter6.get()] + 1;\r\n                leadsDashboard.setCount(approvedLeadsi);\r\n                approvedLeads.add(leadsDashboard);\r\n            }\r\n            if(lead.getStatus().equals(Statuses.OPEN.getStatus())){\r\n\t\t\t\t//  leadsDashboard.setCount(qualifiedLeads.size() + 1);\r\n                openLeadsi[counter7.getAndIncrement()] = openLeadsi[counter7.get()] + 1;\r\n                leadsDashboard.setCount(openLeadsi);\r\n                openLeads.add(leadsDashboard);\r\n            }\r\n        });\r\n\r\n        Map&lt;String, Collection&lt;LeadsDashboard&gt;resMap = new HashMap&lt;&gt;();\r\n        resMap.put(&quot;approvedLeads&quot;, approvedLeads);\r\n        resMap.put(&quot;rejectedLeads&quot;, rejectedLeads);\r\n        resMap.put(&quot;closedLeads&quot;, closedLeads);\r\n        resMap.put(&quot;newLeads&quot;, newLeads);\r\n        resMap.put(&quot;openLeads&quot;, openLeads);\r\n        resMap.put(&quot;unqualifiedOpen&quot;, unqualifiedOpen);\r\n        resMap.put(&quot;unqualifiedClose&quot;, unqualifiedClosed);\r\n\r\n        response.setBody(resMap);\r\n\r\n        return response;\r\n    }\r\n\r\n[graph that is supposed to display the leads created weekly](https://i.stack.imgur.com/HFezb.jpg)","title":"i&#39;m trying to group the leads created by their status and group them by the days of the week created from Monday to Saturday using spring boot","body":"<p>I'm supposed to get the leads created from Microsoft SQL server database by their status and the day they are created to display the information on a graph that summarizes the leads created from Monday to Saturday. below is the my code and a screenshot of the graph I'm using to display the data</p>\n<pre><code>@Override\npublic Response&lt;Map&lt;String, Collection&lt;LeadsDashboard&gt;&gt;getLeadsDashboards(){\n    Response&lt;Map&lt;String, Collection&lt;LeadsDashboard&gt;&gt;response = new Response&lt;&gt;();\n\n    User user = userRepository.getById(auditorAware.getCurrentAuditor().get().getId());\n    List&lt;Leadleads = leadRepository.findAll(user.getCompany().getId());\n    Collection&lt;LeadsDashboardunqualifiedClosed = new ArrayList&lt;&gt;();\n    int[] unqualifiedClosedi = new int[6];\n    AtomicInteger counter = new AtomicInteger();\n    Collection&lt;LeadsDashboardunqualifiedOpen = new ArrayList&lt;&gt;();\n    int[] unqualifiedOpeni = new int[6];\n    AtomicInteger counter2 = new AtomicInteger();\n    Collection&lt;LeadsDashboardnewLeads = new ArrayList&lt;&gt;();\n    int[] newLeadsi = new int[6];\n    AtomicInteger counter3 = new AtomicInteger();\n    Collection&lt;LeadsDashboardclosedLeads = new ArrayList&lt;&gt;();\n    int[] closedLeadi = new int[6];\n    AtomicInteger counter4 = new AtomicInteger();\n    Collection&lt;LeadsDashboardrejectedLeads = new ArrayList&lt;&gt;();\n    int[] rejectedLeadsi = new int[6];\n    AtomicInteger counter5 = new AtomicInteger();\n    Collection&lt;LeadsDashboardapprovedLeads = new ArrayList&lt;&gt;();\n    int[] approvedLeadsi = new int[6];\n    AtomicInteger counter6 = new AtomicInteger();\n    Collection&lt;LeadsDashboardopenLeads = new ArrayList&lt;&gt;();\n    int[] openLeadsi = new int[6];\n    AtomicInteger counter7 = new AtomicInteger();\n    \n    leads.forEach(lead -&gt;{\n        LeadsDashboard leadsDashboard = new LeadsDashboard();\n        leadsDashboard.setStatus(lead.getStatus());\n        if(lead.getStatus().equals(Statuses.UNQUALIFIED_CLOSED.getStatus())){\n            // leadsDashboard.setCount(unqualifiedClosed.size() + 1);\n            unqualifiedClosedi[counter.getAndIncrement()] = unqualifiedClosedi[counter.get()] + 1;\n            leadsDashboard.setCount(unqualifiedClosedi);\n            unqualifiedClosed.add(leadsDashboard);\n        }\n        if(lead.getStatus().equals(Statuses.UNQUALIFIED_OPEN.getStatus())){\n            // leadsDashboard.setCount(unqualifiedOpen.size() + 1);\n            unqualifiedOpeni[counter2.getAndIncrement()] = unqualifiedOpeni[counter2.get()] + 1;\n            leadsDashboard.setCount(unqualifiedOpeni);\n            unqualifiedOpen.add(leadsDashboard);\n        }\n        if(lead.getStatus().equals(Statuses.NEW.getStatus())){\n            // leadsDashboard.setCount(newLeads.size() + 1);\n            newLeadsi[counter3.getAndIncrement()] = newLeadsi[counter3.get()] + 1;\n            leadsDashboard.setCount(newLeadsi);\n            newLeads.add(leadsDashboard);\n        }\n        if(lead.getStatus().equals(Statuses.CLOSED.getStatus())){\n            // leadsDashboard.setCount(closedLeads.size() + 1);\n            closedLeadi[counter4.getAndIncrement()] = closedLeadi[counter2.get()] + 1;\n            leadsDashboard.setCount(closedLeadi);\n            closedLeads.add(leadsDashboard);\n        }\n        if(lead.getStatus().equals(Statuses.REJECT.getStatus())){\n            //  leadsDashboard.setCount(rejectedLeads.size() + 1);\n            rejectedLeadsi[counter5.getAndIncrement()] = rejectedLeadsi[counter5.get()] + 1;\n            leadsDashboard.setCount(rejectedLeadsi);\n            rejectedLeads.add(leadsDashboard);\n        }\n        if(lead.getStatus().equals(Statuses.APPROVED.getStatus())){\n            //  leadsDashboard.setCount(approvedLeads.size() + 1);\n            approvedLeadsi[counter6.getAndIncrement()] = approvedLeadsi[counter6.get()] + 1;\n            leadsDashboard.setCount(approvedLeadsi);\n            approvedLeads.add(leadsDashboard);\n        }\n        if(lead.getStatus().equals(Statuses.OPEN.getStatus())){\n            //  leadsDashboard.setCount(qualifiedLeads.size() + 1);\n            openLeadsi[counter7.getAndIncrement()] = openLeadsi[counter7.get()] + 1;\n            leadsDashboard.setCount(openLeadsi);\n            openLeads.add(leadsDashboard);\n        }\n    });\n\n    Map&lt;String, Collection&lt;LeadsDashboard&gt;resMap = new HashMap&lt;&gt;();\n    resMap.put(&quot;approvedLeads&quot;, approvedLeads);\n    resMap.put(&quot;rejectedLeads&quot;, rejectedLeads);\n    resMap.put(&quot;closedLeads&quot;, closedLeads);\n    resMap.put(&quot;newLeads&quot;, newLeads);\n    resMap.put(&quot;openLeads&quot;, openLeads);\n    resMap.put(&quot;unqualifiedOpen&quot;, unqualifiedOpen);\n    resMap.put(&quot;unqualifiedClose&quot;, unqualifiedClosed);\n\n    response.setBody(resMap);\n\n    return response;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HFezb.jpg\" rel=\"nofollow noreferrer\">graph that is supposed to display the leads created weekly</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1671018673,"post_id":74797830,"comment_id":132005390,"body_markdown":"You forgot to include your attempt at solving this problem.","body":"You forgot to include your attempt at solving this problem."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671028001,"post_id":74797830,"comment_id":132008853,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27250402,"reputation":1,"user_id":20774975,"display_name":"Abinash SK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671018555,"creation_date":1671018555,"question_id":74797830,"body_markdown":"I am creating an app for office purpose and I want to store the latitude and longitude into a file.\r\nSo for the user i have implemented &quot;Navigation Drawer Activity&quot; in the navigation drawer activity home fragment is present in that home fragment I have a toggle button which act as &quot;Check-In&quot; and &quot;Check-Out&quot; Button. \r\nIf the user press the check-out toggle button there should be a text file create in device or in firebase database which contain the latitude and longitude.\r\n\r\nThe problem is I cant able to create text file in fragment.\r\nplease give me some solution.\r\n\r\nI am expecting to create a file in fragment or in firebase database.","title":"How to create Text File from fragment using toggle button","body":"<p>I am creating an app for office purpose and I want to store the latitude and longitude into a file.\nSo for the user i have implemented &quot;Navigation Drawer Activity&quot; in the navigation drawer activity home fragment is present in that home fragment I have a toggle button which act as &quot;Check-In&quot; and &quot;Check-Out&quot; Button.\nIf the user press the check-out toggle button there should be a text file create in device or in firebase database which contain the latitude and longitude.</p>\n<p>The problem is I cant able to create text file in fragment.\nplease give me some solution.</p>\n<p>I am expecting to create a file in fragment or in firebase database.</p>\n"},{"tags":["java","utf-8","character-encoding","thymeleaf"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":1,"creation_date":1670366054,"post_id":74709361,"comment_id":131859383,"body_markdown":"Not sure this will work or not, but have you tried changing your `TemplateMode` to be xml?  `resolver.setTemplateMode(TemplateMode. XML);` or `resolver.setTemplateMode(TemplateMode. VALIDXML);`","body":"Not sure this will work or not, but have you tried changing your <code>TemplateMode</code> to be xml?  <code>resolver.setTemplateMode(TemplateMode. XML);</code> or <code>resolver.setTemplateMode(TemplateMode. VALIDXML);</code>"},{"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"score":0,"creation_date":1670366288,"post_id":74709361,"comment_id":131859448,"body_markdown":"Thank you, Yes, I tried...  it doesn&#39;t matter.","body":"Thank you, Yes, I tried...  it doesn&#39;t matter."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1670381977,"post_id":74709361,"comment_id":131862083,"body_markdown":"Not an answer - just an observation: The XML at the start of the question is not valid. There is a non-breaking space in the prolog here: `&lt;?xml&#160;version`. I don&#39;t think that has anything to do with the problem, though. (I noticed when I validated the XML, copy-pasted from the question.) If there is one NBSP, there may be more.","body":"Not an answer - just an observation: The XML at the start of the question is not valid. There is a non-breaking space in the prolog here: <code>&lt;?xml version</code>. I don&#39;t think that has anything to do with the problem, though. (I noticed when I validated the XML, copy-pasted from the question.) If there is one NBSP, there may be more."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":1,"creation_date":1670889814,"post_id":74709361,"comment_id":131973718,"body_markdown":"I mean, that output is valid and correct XML (if you view the file in something that parses the xml like a browers or whatever), but I do agree that it&#39;s weird to encode everything like that if it doesn&#39;t have to.  Does whatever you are using the read the output not work with those encoded characters?","body":"I mean, that output is valid and correct XML (if you view the file in something that parses the xml like a browers or whatever), but I do agree that it&#39;s weird to encode everything like that if it doesn&#39;t have to.  Does whatever you are using the read the output not work with those encoded characters?"}],"answers":[{"comments":[{"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"score":0,"creation_date":1670963897,"post_id":74774294,"comment_id":131993694,"body_markdown":"this is thymeleaf  in Java not Spring boot    so \n\nThe method setContentType(String) is undefined for the type ClassLoaderTemplateResolver\n\nsetCharacterEncoding(&quot;UTF-8&quot;);  - already there.","body":"this is thymeleaf  in Java not Spring boot    so   The method setContentType(String) is undefined for the type ClassLoaderTemplateResolver  setCharacterEncoding(&quot;UTF-8&quot;);  - already there."},{"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"score":0,"creation_date":1671018506,"post_id":74774294,"comment_id":132005335,"body_markdown":"you&#39;re right, the answer is corrected","body":"you&#39;re right, the answer is corrected"}],"tags":[],"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671018472,"creation_date":1670862761,"answer_id":74774294,"question_id":74709361,"body_markdown":"add this:\r\n\r\n    resolver.setForceTemplateMode(true);\r\n\r\nnote: there is a feature named `smart template mode resolution based on template resource name` and it is active by default","title":"thymeleaf UTF8 xml bug?","body":"<p>add this:</p>\n<pre><code>resolver.setForceTemplateMode(true);\n</code></pre>\n<p>note: there is a feature named <code>smart template mode resolution based on template resource name</code> and it is active by default</p>\n"},{"comments":[{"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"score":0,"creation_date":1671025776,"post_id":74792219,"comment_id":132007956,"body_markdown":"setForceTemplateMode    --- bingo!","body":"setForceTemplateMode    --- bingo!"}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671014227,"creation_date":1670976013,"answer_id":74792219,"question_id":74709361,"body_markdown":"It is not a bug, but the programmed behavior.\r\n\r\nThe [`setTemplateMode` documentation](https://www.thymeleaf.org/apidocs/thymeleaf/3.1.0.RELEASE/org/thymeleaf/templateresolver/AbstractConfigurableTemplateResolver.html#setTemplateMode(org.thymeleaf.templatemode.TemplateMode)) indicates:\r\n\r\n&gt; Sets the template mode to be applied to templates resolved by this \r\n&gt; resolver.\r\n&gt;\r\n&gt; If template mode patterns (see `setHtmlTemplateModePatterns(Set)`, \r\n&gt; `setXmlTemplateModePatterns(Set)`, etc.) are also set, they have higher \r\n&gt; priority than the template mode set here (this would act as a default).\r\n&gt;\r\n&gt; Note that this template mode also may not be applied if the template \r\n&gt; resource name ends in a known file name suffix: `.html, .htm, .xhtml, .xml, \r\n&gt; .js, .json, .css, .rss, .atom, .txt`. If this behaviour needs to be \r\n&gt; overridden so that template name is always applied, the \r\n&gt; `setForceTemplateMode(boolean)` will need to be set.\r\n\r\nNote the note that indicates that for a well known file name suffix the template mode will be overwritten. That explains the behavior you are facing: when you use `test_template.xml` Thymeleaf will no longer use `TemplateMode.TEXT` as configured but `TemplateMode.XML` instead, and the text will be then [escaped](https://github.com/thymeleaf/thymeleaf/blob/39b945b881ffed403ddf37f2c2d022db5b1d2724/lib/thymeleaf/src/main/java/org/thymeleaf/standard/processor/StandardTextTagProcessor.java#L113-L131).\r\n\r\nAs advised in the aforementioned javadoc, you can force Thymeleaf to obbey the configured `TemplateMode` and your desired behavior using [`setForceTemplateMode`](https://www.thymeleaf.org/apidocs/thymeleaf/3.1.0.RELEASE/org/thymeleaf/templateresolver/AbstractConfigurableTemplateResolver.html#setForceTemplateMode(boolean)):\r\n\r\n```java\r\npackage com.xerox;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileOutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.time.LocalDateTime;\r\n\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.Context;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\n\r\npublic class TestThymeleafUTF8 {\r\n  public static void main(String[] args) {\r\n    try {\r\n      TemplateEngine templateEngine = new TemplateEngine();\r\n      ClassLoaderTemplateResolver resolver = new ClassLoaderTemplateResolver();\r\n      resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n      resolver.setTemplateMode(TemplateMode.TEXT); // TemplateMode.HTML should work as well\r\n      resolver.setForceTemplateMode(true);\r\n      templateEngine.setTemplateResolver(resolver);\r\n      Context ct = new Context();\r\n      ct.setVariable(&quot;TEST_AR&quot;, &quot;كتابة مفهومة من قبل اغل&quot;);\r\n      ct.setVariable(&quot;TEST_HE&quot;, &quot;ניסיון&quot;);\r\n      ct.setVariable(&quot;TEST_CH&quot;, &quot;王明是中国人。&quot;);\r\n      ct.setVariable(&quot;currentDate&quot;, LocalDateTime.now().toString());\r\n      BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(&quot;test_output.xml&quot;), StandardCharsets.UTF_8));\r\n\r\n      templateEngine.process(&quot;test_template.xml&quot;, ct,out);\r\n    } catch (Exception e) {\r\n      System.out.println(e);\r\n    }\r\n  }\r\n}\r\n\r\n```","title":"thymeleaf UTF8 xml bug?","body":"<p>It is not a bug, but the programmed behavior.</p>\n<p>The <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/3.1.0.RELEASE/org/thymeleaf/templateresolver/AbstractConfigurableTemplateResolver.html#setTemplateMode(org.thymeleaf.templatemode.TemplateMode)\" rel=\"nofollow noreferrer\"><code>setTemplateMode</code> documentation</a> indicates:</p>\n<blockquote>\n<p>Sets the template mode to be applied to templates resolved by this\nresolver.</p>\n<p>If template mode patterns (see <code>setHtmlTemplateModePatterns(Set)</code>,\n<code>setXmlTemplateModePatterns(Set)</code>, etc.) are also set, they have higher\npriority than the template mode set here (this would act as a default).</p>\n<p>Note that this template mode also may not be applied if the template\nresource name ends in a known file name suffix: <code>.html, .htm, .xhtml, .xml,  .js, .json, .css, .rss, .atom, .txt</code>. If this behaviour needs to be\noverridden so that template name is always applied, the\n<code>setForceTemplateMode(boolean)</code> will need to be set.</p>\n</blockquote>\n<p>Note the note that indicates that for a well known file name suffix the template mode will be overwritten. That explains the behavior you are facing: when you use <code>test_template.xml</code> Thymeleaf will no longer use <code>TemplateMode.TEXT</code> as configured but <code>TemplateMode.XML</code> instead, and the text will be then <a href=\"https://github.com/thymeleaf/thymeleaf/blob/39b945b881ffed403ddf37f2c2d022db5b1d2724/lib/thymeleaf/src/main/java/org/thymeleaf/standard/processor/StandardTextTagProcessor.java#L113-L131\" rel=\"nofollow noreferrer\">escaped</a>.</p>\n<p>As advised in the aforementioned javadoc, you can force Thymeleaf to obbey the configured <code>TemplateMode</code> and your desired behavior using <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/3.1.0.RELEASE/org/thymeleaf/templateresolver/AbstractConfigurableTemplateResolver.html#setForceTemplateMode(boolean)\" rel=\"nofollow noreferrer\"><code>setForceTemplateMode</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.xerox;\n\nimport java.io.BufferedWriter;\nimport java.io.FileOutputStream;\nimport java.io.OutputStreamWriter;\nimport java.nio.charset.StandardCharsets;\nimport java.time.LocalDateTime;\n\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\n\npublic class TestThymeleafUTF8 {\n  public static void main(String[] args) {\n    try {\n      TemplateEngine templateEngine = new TemplateEngine();\n      ClassLoaderTemplateResolver resolver = new ClassLoaderTemplateResolver();\n      resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n      resolver.setTemplateMode(TemplateMode.TEXT); // TemplateMode.HTML should work as well\n      resolver.setForceTemplateMode(true);\n      templateEngine.setTemplateResolver(resolver);\n      Context ct = new Context();\n      ct.setVariable(&quot;TEST_AR&quot;, &quot;كتابة مفهومة من قبل اغل&quot;);\n      ct.setVariable(&quot;TEST_HE&quot;, &quot;ניסיון&quot;);\n      ct.setVariable(&quot;TEST_CH&quot;, &quot;王明是中国人。&quot;);\n      ct.setVariable(&quot;currentDate&quot;, LocalDateTime.now().toString());\n      BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(&quot;test_output.xml&quot;), StandardCharsets.UTF_8));\n\n      templateEngine.process(&quot;test_template.xml&quot;, ct,out);\n    } catch (Exception e) {\n      System.out.println(e);\n    }\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74792219,"answer_count":2,"score":3,"last_activity_date":1671018472,"creation_date":1670363088,"question_id":74709361,"body_markdown":"I am doing a very simple replacement on an XML template below:\r\n\r\n    &lt;?xml&#160;version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#160;&#160;\r\n    &lt;note&gt;&#160;&#160;\r\n    \t&lt;to&gt;\r\n    \t\tARABIC: [[${TEST_AR}]]\r\n    \t\tHEBREW: [[${TEST_HE}]]\t\r\n    \t\tCHINESE (MANDARIN): [[${TEST_CH}]]\r\n    \t&lt;/to&gt;\r\n    &lt;/note&gt;\r\n\r\nBut it seems like thymeleaf has a UTF8 xml bug, Or Im missing something.  \r\nHere is what I tried so far:\r\n\r\n - Template is coded in UTF-8    \r\n - Java source code is saved in UTF-8  \r\n - encoding for OutputStreamWriter is UTF-8   \r\n - ClassLoaderTemplateResolver is set to UTF-8    Maven is set to UTF-8\r\n - project.build.sourceEncoding UTF-8    \r\n - coded the XML as UTF-8  &lt;?xml&#160;version=&quot;1.0&quot;&#160;encoding=&quot;UTF-8&quot; ?&gt;\r\n\r\n[![java encoding][1]][1]\r\n\r\nSeems like Thymeleaf wont write UTF-8 text correctly to XML.  \r\nThe code example below work faultlessly (except Chinese not sure why but its not import atm) as long as I am opening a **text** template (just the file extension) .    \r\n\r\nIf I use this line , It works ok and output UTF-8 no Issues.\r\n\r\n     templateEngine.process(&quot;test_template.txt&quot;, ct,out);\r\n\r\nworks great:\r\n\r\n    &lt;?xml&#160;version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#160;&#160;\r\n    &lt;note&gt;&#160;&#160;\r\n    \t&lt;to&gt;\r\n    \t\tARABIC: كتابة مفهومة من قبل اغل\r\n    \t\tHEBREW: ניסיון\t\r\n    \t\tCHINESE (MANDARIN): \r\n    \t&lt;/to&gt;\r\n    &lt;/note&gt;\r\n\r\nOnce I modify this line (and rename the template accordingly)  to this:\r\n\r\n    templateEngine.process(&quot;test_template.xml&quot;, ct,out);\r\nthymeleaf will crap out the Uincode fonts and export them as HEX representation.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#160;\r\n    &lt;note&gt;&#160;&#160;\r\n    \t&lt;to&gt;\r\n    \t\tARABIC: &amp;#x643;&amp;#x62a;&amp;#x627;&amp;#x628;&amp;#x629; &amp;#x645;&amp;#x641;&amp;#x647;&amp;#x648;&amp;#x645;&amp;#x629; &amp;#x645;&amp;#x646; &amp;#x642;&amp;#x628;&amp;#x644; &amp;#x627;&amp;#x63a;&amp;#x644;\r\n    \t\tHEBREW: &amp;#x5e0;&amp;#x5d9;&amp;#x5e1;&amp;#x5d9;&amp;#x5d5;&amp;#x5df;\t\r\n    \t\tCHINESE (MANDARIN): \r\n    \t&lt;/to&gt;\r\n    &lt;/note&gt;\r\n\r\n\r\n\r\n\r\nFull isolated working example just create the template (test_template.txt) and put it under src/main/resources\r\n\r\n\r\n\r\n    package com.xerox;\r\n    import java.io.BufferedWriter;\r\n    import java.io.FileOutputStream;\r\n    import java.io.OutputStreamWriter;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.time.LocalDateTime;\r\n    \r\n    import org.thymeleaf.TemplateEngine;\r\n    import org.thymeleaf.context.Context;\r\n    import org.thymeleaf.templatemode.TemplateMode;\r\n    import org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\n    \r\n    public class TestThymeleafUTF8 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t       TemplateEngine templateEngine = new TemplateEngine();\r\n    \t\t        ClassLoaderTemplateResolver resolver = new ClassLoaderTemplateResolver();\r\n    \t\t        resolver.setCharacterEncoding(&quot;UTF-8&quot;);     \r\n    \t\t        resolver.setTemplateMode(TemplateMode.TEXT);\r\n    \t\t        templateEngine.setTemplateResolver(resolver);\r\n    \t\t        Context ct = new Context();\t\t        \r\n    \t\t        ct.setVariable(&quot;TEST_AR&quot;, &quot;كتابة مفهومة من قبل اغل&quot;);\r\n    \t\t        ct.setVariable(&quot;TEST_HE&quot;, &quot;ניסיון&quot;);\r\n    \t\t        ct.setVariable(&quot;TEST_CN&quot;, &quot;王明是中国人。&quot;);\r\n    \t\t        ct.setVariable(&quot;currentDate&quot;, LocalDateTime.now().toString());\r\n    \t\t        BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(&quot;test_output.txt&quot;), StandardCharsets.UTF_8));\r\n    \t\t\t\r\n    \t\t        templateEngine.process(&quot;test_template.txt&quot;, ct,out);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nPom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.xerox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testUTF&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;testUTF&lt;/name&gt;\r\n      &lt;description&gt;thymeleaf testUTF&lt;/description&gt;\r\n      \r\n      \t&lt;properties&gt;\r\n    \t\t    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\t\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Al3oR.png\r\n  [2]: https://i.stack.imgur.com/a8Ye2.png\r\n  [3]: https://i.stack.imgur.com/7XnKU.png","title":"thymeleaf UTF8 xml bug?","body":"<p>I am doing a very simple replacement on an XML template below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;note&gt;  \n    &lt;to&gt;\n        ARABIC: [[${TEST_AR}]]\n        HEBREW: [[${TEST_HE}]]  \n        CHINESE (MANDARIN): [[${TEST_CH}]]\n    &lt;/to&gt;\n&lt;/note&gt;\n</code></pre>\n<p>But it seems like thymeleaf has a UTF8 xml bug, Or Im missing something.<br />\nHere is what I tried so far:</p>\n<ul>\n<li>Template is coded in UTF-8</li>\n<li>Java source code is saved in UTF-8</li>\n<li>encoding for OutputStreamWriter is UTF-8</li>\n<li>ClassLoaderTemplateResolver is set to UTF-8    Maven is set to UTF-8</li>\n<li>project.build.sourceEncoding UTF-8</li>\n<li>coded the XML as UTF-8  </li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Al3oR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Al3oR.png\" alt=\"java encoding\" /></a></p>\n<p>Seems like Thymeleaf wont write UTF-8 text correctly to XML.<br />\nThe code example below work faultlessly (except Chinese not sure why but its not import atm) as long as I am opening a <strong>text</strong> template (just the file extension) .</p>\n<p>If I use this line , It works ok and output UTF-8 no Issues.</p>\n<pre><code> templateEngine.process(&quot;test_template.txt&quot;, ct,out);\n</code></pre>\n<p>works great:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \n&lt;note&gt;  \n    &lt;to&gt;\n        ARABIC: كتابة مفهومة من قبل اغل\n        HEBREW: ניסיון  \n        CHINESE (MANDARIN): \n    &lt;/to&gt;\n&lt;/note&gt;\n</code></pre>\n<p>Once I modify this line (and rename the template accordingly)  to this:</p>\n<pre><code>templateEngine.process(&quot;test_template.xml&quot;, ct,out);\n</code></pre>\n<p>thymeleaf will crap out the Uincode fonts and export them as HEX representation.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \n&lt;note&gt;  \n    &lt;to&gt;\n        ARABIC: &amp;#x643;&amp;#x62a;&amp;#x627;&amp;#x628;&amp;#x629; &amp;#x645;&amp;#x641;&amp;#x647;&amp;#x648;&amp;#x645;&amp;#x629; &amp;#x645;&amp;#x646; &amp;#x642;&amp;#x628;&amp;#x644; &amp;#x627;&amp;#x63a;&amp;#x644;\n        HEBREW: &amp;#x5e0;&amp;#x5d9;&amp;#x5e1;&amp;#x5d9;&amp;#x5d5;&amp;#x5df;  \n        CHINESE (MANDARIN): \n    &lt;/to&gt;\n&lt;/note&gt;\n</code></pre>\n<p>Full isolated working example just create the template (test_template.txt) and put it under src/main/resources</p>\n<pre><code>package com.xerox;\nimport java.io.BufferedWriter;\nimport java.io.FileOutputStream;\nimport java.io.OutputStreamWriter;\nimport java.nio.charset.StandardCharsets;\nimport java.time.LocalDateTime;\n\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\n\npublic class TestThymeleafUTF8 {\n    public static void main(String[] args) {\n        try {\n               TemplateEngine templateEngine = new TemplateEngine();\n                ClassLoaderTemplateResolver resolver = new ClassLoaderTemplateResolver();\n                resolver.setCharacterEncoding(&quot;UTF-8&quot;);     \n                resolver.setTemplateMode(TemplateMode.TEXT);\n                templateEngine.setTemplateResolver(resolver);\n                Context ct = new Context();             \n                ct.setVariable(&quot;TEST_AR&quot;, &quot;كتابة مفهومة من قبل اغل&quot;);\n                ct.setVariable(&quot;TEST_HE&quot;, &quot;ניסיון&quot;);\n                ct.setVariable(&quot;TEST_CN&quot;, &quot;王明是中国人。&quot;);\n                ct.setVariable(&quot;currentDate&quot;, LocalDateTime.now().toString());\n                BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(&quot;test_output.txt&quot;), StandardCharsets.UTF_8));\n            \n                templateEngine.process(&quot;test_template.txt&quot;, ct,out);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.xerox&lt;/groupId&gt;\n  &lt;artifactId&gt;testUTF&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;testUTF&lt;/name&gt;\n  &lt;description&gt;thymeleaf testUTF&lt;/description&gt;\n  \n    &lt;properties&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;   \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arrays","http","spring-restcontroller","feign"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1671019380,"post_id":74797803,"comment_id":132005636,"body_markdown":"You are using GET, so if you control both server and client side (do you?), have you considered sending (and more importantly receiving) as a String instead of byte array?","body":"You are using GET, so if you control both server and client side (do you?), have you considered sending (and more importantly receiving) as a String instead of byte array?"}],"owner":{"account_id":14488222,"reputation":71,"user_id":10465401,"display_name":"Shakesbeer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671018448,"creation_date":1671018448,"question_id":74797803,"body_markdown":"Using a **FeignClient**, I want to **send** a Base64 encoded **byte array over http to a Rest API**. \r\n\r\nFeignClient:\r\n```\r\ninterface FeignClient {\r\n    @RequestLine(&quot;GET /hello?b={b}&quot;) CompletableFuture&lt;ResponseEntity&gt; hello(@Param(&quot;b&quot;) byte[] b);\r\n}\r\n\r\nFeignClient feignClient = AsyncFeign.builder()\r\n        .decoder(new GsonDecoder())\r\n        .target(FeignClient.class, &quot;http://localhost:8080&quot;);\r\n\r\nbyte[] base64Encoded = ....\r\n\r\nfeignClient.hello(base64Encoded).get());\r\n\r\n```\r\n\r\nRestController\r\n\r\n```\r\n@Async\r\n@GetMapping(value = &quot;/hello&quot;)\r\npublic CompletableFuture&lt;ResponseEntity&gt; hello(@RequestParam(&quot;b&quot;) byte[] b){\r\n\r\n    String base64Endcode = new String(b) //&lt; -- the problem is here\r\n\r\n    return ....\r\n}\r\n```\r\n\r\n**Problem**: Calling `new String(b)` in the **RestController yields rather the object id `[B@....` than the acutal content.**\r\n\r\nMy first thought (as in https://stackoverflow.com/questions/66433120/how-to-serialize-a-byte-array-to-send-as-the-body-of-an-http-post) was to serialize the byte array. As mentioned there, this is not required. What am I doing wrong?\r\n\r\nA possible solution would be to use `newString(base64Encoded)` (instead of `base64Encoded` on the client side) and use `String valueDecoded = new String(Base64.decodeBase64(graphStr));` on the server side. But does this make sense at all?\r\n\r\nMaybe I need to configure a proper encoder within the FeignClient? Do I need streams?\r\n\r\nDisclaimer: This question might be duplicate of https://stackoverflow.com/questions/66433120/how-to-serialize-a-byte-array-to-send-as-the-body-of-an-http-post. However, I didn&#39;t solve my problem.","title":"Send byte array with FeignClient over HTTP to RestController - Receives ObjectId instead of content","body":"<p>Using a <strong>FeignClient</strong>, I want to <strong>send</strong> a Base64 encoded <strong>byte array over http to a Rest API</strong>.</p>\n<p>FeignClient:</p>\n<pre><code>interface FeignClient {\n    @RequestLine(&quot;GET /hello?b={b}&quot;) CompletableFuture&lt;ResponseEntity&gt; hello(@Param(&quot;b&quot;) byte[] b);\n}\n\nFeignClient feignClient = AsyncFeign.builder()\n        .decoder(new GsonDecoder())\n        .target(FeignClient.class, &quot;http://localhost:8080&quot;);\n\nbyte[] base64Encoded = ....\n\nfeignClient.hello(base64Encoded).get());\n\n</code></pre>\n<p>RestController</p>\n<pre><code>@Async\n@GetMapping(value = &quot;/hello&quot;)\npublic CompletableFuture&lt;ResponseEntity&gt; hello(@RequestParam(&quot;b&quot;) byte[] b){\n\n    String base64Endcode = new String(b) //&lt; -- the problem is here\n\n    return ....\n}\n</code></pre>\n<p><strong>Problem</strong>: Calling <code>new String(b)</code> in the <strong>RestController yields rather the object id <code>[B@....</code> than the acutal content.</strong></p>\n<p>My first thought (as in <a href=\"https://stackoverflow.com/questions/66433120/how-to-serialize-a-byte-array-to-send-as-the-body-of-an-http-post\">How to serialize a byte array to send as the body of an HTTP POST?</a>) was to serialize the byte array. As mentioned there, this is not required. What am I doing wrong?</p>\n<p>A possible solution would be to use <code>newString(base64Encoded)</code> (instead of <code>base64Encoded</code> on the client side) and use <code>String valueDecoded = new String(Base64.decodeBase64(graphStr));</code> on the server side. But does this make sense at all?</p>\n<p>Maybe I need to configure a proper encoder within the FeignClient? Do I need streams?</p>\n<p>Disclaimer: This question might be duplicate of <a href=\"https://stackoverflow.com/questions/66433120/how-to-serialize-a-byte-array-to-send-as-the-body-of-an-http-post\">How to serialize a byte array to send as the body of an HTTP POST?</a>. However, I didn't solve my problem.</p>\n"},{"tags":["java","azure-cosmosdb","bulk","executor"],"comments":[{"owner":{"account_id":7092116,"reputation":14335,"user_id":5641598,"accept_rate":50,"display_name":"Matias Quaranta"},"score":0,"creation_date":1670848753,"post_id":74741056,"comment_id":131960893,"body_markdown":"After the process finishes, if you check if the desired documents were processed (by querying or viewing the data), do you see the desired result (documents created/updated)?","body":"After the process finishes, if you check if the desired documents were processed (by querying or viewing the data), do you see the desired result (documents created/updated)?"},{"owner":{"account_id":1853553,"reputation":61,"user_id":1679581,"display_name":"Jan Peremsk&#253;"},"score":0,"creation_date":1671004489,"post_id":74741056,"comment_id":132000965,"body_markdown":"Yes, desired documents are there (fortunately) - it&#39;s just the messages are very confusing and it looks like if I, as a developer, forgot to properly end the bulk executors. I&#39;m still in a research/PoC phase so I need to be 100% sure, bulk processing works as advertised.","body":"Yes, desired documents are there (fortunately) - it&#39;s just the messages are very confusing and it looks like if I, as a developer, forgot to properly end the bulk executors. I&#39;m still in a research/PoC phase so I need to be 100% sure, bulk processing works as advertised."}],"answers":[{"tags":[],"owner":{"account_id":7092116,"reputation":14335,"user_id":5641598,"accept_rate":50,"display_name":"Matias Quaranta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671018197,"creation_date":1671018197,"answer_id":74797763,"question_id":74741056,"body_markdown":"This is just a noisy log that currently generates an INFO level log. Thanks for your feedback, the team is using it to reduce the log level in cases where the bulk operation completed successfully (sink was completed).\r\n\r\nReference: https://github.com/Azure/azure-sdk-for-java/pull/32601#pullrequestreview-1217306057","title":"CosmosDB Java V4 SDK executeBulkOperations - &quot;Main sink completion failed. EmitResult: FAIL_TERMINATED&quot;","body":"<p>This is just a noisy log that currently generates an INFO level log. Thanks for your feedback, the team is using it to reduce the log level in cases where the bulk operation completed successfully (sink was completed).</p>\n<p>Reference: <a href=\"https://github.com/Azure/azure-sdk-for-java/pull/32601#pullrequestreview-1217306057\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/pull/32601#pullrequestreview-1217306057</a></p>\n"}],"owner":{"account_id":1853553,"reputation":61,"user_id":1679581,"display_name":"Jan Peremsk&#253;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671018197,"creation_date":1670577693,"question_id":74741056,"body_markdown":"If I run a simple set of document updates on the CosmosDB container using\r\n`container.executeBulkOperations(bulkOperations)` I&#39;m getting strange suspicious log messages from the underlying Cosmos DB Java SDK V4 like:\r\n```\r\n...lementation.batch.BulkExecutor:862 - Closing all sinks, Context: BulkExecutor-1[n/a]\r\n...lementation.batch.BulkExecutor:862 - Closing all sinks, Context: BulkExecutor-1[n/a]\r\n...lementation.batch.BulkExecutor:869 - Main sink completion failed. EmitResult: FAIL_TERMINATED, Context: BulkExecutor-1[n/a]\r\n...lementation.batch.BulkExecutor:862 - Closing all sinks, Context: BulkExecutor-1[n/a]\r\n...lementation.batch.BulkExecutor:869 - Main sink completion failed. EmitResult: FAIL_TERMINATED, Context: BulkExecutor-1[n/a]\r\n```\r\n\r\nShould I terminate the bulk operations somehow explicitly? What am I doing wrong?\r\nOr should I ignore such log messages as they are at `INFO` level ?\r\n\r\nSample code: \r\n```\r\n    public static final String PARTITION_ID = &quot;BULK_DATA_PARTITION&quot;;\r\n    @Inject\r\n    @CosmosBalConfiguration.BalBalancesContainer\r\n    CosmosAsyncContainer container;\r\n\r\n    record IdAndPartition(String id, String partitionId){};\r\n\r\n    void simpleDummyBulkUpdate() {\r\n\r\n        Flux&lt;CosmosItemOperation&gt; bulkOperations = Flux.range(0, 10).map(i -&gt; CosmosBulkOperations.getUpsertItemOperation(new IdAndPartition(i.toString(), PARTITION_ID), new PartitionKey(PARTITION_ID)));\r\n        container.executeBulkOperations(bulkOperations)\r\n                .blockLast();\r\n    }\r\n```","title":"CosmosDB Java V4 SDK executeBulkOperations - &quot;Main sink completion failed. EmitResult: FAIL_TERMINATED&quot;","body":"<p>If I run a simple set of document updates on the CosmosDB container using\n<code>container.executeBulkOperations(bulkOperations)</code> I'm getting strange suspicious log messages from the underlying Cosmos DB Java SDK V4 like:</p>\n<pre><code>...lementation.batch.BulkExecutor:862 - Closing all sinks, Context: BulkExecutor-1[n/a]\n...lementation.batch.BulkExecutor:862 - Closing all sinks, Context: BulkExecutor-1[n/a]\n...lementation.batch.BulkExecutor:869 - Main sink completion failed. EmitResult: FAIL_TERMINATED, Context: BulkExecutor-1[n/a]\n...lementation.batch.BulkExecutor:862 - Closing all sinks, Context: BulkExecutor-1[n/a]\n...lementation.batch.BulkExecutor:869 - Main sink completion failed. EmitResult: FAIL_TERMINATED, Context: BulkExecutor-1[n/a]\n</code></pre>\n<p>Should I terminate the bulk operations somehow explicitly? What am I doing wrong?\nOr should I ignore such log messages as they are at <code>INFO</code> level ?</p>\n<p>Sample code:</p>\n<pre><code>    public static final String PARTITION_ID = &quot;BULK_DATA_PARTITION&quot;;\n    @Inject\n    @CosmosBalConfiguration.BalBalancesContainer\n    CosmosAsyncContainer container;\n\n    record IdAndPartition(String id, String partitionId){};\n\n    void simpleDummyBulkUpdate() {\n\n        Flux&lt;CosmosItemOperation&gt; bulkOperations = Flux.range(0, 10).map(i -&gt; CosmosBulkOperations.getUpsertItemOperation(new IdAndPartition(i.toString(), PARTITION_ID), new PartitionKey(PARTITION_ID)));\n        container.executeBulkOperations(bulkOperations)\n                .blockLast();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4799526,"reputation":158,"user_id":3876514,"display_name":"Yury Nevinitsin"},"score":2,"creation_date":1580293650,"post_id":59964967,"comment_id":106047150,"body_markdown":"What is wrong with the output? The output consists of array of arrays of strings, which I would expect looking at the code, because `convertCSV` returns `List&lt;List&lt;String&gt;&gt;`.","body":"What is wrong with the output? The output consists of array of arrays of strings, which I would expect looking at the code, because <code>convertCSV</code> returns <code>List&lt;List&lt;String&gt;&gt;</code>."},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":1,"creation_date":1580293656,"post_id":59964967,"comment_id":106047151,"body_markdown":"Can you explain this `prints out the JSON response incorrectly` ? What is incorrect?","body":"Can you explain this <code>prints out the JSON response incorrectly</code> ? What is incorrect?"},{"owner":{"account_id":15478045,"reputation":317,"user_id":11166227,"display_name":"Conor Donohoe"},"score":0,"creation_date":1580293958,"post_id":59964967,"comment_id":106047327,"body_markdown":"I need it to print &quot;latD&quot;: &quot;41&quot;, &quot;LatM&quot;:&quot;5&quot;, &quot;LatS&quot;:&quot;59&quot;, &quot;NS&quot;:&quot;N&quot;, etc... do I just have to change the type from list to array, for more context I need an Angular 7 frontend to be able to loop through the arrays","body":"I need it to print &quot;latD&quot;: &quot;41&quot;, &quot;LatM&quot;:&quot;5&quot;, &quot;LatS&quot;:&quot;59&quot;, &quot;NS&quot;:&quot;N&quot;, etc... do I just have to change the type from list to array, for more context I need an Angular 7 frontend to be able to loop through the arrays"},{"owner":{"account_id":1268556,"reputation":48098,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1671019006,"post_id":59964967,"comment_id":132005515,"body_markdown":"Some of the answers parse the CSV by splitting on `\\n` and `,`: this isn&#39;t recommended because it doesn&#39;t follow the RFC (4180 in this case, for example [_&quot;Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes&quot;_](https://datatracker.ietf.org/doc/html/rfc4180#section-2)). You should rather use a 3rd-party tool which handles this for you, for example [Opencsv](https://opencsv.sourceforge.net/) (just like what the OP seems to use).","body":"Some of the answers parse the CSV by splitting on <code>\\n</code> and <code>,</code>: this isn&#39;t recommended because it doesn&#39;t follow the RFC (4180 in this case, for example <a href=\"https://datatracker.ietf.org/doc/html/rfc4180#section-2\" rel=\"nofollow noreferrer\"><i>&quot;Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes&quot;</i></a>). You should rather use a 3rd-party tool which handles this for you, for example <a href=\"https://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">Opencsv</a> (just like what the OP seems to use)."}],"answers":[{"comments":[{"owner":{"account_id":15478045,"reputation":317,"user_id":11166227,"display_name":"Conor Donohoe"},"score":0,"creation_date":1580301718,"post_id":59966656,"comment_id":106051403,"body_markdown":"Im getting this error: No serializer found for class com.poc.demo.models.Host and no properties discovered to create BeanSerializer","body":"Im getting this error: No serializer found for class com.poc.demo.models.Host and no properties discovered to create BeanSerializer"},{"owner":{"account_id":16179189,"reputation":599,"user_id":11681150,"display_name":"Yogeen Loriya"},"score":0,"creation_date":1580301890,"post_id":59966656,"comment_id":106051509,"body_markdown":"Can you please post the code as well so that I can get more idea of it.","body":"Can you please post the code as well so that I can get more idea of it."},{"owner":{"account_id":15478045,"reputation":317,"user_id":11166227,"display_name":"Conor Donohoe"},"score":0,"creation_date":1580302256,"post_id":59966656,"comment_id":106051729,"body_markdown":"The problem was that jackson needs the getters and setters to be public Found the answer here -&gt; https://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found the code hasn&#39;t changed from what you posted just renamed the file to Hosts from users now I just need to figure out why Im getting null","body":"The problem was that jackson needs the getters and setters to be public Found the answer here -&gt; <a href=\"https://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found\" title=\"serializing with jackson json getting no serializer found\">stackoverflow.com/questions/8367312/&hellip;</a> the code hasn&#39;t changed from what you posted just renamed the file to Hosts from users now I just need to figure out why Im getting null"}],"tags":[],"owner":{"account_id":16179189,"reputation":599,"user_id":11681150,"display_name":"Yogeen Loriya"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580299246,"creation_date":1580299246,"answer_id":59966656,"question_id":59964967,"body_markdown":"That is because of your reading data in String and printing the List of String. If you want to map the CSV to Object ( JSON Object), You need to read the CSV as bean object please find below code snippet to print as JSON, override toString method as JSON format.\r\n\r\nUser.java \r\n\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NotNull\r\n        private String name;\r\n    \r\n        @NotNull\r\n        private String surname;\r\n    \r\n        //Getter and Setters\r\n    }\r\n\r\nCsvReaderUtil.java\r\n\r\n \r\n\r\n    public static List&lt;User&gt; readCsvFile() throws IOException {\r\n                List&lt;User&gt; list = null;\r\n                CSVReader reader = null;\r\n                InputStream is = null;\r\n                try {\r\n                    File initialFile = new File(&quot;C:\\\\Users\\\\ER\\\\Desktop\\\\test.csv&quot;);\r\n                    is = new FileInputStream(initialFile);\r\n                    reader = new CSVReader(new InputStreamReader(is), &#39;,&#39;, &#39;&quot;&#39;, 1);\r\n                    ColumnPositionMappingStrategy strat = new ColumnPositionMappingStrategy();\r\n                    strat.setType(User.class);\r\n                    String[] columns = new String[]{&quot;id&quot;, &quot;name&quot;, &quot;surname&quot;};\r\n                    strat.setColumnMapping(columns);\r\n                    CsvToBean csv = new CsvToBean();\r\n                    list = csv.parse(strat, reader);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    is.close();\r\n                    reader.close();\r\n                }\r\n                return list;\r\n            }\r\n\r\nNow print this List Of Users as a JSON object.\r\n\r\n","title":"Convert CSV to JSON array in Java Springboot","body":"<p>That is because of your reading data in String and printing the List of String. If you want to map the CSV to Object ( JSON Object), You need to read the CSV as bean object please find below code snippet to print as JSON, override toString method as JSON format.</p>\n\n<p>User.java </p>\n\n<pre><code>public class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    private String name;\n\n    @NotNull\n    private String surname;\n\n    //Getter and Setters\n}\n</code></pre>\n\n<p>CsvReaderUtil.java</p>\n\n<pre><code>public static List&lt;User&gt; readCsvFile() throws IOException {\n            List&lt;User&gt; list = null;\n            CSVReader reader = null;\n            InputStream is = null;\n            try {\n                File initialFile = new File(\"C:\\\\Users\\\\ER\\\\Desktop\\\\test.csv\");\n                is = new FileInputStream(initialFile);\n                reader = new CSVReader(new InputStreamReader(is), ',', '\"', 1);\n                ColumnPositionMappingStrategy strat = new ColumnPositionMappingStrategy();\n                strat.setType(User.class);\n                String[] columns = new String[]{\"id\", \"name\", \"surname\"};\n                strat.setColumnMapping(columns);\n                CsvToBean csv = new CsvToBean();\n                list = csv.parse(strat, reader);\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                is.close();\n                reader.close();\n            }\n            return list;\n        }\n</code></pre>\n\n<p>Now print this List Of Users as a JSON object.</p>\n"},{"comments":[{"owner":{"account_id":15478045,"reputation":317,"user_id":11166227,"display_name":"Conor Donohoe"},"score":0,"creation_date":1580396925,"post_id":59968050,"comment_id":106091231,"body_markdown":"By any chance would you be able to tell me how to write this for java 1.8 I have to downgrade from 12 and var isant accepted?","body":"By any chance would you be able to tell me how to write this for java 1.8 I have to downgrade from 12 and var isant accepted?"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1580397440,"post_id":59968050,"comment_id":106091532,"body_markdown":"`var`(introduced in java10) it&#39;s like a shortcut and represent the type of the value it get when is declared. In this case `Stream&lt;String&gt;`. Anything incompatible?","body":"<code>var</code>(introduced in java10) it&#39;s like a shortcut and represent the type of the value it get when is declared. In this case <code>Stream&lt;String&gt;</code>. Anything incompatible?"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1580402129,"post_id":59968050,"comment_id":106094380,"body_markdown":"Welcome. Tip: Even if you use a `dependency`, try to think your own solution for your problem, even if it&#39;s bad and it&#39;s a waste of time cause you don&#39;t use it. In time it will help you.","body":"Welcome. Tip: Even if you use a <code>dependency</code>, try to think your own solution for your problem, even if it&#39;s bad and it&#39;s a waste of time cause you don&#39;t use it. In time it will help you."},{"owner":{"account_id":22302550,"reputation":407,"user_id":16527606,"display_name":"niddddddfier"},"score":0,"creation_date":1649322419,"post_id":59968050,"comment_id":126848022,"body_markdown":"Is this source ok to convert csv which contains boolean or integer values?","body":"Is this source ok to convert csv which contains boolean or integer values?"},{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1649864224,"post_id":59968050,"comment_id":126985083,"body_markdown":"@niddddddfier, It passed some time since I typed this solution. As a quick review, I say yes. Every type of data(actually everything from CSV is a `String`) from CSV will be `String` in JSON.","body":"@niddddddfier, It passed some time since I typed this solution. As a quick review, I say yes. Every type of data(actually everything from CSV is a <code>String</code>) from CSV will be <code>String</code> in JSON."}],"tags":[],"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"comment_count":5,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1580398780,"creation_date":1580304157,"answer_id":59968050,"question_id":59964967,"body_markdown":"Your case is not a big deal.\r\n\r\nYou can read that `csv` and build `json`. \r\n\r\nRead first row and determine columns. The rest of rows are values.\r\n\r\n```\r\npublic class Foo{\r\n\r\n\tpublic static void main(String[] args) throws Exception{\r\n\r\n\t\tList&lt;String&gt; csvRows = null;\r\n\t\ttry(var reader = Files.lines(Paths.get(&quot;dataFile.csv&quot;))){\r\n\t\t\tcsvRows = reader.collect(Collectors.toList());\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tif(csvRows != null){\r\n\r\n\t\t\tString json = csvToJson(csvRows);\r\n\t\t\tSystem.out.println(json);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic static String csvToJson(List&lt;String&gt; csv){\r\n\r\n\t\t//remove empty lines\r\n        //this will affect permanently the list. \r\n        //be careful if you want to use this list after executing this method\r\n\t\tcsv.removeIf(e -&gt; e.trim().isEmpty());\r\n\r\n\t\t//csv is empty or have declared only columns\r\n\t\tif(csv.size() &lt;= 1){\r\n\t\t\treturn &quot;[]&quot;;\r\n\t\t}\r\n\r\n\t\t//get first line = columns names\r\n\t\tString[] columns = csv.get(0).split(&quot;,&quot;);\r\n\r\n\t\t//get all rows\r\n\t\tStringBuilder json = new StringBuilder(&quot;[\\n&quot;);\r\n\t\tcsv.subList(1, csv.size()) //substring without first row(columns)\r\n\t\t\t.stream()\r\n\t\t\t.map(e -&gt; e.split(&quot;,&quot;))\r\n\t\t\t.filter(e -&gt; e.length == columns.length) //values size should match with columns size\r\n\t\t\t.forEach(row -&gt; {\r\n\r\n\t\t\t\tjson.append(&quot;\\t{\\n&quot;);\r\n\r\n\t\t\t\t\tfor(int i = 0; i &lt; columns.length; i++){\r\n\t\t\t\t\t\tjson.append(&quot;\\t\\t\\&quot;&quot;)\r\n\t\t\t\t\t\t\t.append(columns[i])\r\n\t\t\t\t\t\t\t.append(&quot;\\&quot; : \\&quot;&quot;)\r\n\t\t\t\t\t\t\t.append(row[i])\r\n\t\t\t\t\t\t\t.append(&quot;\\&quot;,\\n&quot;); //comma-1\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//replace comma-1 with \\n\r\n\t\t\t\t\tjson.replace(json.lastIndexOf(&quot;,&quot;), json.length(), &quot;\\n&quot;);\r\n\r\n\t\t\t\tjson.append(&quot;\\t},&quot;); //comma-2\r\n\r\n\t\t\t});\r\n\r\n\t\t//remove comma-2\r\n\t\tjson.replace(json.lastIndexOf(&quot;,&quot;), json.length(), &quot;&quot;);\r\n\r\n\t\tjson.append(&quot;\\n]&quot;);\r\n\r\n\t\treturn json.toString();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nTested on:\r\n```\r\nfname,lname,note\r\nShaun,Curtis,a\r\nKirby,Beil,b\r\n\r\n-----------------------\r\n\r\n[\r\n\t{\r\n\t\t&quot;fname&quot; : &quot;Shaun&quot;,\r\n\t\t&quot;lname&quot; : &quot;Curtis&quot;,\r\n\t\t&quot;note&quot; : &quot;a&quot;\r\n\t},\t{\r\n\t\t&quot;fname&quot; : &quot;Kirby&quot;,\r\n\t\t&quot;lname&quot; : &quot;Beil&quot;,\r\n\t\t&quot;note&quot; : &quot;b&quot;\r\n\t}\r\n]\r\n```\r\nThis method work on any structure of `csv`. Don&#39;t need to map columns.","title":"Convert CSV to JSON array in Java Springboot","body":"<p>Your case is not a big deal.</p>\n\n<p>You can read that <code>csv</code> and build <code>json</code>. </p>\n\n<p>Read first row and determine columns. The rest of rows are values.</p>\n\n<pre><code>public class Foo{\n\n    public static void main(String[] args) throws Exception{\n\n        List&lt;String&gt; csvRows = null;\n        try(var reader = Files.lines(Paths.get(\"dataFile.csv\"))){\n            csvRows = reader.collect(Collectors.toList());\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n\n        if(csvRows != null){\n\n            String json = csvToJson(csvRows);\n            System.out.println(json);\n\n        }\n\n    }\n\n    public static String csvToJson(List&lt;String&gt; csv){\n\n        //remove empty lines\n        //this will affect permanently the list. \n        //be careful if you want to use this list after executing this method\n        csv.removeIf(e -&gt; e.trim().isEmpty());\n\n        //csv is empty or have declared only columns\n        if(csv.size() &lt;= 1){\n            return \"[]\";\n        }\n\n        //get first line = columns names\n        String[] columns = csv.get(0).split(\",\");\n\n        //get all rows\n        StringBuilder json = new StringBuilder(\"[\\n\");\n        csv.subList(1, csv.size()) //substring without first row(columns)\n            .stream()\n            .map(e -&gt; e.split(\",\"))\n            .filter(e -&gt; e.length == columns.length) //values size should match with columns size\n            .forEach(row -&gt; {\n\n                json.append(\"\\t{\\n\");\n\n                    for(int i = 0; i &lt; columns.length; i++){\n                        json.append(\"\\t\\t\\\"\")\n                            .append(columns[i])\n                            .append(\"\\\" : \\\"\")\n                            .append(row[i])\n                            .append(\"\\\",\\n\"); //comma-1\n                    }\n\n                    //replace comma-1 with \\n\n                    json.replace(json.lastIndexOf(\",\"), json.length(), \"\\n\");\n\n                json.append(\"\\t},\"); //comma-2\n\n            });\n\n        //remove comma-2\n        json.replace(json.lastIndexOf(\",\"), json.length(), \"\");\n\n        json.append(\"\\n]\");\n\n        return json.toString();\n\n    }\n\n}\n</code></pre>\n\n<p>Tested on:</p>\n\n<pre><code>fname,lname,note\nShaun,Curtis,a\nKirby,Beil,b\n\n-----------------------\n\n[\n    {\n        \"fname\" : \"Shaun\",\n        \"lname\" : \"Curtis\",\n        \"note\" : \"a\"\n    },  {\n        \"fname\" : \"Kirby\",\n        \"lname\" : \"Beil\",\n        \"note\" : \"b\"\n    }\n]\n</code></pre>\n\n<p>This method work on any structure of <code>csv</code>. Don't need to map columns.</p>\n"},{"tags":[],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671018056,"creation_date":1671018056,"answer_id":74797738,"question_id":59964967,"body_markdown":"Here is a useful example of how to transform CSV to JSON using Java 11+:\r\n\r\n    \r\n    private String fromCsvToJson(String csvFile) {\r\n        String[] lines = file.split(&quot;\\n&quot;);\r\n\r\n        if (lines.length &lt;= 1) {\r\n            return List.of();\r\n        }\r\n\r\n        var headers = lines[0].split(&quot;,&quot;);\r\n        var jsonFormat = Arrays.stream(lines)\r\n                               .skip(1)\r\n                               .map(line -&gt; line.split(&quot;,&quot;))\r\n                               .filter(line -&gt; headers.length == line.length)\r\n                               .map(line -&gt; IntStream.range(0, headers.length).boxed().collect(toMap(i -&gt; headers[i], i -&gt; line[i], (a, b) -&gt; b)))\r\n                               .toList();\r\n    \r\n        return new ObjectMapper().writeValueAsString(jsonFormat);\r\n    }","title":"Convert CSV to JSON array in Java Springboot","body":"<p>Here is a useful example of how to transform CSV to JSON using Java 11+:</p>\n<pre><code>private String fromCsvToJson(String csvFile) {\n    String[] lines = file.split(&quot;\\n&quot;);\n\n    if (lines.length &lt;= 1) {\n        return List.of();\n    }\n\n    var headers = lines[0].split(&quot;,&quot;);\n    var jsonFormat = Arrays.stream(lines)\n                           .skip(1)\n                           .map(line -&gt; line.split(&quot;,&quot;))\n                           .filter(line -&gt; headers.length == line.length)\n                           .map(line -&gt; IntStream.range(0, headers.length).boxed().collect(toMap(i -&gt; headers[i], i -&gt; line[i], (a, b) -&gt; b)))\n                           .toList();\n\n    return new ObjectMapper().writeValueAsString(jsonFormat);\n}\n</code></pre>\n"}],"owner":{"account_id":15478045,"reputation":317,"user_id":11166227,"display_name":"Conor Donohoe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8957,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59968050,"answer_count":3,"score":2,"last_activity_date":1671018056,"creation_date":1580293237,"question_id":59964967,"body_markdown":"Hi I am trying to convert a CSV file into a JSON array using A dependency called csvReader, but when I run the code it prints out the JSON response incorrectly and I ament sure why would anyone be able to point me in the right direction.\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        @GetMapping(&quot;/convert&quot;)\r\n        public List&lt;List&lt;String&gt;&gt; convertCSV() throws FileNotFoundException {\r\n            List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n        try (CSVReader csvReader = new CSVReader(new FileReader(&quot;C:/Download/cities.csv&quot;));) {\r\n            String[] values = null;\r\n\r\n        while ((values = csvReader.readNext()) != null) {\r\n            records.add(Arrays.asList(values));\r\n        }\r\n\r\n    } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return values;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zgD9L.png","title":"Convert CSV to JSON array in Java Springboot","body":"<p>Hi I am trying to convert a CSV file into a JSON array using A dependency called csvReader, but when I run the code it prints out the JSON response incorrectly and I ament sure why would anyone be able to point me in the right direction.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    @GetMapping(\"/convert\")\r\n    public List&lt;List&lt;String&gt;&gt; convertCSV() throws FileNotFoundException {\r\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n    try (CSVReader csvReader = new CSVReader(new FileReader(\"C:/Download/cities.csv\"));) {\r\n        String[] values = null;\r\n\r\n    while ((values = csvReader.readNext()) != null) {\r\n        records.add(Arrays.asList(values));\r\n    }\r\n\r\n} catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return values;\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n\n<a href=\"https://i.stack.imgur.com/zgD9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zgD9L.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","multithreading","parallel-processing","calculator"],"comments":[{"owner":{"account_id":4065050,"reputation":491,"user_id":3340316,"display_name":"mahdi_12167"},"score":0,"creation_date":1517030667,"post_id":48472819,"comment_id":83939447,"body_markdown":"You must use atomic integer for counter or locked the block in which you&#39;re using it.","body":"You must use atomic integer for counter or locked the block in which you&#39;re using it."},{"owner":{"account_id":4065050,"reputation":491,"user_id":3340316,"display_name":"mahdi_12167"},"score":0,"creation_date":1517031081,"post_id":48472819,"comment_id":83939507,"body_markdown":"Also, instead of using the while checking isAlive, you can call the join function of each thread.","body":"Also, instead of using the while checking isAlive, you can call the join function of each thread."},{"owner":{"account_id":12820084,"reputation":109,"user_id":9275308,"display_name":"Brooke"},"score":1,"creation_date":1517031092,"post_id":48472819,"comment_id":83939511,"body_markdown":"@mahdi_12167 I will try atomic integers. I am just a bit puzzled because I thought synchronization kept more than one thread from gaining access to a method at a time? I also tried locking the variable following a different stack overflow thread, however, I still had the same issue.","body":"@mahdi_12167 I will try atomic integers. I am just a bit puzzled because I thought synchronization kept more than one thread from gaining access to a method at a time? I also tried locking the variable following a different stack overflow thread, however, I still had the same issue."},{"owner":{"account_id":12820084,"reputation":109,"user_id":9275308,"display_name":"Brooke"},"score":0,"creation_date":1517031315,"post_id":48472819,"comment_id":83939549,"body_markdown":"@mahdi_12167 The atomic integer works. I appreciate the tip, i&#39;ll swap over to calling the join :).","body":"@mahdi_12167 The atomic integer works. I appreciate the tip, i&#39;ll swap over to calling the join :)."},{"owner":{"account_id":4065050,"reputation":491,"user_id":3340316,"display_name":"mahdi_12167"},"score":1,"creation_date":1517032335,"post_id":48472819,"comment_id":83939730,"body_markdown":"You right, but you should pay attention to the fact that the synchronized function only prevents multiple threads from simultaneously executing the method in the same instance.\nhttps://stackoverflow.com/questions/6214229/question-about-java-synchronized","body":"You right, but you should pay attention to the fact that the synchronized function only prevents multiple threads from simultaneously executing the method in the same instance. <a href=\"https://stackoverflow.com/questions/6214229/question-about-java-synchronized\" title=\"question about java synchronized\">stackoverflow.com/questions/6214229/&hellip;</a>"},{"owner":{"account_id":4065050,"reputation":491,"user_id":3340316,"display_name":"mahdi_12167"},"score":0,"creation_date":1517032634,"post_id":48472819,"comment_id":83939794,"body_markdown":"If you want to use a lock, you should an object as lock whose scope is analogous to the counter.","body":"If you want to use a lock, you should an object as lock whose scope is analogous to the counter."},{"owner":{"account_id":12820084,"reputation":109,"user_id":9275308,"display_name":"Brooke"},"score":0,"creation_date":1517032961,"post_id":48472819,"comment_id":83939848,"body_markdown":"@mahdi_12167 Thank you, it makes sense now.","body":"@mahdi_12167 Thank you, it makes sense now."}],"answers":[{"tags":[],"owner":{"account_id":476999,"reputation":607,"user_id":888211,"accept_rate":100,"display_name":"Caius Brindescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1517034988,"creation_date":1517034988,"answer_id":48473293,"question_id":48472819,"body_markdown":"The `synchronized` keyword takes the _object_\r\n lock. This means that two methods that are `synchronized` cannot execute _on the same object_. They will, however, execute concurrently on invocation on 2 different objects.\r\n\r\nIn your example, your code had 8 objects of `calculator`. The `synchronized` methods do not help you. Each thread uses it&#39;s separate object. You can completely remove the `synchronized` keyword, and your code will be semantically equivalent. \r\n\r\nTo avoid this, use the atomic version of the objects (`AtomicInt`) or lock on the objects themselves: `synchronized(counter){...}` but for this to work you will have to change the type to `Integer`.","title":"Adding numbers using multiple threads in java","body":"<p>The <code>synchronized</code> keyword takes the <em>object</em>\n lock. This means that two methods that are <code>synchronized</code> cannot execute <em>on the same object</em>. They will, however, execute concurrently on invocation on 2 different objects.</p>\n\n<p>In your example, your code had 8 objects of <code>calculator</code>. The <code>synchronized</code> methods do not help you. Each thread uses it's separate object. You can completely remove the <code>synchronized</code> keyword, and your code will be semantically equivalent. </p>\n\n<p>To avoid this, use the atomic version of the objects (<code>AtomicInt</code>) or lock on the objects themselves: <code>synchronized(counter){...}</code> but for this to work you will have to change the type to <code>Integer</code>.</p>\n"},{"tags":[],"owner":{"account_id":5488244,"reputation":16,"user_id":4362393,"display_name":"alain6985"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671017741,"creation_date":1671017741,"answer_id":74797688,"question_id":48472819,"body_markdown":"I&#39;ve just tested your sample and found the addToSum method doesn&#39;t work as expected here with heavy multi-thread, even if [tag:synchronized] keyword is present.\r\n\r\nHere, as sum variable is [tag:static], the method can be made [tag:static] too. \r\n\r\nAfter adding the [tag:static] keyword, the behavior is as expected:\r\n```\r\n    private static synchronized void addToSum(int value)\r\n    {\r\n        sum += value;\r\n    }\r\n```\r\n\r\nHere a simple test (addToSum replaced by incSum for simplicity) :\r\n```\r\n    class IncrementorThread implements Runnable {\r\n        private static int sum = 0;\r\n        private static synchronized void incSum()\r\n        {\r\n            sum ++;\r\n        }\r\n        public void run() {\r\n            incSum();\r\n            Thread.yield();\r\n        }\r\n    }\r\n\r\n    void testIncrementorThread1() {\r\n        ExecutorService executorService = Executors.newCachedThreadPool();\r\n        //ExecutorService executorService = Executors.newSingleThreadExecutor() // result always ok without needing concurrency precaution\r\n        for(int i = 0; i &lt; 5000; i++)\r\n            executorService.execute(new IncrementorThread());\r\n        executorService.shutdown();\r\n        executorService.awaitTermination(4000, TimeUnit.MILLISECONDS);\r\n        System.out.println(&quot;res = &quot;+IncrementorThread.sum); // must be 5000\r\n    }\r\n```\r\n\r\nResult must be 5000, which is not the case if we remove the [tag:static] keyword from the method incSum()\r\n\r\n","title":"Adding numbers using multiple threads in java","body":"<p>I've just tested your sample and found the addToSum method doesn't work as expected here with heavy multi-thread, even if <a href=\"/questions/tagged/synchronized\" class=\"post-tag\" title=\"show questions tagged &#39;synchronized&#39;\" aria-label=\"show questions tagged &#39;synchronized&#39;\" rel=\"tag\" aria-labelledby=\"synchronized-container\">synchronized</a> keyword is present.</p>\n<p>Here, as sum variable is <a href=\"/questions/tagged/static\" class=\"post-tag\" title=\"show questions tagged &#39;static&#39;\" aria-label=\"show questions tagged &#39;static&#39;\" rel=\"tag\" aria-labelledby=\"static-container\">static</a>, the method can be made <a href=\"/questions/tagged/static\" class=\"post-tag\" title=\"show questions tagged &#39;static&#39;\" aria-label=\"show questions tagged &#39;static&#39;\" rel=\"tag\" aria-labelledby=\"static-container\">static</a> too.</p>\n<p>After adding the <a href=\"/questions/tagged/static\" class=\"post-tag\" title=\"show questions tagged &#39;static&#39;\" aria-label=\"show questions tagged &#39;static&#39;\" rel=\"tag\" aria-labelledby=\"static-container\">static</a> keyword, the behavior is as expected:</p>\n<pre><code>    private static synchronized void addToSum(int value)\n    {\n        sum += value;\n    }\n</code></pre>\n<p>Here a simple test (addToSum replaced by incSum for simplicity) :</p>\n<pre><code>    class IncrementorThread implements Runnable {\n        private static int sum = 0;\n        private static synchronized void incSum()\n        {\n            sum ++;\n        }\n        public void run() {\n            incSum();\n            Thread.yield();\n        }\n    }\n\n    void testIncrementorThread1() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        //ExecutorService executorService = Executors.newSingleThreadExecutor() // result always ok without needing concurrency precaution\n        for(int i = 0; i &lt; 5000; i++)\n            executorService.execute(new IncrementorThread());\n        executorService.shutdown();\n        executorService.awaitTermination(4000, TimeUnit.MILLISECONDS);\n        System.out.println(&quot;res = &quot;+IncrementorThread.sum); // must be 5000\n    }\n</code></pre>\n<p>Result must be 5000, which is not the case if we remove the <a href=\"/questions/tagged/static\" class=\"post-tag\" title=\"show questions tagged &#39;static&#39;\" aria-label=\"show questions tagged &#39;static&#39;\" rel=\"tag\" aria-labelledby=\"static-container\">static</a> keyword from the method incSum()</p>\n"}],"owner":{"account_id":12820084,"reputation":109,"user_id":9275308,"display_name":"Brooke"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3434,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48473293,"answer_count":2,"score":1,"last_activity_date":1671017741,"creation_date":1517030119,"question_id":48472819,"body_markdown":"I am having trouble figuring out what my code is doing as this is my first time coding using multiple threads. To start off, in attempt to learn this type of programming I decided to write a miniature program that uses 8 threads to sum a number. However, no matter what I do it seems as if my program never stops when count = 10, it continues onward. I am using 8 threads as I planned on expanding my program to do large calculations. However, these threads are not correlating at all. They are going way past 10. I have used a synchronized method. I have tried a lock. I have tried implementing both at the same time. No matter what, it appears as if the threads still calculate past 10. See below for my current code.\r\n\r\n    public class calculator implements Runnable {\r\n\r\n\tstatic int counter = 0;\r\n\tstatic int sum = 0;\r\n\t\r\n\tprivate synchronized static int getAndIncrement()\r\n\t{\r\n\t//\tSystem.out.println(&quot;counter is  : &quot; + counter);\r\n\r\n\t\tint temp = counter;\r\n\t\tcounter = counter + 1;\r\n\t\tSystem.out.println(&quot;counter is now : &quot; + counter);\r\n\t\treturn temp;\r\n\t}\r\n\t\r\n\tprivate synchronized void addToSum(int value)\r\n\t{\r\n\t//\tSystem.out.println(&quot;sum : &quot; + sum + &quot; value: &quot; + value);\r\n\t\tsum += value;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() \r\n\t{\r\n\t\t// TODO Auto-generated method stub\r\n    \twhile(counter &lt; 10)\r\n\t\t{\r\n    \t\tint tempVal = getAndIncrement();\r\n    \t\tSystem.out.println(&quot;temp val : &quot; + tempVal);\r\n\t\t\taddToSum(tempVal);\r\n\t\t//\tSystem.out.println(&quot;sum is now : &quot; + sum);\r\n\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n    }\r\n\r\n\r\nThis is my main method:\r\n\r\n    \tpublic static void main(String[] args)\r\n\t{\r\n\r\n\t\t\r\n\t\tcalculator[] calc = new calculator[8];\r\n\t\tThread[] thread = new Thread[8];\r\n\t\t\r\n\t\tfinal long startTime = System.currentTimeMillis();\r\n\r\n\t\tfor(int i = 0; i &lt; 8; i++)\r\n\t\t{\r\n\t\t\tcalc[i] = new calculator();\r\n\t\t\tthread[i] = new Thread(calc[i]);\r\n\t\t\tthread[i].start();\r\n\t\t}\r\n\t\t\r\n\t\twhile(thread[0].isAlive() ||thread[1].isAlive() || thread[2].isAlive() || thread[3].isAlive() || thread[4].isAlive() || thread[5].isAlive() || thread[6].isAlive() || thread[7].isAlive())\r\n\t\t{}\r\n\t\t\r\n\t\tfinal long endTime = System.currentTimeMillis();\r\n\t\tSystem.out.println(calculator.sum);\r\n\t\tSystem.out.println(&quot;Execution time : &quot; + (startTime - endTime));\r\n\t}\r\n\r\nI appreciate the help!","title":"Adding numbers using multiple threads in java","body":"<p>I am having trouble figuring out what my code is doing as this is my first time coding using multiple threads. To start off, in attempt to learn this type of programming I decided to write a miniature program that uses 8 threads to sum a number. However, no matter what I do it seems as if my program never stops when count = 10, it continues onward. I am using 8 threads as I planned on expanding my program to do large calculations. However, these threads are not correlating at all. They are going way past 10. I have used a synchronized method. I have tried a lock. I have tried implementing both at the same time. No matter what, it appears as if the threads still calculate past 10. See below for my current code.</p>\n\n<pre><code>public class calculator implements Runnable {\n\nstatic int counter = 0;\nstatic int sum = 0;\n\nprivate synchronized static int getAndIncrement()\n{\n//  System.out.println(\"counter is  : \" + counter);\n\n    int temp = counter;\n    counter = counter + 1;\n    System.out.println(\"counter is now : \" + counter);\n    return temp;\n}\n\nprivate synchronized void addToSum(int value)\n{\n//  System.out.println(\"sum : \" + sum + \" value: \" + value);\n    sum += value;\n}\n\n@Override\npublic void run() \n{\n    // TODO Auto-generated method stub\n    while(counter &lt; 10)\n    {\n        int tempVal = getAndIncrement();\n        System.out.println(\"temp val : \" + tempVal);\n        addToSum(tempVal);\n    //  System.out.println(\"sum is now : \" + sum);\n\n    }\n\n}\n\n\n}\n</code></pre>\n\n<p>This is my main method:</p>\n\n<pre><code>    public static void main(String[] args)\n{\n\n\n    calculator[] calc = new calculator[8];\n    Thread[] thread = new Thread[8];\n\n    final long startTime = System.currentTimeMillis();\n\n    for(int i = 0; i &lt; 8; i++)\n    {\n        calc[i] = new calculator();\n        thread[i] = new Thread(calc[i]);\n        thread[i].start();\n    }\n\n    while(thread[0].isAlive() ||thread[1].isAlive() || thread[2].isAlive() || thread[3].isAlive() || thread[4].isAlive() || thread[5].isAlive() || thread[6].isAlive() || thread[7].isAlive())\n    {}\n\n    final long endTime = System.currentTimeMillis();\n    System.out.println(calculator.sum);\n    System.out.println(\"Execution time : \" + (startTime - endTime));\n}\n</code></pre>\n\n<p>I appreciate the help!</p>\n"},{"tags":["java","multithreading","parallel-processing","executorservice","completable-future"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1670588623,"post_id":74742284,"comment_id":131914260,"body_markdown":"Remove `.join()` - you&#39;re waiting for the execution of each future to finish before submitting the next.","body":"Remove <code>.join()</code> - you&#39;re waiting for the execution of each future to finish before submitting the next."},{"owner":{"account_id":20792361,"reputation":3,"user_id":19436937,"display_name":"Fetix"},"score":0,"creation_date":1670589093,"post_id":74742284,"comment_id":131914418,"body_markdown":"Then I will not know the time of the whole task","body":"Then I will not know the time of the whole task"}],"answers":[{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671017330,"creation_date":1670589073,"answer_id":74743193,"question_id":74742284,"body_markdown":"`.join()` waits for the result of each CompletableFuture before even submitting the next.\r\nHere&#39;s an alternative:\r\n\r\n        final ExecutorService executorService = Executors.newFixedThreadPool(16);\r\n        //try with resources and using a Stream over the files (`Path`s) in the directory:\r\n\t\ttry(Stream&lt;Path&gt; paths = Files.list(folderWithJson.toPath())) {\r\n\t\t\tfinal CompletableFuture&lt;?&gt;[] all = paths\r\n                   //each Path is mapped to a CompletableFuture, to be run on the ExecutorService:\r\n                   .map(path -&gt; CompletableFuture.runAsync(() -&gt; {\r\n\t                   try {\r\n\t\t                   getFineToStat(path.toFile());\r\n\t                   } catch (IOException e) {\r\n\t\t                   throw new RuntimeException(e);\r\n\t                   }\r\n                   }, executorService))\r\n                   //we collect them into a new array, so that we can use them later\r\n                   .toArray(CompletableFuture[]::new);\r\n            //this will wait for all to finish:\r\n\t\t\tCompletableFuture.allOf(all).join();\r\n\t\t\texecutorService.shutdown();\r\n\t\t}\r\n\r\nPlease be aware that `allOf` will return an exceptional result if just one of the tasks completes with an error. To handle errors, avoid throwing the RuntimeException within the task itself. That way each file can be handled separately, and the process may be allowed to continue (or not, as you wish) even if an individual file has issues.","title":"invokeAll but CompletableFuture","body":"<p><code>.join()</code> waits for the result of each CompletableFuture before even submitting the next.\nHere's an alternative:</p>\n<pre><code>    final ExecutorService executorService = Executors.newFixedThreadPool(16);\n    //try with resources and using a Stream over the files (`Path`s) in the directory:\n    try(Stream&lt;Path&gt; paths = Files.list(folderWithJson.toPath())) {\n        final CompletableFuture&lt;?&gt;[] all = paths\n               //each Path is mapped to a CompletableFuture, to be run on the ExecutorService:\n               .map(path -&gt; CompletableFuture.runAsync(() -&gt; {\n                   try {\n                       getFineToStat(path.toFile());\n                   } catch (IOException e) {\n                       throw new RuntimeException(e);\n                   }\n               }, executorService))\n               //we collect them into a new array, so that we can use them later\n               .toArray(CompletableFuture[]::new);\n        //this will wait for all to finish:\n        CompletableFuture.allOf(all).join();\n        executorService.shutdown();\n    }\n</code></pre>\n<p>Please be aware that <code>allOf</code> will return an exceptional result if just one of the tasks completes with an error. To handle errors, avoid throwing the RuntimeException within the task itself. That way each file can be handled separately, and the process may be allowed to continue (or not, as you wish) even if an individual file has issues.</p>\n"}],"owner":{"account_id":20792361,"reputation":3,"user_id":19436937,"display_name":"Fetix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74743193,"answer_count":1,"score":0,"last_activity_date":1671017330,"creation_date":1670584237,"question_id":74742284,"body_markdown":"My task is to load file asynchronously using ExecutiveService &amp; CompletableFuture, and to measure execution time for 2, 4, 8 threads and without parallelization \r\n\r\nIt`s my first method: \r\n\r\n\r\n\r\n\r\n```\r\nFile folderWithJson = new File(pathToFolderWithJson);\r\nExecutorService executorService = Executors.newFixedThreadPool(16);\r\n\r\n\r\nSet&lt;Callable&lt;Boolean&gt;&gt; callables = new HashSet&lt;&gt;();\r\nfor(File file: Objects.requireNonNull(folderWithJson.listFiles())) {\r\n    callables.add(() -&gt; {\r\n        System.out.println(Thread.currentThread().getName());\r\n        return getFineToStat(file);\r\n    });\r\n}\r\nexecutorService.invokeAll(callables);\r\nexecutorService.shutdown();\r\n```\r\n\r\n\r\n\r\n\r\nAnd it works finem but this way, i don`t use CompletableFuture, i have tried this:\r\n\r\n\r\n\r\n\r\n```\r\nFile folderWithJson = new File(pathToFolderWithJson);\r\nExecutorService executorService = Executors.newFixedThreadPool(16);\r\n\r\nfor(File file: Objects.requireNonNull(folderWithJson.listFiles())) {\r\n    CompletableFuture.runAsync(() -&gt; {\r\n        try {\r\n            getFineToStat(file);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }, executorService).join();\r\n}\r\nexecutorService.shutdown();\r\n```\r\n\r\n\r\n\r\n\r\nBut i get almost the same time with different number of threads, although i have 31 file totaling 850mb, there should be a difference\r\n\r\nHow do i implement invokeAll but using CompletableFuture\r\n","title":"invokeAll but CompletableFuture","body":"<p>My task is to load file asynchronously using ExecutiveService &amp; CompletableFuture, and to measure execution time for 2, 4, 8 threads and without parallelization</p>\n<p>It`s my first method:</p>\n<pre><code>File folderWithJson = new File(pathToFolderWithJson);\nExecutorService executorService = Executors.newFixedThreadPool(16);\n\n\nSet&lt;Callable&lt;Boolean&gt;&gt; callables = new HashSet&lt;&gt;();\nfor(File file: Objects.requireNonNull(folderWithJson.listFiles())) {\n    callables.add(() -&gt; {\n        System.out.println(Thread.currentThread().getName());\n        return getFineToStat(file);\n    });\n}\nexecutorService.invokeAll(callables);\nexecutorService.shutdown();\n</code></pre>\n<p>And it works finem but this way, i don`t use CompletableFuture, i have tried this:</p>\n<pre><code>File folderWithJson = new File(pathToFolderWithJson);\nExecutorService executorService = Executors.newFixedThreadPool(16);\n\nfor(File file: Objects.requireNonNull(folderWithJson.listFiles())) {\n    CompletableFuture.runAsync(() -&gt; {\n        try {\n            getFineToStat(file);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }, executorService).join();\n}\nexecutorService.shutdown();\n</code></pre>\n<p>But i get almost the same time with different number of threads, although i have 31 file totaling 850mb, there should be a difference</p>\n<p>How do i implement invokeAll but using CompletableFuture</p>\n"},{"tags":["java","spring-mvc","jstl"],"answers":[{"tags":[],"owner":{"account_id":18802560,"reputation":639,"user_id":13712583,"display_name":"KUNAL HIRANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671017200,"creation_date":1671017200,"answer_id":74797561,"question_id":74797560,"body_markdown":"After searching about it i found out that there is some jakarta migration issue with the tomcat10 server. which is mentioned [here](https://stackoverflow.com/questions/60490478/apache-tomcat-10-0-0-m1-using-jsp-absolute-uri-http-java-sun-com-jsp-jstl-core#:~:text=Tomcat%2010%20ships%20with%20an,EE%209%20conversion%20%2F%20migration%20tool).\r\n\r\nso we can use glassfish jstl implementation:\r\n```\r\ndependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0-M1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nwith addition of this dependency error was solved.","title":"java- jstl in spring mvc is giving JstlCoreTLV cast error","body":"<p>After searching about it i found out that there is some jakarta migration issue with the tomcat10 server. which is mentioned <a href=\"https://stackoverflow.com/questions/60490478/apache-tomcat-10-0-0-m1-using-jsp-absolute-uri-http-java-sun-com-jsp-jstl-core#:%7E:text=Tomcat%2010%20ships%20with%20an,EE%209%20conversion%20%2F%20migration%20tool\">here</a>.</p>\n<p>so we can use glassfish jstl implementation:</p>\n<pre><code>dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-M1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>with addition of this dependency error was solved.</p>\n"}],"owner":{"account_id":18802560,"reputation":639,"user_id":13712583,"display_name":"KUNAL HIRANI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671025930,"answer_count":1,"score":0,"last_activity_date":1671017200,"creation_date":1671017200,"question_id":74797560,"body_markdown":"I am trying to use jstl in my java spring mvc project.\r\n\r\nhere is the dependency \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have added the following line to use jstl in my jsp\r\n\r\n```\r\n&lt;%@ taglib prefix = &quot;c&quot; uri = &quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n```\r\n\r\nbut when i am trying to access that page it is giving me following error.\r\n\r\n```\r\nclass org.apache.taglibs.standard.tlv.JstlCoreTLV cannot be cast to class jakarta.servlet.jsp.tagext.TagLibraryValidator\r\n```\r\n\r\ndoes anyone has any idea what could be wrong?","title":"java- jstl in spring mvc is giving JstlCoreTLV cast error","body":"<p>I am trying to use jstl in my java spring mvc project.</p>\n<p>here is the dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have added the following line to use jstl in my jsp</p>\n<pre><code>&lt;%@ taglib prefix = &quot;c&quot; uri = &quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n</code></pre>\n<p>but when i am trying to access that page it is giving me following error.</p>\n<pre><code>class org.apache.taglibs.standard.tlv.JstlCoreTLV cannot be cast to class jakarta.servlet.jsp.tagext.TagLibraryValidator\n</code></pre>\n<p>does anyone has any idea what could be wrong?</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671017152,"creation_date":1671016341,"answer_id":74797364,"question_id":74796904,"body_markdown":"The Spring `JpaRepository` only allows one type as the ID-type, as can be seen in the [javadoc][1]. Therefore, `findById` will never accept two arguments.\r\n\r\nYou need to define your repository with your EmbeddedId-type as ID-type as follows:\r\n```java\r\n@Repository\r\npublic interface PlansRepository extends JpaRepository&lt;Plans, PlansPKId&gt; {\r\n}\r\n```\r\n\r\nYou can then call the `findById` method as follows:\r\n```java\r\nPlans plans = plansRepo.findById(new PlansPKId(planId, planDate))\r\n    .orElseThrow(PlansNotFoundException.idAndDate(planId, planDate));\r\n```\r\n\r\nIf you dont want to create a new `PlansPKId` instance for every query, you could also define a repository method as follows and let Spring derive the query based on the method name:\r\n```java\r\nOptional&lt;Plans&gt; findByPlansPKIdPlanIdAndPlansPKIdPlanDate(long planId, Date planDate);\r\n```\r\nIf you don&#39;t like to have a cumbersome method name you could as well define a JPQL query and name the method as you like:\r\n```java\r\n@Query(&quot;select p from Plans p where p.plansPKId.planId = :planId and p.plansPKId.planDate = :planDate&quot;)\r\nOptional&lt;Plans&gt; findByCompositeId(@Param(&quot;planId) long planId, @Param(&quot;planDate&quot;) Date planDate);\r\n```\r\n\r\n  \r\nOn a side note, I strongly encourage you to use `LocalDate`, `LocalDateTime` or `ZonedDateTime` (depending on your needs) instead of the legacy `Date` class.\r\n\r\nMoreover, you shouldn&#39;t call `get()` on an `Optional` without checking if it is present. I recently wrote [an answer on SO][2] describing how you can create an elegant error handling. If you stuck to my example, you had to create a `NotFoundException` and then create the `PlansNotFoundException` which extends `NotFoundException`. by this means, everytime when a `PlansNotFoundException` is thrown in thread started by a web request, the user would receive a 404 response and a useful message if you implement it like this:\r\n```java\r\npublic abstract class NotFoundException extends RuntimeException {\r\n\r\n    protected NotFoundException(final String object, final String identifierName, final Object identifier) {\r\n        super(String.format(&quot;No %s found with %s %s&quot;, object, identifierName, identifier));\r\n    }\r\n\r\n    protected NotFoundException(final String object, final Map&lt;String, Object&gt; identifiers) {\r\n        super(String.format(&quot;No %s found with %s&quot;, object,\r\n                identifiers.entrySet().stream()\r\n                        .map(entry -&gt; String.format(&quot;%s %s&quot;, entry.getKey(), entry.getValue()))\r\n                        .collect(Collectors.joining(&quot; and &quot;))));\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class PlansNotFoundException extends NotFoundException {\r\n\r\n    private PlansNotFoundException(final Map&lt;String, Object&gt; identifiers) {\r\n        super(&quot;plans&quot;, identifiers);\r\n    }\r\n\r\n    public static Supplier&lt;PlansNotFoundException&gt; idAndDate(final long planId, final Date planDate) {\r\n        return () -&gt; new PlansNotFoundException(Map.of(&quot;id&quot;, id, &quot;date&quot;, date));\r\n    }\r\n\r\n}\r\n```\r\nFor the `Meds` case:\r\n```java\r\npublic class MedsNotFoundException extends NotFoundException {\r\n\r\n    private MedsNotFoundException(final String identifierName, final Object identifier) {\r\n        super(&quot;meds&quot;, identifierName, identifier);\r\n    }\r\n\r\n    public static Supplier&lt;MedsNotFoundException&gt; id(final long id) {\r\n        return () -&gt; new MedsNotFoundException(&quot;id&quot;, id);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\nMeds meds = medsRepo.findById(id).orElseThrow(MedsNotFoundException.id(id));\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\r\n  [2]: https://stackoverflow.com/a/74769665/5151202","title":"FindById() with a composite key","body":"<p>The Spring <code>JpaRepository</code> only allows one type as the ID-type, as can be seen in the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"nofollow noreferrer\">javadoc</a>. Therefore, <code>findById</code> will never accept two arguments.</p>\n<p>You need to define your repository with your EmbeddedId-type as ID-type as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PlansRepository extends JpaRepository&lt;Plans, PlansPKId&gt; {\n}\n</code></pre>\n<p>You can then call the <code>findById</code> method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Plans plans = plansRepo.findById(new PlansPKId(planId, planDate))\n    .orElseThrow(PlansNotFoundException.idAndDate(planId, planDate));\n</code></pre>\n<p>If you dont want to create a new <code>PlansPKId</code> instance for every query, you could also define a repository method as follows and let Spring derive the query based on the method name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Plans&gt; findByPlansPKIdPlanIdAndPlansPKIdPlanDate(long planId, Date planDate);\n</code></pre>\n<p>If you don't like to have a cumbersome method name you could as well define a JPQL query and name the method as you like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select p from Plans p where p.plansPKId.planId = :planId and p.plansPKId.planDate = :planDate&quot;)\nOptional&lt;Plans&gt; findByCompositeId(@Param(&quot;planId) long planId, @Param(&quot;planDate&quot;) Date planDate);\n</code></pre>\n<p>On a side note, I strongly encourage you to use <code>LocalDate</code>, <code>LocalDateTime</code> or <code>ZonedDateTime</code> (depending on your needs) instead of the legacy <code>Date</code> class.</p>\n<p>Moreover, you shouldn't call <code>get()</code> on an <code>Optional</code> without checking if it is present. I recently wrote <a href=\"https://stackoverflow.com/a/74769665/5151202\">an answer on SO</a> describing how you can create an elegant error handling. If you stuck to my example, you had to create a <code>NotFoundException</code> and then create the <code>PlansNotFoundException</code> which extends <code>NotFoundException</code>. by this means, everytime when a <code>PlansNotFoundException</code> is thrown in thread started by a web request, the user would receive a 404 response and a useful message if you implement it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class NotFoundException extends RuntimeException {\n\n    protected NotFoundException(final String object, final String identifierName, final Object identifier) {\n        super(String.format(&quot;No %s found with %s %s&quot;, object, identifierName, identifier));\n    }\n\n    protected NotFoundException(final String object, final Map&lt;String, Object&gt; identifiers) {\n        super(String.format(&quot;No %s found with %s&quot;, object,\n                identifiers.entrySet().stream()\n                        .map(entry -&gt; String.format(&quot;%s %s&quot;, entry.getKey(), entry.getValue()))\n                        .collect(Collectors.joining(&quot; and &quot;))));\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlansNotFoundException extends NotFoundException {\n\n    private PlansNotFoundException(final Map&lt;String, Object&gt; identifiers) {\n        super(&quot;plans&quot;, identifiers);\n    }\n\n    public static Supplier&lt;PlansNotFoundException&gt; idAndDate(final long planId, final Date planDate) {\n        return () -&gt; new PlansNotFoundException(Map.of(&quot;id&quot;, id, &quot;date&quot;, date));\n    }\n\n}\n</code></pre>\n<p>For the <code>Meds</code> case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MedsNotFoundException extends NotFoundException {\n\n    private MedsNotFoundException(final String identifierName, final Object identifier) {\n        super(&quot;meds&quot;, identifierName, identifier);\n    }\n\n    public static Supplier&lt;MedsNotFoundException&gt; id(final long id) {\n        return () -&gt; new MedsNotFoundException(&quot;id&quot;, id);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Meds meds = medsRepo.findById(id).orElseThrow(MedsNotFoundException.id(id));\n</code></pre>\n"}],"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74797364,"answer_count":1,"score":0,"last_activity_date":1671017152,"creation_date":1671014257,"question_id":74796904,"body_markdown":"I have a composite primary key made of planId and planDate, when the user gives me both this attributes I cant find a way to retrieve it from my Repo. Should findById work like this? \r\n\r\n     public Plans assignPlansToMeds(Long id, Long planId, Date planDate) {\r\n    \r\n            Set&lt;Meds&gt; medsSet = null;\r\n            Meds meds = medsRepo.findById(id).get();\r\n            Plans plans = plansRepo.findById(planId, planDate).get();\r\n    \r\n            medsSet = plans.getAssignedMeds();\r\n    \r\n            medsSet.add(meds);\r\n            plans.setAssignedMeds(medsSet);\r\n            return plansRepo.save(plans);\r\n    \r\n        }\r\n\r\nMy Primary Key:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Embeddable\r\n    public class PlansPKId implements Serializable {\r\n    \r\n        private long planId;\r\n    \r\n        private Date planDate; // format: yyyy-mm-dd\r\n    }\r\n\r\nPlans entity:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;plans&quot;)\r\n    \r\n    public class Plans {\r\n        @EmbeddedId\r\n        private PlansPKId plansPKId;\r\n    \r\n        @Column\r\n        private String planName;\r\n    \r\n        @Column\r\n        private String weekday;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\r\n                @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\r\n                @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;) }, inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\r\n        private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nwhere I ask for the planId and planDate:\r\n\r\n    @PutMapping(&quot;/medicine/{id}/assignToPlan/{planId}/date/{plandate}&quot;)\r\n        public Plans assignMedToPlan(@PathVariable Long id, @PathVariable Long planId, @PathVariable Date planDate){\r\n    \r\n            return assignService.assignPlansToMeds(id, planId, planDate);\r\n    \r\n        }\r\n\r\n\r\n\r\n","title":"FindById() with a composite key","body":"<p>I have a composite primary key made of planId and planDate, when the user gives me both this attributes I cant find a way to retrieve it from my Repo. Should findById work like this?</p>\n<pre><code> public Plans assignPlansToMeds(Long id, Long planId, Date planDate) {\n\n        Set&lt;Meds&gt; medsSet = null;\n        Meds meds = medsRepo.findById(id).get();\n        Plans plans = plansRepo.findById(planId, planDate).get();\n\n        medsSet = plans.getAssignedMeds();\n\n        medsSet.add(meds);\n        plans.setAssignedMeds(medsSet);\n        return plansRepo.save(plans);\n\n    }\n</code></pre>\n<p>My Primary Key:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@Embeddable\npublic class PlansPKId implements Serializable {\n\n    private long planId;\n\n    private Date planDate; // format: yyyy-mm-dd\n}\n</code></pre>\n<p>Plans entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;plans&quot;)\n\npublic class Plans {\n    @EmbeddedId\n    private PlansPKId plansPKId;\n\n    @Column\n    private String planName;\n\n    @Column\n    private String weekday;\n\n    @ManyToMany\n    @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\n            @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\n            @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;) }, inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\n    private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>where I ask for the planId and planDate:</p>\n<pre><code>@PutMapping(&quot;/medicine/{id}/assignToPlan/{planId}/date/{plandate}&quot;)\n    public Plans assignMedToPlan(@PathVariable Long id, @PathVariable Long planId, @PathVariable Date planDate){\n\n        return assignService.assignPlansToMeds(id, planId, planDate);\n\n    }\n</code></pre>\n"},{"tags":["java","timer"],"comments":[{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1266075520,"post_id":2258066,"comment_id":2217978,"body_markdown":"Do you want to wait 5 seconds and then execute something or do you want to continue doing something else in the 5 seconds?","body":"Do you want to wait 5 seconds and then execute something or do you want to continue doing something else in the 5 seconds?"},{"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"score":0,"creation_date":1266075624,"post_id":2258066,"comment_id":2217992,"body_markdown":"i want to continue doing something else","body":"i want to continue doing something else"}],"answers":[{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1266075617,"post_id":2258080,"comment_id":2217990,"body_markdown":"If you run that code, you&#39;ll leak threads. Make sure to clean up the timer when you&#39;ve finished.","body":"If you run that code, you&#39;ll leak threads. Make sure to clean up the timer when you&#39;ve finished."},{"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"score":1,"creation_date":1266076029,"post_id":2258080,"comment_id":2218026,"body_markdown":"@skaffman: I added a statement from the javadoc. Do you really have to clean up after calling schedule?","body":"@skaffman: I added a statement from the javadoc. Do you really have to clean up after calling schedule?"},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1266076301,"post_id":2258080,"comment_id":2218045,"body_markdown":"It might be OK, but then it might not be. If you run that code fragment multiple times, you&#39;ll have loose threads kicking about with no means of tidying them up.","body":"It might be OK, but then it might not be. If you run that code fragment multiple times, you&#39;ll have loose threads kicking about with no means of tidying them up."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":5,"creation_date":1266088101,"post_id":2258080,"comment_id":2218843,"body_markdown":"`import java.util.Timer; import java.util.TimerTask;` might make it more obvious that this is not `javax.swing.Timer`. / Note, if you are using Swing (and actually AWT) you shouldn&#39;t be doing anything to change components on non-Event Dispatch Thread (EDT) threads (`java.util.Timer` tasks bad; `javax.swing.Timer` actions good).","body":"<code>import java.util.Timer; import java.util.TimerTask;</code> might make it more obvious that this is not <code>javax.swing.Timer</code>. / Note, if you are using Swing (and actually AWT) you shouldn&#39;t be doing anything to change components on non-Event Dispatch Thread (EDT) threads (<code>java.util.Timer</code> tasks bad; <code>javax.swing.Timer</code> actions good)."},{"owner":{"account_id":1451138,"reputation":2399,"user_id":1368038,"display_name":"Dandalf"},"score":2,"creation_date":1519509552,"post_id":2258080,"comment_id":84941653,"body_markdown":"@PaulAlexander According to the docs - calling timer&#39;s `cancel` method at the end of the run method would clear up the TimerTasks&#39; execution thread.","body":"@PaulAlexander According to the docs - calling timer&#39;s <code>cancel</code> method at the end of the run method would clear up the TimerTasks&#39; execution thread."},{"owner":{"account_id":7114842,"reputation":311,"user_id":5441525,"accept_rate":57,"display_name":"Georodin"},"score":2,"creation_date":1637349733,"post_id":2258080,"comment_id":123811708,"body_markdown":"2021 here asking, do you still need to clear the thread manually?","body":"2021 here asking, do you still need to clear the thread manually?"}],"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":6,"down_vote_count":1,"up_vote_count":293,"is_accepted":true,"score":292,"last_activity_date":1266094590,"creation_date":1266075498,"answer_id":2258080,"question_id":2258066,"body_markdown":"    new java.util.Timer().schedule( \r\n            new java.util.TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    // your code here\r\n                }\r\n            }, \r\n            5000 \r\n    );\r\n\r\n**EDIT:**\r\n\r\n[javadoc][1] says:\r\n\r\n&gt; After the last live reference to a Timer object goes away and all outstanding tasks have completed execution, the timer&#39;s task execution thread terminates gracefully (and becomes subject to garbage collection). However, this can take arbitrarily long to occur.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Timer.html","title":"Run a java function after a specific number of seconds","body":"<pre><code>new java.util.Timer().schedule( \n        new java.util.TimerTask() {\n            @Override\n            public void run() {\n                // your code here\n            }\n        }, \n        5000 \n);\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Timer.html\" rel=\"noreferrer\">javadoc</a> says:</p>\n\n<blockquote>\n  <p>After the last live reference to a Timer object goes away and all outstanding tasks have completed execution, the timer's task execution thread terminates gracefully (and becomes subject to garbage collection). However, this can take arbitrarily long to occur.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"score":1,"creation_date":1621422248,"post_id":2258082,"comment_id":119489360,"body_markdown":"`shutdown()` does not block. `awaitTermination()` does.","body":"<code>shutdown()</code> does not block. <code>awaitTermination()</code> does."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1624609189,"post_id":2258082,"comment_id":120410336,"body_markdown":"`shutdown()` just doesn&#39;t allow new tasks to be submitted. `shutdownNow()` also interrupts the tasks (not necessarily terminating immedietely).","body":"<code>shutdown()</code> just doesn&#39;t allow new tasks to be submitted. <code>shutdownNow()</code> also interrupts the tasks (not necessarily terminating immedietely)."}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":2,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1266078696,"creation_date":1266075517,"answer_id":2258082,"question_id":2258066,"body_markdown":"Something like this:\r\n\r\n    // When your program starts up\r\n    ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n\r\n    // then, when you want to schedule a task\r\n    Runnable task = ....    \r\n    executor.schedule(task, 5, TimeUnit.SECONDS);\r\n\r\n    // and finally, when your program wants to exit\r\n    executor.shutdown();\r\n\r\nThere are various other factory methods on `Executor` which you can use instead, if you want more threads in the pool.\r\n\r\nAnd remember, it&#39;s important to shutdown the executor when you&#39;ve finished. The `shutdown()` method will cleanly shut down the thread pool when the last task has completed, and will block until this happens. `shutdownNow()` will terminate the thread pool immediately.\r\n\r\n","title":"Run a java function after a specific number of seconds","body":"<p>Something like this:</p>\n\n<pre><code>// When your program starts up\nScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n\n// then, when you want to schedule a task\nRunnable task = ....    \nexecutor.schedule(task, 5, TimeUnit.SECONDS);\n\n// and finally, when your program wants to exit\nexecutor.shutdown();\n</code></pre>\n\n<p>There are various other factory methods on <code>Executor</code> which you can use instead, if you want more threads in the pool.</p>\n\n<p>And remember, it's important to shutdown the executor when you've finished. The <code>shutdown()</code> method will cleanly shut down the thread pool when the last task has completed, and will block until this happens. <code>shutdownNow()</code> will terminate the thread pool immediately.</p>\n"},{"comments":[{"owner":{"account_id":12725,"reputation":3278,"user_id":25210,"accept_rate":42,"display_name":"questzen"},"score":0,"creation_date":1266100126,"post_id":2258084,"comment_id":2219620,"body_markdown":"And it only guarantees that the execution will run after 4sec, which could mean after 10 sec as well!","body":"And it only guarantees that the execution will run after 4sec, which could mean after 10 sec as well!"},{"owner":{"account_id":162531,"reputation":575,"user_id":384042,"accept_rate":75,"display_name":"Ethan"},"score":2,"creation_date":1363843195,"post_id":2258084,"comment_id":22017305,"body_markdown":"questzen, you&#39;ll find that *all* the methods here do that.  In fact, even if you&#39;re scheduling something at the OS level, you generally can only guarantee a minimum elapsed time before an event.","body":"questzen, you&#39;ll find that <i>all</i> the methods here do that.  In fact, even if you&#39;re scheduling something at the OS level, you generally can only guarantee a minimum elapsed time before an event."},{"owner":{"account_id":9809970,"reputation":652,"user_id":7268486,"accept_rate":67,"display_name":"Inder R Singh"},"score":0,"creation_date":1497638114,"post_id":2258084,"comment_id":76179811,"body_markdown":"This is not what actual question was","body":"This is not what actual question was"},{"owner":{"account_id":1588338,"reputation":15599,"user_id":1472222,"accept_rate":87,"display_name":"theMayer"},"score":0,"creation_date":1532459414,"post_id":2258084,"comment_id":89980902,"body_markdown":"I just had to give this a downvote - not at all an answer to the question at hand.","body":"I just had to give this a downvote - not at all an answer to the question at hand."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1551561270,"post_id":2258084,"comment_id":96687025,"body_markdown":"OP said in a comment &quot;i want to continue doing something else&quot;; this code obviously, doesn&#39;t.","body":"OP said in a comment &quot;i want to continue doing something else&quot;; this code obviously, doesn&#39;t."}],"tags":[],"owner":{"account_id":98724,"reputation":760,"user_id":267059,"accept_rate":100,"display_name":"dale"},"comment_count":5,"down_vote_count":9,"up_vote_count":14,"is_accepted":false,"score":5,"last_activity_date":1495629018,"creation_date":1266075541,"answer_id":2258084,"question_id":2258066,"body_markdown":"you could use the Thread.Sleep() function\r\n\r\n    Thread.sleep(4000);\r\n    myfunction();\r\n\r\nYour function will execute after 4 seconds. However this might pause the entire program...\r\n\r\n","title":"Run a java function after a specific number of seconds","body":"<p>you could use the Thread.Sleep() function</p>\n\n<pre><code>Thread.sleep(4000);\nmyfunction();\n</code></pre>\n\n<p>Your function will execute after 4 seconds. However this might pause the entire program...</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1266077974,"creation_date":1266077974,"answer_id":2258229,"question_id":2258066,"body_markdown":"Your original question mentions the &quot;Swing Timer&quot;. If in fact your question is related to SWing, then you should be using the Swing Timer and NOT the util.Timer.\r\n\r\nRead the section from the Swing tutorial on &quot;[How to Use Timers][1]&quot; for more information. \r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/TOC.html","title":"Run a java function after a specific number of seconds","body":"<p>Your original question mentions the \"Swing Timer\". If in fact your question is related to SWing, then you should be using the Swing Timer and NOT the util.Timer.</p>\n\n<p>Read the section from the Swing tutorial on \"<a href=\"http://java.sun.com/docs/books/tutorial/uiswing/TOC.html\" rel=\"noreferrer\">How to Use Timers</a>\" for more information. </p>\n"},{"comments":[{"owner":{"account_id":13782661,"reputation":455,"user_id":9947435,"display_name":"Farshid Ahmadi"},"score":0,"creation_date":1608210300,"post_id":11613540,"comment_id":115516835,"body_markdown":"Just that Go go go! :-)","body":"Just that Go go go! :-)"},{"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"score":0,"creation_date":1633885939,"post_id":11613540,"comment_id":122874058,"body_markdown":"worked like a charm! I think this is the most efficient way.","body":"worked like a charm! I think this is the most efficient way."},{"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"score":0,"creation_date":1668076169,"post_id":11613540,"comment_id":131321217,"body_markdown":"didn&#39;t work for me","body":"didn&#39;t work for me"}],"tags":[],"owner":{"account_id":84245,"reputation":1492,"user_id":235635,"accept_rate":100,"display_name":"zpon"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1343050276,"creation_date":1343050276,"answer_id":11613540,"question_id":2258066,"body_markdown":"Example of using `javax.swing.Timer`\r\n\r\n    Timer timer = new Timer(3000, new ActionListener() {\r\n      @Override\r\n      public void actionPerformed(ActionEvent arg0) {\r\n        // Code to be executed\r\n      }\r\n    });\r\n    timer.setRepeats(false); // Only execute once\r\n    timer.start(); // Go go go!\r\n\r\nThis code will only be executed once, and the execution happens in 3000 ms (3 seconds).\r\n\r\nAs camickr mentions, you should lookup &quot;[How to Use Swing Timers][1]&quot; for a short introduction.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html","title":"Run a java function after a specific number of seconds","body":"<p>Example of using <code>javax.swing.Timer</code></p>\n\n<pre><code>Timer timer = new Timer(3000, new ActionListener() {\n  @Override\n  public void actionPerformed(ActionEvent arg0) {\n    // Code to be executed\n  }\n});\ntimer.setRepeats(false); // Only execute once\ntimer.start(); // Go go go!\n</code></pre>\n\n<p>This code will only be executed once, and the execution happens in 3000 ms (3 seconds).</p>\n\n<p>As camickr mentions, you should lookup \"<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\">How to Use Swing Timers</a>\" for a short introduction.</p>\n"},{"tags":[],"owner":{"account_id":3444779,"reputation":91,"user_id":2885850,"display_name":"user2885850"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1381925294,"creation_date":1381924158,"answer_id":19402604,"question_id":2258066,"body_markdown":"My code is as follows:\r\n\r\n    new java.util.Timer().schedule(\r\n \r\n        new java.util.TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                // your code here, and if you have to refresh UI put this code: \r\n               runOnUiThread(new   Runnable() {\r\n                      public void run() {\r\n                                //your code\r\n             \r\n                            }\r\n                       });\r\n            }\r\n        }, \r\n        5000 \r\n    );","title":"Run a java function after a specific number of seconds","body":"<p>My code is as follows:</p>\n\n<pre><code>new java.util.Timer().schedule(\n\n    new java.util.TimerTask() {\n        @Override\n        public void run() {\n            // your code here, and if you have to refresh UI put this code: \n           runOnUiThread(new   Runnable() {\n                  public void run() {\n                            //your code\n\n                        }\n                   });\n        }\n    }, \n    5000 \n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1487690631,"post_id":40576741,"comment_id":71892104,"body_markdown":"it gives warning sleep called in a loop","body":"it gives warning sleep called in a loop"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1594042931,"post_id":40576741,"comment_id":110979835,"body_markdown":"The `while` is just to ignore interruption.","body":"The <code>while</code> is just to ignore interruption."}],"tags":[],"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594042963,"creation_date":1479058232,"answer_id":40576741,"question_id":2258066,"body_markdown":"[`ScheduledThreadPoolExecutor`][1] has this ability, but it&#39;s quite heavyweight.\r\n\r\n[`Timer`][2] also has this ability but opens several thread even if used only once.\r\n\r\nHere&#39;s a simple implementation with a test (signature close to Android&#39;s [Handler.postDelayed()][3]):\r\n\r\n    public class JavaUtil {\r\n    \tpublic static void postDelayed(final Runnable runnable, final long delayMillis) {\r\n    \t\tfinal long requested = System.currentTimeMillis();\r\n    \t\tnew Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t// The while is just to ignore interruption.\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tlong leftToSleep = requested + delayMillis - System.currentTimeMillis();\r\n    \t\t\t\t\t\tif (leftToSleep &gt; 0) {\r\n    \t\t\t\t\t\t\tThread.sleep(leftToSleep);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t} catch (InterruptedException ignored) {\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\trunnable.run();\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \t}\r\n    }\r\n\r\nTest:\r\n\r\n    @Test\r\n    public void testRunsOnlyOnce() throws InterruptedException {\r\n    \tlong delay = 100;\r\n    \tint num = 0;\r\n    \tfinal AtomicInteger numAtomic = new AtomicInteger(num);\r\n    \tJavaUtil.postDelayed(new Runnable() {\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tnumAtomic.incrementAndGet();\r\n    \t\t}\r\n    \t}, delay);\r\n    \tAssert.assertEquals(num, numAtomic.get());\r\n    \tThread.sleep(delay + 10);\r\n    \tAssert.assertEquals(num + 1, numAtomic.get());\r\n    \tThread.sleep(delay * 2);\r\n    \tAssert.assertEquals(num + 1, numAtomic.get());\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html\r\n  [3]: https://developer.android.com/reference/android/os/Handler.html#postDelayed(java.lang.Runnable,%20long)","title":"Run a java function after a specific number of seconds","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor</code></a> has this ability, but it's quite heavyweight.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\"><code>Timer</code></a> also has this ability but opens several thread even if used only once.</p>\n<p>Here's a simple implementation with a test (signature close to Android's <a href=\"https://developer.android.com/reference/android/os/Handler.html#postDelayed(java.lang.Runnable,%20long)\" rel=\"nofollow noreferrer\">Handler.postDelayed()</a>):</p>\n<pre><code>public class JavaUtil {\n    public static void postDelayed(final Runnable runnable, final long delayMillis) {\n        final long requested = System.currentTimeMillis();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                // The while is just to ignore interruption.\n                while (true) {\n                    try {\n                        long leftToSleep = requested + delayMillis - System.currentTimeMillis();\n                        if (leftToSleep &gt; 0) {\n                            Thread.sleep(leftToSleep);\n                        }\n                        break;\n                    } catch (InterruptedException ignored) {\n                    }\n                }\n                runnable.run();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>@Test\npublic void testRunsOnlyOnce() throws InterruptedException {\n    long delay = 100;\n    int num = 0;\n    final AtomicInteger numAtomic = new AtomicInteger(num);\n    JavaUtil.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            numAtomic.incrementAndGet();\n        }\n    }, delay);\n    Assert.assertEquals(num, numAtomic.get());\n    Thread.sleep(delay + 10);\n    Assert.assertEquals(num + 1, numAtomic.get());\n    Thread.sleep(delay * 2);\n    Assert.assertEquals(num + 1, numAtomic.get());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9745962,"reputation":4943,"user_id":7225971,"accept_rate":100,"display_name":"Mateus"},"score":3,"creation_date":1501253296,"post_id":45375917,"comment_id":77714335,"body_markdown":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}],"tags":[],"owner":{"account_id":9118878,"reputation":165,"user_id":6785049,"accept_rate":0,"display_name":"Amol K"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1545969597,"creation_date":1501251836,"answer_id":45375917,"question_id":2258066,"body_markdown":"    public static Timer t;\r\n    \r\n    public synchronized void startPollingTimer() {\r\n            if (t == null) {\r\n                TimerTask task = new TimerTask() {\r\n                    @Override\r\n                    public void run() {\r\n                       //Do your work\r\n                    }\r\n                };\r\n                \r\n                t = new Timer();\r\n                t.scheduleAtFixedRate(task, 0, 1000);\r\n            }\r\n        }","title":"Run a java function after a specific number of seconds","body":"<pre><code>public static Timer t;\n\npublic synchronized void startPollingTimer() {\n        if (t == null) {\n            TimerTask task = new TimerTask() {\n                @Override\n                public void run() {\n                   //Do your work\n                }\n            };\n\n            t = new Timer();\n            t.scheduleAtFixedRate(task, 0, 1000);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1549215484,"post_id":48968081,"comment_id":95814919,"body_markdown":"Shouldn&#39;t `Timer t` be declared `final` since it&#39;s being accessed inside an inner class?","body":"Shouldn&#39;t <code>Timer t</code> be declared <code>final</code> since it&#39;s being accessed inside an inner class?"},{"owner":{"account_id":1451138,"reputation":2399,"user_id":1368038,"display_name":"Dandalf"},"score":1,"creation_date":1549298860,"post_id":48968081,"comment_id":95844130,"body_markdown":"@JoshuaPinter Yes, it should be declared final but it does not need to be explicitly declared final in at least Java 8. It just needs to be &quot;effectively final&quot; (https://javarevisited.blogspot.com/2015/03/what-is-effectively-final-variable-of.html)","body":"@JoshuaPinter Yes, it should be declared final but it does not need to be explicitly declared final in at least Java 8. It just needs to be &quot;effectively final&quot; (<a href=\"https://javarevisited.blogspot.com/2015/03/what-is-effectively-final-variable-of.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2015/03/&hellip;</a>)"}],"tags":[],"owner":{"account_id":1451138,"reputation":2399,"user_id":1368038,"display_name":"Dandalf"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1549215442,"creation_date":1519509783,"answer_id":48968081,"question_id":2258066,"body_markdown":"As a variation of @tangens answer: if you can&#39;t wait for the garbage collector to clean up your thread, cancel the timer at the end of your run method.   \r\n\r\n    Timer t = new java.util.Timer();\r\n    t.schedule( \r\n            new java.util.TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    // your code here\r\n                    // close the thread\r\n                    t.cancel();\r\n                }\r\n            }, \r\n            5000 \r\n    );","title":"Run a java function after a specific number of seconds","body":"<p>As a variation of @tangens answer: if you can't wait for the garbage collector to clean up your thread, cancel the timer at the end of your run method.   </p>\n\n<pre><code>Timer t = new java.util.Timer();\nt.schedule( \n        new java.util.TimerTask() {\n            @Override\n            public void run() {\n                // your code here\n                // close the thread\n                t.cancel();\n            }\n        }, \n        5000 \n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3878167,"reputation":369,"user_id":3211532,"display_name":"Valchkou"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1521221897,"creation_date":1521135445,"answer_id":49305886,"question_id":2258066,"body_markdown":"All other unswers require to run your code inside a new thread. \r\nIn some simple use cases you may just want to wait a bit and continue execution within the same thread/flow.\r\n\r\nCode below demonstrates that technique. Keep in mind this is similar to what java.util.Timer does under the hood but more lightweight.\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n    public class DelaySample {\r\n\t    public static void main(String[] args) {\r\n\t\t   DelayUtil d = new DelayUtil();\r\n           System.out.println(&quot;started:&quot;+ new Date());\r\n\t\t   d.delay(500);\r\n\t\t   System.out.println(&quot;half second after:&quot;+ new Date());\r\n\t\t   d.delay(1, TimeUnit.MINUTES); \r\n\t\t   System.out.println(&quot;1 minute after:&quot;+ new Date());\r\n\t    }\r\n    }\r\n\r\nDelayUtil Implementation\r\n\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.locks.Condition;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n\r\n    public class DelayUtil {\r\n        /** \r\n        *  Delays the current thread execution. \r\n        *  The thread loses ownership of any monitors. \r\n        *  Quits immediately if the thread is interrupted\r\n        *  \r\n        * @param duration the time duration in milliseconds\r\n        */\r\n       public void delay(final long durationInMillis) {\r\n          delay(durationInMillis, TimeUnit.MILLISECONDS);\r\n       }\r\n    \r\n       /** \r\n        * @param duration the time duration in the given {@code sourceUnit}\r\n        * @param unit\r\n        */\r\n        public void delay(final long duration, final TimeUnit unit) {\r\n            long currentTime = System.currentTimeMillis();\r\n            long deadline = currentTime+unit.toMillis(duration);\r\n            ReentrantLock lock = new ReentrantLock();\r\n            Condition waitCondition = lock.newCondition();\r\n        \r\n            while ((deadline-currentTime)&gt;0) {\r\n                try {\r\n                    lock.lockInterruptibly();    \r\n                    waitCondition.await(deadline-currentTime, TimeUnit.MILLISECONDS);\r\n                } catch (InterruptedException e) {\r\n            \t\tThread.currentThread().interrupt();\r\n            \t\treturn;\r\n                } finally {\r\n                    lock.unlock();\r\n                }\r\n                currentTime = System.currentTimeMillis();\r\n            }\r\n        }\r\n    }\r\n\r\n \r\n\r\n    \r\n","title":"Run a java function after a specific number of seconds","body":"<p>All other unswers require to run your code inside a new thread. \nIn some simple use cases you may just want to wait a bit and continue execution within the same thread/flow.</p>\n\n<p>Code below demonstrates that technique. Keep in mind this is similar to what java.util.Timer does under the hood but more lightweight.</p>\n\n<pre><code>import java.util.concurrent.TimeUnit;\npublic class DelaySample {\n    public static void main(String[] args) {\n       DelayUtil d = new DelayUtil();\n       System.out.println(\"started:\"+ new Date());\n       d.delay(500);\n       System.out.println(\"half second after:\"+ new Date());\n       d.delay(1, TimeUnit.MINUTES); \n       System.out.println(\"1 minute after:\"+ new Date());\n    }\n}\n</code></pre>\n\n<p>DelayUtil Implementation</p>\n\n<pre><code>import java.util.concurrent.TimeUnit;\nimport java.util.concurrent.locks.Condition;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class DelayUtil {\n    /** \n    *  Delays the current thread execution. \n    *  The thread loses ownership of any monitors. \n    *  Quits immediately if the thread is interrupted\n    *  \n    * @param duration the time duration in milliseconds\n    */\n   public void delay(final long durationInMillis) {\n      delay(durationInMillis, TimeUnit.MILLISECONDS);\n   }\n\n   /** \n    * @param duration the time duration in the given {@code sourceUnit}\n    * @param unit\n    */\n    public void delay(final long duration, final TimeUnit unit) {\n        long currentTime = System.currentTimeMillis();\n        long deadline = currentTime+unit.toMillis(duration);\n        ReentrantLock lock = new ReentrantLock();\n        Condition waitCondition = lock.newCondition();\n\n        while ((deadline-currentTime)&gt;0) {\n            try {\n                lock.lockInterruptibly();    \n                waitCondition.await(deadline-currentTime, TimeUnit.MILLISECONDS);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n                return;\n            } finally {\n                lock.unlock();\n            }\n            currentTime = System.currentTimeMillis();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1632586356,"post_id":69327736,"comment_id":122535527,"body_markdown":"Can you please update the answer with a sample program with appropriate import statements and also mention on which java version, it can run successfully.","body":"Can you please update the answer with a sample program with appropriate import statements and also mention on which java version, it can run successfully."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1632586377,"post_id":69327736,"comment_id":122535535,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69327736/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22783195,"reputation":23,"user_id":16938797,"display_name":"Gergő Fazekas"},"comment_count":2,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1632584916,"creation_date":1632584916,"answer_id":69327736,"question_id":2258066,"body_markdown":"Perhaps the most transparent way is to use the *postDelayed* function of the *Handler* class the following way:\r\n\r\n\r\n    new Handler().postDelayed(this::function, 1000);\r\n\r\nor you can implement the function inside, for example:\r\n\r\n    new Handler().postDelayed(() -&gt; System.out.println(&quot;A second later&quot;), 1000);\r\n*Where the first argument is the function, the second argument is the delay time in milliseconds.\r\nIn the first example, the name of the called function is &quot;function&quot;.*\r\n\r\n","title":"Run a java function after a specific number of seconds","body":"<p>Perhaps the most transparent way is to use the <em>postDelayed</em> function of the <em>Handler</em> class the following way:</p>\n<pre><code>new Handler().postDelayed(this::function, 1000);\n</code></pre>\n<p>or you can implement the function inside, for example:</p>\n<pre><code>new Handler().postDelayed(() -&gt; System.out.println(&quot;A second later&quot;), 1000);\n</code></pre>\n<p><em>Where the first argument is the function, the second argument is the delay time in milliseconds.\nIn the first example, the name of the called function is &quot;function&quot;.</em></p>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633886927,"creation_date":1633886927,"answer_id":69517434,"question_id":2258066,"body_markdown":"I think in this case : \r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.ActionListener;\r\nis the best. When the Question is prevent Ui stack or a progress not visible before a heavy work or network call. We can use the following methods (from my experience) : \r\n\r\nRun a method after one Second : \r\n\r\n     public static void startMethodAfterOneSeconds(Runnable runnable) {\r\n            Timer timer = new Timer(1000, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(java.awt.event.ActionEvent e) {\r\n                    runnable.run();\r\n                }\r\n    \r\n            });\r\n            timer.setRepeats(false); // Only execute once\r\n            timer.start(); \r\n        }\r\n\r\nRun a method after n second once, Non repeating : \r\n\r\n    public static void startMethodAfterNMilliseconds(Runnable runnable, int milliSeconds) {\r\n        Timer timer = new Timer(milliSeconds, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(java.awt.event.ActionEvent e) {\r\n                runnable.run();\r\n            }\r\n    \r\n        });\r\n        timer.setRepeats(false); // Only execute once\r\n        timer.start(); \r\n    }\r\n\r\nRun a method after n seconds, and repeat : \r\n\r\n   \r\n\r\n     public static void repeatMethodAfterNMilliseconds(Runnable runnable, int milliSeconds) {\r\n            Timer timer = new Timer(milliSeconds, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(java.awt.event.ActionEvent e) {\r\n                    runnable.run();\r\n                }\r\n    \r\n            });\r\n            timer.setRepeats(true); // Only execute once\r\n            timer.start(); \r\n        }\r\n\r\nAnd the Usage : \r\n\r\n \r\n\r\n     startMethodAfterNMilliseconds(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    // myMethod(); // Your method goes here. \r\n                }\r\n            }, 1000);","title":"Run a java function after a specific number of seconds","body":"<p>I think in this case :</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionListener;\n</code></pre>\n<p>is the best. When the Question is prevent Ui stack or a progress not visible before a heavy work or network call. We can use the following methods (from my experience) :</p>\n<p>Run a method after one Second :</p>\n<pre><code> public static void startMethodAfterOneSeconds(Runnable runnable) {\n        Timer timer = new Timer(1000, new ActionListener() {\n            @Override\n            public void actionPerformed(java.awt.event.ActionEvent e) {\n                runnable.run();\n            }\n\n        });\n        timer.setRepeats(false); // Only execute once\n        timer.start(); \n    }\n</code></pre>\n<p>Run a method after n second once, Non repeating :</p>\n<pre><code>public static void startMethodAfterNMilliseconds(Runnable runnable, int milliSeconds) {\n    Timer timer = new Timer(milliSeconds, new ActionListener() {\n        @Override\n        public void actionPerformed(java.awt.event.ActionEvent e) {\n            runnable.run();\n        }\n\n    });\n    timer.setRepeats(false); // Only execute once\n    timer.start(); \n}\n</code></pre>\n<p>Run a method after n seconds, and repeat :</p>\n<pre><code> public static void repeatMethodAfterNMilliseconds(Runnable runnable, int milliSeconds) {\n        Timer timer = new Timer(milliSeconds, new ActionListener() {\n            @Override\n            public void actionPerformed(java.awt.event.ActionEvent e) {\n                runnable.run();\n            }\n\n        });\n        timer.setRepeats(true); // Only execute once\n        timer.start(); \n    }\n</code></pre>\n<p>And the Usage :</p>\n<pre><code> startMethodAfterNMilliseconds(new Runnable() {\n            @Override\n            public void run() {\n                // myMethod(); // Your method goes here. \n            }\n        }, 1000);\n</code></pre>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324793,"favorite_count":0,"down_vote_count":1,"up_vote_count":193,"accepted_answer_id":2258080,"answer_count":12,"score":192,"last_activity_date":1671017020,"creation_date":1266075274,"question_id":2258066,"body_markdown":"I have a specific function that I want to be executed after 5 seconds.\r\nHow can I do that in Java?\r\n\r\nI found javax.swing.timer, but I can&#39;t really understand how to use it. It looks like I&#39;m looking for something way simpler then this class provides.\r\n\r\nPlease add a simple usage example.","title":"Run a java function after a specific number of seconds","body":"<p>I have a specific function that I want to be executed after 5 seconds.\nHow can I do that in Java?</p>\n<p>I found javax.swing.timer, but I can't really understand how to use it. It looks like I'm looking for something way simpler then this class provides.</p>\n<p>Please add a simple usage example.</p>\n"},{"tags":["java","spring","dto"],"answers":[{"comments":[{"owner":{"account_id":23551117,"reputation":1,"user_id":17593813,"display_name":"Muse"},"score":0,"creation_date":1671019570,"post_id":74797514,"comment_id":132005695,"body_markdown":"I think this can cause confusion if some fields are validated in DTO while some are not.","body":"I think this can cause confusion if some fields are validated in DTO while some are not."}],"tags":[],"owner":{"account_id":10487366,"reputation":93,"user_id":7730443,"accept_rate":0,"display_name":"Vivek Baranwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671016967,"creation_date":1671016967,"answer_id":74797514,"question_id":74796931,"body_markdown":"Assuming you will have different APIs for create and update operation. You can use same dto and for password field you can put validation at backend side based on operation rather than in DTO itself.","title":"Should I use different DTO for Create and Update?","body":"<p>Assuming you will have different APIs for create and update operation. You can use same dto and for password field you can put validation at backend side based on operation rather than in DTO itself.</p>\n"}],"owner":{"account_id":23551117,"reputation":1,"user_id":17593813,"display_name":"Muse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671016967,"creation_date":1671014362,"question_id":74796931,"body_markdown":"I have create and update operation for user and the following UserDto\r\n\r\n```\r\npublic class UserDto {\r\n  @NotBlank\r\n  private String username;\r\n  @NotBlank\r\n  private String password;\r\n  @NotBlank\r\n  private String mobileNo;\r\n\r\n  ... other variables, etc.\r\n\r\n}\r\n```\r\n\r\nFor update operation, I don&#39;t want to update the password, I only want to update other variables. Then the password would be received as null (hence not passing @NotBlank). \r\n\r\nBut the @NotBlank is required for create operation. What is the best approach to solve this? \r\n\r\nShould I create 2 Dtos e.g. UserCreateDto, UserUpdateDto (without password field).\r\n\r\nI&#39;m not sure if this is a good practice.","title":"Should I use different DTO for Create and Update?","body":"<p>I have create and update operation for user and the following UserDto</p>\n<pre><code>public class UserDto {\n  @NotBlank\n  private String username;\n  @NotBlank\n  private String password;\n  @NotBlank\n  private String mobileNo;\n\n  ... other variables, etc.\n\n}\n</code></pre>\n<p>For update operation, I don't want to update the password, I only want to update other variables. Then the password would be received as null (hence not passing @NotBlank).</p>\n<p>But the @NotBlank is required for create operation. What is the best approach to solve this?</p>\n<p>Should I create 2 Dtos e.g. UserCreateDto, UserUpdateDto (without password field).</p>\n<p>I'm not sure if this is a good practice.</p>\n"},{"tags":["java","excel","spring-boot"],"comments":[{"owner":{"account_id":2322328,"reputation":1012,"user_id":2037710,"display_name":"Guilherme Mussi"},"score":1,"creation_date":1528952284,"post_id":50849800,"comment_id":88702483,"body_markdown":"Use Apache Poi with XSSF part.","body":"Use Apache Poi with XSSF part."},{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1528952529,"post_id":50849800,"comment_id":88702560,"body_markdown":"Do you want to store the file in the database or its contents in tables?","body":"Do you want to store the file in the database or its contents in tables?"},{"owner":{"account_id":10519181,"reputation":839,"user_id":7769315,"display_name":"Manish Bansal"},"score":0,"creation_date":1528959562,"post_id":50849800,"comment_id":88705464,"body_markdown":"i want its content in tables.","body":"i want its content in tables."}],"answers":[{"tags":[],"owner":{"account_id":6111309,"reputation":11786,"user_id":7831045,"display_name":"Rahul Mahadik"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1528960688,"creation_date":1528960688,"answer_id":50851706,"question_id":50849800,"body_markdown":"Use Apache POI library which is easily available using Maven Dependencies.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;3.15&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n**Code to read file**\r\n\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    \r\n    public class ApachePOIExcelRead {\r\n    \r\n        private static final String FILE_NAME = &quot;/tmp/MyFirstExcel.xlsx&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n    \r\n                FileInputStream excelFile = new FileInputStream(new File(FILE_NAME));\r\n                Workbook workbook = new XSSFWorkbook(excelFile);\r\n                Sheet datatypeSheet = workbook.getSheetAt(0);\r\n                Iterator&lt;Row&gt; iterator = datatypeSheet.iterator();\r\n    \r\n                while (iterator.hasNext()) {\r\n    \r\n                    Row currentRow = iterator.next();\r\n                    Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\r\n    \r\n                    while (cellIterator.hasNext()) {\r\n    \r\n                        Cell currentCell = cellIterator.next();\r\n                        //getCellTypeEnum shown as deprecated for version 3.15\r\n                        //getCellTypeEnum ill be renamed to getCellType starting from version 4.0\r\n                        if (currentCell.getCellTypeEnum() == CellType.STRING) {\r\n                            System.out.print(currentCell.getStringCellValue() + &quot;--&quot;);\r\n                        } else if (currentCell.getCellTypeEnum() == CellType.NUMERIC) {\r\n                            System.out.print(currentCell.getNumericCellValue() + &quot;--&quot;);\r\n                        }\r\n    \r\n                    }\r\n                    System.out.println();\r\n    \r\n                }\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nPlease modify above program as per your requirement.\r\nIf you know your excel file column index then you can direct row to read cell e.g.`row.getCell(0)` where `row` object like `XSSFRow row = (XSSFRow) iterator.next();`\r\n\r\nHope this will helps you\r\n\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://www.mkyong.com/java/apache-poi-reading-and-writing-excel-file-in-java/","title":"How to read excel file using spring boot","body":"<p>Use Apache POI library which is easily available using Maven Dependencies.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.15&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Code to read file</strong></p>\n\n<pre><code>import org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.Iterator;\n\npublic class ApachePOIExcelRead {\n\n    private static final String FILE_NAME = \"/tmp/MyFirstExcel.xlsx\";\n\n    public static void main(String[] args) {\n\n        try {\n\n            FileInputStream excelFile = new FileInputStream(new File(FILE_NAME));\n            Workbook workbook = new XSSFWorkbook(excelFile);\n            Sheet datatypeSheet = workbook.getSheetAt(0);\n            Iterator&lt;Row&gt; iterator = datatypeSheet.iterator();\n\n            while (iterator.hasNext()) {\n\n                Row currentRow = iterator.next();\n                Iterator&lt;Cell&gt; cellIterator = currentRow.iterator();\n\n                while (cellIterator.hasNext()) {\n\n                    Cell currentCell = cellIterator.next();\n                    //getCellTypeEnum shown as deprecated for version 3.15\n                    //getCellTypeEnum ill be renamed to getCellType starting from version 4.0\n                    if (currentCell.getCellTypeEnum() == CellType.STRING) {\n                        System.out.print(currentCell.getStringCellValue() + \"--\");\n                    } else if (currentCell.getCellTypeEnum() == CellType.NUMERIC) {\n                        System.out.print(currentCell.getNumericCellValue() + \"--\");\n                    }\n\n                }\n                System.out.println();\n\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>Please modify above program as per your requirement.\nIf you know your excel file column index then you can direct row to read cell e.g.<code>row.getCell(0)</code> where <code>row</code> object like <code>XSSFRow row = (XSSFRow) iterator.next();</code></p>\n\n<p>Hope this will helps you</p>\n\n<p><a href=\"https://www.mkyong.com/java/apache-poi-reading-and-writing-excel-file-in-java/\" rel=\"noreferrer\">Reference</a></p>\n"},{"comments":[{"owner":{"account_id":3684821,"reputation":770,"user_id":3068803,"display_name":"surendrapanday"},"score":0,"creation_date":1548300535,"post_id":50857299,"comment_id":95494586,"body_markdown":"can you paste your pom.xml file here?","body":"can you paste your pom.xml file here?"},{"owner":{"account_id":9306261,"reputation":128,"user_id":6909882,"accept_rate":20,"display_name":"Moamen Adel"},"score":0,"creation_date":1639484764,"post_id":50857299,"comment_id":124355321,"body_markdown":"Thank you for this amazing solution.","body":"Thank you for this amazing solution."}],"tags":[],"owner":{"account_id":10519181,"reputation":839,"user_id":7769315,"display_name":"Manish Bansal"},"comment_count":2,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1594106794,"creation_date":1528978390,"answer_id":50857299,"question_id":50849800,"body_markdown":"Finally found the solution.\r\n\r\nHtml file for uploading the form is \r\n\r\n    &lt;form th:action=&quot;@{/import}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    \t&lt;input type=&quot;file&quot; th:name=&quot;file&quot; /&gt;\r\n        &lt;input th:type=&quot;submit&quot; value=&quot;Import&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\nController class is \r\n\r\n\r\n\t@PostMapping(&quot;/import&quot;)\r\n\tpublic void mapReapExcelDatatoDB(@RequestParam(&quot;file&quot;) MultipartFile reapExcelDataFile) throws IOException {\r\n\t\t\r\n\t    List&lt;Test&gt; tempStudentList = new ArrayList&lt;Test&gt;();\r\n\t    XSSFWorkbook workbook = new XSSFWorkbook(reapExcelDataFile.getInputStream());\r\n\t\tXSSFSheet worksheet = workbook.getSheetAt(0);\r\n\t\t\r\n\t\tfor(int i=1;i&lt;worksheet.getPhysicalNumberOfRows() ;i++) {\r\n\t\t\tTest tempStudent = new Test();\r\n\t\t\t\t\r\n\t\t\tXSSFRow row = worksheet.getRow(i);\r\n\t\t\t\t\r\n\t\t\ttempStudent.setId((int) row.getCell(0).getNumericCellValue());\r\n\t\t\ttempStudent.setContent(row.getCell(1).getStringCellValue());\r\n\t\t\ttempStudentList.add(tempStudent);\t\r\n\t\t}\r\n\t}\r\n\r\n\r\nMake sure to add the dependecy\r\n\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- excel 2007 over--&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\n\r\n\r\nNow it will work fine.","title":"How to read excel file using spring boot","body":"<p>Finally found the solution.</p>\n<p>Html file for uploading the form is</p>\n<pre><code>&lt;form th:action=&quot;@{/import}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;input type=&quot;file&quot; th:name=&quot;file&quot; /&gt;\n    &lt;input th:type=&quot;submit&quot; value=&quot;Import&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Controller class is</p>\n<pre><code>@PostMapping(&quot;/import&quot;)\npublic void mapReapExcelDatatoDB(@RequestParam(&quot;file&quot;) MultipartFile reapExcelDataFile) throws IOException {\n    \n    List&lt;Test&gt; tempStudentList = new ArrayList&lt;Test&gt;();\n    XSSFWorkbook workbook = new XSSFWorkbook(reapExcelDataFile.getInputStream());\n    XSSFSheet worksheet = workbook.getSheetAt(0);\n    \n    for(int i=1;i&lt;worksheet.getPhysicalNumberOfRows() ;i++) {\n        Test tempStudent = new Test();\n            \n        XSSFRow row = worksheet.getRow(i);\n            \n        tempStudent.setId((int) row.getCell(0).getNumericCellValue());\n        tempStudent.setContent(row.getCell(1).getStringCellValue());\n        tempStudentList.add(tempStudent);   \n    }\n}\n</code></pre>\n<p>Make sure to add the dependecy</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;3.12&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- excel 2007 over--&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now it will work fine.</p>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1572272698,"creation_date":1556276547,"answer_id":55866227,"question_id":50849800,"body_markdown":"Works for me\r\n    \r\n```\r\n    &lt;form th:action=&quot;@{/import}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    \r\n        &lt;input type=&quot;file&quot; th:name=&quot;file&quot;&gt;\r\n    \r\n    &lt;input th:type=&quot;submit&quot; value=&quot;Import&quot; /&gt;\r\n```\r\n```\r\n    @PostMapping(&quot;/import&quot;)\r\n    public void mapReapExcelDatatoDB(@RequestParam(&quot;file&quot;) MultipartFile reapExcelDataFile) throws IOException {\r\n    \r\n       List&lt;Test&gt; tempStudentList = new ArrayList&lt;Test&gt;();\r\n        XSSFWorkbook workbook = new XSSFWorkbook(reapExcelDataFile.getInputStream());\r\n        XSSFSheet worksheet = workbook.getSheetAt(0);\r\n    \r\n        for(int i=1;i&lt;worksheet.getPhysicalNumberOfRows() ;i++) {\r\n            Test tempStudent = new Test();\r\n    \r\n            XSSFRow row = worksheet.getRow(i);\r\n    \r\n            tempStudent.setId((int) row.getCell(0).getNumericCellValue());\r\n            tempStudent.setContent(row.getCell(1).getStringCellValue());\r\n                tempStudentList.add(tempStudent);   \r\n        }\r\n    }\r\n```","title":"How to read excel file using spring boot","body":"<p>Works for me</p>\n\n<pre><code>    &lt;form th:action=\"@{/import}\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n\n        &lt;input type=\"file\" th:name=\"file\"&gt;\n\n    &lt;input th:type=\"submit\" value=\"Import\" /&gt;\n</code></pre>\n\n<pre><code>    @PostMapping(\"/import\")\n    public void mapReapExcelDatatoDB(@RequestParam(\"file\") MultipartFile reapExcelDataFile) throws IOException {\n\n       List&lt;Test&gt; tempStudentList = new ArrayList&lt;Test&gt;();\n        XSSFWorkbook workbook = new XSSFWorkbook(reapExcelDataFile.getInputStream());\n        XSSFSheet worksheet = workbook.getSheetAt(0);\n\n        for(int i=1;i&lt;worksheet.getPhysicalNumberOfRows() ;i++) {\n            Test tempStudent = new Test();\n\n            XSSFRow row = worksheet.getRow(i);\n\n            tempStudent.setId((int) row.getCell(0).getNumericCellValue());\n            tempStudent.setContent(row.getCell(1).getStringCellValue());\n                tempStudentList.add(tempStudent);   \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16114108,"reputation":11,"user_id":11697158,"display_name":"Vdalk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561479844,"creation_date":1561479844,"answer_id":56758341,"question_id":50849800,"body_markdown":"It&#39;s also good to add this **dependency** too: \r\n\r\n    &lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"How to read excel file using spring boot","body":"<p>It's also good to add this <strong>dependency</strong> too: </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10519181,"reputation":839,"user_id":7769315,"display_name":"Manish Bansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100041,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"accepted_answer_id":50857299,"answer_count":4,"score":20,"last_activity_date":1671016321,"creation_date":1528951751,"question_id":50849800,"body_markdown":"I am making a spring boot application which will take the excel file and store its content and store it in database. I have tried many ways..but not successful. Does anyone have an idea about how to do this.\r\nI don&#39;t know how to make the controller for importing the excel file. And is there any dependency which I have to include for reading data from excel file","title":"How to read excel file using spring boot","body":"<p>I am making a spring boot application which will take the excel file and store its content and store it in database. I have tried many ways..but not successful. Does anyone have an idea about how to do this.\nI don't know how to make the controller for importing the excel file. And is there any dependency which I have to include for reading data from excel file</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1670954249,"post_id":74787215,"comment_id":131990846,"body_markdown":"Could you explain your use case - why do you want a single repository across these two entities, instead of just going the conventional route of declaring two separate `JpaRepository` interfaces for them?","body":"Could you explain your use case - why do you want a single repository across these two entities, instead of just going the conventional route of declaring two separate <code>JpaRepository</code> interfaces for them?"},{"owner":{"account_id":27241377,"reputation":1,"user_id":20767508,"display_name":"working_banana"},"score":0,"creation_date":1671001730,"post_id":74787215,"comment_id":132000349,"body_markdown":"I want to create abstract service&lt;T&gt; and call findFirstBy&#39;identifier&#39; method there that will return T object depending on the service type","body":"I want to create abstract service&lt;T&gt; and call findFirstBy&#39;identifier&#39; method there that will return T object depending on the service type"},{"owner":{"account_id":27241377,"reputation":1,"user_id":20767508,"display_name":"working_banana"},"score":0,"creation_date":1671015940,"post_id":74787215,"comment_id":132004422,"body_markdown":"@priyank-sriv just a bad way to do simple thing. Anyway thank you for your time","body":"@priyank-sriv just a bad way to do simple thing. Anyway thank you for your time"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671225183,"post_id":74797228,"comment_id":132061412,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74797228/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27241377,"reputation":1,"user_id":20767508,"display_name":"working_banana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015867,"creation_date":1671015759,"answer_id":74797228,"question_id":74787215,"body_markdown":"This was just a crappy idea.  \r\nI just created  \r\nabstract method in abstract class for finding object  \r\ntwo repositories for both classes  \r\nautowired them in abstract class implementations and used inside the abstract method mentioned above\r\n","title":"spring: change single repository method","body":"<p>This was just a crappy idea.<br />\nI just created<br />\nabstract method in abstract class for finding object<br />\ntwo repositories for both classes<br />\nautowired them in abstract class implementations and used inside the abstract method mentioned above</p>\n"}],"owner":{"account_id":27241377,"reputation":1,"user_id":20767508,"display_name":"working_banana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671015867,"creation_date":1670945326,"question_id":74787215,"body_markdown":"to make it super simple\r\nI got base entity class with just id field\r\n1st class extends base entity and got additional field string &quot;size&quot;\r\n2nd class extends base entity and got additional field string &quot;color&quot;\r\n\r\nI want to make repository with method\r\n\r\n```\r\npublic interface myRepository&lt;T extends BaseEntity, IdT&gt; extends JpaRepository&lt;T, IdT&gt; {\r\n\r\n  Optional&lt;T&gt; findFirstByIdentifier(String identifier);\r\n}\r\n```\r\nwhere identifier is (depending on the type) size or color\r\n\r\nsomething like calling Optional&lt;T&gt; findFirstByColor(String colorName);\r\nand Optional&lt;T&gt; findFirstBySize(String sizeName);\r\ninside Optional&lt;T&gt; findFirstByIdentifier(String identifier); depending what the T type is\r\nIs there a simple way to do this?\r\n\r\nI was thinking about making class with just \r\nOptional&lt;T&gt; findFirstByIdentifier(String identifier);\r\nand instead of declaring it in &quot;myRepository&quot; doing this in another repository class like\r\nmyRepositorySearchQuery, then making myRepositorySearchQueryImpl, but then i would need another repository class with Optional&lt;T&gt; findFirstBySize(String sizeName); to call it into the implementation and decided it would be better to just ask for some tip","title":"spring: change single repository method","body":"<p>to make it super simple\nI got base entity class with just id field\n1st class extends base entity and got additional field string &quot;size&quot;\n2nd class extends base entity and got additional field string &quot;color&quot;</p>\n<p>I want to make repository with method</p>\n<pre><code>public interface myRepository&lt;T extends BaseEntity, IdT&gt; extends JpaRepository&lt;T, IdT&gt; {\n\n  Optional&lt;T&gt; findFirstByIdentifier(String identifier);\n}\n</code></pre>\n<p>where identifier is (depending on the type) size or color</p>\n<p>something like calling Optional findFirstByColor(String colorName);\nand Optional findFirstBySize(String sizeName);\ninside Optional findFirstByIdentifier(String identifier); depending what the T type is\nIs there a simple way to do this?</p>\n<p>I was thinking about making class with just\nOptional findFirstByIdentifier(String identifier);\nand instead of declaring it in &quot;myRepository&quot; doing this in another repository class like\nmyRepositorySearchQuery, then making myRepositorySearchQueryImpl, but then i would need another repository class with Optional findFirstBySize(String sizeName); to call it into the implementation and decided it would be better to just ask for some tip</p>\n"},{"tags":["java","eclipse","crash","sapjvm"],"answers":[{"tags":[],"owner":{"account_id":27248493,"reputation":1,"user_id":20773383,"display_name":"Sriganesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015791,"creation_date":1671006460,"answer_id":74795405,"question_id":74795332,"body_markdown":"Reinstalling the JRE with all the optional Features set to Entire feature will be installed on the local drive solved this issue.\r\n[JRE Installation][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0QH8v.png","title":"Eclipse Crashing While trying to launch it with hs_err_pid****.log SAPMachine 11.0.17 JDK","body":"<p>Reinstalling the JRE with all the optional Features set to Entire feature will be installed on the local drive solved this issue.\n<a href=\"https://i.stack.imgur.com/0QH8v.png\" rel=\"nofollow noreferrer\">JRE Installation</a></p>\n"}],"owner":{"account_id":27248493,"reputation":1,"user_id":20773383,"display_name":"Sriganesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671015791,"creation_date":1671006069,"question_id":74795332,"body_markdown":"When trying to launch the eclipse its creating a hs_err_pid****.log file and crashing. This started after I upgraded the Windows to Win11 I&#39;m using sapmachine-11.0.17 JDK\r\nThe content of the log file.\r\n```\r\n A fatal error has been detected by the Java Runtime Environment:\r\n\r\n  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe3d789033, pid=10104, tid=18992\r\n\r\n JRE version:  (11.0.17+8) (build )\r\n Java VM: OpenJDK 64-Bit Server VM (11.0.17+8-LTS-sapmachine, mixed mode, sharing, tiered, compressed oops, g1 gc, windows-amd64)\r\n Problematic frame:\r\n V  [jvm.dll+0x1d9033]  protected: static void __cdecl ClassLoader::setup_boot_search_path(char const * __ptr64)+0x33\r\n\r\n No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n```\r\n\r\nI was trying to launch the Eclipse IDE ( Eclipse IDE for Java Developers - 2022-06) it was crashing","title":"Eclipse Crashing While trying to launch it with hs_err_pid****.log SAPMachine 11.0.17 JDK","body":"<p>When trying to launch the eclipse its creating a hs_err_pid****.log file and crashing. This started after I upgraded the Windows to Win11 I'm using sapmachine-11.0.17 JDK\nThe content of the log file.</p>\n<pre><code> A fatal error has been detected by the Java Runtime Environment:\n\n  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe3d789033, pid=10104, tid=18992\n\n JRE version:  (11.0.17+8) (build )\n Java VM: OpenJDK 64-Bit Server VM (11.0.17+8-LTS-sapmachine, mixed mode, sharing, tiered, compressed oops, g1 gc, windows-amd64)\n Problematic frame:\n V  [jvm.dll+0x1d9033]  protected: static void __cdecl ClassLoader::setup_boot_search_path(char const * __ptr64)+0x33\n\n No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n</code></pre>\n<p>I was trying to launch the Eclipse IDE ( Eclipse IDE for Java Developers - 2022-06) it was crashing</p>\n"},{"tags":["java","mongodb","maven","junit","azure-functions"],"owner":{"account_id":27249945,"reputation":11,"user_id":20774573,"display_name":"Shaik Muzammil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671015607,"creation_date":1671015439,"question_id":74797162,"body_markdown":"Exception I am getting\r\n\r\nCannot instantiate @InjectMocks field named &#39;csoKpiBlobTriggerFunction&#39; of type &#39;class com.stellantis.cso.kpi.function.CsoKpiBlobTriggerFunction&#39;.\r\nYou haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\nHowever the constructor or the initialization block threw an exception : Cannot invoke &quot;String.startsWith(String)&quot; because &quot;connectionString&quot; is null\r\n\r\n\r\n\r\n\t@Mock\r\n    MongoCollection mockCollection;\r\n\t\r\n\t@Mock\r\n\tMongoClient mongoClient;\r\n\t\r\n\t@Mock\r\n\tMongoDatabase database;\r\n\t\r\n\t@InjectMocks\r\n\tCsoKpiBlobTriggerFunction csoKpiBlobTriggerFunction;\r\n\t\r\n\t\r\n\t@InjectMocks\r\n\tExecutionContextMock executionContext;\r\n\t\r\n\t\r\n\r\n\t\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Test\r\n\tvoid TestRun() throws Exception {\r\n\t\tFile file = new File(&quot;/src/test/resources/json/10Q3EG1421896.json&quot;);\r\n\t\tbyte[] arr = new byte[(int)file.length()];\r\n\t\t\r\n\t\tMockito.when(mongoClient.getDatabase(Mockito.anyString())).thenReturn(database);\r\n\t\t\r\n\t\tMockito.when(database.getCollection(Mockito.anyString())).thenReturn(mockCollection);\r\n\t\t\r\n\r\n        csoKpiBlobTriggerFunction.run(arr,&quot;10Q3EG1421896.json&quot;,executionContext);\r\n\t\t//PowerMockito.whenNew(MongoClient.class).withArguments(Mockito.anyString()).thenReturn(mongoClient);\r\n\t\t//PowerMockito.whenNew(MongoClientURI.class).withArguments(Mockito.anyString(),Mockito.any()).thenReturn(Mockito.any());\r\n\t\t//PowerMockito.whenNew(ConnectionString.class).withArguments(&quot;mongodb://&quot;).thenReturn(Mockito.any());\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\r\n```\r\n","title":"I am working on Azure Functions and trying to test by mocking my MongoDB. Help me to run my test successfully","body":"<p>Exception I am getting</p>\n<p>Cannot instantiate @InjectMocks field named 'csoKpiBlobTriggerFunction' of type 'class com.stellantis.cso.kpi.function.CsoKpiBlobTriggerFunction'.\nYou haven't provided the instance at field declaration so I tried to construct the instance.\nHowever the constructor or the initialization block threw an exception : Cannot invoke &quot;String.startsWith(String)&quot; because &quot;connectionString&quot; is null</p>\n<pre><code>@Mock\nMongoCollection mockCollection;\n\n@Mock\nMongoClient mongoClient;\n\n@Mock\nMongoDatabase database;\n\n@InjectMocks\nCsoKpiBlobTriggerFunction csoKpiBlobTriggerFunction;\n\n\n@InjectMocks\nExecutionContextMock executionContext;\n\n\n\n\n@SuppressWarnings(&quot;unchecked&quot;)\n@Test\nvoid TestRun() throws Exception {\n    File file = new File(&quot;/src/test/resources/json/10Q3EG1421896.json&quot;);\n    byte[] arr = new byte[(int)file.length()];\n    \n    Mockito.when(mongoClient.getDatabase(Mockito.anyString())).thenReturn(database);\n    \n    Mockito.when(database.getCollection(Mockito.anyString())).thenReturn(mockCollection);\n    \n\n    csoKpiBlobTriggerFunction.run(arr,&quot;10Q3EG1421896.json&quot;,executionContext);\n    //PowerMockito.whenNew(MongoClient.class).withArguments(Mockito.anyString()).thenReturn(mongoClient);\n    //PowerMockito.whenNew(MongoClientURI.class).withArguments(Mockito.anyString(),Mockito.any()).thenReturn(Mockito.any());\n    //PowerMockito.whenNew(ConnectionString.class).withArguments(&quot;mongodb://&quot;).thenReturn(Mockito.any());\n    \n    \n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670860306,"post_id":74773726,"comment_id":131965220,"body_markdown":"How should this be stored in the database? Will you create a email type in the database as well","body":"How should this be stored in the database? Will you create a email type in the database as well"},{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1670959521,"post_id":74773726,"comment_id":131992518,"body_markdown":"please update your question and describe if you want to persist the `EmailAddress` class in the db or want to store just the email-string as varchar-column in the customer-table.","body":"please update your question and describe if you want to persist the <code>EmailAddress</code> class in the db or want to store just the email-string as varchar-column in the customer-table."}],"answers":[{"comments":[{"owner":{"account_id":25255912,"reputation":21,"user_id":19087646,"display_name":"Seifeldin Sabry"},"score":0,"creation_date":1670871007,"post_id":74775537,"comment_id":131968870,"body_markdown":"as an extra resource, you can refer to this as well. [custom-hibernate-types](https://www.baeldung.com/hibernate-custom-types)","body":"as an extra resource, you can refer to this as well. <a href=\"https://www.baeldung.com/hibernate-custom-types\" rel=\"nofollow noreferrer\">custom-hibernate-types</a>"},{"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"score":0,"creation_date":1670920119,"post_id":74775537,"comment_id":131978542,"body_markdown":"Thank you for your Code, but the Error Message still the same.","body":"Thank you for your Code, but the Error Message still the same."}],"tags":[],"owner":{"account_id":25255912,"reputation":21,"user_id":19087646,"display_name":"Seifeldin Sabry"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670868740,"creation_date":1670868740,"answer_id":74775537,"question_id":74773726,"body_markdown":"Here is some example of making your own custom type. \r\n\r\n```java\r\npublic class EmailAddressDescriptor extends AbstractTypeDescriptor&lt;String&gt; {\r\n\r\n\tprotected EmailAddressDescriptor() {\r\n\t\tsuper(String.class, new ImmutableMutabilityPlan&lt;&gt;());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString(String value) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String fromString(String string) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;X&gt; X unwrap(String value, Class&lt;X&gt; type, WrapperOptions options) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;X&gt; String wrap(X value, WrapperOptions options) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SqlTypeDescriptor getJdbcRecommendedSqlType(JdbcRecommendedSqlTypeMappingContext context) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n}\r\n```\r\nThen you would make the Email address class with all your methods\r\n```java\r\npublic class EmailAddress extends AbstractSingleColumnStandardBasicType&lt;String&gt; {\r\n\tprivate String value;\r\n\r\n\tpublic EmailAddress() {\r\n\t\tsuper(new VarcharTypeDescriptor(), new EmailAddressDescriptor());\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\treturn &quot;EmailAddress&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object resolve(Object value, SharedSessionContractImplementor session, Object owner, Boolean overridingEager) throws HibernateException {\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n public String mailbox() ...\r\n   public String host() ...\r\n   public String tld() ...\r\n```\r\nHow you would use it with your entity will be something like this\r\n```java\r\n@Entity\r\n@TypeDef(name = &quot;emailAddress&quot;, typeClass = EmailAddress.class)\r\npublic class customer {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @Type (type = &quot;emailAddress&quot;)\r\n\tprivate EmailAddress emailAddress;\r\n}\r\n\r\n```\r\nHope this helps\r\n","title":"How to implement a Custom DataType in Hibernate?","body":"<p>Here is some example of making your own custom type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmailAddressDescriptor extends AbstractTypeDescriptor&lt;String&gt; {\n\n    protected EmailAddressDescriptor() {\n        super(String.class, new ImmutableMutabilityPlan&lt;&gt;());\n    }\n\n    @Override\n    public String toString(String value) {\n        return null;\n    }\n\n    @Override\n    public String fromString(String string) {\n        return null;\n    }\n\n    @Override\n    public &lt;X&gt; X unwrap(String value, Class&lt;X&gt; type, WrapperOptions options) {\n        return null;\n    }\n\n    @Override\n    public &lt;X&gt; String wrap(X value, WrapperOptions options) {\n        return null;\n    }\n\n    @Override\n    public SqlTypeDescriptor getJdbcRecommendedSqlType(JdbcRecommendedSqlTypeMappingContext context) {\n        return null;\n    }\n\n\n}\n</code></pre>\n<p>Then you would make the Email address class with all your methods</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmailAddress extends AbstractSingleColumnStandardBasicType&lt;String&gt; {\n    private String value;\n\n    public EmailAddress() {\n        super(new VarcharTypeDescriptor(), new EmailAddressDescriptor());\n    }\n\n    @Override\n    public String getName() {\n        return &quot;EmailAddress&quot;;\n    }\n\n    @Override\n    public Object resolve(Object value, SharedSessionContractImplementor session, Object owner, Boolean overridingEager) throws HibernateException {\n        return null;\n    }\n\n}\n public String mailbox() ...\n   public String host() ...\n   public String tld() ...\n</code></pre>\n<p>How you would use it with your entity will be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@TypeDef(name = &quot;emailAddress&quot;, typeClass = EmailAddress.class)\npublic class customer {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    @Type (type = &quot;emailAddress&quot;)\n    private EmailAddress emailAddress;\n}\n\n</code></pre>\n<p>Hope this helps</p>\n"},{"comments":[{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1670959608,"post_id":74783915,"comment_id":131992550,"body_markdown":"You should not just post a link but some code how exactly you solved your problem. This could also help others.","body":"You should not just post a link but some code how exactly you solved your problem. This could also help others."}],"tags":[],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671015104,"creation_date":1670929901,"answer_id":74783915,"question_id":74773726,"body_markdown":"it is much easier. An AttributeConverter make it very easy.\r\n\r\nhttps://thorben-janssen.com/jpa-attribute-converter/\r\n\r\nThank you very much\r\n\r\nEDIT:\r\nHere is the Code:\r\n\r\n    import javax.persistence.AttributeConverter;\r\n    import javax.persistence.Converter;\r\n    \r\n    @Converter(autoApply = true)\r\n    public class EmailAddressConverter implements AttributeConverter&lt;EmailAddress, String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(EmailAddress emailAddress) {\r\n    \t\treturn emailAddress.value;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic EmailAddress convertToEntityAttribute(String s) {\r\n    \t\treturn new EmailAddress(s);\r\n    \t}\r\n    }\r\n\r\nAnd in the Entity:\r\n\r\n    @Convert(converter = EmailAddressConverter.class)\r\n\tprivate EmailAddress email;","title":"How to implement a Custom DataType in Hibernate?","body":"<p>it is much easier. An AttributeConverter make it very easy.</p>\n<p><a href=\"https://thorben-janssen.com/jpa-attribute-converter/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/jpa-attribute-converter/</a></p>\n<p>Thank you very much</p>\n<p>EDIT:\nHere is the Code:</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter(autoApply = true)\npublic class EmailAddressConverter implements AttributeConverter&lt;EmailAddress, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(EmailAddress emailAddress) {\n        return emailAddress.value;\n    }\n\n    @Override\n    public EmailAddress convertToEntityAttribute(String s) {\n        return new EmailAddress(s);\n    }\n}\n</code></pre>\n<p>And in the Entity:</p>\n<pre><code>@Convert(converter = EmailAddressConverter.class)\nprivate EmailAddress email;\n</code></pre>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74783915,"answer_count":2,"score":0,"last_activity_date":1671015232,"creation_date":1670860203,"question_id":74773726,"body_markdown":"We would like to type various properties in Java.\r\ne.g. the e-mail address\r\n\r\nBut now I get the message all the time:\r\n\r\n    Could not set field value [test@test.de] value by reflection : [class customer.email] setter of customer.email;\r\n    \r\n    Can not set dataType.EmailAddress field customer.email to java.lang.String\r\n\r\nHow should I proceed? \r\n\r\n    @Entity\r\n    public class customer {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        private EmailAddress email;\r\n    }\r\n\r\n\r\n    public class EmailAddress {\r\n    \r\n        public String value;\r\n    \r\n        public EmailAddress(String value) {\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n        public String getValue() {\r\n    \t\treturn this.value;\r\n    \t}\r\n    \r\n    \tpublic boolean setValue(String s) {\r\n    \t\tthis.value = s;\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n       public String mailbox() ...\r\n       public String host() ...\r\n       public String tld() ...\r\n    }\r\n\r\nGetter and Setter from HibernateDefaultType not called.\r\n\r\nEDIT:\r\nAt the end. I want to store a String in the database with the email-Address. In Java I want the EmailAddress Object.\r\n","title":"How to implement a Custom DataType in Hibernate?","body":"<p>We would like to type various properties in Java.\ne.g. the e-mail address</p>\n<p>But now I get the message all the time:</p>\n<pre><code>Could not set field value [test@test.de] value by reflection : [class customer.email] setter of customer.email;\n\nCan not set dataType.EmailAddress field customer.email to java.lang.String\n</code></pre>\n<p>How should I proceed?</p>\n<pre><code>@Entity\npublic class customer {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    private EmailAddress email;\n}\n\n\npublic class EmailAddress {\n\n    public String value;\n\n    public EmailAddress(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return this.value;\n    }\n\n    public boolean setValue(String s) {\n        this.value = s;\n        return true;\n    }\n\n   public String mailbox() ...\n   public String host() ...\n   public String tld() ...\n}\n</code></pre>\n<p>Getter and Setter from HibernateDefaultType not called.</p>\n<p>EDIT:\nAt the end. I want to store a String in the database with the email-Address. In Java I want the EmailAddress Object.</p>\n"},{"tags":["java","jackson-databind","jackson-modules","jackson-module-scala"],"owner":{"account_id":26376781,"reputation":11,"user_id":20030606,"display_name":"Niharika Baruah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671015188,"creation_date":1671015188,"question_id":74797102,"body_markdown":"I am getting the exception &quot; Scala module 2.14.1 requires Jackson Databind version &gt;= 2.14.0 and &lt; 2.15.0 - Found jackson-databind version 2.13.2-1&quot; even though I have upgraded the Jackson Databind version tp 2.14.1 in the build.gardle file? How to resolve this issue?\r\n\r\nHow to resolve this issue?","title":"Exception: Scala module 2.14.1 requires Jackson Databind version &gt;= 2.14.0 and &lt; 2.15.0 - Found jackson-databind version 2.13.2-1","body":"<p>I am getting the exception &quot; Scala module 2.14.1 requires Jackson Databind version &gt;= 2.14.0 and &lt; 2.15.0 - Found jackson-databind version 2.13.2-1&quot; even though I have upgraded the Jackson Databind version tp 2.14.1 in the build.gardle file? How to resolve this issue?</p>\n<p>How to resolve this issue?</p>\n"},{"tags":["java","sorting","recursion","quicksort"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1670801217,"post_id":74764914,"comment_id":131951538,"body_markdown":"Please provide a sample input, with its expected and actual output.","body":"Please provide a sample input, with its expected and actual output."},{"owner":{"account_id":23893236,"reputation":1,"user_id":17892599,"display_name":"asporoc"},"score":0,"creation_date":1670842694,"post_id":74764914,"comment_id":131958943,"body_markdown":"Thanks for the feedback I&#39;ll try to stick to Java conventions from now on.\nI&#39;ve posted the expected and actual Output, while doing so i realized that the second Iteration does&#39;nt return the full list twice. Thanks again and all help and feedback is greatly appreciated.","body":"Thanks for the feedback I&#39;ll try to stick to Java conventions from now on. I&#39;ve posted the expected and actual Output, while doing so i realized that the second Iteration does&#39;nt return the full list twice. Thanks again and all help and feedback is greatly appreciated."}],"answers":[{"tags":[],"owner":{"account_id":23893236,"reputation":1,"user_id":17892599,"display_name":"asporoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671015097,"creation_date":1671015097,"answer_id":74797079,"question_id":74764914,"body_markdown":"Okay so I&#39;ve solved it, the Doublylinked List sortedList was static and kept all the results from the throughout every Iteration which led to the List getting bigger. The Solution to clear the List by designating all the Nodes to null did not work because that also cleared the origin of the Pointers, so the Original List also became a null list.\r\n\r\nAfter every sort I assign a null list to the variable sortedList, maybe not the most elegant Solution because I now have a null list in my code for only this purpose, but it works...\r\n    \r\n    \r\n    dlinkedList empty = new dlinkedList();\r\n    dlinkedList sortedList = sortMenuSwitch(mainMenuInput());\r\n    dlinkedList.sortedList = empty;\r\n\r\n    ","title":"Java recursive Quicksort problem with persistent variables","body":"<p>Okay so I've solved it, the Doublylinked List sortedList was static and kept all the results from the throughout every Iteration which led to the List getting bigger. The Solution to clear the List by designating all the Nodes to null did not work because that also cleared the origin of the Pointers, so the Original List also became a null list.</p>\n<p>After every sort I assign a null list to the variable sortedList, maybe not the most elegant Solution because I now have a null list in my code for only this purpose, but it works...</p>\n<pre><code>dlinkedList empty = new dlinkedList();\ndlinkedList sortedList = sortMenuSwitch(mainMenuInput());\ndlinkedList.sortedList = empty;\n</code></pre>\n"}],"owner":{"account_id":23893236,"reputation":1,"user_id":17892599,"display_name":"asporoc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74797079,"answer_count":1,"score":-2,"last_activity_date":1671015097,"creation_date":1670796391,"question_id":74764914,"body_markdown":"I&#39;m trying to Sort a list of Items using a recursive Quicksort, while testing i noticed that repeated use of the Method makes the size of my list double which is not intended.\r\n\r\n        /*list is filled with four Items:\r\n        item test = new item(234, 44.2, &quot;wardrobe&quot;, &quot;Example Wardrobe&quot;);\r\n        item test1 = new item(432, 87.2, &quot;Chair&quot;, &quot;Example Table&quot;);\r\n        item test2 = new item(007, 600.666, &quot;Table&quot;, &quot;Example Table&quot;);\r\n        item test3 = new item(02,5.4,&quot;Jar&quot;,&quot;Example Jar&quot;);*/\r\n\r\n        dlinkedList dList=Operations.fillList(); \r\n        dlinkedList list = dlinkedList.quicksortPrice(dList);\r\n        dlinkedList.printAllElements(list);\r\n        System.out.println(&quot; sorted once &quot;);\r\n        list = dlinkedList.quicksortPrice(dList);\r\n        dlinkedList.printAllElements(list);\r\n        System.out.println(&quot; sorted twice &quot;);\r\n\r\nExpected Output:\r\n\r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\n sorted once\r\n \r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\nsorted twice\r\n\r\n\r\nActual Output:\r\n\r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\n sorted once\r\n \r\n| Name: Jar| Price: 5.4| Category: Example Jar  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table  \r\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe  \r\n| Name: Chair| Price: 87.2| Category: Example Table  \r\n| Name: Table| Price: 600.666| Category: Example Table\r\nsorted twice\r\n\r\n\r\n``` \r\n\r\n    static dlinkedList sortedList = new dlinkedList();\r\n    public static dlinkedList quicksortPrice(dlinkedList list) {\r\n        dlinkedList smaller = new dlinkedList();\r\n        dlinkedList greater = new dlinkedList();\r\n        Node y = list.head;\r\n        pivot = list.tail;\r\n            if (pivot == null) {\r\n                return sortedList;\r\n            } else {\r\n                if (numberOfElements(sortedList) == 0){\r\n                    sortedList.addAtEndOfList(pivot.data);\r\n                }\r\n                while (y.next != null) {\r\n                    if (y.data.price &lt; pivot.data.price) {\r\n                        smaller.addAtEndOfList(y.data);\r\n                        y = y.next;\r\n                    } else if (y.data.price &gt; pivot.data.price) {\r\n                        greater.addAtEndOfList(y.data);\r\n                        y = y.next;\r\n                    } else {\r\n                        sortedList.insertAfterNode(sortedList.tail, y.data, sortedList);\r\n                        y = y.next;\r\n                    }\r\n                }\r\n                if(numberOfElements(greater) == 0){\r\n                }else{\r\n                    sortedList.insertAfterNode(sortedList.searchByPrice(pivot.data.price),   greater.tail.data,sortedList);\r\n                }\r\n                if (numberOfElements(smaller) == 0) {\r\n                }else{\r\n                  sortedList.insertBeforeNode(sortedList.searchByPrice(pivot.data.price),smaller.tail.data,sortedList  );\r\n                }\r\n                if(numberOfElements(smaller) == 0 &amp;&amp; numberOfElements(greater) == 0){\r\n                return sortedList;\r\n                }else{\r\n                    quicksortPrice(smaller);\r\n                    quicksortPrice(greater);}\r\n            }\r\n        return sortedList;\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;ve narrowed my problem down to the static list I use to store the sorted Items between the recursive Iterations, but sadly I don&#39;t know how to solve the Problem. I&#39;ve tried to clear the list between every sort but that empties the whole list for some reason... \r\nAny Help would be much appreciated.","title":"Java recursive Quicksort problem with persistent variables","body":"<p>I'm trying to Sort a list of Items using a recursive Quicksort, while testing i noticed that repeated use of the Method makes the size of my list double which is not intended.</p>\n<pre><code>    /*list is filled with four Items:\n    item test = new item(234, 44.2, &quot;wardrobe&quot;, &quot;Example Wardrobe&quot;);\n    item test1 = new item(432, 87.2, &quot;Chair&quot;, &quot;Example Table&quot;);\n    item test2 = new item(007, 600.666, &quot;Table&quot;, &quot;Example Table&quot;);\n    item test3 = new item(02,5.4,&quot;Jar&quot;,&quot;Example Jar&quot;);*/\n\n    dlinkedList dList=Operations.fillList(); \n    dlinkedList list = dlinkedList.quicksortPrice(dList);\n    dlinkedList.printAllElements(list);\n    System.out.println(&quot; sorted once &quot;);\n    list = dlinkedList.quicksortPrice(dList);\n    dlinkedList.printAllElements(list);\n    System.out.println(&quot; sorted twice &quot;);\n</code></pre>\n<p>Expected Output:</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\nsorted once</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\nsorted twice</p>\n<p>Actual Output:</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\nsorted once</p>\n<p>| Name: Jar| Price: 5.4| Category: Example Jar<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table<br />\n| Name: wardrobe| Price: 44.2| Category: Example Wardrobe<br />\n| Name: Chair| Price: 87.2| Category: Example Table<br />\n| Name: Table| Price: 600.666| Category: Example Table\nsorted twice</p>\n<pre><code>\n    static dlinkedList sortedList = new dlinkedList();\n    public static dlinkedList quicksortPrice(dlinkedList list) {\n        dlinkedList smaller = new dlinkedList();\n        dlinkedList greater = new dlinkedList();\n        Node y = list.head;\n        pivot = list.tail;\n            if (pivot == null) {\n                return sortedList;\n            } else {\n                if (numberOfElements(sortedList) == 0){\n                    sortedList.addAtEndOfList(pivot.data);\n                }\n                while (y.next != null) {\n                    if (y.data.price &lt; pivot.data.price) {\n                        smaller.addAtEndOfList(y.data);\n                        y = y.next;\n                    } else if (y.data.price &gt; pivot.data.price) {\n                        greater.addAtEndOfList(y.data);\n                        y = y.next;\n                    } else {\n                        sortedList.insertAfterNode(sortedList.tail, y.data, sortedList);\n                        y = y.next;\n                    }\n                }\n                if(numberOfElements(greater) == 0){\n                }else{\n                    sortedList.insertAfterNode(sortedList.searchByPrice(pivot.data.price),   greater.tail.data,sortedList);\n                }\n                if (numberOfElements(smaller) == 0) {\n                }else{\n                  sortedList.insertBeforeNode(sortedList.searchByPrice(pivot.data.price),smaller.tail.data,sortedList  );\n                }\n                if(numberOfElements(smaller) == 0 &amp;&amp; numberOfElements(greater) == 0){\n                return sortedList;\n                }else{\n                    quicksortPrice(smaller);\n                    quicksortPrice(greater);}\n            }\n        return sortedList;\n    }\n\n\n</code></pre>\n<p>I've narrowed my problem down to the static list I use to store the sorted Items between the recursive Iterations, but sadly I don't know how to solve the Problem. I've tried to clear the list between every sort but that empties the whole list for some reason...\nAny Help would be much appreciated.</p>\n"},{"tags":["java","android","sockets","socket.io"],"answers":[{"comments":[{"owner":{"account_id":2934391,"reputation":16039,"user_id":2513722,"accept_rate":50,"display_name":"mehulmpt"},"score":0,"creation_date":1475520981,"post_id":39838432,"comment_id":66966593,"body_markdown":"ParcelFileDescriptor.fromSocket needs java.net.Socket, socket.io creates a io.socket.client.Socket. I&#39;m using this dependency for Sockets.io: https://github.com/socketio/socket.io-client-java","body":"ParcelFileDescriptor.fromSocket needs java.net.Socket, socket.io creates a io.socket.client.Socket. I&#39;m using this dependency for Sockets.io: <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">github.com/socketio/socket.io-client-java</a>"}],"tags":[],"owner":{"account_id":3044819,"reputation":8098,"user_id":2580791,"accept_rate":82,"display_name":"Mike Laren"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1475520603,"creation_date":1475520603,"answer_id":39838432,"question_id":39838376,"body_markdown":"You can extract the file descriptor of a socket using:\r\n\r\n    ParcelFileDescriptor.fromSocket(socket).getFileDescriptor(); \r\n\r\nSource: [android-developers][1]\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/android-developers/38Y4L3Sliak","title":"File descriptor for socket.io in Java (android)?","body":"<p>You can extract the file descriptor of a socket using:</p>\n\n<pre><code>ParcelFileDescriptor.fromSocket(socket).getFileDescriptor(); \n</code></pre>\n\n<p>Source: <a href=\"https://groups.google.com/forum/#!topic/android-developers/38Y4L3Sliak\" rel=\"nofollow\">android-developers</a></p>\n"},{"tags":[],"owner":{"account_id":10963162,"reputation":61,"user_id":8055779,"display_name":"Vlad Bellegar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015085,"creation_date":1671015085,"answer_id":74797077,"question_id":39838376,"body_markdown":"Mike Jaren&#39;s answer about using ParcelFileDescriptor is no so correct, due to this method creates new file descriptor, reflecting the original.\r\nWorking method for Java7+ (which android supports) for getting correct file descriptor of socket:\r\n\r\n    FileDescriptor fd = ((FileInputStream)socket.getInputStream()).getFD();\r\n\r\nSource: [other stackoverflow answer][1]\r\n\r\nAlso other method of getting socket&#39;s file descriptor on andorid (but complicated) with using java reflection may be seen [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11456019/8055779\r\n  [2]: https://stackoverflow.com/a/31885114/8055779","title":"File descriptor for socket.io in Java (android)?","body":"<p>Mike Jaren's answer about using ParcelFileDescriptor is no so correct, due to this method creates new file descriptor, reflecting the original.\nWorking method for Java7+ (which android supports) for getting correct file descriptor of socket:</p>\n<pre><code>FileDescriptor fd = ((FileInputStream)socket.getInputStream()).getFD();\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/a/11456019/8055779\">other stackoverflow answer</a></p>\n<p>Also other method of getting socket's file descriptor on andorid (but complicated) with using java reflection may be seen <a href=\"https://stackoverflow.com/a/31885114/8055779\">here</a>.</p>\n"}],"owner":{"account_id":2934391,"reputation":16039,"user_id":2513722,"accept_rate":50,"display_name":"mehulmpt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2684,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1671015085,"creation_date":1475520295,"question_id":39838376,"body_markdown":"I&#39;m creating a program to record the screen and use a socket to send the data over socket to server. I&#39;ve successfully implemented it on my sdcard but how do I create a socket from Socket.io library? setOutputFile asks for filedescriptor. Where is it in socket.io?\r\n\r\nSocket.io code:\r\n\r\n    try {\r\n                socket = IO.socket(&quot;http://192.168.0.105:3000&quot;);\r\n                socket.connect();\r\n    // works\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nNow for mediarecorder:\r\n\r\n    mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n    mMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n    // ... some more props...\r\n    mMediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\r\n    mMediaRecorder.setOutputFile(NEED A FILE DESCRIPTOR HERE);\r\n\r\nHow do I go about this? Help!","title":"File descriptor for socket.io in Java (android)?","body":"<p>I'm creating a program to record the screen and use a socket to send the data over socket to server. I've successfully implemented it on my sdcard but how do I create a socket from Socket.io library? setOutputFile asks for filedescriptor. Where is it in socket.io?</p>\n\n<p>Socket.io code:</p>\n\n<pre><code>try {\n            socket = IO.socket(\"http://192.168.0.105:3000\");\n            socket.connect();\n// works\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>Now for mediarecorder:</p>\n\n<pre><code>mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\nmMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n// ... some more props...\nmMediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);\nmMediaRecorder.setOutputFile(NEED A FILE DESCRIPTOR HERE);\n</code></pre>\n\n<p>How do I go about this? Help!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1582025572,"post_id":60279722,"comment_id":106626560,"body_markdown":"https://stackoverflow.com/a/44033816/733345 has an example of this.","body":"<a href=\"https://stackoverflow.com/a/44033816/733345\">stackoverflow.com/a/44033816/733345</a> has an example of this."},{"owner":{"account_id":7194846,"reputation":411,"user_id":5493996,"display_name":"Gevorg Harutyunyan"},"score":0,"creation_date":1582025857,"post_id":60279722,"comment_id":106626709,"body_markdown":"Thanks @Joe it solved my problem.","body":"Thanks @Joe it solved my problem."}],"answers":[{"tags":[],"owner":{"account_id":2139333,"reputation":1649,"user_id":1898397,"accept_rate":67,"display_name":"Tarun Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1582025610,"creation_date":1582025610,"answer_id":60279963,"question_id":60279722,"body_markdown":"According to the [Javadocs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/i18n/LocaleContextHolder.html) \r\n\r\n&gt; The LocaleContext will be inherited by any child threads spawned by the current thread if the inheritable flag is set to true.\r\n\r\nThis means locale can be set using the method  `setLocale(Locale locale, boolean inheritable)` by passing `inheritable` as true. So before spawning a new child thread you can call setLocale with `inheritable` equals to `true`.\r\n\r\n","title":"How to keep context when creating new thread in spring?","body":"<p>According to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/i18n/LocaleContextHolder.html\" rel=\"nofollow noreferrer\">Javadocs</a> </p>\n\n<blockquote>\n  <p>The LocaleContext will be inherited by any child threads spawned by the current thread if the inheritable flag is set to true.</p>\n</blockquote>\n\n<p>This means locale can be set using the method  <code>setLocale(Locale locale, boolean inheritable)</code> by passing <code>inheritable</code> as true. So before spawning a new child thread you can call setLocale with <code>inheritable</code> equals to <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671015045,"creation_date":1671015045,"answer_id":74797070,"question_id":60279722,"body_markdown":"use `transmittable-thread-local`,add dependence to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n      &lt;artifactId&gt;transmittable-thread-local&lt;/artifactId&gt;\r\n      &lt;version&gt;2.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nconvert you executorService like this\r\n\r\n    ExecutorService executorService = ...\r\n    executorService = TtlExecutors.getTtlExecutorService(executorService);","title":"How to keep context when creating new thread in spring?","body":"<p>use <code>transmittable-thread-local</code>,add dependence to your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n  &lt;artifactId&gt;transmittable-thread-local&lt;/artifactId&gt;\n  &lt;version&gt;2.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>convert you executorService like this</p>\n<pre><code>ExecutorService executorService = ...\nexecutorService = TtlExecutors.getTtlExecutorService(executorService);\n</code></pre>\n"}],"owner":{"account_id":7194846,"reputation":411,"user_id":5493996,"display_name":"Gevorg Harutyunyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1788,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60279963,"answer_count":2,"score":4,"last_activity_date":1671015045,"creation_date":1582024813,"question_id":60279722,"body_markdown":"    System.out.println(LocaleContextHolder.getLocale()); // zh\r\n    new Thread(() -&gt; {\r\n        System.out.println(LocaleContextHolder.getLocale()); // en_US\r\n    }).start();\r\n\r\nFrom parent thread, I see that context locale is &quot;zh&quot; from child thread, I see &quot;en_US&quot;. New thread is losing the context locale. Is there a way to pass context to new created thread?\r\n","title":"How to keep context when creating new thread in spring?","body":"<pre><code>System.out.println(LocaleContextHolder.getLocale()); // zh\nnew Thread(() -&gt; {\n    System.out.println(LocaleContextHolder.getLocale()); // en_US\n}).start();\n</code></pre>\n\n<p>From parent thread, I see that context locale is \"zh\" from child thread, I see \"en_US\". New thread is losing the context locale. Is there a way to pass context to new created thread?</p>\n"},{"tags":["java","json","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671013887,"post_id":74789334,"comment_id":132003730,"body_markdown":"This solution also did not worked for me.","body":"This solution also did not worked for me."},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671014022,"post_id":74789334,"comment_id":132003778,"body_markdown":"Not working as in it doesn&#39;t get the expected output or throws an error? Could you share more details.","body":"Not working as in it doesn&#39;t get the expected output or throws an error? Could you share more details."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671014464,"post_id":74789334,"comment_id":132003907,"body_markdown":"Not getting expected output.","body":"Not getting expected output."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671014505,"post_id":74789334,"comment_id":132003914,"body_markdown":"I have updated my query with POJO classes that I&#39;ve created as per JSON response coming from external API.","body":"I have updated my query with POJO classes that I&#39;ve created as per JSON response coming from external API."},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671014800,"post_id":74789334,"comment_id":132004031,"body_markdown":"Can you update the question to show the result of `jsonResponse =  responseEntity.getBody()`?","body":"Can you update the question to show the result of <code>jsonResponse =  responseEntity.getBody()</code>?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671015123,"post_id":74789334,"comment_id":132004150,"body_markdown":"I have just printed the value of responseEntity.getBody(). The value is com.example.apidemo.model.CustomOlapReports@50b89e83","body":"I have just printed the value of responseEntity.getBody(). The value is com.example.apidemo.model.CustomOlapReports@50b89e83"},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671015206,"post_id":74789334,"comment_id":132004166,"body_markdown":"Can you pls add `@ToString` from lombok to your POJOs and try again.","body":"Can you pls add <code>@ToString</code> from lombok to your POJOs and try again."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671015633,"post_id":74789334,"comment_id":132004314,"body_markdown":"Okay, let me try.","body":"Okay, let me try."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671017106,"post_id":74789334,"comment_id":132004827,"body_markdown":"&#39;CustomOlapReports(links=Links(rCDSOProductionEnvironmentCost=RCDSOProductionEnvironmentCost(\\n&#39;+\n&#39;href=https://chapi.cloudhealthtech.com/olap_reports/azure_cost/history.json?chart_type=bar&amp;chart_x=time&amp;chart_z=Service%20Categories&amp;category_page=1\\n&#39;+\n&#39;&amp;forecast_to_next=0&amp;delta_type=none&amp;chart_y[]=total_cost&amp;interval=monthly&amp;palette=Cloudhealth&amp;dimensions[]=time&amp;dimensions[]=Azure-Services&amp;measures[]=total_cost&amp;\\n&#39;+\n&#39;filters[]=Groupset-13125420057092:select:13125420068067&amp;table_align_left=false&amp;report_id=13125420056952),  and so on.","body":"&#39;CustomOlapReports(links=Links(rCDSOProductionEnvironmentCos&zwnj;&#8203;t=RCDSOProductionEnv&zwnj;&#8203;ironmentCost(\\n&#39;+ &#39;href=<a href=\"https://chapi.cloudhealthtech.com/olap_reports/azure_cost/history.json?chart_type=bar&amp;chart_x=time&amp;chart_z=Service%20Categories&amp;category_page=1\" rel=\"nofollow noreferrer\">chapi.cloudhealthtech.com/olap_reports/azure_cost/&hellip;</a>\\n&#39;&zwnj;&#8203;+ &#39;&amp;forecast_to_next=0&amp;delta_type=none&amp;chart_y[]=total_cost&amp;in&zwnj;&#8203;terval=monthly&amp;palet&zwnj;&#8203;te=Cloudhealth&amp;dimen&zwnj;&#8203;sions[]=time&amp;dimensi&zwnj;&#8203;ons[]=Azure-Services&zwnj;&#8203;&amp;measures[]=total_co&zwnj;&#8203;st&amp;\\n&#39;+ &#39;filters[]=Groupset-13125420057092:select:13125420068067&amp;tab&zwnj;&#8203;le_align_left=false&amp;&zwnj;&#8203;report_id=1312542005&zwnj;&#8203;6952),  and so on."},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671017243,"post_id":74789334,"comment_id":132004872,"body_markdown":"So the response is parsed correctly and stored in the POJO. You can access the values and use as you like, what&#39;s missing now? What else is expected.","body":"So the response is parsed correctly and stored in the POJO. You can access the values and use as you like, what&#39;s missing now? What else is expected."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671017393,"post_id":74789334,"comment_id":132004940,"body_markdown":"Basically, I want to display href and the name (RCDSOProductionEnvironmentCost, RCDSOTotalCostForProdCompugenManaged etc) at client side inside table.","body":"Basically, I want to display href and the name (RCDSOProductionEnvironmentCost, RCDSOTotalCostForProdCompugenManaged etc) at client side inside table."},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671017861,"post_id":74789334,"comment_id":132005088,"body_markdown":"In that case, you can use the pojo structure as I&#39;ve given. That will have a `Map&lt;String, Link&gt;` with the name as key and `link` object as value. You can further flatten it to extract href and return `Map&lt;String, String&gt;` to the client, which in json form will be something like `{ &quot;RCDSO - Production Environment Cost&quot; : &quot;href 1&quot; }` and can be displayed in the table.","body":"In that case, you can use the pojo structure as I&#39;ve given. That will have a <code>Map&lt;String, Link&gt;</code> with the name as key and <code>link</code> object as value. You can further flatten it to extract href and return <code>Map&lt;String, String&gt;</code> to the client, which in json form will be something like <code>{ &quot;RCDSO - Production Environment Cost&quot; : &quot;href 1&quot; }</code> and can be displayed in the table."},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671017885,"post_id":74789334,"comment_id":132005101,"body_markdown":"Or you can even create another object as `class ReportResponse {  String name; String href; }`. Once you get the POJO (as defined in my answer) from restTemplate, manipulate it create `ReportResponse`, return the same to client as list of `ReportResponse` objects - `[ { &quot;name&quot;: &quot;RCDSO - Production Environment Cost&quot;, &quot;href&quot; : &quot;href 1&quot; }, ...]`. Name &amp; Href being the two columns in your table on client side.","body":"Or you can even create another object as <code>class ReportResponse {  String name; String href; }</code>. Once you get the POJO (as defined in my answer) from restTemplate, manipulate it create <code>ReportResponse</code>, return the same to client as list of <code>ReportResponse</code> objects - <code>[ { &quot;name&quot;: &quot;RCDSO - Production Environment Cost&quot;, &quot;href&quot; : &quot;href 1&quot; }, ...]</code>. Name &amp; Href being the two columns in your table on client side."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671018023,"post_id":74789334,"comment_id":132005145,"body_markdown":"Can you please elaborate it using my code that I&#39;ve mentioned in my question?","body":"Can you please elaborate it using my code that I&#39;ve mentioned in my question?"},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671018133,"post_id":74789334,"comment_id":132005178,"body_markdown":"Why do you need a separate POJO (eg. RCDSOProductionEnvironmentCost.java) for each value, instead of just using a key-value structure like Map?","body":"Why do you need a separate POJO (eg. RCDSOProductionEnvironmentCost.java) for each value, instead of just using a key-value structure like Map?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671018408,"post_id":74789334,"comment_id":132005279,"body_markdown":"Okay let me try then. I am bit confused here. I&#39;ll let you know once done.","body":"Okay let me try then. I am bit confused here. I&#39;ll let you know once done."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671018561,"post_id":74789334,"comment_id":132005354,"body_markdown":"According to you, I just need two POJOs. 1. public class CustomOlapReports { private Map&lt;String, Link&gt; links; } and public class Links{ private String href; } Right?","body":"According to you, I just need two POJOs. 1. public class CustomOlapReports { private Map&lt;String, Link&gt; links; } and public class Links{ private String href; } Right?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671037134,"post_id":74789334,"comment_id":132012645,"body_markdown":"Please help me with the rest. I need it to be done ASAP.","body":"Please help me with the rest. I need it to be done ASAP."}],"tags":[],"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"comment_count":18,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670955691,"creation_date":1670955691,"answer_id":74789334,"question_id":74788767,"body_markdown":"Based on the JSON structure, let&#39;s assume you have the following POJOs:\r\n```java\r\npublic class Report implements Serializable {\r\n    private Map&lt;String, Link&gt; links;\r\n    // getters, setters\r\n}\r\n\r\npublic class Link {\r\n    private String href;\r\n    // getters, setters\r\n}\r\n```\r\n\r\nNow instead of extracting the response body as a JSON `String`, convert it to POJO directly.\r\n```java\r\npublic Report getReportListByClientId(String clientId) {\r\n        \r\n        ResponseEntity&lt;Report&gt; responseEntity = null;\r\n        \r\n        try {\r\n            ..\r\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, Report.class);\r\n            \r\n            return responseEntity.getBody();\r\n\r\n        } catch (Exception e) {\r\n           ..\r\n        }\r\n}\r\n```\r\n\r\nAssumption: the project has `Jackson` in classpath, so `MappingJacksonHttpMessageConverter` will be enabled by default with `RestTemplate` for the above method to work.","title":"How to extract data from JSON response coming from external REST API using RestTemplate in Spring Boot?","body":"<p>Based on the JSON structure, let's assume you have the following POJOs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Report implements Serializable {\n    private Map&lt;String, Link&gt; links;\n    // getters, setters\n}\n\npublic class Link {\n    private String href;\n    // getters, setters\n}\n</code></pre>\n<p>Now instead of extracting the response body as a JSON <code>String</code>, convert it to POJO directly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Report getReportListByClientId(String clientId) {\n        \n        ResponseEntity&lt;Report&gt; responseEntity = null;\n        \n        try {\n            ..\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, Report.class);\n            \n            return responseEntity.getBody();\n\n        } catch (Exception e) {\n           ..\n        }\n}\n</code></pre>\n<p>Assumption: the project has <code>Jackson</code> in classpath, so <code>MappingJacksonHttpMessageConverter</code> will be enabled by default with <code>RestTemplate</code> for the above method to work.</p>\n"},{"comments":[{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671013851,"post_id":74789357,"comment_id":132003717,"body_markdown":"This solution did not worked for me. I am getting class not found exception. java.lang.ClassNotFoundException: com.jayway.jsonpath.Predicate. I have added this dependency in pom.xml.\n&lt;dependency&gt;\n\t\t    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n\t\t    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n\t\t    &lt;version&gt;2.7.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"This solution did not worked for me. I am getting class not found exception. java.lang.ClassNotFoundException: com.jayway.jsonpath.Predicate. I have added this dependency in pom.xml. &lt;dependency&gt; \t\t    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt; \t\t    &lt;artifactId&gt;json-path&lt;/artifactId&gt; \t\t    &lt;version&gt;2.7.0&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":13447169,"reputation":1234,"user_id":9702804,"display_name":"G. Ciardini"},"score":0,"creation_date":1671191723,"post_id":74789357,"comment_id":132051162,"body_markdown":"@rsharma Did you sync the project after?","body":"@rsharma Did you sync the project after?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1671370707,"post_id":74789357,"comment_id":132080807,"body_markdown":"@G.Ciardini Yes, I did.","body":"@G.Ciardini Yes, I did."}],"tags":[],"owner":{"account_id":24626922,"reputation":59,"user_id":18526553,"display_name":"Beksultan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670955765,"creation_date":1670955765,"answer_id":74789357,"question_id":74788767,"body_markdown":"I will try to help u. You can use JsonPath to manipulate your string json.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nadd this library to your code\r\nand then try to use this \r\n\r\n            String json = &quot;&quot;&quot;\r\n                {\r\n                    &quot;links&quot;: {\r\n                        &quot;RCDSO - Production Environment Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 1&quot;\r\n                        },\r\n                        &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 2&quot;\r\n                        },\r\n                        &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n                            &quot;href&quot;: &quot;href 3&quot;\r\n                        },\r\n                        &quot;RCDSO - Virtual Machine Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 4&quot;\r\n                        },\r\n                        &quot;RCDSO - Azure File Storage Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 5&quot;\r\n                        },\r\n                        &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n                            &quot;href&quot;: &quot;href 6&quot;\r\n                        },\r\n                        &quot;RCDSO - Azure App Services Cost&quot;: {\r\n                            &quot;href&quot;: &quot;href 7&quot;\r\n                        }\r\n                    }\r\n                }\r\n                &quot;&quot;&quot;;\r\n        Map&lt;String, Map&lt;String, String&gt;&gt; links = JsonPath.read(json, &quot;$.links&quot;);\r\n        links.forEach((key, value) -&gt; {\r\n            System.out.println(&quot;k = &quot; + key);\r\n            System.out.print(&quot;v = &quot;);\r\n            value.forEach((key2, value2) -&gt; {\r\n                System.out.println(&quot;key = &quot; + key2 + &quot; : value = &quot; + value2);\r\n            });\r\n        });","title":"How to extract data from JSON response coming from external REST API using RestTemplate in Spring Boot?","body":"<p>I will try to help u. You can use JsonPath to manipulate your string json.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>add this library to your code\nand then try to use this</p>\n<pre><code>        String json = &quot;&quot;&quot;\n            {\n                &quot;links&quot;: {\n                    &quot;RCDSO - Production Environment Cost&quot;: {\n                        &quot;href&quot;: &quot;href 1&quot;\n                    },\n                    &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n                        &quot;href&quot;: &quot;href 2&quot;\n                    },\n                    &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n                        &quot;href&quot;: &quot;href 3&quot;\n                    },\n                    &quot;RCDSO - Virtual Machine Cost&quot;: {\n                        &quot;href&quot;: &quot;href 4&quot;\n                    },\n                    &quot;RCDSO - Azure File Storage Cost&quot;: {\n                        &quot;href&quot;: &quot;href 5&quot;\n                    },\n                    &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n                        &quot;href&quot;: &quot;href 6&quot;\n                    },\n                    &quot;RCDSO - Azure App Services Cost&quot;: {\n                        &quot;href&quot;: &quot;href 7&quot;\n                    }\n                }\n            }\n            &quot;&quot;&quot;;\n    Map&lt;String, Map&lt;String, String&gt;&gt; links = JsonPath.read(json, &quot;$.links&quot;);\n    links.forEach((key, value) -&gt; {\n        System.out.println(&quot;k = &quot; + key);\n        System.out.print(&quot;v = &quot;);\n        value.forEach((key2, value2) -&gt; {\n            System.out.println(&quot;key = &quot; + key2 + &quot; : value = &quot; + value2);\n        });\n    });\n</code></pre>\n"}],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671015015,"creation_date":1670952640,"question_id":74788767,"body_markdown":"I am working on spring boot application for consuming external API using RestTemplate.\r\n\r\nBelow is the service class that I have written to get response from external API:\r\n\r\n    public CustomOlapReports getReportListByClientId(String clientId) {\r\n    \t\tResponseEntity&lt;CustomOlapReports&gt; responseEntity = null;\r\n    \t\tCustomOlapReports jsonResponse = null;\r\n    \t\ttry {\r\n    \t\t\tfinal String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientId;\r\n    \t\t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\tHttpHeaders header = new HttpHeaders();\r\n    \t\t\theader.set(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\r\n    \t\t\theader.set(HttpHeaders.ACCEPT, &quot;application/json&quot;);\r\n    \t\t\t\r\n    \t\t\tHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\r\n    \t\t\tresponseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, CustomOlapReports.class);\r\n    \t\t\t\r\n    \t\t\tjsonResponse =  responseEntity.getBody();\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \treturn jsonResponse;\r\n    }\r\n\r\nThe following is the response that I am getting using exchange() method:\r\n\r\n    {\r\n        &quot;responseMessage&quot;: &quot;SUCCESS&quot;,\r\n        &quot;status&quot;: &quot;OK&quot;,\r\n        &quot;statusCode&quot;: 1,\r\n        &quot;response&quot;: {\r\n            &quot;links&quot;: {\r\n                &quot;RCDSO - Production Environment Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 1&quot;\r\n                },\r\n                &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 2&quot;\r\n                },\r\n                &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\r\n                    &quot;href&quot;: &quot;href 3&quot;\r\n                },\r\n                &quot;RCDSO - Virtual Machine Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 4&quot;\r\n                },\r\n                &quot;RCDSO - Azure File Storage Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 5&quot;\r\n                },\r\n                &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\r\n                    &quot;href&quot;: &quot;href 6&quot;\r\n                },\r\n                &quot;RCDSO - Azure App Services Cost&quot;: {\r\n                    &quot;href&quot;: &quot;href 7&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /********************** CustomOlapReports.java *************************/\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class CustomOlapReports {\r\n    \t\r\n    \t @JsonProperty(&quot;links&quot;) \r\n    \t private Links links;\r\n    }\r\n    /********************** Links.java *************************/\r\n    @Setter\r\n    @Getter\r\n    public class Links {\r\n    \t@JsonProperty(&quot;RCDSO - Production Environment Cost&quot;)\r\n    \tprivate RCDSOProductionEnvironmentCost rCDSOProductionEnvironmentCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Development &amp; UAT Environment Cost&quot;)\r\n    \tprivate RCDSODevelopmentUATEnvironmentCost rCDSODevelopmentUATEnvironmentCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;)\r\n    \tprivate RCDSOTotalCostForProdCompugenManaged rCDSOTotalCostForProdCompugenManaged;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Virtual Machine Cost&quot;)\r\n    \tprivate RCDSOVirtualMachineCost rCDSOVirtualMachineCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Azure File Storage Cost&quot;)\r\n    \tprivate RCDSOAzureFileStorageCost rCDSOAzureFileStorageCost;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Azure Backup and Site Recovery&quot;)\r\n    \tprivate RCDSOAzureBackupAndSiteRecovery rCDSOAzureBackupAndSiteRecovery;\r\n    \t\r\n    \t@JsonProperty(&quot;RCDSO - Azure App Services Cost&quot;)\r\n    \tprivate RCDSOAzureAppServicesCost rCDSOAzureAppServicesCost;\r\n    }\r\n    /********************** RCDSOProductionEnvironmentCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOProductionEnvironmentCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSODevelopmentUATEnvironmentCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSODevelopmentUATEnvironmentCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSOTotalCostForProdCompugenManaged.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOTotalCostForProdCompugenManaged {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSOVirtualMachineCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOVirtualMachineCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    }\r\n    /********************** RCDSOAzureFileStorageCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOAzureFileStorageCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    \r\n    }\r\n    /********************** RCDSOAzureBackupAndSiteRecovery.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOAzureBackupAndSiteRecovery {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    \r\n    }\r\n    /********************** RCDSOAzureAppServicesCost.java *************************/\r\n    @Getter\r\n    @Setter\r\n    public class RCDSOAzureAppServicesCost {\r\n    \t@JsonProperty(&quot;href&quot;)\r\n    \tprivate String href;\r\n    \r\n    }\r\n\r\nSo now, before sending response to client side in my application. I want to fetch data from this response and want to do some manipulation and convert that into custom POJO class. I tried using JSONObject but got some exceptions. \r\n\r\nI want to display this JSON data in HTML table using AJAX.\r\n\r\n**So how should I extract or get individual data from above JSON?**","title":"How to extract data from JSON response coming from external REST API using RestTemplate in Spring Boot?","body":"<p>I am working on spring boot application for consuming external API using RestTemplate.</p>\n<p>Below is the service class that I have written to get response from external API:</p>\n<pre><code>public CustomOlapReports getReportListByClientId(String clientId) {\n        ResponseEntity&lt;CustomOlapReports&gt; responseEntity = null;\n        CustomOlapReports jsonResponse = null;\n        try {\n            final String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports/custom?client_api_id=&quot;+clientId;\n            RestTemplate restTemplate = new RestTemplate();\n            HttpHeaders header = new HttpHeaders();\n            header.set(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot;+apiKey);\n            header.set(HttpHeaders.ACCEPT, &quot;application/json&quot;);\n            \n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, CustomOlapReports.class);\n            \n            jsonResponse =  responseEntity.getBody();   \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    return jsonResponse;\n}\n</code></pre>\n<p>The following is the response that I am getting using exchange() method:</p>\n<pre><code>{\n    &quot;responseMessage&quot;: &quot;SUCCESS&quot;,\n    &quot;status&quot;: &quot;OK&quot;,\n    &quot;statusCode&quot;: 1,\n    &quot;response&quot;: {\n        &quot;links&quot;: {\n            &quot;RCDSO - Production Environment Cost&quot;: {\n                &quot;href&quot;: &quot;href 1&quot;\n            },\n            &quot;RCDSO - Development &amp; UAT Environment Cost&quot;: {\n                &quot;href&quot;: &quot;href 2&quot;\n            },\n            &quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;: {\n                &quot;href&quot;: &quot;href 3&quot;\n            },\n            &quot;RCDSO - Virtual Machine Cost&quot;: {\n                &quot;href&quot;: &quot;href 4&quot;\n            },\n            &quot;RCDSO - Azure File Storage Cost&quot;: {\n                &quot;href&quot;: &quot;href 5&quot;\n            },\n            &quot;RCDSO - Azure Backup and Site Recovery&quot;: {\n                &quot;href&quot;: &quot;href 6&quot;\n            },\n            &quot;RCDSO - Azure App Services Cost&quot;: {\n                &quot;href&quot;: &quot;href 7&quot;\n            }\n        }\n    }\n}\n\n/********************** CustomOlapReports.java *************************/\n\n@Getter\n@Setter\npublic class CustomOlapReports {\n    \n     @JsonProperty(&quot;links&quot;) \n     private Links links;\n}\n/********************** Links.java *************************/\n@Setter\n@Getter\npublic class Links {\n    @JsonProperty(&quot;RCDSO - Production Environment Cost&quot;)\n    private RCDSOProductionEnvironmentCost rCDSOProductionEnvironmentCost;\n    \n    @JsonProperty(&quot;RCDSO - Development &amp; UAT Environment Cost&quot;)\n    private RCDSODevelopmentUATEnvironmentCost rCDSODevelopmentUATEnvironmentCost;\n    \n    @JsonProperty(&quot;RCDSO - Total Cost for Prod - Compugen Managed&quot;)\n    private RCDSOTotalCostForProdCompugenManaged rCDSOTotalCostForProdCompugenManaged;\n    \n    @JsonProperty(&quot;RCDSO - Virtual Machine Cost&quot;)\n    private RCDSOVirtualMachineCost rCDSOVirtualMachineCost;\n    \n    @JsonProperty(&quot;RCDSO - Azure File Storage Cost&quot;)\n    private RCDSOAzureFileStorageCost rCDSOAzureFileStorageCost;\n    \n    @JsonProperty(&quot;RCDSO - Azure Backup and Site Recovery&quot;)\n    private RCDSOAzureBackupAndSiteRecovery rCDSOAzureBackupAndSiteRecovery;\n    \n    @JsonProperty(&quot;RCDSO - Azure App Services Cost&quot;)\n    private RCDSOAzureAppServicesCost rCDSOAzureAppServicesCost;\n}\n/********************** RCDSOProductionEnvironmentCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOProductionEnvironmentCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSODevelopmentUATEnvironmentCost.java *************************/\n@Getter\n@Setter\npublic class RCDSODevelopmentUATEnvironmentCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSOTotalCostForProdCompugenManaged.java *************************/\n@Getter\n@Setter\npublic class RCDSOTotalCostForProdCompugenManaged {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSOVirtualMachineCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOVirtualMachineCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n}\n/********************** RCDSOAzureFileStorageCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOAzureFileStorageCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n\n}\n/********************** RCDSOAzureBackupAndSiteRecovery.java *************************/\n@Getter\n@Setter\npublic class RCDSOAzureBackupAndSiteRecovery {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n\n}\n/********************** RCDSOAzureAppServicesCost.java *************************/\n@Getter\n@Setter\npublic class RCDSOAzureAppServicesCost {\n    @JsonProperty(&quot;href&quot;)\n    private String href;\n\n}\n</code></pre>\n<p>So now, before sending response to client side in my application. I want to fetch data from this response and want to do some manipulation and convert that into custom POJO class. I tried using JSONObject but got some exceptions.</p>\n<p>I want to display this JSON data in HTML table using AJAX.</p>\n<p><strong>So how should I extract or get individual data from above JSON?</strong></p>\n"},{"tags":["java","rest","jersey","form-submit","jersey-2.0"],"comments":[{"owner":{"account_id":1001388,"reputation":498,"user_id":1016161,"display_name":"Marek Potociar"},"score":0,"creation_date":1414166058,"post_id":26053697,"comment_id":41725401,"body_markdown":"For large entities, you need to manually buffer the entity into a temp file and then replace the entity stream to point to a stream that would read the entity from the temp file. There is no other off-the-shelf support in Jersey for this use case at this point available, I&#39;m afraid.","body":"For large entities, you need to manually buffer the entity into a temp file and then replace the entity stream to point to a stream that would read the entity from the temp file. There is no other off-the-shelf support in Jersey for this use case at this point available, I&#39;m afraid."}],"answers":[{"tags":[],"owner":{"account_id":1001388,"reputation":498,"user_id":1016161,"display_name":"Marek Potociar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414166340,"creation_date":1414166340,"answer_id":26551708,"question_id":26053697,"body_markdown":"See my comment to your [issue opened against Jersey][1].\r\n\r\nEssentially you have already answered your question in the edited text. And, unfortunately, in case you need to deal with very large entities, you need to do the heavy lifting (buffering &amp; processing &amp; serving &amp; cleanup of the entity stream) manually at the moment.\r\n\r\n\r\n  [1]: https://java.net/jira/browse/JERSEY-2664?focusedCommentId=381362&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-381362","title":"How to get form data parameters from ContainerRequestContext","body":"<p>See my comment to your <a href=\"https://java.net/jira/browse/JERSEY-2664?focusedCommentId=381362&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-381362\" rel=\"nofollow\">issue opened against Jersey</a>.</p>\n\n<p>Essentially you have already answered your question in the edited text. And, unfortunately, in case you need to deal with very large entities, you need to do the heavy lifting (buffering &amp; processing &amp; serving &amp; cleanup of the entity stream) manually at the moment.</p>\n"}],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8192,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1671014721,"creation_date":1411714429,"question_id":26053697,"body_markdown":"I have used Jersey 2 to expose functionality (restful API).\r\n\r\nWhere I want to access form parameter at filter level, the way we have accessed `pathparam`,`queryparam` from `ContainerRequestContext.\r\n\r\nFilter:-\r\n\r\n    public class SecurityFilter implements ContainerRequestFilter, ContainerResponseFilter\r\n    {\r\n      private ResourceInfo ResourceInfo;\r\n    \r\n        // ignore this\r\n        public SecurityFilter(ResourceInfo ResourceInfo)\r\n        {\r\n           \r\n        }\r\n    \r\n        @Override\r\n    \tpublic void filter(ContainerRequestContext ctx) throws IOException\r\n    \t{\r\n            MultivaluedMap&lt;String, String&gt; pathparam = ctx.getUriInfo().getPathParameters();\r\n    \t\tMultivaluedMap&lt;String, String&gt; queryparam = ctx.getUriInfo().getQueryParameters();\r\n          // Here I want all form parameters \r\n        }    \r\n    \r\n        // ignore this     \r\n        @Override\r\n    \tpublic void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException\r\n    \t{\r\n    \r\n        }    \r\n    }\r\n\r\n\r\nSo how can I get the form parameters from `ContainerRequestContext` in above filter?\r\n\r\n---\r\n**EDIT :**\r\n\r\nI have one way to get form data is \r\n\r\n    ((ContainerRequest) context).bufferEntity();\r\n    // Read entity\r\n    FormDataMultiPart multiPart = ((ContainerRequest) context).readEntity(FormDataMultiPart.class);\r\n    String myValue =  multiPart.getField(&quot;foo&quot;).getValue();\r\n\r\nBut this won&#39;t work for large file because `((ContainerRequest) context).bufferEntity()` contain entity in memory so `Exceptionorg.glassfish.jersey.server.ContainerException: java.lang.OutOfMemoryError: Java heap space` exception occur.","title":"How to get form data parameters from ContainerRequestContext","body":"<p>I have used Jersey 2 to expose functionality (restful API).</p>\n<p>Where I want to access form parameter at filter level, the way we have accessed <code>pathparam</code>,<code>queryparam</code> from `ContainerRequestContext.</p>\n<p>Filter:-</p>\n<pre><code>public class SecurityFilter implements ContainerRequestFilter, ContainerResponseFilter\n{\n  private ResourceInfo ResourceInfo;\n\n    // ignore this\n    public SecurityFilter(ResourceInfo ResourceInfo)\n    {\n       \n    }\n\n    @Override\n    public void filter(ContainerRequestContext ctx) throws IOException\n    {\n        MultivaluedMap&lt;String, String&gt; pathparam = ctx.getUriInfo().getPathParameters();\n        MultivaluedMap&lt;String, String&gt; queryparam = ctx.getUriInfo().getQueryParameters();\n      // Here I want all form parameters \n    }    \n\n    // ignore this     \n    @Override\n    public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException\n    {\n\n    }    \n}\n</code></pre>\n<p>So how can I get the form parameters from <code>ContainerRequestContext</code> in above filter?</p>\n<hr />\n<p><strong>EDIT :</strong></p>\n<p>I have one way to get form data is</p>\n<pre><code>((ContainerRequest) context).bufferEntity();\n// Read entity\nFormDataMultiPart multiPart = ((ContainerRequest) context).readEntity(FormDataMultiPart.class);\nString myValue =  multiPart.getField(&quot;foo&quot;).getValue();\n</code></pre>\n<p>But this won't work for large file because <code>((ContainerRequest) context).bufferEntity()</code> contain entity in memory so <code>Exceptionorg.glassfish.jersey.server.ContainerException: java.lang.OutOfMemoryError: Java heap space</code> exception occur.</p>\n"},{"tags":["java","popup","eclipse-rcp"],"answers":[{"comments":[{"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"score":0,"creation_date":1451979429,"post_id":22075357,"comment_id":56958127,"body_markdown":"how could one get the `IShellProvider` from the Eclipse context?","body":"how could one get the <code>IShellProvider</code> from the Eclipse context?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1451979629,"post_id":22075357,"comment_id":56958229,"body_markdown":"@Campa You can inject it or use IEclipseContext.get (this is for e4 applications only).","body":"@Campa You can inject it or use IEclipseContext.get (this is for e4 applications only)."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1671013968,"creation_date":1393520744,"answer_id":22075357,"question_id":22074499,"body_markdown":"Looking though the Eclipse source there does not seem to be a definitive way. The closest is some variant of \r\n\r\n    PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\r\n\r\nEven if this returns `null` that is still acceptable to `MessageDialog`.\r\n\r\n`DebugUIPlugin` has this more elaborate version:\r\n\r\n    public static Shell getShell() {\r\n      IWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();\r\n      if (window == null) {\r\n        IWorkbenchWindow[] windows = PlatformUI.getWorkbench().getWorkbenchWindows();\r\n        if (windows.length &gt; 0) {\r\n           return windows[0].getShell();\r\n        }\r\n      }\r\n      else {\r\n        return window.getShell();\r\n      }\r\n      return null;\r\n    }\r\n\r\nUse of `MessageDialog` from a `Job` is rare in the Eclipse source. As the Job runs asynchronously a popup from the Job could be rather unexpected.\r\n\r\nIn Eclipse 4 applications if you can get the `IEclipseContext` there should be an `IShellProvider` in the context. e4 apps can also use `StatusReporter` which does not need a shell.\r\n\r\nIn e4 applications you can also inject the active shell using:\r\n```java\r\n@Named(IServiceConstants.ACTIVE_SHELL) Shell shell\r\n```","title":"Eclipse RCP which shell to use for popups","body":"<p>Looking though the Eclipse source there does not seem to be a definitive way. The closest is some variant of</p>\n<pre><code>PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\n</code></pre>\n<p>Even if this returns <code>null</code> that is still acceptable to <code>MessageDialog</code>.</p>\n<p><code>DebugUIPlugin</code> has this more elaborate version:</p>\n<pre><code>public static Shell getShell() {\n  IWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();\n  if (window == null) {\n    IWorkbenchWindow[] windows = PlatformUI.getWorkbench().getWorkbenchWindows();\n    if (windows.length &gt; 0) {\n       return windows[0].getShell();\n    }\n  }\n  else {\n    return window.getShell();\n  }\n  return null;\n}\n</code></pre>\n<p>Use of <code>MessageDialog</code> from a <code>Job</code> is rare in the Eclipse source. As the Job runs asynchronously a popup from the Job could be rather unexpected.</p>\n<p>In Eclipse 4 applications if you can get the <code>IEclipseContext</code> there should be an <code>IShellProvider</code> in the context. e4 apps can also use <code>StatusReporter</code> which does not need a shell.</p>\n<p>In e4 applications you can also inject the active shell using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Named(IServiceConstants.ACTIVE_SHELL) Shell shell\n</code></pre>\n"}],"owner":{"account_id":1192805,"reputation":586,"user_id":1165215,"accept_rate":59,"display_name":"Link19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5686,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1671013968,"creation_date":1393518530,"question_id":22074499,"body_markdown":"I am trying to get hold of a shell in Eclipse RCP and bring up popups in my application and had gone through several resources/tutorials to achieve the task but without much luck.\r\n\r\nTried:\r\n--------\r\n\r\n    Display.getCurrent().getActiveShell();\r\nor\r\n\r\n    Display.getDefault().getActiveShell();\r\nor\r\n  \r\n      PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\r\n\r\nor sometimes even\r\n   \r\n\r\n     Display.getDefault().getShells()[0];\r\n\r\nBut different things seem to work in different situations.\r\n\r\nResources online have different views and most things I find say you shouldn&#39;t really use the `Display` class at all but I am trying to bring up a popup from within an eclipse Job. It&#39;s got to the end and failed and the popup needs to be displayed using:\r\n\r\nCode:\r\n---------\r\n\r\n\t\t\tDisplay.getCurrent().syncExec(new Runnable() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\r\n\t\t\t\t\t\tMessageDialog.openError(Display.getDefault().getActiveShell(), &quot;Publish&quot;, e.getMessage());\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\nThe popup is inside a Runnable being executed from a Thread started from an Eclipse Job. It&#39;s complex but necessary to provide progress bar updates whilst calling a synchronous method on a server.\r\n\r\nIt doesn&#39;t work and I don&#39;t know why. Just getting a null from the getActiveShell() call.\r\n\r\nThe real question though isn&#39;t &#39;why doesn&#39;t my code work&#39; but was is the definitively correct way to get a shell for a popup in Eclipse RCP framework, and especial in situations where you can&#39;t access a workbench?\r\n","title":"Eclipse RCP which shell to use for popups","body":"<p>I am trying to get hold of a shell in Eclipse RCP and bring up popups in my application and had gone through several resources/tutorials to achieve the task but without much luck.</p>\n\n<h2>Tried:</h2>\n\n<pre><code>Display.getCurrent().getActiveShell();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Display.getDefault().getActiveShell();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell();\n</code></pre>\n\n<p>or sometimes even</p>\n\n<pre><code> Display.getDefault().getShells()[0];\n</code></pre>\n\n<p>But different things seem to work in different situations.</p>\n\n<p>Resources online have different views and most things I find say you shouldn't really use the <code>Display</code> class at all but I am trying to bring up a popup from within an eclipse Job. It's got to the end and failed and the popup needs to be displayed using:</p>\n\n<h2>Code:</h2>\n\n<pre><code>        Display.getCurrent().syncExec(new Runnable() {\n\n            @Override\n            public void run() {\n\n                    MessageDialog.openError(Display.getDefault().getActiveShell(), \"Publish\", e.getMessage());\n\n\n            }\n        });\n    }\n</code></pre>\n\n<p>The popup is inside a Runnable being executed from a Thread started from an Eclipse Job. It's complex but necessary to provide progress bar updates whilst calling a synchronous method on a server.</p>\n\n<p>It doesn't work and I don't know why. Just getting a null from the getActiveShell() call.</p>\n\n<p>The real question though isn't 'why doesn't my code work' but was is the definitively correct way to get a shell for a popup in Eclipse RCP framework, and especial in situations where you can't access a workbench?</p>\n"},{"tags":["java","spring-boot","caching"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671036402,"post_id":74796843,"comment_id":132012327,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27249644,"reputation":1,"user_id":20774319,"display_name":"2Na1Ve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671013880,"creation_date":1671013880,"question_id":74796843,"body_markdown":"Requirements:\r\nThere has a huge number of data from rabbitMq every hour, but the environment is not stable and may cause the project restart and data lack. I want to know the number of the data lack when it occure everyday. Beacuse the volume of data is huge I have to use caffine cache. The large volume of data led me to use caffine caching instead of using database record information. Now the problem is that when the project is restarted, the data in the Caffine cache is cleared and I have no way of knowing when a data miss occurs.\r\n\r\nI used to use mongodb to record the time I received data and calcute the time period ","title":"How to get the time when Caffine cache is emptied due to project restart","body":"<p>Requirements:\nThere has a huge number of data from rabbitMq every hour, but the environment is not stable and may cause the project restart and data lack. I want to know the number of the data lack when it occure everyday. Beacuse the volume of data is huge I have to use caffine cache. The large volume of data led me to use caffine caching instead of using database record information. Now the problem is that when the project is restarted, the data in the Caffine cache is cleared and I have no way of knowing when a data miss occurs.</p>\n<p>I used to use mongodb to record the time I received data and calcute the time period</p>\n"},{"tags":["java","asynchronous","grpc","nonblocking","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1670239665,"post_id":74683791,"comment_id":131822388,"body_markdown":"For question 1, you will reduce the number of threads if you rely on asynchronous I/O, if your RPC client allows for it. For question 3 you should definitely use different thread-pools for CPU-bound and I/O-bound tasks. And if you have tasks that mix the two, you should use a thread-pool that is appropriately sized for it, depending on the percentage of time spent on each. If you are worried about the complexity of async code, maybe have a look at [ea-async](https://github.com/electronicarts/ea-async/).","body":"For question 1, you will reduce the number of threads if you rely on asynchronous I/O, if your RPC client allows for it. For question 3 you should definitely use different thread-pools for CPU-bound and I/O-bound tasks. And if you have tasks that mix the two, you should use a thread-pool that is appropriately sized for it, depending on the percentage of time spent on each. If you are worried about the complexity of async code, maybe have a look at <a href=\"https://github.com/electronicarts/ea-async/\" rel=\"nofollow noreferrer\">ea-async</a>."},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":0,"creation_date":1670268182,"post_id":74683791,"comment_id":131832515,"body_markdown":"Thanks a lot for the response! QQ, for question 1 you are saying it leads to less thread. Looking at my Java example above, I feel like I am just moving the problem from the &quot;request thread&quot; to whatever thread CompletableFuture ends-up spawning in methodD, is that not correct? (i.e. MethodD thread need to remain alive waiting for the IO output). How can the RPC Client wait for a response without having any thread alive to listen to the response? Even if it was possible, do you feel like saving that thread is worth all the overhead of CompletableFuture and spawning multiple extra async thread?","body":"Thanks a lot for the response! QQ, for question 1 you are saying it leads to less thread. Looking at my Java example above, I feel like I am just moving the problem from the &quot;request thread&quot; to whatever thread CompletableFuture ends-up spawning in methodD, is that not correct? (i.e. MethodD thread need to remain alive waiting for the IO output). How can the RPC Client wait for a response without having any thread alive to listen to the response? Even if it was possible, do you feel like saving that thread is worth all the overhead of CompletableFuture and spawning multiple extra async thread?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1670269591,"post_id":74683791,"comment_id":131832947,"body_markdown":"As with most performance issues, the best thing you can do is measure your throughput and compare between the different options. Your thoughts all sound reasonable, but performance is often counterintuitive, and definitely depends on many factors (eg your &quot;some functions are CPU-expensive&quot;).","body":"As with most performance issues, the best thing you can do is measure your throughput and compare between the different options. Your thoughts all sound reasonable, but performance is often counterintuitive, and definitely depends on many factors (eg your &quot;some functions are CPU-expensive&quot;)."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1670272244,"post_id":74683791,"comment_id":131833696,"body_markdown":"I’m saying it reduces thge number of threads _if you rely on asynchronous I/O_. It’s the whole point of this approach. [gRPC appears to support it](https://grpc.io/docs/languages/java/basics/#instantiating-a-stub). In that case, no thread is waiting for the response. The JVM will invoke a callback (on another thread) when data is available. Reducing the number of threads usually improves performance by reducing the amount of context switching between those threads (as well as the amount of memory used).","body":"I’m saying it reduces thge number of threads <i>if you rely on asynchronous I/O</i>. It’s the whole point of this approach. <a href=\"https://grpc.io/docs/languages/java/basics/#instantiating-a-stub\" rel=\"nofollow noreferrer\">gRPC appears to support it</a>. In that case, no thread is waiting for the response. The JVM will invoke a callback (on another thread) when data is available. Reducing the number of threads usually improves performance by reducing the amount of context switching between those threads (as well as the amount of memory used)."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1670462685,"post_id":74683791,"comment_id":131883884,"body_markdown":"I don&#39;t understand. Are you asking to run `methodB` and `methodC` in parallel? And kicking off `methodB` would then kick off `methodD` and `methodE` in parallel? Or are you asking something different? Please explain in detail the order of method execution, and specify which methods are running in parallel, and which are running sequentially.","body":"I don&#39;t understand. Are you asking to run <code>methodB</code> and <code>methodC</code> in parallel? And kicking off <code>methodB</code> would then kick off <code>methodD</code> and <code>methodE</code> in parallel? Or are you asking something different? Please explain in detail the order of method execution, and specify which methods are running in parallel, and which are running sequentially."},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":1,"creation_date":1670465027,"post_id":74683791,"comment_id":131884195,"body_markdown":"In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage  of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?","body":"In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage  of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1670528514,"post_id":74683791,"comment_id":131901549,"body_markdown":"@HenriLapierre Ahhhh, I understand your question much better now. I would copy and paste your comment into your question - future readers will understand your dilemma much better. I am writing up an answer for you now.","body":"@HenriLapierre Ahhhh, I understand your question much better now. I would copy and paste your comment into your question - future readers will understand your dilemma much better. I am writing up an answer for you now."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671007769,"post_id":74683791,"comment_id":132001798,"body_markdown":"There’s a contradiction in your statement “*all methods are running sequentially*” and the fact that you are using `supplyAsync`. The operation within the supplier is *not* running sequentially.","body":"There’s a contradiction in your statement “<i>all methods are running sequentially</i>” and the fact that you are using <code>supplyAsync</code>. The operation within the supplier is <i>not</i> running sequentially."}],"answers":[{"comments":[{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":0,"creation_date":1670447291,"post_id":74722404,"comment_id":131881012,"body_markdown":"Thanks! Follow-up question 1: In your new code, I understand it unblocks the &quot;request thread&quot; with less effort, but I&#39;m still curious, what did we gain versus not having any CompletableFuture at all? At the end of the day we have the same number of thread running I guess?  Follow-up question 2: For methodD, even if it&#39;s a long IO call, you don&#39;t see a reason to use another CompletableFuture (i.e. make it async to the rest)? You would move it to a separate thread only if there was a need to do something in parallel during that call?","body":"Thanks! Follow-up question 1: In your new code, I understand it unblocks the &quot;request thread&quot; with less effort, but I&#39;m still curious, what did we gain versus not having any CompletableFuture at all? At the end of the day we have the same number of thread running I guess?  Follow-up question 2: For methodD, even if it&#39;s a long IO call, you don&#39;t see a reason to use another CompletableFuture (i.e. make it async to the rest)? You would move it to a separate thread only if there was a need to do something in parallel during that call?"},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":1,"creation_date":1670447666,"post_id":74722404,"comment_id":131881081,"body_markdown":"I&#39;m asking the above because the philosophy I was told, is to never call `.join()` or `.get()`. So basically as soon as one of the leaf method create a CompletableFuture (let say we were to do it in methodD), then this forces every upstream method to also now return a CompletableFuture (the only way to avoid doing that would be to call `.get()` or `.join()`).","body":"I&#39;m asking the above because the philosophy I was told, is to never call <code>.join()</code> or <code>.get()</code>. So basically as soon as one of the leaf method create a CompletableFuture (let say we were to do it in methodD), then this forces every upstream method to also now return a CompletableFuture (the only way to avoid doing that would be to call <code>.get()</code> or <code>.join()</code>)."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1670495211,"post_id":74722404,"comment_id":131890350,"body_markdown":"@HenriLapierre, Re. 1: the gain is not blocking the request thread. Whether this is an advantage depends on your application. Say you have multiple endpoints `myEndpoint1`, `myEndpoint2`, ... you can call them all in parallel getting the results back via the `StreamObserver` callback. Without using a `CompletableFuture` you would end up calling one endpoint after each other, waiting for each one to come back with its result.","body":"@HenriLapierre, Re. 1: the gain is not blocking the request thread. Whether this is an advantage depends on your application. Say you have multiple endpoints <code>myEndpoint1</code>, <code>myEndpoint2</code>, ... you can call them all in parallel getting the results back via the <code>StreamObserver</code> callback. Without using a <code>CompletableFuture</code> you would end up calling one endpoint after each other, waiting for each one to come back with its result."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1670495219,"post_id":74722404,"comment_id":131890353,"body_markdown":"@HenriLapierre, Re. 2: I don&#39;t see any advantage by using another `CompletableFuture`. `methodD` cannot initiat the RPC before its input argument becomes available. Wrapping that method into another `CompletableFuture` would only add another asynchronous call and one instead of two threads blocked on the RPC.","body":"@HenriLapierre, Re. 2: I don&#39;t see any advantage by using another <code>CompletableFuture</code>. <code>methodD</code> cannot initiat the RPC before its input argument becomes available. Wrapping that method into another <code>CompletableFuture</code> would only add another asynchronous call and one instead of two threads blocked on the RPC."},{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1670495683,"post_id":74722404,"comment_id":131890497,"body_markdown":"&gt; never call `.join()` or `.get()`: \nwhich means eventually consuming the results of the asynchronous computation via a callback. This is exactly what happens with the call to `responseObserver.next`.","body":"&gt; never call <code>.join()</code> or <code>.get()</code>:  which means eventually consuming the results of the asynchronous computation via a callback. This is exactly what happens with the call to <code>responseObserver.next</code>."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1670810431,"post_id":74722404,"comment_id":131952642,"body_markdown":"In principle, the call represented by `Thread.sleep(20)` in `methodD()` should actually be an asynchronous call returning a `CompletableFuture` for this approach to be implemented correctly. This means that `methodD()` should return a `CompletableFuture`, as well as all parents in the call hierarchy. This would allow to actually free up the thread during `methodD()`’s RPC call. This means that all (potentially) non-trivial methods should return `CompletableFuture` to avoid big refactorings later.","body":"In principle, the call represented by <code>Thread.sleep(20)</code> in <code>methodD()</code> should actually be an asynchronous call returning a <code>CompletableFuture</code> for this approach to be implemented correctly. This means that <code>methodD()</code> should return a <code>CompletableFuture</code>, as well as all parents in the call hierarchy. This would allow to actually free up the thread during <code>methodD()</code>’s RPC call. This means that all (potentially) non-trivial methods should return <code>CompletableFuture</code> to avoid big refactorings later."}],"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670443950,"creation_date":1670443950,"answer_id":74722404,"question_id":74683791,"body_markdown":"On the first question: there is no need to wrap all intermediate calls into `CompleteableFuture`s if these are all sequential. You can as well wrap the chain of sequential calls into one single `CompleteableFuture`: \r\n\r\n    public void myEndpoint() throws ExecutionException, InterruptedException {\r\n        CompletableFuture.supplyAsync(() -&gt; methodA(10))\r\n            .thenApply((response) -&gt; responseObserver.next(response));\r\n    }\r\n\r\n    public int methodA(Integer input) {\r\n        var i = methodC((methodB(input)));\r\n        System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n        return i;\r\n    }\r\n\r\n    public int methodB(Integer input) {\r\n        var i = methodE(methodD(input));\r\n        System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n        return i;\r\n    }\r\n\r\n    public int methodC(Integer input) {\r\n        var i = methodG(methodF(input));\r\n        System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n        return i;\r\n    }\r\n\r\n    public Integer methodD(Integer input) {\r\n        try {\r\n            // Assume it&#39;s a RPC call that takes 5-30ms\r\n            Thread.sleep(20);\r\n            System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return input + 1;\r\n    }\r\n\r\n    public int methodE(Integer input) {\r\n        System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        return input + 1;\r\n    }\r\n\r\n    public int methodF(Integer input) {\r\n        try {\r\n            // Let&#39;s assume it&#39;s a CPU intensive work that takes 2-5ms\r\n            Thread.sleep(5);\r\n            System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return input + 1;\r\n    }\r\n\r\n    public int methodG(Integer input) {\r\n        System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n        return input + 1;\r\n    }\r\n\r\nThe result is the same and the main thread gets not blocked. Since there are far less `CompleteableFuture` instances, there is less overhead from handing calls over from one thread to another. \r\n\r\nThus for question 2, no this is not best practices the way your example code is structured. Use `CompleteableFuture` if you must, avoid it otherwise. For example you need to use `CompleteableFuture#thenCompose` when you don&#39;t have control over the API you are calling (i.e. you can&#39;t change the return type from `CompleteableFuture&lt;T&gt;` to plain `T`). Another case is when you want to take advantage of parallelism. But this is not applicable here. ","title":"Java CompletableFuture for sequential code","body":"<p>On the first question: there is no need to wrap all intermediate calls into <code>CompleteableFuture</code>s if these are all sequential. You can as well wrap the chain of sequential calls into one single <code>CompleteableFuture</code>:</p>\n<pre><code>public void myEndpoint() throws ExecutionException, InterruptedException {\n    CompletableFuture.supplyAsync(() -&gt; methodA(10))\n        .thenApply((response) -&gt; responseObserver.next(response));\n}\n\npublic int methodA(Integer input) {\n    var i = methodC((methodB(input)));\n    System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n    return i;\n}\n\npublic int methodB(Integer input) {\n    var i = methodE(methodD(input));\n    System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n    return i;\n}\n\npublic int methodC(Integer input) {\n    var i = methodG(methodF(input));\n    System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n    return i;\n}\n\npublic Integer methodD(Integer input) {\n    try {\n        // Assume it's a RPC call that takes 5-30ms\n        Thread.sleep(20);\n        System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    return input + 1;\n}\n\npublic int methodE(Integer input) {\n    System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    return input + 1;\n}\n\npublic int methodF(Integer input) {\n    try {\n        // Let's assume it's a CPU intensive work that takes 2-5ms\n        Thread.sleep(5);\n        System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n    return input + 1;\n}\n\npublic int methodG(Integer input) {\n    System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n    return input + 1;\n}\n</code></pre>\n<p>The result is the same and the main thread gets not blocked. Since there are far less <code>CompleteableFuture</code> instances, there is less overhead from handing calls over from one thread to another.</p>\n<p>Thus for question 2, no this is not best practices the way your example code is structured. Use <code>CompleteableFuture</code> if you must, avoid it otherwise. For example you need to use <code>CompleteableFuture#thenCompose</code> when you don't have control over the API you are calling (i.e. you can't change the return type from <code>CompleteableFuture&lt;T&gt;</code> to plain <code>T</code>). Another case is when you want to take advantage of parallelism. But this is not applicable here.</p>\n"},{"comments":[{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":1,"creation_date":1670568087,"post_id":74736229,"comment_id":131908593,"body_markdown":"Regarding Question 1, no in general our functions can’t run in parallel, the output of one is needed as input of the other one. We do have a very specific  function that is a bit more CPU intensive and where CompletableFuture is indeed used to parallelize the work, and that usage make sense to me. My question was about the rest of the code base where things  red to be executed sequentially but yet are still executed asynch.","body":"Regarding Question 1, no in general our functions can’t run in parallel, the output of one is needed as input of the other one. We do have a very specific  function that is a bit more CPU intensive and where CompletableFuture is indeed used to parallelize the work, and that usage make sense to me. My question was about the rest of the code base where things  red to be executed sequentially but yet are still executed asynch."},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":1,"creation_date":1670569075,"post_id":74736229,"comment_id":131908798,"body_markdown":"Question 2: No we don’t use Semaphore and we never call .get() on the future neither since the goal is to be non-blocking","body":"Question 2: No we don’t use Semaphore and we never call .get() on the future neither since the goal is to be non-blocking"},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":1,"creation_date":1670569211,"post_id":74736229,"comment_id":131908823,"body_markdown":"Regarding methodA() being on a separate thread, that make sense. In practice I believe Spring Boot/gRPC server already call use from a different thread for each request so I don’t think we need to do that explicitly ourself, but if it’s not the case, then yeah, it obviously make sense to spawn a different thread for each request so that we can keep receiving and handling other requests while the first one executes.","body":"Regarding methodA() being on a separate thread, that make sense. In practice I believe Spring Boot/gRPC server already call use from a different thread for each request so I don’t think we need to do that explicitly ourself, but if it’s not the case, then yeah, it obviously make sense to spawn a different thread for each request so that we can keep receiving and handling other requests while the first one executes."},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":0,"creation_date":1670569670,"post_id":74736229,"comment_id":131908911,"body_markdown":"To partially correct myself from the text you quoted from me, it does seem like there some IO library that are non blocking (like Apache NIO HttpAsyncClient) and in that case it does seem like it is possible to have no thread alive while waiting for IO (I posted a different question to understand how it works). While that pattern allows to reduce the number of thread and memory footprint, it’s still not clear to me, when memory isn’t a concern, if it’s truly more CPU efficient than having 1 thread per request. It doesn’t seem like a non-blocking MySQL client (DBCP) exist however.","body":"To partially correct myself from the text you quoted from me, it does seem like there some IO library that are non blocking (like Apache NIO HttpAsyncClient) and in that case it does seem like it is possible to have no thread alive while waiting for IO (I posted a different question to understand how it works). While that pattern allows to reduce the number of thread and memory footprint, it’s still not clear to me, when memory isn’t a concern, if it’s truly more CPU efficient than having 1 thread per request. It doesn’t seem like a non-blocking MySQL client (DBCP) exist however."},{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":0,"creation_date":1670569851,"post_id":74736229,"comment_id":131908947,"body_markdown":"I posted two separate related questions : https://stackoverflow.com/questions/74734069/how-is-apache-nio-httpasyncclient-performing-non-blocking-http-client and https://stackoverflow.com/questions/74734716/non-blocking-vs-blocking-java-server-with-jdbc-calls","body":"I posted two separate related questions : <a href=\"https://stackoverflow.com/questions/74734069/how-is-apache-nio-httpasyncclient-performing-non-blocking-http-client\" title=\"how is apache nio httpasyncclient performing non blocking http client\">stackoverflow.com/questions/74734069/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/74734716/non-blocking-vs-blocking-java-server-with-jdbc-calls\" title=\"non blocking vs blocking java server with jdbc calls\">stackoverflow.com/questions/74734716/&hellip;</a>"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1670573223,"post_id":74736229,"comment_id":131909785,"body_markdown":"Ok, then there is your answer. Your teammates are wrong, and the decision to have everything as a `CompletableFuture&lt;T&gt;` is a premature optimization at best, and a performance throttle/maintenance nightmare at worst. I am checking out your other 2 questions now.","body":"Ok, then there is your answer. Your teammates are wrong, and the decision to have everything as a <code>CompletableFuture&lt;T&gt;</code> is a premature optimization at best, and a performance throttle/maintenance nightmare at worst. I am checking out your other 2 questions now."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1670573752,"post_id":74736229,"comment_id":131909918,"body_markdown":"Also, I have edited this answer to expand on why exactly your teammates are wrong. I would encourage you to confront them with this information.","body":"Also, I have edited this answer to expand on why exactly your teammates are wrong. I would encourage you to confront them with this information."}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670573715,"creation_date":1670532915,"answer_id":74736229,"question_id":74683791,"body_markdown":"Your question is a little unclear, and I think your comment phrases the real question better. Copied and pasted below.\r\n\r\n&gt; In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?\r\n\r\nGreat question. \r\n\r\nWhen you write plain, sequential code with no `CompletableFuture&lt;T&gt;`, your code runs synchronously on a single thread. No new threads are made to run your code. However, when you make a `CompletableFuture&lt;T&gt;` and put a task on it, a couple of things occur.\r\n\r\n* A new thread is created\r\n* The task given to the `CompletableFuture&lt;T&gt;` is placed onto this new thread\r\n* ***Java then uses a scheduler to jump back and forth between the main thread and the new thread when doing work.***\r\n  * Now, if your computer has multiple cores, and the number of cores is larger than the number of threads, then the above may not happen. But typically, the number of threads your application uses is way more than 2/4/8, so the point I am making above is almost always true\r\n\r\nAs you can see, the 3rd bullet is the most important because this is where the biggest benefit of multithreading occurs. The Java scheduler allows you to pause and continue threads on the fly, so that every thread can make some progress over time.\r\n\r\nThis is powerful because ***some threads may be waiting on IO work to be completed.*** A thread that is waiting on IO work is essentially ***doing nothing and wasting its turn on the CPU core.*** \r\n\r\nBy using a Java scheduler, you can minimize (if not eliminate) the time wasted on a core, and quickly switch to a thread that is not waiting on IO work to continue.\r\n\r\nAnd this is probably the big benefit that your teammates are striving for. They want to ensure that all work that is being done wastes as little time as possible on the core. That is the big point.\r\n\r\n***That said***, whether or not they actually succeeded depends on a couple of different questions that I need you to answer.\r\n\r\n1. You mentioned `methodB` and `methodC`. Can any of these methods be run in parallel? Does `methodB` have to ***fully complete*** before `methodC` can be executed? Or can `methodC` ***run in parallel*** to `methodB`? The same question applies to `methodD` and `methodE`, or `methodF` and `methodG`. I understand that currently, they run sequentially and wait for each other to finish. That&#39;s not my question. I am asking if it is possible for them to run in parallel.\r\n\r\n2. Are you using rate limiting tools like `Semaphore` anywhere in your code? Ideally, I would limit the scope of your answer to explicit code that your team writes, but if you know for sure that one of your dependencies does it, then feel free to mention it too.\r\n\r\n* If your answers to question 1 is no, then 99% of the time, doing what your team is doing is a terrible idea. The only method that should be in its own separate thread is `methodA`, but it sounds like you are already doing that.\r\n* If you answer to question 1 is at least partly yes but question 2 is no, then your teammates are pretty much correct. Over time, try to get an idea about where and when it makes the most sense. But as a first pass solution? This isn&#39;t a horrible idea.\r\n    * If you said that B and C can be parallel, but D and E cannot, then wrapping B and C in `CompletableFuture&lt;T&gt;` makes sense, but not for D and E. They should just be basic sequential Java code. Unless of course, this a modular method/class that can be used in other code and might be parallel there. Nuance is required here, but starting with all of them being `CompletableFuture&lt;T&gt;` isn&#39;t a terrible first solution.\r\n* If your answer to question 1 is at least partly yes and your answer to question 2 is also yes, then you&#39;ll have to take a deep dive into your profiler to find the answer. Things like `Semaphore` are a different type of IO since they are a &quot;context-dependent&quot; tax that you pay depending on the state of your program around you. But since they are a construct that exists inside of your code, it becomes a dependable and measurable sort of IO that you can build deductions and assumptions off of. To keep my answer short, rate-limiting tools will allow you to make dependable assumptions about your code, and thus, any results from your profiler will be way more useful than they would be else where. `methodA` should definitely still be in its own separate thread.\r\n\r\nSo in short.\r\n* If 1 and 2 are yes, the answer is going to require nuance. Go into your profiler and find out.\r\n* If 1 is yes but 2 is no, your teammates are right. Change as needed, but go ahead with this solution.\r\n* If 1 is no, then your teammates are wrong. Make them change.\r\n\r\nAnd for all of these, `methodA` should be in its own separate thread no matter what.\r\n\r\n***EDIT*** - the original poster of the question has confirmed that the answer to question 1 and 2 are both no. Therefore, the team is wrong and should pull back this change. I will take this opportunity to explain in better detail why their decision is wrong.\r\n\r\nAs mentioned before, the big utility behind `CompletableFuture&lt;T&gt;` and other threading tools is that they allow you to do work on specific threads while other specific threads are waiting on some IO operation to finish. This is accomplished by switching between threads.\r\n\r\nHowever, if there is no IO operation being done, then you are not saving time because none of the threads were ever waiting. So you gain nothing by having `CompletableFuture&lt;T&gt;`. And worse yet, you actually lose performance by doing this.\r\n\r\nSee, when switching between threads like I just mentioned, you have to &quot;*page state*&quot;, which is the short way of saying &quot;*grab all the variables in scope for that thread and load them into main memory, while unloading all the data from the previous thread*&quot;. &quot;*Paging state*&quot; like this is fast, but it&#39;s not instantaneous. It costs you performance to switch threads like that.\r\n\r\nAnd to make matters worse, your teammates put this on ***every method***. So not only are they slowing down their code by a nontrivial amount just to pointlessly spin their wheels, but they are doing it extremely frequently, since this *de*optimization is occurring on every method.\r\n\r\nI would confront your team immediately and point out how damaging this is. They are explicitly in the wrong for doing this, and even if they were preparing for some inevitable future, this is still a terrible time to implement this. Wait until that time comes and build it out as the need arises. As is now, they are gutting their performance for no good reason.","title":"Java CompletableFuture for sequential code","body":"<p>Your question is a little unclear, and I think your comment phrases the real question better. Copied and pasted below.</p>\n<blockquote>\n<p>In this example nothing is running in parallel, all methods are running sequentially as described in the Java code. My understanding is that CompletableFuture is used, in our code base, mostly to ensure that we don’t block the main thread on IO, but I’m trying to understand what’s the advantage of not blocking the request thread. At the end of the day some thread (MethodD’s CompletableFuture) is waiting for the IO, it just happens that it’s not the initial request thread. Do you think CompletableFuture should only be used to achieve parallelism?</p>\n</blockquote>\n<p>Great question.</p>\n<p>When you write plain, sequential code with no <code>CompletableFuture&lt;T&gt;</code>, your code runs synchronously on a single thread. No new threads are made to run your code. However, when you make a <code>CompletableFuture&lt;T&gt;</code> and put a task on it, a couple of things occur.</p>\n<ul>\n<li>A new thread is created</li>\n<li>The task given to the <code>CompletableFuture&lt;T&gt;</code> is placed onto this new thread</li>\n<li><em><strong>Java then uses a scheduler to jump back and forth between the main thread and the new thread when doing work.</strong></em>\n<ul>\n<li>Now, if your computer has multiple cores, and the number of cores is larger than the number of threads, then the above may not happen. But typically, the number of threads your application uses is way more than 2/4/8, so the point I am making above is almost always true</li>\n</ul>\n</li>\n</ul>\n<p>As you can see, the 3rd bullet is the most important because this is where the biggest benefit of multithreading occurs. The Java scheduler allows you to pause and continue threads on the fly, so that every thread can make some progress over time.</p>\n<p>This is powerful because <em><strong>some threads may be waiting on IO work to be completed.</strong></em> A thread that is waiting on IO work is essentially <em><strong>doing nothing and wasting its turn on the CPU core.</strong></em></p>\n<p>By using a Java scheduler, you can minimize (if not eliminate) the time wasted on a core, and quickly switch to a thread that is not waiting on IO work to continue.</p>\n<p>And this is probably the big benefit that your teammates are striving for. They want to ensure that all work that is being done wastes as little time as possible on the core. That is the big point.</p>\n<p><em><strong>That said</strong></em>, whether or not they actually succeeded depends on a couple of different questions that I need you to answer.</p>\n<ol>\n<li><p>You mentioned <code>methodB</code> and <code>methodC</code>. Can any of these methods be run in parallel? Does <code>methodB</code> have to <em><strong>fully complete</strong></em> before <code>methodC</code> can be executed? Or can <code>methodC</code> <em><strong>run in parallel</strong></em> to <code>methodB</code>? The same question applies to <code>methodD</code> and <code>methodE</code>, or <code>methodF</code> and <code>methodG</code>. I understand that currently, they run sequentially and wait for each other to finish. That's not my question. I am asking if it is possible for them to run in parallel.</p>\n</li>\n<li><p>Are you using rate limiting tools like <code>Semaphore</code> anywhere in your code? Ideally, I would limit the scope of your answer to explicit code that your team writes, but if you know for sure that one of your dependencies does it, then feel free to mention it too.</p>\n</li>\n</ol>\n<ul>\n<li>If your answers to question 1 is no, then 99% of the time, doing what your team is doing is a terrible idea. The only method that should be in its own separate thread is <code>methodA</code>, but it sounds like you are already doing that.</li>\n<li>If you answer to question 1 is at least partly yes but question 2 is no, then your teammates are pretty much correct. Over time, try to get an idea about where and when it makes the most sense. But as a first pass solution? This isn't a horrible idea.\n<ul>\n<li>If you said that B and C can be parallel, but D and E cannot, then wrapping B and C in <code>CompletableFuture&lt;T&gt;</code> makes sense, but not for D and E. They should just be basic sequential Java code. Unless of course, this a modular method/class that can be used in other code and might be parallel there. Nuance is required here, but starting with all of them being <code>CompletableFuture&lt;T&gt;</code> isn't a terrible first solution.</li>\n</ul>\n</li>\n<li>If your answer to question 1 is at least partly yes and your answer to question 2 is also yes, then you'll have to take a deep dive into your profiler to find the answer. Things like <code>Semaphore</code> are a different type of IO since they are a &quot;context-dependent&quot; tax that you pay depending on the state of your program around you. But since they are a construct that exists inside of your code, it becomes a dependable and measurable sort of IO that you can build deductions and assumptions off of. To keep my answer short, rate-limiting tools will allow you to make dependable assumptions about your code, and thus, any results from your profiler will be way more useful than they would be else where. <code>methodA</code> should definitely still be in its own separate thread.</li>\n</ul>\n<p>So in short.</p>\n<ul>\n<li>If 1 and 2 are yes, the answer is going to require nuance. Go into your profiler and find out.</li>\n<li>If 1 is yes but 2 is no, your teammates are right. Change as needed, but go ahead with this solution.</li>\n<li>If 1 is no, then your teammates are wrong. Make them change.</li>\n</ul>\n<p>And for all of these, <code>methodA</code> should be in its own separate thread no matter what.</p>\n<p><em><strong>EDIT</strong></em> - the original poster of the question has confirmed that the answer to question 1 and 2 are both no. Therefore, the team is wrong and should pull back this change. I will take this opportunity to explain in better detail why their decision is wrong.</p>\n<p>As mentioned before, the big utility behind <code>CompletableFuture&lt;T&gt;</code> and other threading tools is that they allow you to do work on specific threads while other specific threads are waiting on some IO operation to finish. This is accomplished by switching between threads.</p>\n<p>However, if there is no IO operation being done, then you are not saving time because none of the threads were ever waiting. So you gain nothing by having <code>CompletableFuture&lt;T&gt;</code>. And worse yet, you actually lose performance by doing this.</p>\n<p>See, when switching between threads like I just mentioned, you have to &quot;<em>page state</em>&quot;, which is the short way of saying &quot;<em>grab all the variables in scope for that thread and load them into main memory, while unloading all the data from the previous thread</em>&quot;. &quot;<em>Paging state</em>&quot; like this is fast, but it's not instantaneous. It costs you performance to switch threads like that.</p>\n<p>And to make matters worse, your teammates put this on <em><strong>every method</strong></em>. So not only are they slowing down their code by a nontrivial amount just to pointlessly spin their wheels, but they are doing it extremely frequently, since this <em>de</em>optimization is occurring on every method.</p>\n<p>I would confront your team immediately and point out how damaging this is. They are explicitly in the wrong for doing this, and even if they were preparing for some inevitable future, this is still a terrible time to implement this. Wait until that time comes and build it out as the need arises. As is now, they are gutting their performance for no good reason.</p>\n"},{"comments":[{"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"score":0,"creation_date":1673413809,"post_id":74796834,"comment_id":132490861,"body_markdown":"Great answer, thanks a lot! Out of curiosity, in case you know, how does &quot;true non-blocking&quot; operation work/are implemented. How is it possible to wait for external IO without having any thread alive? I suspect it relies on some sort of callback with the OS, but I don&#39;t get the details. https://stackoverflow.com/questions/74734069/how-is-apache-nio-httpasyncclient-performing-non-blocking-http-client","body":"Great answer, thanks a lot! Out of curiosity, in case you know, how does &quot;true non-blocking&quot; operation work/are implemented. How is it possible to wait for external IO without having any thread alive? I suspect it relies on some sort of callback with the OS, but I don&#39;t get the details. <a href=\"https://stackoverflow.com/questions/74734069/how-is-apache-nio-httpasyncclient-performing-non-blocking-http-client\" title=\"how is apache nio httpasyncclient performing non blocking http client\">stackoverflow.com/questions/74734069/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673432348,"post_id":74796834,"comment_id":132495933,"body_markdown":"In either case, it requires support from the operating system/drivers. It may use a callback or send a signal. It may also feature a mechanism to poll the status of pending I/O, which usually only makes sense if it allows to poll the status of multiple jobs at once.","body":"In either case, it requires support from the operating system/drivers. It may use a callback or send a signal. It may also feature a mechanism to poll the status of pending I/O, which usually only makes sense if it allows to poll the status of multiple jobs at once."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671013838,"creation_date":1671013838,"answer_id":74796834,"question_id":74683791,"body_markdown":"The premise is that threads are a scarce resource, which is not intrinsic to threads but a consequence of using a pool of threads with a configured maximum. The reason today’s frameworks use a pool is that threads, as implemented today, are expensive and creating too many of them can cause significant performance problems.\r\n\r\nYou wrote\r\n\r\n&gt; My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation…\r\n\r\nwhich is going into the right direction, but it’s important to keep in mind that there might be more constraints than memory. Some operating system’s schedulers become significantly less efficient with a large number of threads, some may even have a fixed limit on how many threads a process is allowed to create.\r\n\r\nSo, when you block a thread by waiting for another, you are limiting the parallel processing capabilities of the thread pool. This applies if you are using, as you put it, a “true non-blocking” API, or just any already existing API that returns futures. Submitting your own operations via `supplyAsync` has no point as the supplier’s code still is executed by a thread, as you correctly pointed out.\r\n\r\nBut when you have an existing future returned by an operation, you should rather chain dependent processing steps instead of waiting for its result via `join` and friends. Note that calling `join()` on existing futures can make things even worse than just blocking threads:\r\n\r\nWhen you call `join()` on a `CompletableFuture`, it tries to compensate the problem. When the caller is a worker thread of a Fork/Join pool, one of two things can happen:\r\n\r\n - Instead of doing nothing, it may try to fetch pending jobs and execute them in-place, similar to [`awaitQuiescence`].\r\n   - In the best case, it will directly pick up the job you just scheduled with `supplyAsync` (if using the same pool) and execute it, almost as if you executed it without `CompletableFuture` (just consuming far more stack space).\r\n   - In the worst case, the thread will be busy executing a long running, entirely unrelated job while the job it’s actually waiting for has been completed long ago. Imagine what happens if that unrelated job also calls `join`.\r\n - It may end up actually blocking the thread but using [`ForkJoinPool.managedBlock(…)`], which may start a new worker thread to ensure that the pool’s configured parallelism is kept. Great to solve the problem of reduced parallelism, but on the other hand, reintroducing the very problem of resource consumption you actually wanted to solve with thread pools.\r\n\r\nThe worst of all is that you can’t even predict which of the two things will happen.\r\n\r\n---\r\n\r\nThere are, however, cases where not blocking a request thread by utilizing other threads has a point. Most notably when the response time for the request itself matters and the results of the background computation are delivered independent of the initial response. The most prominent example of this pattern is the event dispatch thread of GUI frameworks which must be kept free of long running operations, to be able to process subsequent user input.\r\n\r\n---\r\n\r\nNote that there is a general solution on the way, to make 99% of all future chains obsolete. [Virtual Threads], which are in preview state in JDK&#160;19, are cheap to create and allow to create one thread per request, just like you envisioned in the cite above. When a virtual thread gets blocked, it will release the underlying platform thread for the next virtual thread, so there is no reason to hesitate to call `join()` on any future, even those belonging to “true non-blocking” APIs.\r\n\r\nThe best way to interoperate with this concept and the status quo is to design methods to *not* return futures, but perform the operation in-place. It’s still possible to design a future chain when necessary, i.e. by using `.thenApplyAsync(this::inPlaceEvalMethod)` instead of `.thenCompose(this::futureReturningMethod)`. But at the same time, you can write a plain sequential version just calling these methods, which can be executed by a virtual thread. In fact, you could even add the plain sequential version today and benchmark both approaches. The results might convince your team members that “not blocking the request thread” is not necessarily an improvement.\r\n\r\n[`awaitQuiescence`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#awaitQuiescence(long,java.util.concurrent.TimeUnit)\r\n[`ForkJoinPool.managedBlock(…)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#managedBlock(java.util.concurrent.ForkJoinPool.ManagedBlocker)\r\n[Virtual Threads]: https://bugs.openjdk.org/browse/JDK-8277131","title":"Java CompletableFuture for sequential code","body":"<p>The premise is that threads are a scarce resource, which is not intrinsic to threads but a consequence of using a pool of threads with a configured maximum. The reason today’s frameworks use a pool is that threads, as implemented today, are expensive and creating too many of them can cause significant performance problems.</p>\n<p>You wrote</p>\n<blockquote>\n<p>My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation…</p>\n</blockquote>\n<p>which is going into the right direction, but it’s important to keep in mind that there might be more constraints than memory. Some operating system’s schedulers become significantly less efficient with a large number of threads, some may even have a fixed limit on how many threads a process is allowed to create.</p>\n<p>So, when you block a thread by waiting for another, you are limiting the parallel processing capabilities of the thread pool. This applies if you are using, as you put it, a “true non-blocking” API, or just any already existing API that returns futures. Submitting your own operations via <code>supplyAsync</code> has no point as the supplier’s code still is executed by a thread, as you correctly pointed out.</p>\n<p>But when you have an existing future returned by an operation, you should rather chain dependent processing steps instead of waiting for its result via <code>join</code> and friends. Note that calling <code>join()</code> on existing futures can make things even worse than just blocking threads:</p>\n<p>When you call <code>join()</code> on a <code>CompletableFuture</code>, it tries to compensate the problem. When the caller is a worker thread of a Fork/Join pool, one of two things can happen:</p>\n<ul>\n<li>Instead of doing nothing, it may try to fetch pending jobs and execute them in-place, similar to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#awaitQuiescence(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>awaitQuiescence</code></a>.\n<ul>\n<li>In the best case, it will directly pick up the job you just scheduled with <code>supplyAsync</code> (if using the same pool) and execute it, almost as if you executed it without <code>CompletableFuture</code> (just consuming far more stack space).</li>\n<li>In the worst case, the thread will be busy executing a long running, entirely unrelated job while the job it’s actually waiting for has been completed long ago. Imagine what happens if that unrelated job also calls <code>join</code>.</li>\n</ul>\n</li>\n<li>It may end up actually blocking the thread but using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#managedBlock(java.util.concurrent.ForkJoinPool.ManagedBlocker)\" rel=\"nofollow noreferrer\"><code>ForkJoinPool.managedBlock(…)</code></a>, which may start a new worker thread to ensure that the pool’s configured parallelism is kept. Great to solve the problem of reduced parallelism, but on the other hand, reintroducing the very problem of resource consumption you actually wanted to solve with thread pools.</li>\n</ul>\n<p>The worst of all is that you can’t even predict which of the two things will happen.</p>\n<hr />\n<p>There are, however, cases where not blocking a request thread by utilizing other threads has a point. Most notably when the response time for the request itself matters and the results of the background computation are delivered independent of the initial response. The most prominent example of this pattern is the event dispatch thread of GUI frameworks which must be kept free of long running operations, to be able to process subsequent user input.</p>\n<hr />\n<p>Note that there is a general solution on the way, to make 99% of all future chains obsolete. <a href=\"https://bugs.openjdk.org/browse/JDK-8277131\" rel=\"nofollow noreferrer\">Virtual Threads</a>, which are in preview state in JDK 19, are cheap to create and allow to create one thread per request, just like you envisioned in the cite above. When a virtual thread gets blocked, it will release the underlying platform thread for the next virtual thread, so there is no reason to hesitate to call <code>join()</code> on any future, even those belonging to “true non-blocking” APIs.</p>\n<p>The best way to interoperate with this concept and the status quo is to design methods to <em>not</em> return futures, but perform the operation in-place. It’s still possible to design a future chain when necessary, i.e. by using <code>.thenApplyAsync(this::inPlaceEvalMethod)</code> instead of <code>.thenCompose(this::futureReturningMethod)</code>. But at the same time, you can write a plain sequential version just calling these methods, which can be executed by a virtual thread. In fact, you could even add the plain sequential version today and benchmark both approaches. The results might convince your team members that “not blocking the request thread” is not necessarily an improvement.</p>\n"}],"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74796834,"answer_count":3,"score":8,"last_activity_date":1671013838,"creation_date":1670218690,"question_id":74683791,"body_markdown":"My new team is writing a Java gRPC service and to ensure that we never block the request thread we ended-up wrapping more or less ALL methods inside a [CompletableFuture][1] even if those endpoints are conceptually a sequential list of operation (no parallelism).\r\n\r\nSo the code look something like (a Java example is available at the end if needed) :\r\n\r\n      methodA()\r\n        methodB()\r\n          methodD() (let say this one is a 15ms RPC call)\r\n          methodE()\r\n        methodC()\r\n          methodF() (let say this one is a 5ms CPU intensive work)\r\n          methodG()\r\n     \r\n\r\nContext:\r\n- In practice the application is much bigger and there&#39;re many more layers of functions\r\n- Each application host need to handle 1000 QPS, so you can imagine that methodA is called at that rate\r\n- Some function (few) make a RPC call that can take 5-30ms (IO)\r\n- Some function (very few) run CPU intensive work (&lt; 5ms)\r\n\r\n**Edit 1:** After more reading online yesterday, I understand that **if, and only if, we are using true non-blocking HTTP and DB Client (and it doesn&#39;t seem like JDBC is non-blocking)**, this pattern can reduce the total number of threads required. My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation (reduce the overhead of switching threads and loading data), but if we didn&#39;t have enough memory to keep that many threads alive, then this notion of making the whole code non-blocking can reduce the number of thread and thus allow the application to scale to more request.\r\n\r\n\r\n**Question 1:** \r\nI understand this unblocks the &quot;request thread&quot;, but in practice what&#39;s the advantage? Are we truly saving CPU time? In the example below, it feels like &quot;some&quot; thread will be alive the whole time anyways (in the example below, mostly the thread from CompletableFuture.supplyAsync in methodD), it just happens that it’s not the same thread as the one who received the initial request.\r\n\r\n**Question 2:**\r\nIs that pattern truly a &quot;best practice&quot; and all services should follow a similar pattern? Outside of making the code a bit harder to read I feel, per request 50+ methods gets invoked and 50+ times we call a mix of CompletableFuture `.thenCompose()` or `.supplyAsync`. It seems like it&#39;s would be adding some overhead. Was `CompletableFuture` designed to be used that way across the whole code base in every method?\r\n\r\n**Annex (java example):**\r\n\r\n\r\n      public void myEndpoint(MyRequest request, StreamObserver&lt;MyResponse&gt; responseObserver) {\r\n        methodA(10)\r\n            .thenApply((response) -&gt; responseObserver.next(response));\r\n        \r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodA(Integer input) {\r\n        return CompletableFuture.completedFuture(input)\r\n            .thenCompose(this::methodB)\r\n            .thenCompose(this::methodC)\r\n            .thenApply((i) -&gt; {\r\n              System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n              return i;\r\n            });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodB(Integer input) {\r\n        return CompletableFuture.completedFuture(input)\r\n            .thenCompose(this::methodD)\r\n            .thenCompose(this::methodE)\r\n            .thenApply((i) -&gt; {\r\n              System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n              return i;\r\n            });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodC(Integer input) {\r\n        return CompletableFuture.completedFuture(input)\r\n            .thenCompose(this::methodF)\r\n            .thenCompose(this::methodG)\r\n            .thenApply((i) -&gt; {\r\n              System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\r\n              return i;\r\n            });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodD(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          try {\r\n            // Assume it&#39;s a RPC call that takes 5-30ms\r\n            Thread.sleep(20);\r\n            System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n          return input + 1;\r\n        });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodE(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          return input + 1;\r\n        });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodF(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          try {\r\n            // Let&#39;s assume it&#39;s a CPU intensive work that takes 2-5ms\r\n            Thread.sleep(5);\r\n            System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n          return input + 1;\r\n        });\r\n      }\r\n    \r\n      public CompletableFuture&lt;Integer&gt; methodG(Integer input) {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n          System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\r\n          return input + 1;\r\n        });\r\n      }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"Java CompletableFuture for sequential code","body":"<p>My new team is writing a Java gRPC service and to ensure that we never block the request thread we ended-up wrapping more or less ALL methods inside a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a> even if those endpoints are conceptually a sequential list of operation (no parallelism).</p>\n<p>So the code look something like (a Java example is available at the end if needed) :</p>\n<pre><code>  methodA()\n    methodB()\n      methodD() (let say this one is a 15ms RPC call)\n      methodE()\n    methodC()\n      methodF() (let say this one is a 5ms CPU intensive work)\n      methodG()\n \n</code></pre>\n<p>Context:</p>\n<ul>\n<li>In practice the application is much bigger and there're many more layers of functions</li>\n<li>Each application host need to handle 1000 QPS, so you can imagine that methodA is called at that rate</li>\n<li>Some function (few) make a RPC call that can take 5-30ms (IO)</li>\n<li>Some function (very few) run CPU intensive work (&lt; 5ms)</li>\n</ul>\n<p><strong>Edit 1:</strong> After more reading online yesterday, I understand that <strong>if, and only if, we are using true non-blocking HTTP and DB Client (and it doesn't seem like JDBC is non-blocking)</strong>, this pattern can reduce the total number of threads required. My understanding is that if we have enough memory to keep one thread per request, using a synchronous code would still probably be the most efficient implementation (reduce the overhead of switching threads and loading data), but if we didn't have enough memory to keep that many threads alive, then this notion of making the whole code non-blocking can reduce the number of thread and thus allow the application to scale to more request.</p>\n<p><strong>Question 1:</strong>\nI understand this unblocks the &quot;request thread&quot;, but in practice what's the advantage? Are we truly saving CPU time? In the example below, it feels like &quot;some&quot; thread will be alive the whole time anyways (in the example below, mostly the thread from CompletableFuture.supplyAsync in methodD), it just happens that it’s not the same thread as the one who received the initial request.</p>\n<p><strong>Question 2:</strong>\nIs that pattern truly a &quot;best practice&quot; and all services should follow a similar pattern? Outside of making the code a bit harder to read I feel, per request 50+ methods gets invoked and 50+ times we call a mix of CompletableFuture <code>.thenCompose()</code> or <code>.supplyAsync</code>. It seems like it's would be adding some overhead. Was <code>CompletableFuture</code> designed to be used that way across the whole code base in every method?</p>\n<p><strong>Annex (java example):</strong></p>\n<pre><code>  public void myEndpoint(MyRequest request, StreamObserver&lt;MyResponse&gt; responseObserver) {\n    methodA(10)\n        .thenApply((response) -&gt; responseObserver.next(response));\n    \n  }\n\n  public CompletableFuture&lt;Integer&gt; methodA(Integer input) {\n    return CompletableFuture.completedFuture(input)\n        .thenCompose(this::methodB)\n        .thenCompose(this::methodC)\n        .thenApply((i) -&gt; {\n          System.out.println(&quot;MethodA executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n          return i;\n        });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodB(Integer input) {\n    return CompletableFuture.completedFuture(input)\n        .thenCompose(this::methodD)\n        .thenCompose(this::methodE)\n        .thenApply((i) -&gt; {\n          System.out.println(&quot;MethodB executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n          return i;\n        });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodC(Integer input) {\n    return CompletableFuture.completedFuture(input)\n        .thenCompose(this::methodF)\n        .thenCompose(this::methodG)\n        .thenApply((i) -&gt; {\n          System.out.println(&quot;MethodC executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + i));\n          return i;\n        });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodD(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      try {\n        // Assume it's a RPC call that takes 5-30ms\n        Thread.sleep(20);\n        System.out.println(&quot;MethodD executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n      }\n      return input + 1;\n    });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodE(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      System.out.println(&quot;MethodE executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      return input + 1;\n    });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodF(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      try {\n        // Let's assume it's a CPU intensive work that takes 2-5ms\n        Thread.sleep(5);\n        System.out.println(&quot;MethodF executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n      }\n      return input + 1;\n    });\n  }\n\n  public CompletableFuture&lt;Integer&gt; methodG(Integer input) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n      System.out.println(&quot;MethodG executed by &quot;.concat(Thread.currentThread().getName() + &quot;: &quot; + input));\n      return input + 1;\n    });\n  }\n</code></pre>\n"},{"tags":["java","opengl","glsl","transparency","lwjgl"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1670974997,"post_id":74791940,"comment_id":131996232,"body_markdown":"Did you enable mipmaps? When it generates the mipmaps, there is a tendency for some bleed over the edges on some textures due to the reduced pixel count. One of the easiest solutions is to just add a couple extra pixels on the edges (either in code or the image file) to avoid the problem. However, I highly doubt this is the recommended solution. The proper solution is probably to generate the mipmaps in a way that it knows where the boundaries between sprites (letters in your case) are so it can avoid bleed.","body":"Did you enable mipmaps? When it generates the mipmaps, there is a tendency for some bleed over the edges on some textures due to the reduced pixel count. One of the easiest solutions is to just add a couple extra pixels on the edges (either in code or the image file) to avoid the problem. However, I highly doubt this is the recommended solution. The proper solution is probably to generate the mipmaps in a way that it knows where the boundaries between sprites (letters in your case) are so it can avoid bleed."},{"owner":{"account_id":8892914,"reputation":241,"user_id":6638889,"accept_rate":100,"display_name":"Andreas Sandberg"},"score":0,"creation_date":1670975795,"post_id":74791940,"comment_id":131996376,"body_markdown":"@Locke I am not using mipmapping. The game is in a very early stage right now so the texture rendering is very basic and straight forward.","body":"@Locke I am not using mipmapping. The game is in a very early stage right now so the texture rendering is very basic and straight forward."}],"answers":[{"tags":[],"owner":{"account_id":3043323,"reputation":21366,"user_id":2579738,"display_name":"BDL"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1671012830,"creation_date":1671012830,"answer_id":74796635,"question_id":74791940,"body_markdown":"These artefacts seem to be caused by linear interpolation in combination with repeat wrapping. With this modes, a texture coordinate of 0 will be an interpolation of the first texel with the last texel in the row which will cause the other side to bleed in.\r\n\r\nYou can, for example, set the wrapping mode to something else where the interpolation will not take texels from the other side like `GL_CLAMP_TO_EDGE`.\r\n\r\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\r\n    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);","title":"Visual artifacts in LWJGL (OpenGL) when rendering transparent 2D images","body":"<p>These artefacts seem to be caused by linear interpolation in combination with repeat wrapping. With this modes, a texture coordinate of 0 will be an interpolation of the first texel with the last texel in the row which will cause the other side to bleed in.</p>\n<p>You can, for example, set the wrapping mode to something else where the interpolation will not take texels from the other side like <code>GL_CLAMP_TO_EDGE</code>.</p>\n<pre><code>glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\n</code></pre>\n"}],"owner":{"account_id":8892914,"reputation":241,"user_id":6638889,"accept_rate":100,"display_name":"Andreas Sandberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74796635,"answer_count":1,"score":2,"last_activity_date":1671012830,"creation_date":1670973573,"question_id":74791940,"body_markdown":"I am using LWJGL to make a 2D game and my transparent textures have visual artifacts in them when rendered onto the screen.\r\n[![How it is supposed to look like][1]][1]\r\n\r\n\r\n[![What is looks like in game][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BXUC4.png\r\n  [2]: https://i.stack.imgur.com/om3jB.png\r\n\r\nThe top image is how it is supposed to look like, and the bottom one is how it looks like in game. These visual artifacts are even bigger on larger images. I have tried turning off texture wrapping and I&#39;ve tried changing the MIN and MAG filter to GL_LINEAER.\r\n\r\nThis is what my fragment shader looks like:\r\n\r\n    #version 430\r\n    \r\n    uniform sampler2D sampler;\r\n    uniform float opacities[5];\r\n    uniform int opacityIndex;\r\n\r\n    in vec2 tex_coords;\r\n\r\n    out vec4 out_Color;\r\n\r\n    void main() {\r\n\t    out_Color = texture2D(sampler, tex_coords);\r\n\t    out_Color.a *= opacities[opacityIndex];\r\n    }\r\n\r\nThe opacities are all 1f when rendering, and I&#39;ve tried removing the last line of the main method all togehter but the artifacts still appear. \r\n\r\nHow do I get rid of these visual artifacts?\r\n\r\nEDIT: I forgot to add that when I upscale or downscale some of the images, the artifacts disappear, but they shouldn&#39;t be where they are in the first place since the one shown here is not being scaled at all to begin with.","title":"Visual artifacts in LWJGL (OpenGL) when rendering transparent 2D images","body":"<p>I am using LWJGL to make a 2D game and my transparent textures have visual artifacts in them when rendered onto the screen.\n<a href=\"https://i.stack.imgur.com/BXUC4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BXUC4.png\" alt=\"How it is supposed to look like\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/om3jB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/om3jB.png\" alt=\"What is looks like in game\" /></a></p>\n<p>The top image is how it is supposed to look like, and the bottom one is how it looks like in game. These visual artifacts are even bigger on larger images. I have tried turning off texture wrapping and I've tried changing the MIN and MAG filter to GL_LINEAER.</p>\n<p>This is what my fragment shader looks like:</p>\n<pre><code>#version 430\n\nuniform sampler2D sampler;\nuniform float opacities[5];\nuniform int opacityIndex;\n\nin vec2 tex_coords;\n\nout vec4 out_Color;\n\nvoid main() {\n    out_Color = texture2D(sampler, tex_coords);\n    out_Color.a *= opacities[opacityIndex];\n}\n</code></pre>\n<p>The opacities are all 1f when rendering, and I've tried removing the last line of the main method all togehter but the artifacts still appear.</p>\n<p>How do I get rid of these visual artifacts?</p>\n<p>EDIT: I forgot to add that when I upscale or downscale some of the images, the artifacts disappear, but they shouldn't be where they are in the first place since the one shown here is not being scaled at all to begin with.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","multiple-databases"],"owner":{"account_id":2220534,"reputation":276,"user_id":2128554,"accept_rate":62,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1671012773,"creation_date":1669191504,"question_id":74543637,"body_markdown":"In [this][1] official example of configuring 2 data sources, they have used embedded DB.\r\nSo, with the help of Spring boot&#39;s How to documentations, [Configure Two DataSources][2] and [Using Multiple EntityManagerFactories][3], I customized that to use MySQL DB.\r\n\r\nYou can find the complete code under this [Github repository][4]. Don&#39;t forget to checkout the **&quot;two_data_sources_in_separate_files&quot;** branch.\r\n\r\nBut with this modification, **&quot;secondDBTransactionManager&quot;** is not pointing second_db. Instead, it is inserting data into first_db.\r\n\r\n**FirstDataSource.java**\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;firstDBEntityManagerFactory&quot;, transactionManagerRef = &quot;firstDBTransactionManager&quot;)\r\n\r\n    public class FirstDataSource {\r\n\t@Bean\r\n\tPlatformTransactionManager firstDBTransactionManager(DataSourceProperties firstDataSourceProperties) {\r\n\t\treturn new JpaTransactionManager(firstDBEntityManagerFactory(firstDataSourceProperties).getObject());\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tLocalContainerEntityManagerFactoryBean firstDBEntityManagerFactory(DataSourceProperties firstDataSourceProperties) {\r\n\r\n\t\tHibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tjpaVendorAdapter.setGenerateDdl(true);\r\n\r\n\t\tLocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\n\r\n\t\tfactoryBean.setDataSource(firstDS(firstDataSourceProperties));\r\n\t\tfactoryBean.setJpaVendorAdapter(jpaVendorAdapter);\r\n\t\tfactoryBean.setPackagesToScan(FirstDataSource.class.getPackage().getName());\r\n\r\n\t\treturn factoryBean;\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(&quot;app.datasource.first&quot;)\r\n\tpublic DataSourceProperties firstDataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\t@ConfigurationProperties(&quot;app.datasource.first.configuration&quot;)\r\n\tpublic HikariDataSource firstDS(DataSourceProperties firstDataSourceProperties) {\r\n\t\treturn firstDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n\t}\r\n\r\n    }\r\n\r\n\r\n**SecondDataSource.java**\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(entityManagerFactoryRef = &quot;secondDBEntityManagerFactory&quot;, transactionManagerRef = &quot;secondDBTransactionManager&quot;)\r\n    public class SecondDataSource {\r\n\r\n\t@Bean\r\n\tPlatformTransactionManager secondDBTransactionManager(DataSourceProperties secondDataSourceProperties) {\r\n\t\treturn new JpaTransactionManager(secondDBEntityManagerFactory(secondDataSourceProperties).getObject());\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;app.datasource.second&quot;)\r\n\tpublic DataSourceProperties secondDataSourceProperties() {\r\n\t\treturn new DataSourceProperties();\r\n\t}\r\n\r\n\t@Bean\r\n\t@ConfigurationProperties(&quot;app.datasource.second.configuration&quot;)\r\n\tpublic HikariDataSource secondDS(\r\n\t\t\t@Qualifier(&quot;secondDataSourceProperties&quot;) DataSourceProperties secondDataSourceProperties) {\r\n\t\treturn secondDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean secondDBEntityManagerFactory(DataSourceProperties secondDataSourceProperties) {\r\n\t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tvendorAdapter.setGenerateDdl(true);\r\n\r\n\t\tLocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\n\t\tfactoryBean.setDataSource(secondDS(secondDataSourceProperties));\r\n\t\tfactoryBean.setJpaVendorAdapter(vendorAdapter);\r\n\t\tfactoryBean.setPackagesToScan(SecondDataSource.class.getPackage().getName());\r\n\r\n\t\treturn factoryBean;\r\n\t}\r\n\r\n    }\r\n\r\n**FetchData.java**\r\n\r\n    @Controller // This means that this class is a Controller\r\n    @RequestMapping(path = &quot;/demo&quot;) // This means URL&#39;s start with /demo (after Application path)\r\n    public class FetchData {\r\n\t\r\n\t@Autowired\r\n\tprivate TableARepository tableARepository;\r\n\r\n\t@Autowired\r\n\tprivate TableCRepository tableCRepository;\r\n\r\n\t@GetMapping(path = &quot;/addDataToFirstDB&quot;)\r\n\tpublic @ResponseBody void addDataToFirstDB() {\r\n\t\t// This returns a JSON or XML with the users\r\n\t\tTable_A tableA = new Table_A();\r\n\t\ttableA.setTable_a_col_1(&quot;test1&quot;);\r\n\t\ttableA.setTable_a_col_2(&quot;test2&quot;);\r\n\t\ttableA.setTable_a_col_3(&quot;test3&quot;);\r\n\t\ttableA.setTable_a_col_4(&quot;test4&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Inserting data into first DB.&quot;);\r\n\t\ttableARepository.save(tableA);\r\n\t\t\r\n\t}\r\n\t\r\n\t@GetMapping(path = &quot;/addDataToSecondDB&quot;)\r\n\t@Transactional(&quot;secondDBTransactionManager&quot;)\r\n\tpublic @ResponseBody void addDataToSecondDB() {\r\n\t\t// This returns a JSON or XML with the users\r\n\t\tTable_C tableC = new Table_C();\r\n\t\ttableC.setTable_c_col_1(&quot;test1&quot;);\r\n\t\ttableC.setTable_c_col_2(&quot;test2&quot;);\r\n\t\ttableC.setTable_c_col_3(&quot;test3&quot;);\r\n\t\ttableC.setTable_c_col_4(&quot;test4&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Inserting data into second DB.&quot;);\r\n\t\ttableCRepository.save(tableC);\r\n\t}\r\n    }\r\n\r\nObserve that, I&#39;ve used `@Transactional(&quot;secondDBTransactionManager&quot;)` for second REST API, **&quot;addDataToSecondDB&quot;**.\r\nIt is easy to resolve issue if any Exception is thrown. There is no Exception here but the behavior is not as expected.\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-examples/tree/main/jpa/multiple-datasources\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\r\n  [4]: https://github.com/Padmahas/accessing-data-mysql-multiple-datasources/tree/two_data_sources_in_separate_files","title":"Configured two data source in spring data JPA but second data source still considering first DB URL","body":"<p>In <a href=\"https://github.com/spring-projects/spring-data-examples/tree/main/jpa/multiple-datasources\" rel=\"nofollow noreferrer\">this</a> official example of configuring 2 data sources, they have used embedded DB.\nSo, with the help of Spring boot's How to documentations, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">Configure Two DataSources</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\" rel=\"nofollow noreferrer\">Using Multiple EntityManagerFactories</a>, I customized that to use MySQL DB.</p>\n<p>You can find the complete code under this <a href=\"https://github.com/Padmahas/accessing-data-mysql-multiple-datasources/tree/two_data_sources_in_separate_files\" rel=\"nofollow noreferrer\">Github repository</a>. Don't forget to checkout the <strong>&quot;two_data_sources_in_separate_files&quot;</strong> branch.</p>\n<p>But with this modification, <strong>&quot;secondDBTransactionManager&quot;</strong> is not pointing second_db. Instead, it is inserting data into first_db.</p>\n<p><strong>FirstDataSource.java</strong></p>\n<pre><code>@Configuration\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;firstDBEntityManagerFactory&quot;, transactionManagerRef = &quot;firstDBTransactionManager&quot;)\n\npublic class FirstDataSource {\n@Bean\nPlatformTransactionManager firstDBTransactionManager(DataSourceProperties firstDataSourceProperties) {\n    return new JpaTransactionManager(firstDBEntityManagerFactory(firstDataSourceProperties).getObject());\n}\n\n@Bean\n@Primary\nLocalContainerEntityManagerFactoryBean firstDBEntityManagerFactory(DataSourceProperties firstDataSourceProperties) {\n\n    HibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\n    jpaVendorAdapter.setGenerateDdl(true);\n\n    LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n\n    factoryBean.setDataSource(firstDS(firstDataSourceProperties));\n    factoryBean.setJpaVendorAdapter(jpaVendorAdapter);\n    factoryBean.setPackagesToScan(FirstDataSource.class.getPackage().getName());\n\n    return factoryBean;\n}\n\n@Bean\n@Primary\n@ConfigurationProperties(&quot;app.datasource.first&quot;)\npublic DataSourceProperties firstDataSourceProperties() {\n    return new DataSourceProperties();\n}\n\n@Bean\n@Primary\n@ConfigurationProperties(&quot;app.datasource.first.configuration&quot;)\npublic HikariDataSource firstDS(DataSourceProperties firstDataSourceProperties) {\n    return firstDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\n}\n\n}\n</code></pre>\n<p><strong>SecondDataSource.java</strong></p>\n<pre><code>@Configuration\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;secondDBEntityManagerFactory&quot;, transactionManagerRef = &quot;secondDBTransactionManager&quot;)\npublic class SecondDataSource {\n\n@Bean\nPlatformTransactionManager secondDBTransactionManager(DataSourceProperties secondDataSourceProperties) {\n    return new JpaTransactionManager(secondDBEntityManagerFactory(secondDataSourceProperties).getObject());\n}\n\n@Bean\n@ConfigurationProperties(&quot;app.datasource.second&quot;)\npublic DataSourceProperties secondDataSourceProperties() {\n    return new DataSourceProperties();\n}\n\n@Bean\n@ConfigurationProperties(&quot;app.datasource.second.configuration&quot;)\npublic HikariDataSource secondDS(\n        @Qualifier(&quot;secondDataSourceProperties&quot;) DataSourceProperties secondDataSourceProperties) {\n    return secondDataSourceProperties.initializeDataSourceBuilder().type(HikariDataSource.class).build();\n}\n\n@Bean\npublic LocalContainerEntityManagerFactoryBean secondDBEntityManagerFactory(DataSourceProperties secondDataSourceProperties) {\n    HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n    vendorAdapter.setGenerateDdl(true);\n\n    LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n    factoryBean.setDataSource(secondDS(secondDataSourceProperties));\n    factoryBean.setJpaVendorAdapter(vendorAdapter);\n    factoryBean.setPackagesToScan(SecondDataSource.class.getPackage().getName());\n\n    return factoryBean;\n}\n\n}\n</code></pre>\n<p><strong>FetchData.java</strong></p>\n<pre><code>@Controller // This means that this class is a Controller\n@RequestMapping(path = &quot;/demo&quot;) // This means URL's start with /demo (after Application path)\npublic class FetchData {\n\n@Autowired\nprivate TableARepository tableARepository;\n\n@Autowired\nprivate TableCRepository tableCRepository;\n\n@GetMapping(path = &quot;/addDataToFirstDB&quot;)\npublic @ResponseBody void addDataToFirstDB() {\n    // This returns a JSON or XML with the users\n    Table_A tableA = new Table_A();\n    tableA.setTable_a_col_1(&quot;test1&quot;);\n    tableA.setTable_a_col_2(&quot;test2&quot;);\n    tableA.setTable_a_col_3(&quot;test3&quot;);\n    tableA.setTable_a_col_4(&quot;test4&quot;);\n    \n    System.out.println(&quot;Inserting data into first DB.&quot;);\n    tableARepository.save(tableA);\n    \n}\n\n@GetMapping(path = &quot;/addDataToSecondDB&quot;)\n@Transactional(&quot;secondDBTransactionManager&quot;)\npublic @ResponseBody void addDataToSecondDB() {\n    // This returns a JSON or XML with the users\n    Table_C tableC = new Table_C();\n    tableC.setTable_c_col_1(&quot;test1&quot;);\n    tableC.setTable_c_col_2(&quot;test2&quot;);\n    tableC.setTable_c_col_3(&quot;test3&quot;);\n    tableC.setTable_c_col_4(&quot;test4&quot;);\n    \n    System.out.println(&quot;Inserting data into second DB.&quot;);\n    tableCRepository.save(tableC);\n}\n}\n</code></pre>\n<p>Observe that, I've used <code>@Transactional(&quot;secondDBTransactionManager&quot;)</code> for second REST API, <strong>&quot;addDataToSecondDB&quot;</strong>.\nIt is easy to resolve issue if any Exception is thrown. There is no Exception here but the behavior is not as expected.</p>\n"},{"tags":["java","android","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1670516556,"post_id":74733208,"comment_id":131897896,"body_markdown":"Try to use this flag `PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_ONE_SHOT`","body":"Try to use this flag <code>PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_ONE_SHOT</code>"},{"owner":{"account_id":19335838,"reputation":63,"user_id":14136448,"display_name":"Aditya Rizqi"},"score":0,"creation_date":1670516920,"post_id":74733208,"comment_id":131898026,"body_markdown":"Hello!,  thankyou for your response, in my case, normal notification (without action) is showing but if the notfication has a action, this is not working @Zain","body":"Hello!,  thankyou for your response, in my case, normal notification (without action) is showing but if the notfication has a action, this is not working @Zain"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1670520949,"post_id":74733208,"comment_id":131899333,"body_markdown":"Yeah I see, could you try this `PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE` in the boradcast PendingIntent `receiveCallPendingIntent` &amp; `cancelCallPendingIntent`","body":"Yeah I see, could you try this <code>PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE</code> in the boradcast PendingIntent <code>receiveCallPendingIntent</code> &amp; <code>cancelCallPendingIntent</code>"}],"answers":[{"tags":[],"owner":{"account_id":19335838,"reputation":63,"user_id":14136448,"display_name":"Aditya Rizqi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671012762,"creation_date":1671012762,"answer_id":74796618,"question_id":74733208,"body_markdown":"i solve this problem by this code\r\n\r\n     PendingIntent receiveCallPendingIntent;\r\n            PendingIntent cancelCallPendingIntent;\r\n\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\r\n                receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n                cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }else{\r\n                receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n\r\nalso add this permission for force Android 12^ (AndroidManifest.xml)\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;&lt;receiver\r\n            android:name=&quot;.receiver.CallReceiver&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; &gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;","title":"Notification Builder action not working on API 31 (Android 12)","body":"<p>i solve this problem by this code</p>\n<pre><code> PendingIntent receiveCallPendingIntent;\n        PendingIntent cancelCallPendingIntent;\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\n            receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n            cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n        }else{\n            receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n            cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n</code></pre>\n<p>also add this permission for force Android 12^ (AndroidManifest.xml)</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;&lt;receiver\n        android:name=&quot;.receiver.CallReceiver&quot;\n        android:exported=&quot;false&quot;\n        android:enabled=&quot;true&quot;\n        android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; &gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n"}],"owner":{"account_id":19335838,"reputation":63,"user_id":14136448,"display_name":"Aditya Rizqi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1873,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74796618,"answer_count":1,"score":2,"last_activity_date":1671012762,"creation_date":1670515921,"question_id":74733208,"body_markdown":"I&#39;m stuck while dealing with this api 31. i made a chat app. When I create an action button to receive a phone call it works on android below API 31 or below Android 12, but it doesn&#39;t work on Android 12 (only work if the notification is not has action). maybe someone here can help me in finding a solution to this problem?\r\n\r\nFirebaseService.java\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        boolean cancelNotification = false;\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        Map&lt;String, String&gt; params = remoteMessage.getData();\r\n        JSONObject data = new JSONObject(params);\r\n\r\n        PendingIntent pendingIntent;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\r\n            pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\r\n        }\r\n        else {\r\n            pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\r\n        }\r\n\r\n        String channel_id = getNotificationData(data, &quot;channel&quot;);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channel_id)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentTitle(getNotificationData(data, &quot;title&quot;))\r\n                .setContentText(getNotificationData(data, &quot;body&quot;))\r\n                .setAutoCancel(true)\r\n                .setContentIntent(pendingIntent);\r\n\r\n        if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;open&quot;)){\r\n            playCallSound(this);\r\n\r\n            if(WindowUtil.isAppOnBackground(this) || isScreenOff()){\r\n                ArrayList&lt;String&gt; par = new ArrayList&lt;&gt;();\r\n\r\n                par.add(&quot;call_channel&quot;);\r\n                par.add(&quot;call_type&quot;);\r\n                par.add(&quot;call_token&quot;);\r\n                par.add(&quot;call_peer&quot;);\r\n\r\n                String callType = getNotificationData(data, &quot;call_type&quot;);\r\n\r\n                if(callType.equals(&quot;3&quot;) || callType.equals(&quot;4&quot;)){\r\n                    par.add(&quot;call_group_name&quot;);\r\n                    par.add(&quot;call_group_caller&quot;);\r\n                }\r\n\r\n                Intent receiveCallAction = new Intent(this, CallReceiver.class);\r\n                receiveCallAction.putExtra(&quot;action&quot;, &quot;ANSWER&quot;);\r\n\r\n                Intent cancelCallAction = new Intent(this, CallReceiver.class);\r\n                cancelCallAction.putExtra(&quot;action&quot;, &quot;DECLINE&quot;);\r\n\r\n                for (String s : par) {\r\n                    receiveCallAction.putExtra(s, getNotificationData(data, s));\r\n                    cancelCallAction.putExtra(s, getNotificationData(data, s));\r\n                }\r\n\r\n                notificationBuilder.setOngoing(true);\r\n\r\n                receiveCallAction.setAction(&quot;RECEIVE_CALL&quot;);\r\n                cancelCallAction.setAction(&quot;CANCEL_CALL&quot;);\r\n\r\n                PendingIntent receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n                PendingIntent cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n                notificationBuilder\r\n                        .addAction(R.drawable.ic_baseline_call_24_green, &quot;Answer&quot;, receiveCallPendingIntent)\r\n                        .addAction(R.drawable.ic_baseline_call_red_24, &quot;Decline&quot;, cancelCallPendingIntent);\r\n            }else{\r\n                cancelNotification = true;\r\n            }\r\n        }if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;end_timeout&quot;)){\r\n            stopRinging();\r\n        }else if(channel_id.equals(&quot;ntf1&quot;)){\r\n            if(UserUtil.IS_CHAT_ACTIVITY){\r\n                cancelNotification = true;\r\n            }\r\n\r\n            if(!cancelNotification){\r\n                playNotificationSound(this);\r\n            }\r\n        }\r\n\r\n        if(!cancelNotification){\r\n            NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE);\r\n                NotificationChannel channel = new NotificationChannel(channel_id,\r\n                        getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n                channel.enableLights(true);\r\n                channel.enableVibration(true);\r\n                mNotificationManager.createNotificationChannel(channel);\r\n            }\r\n\r\n            mNotificationManager.notify(1000, notificationBuilder.build());\r\n        }\r\n    }\r\n\r\nCallReceiver.java (Broadcast Receiver)\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (intent != null &amp;&amp; intent.getExtras() != null) {\r\n            String action = intent.getStringExtra(&quot;action&quot;);\r\n\r\n            // Perform the action\r\n            performClickAction(context, action, intent.getExtras());\r\n\r\n            // Close the notification after the click action is performed.\r\n            NotificationManager mNotificationManager = (NotificationManager)\r\n                    context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n            mNotificationManager.cancel(1000);\r\n\r\n            // Stop the ringtone\r\n            stopRinging();\r\n        }\r\n    }\r\n\r\non my AndroidManifest.xml\r\n\r\n    &lt;service\r\n            android:name=&quot;.services.FirebaseService&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.receiver.CallReceiver&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:enabled=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;CALL_RECEIVER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\nThank you","title":"Notification Builder action not working on API 31 (Android 12)","body":"<p>I'm stuck while dealing with this api 31. i made a chat app. When I create an action button to receive a phone call it works on android below API 31 or below Android 12, but it doesn't work on Android 12 (only work if the notification is not has action). maybe someone here can help me in finding a solution to this problem?</p>\n<p>FirebaseService.java</p>\n<pre><code>@Override\npublic void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n    super.onMessageReceived(remoteMessage);\n\n    boolean cancelNotification = false;\n\n    Intent intent = new Intent(this, MainActivity.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    Map&lt;String, String&gt; params = remoteMessage.getData();\n    JSONObject data = new JSONObject(params);\n\n    PendingIntent pendingIntent;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S) {\n        pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\n    }\n    else {\n        pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\n    }\n\n    String channel_id = getNotificationData(data, &quot;channel&quot;);\n\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channel_id)\n            .setSmallIcon(R.mipmap.ic_launcher)\n            .setContentTitle(getNotificationData(data, &quot;title&quot;))\n            .setContentText(getNotificationData(data, &quot;body&quot;))\n            .setAutoCancel(true)\n            .setContentIntent(pendingIntent);\n\n    if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;open&quot;)){\n        playCallSound(this);\n\n        if(WindowUtil.isAppOnBackground(this) || isScreenOff()){\n            ArrayList&lt;String&gt; par = new ArrayList&lt;&gt;();\n\n            par.add(&quot;call_channel&quot;);\n            par.add(&quot;call_type&quot;);\n            par.add(&quot;call_token&quot;);\n            par.add(&quot;call_peer&quot;);\n\n            String callType = getNotificationData(data, &quot;call_type&quot;);\n\n            if(callType.equals(&quot;3&quot;) || callType.equals(&quot;4&quot;)){\n                par.add(&quot;call_group_name&quot;);\n                par.add(&quot;call_group_caller&quot;);\n            }\n\n            Intent receiveCallAction = new Intent(this, CallReceiver.class);\n            receiveCallAction.putExtra(&quot;action&quot;, &quot;ANSWER&quot;);\n\n            Intent cancelCallAction = new Intent(this, CallReceiver.class);\n            cancelCallAction.putExtra(&quot;action&quot;, &quot;DECLINE&quot;);\n\n            for (String s : par) {\n                receiveCallAction.putExtra(s, getNotificationData(data, s));\n                cancelCallAction.putExtra(s, getNotificationData(data, s));\n            }\n\n            notificationBuilder.setOngoing(true);\n\n            receiveCallAction.setAction(&quot;RECEIVE_CALL&quot;);\n            cancelCallAction.setAction(&quot;CANCEL_CALL&quot;);\n\n            PendingIntent receiveCallPendingIntent = PendingIntent.getBroadcast(this, 1200, receiveCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n            PendingIntent cancelCallPendingIntent = PendingIntent.getBroadcast(this, 1201, cancelCallAction, PendingIntent.FLAG_UPDATE_CURRENT);\n\n            notificationBuilder\n                    .addAction(R.drawable.ic_baseline_call_24_green, &quot;Answer&quot;, receiveCallPendingIntent)\n                    .addAction(R.drawable.ic_baseline_call_red_24, &quot;Decline&quot;, cancelCallPendingIntent);\n        }else{\n            cancelNotification = true;\n        }\n    }if(channel_id.equals(&quot;cll2&quot;) &amp;&amp; getNotificationData(data, &quot;call_action&quot;).equals(&quot;end_timeout&quot;)){\n        stopRinging();\n    }else if(channel_id.equals(&quot;ntf1&quot;)){\n        if(UserUtil.IS_CHAT_ACTIVITY){\n            cancelNotification = true;\n        }\n\n        if(!cancelNotification){\n            playNotificationSound(this);\n        }\n    }\n\n    if(!cancelNotification){\n        NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            notificationBuilder.setDefaults(Notification.DEFAULT_VIBRATE);\n            NotificationChannel channel = new NotificationChannel(channel_id,\n                    getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n            channel.enableLights(true);\n            channel.enableVibration(true);\n            mNotificationManager.createNotificationChannel(channel);\n        }\n\n        mNotificationManager.notify(1000, notificationBuilder.build());\n    }\n}\n</code></pre>\n<p>CallReceiver.java (Broadcast Receiver)</p>\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n    if (intent != null &amp;&amp; intent.getExtras() != null) {\n        String action = intent.getStringExtra(&quot;action&quot;);\n\n        // Perform the action\n        performClickAction(context, action, intent.getExtras());\n\n        // Close the notification after the click action is performed.\n        NotificationManager mNotificationManager = (NotificationManager)\n                context.getSystemService(Context.NOTIFICATION_SERVICE);\n        mNotificationManager.cancel(1000);\n\n        // Stop the ringtone\n        stopRinging();\n    }\n}\n</code></pre>\n<p>on my AndroidManifest.xml</p>\n<pre><code>&lt;service\n        android:name=&quot;.services.FirebaseService&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;receiver\n        android:name=&quot;.receiver.CallReceiver&quot;\n        android:exported=&quot;false&quot;\n        android:enabled=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;CALL_RECEIVER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":15273588,"reputation":71,"user_id":13427345,"display_name":"O1G"},"score":0,"creation_date":1671013467,"post_id":74796556,"comment_id":132003590,"body_markdown":"Works great, also looks nice &amp; maintainable using option #2. Thanks. To avoid any chances of confusion, I might remove the min/max values from the `@Length` annotation and only keep the override values. Unfortunately it is not an option for `@Pattern`&#39;s regexp.","body":"Works great, also looks nice &amp; maintainable using option #2. Thanks. To avoid any chances of confusion, I might remove the min/max values from the <code>@Length</code> annotation and only keep the override values. Unfortunately it is not an option for <code>@Pattern</code>&#39;s regexp."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1671015357,"post_id":74796556,"comment_id":132004216,"body_markdown":"You can use ``.*`` as place holder, or perhaps even `&quot;&quot;`. The actual value will be overwritten anyway.","body":"You can use <code>.*</code> as place holder, or perhaps even <code>&quot;&quot;</code>. The actual value will be overwritten anyway."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671012488,"creation_date":1671012488,"answer_id":74796556,"question_id":74796162,"body_markdown":"Most constraint annotations, including `@Length` and `@Pattern`, regard `null` as valid input. That&#39;s why you won&#39;t get what you want by just using these annotations.\r\n\r\nFortunately, it&#39;s really easy to do what you want by introducing a new constraint annotation:\r\n```java\r\n@Constraint(validatedBy = {}) // no validator needed, it delegates to other constraints\r\n@NotNull\r\n@Length(min = 4, max = 64)\r\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\r\n@ReportAsSingleViolation // to prevent separate violations for the other constraints\r\n@Target(FIELD)\r\n@Retention(RUNTIME)\r\npublic @interface ValidUsername {\r\n\r\n    String message() default &quot;&quot;&quot;\r\n        {jakarta.validation.constraints.NotNull.message} \r\n        AND {org.hibernate.validator.constraints.Length.message} \r\n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nThis is annotated with your constraints, which means these are applied when this annotation is checked.\r\n\r\nThe message will still contain place holders `{min}` etc., because these are not properties of this constraint itself. You can solve that in two ways:\r\n\r\n1. Don&#39;t use the templates but hard-code the message\r\n2. Add these properties to your annotation as well, and tell the Bean Validation framework to use these for the other annotations:\r\n\r\n```java\r\n    @OverridesAttribute(constraint = Length.class)\r\n    int min() default 4;\r\n\r\n    @OverridesAttribute(constraint = Length.class)\r\n    int max() default 64;\r\n\r\n    @OverridesAttribute(constraint = Pattern.class)\r\n    String regexp() default &quot;[A-Za-z0-9]+&quot;;\r\n```\r\n\r\nNow all you need to do is replace the annotations on the `username` field with `@ValidUsername`.","title":"Java @NotNull violation message to show other constraints&#39; details","body":"<p>Most constraint annotations, including <code>@Length</code> and <code>@Pattern</code>, regard <code>null</code> as valid input. That's why you won't get what you want by just using these annotations.</p>\n<p>Fortunately, it's really easy to do what you want by introducing a new constraint annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Constraint(validatedBy = {}) // no validator needed, it delegates to other constraints\n@NotNull\n@Length(min = 4, max = 64)\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\n@ReportAsSingleViolation // to prevent separate violations for the other constraints\n@Target(FIELD)\n@Retention(RUNTIME)\npublic @interface ValidUsername {\n\n    String message() default &quot;&quot;&quot;\n        {jakarta.validation.constraints.NotNull.message} \n        AND {org.hibernate.validator.constraints.Length.message} \n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>This is annotated with your constraints, which means these are applied when this annotation is checked.</p>\n<p>The message will still contain place holders <code>{min}</code> etc., because these are not properties of this constraint itself. You can solve that in two ways:</p>\n<ol>\n<li>Don't use the templates but hard-code the message</li>\n<li>Add these properties to your annotation as well, and tell the Bean Validation framework to use these for the other annotations:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @OverridesAttribute(constraint = Length.class)\n    int min() default 4;\n\n    @OverridesAttribute(constraint = Length.class)\n    int max() default 64;\n\n    @OverridesAttribute(constraint = Pattern.class)\n    String regexp() default &quot;[A-Za-z0-9]+&quot;;\n</code></pre>\n<p>Now all you need to do is replace the annotations on the <code>username</code> field with <code>@ValidUsername</code>.</p>\n"}],"owner":{"account_id":15273588,"reputation":71,"user_id":13427345,"display_name":"O1G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74796556,"answer_count":1,"score":0,"last_activity_date":1671012488,"creation_date":1671010593,"question_id":74796162,"body_markdown":"Given a `username` field which cannot be `null`, must be between 4 and 64 characters long and match the regexp `[A-Za-z0-9]+`, when the `username` field is null, the error message is simply: `must not be null`. The desired outcome is `must not be null AND length must be between 4 and 64 characters AND must match &quot;[A-Za-z0-9]+&quot;`.\r\n\r\nInitial setup:\r\n```java\r\n@NotNull\r\n@Length(min = 4, max = 64)\r\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\r\nString username;\r\n```\r\n\r\nWhat I also tried:\r\n```java\r\n@NotNull(message = &quot;&quot;&quot;\r\n        {jakarta.validation.constraints.NotNull.message} \r\n        AND {org.hibernate.validator.constraints.Length.message} \r\n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;)\r\n@Length(min = 4, max = 64)\r\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\r\nString username;\r\n```\r\n\r\nBut this latter&#39;s outcome is:\r\n```\r\nConstraintViolationImpl{\r\n  interpolatedMessage=&#39;must not be null AND length must be between {min} and {max} AND must match &quot;{regexp}&quot;&#39;,\r\n  propertyPath=username, rootBeanClass=class app.User,\r\n  messageTemplate=&#39;{jakarta.validation.constraints.NotNull.message} AND {org.hibernate.validator.constraints.Length.message} AND {jakarta.validation.constraints.Pattern.message}&#39;}\r\n```\r\nThe values for the constraints (`min`, `max`, `regexp`) are not accessed. How to render the actual values of these in the error message?","title":"Java @NotNull violation message to show other constraints&#39; details","body":"<p>Given a <code>username</code> field which cannot be <code>null</code>, must be between 4 and 64 characters long and match the regexp <code>[A-Za-z0-9]+</code>, when the <code>username</code> field is null, the error message is simply: <code>must not be null</code>. The desired outcome is <code>must not be null AND length must be between 4 and 64 characters AND must match &quot;[A-Za-z0-9]+&quot;</code>.</p>\n<p>Initial setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NotNull\n@Length(min = 4, max = 64)\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\nString username;\n</code></pre>\n<p>What I also tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NotNull(message = &quot;&quot;&quot;\n        {jakarta.validation.constraints.NotNull.message} \n        AND {org.hibernate.validator.constraints.Length.message} \n        AND {jakarta.validation.constraints.Pattern.message}&quot;&quot;&quot;)\n@Length(min = 4, max = 64)\n@Pattern(regexp = &quot;[A-Za-z0-9]+&quot;)\nString username;\n</code></pre>\n<p>But this latter's outcome is:</p>\n<pre><code>ConstraintViolationImpl{\n  interpolatedMessage='must not be null AND length must be between {min} and {max} AND must match &quot;{regexp}&quot;',\n  propertyPath=username, rootBeanClass=class app.User,\n  messageTemplate='{jakarta.validation.constraints.NotNull.message} AND {org.hibernate.validator.constraints.Length.message} AND {jakarta.validation.constraints.Pattern.message}'}\n</code></pre>\n<p>The values for the constraints (<code>min</code>, <code>max</code>, <code>regexp</code>) are not accessed. How to render the actual values of these in the error message?</p>\n"},{"tags":["java","string","pagination"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671012078,"post_id":74796300,"comment_id":132003142,"body_markdown":"So you want to check whether the url ends with a slash followed by one or more digits and get those digits?","body":"So you want to check whether the url ends with a slash followed by one or more digits and get those digits?"},{"owner":{"account_id":21938528,"reputation":59,"user_id":16219386,"display_name":"Adarsh Awasthi"},"score":0,"creation_date":1671014081,"post_id":74796300,"comment_id":132003794,"body_markdown":"yes basically i want to check url end with slash(/) followed by numberic digit but whole url is string so i cannot know it ends with numeric digit","body":"yes basically i want to check url end with slash(/) followed by numberic digit but whole url is string so i cannot know it ends with numeric digit"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671014565,"post_id":74796300,"comment_id":132003933,"body_markdown":"Sure you can. A simple regex like `/(\\d+)$` should do the trick. If it matches you can then extract the group and parse it as a number.","body":"Sure you can. A simple regex like <code>&#47;(\\d+)$</code> should do the trick. If it matches you can then extract the group and parse it as a number."}],"owner":{"account_id":21938528,"reputation":59,"user_id":16219386,"display_name":"Adarsh Awasthi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1671012096,"creation_date":1671011312,"question_id":74796300,"body_markdown":"iam given with a some-url which may or may-not contains integer at last i want to check \r\nwhether integer is present and if present what is the value of it.\r\n\r\n\r\nex: `localhost:8200/videos`\r\n    `localhost:8200/videos/1`\r\n    `localhost:8200/videos/2` \r\n    `localhost:8200/videos/popular-entertainment`\r\n    `localhost:8200/videos/popular-entertainment/1`\r\n    `localhost:8200/videos/popular-entertainment/2`   \r\n    `localhost:8200/videos-funny/popular-entertainment`\r\n    `localhost:8200/videos-funny/popular-entertainment/1`\r\n    `localhost:8200/videos-funny/popular-entertainment/2`\r\n    `localhost:8200/videos-funny/popular-entertainment/3`\r\n    \r\ni want get the pagination id at last of url if present in java","title":"check url contains pagination id","body":"<p>iam given with a some-url which may or may-not contains integer at last i want to check\nwhether integer is present and if present what is the value of it.</p>\n<p>ex: <code>localhost:8200/videos</code>\n<code>localhost:8200/videos/1</code>\n<code>localhost:8200/videos/2</code>\n<code>localhost:8200/videos/popular-entertainment</code>\n<code>localhost:8200/videos/popular-entertainment/1</code>\n<code>localhost:8200/videos/popular-entertainment/2</code><br />\n<code>localhost:8200/videos-funny/popular-entertainment</code>\n<code>localhost:8200/videos-funny/popular-entertainment/1</code>\n<code>localhost:8200/videos-funny/popular-entertainment/2</code>\n<code>localhost:8200/videos-funny/popular-entertainment/3</code></p>\n<p>i want get the pagination id at last of url if present in java</p>\n"},{"tags":["java","html","spring","spring-boot"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1671000075,"post_id":74794306,"comment_id":131999960,"body_markdown":"You can try using the HTML `required` attribute for the form input fields.","body":"You can try using the HTML <code>required</code> attribute for the form input fields."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671007400,"post_id":74794306,"comment_id":132001686,"body_markdown":"Add `required` on the HTML side and add `spring-boot-starter-validation` as a dependency and add the validations uou need `@NotNUll`/`@NotBlank` and add `@Valid` on the method argument in your controller.","body":"Add <code>required</code> on the HTML side and add <code>spring-boot-starter-validation</code> as a dependency and add the validations uou need <code>@NotNUll</code>/<code>@NotBlank</code> and add <code>@Valid</code> on the method argument in your controller."}],"answers":[{"comments":[{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1671052608,"post_id":74795577,"comment_id":132017074,"body_markdown":"Thank you for your help! Adding the required keyword to the html code helped me out. However, when I try to add what you said about the Valid annotation, I get an error saying &quot;Valid cannot be resolved to a type.&quot; The same thing is happening when I try using the NotBlank and Min annotations. Do you know why that is happening? And are they necessary to use when the required keyword in the html code has helped me accomplish the task of requiring the fields?","body":"Thank you for your help! Adding the required keyword to the html code helped me out. However, when I try to add what you said about the Valid annotation, I get an error saying &quot;Valid cannot be resolved to a type.&quot; The same thing is happening when I try using the NotBlank and Min annotations. Do you know why that is happening? And are they necessary to use when the required keyword in the html code has helped me accomplish the task of requiring the fields?"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1671053424,"post_id":74795577,"comment_id":132017301,"body_markdown":"Also, if I want to make the fields have a maximum length, how would I go about doing that? I tried using the Size, Length, and Column annotations, but again, Eclipse was telling me that they cannot be &quot;Resolved to a type.&quot;","body":"Also, if I want to make the fields have a maximum length, how would I go about doing that? I tried using the Size, Length, and Column annotations, but again, Eclipse was telling me that they cannot be &quot;Resolved to a type.&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671085090,"post_id":74795577,"comment_id":132022635,"body_markdown":"As I stated and showed in the answer you need `spring-boot-starter-validation` as dependency.  (It is literally the first sentence of my answer).  WIthout that dependency you won&#39;t have the annotations nor a concrete validator implementation. For the length use what you tried (but apparently you skipped all the text and only did the code).","body":"As I stated and showed in the answer you need <code>spring-boot-starter-validation</code> as dependency.  (It is literally the first sentence of my answer).  WIthout that dependency you won&#39;t have the annotations nor a concrete validator implementation. For the length use what you tried (but apparently you skipped all the text and only did the code)."},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1671146730,"post_id":74795577,"comment_id":132042232,"body_markdown":"Thanks! I did read your text, and I had originally added the validation to my pom.xml, but I have been reading different sources and changing my code a lot, so I had accidentally removed my validation dependency.","body":"Thanks! I did read your text, and I had originally added the validation to my pom.xml, but I have been reading different sources and changing my code a lot, so I had accidentally removed my validation dependency."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671007451,"creation_date":1671007451,"answer_id":74795577,"question_id":74794306,"body_markdown":"Add `spring-boot-starter-validation` as a dependency. Add the annotations to your `Product` and use `Product` as a model object instead of requst parameters. \r\n\r\n```java\r\n@RequestMapping(&quot;/save&quot;)\r\npublic String save(@Valid @ModelAttribute Product product) {\r\n    productRepository.save(product);\r\n    return &quot;redirect:/show/&quot; + product.getId();\r\n}\r\n```\r\n\r\n```java\r\n@Document(collection = &quot;products&quot;)\r\npublic class Product {\r\n    \r\n    @Id\r\n    String id;\r\n    \r\n    @NotBlank\r\n    String prodName;\r\n    @NotBlank\r\n    String prodDesc;\r\n    @Min(0.01d)\r\n    Double prodPrice;\r\n    String prodImage;\r\n```\r\n\r\nSome of that for validation (ofcourse you would need to determine which to use based on your requirements. \r\n\r\nAdditionally use proper types and `required` keyword in your HTML templates. \r\n\r\n```html\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; required /&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;prodDesc&quot;&gt;Product Description&lt;/label&gt;\r\n    &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; required&gt;&lt;/textarea&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;prodPrice&quot;&gt;Product Price&lt;/label&gt;\r\n    &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;form-group&quot;&gt;\r\n    &lt;label for=&quot;prodImage&quot;&gt;Product Image URL:&lt;/label&gt;\r\n    &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\r\n&lt;/div&gt;\r\n```","title":"How can I make it so that my form requires certain fields","body":"<p>Add <code>spring-boot-starter-validation</code> as a dependency. Add the annotations to your <code>Product</code> and use <code>Product</code> as a model object instead of requst parameters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(&quot;/save&quot;)\npublic String save(@Valid @ModelAttribute Product product) {\n    productRepository.save(product);\n    return &quot;redirect:/show/&quot; + product.getId();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collection = &quot;products&quot;)\npublic class Product {\n    \n    @Id\n    String id;\n    \n    @NotBlank\n    String prodName;\n    @NotBlank\n    String prodDesc;\n    @Min(0.01d)\n    Double prodPrice;\n    String prodImage;\n</code></pre>\n<p>Some of that for validation (ofcourse you would need to determine which to use based on your requirements.</p>\n<p>Additionally use proper types and <code>required</code> keyword in your HTML templates.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; required /&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;prodDesc&quot;&gt;Product Description&lt;/label&gt;\n    &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; required&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;prodPrice&quot;&gt;Product Price&lt;/label&gt;\n    &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;label for=&quot;prodImage&quot;&gt;Product Image URL:&lt;/label&gt;\n    &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671012035,"creation_date":1670998989,"question_id":74794306,"body_markdown":"I am trying to make a Spring Boot project that works like an e-commerce website.\r\n\r\nIn the forms for creating and editing a product, I want to make it so that all fields are required, because if I do not input a price, then I get the &quot;Whitelabel Error Page: This application has no explicit mapping for /error, so you are seeing this as a fallback.&quot; error.\r\n\r\nMain class\r\n````java\r\n@SpringBootApplication\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nProductController\r\n````java\r\n/**This is the product controller class. It has different mappings as well as the methods that allow \r\n * the user to perform the different CRUD operations with regard to the products. */\r\n@Controller\r\npublic class ProductController {\r\n\r\n    @Autowired\r\n    ProductRepository productRepository;\r\n\r\n    @RequestMapping(&quot;/product&quot;)\r\n    public String product(Model model) {\r\n        model.addAttribute(&quot;products&quot;, productRepository.findAll());\r\n\r\n        return &quot;product&quot;;\r\n    }\r\n\r\n    @RequestMapping(&quot;/create&quot;)\r\n    public String create(Model model) {\r\n        return &quot;create&quot;;\r\n    }\r\n \r\n    @RequestMapping(&quot;/save&quot;)\r\n    public String save(@RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\r\n        Product product = new Product();\r\n        product.setProdName(prodName);\r\n        product.setProdDesc(prodDesc);\r\n        product.setProdPrice(prodPrice);\r\n        product.setProdImage(prodImage);\r\n        \r\n        productRepository.save(product);\r\n        \r\n        return &quot;redirect:/show/&quot; + product.getId();\r\n    }\r\n    \r\n    @RequestMapping(&quot;/show/{id}&quot;)\r\n    public String show(@PathVariable String id, Model model) {\r\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\r\n       \r\n        return &quot;show&quot;;\r\n    }\r\n    \r\n    @RequestMapping(&quot;/delete&quot;)\r\n    public String delete(@RequestParam String id) {\r\n        Optional&lt;Product&gt; product = productRepository.findById(id);\r\n        productRepository.delete(product.get());\r\n\r\n        return &quot;redirect:/product&quot;;\r\n    }\r\n    \r\n    @RequestMapping(&quot;/edit/{id}&quot;)\r\n    public String edit(@PathVariable String id, Model model) {\r\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\r\n        \r\n        return &quot;edit&quot;;\r\n    }\r\n    \r\n    @RequestMapping(&quot;/update&quot;)\r\n    public String update(@RequestParam String id, @RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\r\n    \tOptional&lt;Product&gt; product = productRepository.findById(id);\r\n    \t\r\n        product.get().setProdName(prodName);\r\n        product.get().setProdDesc(prodDesc);\r\n        product.get().setProdPrice(prodPrice);\r\n        product.get().setProdImage(prodImage);\r\n        \r\n        productRepository.save(product.get());\r\n\r\n        return &quot;redirect:/show/&quot; + product.get().getId();\r\n    }\r\n}\r\n````\r\n\r\nProduct POJO\r\n````java\r\n\r\n@Document(collection = &quot;products&quot;)\r\npublic class Product {\r\n\t\r\n    @Id\r\n    String id;\r\n    \r\n    String prodName;\r\n    String prodDesc;\r\n    Double prodPrice;\r\n    String prodImage;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String prodName, String prodDesc, Double prodPrice, String prodImage) {\r\n        this.prodName = prodName;\r\n        this.prodDesc = prodDesc;\r\n        this.prodPrice = prodPrice;\r\n        this.prodImage = prodImage;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getProdName() {\r\n        return prodName;\r\n    }\r\n\r\n    public void setProdName(String prodName) {\r\n        this.prodName = prodName;\r\n    }\r\n\r\n    public String getProdDesc() {\r\n        return prodDesc;\r\n    }\r\n\r\n    public void setProdDesc(String prodDesc) {\r\n        this.prodDesc = prodDesc;\r\n    }\r\n\r\n    public Double getProdPrice() {\r\n        return prodPrice;\r\n    }\r\n\r\n    public void setProdPrice(Double prodPrice) {\r\n        this.prodPrice = prodPrice;\r\n    }\r\n\r\n    public String getProdImage() {\r\n        return prodImage;\r\n    }\r\n\r\n    public void setProdImage(String prodImage) {\r\n        this.prodImage = prodImage;\r\n    }\r\n}\r\n````\r\n\r\ncreate.html form page\r\n````html\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorator=&quot;default&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Create Product&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\r\n            \r\n                &lt;h3&gt;\r\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\r\n                &lt;/h3&gt;\r\n                \r\n                &lt;h2&gt;Create Product&lt;/h2&gt;\r\n                \r\n                &lt;form action=&quot;/save&quot;&gt;\r\n                \r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\r\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\r\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\r\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    \r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\nedit.html form page\r\n````\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;default&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Edit Product&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\r\n            \r\n                &lt;h3&gt;\r\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\r\n                &lt;/h3&gt;\r\n                \r\n                &lt;h2&gt;Edit Product&lt;/h2&gt;\r\n                \r\n                &lt;form action=&quot;/update&quot;&gt;\r\n                \r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; th:value=&quot;${product.prodName}&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\r\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\r\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; th:value=&quot;${product.prodPrice}&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\r\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; th:value=&quot;${product.prodImage}&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    \r\n                    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\r\n                    \r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n````\r\n\r\npom.xml\r\n````xml\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ecommerce-website&lt;/name&gt;\r\n\t&lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n````\r\n\r\nI tried looking on different forms, and I saw answers that involved using annotations like @NotNull or creating a configuration class, but neither of those have worked for me. ","title":"How can I make it so that my form requires certain fields","body":"<p>I am trying to make a Spring Boot project that works like an e-commerce website.</p>\n<p>In the forms for creating and editing a product, I want to make it so that all fields are required, because if I do not input a price, then I get the &quot;Whitelabel Error Page: This application has no explicit mapping for /error, so you are seeing this as a fallback.&quot; error.</p>\n<p>Main class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>ProductController</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**This is the product controller class. It has different mappings as well as the methods that allow \n * the user to perform the different CRUD operations with regard to the products. */\n@Controller\npublic class ProductController {\n\n    @Autowired\n    ProductRepository productRepository;\n\n    @RequestMapping(&quot;/product&quot;)\n    public String product(Model model) {\n        model.addAttribute(&quot;products&quot;, productRepository.findAll());\n\n        return &quot;product&quot;;\n    }\n\n    @RequestMapping(&quot;/create&quot;)\n    public String create(Model model) {\n        return &quot;create&quot;;\n    }\n \n    @RequestMapping(&quot;/save&quot;)\n    public String save(@RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\n        Product product = new Product();\n        product.setProdName(prodName);\n        product.setProdDesc(prodDesc);\n        product.setProdPrice(prodPrice);\n        product.setProdImage(prodImage);\n        \n        productRepository.save(product);\n        \n        return &quot;redirect:/show/&quot; + product.getId();\n    }\n    \n    @RequestMapping(&quot;/show/{id}&quot;)\n    public String show(@PathVariable String id, Model model) {\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\n       \n        return &quot;show&quot;;\n    }\n    \n    @RequestMapping(&quot;/delete&quot;)\n    public String delete(@RequestParam String id) {\n        Optional&lt;Product&gt; product = productRepository.findById(id);\n        productRepository.delete(product.get());\n\n        return &quot;redirect:/product&quot;;\n    }\n    \n    @RequestMapping(&quot;/edit/{id}&quot;)\n    public String edit(@PathVariable String id, Model model) {\n        model.addAttribute(&quot;product&quot;, productRepository.findById(id).get());\n        \n        return &quot;edit&quot;;\n    }\n    \n    @RequestMapping(&quot;/update&quot;)\n    public String update(@RequestParam String id, @RequestParam String prodName, @RequestParam String prodDesc, @RequestParam Double prodPrice, @RequestParam String prodImage) {\n        Optional&lt;Product&gt; product = productRepository.findById(id);\n        \n        product.get().setProdName(prodName);\n        product.get().setProdDesc(prodDesc);\n        product.get().setProdPrice(prodPrice);\n        product.get().setProdImage(prodImage);\n        \n        productRepository.save(product.get());\n\n        return &quot;redirect:/show/&quot; + product.get().getId();\n    }\n}\n</code></pre>\n<p>Product POJO</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Document(collection = &quot;products&quot;)\npublic class Product {\n    \n    @Id\n    String id;\n    \n    String prodName;\n    String prodDesc;\n    Double prodPrice;\n    String prodImage;\n\n    public Product() {\n    }\n\n    public Product(String prodName, String prodDesc, Double prodPrice, String prodImage) {\n        this.prodName = prodName;\n        this.prodDesc = prodDesc;\n        this.prodPrice = prodPrice;\n        this.prodImage = prodImage;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getProdName() {\n        return prodName;\n    }\n\n    public void setProdName(String prodName) {\n        this.prodName = prodName;\n    }\n\n    public String getProdDesc() {\n        return prodDesc;\n    }\n\n    public void setProdDesc(String prodDesc) {\n        this.prodDesc = prodDesc;\n    }\n\n    public Double getProdPrice() {\n        return prodPrice;\n    }\n\n    public void setProdPrice(Double prodPrice) {\n        this.prodPrice = prodPrice;\n    }\n\n    public String getProdImage() {\n        return prodImage;\n    }\n\n    public void setProdImage(String prodImage) {\n        this.prodImage = prodImage;\n    }\n}\n</code></pre>\n<p>create.html form page</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorator=&quot;default&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Create Product&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\n            \n                &lt;h3&gt;\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\n                &lt;/h3&gt;\n                \n                &lt;h2&gt;Create Product&lt;/h2&gt;\n                \n                &lt;form action=&quot;/save&quot;&gt;\n                \n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; /&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>edit.html form page</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;default&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Edit Product&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div layout:fragment=&quot;content&quot; class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-xs-8 col-md-8&quot;&gt;\n            \n                &lt;h3&gt;\n                    &lt;a href=&quot;/product&quot; class=&quot;btn btn-lg btn-primary&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;Product List&lt;/a&gt;\n                &lt;/h3&gt;\n                \n                &lt;h2&gt;Edit Product&lt;/h2&gt;\n                \n                &lt;form action=&quot;/update&quot;&gt;\n                \n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Name:&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;prodName&quot; th:value=&quot;${product.prodName}&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Description&lt;/label&gt;\n                        &lt;textarea class=&quot;form-control&quot; name=&quot;prodDesc&quot; cols=&quot;60&quot; rows=&quot;3&quot; th:text=&quot;${product.prodDesc}&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Price&lt;/label&gt;\n                        &lt;input type=&quot;number&quot; class=&quot;form-control&quot; name=&quot;prodPrice&quot; th:value=&quot;${product.prodPrice}&quot; /&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;email&quot;&gt;Product Image URL:&lt;/label&gt;\n                        &lt;input type=&quot;url&quot; class=&quot;form-control&quot; name=&quot;prodImage&quot; th:value=&quot;${product.prodImage}&quot; /&gt;\n                    &lt;/div&gt;\n                    \n                    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${product.id}&quot; /&gt;\n                    \n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot;&gt;Save&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\n    &lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ecommerce-website&lt;/name&gt;\n    &lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I tried looking on different forms, and I saw answers that involved using annotations like @NotNull or creating a configuration class, but neither of those have worked for me.</p>\n"},{"tags":["java","android","xml","android-studio","android-manifest"],"comments":[{"owner":{"account_id":3820680,"reputation":14746,"user_id":3168859,"accept_rate":88,"display_name":"Lal"},"score":0,"creation_date":1441733716,"post_id":32463917,"comment_id":52789739,"body_markdown":"As the error suggests, you are missing `android:name` for the activity in your manifest.","body":"As the error suggests, you are missing <code>android:name</code> for the activity in your manifest."}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1441733935,"creation_date":1441733935,"answer_id":32464015,"question_id":32463917,"body_markdown":"in the Manifest you posted in the screenshot you are using `android:title` instead of `android:name` for your `Activity`s. Change it with \r\n\r\n     android:name=&quot;.MainActivity&quot;\r\n\r\nthe property is mandatory. You can read more [here][1]\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/manifest/activity-element.html#nm","title":"Android Studio Manifest file error","body":"<p>in the Manifest you posted in the screenshot you are using <code>android:title</code> instead of <code>android:name</code> for your <code>Activity</code>s. Change it with </p>\n\n<pre><code> android:name=\".MainActivity\"\n</code></pre>\n\n<p>the property is mandatory. You can read more <a href=\"http://developer.android.com/guide/topics/manifest/activity-element.html#nm\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6919785,"reputation":203,"user_id":5312823,"accept_rate":45,"display_name":"semiColon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441734071,"creation_date":1441734071,"answer_id":32464058,"question_id":32463917,"body_markdown":"    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nTry changing your manifest file to this","title":"Android Studio Manifest file error","body":"<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>Try changing your manifest file to this</p>\n"},{"tags":[],"owner":{"account_id":18602768,"reputation":1,"user_id":13557209,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589660041,"creation_date":1589660041,"answer_id":61842970,"question_id":32463917,"body_markdown":"this is the problem its not pulling from the string it should be showing the app name\r\n\r\n*android:label=&quot;@string/app_name&quot;*\r\n\r\nthe easiest solution create new app proyect open manifest copy that line make user not to press it or you will break string again paste line over your broken string if you want change name go to the strings xml change name there\r\n","title":"Android Studio Manifest file error","body":"<p>this is the problem its not pulling from the string it should be showing the app name</p>\n\n<p><em>android:label=\"@string/app_name\"</em></p>\n\n<p>the easiest solution create new app proyect open manifest copy that line make user not to press it or you will break string again paste line over your broken string if you want change name go to the strings xml change name there</p>\n"}],"owner":{"account_id":3398327,"reputation":197,"user_id":2851275,"accept_rate":54,"display_name":"Serhii Tereshchenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32464015,"answer_count":3,"score":0,"last_activity_date":1671012012,"creation_date":1441733577,"question_id":32463917,"body_markdown":"Something went wrong with my AndroidManifest.xml file. I was launching tests one more time when suddenly Android Studio crashed, launched again and then next error occured (I&#39;m sorry, I don&#39;t have enough rating to upload pictures directly):\r\n[![enter image description here][1]][1]\r\n\r\nHere is the gradle console:\r\n[![enter image description here][2]][2]\r\n\r\nMy strings.xml file is ok:\r\n\r\n    &lt;resources&gt;\r\n    &lt;string title=&quot;app_name&quot;&gt;PaySpaceMagazine&lt;/string&gt;\r\n    &lt;string title=&quot;hello_world&quot;&gt;Hello world!&lt;/string&gt;\r\n    &lt;string title=&quot;action_settings&quot;&gt;Settings&lt;/string&gt;\r\n\r\n    &lt;string title=&quot;actual&quot;&gt;Актуально&lt;/string&gt;\r\n    &lt;string title=&quot;last_news&quot;&gt;Последние известия&lt;/string&gt;\r\n&lt;/resources&gt;\r\n\r\nAlso there is other manifest file without any errors:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;sunshine.ssidit.pp.ua.sunshineproject&quot; &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nDid anyone have same problem?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tw4q1.png\r\n  [2]: http://i.stack.imgur.com/sSuW6.png","title":"Android Studio Manifest file error","body":"<p>Something went wrong with my AndroidManifest.xml file. I was launching tests one more time when suddenly Android Studio crashed, launched again and then next error occured (I'm sorry, I don't have enough rating to upload pictures directly):\n<a href=\"https://i.stack.imgur.com/tw4q1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tw4q1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the gradle console:\n<a href=\"https://i.stack.imgur.com/sSuW6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sSuW6.png\" alt=\"enter image description here\"></a></p>\n\n<p>My strings.xml file is ok:</p>\n\n<pre><code>&lt;resources&gt;\n&lt;string title=\"app_name\"&gt;PaySpaceMagazine&lt;/string&gt;\n&lt;string title=\"hello_world\"&gt;Hello world!&lt;/string&gt;\n&lt;string title=\"action_settings\"&gt;Settings&lt;/string&gt;\n\n&lt;string title=\"actual\"&gt;Актуально&lt;/string&gt;\n&lt;string title=\"last_news\"&gt;Последние известия&lt;/string&gt;\n</code></pre>\n\n<p></p>\n\n<p>Also there is other manifest file without any errors:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>Did anyone have same problem?</p>\n"},{"tags":["java","hibernate","jpa","orm","hibernate-mapping"],"answers":[{"comments":[{"owner":{"account_id":1804135,"reputation":1832,"user_id":1641661,"accept_rate":74,"display_name":"Śhāhēēd"},"score":0,"creation_date":1623160173,"post_id":28540992,"comment_id":119994418,"body_markdown":"Not really! Let us know if you got any success on it.","body":"Not really! Let us know if you got any success on it."}],"tags":[],"owner":{"account_id":1699755,"reputation":1,"user_id":1560185,"display_name":"user1560185"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424088061,"creation_date":1424088061,"answer_id":28540992,"question_id":28539915,"body_markdown":"Define your @SequenceGenerator at column level rather than at class level. So you can create two separate sequenceGenerator - a1_seq and b1 for two different columns.\r\n\r\n    @Data\r\n    @Table(name=&quot;a_b&quot;)\r\n    \r\n    public class ABC {\r\n\r\n      @Id\r\n      @Column(name = &quot;id&quot;)\r\n      @SequenceGenerator(name = &quot;a1_seq&quot;, sequenceName = &quot;a1_seq&quot;, allocationSize    = 1)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;a1_seq&quot;)\r\n      private Integer id;\r\n\r\n      @Column(name = &quot;c&quot;)\r\n      private String c;\r\n\r\n      @SequenceGenerator(name = &quot;b1_seq&quot;, sequenceName = &quot;b1_seq&quot;, allocationSize = 1)\r\n      @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;b1&quot;)\r\n      @Column(name = &quot;b)\r\n      private Integer b;\r\n\r\n}\r\n\r\nThis should work. I have not tested it but since SequenceGenerator is allowed at field level, it should work.","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>Define your @SequenceGenerator at column level rather than at class level. So you can create two separate sequenceGenerator - a1_seq and b1 for two different columns.</p>\n\n<pre><code>@Data\n@Table(name=\"a_b\")\n\npublic class ABC {\n\n  @Id\n  @Column(name = \"id\")\n  @SequenceGenerator(name = \"a1_seq\", sequenceName = \"a1_seq\", allocationSize    = 1)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"a1_seq\")\n  private Integer id;\n\n  @Column(name = \"c\")\n  private String c;\n\n  @SequenceGenerator(name = \"b1_seq\", sequenceName = \"b1_seq\", allocationSize = 1)\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"b1\")\n  @Column(name = \"b)\n  private Integer b;\n</code></pre>\n\n<p>}</p>\n\n<p>This should work. I have not tested it but since SequenceGenerator is allowed at field level, it should work.</p>\n"},{"comments":[{"owner":{"account_id":1299517,"reputation":177,"user_id":1249733,"display_name":"Maulik Kayastha"},"score":0,"creation_date":1606983531,"post_id":28550689,"comment_id":115130369,"body_markdown":"how about oracle ? also how do you provide name of second sequence ?","body":"how about oracle ? also how do you provide name of second sequence ?"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1424122219,"creation_date":1424122219,"answer_id":28550689,"question_id":28539915,"body_markdown":"You should have only one SequenceGenerator for the Primary Key:\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @SequenceGenerator(name = &quot;a1_seq&quot;, sequenceName = &quot;a1_seq&quot;, allocationSize    = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;a1_seq&quot;)\r\n    private Integer id;\r\n\r\nand for the foreign key you could have:\r\n\r\n    @Column(name = &quot;b, columnDefinition=&quot;serial&quot;)\r\n    private Integer b;\r\n\r\nwhich should work for PostgreSQL.","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>You should have only one SequenceGenerator for the Primary Key:</p>\n\n<pre><code>@Id\n@Column(name = \"id\")\n@SequenceGenerator(name = \"a1_seq\", sequenceName = \"a1_seq\", allocationSize    = 1)\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"a1_seq\")\nprivate Integer id;\n</code></pre>\n\n<p>and for the foreign key you could have:</p>\n\n<pre><code>@Column(name = \"b, columnDefinition=\"serial\")\nprivate Integer b;\n</code></pre>\n\n<p>which should work for PostgreSQL.</p>\n"},{"tags":[],"owner":{"account_id":17872540,"reputation":1,"user_id":12983449,"display_name":"Gayath Halanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671011795,"creation_date":1671011727,"answer_id":74796393,"question_id":28539915,"body_markdown":"Trick is to add @Id annotation to both Sequence Generators. You can achieve this by using @IdClass().\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_name&quot;)\r\n    @IdClass(DBSequenceId.class)\r\n    public class DBSequence implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@SequenceGenerator(name = &quot;yourName1&quot;, sequenceName = &quot;yourSeqName1&quot;, allocationSize = 1)\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName1&quot;)\r\n    \t@Column(name = &quot;first_seq&quot;, updatable = false)\r\n    \tprotected int firstSeq;\r\n    \r\n    \t@Id\r\n    \t@SequenceGenerator(name = &quot;yourName2&quot;, sequenceName = &quot;yourSeqName2&quot;, allocationSize = 1)\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName2&quot;)\r\n    \t@Column(name = &quot;second_seq&quot;, updatable = false)\r\n    \tprotected int secondSeq;\r\n    \r\n    }\r\n    \r\n    class DBSequenceId implements Serializable {\r\n    \r\n    \tprivate int firstSeq;\r\n    \tprivate int secondSeq;\r\n    \r\n    \t//Setters and getters are omitted \r\n    }\r\n\r\nTested on MariaDB","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>Trick is to add @Id annotation to both Sequence Generators. You can achieve this by using @IdClass().</p>\n<pre><code>@Entity\n@Table(name = &quot;table_name&quot;)\n@IdClass(DBSequenceId.class)\npublic class DBSequence implements Serializable {\n\n    @Id\n    @SequenceGenerator(name = &quot;yourName1&quot;, sequenceName = &quot;yourSeqName1&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName1&quot;)\n    @Column(name = &quot;first_seq&quot;, updatable = false)\n    protected int firstSeq;\n\n    @Id\n    @SequenceGenerator(name = &quot;yourName2&quot;, sequenceName = &quot;yourSeqName2&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;yourName2&quot;)\n    @Column(name = &quot;second_seq&quot;, updatable = false)\n    protected int secondSeq;\n\n}\n\nclass DBSequenceId implements Serializable {\n\n    private int firstSeq;\n    private int secondSeq;\n\n    //Setters and getters are omitted \n}\n</code></pre>\n<p>Tested on MariaDB</p>\n"}],"owner":{"account_id":1804059,"reputation":115,"user_id":1641603,"accept_rate":62,"display_name":"Siddharth Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5195,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28550689,"answer_count":3,"score":3,"last_activity_date":1671011795,"creation_date":1424084479,"question_id":28539915,"body_markdown":"Is it possible to use 2 sequence generators in Hibernate  Entity Class. I  want to use two sequence generator for my case one for the primary key and other for a simple field. How can i achieve the same?\r\n\r\n    @Data\r\n    @Table(name=&quot;a_b&quot;)\r\n    @SequenceGenerator(name = &quot;a1_seq&quot;, sequenceName = &quot;a1_seq&quot;, allocationSize    = 1)\r\n    @SequenceGenerator(name = &quot;b1_seq&quot;, sequenceName = &quot;b1_seq&quot;, allocationSize = 1)\r\n    public class ABC {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;a1_seq&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;c&quot;)\r\n        private String c;\r\n    \r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;b1&quot;)\r\n        @Column(name = &quot;b)\r\n        private Integer b;\r\n\r\n    }","title":"Multiple SequenceGenerator in Hibernate Entity","body":"<p>Is it possible to use 2 sequence generators in Hibernate  Entity Class. I  want to use two sequence generator for my case one for the primary key and other for a simple field. How can i achieve the same?</p>\n\n<pre><code>@Data\n@Table(name=\"a_b\")\n@SequenceGenerator(name = \"a1_seq\", sequenceName = \"a1_seq\", allocationSize    = 1)\n@SequenceGenerator(name = \"b1_seq\", sequenceName = \"b1_seq\", allocationSize = 1)\npublic class ABC {\n\n    @Id\n    @Column(name = \"id\")\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"a1_seq\")\n    private Integer id;\n\n    @Column(name = \"c\")\n    private String c;\n\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"b1\")\n    @Column(name = \"b)\n    private Integer b;\n\n}\n</code></pre>\n"},{"tags":["java","android","sim-card"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1671006863,"post_id":74795202,"comment_id":132001571,"body_markdown":"You can use `getActiveSubscriptionInfoForSimSlotIndex` from `SubscriptionManager` Class https://developer.android.com/reference/android/telephony/SubscriptionManager#getActiveSubscriptionInfoForSimSlotIndex(int)","body":"You can use <code>getActiveSubscriptionInfoForSimSlotIndex</code> from <code>SubscriptionManager</code> Class <a href=\"https://developer.android.com/reference/android/telephony/SubscriptionManager#getActiveSubscriptionInfoForSimSlotIndex(int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/telephony/&hellip;</a>"},{"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"score":0,"creation_date":1671185456,"post_id":74795202,"comment_id":132049212,"body_markdown":"@SaifAhmad I&#39;ve tried that but it is returning empty strings.","body":"@SaifAhmad I&#39;ve tried that but it is returning empty strings."},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1671192037,"post_id":74795202,"comment_id":132051263,"body_markdown":"Have you added read phone state manifest? https://developer.android.com/reference/android/Manifest.permission#READ_PHONE_STATE","body":"Have you added read phone state manifest? <a href=\"https://developer.android.com/reference/android/Manifest.permission#READ_PHONE_STATE\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/&hellip;</a>"},{"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"score":0,"creation_date":1671442960,"post_id":74795202,"comment_id":132092513,"body_markdown":"Yes and requested for it too but it too didn&#39;t worked @SaifAhmad","body":"Yes and requested for it too but it too didn&#39;t worked @SaifAhmad"}],"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671011525,"creation_date":1671005269,"question_id":74795202,"body_markdown":"I want to add the functionality of login similar to UPI apps. The user will select the SIM card from his phone and I will send an SMS from that SIM and will verify his phone number using that SMS. But I have to compare the number in the back-end or in API. So, I want to acquire the phone numbers of both SIM cards or the phone number of the SIM card user selects (Get the phone number from SMS or while sending SMS).\r\n\r\nI am putting a generic class that I made for SIM selections and SMS. I have tried getting the mobile number from SubscriptionInfo, but it gives the operator name and all details right except the mobile number which returns an empty string. I have found in different blogs or my R&amp;D that it is up to the operator whether to put the number there or not. So, if I am getting the mobile number, it is not 100% guaranteed that I will get the mobile number every time.\r\n\r\nHere&#39;s my generic class: SimUtil.java\r\n\r\n```java\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.telephony.SmsManager;\r\nimport android.telephony.SubscriptionInfo;\r\nimport android.telephony.SubscriptionManager;\r\n\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class SimUtil {\r\n\r\n    List&lt;SimCard&gt; simCards = new ArrayList&lt;&gt;();\r\n    Context context;\r\n\r\n    public SimUtil(Context context) {\r\n        this.context = context;\r\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n            setupPermissions();\r\n            return;\r\n        }\r\n        List&lt;SubscriptionInfo&gt; subscriptionInfos = SubscriptionManager.from(context.getApplicationContext()).getActiveSubscriptionInfoList();\r\n        for (int i = 0; i &lt; subscriptionInfos.size(); i++) {\r\n            SubscriptionInfo currentCard = subscriptionInfos.get(i);\r\n            SimCard simCard = new SimCard(i,currentCard);\r\n            simCards.add(simCard);\r\n        }\r\n    }\r\n\r\n    public int getSimCardCount() {\r\n        return this.simCards.size();\r\n    }\r\n\r\n    public List&lt;SimCard&gt; getSimCardList() {\r\n        if(simCards.size() &gt; 0)\r\n            return simCards;\r\n        else\r\n            return null;\r\n    }\r\n\r\n    public SimCard getFirstSimCard() {\r\n        return simCards.get(0);\r\n    }\r\n\r\n    public boolean hasDualSim() {\r\n        return simCards.size() &gt; 1;\r\n    }\r\n\r\n    public SimCard getSecondSimCard() {\r\n        if(hasDualSim())\r\n            return simCards.get(1);\r\n        else\r\n            return null;\r\n    }\r\n\r\n    public static void sendSMSFromSim1(String message) {\r\n        SmsManager.getSmsManagerForSubscriptionId(0)\r\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\r\n    }\r\n\r\n    public static void sendSMSFromSim2(String message) {\r\n        SmsManager.getSmsManagerForSubscriptionId(1)\r\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\r\n    }\r\n\r\n    private void setupPermissions() {\r\n        int permission = ContextCompat.checkSelfPermission(context, Manifest.permission.SEND_SMS);\r\n        if(permission != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.SEND_SMS}, 1);\r\n        }\r\n\r\n        int permission2 = ContextCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE);\r\n        if(permission2 != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.READ_PHONE_STATE}, 1);\r\n        }\r\n    }\r\n\r\n    public static class SimCard {\r\n        int index;\r\n        String operatorName;\r\n        String mobileNumber;\r\n        String countryISO;\r\n\r\n        public SimCard(int index, String operatorName, String countryISO, String mobileNumber) {\r\n            this.index = index;\r\n            this.operatorName = operatorName;\r\n            this.countryISO = countryISO;\r\n            this.mobileNumber = mobileNumber;\r\n        }\r\n\r\n        public SimCard(int index,SubscriptionInfo subscriptionInfo) {\r\n            this.index = index;\r\n            this.operatorName = subscriptionInfo.getCarrierName().toString();\r\n            this.countryISO = subscriptionInfo.getCountryIso();\r\n            this.mobileNumber = subscriptionInfo.getNumber();\r\n        }\r\n\r\n        public int getIndex() {\r\n            return index;\r\n        }\r\n\r\n        public String getOperatorName() {\r\n            return operatorName;\r\n        }\r\n\r\n        public String getCountryISO() {\r\n            return countryISO;\r\n        }\r\n\r\n        public String getMobileNumber() {\r\n            return mobileNumber;\r\n        }\r\n    }\r\n}\r\n```","title":"Is there anyway I can get mobile number of both SIM cards in android Java?","body":"<p>I want to add the functionality of login similar to UPI apps. The user will select the SIM card from his phone and I will send an SMS from that SIM and will verify his phone number using that SMS. But I have to compare the number in the back-end or in API. So, I want to acquire the phone numbers of both SIM cards or the phone number of the SIM card user selects (Get the phone number from SMS or while sending SMS).</p>\n<p>I am putting a generic class that I made for SIM selections and SMS. I have tried getting the mobile number from SubscriptionInfo, but it gives the operator name and all details right except the mobile number which returns an empty string. I have found in different blogs or my R&amp;D that it is up to the operator whether to put the number there or not. So, if I am getting the mobile number, it is not 100% guaranteed that I will get the mobile number every time.</p>\n<p>Here's my generic class: SimUtil.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.Manifest;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.telephony.SmsManager;\nimport android.telephony.SubscriptionInfo;\nimport android.telephony.SubscriptionManager;\n\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class SimUtil {\n\n    List&lt;SimCard&gt; simCards = new ArrayList&lt;&gt;();\n    Context context;\n\n    public SimUtil(Context context) {\n        this.context = context;\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n            setupPermissions();\n            return;\n        }\n        List&lt;SubscriptionInfo&gt; subscriptionInfos = SubscriptionManager.from(context.getApplicationContext()).getActiveSubscriptionInfoList();\n        for (int i = 0; i &lt; subscriptionInfos.size(); i++) {\n            SubscriptionInfo currentCard = subscriptionInfos.get(i);\n            SimCard simCard = new SimCard(i,currentCard);\n            simCards.add(simCard);\n        }\n    }\n\n    public int getSimCardCount() {\n        return this.simCards.size();\n    }\n\n    public List&lt;SimCard&gt; getSimCardList() {\n        if(simCards.size() &gt; 0)\n            return simCards;\n        else\n            return null;\n    }\n\n    public SimCard getFirstSimCard() {\n        return simCards.get(0);\n    }\n\n    public boolean hasDualSim() {\n        return simCards.size() &gt; 1;\n    }\n\n    public SimCard getSecondSimCard() {\n        if(hasDualSim())\n            return simCards.get(1);\n        else\n            return null;\n    }\n\n    public static void sendSMSFromSim1(String message) {\n        SmsManager.getSmsManagerForSubscriptionId(0)\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\n    }\n\n    public static void sendSMSFromSim2(String message) {\n        SmsManager.getSmsManagerForSubscriptionId(1)\n                .sendTextMessage(AppConstant.LOGIN_MOBILE_NUMBER, null, message, null, null);\n    }\n\n    private void setupPermissions() {\n        int permission = ContextCompat.checkSelfPermission(context, Manifest.permission.SEND_SMS);\n        if(permission != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.SEND_SMS}, 1);\n        }\n\n        int permission2 = ContextCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE);\n        if(permission2 != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions((Activity)context, new String[]{Manifest.permission.READ_PHONE_STATE}, 1);\n        }\n    }\n\n    public static class SimCard {\n        int index;\n        String operatorName;\n        String mobileNumber;\n        String countryISO;\n\n        public SimCard(int index, String operatorName, String countryISO, String mobileNumber) {\n            this.index = index;\n            this.operatorName = operatorName;\n            this.countryISO = countryISO;\n            this.mobileNumber = mobileNumber;\n        }\n\n        public SimCard(int index,SubscriptionInfo subscriptionInfo) {\n            this.index = index;\n            this.operatorName = subscriptionInfo.getCarrierName().toString();\n            this.countryISO = subscriptionInfo.getCountryIso();\n            this.mobileNumber = subscriptionInfo.getNumber();\n        }\n\n        public int getIndex() {\n            return index;\n        }\n\n        public String getOperatorName() {\n            return operatorName;\n        }\n\n        public String getCountryISO() {\n            return countryISO;\n        }\n\n        public String getMobileNumber() {\n            return mobileNumber;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud","nacos"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1671028616,"post_id":74795448,"comment_id":132009117,"body_markdown":"With the introduction of spring.config.import we decided bootstrap should no longer be the default. It is still available, but it&#39;s now opt in","body":"With the introduction of spring.config.import we decided bootstrap should no longer be the default. It is still available, but it&#39;s now opt in"},{"owner":{"account_id":17110868,"reputation":1,"user_id":12381716,"display_name":"Autrui"},"score":0,"creation_date":1671094718,"post_id":74795448,"comment_id":132024966,"body_markdown":"I can use spring.config.import now ,but in nacos ,the configuration in different group still cant resolve , the idea console show the order-dev.yml is empty .","body":"I can use spring.config.import now ,but in nacos ,the configuration in different group still cant resolve , the idea console show the order-dev.yml is empty ."}],"owner":{"account_id":17110868,"reputation":1,"user_id":12381716,"display_name":"Autrui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671011419,"creation_date":1671006694,"question_id":74795448,"body_markdown":"This is my Spring Cloud test project. As the java version is 1.8, I try to build the cloud project with some new version.\r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;mysql.version&gt;8.0.30&lt;/mysql.version&gt;\r\n    &lt;mybatis.version&gt;3.0.0&lt;/mybatis.version&gt;\r\n    &lt;mybatis-plus.version&gt;3.5.2&lt;/mybatis-plus.version&gt;\r\n    &lt;spring-boot.version&gt;2.6.11&lt;/spring-boot.version&gt;\r\n    &lt;spring-cloud.version&gt;2021.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;spring-cloud-alibaba.version&gt;2021.0.4.0&lt;/spring-cloud-alibaba.version&gt;\r\n    &lt;alibaba.nacos.version&gt;2.0.4&lt;/alibaba.nacos.version&gt;\r\n    &lt;freemarker.version&gt;2.3.31&lt;/freemarker.version&gt;\r\n    &lt;swagger.version&gt;1.6.2&lt;/swagger.version&gt;\r\n    &lt;lombok.version&gt;1.18.8&lt;/lombok.version&gt;\r\n    &lt;openfeign.version&gt;3.1.5&lt;/openfeign.version&gt;\r\n    &lt;loadbalance.version&gt;3.1.4&lt;/loadbalance.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/iAJG1.png)\r\n\r\nhttps://github.com/Autrui/cloud_test\r\n\r\nThen I get the problem. In order and user module, I use bootstrap.yml to config name and nacos, it actually worked. But in gateway module, at first, I set the port 10010 in bootstrap.yml, but the gateway still runs at port 8080. The configuration in application.yml worked. \r\n\r\nThen I Google and found that Spring Boot disabled the bootstrap.yml after 2.4.0. Then I have three problems:  \r\n\r\n1.  If the bootstrap is actually be abandoned, why my order and user modules can work as usual? \r\n\r\n2. I find we can add the bootstrap dependency in pom, then bootstrap will be loaded again, but I think this is not a elegant way to program.\r\n\r\n```yaml\r\nconfig:\r\n  import:\r\n    - optional: nacos:order-dev.yaml\r\n    - nacos: order-dev.yaml\r\n```\r\n\r\nI try to  use spring.config.import, but IDEA shows Cannot resolve property &#39;optional&#39; in java.lang.String. How can I replace bootstrap in my project?\r\n\r\n3. Why Spring disabled the bootstrap? I didn&#39;t find the reason also don&#39;t know why.","title":"Why doesn&#39;t Spring Cloud use bootstrap.yml by default anymore?","body":"<p>This is my Spring Cloud test project. As the java version is 1.8, I try to build the cloud project with some new version.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;mysql.version&gt;8.0.30&lt;/mysql.version&gt;\n    &lt;mybatis.version&gt;3.0.0&lt;/mybatis.version&gt;\n    &lt;mybatis-plus.version&gt;3.5.2&lt;/mybatis-plus.version&gt;\n    &lt;spring-boot.version&gt;2.6.11&lt;/spring-boot.version&gt;\n    &lt;spring-cloud.version&gt;2021.0.4&lt;/spring-cloud.version&gt;\n    &lt;spring-cloud-alibaba.version&gt;2021.0.4.0&lt;/spring-cloud-alibaba.version&gt;\n    &lt;alibaba.nacos.version&gt;2.0.4&lt;/alibaba.nacos.version&gt;\n    &lt;freemarker.version&gt;2.3.31&lt;/freemarker.version&gt;\n    &lt;swagger.version&gt;1.6.2&lt;/swagger.version&gt;\n    &lt;lombok.version&gt;1.18.8&lt;/lombok.version&gt;\n    &lt;openfeign.version&gt;3.1.5&lt;/openfeign.version&gt;\n    &lt;loadbalance.version&gt;3.1.4&lt;/loadbalance.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iAJG1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://github.com/Autrui/cloud_test\" rel=\"nofollow noreferrer\">https://github.com/Autrui/cloud_test</a></p>\n<p>Then I get the problem. In order and user module, I use bootstrap.yml to config name and nacos, it actually worked. But in gateway module, at first, I set the port 10010 in bootstrap.yml, but the gateway still runs at port 8080. The configuration in application.yml worked.</p>\n<p>Then I Google and found that Spring Boot disabled the bootstrap.yml after 2.4.0. Then I have three problems:</p>\n<ol>\n<li><p>If the bootstrap is actually be abandoned, why my order and user modules can work as usual?</p>\n</li>\n<li><p>I find we can add the bootstrap dependency in pom, then bootstrap will be loaded again, but I think this is not a elegant way to program.</p>\n</li>\n</ol>\n<pre class=\"lang-yaml prettyprint-override\"><code>config:\n  import:\n    - optional: nacos:order-dev.yaml\n    - nacos: order-dev.yaml\n</code></pre>\n<p>I try to  use spring.config.import, but IDEA shows Cannot resolve property 'optional' in java.lang.String. How can I replace bootstrap in my project?</p>\n<ol start=\"3\">\n<li>Why Spring disabled the bootstrap? I didn't find the reason also don't know why.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671010774,"post_id":74796019,"comment_id":132002765,"body_markdown":"`SecurityConfig` depends on `JwtAuthenticate` bean, which is instantiated in `SecurityConfig`","body":"<code>SecurityConfig</code> depends on <code>JwtAuthenticate</code> bean, which is instantiated in <code>SecurityConfig</code>"}],"answers":[{"comments":[{"owner":{"account_id":18975870,"reputation":153,"user_id":13848366,"display_name":"John Paulo A. Geronimo"},"score":0,"creation_date":1671065770,"post_id":74796308,"comment_id":132019969,"body_markdown":"Thank you it removes the circular dependency but it creates new error:\n\n\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.core.context.DeferredSecurityContext","body":"Thank you it removes the circular dependency but it creates new error:   Caused by: java.lang.ClassNotFoundException: org.springframework.security.core.context.DeferredSecurityCo&zwnj;&#8203;ntext"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1671129849,"post_id":74796308,"comment_id":132037568,"body_markdown":"@JohnPauloA.Geronimo I almost certain that this apparent issue in not related to the cyclic dependency you&#39;ve introduced. There&#39;s a little I can say about the cause from this chunk of exception message. You need to provide a **full** *exception stack-trace*, also *dependencies* in the `pom.xml` might contain a clue. I would advise to post a new Question with all the details related to the problem. That would allow you to draw and to collect opinions from a larger number of user (and you can share a link to the question here as well).","body":"@JohnPauloA.Geronimo I almost certain that this apparent issue in not related to the cyclic dependency you&#39;ve introduced. There&#39;s a little I can say about the cause from this chunk of exception message. You need to provide a <b>full</b> <i>exception stack-trace</i>, also <i>dependencies</i> in the <code>pom.xml</code> might contain a clue. I would advise to post a new Question with all the details related to the problem. That would allow you to draw and to collect opinions from a larger number of user (and you can share a link to the question here as well)."},{"owner":{"account_id":18975870,"reputation":153,"user_id":13848366,"display_name":"John Paulo A. Geronimo"},"score":0,"creation_date":1671150447,"post_id":74796308,"comment_id":132042791,"body_markdown":"I already solved it by removing the spring-security-core and spring-security-web from the pom.xml. I just use spring-starter-security. Thank you very much sir. But may I know why spring-security-core and spring-security-web is not needed by spring?","body":"I already solved it by removing the spring-security-core and spring-security-web from the pom.xml. I just use spring-starter-security. Thank you very much sir. But may I know why spring-security-core and spring-security-web is not needed by spring?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1671151179,"post_id":74796308,"comment_id":132042918,"body_markdown":"@JohnPauloA.Geronimo [`spring-boot-starter-security`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security/3.0.0) as well as any other `spring-boot-starter` dependency basically is a **group** of dependencies. `spring-boot-starter-security` includes `spring-security-web` and `spring-security-config` (which in turn comes with `sping-context` and `spring-core`). You can examine it though the link to repository (or by selecting dependencies in your `pom.xml`).","body":"@JohnPauloA.Geronimo <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security/3.0.0\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-security</code></a> as well as any other <code>spring-boot-starter</code> dependency basically is a <b>group</b> of dependencies. <code>spring-boot-starter-security</code> includes <code>spring-security-web</code> and <code>spring-security-config</code> (which in turn comes with <code>sping-context</code> and <code>spring-core</code>). You can examine it though the link to repository (or by selecting dependencies in your <code>pom.xml</code>)."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671011340,"creation_date":1671011340,"answer_id":74796308,"question_id":74796019,"body_markdown":"The field `JwtAuthenticate jwtAuthenticate` is redundant - remove it. \r\n\r\nAnd while constructing the `SecurityFilterChain` refer to the method producing `JwtAuthenticate` Bean:\r\n\r\n```\r\n.exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPointBean())\r\n```","title":"Circular Dependency in my SecurityConfig with Spring Boot","body":"<p>The field <code>JwtAuthenticate jwtAuthenticate</code> is redundant - remove it.</p>\n<p>And while constructing the <code>SecurityFilterChain</code> refer to the method producing <code>JwtAuthenticate</code> Bean:</p>\n<pre><code>.exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPointBean())\n</code></pre>\n"}],"owner":{"account_id":18975870,"reputation":153,"user_id":13848366,"display_name":"John Paulo A. Geronimo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74796308,"answer_count":1,"score":2,"last_activity_date":1671011340,"creation_date":1671009856,"question_id":74796019,"body_markdown":"I tried to create a simple login module with Spring Boot and Spring Boot Security.\r\n\r\nOne of the updates happens in creating SecurityConfig is some of classes like \r\n```WebSecurityConfigurerAdapter``` is now deprecated so I try the following code to make a SecurityConfig but unfortunately, I caught in a circular dependency.\r\n\r\nActually, I used Lombok to minimize the used of @Autowired in every field injection.\r\n\r\nI tried the following approach:\r\n1. I create another class for PasswordEncoder to avoid circular dependency if I used Password Encoder in the other parts of the Application.\r\n\r\n**Error Message**.\r\n```\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n┌──-&gt;──┐\r\n|  securityConfig defined in file [C:\\Users\\jgeronimo\\Documents\\jp_geronimo\\sample_projects\\spring-security-tutorial\\target\\classes\\com\\workshop\\application\\config\\SecurityConfig.class]\r\n└──&lt;-──┘\r\n\r\n\r\nAction:\r\n\r\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\r\n\r\n```\r\n\r\n\r\n**SecurityConfig.java**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthFilter jwtAuthFilter;\r\n\r\n    private final JwtUserDetailsService userDetailsService;\r\n\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    private final JwtAuthenticate jwtAuthenticate;\r\n\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticate jwtAuthenticationEntryPointBean() throws Exception{\r\n        return new JwtAuthenticate();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().and().csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/**/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticate).and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        final DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\r\n        return daoAuthenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n```\r\n\r\n**Encoder.config**\r\n```\r\n@Configuration\r\npublic class EncoderConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```","title":"Circular Dependency in my SecurityConfig with Spring Boot","body":"<p>I tried to create a simple login module with Spring Boot and Spring Boot Security.</p>\n<p>One of the updates happens in creating SecurityConfig is some of classes like\n<code>WebSecurityConfigurerAdapter</code> is now deprecated so I try the following code to make a SecurityConfig but unfortunately, I caught in a circular dependency.</p>\n<p>Actually, I used Lombok to minimize the used of @Autowired in every field injection.</p>\n<p>I tried the following approach:</p>\n<ol>\n<li>I create another class for PasswordEncoder to avoid circular dependency if I used Password Encoder in the other parts of the Application.</li>\n</ol>\n<p><strong>Error Message</strong>.</p>\n<pre><code>\nDescription:\n\nThe dependencies of some of the beans in the application context form a cycle:\n\n┌──-&gt;──┐\n|  securityConfig defined in file [C:\\Users\\jgeronimo\\Documents\\jp_geronimo\\sample_projects\\spring-security-tutorial\\target\\classes\\com\\workshop\\application\\config\\SecurityConfig.class]\n└──&lt;-──┘\n\n\nAction:\n\nDespite circular references being allowed, the dependency cycle between beans could not be broken. Update your application to remove the dependency cycle.\n\n</code></pre>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthFilter jwtAuthFilter;\n\n    private final JwtUserDetailsService userDetailsService;\n\n    private final PasswordEncoder passwordEncoder;\n\n    private final JwtAuthenticate jwtAuthenticate;\n\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n    @Bean\n    public JwtAuthenticate jwtAuthenticationEntryPointBean() throws Exception{\n        return new JwtAuthenticate();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors().and().csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/**/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticate).and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        final DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setUserDetailsService(userDetailsService);\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\n        return daoAuthenticationProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n</code></pre>\n<p><strong>Encoder.config</strong></p>\n<pre><code>@Configuration\npublic class EncoderConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":16221107,"reputation":83,"user_id":11712628,"display_name":"Ashish"},"score":1,"creation_date":1671010471,"post_id":74796043,"comment_id":132002673,"body_markdown":"Check this answer https://stackoverflow.com/a/45194502/11712628","body":"Check this answer <a href=\"https://stackoverflow.com/a/45194502/11712628\">stackoverflow.com/a/45194502/11712628</a>"}],"owner":{"account_id":19001868,"reputation":11,"user_id":13869216,"display_name":"Megha Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671010667,"answer_count":0,"score":0,"last_activity_date":1671011000,"creation_date":1671009950,"question_id":74796043,"body_markdown":"I am testing a REST API. During execution, I receive below stack trace\r\n\r\n```none\r\nSEVERE: StandardWrapper.Throwable\r\njava.lang.NoSuchMethodError: javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\r\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:331)\r\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:392)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:177)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:369)\r\n        at javax.servlet.GenericServlet.init(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapper.initServlet(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapper.loadServlet(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapper.allocate(Unknown Source)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(Unknown Source)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(Unknown Source)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(Unknown Source)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(Unknown Source)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(Unknown Source)\r\n        at org.apache.catalina.valves.AccessLogValve.invoke(Unknown Source)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(Unknown Source)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(Unknown Source)\r\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(Unknown Source)\r\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Unknown Source)\r\n        at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(Unknown Source)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(Unknown Source)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n```\r\n\r\nI am using javax.ws.rs-api-2.0.1.jar which contains below method but still it giving me above error\r\n\r\n```\r\npublic Map&lt;String, Object&gt; getProperties() {\r\n    return Collections.emptyMap();\r\n}\r\n```\r\n\r\n[Screenshot of uncompiled class file](https://i.stack.imgur.com/FNumZ.png)","title":"Getting NoSuchMethodError from api developed using Maven","body":"<p>I am testing a REST API. During execution, I receive below stack trace</p>\n<pre class=\"lang-none prettyprint-override\"><code>SEVERE: StandardWrapper.Throwable\njava.lang.NoSuchMethodError: javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:331)\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:392)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:177)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:369)\n        at javax.servlet.GenericServlet.init(Unknown Source)\n        at org.apache.catalina.core.StandardWrapper.initServlet(Unknown Source)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(Unknown Source)\n        at org.apache.catalina.core.StandardWrapper.allocate(Unknown Source)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(Unknown Source)\n        at org.apache.catalina.core.StandardContextValve.invoke(Unknown Source)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(Unknown Source)\n        at org.apache.catalina.core.StandardHostValve.invoke(Unknown Source)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(Unknown Source)\n        at org.apache.catalina.valves.AccessLogValve.invoke(Unknown Source)\n        at org.apache.catalina.core.StandardEngineValve.invoke(Unknown Source)\n        at org.apache.catalina.connector.CoyoteAdapter.service(Unknown Source)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(Unknown Source)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Unknown Source)\n        at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(Unknown Source)\n        at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n<p>I am using javax.ws.rs-api-2.0.1.jar which contains below method but still it giving me above error</p>\n<pre><code>public Map&lt;String, Object&gt; getProperties() {\n    return Collections.emptyMap();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FNumZ.png\" rel=\"nofollow noreferrer\">Screenshot of uncompiled class file</a></p>\n"},{"tags":["java","windows-installer","jpackage"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671220685,"post_id":74789202,"comment_id":132060294,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74789202/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26571685,"reputation":11,"user_id":20197816,"display_name":"Rafael"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670954829,"creation_date":1670954829,"answer_id":74789202,"question_id":74788949,"body_markdown":"--win-dir-chooser solves this problem.\r\n","title":"How to define path where generated output file is placed using jpackage (windows)","body":"<p>--win-dir-chooser solves this problem.</p>\n"}],"owner":{"account_id":26571685,"reputation":11,"user_id":20197816,"display_name":"Rafael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671010539,"creation_date":1670953605,"question_id":74788949,"body_markdown":"Im trying to create an installer for my java app using jpackage.\r\nThis is what I have right now:\r\n`jpackage --type msi --app-version &quot;2.0&quot; --input . --dest . --main-jar .\\FitnessGUI.jar --main-class Main --win-shortcut --win-menu `\r\nThis works fine, but I want to be able to choose where the program will be stored when installed.\r\nWhat I have, according to [oracle](https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html), defaults to the current working directory.\r\nIm not sure what this means.\r\nI have no idea where the app will be outputed on another person&#39;s computer.\r\n\r\n\r\n\r\n\r\nI tried to use `--dest &quot;C:\\ &quot;`, but i get:\r\n`Destination directory C:\\ is not writable`\r\nAlso tried `--dest &quot;C:\\Program Files&quot;`, but get the same error.","title":"How to define path where generated output file is placed using jpackage (windows)","body":"<p>Im trying to create an installer for my java app using jpackage.\nThis is what I have right now:\n<code>jpackage --type msi --app-version &quot;2.0&quot; --input . --dest . --main-jar .\\FitnessGUI.jar --main-class Main --win-shortcut --win-menu </code>\nThis works fine, but I want to be able to choose where the program will be stored when installed.\nWhat I have, according to <a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">oracle</a>, defaults to the current working directory.\nIm not sure what this means.\nI have no idea where the app will be outputed on another person's computer.</p>\n<p>I tried to use <code>--dest &quot;C:\\ &quot;</code>, but i get:\n<code>Destination directory C:\\ is not writable</code>\nAlso tried <code>--dest &quot;C:\\Program Files&quot;</code>, but get the same error.</p>\n"},{"tags":["java","spring-security","thymeleaf","spring-3"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1670933473,"post_id":74783754,"comment_id":131983153,"body_markdown":"is that a Maven project? If so, do you have &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt; in your pom?","body":"is that a Maven project? If so, do you have &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt; in your pom?"},{"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"score":0,"creation_date":1670934830,"post_id":74783754,"comment_id":131983670,"body_markdown":"@dsp_user, Thank you, but I tried to add it and for some reason maven cannot find the dependency","body":"@dsp_user, Thank you, but I tried to add it and for some reason maven cannot find the dependency"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1670934973,"post_id":74783754,"comment_id":131983729,"body_markdown":"that&#39;s another problem, and you can post a separate question for that. Still, I think you need that dependency.","body":"that&#39;s another problem, and you can post a separate question for that. Still, I think you need that dependency."}],"answers":[{"tags":[],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671010045,"creation_date":1671010045,"answer_id":74796065,"question_id":74783754,"body_markdown":"Thanks to [@dsp_user][1].\r\nProblem solved by adding `thymeleaf-extras-springsecurity5` dependency\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1119161/dsp-user","title":"Unexpected error (type=Forbidden, status=403) using csrf with Spring Security v3.0.0 and Thymeleaf","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/1119161/dsp-user\">@dsp_user</a>.\nProblem solved by adding <code>thymeleaf-extras-springsecurity5</code> dependency</p>\n"}],"owner":{"account_id":27226326,"reputation":43,"user_id":20754780,"display_name":"tsavaph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74796065,"answer_count":1,"score":0,"last_activity_date":1671010045,"creation_date":1670929113,"question_id":74783754,"body_markdown":"I try to configure security of my application but I get &quot;Unexpected error (type=Forbidden, status=403)&quot; and I don&#39;t know what is the problem. I register a user then login, do some stuff on a &quot;/design&quot; page, press submit and get the Error. As I know (from Spring in Action book) Thymeleaf automatically include hidden field with CSRF token for each html page.\r\n\r\nWhen I disable csrf in SecurityFilterChain my web application works fine. My SecurityConfig class is shown below: I only exclude H2Console path.\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private UserRepository userRepository;\r\n\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(UserRepository userRepo) {\r\n        return username -&gt; {\r\n            User user = userRepo.findByUsername(username);\r\n\r\n            if(user != null) {\r\n                return user;\r\n            }\r\n          throw new UsernameNotFoundException(&quot;User \\&quot;&quot; + username + &quot;\\&quot; not found&quot;);\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().ignoringRequestMatchers(PathRequest.toH2Console())\r\n                .and()\r\n                .headers((headers) -&gt; headers.frameOptions().sameOrigin())\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/design&quot;,&quot;/orders&quot;).hasRole(&quot;USER&quot;)\r\n                .requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\r\n                .and()\r\n                .formLogin(\r\n                        form -&gt; form\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .loginProcessingUrl(&quot;/login&quot;)\r\n                                .defaultSuccessUrl(&quot;/design&quot;)\r\n                                .permitAll()\r\n                ).logout(\r\n                        logout -&gt; logout\r\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                                .permitAll()\r\n                );\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"Unexpected error (type=Forbidden, status=403) using csrf with Spring Security v3.0.0 and Thymeleaf","body":"<p>I try to configure security of my application but I get &quot;Unexpected error (type=Forbidden, status=403)&quot; and I don't know what is the problem. I register a user then login, do some stuff on a &quot;/design&quot; page, press submit and get the Error. As I know (from Spring in Action book) Thymeleaf automatically include hidden field with CSRF token for each html page.</p>\n<p>When I disable csrf in SecurityFilterChain my web application works fine. My SecurityConfig class is shown below: I only exclude H2Console path.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private UserRepository userRepository;\n\n\n    @Bean\n    public UserDetailsService userDetailsService(UserRepository userRepo) {\n        return username -&gt; {\n            User user = userRepo.findByUsername(username);\n\n            if(user != null) {\n                return user;\n            }\n          throw new UsernameNotFoundException(&quot;User \\&quot;&quot; + username + &quot;\\&quot; not found&quot;);\n        };\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().ignoringRequestMatchers(PathRequest.toH2Console())\n                .and()\n                .headers((headers) -&gt; headers.frameOptions().sameOrigin())\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/design&quot;,&quot;/orders&quot;).hasRole(&quot;USER&quot;)\n                .requestMatchers(&quot;/&quot;, &quot;/**&quot;).permitAll()\n                .and()\n                .formLogin(\n                        form -&gt; form\n                                .loginPage(&quot;/login&quot;)\n                                .loginProcessingUrl(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/design&quot;)\n                                .permitAll()\n                ).logout(\n                        logout -&gt; logout\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                                .permitAll()\n                );\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","entitymanager","persistence-unit","entitymanagerfactory"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670507429,"post_id":74262360,"comment_id":131894424,"body_markdown":"This would rather sound like you want a [`RoutingDataSource`](https://www.baeldung.com/spring-abstract-routing-data-source). Or different profiles that you load depending on who uses the application","body":"This would rather sound like you want a <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\"><code>RoutingDataSource</code></a>. Or different profiles that you load depending on who uses the application"}],"answers":[{"tags":[],"owner":{"account_id":27200560,"reputation":86,"user_id":20732854,"display_name":"user20732854"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670681845,"creation_date":1670681845,"answer_id":74753697,"question_id":74262360,"body_markdown":"You could achieve multitenancy by using [Hibernate&#39;s Mulit tenant facilities][1] by implementing a `MultitenantConnectionProvider` and a `CurrentTenantIdentifierResolver` that would need to have access to your Session / Transaction Context.\r\nHere&#39;s a tutorial on [Baeldung][2].\r\n\r\n\r\nDisclaimer: I&#39;m not familiar with Wildfly, so maybe there&#39;s a native way to do it, similar to Springs RoutingDataSource (refer to XtremerBaumers comment in your question)\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html/ch16.html\r\n  [2]: https://www.baeldung.com/hibernate-5-multitenancy","title":"How to use same Persistence Unit to access different datasources with the same entities using EntityManager and EntityManagerFactory","body":"<p>You could achieve multitenancy by using <a href=\"https://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html/ch16.html\" rel=\"nofollow noreferrer\">Hibernate's Mulit tenant facilities</a> by implementing a <code>MultitenantConnectionProvider</code> and a <code>CurrentTenantIdentifierResolver</code> that would need to have access to your Session / Transaction Context.\nHere's a tutorial on <a href=\"https://www.baeldung.com/hibernate-5-multitenancy\" rel=\"nofollow noreferrer\">Baeldung</a>.</p>\n<p>Disclaimer: I'm not familiar with Wildfly, so maybe there's a native way to do it, similar to Springs RoutingDataSource (refer to XtremerBaumers comment in your question)</p>\n"}],"owner":{"account_id":1085509,"reputation":1381,"user_id":1081313,"accept_rate":60,"display_name":"Faliorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74753697,"answer_count":1,"score":0,"last_activity_date":1671010034,"creation_date":1667214497,"question_id":74262360,"body_markdown":"I&#39;m currently working with Java 17, Wildfly 25.0.1 and JPA over Hibernate 5.3.\r\n\r\nI have an application that uses annotations and entities mapped to access a single database. I&#39;m using a PersistenceUnit with a Datasource, and it works fine.\r\n\r\nWhat I&#39;m trying to achieve is programatically choosing different datasources, with the same PersistenceUnit, to access different copies of the same database for different customers. The number of customers can grow, so I cannot use multiple PU&#39;s.\r\n\r\nSo far, I&#39;ve worked with an injected EntityManager such as this:\r\n\r\n    @PersistenceContext(unitName = PERSISTENCE_UNIT)\r\n    protected EntityManager     em;\r\n\r\nI went in the direction of creating my own instances of EntityManager, so I tried injecting the EntityManagerFactory instead of the EntityManager itself:\r\n\r\n    @PersistenceUnit(unitName = PERSISTENCE_UNIT)\r\n    EntityManagerFactory        emf;\r\n\r\nThe originally injected EntityManager, when inspected, belongs to the class org.jboss.as.jpa.container.TransactionScopedEntityManager. \r\nHowever, when I create an EntityManager using the injected EntityManagerFactory, I receive an org.hibernate.internal.SessionImpl instead.\r\n\r\nThe point is that, though many things work fine, the behaviour in the application is somewhat different. It&#39;s a very big application with a lot of transactions, and sometimes data is not correct, etc.\r\n\r\nIs there any way to create or ask the server for a TransactionScopedEntityManager? I&#39;ve searched through Wildfly source code, but I can&#39;t find it.\r\n\r\nAlso, any other approach to achieve this goal would be appreciated.\r\n\r\nThanks and kind regards.\r\n\r\n","title":"How to use same Persistence Unit to access different datasources with the same entities using EntityManager and EntityManagerFactory","body":"<p>I'm currently working with Java 17, Wildfly 25.0.1 and JPA over Hibernate 5.3.</p>\n<p>I have an application that uses annotations and entities mapped to access a single database. I'm using a PersistenceUnit with a Datasource, and it works fine.</p>\n<p>What I'm trying to achieve is programatically choosing different datasources, with the same PersistenceUnit, to access different copies of the same database for different customers. The number of customers can grow, so I cannot use multiple PU's.</p>\n<p>So far, I've worked with an injected EntityManager such as this:</p>\n<pre><code>@PersistenceContext(unitName = PERSISTENCE_UNIT)\nprotected EntityManager     em;\n</code></pre>\n<p>I went in the direction of creating my own instances of EntityManager, so I tried injecting the EntityManagerFactory instead of the EntityManager itself:</p>\n<pre><code>@PersistenceUnit(unitName = PERSISTENCE_UNIT)\nEntityManagerFactory        emf;\n</code></pre>\n<p>The originally injected EntityManager, when inspected, belongs to the class org.jboss.as.jpa.container.TransactionScopedEntityManager.\nHowever, when I create an EntityManager using the injected EntityManagerFactory, I receive an org.hibernate.internal.SessionImpl instead.</p>\n<p>The point is that, though many things work fine, the behaviour in the application is somewhat different. It's a very big application with a lot of transactions, and sometimes data is not correct, etc.</p>\n<p>Is there any way to create or ask the server for a TransactionScopedEntityManager? I've searched through Wildfly source code, but I can't find it.</p>\n<p>Also, any other approach to achieve this goal would be appreciated.</p>\n<p>Thanks and kind regards.</p>\n"},{"tags":["java","spring-boot","smtp","jakarta-mail"],"owner":{"account_id":25739326,"reputation":17,"user_id":19493559,"display_name":"sushil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671009920,"creation_date":1671009920,"question_id":74796040,"body_markdown":"i am trying to use javamail api to send send mail using host as smtp.\r\n\r\ndependencies :\r\n\r\n&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n\r\n&lt;/dependency&gt;\r\n\r\n\r\n  &lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4&lt;/version&gt;\r\n\r\n  &lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;smtp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.5&lt;/version&gt;\r\n\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\r\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n\r\n&lt;/dependency&gt;\r\n\r\n\r\nError i am getting is :\r\n\r\n    java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader &#39;app&#39;)\r\n\tat javax.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:140) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.CommandMap.getDefaultCommandMap(CommandMap.java:61) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.DataHandler.getCommandMap(DataHandler.java:153) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.DataHandler.getDataContentHandler(DataHandler.java:611) ~[activation-1.1.jar:1.1]\r\n\tat javax.activation.DataHandler.writeTo(DataHandler.java:315) ~[activation-1.1.jar:1.1]\r\n\tat javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:340) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1575) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2271) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2231) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat javax.mail.Transport.send(Transport.java:123) ~[javax.mail-1.6.2.jar:1.6.2]\r\n\tat example.controller.AuthController.otpInput(AuthController.java:127) ~[classes/:na] \r\n","title":"failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap","body":"<p>i am trying to use javamail api to send send mail using host as smtp.</p>\n<p>dependencies :</p>\n\n<pre><code>&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n&lt;version&gt;1.6.2&lt;/version&gt;\n</code></pre>\n\n  \n<pre><code>&lt;groupId&gt;javax.mail&lt;/groupId&gt;\n&lt;artifactId&gt;mail&lt;/artifactId&gt;\n&lt;version&gt;1.4&lt;/version&gt;\n</code></pre>\n  \n\n<pre><code>&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n&lt;artifactId&gt;smtp&lt;/artifactId&gt;\n&lt;version&gt;1.4.5&lt;/version&gt;\n</code></pre>\n\n\n<pre><code>&lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n&lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n&lt;version&gt;2.0.0&lt;/version&gt;\n</code></pre>\n\n<p>Error i am getting is :</p>\n<pre><code>java.lang.IllegalAccessError: failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader 'app')\nat javax.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:140) ~[activation-1.1.jar:1.1]\nat javax.activation.CommandMap.getDefaultCommandMap(CommandMap.java:61) ~[activation-1.1.jar:1.1]\nat javax.activation.DataHandler.getCommandMap(DataHandler.java:153) ~[activation-1.1.jar:1.1]\nat javax.activation.DataHandler.getDataContentHandler(DataHandler.java:611) ~[activation-1.1.jar:1.1]\nat javax.activation.DataHandler.writeTo(DataHandler.java:315) ~[activation-1.1.jar:1.1]\nat javax.mail.internet.MimeUtility.getEncoding(MimeUtility.java:340) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.internet.MimeBodyPart.updateHeaders(MimeBodyPart.java:1575) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.internet.MimeMessage.updateHeaders(MimeMessage.java:2271) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.internet.MimeMessage.saveChanges(MimeMessage.java:2231) ~[javax.mail-1.6.2.jar:1.6.2]\nat javax.mail.Transport.send(Transport.java:123) ~[javax.mail-1.6.2.jar:1.6.2]\nat example.controller.AuthController.otpInput(AuthController.java:127) ~[classes/:na] \n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1670955114,"post_id":74789166,"comment_id":131991124,"body_markdown":"You can use the [regex](https://regex101.com/r/jiov1m/1), `\\[MSG:(.*?)\\]` and extract the value of group(1). [Java demo](https://ideone.com/n7OJ0O). I suggest you learn some basics of regex.","body":"You can use the <a href=\"https://regex101.com/r/jiov1m/1\" rel=\"nofollow noreferrer\">regex</a>, <code>\\[MSG:(.*?)\\]</code> and extract the value of group(1). <a href=\"https://ideone.com/n7OJ0O\" rel=\"nofollow noreferrer\">Java demo</a>. I suggest you learn some basics of regex."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1670955482,"post_id":74789166,"comment_id":131991246,"body_markdown":"Not my downvote. I suggest you [start here](https://stackoverflow.com/questions/4736/learning-regular-expressions). It&#39;s fun to learn the basics of regex.","body":"Not my downvote. I suggest you <a href=\"https://stackoverflow.com/questions/4736/learning-regular-expressions\">start here</a>. It&#39;s fun to learn the basics of regex."},{"owner":{"account_id":8293068,"reputation":739,"user_id":6234057,"display_name":"Nagaraja JB"},"score":0,"creation_date":1670991929,"post_id":74789166,"comment_id":131998654,"body_markdown":"Thank you  @ArvindKumarAvinash . This is what i was looking for. I will learn basics. Many thanks. I am unable to accept it as answer.","body":"Thank you  @ArvindKumarAvinash . This is what i was looking for. I will learn basics. Many thanks. I am unable to accept it as answer."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671009886,"post_id":74789166,"comment_id":132002453,"body_markdown":"You are most welcome,  Nagaraja. I have converted my comment into an answer now.","body":"You are most welcome,  Nagaraja. I have converted my comment into an answer now."}],"answers":[{"comments":[{"owner":{"account_id":8293068,"reputation":739,"user_id":6234057,"display_name":"Nagaraja JB"},"score":0,"creation_date":1670991662,"post_id":74789286,"comment_id":131998612,"body_markdown":"I have done this already using indexOf. There are more similar patterns i need to consider. So thought of using regex. many thanks for your suggestion.","body":"I have done this already using indexOf. There are more similar patterns i need to consider. So thought of using regex. many thanks for your suggestion."}],"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670961632,"creation_date":1670955369,"answer_id":74789286,"question_id":74789166,"body_markdown":"Your requirement would be something like\r\n\r\n/\\\\[MSG:.+\\\\]/ in standard regex notation. But I would suggest to you that you could use String.indexOf to extract your information\r\n\r\n    String str = ...\r\n    int idx = str.indexOf(&quot;MSG:&quot;);\r\n    int idx2 = str.indexOf(&quot;]&quot;, idx);\r\n    val = str.substring(idx + &quot;MSG:&quot;.length(), idx2);\r\n\r\n","title":"Java - regular expression to check if begins and ends with certain characters","body":"<p>Your requirement would be something like</p>\n<p>/\\[MSG:.+\\]/ in standard regex notation. But I would suggest to you that you could use String.indexOf to extract your information</p>\n<pre><code>String str = ...\nint idx = str.indexOf(&quot;MSG:&quot;);\nint idx2 = str.indexOf(&quot;]&quot;, idx);\nval = str.substring(idx + &quot;MSG:&quot;.length(), idx2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671009839,"creation_date":1671009839,"answer_id":74796016,"question_id":74789166,"body_markdown":"You can use the [regex](https://regex101.com/r/jiov1m/1), `\\[MSG:(.*?)\\]` and extract the value of group(1). \r\n\r\n**Demo**:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n     \r\n    class Main {\r\n        public static void main(String args[]) {\r\n            String str = &quot;[ABCD:defg] [MSG:information] [MSG2:hello]&quot;;\r\n            Matcher matcher = Pattern.compile(&quot;\\\\[MSG:(.*?)\\\\]&quot;).matcher(str);\r\n            if (matcher.find())\r\n                System.out.println(matcher.group(1));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    information","title":"Java - regular expression to check if begins and ends with certain characters","body":"<p>You can use the <a href=\"https://regex101.com/r/jiov1m/1\" rel=\"nofollow noreferrer\">regex</a>, <code>\\[MSG:(.*?)\\]</code> and extract the value of group(1).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n \nclass Main {\n    public static void main(String args[]) {\n        String str = &quot;[ABCD:defg] [MSG:information] [MSG2:hello]&quot;;\n        Matcher matcher = Pattern.compile(&quot;\\\\[MSG:(.*?)\\\\]&quot;).matcher(str);\n        if (matcher.find())\n            System.out.println(matcher.group(1));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>information\n</code></pre>\n"}],"owner":{"account_id":8293068,"reputation":739,"user_id":6234057,"display_name":"Nagaraja JB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":74796016,"answer_count":2,"score":-1,"last_activity_date":1671009839,"creation_date":1670954649,"question_id":74789166,"body_markdown":"Considering a string in following format,\r\n\r\n&gt; [ABCD:defg] [MSG:information] [MSG2:hello]\r\n\r\nHow to write regex to check if the line has &#39;[MSG:&#39; followed by some message &amp; &#39;]&#39; and extract text &#39;information&#39; from above string?","title":"Java - regular expression to check if begins and ends with certain characters","body":"<p>Considering a string in following format,</p>\n<blockquote>\n<p>[ABCD:defg] [MSG:information] [MSG2:hello]</p>\n</blockquote>\n<p>How to write regex to check if the line has '[MSG:' followed by some message &amp; ']' and extract text 'information' from above string?</p>\n"},{"tags":["java","intellij-idea","javafx","dll","jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1671009444,"post_id":74795035,"comment_id":132002290,"body_markdown":"Read the info at openjfx.io on [runtime images](https://openjfx.io/openjfx-docs/).","body":"Read the info at openjfx.io on <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">runtime images</a>."}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671009468,"creation_date":1671009114,"answer_id":74795887,"question_id":74795035,"body_markdown":"This is not true. If you, e.g., download JavaFX from Gluon and unpack the distribution file all the .dylibs, .dlls, etc. are contained in the lib/ folder. (Just verified with openjfx-20-ea+11_osx-x64_bin-sdk.zip)\r\n\r\nThe jars in the maven repository are structured a little bit differently. The have platform specific variant, e.g., javafx-graphics-20-ea+11-mac.jar which contain the binary libs at the top-level folder.\r\n\r\nGoing modular, as @jewelsea suggested above, is yet another option, depending on what you want to achieve.","title":"JavaFX SDK 19 contain no .dll Files to create JAR with external libraries","body":"<p>This is not true. If you, e.g., download JavaFX from Gluon and unpack the distribution file all the .dylibs, .dlls, etc. are contained in the lib/ folder. (Just verified with openjfx-20-ea+11_osx-x64_bin-sdk.zip)</p>\n<p>The jars in the maven repository are structured a little bit differently. The have platform specific variant, e.g., javafx-graphics-20-ea+11-mac.jar which contain the binary libs at the top-level folder.</p>\n<p>Going modular, as @jewelsea suggested above, is yet another option, depending on what you want to achieve.</p>\n"}],"owner":{"account_id":20398686,"reputation":11,"user_id":14964930,"display_name":"Jett Black"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671009468,"creation_date":1671004228,"question_id":74795035,"body_markdown":"in previous versions of JavaFX, you could build jar files from project by building artifacts using .dll files within the bin folder of JavaFX. However, in later versions of JavaFX, there are absolutely no bin files or .dll files. Does anyone know a work around this? ","title":"JavaFX SDK 19 contain no .dll Files to create JAR with external libraries","body":"<p>in previous versions of JavaFX, you could build jar files from project by building artifacts using .dll files within the bin folder of JavaFX. However, in later versions of JavaFX, there are absolutely no bin files or .dll files. Does anyone know a work around this?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":2968223,"reputation":81,"user_id":2520929,"display_name":"GauravS"},"score":12,"creation_date":1374698298,"post_id":12348170,"comment_id":26055564,"body_markdown":"If you are using eclipse you can right click on your server and select &quot;Clean Tomcat Work Directory&quot; also.","body":"If you are using eclipse you can right click on your server and select &quot;Clean Tomcat Work Directory&quot; also."}],"answers":[{"comments":[{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":0,"creation_date":1379964358,"post_id":13988564,"comment_id":28014275,"body_markdown":"I&#39;d been cleaning my working directory to no effect. After reading this I physically removed, cleaned, added back in and then cleaned again. That worked... thanks!","body":"I&#39;d been cleaning my working directory to no effect. After reading this I physically removed, cleaned, added back in and then cleaned again. That worked... thanks!"},{"owner":{"account_id":64940,"reputation":6311,"user_id":191438,"accept_rate":62,"display_name":"spiffytech"},"score":1,"creation_date":1383927155,"post_id":13988564,"comment_id":29544195,"body_markdown":"I had to delete the whole work/ directory to solve the problem.","body":"I had to delete the whole work/ directory to solve the problem."}],"tags":[],"owner":{"account_id":270781,"reputation":11897,"user_id":560934,"accept_rate":61,"display_name":"Nirmal- thInk beYond"},"comment_count":2,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1671009445,"creation_date":1356086527,"answer_id":13988564,"question_id":12348170,"body_markdown":"You can delete `${catalina.home}/work/Catalina/localhost/&lt;app&gt;/SESSION.ser` where app is your application.","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>You can delete <code>${catalina.home}/work/Catalina/localhost/&lt;app&gt;/SESSION.ser</code> where app is your application.</p>\n"},{"tags":[],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1368610583,"creation_date":1368610583,"answer_id":16561569,"question_id":12348170,"body_markdown":"You can delete ${CATALINA_HOME}/work/Catalina/localhost/test \r\n\r\nwhere test is your application folder (war name).\r\n\r\nThis solved my issue","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>You can delete ${CATALINA_HOME}/work/Catalina/localhost/test </p>\n\n<p>where test is your application folder (war name).</p>\n\n<p>This solved my issue</p>\n"},{"tags":[],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392618893,"creation_date":1392618893,"answer_id":21822312,"question_id":12348170,"body_markdown":"I am having a project in eclipse and using tomcat plugin to run it, I tried this but it didn&#39;t help, so I observed in my project directory structure there is one more work directory, I removed that directory and everything started working. Just wanted to share this one more possible answer for others like me.","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>I am having a project in eclipse and using tomcat plugin to run it, I tried this but it didn't help, so I observed in my project directory structure there is one more work directory, I removed that directory and everything started working. Just wanted to share this one more possible answer for others like me.</p>\n"},{"tags":[],"owner":{"account_id":1084957,"reputation":1067,"user_id":1080874,"display_name":"maoyang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412934315,"creation_date":1412934315,"answer_id":26296458,"question_id":12348170,"body_markdown":"I tried the methods above : &quot;delete work directory&quot; in the ${CATALINA_HOME}/work/Catalina/localhost, &quot;uncomment manager pathname&quot; in the ${CATALINA_HOME}/conf/context.xml. Not worked.\r\n\r\nAnd I found that in my eclipse projects, the server project had a file called &quot;context.xml&quot; too, it must be copied when the server project was created.  And I &quot;uncomment manager pathname&quot; there, it worked finally!\r\n\r\nHope it will help someone!","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>I tried the methods above : \"delete work directory\" in the ${CATALINA_HOME}/work/Catalina/localhost, \"uncomment manager pathname\" in the ${CATALINA_HOME}/conf/context.xml. Not worked.</p>\n\n<p>And I found that in my eclipse projects, the server project had a file called \"context.xml\" too, it must be copied when the server project was created.  And I \"uncomment manager pathname\" there, it worked finally!</p>\n\n<p>Hope it will help someone!</p>\n"},{"tags":[],"owner":{"account_id":5259160,"reputation":31,"user_id":4201135,"display_name":"user4201135"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414731137,"creation_date":1414731137,"answer_id":26667744,"question_id":12348170,"body_markdown":"Try deleting tomcat&#39;s Work folder, then restart tomcat. It worked for me!","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>Try deleting tomcat's Work folder, then restart tomcat. It worked for me!</p>\n"},{"tags":[],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469605708,"creation_date":1469605708,"answer_id":38606906,"question_id":12348170,"body_markdown":"As @GauravS said. I am using eclipse so when I right click on tomcat Server (in Servers window) and clean it it worked... \r\n\r\nSometimes I have to remove the war from tomcat, clean than run it again.\r\n\r\nSometimes I delete tomcat and right click on Servers window, New , Server and I use same ports I was using and delete the old server.\r\n\r\nPS: to open Servers window: \r\n\r\n    Window - Show View - Other - write &quot;Servers&quot; and choose it from the list - OK","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>As @GauravS said. I am using eclipse so when I right click on tomcat Server (in Servers window) and clean it it worked... </p>\n\n<p>Sometimes I have to remove the war from tomcat, clean than run it again.</p>\n\n<p>Sometimes I delete tomcat and right click on Servers window, New , Server and I use same ports I was using and delete the old server.</p>\n\n<p>PS: to open Servers window: </p>\n\n<pre><code>Window - Show View - Other - write \"Servers\" and choose it from the list - OK\n</code></pre>\n"}],"owner":{"account_id":1541835,"reputation":291,"user_id":1436285,"display_name":"user1436285"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42581,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":6,"score":29,"last_activity_date":1671009445,"creation_date":1347266975,"question_id":12348170,"body_markdown":"I have a web program using struts2, spring3 and hibernate 4 running in Tomcat. It can work, but Tomcat reports a `java.io.EOFException`.\r\n\r\nThe following is the tomcat log:\r\n\r\n    INFO: Deploying web application directory D:\\apache-tomcat-7.0.29\\webapps\\manager\r\n    九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager doLoad\r\n    SEVERE: IOException while loading persisted sessions: java.io.EOFException\r\n    java.io.EOFException\r\n        at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\r\n        at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\r\n        at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\r\n        at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\r\n        at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\r\n        at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\r\n        at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\r\n        at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\r\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\r\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n        at java.lang.Thread.run(Thread.java:722)\r\n\r\n    九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager startInternal\r\n    SEVERE: Exception loading sessions from persistent storage\r\n    java.io.EOFException\r\n        at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\r\n        at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\r\n        at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\r\n        at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\r\n        at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\r\n        at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\r\n        at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\r\n        at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\r\n        at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\r\n        at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n        at java.lang.Thread.run(Thread.java:722)\r\n\r\n","title":"What is wrong with my config? SEVERE: IOException while loading persisted sessions: java.io.EOFException","body":"<p>I have a web program using struts2, spring3 and hibernate 4 running in Tomcat. It can work, but Tomcat reports a <code>java.io.EOFException</code>.</p>\n\n<p>The following is the tomcat log:</p>\n\n<pre><code>INFO: Deploying web application directory D:\\apache-tomcat-7.0.29\\webapps\\manager\n九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager doLoad\nSEVERE: IOException while loading persisted sessions: java.io.EOFException\njava.io.EOFException\n    at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\n    at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\n    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\n    at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\n    at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\n    at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\n    at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\n    at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\n    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\n    at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:722)\n\n九月 10, 2012 4:27:02 下午 org.apache.catalina.session.StandardManager startInternal\nSEVERE: Exception loading sessions from persistent storage\njava.io.EOFException\n    at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:2298)\n    at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:2767)\n    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:798)\n    at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:298)\n    at org.apache.catalina.util.CustomObjectInputStream.&lt;init&gt;(CustomObjectInputStream.java:58)\n    at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:246)\n    at org.apache.catalina.session.StandardManager.load(StandardManager.java:204)\n    at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:491)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5294)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618)\n    at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100)\n    at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:722)\n</code></pre>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"score":0,"creation_date":1557996663,"post_id":56164029,"comment_id":98956176,"body_markdown":"How do you index those fields, do you index them as terms or you index them as a text?","body":"How do you index those fields, do you index them as terms or you index them as a text?"},{"owner":{"account_id":15941864,"reputation":31,"user_id":11503490,"display_name":"fred_novak"},"score":0,"creation_date":1557997700,"post_id":56164029,"comment_id":98956755,"body_markdown":"Hi, Borislav, I save them with ElasticsearchRepository, and through mapping I saw they are index as text.","body":"Hi, Borislav, I save them with ElasticsearchRepository, and through mapping I saw they are index as text."},{"owner":{"account_id":7184178,"reputation":1055,"user_id":8162407,"display_name":"a.k"},"score":0,"creation_date":1560939064,"post_id":56164029,"comment_id":99898535,"body_markdown":"Can you add your mapping? full mapping of all fields","body":"Can you add your mapping? full mapping of all fields"}],"answers":[{"tags":[],"owner":{"account_id":3065469,"reputation":1555,"user_id":2597267,"display_name":"Borislav Markov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557998380,"creation_date":1557998380,"answer_id":56165079,"question_id":56164029,"body_markdown":"I think you need to index your properties as Terms, because you use them as some codes(nomenclatures). You can keep the existing indexing as text if you need it in future. So I found this tutorial which looks easy to implement for your case.\r\n\r\n&gt; https://www.baeldung.com/spring-data-elasticsearch-queries\r\n\r\nSo if you add @InnerField on your fields and use query 2. but use `verbatim` suffix on fields it should work with query number 2 from your list. Your fields will be like `code.verbatim`, etc...\r\n\r\nAlso you can think of moving to `NativeSearchQueryBuilder`.","title":"how to use &quot;or&quot; operator with CriteriaQuery in spring-data-elasticsearch","body":"<p>I think you need to index your properties as Terms, because you use them as some codes(nomenclatures). You can keep the existing indexing as text if you need it in future. So I found this tutorial which looks easy to implement for your case.</p>\n\n<blockquote>\n  <p><a href=\"https://www.baeldung.com/spring-data-elasticsearch-queries\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-elasticsearch-queries</a></p>\n</blockquote>\n\n<p>So if you add @InnerField on your fields and use query 2. but use <code>verbatim</code> suffix on fields it should work with query number 2 from your list. Your fields will be like <code>code.verbatim</code>, etc...</p>\n\n<p>Also you can think of moving to <code>NativeSearchQueryBuilder</code>.</p>\n"}],"owner":{"account_id":15941864,"reputation":31,"user_id":11503490,"display_name":"fred_novak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1671009346,"creation_date":1557994967,"question_id":56164029,"body_markdown":"Recently, I am trying use `spring-data-elasticsearch` in my project and met lots of problems. I asked a question about `not` operation yesterday but I solved by myself. And now I met another problem when trying to use `or` operator.\r\n\r\nHere is what I want:\r\n\r\nI want to query an object with a `code` that is not &quot;11&quot; and its `symbol` is &quot;22&quot; or its `subSymbol` is &quot;33&quot;. I have tried many times in many ways and failed.It seems that I have no way to make it work with `CriteriaQuery`. I don&#39;t know if I described my question clearly. And in SQL, it should be written like this,\r\n```\r\nselect from x where x.code!=&#39;11&#39; and (x.symbol=&#39;22&#39; or x.subSymbol=&#39;33&#39;)\r\n```\r\nBut with `CriteriaQuery`, I always get the results if `symbol/subSymbol` value is matched and `code` condition seems missing, its SQL works like below:\r\n```\r\nselect from x where x.code!=&#39;11&#39; or x.symbol=&#39;22&#39; or x.subSymbol=&#39;33&#39;\r\n```\r\n\r\nHere is what I tried:\r\n\r\n\r\n```\r\n1.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not()\r\n    \t\t\t.or(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\r\n2.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not()\r\n    \t\t\t.or(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).and(&quot;subSymbol&quot;).is(&quot;33&quot;)));\r\n\r\n3.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not()\r\n    \t\t\t.and(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;)));\r\n\r\n4.\r\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\r\n    \t\t\t.and(&quot;code&quot;).is(&quot;11&quot;).not())\r\n    \t\t\t.addCriteria(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\r\n\r\n\r\nList&lt;xx&gt; sampleEntities =\r\n    \t\t    elasticsearchTemplate.queryForList(criteriaQuery,xx.class);\r\n```\r\n\r\nAll of the above failed.\r\n\r\nSo any solution to deal with my problem? Or I need to try `NativeSearchQueryBuilder` maybe? It is so frustrating.","title":"how to use &quot;or&quot; operator with CriteriaQuery in spring-data-elasticsearch","body":"<p>Recently, I am trying use <code>spring-data-elasticsearch</code> in my project and met lots of problems. I asked a question about <code>not</code> operation yesterday but I solved by myself. And now I met another problem when trying to use <code>or</code> operator.</p>\n<p>Here is what I want:</p>\n<p>I want to query an object with a <code>code</code> that is not &quot;11&quot; and its <code>symbol</code> is &quot;22&quot; or its <code>subSymbol</code> is &quot;33&quot;. I have tried many times in many ways and failed.It seems that I have no way to make it work with <code>CriteriaQuery</code>. I don't know if I described my question clearly. And in SQL, it should be written like this,</p>\n<pre><code>select from x where x.code!='11' and (x.symbol='22' or x.subSymbol='33')\n</code></pre>\n<p>But with <code>CriteriaQuery</code>, I always get the results if <code>symbol/subSymbol</code> value is matched and <code>code</code> condition seems missing, its SQL works like below:</p>\n<pre><code>select from x where x.code!='11' or x.symbol='22' or x.subSymbol='33'\n</code></pre>\n<p>Here is what I tried:</p>\n<pre><code>1.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not()\n                .or(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\n2.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not()\n                .or(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).and(&quot;subSymbol&quot;).is(&quot;33&quot;)));\n\n3.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not()\n                .and(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;)));\n\n4.\nCriteriaQuery criteriaQuery = new CriteriaQuery(new Criteria()\n                .and(&quot;code&quot;).is(&quot;11&quot;).not())\n                .addCriteria(new Criteria(&quot;symbol&quot;).is(&quot;22&quot;).or(&quot;subSymbol&quot;).is(&quot;33&quot;));\n\n\nList&lt;xx&gt; sampleEntities =\n                elasticsearchTemplate.queryForList(criteriaQuery,xx.class);\n</code></pre>\n<p>All of the above failed.</p>\n<p>So any solution to deal with my problem? Or I need to try <code>NativeSearchQueryBuilder</code> maybe? It is so frustrating.</p>\n"},{"tags":["java","jackson","json-deserialization","jackson-databind","objectmapper"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1671008684,"post_id":74795557,"comment_id":132002046,"body_markdown":"I feel like you posted too much and also too little code: Are all of these classes with all of the fields really necessary to demonstrate the problem, or could the set of classes/fields be further reduced? Additionally you also didn&#39;t post the code that demonstrates the actual problem (some serialization/deserialization code with an assert, for example). And last but not least: you seem to have inconsistently renamed your classes: There&#39;s references to `A.class` and `B.class` as well as `classZ` and a class apparently just named `class` (which isn&#39;t allowed in Java). Please provide a [mre].","body":"I feel like you posted too much and also too little code: Are all of these classes with all of the fields really necessary to demonstrate the problem, or could the set of classes/fields be further reduced? Additionally you also didn&#39;t post the code that demonstrates the actual problem (some serialization/deserialization code with an assert, for example). And last but not least: you seem to have inconsistently renamed your classes: There&#39;s references to <code>A.class</code> and <code>B.class</code> as well as <code>classZ</code> and a class apparently just named <code>class</code> (which isn&#39;t allowed in Java). Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1671027318,"post_id":74795557,"comment_id":132008564,"body_markdown":"See `java.io.Serializable` interface.","body":"See <code>java.io.Serializable</code> interface."}],"owner":{"account_id":26449544,"reputation":1,"user_id":20092937,"display_name":"sg23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671009053,"creation_date":1671007349,"question_id":74795557,"body_markdown":"```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;@type&quot;)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = A.class, name = &quot;a&quot;), \r\n  @JsonSubTypes.Type(value = B.class, name = &quot;b&quot;) )\r\npublic interface classX&lt;T extends P, I extends Q&gt; {\r\n\r\n  /** @return */ String getProp();\r\n\r\n  JavaObjectClass getJavaObjectClass();\r\n}\r\n```\r\n\r\n```\r\n@Getter \r\n@EqualsAndHashCode \r\n@ToString \r\n@NoArgsConstructor \r\npublic abstract class classY&lt;T extends P, I extends Q&gt; implements class&lt;Event, Identifier&gt; {\r\n\r\nprivate T obj1;\r\n\r\nprivate String obj2;\r\n\r\nprivate I obj3;\r\n\r\nprivate JavaObjectClass obj4;\r\n\r\nprotected classY( T obj1, String obj2, I obj3, JavaObjectClass obj4) \r\n{\r\n  this.obj1 = obj1; \r\n  this.obj2 = obj2;\r\n  this.obj3 = obj3;\r\n  this.obj4 = obj4; \r\n}\r\n\r\n@Override\r\npublic final String getProp() \r\n    { return obj1.getSubProp(); }\r\n\r\n@Override \r\npublic JavaObjectClass getJavaObjectClass() \r\n    { return obj4; }\r\n\r\n}\r\n```\r\n\r\n```\r\n@ToString \r\n@Getter \r\n@NoArgsConstructor \r\n@AllArgsConstructor \r\npublic class JavaObjectClass {\r\n\r\nprivate String L; \r\nprivate String M; \r\npublic Instant N; \r\npublic Date O;\r\n\r\npublic JavaObjectClass(AnotherClass input) { \r\nthis.N= input.getN(); \r\nthis.M = input.getM(); \r\nthis.L = input.getL(); \r\nthis.O = Date.from(N); \r\n  \r\n }\r\n}\r\n```\r\n\r\n```\r\n@Getter \r\n@EqualsAndHashCode(callSuper = true) \r\n@ToString(callSuper = true) \r\n@NoArgsConstructor \r\npublic class A extends classZ&lt;EnumClass&gt; {\r\n\r\nprivate K k;\r\n\r\n@Builder //... }\r\n\r\n```\r\n\r\nI have these following code. When deserializing using object mapper, I get the values of `JavaObjectClass=null` but for `K` I am able to get all the values. I can&#39;t figure out why this is happening. For string dataTypes i am able to get the value but when its a java object, then its coming as null.  Basically what i can understand is that it is not able to recognize the object itself.\r\n\r\nIs there a way to unwrap the **JavaObjectClass?**","title":"Deserializer not unwrapping java objects","body":"<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;@type&quot;)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = A.class, name = &quot;a&quot;), \n  @JsonSubTypes.Type(value = B.class, name = &quot;b&quot;) )\npublic interface classX&lt;T extends P, I extends Q&gt; {\n\n  /** @return */ String getProp();\n\n  JavaObjectClass getJavaObjectClass();\n}\n</code></pre>\n<pre><code>@Getter \n@EqualsAndHashCode \n@ToString \n@NoArgsConstructor \npublic abstract class classY&lt;T extends P, I extends Q&gt; implements class&lt;Event, Identifier&gt; {\n\nprivate T obj1;\n\nprivate String obj2;\n\nprivate I obj3;\n\nprivate JavaObjectClass obj4;\n\nprotected classY( T obj1, String obj2, I obj3, JavaObjectClass obj4) \n{\n  this.obj1 = obj1; \n  this.obj2 = obj2;\n  this.obj3 = obj3;\n  this.obj4 = obj4; \n}\n\n@Override\npublic final String getProp() \n    { return obj1.getSubProp(); }\n\n@Override \npublic JavaObjectClass getJavaObjectClass() \n    { return obj4; }\n\n}\n</code></pre>\n<pre><code>@ToString \n@Getter \n@NoArgsConstructor \n@AllArgsConstructor \npublic class JavaObjectClass {\n\nprivate String L; \nprivate String M; \npublic Instant N; \npublic Date O;\n\npublic JavaObjectClass(AnotherClass input) { \nthis.N= input.getN(); \nthis.M = input.getM(); \nthis.L = input.getL(); \nthis.O = Date.from(N); \n  \n }\n}\n</code></pre>\n<pre><code>@Getter \n@EqualsAndHashCode(callSuper = true) \n@ToString(callSuper = true) \n@NoArgsConstructor \npublic class A extends classZ&lt;EnumClass&gt; {\n\nprivate K k;\n\n@Builder //... }\n\n</code></pre>\n<p>I have these following code. When deserializing using object mapper, I get the values of <code>JavaObjectClass=null</code> but for <code>K</code> I am able to get all the values. I can't figure out why this is happening. For string dataTypes i am able to get the value but when its a java object, then its coming as null.  Basically what i can understand is that it is not able to recognize the object itself.</p>\n<p>Is there a way to unwrap the <strong>JavaObjectClass?</strong></p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1671007426,"post_id":74795543,"comment_id":132001697,"body_markdown":"Instead of retrying 3 times, why not just wait 3 times as long ?","body":"Instead of retrying 3 times, why not just wait 3 times as long ?"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671008952,"creation_date":1671008952,"answer_id":74795854,"question_id":74795543,"body_markdown":"How about this:\r\n \r\n    for(int i = 1; i &lt;= retryCount; i++) {\r\n        try { \r\n            WebElement element = new WebDriverWait(driver, 30).until(ExpectedConditions.visibilityOfElementLocated(by));\r\n            if (element.isDisplayed()) {\r\n                return element\r\n            }\r\n        }\r\n        catch(TimeOutException e) {\r\n            // ignore\r\n        }\r\n    }\r\n    throw new ValueError(String.format(&quot;Element %s not found after %s retries&quot;, by, retryCount));\r\n","title":"If the element is not available on a web page how to retry upto 3 times before failing in selenium","body":"<p>How about this:</p>\n<pre><code>for(int i = 1; i &lt;= retryCount; i++) {\n    try { \n        WebElement element = new WebDriverWait(driver, 30).until(ExpectedConditions.visibilityOfElementLocated(by));\n        if (element.isDisplayed()) {\n            return element\n        }\n    }\n    catch(TimeOutException e) {\n        // ignore\n    }\n}\nthrow new ValueError(String.format(&quot;Element %s not found after %s retries&quot;, by, retryCount));\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671008952,"creation_date":1671007281,"question_id":74795543,"body_markdown":"I am implementing a wrapper method for a retry mechanism for finding WebElements on a web page, my requirement is **If the element is not available , retry upto 3 times before failing** how do i implement this method, below is my code is it correct ?\r\n\r\n```\r\npublic static WebElement findElementWithRetry(WebDriver driver, By by, int retryCount){\r\n\t\t\tWebElement element = null;\r\n\t\t\ttry {\r\n\t\t\t\twait = new WebDriverWait(driver, 30);\r\n\t\t\t\telement = wait.until(ExpectedConditions.visibilityOfElementLocated(by));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t//TODO: handle exception\r\n\t\t\t\tfor(int i=0; i&lt;retryCount; i++){\r\n\t\t\t\t\telement = driver.findElement(by);\r\n\t\t\t\t\tif(element.isDisplayed())\r\n\t\t\t\t\t\treturn element;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn element;\r\n\t\t}\r\n```","title":"If the element is not available on a web page how to retry upto 3 times before failing in selenium","body":"<p>I am implementing a wrapper method for a retry mechanism for finding WebElements on a web page, my requirement is <strong>If the element is not available , retry upto 3 times before failing</strong> how do i implement this method, below is my code is it correct ?</p>\n<pre><code>public static WebElement findElementWithRetry(WebDriver driver, By by, int retryCount){\n            WebElement element = null;\n            try {\n                wait = new WebDriverWait(driver, 30);\n                element = wait.until(ExpectedConditions.visibilityOfElementLocated(by));\n            } catch (Exception e) {\n                //TODO: handle exception\n                for(int i=0; i&lt;retryCount; i++){\n                    element = driver.findElement(by);\n                    if(element.isDisplayed())\n                        return element;\n                }\n            }\n            return element;\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","eclipse","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670858507,"post_id":74772599,"comment_id":131964486,"body_markdown":"The system library of Java 17 contains the module `java.base` which contains the package `jdk.internal.jimage.decompressor`. The system library of Java 17 does not contain the module `jrt.fs`, so it comes from your code or more likely from a dependency. Two modules must not contain the same package, and of course the system library follows this rule.","body":"The system library of Java 17 contains the module <code>java.base</code> which contains the package <code>jdk.internal.jimage.decompressor</code>. The system library of Java 17 does not contain the module <code>jrt.fs</code>, so it comes from your code or more likely from a dependency. Two modules must not contain the same package, and of course the system library follows this rule."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1670860303,"post_id":74772599,"comment_id":131965218,"body_markdown":"Which version of **Spring Boot** are you using? Is it compatible with Java 17?","body":"Which version of <b>Spring Boot</b> are you using? Is it compatible with Java 17?"},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1670921673,"post_id":74772599,"comment_id":131979009,"body_markdown":"@nitind I use **Spring boot 3.0.0** , from  [the documentaion](https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements) this version of spring boot is **compatible** with **Java 17**. I use **Spring Tools 4** (4.17.0), can this affect the project?","body":"@nitind I use <b>Spring boot 3.0.0</b> , from  <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements\" rel=\"nofollow noreferrer\">the documentaion</a> this version of spring boot is <b>compatible</b> with <b>Java 17</b>. I use <b>Spring Tools 4</b> (4.17.0), can this affect the project?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670922014,"post_id":74772599,"comment_id":131979129,"body_markdown":"The answer you have linked doesn’t say anything about javafx. As it says, you have to remove the `jrt-fs.jar` from the module path, regardless of how it got there.","body":"The answer you have linked doesn’t say anything about javafx. As it says, you have to remove the <code>jrt-fs.jar</code> from the module path, regardless of how it got there."},{"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"score":0,"creation_date":1670922214,"post_id":74772599,"comment_id":131979207,"body_markdown":"@howlger from the exception, I understand the opposite of what you have said. We have two emplacement of the package `jdk.internal.jimage.decompressor`, the first one is on `java.base` and the other one is on `jrt.fs`. This is the same thing that confirm [this answer](https://stackoverflow.com/a/43014416/20757134)","body":"@howlger from the exception, I understand the opposite of what you have said. We have two emplacement of the package <code>jdk.internal.jimage.decompressor</code>, the first one is on <code>java.base</code> and the other one is on <code>jrt.fs</code>. This is the same thing that confirm <a href=\"https://stackoverflow.com/a/43014416/20757134\">this answer</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670924336,"post_id":74772599,"comment_id":131979994,"body_markdown":"The mentioned answer does not apply to an unmodified Java 17 JDK. Please go to your run configuration and click the _Show command line_ button and add the command line to your question. The command line tells which Java installation is used. Maybe you are looking at the wrong one. Please also show your `pom.xml`. If possible, provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"The mentioned answer does not apply to an unmodified Java 17 JDK. Please go to your run configuration and click the <i>Show command line</i> button and add the command line to your question. The command line tells which Java installation is used. Maybe you are looking at the wrong one. Please also show your <code>pom.xml</code>. If possible, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671008779,"creation_date":1671008779,"answer_id":74795819,"question_id":74772599,"body_markdown":"@Holger and @nitind, Thank you for your help. In fact, i was using bad way to run my app. I was using : `Run As` then `Run Configuration` then `Spring Boot` then `new configuration`. Now I go to the **Main class** and I `Run As` `Java Application`.","title":"Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base","body":"<p>@Holger and @nitind, Thank you for your help. In fact, i was using bad way to run my app. I was using : <code>Run As</code> then <code>Run Configuration</code> then <code>Spring Boot</code> then <code>new configuration</code>. Now I go to the <strong>Main class</strong> and I <code>Run As</code> <code>Java Application</code>.</p>\n"}],"owner":{"account_id":27229121,"reputation":451,"user_id":20757134,"display_name":"ayada"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74795819,"answer_count":1,"score":1,"last_activity_date":1671008779,"creation_date":1670855268,"question_id":74772599,"body_markdown":"I have just start a **SPRING BOOT** project using :\r\n - **Jdk-17.0.5**\r\n - **Maven**\r\n\r\nWhen I run the project I get the exception below : **Error occurred during initialization of boot layer\r\njava.lang.LayerInstantiationException: Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base**\r\n\r\n\r\n\r\nI have read [this answer ](https://stackoverflow.com/a/43014416/20757134) , but I did not find this folder **javafx** in **JAVA_HOME/lib/** as it was montioned in the solution.\r\n\r\n\r\nThis is what I have at lib folder :\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6rNBR.png","title":"Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base","body":"<p>I have just start a <strong>SPRING BOOT</strong> project using :</p>\n<ul>\n<li><strong>Jdk-17.0.5</strong></li>\n<li><strong>Maven</strong></li>\n</ul>\n<p>When I run the project I get the exception below : <strong>Error occurred during initialization of boot layer\njava.lang.LayerInstantiationException: Package jdk.internal.jimage.decompressor in both module jrt.fs and module java.base</strong></p>\n<p>I have read <a href=\"https://stackoverflow.com/a/43014416/20757134\">this answer </a> , but I did not find this folder <strong>javafx</strong> in <strong>JAVA_HOME/lib/</strong> as it was montioned in the solution.</p>\n<p>This is what I have at lib folder :</p>\n<p><a href=\"https://i.stack.imgur.com/6rNBR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","xml","kafka-consumer-api","objectmapper","jsonnode"],"answers":[{"comments":[{"owner":{"account_id":19859481,"reputation":1,"user_id":14548119,"display_name":"Kal"},"score":0,"creation_date":1670994197,"post_id":74792888,"comment_id":131998989,"body_markdown":"But this would create a JsonNode object. What I need is an **Element** or **Document** object.  Something like: \n\n`Element element = xmlMapper.readTree(myXML);`\n\nbut this would not work because the readTree function call returns a JsonNode, not an Element. How would I then convert this into an Element?\n\nIs there an XmlMapper function that takes in a xml string and returns an Element or Document? I could not find one in the (fasterxml) documentation.","body":"But this would create a JsonNode object. What I need is an <b>Element</b> or <b>Document</b> object.  Something like:   <code>Element element = xmlMapper.readTree(myXML);</code>  but this would not work because the readTree function call returns a JsonNode, not an Element. How would I then convert this into an Element?  Is there an XmlMapper function that takes in a xml string and returns an Element or Document? I could not find one in the (fasterxml) documentation."},{"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"score":0,"creation_date":1671008873,"post_id":74792888,"comment_id":132002092,"body_markdown":"Updated my answer to add a way to get &#39;Document&#39; from text/xml.","body":"Updated my answer to add a way to get &#39;Document&#39; from text/xml."}],"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671008774,"creation_date":1670983894,"answer_id":74792888,"question_id":74791989,"body_markdown":"You can use `XmlMapper` pretty much the same way you have been using `ObjectMapper. Here is a sample code that I tested with:\r\n    \r\n    public static void main(String[] args) {\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        \r\n        String myXML = &quot;&lt;cookies&gt;&quot; + \r\n                            &quot;&lt;cookie&gt;&lt;type&gt;Chocolate&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt; &quot; + \r\n                            &quot;&lt;cookie&gt;&lt;type&gt;Sugar&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt;&quot; + \r\n                       &quot;&lt;/cookies&gt;&quot;;  \r\n        try {\r\n            // Note that the readTree method returns a `JsonNode` result\r\n            JsonNode root = xmlMapper.readTree(myXML);\r\n            System.out.println(root);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis produces the below output:\r\n\r\n```\r\n{&quot;cookie&quot;:[{&quot;type&quot;:&quot;Chocolate&quot;,&quot;price&quot;:&quot;5.0&quot;},{&quot;type&quot;:&quot;Sugar&quot;,&quot;price&quot;:&quot;5.0&quot;}]}\r\n```\r\n\r\nEDIT: Adding the Maven co-ordinates for the dependency that I used, just in case \r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n   &lt;version&gt;2.14.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTo get a &#39;Document&#39; from the string you can do something like this:\r\n    \r\n    ...\r\n        StringReader strReader = new StringReader(myXML);\r\n        InputSource inSource = new InputSource(strReader);\r\n            \r\n        // Get a DocumentBuilder instance\r\n        DocumentBuilder docBuilder = \r\n        DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n            \r\n        // Parse String to Document\r\n        Document doc = docBuilder.parse(inSource);\r\n            \r\n            \r\n        // Printing the &#39;document&#39; element name\r\n        System.out.println(doc.getDocumentElement().getTagName());\r\n\r\n    ...\r\n","title":"Mapping ConsumerRecord to Element - What are JsonFactory and ObjectMapper equivalent for XML?","body":"<p>You can use <code>XmlMapper</code> pretty much the same way you have been using `ObjectMapper. Here is a sample code that I tested with:</p>\n<pre><code>public static void main(String[] args) {\n    XmlMapper xmlMapper = new XmlMapper();\n    \n    String myXML = &quot;&lt;cookies&gt;&quot; + \n                        &quot;&lt;cookie&gt;&lt;type&gt;Chocolate&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt; &quot; + \n                        &quot;&lt;cookie&gt;&lt;type&gt;Sugar&lt;/type&gt;&lt;price&gt;5.0&lt;/price&gt;&lt;/cookie&gt;&quot; + \n                   &quot;&lt;/cookies&gt;&quot;;  \n    try {\n        // Note that the readTree method returns a `JsonNode` result\n        JsonNode root = xmlMapper.readTree(myXML);\n        System.out.println(root);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This produces the below output:</p>\n<pre><code>{&quot;cookie&quot;:[{&quot;type&quot;:&quot;Chocolate&quot;,&quot;price&quot;:&quot;5.0&quot;},{&quot;type&quot;:&quot;Sugar&quot;,&quot;price&quot;:&quot;5.0&quot;}]}\n</code></pre>\n<p>EDIT: Adding the Maven co-ordinates for the dependency that I used, just in case</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n   &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To get a 'Document' from the string you can do something like this:</p>\n<pre><code>...\n    StringReader strReader = new StringReader(myXML);\n    InputSource inSource = new InputSource(strReader);\n        \n    // Get a DocumentBuilder instance\n    DocumentBuilder docBuilder = \n    DocumentBuilderFactory.newInstance().newDocumentBuilder();\n        \n    // Parse String to Document\n    Document doc = docBuilder.parse(inSource);\n        \n        \n    // Printing the 'document' element name\n    System.out.println(doc.getDocumentElement().getTagName());\n\n...\n</code></pre>\n"}],"owner":{"account_id":19859481,"reputation":1,"user_id":14548119,"display_name":"Kal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671008774,"creation_date":1670973950,"question_id":74791989,"body_markdown":"I have a function that takes in kafka **ConsumerRecords&lt;Object, Object&gt; records** and what I need to do is make an Element object out of each record.\r\n\r\nBelow is how it works for the Json implementation where I create a JsonNode object for each record.\r\n\r\n```\r\nfor (ConsumerRecord&lt;Object, Object&gt; record: records) {\r\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\r\n   String rawJson = kafkaMsgVal.getMsgValue();\r\n   JsonNode jsonNode = null;\r\n   \r\n   try {\r\n     JsonFactory factory = new JsonFactory();\r\n     ObjectMapper mapper = new ObjectMapper(factory);\r\n     jsonNode = mapper.readTree(rawJson);\r\n   }\r\n}\r\n```\r\n\r\nI would like to do the same thing as above but for XML. So instead of JsonNode, I believe I have to use Element, or Document and then use the document.getRootElement(). What is the best way to do this? As you can see above, I was able to simply use JsonFactory and Object mapper to convert the record into a JsonNode, what would be the equivalent for XML?\r\n\r\n\r\n\r\nBelow is the idea for what I&#39;m going for:\r\n\r\n```\r\nfor (ConsumerRecord&lt;Object, Object&gt; record: records) {\r\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\r\n   String rawXml = kafkaMsgVal.getMsgValue();\r\n   Element element = null;\r\n   \r\n   try {\r\n     //What to do here to convert the rawXml into an Element or Document object? \r\n   }\r\n}\r\n```\r\n\r\n","title":"Mapping ConsumerRecord to Element - What are JsonFactory and ObjectMapper equivalent for XML?","body":"<p>I have a function that takes in kafka <strong>ConsumerRecords&lt;Object, Object&gt; records</strong> and what I need to do is make an Element object out of each record.</p>\n<p>Below is how it works for the Json implementation where I create a JsonNode object for each record.</p>\n<pre><code>for (ConsumerRecord&lt;Object, Object&gt; record: records) {\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\n   String rawJson = kafkaMsgVal.getMsgValue();\n   JsonNode jsonNode = null;\n   \n   try {\n     JsonFactory factory = new JsonFactory();\n     ObjectMapper mapper = new ObjectMapper(factory);\n     jsonNode = mapper.readTree(rawJson);\n   }\n}\n</code></pre>\n<p>I would like to do the same thing as above but for XML. So instead of JsonNode, I believe I have to use Element, or Document and then use the document.getRootElement(). What is the best way to do this? As you can see above, I was able to simply use JsonFactory and Object mapper to convert the record into a JsonNode, what would be the equivalent for XML?</p>\n<p>Below is the idea for what I'm going for:</p>\n<pre><code>for (ConsumerRecord&lt;Object, Object&gt; record: records) {\n   KafkaMessage kafkaMsgVal = (KafkaMessage) record.value();\n   String rawXml = kafkaMsgVal.getMsgValue();\n   Element element = null;\n   \n   try {\n     //What to do here to convert the rawXml into an Element or Document object? \n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1671008193,"post_id":74795649,"comment_id":132001909,"body_markdown":"You shouldn&#39;t use double for this if you want the precision all the way down to 28 digits. A double only has limited precision. The format itself is just a matter of printing (research  number formatting), but you may get something like 387492837492375000000000000000.","body":"You shouldn&#39;t use double for this if you want the precision all the way down to 28 digits. A double only has limited precision. The format itself is just a matter of printing (research  number formatting), but you may get something like 387492837492375000000000000000."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1671008422,"post_id":74795649,"comment_id":132001971,"body_markdown":"You should use BigDecimal instead, but then no operators but functions. Look into the javadoc and remember `toPlainString`. I assume you are aware that floating point is just an approximation, a sum of (negative) powers of 2.","body":"You should use BigDecimal instead, but then no operators but functions. Look into the javadoc and remember <code>toPlainString</code>. I assume you are aware that floating point is just an approximation, a sum of (negative) powers of 2."},{"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"score":0,"creation_date":1671096026,"post_id":74795649,"comment_id":132025419,"body_markdown":"@JoopEggen: I change to use BigDecimal, however in response return it still have E","body":"@JoopEggen: I change to use BigDecimal, however in response return it still have E"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1671098435,"post_id":74795649,"comment_id":132026264,"body_markdown":"`interest.toPlainString()` would not use the scientific notation with `E`.","body":"<code>interest.toPlainString()</code> would not use the scientific notation with <code>E</code>."},{"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"score":0,"creation_date":1671289945,"post_id":74795649,"comment_id":132069876,"body_markdown":"@JoopEggen but the type of data of &quot;interest&quot; I return in response DTO is Double and currently, I don&#39;t want to change the type to String so I think I can&#39;t use interest.toPlainString()","body":"@JoopEggen but the type of data of &quot;interest&quot; I return in response DTO is Double and currently, I don&#39;t want to change the type to String so I think I can&#39;t use interest.toPlainString()"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1671437607,"post_id":74795649,"comment_id":132091055,"body_markdown":"Then first check that 23874928374923749823749823749 can be held in a double, is not equal to the value 1 lower.  The double has a resolution of 1 at that magnitude. I doubt that a bit. **But** simply formatting to a non-E string can be done with ``%f&quot;.formatted(x)` But also `...5E28` already hints at an imprecision.","body":"Then first check that 23874928374923749823749823749 can be held in a double, is not equal to the value 1 lower.  The double has a resolution of 1 at that magnitude. I doubt that a bit. <b>But</b> simply formatting to a non-E string can be done with ``%f&quot;.formatted(x)` But also <code>...5E28</code> already hints at an imprecision."},{"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"score":1,"creation_date":1671597127,"post_id":74795649,"comment_id":132131007,"body_markdown":"@JoopEggen: thanks so much, I create class extends JsonSerializer to over function serialize, use &quot;interest.toPlainString()&quot; resolved my problem.","body":"@JoopEggen: thanks so much, I create class extends JsonSerializer to over function serialize, use &quot;interest.toPlainString()&quot; resolved my problem."}],"owner":{"account_id":6112668,"reputation":839,"user_id":4768616,"accept_rate":54,"display_name":"Hoang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671007944,"creation_date":1671007944,"question_id":74795649,"body_markdown":"My problem is value of variable &quot;**interest**&quot; is showned in format number scientist have E. for example: i want value when return is **23874928374923749823749823749** but actually is **387492837492375E28**\r\n\r\nHow do i resolve it?\r\nThanks so much!\r\n\r\nController:\r\n\r\n```\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/api/i/v1/calculate&quot;)\r\npublic class CalculateController {    \r\n@RequestMapping(value = &quot;/calculate&quot;, method = RequestMethod.GET, produces = { MediaType.APPLICATION_JSON })\r\n    public ResponseEntity&lt;List&lt;RespDto&gt;&gt; calculate() {\r\n        return ResponseEntity.ok(service.calculate());\r\n    }\r\n}\r\n```\r\n\r\nFile response dto: RespDto\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class RespDto implements Serializable {\r\n    private Double interest;\r\n}\r\n```","title":"How to format double to raw number, not format in number scientist","body":"<p>My problem is value of variable &quot;<strong>interest</strong>&quot; is showned in format number scientist have E. for example: i want value when return is <strong>23874928374923749823749823749</strong> but actually is <strong>387492837492375E28</strong></p>\n<p>How do i resolve it?\nThanks so much!</p>\n<p>Controller:</p>\n<pre><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/api/i/v1/calculate&quot;)\npublic class CalculateController {    \n@RequestMapping(value = &quot;/calculate&quot;, method = RequestMethod.GET, produces = { MediaType.APPLICATION_JSON })\n    public ResponseEntity&lt;List&lt;RespDto&gt;&gt; calculate() {\n        return ResponseEntity.ok(service.calculate());\n    }\n}\n</code></pre>\n<p>File response dto: RespDto</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class RespDto implements Serializable {\n    private Double interest;\n}\n</code></pre>\n"},{"tags":["java","dependency-injection","decorator","cdi","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1671007916,"creation_date":1671007916,"answer_id":74795640,"question_id":74795501,"body_markdown":"An interceptor can still be used:\r\n```java\r\n@AroundInvoke\r\nObject intercept(InvocationContext context) throws Exception {\r\n    Object result = context.proceed();\r\n    // do stuff; possibly update or replace result\r\n    return result;\r\n}\r\n```","title":"Is there an @After advice Spring equivalent in Quarkus?","body":"<p>An interceptor can still be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AroundInvoke\nObject intercept(InvocationContext context) throws Exception {\n    Object result = context.proceed();\n    // do stuff; possibly update or replace result\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":1174380,"reputation":1876,"user_id":1150744,"accept_rate":67,"display_name":"Chexpir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74795640,"answer_count":1,"score":0,"last_activity_date":1671007916,"creation_date":1671006969,"question_id":74795501,"body_markdown":"In a **Quarkus application**, I want to fire events with the results of a method, and we think the equivalent of an @After advice in Spring, which:\r\n\r\n&gt; &quot;runs after the target method is finished, including when the target\r\n&gt; method results in exception. This advice is similar to the finally\r\n&gt; block in Java that it always executes irrespective of the outcome.&quot;\r\n\r\nBut I cannot find the equivalent on Quarkus, I can only use Interceptors/Decorators, which intercepts/modifies the payload on method entry.\r\n\r\nIs there anything equivalent, or how would you suggest to do it?\r\n","title":"Is there an @After advice Spring equivalent in Quarkus?","body":"<p>In a <strong>Quarkus application</strong>, I want to fire events with the results of a method, and we think the equivalent of an @After advice in Spring, which:</p>\n<blockquote>\n<p>&quot;runs after the target method is finished, including when the target\nmethod results in exception. This advice is similar to the finally\nblock in Java that it always executes irrespective of the outcome.&quot;</p>\n</blockquote>\n<p>But I cannot find the equivalent on Quarkus, I can only use Interceptors/Decorators, which intercepts/modifies the payload on method entry.</p>\n<p>Is there anything equivalent, or how would you suggest to do it?</p>\n"},{"tags":["java","android","rx-java","rx-android"],"answers":[{"comments":[{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1671098724,"post_id":74795568,"comment_id":132026359,"body_markdown":"Thank you for taking the time to explain it. In the meantime I was able to figure it out myself, but still, your answer is the correct answer to the question.","body":"Thank you for taking the time to explain it. In the meantime I was able to figure it out myself, but still, your answer is the correct answer to the question."}],"tags":[],"owner":{"account_id":5035925,"reputation":444,"user_id":4044704,"display_name":"zz-m"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671007382,"creation_date":1671007382,"answer_id":74795568,"question_id":74401049,"body_markdown":"You are misusing Rx-java.\r\n\r\nCorrect way:\r\n\r\n**WordRepository**\r\n\r\n    public Single&lt;Boolean&gt; isWordRedundant(String word) {\r\n        return mWordDao.wordExists(word)\r\n                .subscribeOn(Schedulers.io()) //computation() is for CPU intensive operation. Not for DB read/write. This is a tiny error.\r\n                .map(i -&gt; i == 1 ? true : false)\r\n    }\r\n\r\n**WordViewModel**\r\n\r\n    public Single&lt;Boolean&gt; isWordRedundant(String word) {\r\n        return mRepository.isWordRedundant(word);\r\n    }\r\n\r\n**NewWordActivity**\r\n\r\n        button.setOnClickListener(view -&gt; {\r\n            Intent replyIntent = new Intent();\r\n\r\n            if (TextUtils.isEmpty(mEditWordView.getText())) {\r\n                System.out.println(&quot;Word empty&quot;);\r\n                setResult(RESULT_CANCELED, replyIntent);\r\n                finish();\r\n            } else {\r\n                //Your CompositDisposable in activity\r\n                compositDisposable.add(\r\n                    mWordViewModel.isWordRedundant(mEditWordView.getText().toString())\r\n                        .observeOn(AndroidSchedulers.mainThread())\r\n                        .subscribe(isRedundant -&gt; {\r\n                            if (isRedundant) {\r\n                                System.out.println(&quot;Word redundant&quot;);\r\n                                setResult(RESULT_CANCELED, replyIntent);\r\n                            } else {\r\n                                String word = mEditWordView.getText().toString();\r\n                                System.out.println(&quot;Word acceptable&quot;);\r\n                                replyIntent.putExtra(EXTRA_REPLY, word);\r\n                                setResult(RESULT_OK, replyIntent);\r\n                            }\r\n                            finish();\r\n                        }, error -&gt; {/* handle error here. Maybe a Toast or something. */})\r\n                );\r\n            }\r\n        });\r\n\r\nSo why your before code is not working? Let&#39;s see the code in **WordRepository** before (note the comments):\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\nclass WordRepository {\r\n\r\n    private WordDao mWordDao;\r\n    private boolean mWordRedundant; //field variable. Not initiate. So is the default value: **false**.\r\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\r\n\r\n    public boolean isWordRedundant(String word) {\r\n        //Main thread enter here.\r\n        //Main thread step 1: Create an Observable i.e.(mWordDao.wordExists(word)). And subscribe on it.\r\n        mCompositeDisposable.add(\r\n            mWordDao.wordExists(word)\r\n                .subscribeOn(Schedulers.computation())\r\n                .subscribe(integer -&gt; mWordRedundant = integer == 1)); //We process it and observe the result in computation() thread. Then change the filed variable &quot;mWordRedundant&quot; value.\r\n        \r\n        //Main thread step 2: return the field variable **immediately**! Not wait for the result from computation() thread. That is why you can not get the right result.\r\n        return mWordRedundant;\r\n    }\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;","title":"Android - RxJava - Race condition","body":"<p>You are misusing Rx-java.</p>\n<p>Correct way:</p>\n<p><strong>WordRepository</strong></p>\n<pre><code>public Single&lt;Boolean&gt; isWordRedundant(String word) {\n    return mWordDao.wordExists(word)\n            .subscribeOn(Schedulers.io()) //computation() is for CPU intensive operation. Not for DB read/write. This is a tiny error.\n            .map(i -&gt; i == 1 ? true : false)\n}\n</code></pre>\n<p><strong>WordViewModel</strong></p>\n<pre><code>public Single&lt;Boolean&gt; isWordRedundant(String word) {\n    return mRepository.isWordRedundant(word);\n}\n</code></pre>\n<p><strong>NewWordActivity</strong></p>\n<pre><code>    button.setOnClickListener(view -&gt; {\n        Intent replyIntent = new Intent();\n\n        if (TextUtils.isEmpty(mEditWordView.getText())) {\n            System.out.println(&quot;Word empty&quot;);\n            setResult(RESULT_CANCELED, replyIntent);\n            finish();\n        } else {\n            //Your CompositDisposable in activity\n            compositDisposable.add(\n                mWordViewModel.isWordRedundant(mEditWordView.getText().toString())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe(isRedundant -&gt; {\n                        if (isRedundant) {\n                            System.out.println(&quot;Word redundant&quot;);\n                            setResult(RESULT_CANCELED, replyIntent);\n                        } else {\n                            String word = mEditWordView.getText().toString();\n                            System.out.println(&quot;Word acceptable&quot;);\n                            replyIntent.putExtra(EXTRA_REPLY, word);\n                            setResult(RESULT_OK, replyIntent);\n                        }\n                        finish();\n                    }, error -&gt; {/* handle error here. Maybe a Toast or something. */})\n            );\n        }\n    });\n</code></pre>\n<p>So why your before code is not working? Let's see the code in <strong>WordRepository</strong> before (note the comments):</p>\n<pre><code>\nclass WordRepository {\n\n    private WordDao mWordDao;\n    private boolean mWordRedundant; //field variable. Not initiate. So is the default value: **false**.\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\n\n    public boolean isWordRedundant(String word) {\n        //Main thread enter here.\n        //Main thread step 1: Create an Observable i.e.(mWordDao.wordExists(word)). And subscribe on it.\n        mCompositeDisposable.add(\n            mWordDao.wordExists(word)\n                .subscribeOn(Schedulers.computation())\n                .subscribe(integer -> mWordRedundant = integer == 1)); //We process it and observe the result in computation() thread. Then change the filed variable \"mWordRedundant\" value.\n        \n        //Main thread step 2: return the field variable **immediately**! Not wait for the result from computation() thread. That is why you can not get the right result.\n        return mWordRedundant;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74795568,"answer_count":1,"score":0,"last_activity_date":1671007382,"creation_date":1668162058,"question_id":74401049,"body_markdown":"I am new to the concept of multi-threading and also new to RxJava. I think I ran into a race condition in my Android project.\r\nTo be able to demonstrate it better, I downloaded the google codelabs example RoomWithAView and implemented the same race condition as in my own project.\r\n\r\n**WordDao**\r\n```\r\n@Dao\r\npublic interface WordDao {\r\n    @Insert()\r\n    void insert(Word word);\r\n\r\n    @Query(&quot;SELECT EXISTS(SELECT word FROM WORD_TABLE WHERE word = :word)&quot;)\r\n    Single&lt;Integer&gt; wordExists(String word);\r\n}\r\n```\r\n\r\n**WordRepository**\r\n```\r\nclass WordRepository {\r\n\r\n    private WordDao mWordDao;\r\n    private boolean mWordRedundant;\r\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\r\n\r\n    WordRepository(Application application) {\r\n        WordRoomDatabase db = WordRoomDatabase.getDatabase(application);\r\n        mWordDao = db.wordDao();\r\n    }\r\n\r\n    void insert(Word word) {\r\n        WordRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\r\n            mWordDao.insert(word);\r\n        });\r\n    }\r\n\r\n    public boolean isWordRedundant(String word) {\r\n        mCompositeDisposable.add(\r\n        mWordDao.wordExists(word)\r\n                .subscribeOn(Schedulers.computation())\r\n                .subscribe(integer -&gt; mWordRedundant = integer == 1));\r\n        return mWordRedundant;\r\n    }\r\n```\r\n\r\n**WordViewModel**\r\n```\r\npublic class WordViewModel extends AndroidViewModel {\r\n\r\n    private WordRepository mRepository;\r\n\r\n    public WordViewModel(Application application) {\r\n        super(application);\r\n        mRepository = new WordRepository(application);\r\n    }\r\n\r\n    public boolean isWordRedundant(String word) {\r\n        return mRepository.isWordRedundant(word);\r\n    }\r\n\r\n    public void insert(Word word) {\r\n        mRepository.insert(word);\r\n    }\r\n}\r\n```\r\n\r\n**NewWordActivity**\r\n```\r\npublic class NewWordActivity extends AppCompatActivity {\r\n\r\n    public static final String EXTRA_REPLY = &quot;com.example.android.wordlistsql.REPLY&quot;;\r\n\r\n    private EditText mEditWordView;\r\n    private WordViewModel mWordViewModel;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_word);\r\n        mWordViewModel = new ViewModelProvider(this).get(WordViewModel.class);\r\n        mEditWordView = findViewById(R.id.edit_word);\r\n\r\n        final Button button = findViewById(R.id.button_save);\r\n        button.setOnClickListener(view -&gt; {\r\n            Intent replyIntent = new Intent();\r\n\r\n            if (TextUtils.isEmpty(mEditWordView.getText())) {\r\n                System.out.println(&quot;Word empty&quot;);\r\n                setResult(RESULT_CANCELED, replyIntent);\r\n            }\r\n\r\n            // possible race condition?\r\n            else if (mWordViewModel.isWordRedundant(mEditWordView.getText().toString())) {\r\n                System.out.println(&quot;Word redundant&quot;);\r\n                setResult(RESULT_CANCELED, replyIntent);\r\n            }\r\n\r\n            else {\r\n                String word = mEditWordView.getText().toString();\r\n                System.out.println(&quot;Word acceptable&quot;);\r\n                replyIntent.putExtra(EXTRA_REPLY, word);\r\n                setResult(RESULT_OK, replyIntent);\r\n            }\r\n            finish();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThe method ```isPlayerNameRedundant()``` always returns ```false``` in my case. I tested the SQL query in App Inspection and it returns 1, so the ```isPlayerNameRedundant()``` method should return ```true```.\r\nI suspect that since I use ```Schedulers.computation()``` in the repository the query is being executed on a background thread and before this thread is finished with its task the main thread returns ```mWordRedundant```. \r\nIs that correct?\r\n\r\nIf so, what would be the way to resolve this?\r\n\r\nThank you in advance.\r\n","title":"Android - RxJava - Race condition","body":"<p>I am new to the concept of multi-threading and also new to RxJava. I think I ran into a race condition in my Android project.\nTo be able to demonstrate it better, I downloaded the google codelabs example RoomWithAView and implemented the same race condition as in my own project.</p>\n<p><strong>WordDao</strong></p>\n<pre><code>@Dao\npublic interface WordDao {\n    @Insert()\n    void insert(Word word);\n\n    @Query(&quot;SELECT EXISTS(SELECT word FROM WORD_TABLE WHERE word = :word)&quot;)\n    Single&lt;Integer&gt; wordExists(String word);\n}\n</code></pre>\n<p><strong>WordRepository</strong></p>\n<pre><code>class WordRepository {\n\n    private WordDao mWordDao;\n    private boolean mWordRedundant;\n    private final CompositeDisposable mCompositeDisposable = new CompositeDisposable();\n\n    WordRepository(Application application) {\n        WordRoomDatabase db = WordRoomDatabase.getDatabase(application);\n        mWordDao = db.wordDao();\n    }\n\n    void insert(Word word) {\n        WordRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\n            mWordDao.insert(word);\n        });\n    }\n\n    public boolean isWordRedundant(String word) {\n        mCompositeDisposable.add(\n        mWordDao.wordExists(word)\n                .subscribeOn(Schedulers.computation())\n                .subscribe(integer -&gt; mWordRedundant = integer == 1));\n        return mWordRedundant;\n    }\n</code></pre>\n<p><strong>WordViewModel</strong></p>\n<pre><code>public class WordViewModel extends AndroidViewModel {\n\n    private WordRepository mRepository;\n\n    public WordViewModel(Application application) {\n        super(application);\n        mRepository = new WordRepository(application);\n    }\n\n    public boolean isWordRedundant(String word) {\n        return mRepository.isWordRedundant(word);\n    }\n\n    public void insert(Word word) {\n        mRepository.insert(word);\n    }\n}\n</code></pre>\n<p><strong>NewWordActivity</strong></p>\n<pre><code>public class NewWordActivity extends AppCompatActivity {\n\n    public static final String EXTRA_REPLY = &quot;com.example.android.wordlistsql.REPLY&quot;;\n\n    private EditText mEditWordView;\n    private WordViewModel mWordViewModel;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_word);\n        mWordViewModel = new ViewModelProvider(this).get(WordViewModel.class);\n        mEditWordView = findViewById(R.id.edit_word);\n\n        final Button button = findViewById(R.id.button_save);\n        button.setOnClickListener(view -&gt; {\n            Intent replyIntent = new Intent();\n\n            if (TextUtils.isEmpty(mEditWordView.getText())) {\n                System.out.println(&quot;Word empty&quot;);\n                setResult(RESULT_CANCELED, replyIntent);\n            }\n\n            // possible race condition?\n            else if (mWordViewModel.isWordRedundant(mEditWordView.getText().toString())) {\n                System.out.println(&quot;Word redundant&quot;);\n                setResult(RESULT_CANCELED, replyIntent);\n            }\n\n            else {\n                String word = mEditWordView.getText().toString();\n                System.out.println(&quot;Word acceptable&quot;);\n                replyIntent.putExtra(EXTRA_REPLY, word);\n                setResult(RESULT_OK, replyIntent);\n            }\n            finish();\n        });\n    }\n}\n</code></pre>\n<p>The method <code>isPlayerNameRedundant()</code> always returns <code>false</code> in my case. I tested the SQL query in App Inspection and it returns 1, so the <code>isPlayerNameRedundant()</code> method should return <code>true</code>.\nI suspect that since I use <code>Schedulers.computation()</code> in the repository the query is being executed on a background thread and before this thread is finished with its task the main thread returns <code>mWordRedundant</code>.\nIs that correct?</p>\n<p>If so, what would be the way to resolve this?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","dns","glassfish","windows-server-2019","virtual-server"],"owner":{"account_id":12005566,"reputation":1,"user_id":8784075,"display_name":"Eser Bilici"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671007376,"creation_date":1671007376,"question_id":74795564,"body_markdown":"I have a problem about Glassfish Server 5.0 . I have a virtual server in Glassfish in Windows Server 2019. Although not often, sometimes dns resolution cannot be performed at uncertain times. However, the application can be accessed from the IP.\r\n\r\nThis problem goes away when I restart the operating system. Has anyone encountered this situation and know how to avoid it?","title":"Glassfish 5.0 virtual server dns resolution problem in the running system","body":"<p>I have a problem about Glassfish Server 5.0 . I have a virtual server in Glassfish in Windows Server 2019. Although not often, sometimes dns resolution cannot be performed at uncertain times. However, the application can be accessed from the IP.</p>\n<p>This problem goes away when I restart the operating system. Has anyone encountered this situation and know how to avoid it?</p>\n"},{"tags":["java","log4j2"],"answers":[{"comments":[{"owner":{"display_name":"user4654707"},"score":0,"creation_date":1671030533,"post_id":74795504,"comment_id":132009906,"body_markdown":"thank you! i realized that the config files had to be different after I renamed my custom logging.xml (it was under /config/logging.xml) to /log4j2.xml on the classpath. It&#39;s not what I wanted, but it works.","body":"thank you! i realized that the config files had to be different after I renamed my custom logging.xml (it was under /config/logging.xml) to /log4j2.xml on the classpath. It&#39;s not what I wanted, but it works."},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1671055107,"post_id":74795504,"comment_id":132017751,"body_markdown":"@KevinHuntly: if you are looking for a programmatic solution, you can use [`Configurator`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/Configurator.html) (assuming you are using Log4j2 Core as backend). Programmatic solutions are discouraged since they can break on a major version bump.","body":"@KevinHuntly: if you are looking for a programmatic solution, you can use <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/config/Configurator.html\" rel=\"nofollow noreferrer\"><code>Configurator</code></a> (assuming you are using Log4j2 Core as backend). Programmatic solutions are discouraged since they can break on a major version bump."}],"tags":[],"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671006992,"creation_date":1671006992,"answer_id":74795504,"question_id":74786146,"body_markdown":"The easiest solution is to replace your custom `ServletContextListener` with the `log4j-web` module (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/webapp.html)).\r\n\r\nThe `log4j-web` module uses the servlet context parameter &quot;log4jConfiguration&quot;, which accepts string interpolation. If for any reason you can not change the old parameter name, you can set the value of &quot;log4jConfiguration&quot; to `${web:initParam.old_param_name}` (cf. [Web Lookup](https://logging.apache.org/log4j/2.x/manual/lookups.html#WebLookup)).\r\n\r\n**Remark**: Log4j 1.x and 2.x configuration formats are incompatible. You need to convert the configuration files before migrating.","title":"Loading log4j in ContextListener","body":"<p>The easiest solution is to replace your custom <code>ServletContextListener</code> with the <code>log4j-web</code> module (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/webapp.html\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p>The <code>log4j-web</code> module uses the servlet context parameter &quot;log4jConfiguration&quot;, which accepts string interpolation. If for any reason you can not change the old parameter name, you can set the value of &quot;log4jConfiguration&quot; to <code>${web:initParam.old_param_name}</code> (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/lookups.html#WebLookup\" rel=\"nofollow noreferrer\">Web Lookup</a>).</p>\n<p><strong>Remark</strong>: Log4j 1.x and 2.x configuration formats are incompatible. You need to convert the configuration files before migrating.</p>\n"}],"owner":{"display_name":"user4654707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74795504,"answer_count":1,"score":1,"last_activity_date":1671006992,"creation_date":1670940562,"question_id":74786146,"body_markdown":"I&#39;m trying to move from log4j 1.x to 2.x and I&#39;m having some trouble. I was using slf4j/log4j1.2.x but am trying to get off the slf4j stuff and just use log4j.\r\n\r\nI have a web application that uses two shared jars that have their own log4j configuration files. Previously I was able to load them using DOMConfigurator:\r\n```\r\nDOMConfigurator.configure(Loader.getResource(sContext.getInitParameter(CoreServicesListener.INIT_SYSLOGGING_FILE)));\r\n```\r\nNot sure how to do this anymore in log4j2. I&#39;ve checked several resources on the web and nothing seems to be getting me to the right path. I&#39;m hoping someone can help.","title":"Loading log4j in ContextListener","body":"<p>I'm trying to move from log4j 1.x to 2.x and I'm having some trouble. I was using slf4j/log4j1.2.x but am trying to get off the slf4j stuff and just use log4j.</p>\n<p>I have a web application that uses two shared jars that have their own log4j configuration files. Previously I was able to load them using DOMConfigurator:</p>\n<pre><code>DOMConfigurator.configure(Loader.getResource(sContext.getInitParameter(CoreServicesListener.INIT_SYSLOGGING_FILE)));\n</code></pre>\n<p>Not sure how to do this anymore in log4j2. I've checked several resources on the web and nothing seems to be getting me to the right path. I'm hoping someone can help.</p>\n"},{"tags":["java","svg","truetype","apache-fop","batik"],"comments":[{"owner":{"account_id":1029387,"reputation":119820,"user_id":1038015,"display_name":"Robert Longson"},"score":0,"creation_date":1513679480,"post_id":47884893,"comment_id":82735511,"body_markdown":"Try embedding the font as a data URL.","body":"Try embedding the font as a data URL."},{"owner":{"account_id":1220983,"reputation":121,"user_id":1187645,"display_name":"odoko"},"score":0,"creation_date":1513680740,"post_id":47884893,"comment_id":82736311,"body_markdown":"Tried it, still no embedded font in pdf output...","body":"Tried it, still no embedded font in pdf output..."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1592598396,"post_id":47884893,"comment_id":110493315,"body_markdown":"Does this answer your question? [How I use a custom font with the Batik SVG library?](https://stackoverflow.com/questions/11851821/how-i-use-a-custom-font-with-the-batik-svg-library)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11851821/how-i-use-a-custom-font-with-the-batik-svg-library\">How I use a custom font with the Batik SVG library?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671006925,"creation_date":1671006925,"answer_id":74795492,"question_id":47884893,"body_markdown":"Update the config file and move fonts section outside the renderers section, like this:\r\n\r\nMy config file: \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;fop version=&quot;1.0&quot;&gt;\r\n         &lt;fonts&gt;\r\n         \t&lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt; \t\r\n            &lt;auto-detect/&gt;\r\n         &lt;/fonts&gt;\r\n     &lt;/fop&gt;\r\n\r\nBulk font configuration from Apache website is simply wrong:\r\nhttps://xmlgraphics.apache.org/fop/2.2/fonts.html\r\n\r\n---\r\n\r\n&lt;sub&gt;This answer was posted as an [edit](https://stackoverflow.com/revisions/47884893/2) to the question https://stackoverflow.com/questions/47884893/configure-batik-to-utilize-custom-fonts by the OP [odoko](https://stackoverflow.com/users/1187645/odoko) under CC BY-SA 3.0.&lt;/sub&gt;","title":"Configure Batik to utilize custom fonts","body":"<p>Update the config file and move fonts section outside the renderers section, like this:</p>\n<p>My config file:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;fop version=&quot;1.0&quot;&gt;\n     &lt;fonts&gt;\n        &lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt;   \n        &lt;auto-detect/&gt;\n     &lt;/fonts&gt;\n &lt;/fop&gt;\n</code></pre>\n<p>Bulk font configuration from Apache website is simply wrong:\n<a href=\"https://xmlgraphics.apache.org/fop/2.2/fonts.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/2.2/fonts.html</a></p>\n<hr />\n<p><sub>This answer was posted as an <a href=\"https://stackoverflow.com/revisions/47884893/2\">edit</a> to the question <a href=\"https://stackoverflow.com/questions/47884893/configure-batik-to-utilize-custom-fonts\">Configure Batik to utilize custom fonts</a> by the OP <a href=\"https://stackoverflow.com/users/1187645/odoko\">odoko</a> under CC BY-SA 3.0.</sub></p>\n"}],"owner":{"account_id":1220983,"reputation":121,"user_id":1187645,"display_name":"odoko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2639,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1671006986,"creation_date":1513679319,"question_id":47884893,"body_markdown":"I have an issue configuring Batik PDFTranscoder for  Svg to Pdf conversion.\r\nI want to embed custom truetype fonts to PDF output, therefore I utilize Batik transcoder. I supply font configuration in fop config file, as described here: https://xmlgraphics.apache.org/fop/2.2/fonts.html\r\n\r\nI tried conversion with org.apache.xmlgraphics.Fop versions 2.1 and 2.2. Without any success.\r\n\r\nMy pdf output, comes with &#39;Times New Roman&#39; font instead of coming with embedded font &#39;Arial&#39;, as it should, based on example below:\r\n\r\n \r\nMy config file: \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;fop version=&quot;1.0&quot;&gt;\r\n      &lt;renderers&gt;\r\n       &lt;renderer mime=&quot;application/pdf&quot;&gt;\r\n         &lt;fonts&gt;\r\n         \t&lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt; \t\r\n            &lt;auto-detect/&gt;\r\n         &lt;/fonts&gt;\r\n       &lt;/renderer&gt;\r\n      &lt;/renderers&gt;\r\n     &lt;/fop&gt;\r\n\r\n\r\n\r\nHere&#39;s my transcoder code:\r\n\r\n     import org.apache.batik.transcoder.*;\r\n     import org.apache.fop.svg.PDFTranscoder; \r\n     import org.w3c.dom.Document;\r\n \r\n \r\n     PDFTranscoder transcoder = new PDFTranscoder();\r\n \r\n     try {\r\n       DefaultConfigurationBuilder cfgBuilder = new DefaultConfigurationBuilder();\r\n       Configuration cfg = cfgBuilder.buildFromFile(new File(&quot;path-to-xml-config-file&quot;));\r\n       ContainerUtil.configure(transcoder, cfg);\r\n     } catch (Exception e) {\r\n       throw new TranscoderException(e);\r\n     }\r\n \t   transcoder.transcode(new TranscoderInput(doc),\r\n                          new TranscoderOutput(os));\r\n\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t \r\n Sample svg file:\r\n\r\n    &lt;defs&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n         @font-face{font-family:&#39;Arial&#39;;font-style: normal;font-weight:\r\n         400;src:url(&#39;C:/path/to/fontsfolder/arial.ttf&#39;)\r\n         format(&#39;truetype&#39;);}\r\n    &lt;/style&gt;\r\n    &lt;/defs&gt;\r\n       \r\n     \r\n      &lt;text x=&quot;55&quot; y=&quot;245&quot; style=&quot;font-family: &#39;Arial&#39;; font-weight:normal;\r\n    font-style: normal&quot; &gt;Sample text&lt;/text&gt;\r\n\r\nCan anyone tell me what I am missing here with Transcoder configuration? Embedding svg fonts into svg file is not an option in this case.","title":"Configure Batik to utilize custom fonts","body":"<p>I have an issue configuring Batik PDFTranscoder for  Svg to Pdf conversion.\nI want to embed custom truetype fonts to PDF output, therefore I utilize Batik transcoder. I supply font configuration in fop config file, as described here: <a href=\"https://xmlgraphics.apache.org/fop/2.2/fonts.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/fop/2.2/fonts.html</a></p>\n<p>I tried conversion with org.apache.xmlgraphics.Fop versions 2.1 and 2.2. Without any success.</p>\n<p>My pdf output, comes with 'Times New Roman' font instead of coming with embedded font 'Arial', as it should, based on example below:</p>\n<p>My config file:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;fop version=&quot;1.0&quot;&gt;\n  &lt;renderers&gt;\n   &lt;renderer mime=&quot;application/pdf&quot;&gt;\n     &lt;fonts&gt;\n        &lt;directory&gt;C:/path/to/fontsfolder&lt;/directory&gt;   \n        &lt;auto-detect/&gt;\n     &lt;/fonts&gt;\n   &lt;/renderer&gt;\n  &lt;/renderers&gt;\n &lt;/fop&gt;\n</code></pre>\n<p>Here's my transcoder code:</p>\n<pre><code> import org.apache.batik.transcoder.*;\n import org.apache.fop.svg.PDFTranscoder; \n import org.w3c.dom.Document;\n\n\n PDFTranscoder transcoder = new PDFTranscoder();\n\n try {\n   DefaultConfigurationBuilder cfgBuilder = new DefaultConfigurationBuilder();\n   Configuration cfg = cfgBuilder.buildFromFile(new File(&quot;path-to-xml-config-file&quot;));\n   ContainerUtil.configure(transcoder, cfg);\n } catch (Exception e) {\n   throw new TranscoderException(e);\n }\n   transcoder.transcode(new TranscoderInput(doc),\n                      new TranscoderOutput(os));\n\n                     \n                     \n</code></pre>\n<p>Sample svg file:</p>\n<pre><code>&lt;defs&gt;\n&lt;style type=&quot;text/css&quot;&gt;\n     @font-face{font-family:'Arial';font-style: normal;font-weight:\n     400;src:url('C:/path/to/fontsfolder/arial.ttf')\n     format('truetype');}\n&lt;/style&gt;\n&lt;/defs&gt;\n   \n \n  &lt;text x=&quot;55&quot; y=&quot;245&quot; style=&quot;font-family: 'Arial'; font-weight:normal;\nfont-style: normal&quot; &gt;Sample text&lt;/text&gt;\n</code></pre>\n<p>Can anyone tell me what I am missing here with Transcoder configuration? Embedding svg fonts into svg file is not an option in this case.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1671007068,"post_id":74788275,"comment_id":132001615,"body_markdown":"Does this answer your question? [How to JPA Query for Postgresql array?](https://stackoverflow.com/questions/63619548/how-to-jpa-query-for-postgresql-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63619548/how-to-jpa-query-for-postgresql-array\">How to JPA Query for Postgresql array?</a>"},{"owner":{"account_id":7111886,"reputation":625,"user_id":5439438,"accept_rate":20,"display_name":"Utsav Sinha"},"score":0,"creation_date":1671258323,"post_id":74788275,"comment_id":132065272,"body_markdown":"Hey @MarcBannout. It might work, but I wanted to check if this could be done via Specification API","body":"Hey @MarcBannout. It might work, but I wanted to check if this could be done via Specification API"}],"owner":{"account_id":7111886,"reputation":625,"user_id":5439438,"accept_rate":20,"display_name":"Utsav Sinha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671006670,"creation_date":1670950193,"question_id":74788275,"body_markdown":"I use Postgres in my application. I have a table where I store list of string in a column which is of type text[]. \r\nI want to use the Spring JPA Specification API to search the elements in the column.\r\n\r\nI would like to use *Specification API* to search a list of entities where industries are in [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]. \r\nThis is how my entity class looks like. \r\n\r\n```\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;TABLE_NAME&quot;)\r\n@TypeDef(name = &quot;list-array&quot;, typeClass = ListArrayType.class)\r\npublic class TableEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;, nullable = false)\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Type(type = &quot;list-array&quot;)\r\n    @Column(name = &quot;INDUSTRIES&quot;, columnDefinition = &quot;text[]&quot;)\r\n    private List&lt;String&gt; industries;\r\n}","title":"Search in TEXT[] column in Spring JPA Specification API","body":"<p>I use Postgres in my application. I have a table where I store list of string in a column which is of type text[].\nI want to use the Spring JPA Specification API to search the elements in the column.</p>\n<p>I would like to use <em>Specification API</em> to search a list of entities where industries are in ['a', 'b', 'c'].\nThis is how my entity class looks like.</p>\n<pre><code>@Setter\n@Getter\n@Entity\n@Table(name = &quot;TABLE_NAME&quot;)\n@TypeDef(name = &quot;list-array&quot;, typeClass = ListArrayType.class)\npublic class TableEntity {\n\n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n    @Type(type = &quot;list-array&quot;)\n    @Column(name = &quot;INDUSTRIES&quot;, columnDefinition = &quot;text[]&quot;)\n    private List&lt;String&gt; industries;\n}\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","saxon","xml-validation"],"answers":[{"tags":[],"owner":{"account_id":7122736,"reputation":26890,"user_id":5446749,"accept_rate":80,"display_name":"vvvvv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671006611,"creation_date":1671006611,"answer_id":74795434,"question_id":45692818,"body_markdown":"We used probatron4j for java based schematron handling:\r\n\r\nJava source part:\r\n\r\n    javax.xml.transform.TransformerFactory t = org.probatron.Utils.getTransformerFactory();\r\n    // create xml readers, perfor template processing, apply xslt\r\n    // as stated in the probatron4j examples\r\n    // ...\r\n \r\n    t.transform(getCandidateSource(), new StreamResult(baos));\r\n\r\n\r\nour fix includes:\r\n\r\n    Source source = new StreamSource(new FileInputStream(..\r\n    \r\n    // or\r\n    \r\n    Source source = new StreamSource(canditateURL.openStream()..\r\n    \r\n    // depending on whether input source is file or url based\r\n    \r\n    // below is the fix, we set path of file or exteral form of the url\r\n    \r\n    source.setSystemId(pathOrUrl);\r\n\r\nFinal result: The value we set as systemid is set into the return value of the `base-uri()` function val in the schema.\r\n\r\n---\r\n\r\n&lt;sub&gt;This answer was posted ahttps://stackoverflow.com/questions/45692818/base-uri-function-in-schematron-for-validating-xml-probatron-saxon by the OP [benchpresser](https://stackoverflow.com/users/2082488/benchpresser) under CC BY-SA 3.0.&lt;/sub&gt;","title":"base-uri function in schematron for validating xml probatron + saxon","body":"<p>We used probatron4j for java based schematron handling:</p>\n<p>Java source part:</p>\n<pre><code>javax.xml.transform.TransformerFactory t = org.probatron.Utils.getTransformerFactory();\n// create xml readers, perfor template processing, apply xslt\n// as stated in the probatron4j examples\n// ...\n\nt.transform(getCandidateSource(), new StreamResult(baos));\n</code></pre>\n<p>our fix includes:</p>\n<pre><code>Source source = new StreamSource(new FileInputStream(..\n\n// or\n\nSource source = new StreamSource(canditateURL.openStream()..\n\n// depending on whether input source is file or url based\n\n// below is the fix, we set path of file or exteral form of the url\n\nsource.setSystemId(pathOrUrl);\n</code></pre>\n<p>Final result: The value we set as systemid is set into the return value of the <code>base-uri()</code> function val in the schema.</p>\n<hr />\n<p><sub>This answer was posted ahttps://stackoverflow.com/questions/45692818/base-uri-function-in-schematron-for-validating-xml-probatron-saxon by the OP <a href=\"https://stackoverflow.com/users/2082488/benchpresser\">benchpresser</a> under CC BY-SA 3.0.</sub></p>\n"}],"owner":{"account_id":2380334,"reputation":2167,"user_id":2082488,"accept_rate":32,"display_name":"benchpresser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1671006631,"creation_date":1502799999,"question_id":45692818,"body_markdown":"We used *probatron* and *saxon* to validate a test xml using a given **sch** file in our java application. Recently, a new rule has been added to the **sch** file such as\r\n\r\n    &lt;let name=&quot;foo&quot; value=&quot;base-uri()&quot;&gt;\r\n\r\nand some rules use that value, but $foo contains empty string and the rules fail. Where do I have to set this value? I added xml:base tags to the test xml as stated in https://www.w3.org/TR/xmlbase/ but it did not worked. Do I have to set sth in the java side? \r\n\r\n\r\n","title":"base-uri function in schematron for validating xml probatron + saxon","body":"<p>We used <em>probatron</em> and <em>saxon</em> to validate a test xml using a given <strong>sch</strong> file in our java application. Recently, a new rule has been added to the <strong>sch</strong> file such as</p>\n<pre><code>&lt;let name=&quot;foo&quot; value=&quot;base-uri()&quot;&gt;\n</code></pre>\n<p>and some rules use that value, but $foo contains empty string and the rules fail. Where do I have to set this value? I added xml:base tags to the test xml as stated in <a href=\"https://www.w3.org/TR/xmlbase/\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xmlbase/</a> but it did not worked. Do I have to set sth in the java side?</p>\n"},{"tags":["java","spring","spring-boot","exception","jackson"],"comments":[{"owner":{"account_id":1438342,"reputation":1896,"user_id":1359231,"display_name":"joshp"},"score":0,"creation_date":1552879420,"post_id":55214077,"comment_id":97164255,"body_markdown":"First guess: You are getting the 400 because you are sending json as the body of a post or put, your web service framework (spring mvc?) tries to deserialize the json and fails. It would generate the 400, regardless of the original cause, because the expected input is non-valid, and this may happen before even routing the request to your code. Your handler may not get to see the exception. I wold suggest putting a breakpoint or logging in your handler to see if it is ever called.","body":"First guess: You are getting the 400 because you are sending json as the body of a post or put, your web service framework (spring mvc?) tries to deserialize the json and fails. It would generate the 400, regardless of the original cause, because the expected input is non-valid, and this may happen before even routing the request to your code. Your handler may not get to see the exception. I wold suggest putting a breakpoint or logging in your handler to see if it is ever called."},{"owner":{"account_id":5299479,"reputation":4080,"user_id":4229637,"accept_rate":50,"display_name":"nirvair"},"score":0,"creation_date":1552879719,"post_id":55214077,"comment_id":97164307,"body_markdown":"So, I added the log in Deserializer and the log enters the catch statement.","body":"So, I added the log in Deserializer and the log enters the catch statement."},{"owner":{"account_id":1438342,"reputation":1896,"user_id":1359231,"display_name":"joshp"},"score":0,"creation_date":1552881078,"post_id":55214077,"comment_id":97164536,"body_markdown":"Did you log in the handler, does the handler ever get called?","body":"Did you log in the handler, does the handler ever get called?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1552891624,"post_id":55214077,"comment_id":97166770,"body_markdown":"Do you want the status to be show 422 instead of 400 in final response when Jackson deserialization fails?","body":"Do you want the status to be show 422 instead of 400 in final response when Jackson deserialization fails?"}],"answers":[{"tags":[],"owner":{"account_id":1438342,"reputation":1896,"user_id":1359231,"display_name":"joshp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552890612,"creation_date":1552886075,"answer_id":55214883,"question_id":55214077,"body_markdown":"**Your Controller method is never called because JSON body parsing threw an exception.**\r\n\r\n - Your @ContollerAdvice is not applied because the Controller method is not called.\r\n\r\n - Your handleIOException method is not called, and your 422 status is not applied.\r\n\r\nI suspect this is the situation in more detail...\r\n\r\n 1. An HTTP request includes a json body.\r\n\r\n 2. The controller method matching the @RequestMapping and other annotations of the request takes an instance of your DTO Class as a parameter.\r\n\r\n 3. Spring attempts to deserialize the incoming json body **before** calling your controlling method. It must do this in order to pass the DTO object.\r\n\r\n 4. Deserialization uses your custom deserializer which throws an IOException.\r\n\r\n 5. This IOException occurs **before** your controller method is called. In fact, your controller method is never called for this request.\r\n\r\n 6. Spring handles the exception using its default behavior, returning an HTTP 400. Spring has a very broad RFC 7231 conception of HTTP 400.\r\n\r\n 7. Since your controller method is never called, the @ControllerAdvice is never applied and your @ExceptionHandler does not see the exception. Status is not set to 422.\r\n\r\n**Why do I believe this?**\r\n\r\nI frequently see this kind of behavior from Spring, and I think it is the expected behavior. But I have not tracked down the documentation or read the source to be sure.\r\n\r\n**What can you do about it?**\r\n\r\nA simple approach which you may not like is to declare your controller method to take inputs that almost never fail, such as String.\r\n\r\n - You take over the responsibility for validating and deserializing inputs, and you decide what status and messages to return. \r\n\r\n - You call Jackson to deserialize. Your @ExceptionHandler methods are used.\r\n\r\n - Bonus: You can return the text of Jackson&#39;s often useful parse error messages. Those can help clients figure out why their json is rejected.\r\n\r\nI would not be surprised if Spring offers a more stylish approach, a class to be subclassed, a special annotation. I have not pursued that.\r\n\r\n**What should you do about it?**\r\n\r\n400 vs. 422 is a case I prefer not to litigate. Depending on your priorities it might be best to accept Spring&#39;s convention.\r\n\r\nRFC 7231 On Status 400\r\n\r\n&gt; The 400 (Bad Request) status code indicates that the server cannot or\r\n   will not process the request due to something that is perceived to be\r\n   a client error (e.g., malformed request syntax, invalid request\r\n   message framing, or deceptive request routing).\r\n\r\nIf the HTTP status code police pick on you, you could point to this and say &quot;_I perceive this input to be a client error._&quot; Then argue that 422 is inappropriate unless you are serving WebDAV just to keep them off balance.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Advice_(programming)","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p><strong>Your Controller method is never called because JSON body parsing threw an exception.</strong></p>\n\n<ul>\n<li><p>Your @ContollerAdvice is not applied because the Controller method is not called.</p></li>\n<li><p>Your handleIOException method is not called, and your 422 status is not applied.</p></li>\n</ul>\n\n<p>I suspect this is the situation in more detail...</p>\n\n<ol>\n<li><p>An HTTP request includes a json body.</p></li>\n<li><p>The controller method matching the @RequestMapping and other annotations of the request takes an instance of your DTO Class as a parameter.</p></li>\n<li><p>Spring attempts to deserialize the incoming json body <strong>before</strong> calling your controlling method. It must do this in order to pass the DTO object.</p></li>\n<li><p>Deserialization uses your custom deserializer which throws an IOException.</p></li>\n<li><p>This IOException occurs <strong>before</strong> your controller method is called. In fact, your controller method is never called for this request.</p></li>\n<li><p>Spring handles the exception using its default behavior, returning an HTTP 400. Spring has a very broad RFC 7231 conception of HTTP 400.</p></li>\n<li><p>Since your controller method is never called, the @ControllerAdvice is never applied and your @ExceptionHandler does not see the exception. Status is not set to 422.</p></li>\n</ol>\n\n<p><strong>Why do I believe this?</strong></p>\n\n<p>I frequently see this kind of behavior from Spring, and I think it is the expected behavior. But I have not tracked down the documentation or read the source to be sure.</p>\n\n<p><strong>What can you do about it?</strong></p>\n\n<p>A simple approach which you may not like is to declare your controller method to take inputs that almost never fail, such as String.</p>\n\n<ul>\n<li><p>You take over the responsibility for validating and deserializing inputs, and you decide what status and messages to return. </p></li>\n<li><p>You call Jackson to deserialize. Your @ExceptionHandler methods are used.</p></li>\n<li><p>Bonus: You can return the text of Jackson's often useful parse error messages. Those can help clients figure out why their json is rejected.</p></li>\n</ul>\n\n<p>I would not be surprised if Spring offers a more stylish approach, a class to be subclassed, a special annotation. I have not pursued that.</p>\n\n<p><strong>What should you do about it?</strong></p>\n\n<p>400 vs. 422 is a case I prefer not to litigate. Depending on your priorities it might be best to accept Spring's convention.</p>\n\n<p>RFC 7231 On Status 400</p>\n\n<blockquote>\n  <p>The 400 (Bad Request) status code indicates that the server cannot or\n     will not process the request due to something that is perceived to be\n     a client error (e.g., malformed request syntax, invalid request\n     message framing, or deceptive request routing).</p>\n</blockquote>\n\n<p>If the HTTP status code police pick on you, you could point to this and say \"<em>I perceive this input to be a client error.</em>\" Then argue that 422 is inappropriate unless you are serving WebDAV just to keep them off balance.</p>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552991110,"creation_date":1552991110,"answer_id":55238702,"question_id":55214077,"body_markdown":"You do not need an `handleIOException` method, just add  `@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)`  \r\nto your CustomException.\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\r\n    public class MyException extends JsonProcessingException {\r\n        public MyException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nSo when you make invalid request\r\nwith body\r\n\r\n    {&quot;timestamp&quot;:&quot;2018-04-2311:32:22&quot;,&quot;id&quot;:&quot;132&quot;}\r\n\r\nResponse will be:\r\n\r\n    {\r\n        &quot;timestamp&quot;: 1552990867074,\r\n        &quot;status&quot;: 422,\r\n        &quot;error&quot;: &quot;Unprocessable Entity&quot;,\r\n        &quot;message&quot;: &quot;JSON parse error: Instant field deserialization failed; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Instant field deserialization failed (through reference chain: TestDto[\\&quot;timestamp\\&quot;])&quot;\r\n    }\r\n\r\n[![Postman Response][1]][1]\r\n\r\nWith valid request works fine:\r\n\r\n    {&quot;timestamp&quot;:&quot;2018-04-23T11:32:22.213Z&quot;,&quot;id&quot;:&quot;132&quot;}\r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;id&quot;: &quot;132&quot;,\r\n        &quot;timestamp&quot;: {\r\n            &quot;nano&quot;: 213000000,\r\n            &quot;epochSecond&quot;: 1514700142\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XPg7H.png","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p>You do not need an <code>handleIOException</code> method, just add  <code>@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)</code><br>\nto your CustomException.</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(HttpStatus.UNPROCESSABLE_ENTITY)\npublic class MyException extends JsonProcessingException {\n    public MyException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n\n<p>So when you make invalid request\nwith body</p>\n\n<pre><code>{\"timestamp\":\"2018-04-2311:32:22\",\"id\":\"132\"}\n</code></pre>\n\n<p>Response will be:</p>\n\n<pre><code>{\n    \"timestamp\": 1552990867074,\n    \"status\": 422,\n    \"error\": \"Unprocessable Entity\",\n    \"message\": \"JSON parse error: Instant field deserialization failed; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Instant field deserialization failed (through reference chain: TestDto[\\\"timestamp\\\"])\"\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/XPg7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XPg7H.png\" alt=\"Postman Response\"></a></p>\n\n<p>With valid request works fine:</p>\n\n<pre><code>{\"timestamp\":\"2018-04-23T11:32:22.213Z\",\"id\":\"132\"}\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>{\n    \"id\": \"132\",\n    \"timestamp\": {\n        \"nano\": 213000000,\n        \"epochSecond\": 1514700142\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27248679,"reputation":1,"user_id":20773524,"display_name":"Adnd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671006263,"creation_date":1671006263,"answer_id":74795366,"question_id":55214077,"body_markdown":"The exception thrown by Jackson in case of a deserialization error is HttpMessageNotReadableException.\r\n\r\nIn your custom deserializer, you can throw your own deserialization exception which extends JsonProcessingException.\r\n\r\nIn your ControllerAdvice you can handle the HttpMessageNotReadableException and get the cause of this which is your custom exception.\r\nThis way, you can throw the http code you want.\r\n\r\n```\r\n\t@ExceptionHandler({HttpMessageNotReadableException.class})\r\n\t@ResponseBody\r\n\tpublic ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex) {\r\n\t\tThrowable cause = ex.getCause();\r\n\t\tif (cause.getCause() instanceof YourOwnException) {\r\n\t\t\t//Return your response entity with your custom HTTP code\r\n\t\t} \r\n\r\n\t\t//Default exception handling\r\n\t}\r\n```","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p>The exception thrown by Jackson in case of a deserialization error is HttpMessageNotReadableException.</p>\n<p>In your custom deserializer, you can throw your own deserialization exception which extends JsonProcessingException.</p>\n<p>In your ControllerAdvice you can handle the HttpMessageNotReadableException and get the cause of this which is your custom exception.\nThis way, you can throw the http code you want.</p>\n<pre><code>    @ExceptionHandler({HttpMessageNotReadableException.class})\n    @ResponseBody\n    public ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(HttpMessageNotReadableException ex) {\n        Throwable cause = ex.getCause();\n        if (cause.getCause() instanceof YourOwnException) {\n            //Return your response entity with your custom HTTP code\n        } \n\n        //Default exception handling\n    }\n</code></pre>\n"}],"owner":{"account_id":5299479,"reputation":4080,"user_id":4229637,"accept_rate":50,"display_name":"nirvair"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5028,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1671006263,"creation_date":1552876902,"question_id":55214077,"body_markdown":"I have this InstantDesrializer \r\n\r\n    @Slf4j\r\n    public class InstantDeserializer extends StdDeserializer&lt;Instant&gt; {\r\n    \r\n        public InstantDeserializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public InstantDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n    \r\n        @Override\r\n        public Instant deserialize(JsonParser jp, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n            log.info(node.asText());\r\n            TemporalAccessor parse = null;\r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT).withZone(ZoneOffset.UTC);\r\n            try {\r\n                parse = dateTimeFormatter.parse(node.asText());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw new IOException();\r\n            }\r\n            log.info(Instant.from(parse).toString());\r\n            return Instant.from(parse);\r\n        }\r\n    }\r\n\r\n\r\nAnd then corresponding IOException in `@ControllerAdvice`\r\n\r\n    @ExceptionHandler(IOException.class)\r\n    public ResponseEntity&lt;String&gt; handleIOException(IOException e) {\r\n        return ResponseEntity.status(422).build();\r\n    }\r\n\r\nAnd this in my DTO:\r\n\r\n        @NotNull\r\n        @JsonDeserialize(using = InstantDeserializer.class)\r\n    //    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)\r\n        private Instant timestamp;\r\n\r\nEven when uncommented `@DateTimeFormat`, it&#39;s not working \r\n\r\nIdeally, it should return 422 status. But, it returns 400. \r\n\r\n\r\nMaybe I&#39;m just missing something so small, which I&#39;m not able to figure out. \r\n\r\nThis approach was suggested here: \r\nhttps://stackoverflow.com/questions/55209807/throw-custom-exception-while-deserializing-the-date-field-using-jackson-in-java","title":"Throw custom Exception with HTTP status code for Jackson Custom deserializer","body":"<p>I have this InstantDesrializer </p>\n\n<pre><code>@Slf4j\npublic class InstantDeserializer extends StdDeserializer&lt;Instant&gt; {\n\n    public InstantDeserializer() {\n        this(null);\n    }\n\n    public InstantDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Instant deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n        log.info(node.asText());\n        TemporalAccessor parse = null;\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(Constants.DATE_TIME_FORMAT).withZone(ZoneOffset.UTC);\n        try {\n            parse = dateTimeFormatter.parse(node.asText());\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw new IOException();\n        }\n        log.info(Instant.from(parse).toString());\n        return Instant.from(parse);\n    }\n}\n</code></pre>\n\n<p>And then corresponding IOException in <code>@ControllerAdvice</code></p>\n\n<pre><code>@ExceptionHandler(IOException.class)\npublic ResponseEntity&lt;String&gt; handleIOException(IOException e) {\n    return ResponseEntity.status(422).build();\n}\n</code></pre>\n\n<p>And this in my DTO:</p>\n\n<pre><code>    @NotNull\n    @JsonDeserialize(using = InstantDeserializer.class)\n//    @DateTimeFormat(pattern = \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")\n    private Instant timestamp;\n</code></pre>\n\n<p>Even when uncommented <code>@DateTimeFormat</code>, it's not working </p>\n\n<p>Ideally, it should return 422 status. But, it returns 400. </p>\n\n<p>Maybe I'm just missing something so small, which I'm not able to figure out. </p>\n\n<p>This approach was suggested here: \n<a href=\"https://stackoverflow.com/questions/55209807/throw-custom-exception-while-deserializing-the-date-field-using-jackson-in-java\">Throw custom exception while deserializing the Date field using jackson in java</a></p>\n"},{"tags":["java","rest","maven","groovy"],"answers":[{"tags":[],"owner":{"account_id":109199,"reputation":26454,"user_id":289466,"accept_rate":88,"display_name":"S&#233;bastien Le Callonnec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457536573,"creation_date":1457536573,"answer_id":35895500,"question_id":35893488,"body_markdown":"I am not sure why you need the ivy dependency there? It&#39;s probably a good idea to let Maven manage all the dependencies, including the HTTP builder one, rather than using Grape:\r\n\r\n&lt;!-- lang: xml --&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;cache-loading&lt;/id&gt;\r\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;execute&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.6&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.codehaus.groovy.modules.http-builder&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;http-builder&lt;/artifactId&gt;\r\n\t        &lt;version&gt;0.7.1&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;","title":"How to execute groovy file with maven?","body":"<p>I am not sure why you need the ivy dependency there? It's probably a good idea to let Maven manage all the dependencies, including the HTTP builder one, rather than using Grape:</p>\n\n\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;cache-loading&lt;/id&gt;\n        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;execute&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;2.4.6&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy.modules.http-builder&lt;/groupId&gt;\n        &lt;artifactId&gt;http-builder&lt;/artifactId&gt;\n        &lt;version&gt;0.7.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":5156422,"reputation":3976,"user_id":4129551,"accept_rate":82,"display_name":"aurelius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35895500,"answer_count":1,"score":1,"last_activity_date":1671006244,"creation_date":1457531470,"question_id":35893488,"body_markdown":"I am searching for a maven plugin that triggers a rest call at `pre-integrate-test`.\r\n\r\nI just need a plugin which does this for me.\r\n\r\nFor now I tried using `groovy-maven-plugin version 2.0`\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.ivy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ivy&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;execute&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\ngroovy file:\r\n\r\n    @Grab(group=&#39;org.codehaus.groovy.modules.http-builder&#39;, module=&#39;http-builder&#39;, version=&#39;0.7&#39; )\r\n    import groovyx.net.http.RESTClient\r\n    \r\n    import static groovyx.net.http.ContentType.XML\r\n    \r\n    solr = new RESTClient(&#39;http://localhost:8080/endpoint&#39;)\r\n    \r\n    log.info &quot;----------------------------------- START GROOVY REST CALL -----------------------------------&quot;;\r\n    \r\n    def response = solr.post(\r\n        contentType: XML,\r\n        requestContentType: XML,\r\n        body: { }\r\n    )\r\n    log.info &quot;Solr response status: ${response.status}&quot;\r\n    \r\n    log.info &quot;----------------------------------- END GROOVY REST CALL -----------------------------------&quot;;\r\n\r\nand I get:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute (default-cli) on project reg-reporting: Execution default-cli of goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute failed: A required class was missing while executing org.codehaus.gmaven:groovy-maven-plugin:2.0:execute: org/apache/ivy/core/report/ResolveReport\r\n    ...\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    [ERROR] \r\n    [ERROR] -----------------------------------------------------: org.apache.ivy.core.report.ResolveReport","title":"How to execute groovy file with maven?","body":"<p>I am searching for a maven plugin that triggers a rest call at <code>pre-integrate-test</code>.</p>\n\n<p>I just need a plugin which does this for me.</p>\n\n<p>For now I tried using <code>groovy-maven-plugin version 2.0</code></p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.apache.ivy&lt;/groupId&gt;\n                    &lt;artifactId&gt;ivy&lt;/artifactId&gt;\n                    &lt;version&gt;2.3.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;execute&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${root.relative.path}/target/triggerCacheLoading.groovy&lt;/source&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>groovy file:</p>\n\n<pre><code>@Grab(group='org.codehaus.groovy.modules.http-builder', module='http-builder', version='0.7' )\nimport groovyx.net.http.RESTClient\n\nimport static groovyx.net.http.ContentType.XML\n\nsolr = new RESTClient('http://localhost:8080/endpoint')\n\nlog.info \"----------------------------------- START GROOVY REST CALL -----------------------------------\";\n\ndef response = solr.post(\n    contentType: XML,\n    requestContentType: XML,\n    body: { }\n)\nlog.info \"Solr response status: ${response.status}\"\n\nlog.info \"----------------------------------- END GROOVY REST CALL -----------------------------------\";\n</code></pre>\n\n<p>and I get:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute (default-cli) on project reg-reporting: Execution default-cli of goal org.codehaus.gmaven:groovy-maven-plugin:2.0:execute failed: A required class was missing while executing org.codehaus.gmaven:groovy-maven-plugin:2.0:execute: org/apache/ivy/core/report/ResolveReport\n...\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------: org.apache.ivy.core.report.ResolveReport\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","cluster-computing","amazon-dynamodb-dax"],"answers":[{"comments":[{"owner":{"account_id":7616597,"reputation":53,"user_id":5775827,"display_name":"TS96"},"score":0,"creation_date":1499287186,"post_id":44933374,"comment_id":76847377,"body_markdown":"Thanks for the reply, I did all the steps on AWS&#39; website, including configuring the security group rules. I wasn&#39;t able to connect to my cluster.","body":"Thanks for the reply, I did all the steps on AWS&#39; website, including configuring the security group rules. I wasn&#39;t able to connect to my cluster."},{"owner":{"account_id":6675420,"reputation":831,"user_id":5150230,"display_name":"Abdelrahman Elhaddad"},"score":1,"creation_date":1499288840,"post_id":44933374,"comment_id":76848218,"body_markdown":"Can you try the `nc -z` command above from your EC2 client instance and paste the output. If the result is not `Connection to mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com 8111 port [tcp/*] succeeded!`. Then we need to troubleshoot your VPC setup.","body":"Can you try the <code>nc -z</code> command above from your EC2 client instance and paste the output. If the result is not <code>Connection to mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com 8111 port [tcp&#47;*] succeeded!</code>. Then we need to troubleshoot your VPC setup."},{"owner":{"account_id":7616597,"reputation":53,"user_id":5775827,"display_name":"TS96"},"score":0,"creation_date":1499289559,"post_id":44933374,"comment_id":76848525,"body_markdown":"I&#39;m new to AWS so what do you mean when you say &quot;your EC2 client instance&quot;? Thanks.","body":"I&#39;m new to AWS so what do you mean when you say &quot;your EC2 client instance&quot;? Thanks."},{"owner":{"account_id":6675420,"reputation":831,"user_id":5150230,"display_name":"Abdelrahman Elhaddad"},"score":3,"creation_date":1499290329,"post_id":44933374,"comment_id":76848898,"body_markdown":"To be able to use DAX, your application (DAX client software) needs to run on an EC2 instance that is in the same VPC used to create DAX cluster. Please refer to the [steps](http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.client.launch-ec2-instance.html) in the documentation on how to create an instance on EC2 and how to run DAX client software on that instance.","body":"To be able to use DAX, your application (DAX client software) needs to run on an EC2 instance that is in the same VPC used to create DAX cluster. Please refer to the <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.client.launch-ec2-instance.html\" rel=\"nofollow noreferrer\">steps</a> in the documentation on how to create an instance on EC2 and how to run DAX client software on that instance."},{"owner":{"account_id":7616597,"reputation":53,"user_id":5775827,"display_name":"TS96"},"score":0,"creation_date":1499347129,"post_id":44933374,"comment_id":76875135,"body_markdown":"For some reason I have never seen these particular steps before, the ones I was following are different. I&#39;ll get started on these and update you, thanks a lot!","body":"For some reason I have never seen these particular steps before, the ones I was following are different. I&#39;ll get started on these and update you, thanks a lot!"},{"owner":{"account_id":7616597,"reputation":53,"user_id":5775827,"display_name":"TS96"},"score":0,"creation_date":1499352778,"post_id":44933374,"comment_id":76879863,"body_markdown":"Hey, thanks again for helping. I went through all the steps and created an EC2 instance and the security group I chose should allow connections on port 22. When I try to ssh into my instance I get the following:          ssh: connect to host ec2-32-347-197-250.compute-1.amazonaws.com port 22: Connection refused","body":"Hey, thanks again for helping. I went through all the steps and created an EC2 instance and the security group I chose should allow connections on port 22. When I try to ssh into my instance I get the following:          ssh: connect to host ec2-32-347-197-250.compute-1.amazonaws.com port 22: Connection refused"},{"owner":{"account_id":6675420,"reputation":831,"user_id":5150230,"display_name":"Abdelrahman Elhaddad"},"score":0,"creation_date":1499357679,"post_id":44933374,"comment_id":76883469,"body_markdown":"To be able to ssh to an EC2 instance in a VPC, the instance needs to be in a public subnet. A public subnet is a subnet associated with a route table that has a route to the internet. How to set it up depends on your architecture. You can find examples for different [scenarios](http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenarios.html) in the documentation.","body":"To be able to ssh to an EC2 instance in a VPC, the instance needs to be in a public subnet. A public subnet is a subnet associated with a route table that has a route to the internet. How to set it up depends on your architecture. You can find examples for different <a href=\"http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenarios.html\" rel=\"nofollow noreferrer\">scenarios</a> in the documentation."},{"owner":{"account_id":1962814,"reputation":86,"user_id":1763850,"display_name":"AztecWarrior_25"},"score":0,"creation_date":1507166459,"post_id":44933374,"comment_id":80106228,"body_markdown":"I had the same problem and I had to add inbound and outbound rules to allow TCP traffic port 8111 to my Security Group for EC2 host and the DAX Cluster Security Group for the dax hosts - Only then the `nc -z` command worked and then dax also worked. The EC2 Security group and DAX Security groups had to be in the same VPC and you need to specify that they talk to each other","body":"I had the same problem and I had to add inbound and outbound rules to allow TCP traffic port 8111 to my Security Group for EC2 host and the DAX Cluster Security Group for the dax hosts - Only then the <code>nc -z</code> command worked and then dax also worked. The EC2 Security group and DAX Security groups had to be in the same VPC and you need to specify that they talk to each other"}],"tags":[],"owner":{"account_id":6675420,"reputation":831,"user_id":5150230,"display_name":"Abdelrahman Elhaddad"},"comment_count":8,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499278753,"creation_date":1499278753,"answer_id":44933374,"question_id":44928457,"body_markdown":"We will need to know more info about how you setup your DAX cluster and client instances to be able to help. Some general ideas to try:\r\n\r\n 1. Are you able to connect to the DAX cluster from the EC2 client instance? Try running:\r\n`nc -z mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com 8111`\r\n 2. Have you used the default security group for your VPC to create DAX cluster? You will need to authorize inbound traffic on TCP port 8111 to the security group used to create the DAX cluster from the security group of the client instance. Please follow the steps for [configuring security group rules for your VPC][1]\r\n\r\n  [1]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.create-cluster.cli.configure-inbound-rules.html","title":"Getting failed to configure cluster endpoints error when using DAX with DynamoDB","body":"<p>We will need to know more info about how you setup your DAX cluster and client instances to be able to help. Some general ideas to try:</p>\n\n<ol>\n<li>Are you able to connect to the DAX cluster from the EC2 client instance? Try running:\n<code>nc -z mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com 8111</code></li>\n<li>Have you used the default security group for your VPC to create DAX cluster? You will need to authorize inbound traffic on TCP port 8111 to the security group used to create the DAX cluster from the security group of the client instance. Please follow the steps for <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.create-cluster.cli.configure-inbound-rules.html\" rel=\"noreferrer\">configuring security group rules for your VPC</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18126408,"reputation":1,"user_id":13181903,"display_name":"Adithya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671005693,"creation_date":1671005693,"answer_id":74795266,"question_id":44928457,"body_markdown":"I had faced the same issue, when I tried to connect to a Dax cluster from ECS containers.\r\n\r\nHere is the thing that worked for me, as suggested by [Abdelrahman Elhaddad](https://stackoverflow.com/a/44933374/13181903)\r\n\r\n 1. Make sure the subnets and the VPC of the application server and the dax cluster is same.\r\n\r\n 2. On your Dax Cluster&#39;s security group, ensure inbound TCP traffic is enabled on port 8111 (if your DAX cluster is unencrypted) and 9111 (for encrypted).\r\n\r\n 3. And on your server&#39;s security group, make sure that TCP outbound requests on 8111/9111 are allowed.\r\n\r\n\r\nPS: If you are on ECS, modifying docker images can be very cumbersome, use any EC2 instances and try to alter the variables if needed. Also, you can make use of command line network tool to check your security group rules ","title":"Getting failed to configure cluster endpoints error when using DAX with DynamoDB","body":"<p>I had faced the same issue, when I tried to connect to a Dax cluster from ECS containers.</p>\n<p>Here is the thing that worked for me, as suggested by <a href=\"https://stackoverflow.com/a/44933374/13181903\">Abdelrahman Elhaddad</a></p>\n<ol>\n<li><p>Make sure the subnets and the VPC of the application server and the dax cluster is same.</p>\n</li>\n<li><p>On your Dax Cluster's security group, ensure inbound TCP traffic is enabled on port 8111 (if your DAX cluster is unencrypted) and 9111 (for encrypted).</p>\n</li>\n<li><p>And on your server's security group, make sure that TCP outbound requests on 8111/9111 are allowed.</p>\n</li>\n</ol>\n<p>PS: If you are on ECS, modifying docker images can be very cumbersome, use any EC2 instances and try to alter the variables if needed. Also, you can make use of command line network tool to check your security group rules</p>\n"}],"owner":{"account_id":7616597,"reputation":53,"user_id":5775827,"display_name":"TS96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7916,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1671005693,"creation_date":1499263390,"question_id":44928457,"body_markdown":"I created a cluster according to AWS&#39; tutorials and it supposed to be working just fine but when I try to connect to it, I get the following error \r\n&gt;java.io.IOException: failed to configure cluster endpoints from hosts: [mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com:8111]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:128) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.update(Source.java:60) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.refresh(Source.java:51) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:311) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:294) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:191) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:143) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.dynamodbv2.ClusterDaxClient.&lt;init&gt;(ClusterDaxClient.java:159) [DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.dynamodbv2.ClusterDaxClient.&lt;init&gt;(ClusterDaxClient.java:130) [DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.poc.dynamo.controller.DataController.testDax(DataController.java:190) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\r\nCaused by: java.net.ConnectException: timeout waiting for an available tube\r\n\tat com.amazon.dax.client.SocketTubePool.alloc(SocketTubePool.java:77) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.generated.DaxClientStubs.endpoints_455855874_1(DaxClientStubs.java:449) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.dynamodbv2.DaxClient.endpoints(DaxClient.java:1825) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.pullFrom(Source.java:138) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\tat com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:106) ~[DaxJavaClient-latest.jar:1.0.792.0]\r\n\t... 75 common frames omitted\r\n\tSuppressed: java.net.ConnectException: timeout waiting for an available tube\r\n\t\t... 80 common frames omitted\r\n\tSuppressed: java.net.ConnectException: timeout waiting for an available tube\r\n\t\t... 80 common frames omitted\r\n\r\nUnable to read item\r\nUnable to call cluster endpoint: No endpoints available","title":"Getting failed to configure cluster endpoints error when using DAX with DynamoDB","body":"<p>I created a cluster according to AWS' tutorials and it supposed to be working just fine but when I try to connect to it, I get the following error </p>\n\n<blockquote>\n  <p>java.io.IOException: failed to configure cluster endpoints from hosts: [mydaxcluster.ximfba.clustercfg.dax.use1.cache.amazonaws.com:8111]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:128) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.update(Source.java:60) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.refresh(Source.java:51) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:311) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.refresh(Cluster.java:294) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:191) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Cluster.startup(Cluster.java:143) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.dynamodbv2.ClusterDaxClient.(ClusterDaxClient.java:159) [DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.dynamodbv2.ClusterDaxClient.(ClusterDaxClient.java:130) [DaxJavaClient-latest.jar:1.0.792.0]\n      at com.poc.dynamo.controller.DataController.testDax(DataController.java:190) [classes/:na]\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\n      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\n      at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\n      at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:648) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:729) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55) [spring-boot-1.5.1.RELEASE.jar:1.5.1.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106) [spring-boot-actuator-1.5.1.RELEASE.jar:1.5.1.RELEASE]\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_121]\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_121]\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\n      at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\n  Caused by: java.net.ConnectException: timeout waiting for an available tube\n      at com.amazon.dax.client.SocketTubePool.alloc(SocketTubePool.java:77) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.generated.DaxClientStubs.endpoints_455855874_1(DaxClientStubs.java:449) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.dynamodbv2.DaxClient.endpoints(DaxClient.java:1825) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.pullFrom(Source.java:138) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      at com.amazon.dax.client.cluster.Source$AutoconfSource.pull(Source.java:106) ~[DaxJavaClient-latest.jar:1.0.792.0]\n      ... 75 common frames omitted\n      Suppressed: java.net.ConnectException: timeout waiting for an available tube\n          ... 80 common frames omitted\n      Suppressed: java.net.ConnectException: timeout waiting for an available tube\n          ... 80 common frames omitted</p>\n</blockquote>\n\n<p>Unable to read item\nUnable to call cluster endpoint: No endpoints available</p>\n"},{"tags":["java","xml","certificate","ssl-certificate","digital-signature"],"answers":[{"tags":[],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1575667985,"creation_date":1575667985,"answer_id":59220607,"question_id":59218272,"body_markdown":"I could not find a way to do it &quot;the right way&quot; so wrote a hack to modify it after it got generated.  Here it is:\r\n\r\n    //hack to remove unwanted CR at the end of each line in SignatureValue and X509Certificate\r\n    private void removeWhitespaceFromSignature() {\r\n    \tElement sig = (Element) document.getElementsByTagName(&quot;SignatureValue&quot;).item(0);\r\n    \tString sigValue = sig.getTextContent().replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n    \tsig.setTextContent(sigValue);\r\n    \t\r\n    \tElement cert = (Element) document.getElementsByTagName(&quot;X509Certificate&quot;).item(0);\r\n    \tString certValue = cert.getTextContent().replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n    \tcert.setTextContent(certValue);\r\n    }\r\nSeems ridiculous to have to resort to this but hours of searching produced no other alternatives.","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>I could not find a way to do it \"the right way\" so wrote a hack to modify it after it got generated.  Here it is:</p>\n\n<pre><code>//hack to remove unwanted CR at the end of each line in SignatureValue and X509Certificate\nprivate void removeWhitespaceFromSignature() {\n    Element sig = (Element) document.getElementsByTagName(\"SignatureValue\").item(0);\n    String sigValue = sig.getTextContent().replaceAll(\"\\r\\n\", \"\");\n    sig.setTextContent(sigValue);\n\n    Element cert = (Element) document.getElementsByTagName(\"X509Certificate\").item(0);\n    String certValue = cert.getTextContent().replaceAll(\"\\r\\n\", \"\");\n    cert.setTextContent(certValue);\n}\n</code></pre>\n\n<p>Seems ridiculous to have to resort to this but hours of searching produced no other alternatives.</p>\n"},{"tags":[],"owner":{"account_id":24552954,"reputation":19,"user_id":18461923,"display_name":"J&#243;zsef Mecsei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669122930,"creation_date":1669122930,"answer_id":74533242,"question_id":59218272,"body_markdown":"Try this parameter : -Dorg.apache.xml.security.ignoreLineBreaks=true\r\n\r\nReference : [https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java][1]\r\n","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>Try this parameter : -Dorg.apache.xml.security.ignoreLineBreaks=true</p>\n<p>Reference : [https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java][1]</p>\n"},{"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671005514,"creation_date":1671005514,"answer_id":74795245,"question_id":59218272,"body_markdown":"Which xml security library do you use?  If you use `org.apache.santuario:xmlsec:3.0.1`, you could try\r\n\r\n    static {\r\n        System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\r\n        org.apache.xml.security.Init.init();\r\n    }\r\n\r\nIt works fine for me.\r\n\r\n","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>Which xml security library do you use?  If you use <code>org.apache.santuario:xmlsec:3.0.1</code>, you could try</p>\n<pre><code>static {\n    System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\n    org.apache.xml.security.Init.init();\n}\n</code></pre>\n<p>It works fine for me.</p>\n"}],"owner":{"account_id":3886707,"reputation":1216,"user_id":3217883,"accept_rate":76,"display_name":"user3217883"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59220607,"answer_count":3,"score":0,"last_activity_date":1671005514,"creation_date":1575655686,"question_id":59218272,"body_markdown":"I&#39;m signing part of an xml document but the resulting signature and certificate have unwanted whitespace in them.  For example, here is the signature:\r\n\r\n        &lt;SignatureValue&gt;QcjPfiZcmqE8aMNH5AKVk+oFBYQ4LynV3a5YlJIxuf0y22QQ0NA2BTkRriI85dd/6Qcezf5xFguJ&amp;#13;\r\n    V+Mlk44c0uZD7TE+NlsFz3q1vtHHPi/9ygc2kJgQeSzxiCR2AHCONN3UN89RjidIqnN1qtKrBhc+&amp;#13;\r\n    GNeEGhjqgV7DHvzK7tHVkC6c1EevsOV5bH2Gu0X5JsGwOtSHWe6eyOXue0TW7XWrqOLmOusWYhRR&amp;#13;\r\n    ONJFoa49LQ4WV/RP498rp2TJ0bNE36PMWD6sMh52ERTj6NhngIl2cGjbbwzYteDN/ujo5bHmosmC&amp;#13;\r\n    dVKBmgaw2YAICJy4BROyK7AmZI5BxKoZ6CY1Tw==&lt;/SignatureValue&gt;\r\n\r\nand here is part of the certificate:\r\n\r\n            \r\n\r\n        &lt;X509Certificate&gt;MIIFtTCCBJ2gAwIBAgIQBsK927DS8wePBQjvzVX9BjANBgkqhkiG9w0BAQsFADBeMQswCQYDVQQG&amp;#13;\r\n    EwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMR0w&amp;#13;\r\n    GwYDVQQDExRSYXBpZFNTTCBSU0EgQ0EgMjAxODAeFw0xOTA2MDcwMDAwMDBaFw0yMDA2MDYxMjAw&amp;#13;\r\n\r\nnotice how both have &quot;$#13;&quot; appended?\r\n\r\nHere is the code that does the signing:\r\n\r\n        private void buildSignatureBlock5(String privateKeyPath, String publicKeyPath) {\r\n    \t// Create a DOM XMLSignatureFactory that will be used to\r\n    \t// generate the enveloped signature.\r\n    \tXMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n\r\n    \t// Create a Reference to the enveloped document (in this case,\r\n    \t// you are signing just the element with Id=&quot;Body&quot;, so a URI of &quot;#Body&quot; signifies\r\n    \t// that, and also specify the SHA1 digest algorithm and the ENVELOPED Transform.\r\n    \tReference ref = null;\r\n\t\ttry {\r\n\t\t\tref = fac.newReference\r\n\t\t\t (&quot;#Body&quot;, fac.newDigestMethod(DigestMethod.SHA1, null),\r\n\t\t\t  Collections.singletonList\r\n\t\t\t   (fac.newTransform\r\n\t\t\t    (Transform.ENVELOPED, (TransformParameterSpec) null)),\r\n\t\t\t     null, null);\r\n\t\t} catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n    \t// Create the SignedInfo.\r\n\t\tSignedInfo si = null;\r\n    \ttry {\r\n\t\t\tsi = fac.newSignedInfo\r\n\t\t\t (fac.newCanonicalizationMethod\r\n\t\t\t  (CanonicalizationMethod.INCLUSIVE,\r\n\t\t\t   (C14NMethodParameterSpec) null),\r\n\t\t\t    fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\r\n\t\t\t     Collections.singletonList(ref));\r\n\t\t} catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\t\r\n    \t\r\n    \t// Load the KeyStore and get the signing key and certificate.\r\n    \tKeyStore ks = null;\r\n\t\ttry {\r\n\t\t\tks = KeyStore.getInstance(&quot;JKS&quot;);\r\n\t\t} catch (KeyStoreException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \ttry {\r\n\t\t\tks.load(new FileInputStream(storage_path +&quot;/keys/myproject.jks&quot;), &quot;changeit&quot;.toCharArray());\r\n\t\t} catch (NoSuchAlgorithmException | CertificateException | IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \t\r\n    \tKeyStore.PrivateKeyEntry keyEntry = null;\r\n\t\ttry {\r\n\t\t\tkeyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry\r\n    \t        (&quot;1&quot;, new KeyStore.PasswordProtection(&quot;changeit&quot;.toCharArray()));\r\n\t\t} catch (NoSuchAlgorithmException | UnrecoverableEntryException | KeyStoreException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    \tX509Certificate cert = (X509Certificate) keyEntry.getCertificate();\r\n\r\n    \t// Create the KeyInfo containing the X509Data.\r\n    \tKeyInfoFactory kif = fac.getKeyInfoFactory();\r\n    \tList x509Content = new ArrayList();\r\n    \tString issuerName = cert.getIssuerX500Principal().getName();\r\n    \tBigInteger serialNumber = cert.getSerialNumber();\r\n    \tX509IssuerSerial issuer = kif.newX509IssuerSerial(issuerName, serialNumber);\r\n    \tx509Content.add(issuer);\r\n    \tx509Content.add(cert);\r\n    \tX509Data xd = kif.newX509Data(x509Content);\r\n    \tKeyInfo ki = kif.newKeyInfo(Collections.singletonList(xd));    \r\n    \t\r\n    \t// Create a DOMSignContext and specify the RSA PrivateKey and location of the resulting XMLSignature&#39;s parent element.\r\n    \tElement envHeaderSig = (Element) document.getElementsByTagName(&quot;SOAP-SEC:Signature&quot;).item(0);\r\n\t\tDOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), envHeaderSig);\r\n\r\n    \t// Create the XMLSignature, but don&#39;t sign it yet.\r\n    \tXMLSignature signature = fac.newXMLSignature(si, ki);\r\n\r\n    \ttry {\r\n\t\t\tsignature.sign(dsc);\t//ResourceResolverException: Cannot resolve element with ID Body\r\n\t\t} catch (MarshalException | XMLSignatureException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\nI have tried the solutions suggested here:\r\n\r\n&gt; https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java\r\n\r\nBut nothing worked.  Any ideas?  \r\n\r\nI have an example signature block created by PHP that I know works which doesn&#39;t have that whitespace.  I&#39;m trying to make my java output look just like it.","title":"How to prevent adding whitespace into java xml signature and certificate?","body":"<p>I'm signing part of an xml document but the resulting signature and certificate have unwanted whitespace in them.  For example, here is the signature:</p>\n\n<pre><code>    &lt;SignatureValue&gt;QcjPfiZcmqE8aMNH5AKVk+oFBYQ4LynV3a5YlJIxuf0y22QQ0NA2BTkRriI85dd/6Qcezf5xFguJ&amp;#13;\nV+Mlk44c0uZD7TE+NlsFz3q1vtHHPi/9ygc2kJgQeSzxiCR2AHCONN3UN89RjidIqnN1qtKrBhc+&amp;#13;\nGNeEGhjqgV7DHvzK7tHVkC6c1EevsOV5bH2Gu0X5JsGwOtSHWe6eyOXue0TW7XWrqOLmOusWYhRR&amp;#13;\nONJFoa49LQ4WV/RP498rp2TJ0bNE36PMWD6sMh52ERTj6NhngIl2cGjbbwzYteDN/ujo5bHmosmC&amp;#13;\ndVKBmgaw2YAICJy4BROyK7AmZI5BxKoZ6CY1Tw==&lt;/SignatureValue&gt;\n</code></pre>\n\n<p>and here is part of the certificate:</p>\n\n<pre><code>    &lt;X509Certificate&gt;MIIFtTCCBJ2gAwIBAgIQBsK927DS8wePBQjvzVX9BjANBgkqhkiG9w0BAQsFADBeMQswCQYDVQQG&amp;#13;\nEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMR0w&amp;#13;\nGwYDVQQDExRSYXBpZFNTTCBSU0EgQ0EgMjAxODAeFw0xOTA2MDcwMDAwMDBaFw0yMDA2MDYxMjAw&amp;#13;\n</code></pre>\n\n<p>notice how both have \"$#13;\" appended?</p>\n\n<p>Here is the code that does the signing:</p>\n\n<pre><code>    private void buildSignatureBlock5(String privateKeyPath, String publicKeyPath) {\n    // Create a DOM XMLSignatureFactory that will be used to\n    // generate the enveloped signature.\n    XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n\n    // Create a Reference to the enveloped document (in this case,\n    // you are signing just the element with Id=\"Body\", so a URI of \"#Body\" signifies\n    // that, and also specify the SHA1 digest algorithm and the ENVELOPED Transform.\n    Reference ref = null;\n    try {\n        ref = fac.newReference\n         (\"#Body\", fac.newDigestMethod(DigestMethod.SHA1, null),\n          Collections.singletonList\n           (fac.newTransform\n            (Transform.ENVELOPED, (TransformParameterSpec) null)),\n             null, null);\n    } catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    // Create the SignedInfo.\n    SignedInfo si = null;\n    try {\n        si = fac.newSignedInfo\n         (fac.newCanonicalizationMethod\n          (CanonicalizationMethod.INCLUSIVE,\n           (C14NMethodParameterSpec) null),\n            fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null),\n             Collections.singletonList(ref));\n    } catch (NoSuchAlgorithmException | InvalidAlgorithmParameterException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }       \n\n    // Load the KeyStore and get the signing key and certificate.\n    KeyStore ks = null;\n    try {\n        ks = KeyStore.getInstance(\"JKS\");\n    } catch (KeyStoreException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    try {\n        ks.load(new FileInputStream(storage_path +\"/keys/myproject.jks\"), \"changeit\".toCharArray());\n    } catch (NoSuchAlgorithmException | CertificateException | IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    KeyStore.PrivateKeyEntry keyEntry = null;\n    try {\n        keyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry\n            (\"1\", new KeyStore.PasswordProtection(\"changeit\".toCharArray()));\n    } catch (NoSuchAlgorithmException | UnrecoverableEntryException | KeyStoreException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\n\n    // Create the KeyInfo containing the X509Data.\n    KeyInfoFactory kif = fac.getKeyInfoFactory();\n    List x509Content = new ArrayList();\n    String issuerName = cert.getIssuerX500Principal().getName();\n    BigInteger serialNumber = cert.getSerialNumber();\n    X509IssuerSerial issuer = kif.newX509IssuerSerial(issuerName, serialNumber);\n    x509Content.add(issuer);\n    x509Content.add(cert);\n    X509Data xd = kif.newX509Data(x509Content);\n    KeyInfo ki = kif.newKeyInfo(Collections.singletonList(xd));    \n\n    // Create a DOMSignContext and specify the RSA PrivateKey and location of the resulting XMLSignature's parent element.\n    Element envHeaderSig = (Element) document.getElementsByTagName(\"SOAP-SEC:Signature\").item(0);\n    DOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), envHeaderSig);\n\n    // Create the XMLSignature, but don't sign it yet.\n    XMLSignature signature = fac.newXMLSignature(si, ki);\n\n    try {\n        signature.sign(dsc);    //ResourceResolverException: Cannot resolve element with ID Body\n    } catch (MarshalException | XMLSignatureException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I have tried the solutions suggested here:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/4728300/how-to-produce-xml-signature-with-no-whitespaces-and-line-breaks-in-java\">How to produce XML signature with no whitespaces and line-breaks in Java?</a></p>\n</blockquote>\n\n<p>But nothing worked.  Any ideas?  </p>\n\n<p>I have an example signature block created by PHP that I know works which doesn't have that whitespace.  I'm trying to make my java output look just like it.</p>\n"},{"tags":["java","spring-boot","application.properties"],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671005486,"creation_date":1671004754,"question_id":74795126,"body_markdown":"I have a SB application. Here are my configurations :\r\n\r\n**bootstrap.yml** \r\n\r\n    spring:\r\n      profiles:\r\n        active: ${ACTIVE_PROFILE}\r\n    \r\n    aws:\r\n      paramstore:\r\n        enabled: true\r\n        prefix: /abc\r\n        name: xyz/jkl/wer\r\n\r\nThen I have the below `application.yml` where I intend to keep common properties :\r\n\r\n    spring:\r\n      datasource:\r\n        url: ${DB_URL}\r\n        username: ${DB_USER}\r\n        password: ${DB_PASS}\r\n        driver-class-name: org.postgresql.Driver\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n      flyway:\r\n        baseline-on-migrate: true\r\n    \r\n    hibernate:\r\n      dialect: org.hibernate.dialect.PostgreSQLDialect\r\n      show_sql: true\r\n      #format_sql: true\r\n      #default_schema: operations\r\n    \r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: health,info,metrics,env,flyway\r\n      endpoint:\r\n        health:\r\n          probes:\r\n            enabled: true\r\n      health:\r\n        livenessState:\r\n          enabled: true\r\n        readinessState:\r\n          enabled: true\r\n\r\nThen I have env specific **application-local.yml :**\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\r\n        username: postgres\r\n        password: abc\r\n        driver-class-name: org.postgresql.Driver\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n      flyway:\r\n        baseline-on-migrate: true\r\n    \r\n    hibernate:\r\n      dialect: org.hibernate.dialect.PostgreSQLDialect\r\n      show_sql: true\r\n      #format_sql: true\r\n      #default_schema: operations\r\n    \r\n    # logback\r\n    logging:\r\n      level:\r\n        root: debug\r\n\r\nWhen I run the application I pass the env variable :**${ACTIVE_PROFILE}**  as  **local**.\r\n\r\nI get this error on running the app :\r\n\r\n    nested exception is java.lang.RuntimeException: \r\n    Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}\r\n\r\nActive Profile from Log :\r\n\r\n    The following 1 profile is active: &quot;local&quot;\r\n\r\nWhen I remove the db specific properties from application.yml, I get the below error :\r\n\r\n    Description:\r\n\r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\r\n\r\n**UPDATE:**\r\n\r\nI dont have the below configured for local, that is why I am overriding them in `application-local.yml`. But for higher env I have them configured.\r\n\r\n    url: ${DB_URL}\r\n    username: ${DB_USER}\r\n    password: ${DB_PASS}\r\nWhat I am expecting is `application-local.yml` file should override the `application.yml` file but I am not sure why `application-local.yml` is not getting read at all and why the properties are being taken from `application.yml` instead.","title":"application.yml is not getting overriden by application-local.yml","body":"<p>I have a SB application. Here are my configurations :</p>\n<p><strong>bootstrap.yml</strong></p>\n<pre><code>spring:\n  profiles:\n    active: ${ACTIVE_PROFILE}\n\naws:\n  paramstore:\n    enabled: true\n    prefix: /abc\n    name: xyz/jkl/wer\n</code></pre>\n<p>Then I have the below <code>application.yml</code> where I intend to keep common properties :</p>\n<pre><code>spring:\n  datasource:\n    url: ${DB_URL}\n    username: ${DB_USER}\n    password: ${DB_PASS}\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: update\n  flyway:\n    baseline-on-migrate: true\n\nhibernate:\n  dialect: org.hibernate.dialect.PostgreSQLDialect\n  show_sql: true\n  #format_sql: true\n  #default_schema: operations\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,metrics,env,flyway\n  endpoint:\n    health:\n      probes:\n        enabled: true\n  health:\n    livenessState:\n      enabled: true\n    readinessState:\n      enabled: true\n</code></pre>\n<p>Then I have env specific <strong>application-local.yml :</strong></p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres?useSSL=false\n    username: postgres\n    password: abc\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: update\n  flyway:\n    baseline-on-migrate: true\n\nhibernate:\n  dialect: org.hibernate.dialect.PostgreSQLDialect\n  show_sql: true\n  #format_sql: true\n  #default_schema: operations\n\n# logback\nlogging:\n  level:\n    root: debug\n</code></pre>\n<p>When I run the application I pass the env variable :<strong>${ACTIVE_PROFILE}</strong>  as  <strong>local</strong>.</p>\n<p>I get this error on running the app :</p>\n<pre><code>nested exception is java.lang.RuntimeException: \nDriver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}\n</code></pre>\n<p>Active Profile from Log :</p>\n<pre><code>The following 1 profile is active: &quot;local&quot;\n</code></pre>\n<p>When I remove the db specific properties from application.yml, I get the below error :</p>\n<pre><code>Description:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (the profiles local are currently active).\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>I dont have the below configured for local, that is why I am overriding them in <code>application-local.yml</code>. But for higher env I have them configured.</p>\n<pre><code>url: ${DB_URL}\nusername: ${DB_USER}\npassword: ${DB_PASS}\n</code></pre>\n<p>What I am expecting is <code>application-local.yml</code> file should override the <code>application.yml</code> file but I am not sure why <code>application-local.yml</code> is not getting read at all and why the properties are being taken from <code>application.yml</code> instead.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671005166,"creation_date":1671005166,"answer_id":74795182,"question_id":74786817,"body_markdown":"The documentation you linked to seems clear to me. Emphasise is mine.\r\n\r\n&gt; Auto-configuration is non-invasive. At any point, you can start to define your own configuration to replace specific parts of the auto-configuration. For example, **if you add your own DataSource bean, the default embedded database support backs away**.\r\n\r\n`@Primary` or the bean name is not mentioned at all, so I&#39;m not sure why you would expect it to be relevant.\r\n\r\nIt even describes in the following paragraph how to run you application so you can see which autoconfigurations are applied and why (not).\r\n\r\n&gt; If you need to find out what auto-configuration is currently being applied, and why, start your application with the --debug switch. Doing so enables debug logs for a selection of core loggers and logs a conditions report to the console.\r\n","title":"Does defining a DataSource bean automatically stop spring auto-config, even if the data source is not annotated with @Primary?","body":"<p>The documentation you linked to seems clear to me. Emphasise is mine.</p>\n<blockquote>\n<p>Auto-configuration is non-invasive. At any point, you can start to define your own configuration to replace specific parts of the auto-configuration. For example, <strong>if you add your own DataSource bean, the default embedded database support backs away</strong>.</p>\n</blockquote>\n<p><code>@Primary</code> or the bean name is not mentioned at all, so I'm not sure why you would expect it to be relevant.</p>\n<p>It even describes in the following paragraph how to run you application so you can see which autoconfigurations are applied and why (not).</p>\n<blockquote>\n<p>If you need to find out what auto-configuration is currently being applied, and why, start your application with the --debug switch. Doing so enables debug logs for a selection of core loggers and logs a conditions report to the console.</p>\n</blockquote>\n"}],"owner":{"account_id":25910091,"reputation":31,"user_id":19634506,"display_name":"horsemanwithnoname"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671005166,"creation_date":1670943658,"question_id":74786817,"body_markdown":"The Spring Boot [documentation][1] states that if you add your own `DataSource` bean, spring will not handle the Auto-configuration anymore.\r\n\r\nBasically, I want to have two data sources in my project. I was thinking that I can explicitly config the second ds, and not annotate it with `@Primary`, and Spring will do the auto-config for the primary data source. After trying to do this without any success and reading the docs, it is still unclear to me what they really mean. Does declaring any bean of type `DataSource` stop the auto config, even if it&#39;s not the primary one? Or is the auto config stopped only if you annotate the bean with `@Primary` / leave it with the default name (which I believe is simply &quot;dataSource&quot;). I have manually configured the default data source so I know how to do that, but I want to know if it&#39;s really necessary.\r\n\r\nThanks, any help would be really appreciated, as I have been stuck on this one for a while now.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.auto-configuration.replacing","title":"Does defining a DataSource bean automatically stop spring auto-config, even if the data source is not annotated with @Primary?","body":"<p>The Spring Boot <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.auto-configuration.replacing\" rel=\"nofollow noreferrer\">documentation</a> states that if you add your own <code>DataSource</code> bean, spring will not handle the Auto-configuration anymore.</p>\n<p>Basically, I want to have two data sources in my project. I was thinking that I can explicitly config the second ds, and not annotate it with <code>@Primary</code>, and Spring will do the auto-config for the primary data source. After trying to do this without any success and reading the docs, it is still unclear to me what they really mean. Does declaring any bean of type <code>DataSource</code> stop the auto config, even if it's not the primary one? Or is the auto config stopped only if you annotate the bean with <code>@Primary</code> / leave it with the default name (which I believe is simply &quot;dataSource&quot;). I have manually configured the default data source so I know how to do that, but I want to know if it's really necessary.</p>\n<p>Thanks, any help would be really appreciated, as I have been stuck on this one for a while now.</p>\n"},{"tags":["java","set","cartesian-product"],"answers":[{"comments":[{"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"score":0,"creation_date":1238771028,"post_id":714256,"comment_id":526518,"body_markdown":"I think this is a really great way to deal with Pairs. If he does not know if he might need pairs, triples, quadrupels... then it&#39;s not directly fitting, but he could use Pair&lt;Pair&lt;Person,Gift&gt;,GiftExtension&gt; i think.","body":"I think this is a really great way to deal with Pairs. If he does not know if he might need pairs, triples, quadrupels... then it&#39;s not directly fitting, but he could use Pair&lt;Pair&lt;Person,Gift&gt;,GiftExtension&gt; i think."},{"owner":{"account_id":1116124,"reputation":499,"user_id":3721542,"display_name":"Marco"},"score":1,"creation_date":1564486285,"post_id":714256,"comment_id":101039334,"body_markdown":"The return type should be `Set&lt;List&lt;Object&gt;&gt;`, otherwise you might get sets of different size in the result (because duplicates).","body":"The return type should be <code>Set&lt;List&lt;Object&gt;&gt;</code>, otherwise you might get sets of different size in the result (because duplicates)."},{"owner":{"account_id":6515929,"reputation":569,"user_id":5041759,"accept_rate":25,"display_name":"foobar"},"score":0,"creation_date":1586766302,"post_id":714256,"comment_id":108238573,"body_markdown":"If I change argument of ```cartesianProduct``` to ArrayList, the cartesian products is returned by reversed order. I mean, first element of cartesian product will be element of last set given. Why is that?","body":"If I change argument of <code>cartesianProduct</code> to ArrayList, the cartesian products is returned by reversed order. I mean, first element of cartesian product will be element of last set given. Why is that?"},{"owner":{"account_id":6515929,"reputation":569,"user_id":5041759,"accept_rate":25,"display_name":"foobar"},"score":0,"creation_date":1586768487,"post_id":714256,"comment_id":108239487,"body_markdown":"How to change the arguments to ```ArrayList&lt;ArrayList&lt;Double&gt;&gt;``` and return the method in ```ArrayList&lt;ArrayList&lt;Double&gt;&gt;``` data type? When I do modifications, the ordering of cartesian product changes.","body":"How to change the arguments to <code>ArrayList&lt;ArrayList&lt;Double&gt;&gt;</code> and return the method in <code>ArrayList&lt;ArrayList&lt;Double&gt;&gt;</code> data type? When I do modifications, the ordering of cartesian product changes."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1586789281,"post_id":714256,"comment_id":108249399,"body_markdown":"@MuhammadAshfaq Probably the simplest way is to reorder the output afterwards. Sets don&#39;t have ordering, so my method doesn&#39;t concern itself at all with order.","body":"@MuhammadAshfaq Probably the simplest way is to reorder the output afterwards. Sets don&#39;t have ordering, so my method doesn&#39;t concern itself at all with order."},{"owner":{"account_id":6515929,"reputation":569,"user_id":5041759,"accept_rate":25,"display_name":"foobar"},"score":0,"creation_date":1586838811,"post_id":714256,"comment_id":108268082,"body_markdown":"I get this error when number of pairs are equal to 3147776. Python successfully creates cartesian product but the code you provided, gives this error:\n```Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n\tat java.util.HashMap$KeySet.iterator(HashMap.java:917)\n\tat java.util.HashSet.iterator(HashSet.java:173)\n\tat twelveBead.TwelveBeadScalednD._cartesianProduct(TwelveBeadScalednD.java:62)```\nEven if I assign heap space to 10 gb, same error persists. It means there is some memory leak in this code.","body":"I get this error when number of pairs are equal to 3147776. Python successfully creates cartesian product but the code you provided, gives this error: <code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space \tat java.util.HashMap$KeySet.iterator(HashMap.java:917) \tat java.util.HashSet.iterator(HashSet.java:173) \tat twelveBead.TwelveBeadScalednD._cartesianProduct(TwelveBeadSc&zwnj;&#8203;alednD.java:62)</code> Even if I assign heap space to 10 gb, same error persists. It means there is some memory leak in this code."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1605471646,"post_id":714256,"comment_id":114654287,"body_markdown":"`_cartesianProduct(0, new HashSet() {{ add(new HashSet() {{ add(1); add(2); }}); add(new HashSet() {{ add(&#39;a&#39;); add(&#39;b&#39;); }});}})` gives output of `[[[1, 2]], [[a, b]]]` which looks like not what the OP asked....","body":"<code>_cartesianProduct(0, new HashSet() {{ add(new HashSet() {{ add(1); add(2); }}); add(new HashSet() {{ add(&#39;a&#39;); add(&#39;b&#39;); }});}})</code> gives output of <code>[[[1, 2]], [[a, b]]]</code> which looks like not what the OP asked...."}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":7,"down_vote_count":3,"up_vote_count":50,"is_accepted":true,"score":47,"last_activity_date":1403085769,"creation_date":1238770112,"answer_id":714256,"question_id":714108,"body_markdown":"***Edit:** Previous solutions for two sets removed. See edit history for details.*\r\n\r\nHere is a way to do it recursively for an arbitrary number of sets:\r\n\r\n    public static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\r\n        if (sets.length &lt; 2)\r\n            throw new IllegalArgumentException(\r\n                    &quot;Can&#39;t have a product of fewer than two sets (got &quot; +\r\n                    sets.length + &quot;)&quot;);\r\n\r\n        return _cartesianProduct(0, sets);\r\n    }\r\n\r\n    private static Set&lt;Set&lt;Object&gt;&gt; _cartesianProduct(int index, Set&lt;?&gt;... sets) {\r\n        Set&lt;Set&lt;Object&gt;&gt; ret = new HashSet&lt;Set&lt;Object&gt;&gt;();\r\n        if (index == sets.length) {\r\n            ret.add(new HashSet&lt;Object&gt;());\r\n        } else {\r\n            for (Object obj : sets[index]) {\r\n                for (Set&lt;Object&gt; set : _cartesianProduct(index+1, sets)) {\r\n                    set.add(obj);\r\n                    ret.add(set);\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\nNote that it is impossible to keep any generic type information with the returned sets. If you knew in advance how many sets you wanted to take the product of, you could define a generic tuple to hold that many elements (for instance `Triple&lt;A, B, C&gt;`), but there is no way to have an arbitrary number of generic parameters in Java.","title":"Cartesian product of an arbitrary number of sets","body":"<p><strong><em>Edit:</strong> Previous solutions for two sets removed. See edit history for details.</em></p>\n\n<p>Here is a way to do it recursively for an arbitrary number of sets:</p>\n\n<pre><code>public static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\n    if (sets.length &lt; 2)\n        throw new IllegalArgumentException(\n                \"Can't have a product of fewer than two sets (got \" +\n                sets.length + \")\");\n\n    return _cartesianProduct(0, sets);\n}\n\nprivate static Set&lt;Set&lt;Object&gt;&gt; _cartesianProduct(int index, Set&lt;?&gt;... sets) {\n    Set&lt;Set&lt;Object&gt;&gt; ret = new HashSet&lt;Set&lt;Object&gt;&gt;();\n    if (index == sets.length) {\n        ret.add(new HashSet&lt;Object&gt;());\n    } else {\n        for (Object obj : sets[index]) {\n            for (Set&lt;Object&gt; set : _cartesianProduct(index+1, sets)) {\n                set.add(obj);\n                ret.add(set);\n            }\n        }\n    }\n    return ret;\n}\n</code></pre>\n\n<p>Note that it is impossible to keep any generic type information with the returned sets. If you knew in advance how many sets you wanted to take the product of, you could define a generic tuple to hold that many elements (for instance <code>Triple&lt;A, B, C&gt;</code>), but there is no way to have an arbitrary number of generic parameters in Java.</p>\n"},{"comments":[{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":1,"creation_date":1676941594,"post_id":714547,"comment_id":133234515,"body_markdown":"Hints may be good as a comment, but are not good as an answer. They take up a lot of space that can be used for answers.","body":"Hints may be good as a comment, but are not good as an answer. They take up a lot of space that can be used for answers."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":6,"up_vote_count":18,"is_accepted":false,"score":12,"last_activity_date":1238773958,"creation_date":1238773958,"answer_id":714547,"question_id":714108,"body_markdown":"&gt; The number of sets might vary so I\r\n&gt; cannot do this in nested foreach loop.\r\n\r\nTwo hints:\r\n\r\n - A x B x C = A x (B x C)\r\n - Recursion ","title":"Cartesian product of an arbitrary number of sets","body":"<blockquote>\n  <p>The number of sets might vary so I\n  cannot do this in nested foreach loop.</p>\n</blockquote>\n\n<p>Two hints:</p>\n\n<ul>\n<li>A x B x C = A x (B x C)</li>\n<li>Recursion </li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"score":0,"creation_date":1238799054,"post_id":715838,"comment_id":528092,"body_markdown":"note that fj.data.Set does not have a bind method, but it does have toStream() and iterableSet(Iterable) to convert to/from fj.data.Stream which does have a bind method.","body":"note that fj.data.Set does not have a bind method, but it does have toStream() and iterableSet(Iterable) to convert to/from fj.data.Stream which does have a bind method."}],"tags":[],"owner":{"display_name":"Tony Morrris"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1627140659,"creation_date":1238794921,"answer_id":715838,"question_id":714108,"body_markdown":"Yes, there is [Functional Java][1].\r\n\r\nFor a set `s`:\r\n\r\n    s.bind(P.p2(), s);\r\n\r\n\r\n  [1]: http://functionaljava.org/","title":"Cartesian product of an arbitrary number of sets","body":"<p>Yes, there is <a href=\"http://functionaljava.org/\" rel=\"nofollow noreferrer\">Functional Java</a>.</p>\n<p>For a set <code>s</code>:</p>\n<pre><code>s.bind(P.p2(), s);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"score":0,"creation_date":1485050811,"post_id":9496234,"comment_id":70762990,"body_markdown":"would the time complexity for this be O(n)^2","body":"would the time complexity for this be O(n)^2"}],"tags":[],"owner":{"account_id":1286917,"reputation":241,"user_id":1239812,"display_name":"Philipp Meister"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1399562551,"creation_date":1330506449,"answer_id":9496234,"question_id":714108,"body_markdown":"The method below creates the cartesian product of a list of list of strings:\r\n\r\n    protected &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(List&lt;List&lt;T&gt;&gt; lists) {\r\n        List&lt;List&lt;T&gt;&gt; resultLists = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n        if (lists.size() == 0) {\r\n            resultLists.add(new ArrayList&lt;T&gt;());\r\n            return resultLists;\r\n        } else {\r\n            List&lt;T&gt; firstList = lists.get(0);\r\n            List&lt;List&lt;T&gt;&gt; remainingLists = cartesianProduct(lists.subList(1, lists.size()));\r\n            for (T condition : firstList) {\r\n                for (List&lt;T&gt; remainingList : remainingLists) {\r\n                    ArrayList&lt;T&gt; resultList = new ArrayList&lt;T&gt;();\r\n                    resultList.add(condition);\r\n                    resultList.addAll(remainingList);\r\n                    resultLists.add(resultList);\r\n                }\r\n            }\r\n        }\r\n        return resultLists;\r\n    }\r\n\r\nExample:\r\n\r\n    System.out.println(cartesianProduct(Arrays.asList(Arrays.asList(&quot;Apple&quot;, &quot;Banana&quot;), Arrays.asList(&quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;))));\r\n\r\nwould yield this:\r\n\r\n    [[Apple, Red], [Apple, Green], [Apple, Blue], [Banana, Red], [Banana, Green], [Banana, Blue]]\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p>The method below creates the cartesian product of a list of list of strings:</p>\n\n<pre><code>protected &lt;T&gt; List&lt;List&lt;T&gt;&gt; cartesianProduct(List&lt;List&lt;T&gt;&gt; lists) {\n    List&lt;List&lt;T&gt;&gt; resultLists = new ArrayList&lt;List&lt;T&gt;&gt;();\n    if (lists.size() == 0) {\n        resultLists.add(new ArrayList&lt;T&gt;());\n        return resultLists;\n    } else {\n        List&lt;T&gt; firstList = lists.get(0);\n        List&lt;List&lt;T&gt;&gt; remainingLists = cartesianProduct(lists.subList(1, lists.size()));\n        for (T condition : firstList) {\n            for (List&lt;T&gt; remainingList : remainingLists) {\n                ArrayList&lt;T&gt; resultList = new ArrayList&lt;T&gt;();\n                resultList.add(condition);\n                resultList.addAll(remainingList);\n                resultLists.add(resultList);\n            }\n        }\n    }\n    return resultLists;\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>System.out.println(cartesianProduct(Arrays.asList(Arrays.asList(\"Apple\", \"Banana\"), Arrays.asList(\"Red\", \"Green\", \"Blue\"))));\n</code></pre>\n\n<p>would yield this:</p>\n\n<pre><code>[[Apple, Red], [Apple, Green], [Apple, Blue], [Banana, Red], [Banana, Green], [Banana, Blue]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35744,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1334035246,"creation_date":1334035246,"answer_id":10083452,"question_id":714108,"body_markdown":"Here is an Iterable, which allows you to use a simplified for-loop: \r\n\r\n    import java.util.*;\r\n    \r\n    // let&#39;s begin with the demo. Instead of Person and Gift, \r\n    // I use the well known char and int. \r\n    class CartesianIteratorTest {\r\n    \r\n    \tpublic static void main (String[] args) {\r\n    \t\tList &lt;Object&gt; lc = Arrays.asList (new Object [] {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;});\r\n    \t\tList &lt;Object&gt; lC = Arrays.asList (new Object [] {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;});  \t\r\n    \t\tList &lt;Object&gt; li = Arrays.asList (new Object [] {1, 2, 3, 4});\r\n                // sometimes, a generic solution like List &lt;List &lt;String&gt;&gt;\r\n                // might be possible to use - typically, a mixture of types is \r\n                // the common nominator \r\n    \t\tList &lt;List &lt;Object&gt;&gt; llo = new ArrayList &lt;List &lt;Object&gt;&gt; ();\r\n    \t\tllo.add (lc);\r\n    \t\tllo.add (lC);\r\n    \t\tllo.add (li);\r\n\r\n            // Preparing the List of Lists is some work, but then ...    \r\n\t \t    CartesianIterable &lt;Object&gt; ci = new CartesianIterable &lt;Object&gt; (llo);\r\n\r\n    \t\tfor (List &lt;Object&gt; lo: ci)\r\n    \t\t\tshow (lo);\r\n    \t}\r\n    \r\n    \tpublic static void show (List &lt;Object&gt; lo) {\r\n    \t\tSystem.out.print (&quot;(&quot;);\r\n    \t\tfor (Object o: lo)\r\n    \t\t  \tSystem.out.print (o + &quot;, &quot;);\r\n    \t\tSystem.out.println (&quot;)&quot;);\r\n    \t}\r\n    }\r\n\r\nHow is it done? We need an Iterable, to use the simplified for-loop, and an Iterator has to be returned from the Iterable. \r\nWe return a List of Objects - this could be a Set instead of List, but Set has no indexed access, so it would be a bit more complicated, to implement it with Set instead of List. Instead of a generic solution, Object would have been fine for many purposes, but generics allow for more restrictions. \r\n    \r\n    class CartesianIterator &lt;T&gt; implements Iterator &lt;List &lt;T&gt;&gt; {\r\n    \t\r\n    \tprivate final List &lt;List &lt;T&gt;&gt; lilio;\t\r\n    \tprivate int current = 0;\r\n    \tprivate final long last;\r\n    \t\r\n    \tpublic CartesianIterator (final List &lt;List &lt;T&gt;&gt; llo) {\r\n    \t\tlilio = llo;\r\n    \t\tlong product = 1L;\r\n    \t\tfor (List &lt;T&gt; lio: lilio)\r\n    \t\t\tproduct *= lio.size ();\r\n    \t\tlast = product;\r\n    \t} \r\n    \r\n    \tpublic boolean hasNext () {\r\n    \t\treturn current != last;\r\n    \t}\r\n    \r\n    \tpublic List &lt;T&gt; next () {\r\n    \t\t++current;\r\n    \t\treturn get (current - 1, lilio);\r\n    \t}\r\n    \r\n    \tpublic void remove () {\r\n    \t\t++current;\r\n    \t}\r\n    \t\t\r\n    \tprivate List&lt;T&gt; get (final int n, final List &lt;List &lt;T&gt;&gt; lili) {\r\n    \t\tswitch (lili.size ())\r\n    \t\t{\r\n    \t\t\tcase 0: return new ArrayList &lt;T&gt; (); // no break past return;\r\n    \t\t\tdefault: {\r\n    \t\t\t\tList &lt;T&gt; inner = lili.get (0);\r\n    \t\t\t\tList &lt;T&gt; lo = new ArrayList &lt;T&gt; ();\r\n    \t\t\t\tlo.add (inner.get (n % inner.size ()));\r\n    \t\t\t\tlo.addAll (get (n / inner.size (), lili.subList (1, lili.size ())));\r\n    \t\t\t\treturn lo;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe mathematical work is done in the &#39;get&#39;-method. Think about 2 sets of 10 elements. You have a total of 100 combinations, enumerated from 00, 01, 02, ... 10, ... to 99. For 5 X 10 elements 50, for 2 X 3 elements 6 combinations. The modulo of the sublist size helps to pick one element for each iteration. \r\n    \r\nIterable i the least interesting thing here: \r\n\r\n    class CartesianIterable &lt;T&gt; implements Iterable &lt;List &lt;T&gt;&gt; {\r\n    \r\n    \tprivate List &lt;List &lt;T&gt;&gt; lilio;\t\r\n    \t\t\r\n    \tpublic CartesianIterable (List &lt;List &lt;T&gt;&gt; llo) {\r\n    \t\tlilio = llo;\r\n    \t}\r\n    \r\n    \tpublic Iterator &lt;List &lt;T&gt;&gt; iterator () {\r\n    \t\treturn new CartesianIterator &lt;T&gt; (lilio);\r\n    \t}\r\n    }\r\n        \r\n\r\nTo implement Iterable, which allows the for-each kind of loop, we have to implement iterator (), and for Iterator we have to implement hasNext (), next () and remove (). \r\n\r\nResult: \r\n\r\n    (A, a, 1, )\r\n    (B, a, 1, )\r\n    (C, a, 1, )\r\n    (D, a, 1, )\r\n    (A, b, 1, )\r\n    (B, b, 1, )\r\n    (C, b, 1, )\r\n    (D, b, 1, )\r\n    ...\r\n    (A, a, 2, )\r\n    ...\r\n    (C, c, 4, )\r\n    (D, c, 4, )\r\n\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p>Here is an Iterable, which allows you to use a simplified for-loop: </p>\n\n<pre><code>import java.util.*;\n\n// let's begin with the demo. Instead of Person and Gift, \n// I use the well known char and int. \nclass CartesianIteratorTest {\n\n    public static void main (String[] args) {\n        List &lt;Object&gt; lc = Arrays.asList (new Object [] {'A', 'B', 'C', 'D'});\n        List &lt;Object&gt; lC = Arrays.asList (new Object [] {'a', 'b', 'c'});   \n        List &lt;Object&gt; li = Arrays.asList (new Object [] {1, 2, 3, 4});\n            // sometimes, a generic solution like List &lt;List &lt;String&gt;&gt;\n            // might be possible to use - typically, a mixture of types is \n            // the common nominator \n        List &lt;List &lt;Object&gt;&gt; llo = new ArrayList &lt;List &lt;Object&gt;&gt; ();\n        llo.add (lc);\n        llo.add (lC);\n        llo.add (li);\n\n        // Preparing the List of Lists is some work, but then ...    \n        CartesianIterable &lt;Object&gt; ci = new CartesianIterable &lt;Object&gt; (llo);\n\n        for (List &lt;Object&gt; lo: ci)\n            show (lo);\n    }\n\n    public static void show (List &lt;Object&gt; lo) {\n        System.out.print (\"(\");\n        for (Object o: lo)\n            System.out.print (o + \", \");\n        System.out.println (\")\");\n    }\n}\n</code></pre>\n\n<p>How is it done? We need an Iterable, to use the simplified for-loop, and an Iterator has to be returned from the Iterable. \nWe return a List of Objects - this could be a Set instead of List, but Set has no indexed access, so it would be a bit more complicated, to implement it with Set instead of List. Instead of a generic solution, Object would have been fine for many purposes, but generics allow for more restrictions. </p>\n\n<pre><code>class CartesianIterator &lt;T&gt; implements Iterator &lt;List &lt;T&gt;&gt; {\n\n    private final List &lt;List &lt;T&gt;&gt; lilio;    \n    private int current = 0;\n    private final long last;\n\n    public CartesianIterator (final List &lt;List &lt;T&gt;&gt; llo) {\n        lilio = llo;\n        long product = 1L;\n        for (List &lt;T&gt; lio: lilio)\n            product *= lio.size ();\n        last = product;\n    } \n\n    public boolean hasNext () {\n        return current != last;\n    }\n\n    public List &lt;T&gt; next () {\n        ++current;\n        return get (current - 1, lilio);\n    }\n\n    public void remove () {\n        ++current;\n    }\n\n    private List&lt;T&gt; get (final int n, final List &lt;List &lt;T&gt;&gt; lili) {\n        switch (lili.size ())\n        {\n            case 0: return new ArrayList &lt;T&gt; (); // no break past return;\n            default: {\n                List &lt;T&gt; inner = lili.get (0);\n                List &lt;T&gt; lo = new ArrayList &lt;T&gt; ();\n                lo.add (inner.get (n % inner.size ()));\n                lo.addAll (get (n / inner.size (), lili.subList (1, lili.size ())));\n                return lo;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The mathematical work is done in the 'get'-method. Think about 2 sets of 10 elements. You have a total of 100 combinations, enumerated from 00, 01, 02, ... 10, ... to 99. For 5 X 10 elements 50, for 2 X 3 elements 6 combinations. The modulo of the sublist size helps to pick one element for each iteration. </p>\n\n<p>Iterable i the least interesting thing here: </p>\n\n<pre><code>class CartesianIterable &lt;T&gt; implements Iterable &lt;List &lt;T&gt;&gt; {\n\n    private List &lt;List &lt;T&gt;&gt; lilio;  \n\n    public CartesianIterable (List &lt;List &lt;T&gt;&gt; llo) {\n        lilio = llo;\n    }\n\n    public Iterator &lt;List &lt;T&gt;&gt; iterator () {\n        return new CartesianIterator &lt;T&gt; (lilio);\n    }\n}\n</code></pre>\n\n<p>To implement Iterable, which allows the for-each kind of loop, we have to implement iterator (), and for Iterator we have to implement hasNext (), next () and remove (). </p>\n\n<p>Result: </p>\n\n<pre><code>(A, a, 1, )\n(B, a, 1, )\n(C, a, 1, )\n(D, a, 1, )\n(A, b, 1, )\n(B, b, 1, )\n(C, b, 1, )\n(D, b, 1, )\n...\n(A, a, 2, )\n...\n(C, c, 4, )\n(D, c, 4, )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1551949,"reputation":121,"user_id":1444139,"display_name":"Remko Popma"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1463943953,"creation_date":1339146759,"answer_id":10946027,"question_id":714108,"body_markdown":"**Index-based solution**\r\n\r\nWorking with the indices is an alternative that is fast and memory-efficient and can handle any number of sets. Implementing Iterable allows easy use in a for-each loop. See the #main method for a usage example.\r\n\r\n    public class CartesianProduct implements Iterable&lt;int[]&gt;, Iterator&lt;int[]&gt; {\r\n    \r\n    \tprivate final int[] _lengths;\r\n    \tprivate final int[] _indices;\r\n    \tprivate boolean _hasNext = true;\r\n    \r\n    \tpublic CartesianProduct(int[] lengths) {\r\n    \t\t_lengths = lengths;\r\n    \t\t_indices = new int[lengths.length];\r\n    \t}\r\n    \r\n    \tpublic boolean hasNext() {\r\n    \t\treturn _hasNext;\r\n    \t}\r\n    \r\n    \tpublic int[] next() {\r\n    \t\tint[] result = Arrays.copyOf(_indices, _indices.length);\r\n    \t\tfor (int i = _indices.length - 1; i &gt;= 0; i--) {\r\n    \t\t\tif (_indices[i] == _lengths[i] - 1) {\r\n    \t\t\t\t_indices[i] = 0;\r\n    \t\t\t\tif (i == 0) {\r\n    \t\t\t\t\t_hasNext = false;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\t_indices[i]++;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic Iterator&lt;int[]&gt; iterator() {\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic void remove() {\r\n    \t\tthrow new UnsupportedOperationException();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Usage example. Prints out\r\n    \t * \r\n    \t * &lt;pre&gt;\r\n    \t * [0, 0, 0] a, NANOSECONDS, 1\r\n    \t * [0, 0, 1] a, NANOSECONDS, 2\r\n    \t * [0, 0, 2] a, NANOSECONDS, 3\r\n    \t * [0, 0, 3] a, NANOSECONDS, 4\r\n    \t * [0, 1, 0] a, MICROSECONDS, 1\r\n    \t * [0, 1, 1] a, MICROSECONDS, 2\r\n    \t * [0, 1, 2] a, MICROSECONDS, 3\r\n    \t * [0, 1, 3] a, MICROSECONDS, 4\r\n    \t * [0, 2, 0] a, MILLISECONDS, 1\r\n    \t * [0, 2, 1] a, MILLISECONDS, 2\r\n    \t * [0, 2, 2] a, MILLISECONDS, 3\r\n    \t * [0, 2, 3] a, MILLISECONDS, 4\r\n    \t * [0, 3, 0] a, SECONDS, 1\r\n    \t * [0, 3, 1] a, SECONDS, 2\r\n    \t * [0, 3, 2] a, SECONDS, 3\r\n    \t * [0, 3, 3] a, SECONDS, 4\r\n    \t * [0, 4, 0] a, MINUTES, 1\r\n    \t * [0, 4, 1] a, MINUTES, 2\r\n    \t * ...\r\n    \t * &lt;/pre&gt;\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] list1 = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, };\r\n    \t\tTimeUnit[] list2 = TimeUnit.values();\r\n    \t\tint[] list3 = new int[] { 1, 2, 3, 4 };\r\n    \r\n    \t\tint[] lengths = new int[] { list1.length, list2.length, list3.length };\r\n    \t\tfor (int[] indices : new CartesianProduct(lengths)) {\r\n    \t\t\tSystem.out.println(Arrays.toString(indices) //\r\n    \t\t\t\t\t+ &quot; &quot; + list1[indices[0]] //\r\n    \t\t\t\t\t+ &quot;, &quot; + list2[indices[1]] //\r\n    \t\t\t\t\t+ &quot;, &quot; + list3[indices[2]]);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p><strong>Index-based solution</strong></p>\n\n<p>Working with the indices is an alternative that is fast and memory-efficient and can handle any number of sets. Implementing Iterable allows easy use in a for-each loop. See the #main method for a usage example.</p>\n\n<pre><code>public class CartesianProduct implements Iterable&lt;int[]&gt;, Iterator&lt;int[]&gt; {\n\n    private final int[] _lengths;\n    private final int[] _indices;\n    private boolean _hasNext = true;\n\n    public CartesianProduct(int[] lengths) {\n        _lengths = lengths;\n        _indices = new int[lengths.length];\n    }\n\n    public boolean hasNext() {\n        return _hasNext;\n    }\n\n    public int[] next() {\n        int[] result = Arrays.copyOf(_indices, _indices.length);\n        for (int i = _indices.length - 1; i &gt;= 0; i--) {\n            if (_indices[i] == _lengths[i] - 1) {\n                _indices[i] = 0;\n                if (i == 0) {\n                    _hasNext = false;\n                }\n            } else {\n                _indices[i]++;\n                break;\n            }\n        }\n        return result;\n    }\n\n    public Iterator&lt;int[]&gt; iterator() {\n        return this;\n    }\n\n    public void remove() {\n        throw new UnsupportedOperationException();\n    }\n\n    /**\n     * Usage example. Prints out\n     * \n     * &lt;pre&gt;\n     * [0, 0, 0] a, NANOSECONDS, 1\n     * [0, 0, 1] a, NANOSECONDS, 2\n     * [0, 0, 2] a, NANOSECONDS, 3\n     * [0, 0, 3] a, NANOSECONDS, 4\n     * [0, 1, 0] a, MICROSECONDS, 1\n     * [0, 1, 1] a, MICROSECONDS, 2\n     * [0, 1, 2] a, MICROSECONDS, 3\n     * [0, 1, 3] a, MICROSECONDS, 4\n     * [0, 2, 0] a, MILLISECONDS, 1\n     * [0, 2, 1] a, MILLISECONDS, 2\n     * [0, 2, 2] a, MILLISECONDS, 3\n     * [0, 2, 3] a, MILLISECONDS, 4\n     * [0, 3, 0] a, SECONDS, 1\n     * [0, 3, 1] a, SECONDS, 2\n     * [0, 3, 2] a, SECONDS, 3\n     * [0, 3, 3] a, SECONDS, 4\n     * [0, 4, 0] a, MINUTES, 1\n     * [0, 4, 1] a, MINUTES, 2\n     * ...\n     * &lt;/pre&gt;\n     */\n    public static void main(String[] args) {\n        String[] list1 = { \"a\", \"b\", \"c\", };\n        TimeUnit[] list2 = TimeUnit.values();\n        int[] list3 = new int[] { 1, 2, 3, 4 };\n\n        int[] lengths = new int[] { list1.length, list2.length, list3.length };\n        for (int[] indices : new CartesianProduct(lengths)) {\n            System.out.println(Arrays.toString(indices) //\n                    + \" \" + list1[indices[0]] //\n                    + \", \" + list2[indices[1]] //\n                    + \", \" + list3[indices[2]]);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":10,"creation_date":1444849221,"post_id":20001337,"comment_id":54078479,"body_markdown":"Because that was implemented after the question was posted. See http://stackoverflow.com/a/1723050/600500.","body":"Because that was implemented after the question was posted. See <a href=\"http://stackoverflow.com/a/1723050/600500\">stackoverflow.com/a/1723050/600500</a>."},{"owner":{"account_id":1259191,"reputation":5458,"user_id":1217989,"accept_rate":74,"display_name":"Luan Nico"},"score":0,"creation_date":1493897046,"post_id":20001337,"comment_id":74603192,"body_markdown":"Currently, this is the easier solution ;)","body":"Currently, this is the easier solution ;)"}],"tags":[],"owner":{"account_id":6469,"reputation":1801,"user_id":10889,"accept_rate":73,"display_name":"Martin Andersson"},"comment_count":2,"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1493897025,"creation_date":1384519310,"answer_id":20001337,"question_id":714108,"body_markdown":"This is a pretty old question, but why not use [Guava&#39;s cartesianProduct][1]?\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-","title":"Cartesian product of an arbitrary number of sets","body":"<p>This is a pretty old question, but why not use <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-\" rel=\"noreferrer\">Guava's cartesianProduct</a>?</p>\n"},{"tags":[],"owner":{"account_id":473776,"reputation":4299,"user_id":883073,"accept_rate":76,"display_name":"bisgardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477573668,"creation_date":1429482240,"answer_id":29736597,"question_id":714108,"body_markdown":"Here is an `Iterator` that gives the cartesian product of a two-dimensional array, where the arrays components represent the sets from the question (one can always convert actual `Set`s to arrays):\r\n\r\n    public class CartesianIterator&lt;T&gt; implements Iterator&lt;T[]&gt; {\r\n        private final T[][] sets;\r\n        private final IntFunction&lt;T[]&gt; arrayConstructor;\r\n        \r\n        private int count = 0;\r\n        private T[] next = null;\r\n        \r\n        public CartesianIterator(T[][] sets, IntFunction&lt;T[]&gt; arrayConstructor) {\r\n            Objects.requireNonNull(sets);\r\n            Objects.requireNonNull(arrayConstructor);\r\n            \r\n            this.sets = copySets(sets);\r\n            this.arrayConstructor = arrayConstructor;\r\n        }\r\n        \r\n        private static &lt;T&gt; T[][] copySets(T[][] sets) {\r\n            // If any of the arrays are empty, then the entire iterator is empty.\r\n            // This prevents division by zero in `hasNext`.\r\n            for (T[] set : sets) {\r\n                if (set.length == 0) {\r\n                    return Arrays.copyOf(sets, 0);\r\n                }\r\n            }\r\n            return sets.clone();\r\n        }\r\n        \r\n        @Override\r\n        public boolean hasNext() {\r\n            if (next != null) {\r\n                return true;\r\n            }\r\n            \r\n            int tmp = count;\r\n            T[] value = arrayConstructor.apply(sets.length);\r\n            for (int i = 0; i &lt; value.length; i++) {\r\n                T[] set = sets[i];\r\n                \r\n                int radix = set.length;\r\n                int index = tmp % radix;\r\n                \r\n                value[i] = set[index];\r\n                \r\n                tmp /= radix;\r\n            }\r\n            \r\n            if (tmp != 0) {\r\n                // Overflow.\r\n                return false;\r\n            }\r\n            \r\n            next = value;\r\n            count++;\r\n            \r\n            return true;\r\n        }\r\n        \r\n        @Override\r\n        public T[] next() {\r\n            if (!hasNext()) {\r\n                throw new NoSuchElementException();\r\n            }\r\n            \r\n            T[] tmp = next;\r\n            next = null;\r\n            return tmp;\r\n        }\r\n    }\r\n\r\nThe basic idea is to treat `count` as a multi-radix number (digit `i` has its own radix which equals the length of the `i`&#39;th &quot;set&quot;). Whenever we have to resolve `next` (that is, when `hasNext()` is called and `next` is `null`), we decompose the number into its digits in this multi-radix. These digits are now used as the indices from which we draw elements from the different sets.\r\n\r\nExample use:\r\n\r\n    String[] a = { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    String[] b = { &quot;X&quot; };\r\n    String[] c = { &quot;r&quot;, &quot;s&quot; };\r\n    \r\n    String[][] abc = { a, b, c };\r\n    \r\n    Iterable&lt;String[]&gt; it = () -&gt; new CartesianIterator&lt;&gt;(abc, String[]::new);\r\n    for (String[] s : it) {\r\n        System.out.println(Arrays.toString(s));\r\n    }\r\n\r\nOutput:\r\n\r\n    [a, X, r]\r\n    [b, X, r]\r\n    [c, X, r]\r\n    [a, X, s]\r\n    [b, X, s]\r\n    [c, X, s]\r\n\r\nIf one doesn&#39;t like arrays, the code is trivially convertible into using collections.\r\n\r\nI guess this is more or less similar to the answer given by &quot;user unknown&quot;, only without recursion and collections.","title":"Cartesian product of an arbitrary number of sets","body":"<p>Here is an <code>Iterator</code> that gives the cartesian product of a two-dimensional array, where the arrays components represent the sets from the question (one can always convert actual <code>Set</code>s to arrays):</p>\n\n<pre><code>public class CartesianIterator&lt;T&gt; implements Iterator&lt;T[]&gt; {\n    private final T[][] sets;\n    private final IntFunction&lt;T[]&gt; arrayConstructor;\n\n    private int count = 0;\n    private T[] next = null;\n\n    public CartesianIterator(T[][] sets, IntFunction&lt;T[]&gt; arrayConstructor) {\n        Objects.requireNonNull(sets);\n        Objects.requireNonNull(arrayConstructor);\n\n        this.sets = copySets(sets);\n        this.arrayConstructor = arrayConstructor;\n    }\n\n    private static &lt;T&gt; T[][] copySets(T[][] sets) {\n        // If any of the arrays are empty, then the entire iterator is empty.\n        // This prevents division by zero in `hasNext`.\n        for (T[] set : sets) {\n            if (set.length == 0) {\n                return Arrays.copyOf(sets, 0);\n            }\n        }\n        return sets.clone();\n    }\n\n    @Override\n    public boolean hasNext() {\n        if (next != null) {\n            return true;\n        }\n\n        int tmp = count;\n        T[] value = arrayConstructor.apply(sets.length);\n        for (int i = 0; i &lt; value.length; i++) {\n            T[] set = sets[i];\n\n            int radix = set.length;\n            int index = tmp % radix;\n\n            value[i] = set[index];\n\n            tmp /= radix;\n        }\n\n        if (tmp != 0) {\n            // Overflow.\n            return false;\n        }\n\n        next = value;\n        count++;\n\n        return true;\n    }\n\n    @Override\n    public T[] next() {\n        if (!hasNext()) {\n            throw new NoSuchElementException();\n        }\n\n        T[] tmp = next;\n        next = null;\n        return tmp;\n    }\n}\n</code></pre>\n\n<p>The basic idea is to treat <code>count</code> as a multi-radix number (digit <code>i</code> has its own radix which equals the length of the <code>i</code>'th \"set\"). Whenever we have to resolve <code>next</code> (that is, when <code>hasNext()</code> is called and <code>next</code> is <code>null</code>), we decompose the number into its digits in this multi-radix. These digits are now used as the indices from which we draw elements from the different sets.</p>\n\n<p>Example use:</p>\n\n<pre><code>String[] a = { \"a\", \"b\", \"c\"};\nString[] b = { \"X\" };\nString[] c = { \"r\", \"s\" };\n\nString[][] abc = { a, b, c };\n\nIterable&lt;String[]&gt; it = () -&gt; new CartesianIterator&lt;&gt;(abc, String[]::new);\nfor (String[] s : it) {\n    System.out.println(Arrays.toString(s));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[a, X, r]\n[b, X, r]\n[c, X, r]\n[a, X, s]\n[b, X, s]\n[c, X, s]\n</code></pre>\n\n<p>If one doesn't like arrays, the code is trivially convertible into using collections.</p>\n\n<p>I guess this is more or less similar to the answer given by \"user unknown\", only without recursion and collections.</p>\n"},{"tags":[],"owner":{"display_name":"user15675591"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619364544,"creation_date":1618904652,"answer_id":67174557,"question_id":714108,"body_markdown":"You can get the *Cartesian product* of an arbitrary number of sets of *different types* and store it into a *set of sets* of objects `Set&lt;Set&lt;Object&gt;&gt;` using *Java 9 Streams* as follows:\r\n\r\n[Try it online!][1]\r\n\r\n```java\r\npublic static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\r\n    // incorrect incoming data\r\n    if (sets == null) return Collections.emptySet();\r\n    return Arrays.stream(sets)\r\n            // non-null and non-empty sets\r\n            .filter(set -&gt; set != null &amp;&amp; set.size() &gt; 0)\r\n            // represent each set element as Set&lt;Object&gt;\r\n            .map(set -&gt; set.stream().map(Set::&lt;Object&gt;of)\r\n                    // Stream&lt;Set&lt;Set&lt;Object&gt;&gt;&gt;\r\n                    .collect(Collectors.toSet()))\r\n            // summation of pairs of inner sets\r\n            .reduce((set1, set2) -&gt; set1.stream()\r\n                    // combinations of inner sets\r\n                    .flatMap(inner1 -&gt; set2.stream()\r\n                            // merge two inner sets into one\r\n                            .map(inner2 -&gt; Stream.of(inner1, inner2)\r\n                                    .flatMap(Set::stream)\r\n                                    .collect(Collectors.toCollection(\r\n                                            LinkedHashSet::new))))\r\n                    // set of combinations\r\n                    .collect(Collectors.toCollection(LinkedHashSet::new)))\r\n            // returns Set&lt;Set&lt;Object&gt;&gt;, otherwise an empty set\r\n            .orElse(Collections.emptySet());\r\n}\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    Set&lt;Integer&gt; set1 = Set.of(1, 2, 3);\r\n    Set&lt;String&gt; set2 = Set.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    Set&lt;Object&gt; set3 = Set.of(new Time(0));\r\n\r\n    Set&lt;Set&lt;Object&gt;&gt; sets = cartesianProduct(set1, set2, set3);\r\n    // output\r\n    sets.forEach(System.out::println);\r\n}\r\n```\r\nOutput:\r\n```none\r\n[1, A, 03:00:00]\r\n[1, B, 03:00:00]\r\n[1, C, 03:00:00]\r\n[2, A, 03:00:00]\r\n[2, B, 03:00:00]\r\n[2, C, 03:00:00]\r\n[3, A, 03:00:00]\r\n[3, B, 03:00:00]\r\n[3, C, 03:00:00]\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [How to create a data structure similar to the cartesian product of three lists of different types?][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://tio.run/##nVVRb9owEH7nV9x4qJIJ3ELf2pKpqyZt0qpNYm/THky4gKljZ7ZT1E397fTsBJI26dgWCUgud/fdd3f@2PB7Pt4s73Y7kRfaONiQgdmfkn0TOV4O2tbSCcne9tisM8hz/2pQlAspUkgltxZuuVDwewB01XbruKOfObor//my2GDqkgRSbhxawdVXo5dl6iL/9l3CGAOLzsZ1Fn@dnoJQqTaGIsNdLtQKltzxg4vIIPJhMJuBKqWMwaArjYIbLSWFCa0sw7xwDwQTxZeHwNrt2hj@YGtaIVN8cGmVobQa@/TA1TI8hJSh4I47y4R0aHwyGCfeB95UxcHJiX9kVvzCKIYEznrBDBYGLSoHyNN1SIASc2/gFlrN7ELnvGjh7mnFwU6BFxf7UJ11oVslzEPg1cvhJa/GsLTqd1T3XRvLnA49j3tJ2jLPuR8P6AwKLoz1N0IpNK@01SCtC0ae32TkfaZxzXNyIPonTrQ@C6EC5jGsZpSSu1vqXfCd1HDT43At2BzNCsFtdQuQbp0GrfBogjC5EDj16NVcmM7qikZV0unxSjqUwjpURP4hunfMzVmL/jrT/vos1B0uP3K7DgUp3MZ9G9PeHNpvGl97nIP/rrcXvv9Qer2wHT0bgXZrNFthkcQBDrrQ3V9tPkiLUb8w1cr0OOiR0HstlpCTwEY0flLA7z@Am9UzpfQVfVIOV2iqEwEzb/OLQjsyHcF5S/oChZCpWufGd3g9HMHwvf@6Gb6IqAn7iPMmghoG/u8jOvMUnkO0Vb/S6K74N4c5fLfLpKbr0hVl00qfhGXUR5LFaP5gHdJRKGlsBZFxUh2a@LjbPQE &quot;Java (JDK) – Try It Online&quot;\r\n  [2]: https://stackoverflow.com/a/67165269/15675591\r\n","title":"Cartesian product of an arbitrary number of sets","body":"<p>You can get the <em>Cartesian product</em> of an arbitrary number of sets of <em>different types</em> and store it into a <em>set of sets</em> of objects <code>Set&lt;Set&lt;Object&gt;&gt;</code> using <em>Java 9 Streams</em> as follows:</p>\n<p><a href=\"https://tio.run/##nVVRb9owEH7nV9x4qJIJ3ELf2pKpqyZt0qpNYm/THky4gKljZ7ZT1E397fTsBJI26dgWCUgud/fdd3f@2PB7Pt4s73Y7kRfaONiQgdmfkn0TOV4O2tbSCcne9tisM8hz/2pQlAspUkgltxZuuVDwewB01XbruKOfObor//my2GDqkgRSbhxawdVXo5dl6iL/9l3CGAOLzsZ1Fn@dnoJQqTaGIsNdLtQKltzxg4vIIPJhMJuBKqWMwaArjYIbLSWFCa0sw7xwDwQTxZeHwNrt2hj@YGtaIVN8cGmVobQa@/TA1TI8hJSh4I47y4R0aHwyGCfeB95UxcHJiX9kVvzCKIYEznrBDBYGLSoHyNN1SIASc2/gFlrN7ELnvGjh7mnFwU6BFxf7UJ11oVslzEPg1cvhJa/GsLTqd1T3XRvLnA49j3tJ2jLPuR8P6AwKLoz1N0IpNK@01SCtC0ae32TkfaZxzXNyIPonTrQ@C6EC5jGsZpSSu1vqXfCd1HDT43At2BzNCsFtdQuQbp0GrfBogjC5EDj16NVcmM7qikZV0unxSjqUwjpURP4hunfMzVmL/jrT/vos1B0uP3K7DgUp3MZ9G9PeHNpvGl97nIP/rrcXvv9Qer2wHT0bgXZrNFthkcQBDrrQ3V9tPkiLUb8w1cr0OOiR0HstlpCTwEY0flLA7z@Am9UzpfQVfVIOV2iqEwEzb/OLQjsyHcF5S/oChZCpWufGd3g9HMHwvf@6Gb6IqAn7iPMmghoG/u8jOvMUnkO0Vb/S6K74N4c5fLfLpKbr0hVl00qfhGXUR5LFaP5gHdJRKGlsBZFxUh2a@LjbPQE\" rel=\"nofollow noreferrer\" title=\"Java (JDK) – Try It Online\">Try it online!</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Set&lt;Object&gt;&gt; cartesianProduct(Set&lt;?&gt;... sets) {\n    // incorrect incoming data\n    if (sets == null) return Collections.emptySet();\n    return Arrays.stream(sets)\n            // non-null and non-empty sets\n            .filter(set -&gt; set != null &amp;&amp; set.size() &gt; 0)\n            // represent each set element as Set&lt;Object&gt;\n            .map(set -&gt; set.stream().map(Set::&lt;Object&gt;of)\n                    // Stream&lt;Set&lt;Set&lt;Object&gt;&gt;&gt;\n                    .collect(Collectors.toSet()))\n            // summation of pairs of inner sets\n            .reduce((set1, set2) -&gt; set1.stream()\n                    // combinations of inner sets\n                    .flatMap(inner1 -&gt; set2.stream()\n                            // merge two inner sets into one\n                            .map(inner2 -&gt; Stream.of(inner1, inner2)\n                                    .flatMap(Set::stream)\n                                    .collect(Collectors.toCollection(\n                                            LinkedHashSet::new))))\n                    // set of combinations\n                    .collect(Collectors.toCollection(LinkedHashSet::new)))\n            // returns Set&lt;Set&lt;Object&gt;&gt;, otherwise an empty set\n            .orElse(Collections.emptySet());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Set&lt;Integer&gt; set1 = Set.of(1, 2, 3);\n    Set&lt;String&gt; set2 = Set.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n    Set&lt;Object&gt; set3 = Set.of(new Time(0));\n\n    Set&lt;Set&lt;Object&gt;&gt; sets = cartesianProduct(set1, set2, set3);\n    // output\n    sets.forEach(System.out::println);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, A, 03:00:00]\n[1, B, 03:00:00]\n[1, C, 03:00:00]\n[2, A, 03:00:00]\n[2, B, 03:00:00]\n[2, C, 03:00:00]\n[3, A, 03:00:00]\n[3, B, 03:00:00]\n[3, C, 03:00:00]\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/67165269/15675591\">How to create a data structure similar to the cartesian product of three lists of different types?</a></sup></p>\n"},{"tags":[],"owner":{"account_id":12688984,"reputation":13,"user_id":9219804,"display_name":"Anh Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627553758,"creation_date":1627553758,"answer_id":68574121,"question_id":714108,"body_markdown":"a simple solution, for example, for Integer set should be as follows: \r\n\r\n\tvoid printCombination(List&lt;Set&lt;Integer&gt;&gt; listSet, Set&lt;Integer&gt; combination) {\r\n\t\tif (listSet.isEmpty()) {\r\n\t\t\tSystem.out.println(&quot;a combination :&quot; + combination);\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tSet&lt;Integer&gt; intSet = listSet.get(0);\r\n\t\tfor (Integer it : intSet) {\r\n\t\t\tSet&lt;Integer&gt; combination1 = new HashSet&lt;Integer&gt;();\r\n\t\t\tcombination1.addAll(combination);\r\n\t\t\tcombination1.add(it);\r\n\r\n\t\t\tList&lt;Set&lt;Integer&gt;&gt; listSet1 = new ArrayList&lt;Set&lt;Integer&gt;&gt;();\r\n\t\t\tlistSet1.addAll(listSet);\r\n\t\t\tlistSet1.remove(0);\r\n\t\t\tthis.printCombination(listSet1, combination1);\r\n\t\t}\r\n\r\n\t} ","title":"Cartesian product of an arbitrary number of sets","body":"<p>a simple solution, for example, for Integer set should be as follows:</p>\n<pre><code>void printCombination(List&lt;Set&lt;Integer&gt;&gt; listSet, Set&lt;Integer&gt; combination) {\n    if (listSet.isEmpty()) {\n        System.out.println(&quot;a combination :&quot; + combination);\n\n        return;\n    }\n\n    Set&lt;Integer&gt; intSet = listSet.get(0);\n    for (Integer it : intSet) {\n        Set&lt;Integer&gt; combination1 = new HashSet&lt;Integer&gt;();\n        combination1.addAll(combination);\n        combination1.add(it);\n\n        List&lt;Set&lt;Integer&gt;&gt; listSet1 = new ArrayList&lt;Set&lt;Integer&gt;&gt;();\n        listSet1.addAll(listSet);\n        listSet1.remove(0);\n        this.printCombination(listSet1, combination1);\n    }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6788741,"reputation":24,"user_id":5226546,"display_name":"wolray"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671005019,"creation_date":1671005019,"answer_id":74795164,"question_id":714108,"body_markdown":"You can apply a simple generator interferace named `Seq` via this [library](https://github.com/wolray/seq-java). Unlike [Guava&#39;s cartesianProduct](https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-), the sets/lists/iterables do not need to be within the same generic type bound `B`, all types are welcome. And all you need to do is writing the product as normal nested for-loops.\r\n```lang-java\r\npublic static void main(String[] args) {\r\n    List&lt;String&gt; ls1 = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\r\n    List&lt;Integer&gt; ls2 = Arrays.asList(1, 2);\r\n    List&lt;Character&gt; ls3 = Arrays.asList(&#39;x&#39;, &#39;y&#39;);\r\n\r\n    Seq&lt;String&gt; seq = c -&gt; {\r\n        for (String s : ls1) {\r\n            for (Integer i : ls2) {\r\n                for (Character d : ls3) {\r\n                    c.accept(s + i + d);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    System.out.println(seq.toSet());\r\n}\r\n```\r\nThe result would be\r\n```\r\n[a2x, a1y, b1x, b2y, a1x, a2y, b2x, b1y]\r\n```","title":"Cartesian product of an arbitrary number of sets","body":"<p>You can apply a simple generator interferace named <code>Seq</code> via this <a href=\"https://github.com/wolray/seq-java\" rel=\"nofollow noreferrer\">library</a>. Unlike <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Sets.html#cartesianProduct-java.util.List-\" rel=\"nofollow noreferrer\">Guava's cartesianProduct</a>, the sets/lists/iterables do not need to be within the same generic type bound <code>B</code>, all types are welcome. And all you need to do is writing the product as normal nested for-loops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;String&gt; ls1 = Arrays.asList(&quot;a&quot;, &quot;b&quot;);\n    List&lt;Integer&gt; ls2 = Arrays.asList(1, 2);\n    List&lt;Character&gt; ls3 = Arrays.asList('x', 'y');\n\n    Seq&lt;String&gt; seq = c -&gt; {\n        for (String s : ls1) {\n            for (Integer i : ls2) {\n                for (Character d : ls3) {\n                    c.accept(s + i + d);\n                }\n            }\n        }\n    };\n\n    System.out.println(seq.toSet());\n}\n</code></pre>\n<p>The result would be</p>\n<pre><code>[a2x, a1y, b1x, b2y, a1x, a2y, b2x, b1y]\n</code></pre>\n"}],"owner":{"account_id":23724,"reputation":13660,"user_id":59666,"accept_rate":76,"display_name":"mgamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62000,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":714256,"answer_count":11,"score":62,"last_activity_date":1671005019,"creation_date":1238768260,"question_id":714108,"body_markdown":"Do you know some neat Java libaries that allow you to make cartesian product of two (or more) sets? \r\n\r\nFor example: I have three sets. One with objects of class Person, second with objects of class Gift and third with objects of class GiftExtension.\r\n\r\nI want to generate one set containing all possible triples Person-Gift-GiftExtension.\r\n\r\nThe number of sets might vary so I cannot do this in nested foreach loop. \r\nUnder some conditions my application needs to make a product of Person-Gift pair, sometimes it is triple Person-Gift-GiftExtension, sometimes there might even be sets Person-Gift-GiftExtension-GiftSecondExtension-GiftThirdExtension, etc. ","title":"Cartesian product of an arbitrary number of sets","body":"<p>Do you know some neat Java libaries that allow you to make cartesian product of two (or more) sets? </p>\n\n<p>For example: I have three sets. One with objects of class Person, second with objects of class Gift and third with objects of class GiftExtension.</p>\n\n<p>I want to generate one set containing all possible triples Person-Gift-GiftExtension.</p>\n\n<p>The number of sets might vary so I cannot do this in nested foreach loop. \nUnder some conditions my application needs to make a product of Person-Gift pair, sometimes it is triple Person-Gift-GiftExtension, sometimes there might even be sets Person-Gift-GiftExtension-GiftSecondExtension-GiftThirdExtension, etc. </p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":1,"creation_date":1671105205,"post_id":74795137,"comment_id":132028534,"body_markdown":"HTH. The customary way to say &quot;It works&quot; is to accept the question. And to say &quot;Thank you&quot; you upvote the question. ;-)","body":"HTH. The customary way to say &quot;It works&quot; is to accept the question. And to say &quot;Thank you&quot; you upvote the question. ;-)"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671004829,"creation_date":1671004829,"answer_id":74795137,"question_id":74791432,"body_markdown":"You have a weird and inconsistent mix of dependencies here\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.9.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nWhen you use Spring Data JPA version 3.0.0 you should use Hibernate 6+. To get started you shouldn&#39;t specify the versions for Hibernate since those are specified in the Spring Data JPA `pom.xml`.\r\n\r\nAnd you shouldn&#39;t need `hibernate-jpa-2.0-api` at all.\r\n","title":"Type jakarta.persistence.EntityManagerFactory not present","body":"<p>You have a weird and inconsistent mix of dependencies here</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n      &lt;version&gt;4.1.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When you use Spring Data JPA version 3.0.0 you should use Hibernate 6+. To get started you shouldn't specify the versions for Hibernate since those are specified in the Spring Data JPA <code>pom.xml</code>.</p>\n<p>And you shouldn't need <code>hibernate-jpa-2.0-api</code> at all.</p>\n"}],"owner":{"account_id":26546124,"reputation":11,"user_id":20770273,"display_name":"Dmytro Sydoruk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671004829,"creation_date":1670969527,"question_id":74791432,"body_markdown":"I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don&#39;t know what\r\n\r\n**My controller:**\r\n\r\n```\r\n@Controller\r\npublic class UserController {\r\n    private final IUserService userService;\r\n\r\n    @Autowired\r\n    public UserController(IUserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/user/create&quot;)\r\n    public ResponseEntity&lt;UserPojo&gt; createUser(@RequestBody User user) {\r\n        UserPojo result = userService.createUser(user);\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(path = &quot;/user/{id}&quot;)\r\n    public ResponseEntity&lt;UserPojo&gt; getUser(@PathVariable Long id) {\r\n        UserPojo result = userService.getUser(id);\r\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n**Service:**\r\n```\r\n@Service\r\npublic class UserService implements IUserService {\r\n    @PersistenceContext\r\n    EntityManager entityManager;\r\n\r\n    private final Converter converter;\r\n\r\n    @Autowired\r\n    public UserService(Converter converter) {\r\n        this.converter = converter;\r\n    }\r\n\r\n    @Override\r\n    @Transactional\r\n    public UserPojo createUser(User user) {\r\n\r\n        entityManager.persist(user);\r\n\r\n        return converter.userToPojo(user);\r\n    }\r\n```\r\nBut when i ran it in Postman, i got this - I don&#39;t know why it appears:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**More info:**\r\n\r\n```\r\njava.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\r\n\torg.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\r\n\tjava.base/java.lang.Class.forName0(Native Method)\r\n\tjava.base/java.lang.Class.forName(Class.java:488)\r\n\tjava.base/java.lang.Class.forName(Class.java:467)\r\n\tjava.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\r\n```\r\nMy POM and more code is here:  \r\n[GitHub](https://github.com/HosakooD/ToDo)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OAn52.png","title":"Type jakarta.persistence.EntityManagerFactory not present","body":"<p>I am learning Spring Data and creating a project. Project like a list of exercises, save data in MySql thanks to Hibernate, but something wrong with it, and i don't know what</p>\n<p><strong>My controller:</strong></p>\n<pre><code>@Controller\npublic class UserController {\n    private final IUserService userService;\n\n    @Autowired\n    public UserController(IUserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(path = &quot;/user/create&quot;)\n    public ResponseEntity&lt;UserPojo&gt; createUser(@RequestBody User user) {\n        UserPojo result = userService.createUser(user);\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n\n    @GetMapping(path = &quot;/user/{id}&quot;)\n    public ResponseEntity&lt;UserPojo&gt; getUser(@PathVariable Long id) {\n        UserPojo result = userService.getUser(id);\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>@Service\npublic class UserService implements IUserService {\n    @PersistenceContext\n    EntityManager entityManager;\n\n    private final Converter converter;\n\n    @Autowired\n    public UserService(Converter converter) {\n        this.converter = converter;\n    }\n\n    @Override\n    @Transactional\n    public UserPojo createUser(User user) {\n\n        entityManager.persist(user);\n\n        return converter.userToPojo(user);\n    }\n</code></pre>\n<p>But when i ran it in Postman, i got this - I don't know why it appears:</p>\n<p><a href=\"https://i.stack.imgur.com/OAn52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OAn52.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>More info:</strong></p>\n<pre><code>java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1449)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1257)\n    java.base/java.lang.Class.forName0(Native Method)\n    java.base/java.lang.Class.forName(Class.java:488)\n    java.base/java.lang.Class.forName(Class.java:467)\n    java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\n</code></pre>\n<p>My POM and more code is here:<br />\n<a href=\"https://github.com/HosakooD/ToDo\" rel=\"nofollow noreferrer\">GitHub</a></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1091347,"reputation":5947,"user_id":1085937,"accept_rate":86,"display_name":"Jeeter"},"score":0,"creation_date":1447721146,"post_id":33747250,"comment_id":55262835,"body_markdown":"have you tried cleaning? restarting android studio? rebuilding? **tell us what you have done so far to try to solve this**","body":"have you tried cleaning? restarting android studio? rebuilding? <b>tell us what you have done so far to try to solve this</b>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1447721304,"post_id":33747250,"comment_id":55262880,"body_markdown":"Also what error messsage is there? Maybe it&#39;s just some lint warning","body":"Also what error messsage is there? Maybe it&#39;s just some lint warning"},{"owner":{"account_id":6950319,"reputation":6231,"user_id":5333147,"accept_rate":32,"display_name":"tiny sunlight"},"score":0,"creation_date":1447749063,"post_id":33747250,"comment_id":55272086,"body_markdown":"plz alt+ enter on the red line.","body":"plz alt+ enter on the red line."},{"owner":{"account_id":3793752,"reputation":491,"user_id":3149553,"display_name":"guillaume_fr"},"score":0,"creation_date":1447757947,"post_id":33747250,"comment_id":55277895,"body_markdown":"what if you write compileSdkVersion = 23","body":"what if you write compileSdkVersion = 23"},{"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"score":0,"creation_date":1447770818,"post_id":33747250,"comment_id":55286531,"body_markdown":"it&#39;s still not work @guillaume_fr","body":"it&#39;s still not work @guillaume_fr"},{"owner":{"account_id":1090931,"reputation":2195,"user_id":1085586,"accept_rate":32,"display_name":"Panciz"},"score":0,"creation_date":1455364444,"post_id":33747250,"comment_id":58463901,"body_markdown":"Also this solutions worked for me https://stackoverflow.com/questions/18991161/android-studio-cannot-resolve-symbol-but-code-executes-correctly","body":"Also this solutions worked for me <a href=\"https://stackoverflow.com/questions/18991161/android-studio-cannot-resolve-symbol-but-code-executes-correctly\" title=\"android studio cannot resolve symbol but code executes correctly\">stackoverflow.com/questions/18991161/&hellip;</a>"},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1455554861,"post_id":33747250,"comment_id":58530286,"body_markdown":"If my answer helped, please accept it by pressing the checkmark :)","body":"If my answer helped, please accept it by pressing the checkmark :)"},{"owner":{"account_id":9516877,"reputation":796,"user_id":7077178,"display_name":"Tricky Bay"},"score":0,"creation_date":1534710388,"post_id":33747250,"comment_id":90792787,"body_markdown":"See this: https://stackoverflow.com/a/51921539/7077178","body":"See this: <a href=\"https://stackoverflow.com/a/51921539/7077178\">stackoverflow.com/a/51921539/7077178</a>"}],"answers":[{"comments":[{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1447722134,"post_id":33747381,"comment_id":55263104,"body_markdown":"@user3216348 Take a look at this section: `MORE ISSUES THAT COULD BE HAPPENING`. Let me know if it worked or not.","body":"@user3216348 Take a look at this section: <code>MORE ISSUES THAT COULD BE HAPPENING</code>. Let me know if it worked or not."},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1447725077,"post_id":33747381,"comment_id":55263961,"body_markdown":"@user3216348 ok but I suggest you just leave Android studio open for a few minutes without messing with your computer that way it might get rid of all the errors itself","body":"@user3216348 ok but I suggest you just leave Android studio open for a few minutes without messing with your computer that way it might get rid of all the errors itself"},{"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"score":0,"creation_date":1447750197,"post_id":33747381,"comment_id":55272709,"body_markdown":"it&#39;s seems error each code from android support like recyclerview, CardView, APpCompact","body":"it&#39;s seems error each code from android support like recyclerview, CardView, APpCompact"},{"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"score":0,"creation_date":1447773480,"post_id":33747381,"comment_id":55288452,"body_markdown":"@AmayDiam okay, try to import appcompatactyivity","body":"@AmayDiam okay, try to import appcompatactyivity"}],"tags":[],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1450101357,"creation_date":1447721700,"answer_id":33747381,"question_id":33747250,"body_markdown":"This is extremely common, and happens to me whenever I start my Android Studio up. Follow these steps **after you have made sure that you have imported everything your code needs to import.** If you are not sure how to do that, look at the very bottom of my answer, where it says **More Issues that could be happening**.\r\n\r\n**Here are some things that you can easily do to fix it:**\r\n\r\n - Clean project\r\n\r\n - Rebuild Project\r\n\r\n - Restart IDE\r\n\r\n - Update SDK tools\r\n\r\nThis is probably not an issue with your code, so you don&#39;t have to worry about it much. If cleaning and rebuilding doesn&#39;t work, just wait for some time. \r\n\r\nGive android studio a **while** to set up, **and this could take a few minutes**. Often times, it fixes itself without even having to do **any of the steps I listed above**. Make sure you do this before trying to update your SDK or messing with any files. If you do that, I suggest you take a backup first.\r\n\r\nI suggest you take a look at this question:\r\n\r\nhttps://stackoverflow.com/questions/17054000/cannot-resolve-symbol-r-in-android-studio\r\n\r\n----------\r\n\r\n\r\n**MORE ISSUES THAT COULD BE HAPPENING**\r\n\r\nAlso, according to your screenshot, I saw a lot of errors in some of the same places. **This could be  because you are not importing the correct things!** Click on one of the pieces of code that has a red squiggly line on it, and wait for a message. It should say something about imports. Then press **ALT-&gt;ENTER**. This should import what you need for that line of code to work. \r\n","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>This is extremely common, and happens to me whenever I start my Android Studio up. Follow these steps <strong>after you have made sure that you have imported everything your code needs to import.</strong> If you are not sure how to do that, look at the very bottom of my answer, where it says <strong>More Issues that could be happening</strong>.</p>\n\n<p><strong>Here are some things that you can easily do to fix it:</strong></p>\n\n<ul>\n<li><p>Clean project</p></li>\n<li><p>Rebuild Project</p></li>\n<li><p>Restart IDE</p></li>\n<li><p>Update SDK tools</p></li>\n</ul>\n\n<p>This is probably not an issue with your code, so you don't have to worry about it much. If cleaning and rebuilding doesn't work, just wait for some time. </p>\n\n<p>Give android studio a <strong>while</strong> to set up, <strong>and this could take a few minutes</strong>. Often times, it fixes itself without even having to do <strong>any of the steps I listed above</strong>. Make sure you do this before trying to update your SDK or messing with any files. If you do that, I suggest you take a backup first.</p>\n\n<p>I suggest you take a look at this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17054000/cannot-resolve-symbol-r-in-android-studio\">&quot;cannot resolve symbol R&quot; in Android Studio</a></p>\n\n<hr>\n\n<p><strong>MORE ISSUES THAT COULD BE HAPPENING</strong></p>\n\n<p>Also, according to your screenshot, I saw a lot of errors in some of the same places. <strong>This could be  because you are not importing the correct things!</strong> Click on one of the pieces of code that has a red squiggly line on it, and wait for a message. It should say something about imports. Then press <strong>ALT->ENTER</strong>. This should import what you need for that line of code to work. </p>\n"},{"comments":[{"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"score":0,"creation_date":1447750201,"post_id":33752091,"comment_id":55272711,"body_markdown":"it&#39;s seems error each code from android support like recyclerview, CardView, APpCompact","body":"it&#39;s seems error each code from android support like recyclerview, CardView, APpCompact"},{"owner":{"account_id":2451910,"reputation":136,"user_id":2137971,"display_name":"slai47"},"score":0,"creation_date":1559327241,"post_id":33752091,"comment_id":99398607,"body_markdown":"Solved it for me after I tried invalidating the cache, deleting .idea/.gradle/iml files, restarting AS and syncing.","body":"Solved it for me after I tried invalidating the cache, deleting .idea/.gradle/iml files, restarting AS and syncing."},{"owner":{"account_id":1073435,"reputation":12390,"user_id":1072150,"accept_rate":75,"display_name":"EJK"},"score":0,"creation_date":1599112580,"post_id":33752091,"comment_id":112673342,"body_markdown":"Just burned a couple hours on this.  Clearing caches finally fixed it.  BTW it&#39;s 2020 and AS still has this issue!","body":"Just burned a couple hours on this.  Clearing caches finally fixed it.  BTW it&#39;s 2020 and AS still has this issue!"}],"tags":[],"owner":{"account_id":5131447,"reputation":91,"user_id":4111504,"display_name":"Mike Wallstedt"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1447748370,"creation_date":1447748370,"answer_id":33752091,"question_id":33747250,"body_markdown":"If your project builds in gradle, but Android Studio displays errors, chances are that the Intellij caches are corrupt. In some cases, the menu option you already mentioned &quot;invalidate caches / restart&quot; is not enough. You can try the following:\r\n\r\n1. Shutdown AS\r\n2. Manually delete the cache dir. On Windows, this is likely to be in a path like C:\\Users\\YOURNAME\\.AndroidStudio1.4\\system\\caches. \r\n3. Restart AS","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>If your project builds in gradle, but Android Studio displays errors, chances are that the Intellij caches are corrupt. In some cases, the menu option you already mentioned \"invalidate caches / restart\" is not enough. You can try the following:</p>\n\n<ol>\n<li>Shutdown AS</li>\n<li>Manually delete the cache dir. On Windows, this is likely to be in a path like C:\\Users\\YOURNAME.AndroidStudio1.4\\system\\caches. </li>\n<li>Restart AS</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2898460,"reputation":166,"user_id":2485734,"accept_rate":83,"display_name":"agungandika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447810474,"creation_date":1447810474,"answer_id":33770309,"question_id":33747250,"body_markdown":"Adding answer from Ruchir, all the new things is good but not really good for some.\r\n\r\nI tried to re-create my environtment and found that newest AS have problem with newest SDK. So All I did was:\r\n\r\n - use AS 1.4.1 (stable)\r\n - downgrade SDK to use v23.0.1.\r\n\r\n\r\ngradle.build changes as follows:\r\n \r\n    compile &#39;com.android.support:appcompat-v7:23.0.1&#39;\r\n    compile &#39;com.android.support:cardview-v7:23.0.1&#39;\r\n    compile &#39;com.android.support:design:23.0.1&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:23.0.1&#39;\r\n    compile &#39;com.android.support:support-v4:23.0.1&#39;\r\n \r\nThen do the basics &quot;clean up&quot;:\r\n\r\n - Clean project\r\n - Rebuild Project\r\n\r\nDone. It&#39;s not your code, it&#39;s IDE. Consider submit error report to Google about this error.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Adding answer from Ruchir, all the new things is good but not really good for some.</p>\n\n<p>I tried to re-create my environtment and found that newest AS have problem with newest SDK. So All I did was:</p>\n\n<ul>\n<li>use AS 1.4.1 (stable)</li>\n<li>downgrade SDK to use v23.0.1.</li>\n</ul>\n\n<p>gradle.build changes as follows:</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:23.0.1'\ncompile 'com.android.support:cardview-v7:23.0.1'\ncompile 'com.android.support:design:23.0.1'\ncompile 'com.android.support:recyclerview-v7:23.0.1'\ncompile 'com.android.support:support-v4:23.0.1'\n</code></pre>\n\n<p>Then do the basics \"clean up\":</p>\n\n<ul>\n<li>Clean project</li>\n<li>Rebuild Project</li>\n</ul>\n\n<p>Done. It's not your code, it's IDE. Consider submit error report to Google about this error.</p>\n"},{"tags":[],"owner":{"account_id":5128664,"reputation":3898,"user_id":4109713,"display_name":"Andre Classen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596190129,"creation_date":1448119514,"answer_id":33845088,"question_id":33747250,"body_markdown":"I got a similar problem after upgrading my PC and reinstalling Windows.\r\n\r\nThe only solution that worked for me was using `jdk 7` instead of `jdk 8`.\r\nI never run into this problem with my old machine and `jdk 8`. ","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I got a similar problem after upgrading my PC and reinstalling Windows.</p>\n<p>The only solution that worked for me was using <code>jdk 7</code> instead of <code>jdk 8</code>.\nI never run into this problem with my old machine and <code>jdk 8</code>.</p>\n"},{"tags":[],"owner":{"account_id":2392102,"reputation":118,"user_id":2091764,"display_name":"Sangharatna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596189639,"creation_date":1509822859,"answer_id":47114577,"question_id":33747250,"body_markdown":"Finally I resolved that issue just by changing JDK:\r\n\r\n1. Firstly right click on &quot;Android Project&quot;, then go to &quot;Module settings&quot;\r\n1. Select &quot;SDK Location&quot;\r\n1. Uncheck &quot;Use Embedded JDK&quot; and browse to install &quot;JDK&quot; folder.\r\n1. Rebuild your project and all your java errors related will gone.\r\n\r\nThe cause was just the embedded JDK.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Finally I resolved that issue just by changing JDK:</p>\n<ol>\n<li>Firstly right click on &quot;Android Project&quot;, then go to &quot;Module settings&quot;</li>\n<li>Select &quot;SDK Location&quot;</li>\n<li>Uncheck &quot;Use Embedded JDK&quot; and browse to install &quot;JDK&quot; folder.</li>\n<li>Rebuild your project and all your java errors related will gone.</li>\n</ol>\n<p>The cause was just the embedded JDK.</p>\n"},{"tags":[],"owner":{"account_id":12109572,"reputation":87,"user_id":8847003,"display_name":"Saurabh Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596194230,"creation_date":1525285044,"answer_id":50141098,"question_id":33747250,"body_markdown":"I ran into the same problem many times, I tried many suggested things in StackOverflow, but I would like to share the following procedure:\r\n\r\n**1)** Go to `File --&gt; Invalidate cache and restart` (this worked for me most of the times)&lt;br&gt;\r\n**2)** Then go to `Project --&gt; App --&gt; Right Click --&gt; Open module settings` and navigate in `SDK Location`, locate the java, save the settings and restart the Studio. \r\n\r\nHope this helped!","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I ran into the same problem many times, I tried many suggested things in StackOverflow, but I would like to share the following procedure:</p>\n<p><strong>1)</strong> Go to <code>File --&gt; Invalidate cache and restart</code> (this worked for me most of the times)<br>\n<strong>2)</strong> Then go to <code>Project --&gt; App --&gt; Right Click --&gt; Open module settings</code> and navigate in <code>SDK Location</code>, locate the java, save the settings and restart the Studio.</p>\n<p>Hope this helped!</p>\n"},{"tags":[],"owner":{"account_id":12424951,"reputation":544,"user_id":9050003,"display_name":"mahmoud zaher"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532939535,"creation_date":1532939535,"answer_id":51589907,"question_id":33747250,"body_markdown":"None of the things mentioned earlier here did actually work for me But then I found this menu entry in the file menu **Invalidate Caches/Restart** which appears to have fixed the problem.\r\n\r\nI don&#39;t really know what happened in the background but when Android Studio started up again the status bar said Indexing... for a minute or so which apparently did wonders.\r\n\r\nif it still not working  **solution is very simple i have tried also** \r\n\r\nit was  just go to **help** menu and **check for update** then **restart** android studio \r\n\r\nas attached photo \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ylMtp.png","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>None of the things mentioned earlier here did actually work for me But then I found this menu entry in the file menu <strong>Invalidate Caches/Restart</strong> which appears to have fixed the problem.</p>\n\n<p>I don't really know what happened in the background but when Android Studio started up again the status bar said Indexing... for a minute or so which apparently did wonders.</p>\n\n<p>if it still not working  <strong>solution is very simple i have tried also</strong> </p>\n\n<p>it was  just go to <strong>help</strong> menu and <strong>check for update</strong> then <strong>restart</strong> android studio </p>\n\n<p>as attached photo </p>\n\n<p><a href=\"https://i.stack.imgur.com/ylMtp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ylMtp.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13884600,"reputation":1,"user_id":10024052,"display_name":"Abhilasha Kudesia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596179432,"creation_date":1533024003,"answer_id":51608296,"question_id":33747250,"body_markdown":"I faced the same problem and I just followed the following procedure to fix:\r\n\r\n**1)** Take the backup of your android project&lt;br&gt;\r\n**2)** Delete it from your android studio&lt;br&gt;\r\n**3)** Import it again ","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I faced the same problem and I just followed the following procedure to fix:</p>\n<p><strong>1)</strong> Take the backup of your android project<br>\n<strong>2)</strong> Delete it from your android studio<br>\n<strong>3)</strong> Import it again</p>\n"},{"tags":[],"owner":{"account_id":5879127,"reputation":4305,"user_id":4629101,"accept_rate":83,"display_name":"Pankaj Lilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533816306,"creation_date":1533816306,"answer_id":51766563,"question_id":33747250,"body_markdown":"Faced the same issue and struggled half day to resolve it.\r\n\r\n**Finally found the solution**. If you&#39;re facing the situation where the project is building successfully, but `Cannot resolve ThirdParty.class` error is coming. Than do following steps:\r\n\r\n 1. Delete **.idea** folder from your project.\r\n 2. Close Android Studio\r\n 3. Restart Android Studio and **Import**  your project.\r\n\r\nAnd you&#39;re good to go.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Faced the same issue and struggled half day to resolve it.</p>\n\n<p><strong>Finally found the solution</strong>. If you're facing the situation where the project is building successfully, but <code>Cannot resolve ThirdParty.class</code> error is coming. Than do following steps:</p>\n\n<ol>\n<li>Delete <strong>.idea</strong> folder from your project.</li>\n<li>Close Android Studio</li>\n<li>Restart Android Studio and <strong>Import</strong>  your project.</li>\n</ol>\n\n<p>And you're good to go.</p>\n"},{"tags":[],"owner":{"account_id":125332,"reputation":826,"user_id":321049,"accept_rate":9,"display_name":"tliebeck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596189839,"creation_date":1538191885,"answer_id":52564862,"question_id":33747250,"body_markdown":"I&#39;m running into this quite a bit while in the process of moving code (and libraries) from one module of a project to another.&lt;br&gt;Project compiles/runs, signed APK builds, but `Android Studio` editor insists it can&#39;t find classes.\r\n\r\nIn my particular scenario, the most effective solution I&#39;ve found is to modify `build.gradle` within `Android Studio` such that the editor indicates:\r\n\r\n&gt; Gradle files have changed, a Project Sync may be necessary.\r\n\r\nThen clicking the **Sync Now** button.  In my case, I&#39;ve not actually had any reason to change the `build.gradle` file, so I tend to just make an arbitrary change to the file and then reverse it.","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I'm running into this quite a bit while in the process of moving code (and libraries) from one module of a project to another.<br>Project compiles/runs, signed APK builds, but <code>Android Studio</code> editor insists it can't find classes.</p>\n<p>In my particular scenario, the most effective solution I've found is to modify <code>build.gradle</code> within <code>Android Studio</code> such that the editor indicates:</p>\n<blockquote>\n<p>Gradle files have changed, a Project Sync may be necessary.</p>\n</blockquote>\n<p>Then clicking the <strong>Sync Now</strong> button.  In my case, I've not actually had any reason to change the <code>build.gradle</code> file, so I tend to just make an arbitrary change to the file and then reverse it.</p>\n"},{"tags":[],"owner":{"account_id":17207307,"reputation":11,"user_id":12457574,"display_name":"Vaibhav Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596159608,"creation_date":1596159608,"answer_id":63184600,"question_id":33747250,"body_markdown":"Tried Almost everything like invalidate catche and restart,rebuild,update sdk tools,delete .idea folder etc. but you need to delete catches manually from C:\\Users\\YOURNAME.AndroidStudio1.4\\system\\caches.It should work.\r\n","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>Tried Almost everything like invalidate catche and restart,rebuild,update sdk tools,delete .idea folder etc. but you need to delete catches manually from C:\\Users\\YOURNAME.AndroidStudio1.4\\system\\caches.It should work.</p>\n"},{"tags":[],"owner":{"account_id":14375399,"reputation":145,"user_id":10383958,"display_name":"Awais Abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671004472,"creation_date":1671004472,"answer_id":74795066,"question_id":33747250,"body_markdown":"I tried most of these answers but it did not work for me, but following these steps did the magic:\r\n\r\n 1. Click on &quot;File&quot; at the top left corner\r\n 2. Click on &quot;Repair IDE&quot;\r\n 3. A popup will appear at the bottom right corner with 2 options   [1]: https://i.stack.imgur.com/FtXuY.png\r\n 4. Click on &quot;Rescan Project Indexes&quot;\r\n 5. If it works then its good if not than continue onto the next step\r\n\r\nHopefully it will help","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>I tried most of these answers but it did not work for me, but following these steps did the magic:</p>\n<ol>\n<li>Click on &quot;File&quot; at the top left corner</li>\n<li>Click on &quot;Repair IDE&quot;</li>\n<li>A popup will appear at the bottom right corner with 2 options   [1]: <a href=\"https://i.stack.imgur.com/FtXuY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FtXuY.png</a></li>\n<li>Click on &quot;Rescan Project Indexes&quot;</li>\n<li>If it works then its good if not than continue onto the next step</li>\n</ol>\n<p>Hopefully it will help</p>\n"}],"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14023,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":33747381,"answer_count":12,"score":14,"last_activity_date":1671004472,"creation_date":1447720864,"question_id":33747250,"body_markdown":"i have problem with my code. My Code marked as an error code in Android Studio, but successfully build gradle and run on the device, like this : \r\n[![enter image description here][1]][1]\r\n\r\ncurrent configure:\r\n\r\n 1. My current project uses a lot of libraries in dependencies. But if\r\n        the project with little library will not be marked errors like this. \r\n 2. Android Studio 1.5 RC1 \r\n 3. compileSdkVersion &#39;Google Inc.:Google\r\n        APIs:23\r\n 4. buildToolsVersion &#39;23.0.2&#39; \r\n 5. classpath\r\n            &#39;com.android.tools.build:gradle:1.3.1&#39;\r\n\r\nactivity I have done but have not solved the problem:\r\n\r\n 1. always clean &gt; re-build project\r\n 2. invalidate caches / restart &gt; open Android studio &gt; open this project \r\n 3. Close android studio &gt; restart computer &gt; open again android studio &gt; open this project\r\n 4. Update Android version and SDK version\r\n5.Uninstall Android Studio &gt; Re-Install Android Studio &gt; Open Project \r\n\r\n**edited:** it&#39;s seems error each code from android support like recyclerview, CardView, APpCompact\r\n\r\nthis my depedencies \r\n\r\n    dependencies {\r\n        compile project(&#39;:android-crop&#39;)\r\n        compile project(&#39;:RTEditor-Toolbar&#39;)\r\n        compile files(&#39;libs/apache-mime4j-0.6.jar&#39;)\r\n        compile files(&#39;libs/httpmime-4.1.3.jar&#39;)\r\n        compile files(&#39;libs/jetbrains-annotations.jar&#39;)\r\n        compile files(&#39;libs/gcm.jar&#39;)\r\n        //three party library\r\n        compile(&#39;com.crashlytics.sdk.android:crashlytics:2.5.1@aar&#39;) {\r\n            transitive = true;\r\n        }\r\n        compile(&#39;cn.trinea.android.view.autoscrollviewpager:android-auto-scroll-view-pager:1.1.2&#39;) {\r\n            exclude module: &#39;support-v4&#39;\r\n        }\r\n        compile &#39;com.google.android.gms:play-services:8.3.0&#39;\r\n        compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        compile &#39;com.mcxiaoke.volley:library:1.0.19&#39;\r\n        compile &#39;com.vinaysshenoy:mugen:1.0.1&#39;\r\n        compile &#39;com.github.clans:fab:1.5.5&#39;\r\n        compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n        compile &#39;com.github.curioustechizen.android-ago:library:1.3.0&#39;\r\n        compile &#39;com.jakewharton:butterknife:7.0.1&#39;\r\n        compile &#39;com.github.chrisbanes.photoview:library:+&#39;\r\n        compile &#39;com.subinkrishna:circularimageview:1.0.2&#39;\r\n        compile &#39;me.leolin:ShortcutBadger:1.1.3@aar&#39;\r\n        compile &#39;com.google.android.gms:play-services-ads:8.3.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-identity:8.3.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-gcm:8.3.0&#39;\r\n        compile &#39;cn.trinea.android.common:trinea-android-common:4.2.15&#39;\r\n        compile &#39;com.sothree.slidinguppanel:library:3.1.1&#39;\r\n        compile &#39;com.android.support:multidex:1.0.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:cardview-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:design:23.1.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:23.1.1&#39;\r\n        compile &#39;com.android.support:support-v4:23.1.1&#39;\r\n    }\r\n\r\nso how fix ? thanks for advance\r\n\r\n  [1]: http://i.stack.imgur.com/jBAn5.png","title":"Marked as an error code in Android Studio, but successfully build gradle and run on the device","body":"<p>i have problem with my code. My Code marked as an error code in Android Studio, but successfully build gradle and run on the device, like this : \n<a href=\"https://i.stack.imgur.com/jBAn5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jBAn5.png\" alt=\"enter image description here\"></a></p>\n\n<p>current configure:</p>\n\n<ol>\n<li>My current project uses a lot of libraries in dependencies. But if\n    the project with little library will not be marked errors like this. </li>\n<li>Android Studio 1.5 RC1 </li>\n<li>compileSdkVersion 'Google Inc.:Google\n    APIs:23</li>\n<li>buildToolsVersion '23.0.2' </li>\n<li>classpath\n        'com.android.tools.build:gradle:1.3.1'</li>\n</ol>\n\n<p>activity I have done but have not solved the problem:</p>\n\n<ol>\n<li>always clean > re-build project</li>\n<li>invalidate caches / restart > open Android studio > open this project </li>\n<li>Close android studio > restart computer > open again android studio > open this project</li>\n<li>Update Android version and SDK version\n5.Uninstall Android Studio > Re-Install Android Studio > Open Project </li>\n</ol>\n\n<p><strong>edited:</strong> it's seems error each code from android support like recyclerview, CardView, APpCompact</p>\n\n<p>this my depedencies </p>\n\n<pre><code>dependencies {\n    compile project(':android-crop')\n    compile project(':RTEditor-Toolbar')\n    compile files('libs/apache-mime4j-0.6.jar')\n    compile files('libs/httpmime-4.1.3.jar')\n    compile files('libs/jetbrains-annotations.jar')\n    compile files('libs/gcm.jar')\n    //three party library\n    compile('com.crashlytics.sdk.android:crashlytics:2.5.1@aar') {\n        transitive = true;\n    }\n    compile('cn.trinea.android.view.autoscrollviewpager:android-auto-scroll-view-pager:1.1.2') {\n        exclude module: 'support-v4'\n    }\n    compile 'com.google.android.gms:play-services:8.3.0'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.mcxiaoke.volley:library:1.0.19'\n    compile 'com.vinaysshenoy:mugen:1.0.1'\n    compile 'com.github.clans:fab:1.5.5'\n    compile 'com.nineoldandroids:library:2.4.0'\n    compile 'com.github.curioustechizen.android-ago:library:1.3.0'\n    compile 'com.jakewharton:butterknife:7.0.1'\n    compile 'com.github.chrisbanes.photoview:library:+'\n    compile 'com.subinkrishna:circularimageview:1.0.2'\n    compile 'me.leolin:ShortcutBadger:1.1.3@aar'\n    compile 'com.google.android.gms:play-services-ads:8.3.0'\n    compile 'com.google.android.gms:play-services-identity:8.3.0'\n    compile 'com.google.android.gms:play-services-gcm:8.3.0'\n    compile 'cn.trinea.android.common:trinea-android-common:4.2.15'\n    compile 'com.sothree.slidinguppanel:library:3.1.1'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.android.support:cardview-v7:23.1.1'\n    compile 'com.android.support:design:23.1.1'\n    compile 'com.android.support:recyclerview-v7:23.1.1'\n    compile 'com.android.support:support-v4:23.1.1'\n}\n</code></pre>\n\n<p>so how fix ? thanks for advance</p>\n"},{"tags":["java","arrays","list","performance","arraylist"],"answers":[{"comments":[{"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"score":0,"creation_date":1670939287,"post_id":74785685,"comment_id":131985263,"body_markdown":"Thank you for your great respond. It is awesome!\n\nI knew that code was wrong, but I wanted to mention the whole structure.","body":"Thank you for your great respond. It is awesome!  I knew that code was wrong, but I wanted to mention the whole structure."}],"tags":[],"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671004148,"creation_date":1670938340,"answer_id":74785685,"question_id":74785116,"body_markdown":"Your program does not print the two largest numbers. It prints the two last numbers of the array. If you add a 200 in the mid of the array, it will still print 10 and 7.\r\n\r\nAlso, the `System.out.println()`-lines are outside any loop, so they will run only once.\r\n\r\nIf you want to get the higher number out of the first and second, the third and fourth, fifth and sixth element and so on (due to the expected output, I assume this is what you want to get), then the for-loop will fail like this. On each run of the loop, it will check if a &gt; b or b &gt; a. If that&#39;s the case, a gets the value of arr[i] and b the value of arr[j]. On the last run, i will be the second last value and j the last value of the array, so you will always get the last two elements. Unless you compare two times the same value in the array, then a and b will get the same value and nothing will change anymore from there.\r\n\r\nIf you want to compare the pairs like I described, then maybe you should instead try something like this:\r\n\r\n    for(int i = 0; i &lt; arr.length; i+=2)\r\n    {\r\n        if(!(i == arr.length-1)) // in case there is no i+1 index anymore\r\n        {\r\n            if(arr[i]&gt;arr[i+1])\r\n            {\r\n                System.out.println(arr[i]);\r\n            }\r\n            else if(arr[i+1]&gt;arr[i])\r\n            {\r\n                System.out.println(arr[i+1]);\r\n            }\r\n        }\r\n    }","title":"Maximum of each pair of index of the array","body":"<p>Your program does not print the two largest numbers. It prints the two last numbers of the array. If you add a 200 in the mid of the array, it will still print 10 and 7.</p>\n<p>Also, the <code>System.out.println()</code>-lines are outside any loop, so they will run only once.</p>\n<p>If you want to get the higher number out of the first and second, the third and fourth, fifth and sixth element and so on (due to the expected output, I assume this is what you want to get), then the for-loop will fail like this. On each run of the loop, it will check if a &gt; b or b &gt; a. If that's the case, a gets the value of arr[i] and b the value of arr[j]. On the last run, i will be the second last value and j the last value of the array, so you will always get the last two elements. Unless you compare two times the same value in the array, then a and b will get the same value and nothing will change anymore from there.</p>\n<p>If you want to compare the pairs like I described, then maybe you should instead try something like this:</p>\n<pre><code>for(int i = 0; i &lt; arr.length; i+=2)\n{\n    if(!(i == arr.length-1)) // in case there is no i+1 index anymore\n    {\n        if(arr[i]&gt;arr[i+1])\n        {\n            System.out.println(arr[i]);\n        }\n        else if(arr[i+1]&gt;arr[i])\n        {\n            System.out.println(arr[i+1]);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27240000,"reputation":35,"user_id":20766340,"display_name":"Amin Mousavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74785685,"answer_count":1,"score":0,"last_activity_date":1671004148,"creation_date":1670935694,"question_id":74785116,"body_markdown":"I need to create an array, compare each pair of this array, and then find and print the largest element of each pair. I have created an array like below, but it&#39;s printing me only the two largest of the whole array!\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            int[] arr = {1, -5, 2, 6, 10, 7};\r\n    \r\n            int a = arr[0];\r\n            int b = arr[1];\r\n    \r\n            for (int i = 0; i&lt;arr.length; i++) {\r\n                for (int j = i + 1; j &lt; arr.length; j++) {\r\n                    if (a &gt; b || b &gt; a) {\r\n                        a = arr[i];\r\n                        b = arr[j];\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(a);\r\n            System.out.println(b);\r\n        }\r\n    }\r\n\r\nIn the example below, I have 3 pairs (6 elements) and I want to get maximum of each pair as an example:\r\n\r\n - **Input:** {1, -5, 2, 6, 10, 7}\r\n\r\n - **Output:** 1, 6, 10\r\n\r\nI appreciate any help you can provide.\r\n\r\n\r\n","title":"Maximum of each pair of index of the array","body":"<p>I need to create an array, compare each pair of this array, and then find and print the largest element of each pair. I have created an array like below, but it's printing me only the two largest of the whole array!</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        int[] arr = {1, -5, 2, 6, 10, 7};\n\n        int a = arr[0];\n        int b = arr[1];\n\n        for (int i = 0; i&lt;arr.length; i++) {\n            for (int j = i + 1; j &lt; arr.length; j++) {\n                if (a &gt; b || b &gt; a) {\n                    a = arr[i];\n                    b = arr[j];\n                }\n            }\n        }\n        System.out.println(a);\n        System.out.println(b);\n    }\n}\n</code></pre>\n<p>In the example below, I have 3 pairs (6 elements) and I want to get maximum of each pair as an example:</p>\n<ul>\n<li><p><strong>Input:</strong> {1, -5, 2, 6, 10, 7}</p>\n</li>\n<li><p><strong>Output:</strong> 1, 6, 10</p>\n</li>\n</ul>\n<p>I appreciate any help you can provide.</p>\n"},{"tags":["java","web-scraping","htmlunit"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1530428929,"post_id":51121066,"comment_id":89227561,"body_markdown":"This looks like a dependency issue. May be the Class you are looking for is present in two different jars on your CP.","body":"This looks like a dependency issue. May be the Class you are looking for is present in two different jars on your CP."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1530444618,"post_id":51121066,"comment_id":89230837,"body_markdown":"How are you building your project? If you are using maven please include the output of mvn help:dependency-tree","body":"How are you building your project? If you are using maven please include the output of mvn help:dependency-tree"},{"owner":{"account_id":13491724,"reputation":11,"user_id":9733692,"display_name":"Toship Sonkusare"},"score":0,"creation_date":1530449420,"post_id":51121066,"comment_id":89231942,"body_markdown":"@tgdavies I&#39;m using gradle to add dependency.","body":"@tgdavies I&#39;m using gradle to add dependency."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1530482969,"post_id":51121066,"comment_id":89239659,"body_markdown":"Please add the output of `gradle dependencies` to your question,","body":"Please add the output of <code>gradle dependencies</code> to your question,"}],"answers":[{"tags":[],"owner":{"account_id":17066955,"reputation":1,"user_id":12348839,"display_name":"Ganesh K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671004037,"creation_date":1670551164,"answer_id":74738198,"question_id":51121066,"body_markdown":"If anyone is facing this issue, keep only pom.xml file version under `&quot;.m2\\repository\\net\\sourceforge\\htmlunit\\&lt;all folders&gt;&quot;`. I removed other versions, and it&#39;s working now.","title":"HtmlUnit java.lang.NoSuchFieldError: INSTANCE","body":"<p>If anyone is facing this issue, keep only pom.xml file version under <code>&quot;.m2\\repository\\net\\sourceforge\\htmlunit\\&lt;all folders&gt;&quot;</code>. I removed other versions, and it's working now.</p>\n"}],"owner":{"account_id":13491724,"reputation":11,"user_id":9733692,"display_name":"Toship Sonkusare"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671004037,"creation_date":1530427997,"question_id":51121066,"body_markdown":"I&#39;m trying to scrap link using HtmlUnit but it&#39;s showing Error on (webClient.getPage(url);) line.\r\n      \r\n    import com.gargoylesoftware.htmlunit.BrowserVersion;\r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class Start {\r\n    \r\n        public static void main(String args[]) throws IOException {\r\n            WebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            String url = &quot;http://htmlunit.sourceforge.net/dependency-info.html&quot;;\r\n            webClient.getPage(url);\r\n        }\r\n    \r\n    }\r\n\r\nThis code showing me this error log.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:146)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.configureHttpsScheme(HttpWebConnection.java:625)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.createHttpClient(HttpWebConnection.java:557)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.getHttpClientBuilder(HttpWebConnection.java:518)\r\n\tat com.gargoylesoftware.htmlunit.HttpWebConnection.getResponse(HttpWebConnection.java:170)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseFromWebConnection(WebClient.java:1397)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponse(WebClient.java:1315)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:394)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:315)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:463)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:448)\r\n\tat example.com.scrapper.Start.main(Start.java:14)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\r\n\r\nPlease Help!","title":"HtmlUnit java.lang.NoSuchFieldError: INSTANCE","body":"<p>I'm trying to scrap link using HtmlUnit but it's showing Error on (webClient.getPage(url);) line.</p>\n\n<pre><code>import com.gargoylesoftware.htmlunit.BrowserVersion;\nimport com.gargoylesoftware.htmlunit.WebClient;\n\nimport java.io.IOException;\n\npublic class Start {\n\n    public static void main(String args[]) throws IOException {\n        WebClient webClient = new WebClient(BrowserVersion.CHROME);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        String url = \"http://htmlunit.sourceforge.net/dependency-info.html\";\n        webClient.getPage(url);\n    }\n\n}\n</code></pre>\n\n<p>This code showing me this error log.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchFieldError: INSTANCE\nat org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:146)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.configureHttpsScheme(HttpWebConnection.java:625)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.createHttpClient(HttpWebConnection.java:557)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.getHttpClientBuilder(HttpWebConnection.java:518)\nat com.gargoylesoftware.htmlunit.HttpWebConnection.getResponse(HttpWebConnection.java:170)\nat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseFromWebConnection(WebClient.java:1397)\nat com.gargoylesoftware.htmlunit.WebClient.loadWebResponse(WebClient.java:1315)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:394)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:315)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:463)\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:448)\nat example.com.scrapper.Start.main(Start.java:14)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n\n<p>Please Help!</p>\n"},{"tags":["java","selenium","selenium-chromedriver","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1670931797,"post_id":74782611,"comment_id":131982535,"body_markdown":"Look at chromedriver log","body":"Look at chromedriver log"}],"answers":[{"tags":[],"owner":{"account_id":9235492,"reputation":51,"user_id":6860273,"display_name":"Vo_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671003794,"creation_date":1671003794,"answer_id":74794968,"question_id":74782611,"body_markdown":"Following my old tradition, I solved it by myself soon after I posted here. And here is what happened:\r\n Selenium was looking for the file google-chrome which is basically a link to /opt/google/chrome/google-chrome, but it turned out that I only have google-chrome-stable, which selenium does not recognize. So using the following command inside the /usr/bin directory\r\n\r\n    sudo ln -s /opt/google/chrome/google-chrome google-chrome\r\n\r\nI created another shortcut to the same location, but this time with the name google-chrome. After that everything works as charm.\r\nI hope this will come in handy for someone else too. \r\nPeace!","title":"SessionNotCreatedException from chromedriver on java selenium project","body":"<p>Following my old tradition, I solved it by myself soon after I posted here. And here is what happened:\nSelenium was looking for the file google-chrome which is basically a link to /opt/google/chrome/google-chrome, but it turned out that I only have google-chrome-stable, which selenium does not recognize. So using the following command inside the /usr/bin directory</p>\n<pre><code>sudo ln -s /opt/google/chrome/google-chrome google-chrome\n</code></pre>\n<p>I created another shortcut to the same location, but this time with the name google-chrome. After that everything works as charm.\nI hope this will come in handy for someone else too.\nPeace!</p>\n"}],"owner":{"account_id":9235492,"reputation":51,"user_id":6860273,"display_name":"Vo_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671003794,"creation_date":1670923840,"question_id":74782611,"body_markdown":"I am getting SessionNotCreatedException from chromedriver on java selenium project. I am also using TestNG and all this running on Linux mint. \r\n\r\nHere are my chrome options: \r\n\r\n     static ChromeOptions getLocalChromeOptions() {\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--ignore-ssl-errors=yes&quot;);\r\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n        options.addArguments(&quot;--disable-popup-blocking&quot;);\r\n        options.addArguments(&quot;--start-maximized&quot;);\r\n        options.setExperimentalOption(&quot;prefs&quot;, getChromeExperimentalOptions(LOCAL_DOWNLOADS_FOLDER));\r\n\r\n        return options;\r\n    }\r\n\r\nand the exception itself\r\n\r\n        org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\r\n      (unknown error: DevToolsActivePort file doesn&#39;t exist)\r\n      (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\n    Build info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\r\n    System info: host: &#39;username-pc&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.4.0-131-generic&#39;, java.version: &#39;11.0.15&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/usernam/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/username/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}}]\r\n    \r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:230)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:151)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:80)\r\n    \tat com.company.platform.selenium.managers.ChromeDriverManager.createDriver(ChromeDriverManager.java:12)\r\n    \tat com.company.platform.tests.BaseTest.setUp(BaseTest.java:55)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n    \tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:596)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\nI moved the driver from the location &quot;/usr/bin/google-chrome&quot;, but even when it was there, I had this issue. The irony is that everything operates normally on a virtual machine on the same pc. \r\n","title":"SessionNotCreatedException from chromedriver on java selenium project","body":"<p>I am getting SessionNotCreatedException from chromedriver on java selenium project. I am also using TestNG and all this running on Linux mint.</p>\n<p>Here are my chrome options:</p>\n<pre><code> static ChromeOptions getLocalChromeOptions() {\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--ignore-ssl-errors=yes&quot;);\n    options.addArguments(&quot;--ignore-certificate-errors&quot;);\n    options.addArguments(&quot;--disable-popup-blocking&quot;);\n    options.addArguments(&quot;--start-maximized&quot;);\n    options.setExperimentalOption(&quot;prefs&quot;, getChromeExperimentalOptions(LOCAL_DOWNLOADS_FOLDER));\n\n    return options;\n}\n</code></pre>\n<p>and the exception itself</p>\n<pre><code>    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\n  (unknown error: DevToolsActivePort file doesn't exist)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'\nSystem info: host: 'username-pc', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '5.4.0-131-generic', java.version: '11.0.15'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/usernam/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--ignore-ssl-errors=yes, --ignore-certificate-errors, --disable-popup-blocking, --start-maximized], extensions: [], prefs: {download.default_directory: /home/username/Downloads, download.directory_upgrade: true, download.prompt_for_download: false, plugins.always_open_pdf_externally: true, plugins.plugins_disabled: [Chrome PDF Viewer], profile.default_content_settings.popups: 0, safebrowsing.enabled: false}}}}]\n\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:230)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:151)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:80)\n    at com.company.platform.selenium.managers.ChromeDriverManager.createDriver(ChromeDriverManager.java:12)\n    at com.company.platform.tests.BaseTest.setUp(BaseTest.java:55)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:700)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:527)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>I moved the driver from the location &quot;/usr/bin/google-chrome&quot;, but even when it was there, I had this issue. The irony is that everything operates normally on a virtual machine on the same pc.</p>\n"},{"tags":["java","android","kotlin","android-edittext","spannable"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670607754,"creation_date":1670607754,"answer_id":74746561,"question_id":74734903,"body_markdown":"Make sure that you are using integer colors and not color ids in your code. You, of course, could use the color ids but you will have to make the conversion to a color integer. The following demonstrates this.\r\n\r\n    val newColor =\r\n        ResourcesCompat.getColor(resources, android.R.color.holo_blue_light, null)\r\n    changeTextForegroundColor(newColor, 0, 5)\r\n\r\nThen in `changeTextForgroundColor()`\r\n\r\n    // If foregroundColor == null, then just remove the span, what we do above\r\n    if (foregroundColor != null) {\r\n        resultText.setSpan(\r\n            ForegroundColorSpan(foregroundColor),\r\n            startPosition,\r\n            endPosition,\r\n            Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\r\n        )\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gzdfN.gif","title":"How to remove a part of Spannable","body":"<p>Make sure that you are using integer colors and not color ids in your code. You, of course, could use the color ids but you will have to make the conversion to a color integer. The following demonstrates this.</p>\n<pre><code>val newColor =\n    ResourcesCompat.getColor(resources, android.R.color.holo_blue_light, null)\nchangeTextForegroundColor(newColor, 0, 5)\n</code></pre>\n<p>Then in <code>changeTextForgroundColor()</code></p>\n<pre><code>// If foregroundColor == null, then just remove the span, what we do above\nif (foregroundColor != null) {\n    resultText.setSpan(\n        ForegroundColorSpan(foregroundColor),\n        startPosition,\n        endPosition,\n        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n    )\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gzdfN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzdfN.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26248212,"reputation":11,"user_id":19921394,"display_name":"MrRuslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671003221,"creation_date":1671003221,"answer_id":74794892,"question_id":74734903,"body_markdown":"Finally, I wrote code that as I guess can resolve my problem, here I remove spans if span within selection (It won&#39;t remove span which range outside of selection), then check if color is null, then set color to white, else to another one. This code helps to to avoid issue when one span was painted over another one:\r\n\r\n    private fun changeTextForegroundColor( @ColorInt foregroundColor: Int?, startPosition: Int, endPosition: Int) {\r\n        val resultText: Spannable =\r\n            noteBinding.contentActivityInclude.contentEditText.text?.toSpannable() ?: return\r\n        \r\n        val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\r\n                startPosition, endPosition,\r\n                ForegroundColorSpan::class.java)\r\n        spans.forEach {\r\n            val selectedSpanStart = resultText.getSpanStart(it)\r\n            val selectedSpanEnd = resultText.getSpanEnd(it)\r\n            if (selectedSpanStart &gt;= startPosition &amp;&amp; selectedSpanEnd &lt;= endPosition) {\r\n                \r\n                resultText.removeSpan(it)\r\n                \r\n            }\r\n            \r\n        }\r\n        if (foregroundColor == null) {\r\n            resultText.setSpan(\r\n                    ForegroundColorSpan(Color.WHITE),\r\n                    startPosition,\r\n                    endPosition,\r\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n        } else {\r\n            resultText.setSpan(\r\n                    ForegroundColorSpan(foregroundColor),\r\n                    startPosition,\r\n                    endPosition,\r\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n            \r\n        }\r\n        \r\n        noteBinding.contentActivityInclude.contentEditText.setText(resultText)\r\n        \r\n    }","title":"How to remove a part of Spannable","body":"<p>Finally, I wrote code that as I guess can resolve my problem, here I remove spans if span within selection (It won't remove span which range outside of selection), then check if color is null, then set color to white, else to another one. This code helps to to avoid issue when one span was painted over another one:</p>\n<pre><code>private fun changeTextForegroundColor( @ColorInt foregroundColor: Int?, startPosition: Int, endPosition: Int) {\n    val resultText: Spannable =\n        noteBinding.contentActivityInclude.contentEditText.text?.toSpannable() ?: return\n    \n    val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\n            startPosition, endPosition,\n            ForegroundColorSpan::class.java)\n    spans.forEach {\n        val selectedSpanStart = resultText.getSpanStart(it)\n        val selectedSpanEnd = resultText.getSpanEnd(it)\n        if (selectedSpanStart &gt;= startPosition &amp;&amp; selectedSpanEnd &lt;= endPosition) {\n            \n            resultText.removeSpan(it)\n            \n        }\n        \n    }\n    if (foregroundColor == null) {\n        resultText.setSpan(\n                ForegroundColorSpan(Color.WHITE),\n                startPosition,\n                endPosition,\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n    } else {\n        resultText.setSpan(\n                ForegroundColorSpan(foregroundColor),\n                startPosition,\n                endPosition,\n                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n        \n    }\n    \n    noteBinding.contentActivityInclude.contentEditText.setText(resultText)\n    \n}\n</code></pre>\n"}],"owner":{"account_id":26248212,"reputation":11,"user_id":19921394,"display_name":"MrRuslan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74794892,"answer_count":2,"score":1,"last_activity_date":1671003221,"creation_date":1670524661,"question_id":74734903,"body_markdown":"In my android app user can change text foreground and background colors by selecting text, everything works fine, but if user created red foreground for text **Hello World**, and wants to remove red foreground in the World word, code removes the whole sentence background, if there&#39;s a way to do it, please, help me, here is the function:\r\n```\r\nprivate fun changeTextForegroundColor(\r\n\r\n        @ColorInt foregroundColor: Int?,\r\n\r\n        startPosition: Int,\r\n\r\n        endPosition: Int\r\n\r\n    ) {\r\n\r\n        val resultText: Spannable = bindingContent.contentEditText.text.toSpannable()\r\n\r\n        //Get foreground spans and remove them.\r\n\r\n        val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\r\n\r\n                startPosition, endPosition,\r\n\r\n                ForegroundColorSpan::class.java)\r\n\r\n        repeat(spans.count()) {\r\n\r\n            resultText.removeSpan(spans[it])\r\n\r\n        }\r\n\r\n        \r\n\r\n        // If foregroundColor == null, then just remove the span, what we do above\r\n\r\n        if (foregroundColor != null) {\r\n\r\n            resultText.setSpan(\r\n\r\n                    ForegroundColorSpan(foregroundColor),\r\n\r\n                    startPosition,\r\n\r\n                    endPosition,\r\n\r\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n\r\n            \r\n\r\n        }\r\n\r\n        bindingContent.contentEditText.setText(resultText)\r\n\r\n        \r\n\r\n    }\r\n```\r\n\r\nI tried not to remove, but to replace the foreground color with white(my text color) but it causes lags in my app, so I need to remove a word World, without removing the Hello word foreground in my span.","title":"How to remove a part of Spannable","body":"<p>In my android app user can change text foreground and background colors by selecting text, everything works fine, but if user created red foreground for text <strong>Hello World</strong>, and wants to remove red foreground in the World word, code removes the whole sentence background, if there's a way to do it, please, help me, here is the function:</p>\n<pre><code>private fun changeTextForegroundColor(\n\n        @ColorInt foregroundColor: Int?,\n\n        startPosition: Int,\n\n        endPosition: Int\n\n    ) {\n\n        val resultText: Spannable = bindingContent.contentEditText.text.toSpannable()\n\n        //Get foreground spans and remove them.\n\n        val spans: Array&lt;ForegroundColorSpan&gt; = resultText.getSpans(\n\n                startPosition, endPosition,\n\n                ForegroundColorSpan::class.java)\n\n        repeat(spans.count()) {\n\n            resultText.removeSpan(spans[it])\n\n        }\n\n        \n\n        // If foregroundColor == null, then just remove the span, what we do above\n\n        if (foregroundColor != null) {\n\n            resultText.setSpan(\n\n                    ForegroundColorSpan(foregroundColor),\n\n                    startPosition,\n\n                    endPosition,\n\n                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n\n            \n\n        }\n\n        bindingContent.contentEditText.setText(resultText)\n\n        \n\n    }\n</code></pre>\n<p>I tried not to remove, but to replace the foreground color with white(my text color) but it causes lags in my app, so I need to remove a word World, without removing the Hello word foreground in my span.</p>\n"},{"tags":["java","xml","canonicalization"],"answers":[{"comments":[{"owner":{"account_id":72958,"reputation":1022,"user_id":210391,"accept_rate":60,"display_name":"artsince"},"score":0,"creation_date":1281446331,"post_id":3449249,"comment_id":3595489,"body_markdown":"does that mean it is wrong to expect &amp;#xD; replacing cr for canonicalization in this case?","body":"does that mean it is wrong to expect &amp;#xD; replacing cr for canonicalization in this case?"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1281446677,"post_id":3449249,"comment_id":3595548,"body_markdown":"Not only in this case; XML always swallows it even before the text nodes are created.","body":"Not only in this case; XML always swallows it even before the text nodes are created."},{"owner":{"account_id":172481,"reputation":110942,"user_id":400547,"display_name":"Jon Hanna"},"score":0,"creation_date":1281451764,"post_id":3449249,"comment_id":3596572,"body_markdown":"I&#39;m afraid I had misguided artsince earlier on the way that c14n is meant to preserve explicit &amp;#xD; but normalise on U+000D characters, as this had made a difficulty with the equivalent .NET code appear correct to me when it was not. In .NET one wants to do the normalisation prior to loading the XmlDocument to have the correct cases of &amp;#xD; preserved, as otherwise they won&#39;t be distinguished from explicit cases. Easily done, but the fact that &amp;#xD; often is correct in c14n output had misled me.","body":"I&#39;m afraid I had misguided artsince earlier on the way that c14n is meant to preserve explicit &amp;#xD; but normalise on U+000D characters, as this had made a difficulty with the equivalent .NET code appear correct to me when it was not. In .NET one wants to do the normalisation prior to loading the XmlDocument to have the correct cases of &amp;#xD; preserved, as otherwise they won&#39;t be distinguished from explicit cases. Easily done, but the fact that &amp;#xD; often is correct in c14n output had misled me."}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281445807,"creation_date":1281445807,"answer_id":3449249,"question_id":3449209,"body_markdown":"XML defines that the input can contain all possible kinds of EOL styles but that the parser must replace all of them with a single linefeed (`\\n`, ASCII 10) character.\r\n\r\nIf you want to protect the character, you must replace ASCII 13 with `&amp;#13;` yourself before the XML parser sees the input. If you use Java, I suggest to use a `FilterInputStream`.","title":"handling carriage return in canonicalization with java","body":"<p>XML defines that the input can contain all possible kinds of EOL styles but that the parser must replace all of them with a single linefeed (<code>\\n</code>, ASCII 10) character.</p>\n\n<p>If you want to protect the character, you must replace ASCII 13 with <code>&amp;#13;</code> yourself before the XML parser sees the input. If you use Java, I suggest to use a <code>FilterInputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671003209,"creation_date":1671003209,"answer_id":74794889,"question_id":3449209,"body_markdown":"try\r\n\r\n    static {\r\n        System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\r\n        org.apache.xml.security.Init.init();\r\n    }\r\n\r\nusing the library: `org.apache.santuario:xmlsec:3.0.1`, it works fine\r\n\r\nif you are using `org.apache.xml.security:xml-security:1.4.1`, it seems not work.","title":"handling carriage return in canonicalization with java","body":"<p>try</p>\n<pre><code>static {\n    System.setProperty(&quot;org.apache.xml.security.ignoreLineBreaks&quot;, &quot;true&quot;);\n    org.apache.xml.security.Init.init();\n}\n</code></pre>\n<p>using the library: <code>org.apache.santuario:xmlsec:3.0.1</code>, it works fine</p>\n<p>if you are using <code>org.apache.xml.security:xml-security:1.4.1</code>, it seems not work.</p>\n"}],"owner":{"account_id":72958,"reputation":1022,"user_id":210391,"accept_rate":60,"display_name":"artsince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671003209,"creation_date":1281445550,"question_id":3449209,"body_markdown":"I am trying to canonicalize an html text node by `com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java` class. My input file has carriage return and a line feed at the end. Upon canonicalization I expect to see the carriage return transformed into `&amp;#xD;`. However, the the output I get does not contain the carriage return. It only contains the line feed. How should I modify my code to include the carriage return?\r\n\r\nexample: my input with `cr` and `lf` at the end\r\n\r\n    &lt;MyNode xmlns=&quot;http://www.artsince.com/test#&quot;&gt;Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(crlf)\r\n    9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(crlf)\r\n    c76LsetK8C1434K66+Q=&lt;/MyNode&gt;\r\n\r\nthis is the sample code I use\r\n\r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    dbf.setNamespaceAware(true);\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    Document doc = db.parse(new FileInputStream(new File(&quot;C:\\\\text.xml&quot;)));\r\n                \r\n    if(!Init.isInitialized())\r\n    {\r\n       Init.init();\r\n    }\r\n              \r\n    Path xPath = XPathFactory.newInstance().newXPath();\r\n    String expression = &quot;child::*/child::text()&quot;; \r\n    NodeList textNodeList = (NodeList) xPath.evaluate(expression, doc, XPathConstants.NODESET);\r\n    Canonicalizer cn = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_OMIT_COMMENTS);\r\n    byte[] canonn = cn.canonicalizeXPathNodeSet(textNodeList);\r\n    System.out.println(new String(canonn).toCharArray());\r\n\r\n\r\nand the output I get has only `lf` in the end\r\n\r\n    Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(lf)\r\n    9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(lf)\r\n    c76LsetK8C1434K66+Q=\r\n\r\nhowever, I expect to see `&amp;#xD;` and `lf` at the end of lines\r\n\r\n    Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9&amp;#xD;(lf)\r\n    9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT&amp;#xD;(lf)\r\n    c76LsetK8C1434K66+Q=","title":"handling carriage return in canonicalization with java","body":"<p>I am trying to canonicalize an html text node by <code>com/sun/org/apache/xml/internal/security/c14n/Canonicalizer.java</code> class. My input file has carriage return and a line feed at the end. Upon canonicalization I expect to see the carriage return transformed into <code>&amp;#xD;</code>. However, the the output I get does not contain the carriage return. It only contains the line feed. How should I modify my code to include the carriage return?</p>\n\n<p>example: my input with <code>cr</code> and <code>lf</code> at the end</p>\n\n<pre><code>&lt;MyNode xmlns=\"http://www.artsince.com/test#\"&gt;Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(crlf)\n9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(crlf)\nc76LsetK8C1434K66+Q=&lt;/MyNode&gt;\n</code></pre>\n\n<p>this is the sample code I use</p>\n\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(new FileInputStream(new File(\"C:\\\\text.xml\")));\n\nif(!Init.isInitialized())\n{\n   Init.init();\n}\n\nPath xPath = XPathFactory.newInstance().newXPath();\nString expression = \"child::*/child::text()\"; \nNodeList textNodeList = (NodeList) xPath.evaluate(expression, doc, XPathConstants.NODESET);\nCanonicalizer cn = Canonicalizer.getInstance(Canonicalizer.ALGO_ID_C14N_OMIT_COMMENTS);\nbyte[] canonn = cn.canonicalizeXPathNodeSet(textNodeList);\nSystem.out.println(new String(canonn).toCharArray());\n</code></pre>\n\n<p>and the output I get has only <code>lf</code> in the end</p>\n\n<pre><code>Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9(lf)\n9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT(lf)\nc76LsetK8C1434K66+Q=\n</code></pre>\n\n<p>however, I expect to see <code>&amp;#xD;</code> and <code>lf</code> at the end of lines</p>\n\n<pre><code>Lqc3EeJlyY45bBm1lha869dkHWw1w+U8A6aKM2Xuwk3yWTjt0A2Wq/25rAncSBQlBGOCyTmhfic9&amp;#xD;(lf)\n9mWf4mC2Ui6ccLqCMjFR4mDQApkfoTy+Cu2eHul9CRjKa0TqckFv7ryda9V5MHruueXII/V+gPLT&amp;#xD;(lf)\nc76LsetK8C1434K66+Q=\n</code></pre>\n"},{"tags":["java","eclipse","autocomplete"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1670972178,"post_id":74789566,"comment_id":131995645,"body_markdown":"`jdk.*` is filtered by default. Does in the preferences _Java &gt; Appearance &gt; Type Filters_ unchecking `jdk.*` work for you?","body":"<code>jdk.*</code> is filtered by default. Does in the preferences <i>Java &gt; Appearance &gt; Type Filters</i> unchecking <code>jdk.*</code> work for you?"},{"owner":{"account_id":19604520,"reputation":43,"user_id":14348526,"display_name":"Niccol&#242; Cavallini"},"score":0,"creation_date":1671002285,"post_id":74789566,"comment_id":132000473,"body_markdown":"Oh, thanks! It was checked, I unchecked it and now it works. Didn&#39;t know about this &quot;filter&quot; of Eclipse.","body":"Oh, thanks! It was checked, I unchecked it and now it works. Didn&#39;t know about this &quot;filter&quot; of Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671002919,"creation_date":1671002919,"answer_id":74794845,"question_id":74789566,"body_markdown":"`jdk.*` is filtered by default.\r\n\r\nWhen you want to use something of `jdk.*` in a project, go to the **preferences *Java &gt; Appearance &gt; Type Filters*** and **uncheck** the item **`jdk.*`**.","title":"Eclipse autocompletion for jdk.* packages does not work","body":"<p><code>jdk.*</code> is filtered by default.</p>\n<p>When you want to use something of <code>jdk.*</code> in a project, go to the <strong>preferences <em>Java &gt; Appearance &gt; Type Filters</em></strong> and <strong>uncheck</strong> the item <strong><code>jdk.*</code></strong>.</p>\n"}],"owner":{"account_id":19604520,"reputation":43,"user_id":14348526,"display_name":"Niccol&#242; Cavallini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74794845,"answer_count":1,"score":0,"last_activity_date":1671002919,"creation_date":1670957014,"question_id":74789566,"body_markdown":"I write here because I noticed a strange behaviour of Eclipse IDE (2022-12).\r\n\r\nBasically, the autocompletition does not work properly when I use a class from a `jdk.*` package.\r\n\r\nFor example: \r\n\r\n```java\r\nimport jdk.jshell.*;\r\npublic class Test {\r\nprivate static final JShell JSHELL = JShell.create();\r\n...\r\n...\r\npublic static void main(String[] args) {} \r\n\r\n} \r\n```\r\n\r\nNow when I write `JSHELL.` (e.g., inside the main method), I get only proposal for the methods of the `Object` class. No specific proposal is available.\r\n\r\nWhat am I doing wrong?\r\n\r\nThanks.\r\n\r\nTried updating &amp; reinstalling Eclipse.","title":"Eclipse autocompletion for jdk.* packages does not work","body":"<p>I write here because I noticed a strange behaviour of Eclipse IDE (2022-12).</p>\n<p>Basically, the autocompletition does not work properly when I use a class from a <code>jdk.*</code> package.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jdk.jshell.*;\npublic class Test {\nprivate static final JShell JSHELL = JShell.create();\n...\n...\npublic static void main(String[] args) {} \n\n} \n</code></pre>\n<p>Now when I write <code>JSHELL.</code> (e.g., inside the main method), I get only proposal for the methods of the <code>Object</code> class. No specific proposal is available.</p>\n<p>What am I doing wrong?</p>\n<p>Thanks.</p>\n<p>Tried updating &amp; reinstalling Eclipse.</p>\n"},{"tags":["java","apache-spark","janusgraph","google-cloud-bigtable"],"answers":[{"comments":[{"owner":{"account_id":5434081,"reputation":69,"user_id":4324055,"display_name":"Rohit Raja"},"score":0,"creation_date":1672205616,"post_id":74794715,"comment_id":132240976,"body_markdown":"Thanks, @HadoopMarc I have tried with TinkerPop-3.5.3, Haven&#39;t worked for me. Do you have a code reference?","body":"Thanks, @HadoopMarc I have tried with TinkerPop-3.5.3, Haven&#39;t worked for me. Do you have a code reference?"},{"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"score":1,"creation_date":1672226338,"post_id":74794715,"comment_id":132245451,"body_markdown":"I believe this part of the docs is relevant: https://docs.janusgraph.org/advanced-topics/serializer/ Beware that the java.util.atomic package may not be applicable to use in distributed computing. Apache Spark has its own data types for this purpose, see: https://spark.apache.org/docs/3.3.1/rdd-programming-guide.html#accumulators","body":"I believe this part of the docs is relevant: <a href=\"https://docs.janusgraph.org/advanced-topics/serializer/\" rel=\"nofollow noreferrer\">docs.janusgraph.org/advanced-topics/serializer</a> Beware that the java.util.atomic package may not be applicable to use in distributed computing. Apache Spark has its own data types for this purpose, see: <a href=\"https://spark.apache.org/docs/3.3.1/rdd-programming-guide.html#accumulators\" rel=\"nofollow noreferrer\">spark.apache.org/docs/3.3.1/&hellip;</a>"}],"tags":[],"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671002000,"creation_date":1671002000,"answer_id":74794715,"question_id":74780364,"body_markdown":"    &lt;properties&gt;\r\n        &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\r\n        &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\r\n        &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nJanusGraph-0.6.2 depends on TinkerPop-3.5.3.\r\nMixing with other TinkerPop versions can easily lead to these kind of problems.","title":"Gremlin query on Janusgraph through Spark. Error: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated","body":"<pre><code>&lt;properties&gt;\n    &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\n    &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\n    &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>JanusGraph-0.6.2 depends on TinkerPop-3.5.3.\nMixing with other TinkerPop versions can easily lead to these kind of problems.</p>\n"}],"owner":{"account_id":5434081,"reputation":69,"user_id":4324055,"display_name":"Rohit Raja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671002000,"creation_date":1670909389,"question_id":74780364,"body_markdown":"**Current Architecture**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Description**\r\n\r\n 1. I am using JanusGraph 0.6.2 for graph processing. \r\n 2. GCP BigTable as JanusGraph Backend/database. \r\n 3. Spark 3.0.0 with hadoop 2.7 for data processing, setup locally (planning to setup the env in GCP after the POC). \r\n 4. Gremlin Client and Java 11 as a client to run Spark Job, to do queries like traversal, find nodes and etc through *SparkGraphComputer*\r\n\r\n**Problem**\r\n\r\nI am able to trigger a query job, to do the node count on Spark using Gremlin Client, But I am facing issues triggering a query job using Java apis. \r\n\r\n**Expectation**\r\n\r\nTrigger a Query Job using Java APIs. \r\n\r\n**Apache Spark Setup is done**\r\n[![enter image description here][2]][2]\r\n**Configuration working for Gremlin Client**\r\n\r\n```# Copyright 2020 JanusGraph Authors\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#      http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\n#\r\n# Hadoop Graph Configuration\r\n#\r\ngremlin.graph=org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph\r\ngremlin.hadoop.graphReader=org.janusgraph.hadoop.formats.hbase.HBaseInputFormat\r\ngremlin.hadoop.graphWriter=org.apache.hadoop.mapreduce.lib.output.NullOutputFormat\r\n\r\ngremlin.hadoop.jarsInDistributedCache=true\r\ngremlin.hadoop.inputLocation=none\r\ngremlin.hadoop.outputLocation=output\r\ngremlin.spark.persistContext=true\r\n\r\n#\r\n# JanusGraph HBase InputFormat configuration\r\n#\r\n#janusgraphmr.ioformat.conf.storage.backend=hbase\r\n#janusgraphmr.ioformat.conf.storage.hostname=localhost\r\n#janusgraphmr.ioformat.conf.storage.port=8586\r\n#janusgraphmr.ioformat.conf.storage.hbase.table=janusgraph\r\njanusgraphmr.ioformat.conf.storage.backend=hbase\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl=com.google.cloud.bigtable.hbase2_x.BigtableConnection\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id= *****\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id= *****\r\njanusgraphmr.ioformat.conf.storage.hbase.table= ******\r\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable=false\r\n\r\n# This defines the indexing backend configuration used while writing data to JanusGraph.\r\njanusgraphmr.ioformat.conf.index.search.backend=elasticsearch\r\njanusgraphmr.ioformat.conf.index.search.hostname=localhost\r\n\r\n#\r\n# SparkGraphComputer Configuration\r\n#\r\nspark.master=spark://RINMAC1714:7077\r\nspark.executor.memory=1g\r\nspark.executor.extraClassPath=/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/*\r\nspark.serializer=org.apache.spark.serializer.KryoSerializer\r\nspark.kryo.registrator=org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator\r\n```\r\n\r\n\r\n**Above config works and I get the result. Please follow the screenshot**\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n**Java API configuration which is not working for me**\r\n\r\nGraphTraversalProvider.java\r\n\r\n```import org.apache.commons.configuration.BaseConfiguration;\r\nimport org.apache.commons.configuration.Configuration;\r\nimport org.apache.tinkerpop.gremlin.hadoop.Constants;\r\n\r\npublic class GraphTraversalProvider {\r\n    public static Configuration makeLocal() {\r\n        return make(true);\r\n    }\r\n    public static Configuration makeRemote() {\r\n        return make(false);\r\n    }\r\n    private static Configuration make(boolean local) {\r\n        final Configuration hadoopConfig = new BaseConfiguration();\r\n        hadoopConfig.setProperty(&quot;gremlin.graph&quot;, &quot;org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_READER, &quot;org.janusgraph.hadoop.formats.hbase.HBaseInputFormat&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_WRITER, &quot;org.apache.hadoop.mapreduce.lib.output.NullOutputFormat&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_JARS_IN_DISTRIBUTED_CACHE, true);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_INPUT_LOCATION, &quot;none&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_OUTPUT_LOCATION, &quot;output&quot;);\r\n        hadoopConfig.setProperty(Constants.GREMLIN_SPARK_PERSIST_CONTEXT, true);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.backend&quot;, &quot;hbase&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl&quot;, &quot;com.google.cloud.bigtable.hbase2_x.BigtableConnectio&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id&quot;, &quot;******&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id&quot;, &quot;*******&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.table&quot;, &quot;******&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable&quot;, false);\r\n        \r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.backend&quot;, &quot;elasticsearch&quot;);\r\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.hostname&quot;, &quot;localhost&quot;);\r\n        if (local) {\r\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;local[*]&quot;); // Run Spark locally with as many worker threads as logical cores on your machine.\r\n        } else {\r\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;spark://MAC1714:7077&quot;);\r\n        }\r\n        hadoopConfig.setProperty(&quot;spark.executor.memory&quot;, &quot;1g&quot;);\r\n        hadoopConfig.setProperty(Constants.SPARK_SERIALIZER, &quot;org.apache.spark.serializer.KryoSerializer&quot;);\r\n        hadoopConfig.setProperty(&quot;spark.kryo.registrator&quot;, &quot;org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator&quot;);\r\n        hadoopConfig.setProperty(&quot;spark.kryo.registrationRequired&quot;,&quot;false&quot;);\r\n        return hadoopConfig;\r\n    }\r\n}\r\n```\r\n\r\nMain Class\r\n```public class RunSparkJob {\r\n    public static void main(String[] args) throws Exception {\r\n        runSpark();\r\n    }\r\n    private static void runSpark() throws Exception {\r\n        Configuration config = GraphTraversalProvider.makeRemote();\r\n        Graph hadoopGraph = GraphFactory.open(config);\r\n        Long totalVertices = hadoopGraph.traversal().withComputer(SparkGraphComputer.class).V().count().next();\r\n        System.out.println(&quot;IT WORKED: &quot; + totalVertices);\r\n        hadoopGraph.close();\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.janus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;janus-spark&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;janus-spark&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\r\n        &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\r\n        &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-bigtable --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-bigtable&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hadoop --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-hadoop&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hbase --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-hbase&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janusgraph-solr&lt;/artifactId&gt;\r\n            &lt;version&gt;${janus.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.esotericsoftware.kryo/kryo --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.esotericsoftware.kryo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kryo&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.twitter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;chill_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;0.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;!-- GREMLIN --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-gremlin&lt;/artifactId&gt;\r\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-gremlin&lt;/artifactId&gt;\r\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- SPARK --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;27.0-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**Error Logs**\r\n```SLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/org/slf4j/slf4j-log4j12/1.7.30/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\r\n0    [main] WARN  org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer  - class org.apache.hadoop.mapreduce.lib.output.NullOutputFormat does not implement PersistResultGraphAware and thus, persistence options are unknown -- assuming all options are possible\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\r\n\tat org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:88)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.hasNext(AbstractStep.java:150)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.ExpandableStepIterator.next(ExpandableStepIterator.java:55)\r\n\tat org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.ComputerResultStep.processNextStart(ComputerResultStep.java:68)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:135)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:40)\r\n\tat org.apache.tinkerpop.gremlin.process.traversal.util.DefaultTraversal.next(DefaultTraversal.java:240)\r\n\tat com.janus.app.services.RunSparkJob.runSpark(RunSparkJob.java:20)\r\n\tat com.janus.app.services.RunSparkJob.main(RunSparkJob.java:14)\r\nCaused by: java.util.concurrent.ExecutionException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n\tat org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:68)\r\n\t... 8 more\r\nCaused by: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\r\n\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\r\n\tat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1393)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.load(KryoShimServiceLoader.java:97)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.applyConfiguration(KryoShimServiceLoader.java:58)\r\n\tat org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer.lambda$submitWithExecutor$1(SparkGraphComputer.java:248)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\nCaused by: java.lang.IllegalArgumentException: Unable to create serializer &quot;org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer&quot; for class: java.util.concurrent.atomic.AtomicLong\r\n\tat org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:67)\r\n\tat org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:45)\r\n\tat org.apache.tinkerpop.shaded.kryo.Kryo.newDefaultSerializer(Kryo.java:380)\r\n\tat org.apache.tinkerpop.shaded.kryo.Kryo.getDefaultSerializer(Kryo.java:364)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoTypeReg.registerWith(GryoTypeReg.java:122)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:101)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:75)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:71)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:64)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader$Builder.create(GryoReader.java:302)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.createPool(GryoPool.java:126)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.access$100(GryoPool.java:40)\r\n\tat org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool$Builder.create(GryoPool.java:227)\r\n\tat org.apache.tinkerpop.gremlin.hadoop.structure.io.HadoopPools.initialize(HadoopPools.java:51)\r\n\tat org.janusgraph.hadoop.serialize.JanusGraphKryoShimService.&lt;init&gt;(JanusGraphKryoShimService.java:30)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\r\n\t... 9 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor3.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:54)\r\n\t... 29 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile long java.util.concurrent.atomic.AtomicLong.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @1d9b7cce\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.buildValidFields(FieldSerializer.java:306)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:239)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:182)\r\n\tat org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.&lt;init&gt;(FieldSerializer.java:155)\r\n\t... 34 more\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n```\r\n\r\nI am still exploring Janusgraph and its processing capabilities with Spark. I have given all the details here, Let me know if any more details are required. It is a very new techstack for me. I would be grateful for any help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DDAzO.png\r\n  [2]: https://i.stack.imgur.com/RX8kJ.png\r\n  [3]: https://i.stack.imgur.com/KCurg.png\r\n  [4]: https://i.stack.imgur.com/hrNpt.png","title":"Gremlin query on Janusgraph through Spark. Error: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated","body":"<p><strong>Current Architecture</strong>\n<a href=\"https://i.stack.imgur.com/DDAzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DDAzO.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Description</strong></p>\n<ol>\n<li>I am using JanusGraph 0.6.2 for graph processing.</li>\n<li>GCP BigTable as JanusGraph Backend/database.</li>\n<li>Spark 3.0.0 with hadoop 2.7 for data processing, setup locally (planning to setup the env in GCP after the POC).</li>\n<li>Gremlin Client and Java 11 as a client to run Spark Job, to do queries like traversal, find nodes and etc through <em>SparkGraphComputer</em></li>\n</ol>\n<p><strong>Problem</strong></p>\n<p>I am able to trigger a query job, to do the node count on Spark using Gremlin Client, But I am facing issues triggering a query job using Java apis.</p>\n<p><strong>Expectation</strong></p>\n<p>Trigger a Query Job using Java APIs.</p>\n<p><strong>Apache Spark Setup is done</strong>\n<a href=\"https://i.stack.imgur.com/RX8kJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RX8kJ.png\" alt=\"enter image description here\" /></a>\n<strong>Configuration working for Gremlin Client</strong></p>\n<pre><code>#\n# Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\n#\n# Hadoop Graph Configuration\n#\ngremlin.graph=org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph\ngremlin.hadoop.graphReader=org.janusgraph.hadoop.formats.hbase.HBaseInputFormat\ngremlin.hadoop.graphWriter=org.apache.hadoop.mapreduce.lib.output.NullOutputFormat\n\ngremlin.hadoop.jarsInDistributedCache=true\ngremlin.hadoop.inputLocation=none\ngremlin.hadoop.outputLocation=output\ngremlin.spark.persistContext=true\n\n#\n# JanusGraph HBase InputFormat configuration\n#\n#janusgraphmr.ioformat.conf.storage.backend=hbase\n#janusgraphmr.ioformat.conf.storage.hostname=localhost\n#janusgraphmr.ioformat.conf.storage.port=8586\n#janusgraphmr.ioformat.conf.storage.hbase.table=janusgraph\njanusgraphmr.ioformat.conf.storage.backend=hbase\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl=com.google.cloud.bigtable.hbase2_x.BigtableConnection\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id= *****\njanusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id= *****\njanusgraphmr.ioformat.conf.storage.hbase.table= ******\njanusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable=false\n\n# This defines the indexing backend configuration used while writing data to JanusGraph.\njanusgraphmr.ioformat.conf.index.search.backend=elasticsearch\njanusgraphmr.ioformat.conf.index.search.hostname=localhost\n\n#\n# SparkGraphComputer Configuration\n#\nspark.master=spark://RINMAC1714:7077\nspark.executor.memory=1g\nspark.executor.extraClassPath=/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/*\nspark.serializer=org.apache.spark.serializer.KryoSerializer\nspark.kryo.registrator=org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator\n</code></pre>\n<p><strong>Above config works and I get the result. Please follow the screenshot</strong>\n<a href=\"https://i.stack.imgur.com/KCurg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KCurg.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/hrNpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrNpt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java API configuration which is not working for me</strong></p>\n<p>GraphTraversalProvider.java</p>\n<pre><code>import org.apache.commons.configuration.Configuration;\nimport org.apache.tinkerpop.gremlin.hadoop.Constants;\n\npublic class GraphTraversalProvider {\n    public static Configuration makeLocal() {\n        return make(true);\n    }\n    public static Configuration makeRemote() {\n        return make(false);\n    }\n    private static Configuration make(boolean local) {\n        final Configuration hadoopConfig = new BaseConfiguration();\n        hadoopConfig.setProperty(&quot;gremlin.graph&quot;, &quot;org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_READER, &quot;org.janusgraph.hadoop.formats.hbase.HBaseInputFormat&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_GRAPH_WRITER, &quot;org.apache.hadoop.mapreduce.lib.output.NullOutputFormat&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_JARS_IN_DISTRIBUTED_CACHE, true);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_INPUT_LOCATION, &quot;none&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_HADOOP_OUTPUT_LOCATION, &quot;output&quot;);\n        hadoopConfig.setProperty(Constants.GREMLIN_SPARK_PERSIST_CONTEXT, true);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.backend&quot;, &quot;hbase&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.client.connection.impl&quot;, &quot;com.google.cloud.bigtable.hbase2_x.BigtableConnectio&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.project.id&quot;, &quot;******&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.google.bigtable.instance.id&quot;, &quot;*******&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.table&quot;, &quot;******&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.storage.hbase.ext.hbase.regionsizecalculator.enable&quot;, false);\n        \n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.backend&quot;, &quot;elasticsearch&quot;);\n        hadoopConfig.setProperty(&quot;janusgraphmr.ioformat.conf.index.search.hostname&quot;, &quot;localhost&quot;);\n        if (local) {\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;local[*]&quot;); // Run Spark locally with as many worker threads as logical cores on your machine.\n        } else {\n            hadoopConfig.setProperty(&quot;spark.master&quot;, &quot;spark://MAC1714:7077&quot;);\n        }\n        hadoopConfig.setProperty(&quot;spark.executor.memory&quot;, &quot;1g&quot;);\n        hadoopConfig.setProperty(Constants.SPARK_SERIALIZER, &quot;org.apache.spark.serializer.KryoSerializer&quot;);\n        hadoopConfig.setProperty(&quot;spark.kryo.registrator&quot;, &quot;org.janusgraph.hadoop.serialize.JanusGraphKryoRegistrator&quot;);\n        hadoopConfig.setProperty(&quot;spark.kryo.registrationRequired&quot;,&quot;false&quot;);\n        return hadoopConfig;\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        runSpark();\n    }\n    private static void runSpark() throws Exception {\n        Configuration config = GraphTraversalProvider.makeRemote();\n        Graph hadoopGraph = GraphFactory.open(config);\n        Long totalVertices = hadoopGraph.traversal().withComputer(SparkGraphComputer.class).V().count().next();\n        System.out.println(&quot;IT WORKED: &quot; + totalVertices);\n        hadoopGraph.close();\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.janus&lt;/groupId&gt;\n    &lt;artifactId&gt;janus-spark&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;janus-spark&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;janus.version&gt;0.6.2&lt;/janus.version&gt;\n        &lt;spark.version&gt;3.0.0&lt;/spark.version&gt;\n        &lt;gremlin.version&gt;3.4.6&lt;/gremlin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-bigtable --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-bigtable&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hadoop --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-hadoop&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.janusgraph/janusgraph-hbase --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-hbase&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.janusgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;janusgraph-solr&lt;/artifactId&gt;\n            &lt;version&gt;${janus.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.esotericsoftware.kryo/kryo --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.esotericsoftware.kryo&lt;/groupId&gt;\n            &lt;artifactId&gt;kryo&lt;/artifactId&gt;\n            &lt;version&gt;2.16&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.twitter&lt;/groupId&gt;\n            &lt;artifactId&gt;chill_2.13&lt;/artifactId&gt;\n            &lt;version&gt;0.10.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;!-- GREMLIN --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-gremlin&lt;/artifactId&gt;\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tinkerpop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-gremlin&lt;/artifactId&gt;\n            &lt;version&gt;${gremlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- SPARK --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;27.0-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>Error Logs</strong></p>\n<pre><code>SLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/portables/janusgraph-0.6.2/lib/logback-classic-1.1.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/Users/rohit.pahan/.m2/repository/org/slf4j/slf4j-log4j12/1.7.30/slf4j-log4j12-1.7.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n0    [main] WARN  org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer  - class org.apache.hadoop.mapreduce.lib.output.NullOutputFormat does not implement PersistResultGraphAware and thus, persistence options are unknown -- assuming all options are possible\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\n    at org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:88)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.hasNext(AbstractStep.java:150)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.ExpandableStepIterator.next(ExpandableStepIterator.java:55)\n    at org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.ComputerResultStep.processNextStart(ComputerResultStep.java:68)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:135)\n    at org.apache.tinkerpop.gremlin.process.traversal.step.util.AbstractStep.next(AbstractStep.java:40)\n    at org.apache.tinkerpop.gremlin.process.traversal.util.DefaultTraversal.next(DefaultTraversal.java:240)\n    at com.janus.app.services.RunSparkJob.runSpark(RunSparkJob.java:20)\n    at com.janus.app.services.RunSparkJob.main(RunSparkJob.java:14)\nCaused by: java.util.concurrent.ExecutionException: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.tinkerpop.gremlin.process.computer.traversal.step.map.VertexProgramStep.processNextStart(VertexProgramStep.java:68)\n    ... 8 more\nCaused by: java.util.ServiceConfigurationError: org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimService: Provider org.janusgraph.hadoop.serialize.JanusGraphKryoShimService could not be instantiated\n    at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1393)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.load(KryoShimServiceLoader.java:97)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.KryoShimServiceLoader.applyConfiguration(KryoShimServiceLoader.java:58)\n    at org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer.lambda$submitWithExecutor$1(SparkGraphComputer.java:248)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at java.base/java.lang.Thread.run(Thread.java:831)\nCaused by: java.lang.IllegalArgumentException: Unable to create serializer &quot;org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer&quot; for class: java.util.concurrent.atomic.AtomicLong\n    at org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:67)\n    at org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:45)\n    at org.apache.tinkerpop.shaded.kryo.Kryo.newDefaultSerializer(Kryo.java:380)\n    at org.apache.tinkerpop.shaded.kryo.Kryo.getDefaultSerializer(Kryo.java:364)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoTypeReg.registerWith(GryoTypeReg.java:122)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:101)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoMapper.createMapper(GryoMapper.java:75)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:71)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader.&lt;init&gt;(GryoReader.java:64)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoReader$Builder.create(GryoReader.java:302)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.createPool(GryoPool.java:126)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool.access$100(GryoPool.java:40)\n    at org.apache.tinkerpop.gremlin.structure.io.gryo.GryoPool$Builder.create(GryoPool.java:227)\n    at org.apache.tinkerpop.gremlin.hadoop.structure.io.HadoopPools.initialize(HadoopPools.java:51)\n    at org.janusgraph.hadoop.serialize.JanusGraphKryoShimService.&lt;init&gt;(JanusGraphKryoShimService.java:30)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\n    ... 9 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at jdk.internal.reflect.GeneratedConstructorAccessor3.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.apache.tinkerpop.shaded.kryo.factories.ReflectionSerializerFactory.makeSerializer(ReflectionSerializerFactory.java:54)\n    ... 29 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private volatile long java.util.concurrent.atomic.AtomicLong.value accessible: module java.base does not &quot;opens java.util.concurrent.atomic&quot; to unnamed module @1d9b7cce\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:177)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:171)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.buildValidFields(FieldSerializer.java:306)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:239)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.rebuildCachedFields(FieldSerializer.java:182)\n    at org.apache.tinkerpop.shaded.kryo.serializers.FieldSerializer.&lt;init&gt;(FieldSerializer.java:155)\n    ... 34 more\n\nProcess finished with exit code 1\n\n\n</code></pre>\n<p>I am still exploring Janusgraph and its processing capabilities with Spark. I have given all the details here, Let me know if any more details are required. It is a very new techstack for me. I would be grateful for any help.</p>\n"},{"tags":["java","android","selenium","testng","appium"],"comments":[{"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"score":0,"creation_date":1670998009,"post_id":74794173,"comment_id":131999565,"body_markdown":"Am i missing something?","body":"Am i missing something?"},{"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"score":0,"creation_date":1671001560,"post_id":74794173,"comment_id":132000292,"body_markdown":"It works now after changing the selector like this ---- @CacheLookup\n\t@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;)\n\tWebElement userName;","body":"It works now after changing the selector like this ---- @CacheLookup \t@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;&zwnj;&#8203;) \tWebElement userName;"},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1671001693,"post_id":74794173,"comment_id":132000334,"body_markdown":"Check the locator for &#39;userName&#39;, may be you mentioned the wrong type of locator, ex. - instead of XPath, you would&#39;ve mentioned as CssSelector, check that.","body":"Check the locator for &#39;userName&#39;, may be you mentioned the wrong type of locator, ex. - instead of XPath, you would&#39;ve mentioned as CssSelector, check that."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671212033,"post_id":74794676,"comment_id":132057968,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74794676/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671001730,"creation_date":1671001730,"answer_id":74794676,"question_id":74794173,"body_markdown":"After making some changes to the selector it worked.\r\n\r\n**here are the changes**\r\n\r\n    @CacheLookup\r\n\t@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;)\r\n\tWebElement userName;","title":"org.openqa.selenium.InvalidSelectorException: Unsupported CSS selector &#39;*[name=&#39;userName&#39;]&#39;. Reason: &#39;Error: &#39;name&#39; is not a valid attribute","body":"<p>After making some changes to the selector it worked.</p>\n<p><strong>here are the changes</strong></p>\n<pre><code>@CacheLookup\n@FindBy(xpath =  &quot;//android.widget.EditText[@content-desc=\\&quot;test-Username\\&quot;]&quot;)\nWebElement userName;\n</code></pre>\n"}],"owner":{"account_id":27247470,"reputation":1,"user_id":20772507,"display_name":"Aroon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671001730,"creation_date":1670997963,"question_id":74794173,"body_markdown":"i am trying to click an element but its throwing InvalidSelectorException.\r\n\r\nThese are my dependencies:\r\n```\r\n&lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.6.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.26&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220320&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.9.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.6&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\n\r\n\r\n**This my runner class:\r\n**\r\n```\r\npackage mobilerunner;\r\n\r\nimport java.net.MalformedURLException;\r\n\r\nimport org.apache.log4j.PropertyConfigurator;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.Test;\r\n\r\nimport commonuseractions.CommonActionMethods;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.android.options.UiAutomator2Options;\r\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\r\nimport mobile_pageobjects.SauceLab.Login_Page;\r\nimport utils.DriverFactory;\r\n\r\npublic class SauceLab_Aroon extends CommonActionMethods{\r\n\t\r\n\t@BeforeClass\r\n\tpublic static void setUp() throws MalformedURLException {\r\n\t\t\r\n\t\tPropertyConfigurator.configure(configFilename);\r\n\t\tUiAutomator2Options opt = new UiAutomator2Options()\r\n\t\t\t\t.setApp(&quot;D:\\\\Mobile Automation\\\\APK\\\\Android.SauceLabs.Mobile.Sample.app.2.7.1.apk&quot;)\r\n\t\t\t\t.setAppActivity(&quot;com.swaglabsmobileapp.MainActivity&quot;)\r\n\t\t\t\t.setAppPackage(&quot;com.swaglabsmobileapp&quot;)\r\n\t\t\t\t.setAutomationName(&quot;UiAutomator2&quot;)\r\n\t\t\t\t.setDeviceName(&quot;Pixel 2 XL API 31&quot;)\r\n\t\t\t\t.eventTimings();\r\n\t\tappDriver = new AndroidDriver(new java.net.URL(&quot;http://127.0.0.1:4723/wd/hub/&quot;),opt);\r\n\t\tDriverFactory.setDriver(appDriver);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test1() throws Exception {\r\n\t\tnew Login_Page().logIn();\r\n\t}\r\n\t\r\n\t@AfterClass\r\n\tpublic void tearDown() {\r\n\t}\r\n}\r\n```\r\n**This my PageObject class:\r\n**\r\n```\r\npackage mobile_pageobjects.SauceLab;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.CacheLookup;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\nimport commonuseractions.CommonActionMethods;\r\nimport io.appium.java_client.pagefactory.AndroidFindBy;\r\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\r\n\r\npublic class Login_Page extends CommonActionMethods{\r\n\t\r\n\t@AndroidFindBy(accessibility =  &quot;test-Username&quot;)\r\n\t@CacheLookup\r\n\tWebElement userName;\r\n\t\r\n\t\r\n\tpublic Login_Page() {\r\n//\t\tPageFactory.initElements(new AppiumFieldDecorator(appDriver,Duration.ofSeconds(15)), this);\r\n\t\tPageFactory.initElements(appDriver, this);\r\n\t}\r\n\t\r\n\tpublic void logIn() throws Exception {\r\n\t\tThread.sleep(15000);\r\n\t\tclickMethod(userName,&quot; UserName input field &quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Here is the Exception printed in console.**\r\n\r\n\r\n\r\norg.openqa.selenium.InvalidSelectorException: Unsupported CSS selector &#39;*[name=&#39;userName&#39;]&#39;. Reason: &#39;Error: &#39;name&#39; is not a valid attribute. Supported attributes are &#39;checkable, checked, clickable, enabled, focusable, focused, long-clickable, scrollable, selected, index, instance, description, resource-id, text, class-name, package-name&#39;&#39;\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#invalid_selector_exception\r\nBuild info: version: &#39;4.7.1&#39;, revision: &#39;c6795baf1a3&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.3&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [d0d24b81-2280-4c6d-9692-afc0af6b9bf9, findElement {using=css selector, value=*[name=&#39;userName&#39;]}]\r\nCapabilities {appium:app: D:\\Mobile Automation\\APK\\An..., appium:appActivity: com.swaglabsmobileapp.MainA..., appium:appPackage: com.swaglabsmobileapp, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: D:\\Mobile Automation\\APK\\An..., appActivity: com.swaglabsmobileapp.MainA..., appPackage: com.swaglabsmobileapp, automationName: UiAutomator2, deviceName: Pixel 2 XL API 31, eventTimings: true, platformName: android}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_x86_64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 560, appium:deviceScreenSize: 1440x2880, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:pixelRatio: 3.5, appium:platformVersion: 12, appium:statBarHeight: 84, appium:takesScreenshot: true, appium:viewportRect: {height: 2628, left: 0, top: 84, width: 1440}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\r\nSession ID: d0d24b81-2280-4c6d-9692-afc0af6b9bf9\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:551)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\r\n\tat org.openqa.selenium.By$PreW3CLocator.findElement(By.java:429)\r\n\tat org.openqa.selenium.By$ByName.findElement(By.java:238)\r\n\tat org.openqa.selenium.support.ByIdOrName.findElement(ByIdOrName.java:50)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:136)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:80)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\r\n\tat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\r\n\tat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy20.click(Unknown Source)\r\n\tat commonuseractions.CommonActionMethods.clickMethod(CommonActionMethods.java:145)\r\n\tat mobile_pageobjects.SauceLab.Login_Page.logIn(Login_Page.java:27)\r\n\tat mobilerunner.SauceLab_Aroon.test1(SauceLab_Aroon.java:38)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\r\n\r\n\r\n","title":"org.openqa.selenium.InvalidSelectorException: Unsupported CSS selector &#39;*[name=&#39;userName&#39;]&#39;. Reason: &#39;Error: &#39;name&#39; is not a valid attribute","body":"<p>i am trying to click an element but its throwing InvalidSelectorException.</p>\n<p>These are my dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n            &lt;version&gt;2.18.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220320&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.9.9.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm-deps&lt;/artifactId&gt;\n            &lt;version&gt;1.0.6&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>**This my runner class:\n**</p>\n<pre><code>package mobilerunner;\n\nimport java.net.MalformedURLException;\n\nimport org.apache.log4j.PropertyConfigurator;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test;\n\nimport commonuseractions.CommonActionMethods;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.android.options.UiAutomator2Options;\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\nimport mobile_pageobjects.SauceLab.Login_Page;\nimport utils.DriverFactory;\n\npublic class SauceLab_Aroon extends CommonActionMethods{\n    \n    @BeforeClass\n    public static void setUp() throws MalformedURLException {\n        \n        PropertyConfigurator.configure(configFilename);\n        UiAutomator2Options opt = new UiAutomator2Options()\n                .setApp(&quot;D:\\\\Mobile Automation\\\\APK\\\\Android.SauceLabs.Mobile.Sample.app.2.7.1.apk&quot;)\n                .setAppActivity(&quot;com.swaglabsmobileapp.MainActivity&quot;)\n                .setAppPackage(&quot;com.swaglabsmobileapp&quot;)\n                .setAutomationName(&quot;UiAutomator2&quot;)\n                .setDeviceName(&quot;Pixel 2 XL API 31&quot;)\n                .eventTimings();\n        appDriver = new AndroidDriver(new java.net.URL(&quot;http://127.0.0.1:4723/wd/hub/&quot;),opt);\n        DriverFactory.setDriver(appDriver);\n    }\n\n    @Test\n    public void test1() throws Exception {\n        new Login_Page().logIn();\n    }\n    \n    @AfterClass\n    public void tearDown() {\n    }\n}\n</code></pre>\n<p>**This my PageObject class:\n**</p>\n<pre><code>package mobile_pageobjects.SauceLab;\n\nimport java.time.Duration;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.CacheLookup;\nimport org.openqa.selenium.support.PageFactory;\n\nimport commonuseractions.CommonActionMethods;\nimport io.appium.java_client.pagefactory.AndroidFindBy;\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\n\npublic class Login_Page extends CommonActionMethods{\n    \n    @AndroidFindBy(accessibility =  &quot;test-Username&quot;)\n    @CacheLookup\n    WebElement userName;\n    \n    \n    public Login_Page() {\n//      PageFactory.initElements(new AppiumFieldDecorator(appDriver,Duration.ofSeconds(15)), this);\n        PageFactory.initElements(appDriver, this);\n    }\n    \n    public void logIn() throws Exception {\n        Thread.sleep(15000);\n        clickMethod(userName,&quot; UserName input field &quot;);\n    }\n\n}\n</code></pre>\n<p><strong>Here is the Exception printed in console.</strong></p>\n<p>org.openqa.selenium.InvalidSelectorException: Unsupported CSS selector '<em>[name='userName']'. Reason: 'Error: 'name' is not a valid attribute. Supported attributes are 'checkable, checked, clickable, enabled, focusable, focused, long-clickable, scrollable, selected, index, instance, description, resource-id, text, class-name, package-name''\nFor documentation on this error, please visit: <a href=\"https://selenium.dev/exceptions/#invalid_selector_exception\" rel=\"nofollow noreferrer\">https://selenium.dev/exceptions/#invalid_selector_exception</a>\nBuild info: version: '4.7.1', revision: 'c6795baf1a3'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.3'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [d0d24b81-2280-4c6d-9692-afc0af6b9bf9, findElement {using=css selector, value=</em>[name='userName']}]\nCapabilities {appium:app: D:\\Mobile Automation\\APK\\An..., appium:appActivity: com.swaglabsmobileapp.MainA..., appium:appPackage: com.swaglabsmobileapp, appium:automationName: UiAutomator2, appium:databaseEnabled: false, appium:desired: {app: D:\\Mobile Automation\\APK\\An..., appActivity: com.swaglabsmobileapp.MainA..., appPackage: com.swaglabsmobileapp, automationName: UiAutomator2, deviceName: Pixel 2 XL API 31, eventTimings: true, platformName: android}, appium:deviceApiLevel: 31, appium:deviceManufacturer: Google, appium:deviceModel: sdk_gphone64_x86_64, appium:deviceName: emulator-5554, appium:deviceScreenDensity: 560, appium:deviceScreenSize: 1440x2880, appium:deviceUDID: emulator-5554, appium:eventTimings: true, appium:javascriptEnabled: true, appium:locationContextEnabled: false, appium:networkConnectionEnabled: true, appium:pixelRatio: 3.5, appium:platformVersion: 12, appium:statBarHeight: 84, appium:takesScreenshot: true, appium:viewportRect: {height: 2628, left: 0, top: 84, width: 1440}, appium:warnings: {}, appium:webStorageEnabled: false, platformName: ANDROID}\nSession ID: d0d24b81-2280-4c6d-9692-afc0af6b9bf9\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\nat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\nat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:262)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:551)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\nat org.openqa.selenium.By$PreW3CLocator.findElement(By.java:429)\nat org.openqa.selenium.By$ByName.findElement(By.java:238)\nat org.openqa.selenium.support.ByIdOrName.findElement(ByIdOrName.java:50)\nat org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:136)\nat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:80)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:359)\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\nat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\nat jdk.proxy2/jdk.proxy2.$Proxy20.click(Unknown Source)\nat commonuseractions.CommonActionMethods.clickMethod(CommonActionMethods.java:145)\nat mobile_pageobjects.SauceLab.Login_Page.logIn(Login_Page.java:27)\nat mobilerunner.SauceLab_Aroon.test1(SauceLab_Aroon.java:38)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","backend","amazon-sns"],"owner":{"account_id":27247965,"reputation":1,"user_id":20772924,"display_name":"Bob Bob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671001662,"creation_date":1671001662,"question_id":74794664,"body_markdown":"I am using AWS SNS service for sending SMS and it is not consistent. For some phone number it works fine but for some phone number it shows an error &quot;providerResponse&quot;: &quot;Phone carrier is currently unreachable/unavailable&quot;. Sender Code is +91 57575701.\r\n\r\nActually two messages has been sent. First one successfully delivered and second one(within 10 seconds) not delivered to all networks properly.Sometimes its delivered very delayed and sometimes not delivered.\r\n\r\n\r\nHelp me to solve this. How can I successfully sent SMS through AWS SNS.\r\n\r\nThere is no filtering happening on the device. I have checked. The second SMS content is different than the first one.","title":"AWS SNS - SMS failing","body":"<p>I am using AWS SNS service for sending SMS and it is not consistent. For some phone number it works fine but for some phone number it shows an error &quot;providerResponse&quot;: &quot;Phone carrier is currently unreachable/unavailable&quot;. Sender Code is +91 57575701.</p>\n<p>Actually two messages has been sent. First one successfully delivered and second one(within 10 seconds) not delivered to all networks properly.Sometimes its delivered very delayed and sometimes not delivered.</p>\n<p>Help me to solve this. How can I successfully sent SMS through AWS SNS.</p>\n<p>There is no filtering happening on the device. I have checked. The second SMS content is different than the first one.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":12991019,"reputation":41,"user_id":9390235,"display_name":"Kippa2005"},"score":1,"creation_date":1525937276,"post_id":50267736,"comment_id":87553169,"body_markdown":"If you aren&#39;t wanting to use VBA, I think you should remove the VBA tag","body":"If you aren&#39;t wanting to use VBA, I think you should remove the VBA tag"}],"tags":[],"owner":{"account_id":12991019,"reputation":41,"user_id":9390235,"display_name":"Kippa2005"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525937140,"creation_date":1525937140,"answer_id":50267736,"question_id":50266230,"body_markdown":"This below will copy every worksheet from a workbook you set. I will copy it and paste it at the end of the list of sheets on your current workbook\r\n\r\n    Sub CopyWorkbook()\r\n    \r\n    Dim sh as Worksheet,  wb as workbook\r\n    \r\n    Set wb = workbooks(&quot;Target workbook&quot;)\r\n    For Each sh in workbooks(&quot;source workbook&quot;).Worksheets\r\n       sh.Copy After:=wb.Sheets(wb.sheets.count) \r\n    Next sh\r\n    \r\n    End Sub","title":"Copying mutiple Excel sheets of different workbook into a single workbook","body":"<p>This below will copy every worksheet from a workbook you set. I will copy it and paste it at the end of the list of sheets on your current workbook</p>\n\n<pre><code>Sub CopyWorkbook()\n\nDim sh as Worksheet,  wb as workbook\n\nSet wb = workbooks(\"Target workbook\")\nFor Each sh in workbooks(\"source workbook\").Worksheets\n   sh.Copy After:=wb.Sheets(wb.sheets.count) \nNext sh\n\nEnd Sub\n</code></pre>\n"}],"owner":{"account_id":11071818,"reputation":25,"user_id":8129702,"accept_rate":0,"display_name":"Kushal Rastogi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671000514,"creation_date":1525930954,"question_id":50266230,"body_markdown":"Problem: How to copy multiple Excel sheets of different workbook into a single workbook not by cell by cell copying as it makes performance issues as I have large data in sheets.Is there any option to copy whole sheets without iterating over every cell using Java. Just copy the whole sheets into other.","title":"Copying mutiple Excel sheets of different workbook into a single workbook","body":"<p>Problem: How to copy multiple Excel sheets of different workbook into a single workbook not by cell by cell copying as it makes performance issues as I have large data in sheets.Is there any option to copy whole sheets without iterating over every cell using Java. Just copy the whole sheets into other.</p>\n"},{"tags":["java","visual-studio-code","dll","jar","jpcap"],"comments":[{"owner":{"account_id":8729580,"reputation":6948,"user_id":6530134,"display_name":"Timothy G."},"score":1,"creation_date":1670951134,"post_id":74788251,"comment_id":131989731,"body_markdown":"Does this answer your question? [Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform](https://stackoverflow.com/questions/8113080/cant-load-ia-32-bit-dll-on-a-amd-64-bit-platform)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8113080/cant-load-ia-32-bit-dll-on-a-amd-64-bit-platform\">Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform</a>"},{"owner":{"account_id":27143499,"reputation":1,"user_id":20684059,"display_name":"Aymene"},"score":0,"creation_date":1670952404,"post_id":74788251,"comment_id":131990215,"body_markdown":"Yes, I downloaded the x64 dll and now I have another error `PacketCapture: loading native library jpcap.. ok\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;java.lang.String net.sourceforge.jpcap.capture.PacketCapture.findDevice()&#39;`","body":"Yes, I downloaded the x64 dll and now I have another error <code>PacketCapture: loading native library jpcap.. ok Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;java.lang.String net.sourceforge.jpcap.capture.PacketCapture.findDevice()&#39;</code>"}],"answers":[{"comments":[{"owner":{"account_id":27143499,"reputation":1,"user_id":20684059,"display_name":"Aymene"},"score":0,"creation_date":1671003828,"post_id":74794464,"comment_id":132000819,"body_markdown":"which path exactly to the `jpcap.jar` or `jpcap.dll` ?","body":"which path exactly to the <code>jpcap.jar</code> or <code>jpcap.dll</code> ?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1671094730,"post_id":74794464,"comment_id":132024969,"body_markdown":"The jar is a Java reference and should be placed under the project reference, and the dll is placed on the path variable.","body":"The jar is a Java reference and should be placed under the project reference, and the dll is placed on the path variable."}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671000176,"creation_date":1671000176,"answer_id":74794464,"question_id":74788251,"body_markdown":"Is the `jpcap.dll` file on the Java library path?\r\n\r\nAdd the `jpcap` path to ***path*** in the system environment variable.","title":"I get this &quot;UnsatisfiedLinkError &quot; while trying to use the jpcap Java library","body":"<p>Is the <code>jpcap.dll</code> file on the Java library path?</p>\n<p>Add the <code>jpcap</code> path to <em><strong>path</strong></em> in the system environment variable.</p>\n"}],"owner":{"account_id":27143499,"reputation":1,"user_id":20684059,"display_name":"Aymene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671000176,"creation_date":1670950099,"question_id":74788251,"body_markdown":"Using: windows 10, VScode, intel cpu.\r\nI&#39;m getting this error after importing the jar files into my project and running an example code from Github.\r\n\r\n[![error message stack trace][1]][1]\r\n\r\n\r\n```java\r\nimport net.sourceforge.jpcap.capture.*;\r\nimport net.sourceforge.jpcap.net.*;\r\n\r\n\r\n/**\r\n * jpcap Tutorial - Example 5\r\n *\r\n * @author Jonas Lehmann and Patrick Charles\r\n * @version $Revision: 1.2 $\r\n * @lastModifiedBy $Author: pcharles $\r\n * @lastModifiedAt $Date: 2001/07/02 16:44:21 $\r\n *\r\n * Run example and then initiate a ping on the network.\r\n * The example will produce output only if ICMP (ping)\r\n * packets are captured.\r\n */\r\npublic class App \r\n{\r\n  private static final int INFINITE = -1;\r\n  private static final int PACKET_COUNT = INFINITE; \r\n\r\n  // BPF filter for only capturing ICMP packets\r\n  private static final String FILTER = &quot;proto ICMP&quot;;\r\n\r\n  private PacketCapture m_pcap;\r\n  private String m_device;\r\n  \r\n  public App() throws Exception {\r\n    // Step 1:  Instantiate Capturing Engine\r\n    m_pcap = new PacketCapture();\r\n\r\n    // Step 2:  Check for devices \r\n    m_device = m_pcap.findDevice();\r\n\r\n    // Step 3:  Open Device for Capturing (requires root)\r\n    m_pcap.open(m_device, true);\r\n\r\n    // Step 4:  Add a BPF Filter (see tcpdump documentation)\r\n    m_pcap.setFilter(FILTER, true);\r\n\r\n    // Step 5:  Register a Listener for jpcap Packets\r\n    m_pcap.addPacketListener(new PacketHandler());\r\n\r\n    // Step 6:  Capture Data (max. PACKET_COUNT packets)\r\n    m_pcap.capture(PACKET_COUNT);\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    try {\r\n        App example = new App();\r\n    } catch(Exception e) {\r\n      e.printStackTrace();\r\n      System.exit(1);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nclass PacketHandler implements PacketListener \r\n{\r\n  private static int m_counter = 0;\r\n  private static int m_icmpCounter = 0;\r\n\r\n  public void packetArrived(Packet packet) {\r\n    m_counter++;\r\n\r\n    if(packet instanceof ICMPPacket)\r\n      m_icmpCounter++;\r\n    else\r\n      System.err.println(&quot;Packet slipped thru filter: &quot; + \r\n                         packet.getClass().getName());\r\n\r\n    System.out.println(&quot;Total Packets: &quot; + m_counter + \r\n                       &quot;   ICMP Packets: &quot; + m_icmpCounter);\r\n  }\r\n}\r\n```\r\n\r\nI&#39;ve been trying to import and use this library for two days with C++ and java, any help would be welcome\r\n\r\nI imported the dll file from lib to my JDK directory and imported the jars into the Referenced libraries in VScode, and Yeah I have npcap installed on my PC.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zNH53.png","title":"I get this &quot;UnsatisfiedLinkError &quot; while trying to use the jpcap Java library","body":"<p>Using: windows 10, VScode, intel cpu.\nI'm getting this error after importing the jar files into my project and running an example code from Github.</p>\n<p><a href=\"https://i.stack.imgur.com/zNH53.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zNH53.png\" alt=\"error message stack trace\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import net.sourceforge.jpcap.capture.*;\nimport net.sourceforge.jpcap.net.*;\n\n\n/**\n * jpcap Tutorial - Example 5\n *\n * @author Jonas Lehmann and Patrick Charles\n * @version $Revision: 1.2 $\n * @lastModifiedBy $Author: pcharles $\n * @lastModifiedAt $Date: 2001/07/02 16:44:21 $\n *\n * Run example and then initiate a ping on the network.\n * The example will produce output only if ICMP (ping)\n * packets are captured.\n */\npublic class App \n{\n  private static final int INFINITE = -1;\n  private static final int PACKET_COUNT = INFINITE; \n\n  // BPF filter for only capturing ICMP packets\n  private static final String FILTER = &quot;proto ICMP&quot;;\n\n  private PacketCapture m_pcap;\n  private String m_device;\n  \n  public App() throws Exception {\n    // Step 1:  Instantiate Capturing Engine\n    m_pcap = new PacketCapture();\n\n    // Step 2:  Check for devices \n    m_device = m_pcap.findDevice();\n\n    // Step 3:  Open Device for Capturing (requires root)\n    m_pcap.open(m_device, true);\n\n    // Step 4:  Add a BPF Filter (see tcpdump documentation)\n    m_pcap.setFilter(FILTER, true);\n\n    // Step 5:  Register a Listener for jpcap Packets\n    m_pcap.addPacketListener(new PacketHandler());\n\n    // Step 6:  Capture Data (max. PACKET_COUNT packets)\n    m_pcap.capture(PACKET_COUNT);\n  }\n\n  public static void main(String[] args) {\n    try {\n        App example = new App();\n    } catch(Exception e) {\n      e.printStackTrace();\n      System.exit(1);\n    }\n  }\n}\n\n\nclass PacketHandler implements PacketListener \n{\n  private static int m_counter = 0;\n  private static int m_icmpCounter = 0;\n\n  public void packetArrived(Packet packet) {\n    m_counter++;\n\n    if(packet instanceof ICMPPacket)\n      m_icmpCounter++;\n    else\n      System.err.println(&quot;Packet slipped thru filter: &quot; + \n                         packet.getClass().getName());\n\n    System.out.println(&quot;Total Packets: &quot; + m_counter + \n                       &quot;   ICMP Packets: &quot; + m_icmpCounter);\n  }\n}\n</code></pre>\n<p>I've been trying to import and use this library for two days with C++ and java, any help would be welcome</p>\n<p>I imported the dll file from lib to my JDK directory and imported the jars into the Referenced libraries in VScode, and Yeah I have npcap installed on my PC.</p>\n"},{"tags":["java","spring","spring-boot","docker","maven"],"answers":[{"tags":[],"owner":{"account_id":6543678,"reputation":3232,"user_id":5060325,"display_name":"naimdjon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585653401,"creation_date":1585653005,"answer_id":60949183,"question_id":60948766,"body_markdown":"You have to copy the project files into the `/app` dir first. And you don&#39;t have the maven wrapper in the context folder where you run the `docker build`.","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>You have to copy the project files into the <code>/app</code> dir first. And you don't have the maven wrapper in the context folder where you run the <code>docker build</code>.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1585655045,"creation_date":1585654682,"answer_id":60949673,"question_id":60948766,"body_markdown":"Maybe a duplicate of https://stackoverflow.com/questions/52748640/unable-to-run-mvnw-clean-install-when-building-docker-image-based-on-openjd\r\n\r\nCan you check the line endings of the `mvnw` shell script? \r\nYou could fix it by adding this before executing the `mvnw` command:\r\n\r\n    RUN dos2unix mvnw\r\n\r\nAlternatively, if the file is in git, you can also fix it by adding the following to a `.gitattributes` file and checking the file out again:\r\n\r\n    *.bat           text eol=crlf\r\n    mvnw            text eol=lf","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>Maybe a duplicate of <a href=\"https://stackoverflow.com/questions/52748640/unable-to-run-mvnw-clean-install-when-building-docker-image-based-on-openjd\">Unable to run &#39;./mvnw clean install&#39; when building docker image based on &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app</a></p>\n\n<p>Can you check the line endings of the <code>mvnw</code> shell script? \nYou could fix it by adding this before executing the <code>mvnw</code> command:</p>\n\n<pre><code>RUN dos2unix mvnw\n</code></pre>\n\n<p>Alternatively, if the file is in git, you can also fix it by adding the following to a <code>.gitattributes</code> file and checking the file out again:</p>\n\n<pre><code>*.bat           text eol=crlf\nmvnw            text eol=lf\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10087937,"reputation":1,"user_id":7455832,"display_name":"Decky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670999872,"creation_date":1670999872,"answer_id":74794423,"question_id":60948766,"body_markdown":"Try change the end of line mvnw file from Windows style CRLF to Unix style LF. Then rebuild the image. ","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>Try change the end of line mvnw file from Windows style CRLF to Unix style LF. Then rebuild the image.</p>\n"}],"owner":{"account_id":17363476,"reputation":51,"user_id":12579196,"display_name":"Lewis Ugwu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4543,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1670999872,"creation_date":1585651582,"question_id":60948766,"body_markdown":"So I am trying to run a spring boot app with maven wrapper inside the docker container. Here is my Docker file: \r\n\r\n```\r\n### Stage 1: Build the application\r\nFROM openjdk:8-jdk-alpine as build\r\n\r\nRUN mkdir -p /app\r\n#Set the current working directory inside the image\r\nWORKDIR /app\r\n\r\n#copy maven executable to the image\r\nCOPY mvnw .\r\nCOPY .mvn .mvn\r\n\r\n#Copy the pom.xml file\r\nCOPY pom.xml .\r\n\r\n#Build all the dependencies in preparation to go offline\r\n#This is a separate step so the dependencies will be cached unless\r\n#the pom.xml file has changed\r\n\r\nRUN ./mvnw dependency:go-offline -B\r\n\r\n#Copy the project source\r\nCOPY src src\r\n\r\n#Package the application\r\nRUN ./mvnw package -DskipTests\r\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\r\n\r\n```\r\n\r\nI have this error:\r\n\r\n```\r\nStep 7/16 : RUN ./mvnw dependency:go-offline -B\r\n ---&gt; Running in 642a32f86392\r\n/bin/sh: ./mvnw: not found\r\nERROR: Service &#39;app-server&#39; failed to build: The command &#39;/bin/sh -c ./mvnw dependency:go-offline -B&#39; returned a non-zero code: 127\r\n\r\n```\r\nI am working with windows 10 pro. Please I need your help","title":"Unable to run &#39;RUN ./mvnw dependency:go-offline -B&#39; when building docker image from &quot;openjdk:8-jdk-alpine&quot; for Spring Boot app","body":"<p>So I am trying to run a spring boot app with maven wrapper inside the docker container. Here is my Docker file: </p>\n\n<pre><code>### Stage 1: Build the application\nFROM openjdk:8-jdk-alpine as build\n\nRUN mkdir -p /app\n#Set the current working directory inside the image\nWORKDIR /app\n\n#copy maven executable to the image\nCOPY mvnw .\nCOPY .mvn .mvn\n\n#Copy the pom.xml file\nCOPY pom.xml .\n\n#Build all the dependencies in preparation to go offline\n#This is a separate step so the dependencies will be cached unless\n#the pom.xml file has changed\n\nRUN ./mvnw dependency:go-offline -B\n\n#Copy the project source\nCOPY src src\n\n#Package the application\nRUN ./mvnw package -DskipTests\nRUN mkdir -p target/dependency &amp;&amp; (cd target/dependency; jar -xf ../*.jar)\n\n</code></pre>\n\n<p>I have this error:</p>\n\n<pre><code>Step 7/16 : RUN ./mvnw dependency:go-offline -B\n ---&gt; Running in 642a32f86392\n/bin/sh: ./mvnw: not found\nERROR: Service 'app-server' failed to build: The command '/bin/sh -c ./mvnw dependency:go-offline -B' returned a non-zero code: 127\n\n</code></pre>\n\n<p>I am working with windows 10 pro. Please I need your help</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9412,"page":811,"page_size":100}
