{"items":[{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":1,"creation_date":1374855766,"post_id":17886255,"comment_id":26120773,"body_markdown":"a simple *.java file? how about copy/paste?","body":"a simple *.java file? how about copy/paste?"}],"answers":[{"comments":[{"owner":{"account_id":1482932,"reputation":3238,"user_id":1391850,"accept_rate":80,"display_name":"turtlesoup"},"score":0,"creation_date":1375213054,"post_id":17886279,"comment_id":26242801,"body_markdown":"what do you mean by OS not allowing to create folder with same names? Are you implying that when importing, eclipse creates a brand new folder, moves all the existing files into the new folder, and then add the new file being imported?","body":"what do you mean by OS not allowing to create folder with same names? Are you implying that when importing, eclipse creates a brand new folder, moves all the existing files into the new folder, and then add the new file being imported?"},{"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"score":2,"creation_date":1375213209,"post_id":17886279,"comment_id":26242894,"body_markdown":"no, it creates new folder and keep new data in it, why should it move older files first? wastage of resource.","body":"no, it creates new folder and keep new data in it, why should it move older files first? wastage of resource."},{"owner":{"account_id":1482932,"reputation":3238,"user_id":1391850,"accept_rate":80,"display_name":"turtlesoup"},"score":1,"creation_date":1375213437,"post_id":17886279,"comment_id":26243047,"body_markdown":"I&#39;m still not getting the point. What happens when Eclipse tries to &quot;Import&quot; a file? My intuition is it simply copies the file and adds a pointer in its build path that points to the file. If that&#39;s the case why should Eclipse even want to create a new folder? Correct me if I&#39;m wrong","body":"I&#39;m still not getting the point. What happens when Eclipse tries to &quot;Import&quot; a file? My intuition is it simply copies the file and adds a pointer in its build path that points to the file. If that&#39;s the case why should Eclipse even want to create a new folder? Correct me if I&#39;m wrong"},{"owner":{"account_id":4357035,"reputation":3235,"user_id":3555300,"display_name":"Jiang YD"},"score":0,"creation_date":1519621951,"post_id":17886279,"comment_id":84968658,"body_markdown":"@turtlesoup because I add the source files to the folder elsewhere and need continue use eclipse after that.","body":"@turtlesoup because I add the source files to the folder elsewhere and need continue use eclipse after that."}],"tags":[],"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"comment_count":4,"down_vote_count":3,"up_vote_count":10,"is_accepted":true,"score":7,"last_activity_date":1374855456,"creation_date":1374855456,"answer_id":17886279,"question_id":17886255,"body_markdown":"you can not import into the same folder bcz no OS allow to create multiple folder of the same name in same parent. instead, you put the folder being imported somewhere else, and while importing it to workspace, check the option to &quot;copy into workspace&quot;","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>you can not import into the same folder bcz no OS allow to create multiple folder of the same name in same parent. instead, you put the folder being imported somewhere else, and while importing it to workspace, check the option to \"copy into workspace\"</p>\n"},{"comments":[{"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"score":1,"creation_date":1374856133,"post_id":17886414,"comment_id":26120952,"body_markdown":"no, it wont. for eclipse to know that any directory is a project directory, it should be imported properly, so that there will be an entry in workspace&#39;s metadata.","body":"no, it wont. for eclipse to know that any directory is a project directory, it should be imported properly, so that there will be an entry in workspace&#39;s metadata."},{"owner":{"account_id":3054362,"reputation":1039,"user_id":2588329,"display_name":"Buzz Killington"},"score":1,"creation_date":1374856598,"post_id":17886414,"comment_id":26121179,"body_markdown":"If you re-read the question, @Jimster already has the source directory imported as a project directory.  He&#39;s trying to bring a file *already in that directory* into his project, which implies it was added externally and will appear after a refresh on the source directory.","body":"If you re-read the question, @Jimster already has the source directory imported as a project directory.  He&#39;s trying to bring a file <i>already in that directory</i> into his project, which implies it was added externally and will appear after a refresh on the source directory."},{"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"score":1,"creation_date":1374856924,"post_id":17886414,"comment_id":26121320,"body_markdown":"OP said &quot;Source...which was originally not imported&quot;, it means source was not imported.","body":"OP said &quot;Source...which was originally not imported&quot;, it means source was not imported."},{"owner":{"account_id":12797118,"reputation":163,"user_id":9259676,"display_name":"Dan Mahowny"},"score":1,"creation_date":1550916349,"post_id":17886414,"comment_id":96454448,"body_markdown":"Thank you very much.  Next question would of course then be why, when you &quot;Run&quot; a project in Eclipse, it does not autorefresh the workspace in the first place!","body":"Thank you very much.  Next question would of course then be why, when you &quot;Run&quot; a project in Eclipse, it does not autorefresh the workspace in the first place!"},{"owner":{"account_id":2638212,"reputation":175,"user_id":2282406,"display_name":"Jay"},"score":1,"creation_date":1607099962,"post_id":17886414,"comment_id":115174740,"body_markdown":"Worked like a charm. Awesome!\n\nThis should be marked as the solution.","body":"Worked like a charm. Awesome!  This should be marked as the solution."}],"tags":[],"owner":{"account_id":3054362,"reputation":1039,"user_id":2588329,"display_name":"Buzz Killington"},"comment_count":5,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1458115685,"creation_date":1374855908,"answer_id":17886414,"question_id":17886255,"body_markdown":"If you added (outside of Eclipse) a file to a source directory for your project, you should be able to get the file to show up in Eclipse by right-clicking your source folder in the Eclipse Package Explorer and selecting &quot;Refresh&quot; .","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>If you added (outside of Eclipse) a file to a source directory for your project, you should be able to get the file to show up in Eclipse by right-clicking your source folder in the Eclipse Package Explorer and selecting \"Refresh\" .</p>\n"},{"tags":[],"owner":{"account_id":5668897,"reputation":31,"user_id":4484232,"display_name":"gillian bc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466265270,"creation_date":1466265270,"answer_id":37898890,"question_id":17886255,"body_markdown":"You&#39;ve set up your Eclipse workspace and source code to be in the same folder i.e. the folder where your Eclipse .metadata resides is the same place as all your folders of code.  Ideally, the folder for Eclipse&#39;s metadata should be somewhere else.  (I did the same thing myself and then ran into all sorts of problems).","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>You've set up your Eclipse workspace and source code to be in the same folder i.e. the folder where your Eclipse .metadata resides is the same place as all your folders of code.  Ideally, the folder for Eclipse's metadata should be somewhere else.  (I did the same thing myself and then ran into all sorts of problems).</p>\n"},{"tags":[],"owner":{"account_id":4674010,"reputation":1029,"user_id":3785010,"display_name":"user3785010"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1507995779,"creation_date":1507995779,"answer_id":46746327,"question_id":17886255,"body_markdown":"As of October 2017, using Eclipse Oxygen 2017.1, I found that to accomplish what the OP wanted to do is not to what your natural instincts tell you to do.\r\n\r\nIn my case, I originally developed the code on Computer A in directory c:\\projects\\abc\\ and copied the directory to computer B in directory c:\\projects\\abc\\ outside of Eclipse.\r\n\r\nInstead of\r\n \r\nImport / General / File System /\r\n\r\nwhich gives the error the OP mentioned, you instead need to:\r\n\r\nImport / General / Projects from Folder or Archive /\r\n\r\nWhen the dialog opens, point the &quot;Import source:&quot; to your already-present-where-it-needs-to-be directory (example: c:\\projects\\abc\\).\r\n\r\nI left everything else to the defaults.\r\n\r\nClick Finish.\r\n\r\nWhen I return to Project Explorer, I did NOT need to Refresh the window.  The project automatically showed up.","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>As of October 2017, using Eclipse Oxygen 2017.1, I found that to accomplish what the OP wanted to do is not to what your natural instincts tell you to do.</p>\n\n<p>In my case, I originally developed the code on Computer A in directory c:\\projects\\abc\\ and copied the directory to computer B in directory c:\\projects\\abc\\ outside of Eclipse.</p>\n\n<p>Instead of</p>\n\n<p>Import / General / File System /</p>\n\n<p>which gives the error the OP mentioned, you instead need to:</p>\n\n<p>Import / General / Projects from Folder or Archive /</p>\n\n<p>When the dialog opens, point the \"Import source:\" to your already-present-where-it-needs-to-be directory (example: c:\\projects\\abc).</p>\n\n<p>I left everything else to the defaults.</p>\n\n<p>Click Finish.</p>\n\n<p>When I return to Project Explorer, I did NOT need to Refresh the window.  The project automatically showed up.</p>\n"},{"tags":[],"owner":{"account_id":1108020,"reputation":1799,"user_id":1099007,"display_name":"Quantium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631790539,"creation_date":1631790539,"answer_id":69207349,"question_id":17886255,"body_markdown":"To expand on @user3785010 answer, I found that using `Import &gt; General &gt; Existing Projects into Workspace` worked for me with Eclipse Platform Version: 2021-09 (4.21). \r\n\r\nWhen I tried `Import &gt; General &gt; Projects from Folder or Archive`, I pressed Finish and nothing happened.","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>To expand on @user3785010 answer, I found that using <code>Import &gt; General &gt; Existing Projects into Workspace</code> worked for me with Eclipse Platform Version: 2021-09 (4.21).</p>\n<p>When I tried <code>Import &gt; General &gt; Projects from Folder or Archive</code>, I pressed Finish and nothing happened.</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1694583823,"post_id":77093874,"comment_id":135908552,"body_markdown":"I edited to turn this into a partial answer, i.e. something that at least provides the solution for one part of the problem. If you want to ask a question please delete this and create a question of your own - or use your commenting privilege.","body":"I edited to turn this into a partial answer, i.e. something that at least provides the solution for one part of the problem. If you want to ask a question please delete this and create a question of your own - or use your commenting privilege."}],"tags":[],"owner":{"account_id":6821334,"reputation":1175,"user_id":5248400,"accept_rate":50,"display_name":"MikeZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694583759,"creation_date":1694575846,"answer_id":77093874,"question_id":17886255,"body_markdown":"Here&#39;s what worked for me:\r\n\r\n1. File -&gt; Import the file from File System into the project folder\r\n2. Add it to the Build Path\r\n\r\nIt was added with the relative path in the project.\r\n\r\nIt shows Ok in Java Build Path and in .classpath, though [*] the project folder in Eclipse does not show the imported file.\r\n","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>Here's what worked for me:</p>\n<ol>\n<li>File -&gt; Import the file from File System into the project folder</li>\n<li>Add it to the Build Path</li>\n</ol>\n<p>It was added with the relative path in the project.</p>\n<p>It shows Ok in Java Build Path and in .classpath, though [*] the project folder in Eclipse does not show the imported file.</p>\n"}],"owner":{"account_id":1482932,"reputation":3238,"user_id":1391850,"accept_rate":80,"display_name":"turtlesoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39127,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":17886279,"answer_count":6,"score":15,"last_activity_date":1694583759,"creation_date":1374855377,"question_id":17886255,"body_markdown":"I wanted to import a file which was originally not imported into the source folder in Eclipse \r\n\r\nWhat I did was: \r\n\r\n 1. I tried placing the file directory into a source file folder, which obviously did not work.\r\n\r\n 2. Then I right-clicked on `folder-&gt;import-&gt;File System` and tried to import that file, but eclipse then complains `Source is in the hierarchy of destination`. &lt;br&gt;\r\nWhat I did in the end was move the source file out of that folder, then import it back in from a different path, which I find really redundant. \r\n\r\nWhat&#39;s the best way to include a file like that? Thanks in advance. ","title":"Eclipse - How to import a local source file into the same folder?","body":"<p>I wanted to import a file which was originally not imported into the source folder in Eclipse </p>\n\n<p>What I did was: </p>\n\n<ol>\n<li><p>I tried placing the file directory into a source file folder, which obviously did not work.</p></li>\n<li><p>Then I right-clicked on <code>folder-&gt;import-&gt;File System</code> and tried to import that file, but eclipse then complains <code>Source is in the hierarchy of destination</code>. <br>\nWhat I did in the end was move the source file out of that folder, then import it back in from a different path, which I find really redundant. </p></li>\n</ol>\n\n<p>What's the best way to include a file like that? Thanks in advance. </p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1692875775,"post_id":76967863,"comment_id":135684800,"body_markdown":"What value is in `selectedAffectedTupleIds` in the test? And related, what about the variable `affectedIds`? Should that be used on the request?","body":"What value is in <code>selectedAffectedTupleIds</code> in the test? And related, what about the variable <code>affectedIds</code>? Should that be used on the request?"},{"owner":{"account_id":19678234,"reputation":1,"user_id":14405866,"display_name":"shikhar saxena"},"score":0,"creation_date":1692892700,"post_id":76967863,"comment_id":135688910,"body_markdown":"I have changed the code..the place where `selectedAffectedTupleIds` has been changed to `affectedIds`.  The `affectedIds` contains a `List&lt;List&lt;Long&gt;&gt;` as it is clear from the code block. Also, it is further used in the service so it is used in request.","body":"I have changed the code..the place where <code>selectedAffectedTupleIds</code> has been changed to <code>affectedIds</code>.  The <code>affectedIds</code> contains a <code>List&lt;List&lt;Long&gt;&gt;</code> as it is clear from the code block. Also, it is further used in the service so it is used in request."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692943309,"post_id":76967863,"comment_id":135695785,"body_markdown":"Do _not_ mix `@SpringBootTest` and `@Mock`/`@InjectMocks`. It&#39;s really time for a canonical question about this, there are far too many questions with this misconception","body":"Do <i>not</i> mix <code>@SpringBootTest</code> and <code>@Mock</code>/<code>@InjectMocks</code>. It&#39;s really time for a canonical question about this, there are far too many questions with this misconception"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693474221,"post_id":76967863,"comment_id":135766922,"body_markdown":"How should Spring know that `content(…).content(…).content(…)` maps to the three request parts? You never specify a name. You cannot chain them, each invocation overwrites the value of the previous call.","body":"How should Spring know that <code>content(…).content(…).content(…)</code> maps to the three request parts? You never specify a name. You cannot chain them, each invocation overwrites the value of the previous call."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693474315,"post_id":76967863,"comment_id":135766941,"body_markdown":"And since you are annotating your inputs with `@RequestPart` (&quot;Annotation that can be used to associate the part of a &quot;multipart/form-data&quot; request with a method argument.&quot;), why do you then make a request with `application/json` as content type (`contentType(MediaType.APPLICATION_JSON_UTF8)`)?","body":"And since you are annotating your inputs with <code>@RequestPart</code> (&quot;Annotation that can be used to associate the part of a &quot;multipart/form-data&quot; request with a method argument.&quot;), why do you then make a request with <code>application&#47;json</code> as content type (<code>contentType(MediaType.APPLICATION_JSON_UTF8)</code>)?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693486160,"post_id":76967863,"comment_id":135769387,"body_markdown":"cont&#39;d I assume `procId` and `procedureId` should be the same variable in your test (otherwise, the test does not compile). Gven they are, you are only sending the JSON body `11` to your endpoint (the number 11)","body":"cont&#39;d I assume <code>procId</code> and <code>procedureId</code> should be the same variable in your test (otherwise, the test does not compile). Gven they are, you are only sending the JSON body <code>11</code> to your endpoint (the number 11)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693486700,"post_id":76967863,"comment_id":135769511,"body_markdown":"It would be very helpful to include how you expect your endpoint to be called. With a JSON payload or with a multipart/form-data payload? Perhaps include a working `curl` call for your running application, then it is possible to help/suggest a working test setup.","body":"It would be very helpful to include how you expect your endpoint to be called. With a JSON payload or with a multipart/form-data payload? Perhaps include a working <code>curl</code> call for your running application, then it is possible to help/suggest a working test setup."}],"answers":[{"comments":[{"owner":{"account_id":19678234,"reputation":1,"user_id":14405866,"display_name":"shikhar saxena"},"score":0,"creation_date":1693473477,"post_id":76974608,"comment_id":135766767,"body_markdown":"I am not able to get your solution. My question is totally different and what you are saying is completely off the track. Even if I change it how is it possible to pass a `List&lt;List&lt;Long&gt;&gt;` in the mock request. Please go through the question thoroughly once. Also, I took your suggestion and changed the code accordingly but no result..I am still getting the same error mentioned in problem statement.","body":"I am not able to get your solution. My question is totally different and what you are saying is completely off the track. Even if I change it how is it possible to pass a <code>List&lt;List&lt;Long&gt;&gt;</code> in the mock request. Please go through the question thoroughly once. Also, I took your suggestion and changed the code accordingly but no result..I am still getting the same error mentioned in problem statement."},{"owner":{"account_id":19678234,"reputation":1,"user_id":14405866,"display_name":"shikhar saxena"},"score":0,"creation_date":1693586575,"post_id":76974608,"comment_id":135785417,"body_markdown":"Thanks a lot @knittl for your inputs!! Indeed, it is a valuable feedback which you gave me for the `content(s)` thing. Can you please tell how to resolve this so that I can proceed further? If you need anything, from my end please let me know!!","body":"Thanks a lot @knittl for your inputs!! Indeed, it is a valuable feedback which you gave me for the <code>content(s)</code> thing. Can you please tell how to resolve this so that I can proceed further? If you need anything, from my end please let me know!!"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1693586904,"post_id":76974608,"comment_id":135785450,"body_markdown":"@shikharsaxena all the requests for clarification are directly under your question, you only need to answer them","body":"@shikharsaxena all the requests for clarification are directly under your question, you only need to answer them"},{"owner":{"account_id":19678234,"reputation":1,"user_id":14405866,"display_name":"shikhar saxena"},"score":0,"creation_date":1694584146,"post_id":76974608,"comment_id":135908592,"body_markdown":"Hey @knittl, This is the url it is of localhost as we are running tests locally\n`http://localhost:8080/api/proc/comp/updateRa/1`. Also, in the payload tab under the heading of FormData, these three parameters are there\n`affectedIds: (binary)\ncompatibility: ONCECOMPATIBLE\nprocId: 2`\nCan you help now??","body":"Hey @knittl, This is the url it is of localhost as we are running tests locally <code>http:&#47;&#47;localhost:8080&#47;api&#47;proc&#47;comp&#47;updateRa&#47;1</code>. Also, in the payload tab under the heading of FormData, these three parameters are there <code>affectedIds: (binary) compatibility: ONCECOMPATIBLE procId: 2</code> Can you help now??"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694586902,"post_id":76974608,"comment_id":135909018,"body_markdown":"@shikharsaxena I don&#39;t know what the &quot;payload tab under the heading of FormData&quot; is. Please go carefully through all comments under your questoin one by one, make sure you understand them, then [edit your question](https://stackoverflow.com/posts/76967863/edit) to add the necessary details as formatted text as requested by each comment.","body":"@shikharsaxena I don&#39;t know what the &quot;payload tab under the heading of FormData&quot; is. Please go carefully through all comments under your questoin one by one, make sure you understand them, then <a href=\"https://stackoverflow.com/posts/76967863/edit\">edit your question</a> to add the necessary details as formatted text as requested by each comment."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693567954,"creation_date":1692943436,"answer_id":76974608,"question_id":76967863,"body_markdown":"You must _not_ mix `@SpringBootTest` and `@InjectMocks`/`@Mock` annotations. If you do, Spring (and thus MockMvc) will be unable to find and use use the correct beans. Also, you don&#39;t need to extend with `SpringExtension`, `@SpringBootTest` already takes care of that.\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\nclass MyControllerTest {\r\n\r\n    @Autowired    // &lt;- wire from application context\r\n    private MyController myController;\r\n\r\n    @MockBean     // &lt;- register mock bean in application context\r\n    private MyService myService;\r\n\r\n    @Autowired(required=true)\r\n    private MockMvc mockMvc;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nOther issues with the given code:\r\n\r\n* `.content(s)` overwrites any content previously set. Multiple calls are _not_ additive. Your controller only receives the payload `11` (without quotes; the quotes are part of Java&#39;s syntax).\r\n* `@RequestPart` is for `multipart/form-data` requests only, but in your test you set content-type to `application/json`.","title":"Mocking of a nested list as @RequestPart in JUnit","body":"<p>You must <em>not</em> mix <code>@SpringBootTest</code> and <code>@InjectMocks</code>/<code>@Mock</code> annotations. If you do, Spring (and thus MockMvc) will be unable to find and use use the correct beans. Also, you don't need to extend with <code>SpringExtension</code>, <code>@SpringBootTest</code> already takes care of that.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\nclass MyControllerTest {\n\n    @Autowired    // &lt;- wire from application context\n    private MyController myController;\n\n    @MockBean     // &lt;- register mock bean in application context\n    private MyService myService;\n\n    @Autowired(required=true)\n    private MockMvc mockMvc;\n\n    // ...\n}\n</code></pre>\n<p>Other issues with the given code:</p>\n<ul>\n<li><code>.content(s)</code> overwrites any content previously set. Multiple calls are <em>not</em> additive. Your controller only receives the payload <code>11</code> (without quotes; the quotes are part of Java's syntax).</li>\n<li><code>@RequestPart</code> is for <code>multipart/form-data</code> requests only, but in your test you set content-type to <code>application/json</code>.</li>\n</ul>\n"}],"owner":{"account_id":19678234,"reputation":1,"user_id":14405866,"display_name":"shikhar saxena"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694583728,"creation_date":1692868508,"question_id":76967863,"body_markdown":"I have a Rest Controller for which I need to write JUnit in a Springboot application. Below is the code for the same\r\n```\r\n@PutMapping(&quot;/update/{id}&quot;)\r\npublic void update(\r\n        @PathVariable(name = &quot;id&quot;) Long id,\r\n        @RequestPart List&lt;List&lt;Long&gt;&gt; affectedIds,\r\n        @RequestPart String compatibility,\r\n        @RequestPart(name = &quot;procId&quot;) String procId,\r\n        @RequestHeader(value = &quot;timeZone&quot;) String timeZone) {\r\n\r\n    TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\r\n    myService.update(\r\n            id, affectedIds, compatibility, Long.parseLong(procId), userTimeZone);\r\n}\r\n```\r\n\r\n\r\nI tried writing the JUnit for which below is the code\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\nclass MyControllerTest {\r\n\r\n    @InjectMocks\r\n    private MyController myController;\r\n\r\n    @Mock\r\n    private MyService myService;\r\n\r\n    @Autowired(required=true)\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    void update() throws Exception {\r\n\r\n        Long id = 123L;\r\n        List&lt;List&lt;Long&gt;&gt; affectedIds = List.of(\r\n                List.of(1L, 2L),\r\n                List.of(3L, 4L)\r\n        );\r\n        String compatibility = &quot;oncecompatible&quot;;\r\n        String procId = &quot;11&quot;;\r\n        String timeZone = &quot;UTC&quot;;\r\n\r\n        TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\r\n\r\n        doNothing().when(myService).update(id, affectedIds, compatibility,\r\n                Long.parseLong(procId), userTimeZone);\r\n\r\n        ObjectMapper mapper = createObjectMapper();\r\n        String s = mapper.writeValueAsString(affectedIds);\r\n\r\n        ResultActions response = mockMvc.perform(MockMvcRequestBuilders.put\r\n                (&quot;/api/proc/check/update/{id}&quot;, id)\r\n                .content(s)\r\n                .content(compatibility)\r\n                .content(procId)\r\n                .header(&quot;timeZone&quot;, timeZone)\r\n                .contentType(MediaType.APPLICATION_JSON_UTF8)\r\n                .accept(MediaType.APPLICATION_JSON_UTF8));\r\n\r\n        response.andExpect(status().isOk());\r\n\r\n    }\r\n\r\n    private static ObjectMapper createObjectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n        mapper.registerModule(new JavaTimeModule());\r\n        return mapper;\r\n    }\r\n\r\n}\r\n```\r\nThe thing is that when I run this test case I am getting this error:\r\n\r\n```\r\norg.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;affectedIds&#39; is not present.\r\n```\r\nI have tried different other ways but not a success. I am not able to get how to send the **affectedIds** parameter in the mock request.\r\n\r\n&gt; P.S. - I have used the createObjectMapper() as per the suggestion from one of the articles of stackoverflow.\r\n","title":"Mocking of a nested list as @RequestPart in JUnit","body":"<p>I have a Rest Controller for which I need to write JUnit in a Springboot application. Below is the code for the same</p>\n<pre><code>@PutMapping(&quot;/update/{id}&quot;)\npublic void update(\n        @PathVariable(name = &quot;id&quot;) Long id,\n        @RequestPart List&lt;List&lt;Long&gt;&gt; affectedIds,\n        @RequestPart String compatibility,\n        @RequestPart(name = &quot;procId&quot;) String procId,\n        @RequestHeader(value = &quot;timeZone&quot;) String timeZone) {\n\n    TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\n    myService.update(\n            id, affectedIds, compatibility, Long.parseLong(procId), userTimeZone);\n}\n</code></pre>\n<p>I tried writing the JUnit for which below is the code</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@AutoConfigureMockMvc\nclass MyControllerTest {\n\n    @InjectMocks\n    private MyController myController;\n\n    @Mock\n    private MyService myService;\n\n    @Autowired(required=true)\n    private MockMvc mockMvc;\n\n    @Test\n    void update() throws Exception {\n\n        Long id = 123L;\n        List&lt;List&lt;Long&gt;&gt; affectedIds = List.of(\n                List.of(1L, 2L),\n                List.of(3L, 4L)\n        );\n        String compatibility = &quot;oncecompatible&quot;;\n        String procId = &quot;11&quot;;\n        String timeZone = &quot;UTC&quot;;\n\n        TimeZone userTimeZone = TimeZone.getTimeZone(timeZone);\n\n        doNothing().when(myService).update(id, affectedIds, compatibility,\n                Long.parseLong(procId), userTimeZone);\n\n        ObjectMapper mapper = createObjectMapper();\n        String s = mapper.writeValueAsString(affectedIds);\n\n        ResultActions response = mockMvc.perform(MockMvcRequestBuilders.put\n                (&quot;/api/proc/check/update/{id}&quot;, id)\n                .content(s)\n                .content(compatibility)\n                .content(procId)\n                .header(&quot;timeZone&quot;, timeZone)\n                .contentType(MediaType.APPLICATION_JSON_UTF8)\n                .accept(MediaType.APPLICATION_JSON_UTF8));\n\n        response.andExpect(status().isOk());\n\n    }\n\n    private static ObjectMapper createObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n        mapper.registerModule(new JavaTimeModule());\n        return mapper;\n    }\n\n}\n</code></pre>\n<p>The thing is that when I run this test case I am getting this error:</p>\n<pre><code>org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part 'affectedIds' is not present.\n</code></pre>\n<p>I have tried different other ways but not a success. I am not able to get how to send the <strong>affectedIds</strong> parameter in the mock request.</p>\n<blockquote>\n<p>P.S. - I have used the createObjectMapper() as per the suggestion from one of the articles of stackoverflow.</p>\n</blockquote>\n"},{"tags":["java"],"owner":{"account_id":29428323,"reputation":1,"user_id":22548491,"display_name":"Manju KV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694582883,"creation_date":1694582883,"question_id":77094275,"body_markdown":"I ran a load test in j-meter am getting same respose time in both 95% &amp; 99% whats the issues?\r\n\r\nAfter load test in j-meter 95% and 99% colum should give different response time is there any issues in ramp-up time or any payload issues.","title":"J-Meter Aggregate Report","body":"<p>I ran a load test in j-meter am getting same respose time in both 95% &amp; 99% whats the issues?</p>\n<p>After load test in j-meter 95% and 99% colum should give different response time is there any issues in ramp-up time or any payload issues.</p>\n"},{"tags":["java","spring","javax-validation"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694518348,"post_id":77088418,"comment_id":135898500,"body_markdown":"Why do you need to call this validator explicitly? The entire purpose of the bean validation framework is that you annotate your classes with constraint annotations (`MyAnnotation`), then let instances be validated. Validation automagically occurs in WebMVC methods if the request body argument is annotated with `@Valid` (other bean methods perhaps as well, not sure). And you can always autowire a `Validator` and call that directly.","body":"Why do you need to call this validator explicitly? The entire purpose of the bean validation framework is that you annotate your classes with constraint annotations (<code>MyAnnotation</code>), then let instances be validated. Validation automagically occurs in WebMVC methods if the request body argument is annotated with <code>@Valid</code> (other bean methods perhaps as well, not sure). And you can always autowire a <code>Validator</code> and call that directly."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694519129,"post_id":77088418,"comment_id":135898675,"body_markdown":"@RobSpoor long story short: the validator is the object that has the task to know the list of valid elements, which is a configuration determined at runtime; so I&#39;m using such list to customize the property enum in the autogenerated swagger.","body":"@RobSpoor long story short: the validator is the object that has the task to know the list of valid elements, which is a configuration determined at runtime; so I&#39;m using such list to customize the property enum in the autogenerated swagger."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694522736,"post_id":77088418,"comment_id":135899527,"body_markdown":"For Spring to know what to do with the validator it needs to be a bean. Either through added it to xml, java config as abean or by annotating it with `@Component`.","body":"For Spring to know what to do with the validator it needs to be a bean. Either through added it to xml, java config as abean or by annotating it with <code>@Component</code>."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694525487,"post_id":77088418,"comment_id":135900226,"body_markdown":"@M.Deinum not completely correct, I added a reproducible example.","body":"@M.Deinum not completely correct, I added a reproducible example."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694525658,"post_id":77088418,"comment_id":135900268,"body_markdown":"You are right. I keep forgetting that with newer Spring (or actual javax/jakarta validation) it is possible to inject a container through which validators pass (the same holds for JPA for instance). So yes this will work, but no they aren&#39;t beans they are still managed by the validation API and not Spring. If you want to access them through Spring you need to make them beans.","body":"You are right. I keep forgetting that with newer Spring (or actual javax/jakarta validation) it is possible to inject a container through which validators pass (the same holds for JPA for instance). So yes this will work, but no they aren&#39;t beans they are still managed by the validation API and not Spring. If you want to access them through Spring you need to make them beans."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694526039,"post_id":77088418,"comment_id":135900369,"body_markdown":"@M.Deinum this is exactly what I&#39;m asking :) Spring knows how to handle the validators and the same validator instance is used for different requests; so such &quot;bean-like&quot; instance must be somewhere; possible that there is no api to retrieve them, without making the validator a fully-fledged bean?","body":"@M.Deinum this is exactly what I&#39;m asking :) Spring knows how to handle the validators and the same validator instance is used for different requests; so such &quot;bean-like&quot; instance must be somewhere; possible that there is no api to retrieve them, without making the validator a fully-fledged bean?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694526045,"post_id":77088418,"comment_id":135900372,"body_markdown":"To make them beans you have various options, xml, javaconfig or you could use component scanning. You could add an include filter that for each class implementing `ConstraintValidator` a bean needs to be created. That way you wouldn&#39;t need to change your vallidators.","body":"To make them beans you have various options, xml, javaconfig or you could use component scanning. You could add an include filter that for each class implementing <code>ConstraintValidator</code> a bean needs to be created. That way you wouldn&#39;t need to change your vallidators."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694526231,"post_id":77088418,"comment_id":135900418,"body_markdown":"They are not beans. They are created on the fly and injected as such. This is done through the `SpringWebConstraintValidatorFactory`. So there is no bean instance or whatsoever available.","body":"They are not beans. They are created on the fly and injected as such. This is done through the <code>SpringWebConstraintValidatorFactory</code>. So there is no bean instance or whatsoever available."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694526593,"post_id":77088418,"comment_id":135900526,"body_markdown":"@M.Deinum I would say that SpringWebConstraintValidatorFactory is exactly the class I was searching... and now that I read it, it might be a better idea to annotate them as components! If you have the time to post a summary answer I will accept it.","body":"@M.Deinum I would say that SpringWebConstraintValidatorFactory is exactly the class I was searching... and now that I read it, it might be a better idea to annotate them as components! If you have the time to post a summary answer I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694527004,"creation_date":1694527004,"answer_id":77089822,"question_id":77088418,"body_markdown":"The Validation API has support to have dependencies injected into the `ConstraintValidator` based on the annotation metadata. This has nothing to do with Spring but is supported by the Validation API. \r\n\r\nTo support the injection there is the `[javax.jakarta].validation.ConstraintValidatorFactory` interface. Spring has 2 implementations for this, but commonly used is the `SpringWebConstraintValidatorFactory`.\r\n\r\nWhat happens is that when validation is requested based on the annotations present the Validation API will call `ConstraintValidatorFactory.create` to get an instance of the needed validator(s). \r\n\r\nSpring will construct an instance on the fly and if there are `@Autowired` or `@Inject` fields (or constructors), Spring will happily inject the dependencies. \r\n\r\nThe created validators are NOT Spring Managed beans. The lifecycle of those validators is totally in control of the Validation API and not Spring. As such they are also not retrievable from the `ApplicationContext`, unless you explictly make them beans. \r\n\r\nTo make them beans you can do 1 of several things. \r\n\r\n1. Annotate them with `@Component`. \r\n2. Create an `@Configuration` class with `@Bean` methods\r\n3. Create an XML file to register them as beans\r\n4. Add an `@ComponentScan(includeFilter = @Filter(type=ASSIGNABLE_TYPE, classes = ConstraintValidator.class)`.\r\n\r\nEither will (or can) result in your validators being Spring managed. ","title":"How to retrieve the javax ConstraintValidator handled by Spring?","body":"<p>The Validation API has support to have dependencies injected into the <code>ConstraintValidator</code> based on the annotation metadata. This has nothing to do with Spring but is supported by the Validation API.</p>\n<p>To support the injection there is the <code>[javax.jakarta].validation.ConstraintValidatorFactory</code> interface. Spring has 2 implementations for this, but commonly used is the <code>SpringWebConstraintValidatorFactory</code>.</p>\n<p>What happens is that when validation is requested based on the annotations present the Validation API will call <code>ConstraintValidatorFactory.create</code> to get an instance of the needed validator(s).</p>\n<p>Spring will construct an instance on the fly and if there are <code>@Autowired</code> or <code>@Inject</code> fields (or constructors), Spring will happily inject the dependencies.</p>\n<p>The created validators are NOT Spring Managed beans. The lifecycle of those validators is totally in control of the Validation API and not Spring. As such they are also not retrievable from the <code>ApplicationContext</code>, unless you explictly make them beans.</p>\n<p>To make them beans you can do 1 of several things.</p>\n<ol>\n<li>Annotate them with <code>@Component</code>.</li>\n<li>Create an <code>@Configuration</code> class with <code>@Bean</code> methods</li>\n<li>Create an XML file to register them as beans</li>\n<li>Add an <code>@ComponentScan(includeFilter = @Filter(type=ASSIGNABLE_TYPE, classes = ConstraintValidator.class)</code>.</li>\n</ol>\n<p>Either will (or can) result in your validators being Spring managed.</p>\n"}],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77089822,"answer_count":1,"score":-2,"last_activity_date":1694582172,"creation_date":1694515763,"question_id":77088418,"body_markdown":"As seen in this [Baeldung example](https://www.baeldung.com/spring-mvc-custom-validator), it is possible to write plain old `javax.validation` objects and Spring is able to manage them. For example, it is possible to perform field injection in a validator without annotating it as a component:\r\n\r\n    public class MyValidator implements ConstraintValidator&lt;MyAnnotation, String&gt; {\r\n    \r\n        @Autowired\r\n        private MyBean bean;\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n           return bean.getValidElements().contains(value);\r\n        }\r\n\r\n    }\r\n\r\nYet, `MyValidator` is not a Spring bean: a `beanFactory.getBean(MyValidator.class)` (or an `applicationContext.getBean(MyValidator.class)`) will throw\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;my.package.MyValidator&#39; available\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\r\n\r\nThis can be fixed adding a `@Component` annotation on `MyValidator`, but maybe it is cleaner to not annotate them as components: I have several validators that extends a common abstract class, so I&#39;m planning to annotate that class [in this way](https://stackoverflow.com/questions/43195970/inherit-component-in-spring), but I feel it would be more maintenable to just have a `beanFactory.getBean(MyValidator.class)` of sorts and keep each validator as plain as possible.\r\n\r\nIs there a way to retrieve the validators without annotating them as components, as Spring already manage them somehow? A minimal example can be found [here](https://github.com/dcolazin/reprexes/tree/main/SO_77088418).","title":"How to retrieve the javax ConstraintValidator handled by Spring?","body":"<p>As seen in this <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">Baeldung example</a>, it is possible to write plain old <code>javax.validation</code> objects and Spring is able to manage them. For example, it is possible to perform field injection in a validator without annotating it as a component:</p>\n<pre><code>public class MyValidator implements ConstraintValidator&lt;MyAnnotation, String&gt; {\n\n    @Autowired\n    private MyBean bean;\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n       return bean.getValidElements().contains(value);\n    }\n\n}\n</code></pre>\n<p>Yet, <code>MyValidator</code> is not a Spring bean: a <code>beanFactory.getBean(MyValidator.class)</code> (or an <code>applicationContext.getBean(MyValidator.class)</code>) will throw</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'my.package.MyValidator' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:351)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342)\n</code></pre>\n<p>This can be fixed adding a <code>@Component</code> annotation on <code>MyValidator</code>, but maybe it is cleaner to not annotate them as components: I have several validators that extends a common abstract class, so I'm planning to annotate that class <a href=\"https://stackoverflow.com/questions/43195970/inherit-component-in-spring\">in this way</a>, but I feel it would be more maintenable to just have a <code>beanFactory.getBean(MyValidator.class)</code> of sorts and keep each validator as plain as possible.</p>\n<p>Is there a way to retrieve the validators without annotating them as components, as Spring already manage them somehow? A minimal example can be found <a href=\"https://github.com/dcolazin/reprexes/tree/main/SO_77088418\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","algorithmic-trading","moving-average","technical-indicator"],"answers":[{"tags":[],"owner":{"account_id":15051456,"reputation":11,"user_id":10863070,"display_name":"Guillermo Nunez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694582069,"creation_date":1694582069,"answer_id":77094221,"question_id":72875826,"body_markdown":"I made a library to calculate the wma, I share it with you\r\n\r\n    package com.personal.tools;\r\n\r\n\r\n    public class WMA {\r\n    private int period;\r\n\r\n    public WMA(int period) {\r\n        this.period = period;\r\n    }\r\n\r\n    public double[] calculate(final double[] prizes) {\r\n        double[] results = new double[prizes.length - period + 1];\r\n        double wma;\r\n        int j = 0;\r\n        for (int i = period - 1; i &lt; prizes.length; i++) {\r\n            double[] prizesAux = new double[period];\r\n            System.arraycopy(prizes, i - period + 1, prizesAux, 0, period);\r\n            wma = calculateWMA(prizesAux);\r\n            results[j++] = wma;\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    private double calculateWMA(final double[] prizes){\r\n        double wma=0.0;\r\n        int total = 0;\r\n\r\n        for (int i = 0; i &lt; prizes.length; i++) {\r\n            wma += prizes[i]*(i+1);\r\n            total+= i+1;\r\n        }\r\n        wma= wma/(double)total;\r\n\r\n        return wma;\r\n    }\r\n\r\n    }\r\n\r\nI also share how you would use it:\r\n\r\n    package com.personal.pruebas;\r\n\r\n    import com.personal.tools.WMA;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class PruebaWMA {\r\n    public PruebaWMA() {\r\n        double[] precios = {32.52,35.19,48.63,45.54,31.17,41.77,25.07,-1.67,25.60,8.42,4.07,10.05,11.60,12.80,9.24,-1.95,5.30,15.70};\r\n        WMA wma =new WMA(10);\r\n        double[] wmaTable = wma.calculate(precios);\r\n        Arrays.stream(wmaTable).forEach(System.out::println);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new PruebaWMA();\r\n    }\r\n    }\r\n\r\nI hope it is helpful","title":"Calculate hull moving average using Java","body":"<p>I made a library to calculate the wma, I share it with you</p>\n<pre><code>package com.personal.tools;\n\n\npublic class WMA {\nprivate int period;\n\npublic WMA(int period) {\n    this.period = period;\n}\n\npublic double[] calculate(final double[] prizes) {\n    double[] results = new double[prizes.length - period + 1];\n    double wma;\n    int j = 0;\n    for (int i = period - 1; i &lt; prizes.length; i++) {\n        double[] prizesAux = new double[period];\n        System.arraycopy(prizes, i - period + 1, prizesAux, 0, period);\n        wma = calculateWMA(prizesAux);\n        results[j++] = wma;\n    }\n\n    return results;\n}\n\nprivate double calculateWMA(final double[] prizes){\n    double wma=0.0;\n    int total = 0;\n\n    for (int i = 0; i &lt; prizes.length; i++) {\n        wma += prizes[i]*(i+1);\n        total+= i+1;\n    }\n    wma= wma/(double)total;\n\n    return wma;\n}\n\n}\n</code></pre>\n<p>I also share how you would use it:</p>\n<pre><code>package com.personal.pruebas;\n\nimport com.personal.tools.WMA;\n\nimport java.util.Arrays;\n\npublic class PruebaWMA {\npublic PruebaWMA() {\n    double[] precios = {32.52,35.19,48.63,45.54,31.17,41.77,25.07,-1.67,25.60,8.42,4.07,10.05,11.60,12.80,9.24,-1.95,5.30,15.70};\n    WMA wma =new WMA(10);\n    double[] wmaTable = wma.calculate(precios);\n    Arrays.stream(wmaTable).forEach(System.out::println);\n}\n\npublic static void main(String[] args) {\n    new PruebaWMA();\n}\n}\n</code></pre>\n<p>I hope it is helpful</p>\n"}],"owner":{"account_id":25735221,"reputation":11,"user_id":19490102,"display_name":"AroenvR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694582069,"creation_date":1657057058,"question_id":72875826,"body_markdown":"First question on StackOverflow so I apologize if I&#39;m not being clear with my question.\r\n\r\nI&#39;m trying to create a Hull Moving Average using Java, but clearly I am stuck on something.\r\n\r\nThe only formula I can find all over the internet is as follows (n == period in days):  \r\nHMA = **WMA(2 * WMA(n/2) − WMA(n)), sqrt(n))**\r\n\r\nOn TradingView&#39;s PineScript editor I have a working HMA, although I do not personally understand how it works:\r\n```typescript\r\nf_hma(_src, _length)=&gt;\r\n    //HMA = WMA(2*WMA(n/2) − WMA(n)),sqrt(n))\r\n    _return = wma((2 * wma(_src, _length / 2)) - wma(_src, _length), round(sqrt(_length)))\r\n\r\nsrc = input(close)\r\nlength = input(250)\r\n\r\nhma = f_hma(src, length)\r\n\r\nplot(series=hma, title=&#39;250 HMA&#39;, color=#F39C12)\r\n```\r\n\r\nOkay so somehow I&#39;ve gotten this far.  \r\nNow I&#39;m trying to create it in Java, and that&#39;s where every thing goes south.  \r\nHow do you calculate a WMA with an input of 1 and length the square root of a period?\r\n\r\nFor example:\r\n```java\r\npublic double hma(String crypto, int period) {\r\n        // Fetching data from JPA\r\n        Pageable paging = PageRequest.of(0, period, Sort.by(&quot;dateTime&quot;).descending());\r\n        Page&lt;CryptoData&gt; dataPage = cryptoRepo.findCryptoDataByName(crypto, paging);\r\n        List&lt;Double&gt; prices = new ArrayList&lt;&gt;();\r\n        \r\n        // Sorting data\r\n        for (int i = dataPage.getSize(); i &gt; 0; i--) {\r\n            prices.add(dataPage.getContent().get(i - 1).getClose());\r\n        }\r\n        \r\n        // hma calculations start here:\r\n        double wma1 = 2 * wma(prices, (int)Math.round(period / 2.0));\r\n        double wma2 = wma(prices, period);\r\n\r\n        // According to the internet formula, this should be the &#39;smoothing wma&#39;, but it makes no sense to me.\r\n        return wma(List.of(wma1 - wma2), (int)Math.round(sqrt(period)));\r\n    }\r\n```\r\n\r\nThe helping wma function I&#39;ve currently created:\r\n```java\r\npublic double wma(List&lt;Double&gt; prices, int period) {\r\n        List&lt;Double&gt; updatedList = new ArrayList&lt;&gt;();\r\n\r\n        // For wma1, only use the last half of the prices list\r\n        if (period == prices.size() / 2) {\r\n            for (int i = 0; i &lt; prices.size(); i++) {\r\n                if (i &gt;= period) {\r\n                    updatedList.add(prices.get(i));\r\n                }\r\n            }\r\n        }\r\n        // For the hma&#39;s returning wma value\r\n        else if (period &gt; prices.size()) {\r\n            // I have no idea what to do here.\r\n            // prices.size() == 1 so there&#39;s nothing to calculate the wma with.\r\n        }\r\n        // For wma2, use the whole prices list\r\n        else {\r\n            updatedList = prices;\r\n        }\r\n\r\n        // WMA calculations, this part is a-okay.\r\n        double totalWeight = ((double)period * (period + 1)) / 2;\r\n\r\n        double pricePoint = 0;\r\n        double weightCounter = 1;\r\n        for (Double value: updatedList) {\r\n            // https://blog.earn2trade.com/weighted-moving-average/\r\n            double wma = value * (weightCounter / totalWeight);\r\n            pricePoint += wma;\r\n\r\n            weightCounter++;\r\n        }\r\n        return pricePoint;\r\n    }\r\n```\r\n  \r\nWhat am I misunderstanding?","title":"Calculate hull moving average using Java","body":"<p>First question on StackOverflow so I apologize if I'm not being clear with my question.</p>\n<p>I'm trying to create a Hull Moving Average using Java, but clearly I am stuck on something.</p>\n<p>The only formula I can find all over the internet is as follows (n == period in days):<br />\nHMA = <strong>WMA(2 * WMA(n/2) − WMA(n)), sqrt(n))</strong></p>\n<p>On TradingView's PineScript editor I have a working HMA, although I do not personally understand how it works:</p>\n<pre class=\"lang-js prettyprint-override\"><code>f_hma(_src, _length)=&gt;\n    //HMA = WMA(2*WMA(n/2) − WMA(n)),sqrt(n))\n    _return = wma((2 * wma(_src, _length / 2)) - wma(_src, _length), round(sqrt(_length)))\n\nsrc = input(close)\nlength = input(250)\n\nhma = f_hma(src, length)\n\nplot(series=hma, title='250 HMA', color=#F39C12)\n</code></pre>\n<p>Okay so somehow I've gotten this far.<br />\nNow I'm trying to create it in Java, and that's where every thing goes south.<br />\nHow do you calculate a WMA with an input of 1 and length the square root of a period?</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double hma(String crypto, int period) {\n        // Fetching data from JPA\n        Pageable paging = PageRequest.of(0, period, Sort.by(&quot;dateTime&quot;).descending());\n        Page&lt;CryptoData&gt; dataPage = cryptoRepo.findCryptoDataByName(crypto, paging);\n        List&lt;Double&gt; prices = new ArrayList&lt;&gt;();\n        \n        // Sorting data\n        for (int i = dataPage.getSize(); i &gt; 0; i--) {\n            prices.add(dataPage.getContent().get(i - 1).getClose());\n        }\n        \n        // hma calculations start here:\n        double wma1 = 2 * wma(prices, (int)Math.round(period / 2.0));\n        double wma2 = wma(prices, period);\n\n        // According to the internet formula, this should be the 'smoothing wma', but it makes no sense to me.\n        return wma(List.of(wma1 - wma2), (int)Math.round(sqrt(period)));\n    }\n</code></pre>\n<p>The helping wma function I've currently created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double wma(List&lt;Double&gt; prices, int period) {\n        List&lt;Double&gt; updatedList = new ArrayList&lt;&gt;();\n\n        // For wma1, only use the last half of the prices list\n        if (period == prices.size() / 2) {\n            for (int i = 0; i &lt; prices.size(); i++) {\n                if (i &gt;= period) {\n                    updatedList.add(prices.get(i));\n                }\n            }\n        }\n        // For the hma's returning wma value\n        else if (period &gt; prices.size()) {\n            // I have no idea what to do here.\n            // prices.size() == 1 so there's nothing to calculate the wma with.\n        }\n        // For wma2, use the whole prices list\n        else {\n            updatedList = prices;\n        }\n\n        // WMA calculations, this part is a-okay.\n        double totalWeight = ((double)period * (period + 1)) / 2;\n\n        double pricePoint = 0;\n        double weightCounter = 1;\n        for (Double value: updatedList) {\n            // https://blog.earn2trade.com/weighted-moving-average/\n            double wma = value * (weightCounter / totalWeight);\n            pricePoint += wma;\n\n            weightCounter++;\n        }\n        return pricePoint;\n    }\n</code></pre>\n<p>What am I misunderstanding?</p>\n"},{"tags":["java","itext"],"answers":[{"comments":[{"owner":{"account_id":3644780,"reputation":587,"user_id":3038070,"accept_rate":75,"display_name":"KimvdLinde"},"score":0,"creation_date":1554483865,"post_id":17198527,"comment_id":97783818,"body_markdown":"After adding the page, you need to create a new PDPageContentStream for the new page to have the content go to the right place....","body":"After adding the page, you need to create a new PDPageContentStream for the new page to have the content go to the right place...."},{"owner":{"account_id":5352974,"reputation":256,"user_id":4266585,"display_name":"vitaly goji"},"score":0,"creation_date":1620433748,"post_id":17198527,"comment_id":119207811,"body_markdown":"Why posing dead link instead of pasting some code?","body":"Why posing dead link instead of pasting some code?"}],"tags":[],"owner":{"account_id":2450090,"reputation":4212,"user_id":2136603,"accept_rate":45,"display_name":"Mubin"},"comment_count":2,"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1620541860,"creation_date":1371666079,"answer_id":17198527,"question_id":17198337,"body_markdown":"Anyone looking for a solution in iText7, please use the solution from @BadLeo, which is to use `document.add(new AreaBreak());`\r\n\r\n***Below answer is applicable for versions prior to 7.***\r\n\r\nCalling `document.newPage()` tells iText to place subsequent objects on a new page. The new page will only actually get created when you place the next object. Also, `newPage()` only creates a new page if the current page is not blank; otherwise, it&#39;s ignored; you can use `setPageBlank(false)` to overcome that.\r\n\r\nRefer below link for an example: \r\nhttp://itextpdf.com/examples/iia.php?id=99 (Edit: dead 404)\r\n\r\nSince the above link is dead, adding example code for anyone who is till using version prior to iText7.\r\n\r\n    /**\r\n     * Creates from the given Collection of images an pdf file.\r\n     *\r\n     * @param result\r\n     *            the output stream from the pdf file where the images shell be written.\r\n     * @param images\r\n     *            the BufferedImage collection to be written in the pdf file.\r\n     * @throws DocumentException\r\n     *             is thrown if an error occurs when trying to get an instance of {@link PdfWriter}.\r\n     * @throws IOException\r\n     *             Signals that an I/O exception has occurred.\r\n     */\r\n    public static void createPdf(final OutputStream result, final List&lt;BufferedImage&gt; images)\r\n      throws DocumentException, IOException\r\n    {\r\n      final Document document = new Document();\r\n      PdfWriter.getInstance(document, result);\r\n      for (final BufferedImage image : images)\r\n      {\r\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ImageIO.write(image, &quot;png&quot;, baos);\r\n        final Image img = Image.getInstance(baos.toByteArray());\r\n        document.setPageSize(img);\r\n        document.setPageBlank(false);\r\n        document.newPage();\r\n        img.setAbsolutePosition(0, 0);\r\n        document.add(img);\r\n      }\r\n      document.close();\r\n    }","title":"how can I make a page break using itext","body":"<p>Anyone looking for a solution in iText7, please use the solution from @BadLeo, which is to use <code>document.add(new AreaBreak());</code></p>\n<p><em><strong>Below answer is applicable for versions prior to 7.</strong></em></p>\n<p>Calling <code>document.newPage()</code> tells iText to place subsequent objects on a new page. The new page will only actually get created when you place the next object. Also, <code>newPage()</code> only creates a new page if the current page is not blank; otherwise, it's ignored; you can use <code>setPageBlank(false)</code> to overcome that.</p>\n<p>Refer below link for an example:\n<a href=\"http://itextpdf.com/examples/iia.php?id=99\" rel=\"noreferrer\">http://itextpdf.com/examples/iia.php?id=99</a> (Edit: dead 404)</p>\n<p>Since the above link is dead, adding example code for anyone who is till using version prior to iText7.</p>\n<pre><code>/**\n * Creates from the given Collection of images an pdf file.\n *\n * @param result\n *            the output stream from the pdf file where the images shell be written.\n * @param images\n *            the BufferedImage collection to be written in the pdf file.\n * @throws DocumentException\n *             is thrown if an error occurs when trying to get an instance of {@link PdfWriter}.\n * @throws IOException\n *             Signals that an I/O exception has occurred.\n */\npublic static void createPdf(final OutputStream result, final List&lt;BufferedImage&gt; images)\n  throws DocumentException, IOException\n{\n  final Document document = new Document();\n  PdfWriter.getInstance(document, result);\n  for (final BufferedImage image : images)\n  {\n    final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ImageIO.write(image, &quot;png&quot;, baos);\n    final Image img = Image.getInstance(baos.toByteArray());\n    document.setPageSize(img);\n    document.setPageBlank(false);\n    document.newPage();\n    img.setAbsolutePosition(0, 0);\n    document.add(img);\n  }\n  document.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4707585,"reputation":124,"user_id":3809166,"display_name":"andre_northwind"},"score":2,"creation_date":1496884961,"post_id":40544535,"comment_id":75848724,"body_markdown":"this actually works like a charm. calling document.newPage() only add a new blank page, but any new object that supposed to be appended on the new page are still appended on the 1st page. Objects are overlapping each other on the first page, while others are blank.","body":"this actually works like a charm. calling document.newPage() only add a new blank page, but any new object that supposed to be appended on the new page are still appended on the 1st page. Objects are overlapping each other on the first page, while others are blank."},{"owner":{"account_id":3644780,"reputation":587,"user_id":3038070,"accept_rate":75,"display_name":"KimvdLinde"},"score":0,"creation_date":1554480593,"post_id":40544535,"comment_id":97782315,"body_markdown":"@andre_northwind You need to make a new contents = new PDPageContentStream(doc, page); for the new page.","body":"@andre_northwind You need to make a new contents = new PDPageContentStream(doc, page); for the new page."}],"tags":[],"owner":{"account_id":4164117,"reputation":435,"user_id":3413473,"display_name":"BadLeo"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1478870027,"creation_date":1478855391,"answer_id":40544535,"question_id":17198337,"body_markdown":"For iText7 try:\r\n\r\n    document.add(new AreaBreak());\r\n\r\nSource: http://itextsupport.com/apidocs/itext7/7.0.0/com/itextpdf/layout/element/AreaBreak.html","title":"how can I make a page break using itext","body":"<p>For iText7 try:</p>\n\n<pre><code>document.add(new AreaBreak());\n</code></pre>\n\n<p>Source: <a href=\"http://itextsupport.com/apidocs/itext7/7.0.0/com/itextpdf/layout/element/AreaBreak.html\" rel=\"noreferrer\">http://itextsupport.com/apidocs/itext7/7.0.0/com/itextpdf/layout/element/AreaBreak.html</a></p>\n"},{"tags":[],"owner":{"account_id":27418205,"reputation":21,"user_id":20917066,"display_name":"Dương Phạm Th&#225;i"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694581742,"creation_date":1694581676,"answer_id":77094203,"question_id":17198337,"body_markdown":"in itext 7, try:\r\n\r\noutside loop:\r\n\r\n    pdfDocument.addNewPage();\r\n\r\ninside loop:\r\n\r\n    document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n\r\n\r\n","title":"how can I make a page break using itext","body":"<p>in itext 7, try:</p>\n<p>outside loop:</p>\n<pre><code>pdfDocument.addNewPage();\n</code></pre>\n<p>inside loop:</p>\n<pre><code>document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n</code></pre>\n"}],"owner":{"account_id":555200,"reputation":2154,"user_id":2107987,"accept_rate":91,"display_name":"meyquel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58300,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":17198527,"answer_count":3,"score":32,"last_activity_date":1694581742,"creation_date":1371665492,"question_id":17198337,"body_markdown":"I want to generate a pdf using itext. I would at some point while the content was added to make a page break. I need to insert several separate conenidos dependence origin so I ask the user to do so on separate pages. Any ideas???","title":"how can I make a page break using itext","body":"<p>I want to generate a pdf using itext. I would at some point while the content was added to make a page break. I need to insert several separate conenidos dependence origin so I ask the user to do so on separate pages. Any ideas???</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694580990,"post_id":77094115,"comment_id":135908269,"body_markdown":"Please include your performance test in the question.","body":"Please include your performance test in the question."},{"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"score":0,"creation_date":1694581538,"post_id":77094115,"comment_id":135908321,"body_markdown":"Apologies. Threw it in just now.","body":"Apologies. Threw it in just now."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694582968,"post_id":77094115,"comment_id":135908464,"body_markdown":"I cannot reproduce the results with JMH. They take approximately the same amount of time. Can you do the same tests with [JMH](https://github.com/openjdk/jmh)?","body":"I cannot reproduce the results with JMH. They take approximately the same amount of time. Can you do the same tests with <a href=\"https://github.com/openjdk/jmh\" rel=\"nofollow noreferrer\">JMH</a>?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1694583005,"post_id":77094115,"comment_id":135908471,"body_markdown":"See also https://stackoverflow.com/q/504103/5133585","body":"See also <a href=\"https://stackoverflow.com/q/504103/5133585\">stackoverflow.com/q/504103/5133585</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694584146,"post_id":77094115,"comment_id":135908593,"body_markdown":"This is almost certainly a flaw in your measurement technique, not a reflection of the real behavior.","body":"This is almost certainly a flaw in your measurement technique, not a reflection of the real behavior."},{"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"score":0,"creation_date":1694585641,"post_id":77094115,"comment_id":135908823,"body_markdown":"I accept that argument @LouisWasserman and knew it was probably the case. A lot of my confusion stemmed from being able to switch around the methods, and the anyMatch method would still appear slower. I just ran through JMH as suggested by Sweeper and can see they are in fact extremely similar, which still confuses me to be honest.","body":"I accept that argument @LouisWasserman and knew it was probably the case. A lot of my confusion stemmed from being able to switch around the methods, and the anyMatch method would still appear slower. I just ran through JMH as suggested by Sweeper and can see they are in fact extremely similar, which still confuses me to be honest."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694590404,"post_id":77094115,"comment_id":135909594,"body_markdown":"Why would that be surprising?  They&#39;re computing the same result, you&#39;d hope they optimize to the same thing.","body":"Why would that be surprising?  They&#39;re computing the same result, you&#39;d hope they optimize to the same thing."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1694590650,"post_id":77094115,"comment_id":135909632,"body_markdown":"In tests in the post you are missing `start = System.nanoTime();` before you start the `anyMatch` tests (except before the very first test)","body":"In tests in the post you are missing <code>start = System.nanoTime();</code> before you start the <code>anyMatch</code> tests (except before the very first test)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694594173,"post_id":77094115,"comment_id":135910309,"body_markdown":"Unless you really need the first occurrence, I would use `findAny` over `findFirst`. For sequential streams they probably do the same, but for parallel streams an order is imposed, which may lead to unnecessary blocking.","body":"Unless you really need the first occurrence, I would use <code>findAny</code> over <code>findFirst</code>. For sequential streams they probably do the same, but for parallel streams an order is imposed, which may lead to unnecessary blocking."}],"owner":{"account_id":3120239,"reputation":11,"user_id":2640162,"display_name":"fooshy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694581521,"creation_date":1694580372,"question_id":77094115,"body_markdown":"This question is probably going to be silly, but I have been thinking about it for a few days now and haven&#39;t been able to find an answer.\r\n\r\nI was writing a function recently and IntelliJ gave me a highlight hint suggesting I change a line which finds if an element exists in a collection with a particular parameter present. I streamed a Set as the collection, and my line was something like:\r\n\r\n```\r\nboolean result1 = numbers.stream().filter(n -&gt; {\r\n            return n.number == 5;\r\n        }).findFirst().isPresent();\r\n```\r\n\r\nThe suggested change from IntelliJ was to use the ```anyMatch``` method as follows:\r\n\r\n```\r\nboolean result2 = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 5;\r\n        });\r\n```\r\n\r\nThe suggestion from IntelliJ is technically correct - ```anyMatch``` returns the exact value I am expecting, but for some reason I wanted to test it against the original method used which returns Optional&lt;T&gt; and see just how much faster it was - but for some reason it wasn&#39;t. The tests kept showing that the original was almost always twice (or more) times faster than ```anyMatch```.\r\n\r\nIs this a hardware/software/environment issue? Am I looking at this too simplistically? I can&#39;t put my finger on what is possibly going on here.\r\n\r\nThe performance test I was running was as follows:\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        class TestObject {\r\n            int number;\r\n\r\n            TestObject(int num) {\r\n                this.number = num;\r\n            }\r\n        }\r\n\r\n        Set&lt;TestObject&gt; numbers = new HashSet&lt;&gt;();\r\n        Set&lt;TestObject&gt; numbers1 = new HashSet&lt;&gt;();\r\n        Set&lt;TestObject&gt; numbers2 = new HashSet&lt;&gt;();\r\n\r\n        for(int i = 0; i &lt; 1000; i++) {\r\n            numbers.add(new TestObject(i));\r\n        }\r\n\r\n        for(int i = 0; i &lt; 10000; i++) {\r\n            numbers1.add(new TestObject(i));\r\n        }\r\n\r\n        for(int i = 0; i &lt; 100000; i++) {\r\n            numbers2.add(new TestObject(i));\r\n        }\r\n\r\n        Long start = System.nanoTime();\r\n\r\n        boolean result = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 500;\r\n        });\r\n        System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\r\n\r\n        start = System.nanoTime();\r\n        result = numbers.stream().filter(n -&gt; {;\r\n            return n.number == 500;\r\n        }).findFirst().isPresent();\r\n        System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\r\n\r\n        result = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 5000;\r\n        });\r\n        System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\r\n\r\n        start = System.nanoTime();\r\n        result = numbers.stream().filter(n -&gt; {\r\n            return n.number == 5000;\r\n        }).findFirst().isPresent();\r\n        System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\r\n\r\n        result = numbers.stream().anyMatch(n -&gt; {\r\n            return n.number == 50000;\r\n        });\r\n        System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\r\n\r\n        start = System.nanoTime();\r\n        result = numbers.stream().filter(n -&gt; {\r\n            return n.number == 50000;\r\n        }).findFirst().isPresent();\r\n        System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\r\n        }\r\n    }","title":"Why (from Stream) is filter + findFirst + isPresent faster than filter + anyMatch?","body":"<p>This question is probably going to be silly, but I have been thinking about it for a few days now and haven't been able to find an answer.</p>\n<p>I was writing a function recently and IntelliJ gave me a highlight hint suggesting I change a line which finds if an element exists in a collection with a particular parameter present. I streamed a Set as the collection, and my line was something like:</p>\n<pre><code>boolean result1 = numbers.stream().filter(n -&gt; {\n            return n.number == 5;\n        }).findFirst().isPresent();\n</code></pre>\n<p>The suggested change from IntelliJ was to use the <code>anyMatch</code> method as follows:</p>\n<pre><code>boolean result2 = numbers.stream().anyMatch(n -&gt; {\n            return n.number == 5;\n        });\n</code></pre>\n<p>The suggestion from IntelliJ is technically correct - <code>anyMatch</code> returns the exact value I am expecting, but for some reason I wanted to test it against the original method used which returns Optional and see just how much faster it was - but for some reason it wasn't. The tests kept showing that the original was almost always twice (or more) times faster than <code>anyMatch</code>.</p>\n<p>Is this a hardware/software/environment issue? Am I looking at this too simplistically? I can't put my finger on what is possibly going on here.</p>\n<p>The performance test I was running was as follows:</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    class TestObject {\n        int number;\n\n        TestObject(int num) {\n            this.number = num;\n        }\n    }\n\n    Set&lt;TestObject&gt; numbers = new HashSet&lt;&gt;();\n    Set&lt;TestObject&gt; numbers1 = new HashSet&lt;&gt;();\n    Set&lt;TestObject&gt; numbers2 = new HashSet&lt;&gt;();\n\n    for(int i = 0; i &lt; 1000; i++) {\n        numbers.add(new TestObject(i));\n    }\n\n    for(int i = 0; i &lt; 10000; i++) {\n        numbers1.add(new TestObject(i));\n    }\n\n    for(int i = 0; i &lt; 100000; i++) {\n        numbers2.add(new TestObject(i));\n    }\n\n    Long start = System.nanoTime();\n\n    boolean result = numbers.stream().anyMatch(n -&gt; {\n        return n.number == 500;\n    });\n    System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\n\n    start = System.nanoTime();\n    result = numbers.stream().filter(n -&gt; {;\n        return n.number == 500;\n    }).findFirst().isPresent();\n    System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\n\n    result = numbers.stream().anyMatch(n -&gt; {\n        return n.number == 5000;\n    });\n    System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\n\n    start = System.nanoTime();\n    result = numbers.stream().filter(n -&gt; {\n        return n.number == 5000;\n    }).findFirst().isPresent();\n    System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\n\n    result = numbers.stream().anyMatch(n -&gt; {\n        return n.number == 50000;\n    });\n    System.out.println(&quot;Time to find - anyMatch: &quot; + (System.nanoTime() - start));\n\n    start = System.nanoTime();\n    result = numbers.stream().filter(n -&gt; {\n        return n.number == 50000;\n    }).findFirst().isPresent();\n    System.out.println(&quot;Time to find - filter + findFirst + isPresent: &quot; + (System.nanoTime() - start));\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1500622915,"post_id":45225075,"comment_id":77429258,"body_markdown":"Why are you changing the conventions of directories? this is the first thing you have to learn to keep the conventions until you fully understand their intention and the consequences if you change them. Usually there is no need to do that. And you shouldn&#39;t do it unless you have very good reasons. Apart from that the build-number-maven-plugin extracts the revision/git sha1 as a build-number can be injected into MANIFEST.MF file for better identification of artifacts.So in consequence you need to give correct SCM entries to get build-number-maven-plugin working...dummy does not makes sense...","body":"Why are you changing the conventions of directories? this is the first thing you have to learn to keep the conventions until you fully understand their intention and the consequences if you change them. Usually there is no need to do that. And you shouldn&#39;t do it unless you have very good reasons. Apart from that the build-number-maven-plugin extracts the revision/git sha1 as a build-number can be injected into MANIFEST.MF file for better identification of artifacts.So in consequence you need to give correct SCM entries to get build-number-maven-plugin working...dummy does not makes sense..."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676685594,"creation_date":1676685594,"answer_id":75490723,"question_id":45225075,"body_markdown":"According to the `buildnumber:create` [docs](https://www.mojohaus.org/buildnumber-maven-plugin/create-mojo.html) this plugin is especially created to work with SCM:\r\n\r\n&gt; The build number is based on the revision number **retrieved from SCM**. It is known to work with Subversion, GIT, and Mercurial.\r\n\r\nSo to accomplish your intention you should NOT use this plugin and need to use a different approach instead.\r\n\r\n### Method 1. Build timestamp\r\n\r\nDefault maven installation offers [some special variables](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#available-variables), among them a variable named `maven.build.timestamp`, which gives you a timestamp. You can control the format with\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\nwhich follows the `SimpleDateFormat` rules. You can use `${maven.build.timestamp}` to get a formatted timestamp for your build number.\r\n\r\n\r\n### Method 2. CI Integration\r\n\r\nConfigure default value for local builds:\r\n\r\n    &lt;properties&gt;\r\n        &lt;buildNumber&gt;0&lt;/buildNumber&gt;\r\n    &lt;properties&gt;\r\n\r\nIn CI explicitly provide this value through command line:\r\n\r\n    ./mvnw clean deploy -DbuildNumber=...","title":"maven buildnumber plugin error The scm url cannot be null","body":"<p>According to the <code>buildnumber:create</code> <a href=\"https://www.mojohaus.org/buildnumber-maven-plugin/create-mojo.html\" rel=\"nofollow noreferrer\">docs</a> this plugin is especially created to work with SCM:</p>\n<blockquote>\n<p>The build number is based on the revision number <strong>retrieved from SCM</strong>. It is known to work with Subversion, GIT, and Mercurial.</p>\n</blockquote>\n<p>So to accomplish your intention you should NOT use this plugin and need to use a different approach instead.</p>\n<h3>Method 1. Build timestamp</h3>\n<p>Default maven installation offers <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#available-variables\" rel=\"nofollow noreferrer\">some special variables</a>, among them a variable named <code>maven.build.timestamp</code>, which gives you a timestamp. You can control the format with</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>which follows the <code>SimpleDateFormat</code> rules. You can use <code>${maven.build.timestamp}</code> to get a formatted timestamp for your build number.</p>\n<h3>Method 2. CI Integration</h3>\n<p>Configure default value for local builds:</p>\n<pre><code>&lt;properties&gt;\n    &lt;buildNumber&gt;0&lt;/buildNumber&gt;\n&lt;properties&gt;\n</code></pre>\n<p>In CI explicitly provide this value through command line:</p>\n<pre><code>./mvnw clean deploy -DbuildNumber=...\n</code></pre>\n"}],"owner":{"account_id":116098,"reputation":1940,"user_id":304582,"accept_rate":32,"display_name":"user304582"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8326,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":1,"score":14,"last_activity_date":1694581230,"creation_date":1500584385,"question_id":45225075,"body_markdown":"I am a new user of Maven, and am having difficulty getting the buildnumber-maven-plugin to do what I expect. Essentially, I want maven to build my project and create a JAR file of the result, and to set a build number in the manifest.mf file. I&#39;ll include most of my pom.xml file below. I&#39;ve posted a related question already, but this question is about a different problem!\r\n\r\nWhen I run mvn clean compile package I see the following error:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create (buildnumber) on project xcase: Execution buildnumber of goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create failed: The scm url cannot be null. -&gt; [Help 1]\r\n\r\nI have set both doCheck and doUpdate to false, so don&#39;t know why the SCM is involved. My workaround has been to add some dummy SCM configuration, but this feels clunky. Is there a better way?\r\n\r\n      &lt;scm&gt;\r\n        &lt;connection&gt;scm:svn:http://127.0.0.1/dummy&lt;/connection&gt;\r\n        &lt;developerConnection&gt;scm:svn:https://127.0.0.1/dummy&lt;/developerConnection&gt;\r\n        &lt;tag&gt;HEAD&lt;/tag&gt;\r\n        &lt;url&gt;http://127.0.0.1/dummy&lt;/url&gt;\r\n      &lt;/scm&gt;\r\n\r\nHere is the build section of my pom.xml file:\r\n\r\n      &lt;build&gt;\r\n        &lt;outputDirectory&gt;build&lt;/outputDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;buildNumberPropertyName&gt;buildNumber&lt;/buildNumberPropertyName&gt;\r\n              &lt;doCheck&gt;false&lt;/doCheck&gt;\r\n              &lt;doUpdate&gt;false&lt;/doUpdate&gt;\r\n              &lt;format&gt;{0,number,integer}&lt;/format&gt;\r\n              &lt;items&gt;\r\n                &lt;item&gt;buildNumber&lt;/item&gt;\r\n              &lt;/items&gt;\r\n              &lt;revisionOnScmFailure&gt;true&lt;/revisionOnScmFailure&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;create&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;id&gt;buildnumber&lt;/id&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-resources&lt;/id&gt;\r\n                &lt;phase&gt;validate&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;${basedir}/build&lt;/outputDirectory&gt;\r\n                  &lt;resources&gt;          \r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;${basedir}&lt;/directory&gt;\r\n                      &lt;filtering&gt;true&lt;/filtering&gt;\r\n                      &lt;excludes&gt;\r\n                        &lt;exclude&gt;*local*.properties&lt;/exclude&gt;\r\n                      &lt;/excludes&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;*.properties&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                    &lt;resource&gt;\r\n                      &lt;directory&gt;${basedir}/src/java&lt;/directory&gt;\r\n                      &lt;filtering&gt;true&lt;/filtering&gt;\r\n                      &lt;includes&gt;\r\n                        &lt;include&gt;log4j2.xml&lt;/include&gt;\r\n                      &lt;/includes&gt;\r\n                    &lt;/resource&gt;\r\n                  &lt;/resources&gt;              \r\n                &lt;/configuration&gt;            \r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                &lt;/manifest&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;Implementation-Build&gt;${buildNumber}&lt;/Implementation-Build&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;sourceDirectory&gt;src/java&lt;/sourceDirectory&gt;\r\n      &lt;/build&gt;","title":"maven buildnumber plugin error The scm url cannot be null","body":"<p>I am a new user of Maven, and am having difficulty getting the buildnumber-maven-plugin to do what I expect. Essentially, I want maven to build my project and create a JAR file of the result, and to set a build number in the manifest.mf file. I'll include most of my pom.xml file below. I've posted a related question already, but this question is about a different problem!</p>\n\n<p>When I run mvn clean compile package I see the following error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create (buildnumber) on project xcase: Execution buildnumber of goal org.codehaus.mojo:buildnumber-maven-plugin:1.4:create failed: The scm url cannot be null. -&gt; [Help 1]\n</code></pre>\n\n<p>I have set both doCheck and doUpdate to false, so don't know why the SCM is involved. My workaround has been to add some dummy SCM configuration, but this feels clunky. Is there a better way?</p>\n\n<pre><code>  &lt;scm&gt;\n    &lt;connection&gt;scm:svn:http://127.0.0.1/dummy&lt;/connection&gt;\n    &lt;developerConnection&gt;scm:svn:https://127.0.0.1/dummy&lt;/developerConnection&gt;\n    &lt;tag&gt;HEAD&lt;/tag&gt;\n    &lt;url&gt;http://127.0.0.1/dummy&lt;/url&gt;\n  &lt;/scm&gt;\n</code></pre>\n\n<p>Here is the build section of my pom.xml file:</p>\n\n<pre><code>  &lt;build&gt;\n    &lt;outputDirectory&gt;build&lt;/outputDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;buildNumberPropertyName&gt;buildNumber&lt;/buildNumberPropertyName&gt;\n          &lt;doCheck&gt;false&lt;/doCheck&gt;\n          &lt;doUpdate&gt;false&lt;/doUpdate&gt;\n          &lt;format&gt;{0,number,integer}&lt;/format&gt;\n          &lt;items&gt;\n            &lt;item&gt;buildNumber&lt;/item&gt;\n          &lt;/items&gt;\n          &lt;revisionOnScmFailure&gt;true&lt;/revisionOnScmFailure&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;create&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;id&gt;buildnumber&lt;/id&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${basedir}/build&lt;/outputDirectory&gt;\n              &lt;resources&gt;          \n                &lt;resource&gt;\n                  &lt;directory&gt;${basedir}&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;*local*.properties&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;*.properties&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;directory&gt;${basedir}/src/java&lt;/directory&gt;\n                  &lt;filtering&gt;true&lt;/filtering&gt;\n                  &lt;includes&gt;\n                    &lt;include&gt;log4j2.xml&lt;/include&gt;\n                  &lt;/includes&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;              \n            &lt;/configuration&gt;            \n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Implementation-Build&gt;${buildNumber}&lt;/Implementation-Build&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;sourceDirectory&gt;src/java&lt;/sourceDirectory&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","protobuf-net"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1414384496,"post_id":26581201,"comment_id":41779024,"body_markdown":"No, not in the current version.","body":"No, not in the current version."},{"owner":{"account_id":2933453,"reputation":81,"user_id":2512997,"display_name":"user2512997"},"score":0,"creation_date":1414393923,"post_id":26581201,"comment_id":41781360,"body_markdown":"Thanks for the version. Idea on when it will be available?","body":"Thanks for the version. Idea on when it will be available?"}],"answers":[{"tags":[],"owner":{"account_id":279913,"reputation":7622,"user_id":575338,"accept_rate":59,"display_name":"mavarazy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414388394,"creation_date":1414388394,"answer_id":26581728,"question_id":26581201,"body_markdown":"There is an issue, regarding this in google https://code.google.com/p/protobuf/issues/detail?id=299\r\n\r\nThe last message from *October 9, 2014*\r\n\r\n&gt; Project Member #4 xiaof...@google.com A new syntax for map fields will\r\n&gt; be introduced to protobuf: message TestMessage {   map&lt;int32, string&gt;\r\n&gt; a_map_field = 1; }\r\n&gt; \r\n&gt; We are currently working on its implementation and it&#39;s supposed to be\r\n&gt; included in the next major release.\r\n\r\nSo either wait for new release, or implement your own tuples, with appropriate key and value structures.\r\n\r\nLook at similar question\r\nhttps://stackoverflow.com/questions/1102900/how-would-you-encode-a-mapstring-object-using-protocol-buffers","title":"Java HashMap in protocol buffer","body":"<p>There is an issue, regarding this in google <a href=\"https://code.google.com/p/protobuf/issues/detail?id=299\" rel=\"nofollow noreferrer\">https://code.google.com/p/protobuf/issues/detail?id=299</a></p>\n\n<p>The last message from <em>October 9, 2014</em></p>\n\n<blockquote>\n  <p>Project Member #4 xiaof...@google.com A new syntax for map fields will\n  be introduced to protobuf: message TestMessage {   map\n  a_map_field = 1; }</p>\n  \n  <p>We are currently working on its implementation and it's supposed to be\n  included in the next major release.</p>\n</blockquote>\n\n<p>So either wait for new release, or implement your own tuples, with appropriate key and value structures.</p>\n\n<p>Look at similar question\n<a href=\"https://stackoverflow.com/questions/1102900/how-would-you-encode-a-mapstring-object-using-protocol-buffers\">How would you encode a Map&lt;String, Object&gt; using Protocol Buffers?</a></p>\n"},{"tags":[],"owner":{"account_id":11679511,"reputation":1329,"user_id":8551764,"display_name":"Mostafa Arian Nejad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694325010,"creation_date":1694325010,"answer_id":77074954,"question_id":26581201,"body_markdown":"To folks visiting this page looking on how to add `Map` into protocol buffers. In proto version 3, [`map`][1] has been added and you can use it as demonstrated below:\r\n\r\n**The `Koltin` class:**\r\n\r\n    data class Person(\r\n        val name : String,\r\n        val badges : Map&lt;String, String&gt;\r\n    )\r\n\r\n**The `.proto` file:**\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    message Person {\r\n      string name = 1;\r\n      map&lt;string, string&gt; badges = 2;\r\n    }\r\n\r\n\r\n  [1]: https://protobuf.dev/programming-guides/proto3/#maps","title":"Java HashMap in protocol buffer","body":"<p>To folks visiting this page looking on how to add <code>Map</code> into protocol buffers. In proto version 3, <a href=\"https://protobuf.dev/programming-guides/proto3/#maps\" rel=\"nofollow noreferrer\"><code>map</code></a> has been added and you can use it as demonstrated below:</p>\n<p><strong>The <code>Koltin</code> class:</strong></p>\n<pre><code>data class Person(\n    val name : String,\n    val badges : Map&lt;String, String&gt;\n)\n</code></pre>\n<p><strong>The <code>.proto</code> file:</strong></p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nmessage Person {\n  string name = 1;\n  map&lt;string, string&gt; badges = 2;\n}\n</code></pre>\n"}],"owner":{"account_id":2933453,"reputation":81,"user_id":2512997,"display_name":"user2512997"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3171,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694580947,"creation_date":1414384120,"question_id":26581201,"body_markdown":"I am new to the Google protocol buffer. The intention is to use proto files to generate Java classes that can be sent over the network. Is there a way to have Java Maps in the generated classes? Any example code for it will be extremely useful. The generated Java class should contain a member variable of type `Map` of keys and values.\r\n","title":"Java HashMap in protocol buffer","body":"<p>I am new to the Google protocol buffer. The intention is to use proto files to generate Java classes that can be sent over the network. Is there a way to have Java Maps in the generated classes? Any example code for it will be extremely useful. The generated Java class should contain a member variable of type <code>Map</code> of keys and values.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"score":0,"creation_date":1694586228,"post_id":77094137,"comment_id":135908907,"body_markdown":"I found solution -&gt; mapper.disable(MapperFeature.USE_ANNOTATIONS);","body":"I found solution -&gt; mapper.disable(MapperFeature.USE_ANNOTATIONS);"}],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694580781,"creation_date":1694580781,"question_id":77094137,"body_markdown":"I&#39;m new in Jackson framework.\r\n\r\nI have two classes First and Second, they don&#39;t have common superclass.\r\n\r\nIn method convertOneToAnother first argument is &quot;first&quot; object, and second argument is Second class, this class object we have return from this method.\r\n\r\n```\r\npublic static Object convertOneToAnother(Object one, Class resultClassObject) throws IOException {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    StringWriter writer = new StringWriter();\r\n    mapper.writeValue(writer, one);\r\n\r\n    String json = writer.toString();\r\n\r\n    return mapper.readValue(json, resultClassObject);\r\n}\r\n```\r\n\r\nThis two classes have the same variables:\r\n\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\r\n@JsonSubTypes(@JsonSubTypes.Type(value=First.class,  name=&quot;first&quot;))\r\npublic static class First {\r\n    public int i;\r\n    public String name;\r\n}\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\r\n@JsonSubTypes(@JsonSubTypes.Type(value=Second.class, name=&quot;second&quot;))\r\npublic static class Second {\r\n    public int i;\r\n    public String name;\r\n}\r\n```\r\n\r\nWhen I comment json adnotations above classes declarations it&#39;s working but if not I have exception:\r\n\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;first&#39; as a subtype of \\`com.codegym.task.task33.task3304.Solution$Second\\`: known type ids = \\[second\\]\r\n\r\nHow I can handle this problem in  convertOneToAnother method? Maybe is some way to tell compiler &quot;I know what I&#39;m doing, ignore that names is invalid&quot; or &quot;change the name=&quot;first&quot; to name=&quot;second&quot;?","title":"How to get the same variables from two different classes and write ones to another by json, changing class?","body":"<p>I'm new in Jackson framework.</p>\n<p>I have two classes First and Second, they don't have common superclass.</p>\n<p>In method convertOneToAnother first argument is &quot;first&quot; object, and second argument is Second class, this class object we have return from this method.</p>\n<pre><code>public static Object convertOneToAnother(Object one, Class resultClassObject) throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    StringWriter writer = new StringWriter();\n    mapper.writeValue(writer, one);\n\n    String json = writer.toString();\n\n    return mapper.readValue(json, resultClassObject);\n}\n</code></pre>\n<p>This two classes have the same variables:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\n@JsonSubTypes(@JsonSubTypes.Type(value=First.class,  name=&quot;first&quot;))\npublic static class First {\n    public int i;\n    public String name;\n}\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,  property=&quot;className&quot;)\n@JsonSubTypes(@JsonSubTypes.Type(value=Second.class, name=&quot;second&quot;))\npublic static class Second {\n    public int i;\n    public String name;\n}\n</code></pre>\n<p>When I comment json adnotations above classes declarations it's working but if not I have exception:</p>\n<p>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id 'first' as a subtype of `com.codegym.task.task33.task3304.Solution$Second`: known type ids = [second]</p>\n<p>How I can handle this problem in  convertOneToAnother method? Maybe is some way to tell compiler &quot;I know what I'm doing, ignore that names is invalid&quot; or &quot;change the name=&quot;first&quot; to name=&quot;second&quot;?</p>\n"},{"tags":["java","threadpool"],"owner":{"account_id":21326178,"reputation":73,"user_id":15698505,"display_name":"Ahmet Hakan YILDIZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694580013,"creation_date":1694528664,"question_id":77090057,"body_markdown":"In my Spring project, I am using ExecutorService. Before submission of executor, I save an entity but cannot reach it in runnable task. Here is my code:\r\n\r\n    @Slf4j\r\n    @Service\r\n    @Transactional\r\n    @RequiredArgsConstructor\r\n    public class MyService {\r\n        ...\r\n        public void myMethod(){\r\n              MyEntity myEntity = new MyEntity();\r\n              ... //set values\r\n              myRepository.save(myEntity);\r\n              ExecutorService myExecutorService = Executors.newFixedThreadPool(1);\r\n              myExecutorService.submit(() -&gt; {\r\n                  ...\r\n                  MyEntity myEntity2 = myRepository.findByName(name);\r\n                  ...\r\n              });\r\n        }\r\n    }\r\n\r\nin &#39;MyEntity myEntity2 = myRepository.findByName(name);&#39; line, does not throw any error, does not return null and does not execute after this line. I think JPA considers that they are in different session and becuase of that, their state is different. Is there a way to fix that?\r\n\r\nEDIT: In development environment, I use H2 database. This problem does not happen when H2 is used.","title":"Cannot access last state of db in fixed thread pool","body":"<p>In my Spring project, I am using ExecutorService. Before submission of executor, I save an entity but cannot reach it in runnable task. Here is my code:</p>\n<pre><code>@Slf4j\n@Service\n@Transactional\n@RequiredArgsConstructor\npublic class MyService {\n    ...\n    public void myMethod(){\n          MyEntity myEntity = new MyEntity();\n          ... //set values\n          myRepository.save(myEntity);\n          ExecutorService myExecutorService = Executors.newFixedThreadPool(1);\n          myExecutorService.submit(() -&gt; {\n              ...\n              MyEntity myEntity2 = myRepository.findByName(name);\n              ...\n          });\n    }\n}\n</code></pre>\n<p>in 'MyEntity myEntity2 = myRepository.findByName(name);' line, does not throw any error, does not return null and does not execute after this line. I think JPA considers that they are in different session and becuase of that, their state is different. Is there a way to fix that?</p>\n<p>EDIT: In development environment, I use H2 database. This problem does not happen when H2 is used.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694579293,"post_id":77093924,"comment_id":135908127,"body_markdown":"This unimplemented proposal to add declaration-site variance to Java gives a good overview https://openjdk.org/jeps/300","body":"This unimplemented proposal to add declaration-site variance to Java gives a good overview <a href=\"https://openjdk.org/jeps/300\" rel=\"nofollow noreferrer\">openjdk.org/jeps/300</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1694579390,"post_id":77093924,"comment_id":135908136,"body_markdown":"What the example in the question shows is not declaring variance, but a [bounded type parameter](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)","body":"What the example in the question shows is not declaring variance, but a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">bounded type parameter</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694579650,"post_id":77093924,"comment_id":135908158,"body_markdown":"And none of this has anything to do with the [tag:variance] tag, which is about statistical variance.","body":"And none of this has anything to do with the <a href=\"https://stackoverflow.com/questions/tagged/variance\">variance</a> tag, which is about statistical variance."}],"owner":{"account_id":3657942,"reputation":551,"user_id":3048443,"accept_rate":70,"display_name":"Akhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694578705,"answer_count":0,"score":0,"last_activity_date":1694579606,"creation_date":1694576658,"question_id":77093924,"body_markdown":"All the articles (Medium/ChatGPT/StackOverflow) that I have read say &quot;Java does not have declaration-site variance like some other programming languages such as Kotlin or Scala&quot;. But when I try it, I am able to create a class where I declare variance in class signature rather than at time of usage\r\n\r\n```\r\nstatic class FruitCrate&lt;T extends Fruit&gt; {\r\n        private final List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n\r\n        public T produce() {\r\n            return items.get(0);\r\n        }\r\n\r\n        public void consume(T item) {\r\n            items.set(1, item);\r\n        }\r\n\r\n        public int size() {\r\n            return items.size();\r\n        }\r\n}\r\n```\r\nAm I missing something here?\r\n","title":"Declaration Site Variance in Java","body":"<p>All the articles (Medium/ChatGPT/StackOverflow) that I have read say &quot;Java does not have declaration-site variance like some other programming languages such as Kotlin or Scala&quot;. But when I try it, I am able to create a class where I declare variance in class signature rather than at time of usage</p>\n<pre><code>static class FruitCrate&lt;T extends Fruit&gt; {\n        private final List&lt;T&gt; items = new ArrayList&lt;&gt;();\n\n        public T produce() {\n            return items.get(0);\n        }\n\n        public void consume(T item) {\n            items.set(1, item);\n        }\n\n        public int size() {\n            return items.size();\n        }\n}\n</code></pre>\n<p>Am I missing something here?</p>\n"},{"tags":["java","android","kotlin","unit-testing","mockito"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694526400,"post_id":77089627,"comment_id":135900463,"body_markdown":"Is `JSONObject::class.java` legal Kotlin code? In Java it would simply be `JSONObject.class`.","body":"Is <code>JSONObject::class.java</code> legal Kotlin code? In Java it would simply be <code>JSONObject.class</code>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1694527113,"post_id":77089627,"comment_id":135900667,"body_markdown":"@DavidConrad Yes, that&#39;s the way to do it in Kotlin (`JSONObject::class` to get a KClass, then `.java` to resolve it to a Java `Class`)","body":"@DavidConrad Yes, that&#39;s the way to do it in Kotlin (<code>JSONObject::class</code> to get a KClass, then <code>.java</code> to resolve it to a Java <code>Class</code>)"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1694527187,"post_id":77089627,"comment_id":135900693,"body_markdown":"Can you show how you&#39;re setting up the `socketDataSource` mock? It looks like your `when` call is calling the actual method implementation with the return value of `any` (which is always `null`).","body":"Can you show how you&#39;re setting up the <code>socketDataSource</code> mock? It looks like your <code>when</code> call is calling the actual method implementation with the return value of <code>any</code> (which is always <code>null</code>)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694529429,"post_id":77089627,"comment_id":135901230,"body_markdown":"It needs to be a mock, and that mock needs to be injected into repository. How are you creating the mock, and what do you do to inject the dependency?","body":"It needs to be a mock, and that mock needs to be injected into repository. How are you creating the mock, and what do you do to inject the dependency?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1694530598,"post_id":77089627,"comment_id":135901538,"body_markdown":"Are you using mockito-kotlin ?","body":"Are you using mockito-kotlin ?"},{"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"score":0,"creation_date":1694578467,"post_id":77089627,"comment_id":135908054,"body_markdown":"@marcinj yes i am doing in kotlin","body":"@marcinj yes i am doing in kotlin"},{"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"score":0,"creation_date":1694578567,"post_id":77089627,"comment_id":135908072,"body_markdown":"@Jorn let me update socket data source in question","body":"@Jorn let me update socket data source in question"},{"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"score":0,"creation_date":1694581026,"post_id":77089627,"comment_id":135908271,"body_markdown":"Ok guys i understood what was the problem , i was using the argument matchers any for json , but instead of that we can just do org.mockito.kotlin.any (or org.mockito.Mockito.any if not using Kotlin extensions) for argument matching.","body":"Ok guys i understood what was the problem , i was using the argument matchers any for json , but instead of that we can just do org.mockito.kotlin.any (or org.mockito.Mockito.any if not using Kotlin extensions) for argument matching."}],"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694578802,"creation_date":1694525634,"question_id":77089627,"body_markdown":"i am testing emitChatMessage function :\r\n\r\n```\r\nfun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\r\n    val message = JSONObject().apply {\r\n        put(&quot;chatId&quot;, chatId)\r\n        put(&quot;sender&quot;, sender)\r\n        put(&quot;content&quot;, content)\r\n        put(&quot;messageType&quot;, messageType)\r\n    }\r\n\r\n    socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\r\n}\r\n```\r\n\r\ncan&#39;t understood do i wrote test right or wron here but getting any(JSONObject::class.java) error here...\r\n\r\n```\r\n@Test\r\nfun `test Emit Chat Message`() {\r\n    val chatId = &quot;64393f76ca21bdf658d19bd2&quot;\r\n    val sender = &quot;John&quot;\r\n    val content = &quot;Hello&quot;\r\n    val messageType = &quot;text&quot;\r\n\r\n    val capturedMessage = mutableListOf&lt;JSONObject&gt;()\r\n    `when`(socketDataSource.emit(anyString(), any(JSONObject::class.java))).thenAnswer {\r\n        val message = it.arguments[1] as JSONObject\r\n        capturedMessage.add(message)\r\n    }\r\n\r\n    repository.emitChatMessage(chatId, sender, content, messageType)\r\n}\r\n```\r\n\r\nthis is the error:\r\n\r\n```\r\nany(JSONObject::class.java) must not be null\r\njava.lang.NullPointerException: any(JSONObject::class.java) must not be null\r\n\tat cc.mekanism.chatconcept.feature_send_message.domain.repository.SocketRepositoryTest.test Emit Chat Message(SocketRepositoryTest.kt:37)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n```\r\n\r\nwhen anyone try to emit from socketDataSource like with any string or any json object that should capture the message so i can verify it.\r\n\r\nSocketDataSource as you guys asked in comments :\r\n\r\n    package cc.mekanism.chatconcept.feature_send_message.data.remote\r\n    \r\n        import org.json.JSONObject\r\n        \r\n        interface SocketDataSource {\r\n            fun connect(userId: String, authToken: String)\r\n            fun emit(event: String, data: JSONObject)\r\n            fun on(event: String, listener: (data: JSONObject) -&gt; Unit)\r\n            fun disconnect()\r\n        }\r\n\r\nSocket Repository Code For Emit Chat Messages:\r\n\r\n    fun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\r\n            val message = JSONObject().apply {\r\n                put(&quot;chatId&quot;, chatId)\r\n                put(&quot;sender&quot;, sender)\r\n                put(&quot;content&quot;, content)\r\n                put(&quot;messageType&quot;, messageType)\r\n            }\r\n    \r\n            socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\r\n        }","title":"What i am doing wrong here?? why any(JSONObject::class.java) showing null","body":"<p>i am testing emitChatMessage function :</p>\n<pre><code>fun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\n    val message = JSONObject().apply {\n        put(&quot;chatId&quot;, chatId)\n        put(&quot;sender&quot;, sender)\n        put(&quot;content&quot;, content)\n        put(&quot;messageType&quot;, messageType)\n    }\n\n    socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\n}\n</code></pre>\n<p>can't understood do i wrote test right or wron here but getting any(JSONObject::class.java) error here...</p>\n<pre><code>@Test\nfun `test Emit Chat Message`() {\n    val chatId = &quot;64393f76ca21bdf658d19bd2&quot;\n    val sender = &quot;John&quot;\n    val content = &quot;Hello&quot;\n    val messageType = &quot;text&quot;\n\n    val capturedMessage = mutableListOf&lt;JSONObject&gt;()\n    `when`(socketDataSource.emit(anyString(), any(JSONObject::class.java))).thenAnswer {\n        val message = it.arguments[1] as JSONObject\n        capturedMessage.add(message)\n    }\n\n    repository.emitChatMessage(chatId, sender, content, messageType)\n}\n</code></pre>\n<p>this is the error:</p>\n<pre><code>any(JSONObject::class.java) must not be null\njava.lang.NullPointerException: any(JSONObject::class.java) must not be null\n    at cc.mekanism.chatconcept.feature_send_message.domain.repository.SocketRepositoryTest.test Emit Chat Message(SocketRepositoryTest.kt:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:40)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:60)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n<p>when anyone try to emit from socketDataSource like with any string or any json object that should capture the message so i can verify it.</p>\n<p>SocketDataSource as you guys asked in comments :</p>\n<pre><code>package cc.mekanism.chatconcept.feature_send_message.data.remote\n\n    import org.json.JSONObject\n    \n    interface SocketDataSource {\n        fun connect(userId: String, authToken: String)\n        fun emit(event: String, data: JSONObject)\n        fun on(event: String, listener: (data: JSONObject) -&gt; Unit)\n        fun disconnect()\n    }\n</code></pre>\n<p>Socket Repository Code For Emit Chat Messages:</p>\n<pre><code>fun emitChatMessage(chatId: String, sender: String, content: String, messageType: String) {\n        val message = JSONObject().apply {\n            put(&quot;chatId&quot;, chatId)\n            put(&quot;sender&quot;, sender)\n            put(&quot;content&quot;, content)\n            put(&quot;messageType&quot;, messageType)\n        }\n\n        socketDataSource.emit(CommonFunctionAndVariables.CHAT_KEYS.NEW_MESSAGE, message)\n    }\n</code></pre>\n"},{"tags":["java","tomcat","tomcat8","tomcat9"],"owner":{"account_id":13635165,"reputation":31,"user_id":9836375,"display_name":"Debottam Rakshit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694578784,"creation_date":1532587144,"question_id":51532480,"body_markdown":"Parameter &quot;socketBuffer&quot; was present in connector configuration up-till Tomcat 8([Configuration][1]). Can you please tell me equivalent parameter in Tomcat 8.5.\r\n\r\n\r\n \r\n\r\n- Tomcat 8 Configuration Link: [https://tomcat.apache.org/tomcat-8.0-doc/config/http.html][2]\r\n\r\n- Tomcat 8.5 Configuration Link: [https://tomcat.apache.org/tomcat-8.5-doc/config/http.html][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/co2IM.png\r\n  [2]: https://tomcat.apache.org/tomcat-8.0-doc/config/http.html\r\n  [3]: https://tomcat.apache.org/tomcat-8.5-doc/config/http.html","title":"Parameter socketBuffer not present in Tomcat 8.5 Connector configuration","body":"<p>Parameter \"socketBuffer\" was present in connector configuration up-till Tomcat 8(<a href=\"https://i.stack.imgur.com/co2IM.png\" rel=\"nofollow noreferrer\">Configuration</a>). Can you please tell me equivalent parameter in Tomcat 8.5.</p>\n\n<ul>\n<li><p>Tomcat 8 Configuration Link: <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/config/http.html</a></p></li>\n<li><p>Tomcat 8.5 Configuration Link: <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/http.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/config/http.html</a></p></li>\n</ul>\n"},{"tags":["java","synchronization"],"comments":[{"owner":{"account_id":1405869,"reputation":10755,"user_id":1333610,"accept_rate":86,"display_name":"arun"},"score":4,"creation_date":1412191765,"post_id":659915,"comment_id":40990426,"body_markdown":"This &quot;duplicate&quot; question and Eddie&#39;s answer below are better than the &quot;original&quot; question!","body":"This &quot;duplicate&quot; question and Eddie&#39;s answer below are better than the &quot;original&quot; question!"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1420574340,"post_id":659915,"comment_id":44021431,"body_markdown":"See also http://stackoverflow.com/questions/6616141/java-threads-locking-on-a-specific-object specifically http://stackoverflow.com/a/27806218/32453","body":"See also <a href=\"http://stackoverflow.com/questions/6616141/java-threads-locking-on-a-specific-object\" title=\"java threads locking on a specific object\">stackoverflow.com/questions/6616141/&hellip;</a> specifically <a href=\"http://stackoverflow.com/a/27806218/32453\">stackoverflow.com/a/27806218/32453</a>"},{"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"score":0,"creation_date":1515068053,"post_id":659915,"comment_id":83164714,"body_markdown":"What about using [AtomicInteger](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html)?","body":"What about using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a>?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1546321028,"post_id":659915,"comment_id":94824209,"body_markdown":"FYI, Brian Goetz mentions that one should never lock on `Integer` in his Devoxx 2018 talk, [at 54:49](https://youtu.be/4r2Wg-TY7gU?t=3289).","body":"FYI, Brian Goetz mentions that one should never lock on <code>Integer</code> in his Devoxx 2018 talk, <a href=\"https://youtu.be/4r2Wg-TY7gU?t=3289\" rel=\"nofollow noreferrer\">at 54:49</a>."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1237407645,"creation_date":1237407645,"answer_id":659935,"question_id":659915,"body_markdown":"`Integer.valueOf()` only returns cached instances for a limited range. You haven&#39;t specified your range, but in general, this won&#39;t work.\r\n\r\nHowever, I would strongly recommend you not take this approach, even if your values are in the correct range. Since these cached `Integer` instances are available to any code, you can&#39;t fully control the synchronization, which could lead to a deadlock. This is the same problem people have trying to lock on the result of `String.intern()`.\r\n\r\nThe best lock is a private variable. Since only your code can reference it, you can guarantee that no deadlocks will occur.\r\n\r\nBy the way, using a `WeakHashMap` won&#39;t work either. If the instance serving as the key is unreferenced, it will be garbage collected. And if it is strongly referenced, you could use it directly.","title":"Synchronizing on an Integer value","body":"<p><code>Integer.valueOf()</code> only returns cached instances for a limited range. You haven't specified your range, but in general, this won't work.</p>\n\n<p>However, I would strongly recommend you not take this approach, even if your values are in the correct range. Since these cached <code>Integer</code> instances are available to any code, you can't fully control the synchronization, which could lead to a deadlock. This is the same problem people have trying to lock on the result of <code>String.intern()</code>.</p>\n\n<p>The best lock is a private variable. Since only your code can reference it, you can guarantee that no deadlocks will occur.</p>\n\n<p>By the way, using a <code>WeakHashMap</code> won't work either. If the instance serving as the key is unreferenced, it will be garbage collected. And if it is strongly referenced, you could use it directly.</p>\n"},{"comments":[{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1237408545,"post_id":659939,"comment_id":473523,"body_markdown":"An implementer would have to expand this solution to synchronize the locks map and add some sort of reference count or release mechanism.","body":"An implementer would have to expand this solution to synchronize the locks map and add some sort of reference count or release mechanism."},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1237408639,"post_id":659939,"comment_id":473535,"body_markdown":"Yes, if an item is freed from the page cache, then you want to release the lock that was used for that page cache item.","body":"Yes, if an item is freed from the page cache, then you want to release the lock that was used for that page cache item."},{"owner":{"account_id":24109,"reputation":13343,"user_id":61097,"display_name":"johnny"},"score":0,"creation_date":1237446537,"post_id":659939,"comment_id":474861,"body_markdown":"Is there a race inside getCacheSyncObject?  Does synchronized take effect on the result of the call or some other object to compute the value of the expression?  There&#39;s an opening where it might end up synchronizing on 2 different objects.  The putIfAbsent from another solution would probably work.","body":"Is there a race inside getCacheSyncObject?  Does synchronized take effect on the result of the call or some other object to compute the value of the expression?  There&#39;s an opening where it might end up synchronizing on 2 different objects.  The putIfAbsent from another solution would probably work."},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1237475494,"post_id":659939,"comment_id":476172,"body_markdown":"@johnny:  Yes, I updated my answer to account for this.","body":"@johnny:  Yes, I updated my answer to account for this."},{"owner":{"account_id":30184,"reputation":100023,"user_id":82156,"accept_rate":65,"display_name":"emmby"},"score":1,"creation_date":1364599983,"post_id":659939,"comment_id":22317240,"body_markdown":"Doesn&#39;t this map grow unbounded?  Would it make sense to remove the lock object entry from the map inside the end of the synchronized block inside a finally block?","body":"Doesn&#39;t this map grow unbounded?  Would it make sense to remove the lock object entry from the map inside the end of the synchronized block inside a finally block?"},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1365441318,"post_id":659939,"comment_id":22616423,"body_markdown":"If you remove the lock object in a synchronized block, then you lose the ability to be certain you are securely locking across multiple threads.  This map only grows unbounded if you don&#39;t manage what enters the cache.  That&#39;s a separate problem though.","body":"If you remove the lock object in a synchronized block, then you lose the ability to be certain you are securely locking across multiple threads.  This map only grows unbounded if you don&#39;t manage what enters the cache.  That&#39;s a separate problem though."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1372538421,"post_id":659939,"comment_id":25236664,"body_markdown":"I recently implemented a solution like this on more complex object where I synchronize on their hash codes. (The application should not access a resource synchroniously which is mapped by different coordinates.) I use weak references in order to allow the map to be cleared from non-reqired entries and link the keys to themselfs as well. Works like a charm.","body":"I recently implemented a solution like this on more complex object where I synchronize on their hash codes. (The application should not access a resource synchroniously which is mapped by different coordinates.) I use weak references in order to allow the map to be cleared from non-reqired entries and link the keys to themselfs as well. Works like a charm."},{"owner":{"account_id":455702,"reputation":588,"user_id":854026,"accept_rate":53,"display_name":"Lebowski"},"score":0,"creation_date":1403700021,"post_id":659939,"comment_id":37758862,"body_markdown":"I currently have a problem like this in my app, and it seems a good solution for me. Does a monitoring thread which deletes any &quot;old&quot; entry in the map seems good for you ? I&#39;d have to put something like a timestamp to evaluate the &quot;age&quot; of the entry though...","body":"I currently have a problem like this in my app, and it seems a good solution for me. Does a monitoring thread which deletes any &quot;old&quot; entry in the map seems good for you ? I&#39;d have to put something like a timestamp to evaluate the &quot;age&quot; of the entry though..."},{"owner":{"account_id":1238445,"reputation":2141,"user_id":1201556,"accept_rate":66,"display_name":"Sergei Ledvanov"},"score":0,"creation_date":1451375402,"post_id":659939,"comment_id":56754905,"body_markdown":"There is one place that does not look very reliable. Namely after this line `if (p == null) {` another thread might run first and persist `Page` into a database first, so making another call to `cache.store(p);` might not make sense or even cause bugs.","body":"There is one place that does not look very reliable. Namely after this line <code>if (p == null) {</code> another thread might run first and persist <code>Page</code> into a database first, so making another call to <code>cache.store(p);</code> might not make sense or even cause bugs."},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":1,"creation_date":1452034986,"post_id":659939,"comment_id":56991275,"body_markdown":"@SergeiLedvanov: Yes, that&#39;s a race that is in the OP&#39;s code.  Making this code threadsafe would require changing getPage().  One option would be moving `Page p = cache.get(id);` and the `if` inside the `synchronized (getCacheSyncObject(id))` block.  You always pay the cost of the synchronized ... but you&#39;ll be threadsafe.","body":"@SergeiLedvanov: Yes, that&#39;s a race that is in the OP&#39;s code.  Making this code threadsafe would require changing getPage().  One option would be moving <code>Page p = cache.get(id);</code> and the <code>if</code> inside the <code>synchronized (getCacheSyncObject(id))</code> block.  You always pay the cost of the synchronized ... but you&#39;ll be threadsafe."},{"owner":{"account_id":4067153,"reputation":532,"user_id":3341645,"accept_rate":73,"display_name":"Rajith Gun Hewage"},"score":0,"creation_date":1532384431,"post_id":659939,"comment_id":89944839,"body_markdown":"Shouldn&#39;t `locks` be a static field in this case?","body":"Shouldn&#39;t <code>locks</code> be a static field in this case?"},{"owner":{"account_id":1656295,"reputation":3809,"user_id":1525759,"accept_rate":81,"display_name":"Addison"},"score":0,"creation_date":1559673804,"post_id":659939,"comment_id":99492529,"body_markdown":"Is there a reason `getCacheSyncObject` doesn&#39;t need to be synchronized? It seems like there could be a race condition, but I guess it wouldn&#39;t matter as long as keys were never removed, right?","body":"Is there a reason <code>getCacheSyncObject</code> doesn&#39;t need to be synchronized? It seems like there could be a race condition, but I guess it wouldn&#39;t matter as long as keys were never removed, right?"}],"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"comment_count":12,"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1237475476,"creation_date":1237407753,"answer_id":659939,"question_id":659915,"body_markdown":"You really don&#39;t want to synchronize on an `Integer`, since you don&#39;t have control over what instances are the same and what instances are different.  Java just doesn&#39;t provide such a facility (unless you&#39;re using Integers in a small range) that is dependable across different JVMs. If you really must synchronize on an Integer, then you need to keep a Map or Set of Integer so you can guarantee that you&#39;re getting the exact instance you want.\r\n\r\nBetter would be to create a new object, perhaps stored in a `HashMap` that is keyed by the `Integer`, to synchronize on. Something like this:\r\n\r\n    public Page getPage(Integer id) {\r\n      Page p = cache.get(id);\r\n      if (p == null) {\r\n        synchronized (getCacheSyncObject(id)) {\r\n          p = getFromDataBase(id);\r\n          cache.store(p);\r\n        }\r\n      }\r\n    }\r\n\r\n    private ConcurrentMap&lt;Integer, Integer&gt; locks = new ConcurrentHashMap&lt;Integer, Integer&gt;();\r\n\r\n    private Object getCacheSyncObject(final Integer id) {\r\n      locks.putIfAbsent(id, id);\r\n      return locks.get(id);\r\n    }\r\n\r\nTo explain this code, it uses `ConcurrentMap`, which allows use of `putIfAbsent`.  You could do this:\r\n\r\n      locks.putIfAbsent(id, new Object());\r\n\r\nbut then you incur the (small) cost of creating an Object for each access.  To avoid that, I just save the Integer itself in the `Map`.  What does this achieve?  Why is this any different from just using the Integer itself?\r\n\r\nWhen you do a `get()` from a `Map`, the keys are compared with `equals()` (or at least the method used is the equivalent of using `equals()`).  Two different Integer instances of the same value will be equal to each other.  Thus, you can pass any number of different Integer instances of &quot;`new Integer(5)`&quot; as the parameter to `getCacheSyncObject` and you will always get back only the very first instance that was passed in that contained that value.\r\n\r\nThere are reasons why you may not want to synchronize on `Integer` ... you can get into deadlocks if multiple threads are synchronizing on `Integer` objects and are thus unwittingly using the same locks when they want to use different locks.  You can fix this risk by using the\r\n\r\n      locks.putIfAbsent(id, new Object());\r\n\r\nversion and thus incurring a (very) small cost to each access to the cache.  Doing this, you guarantee that this class will be doing its synchronization on an object that no other class will be synchronizing on.  Always a Good Thing.\r\n","title":"Synchronizing on an Integer value","body":"<p>You really don't want to synchronize on an <code>Integer</code>, since you don't have control over what instances are the same and what instances are different.  Java just doesn't provide such a facility (unless you're using Integers in a small range) that is dependable across different JVMs. If you really must synchronize on an Integer, then you need to keep a Map or Set of Integer so you can guarantee that you're getting the exact instance you want.</p>\n\n<p>Better would be to create a new object, perhaps stored in a <code>HashMap</code> that is keyed by the <code>Integer</code>, to synchronize on. Something like this:</p>\n\n<pre><code>public Page getPage(Integer id) {\n  Page p = cache.get(id);\n  if (p == null) {\n    synchronized (getCacheSyncObject(id)) {\n      p = getFromDataBase(id);\n      cache.store(p);\n    }\n  }\n}\n\nprivate ConcurrentMap&lt;Integer, Integer&gt; locks = new ConcurrentHashMap&lt;Integer, Integer&gt;();\n\nprivate Object getCacheSyncObject(final Integer id) {\n  locks.putIfAbsent(id, id);\n  return locks.get(id);\n}\n</code></pre>\n\n<p>To explain this code, it uses <code>ConcurrentMap</code>, which allows use of <code>putIfAbsent</code>.  You could do this:</p>\n\n<pre><code>  locks.putIfAbsent(id, new Object());\n</code></pre>\n\n<p>but then you incur the (small) cost of creating an Object for each access.  To avoid that, I just save the Integer itself in the <code>Map</code>.  What does this achieve?  Why is this any different from just using the Integer itself?</p>\n\n<p>When you do a <code>get()</code> from a <code>Map</code>, the keys are compared with <code>equals()</code> (or at least the method used is the equivalent of using <code>equals()</code>).  Two different Integer instances of the same value will be equal to each other.  Thus, you can pass any number of different Integer instances of \"<code>new Integer(5)</code>\" as the parameter to <code>getCacheSyncObject</code> and you will always get back only the very first instance that was passed in that contained that value.</p>\n\n<p>There are reasons why you may not want to synchronize on <code>Integer</code> ... you can get into deadlocks if multiple threads are synchronizing on <code>Integer</code> objects and are thus unwittingly using the same locks when they want to use different locks.  You can fix this risk by using the</p>\n\n<pre><code>  locks.putIfAbsent(id, new Object());\n</code></pre>\n\n<p>version and thus incurring a (very) small cost to each access to the cache.  Doing this, you guarantee that this class will be doing its synchronization on an object that no other class will be synchronizing on.  Always a Good Thing.</p>\n"},{"comments":[{"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"score":0,"creation_date":1237408176,"post_id":659955,"comment_id":473499,"body_markdown":"Yes, as I mentioned, I could use some sort of map &lt;Integer, Object&gt; where the objects would be private locks. I was more interested in finding out if there was some way in java of guaranteeing a specific Integer instance.","body":"Yes, as I mentioned, I could use some sort of map &lt;Integer, Object&gt; where the objects would be private locks. I was more interested in finding out if there was some way in java of guaranteeing a specific Integer instance."}],"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237407981,"creation_date":1237407981,"answer_id":659955,"question_id":659915,"body_markdown":"How about a ConcurrentHashMap with the Integer objects as keys?","title":"Synchronizing on an Integer value","body":"<p>How about a ConcurrentHashMap with the Integer objects as keys?</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237408255,"creation_date":1237408255,"answer_id":659973,"question_id":659915,"body_markdown":"You could have a look at [this code][1] for creating a mutex from an ID. The code was written for String IDs, but could easily be edited for Integer objects.\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.com/2008/04/java-synchronizing-on-transient-id.html","title":"Synchronizing on an Integer value","body":"<p>You could have a look at <a href=\"http://illegalargumentexception.blogspot.com/2008/04/java-synchronizing-on-transient-id.html\" rel=\"nofollow noreferrer\">this code</a> for creating a mutex from an ID. The code was written for String IDs, but could easily be edited for Integer objects.</p>\n"},{"comments":[{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1237422384,"post_id":660002,"comment_id":474172,"body_markdown":"+1 I essentially like this approach. There&#39;s just the potential issue that I mention in my post below that under high contention, waiting threads for ALL IDs are woken up when any one ID becomes available.","body":"+1 I essentially like this approach. There&#39;s just the potential issue that I mention in my post below that under high contention, waiting threads for ALL IDs are woken up when any one ID becomes available."},{"owner":{"account_id":26104,"reputation":2426,"user_id":67637,"display_name":"Antonio"},"score":0,"creation_date":1237429640,"post_id":660002,"comment_id":474417,"body_markdown":"This may not be a real problem if you don&#39;t have too many threads. But if that&#39;s the case you can use Object.notify() and use Object.wait(maxTime) just to make sure no caller gets stuck ever.","body":"This may not be a real problem if you don&#39;t have too many threads. But if that&#39;s the case you can use Object.notify() and use Object.wait(maxTime) just to make sure no caller gets stuck ever."},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":1,"creation_date":1237437695,"post_id":660002,"comment_id":474657,"body_markdown":"Agree probably not too much of a problem under low contention. Unfortunately, I think the solution you mention could actually be worse...!","body":"Agree probably not too much of a problem under low contention. Unfortunately, I think the solution you mention could actually be worse...!"},{"owner":{"account_id":26104,"reputation":2426,"user_id":67637,"display_name":"Antonio"},"score":0,"creation_date":1237471338,"post_id":660002,"comment_id":475842,"body_markdown":"Keep in mind that &quot;real while(){wait...} contention&quot; happens only to acquire the lock, not during load/store. This means that if you have 100 threads trying to acquire the lock at the same time then you have contention anyway","body":"Keep in mind that &quot;real while(){wait...} contention&quot; happens only to acquire the lock, not during load/store. This means that if you have 100 threads trying to acquire the lock at the same time then you have contention anyway"},{"owner":{"account_id":26104,"reputation":2426,"user_id":67637,"display_name":"Antonio"},"score":0,"creation_date":1237471532,"post_id":660002,"comment_id":475855,"body_markdown":"Also, the maxTime value is there simply to avoid potential problems. I see a different problem though: the lack of fairness to get the lock. This really may be a problem, not what you mention, IMHO. A general solution (for all scenarios) would require a complete rewrite I admit.","body":"Also, the maxTime value is there simply to avoid potential problems. I see a different problem though: the lack of fairness to get the lock. This really may be a problem, not what you mention, IMHO. A general solution (for all scenarios) would require a complete rewrite I admit."}],"tags":[],"owner":{"account_id":26104,"reputation":2426,"user_id":67637,"display_name":"Antonio"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1237409099,"creation_date":1237408765,"answer_id":660002,"question_id":659915,"body_markdown":"Using synchronized on an Integer sounds really wrong by design.\r\n\r\nIf you need to synchronize each item individually only during retrieve/store you can create a Set and store there the currently locked items. In another words, \r\n\r\n    // this contains only those IDs that are currently locked, that is, this\r\n    // will contain only very few IDs most of the time\r\n    Set&lt;Integer&gt; activeIds = ...\r\n    \r\n    Object retrieve(Integer id) {\r\n    \t// acquire &quot;lock&quot; on item #id\r\n        synchronized(activeIds) {\r\n    \t\twhile(activeIds.contains(id)) {\r\n    \t\t\ttry { \r\n    \t\t\t\tactiveIds.wait();\t\r\n    \t\t\t} catch(InterruptedExcption e){...}\r\n    \t\t}\r\n    \t\tactiveIds.add(id);\r\n        }\r\n    \ttry {\r\n    \t\r\n    \t\t// do the retrieve here...\r\n    \t\t\r\n    \t\treturn value;\r\n    \t\t\r\n    \t} finally {\r\n    \t\t// release lock on item #id\r\n       \t\tsynchronized(activeIds) { \r\n    \t\t\tactiveIds.remove(id); \r\n    \t\t\tactiveIds.notifyAll(); \r\n    \t\t}\t\r\n    \t}\t\r\n    }\r\n\r\nThe same goes to the store. \r\n\r\nThe bottom line is: there is no single line of code that solves this problem exactly the way you need.\r\n","title":"Synchronizing on an Integer value","body":"<p>Using synchronized on an Integer sounds really wrong by design.</p>\n\n<p>If you need to synchronize each item individually only during retrieve/store you can create a Set and store there the currently locked items. In another words, </p>\n\n<pre><code>// this contains only those IDs that are currently locked, that is, this\n// will contain only very few IDs most of the time\nSet&lt;Integer&gt; activeIds = ...\n\nObject retrieve(Integer id) {\n    // acquire \"lock\" on item #id\n    synchronized(activeIds) {\n        while(activeIds.contains(id)) {\n            try { \n                activeIds.wait();   \n            } catch(InterruptedExcption e){...}\n        }\n        activeIds.add(id);\n    }\n    try {\n\n        // do the retrieve here...\n\n        return value;\n\n    } finally {\n        // release lock on item #id\n        synchronized(activeIds) { \n            activeIds.remove(id); \n            activeIds.notifyAll(); \n        }   \n    }   \n}\n</code></pre>\n\n<p>The same goes to the store. </p>\n\n<p>The bottom line is: there is no single line of code that solves this problem exactly the way you need.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1500620898,"creation_date":1237408818,"answer_id":660006,"question_id":659915,"body_markdown":"Use a thread-safe map, such as `ConcurrentHashMap`. This will allow you to manipulate a map safely, but use a different lock to do the real computation. In this way you can have multiple computations running simultaneous with a single map.\r\n\r\nUse `ConcurrentMap.putIfAbsent`, but instead of placing the actual value, use a `Future` with computationally-light construction instead. Possibly the `FutureTask` implementation.  Run the computation and then `get` the result, which will thread-safely block until done.","title":"Synchronizing on an Integer value","body":"<p>Use a thread-safe map, such as <code>ConcurrentHashMap</code>. This will allow you to manipulate a map safely, but use a different lock to do the real computation. In this way you can have multiple computations running simultaneous with a single map.</p>\n\n<p>Use <code>ConcurrentMap.putIfAbsent</code>, but instead of placing the actual value, use a <code>Future</code> with computationally-light construction instead. Possibly the <code>FutureTask</code> implementation.  Run the computation and then <code>get</code> the result, which will thread-safely block until done.</p>\n"},{"tags":[],"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1551945625,"creation_date":1237409741,"answer_id":660063,"question_id":659915,"body_markdown":"See section 5.6 in [Java Concurrency in Practice][1]: &quot;Building an efficient, scalable, result cache&quot;. It deals with the exact issue you are trying to solve. In particular, check out the memoizer pattern.\r\n\r\n\r\n\r\n[![alt text][2]][2]  \n&lt;sub&gt;(source: [umd.edu](http://www.cs.umd.edu/class/fall2008/cmsc433/jcipMed.jpg))&lt;/sub&gt;  \r\n\r\n\r\n  [1]: http://jcip.net/\r\n  [2]: https://i.stack.imgur.com/QxJbq.jpg","title":"Synchronizing on an Integer value","body":"<p>See section 5.6 in <a href=\"http://jcip.net/\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a>: \"Building an efficient, scalable, result cache\". It deals with the exact issue you are trying to solve. In particular, check out the memoizer pattern.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QxJbq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxJbq.jpg\" alt=\"alt text\"></a><br>\n<sub>(source: <a href=\"http://www.cs.umd.edu/class/fall2008/cmsc433/jcipMed.jpg\" rel=\"nofollow noreferrer\">umd.edu</a>)</sub>  </p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237422264,"creation_date":1237422264,"answer_id":660612,"question_id":659915,"body_markdown":"As you can see from the variety of answers, there are various ways to skin this cat:\r\n\r\n- Goetz et al&#39;s approach of keeping a cache of FutureTasks works quite well in situations like this where you&#39;re &quot;caching something anyway&quot; so don&#39;t mind building up a map of FutureTask objects (and if you did mind the map growing, at least it&#39;s easy to make pruning it concurrent)\r\n- As a general answer to &quot;how to lock on ID&quot;, the approach outlined by Antonio has the advantage that it&#39;s obvious when the map of locks is added to/removed from.\r\n\r\nYou may need to watch out for a potential issue with Antonio&#39;s *implementation*, namely that the notifyAll() will wake up threads waiting on *all* IDs when *one* of them becomes available, which may not scale very well under high contention. In principle, I think you can fix that by having a Condition object for each currently locked ID, which is then the thing that you await/signal. Of course, if in practice there&#39;s rarely more than one ID being waited on at any given time, then this isn&#39;t an issue.","title":"Synchronizing on an Integer value","body":"<p>As you can see from the variety of answers, there are various ways to skin this cat:</p>\n\n<ul>\n<li>Goetz et al's approach of keeping a cache of FutureTasks works quite well in situations like this where you're \"caching something anyway\" so don't mind building up a map of FutureTask objects (and if you did mind the map growing, at least it's easy to make pruning it concurrent)</li>\n<li>As a general answer to \"how to lock on ID\", the approach outlined by Antonio has the advantage that it's obvious when the map of locks is added to/removed from.</li>\n</ul>\n\n<p>You may need to watch out for a potential issue with Antonio's <em>implementation</em>, namely that the notifyAll() will wake up threads waiting on <em>all</em> IDs when <em>one</em> of them becomes available, which may not scale very well under high contention. In principle, I think you can fix that by having a Condition object for each currently locked ID, which is then the thing that you await/signal. Of course, if in practice there's rarely more than one ID being waited on at any given time, then this isn't an issue.</p>\n"},{"tags":[],"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237434498,"creation_date":1237434498,"answer_id":661004,"question_id":659915,"body_markdown":"Steve, \r\n\r\nyour proposed code has a bunch of problems with synchronization. (Antonio&#39;s does as well).\r\n\r\nTo summarize:\r\n\r\n 1. You need to cache an expensive\r\n    object.\r\n 2. You need to make sure that while one thread is doing the retrieval, another thread does not also attempt to retrieve the same object.\r\n 3. That for n-threads all attempting to get the object only 1 object is ever retrieved and returned.\r\n 4. That for threads requesting different objects that they do not contend with each other.\r\n\r\npseudo code to make this happen (using a ConcurrentHashMap as the cache):\r\n\r\n    ConcurrentMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt; cache = new ConcurrentHashMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt;;\r\n    \r\n    public Page getPage(Integer id) {\r\n        Future&lt;Page&gt; myFuture = new Future&lt;Page&gt;();\r\n        cache.putIfAbsent(id, myFuture);\r\n        Future&lt;Page&gt; actualFuture = cache.get(id);\r\n        if ( actualFuture == myFuture ) {\r\n            // I am the first w00t!\r\n            Page page = getFromDataBase(id);\r\n            myFuture.set(page);\r\n        }\r\n        return actualFuture.get();\r\n    }\r\n\r\nNote: \r\n\r\n 1. java.util.concurrent.Future is an interface\r\n 2. java.util.concurrent.Future does not actually have a set() but look at the existing classes that implement Future to understand how to implement your own Future (Or use FutureTask)\r\n 3. Pushing the actual retrieval to a worker thread will almost certainly be a good idea.\r\n\r\n","title":"Synchronizing on an Integer value","body":"<p>Steve, </p>\n\n<p>your proposed code has a bunch of problems with synchronization. (Antonio's does as well).</p>\n\n<p>To summarize:</p>\n\n<ol>\n<li>You need to cache an expensive\nobject.</li>\n<li>You need to make sure that while one thread is doing the retrieval, another thread does not also attempt to retrieve the same object.</li>\n<li>That for n-threads all attempting to get the object only 1 object is ever retrieved and returned.</li>\n<li>That for threads requesting different objects that they do not contend with each other.</li>\n</ol>\n\n<p>pseudo code to make this happen (using a ConcurrentHashMap as the cache):</p>\n\n<pre><code>ConcurrentMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt; cache = new ConcurrentHashMap&lt;Integer, java.util.concurrent.Future&lt;Page&gt;&gt;;\n\npublic Page getPage(Integer id) {\n    Future&lt;Page&gt; myFuture = new Future&lt;Page&gt;();\n    cache.putIfAbsent(id, myFuture);\n    Future&lt;Page&gt; actualFuture = cache.get(id);\n    if ( actualFuture == myFuture ) {\n        // I am the first w00t!\n        Page page = getFromDataBase(id);\n        myFuture.set(page);\n    }\n    return actualFuture.get();\n}\n</code></pre>\n\n<p>Note: </p>\n\n<ol>\n<li>java.util.concurrent.Future is an interface</li>\n<li>java.util.concurrent.Future does not actually have a set() but look at the existing classes that implement Future to understand how to implement your own Future (Or use FutureTask)</li>\n<li>Pushing the actual retrieval to a worker thread will almost certainly be a good idea.</li>\n</ol>\n"}],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55888,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":659939,"answer_count":9,"score":38,"last_activity_date":1694577740,"creation_date":1237407347,"question_id":659915,"body_markdown":"Suppose I want to lock based on an integer id value. In this case, there&#39;s a function that pulls a value from a cache and does a fairly expensive retrieve/store into the cache if the value isn&#39;t there.\r\n\r\nThe existing code isn&#39;t synchronized and could potentially trigger multiple retrieve/store operations:  \r\n\r\n    //psuedocode\r\n    public Page getPage (Integer id){\r\n       Page p = cache.get(id);\r\n       if (p==null)\r\n       {\r\n          p=getFromDataBase(id);\r\n          cache.store(p);\r\n       }\r\n    }\r\n\r\nWhat I&#39;d like to do is synchronize the retrieve on the id, e.g. \r\n\r\n       if (p==null)\r\n       {\r\n           synchronized (id)\r\n           {\r\n            ..retrieve, store\r\n           }\r\n       }\r\n\r\nUnfortunately this won&#39;t work because 2 separate calls can have the same Integer id value but a different Integer object, so they won&#39;t share the lock, and no synchronization will happen. \r\n\r\nIs there a simple way of insuring that you have the same Integer instance? For example, will this work:\r\n\r\n     syncrhonized (Integer.valueOf(id.intValue())){\r\n\r\nThe javadoc for Integer.valueOf() seems to imply that you&#39;re likely to get the same instance, but that doesn&#39;t look like a guarantee:\r\n\r\n&gt; Returns a Integer instance\r\n&gt; representing the specified int value.\r\n&gt; If a new Integer instance is not\r\n&gt; required, this method should generally\r\n&gt; be used in preference to the\r\n&gt; constructor Integer(int), as this\r\n&gt; method is likely to yield\r\n&gt; significantly better space and time\r\n&gt; performance by caching frequently\r\n&gt; requested values.\r\n\r\nSo, any suggestions on how to get an Integer instance that&#39;s guaranteed to be the same, other than the more elaborate solutions like keeping a WeakHashMap of Lock objects keyed to the int? (nothing wrong with that, it just seems like there must be an obvious one-liner than I&#39;m missing).\r\n\r\n","title":"Synchronizing on an Integer value","body":"<p>Suppose I want to lock based on an integer id value. In this case, there's a function that pulls a value from a cache and does a fairly expensive retrieve/store into the cache if the value isn't there.</p>\n<p>The existing code isn't synchronized and could potentially trigger multiple retrieve/store operations:</p>\n<pre><code>//psuedocode\npublic Page getPage (Integer id){\n   Page p = cache.get(id);\n   if (p==null)\n   {\n      p=getFromDataBase(id);\n      cache.store(p);\n   }\n}\n</code></pre>\n<p>What I'd like to do is synchronize the retrieve on the id, e.g.</p>\n<pre><code>   if (p==null)\n   {\n       synchronized (id)\n       {\n        ..retrieve, store\n       }\n   }\n</code></pre>\n<p>Unfortunately this won't work because 2 separate calls can have the same Integer id value but a different Integer object, so they won't share the lock, and no synchronization will happen.</p>\n<p>Is there a simple way of insuring that you have the same Integer instance? For example, will this work:</p>\n<pre><code> syncrhonized (Integer.valueOf(id.intValue())){\n</code></pre>\n<p>The javadoc for Integer.valueOf() seems to imply that you're likely to get the same instance, but that doesn't look like a guarantee:</p>\n<blockquote>\n<p>Returns a Integer instance\nrepresenting the specified int value.\nIf a new Integer instance is not\nrequired, this method should generally\nbe used in preference to the\nconstructor Integer(int), as this\nmethod is likely to yield\nsignificantly better space and time\nperformance by caching frequently\nrequested values.</p>\n</blockquote>\n<p>So, any suggestions on how to get an Integer instance that's guaranteed to be the same, other than the more elaborate solutions like keeping a WeakHashMap of Lock objects keyed to the int? (nothing wrong with that, it just seems like there must be an obvious one-liner than I'm missing).</p>\n"},{"tags":["java","asynchronous","async-await","gwt","gxt"],"comments":[{"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"score":3,"creation_date":1694609696,"post_id":77093928,"comment_id":135913550,"body_markdown":"GWT is single threaded on client side. So you call FunctionB first and the rest of the code ist called directly. It will not wait for onfailure or onSuccess to complete. This happens asynchronously at some point of time. Because you don&#39;t know what happens on server side. Maybe the network is slow and what ever you can imagine. If you have a dependency between the B and A und have to call A in the onSuccess of B.","body":"GWT is single threaded on client side. So you call FunctionB first and the rest of the code ist called directly. It will not wait for onfailure or onSuccess to complete. This happens asynchronously at some point of time. Because you don&#39;t know what happens on server side. Maybe the network is slow and what ever you can imagine. If you have a dependency between the B and A und have to call A in the onSuccess of B."}],"owner":{"account_id":18590045,"reputation":229,"user_id":13547487,"display_name":"Erik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694576732,"creation_date":1694576732,"question_id":77093928,"body_markdown":"Fairly new to GWT and Asynchronous Programming.\r\n\r\nReading through the [GWT documentation on RPC][1] and based on that, I have 2 Asynchronous functions that I&#39;ve implemented in my Java file.\r\n\r\nThere is a slight dependency between the 2. The idea is that Function A has the capability to use the data generated by Function B, but will still work regardless. This will allow Function A to be a bit flexible in running.\r\nTo that extend, I made an ```if-else``` statement to check whether Function A will use the data from Function B or otherwise.\r\n\r\nFrom what I&#39;ve seen however, they will both run in parallel with each other, so Function A will process regardless whether Function B is done, resulting in a problematic output. Function B, which does abit more processing, will usually complete only after Function A is completed.\r\n\r\nHow do I make it so that Function A will not run until Function B is completed, especially if the condition to use the results from Function B is fulfilled?\r\n\r\n    ExportData export = new ExportData();\r\n    final List&lt;?&gt; theResult = new ArrayList&lt;Object&gt;();\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tCommonService.Util.getInstance().FunctionB(&lt;inputData&gt;, new AsyncCallback&lt;List&lt;?&gt;&gt;() {\r\n\t\t\t\t\t    public void onFailure(Throwable caught) {\r\n\t\t\t\t\t        // TODO: Do something with errors.\r\n\t\t\t\t\t    \tcaught.fillInStackTrace();\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t      public void onSuccess(List&lt;?&gt; result){\r\n\t\t\t\t\t        for (Object model : result) { \r\n\t\t\t\t\t        \t((ExportData) theResult).addData((BaseModel)model);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} catch (ApplicationException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (&lt;inputData&gt; != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (Object model : theResult) {\r\n\t\t\t\t\t\texport.addData((BaseModel)model);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfor (BaseModel model : &lt;alternateResults&gt;) {\r\n\t\t\t\t\t\texport.addData(model);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\tCommonService.Util.getInstance().FunctionA(export, WidgetUtils.FILE_DOWNLOAD_CALLBACK);\r\n\r\n\r\n  [1]: https://www.gwtproject.org/doc/latest/tutorial/RPC.html","title":"GWT Asynchronous Wait for Callback","body":"<p>Fairly new to GWT and Asynchronous Programming.</p>\n<p>Reading through the <a href=\"https://www.gwtproject.org/doc/latest/tutorial/RPC.html\" rel=\"nofollow noreferrer\">GWT documentation on RPC</a> and based on that, I have 2 Asynchronous functions that I've implemented in my Java file.</p>\n<p>There is a slight dependency between the 2. The idea is that Function A has the capability to use the data generated by Function B, but will still work regardless. This will allow Function A to be a bit flexible in running.\nTo that extend, I made an <code>if-else</code> statement to check whether Function A will use the data from Function B or otherwise.</p>\n<p>From what I've seen however, they will both run in parallel with each other, so Function A will process regardless whether Function B is done, resulting in a problematic output. Function B, which does abit more processing, will usually complete only after Function A is completed.</p>\n<p>How do I make it so that Function A will not run until Function B is completed, especially if the condition to use the results from Function B is fulfilled?</p>\n<pre><code>ExportData export = new ExportData();\nfinal List&lt;?&gt; theResult = new ArrayList&lt;Object&gt;();\n\n            try {\n                CommonService.Util.getInstance().FunctionB(&lt;inputData&gt;, new AsyncCallback&lt;List&lt;?&gt;&gt;() {\n                    public void onFailure(Throwable caught) {\n                        // TODO: Do something with errors.\n                        caught.fillInStackTrace();\n                      }\n                      public void onSuccess(List&lt;?&gt; result){\n                        for (Object model : result) { \n                            ((ExportData) theResult).addData((BaseModel)model);\n                        }\n                      }\n                    }\n                );\n\n            } catch (ApplicationException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n\n            if (&lt;inputData&gt; != null)\n            {\n                for (Object model : theResult) {\n                    export.addData((BaseModel)model);\n                }\n            }\n            else{\n                for (BaseModel model : &lt;alternateResults&gt;) {\n                    export.addData(model);\n                }\n            }\n            \n\n            CommonService.Util.getInstance().FunctionA(export, WidgetUtils.FILE_DOWNLOAD_CALLBACK);\n</code></pre>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1694569668,"post_id":77093575,"comment_id":135907433,"body_markdown":"it works if you use equals() instead","body":"it works if you use equals() instead"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1694577133,"post_id":77093575,"comment_id":135907949,"body_markdown":"In Java, the `==` operator tests for reference equality (i.e., are the two references pointing to the exact same object in memory). You likely don&#39;t want that, and instead want to test for logical equality. In that case, use the `Object#equals(Object)` method. But that assumes the class of whichever object `equals` was called on has overridden the method to give a sensible implementation (by default, the method behaves the same as `==`).","body":"In Java, the <code>==</code> operator tests for reference equality (i.e., are the two references pointing to the exact same object in memory). You likely don&#39;t want that, and instead want to test for logical equality. In that case, use the <code>Object#equals(Object)</code> method. But that assumes the class of whichever object <code>equals</code> was called on has overridden the method to give a sensible implementation (by default, the method behaves the same as <code>==</code>)."}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694576526,"creation_date":1694576526,"answer_id":77093913,"question_id":77093575,"body_markdown":"As stated in the comments, you have to compare them by using `equals` \r\n(`e.equals(map.firstEntry())`).\r\n\r\nIt is because it wraps the map entry in a new `AbstractMap.SimpleImmutableEntry` for each of the two calls. Hence the two references of the `Map.Entry` (`e` and `map.firstEntry()` in your code) are different, but they are *equal*. \r\n\r\nHere&#39;s the source code of `TreeMap`&#39;s `higherEntry` and `firstEntry`.\r\n\r\n```\r\npublic Map.Entry&lt;K,V&gt; higherEntry(K key) {\r\n    return exportEntry(getHigherEntry(key));\r\n}\r\n\r\npublic Map.Entry&lt;K,V&gt; firstEntry() {\r\n    return exportEntry(getFirstEntry());\r\n}\r\n```\r\nThe `exportEntry` static method wraps the `TreeMap.Entry` in a new `SimpleImmutableEntry` object.\r\n\r\n```\r\nstatic &lt;K,V&gt; Map.Entry&lt;K,V&gt; exportEntry(TreeMap.Entry&lt;K,V&gt; e) {\r\n    return (e == null) ? null :\r\n        new AbstractMap.SimpleImmutableEntry&lt;&gt;(e);\r\n}\r\n````","title":"Why firstEntry() is not the first entry of a map?","body":"<p>As stated in the comments, you have to compare them by using <code>equals</code>\n(<code>e.equals(map.firstEntry())</code>).</p>\n<p>It is because it wraps the map entry in a new <code>AbstractMap.SimpleImmutableEntry</code> for each of the two calls. Hence the two references of the <code>Map.Entry</code> (<code>e</code> and <code>map.firstEntry()</code> in your code) are different, but they are <em>equal</em>.</p>\n<p>Here's the source code of <code>TreeMap</code>'s <code>higherEntry</code> and <code>firstEntry</code>.</p>\n<pre><code>public Map.Entry&lt;K,V&gt; higherEntry(K key) {\n    return exportEntry(getHigherEntry(key));\n}\n\npublic Map.Entry&lt;K,V&gt; firstEntry() {\n    return exportEntry(getFirstEntry());\n}\n</code></pre>\n<p>The <code>exportEntry</code> static method wraps the <code>TreeMap.Entry</code> in a new <code>SimpleImmutableEntry</code> object.</p>\n<pre><code>static &lt;K,V&gt; Map.Entry&lt;K,V&gt; exportEntry(TreeMap.Entry&lt;K,V&gt; e) {\n    return (e == null) ? null :\n        new AbstractMap.SimpleImmutableEntry&lt;&gt;(e);\n}\n</code></pre>\n"}],"owner":{"account_id":29427293,"reputation":11,"user_id":22547672,"display_name":"tasty0tomato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77093913,"answer_count":1,"score":0,"last_activity_date":1694576526,"creation_date":1694569309,"question_id":77093575,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n    TreeMap&lt;Integer,Integer&gt;map=new TreeMap&lt;&gt;();\r\n    map.put(1,2);\r\n    Map.Entry&lt;Integer, Integer&gt; e = map.higherEntry(0);\r\n    System.out.println(e==map.firstEntry());\r\n}\r\n```\r\n\r\nThe entry of *e* and *map.firstEntry()* is both *(1,2)*, but they are not the same since the *System.out.println()* function will print *false*. I am really confused.\r\n\r\n\r\nI want to get a *true*.","title":"Why firstEntry() is not the first entry of a map?","body":"<pre><code>public static void main(String[] args) {\n    TreeMap&lt;Integer,Integer&gt;map=new TreeMap&lt;&gt;();\n    map.put(1,2);\n    Map.Entry&lt;Integer, Integer&gt; e = map.higherEntry(0);\n    System.out.println(e==map.firstEntry());\n}\n</code></pre>\n<p>The entry of <em>e</em> and <em>map.firstEntry()</em> is both <em>(1,2)</em>, but they are not the same since the <em>System.out.println()</em> function will print <em>false</em>. I am really confused.</p>\n<p>I want to get a <em>true</em>.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":8873267,"reputation":422,"user_id":6626365,"display_name":"Sridhar Karuppusamy"},"score":0,"creation_date":1591470375,"post_id":62236487,"comment_id":110070705,"body_markdown":"Please confirm my understanding is correct or not, if you create three separate model for this implementation then call based model only need to call like if call SupportStaff that only model you need right?","body":"Please confirm my understanding is correct or not, if you create three separate model for this implementation then call based model only need to call like if call SupportStaff that only model you need right?"},{"owner":{"account_id":8873267,"reputation":422,"user_id":6626365,"display_name":"Sridhar Karuppusamy"},"score":0,"creation_date":1591470480,"post_id":62236487,"comment_id":110070755,"body_markdown":"If it’s your requirement means use fetchtype LAZY in your model creation it’s only fetch the data at getter method call","body":"If it’s your requirement means use fetchtype LAZY in your model creation it’s only fetch the data at getter method call"},{"owner":{"account_id":18781199,"reputation":43,"user_id":13695823,"display_name":"Shershah"},"score":0,"creation_date":1591472134,"post_id":62236487,"comment_id":110071350,"body_markdown":"At a time , I will fetch the records only from 1 child table","body":"At a time , I will fetch the records only from 1 child table"},{"owner":{"account_id":8873267,"reputation":422,"user_id":6626365,"display_name":"Sridhar Karuppusamy"},"score":0,"creation_date":1591504645,"post_id":62236487,"comment_id":110078166,"body_markdown":"Then you use JoinColumn with fetchType Lazy","body":"Then you use JoinColumn with fetchType Lazy"}],"answers":[{"comments":[{"owner":{"account_id":18781199,"reputation":43,"user_id":13695823,"display_name":"Shershah"},"score":0,"creation_date":1591532763,"post_id":62236753,"comment_id":110085926,"body_markdown":"I have composite primary key in my primary tables. I want the same as foreign key in my three child tables where relation is oneToMany. How can I map composite primary key with foreign key in three tables","body":"I have composite primary key in my primary tables. I want the same as foreign key in my three child tables where relation is oneToMany. How can I map composite primary key with foreign key in three tables"}],"tags":[],"owner":{"account_id":6196386,"reputation":652,"user_id":4827548,"accept_rate":0,"display_name":"codeogeek"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591499862,"creation_date":1591470554,"answer_id":62236753,"question_id":62236487,"body_markdown":"From what I have understood you should add mapping annotations as per your use case\r\n\r\n`@OneToMany` / `@ManyToMany` / and others to the columns you want as foreign keys\r\n\r\nwhile fetching, you will need JOIN queries to fetch the data\r\n\r\nrefer to [JPA join column](https://www.baeldung.com/jpa-join-column) \r\nand [JPQL inner join](https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/jpql-inner-join.html).\r\n\r\n","title":"Springboot JPA Same foreign key in Three different similar tables","body":"<p>From what I have understood you should add mapping annotations as per your use case</p>\n\n<p><code>@OneToMany</code> / <code>@ManyToMany</code> / and others to the columns you want as foreign keys</p>\n\n<p>while fetching, you will need JOIN queries to fetch the data</p>\n\n<p>refer to <a href=\"https://www.baeldung.com/jpa-join-column\" rel=\"nofollow noreferrer\">JPA join column</a> \nand <a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/jpql-inner-join.html\" rel=\"nofollow noreferrer\">JPQL inner join</a>.</p>\n"}],"owner":{"account_id":18781199,"reputation":43,"user_id":13695823,"display_name":"Shershah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694575076,"creation_date":1591469277,"question_id":62236487,"body_markdown":"I have 4 tables. One table is mapped to 3 similar tables. The first table has a composite primary key which I want to map to three tables as a foreign key. All the fields are the same in the three child tables.\r\n\r\n    class Company{\r\n        @Id\r\n        private String companyId;\r\n        @Id\r\n        private String stateId;\r\n        private String company Name;\r\n    }\r\n\r\n    class Managers{\r\n        @Id\r\n        private String id;\r\n        //foreign key\r\n        private String companyId;\r\n        //foreign key\r\n        private String stateId;\r\n        private Int salary;\r\n    }\r\n    \r\n    class SupportStaff{\r\n        @Id\r\n        private String id;\r\n        //foreign key\r\n        private String companyId;\r\n        //foreign key\r\n        private String stateId;\r\n        private Int salary;\r\n    }\r\n\r\nThe data is huge since I am retrieving the value one at a time and on different rules. I have to keep them separate. Is it possible to map it and get it based on rest? If I want a list of managers, I want to retrieve from the managers table and from SupportStaff table if I want support staff details.\r\n\r\n\r\n","title":"Springboot JPA Same foreign key in Three different similar tables","body":"<p>I have 4 tables. One table is mapped to 3 similar tables. The first table has a composite primary key which I want to map to three tables as a foreign key. All the fields are the same in the three child tables.</p>\n<pre><code>class Company{\n    @Id\n    private String companyId;\n    @Id\n    private String stateId;\n    private String company Name;\n}\n\nclass Managers{\n    @Id\n    private String id;\n    //foreign key\n    private String companyId;\n    //foreign key\n    private String stateId;\n    private Int salary;\n}\n\nclass SupportStaff{\n    @Id\n    private String id;\n    //foreign key\n    private String companyId;\n    //foreign key\n    private String stateId;\n    private Int salary;\n}\n</code></pre>\n<p>The data is huge since I am retrieving the value one at a time and on different rules. I have to keep them separate. Is it possible to map it and get it based on rest? If I want a list of managers, I want to retrieve from the managers table and from SupportStaff table if I want support staff details.</p>\n"},{"tags":["java","eclipse","ubuntu","terminal","ubuntu-16.04"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1694497773,"post_id":77085999,"comment_id":135894678,"body_markdown":"That is an extremely old version of Eclipse and won&#39;t run with Java 17. Install the current version directly from the official site https://www.eclipse.org/downloads/","body":"That is an extremely old version of Eclipse and won&#39;t run with Java 17. Install the current version directly from the official site <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">eclipse.org/downloads</a>"},{"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"score":0,"creation_date":1694517185,"post_id":77085999,"comment_id":135898260,"body_markdown":"Thank you for your response. Will do it and get back.","body":"Thank you for your response. Will do it and get back."},{"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"score":0,"creation_date":1694541148,"post_id":77085999,"comment_id":135903760,"body_markdown":"I tried it. Now it shows JVM terminated. Exit code = 127","body":"I tried it. Now it shows JVM terminated. Exit code = 127"},{"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"score":0,"creation_date":1694574600,"post_id":77085999,"comment_id":135907786,"body_markdown":"https://i.stack.imgur.com/MGTr1.png","body":"<a href=\"https://i.stack.imgur.com/MGTr1.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/MGTr1.png</a>"}],"owner":{"account_id":10306569,"reputation":1,"user_id":7603627,"display_name":"Miriam Samson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694574566,"creation_date":1694490826,"question_id":77085999,"body_markdown":"I installed Eclipse through the Ubuntu Software Center of Ubuntu 16.04 LTS and got the below error on opening. \r\nMy jdk version is 17:\r\nopenjdk 17-ea 2021-09-14\r\nOpenJDK Runtime Environment (build 17-ea+11-Ubuntu-116.042)\r\nOpenJDK 64-Bit Server VM (build 17-ea+11-Ubuntu-116.042, mixed mode, sharing)\r\n\r\nCan anyone please help me solve it?\r\n\r\n[Screenshot of the error](https://i.stack.imgur.com/SOEnM.png)\r\n```\r\nJVM terminated. Exit code=1\r\n    /usr/bin/java\r\n    -Xms40m\r\n    -Xmx384m\r\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\r\n    -XX:MaxPermSize=256m\r\n    -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\r\n    -os linux\r\n    -ws gtk\r\n    -arch x86_64\r\n    -showsplash /usr/lib/eclipse//plugins/org.eclipse.platform_3.8.1.dist/splash.bmp\r\n    -launcher /usr/lib/eclipse/eclipse\r\n    -name Eclipse\r\n    --launcher.library     \r\n  /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.200.dist/eclipse_1503.so\r\n    -startup /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\r\n    --launcher.overrideVmargs\r\n    -exitdata 2b8011\r\n    -vm /usr/bin/java\r\n    -vmargs\r\n    -Xms40m\r\n    -Xmx384m\r\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\r\n   -XX:MaxPermSize=256m\r\n   -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\r\n\r\n```\r\n\r\n\r\n**EDIT 2**\r\n[SCREENSHOT2][1]\r\n  [1]: https://i.stack.imgur.com/MGTr1.png","title":"Error while launching Eclipse installed via Ubuntu Software Center","body":"<p>I installed Eclipse through the Ubuntu Software Center of Ubuntu 16.04 LTS and got the below error on opening.\nMy jdk version is 17:\nopenjdk 17-ea 2021-09-14\nOpenJDK Runtime Environment (build 17-ea+11-Ubuntu-116.042)\nOpenJDK 64-Bit Server VM (build 17-ea+11-Ubuntu-116.042, mixed mode, sharing)</p>\n<p>Can anyone please help me solve it?</p>\n<p><a href=\"https://i.stack.imgur.com/SOEnM.png\" rel=\"nofollow noreferrer\">Screenshot of the error</a></p>\n<pre><code>JVM terminated. Exit code=1\n    /usr/bin/java\n    -Xms40m\n    -Xmx384m\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\n    -XX:MaxPermSize=256m\n    -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\n    -os linux\n    -ws gtk\n    -arch x86_64\n    -showsplash /usr/lib/eclipse//plugins/org.eclipse.platform_3.8.1.dist/splash.bmp\n    -launcher /usr/lib/eclipse/eclipse\n    -name Eclipse\n    --launcher.library     \n  /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.200.dist/eclipse_1503.so\n    -startup /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\n    --launcher.overrideVmargs\n    -exitdata 2b8011\n    -vm /usr/bin/java\n    -vmargs\n    -Xms40m\n    -Xmx384m\n    -Dorg.eclipse.equinox.p2.reconciler.dropins.directory=/usr/share/eclipse/dropins\n   -XX:MaxPermSize=256m\n   -jar /usr/lib/eclipse//plugins/org.eclipse.equinox.launcher_1.3.0.dist.jar\n\n</code></pre>\n<p><strong>EDIT 2</strong>\n[SCREENSHOT2][1]\n[1]: https://i.stack.imgur.com/MGTr1.png</p>\n"},{"tags":["java","file-io","utf-8","character-encoding","windows-1252"],"answers":[{"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1345743103,"post_id":12097102,"comment_id":16166165,"body_markdown":"Thanks @Dennis Meng (+1) - I&#39;m comfortable going with the `FileInputStream`/`FileReader` as you recommend, but then how do I use those objects in conjunction with specifying the `Charset` (UTF-8 vs Windows-1252)? Thanks again!","body":"Thanks @Dennis Meng (+1) - I&#39;m comfortable going with the <code>FileInputStream</code>/<code>FileReader</code> as you recommend, but then how do I use those objects in conjunction with specifying the <code>Charset</code> (UTF-8 vs Windows-1252)? Thanks again!"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":1,"creation_date":1345743236,"post_id":12097102,"comment_id":16166222,"body_markdown":"So, the idea that I got from the docs is to create the `FileInputStream`, and then wrap the `InputStreamReader` around it. Judging from what you had, you already knew to specify the encoding in the constructor for `InputStreamReader`, which is why my suggestion only changes the line above it.","body":"So, the idea that I got from the docs is to create the <code>FileInputStream</code>, and then wrap the <code>InputStreamReader</code> around it. Judging from what you had, you already knew to specify the encoding in the constructor for <code>InputStreamReader</code>, which is why my suggestion only changes the line above it."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1345743463,"post_id":12097102,"comment_id":16166319,"body_markdown":"Thanks again (+1)! I&#39;m not trying to be difficult here, but I&#39;m still not connecting the dots. You say to &quot;wrap the `FileInputStream` around the `InputStreamReader`, so to me that means something like `FileInputStream fis = new FileInputStream(myInputStreamReader)`, where `myInputStreamReader` is the `InputStreamReader` that is already set with the correct charset. However, after looking at thee Java 6 docs for `FileInputStream`, I see no constructors that accept an `InputStreamReader` as an arg. Can you update with a code example of what you mean? Thanks again!","body":"Thanks again (+1)! I&#39;m not trying to be difficult here, but I&#39;m still not connecting the dots. You say to &quot;wrap the <code>FileInputStream</code> around the <code>InputStreamReader</code>, so to me that means something like <code>FileInputStream fis = new FileInputStream(myInputStreamReader)</code>, where <code>myInputStreamReader</code> is the <code>InputStreamReader</code> that is already set with the correct charset. However, after looking at thee Java 6 docs for <code>FileInputStream</code>, I see no constructors that accept an <code>InputStreamReader</code> as an arg. Can you update with a code example of what you mean? Thanks again!"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":1,"creation_date":1345743543,"post_id":12097102,"comment_id":16166349,"body_markdown":"Alright, I&#39;ll modify my answer to contain the full four lines then.","body":"Alright, I&#39;ll modify my answer to contain the full four lines then."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1345743793,"post_id":12097102,"comment_id":16166455,"body_markdown":"Ahhh, I&#39;m terribly sorry - I misread your comment! I had the FileInputStream/InputStreamReader wrapping inverted. Thanks again!","body":"Ahhh, I&#39;m terribly sorry - I misread your comment! I had the FileInputStream/InputStreamReader wrapping inverted. Thanks again!"},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1345744606,"post_id":12097102,"comment_id":16166842,"body_markdown":"No, you didn&#39;t misread, I mistyped, then corrected it before you posted. As long as we&#39;ve cleared up your confusion, we&#39;re fine.","body":"No, you didn&#39;t misread, I mistyped, then corrected it before you posted. As long as we&#39;ve cleared up your confusion, we&#39;re fine."}],"tags":[],"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"comment_count":6,"down_vote_count":2,"up_vote_count":37,"is_accepted":true,"score":35,"last_activity_date":1393312268,"creation_date":1345743002,"answer_id":12097102,"question_id":12096844,"body_markdown":"So, first, as a heads up, do realize that `fileName.getBytes()` as you have there gets the bytes of the filename, not the file itself.\r\n\r\nSecond, reading inside the docs of [FileReader][1]:\r\n\r\n&gt; The constructors of this class assume that the default character\r\n&gt; encoding and the default byte-buffer size are appropriate. To specify\r\n&gt; these values yourself, construct an InputStreamReader on a\r\n&gt; FileInputStream.\r\n\r\nSo, sounds like FileReader actually isn&#39;t the way to go. If we take the advice in the docs, then you should just change your code to have:\r\n\r\n    String fileName = getFileNameToReadFromUserInput();\r\n    FileInputStream is = new FileInputStream(fileName);\r\n    InputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\r\n    BufferedReader buffReader = new BufferedReader(isr);\r\n\r\nand not try to make a FileReader at all.\r\n\r\n  [1]:http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileReader.html","title":"How to read a file in Java with specific character encoding?","body":"<p>So, first, as a heads up, do realize that <code>fileName.getBytes()</code> as you have there gets the bytes of the filename, not the file itself.</p>\n\n<p>Second, reading inside the docs of <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileReader.html\" rel=\"noreferrer\">FileReader</a>:</p>\n\n<blockquote>\n  <p>The constructors of this class assume that the default character\n  encoding and the default byte-buffer size are appropriate. To specify\n  these values yourself, construct an InputStreamReader on a\n  FileInputStream.</p>\n</blockquote>\n\n<p>So, sounds like FileReader actually isn't the way to go. If we take the advice in the docs, then you should just change your code to have:</p>\n\n<pre><code>String fileName = getFileNameToReadFromUserInput();\nFileInputStream is = new FileInputStream(fileName);\nInputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\nBufferedReader buffReader = new BufferedReader(isr);\n</code></pre>\n\n<p>and not try to make a FileReader at all.</p>\n"},{"comments":[{"owner":{"account_id":4437763,"reputation":147,"user_id":3613131,"accept_rate":75,"display_name":"Papsicle"},"score":2,"creation_date":1436990839,"post_id":31419652,"comment_id":50849450,"body_markdown":"Also, since using Guava, you can choose your charset from their `Charsets` constant.","body":"Also, since using Guava, you can choose your charset from their <code>Charsets</code> constant."}],"tags":[],"owner":{"account_id":172592,"reputation":1372,"user_id":400717,"accept_rate":91,"display_name":"shadowmatter"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1436920803,"creation_date":1436920803,"answer_id":31419652,"question_id":12096844,"body_markdown":"Note that if you are using [Google Guava](https://code.google.com/p/guava-libraries/), you can use [`Files.newReader`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#newReader(java.io.File,%20java.nio.charset.Charset)):\r\n\r\n    final BufferedReader reader =\r\n            Files.newReader(new File(filename), getCorrectCharsetToApply());","title":"How to read a file in Java with specific character encoding?","body":"<p>Note that if you are using <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google Guava</a>, you can use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#newReader(java.io.File,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.newReader</code></a>:</p>\n\n<pre><code>final BufferedReader reader =\n        Files.newReader(new File(filename), getCorrectCharsetToApply());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8123741,"reputation":1271,"user_id":7037546,"display_name":"dlauzon"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1508965547,"creation_date":1508965547,"answer_id":46942059,"question_id":12096844,"body_markdown":"With Java 7+, you can create the Reader in one line:\r\n\r\n`BufferedReader buffReader = Files.newBufferedReader(Paths.get(fileName), getCorrectCharsetToApply());`","title":"How to read a file in Java with specific character encoding?","body":"<p>With Java 7+, you can create the Reader in one line:</p>\n\n<p><code>BufferedReader buffReader = Files.newBufferedReader(Paths.get(fileName), getCorrectCharsetToApply());</code></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694574510,"creation_date":1694574510,"answer_id":77093801,"question_id":12096844,"body_markdown":"Java does not die if you pick the wrong charset. The code is perfectly fine like this, but you may want to read the file content instead of the file name:\r\n\r\n    String fileName = getFileNameToReadFromUserInput();\r\n    InputStream is = new ByteArrayInputStream(fileName.getBytes());\r\n    InputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\r\n    BufferedReader buffReader = new BufferedReader(isr);\r\n\r\nJust consider what exactly will happen if you pick the wrong encoding: Java will throw an Exception. All you need to do is handle this situation, then you can iterate over all the charsets Java knows about:\r\n\r\n    void processFile(String fileName, Charset charset) {\r\n        try (\r\n            InputStream is = new FileInputStream(fileName);\r\n            InputStreamReader isr = new InputStreamReader(is, charset);\r\n            BufferedReader buffReader = new BufferedReader(isr);\r\n        ) {\r\n            ... (do whatever you have to do here by reading buffReader)\r\n        }\r\n    }\r\n\r\n    void main(String[]) {\r\n        String fileName = getFileNameToReadFromUserInput();\r\n\r\n        // try all the known charsets\r\n        for (Charset charset: Charset.availableCharsets().values()) {\r\n            try {\r\n                processFile(fileName, charset);\r\n                // still here? then it was successful\r\n                return;\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Reading &quot; + fileName + &quot; with &quot; + charset + &quot; resulted in&quot;);\r\n                e.printStackTrace();\r\n                System.out.println(&quot;Trying next...&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThe try-with-resources block inside processFile ensures all files/streams/buffers get closed when they are no longer needed.\r\nThe try/catch block in the main method ensures the program does not die in case we picked the wrong charset.","title":"How to read a file in Java with specific character encoding?","body":"<p>Java does not die if you pick the wrong charset. The code is perfectly fine like this, but you may want to read the file content instead of the file name:</p>\n<pre><code>String fileName = getFileNameToReadFromUserInput();\nInputStream is = new ByteArrayInputStream(fileName.getBytes());\nInputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\nBufferedReader buffReader = new BufferedReader(isr);\n</code></pre>\n<p>Just consider what exactly will happen if you pick the wrong encoding: Java will throw an Exception. All you need to do is handle this situation, then you can iterate over all the charsets Java knows about:</p>\n<pre><code>void processFile(String fileName, Charset charset) {\n    try (\n        InputStream is = new FileInputStream(fileName);\n        InputStreamReader isr = new InputStreamReader(is, charset);\n        BufferedReader buffReader = new BufferedReader(isr);\n    ) {\n        ... (do whatever you have to do here by reading buffReader)\n    }\n}\n\nvoid main(String[]) {\n    String fileName = getFileNameToReadFromUserInput();\n\n    // try all the known charsets\n    for (Charset charset: Charset.availableCharsets().values()) {\n        try {\n            processFile(fileName, charset);\n            // still here? then it was successful\n            return;\n        } catch (Exception e) {\n            System.out.println(&quot;Reading &quot; + fileName + &quot; with &quot; + charset + &quot; resulted in&quot;);\n            e.printStackTrace();\n            System.out.println(&quot;Trying next...&quot;);\n        }\n    }\n}\n</code></pre>\n<p>The try-with-resources block inside processFile ensures all files/streams/buffers get closed when they are no longer needed.\nThe try/catch block in the main method ensures the program does not die in case we picked the wrong charset.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70040,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":12097102,"answer_count":4,"score":29,"last_activity_date":1694574510,"creation_date":1345741967,"question_id":12096844,"body_markdown":"I am trying to read a file in as either UTF-8 or Windows-1252 depending on the output of this method:\r\n\r\n    public Charset getCorrectCharsetToApply() {\r\n        // Returns a Charset for either UTF-8 or Windows-1252.\r\n    }\r\n\r\nSo far, I have:\r\n\r\n    String fileName = getFileNameToReadFromUserInput();\r\n    InputStream is = new ByteArrayInputStream(fileName.getBytes());\r\n    InputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\r\n    BufferedReader buffReader = new BufferedReader(isr);\r\n\r\nThe problem I&#39;m having is converting the `BufferedReader` instance to a `FileReader`.\r\n\r\nFurthermore:\r\n\r\n* The name of the file itself (`fileName`) cannot be trusted to be a particular `Charset`; sometime the file name will contain UTF-8 characters, and sometimes Windows-1252. Same goes for the file&#39;s content (however if file name and file content will *always* have matching charsets).\r\n* Only the logic inside `getCorrectCharsetToApply()` can select the charset to apply, so attempting to read a file by its name *prior* to calling this method could very well result with, Java trying to read the file name with the wrong encoding...which causes it to die!\r\n\r\nThanks in advance!","title":"How to read a file in Java with specific character encoding?","body":"<p>I am trying to read a file in as either UTF-8 or Windows-1252 depending on the output of this method:</p>\n\n<pre><code>public Charset getCorrectCharsetToApply() {\n    // Returns a Charset for either UTF-8 or Windows-1252.\n}\n</code></pre>\n\n<p>So far, I have:</p>\n\n<pre><code>String fileName = getFileNameToReadFromUserInput();\nInputStream is = new ByteArrayInputStream(fileName.getBytes());\nInputStreamReader isr = new InputStreamReader(is, getCorrectCharsetToApply());\nBufferedReader buffReader = new BufferedReader(isr);\n</code></pre>\n\n<p>The problem I'm having is converting the <code>BufferedReader</code> instance to a <code>FileReader</code>.</p>\n\n<p>Furthermore:</p>\n\n<ul>\n<li>The name of the file itself (<code>fileName</code>) cannot be trusted to be a particular <code>Charset</code>; sometime the file name will contain UTF-8 characters, and sometimes Windows-1252. Same goes for the file's content (however if file name and file content will <em>always</em> have matching charsets).</li>\n<li>Only the logic inside <code>getCorrectCharsetToApply()</code> can select the charset to apply, so attempting to read a file by its name <em>prior</em> to calling this method could very well result with, Java trying to read the file name with the wrong encoding...which causes it to die!</li>\n</ul>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":6812667,"reputation":3184,"user_id":15206072,"display_name":"Sumanth Jois"},"score":1,"creation_date":1488877766,"post_id":42644145,"comment_id":72415278,"body_markdown":"How do I set the url to the value of classpath??","body":"How do I set the url to the value of classpath??"},{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":0,"creation_date":1509453603,"post_id":42644145,"comment_id":81017509,"body_markdown":"What are you actually trying to do?","body":"What are you actually trying to do?"}],"tags":[],"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"comment_count":2,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1488877706,"creation_date":1488877706,"answer_id":42644145,"question_id":42643963,"body_markdown":"`classpath:` isn&#39;t a protocol.  Protocol is usually `http://` or `ftp://` (and lots of others).","title":"MalformedUrlException unknown protocol classpath in Java","body":"<p><code>classpath:</code> isn't a protocol.  Protocol is usually <code>http://</code> or <code>ftp://</code> (and lots of others).</p>\n"},{"comments":[{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1694539788,"post_id":42644234,"comment_id":135903500,"body_markdown":"I would like to note, Spring 3.X - classpath is working fine as a &quot;protocol&quot;  at least when running as a Spring application, when launched locally however it is returning  `unknown protocol: classpath` so I wouldn&#39;t beat up on the OP too much!","body":"I would like to note, Spring 3.X - classpath is working fine as a &quot;protocol&quot;  at least when running as a Spring application, when launched locally however it is returning  <code>unknown protocol: classpath</code> so I wouldn&#39;t beat up on the OP too much!"}],"tags":[],"owner":{"account_id":980385,"reputation":11895,"user_id":1000254,"accept_rate":92,"display_name":"shizhz"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1488878019,"creation_date":1488878019,"answer_id":42644234,"question_id":42643963,"body_markdown":"You already got the answer from the exception message:\r\n\r\n&gt; unknown protocol: classpath\r\n\r\nTry to use `file://` protocol or `getClass().getClassLoader().getResource()` to load resource directory. Otherwise you need to implement and register `URL handler` for your `protocol` if you have to do it this way.\r\n\r\nPlease refer to [this SO thread][1] for more info.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/861500/url-to-load-resources-from-the-classpath-in-java","title":"MalformedUrlException unknown protocol classpath in Java","body":"<p>You already got the answer from the exception message:</p>\n\n<blockquote>\n  <p>unknown protocol: classpath</p>\n</blockquote>\n\n<p>Try to use <code>file://</code> protocol or <code>getClass().getClassLoader().getResource()</code> to load resource directory. Otherwise you need to implement and register <code>URL handler</code> for your <code>protocol</code> if you have to do it this way.</p>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/861500/url-to-load-resources-from-the-classpath-in-java\">this SO thread</a> for more info.</p>\n"}],"owner":{"account_id":6812667,"reputation":3184,"user_id":15206072,"display_name":"Sumanth Jois"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15478,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694574475,"creation_date":1488877090,"question_id":42643963,"body_markdown":"I am trying set the value of a URL instance variable as the classpath but I am getting the below error:\r\n \r\n\r\n    Exception in thread &quot;main&quot; java.net.MalformedURLException: unknown protocol: classpath\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:600)\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:490)\r\n    \tat java.net.URL.&lt;init&gt;(URL.java:439)\r\n    \tat com.foodprocessor.App.main(App.java:18)\r\n    C:\\Users\\admin\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\n\r\n\r\nThis is my code:\r\n\r\n  \r\n\r\n        public class App {\r\n        public static void main(String[] args) throws MalformedURLException{\r\n            MyEnvironmentA env = new MyEnvironmentA(new URL(&quot;classpath:&quot;+System.getProperty(&quot;java.class.path&quot;)));\r\n            env.run(&quot;ChocolateMilk&quot;);\r\n         }\r\n       }\r\n\r\nWhere am I going wrong?\r\n","title":"MalformedUrlException unknown protocol classpath in Java","body":"<p>I am trying set the value of a URL instance variable as the classpath but I am getting the below error:</p>\n\n<pre><code>Exception in thread \"main\" java.net.MalformedURLException: unknown protocol: classpath\n    at java.net.URL.&lt;init&gt;(URL.java:600)\n    at java.net.URL.&lt;init&gt;(URL.java:490)\n    at java.net.URL.&lt;init&gt;(URL.java:439)\n    at com.foodprocessor.App.main(App.java:18)\nC:\\Users\\admin\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>    public class App {\n    public static void main(String[] args) throws MalformedURLException{\n        MyEnvironmentA env = new MyEnvironmentA(new URL(\"classpath:\"+System.getProperty(\"java.class.path\")));\n        env.run(\"ChocolateMilk\");\n     }\n   }\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["java","css","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":17925663,"reputation":190,"user_id":13024985,"display_name":"Lynxian"},"score":0,"creation_date":1694611373,"post_id":77093747,"comment_id":135913920,"body_markdown":"I do not think the flyingsaucer PDF conversion is where it goes wrong and I think that for two reasons: first it&#39;s the templating engine (Thymeleaf) that handles the CSS and creates HTML, which is sent to the flyingsaucer PDF conversion. Secondly I know fairly certain this is correct thanks to your code sample! The CSS var fallback value is part of the function and doesn&#39;t work. My headers remain default black, instead of the blue fallback value I entered.","body":"I do not think the flyingsaucer PDF conversion is where it goes wrong and I think that for two reasons: first it&#39;s the templating engine (Thymeleaf) that handles the CSS and creates HTML, which is sent to the flyingsaucer PDF conversion. Secondly I know fairly certain this is correct thanks to your code sample! The CSS var fallback value is part of the function and doesn&#39;t work. My headers remain default black, instead of the blue fallback value I entered."}],"tags":[],"owner":{"account_id":25351110,"reputation":132,"user_id":19167964,"display_name":"theaminuldev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694573404,"creation_date":1694573404,"answer_id":77093747,"question_id":77092964,"body_markdown":"**PDF Conversion Settings**: Check the settings and options of the tool or library you are using to convert your Thymeleaf template to PDF. Some PDF conversion libraries may have specific configuration options related to CSS processing. Ensure that CSS processing is enabled and configured correctly.\r\n\r\n**Fallback Values:** If the PDF rendering engine doesn&#39;t support CSS variables, you may need to provide fallback values directly in your CSS rules for properties that use variables. This way, even if the variable is not supported, the PDF will still render with the specified styles.\r\n\r\n    /* Fallback value in case the variable is not supported */\r\n    element {\r\n      property: var(--my-variable, #ff0000);\r\n    }\r\n\r\n","title":"CSS var() function does not work in Thymeleaf template to PDF","body":"<p><strong>PDF Conversion Settings</strong>: Check the settings and options of the tool or library you are using to convert your Thymeleaf template to PDF. Some PDF conversion libraries may have specific configuration options related to CSS processing. Ensure that CSS processing is enabled and configured correctly.</p>\n<p><strong>Fallback Values:</strong> If the PDF rendering engine doesn't support CSS variables, you may need to provide fallback values directly in your CSS rules for properties that use variables. This way, even if the variable is not supported, the PDF will still render with the specified styles.</p>\n<pre><code>/* Fallback value in case the variable is not supported */\nelement {\n  property: var(--my-variable, #ff0000);\n}\n</code></pre>\n"}],"owner":{"account_id":17925663,"reputation":190,"user_id":13024985,"display_name":"Lynxian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694573404,"creation_date":1694556531,"question_id":77092964,"body_markdown":"I&#39;m currently trying to create a report in PDF and am currently trying to use Thymeleaf to create an HTML template which I then try to convert to a PDF using flyingsaucer. It&#39;s working fairly well except, for some reason, I can declare all the CSS variables I like, the stylesheet won&#39;t actually use the colors stored in the variables when using the CSS `var()` function. A little example:\r\n\r\n**pom.xml**\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\r\n  &lt;version&gt;9.1.22&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**template.html**\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n    &lt;link th:href=&quot;@{/css/report.css}&quot; rel=&quot;stylesheet&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div class=&quot;document-titles&quot;&gt;\r\n        &lt;h1 class=&quot;document-title&quot;&gt;Baking report&lt;/h1&gt;&lt;br /&gt;\r\n        &lt;h2 class=&quot;document-date&quot;&gt;September 2023&lt;/h2&gt;&lt;br /&gt;\r\n        &lt;h3 class=&quot;document-project-name&quot;&gt;Project name: cake&lt;/h3&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;h1&gt;Test h1&lt;/h1&gt;\r\n    &lt;h1&gt;Test h1b (should be on next page (and it is!))&lt;/h1&gt;\r\n    &lt;ul&gt;\r\n        &lt;li&gt;A&lt;/li&gt;\r\n        &lt;li&gt;B&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n    &lt;ol&gt;\r\n        &lt;li&gt;Cake&lt;/li&gt;\r\n        &lt;li&gt;Pie&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n            &lt;th&gt;Amount&lt;/th&gt;\r\n            &lt;th&gt;Price&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Eggs&lt;/td&gt;\r\n            &lt;td&gt;4&lt;/td&gt;\r\n            &lt;td&gt;€4&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;Flour&lt;/td&gt;\r\n            &lt;td&gt;300 gr&lt;/td&gt;\r\n            &lt;td&gt;€1&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**report.css**\r\n```css\r\n:root {\r\n    /* Colors */\r\n    --blue: #00a8dc;\r\n    --grey: #9badbf;\r\n    --text-black: #212529;\r\n    --white: #fff;\r\n}\r\n\r\n@page {\r\n    size: a4;\r\n    orientation: portrait;\r\n}\r\n\r\n@page:first {\r\n    margin: 0;\r\n    background-image: url(&quot;../images/report-cover.jpg&quot;);\r\n    background-size: cover;\r\n}\r\n\r\nh1 {\r\n    page-break-before: always;\r\n    color: var(--blue); /* THIS IS COMPLETELY IGNORED; H1 REMAINS DEFAULT BLACK */\r\n}\r\n\r\nh1.document-title, h2.document-date, h3.document-project-name {\r\n    page-break-before: avoid;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n```\r\n\r\n**PdfProofOfConcept.java**\r\n```java\r\npackage com.acme.reports;\r\n\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.Context;\r\nimport org.thymeleaf.context.IExpressionContext;\r\nimport org.thymeleaf.linkbuilder.StandardLinkBuilder;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\nimport org.xhtmlrenderer.pdf.ITextRenderer;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.util.Map;\r\n\r\npublic class PdfProofOfConcept {\r\n\r\n    // https://www.baeldung.com/thymeleaf-generate-pdf\r\n    public static void main(String... args) throws IOException {\r\n        String template = parseThymeleafTemplate();\r\n        generatePdfFromHtml(template);\r\n    }\r\n\r\n    private static void generatePdfFromHtml(String html) throws IOException {\r\n        String outputFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;thymeleaf_report.pdf&quot;;\r\n        OutputStream outputStream = new FileOutputStream(outputFolder);\r\n\r\n        ITextRenderer renderer = new ITextRenderer();\r\n        renderer.setDocumentFromString(html);\r\n        renderer.layout();\r\n        renderer.createPDF(outputStream);\r\n\r\n        outputStream.close();\r\n    }\r\n\r\n    private static String parseThymeleafTemplate() {\r\n        ClassLoaderTemplateResolver htmlTemplateResolver = new ClassLoaderTemplateResolver();\r\n        htmlTemplateResolver.setSuffix(&quot;.html&quot;);\r\n        htmlTemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n\r\n        TemplateEngine templateEngine = new TemplateEngine();\r\n        templateEngine.setTemplateResolver(htmlTemplateResolver);\r\n        templateEngine.setLinkBuilder(new CustomLinkBuilder());\r\n\r\n        Context context = new Context();\r\n        context.setVariable(&quot;secretIngredient&quot;, &quot;Chocolate chips&quot;);\r\n\r\n        return templateEngine.process(&quot;templates/report/thymeleaf_report&quot;, context);\r\n    }\r\n\r\n}\r\n\r\n// Needed for using relative links in an offline setting (e.g. without a webserver)\r\n// https://stackoverflow.com/a/74511450\r\nclass CustomLinkBuilder extends StandardLinkBuilder {\r\n    @Override\r\n    protected String computeContextPath(IExpressionContext context, String base, Map&lt;String, Object&gt; parameters) {\r\n        return &quot;./src/main/resources/static&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs the final bit of code shows, I ran into an issue where loading the stylesheet in the HTML didn&#39;t work because Thymeleaf expected it to be served from a `HttpServletRequest` whereas there is not webserver running in my case, so resources referenced and consumed (such as stylesheet, javascript and images) need to have a custom link built as it&#39;s not served from a webserver. (Hence the `CustomLinkBuilder`.) I&#39;m thinking maybe something similar here is happening for the css `var()` function where normally the necessary CSS preprocessing happens in a browser or on a server. Am I correct and if so, how do I build my own preprocessor? (At least for the `var()` function.) Or is there another explanation as to why native CSS functions do not work with Thymeleaf?","title":"CSS var() function does not work in Thymeleaf template to PDF","body":"<p>I'm currently trying to create a report in PDF and am currently trying to use Thymeleaf to create an HTML template which I then try to convert to a PDF using flyingsaucer. It's working fairly well except, for some reason, I can declare all the CSS variables I like, the stylesheet won't actually use the colors stored in the variables when using the CSS <code>var()</code> function. A little example:</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.xhtmlrenderer&lt;/groupId&gt;\n  &lt;artifactId&gt;flying-saucer-pdf&lt;/artifactId&gt;\n  &lt;version&gt;9.1.22&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>template.html</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\n    &lt;link th:href=&quot;@{/css/report.css}&quot; rel=&quot;stylesheet&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;document-titles&quot;&gt;\n        &lt;h1 class=&quot;document-title&quot;&gt;Baking report&lt;/h1&gt;&lt;br /&gt;\n        &lt;h2 class=&quot;document-date&quot;&gt;September 2023&lt;/h2&gt;&lt;br /&gt;\n        &lt;h3 class=&quot;document-project-name&quot;&gt;Project name: cake&lt;/h3&gt;\n    &lt;/div&gt;\n\n    &lt;h1&gt;Test h1&lt;/h1&gt;\n    &lt;h1&gt;Test h1b (should be on next page (and it is!))&lt;/h1&gt;\n    &lt;ul&gt;\n        &lt;li&gt;A&lt;/li&gt;\n        &lt;li&gt;B&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;ol&gt;\n        &lt;li&gt;Cake&lt;/li&gt;\n        &lt;li&gt;Pie&lt;/li&gt;\n    &lt;/ol&gt;\n    &lt;table&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Amount&lt;/th&gt;\n            &lt;th&gt;Price&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Eggs&lt;/td&gt;\n            &lt;td&gt;4&lt;/td&gt;\n            &lt;td&gt;€4&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Flour&lt;/td&gt;\n            &lt;td&gt;300 gr&lt;/td&gt;\n            &lt;td&gt;€1&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>report.css</strong></p>\n<pre class=\"lang-css prettyprint-override\"><code>:root {\n    /* Colors */\n    --blue: #00a8dc;\n    --grey: #9badbf;\n    --text-black: #212529;\n    --white: #fff;\n}\n\n@page {\n    size: a4;\n    orientation: portrait;\n}\n\n@page:first {\n    margin: 0;\n    background-image: url(&quot;../images/report-cover.jpg&quot;);\n    background-size: cover;\n}\n\nh1 {\n    page-break-before: always;\n    color: var(--blue); /* THIS IS COMPLETELY IGNORED; H1 REMAINS DEFAULT BLACK */\n}\n\nh1.document-title, h2.document-date, h3.document-project-name {\n    page-break-before: avoid;\n    margin: 0;\n    padding: 0;\n}\n</code></pre>\n<p><strong>PdfProofOfConcept.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.acme.reports;\n\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\nimport org.thymeleaf.context.IExpressionContext;\nimport org.thymeleaf.linkbuilder.StandardLinkBuilder;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\nimport org.xhtmlrenderer.pdf.ITextRenderer;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.util.Map;\n\npublic class PdfProofOfConcept {\n\n    // https://www.baeldung.com/thymeleaf-generate-pdf\n    public static void main(String... args) throws IOException {\n        String template = parseThymeleafTemplate();\n        generatePdfFromHtml(template);\n    }\n\n    private static void generatePdfFromHtml(String html) throws IOException {\n        String outputFolder = System.getProperty(&quot;user.home&quot;) + File.separator + &quot;thymeleaf_report.pdf&quot;;\n        OutputStream outputStream = new FileOutputStream(outputFolder);\n\n        ITextRenderer renderer = new ITextRenderer();\n        renderer.setDocumentFromString(html);\n        renderer.layout();\n        renderer.createPDF(outputStream);\n\n        outputStream.close();\n    }\n\n    private static String parseThymeleafTemplate() {\n        ClassLoaderTemplateResolver htmlTemplateResolver = new ClassLoaderTemplateResolver();\n        htmlTemplateResolver.setSuffix(&quot;.html&quot;);\n        htmlTemplateResolver.setTemplateMode(TemplateMode.HTML);\n\n        TemplateEngine templateEngine = new TemplateEngine();\n        templateEngine.setTemplateResolver(htmlTemplateResolver);\n        templateEngine.setLinkBuilder(new CustomLinkBuilder());\n\n        Context context = new Context();\n        context.setVariable(&quot;secretIngredient&quot;, &quot;Chocolate chips&quot;);\n\n        return templateEngine.process(&quot;templates/report/thymeleaf_report&quot;, context);\n    }\n\n}\n\n// Needed for using relative links in an offline setting (e.g. without a webserver)\n// https://stackoverflow.com/a/74511450\nclass CustomLinkBuilder extends StandardLinkBuilder {\n    @Override\n    protected String computeContextPath(IExpressionContext context, String base, Map&lt;String, Object&gt; parameters) {\n        return &quot;./src/main/resources/static&quot;;\n    }\n}\n\n</code></pre>\n<p>As the final bit of code shows, I ran into an issue where loading the stylesheet in the HTML didn't work because Thymeleaf expected it to be served from a <code>HttpServletRequest</code> whereas there is not webserver running in my case, so resources referenced and consumed (such as stylesheet, javascript and images) need to have a custom link built as it's not served from a webserver. (Hence the <code>CustomLinkBuilder</code>.) I'm thinking maybe something similar here is happening for the css <code>var()</code> function where normally the necessary CSS preprocessing happens in a browser or on a server. Am I correct and if so, how do I build my own preprocessor? (At least for the <code>var()</code> function.) Or is there another explanation as to why native CSS functions do not work with Thymeleaf?</p>\n"},{"tags":["java","python","mysql","sqlalchemy","tornado"],"comments":[{"owner":{"account_id":137505,"reputation":19738,"user_id":341730,"display_name":"univerio"},"score":1,"creation_date":1497463178,"post_id":44550898,"comment_id":76093886,"body_markdown":"`session.query(OrderInfo).all()` is a list of `OrderInfo` objects.","body":"<code>session.query(OrderInfo).all()</code> is a list of <code>OrderInfo</code> objects."},{"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"score":0,"creation_date":1497496740,"post_id":44550898,"comment_id":76105837,"body_markdown":"_decl_class_registry\n_sa_class_manager\n_sa_instance_state\nmetadata\nquery\nid\nname\nage\ncreate_time\nupdate_time\nversion","body":"_decl_class_registry _sa_class_manager _sa_instance_state metadata query id name age create_time update_time version"},{"owner":{"account_id":137505,"reputation":19738,"user_id":341730,"display_name":"univerio"},"score":0,"creation_date":1497497450,"post_id":44550898,"comment_id":76106008,"body_markdown":"You want a list of `OrderInfo` objects but you are surprised that each one has attributes that are on `OrderInfo` objects?? If this were Java, would you be surprised that your `OrderInfo` objects have `toString` on them?","body":"You want a list of <code>OrderInfo</code> objects but you are surprised that each one has attributes that are on <code>OrderInfo</code> objects?? If this were Java, would you be surprised that your <code>OrderInfo</code> objects have <code>toString</code> on them?"},{"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"score":0,"creation_date":1497498655,"post_id":44550898,"comment_id":76106276,"body_markdown":"@univerio, In fact,   i want to get OrderInfo object that from query result,  but  the result of query which includes  many excess columns (_decl_class_registry,       \n_sa_class_manager,      \n_sa_instance_state,    \nmetadata,       \nquery)  for me, i only want to (id,name,age,create_time,update_time,version ) which include a property of query,  The other what do not i want to get.","body":"@univerio, In fact,   i want to get OrderInfo object that from query result,  but  the result of query which includes  many excess columns (_decl_class_registry,        _sa_class_manager,       _sa_instance_state,     metadata,        query)  for me, i only want to (id,name,age,create_time,update_time,version ) which include a property of query,  The other what do not i want to get."},{"owner":{"account_id":137505,"reputation":19738,"user_id":341730,"display_name":"univerio"},"score":0,"creation_date":1497502419,"post_id":44550898,"comment_id":76107258,"body_markdown":"I&#39;m afraid you&#39;re gonna have to fix your English. You are asking something different in your title (a `List&lt;OrderInfo&gt;` in Java terms) compared to your comments (a `List&lt;Dictionary&lt;String, Object&gt;&gt;`). Please edit your question if you want to clarify it; do not leave comments as answers.","body":"I&#39;m afraid you&#39;re gonna have to fix your English. You are asking something different in your title (a <code>List&lt;OrderInfo&gt;</code> in Java terms) compared to your comments (a <code>List&lt;Dictionary&lt;String, Object&gt;&gt;</code>). Please edit your question if you want to clarify it; do not leave comments as answers."},{"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"score":0,"creation_date":1497503809,"post_id":44550898,"comment_id":76107716,"body_markdown":"i understand what you mean, i think about myself first,  my english is poor,  i do not express clearly.","body":"i understand what you mean, i think about myself first,  my english is poor,  i do not express clearly."}],"answers":[{"tags":[],"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694572292,"creation_date":1497507837,"answer_id":44560073,"question_id":44550898,"body_markdown":"\r\ni find the answer which i want to get:\r\n\r\n       def find_all(self):\r\n            result_list = []\r\n            orderDao = DaoUtil.DaoGeneric()\r\n            session = orderDao.getSession()\r\n            try:\r\n                for row in session.query(OrderInfo).all():\r\n                    result_list.append(DictUtil.object_as_dict(row))\r\n                session.commit()\r\n            except Exception, e:\r\n                print e\r\n                session.rollback()\r\n            return result_list\r\n    \r\n    \r\n    def object_as_dict(obj):\r\n        result = {instance.key: getattr(obj, instance.key)  for instance in inspect(obj).mapper.column_attrs}\r\n        print result\r\n        return result\r\n\r\noutput :\r\n\r\n    [\r\n    {&#39;updateTime&#39;: datetime.datetime(2017, 6, 15, 13, 56, 16), &#39;bankName&#39;: u&#39;ICBC&#39;, &#39;bankNo&#39;: u&#39;6228480666622220011&#39;, &#39;createTime&#39;: datetime.datetime(2017, 6, 15, 13, 56, 16), u&#39;version&#39;: 0, u&#39;id&#39;: 1}, \r\n    {&#39;updateTime&#39;: datetime.datetime(2017, 6, 15, 13, 57, 40), &#39;bankName&#39;: u&#39;ICBC&#39;, &#39;bankNo&#39;: u&#39;6228480666622220011&#39;, &#39;createTime&#39;: datetime.datetime(2017, 6, 15, 13, 57, 40), u&#39;version&#39;: 0, u&#39;id&#39;: 2}, \r\n    {&#39;updateTime&#39;: datetime.datetime(2017, 6, 15, 13, 58), &#39;bankName&#39;: u&#39;ICBC&#39;, &#39;bankNo&#39;: u&#39;6228480666622220011&#39;, &#39;createTime&#39;: datetime.datetime(2017, 6, 15, 13, 58), u&#39;version&#39;: 0, u&#39;id&#39;: 3}\r\n    ]\r\n\r\n","title":"How to return a list contains Object in sqlalchemy in python, is similar to List&lt;OrderInfo&gt; in java","body":"<p>i find the answer which i want to get:</p>\n<pre><code>   def find_all(self):\n        result_list = []\n        orderDao = DaoUtil.DaoGeneric()\n        session = orderDao.getSession()\n        try:\n            for row in session.query(OrderInfo).all():\n                result_list.append(DictUtil.object_as_dict(row))\n            session.commit()\n        except Exception, e:\n            print e\n            session.rollback()\n        return result_list\n\n\ndef object_as_dict(obj):\n    result = {instance.key: getattr(obj, instance.key)  for instance in inspect(obj).mapper.column_attrs}\n    print result\n    return result\n</code></pre>\n<p>output :</p>\n<pre><code>[\n{'updateTime': datetime.datetime(2017, 6, 15, 13, 56, 16), 'bankName': u'ICBC', 'bankNo': u'6228480666622220011', 'createTime': datetime.datetime(2017, 6, 15, 13, 56, 16), u'version': 0, u'id': 1}, \n{'updateTime': datetime.datetime(2017, 6, 15, 13, 57, 40), 'bankName': u'ICBC', 'bankNo': u'6228480666622220011', 'createTime': datetime.datetime(2017, 6, 15, 13, 57, 40), u'version': 0, u'id': 2}, \n{'updateTime': datetime.datetime(2017, 6, 15, 13, 58), 'bankName': u'ICBC', 'bankNo': u'6228480666622220011', 'createTime': datetime.datetime(2017, 6, 15, 13, 58), u'version': 0, u'id': 3}\n]\n</code></pre>\n"}],"owner":{"account_id":10993360,"reputation":39,"user_id":8076465,"display_name":"Zonda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44560073,"answer_count":1,"score":0,"last_activity_date":1694572292,"creation_date":1497460401,"question_id":44550898,"body_markdown":"i want to get a list which contains entire OrderInfo Object, for example, if i do this, it is result which the result i want to.\r\n    \r\n    def find_all(self):\r\n        result_list = []\r\n        orderDao = DaoUtil.DaoGeneric()\r\n        session = orderDao.getSession()\r\n        try:\r\n            for row in session.query(OrderInfo).all():\r\n                result_list.append({\r\n                    &#39;id&#39;:row.id,\r\n                    &#39;name&#39;: row.name,\r\n                    &#39;age&#39;: row.age,\r\n                     &#39;create_time&#39;: row.create_time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;),\r\n                     &#39;update_time&#39;: row.update_time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;),\r\n                        &#39;version&#39;: row.version\r\n                    })\r\n                session.commit()\r\n        except Exception, e:\r\n             print e\r\n             session.rollback()\r\n        return  result_list\r\n    \r\n    \r\nbut i want to a list which contains OrderInfo object from the query, because the result which the query return have other columns (the simple list of all DeclarativeBase&#39;s instances.) except OrderInfo{id,name,age,create_time,update_time,version}, the query do not return OrderInfo object directly. the following which i want to:\r\n    \r\n    \r\n    def find_all(self):\r\n        result_list = []\r\n        orderDao = DaoUtil.DaoGeneric()\r\n        session = orderDao.getSession()\r\n            try:\r\n                for row in session.query(OrderInfo).all():\r\n                    result_list.append(row.orderInfo) // if the row has a property for orderInfo Object, because the result which java can achieve , the example  for java is :   List&lt;OrderInfo&gt; orderList = session.query(); please help to achieve it\r\n    \r\n    \r\n                session.commit()\r\n        except Exception, e:\r\n            print e\r\n            session.rollback()\r\n        return  result_list\r\n\r\n       \r\n    \r\nbeacause i use sqlalchemy in python just now,  i am not very sure. How to get a list which contains OrderInfo Object from query in sqlalchemy\r\n\r\n\r\n\r\n","title":"How to return a list contains Object in sqlalchemy in python, is similar to List&lt;OrderInfo&gt; in java","body":"<p>i want to get a list which contains entire OrderInfo Object, for example, if i do this, it is result which the result i want to.</p>\n\n<pre><code>def find_all(self):\n    result_list = []\n    orderDao = DaoUtil.DaoGeneric()\n    session = orderDao.getSession()\n    try:\n        for row in session.query(OrderInfo).all():\n            result_list.append({\n                'id':row.id,\n                'name': row.name,\n                'age': row.age,\n                 'create_time': row.create_time.strftime(\"%Y-%m-%d %H:%M:%S\"),\n                 'update_time': row.update_time.strftime(\"%Y-%m-%d %H:%M:%S\"),\n                    'version': row.version\n                })\n            session.commit()\n    except Exception, e:\n         print e\n         session.rollback()\n    return  result_list\n</code></pre>\n\n<p>but i want to a list which contains OrderInfo object from the query, because the result which the query return have other columns (the simple list of all DeclarativeBase's instances.) except OrderInfo{id,name,age,create_time,update_time,version}, the query do not return OrderInfo object directly. the following which i want to:</p>\n\n<pre><code>def find_all(self):\n    result_list = []\n    orderDao = DaoUtil.DaoGeneric()\n    session = orderDao.getSession()\n        try:\n            for row in session.query(OrderInfo).all():\n                result_list.append(row.orderInfo) // if the row has a property for orderInfo Object, because the result which java can achieve , the example  for java is :   List&lt;OrderInfo&gt; orderList = session.query(); please help to achieve it\n\n\n            session.commit()\n    except Exception, e:\n        print e\n        session.rollback()\n    return  result_list\n</code></pre>\n\n<p>beacause i use sqlalchemy in python just now,  i am not very sure. How to get a list which contains OrderInfo Object from query in sqlalchemy</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator","resilience4j"],"answers":[{"comments":[{"owner":{"account_id":3243454,"reputation":1405,"user_id":2735802,"accept_rate":71,"display_name":"Geyser14"},"score":0,"creation_date":1598890088,"post_id":60539421,"comment_id":112597181,"body_markdown":"The docs (and your answer here) show how to configure them, but what are the endpoints? https://&lt;host&gt;/actuator/health/circuitbreaker(s) is not working. I&#39;ve guessed at a few other permutations but not successfully so far.","body":"The docs (and your answer here) show how to configure them, but what are the endpoints? https://&lt;host&gt;/actuator/health/circuitbreaker(s) is not working. I&#39;ve guessed at a few other permutations but not successfully so far."},{"owner":{"account_id":3243454,"reputation":1405,"user_id":2735802,"accept_rate":71,"display_name":"Geyser14"},"score":0,"creation_date":1598890495,"post_id":60539421,"comment_id":112597332,"body_markdown":"../actuator/health just shows status=OK, even though I have configured both management.health.circuitbreakers.enabled=true and resilience4j.circuitbreaker.configs.default.registerHealthIndicator=true","body":"../actuator/health just shows status=OK, even though I have configured both management.health.circuitbreakers.enabled=true and resilience4j.circuitbreaker.configs.default.registerHealthIn&zwnj;&#8203;dicator=true"}],"tags":[],"owner":{"account_id":3622573,"reputation":1784,"user_id":5077433,"display_name":"Robert Winkler"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1583390023,"creation_date":1583390023,"answer_id":60539421,"question_id":60528426,"body_markdown":"Dynamically registering CircuitBreakers for the HealthIndicator endpoint doesn&#39;t work at the moment.\r\nUnfortunately you have to configure them:\r\n\r\n```\r\nresilience4j.circuitbreaker:\r\n    configs:\r\n        default:\r\n            registerHealthIndicator: true\r\n    instances:\r\n        myCB:\r\n            baseConfig: default\r\n```\r\n\r\nYou could say it&#39;s a bug.\r\n\r\nhttps://github.com/resilience4j/resilience4j/blob/master/resilience4j-spring-boot2/src/main/java/io/github/resilience4j/circuitbreaker/monitoring/health/CircuitBreakersHealthIndicator.java#L99-L102","title":"spring boot actuator health endpoint + dynamic resilience4j circuit breakers","body":"<p>Dynamically registering CircuitBreakers for the HealthIndicator endpoint doesn't work at the moment.\nUnfortunately you have to configure them:</p>\n\n<pre><code>resilience4j.circuitbreaker:\n    configs:\n        default:\n            registerHealthIndicator: true\n    instances:\n        myCB:\n            baseConfig: default\n</code></pre>\n\n<p>You could say it's a bug.</p>\n\n<p><a href=\"https://github.com/resilience4j/resilience4j/blob/master/resilience4j-spring-boot2/src/main/java/io/github/resilience4j/circuitbreaker/monitoring/health/CircuitBreakersHealthIndicator.java#L99-L102\" rel=\"noreferrer\">https://github.com/resilience4j/resilience4j/blob/master/resilience4j-spring-boot2/src/main/java/io/github/resilience4j/circuitbreaker/monitoring/health/CircuitBreakersHealthIndicator.java#L99-L102</a></p>\n"},{"tags":[],"owner":{"account_id":19589013,"reputation":47,"user_id":16129883,"display_name":"mateo cunha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694572066,"creation_date":1694117849,"answer_id":77062620,"question_id":60528426,"body_markdown":"Late but sure.\r\nWith HTTP you need an extra configuration.\r\n\r\n    management:\r\n      security:\r\n        enabled:false\r\n      health:\r\n        circuitbreakers:\r\n          enabled: true\r\n      endpoint:\r\n        health:\r\n          show-details: &quot;ALWAYS&quot;\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &quot;*&quot;\r\n\r\n    resilience4j.circuitbreaker:\r\n        configs:\r\n            default:\r\n               registerHealthIndicator: true\r\n\r\n\r\n","title":"spring boot actuator health endpoint + dynamic resilience4j circuit breakers","body":"<p>Late but sure.\nWith HTTP you need an extra configuration.</p>\n<pre><code>management:\n  security:\n    enabled:false\n  health:\n    circuitbreakers:\n      enabled: true\n  endpoint:\n    health:\n      show-details: &quot;ALWAYS&quot;\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n\nresilience4j.circuitbreaker:\n    configs:\n        default:\n           registerHealthIndicator: true\n</code></pre>\n"}],"owner":{"account_id":1358957,"reputation":2419,"user_id":1296709,"accept_rate":63,"display_name":"derabbink"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7648,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60539421,"answer_count":2,"score":6,"last_activity_date":1694572066,"creation_date":1583332437,"question_id":60528426,"body_markdown":"I have a spring boot app, which uses [resilience4j][resilience4j] AOP-based [`@CircuitBreaker`][resilience4j-aop-circuitbreaker]s.\n\nNow I would like to make the circuit breakers&#39; information available in the `/actuator/health` endpoint, but I&#39;m not seeing the `details.circuitBtreakers` objects [described in the docs][resilience4j-actuator-health] in the JSON output.\n\n### What am I doing wrong?\n\n---\n\nBy comparison, getting dynamic cache information to appear in the `/actuator/metrics` endpoint required a small amount of custom wiring, but this is [well documented][cache-actuator]. I wonder if there is a similar trick that I can apply for dynamically defined `@CircuitBreaker`s to be registerd with the `/actuator/health` endpoint.\n\n**`MyService.java`:**\n```java\n@Service\npublic class MyService {\n    @Autowired\n    private CacheManager cacheManager;\n    @Autowired\n    private CacheMetricsRegistrar cacheMetricsRegistrar;\n\n    @PostConstruct\n    public void postConstruct() {\n        // On-the-fly defined (annotation-based) caches are not auto-registered with micrometer metrics.\n        final Cache cache = cacheManager.getCache(&quot;myCache&quot;);\n        cacheMetricsRegistrar.bindCacheToRegistry(cache);\n    }\n\n    @CircuitBreaker(name = &quot;myCB&quot;, fallbackMethod = &quot;fallbackCallAnApi&quot;)\n    public String callAnApi() throws RestClientException {\n        // ...\n    }\n\n    @Cacheable(&quot;myCache&quot;)\n    public String getSomethingCacheable() {\n        // ...\n    }\n}\n```\n\n**`application.properties`:**\n```properties\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\nmanagement.endpoints.web.expose=health,metrics\nmanagement.endpoints.web.exposure.include=health,metrics\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.metrics.enabled=true\nmanagement.metrics.enable.resilience4j.circuitbreaker.calls=true\nmanagement.health.circuitbreakers.enabled=true\n```\n\n[resilience4j]: https://github.com/resilience4j/resilience4j\n[resilience4j-aop-circuitbreaker]: https://resilience4j.readme.io/docs/getting-started-3#section-annotations\n[resilience4j-actuator-health]: https://resilience4j.readme.io/docs/getting-started-3#section-health-endpoint\n[cache-actuator]: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-cache","title":"spring boot actuator health endpoint + dynamic resilience4j circuit breakers","body":"<p>I have a spring boot app, which uses <a href=\"https://github.com/resilience4j/resilience4j\" rel=\"nofollow noreferrer\">resilience4j</a> AOP-based <a href=\"https://resilience4j.readme.io/docs/getting-started-3#section-annotations\" rel=\"nofollow noreferrer\"><code>@CircuitBreaker</code></a>s.</p>\n<p>Now I would like to make the circuit breakers' information available in the <code>/actuator/health</code> endpoint, but I'm not seeing the <code>details.circuitBtreakers</code> objects <a href=\"https://resilience4j.readme.io/docs/getting-started-3#section-health-endpoint\" rel=\"nofollow noreferrer\">described in the docs</a> in the JSON output.</p>\n<h3>What am I doing wrong?</h3>\n<hr />\n<p>By comparison, getting dynamic cache information to appear in the <code>/actuator/metrics</code> endpoint required a small amount of custom wiring, but this is <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-metrics-cache\" rel=\"nofollow noreferrer\">well documented</a>. I wonder if there is a similar trick that I can apply for dynamically defined <code>@CircuitBreaker</code>s to be registerd with the <code>/actuator/health</code> endpoint.</p>\n<p><strong><code>MyService.java</code>:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    @Autowired\n    private CacheManager cacheManager;\n    @Autowired\n    private CacheMetricsRegistrar cacheMetricsRegistrar;\n\n    @PostConstruct\n    public void postConstruct() {\n        // On-the-fly defined (annotation-based) caches are not auto-registered with micrometer metrics.\n        final Cache cache = cacheManager.getCache(&quot;myCache&quot;);\n        cacheMetricsRegistrar.bindCacheToRegistry(cache);\n    }\n\n    @CircuitBreaker(name = &quot;myCB&quot;, fallbackMethod = &quot;fallbackCallAnApi&quot;)\n    public String callAnApi() throws RestClientException {\n        // ...\n    }\n\n    @Cacheable(&quot;myCache&quot;)\n    public String getSomethingCacheable() {\n        // ...\n    }\n}\n</code></pre>\n<p><strong><code>application.properties</code>:</strong></p>\n<pre><code>resilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\nmanagement.endpoints.web.expose=health,metrics\nmanagement.endpoints.web.exposure.include=health,metrics\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.metrics.enabled=true\nmanagement.metrics.enable.resilience4j.circuitbreaker.calls=true\nmanagement.health.circuitbreakers.enabled=true\n</code></pre>\n"},{"tags":["java","jar","compilation","recompile","jd-gui"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1412929961,"post_id":26295087,"comment_id":41259697,"body_markdown":"And which answers have you found?","body":"And which answers have you found?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1412930288,"post_id":26295087,"comment_id":41259874,"body_markdown":"Compile it with `javac` and use `jar` to make a jar from the compiled class.","body":"Compile it with <code>javac</code> and use <code>jar</code> to make a jar from the compiled class."},{"owner":{"account_id":2277620,"reputation":1614,"user_id":2270995,"accept_rate":40,"display_name":"Pawan"},"score":0,"creation_date":1412930901,"post_id":26295087,"comment_id":41260215,"body_markdown":"i tried to compile the .java filed using `javac` but i get errors in various .java files -- error: package android.os does not exist, error: cannot file symbol .etc . how do i resolve these errors.","body":"i tried to compile the .java filed using <code>javac</code> but i get errors in various .java files -- error: package android.os does not exist, error: cannot file symbol .etc . how do i resolve these errors."}],"answers":[{"comments":[{"owner":{"account_id":2277620,"reputation":1614,"user_id":2270995,"accept_rate":40,"display_name":"Pawan"},"score":0,"creation_date":1412930935,"post_id":26295233,"comment_id":41260236,"body_markdown":"how do i find out the dependencies ??","body":"how do i find out the dependencies ??"},{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1412931085,"post_id":26295233,"comment_id":41260301,"body_markdown":"Easy approach - Try to import the extracted source code. The compilation errors will leads you to find out the dependencies","body":"Easy approach - Try to import the extracted source code. The compilation errors will leads you to find out the dependencies"},{"owner":{"account_id":2277620,"reputation":1614,"user_id":2270995,"accept_rate":40,"display_name":"Pawan"},"score":0,"creation_date":1412931593,"post_id":26295233,"comment_id":41260609,"body_markdown":"i tried to import project into eclipse(juno-downloaded from the android developers website) by browsing to the source folder but eclipse shows no projects found to import.","body":"i tried to import project into eclipse(juno-downloaded from the android developers website) by browsing to the source folder but eclipse shows no projects found to import."},{"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"score":0,"creation_date":1412931885,"post_id":26295233,"comment_id":41260754,"body_markdown":"As it is a jar, you cannot import the project. Better to create a project(I prefer maven) and copy the source. Sorry for using the word &#39;import&#39;. That made the confusion.","body":"As it is a jar, you cannot import the project. Better to create a project(I prefer maven) and copy the source. Sorry for using the word &#39;import&#39;. That made the confusion."},{"owner":{"account_id":9289464,"reputation":1881,"user_id":6898301,"accept_rate":60,"display_name":"Massimo Petrus"},"score":0,"creation_date":1597992396,"post_id":26295233,"comment_id":112318072,"body_markdown":"often sources decompiled with JD have several errors in it. You should in any case fix your classes, in eclipse for exampe, As said by dasrohith, create a project in eclipse and put your classes there","body":"often sources decompiled with JD have several errors in it. You should in any case fix your classes, in eclipse for exampe, As said by dasrohith, create a project in eclipse and put your classes there"}],"tags":[],"owner":{"account_id":80579,"reputation":533,"user_id":227775,"accept_rate":75,"display_name":"dasrohith"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412930391,"creation_date":1412930391,"answer_id":26295233,"question_id":26295087,"body_markdown":"As mentioned in your question, you have decompiled the class files to java files and have done necessary modifications. \r\n\r\nHope you have imported that as a project in eclipse. Export the same as jar. point to be noted is that you should know the dependencies for building the project","title":"Recompile the java files which is decompiled by JD-GUI from a jar","body":"<p>As mentioned in your question, you have decompiled the class files to java files and have done necessary modifications. </p>\n\n<p>Hope you have imported that as a project in eclipse. Export the same as jar. point to be noted is that you should know the dependencies for building the project</p>\n"}],"owner":{"account_id":2277620,"reputation":1614,"user_id":2270995,"accept_rate":40,"display_name":"Pawan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12177,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1694570820,"creation_date":1412929877,"question_id":26295087,"body_markdown":"I have a MyFile.jar file. I use JD-GUI to decompile it and used its &quot;Save All Sources&quot; options to save the files to a .zip file. Now extracted the .zip file and edited a .java file.\r\n\r\nthe folder structure after extracting .zip file is like this\r\n \r\n\r\n                           _____ META-INF(folder)\r\n    source(folder) -------|     \r\n                          ------com(folder)--&gt;example---&gt;App---&gt; all .java files   \r\n\r\nnow how do i recompile it back to .jar file ??     \r\n  ","title":"Recompile the java files which is decompiled by JD-GUI from a jar","body":"<p>I have a MyFile.jar file. I use JD-GUI to decompile it and used its \"Save All Sources\" options to save the files to a .zip file. Now extracted the .zip file and edited a .java file.</p>\n\n<p>the folder structure after extracting .zip file is like this</p>\n\n<pre><code>                       _____ META-INF(folder)\nsource(folder) -------|     \n                      ------com(folder)--&gt;example---&gt;App---&gt; all .java files   \n</code></pre>\n\n<p>now how do i recompile it back to .jar file ??     </p>\n"},{"tags":["java","design-patterns","asynchronous","callback","nested"],"comments":[{"owner":{"account_id":1060787,"reputation":5657,"user_id":1062461,"display_name":"Rob I"},"score":0,"creation_date":1337655385,"post_id":10695152,"comment_id":13883766,"body_markdown":"I know you said non-blocking was a necessity, but is there any way to reconsider that?  Could you make a second thread that blocks on each request, for example?  I could see that code being very clear with care.","body":"I know you said non-blocking was a necessity, but is there any way to reconsider that?  Could you make a second thread that blocks on each request, for example?  I could see that code being very clear with care."},{"owner":{"account_id":194756,"reputation":6085,"user_id":437282,"display_name":"Pavel Veller"},"score":1,"creation_date":1337656208,"post_id":10695152,"comment_id":13883915,"body_markdown":"self-contained operations will still be in some form of classes, anonymous or not, but still physically present. will have to wait for the project lambda to have more natural constructs for things like you&#39;re doing. I would also assume you need all this within &quot;plain java&quot; paradigms? Doesn&#39;t sound like you would like an external orchestration framework","body":"self-contained operations will still be in some form of classes, anonymous or not, but still physically present. will have to wait for the project lambda to have more natural constructs for things like you&#39;re doing. I would also assume you need all this within &quot;plain java&quot; paradigms? Doesn&#39;t sound like you would like an external orchestration framework"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337656495,"post_id":10695152,"comment_id":13883970,"body_markdown":"@Rob I: sadly, non-blocking is a must-have.","body":"@Rob I: sadly, non-blocking is a must-have."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337656734,"post_id":10695152,"comment_id":13883997,"body_markdown":"@Pavel Veller: &quot;plain Java&quot; is preferable, but if there&#39;s something out there that helps code this neatly, I&#39;ll consider it. Which part of Project Lambda (http://openjdk.java.net/projects/lambda/) did you see as being useful here?","body":"@Pavel Veller: &quot;plain Java&quot; is preferable, but if there&#39;s something out there that helps code this neatly, I&#39;ll consider it. Which part of Project Lambda (<a href=\"http://openjdk.java.net/projects/lambda/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/lambda</a>) did you see as being useful here?"},{"owner":{"account_id":1060787,"reputation":5657,"user_id":1062461,"display_name":"Rob I"},"score":3,"creation_date":1337657006,"post_id":10695152,"comment_id":13884030,"body_markdown":"@AndrewSwan then since the implementation (not only the interface) must not block, I like your list idea - set up a list of &quot;operations&quot; (perhaps `Future`s?), for which the setup should be pretty clear.  Then upon receiving each response, the next operation should be invoked.  With a little imagination, this sounds like the [chain of responsibility](http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern).","body":"@AndrewSwan then since the implementation (not only the interface) must not block, I like your list idea - set up a list of &quot;operations&quot; (perhaps <code>Future</code>s?), for which the setup should be pretty clear.  Then upon receiving each response, the next operation should be invoked.  With a little imagination, this sounds like the <a href=\"http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"nofollow noreferrer\">chain of responsibility</a>."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337673166,"post_id":10695152,"comment_id":13887748,"body_markdown":"I&#39;ve looked at commons-chain, but unfortunately it only seems to support synchronous execution, because it blocks between each execution of Command#execute(). I&#39;ll see what I can whip up from scratch.","body":"I&#39;ve looked at commons-chain, but unfortunately it only seems to support synchronous execution, because it blocks between each execution of Command#execute(). I&#39;ll see what I can whip up from scratch."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337816145,"post_id":10695152,"comment_id":13937478,"body_markdown":"@Rob I, if you could make your CoR idea an answer, I can upvote it.","body":"@Rob I, if you could make your CoR idea an answer, I can upvote it."},{"owner":{"account_id":336344,"reputation":4289,"user_id":663948,"accept_rate":48,"display_name":"fifth"},"score":1,"creation_date":1409665879,"post_id":10695152,"comment_id":40034445,"body_markdown":"Would the [RxJava](https://github.com/ReactiveX/RxJava/wiki/Getting-Started) help?","body":"Would the <a href=\"https://github.com/ReactiveX/RxJava/wiki/Getting-Started\" rel=\"nofollow noreferrer\">RxJava</a> help?"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1409705687,"post_id":10695152,"comment_id":40052174,"body_markdown":"It might, from the quick look I just had. If you&#39;d like to add that as an answer, I&#39;ll upvote it.","body":"It might, from the quick look I just had. If you&#39;d like to add that as an answer, I&#39;ll upvote it."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1469768267,"post_id":10695152,"comment_id":64683519,"body_markdown":"SO doesn&#39;t want me to answer my own question, so I&#39;ll just note here that Spring 5 seems to offer some assistance when writing fully async applications: https://spring.io/blog/2016/07/28/reactive-programming-with-spring-5-0-m1","body":"SO doesn&#39;t want me to answer my own question, so I&#39;ll just note here that Spring 5 seems to offer some assistance when writing fully async applications: <a href=\"https://spring.io/blog/2016/07/28/reactive-programming-with-spring-5-0-m1\" rel=\"nofollow noreferrer\">spring.io/blog/2016/07/28/&hellip;</a>"},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1471234319,"post_id":10695152,"comment_id":65253264,"body_markdown":"It&#39;s also not answering my own question, but Kotlin is adding coroutines to avoid &quot;callback hell&quot;: https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md","body":"It&#39;s also not answering my own question, but Kotlin is adding coroutines to avoid &quot;callback hell&quot;: <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlin-coroutines/blob/master/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337676310,"post_id":10695933,"comment_id":13888806,"body_markdown":"You seem to be the author of df4j, in which case I think you ought to disclose that when recommending it.","body":"You seem to be the author of df4j, in which case I think you ought to disclose that when recommending it."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337740951,"post_id":10695933,"comment_id":13911443,"body_markdown":"Are there any examples of using df4j to solve the nested callback problem in particular?","body":"Are there any examples of using df4j to solve the nested callback problem in particular?"},{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":1,"creation_date":1337801897,"post_id":10695933,"comment_id":13933217,"body_markdown":"I do not consider  &quot;nested callback problem&quot; as a problem, since as soon as callbacks are represented as actors, then nesting disappear. df4j has many examples of using actors. Actors are objects which run asynchronously. References to actors can be send in messages, so that the actor which handles the message can access the referenced actor. The idea of df4j is that user can extend it to fit to the particular use case (say, make an actor-like class which implements Callback&lt;R extends Response&gt; and another class with a method send(Request, Callback)).","body":"I do not consider  &quot;nested callback problem&quot; as a problem, since as soon as callbacks are represented as actors, then nesting disappear. df4j has many examples of using actors. Actors are objects which run asynchronously. References to actors can be send in messages, so that the actor which handles the message can access the referenced actor. The idea of df4j is that user can extend it to fit to the particular use case (say, make an actor-like class which implements Callback&lt;R extends Response&gt; and another class with a method send(Request, Callback))."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1337816070,"post_id":10695933,"comment_id":13937456,"body_markdown":"Thanks for explaining that, I&#39;m not so familiar with Actors.","body":"Thanks for explaining that, I&#39;m not so familiar with Actors."},{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":0,"creation_date":1389678829,"post_id":10695933,"comment_id":31754800,"body_markdown":"I&#39;ve since come across Akka, which looks like it could help in this scenario.","body":"I&#39;ve since come across Akka, which looks like it could help in this scenario."}],"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337700514,"creation_date":1337662803,"answer_id":10695933,"question_id":10695152,"body_markdown":"You can use actor computing model. In your case, the client, services, and callbacks [B-D] all can be represented as actors.\r\n\r\nThere are many actor libraries for java. Most of them, however, are heavyweight, so I wrote a  compact and extendable one: [df4j][1]. It considers actor model as a specific case of more general dataflow computing model and, as a result, allows user to create new types of actors, to optimally fit user&#39;s requirements.\r\n\r\n  [1]: https://github.com/rfqu/df4j &quot;df4j&quot;","title":"Java pattern for nested callbacks?","body":"<p>You can use actor computing model. In your case, the client, services, and callbacks [B-D] all can be represented as actors.</p>\n\n<p>There are many actor libraries for java. Most of them, however, are heavyweight, so I wrote a  compact and extendable one: <a href=\"https://github.com/rfqu/df4j\" rel=\"nofollow\" title=\"df4j\">df4j</a>. It considers actor model as a specific case of more general dataflow computing model and, as a result, allows user to create new types of actors, to optimally fit user's requirements.</p>\n"},{"comments":[{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1337802351,"post_id":10697203,"comment_id":13933391,"body_markdown":"One problem of j.u.c.Future&lt;V&gt; is that Future.get() cannot be called from a task which executes under j.u.c.Executor (may cause a deadlock), only from a separate thread.","body":"One problem of j.u.c.Future&lt;V&gt; is that Future.get() cannot be called from a task which executes under j.u.c.Executor (may cause a deadlock), only from a separate thread."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1337810827,"post_id":10697203,"comment_id":13936291,"body_markdown":"@AlexeiKaigorodov: I think it&#39;s safe as long as each task has its own `Executor` (which is basically what you said).  That&#39;s probably the best reason to use `ListenableFuture&lt;V&gt;`: to shield you from blocking on a call to `Future.get()`.","body":"@AlexeiKaigorodov: I think it&#39;s safe as long as each task has its own <code>Executor</code> (which is basically what you said).  That&#39;s probably the best reason to use <code>ListenableFuture&lt;V&gt;</code>: to shield you from blocking on a call to <code>Future.get()</code>."}],"tags":[],"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1694568895,"creation_date":1337669775,"answer_id":10697203,"question_id":10695152,"body_markdown":"In my opinion, the most natural way to model this kind of problem is with [`Future&lt;V&gt;`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html).\r\n\r\nSo instead of using a callback, just return a &quot;thunk&quot;: a `Future&lt;Response&gt;` that represents the response that will be available at some point in the future.\r\n\r\nThen you can either model subsequent steps as things like `Future&lt;ResponseB&gt; step2(Future&lt;ResponseA&gt;)`, or use [`ListenableFuture&lt;V&gt;`][7] from Guava.  Then you can use [`Futures.transform()`][8] or one of its overloads to chain your functions in a natural way while still preserving the asynchronous nature.\r\n\r\nIf used in this way, `Future&lt;V&gt;` behaves like a monad (in fact, I think it may qualify as one, although I&#39;m not sure off the top of my head), and so the whole process feels a bit like IO in Haskell as performed via the IO monad.\r\n\r\n[7]: https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/ListenableFuture.html\r\n\r\n[8]: https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/Futures.html#transform(com.google.common.util.concurrent.ListenableFuture,com.google.common.base.Function,java.util.concurrent.Executor)","title":"Java pattern for nested callbacks?","body":"<p>In my opinion, the most natural way to model this kind of problem is with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future&lt;V&gt;</code></a>.</p>\n<p>So instead of using a callback, just return a &quot;thunk&quot;: a <code>Future&lt;Response&gt;</code> that represents the response that will be available at some point in the future.</p>\n<p>Then you can either model subsequent steps as things like <code>Future&lt;ResponseB&gt; step2(Future&lt;ResponseA&gt;)</code>, or use <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/ListenableFuture.html\" rel=\"nofollow noreferrer\"><code>ListenableFuture&lt;V&gt;</code></a> from Guava.  Then you can use <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/util/concurrent/Futures.html#transform(com.google.common.util.concurrent.ListenableFuture,com.google.common.base.Function,java.util.concurrent.Executor)\" rel=\"nofollow noreferrer\"><code>Futures.transform()</code></a> or one of its overloads to chain your functions in a natural way while still preserving the asynchronous nature.</p>\n<p>If used in this way, <code>Future&lt;V&gt;</code> behaves like a monad (in fact, I think it may qualify as one, although I'm not sure off the top of my head), and so the whole process feels a bit like IO in Haskell as performed via the IO monad.</p>\n"},{"tags":[],"owner":{"account_id":1503465,"reputation":1125,"user_id":1407398,"display_name":"ejb_guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337671952,"creation_date":1337671952,"answer_id":10697655,"question_id":10695152,"body_markdown":"I am not sure if I get you question correctly. If you want to invoke a service and on its completion result need to be passed to other object which can continue processing using result. You can look at using Composite and Observer to achive this. ","title":"Java pattern for nested callbacks?","body":"<p>I am not sure if I get you question correctly. If you want to invoke a service and on its completion result need to be passed to other object which can continue processing using result. You can look at using Composite and Observer to achive this. </p>\n"},{"comments":[{"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"score":1,"creation_date":1339721896,"post_id":10731913,"comment_id":14444427,"body_markdown":"This put me on the right track, so I&#39;ve accepted it. It ended up being more like a linked list, with each operation having a reference to the following operation, as explained in this blog post: http://seewah.blogspot.sg/2009/02/gwt-tips-1-chain-of-responsibility.html (in my case the code was more complicated because there were multiple types of request and response).","body":"This put me on the right track, so I&#39;ve accepted it. It ended up being more like a linked list, with each operation having a reference to the following operation, as explained in this blog post: <a href=\"http://seewah.blogspot.sg/2009/02/gwt-tips-1-chain-of-responsibility.html\" rel=\"nofollow noreferrer\">seewah.blogspot.sg/2009/02/&hellip;</a> (in my case the code was more complicated because there were multiple types of request and response)."}],"tags":[],"owner":{"account_id":1060787,"reputation":5657,"user_id":1062461,"display_name":"Rob I"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1337863543,"creation_date":1337838997,"answer_id":10731913,"question_id":10695152,"body_markdown":"Since the implementation (not only the interface) must not block, I like your list idea.\r\n\r\nSet up a list of &quot;operations&quot; (perhaps `Future`s?), for which the setup should be pretty clear and readable. Then upon receiving each response, the next operation should be invoked. \r\n\r\nWith a little imagination, this sounds like the [chain of responsibility](http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern).  Here&#39;s some pseudocode for what I&#39;m imagining:\r\n\r\n    public void setup() {\r\n        this.operations.add(new Operation(new RequestA(), new CallbackA()));\r\n        this.operations.add(new Operation(new RequestB(), new CallbackB()));\r\n        this.operations.add(new Operation(new RequestC(), new CallbackC()));\r\n        this.operations.add(new Operation(new RequestD(), new CallbackD()));\r\n        startNextOperation();\r\n    }\r\n    private void startNextOperation() {\r\n        if ( this.operations.isEmpty() ) { reportAllOperationsComplete(); }\r\n        Operation op = this.operations.remove(0);\r\n        op.request.go( op.callback );\r\n    }\r\n    private class CallbackA implements Callback&lt;Boolean&gt; {\r\n        public void onSuccess(Boolean response) {\r\n            // store response? etc?\r\n            startNextOperation();\r\n        }\r\n    }\r\n    ...\r\n\r\n","title":"Java pattern for nested callbacks?","body":"<p>Since the implementation (not only the interface) must not block, I like your list idea.</p>\n\n<p>Set up a list of \"operations\" (perhaps <code>Future</code>s?), for which the setup should be pretty clear and readable. Then upon receiving each response, the next operation should be invoked. </p>\n\n<p>With a little imagination, this sounds like the <a href=\"http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\">chain of responsibility</a>.  Here's some pseudocode for what I'm imagining:</p>\n\n<pre><code>public void setup() {\n    this.operations.add(new Operation(new RequestA(), new CallbackA()));\n    this.operations.add(new Operation(new RequestB(), new CallbackB()));\n    this.operations.add(new Operation(new RequestC(), new CallbackC()));\n    this.operations.add(new Operation(new RequestD(), new CallbackD()));\n    startNextOperation();\n}\nprivate void startNextOperation() {\n    if ( this.operations.isEmpty() ) { reportAllOperationsComplete(); }\n    Operation op = this.operations.remove(0);\n    op.request.go( op.callback );\n}\nprivate class CallbackA implements Callback&lt;Boolean&gt; {\n    public void onSuccess(Boolean response) {\n        // store response? etc?\n        startNextOperation();\n    }\n}\n...\n</code></pre>\n"}],"owner":{"account_id":6248,"reputation":13507,"user_id":10433,"accept_rate":74,"display_name":"Andrew Swan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9111,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":10731913,"answer_count":4,"score":44,"last_activity_date":1694568895,"creation_date":1337655018,"question_id":10695152,"body_markdown":"I&#39;m looking for a Java pattern for making a nested sequence of non-blocking method calls. In my case, some client code needs to asynchronously invoke a service to perform some use case, and each step of that use case must itself be performed asynchronously (for reasons outside the scope of this question). Imagine I have existing interfaces as follows:\r\n\r\n    public interface Request {} \r\n\r\n    public interface Response {} \r\n\r\n    public interface Callback&lt;R extends Response&gt; {\r\n        void onSuccess(R response);\r\n        void onError(Exception e);\r\n    }\r\n\r\nThere are various paired implementations of the &lt;code&gt;Request&lt;/code&gt; and &lt;code&gt;Response&lt;/code&gt; interfaces, namely &lt;code&gt;RequestA&lt;/code&gt; + &lt;code&gt;ResponseA&lt;/code&gt; (given by the client), &lt;code&gt;RequestB&lt;/code&gt; + &lt;code&gt;ResponseB&lt;/code&gt; (used internally by the service), etc.\r\n\r\nThe processing flow looks like this:\r\n\r\n![Sequence diagram showing nested callbacks.][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/egQJX.png\r\n\r\nIn between the receipt of each response and the sending of the next request, some additional processing needs to happen (e.g. based on values in any of the previous requests or responses).\r\n\r\nSo far I&#39;ve tried two approaches to coding this in Java:\r\n\r\n* anonymous classes: gets ugly quickly because of the required nesting\r\n* inner classes: neater than the above, but still hard for another developer to comprehend the flow of execution\r\n\r\nIs there some pattern to make this code more readable? For example, could I express the service method as a list of self-contained operations that are executed in sequence by some framework class that takes care of the nesting?","title":"Java pattern for nested callbacks?","body":"<p>I'm looking for a Java pattern for making a nested sequence of non-blocking method calls. In my case, some client code needs to asynchronously invoke a service to perform some use case, and each step of that use case must itself be performed asynchronously (for reasons outside the scope of this question). Imagine I have existing interfaces as follows:</p>\n\n<pre><code>public interface Request {} \n\npublic interface Response {} \n\npublic interface Callback&lt;R extends Response&gt; {\n    void onSuccess(R response);\n    void onError(Exception e);\n}\n</code></pre>\n\n<p>There are various paired implementations of the <code>Request</code> and <code>Response</code> interfaces, namely <code>RequestA</code> + <code>ResponseA</code> (given by the client), <code>RequestB</code> + <code>ResponseB</code> (used internally by the service), etc.</p>\n\n<p>The processing flow looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/egQJX.png\" alt=\"Sequence diagram showing nested callbacks.\"></p>\n\n<p>In between the receipt of each response and the sending of the next request, some additional processing needs to happen (e.g. based on values in any of the previous requests or responses).</p>\n\n<p>So far I've tried two approaches to coding this in Java:</p>\n\n<ul>\n<li>anonymous classes: gets ugly quickly because of the required nesting</li>\n<li>inner classes: neater than the above, but still hard for another developer to comprehend the flow of execution</li>\n</ul>\n\n<p>Is there some pattern to make this code more readable? For example, could I express the service method as a list of self-contained operations that are executed in sequence by some framework class that takes care of the nesting?</p>\n"},{"tags":["java","windows","apache-spark"],"comments":[{"owner":{"account_id":1269867,"reputation":2029,"user_id":1226436,"accept_rate":95,"display_name":"Miguel"},"score":0,"creation_date":1567695818,"post_id":57808230,"comment_id":102048188,"body_markdown":"have you tried C:\\\\hive\\\\orders\\\\ double slashes?","body":"have you tried C:\\\\hive\\\\orders\\\\ double slashes?"},{"owner":{"account_id":3115875,"reputation":149,"user_id":2636642,"accept_rate":83,"display_name":"Prakash Raj"},"score":0,"creation_date":1567696386,"post_id":57808230,"comment_id":102048497,"body_markdown":"@Miguel tried with C://hive//Orders_[0-9]*.csv, still same error.","body":"@Miguel tried with C://hive//Orders_[0-9]*.csv, still same error."},{"owner":{"account_id":8355372,"reputation":2575,"user_id":6275871,"display_name":"SMaZ"},"score":0,"creation_date":1567699542,"post_id":57808230,"comment_id":102050165,"body_markdown":"Check if you have `%HADOOP_HOME%/bin` in `PATH`. It should be set in environment variable or set in your java as `System property`","body":"Check if you have <code>%HADOOP_HOME%&#47;bin</code> in <code>PATH</code>. It should be set in environment variable or set in your java as <code>System property</code>"}],"answers":[{"tags":[],"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694566952,"creation_date":1590555742,"answer_id":62035814,"question_id":57808230,"body_markdown":"Here is a possible solution\r\n\r\n1. Download Hadoop on its own (if coming from Spark)\r\n1. Download **matching** Hadoop version files for Windows from https://github.com/cdarlint/winutils\r\n2. Extract the files (e.g. C:\\hadoop). Make sure the directory structure is similar to this `C:\\hadoop\\bin\\winutils.exe`\r\n3. Set environment variable `HADOOP_HOME` to `C:\\hadoop`\r\n4. Add Hadoop to Path env variable: `%HADOOP_HOME%\\bin`\r\n5. Copy `hadoop.dll` to `Windows\\System32` (may not be necessary)\r\n6. Restart system\r\n7. Java application specific: \r\nAdd this to the main method: `System.setProperty (&quot;hadoop.home.dir&quot;, &quot;C:/hadoop/&quot; );`  `System.load (&quot;C:/hadoop/bin/hadoop.dll&quot;);`\r\n\r\nReferences:\r\n\r\n 1. https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems\r\n 2. https://sparkbyexamples.com/spark/spark-hadoop-exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io-nativeio-nativeiowindows-access0ljava-lang-stringiz/\r\n 3. https://blog.csdn.net/weixin_30802273/article/details/96528359\r\n\r\n","title":"Spark on Windows - java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0","body":"<p>Here is a possible solution</p>\n<ol>\n<li>Download Hadoop on its own (if coming from Spark)</li>\n<li>Download <strong>matching</strong> Hadoop version files for Windows from <a href=\"https://github.com/cdarlint/winutils\" rel=\"nofollow noreferrer\">https://github.com/cdarlint/winutils</a></li>\n<li>Extract the files (e.g. C:\\hadoop). Make sure the directory structure is similar to this <code>C:\\hadoop\\bin\\winutils.exe</code></li>\n<li>Set environment variable <code>HADOOP_HOME</code> to <code>C:\\hadoop</code></li>\n<li>Add Hadoop to Path env variable: <code>%HADOOP_HOME%\\bin</code></li>\n<li>Copy <code>hadoop.dll</code> to <code>Windows\\System32</code> (may not be necessary)</li>\n<li>Restart system</li>\n<li>Java application specific:\nAdd this to the main method: <code>System.setProperty (&quot;hadoop.home.dir&quot;, &quot;C:/hadoop/&quot; );</code>  <code>System.load (&quot;C:/hadoop/bin/hadoop.dll&quot;);</code></li>\n</ol>\n<p>References:</p>\n<ol>\n<li><a href=\"https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/HADOOP2/WindowsProblems</a></li>\n<li><a href=\"https://sparkbyexamples.com/spark/spark-hadoop-exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io-nativeio-nativeiowindows-access0ljava-lang-stringiz/\" rel=\"nofollow noreferrer\">https://sparkbyexamples.com/spark/spark-hadoop-exception-in-thread-main-java-lang-unsatisfiedlinkerror-org-apache-hadoop-io-nativeio-nativeiowindows-access0ljava-lang-stringiz/</a></li>\n<li><a href=\"https://blog.csdn.net/weixin_30802273/article/details/96528359\" rel=\"nofollow noreferrer\">https://blog.csdn.net/weixin_30802273/article/details/96528359</a></li>\n</ol>\n"}],"owner":{"account_id":3115875,"reputation":149,"user_id":2636642,"accept_rate":83,"display_name":"Prakash Raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62035814,"answer_count":1,"score":2,"last_activity_date":1694566952,"creation_date":1567695621,"question_id":57808230,"body_markdown":"In Win10, in IntelliJ this path(&quot;C:/hive/Orders_[0-9]*.csv&quot;) works good when run as stand alone java spark job. But not working as Spring Boot spark job.\r\nSeems the spring boot not detecting native Filesystem. Not sure how to resolve this.  \r\n\r\n````\r\nDataset&lt;Row&gt; DF1 = spark\r\n                .read().format(&quot;csv&quot;)\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .option(&quot;delimiter&quot;, &quot;\\t&quot;)\r\n                .load(&quot;C:/hive/Orders_[0-9]*.csv&quot;);\r\n\r\n````\r\n\r\nError:\r\n````\r\nError starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n2019-09-04 21:59:27.701 ERROR [omni-ods-migration,,,] 8216 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;odsMigrationService&#39;: Invocation of init method failed; nested exception is java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)\r\n\tat com.jcpenney.ods.OdsMigration.main(OdsMigration.java:20)\r\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\r\n\tat org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:645)\r\n\tat org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1230)\r\n\tat org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1435)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:493)\r\n\tat org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1868)\r\n\tat org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1910)\r\n\tat org.apache.hadoop.fs.ChecksumFileSystem.listStatus(ChecksumFileSystem.java:678)\r\n\tat org.apache.hadoop.fs.Globber.listStatus(Globber.java:77)\r\n\tat org.apache.hadoop.fs.Globber.doGlob(Globber.java:235)\r\n\tat org.apache.hadoop.fs.Globber.glob(Globber.java:149)\r\n\tat org.apache.hadoop.fs.FileSystem.globStatus(FileSystem.java:2016)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil.globPath(SparkHadoopUtil.scala:241)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil.globPathIfNecessary(SparkHadoopUtil.scala:247)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:383)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:379)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\r\n\tat scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\r\n\tat scala.collection.immutable.List.foreach(List.scala:392)\r\n\tat scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:241)\r\n\tat scala.collection.immutable.List.flatMap(List.scala:355)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:379)\r\n\tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:149)\r\n\tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:132)\r\n\tat com.jcpenney.ods.service.OdsMigrationService.readHfsFile(OdsMigrationService.java:588)\r\n\tat com.jcpenney.ods.service.OdsMigrationService.processOrders(OdsMigrationService.java:334)\r\n\tat com.jcpenney.ods.service.OdsMigrationService.run(OdsMigrationService.java:129)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311)\r\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134)\r\n\t... 16 common frames omitted\r\n\r\n````\r\n\r\nbelow code works good in spring boot as well when the path is given with exact file name.\r\n\r\n````\r\nDataset&lt;Row&gt; DF1 = spark\r\n                .read().format(&quot;csv&quot;)\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .option(&quot;delimiter&quot;, &quot;\\t&quot;)\r\n                .load(&quot;C:/hive/Orders_000001.csv&quot;);\r\n\r\n````\r\nhow to fix this?","title":"Spark on Windows - java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0","body":"<p>In Win10, in IntelliJ this path(\"C:/hive/Orders_[0-9]*.csv\") works good when run as stand alone java spark job. But not working as Spring Boot spark job.\nSeems the spring boot not detecting native Filesystem. Not sure how to resolve this.  </p>\n\n<pre><code>Dataset&lt;Row&gt; DF1 = spark\n                .read().format(\"csv\")\n                .option(\"header\", \"true\")\n                .option(\"delimiter\", \"\\t\")\n                .load(\"C:/hive/Orders_[0-9]*.csv\");\n\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2019-09-04 21:59:27.701 ERROR [omni-ods-migration,,,] 8216 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'odsMigrationService': Invocation of init method failed; nested exception is java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:137)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:409)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1620)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:134)\n    at com.jcpenney.ods.OdsMigration.main(OdsMigration.java:20)\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\n    at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:645)\n    at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1230)\n    at org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1435)\n    at org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:493)\n    at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1868)\n    at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1910)\n    at org.apache.hadoop.fs.ChecksumFileSystem.listStatus(ChecksumFileSystem.java:678)\n    at org.apache.hadoop.fs.Globber.listStatus(Globber.java:77)\n    at org.apache.hadoop.fs.Globber.doGlob(Globber.java:235)\n    at org.apache.hadoop.fs.Globber.glob(Globber.java:149)\n    at org.apache.hadoop.fs.FileSystem.globStatus(FileSystem.java:2016)\n    at org.apache.spark.deploy.SparkHadoopUtil.globPath(SparkHadoopUtil.scala:241)\n    at org.apache.spark.deploy.SparkHadoopUtil.globPathIfNecessary(SparkHadoopUtil.scala:247)\n    at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:383)\n    at org.apache.spark.sql.execution.datasources.DataSource$$anonfun$12.apply(DataSource.scala:379)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\n    at scala.collection.TraversableLike$$anonfun$flatMap$1.apply(TraversableLike.scala:241)\n    at scala.collection.immutable.List.foreach(List.scala:392)\n    at scala.collection.TraversableLike$class.flatMap(TraversableLike.scala:241)\n    at scala.collection.immutable.List.flatMap(List.scala:355)\n    at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:379)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:149)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:132)\n    at com.jcpenney.ods.service.OdsMigrationService.readHfsFile(OdsMigrationService.java:588)\n    at com.jcpenney.ods.service.OdsMigrationService.processOrders(OdsMigrationService.java:334)\n    at com.jcpenney.ods.service.OdsMigrationService.run(OdsMigrationService.java:129)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:366)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:311)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:134)\n    ... 16 common frames omitted\n\n</code></pre>\n\n<p>below code works good in spring boot as well when the path is given with exact file name.</p>\n\n<pre><code>Dataset&lt;Row&gt; DF1 = spark\n                .read().format(\"csv\")\n                .option(\"header\", \"true\")\n                .option(\"delimiter\", \"\\t\")\n                .load(\"C:/hive/Orders_000001.csv\");\n\n</code></pre>\n\n<p>how to fix this?</p>\n"},{"tags":["java","java-7","java-6"],"comments":[{"owner":{"account_id":3046327,"reputation":10175,"user_id":2581872,"accept_rate":90,"display_name":"hichris123"},"score":0,"creation_date":1388380022,"post_id":20833602,"comment_id":31245965,"body_markdown":"Why can&#39;t you run the application with Java 7?","body":"Why can&#39;t you run the application with Java 7?"},{"owner":{"account_id":1289950,"reputation":2671,"user_id":1242236,"display_name":"Rugal"},"score":0,"creation_date":1388380336,"post_id":20833602,"comment_id":31246056,"body_markdown":"still can not understand your meaning","body":"still can not understand your meaning"},{"owner":{"account_id":3617416,"reputation":265,"user_id":3016945,"accept_rate":0,"display_name":"user3016945"},"score":0,"creation_date":1388382836,"post_id":20833602,"comment_id":31246771,"body_markdown":"I am automating adn=min tool which supports to java 6.and also basic requirement to test this application using java 6","body":"I am automating adn=min tool which supports to java 6.and also basic requirement to test this application using java 6"}],"answers":[{"tags":[],"owner":{"account_id":1888099,"reputation":167,"user_id":1706901,"accept_rate":75,"display_name":"Aroon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388383173,"creation_date":1388383173,"answer_id":20834182,"question_id":20833602,"body_markdown":"Go to the Java Control Panel-&gt;in Java tab click on View-&gt;from there you can enable or disable the specific JRE.\r\nYou can check here.\r\n&lt;http://download.java.net/jdk8/docs/technotes/guides/jweb/otherFeatures/version.html&gt;","title":"how to set java version path to firefox in runtime","body":"<p>Go to the Java Control Panel->in Java tab click on View->from there you can enable or disable the specific JRE.\nYou can check here.\n<a href=\"http://download.java.net/jdk8/docs/technotes/guides/jweb/otherFeatures/version.html\" rel=\"nofollow\">http://download.java.net/jdk8/docs/technotes/guides/jweb/otherFeatures/version.html</a></p>\n"},{"tags":[],"owner":{"account_id":319016,"reputation":441,"user_id":636542,"display_name":"DejanR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420820593,"creation_date":1420820593,"answer_id":27864873,"question_id":20833602,"body_markdown":"In Windows registry  set the plugin version You want to be used:\r\n\r\n - Windows(32bit):\r\n&lt;code&gt;\r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx \r\n&lt;/code&gt;\r\n - Windows (64bit):\r\n&lt;code&gt;\r\n    HKEY_LOCAL_MACHINE\\Software\\Wow6432Node\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx\r\n&lt;/code&gt;\r\n ![Registry example][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/QpRGi.jpg","title":"how to set java version path to firefox in runtime","body":"<p>In Windows registry  set the plugin version You want to be used:</p>\n\n<ul>\n<li>Windows(32bit):\n<code>\nHKEY_LOCAL_MACHINE\\SOFTWARE\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx \n</code></li>\n<li>Windows (64bit):\n<code>\nHKEY_LOCAL_MACHINE\\Software\\Wow6432Node\\MozillaPlugins\\@java.com/JavaPlugin,version=xx.xx.xx\n</code>\n<img src=\"https://i.stack.imgur.com/QpRGi.jpg\" alt=\"Registry example\"></li>\n</ul>\n"}],"owner":{"account_id":3617416,"reputation":265,"user_id":3016945,"accept_rate":0,"display_name":"user3016945"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9072,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":2,"score":8,"last_activity_date":1694566880,"creation_date":1388379706,"question_id":20833602,"body_markdown":"Please anyone help me to set java version path in Runtime.\r\n\r\ni installed two java versions in different directories.but i need to use java 7 compile code to execute appliction using java6 version.\r\n\r\nI need to set java 6 path for firefox browser could any one help me\r\n\r\nThanks in advance","title":"how to set java version path to firefox in runtime","body":"<p>Please anyone help me to set java version path in Runtime.</p>\n\n<p>i installed two java versions in different directories.but i need to use java 7 compile code to execute appliction using java6 version.</p>\n\n<p>I need to set java 6 path for firefox browser could any one help me</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6607062,"reputation":2118,"user_id":5103577,"display_name":"Luke B"},"score":2,"creation_date":1694563033,"post_id":77093286,"comment_id":135906869,"body_markdown":"You forgot the `break`","body":"You forgot the <code>break</code>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1694564455,"post_id":77093286,"comment_id":135907016,"body_markdown":"There is one very obvious difference between the working operators and the nonworking one...","body":"There is one very obvious difference between the working operators and the nonworking one..."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694566720,"post_id":77093286,"comment_id":135907208,"body_markdown":"By the way, you may want to research Shunting Yard algorithm.","body":"By the way, you may want to research Shunting Yard algorithm."}],"answers":[{"tags":[],"owner":{"account_id":12439965,"reputation":136,"user_id":9058664,"display_name":"Edd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694563114,"creation_date":1694563114,"answer_id":77093296,"question_id":77093286,"body_markdown":"You&#39;re missing a `break;` after your &#39;-&#39; line.\r\n\r\nAdd it in here: \r\n\r\n    case &quot;-&quot;:\r\n        res = (double)a-(double)b; //not working at the moment\r\n        break; //here","title":"&quot;-&quot; not working while trying to simulate a calculator","body":"<p>You're missing a <code>break;</code> after your '-' line.</p>\n<p>Add it in here:</p>\n<pre><code>case &quot;-&quot;:\n    res = (double)a-(double)b; //not working at the moment\n    break; //here\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22924054,"reputation":9,"user_id":17059438,"display_name":"MaaaaathiiiiiiiiiiEU"},"score":0,"creation_date":1694593618,"post_id":77093407,"comment_id":135910162,"body_markdown":"Thanks a lot for your help and your knowledge sharing !","body":"Thanks a lot for your help and your knowledge sharing !"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694565943,"creation_date":1694565230,"answer_id":77093407,"question_id":77093286,"body_markdown":"&gt; _&quot;... When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ? ...&quot;_\r\n\r\nYou&#39;re missing a _break_ keyword.\r\n\r\n```java\r\ncase &quot;-&quot;:\r\n    res = (double)a-(double)b;\r\n    break;\r\n```\r\n\r\nUse the newer _[switch](https://docs.oracle.com/en/java/javase/20/language/switch-expressions.html)_ syntax, which infers a _break_ keyword.\r\n\r\nAdditionally, use the _[Scanner#nextDouble](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextDouble())_ method over the _nextInt_, considering you are casting to a _double_ later on.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString operator;\r\ndouble a, b, res;\r\nboolean invalid_operator = false;\r\nSystem.out.println(&quot;Enter first number&quot;);\r\na = scanner.nextDouble();\r\nSystem.out.println(&quot;Enter operator&quot;);\r\noperator = scanner.next();\r\nSystem.out.println(&quot;Enter second number&quot;);\r\nb = scanner.nextDouble();\r\nscanner.close();\r\nres = switch (operator) {\r\n    case &quot;/&quot; -&gt; a / b;\r\n    case &quot;*&quot; -&gt; a * b;\r\n    case &quot;+&quot; -&gt; a + b;\r\n    case &quot;-&quot; -&gt; a - b;\r\n    case &quot;%&quot; -&gt; a % b;\r\n    default -&gt; {\r\n        System.out.println(&quot;Invalid operator&quot;);\r\n        invalid_operator = true;\r\n        yield 0;\r\n    }\r\n};\r\nif(!invalid_operator){\r\n    System.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\r\n}\r\n```\r\n\r\nFinally, you should check _operator_ during its assignment, rather than during the calculation.  \r\nThis will remove the need for _invalid_operator_.\r\n\r\n```java\r\n...\r\nSystem.out.println(&quot;Enter operator&quot;);\r\nwhile (!(operator = scanner.next()).matches(&quot;[/*+%-]&quot;)) {\r\n    System.out.println(&quot;Invalid operator&quot;);\r\n    System.out.println(&quot;Enter operator&quot;);\r\n}\r\n...\r\nres = switch (operator) {\r\n    case &quot;/&quot; -&gt; a / b;\r\n    case &quot;*&quot; -&gt; a * b;\r\n    case &quot;+&quot; -&gt; a + b;\r\n    case &quot;-&quot; -&gt; a - b;\r\n    case &quot;%&quot; -&gt; a % b;\r\n    default -&gt; 0;\r\n};\r\nSystem.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\r\n```","title":"&quot;-&quot; not working while trying to simulate a calculator","body":"<blockquote>\n<p><em>&quot;... When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ? ...&quot;</em></p>\n</blockquote>\n<p>You're missing a <em>break</em> keyword.</p>\n<pre class=\"lang-java prettyprint-override\"><code>case &quot;-&quot;:\n    res = (double)a-(double)b;\n    break;\n</code></pre>\n<p>Use the newer <em><a href=\"https://docs.oracle.com/en/java/javase/20/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch</a></em> syntax, which infers a <em>break</em> keyword.</p>\n<p>Additionally, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextDouble()\" rel=\"nofollow noreferrer\">Scanner#nextDouble</a></em> method over the <em>nextInt</em>, considering you are casting to a <em>double</em> later on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString operator;\ndouble a, b, res;\nboolean invalid_operator = false;\nSystem.out.println(&quot;Enter first number&quot;);\na = scanner.nextDouble();\nSystem.out.println(&quot;Enter operator&quot;);\noperator = scanner.next();\nSystem.out.println(&quot;Enter second number&quot;);\nb = scanner.nextDouble();\nscanner.close();\nres = switch (operator) {\n    case &quot;/&quot; -&gt; a / b;\n    case &quot;*&quot; -&gt; a * b;\n    case &quot;+&quot; -&gt; a + b;\n    case &quot;-&quot; -&gt; a - b;\n    case &quot;%&quot; -&gt; a % b;\n    default -&gt; {\n        System.out.println(&quot;Invalid operator&quot;);\n        invalid_operator = true;\n        yield 0;\n    }\n};\nif(!invalid_operator){\n    System.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\n}\n</code></pre>\n<p>Finally, you should check <em>operator</em> during its assignment, rather than during the calculation.<br />\nThis will remove the need for <em>invalid_operator</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nSystem.out.println(&quot;Enter operator&quot;);\nwhile (!(operator = scanner.next()).matches(&quot;[/*+%-]&quot;)) {\n    System.out.println(&quot;Invalid operator&quot;);\n    System.out.println(&quot;Enter operator&quot;);\n}\n...\nres = switch (operator) {\n    case &quot;/&quot; -&gt; a / b;\n    case &quot;*&quot; -&gt; a * b;\n    case &quot;+&quot; -&gt; a + b;\n    case &quot;-&quot; -&gt; a - b;\n    case &quot;%&quot; -&gt; a % b;\n    default -&gt; 0;\n};\nSystem.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\n</code></pre>\n"}],"owner":{"account_id":22924054,"reputation":9,"user_id":17059438,"display_name":"MaaaaathiiiiiiiiiiEU"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1694565943,"creation_date":1694562899,"question_id":77093286,"body_markdown":"I have to (it&#39;s homework) simulate the behavior of a calculator in Java with a switch-case. When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ?\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tint a, b;\r\n\t\tString operator;\r\n\t\tdouble res = 0.0;\r\n\t\tboolean invalid_operator = false;\r\n\t\tSystem.out.println(&quot;Enter first number&quot;);\r\n\t\ta = scanner.nextInt();\r\n\t\tSystem.out.println(&quot;Enter operator&quot;);\r\n\t\toperator = scanner.next();\r\n\t\tSystem.out.println(&quot;Enter second number&quot;);\r\n\t\tb = scanner.nextInt();\r\n\t\tscanner.close();\r\n\t\t\r\n\t\tswitch(operator) {\r\n\t\t  case &quot;/&quot;:\r\n\t\t    res = (double)a/(double)b;\r\n\t\t    break;\r\n\t\t  case &quot;*&quot;:\r\n\t\t    res = (double)a*(double)b;\r\n\t\t    break;\r\n\t\t  case &quot;+&quot;:\r\n\t\t    res = (double)a+(double)b;\r\n\t\t    break;\r\n\t\t  case &quot;-&quot;:\r\n\t\t    res = (double)a-(double)b; //not working at the moment\r\n\t\t  case &quot;%&quot;:\r\n\t\t    res = (double)a%(double)b;\r\n\t\t    break;\r\n\t\t  default:\r\n\t\t    System.out.println(&quot;Invalid operator&quot;);\r\n\t\t    invalid_operator = true;\r\n\t\t}\r\n\t\tif(!invalid_operator){\r\n\t\t\tSystem.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried 6 and 2 for every operation. I expect it to calculate correctly.","title":"&quot;-&quot; not working while trying to simulate a calculator","body":"<p>I have to (it's homework) simulate the behavior of a calculator in Java with a switch-case. When I enter the numbers and the operator and I chose &quot;/&quot;, &quot;%&quot;, &quot;*&quot; or &quot;+&quot;, it works perfectly. But when I chose &quot;-&quot;, it prints for example &quot;6 - 2 = 0.0&quot;, which is the default value of res. Why is that and how to fix it please ?</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int a, b;\n        String operator;\n        double res = 0.0;\n        boolean invalid_operator = false;\n        System.out.println(&quot;Enter first number&quot;);\n        a = scanner.nextInt();\n        System.out.println(&quot;Enter operator&quot;);\n        operator = scanner.next();\n        System.out.println(&quot;Enter second number&quot;);\n        b = scanner.nextInt();\n        scanner.close();\n        \n        switch(operator) {\n          case &quot;/&quot;:\n            res = (double)a/(double)b;\n            break;\n          case &quot;*&quot;:\n            res = (double)a*(double)b;\n            break;\n          case &quot;+&quot;:\n            res = (double)a+(double)b;\n            break;\n          case &quot;-&quot;:\n            res = (double)a-(double)b; //not working at the moment\n          case &quot;%&quot;:\n            res = (double)a%(double)b;\n            break;\n          default:\n            System.out.println(&quot;Invalid operator&quot;);\n            invalid_operator = true;\n        }\n        if(!invalid_operator){\n            System.out.println(a+&quot; &quot;+operator+&quot; &quot;+b+&quot; = &quot;+res);\n        }\n    }\n}\n</code></pre>\n<p>I tried 6 and 2 for every operation. I expect it to calculate correctly.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1694541121,"post_id":77091541,"comment_id":135903755,"body_markdown":"Use two builders, that&#39;s where you&#39;re keeping the lambda state.","body":"Use two builders, that&#39;s where you&#39;re keeping the lambda state."}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1694542020,"post_id":77091627,"comment_id":135903922,"body_markdown":"I was going to suggest your second suggestion myself. The local variable will not be updated when the builder&#39;s field is updated. It&#39;s effectively final, otherwise it can&#39;t even be used inside the lambda.","body":"I was going to suggest your second suggestion myself. The local variable will not be updated when the builder&#39;s field is updated. It&#39;s effectively final, otherwise it can&#39;t even be used inside the lambda."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694565717,"creation_date":1694541770,"answer_id":77091627,"question_id":77091541,"body_markdown":"Like [@Kayaman][1] said:\r\n\r\n&gt; Use two builders, that&#39;s where you&#39;re keeping the lambda state.\r\n\r\nSo the solution will be this way:\r\n```java\r\nBuilder builderBy3 = new Builder();\r\nBuilder builderBy6 = new Builder();\r\n\r\nCallable multiplierBy3 = builderBy3.multiplyBy(3).build();\r\nCallable multiplierBy6 = builderBy6.multiplyBy(6).build();\r\n\r\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\r\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\r\n```\r\n\r\nBut you can also do it modifying the `Builder`:\r\n```java\r\nclass Builder {\r\n\tprivate Integer multiplier;\r\n\r\n\tpublic Builder multiplyBy(Integer multiplier) {\r\n\t\tthis.multiplier = multiplier;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Callable build() {\r\n\t\tint currentMultiplier = this.multiplier; // Current multiplier value\r\n\t\treturn (value) -&gt; value * currentMultiplier; // Use it in the lambda\r\n\t}\r\n}\r\n```\r\n\r\nThen you can do:\r\n```java\r\nBuilder builder = new Builder();\r\n\r\nCallable multiplierBy3 = builder.multiplyBy(3).build();\r\nCallable multiplierBy6 = builder.multiplyBy(6).build();\r\n\r\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\r\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/2541560/kayaman","title":"How to &quot;bake&quot; value in lambda","body":"<p>Like <a href=\"https://stackoverflow.com/users/2541560/kayaman\">@Kayaman</a> said:</p>\n<blockquote>\n<p>Use two builders, that's where you're keeping the lambda state.</p>\n</blockquote>\n<p>So the solution will be this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Builder builderBy3 = new Builder();\nBuilder builderBy6 = new Builder();\n\nCallable multiplierBy3 = builderBy3.multiplyBy(3).build();\nCallable multiplierBy6 = builderBy6.multiplyBy(6).build();\n\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\n</code></pre>\n<p>But you can also do it modifying the <code>Builder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Builder {\n    private Integer multiplier;\n\n    public Builder multiplyBy(Integer multiplier) {\n        this.multiplier = multiplier;\n        return this;\n    }\n\n    public Callable build() {\n        int currentMultiplier = this.multiplier; // Current multiplier value\n        return (value) -&gt; value * currentMultiplier; // Use it in the lambda\n    }\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Builder builder = new Builder();\n\nCallable multiplierBy3 = builder.multiplyBy(3).build();\nCallable multiplierBy6 = builder.multiplyBy(6).build();\n\nSystem.out.println(multiplierBy3.multiply(10)); // Returns 30\nSystem.out.println(multiplierBy6.multiply(10)); // Returns 60\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694559079,"creation_date":1694541779,"answer_id":77091631,"question_id":77091541,"body_markdown":"It&#39;s called a closure.   When a value goes out of scope, the lambda still retains access to it. Using `Functional interfaces` or methods to convert `f(x,y)` to `f(x)(y)` is known as [currying](https://en.wikipedia.org/wiki/Currying). Note that you can use existing interfaces.\r\n\r\n```\r\nFunction&lt;Integer, UnaryOperator&lt;Integer&gt;&gt; \r\n     createMultiplier = (operand1 -&gt; operand2 -&gt; operand1\r\n         * operand2);\r\n \r\n Function&lt;Integer, Integer&gt; multiplyBy3 = createMultiplier.apply(3);\r\n Function&lt;Integer, Integer&gt; multiplyBy6 = createMultiplier.apply(6);\r\n \r\n int result1 = multiplyBy3.apply(10);\r\n int result2 = multiplyBy6.apply(20);\r\n \r\n System.out.println(result1);\r\n System.out.println(result2);\r\n```\r\nprints\r\n```\r\n30\r\n120\r\n```\r\nHere is one I created some time ago for my own use. It allows the creation of a `log function` for any base.  I created an interface to give more appropriate names to the methods.\r\n```\r\ninterface Log {   \r\n    double of(double value);\r\n    \r\n    static Log forBase(double base) {\r\n            // compute logBase once for given base\r\n            final double logBase = Math.log(base);\r\n            return value -&gt; Math.log(value) / logBase;\r\n    }\r\n}\r\nLog log2 = Log.forBase(2);\r\nSystem.out.println(log2.of(32));\r\n```\r\nOr if you just need to get the log once.\r\n```\r\n System.out.println(Log.forBase(2).of(32));\r\n```\r\nBoth print\r\n```\r\n5.0\r\n```\r\n","title":"How to &quot;bake&quot; value in lambda","body":"<p>It's called a closure.   When a value goes out of scope, the lambda still retains access to it. Using <code>Functional interfaces</code> or methods to convert <code>f(x,y)</code> to <code>f(x)(y)</code> is known as <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"nofollow noreferrer\">currying</a>. Note that you can use existing interfaces.</p>\n<pre><code>Function&lt;Integer, UnaryOperator&lt;Integer&gt;&gt; \n     createMultiplier = (operand1 -&gt; operand2 -&gt; operand1\n         * operand2);\n \n Function&lt;Integer, Integer&gt; multiplyBy3 = createMultiplier.apply(3);\n Function&lt;Integer, Integer&gt; multiplyBy6 = createMultiplier.apply(6);\n \n int result1 = multiplyBy3.apply(10);\n int result2 = multiplyBy6.apply(20);\n \n System.out.println(result1);\n System.out.println(result2);\n</code></pre>\n<p>prints</p>\n<pre><code>30\n120\n</code></pre>\n<p>Here is one I created some time ago for my own use. It allows the creation of a <code>log function</code> for any base.  I created an interface to give more appropriate names to the methods.</p>\n<pre><code>interface Log {   \n    double of(double value);\n    \n    static Log forBase(double base) {\n            // compute logBase once for given base\n            final double logBase = Math.log(base);\n            return value -&gt; Math.log(value) / logBase;\n    }\n}\nLog log2 = Log.forBase(2);\nSystem.out.println(log2.of(32));\n</code></pre>\n<p>Or if you just need to get the log once.</p>\n<pre><code> System.out.println(Log.forBase(2).of(32));\n</code></pre>\n<p>Both print</p>\n<pre><code>5.0\n</code></pre>\n"}],"owner":{"account_id":8773814,"reputation":315,"user_id":6559689,"display_name":"colorgreen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":77091627,"answer_count":2,"score":3,"last_activity_date":1694565717,"creation_date":1694540946,"question_id":77091541,"body_markdown":"Let&#39;s say I have code like this\r\n\r\n```java\r\n\r\n@FunctionalInterface\r\ninterface Callable {\r\n    Integer multiply(Integer by);\r\n}\r\n\r\nclass Builder {\r\n    private Integer multiplier;\r\n\r\n    public Builder multiplyBy(Integer multiplier) {\r\n        this.multiplier= multiplier;\r\n        return this;\r\n    }\r\n\r\n    public Callable build() {\r\n        return (value) -&gt; value * multiplier; //how to &quot;bake&quot; hever value\r\n    }\r\n}\r\n\r\n// calling\r\n\r\nBuilder builder;\r\nCallable multiplierBy3 = builder.multiplyBy(3);\r\nCallable multiplierBy6 = builder.multiply(6);\r\n\r\nmultiplierBy3.multiply(10); //should return 30, returns 60\r\nmultiplierBy6.multiply(10); // return 60, ok, propably because of new multipier value\r\n```\r\nBehavior happens because calling second time `multiplyBy` sets new `value` in builder.\r\nHow I can manage to create each lambda own multiplier function?","title":"How to &quot;bake&quot; value in lambda","body":"<p>Let's say I have code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@FunctionalInterface\ninterface Callable {\n    Integer multiply(Integer by);\n}\n\nclass Builder {\n    private Integer multiplier;\n\n    public Builder multiplyBy(Integer multiplier) {\n        this.multiplier= multiplier;\n        return this;\n    }\n\n    public Callable build() {\n        return (value) -&gt; value * multiplier; //how to &quot;bake&quot; hever value\n    }\n}\n\n// calling\n\nBuilder builder;\nCallable multiplierBy3 = builder.multiplyBy(3);\nCallable multiplierBy6 = builder.multiply(6);\n\nmultiplierBy3.multiply(10); //should return 30, returns 60\nmultiplierBy6.multiply(10); // return 60, ok, propably because of new multipier value\n</code></pre>\n<p>Behavior happens because calling second time <code>multiplyBy</code> sets new <code>value</code> in builder.\nHow I can manage to create each lambda own multiplier function?</p>\n"},{"tags":["java","docker","apache-kafka","prometheus"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694564370,"post_id":77092618,"comment_id":135907006,"body_markdown":"Ideally, you do use the agent jar in the kafka container itself... Note: Strimzi can do this for you in Kubernetes, rather than Docker Compose","body":"Ideally, you do use the agent jar in the kafka container itself... Note: Strimzi can do this for you in Kubernetes, rather than Docker Compose"}],"answers":[{"comments":[{"owner":{"account_id":29426104,"reputation":3,"user_id":22546783,"display_name":"Allen Hui"},"score":0,"creation_date":1694590204,"post_id":77093378,"comment_id":135909565,"body_markdown":"Do you mind going into a bit more detail? \nFrom what I understand, my config file should be looking at 9991 not 5556.\nThis is my first time working with these technologies, so I am a bit confused on how things are suppose to be connected. I am working on this project with a group and we have been stuck on prometheus for a couple days now. Thank you in advance!","body":"Do you mind going into a bit more detail?  From what I understand, my config file should be looking at 9991 not 5556. This is my first time working with these technologies, so I am a bit confused on how things are suppose to be connected. I am working on this project with a group and we have been stuck on prometheus for a couple days now. Thank you in advance!"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694640870,"post_id":77093378,"comment_id":135919648,"body_markdown":"I do not have experience with the `sscaling/jmx-prometheus-exporter` image, but based on documentation, its config file needs to point at a JMX server, which is `hostPort: kafka:9991`. Notice the difference in ports 12345 and 9999 - https://github.com/prometheus/jmx_exporter#running-the-standalone-http-server ; Or, like I said above, you could use minikube and Strimzi where this can all be automated. https://strimzi.io/docs/operators/latest/overview#metrics-overview_str","body":"I do not have experience with the <code>sscaling&#47;jmx-prometheus-exporter</code> image, but based on documentation, its config file needs to point at a JMX server, which is <code>hostPort: kafka:9991</code>. Notice the difference in ports 12345 and 9999 - <a href=\"https://github.com/prometheus/jmx_exporter#running-the-standalone-http-server\" rel=\"nofollow noreferrer\">github.com/prometheus/&hellip;</a> ; Or, like I said above, you could use minikube and Strimzi where this can all be automated. <a href=\"https://strimzi.io/docs/operators/latest/overview#metrics-overview_str\" rel=\"nofollow noreferrer\">strimzi.io/docs/operators/latest/overview#metrics-overview_s&zwnj;&#8203;tr</a>"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694564655,"creation_date":1694564655,"answer_id":77093378,"question_id":77092618,"body_markdown":"Nowhere in your values have you configured anything to read from `kafka:9991`, which is the JMX server that you want to read metrics from and parse into Prometheus format. \r\n\r\nOnly the prometheus scrape configs should use `jmx-kafka:5556`, as that&#39;s the HTTP server where metrics would be exposed. ","title":"How can I grab metrics from a clusterized instance of Kafka with Prometheus with JMX Exporter?","body":"<p>Nowhere in your values have you configured anything to read from <code>kafka:9991</code>, which is the JMX server that you want to read metrics from and parse into Prometheus format.</p>\n<p>Only the prometheus scrape configs should use <code>jmx-kafka:5556</code>, as that's the HTTP server where metrics would be exposed.</p>\n"}],"owner":{"account_id":29426104,"reputation":3,"user_id":22546783,"display_name":"Allen Hui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694564655,"creation_date":1694551897,"question_id":77092618,"body_markdown":"Here is the current configurations.\r\nDocker-compose.yaml \r\n\r\n```yml\r\nversion: &quot;3&quot;\r\n\r\nservices:\r\n  prometheus:\r\n    image: &quot;prom/prometheus:latest&quot;\r\n    ports:\r\n      - &quot;9090:9090&quot;\r\n    volumes:\r\n      - ./prometheus.yml:/prometheus.yml\r\n    command: &quot;--config.file=/prometheus.yml&quot;\r\n    container_name: prometheus\r\n\r\n  jmx-kafka:\r\n    image: &quot;sscaling/jmx-prometheus-exporter&quot;\r\n    ports:\r\n    - &quot;5556:5556&quot;\r\n    environment:\r\n      CONFIG_YML : &quot;./config.yml&quot;\r\n    volumes:\r\n    - ./config.yml:/config.yml\r\n    container_name: jmx_kafka\r\n    depends_on:\r\n    - kafka\r\n\r\n  zookeeper:\r\n    image: &#39;bitnami/zookeeper:latest&#39;\r\n    ports:\r\n      - &#39;2181:2181&#39;\r\n    environment:\r\n      - ALLOW_ANONYMOUS_LOGIN=yes`\r\n\r\n  kafka:\r\n    image: bitnami/kafka:latest\r\n    container_name: &quot;kafka&quot;\r\n    ports:\r\n      - &#39;9092:9092&#39;\r\n    environment:\r\n      KAFKA_BROKER_ID: 1\r\n      KAFKA_LISTENERS: PLAINTEXT://:9092\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://127.0.0.1:9092\r\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n      ALLOW_PLAINTEXT_LISTENER: yes\r\n      KAFKA_JMX_PORT: 9991\r\n    depends_on:\r\n      - zookeeper\r\n    volumes:\r\n      - ./kafka-jmx.properties:/opt/bitnami/kafka/conf/kafka-jmx.properties\r\n```\r\n\r\nprometheus.yml\r\n```yml\r\nglobal:\r\n  scrape_interval: 30s\r\n\r\nscrape_configs:\r\n  - job_name: &#39;prometheus&#39;\r\n    static_configs:\r\n      - targets: [&#39;localhost:9090&#39;]\r\n\r\n  - job_name: &#39;jmx-kafka&#39;\r\n    static_configs:\r\n      - targets: [&#39;jmx-kafka:5556&#39;]\r\n```\r\n\r\nand \r\nconfig.yml\r\n```yml\r\nhostPort: jmx-kafka:5556\r\nrules:\r\n- pattern: &quot;kafka.*&quot;\r\n```\r\n\r\nI am using the jmx httpserver, not the agentjar. What is wrong with my configuration? I am not able to get any metrics from the jmx exporter. No data in docker&#39;s logs or prometheus. Prometheus does not show the port being up.\r\n\r\nI have tried different configurations. I tried changing the following config.yml configuration.\r\n```yml\r\n lowercaseOutputName: true\r\n rules:\r\n   - pattern: &#39;kafka.*&#39;\r\n     name: &#39;kafka-metrics&#39;\r\n     value:  &#39;ValueToCollect&#39;\r\n     type: GAUGE\r\n```\r\nThis allows me to access metrics on prometheus, but it did not scrape any metrics from my Kafka app.\r\n","title":"How can I grab metrics from a clusterized instance of Kafka with Prometheus with JMX Exporter?","body":"<p>Here is the current configurations.\nDocker-compose.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3&quot;\n\nservices:\n  prometheus:\n    image: &quot;prom/prometheus:latest&quot;\n    ports:\n      - &quot;9090:9090&quot;\n    volumes:\n      - ./prometheus.yml:/prometheus.yml\n    command: &quot;--config.file=/prometheus.yml&quot;\n    container_name: prometheus\n\n  jmx-kafka:\n    image: &quot;sscaling/jmx-prometheus-exporter&quot;\n    ports:\n    - &quot;5556:5556&quot;\n    environment:\n      CONFIG_YML : &quot;./config.yml&quot;\n    volumes:\n    - ./config.yml:/config.yml\n    container_name: jmx_kafka\n    depends_on:\n    - kafka\n\n  zookeeper:\n    image: 'bitnami/zookeeper:latest'\n    ports:\n      - '2181:2181'\n    environment:\n      - ALLOW_ANONYMOUS_LOGIN=yes`\n\n  kafka:\n    image: bitnami/kafka:latest\n    container_name: &quot;kafka&quot;\n    ports:\n      - '9092:9092'\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_LISTENERS: PLAINTEXT://:9092\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://127.0.0.1:9092\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      ALLOW_PLAINTEXT_LISTENER: yes\n      KAFKA_JMX_PORT: 9991\n    depends_on:\n      - zookeeper\n    volumes:\n      - ./kafka-jmx.properties:/opt/bitnami/kafka/conf/kafka-jmx.properties\n</code></pre>\n<p>prometheus.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>global:\n  scrape_interval: 30s\n\nscrape_configs:\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n\n  - job_name: 'jmx-kafka'\n    static_configs:\n      - targets: ['jmx-kafka:5556']\n</code></pre>\n<p>and\nconfig.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>hostPort: jmx-kafka:5556\nrules:\n- pattern: &quot;kafka.*&quot;\n</code></pre>\n<p>I am using the jmx httpserver, not the agentjar. What is wrong with my configuration? I am not able to get any metrics from the jmx exporter. No data in docker's logs or prometheus. Prometheus does not show the port being up.</p>\n<p>I have tried different configurations. I tried changing the following config.yml configuration.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code> lowercaseOutputName: true\n rules:\n   - pattern: 'kafka.*'\n     name: 'kafka-metrics'\n     value:  'ValueToCollect'\n     type: GAUGE\n</code></pre>\n<p>This allows me to access metrics on prometheus, but it did not scrape any metrics from my Kafka app.</p>\n"},{"tags":["java","postgresql","jooq","jooq-codegen"],"comments":[{"owner":{"account_id":1991619,"reputation":664,"user_id":1785520,"accept_rate":50,"display_name":"Arsen"},"score":0,"creation_date":1667832162,"post_id":72600484,"comment_id":131255312,"body_markdown":"Hi! Did you manage to solve it somehow?","body":"Hi! Did you manage to solve it somehow?"},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1667850118,"post_id":72600484,"comment_id":131261806,"body_markdown":"@Arsen Somehow, yes, though I hate to say I didn&#39;t write down the resolution, at the time. Let me try to sum up our current setup... (1) group &quot;org.jooq&quot; as a dependency is excluded from the spring boot jooq starter, with jooq being its own dependency, (2) the build script workaround mentioned in Lukas&#39; answer is in place, (3) the workaround from https://github.com/etiennestuder/gradle-jooq-plugin/issues/183 is in place, and I think one of those - or maybe the combination of all - may have had the desired effect. Sorry I cannot be of more help. :( Write the answer down, when you find out.","body":"@Arsen Somehow, yes, though I hate to say I didn&#39;t write down the resolution, at the time. Let me try to sum up our current setup... (1) group &quot;org.jooq&quot; as a dependency is excluded from the spring boot jooq starter, with jooq being its own dependency, (2) the build script workaround mentioned in Lukas&#39; answer is in place, (3) the workaround from <a href=\"https://github.com/etiennestuder/gradle-jooq-plugin/issues/183\" rel=\"nofollow noreferrer\">github.com/etiennestuder/gradle-jooq-plugin/issues/183</a> is in place, and I think one of those - or maybe the combination of all - may have had the desired effect. Sorry I cannot be of more help. :( Write the answer down, when you find out."}],"answers":[{"comments":[{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1655114311,"post_id":72600708,"comment_id":128245366,"body_markdown":"ah, wonders of having a multi-project gradle setup... Thank you. Error persists in spite of the added buildscript. I assume you&#39;re right and that&#39;s going to be the source, it might take a while, though, before I figure out where and how I can apply your suggestion and accept this answer. xD","body":"ah, wonders of having a multi-project gradle setup... Thank you. Error persists in spite of the added buildscript. I assume you&#39;re right and that&#39;s going to be the source, it might take a while, though, before I figure out where and how I can apply your suggestion and accept this answer. xD"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1655114629,"post_id":72600708,"comment_id":128245473,"body_markdown":"@User1291: I figured it might not be the answer to your problem, but it could still be the answer to someone else&#39;s problem who stumbles upon this Stack Overflow question...","body":"@User1291: I figured it might not be the answer to your problem, but it could still be the answer to someone else&#39;s problem who stumbles upon this Stack Overflow question..."},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1655114880,"post_id":72600708,"comment_id":128245547,"body_markdown":"I don&#39;t suppose the dependency tree (see update) tells you more than it does me? If it&#39;s all in the same project, the buildscript should take effect, no?","body":"I don&#39;t suppose the dependency tree (see update) tells you more than it does me? If it&#39;s all in the same project, the buildscript should take effect, no?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1655116251,"post_id":72600708,"comment_id":128246004,"body_markdown":"@User1291: I&#39;m sorry, I don&#39;t know what might be causing those outdated dependencies. Spring Boot, perhaps?","body":"@User1291: I&#39;m sorry, I don&#39;t know what might be causing those outdated dependencies. Spring Boot, perhaps?"},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1655193581,"post_id":72600708,"comment_id":128267612,"body_markdown":"I&#39;ve now gotten rid of the downgrade by just letting spring do its thing and choosing that version ... still getting the same error.","body":"I&#39;ve now gotten rid of the downgrade by just letting spring do its thing and choosing that version ... still getting the same error."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655113125,"creation_date":1655113125,"answer_id":72600708,"question_id":72600484,"body_markdown":"The third party code generation plugin you&#39;re using seems to be wired towards an older XSD version for your configuration objects. This can have various reasons, not sure why you&#39;re running into this, but as per the documentation here:\r\nhttps://github.com/etiennestuder/gradle-jooq-plugin#enforcing-the-jooq-configuration-xml-schema-version\r\n\r\nYou can enforce an XSD version like this:\r\n\r\n```groovy\r\nbuildscript {\r\n    configurations[&#39;classpath&#39;].resolutionStrategy.eachDependency {\r\n        if (requested.group == &#39;org.jooq&#39;) {\r\n            useVersion &#39;3.16.6&#39;\r\n        }\r\n    }\r\n}\r\n```","title":"jOOQ codegen fails because of &quot;Invalid content&quot; `visibilityModifier` and `includeExcludePackageRoutines`","body":"<p>The third party code generation plugin you're using seems to be wired towards an older XSD version for your configuration objects. This can have various reasons, not sure why you're running into this, but as per the documentation here:\n<a href=\"https://github.com/etiennestuder/gradle-jooq-plugin#enforcing-the-jooq-configuration-xml-schema-version\" rel=\"nofollow noreferrer\">https://github.com/etiennestuder/gradle-jooq-plugin#enforcing-the-jooq-configuration-xml-schema-version</a></p>\n<p>You can enforce an XSD version like this:</p>\n<pre><code>buildscript {\n    configurations['classpath'].resolutionStrategy.eachDependency {\n        if (requested.group == 'org.jooq') {\n            useVersion '3.16.6'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28478351,"reputation":1,"user_id":22547428,"display_name":"coinselector23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694564112,"creation_date":1694564112,"answer_id":77093351,"question_id":72600484,"body_markdown":"I think you need to update:\r\n\r\n    generateSchemaSourceOnCompilation = false","title":"jOOQ codegen fails because of &quot;Invalid content&quot; `visibilityModifier` and `includeExcludePackageRoutines`","body":"<p>I think you need to update:</p>\n<pre><code>generateSchemaSourceOnCompilation = false\n</code></pre>\n"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1694564112,"creation_date":1655112132,"question_id":72600484,"body_markdown":"I have a `postgres:13.5-alpine` database running and set up jOOQ like so:\r\n\r\nversions\r\n```\r\nplugin_jooq=7.1.1\r\nlib_jooq=3.16.6\r\n```\r\n\r\ngradle\r\n```\r\nplugins {\r\n    id &#39;nu.studer.jooq&#39; version &quot;${plugin_jooq}&quot;\r\n}\r\n\r\ndependencies {\r\n    api &quot;org.postgresql:postgresql&quot;\r\n\r\n    implementation &quot;org.jooq:jooq:${lib_jooq}&quot;\r\n    implementation &quot;org.jooq:jooq-meta:${lib_jooq}&quot;\r\n    implementation &quot;org.jooq:jooq-codegen:${lib_jooq}&quot;\r\n}\r\n\r\njooq {\r\n    version = &quot;${lib_jooq}&quot;\r\n    edition = nu.studer.gradle.jooq.JooqEdition.OSS\r\n\r\n    configurations {\r\n        mydb {\r\n            generateSchemaSourceOnCompilation = true\r\n\r\n            generationTool {\r\n                logging = org.jooq.meta.jaxb.Logging.WARN\r\n                jdbc {\r\n                    driver = &#39;org.postgresql.Driver&#39;\r\n                    url = &#39;jdbc:postgresql://localhost:5432/mydb&#39;\r\n                    user = &#39;&lt;username&gt;&#39;\r\n                    password = &#39;&lt;password&gt;&#39;\r\n                    properties {\r\n                        property {\r\n                            key = &#39;PAGE_SIZE&#39;\r\n                            value = 2048\r\n                        }\r\n                    }\r\n                }\r\n                generator {\r\n                    name = &#39;org.jooq.codegen.DefaultGenerator&#39;\r\n                    database {\r\n                        name = &#39;org.jooq.meta.postgres.PostgresDatabase&#39;\r\n                        inputSchema = &#39;public&#39;\r\n                        includes = &#39;.*&#39;\r\n                        excludes = &#39;&#39;\r\n                    }\r\n                    target {\r\n                        directory = &#39;build/generated/sources/&#39;\r\n                        packageName = &#39;my.app.jooq&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nbuild.dependsOn generateMydbJooq\r\n```\r\n\r\nwhen I run codegen, I get\r\n\r\n```\r\norg.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 927; cvc-complex-type.2.4.a:\r\nInvalid content was found starting with element\r\n&#39;{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeExcludePackageRoutines}&#39;.\r\n\r\nOne of &#39;{\r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:properties, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:regexFlags, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTables, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeEmbeddables, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeRoutines, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTriggerRoutines, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackages, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageRoutines, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageUDTs, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageConstants, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUDTs, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeDomains, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSequences, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeIndexes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUniqueKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeForeignKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeCheckConstraints, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemIndexes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemCheckConstraints, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeInvisibleColumns, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordVersionFields, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordTimestampFields, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticObjects, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticIdentities, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticPrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:overridePrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:dateAsTimestamp, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:ignoreProcedureReturnValues, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:unsignedTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:integerDisplayWidths, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputCatalog, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalog, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalogToDefault, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputSchema, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchema, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchemaToDefault, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogs, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemata, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemaVersionProvider, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogVersionProvider, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:orderProvider, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddables, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddablePrimaryKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableUniqueKeys, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableDomains, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:customTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:enumTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forcedTypes, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forceIntegerTypesOnZeroScaleDecimals, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:tableValuedFunctions, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowQueriesAfterSeconds, \r\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowResultsAfterSeconds\r\n}&#39; is expected.\r\n```\r\n\r\n```\r\norg.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 3351; cvc-complex-type.2.4.a: Invalid content was found starting with element\r\n&#39;{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:visibilityModifier}&#39;.\r\n\r\nOne of &#39;{...}&#39; is expected.\r\n```\r\n\r\nHow do I resolve this?\r\n\r\n**UPDATE**\r\n\r\nTrying to apply @LukasEder&#39;s suggestion. Added the buildscript but error persists. Spun up some dependency tree, and these are the only dependencies mentioning jooq:\r\n\r\n```\r\n+--- project :my-app\r\n|    +--- org.jooq:jooq:3.16.6 -&gt; 3.14.15\r\n|    |    +--- org.reactivestreams:reactive-streams:1.0.2 -&gt; 1.0.3\r\n|    |    \\--- javax.xml.bind:jaxb-api:2.3.1\r\n|    |         \\--- javax.activation:javax.activation-api:1.2.0\r\n\r\n|    +--- org.jooq:jooq-meta:3.16.6 -&gt; 3.14.15\r\n|    |    \\--- org.jooq:jooq:3.14.15 (*)\r\n|    \\--- org.jooq:jooq-codegen:3.16.6 -&gt; 3.14.15\r\n|         +--- org.jooq:jooq:3.14.15 (*)\r\n|         \\--- org.jooq:jooq-meta:3.14.15 (*)\r\n\r\n```\r\n\r\n**UPDATE**\r\n\r\nDowngrade to 3.14.15 did not resolve this.","title":"jOOQ codegen fails because of &quot;Invalid content&quot; `visibilityModifier` and `includeExcludePackageRoutines`","body":"<p>I have a <code>postgres:13.5-alpine</code> database running and set up jOOQ like so:</p>\n<p>versions</p>\n<pre><code>plugin_jooq=7.1.1\nlib_jooq=3.16.6\n</code></pre>\n<p>gradle</p>\n<pre><code>plugins {\n    id 'nu.studer.jooq' version &quot;${plugin_jooq}&quot;\n}\n\ndependencies {\n    api &quot;org.postgresql:postgresql&quot;\n\n    implementation &quot;org.jooq:jooq:${lib_jooq}&quot;\n    implementation &quot;org.jooq:jooq-meta:${lib_jooq}&quot;\n    implementation &quot;org.jooq:jooq-codegen:${lib_jooq}&quot;\n}\n\njooq {\n    version = &quot;${lib_jooq}&quot;\n    edition = nu.studer.gradle.jooq.JooqEdition.OSS\n\n    configurations {\n        mydb {\n            generateSchemaSourceOnCompilation = true\n\n            generationTool {\n                logging = org.jooq.meta.jaxb.Logging.WARN\n                jdbc {\n                    driver = 'org.postgresql.Driver'\n                    url = 'jdbc:postgresql://localhost:5432/mydb'\n                    user = '&lt;username&gt;'\n                    password = '&lt;password&gt;'\n                    properties {\n                        property {\n                            key = 'PAGE_SIZE'\n                            value = 2048\n                        }\n                    }\n                }\n                generator {\n                    name = 'org.jooq.codegen.DefaultGenerator'\n                    database {\n                        name = 'org.jooq.meta.postgres.PostgresDatabase'\n                        inputSchema = 'public'\n                        includes = '.*'\n                        excludes = ''\n                    }\n                    target {\n                        directory = 'build/generated/sources/'\n                        packageName = 'my.app.jooq'\n                    }\n                }\n            }\n        }\n    }\n}\n\nbuild.dependsOn generateMydbJooq\n</code></pre>\n<p>when I run codegen, I get</p>\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 927; cvc-complex-type.2.4.a:\nInvalid content was found starting with element\n'{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeExcludePackageRoutines}'.\n\nOne of '{\n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:properties, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:regexFlags, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTables, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeEmbeddables, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeRoutines, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeTriggerRoutines, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackages, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageRoutines, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageUDTs, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePackageConstants, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUDTs, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeDomains, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSequences, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeIndexes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includePrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeUniqueKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeForeignKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeCheckConstraints, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemIndexes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeSystemCheckConstraints, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:includeInvisibleColumns, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordVersionFields, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:recordTimestampFields, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticObjects, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticIdentities, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:syntheticPrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:overridePrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:dateAsTimestamp, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:ignoreProcedureReturnValues, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:unsignedTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:integerDisplayWidths, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputCatalog, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalog, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputCatalogToDefault, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:inputSchema, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchema, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:outputSchemaToDefault, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogs, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemata, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:schemaVersionProvider, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:catalogVersionProvider, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:orderProvider, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddables, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddablePrimaryKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableUniqueKeys, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:embeddableDomains, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:customTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:enumTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forcedTypes, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:forceIntegerTypesOnZeroScaleDecimals, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:tableValuedFunctions, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowQueriesAfterSeconds, \n&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:logSlowResultsAfterSeconds\n}' is expected.\n</code></pre>\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 3351; cvc-complex-type.2.4.a: Invalid content was found starting with element\n'{&quot;http://www.jooq.org/xsd/jooq-codegen-3.14.0.xsd&quot;:visibilityModifier}'.\n\nOne of '{...}' is expected.\n</code></pre>\n<p>How do I resolve this?</p>\n<p><strong>UPDATE</strong></p>\n<p>Trying to apply @LukasEder's suggestion. Added the buildscript but error persists. Spun up some dependency tree, and these are the only dependencies mentioning jooq:</p>\n<pre><code>+--- project :my-app\n|    +--- org.jooq:jooq:3.16.6 -&gt; 3.14.15\n|    |    +--- org.reactivestreams:reactive-streams:1.0.2 -&gt; 1.0.3\n|    |    \\--- javax.xml.bind:jaxb-api:2.3.1\n|    |         \\--- javax.activation:javax.activation-api:1.2.0\n\n|    +--- org.jooq:jooq-meta:3.16.6 -&gt; 3.14.15\n|    |    \\--- org.jooq:jooq:3.14.15 (*)\n|    \\--- org.jooq:jooq-codegen:3.16.6 -&gt; 3.14.15\n|         +--- org.jooq:jooq:3.14.15 (*)\n|         \\--- org.jooq:jooq-meta:3.14.15 (*)\n\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Downgrade to 3.14.15 did not resolve this.</p>\n"},{"tags":["java","arrays","json","sorting"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1694564380,"post_id":77093347,"comment_id":135907008,"body_markdown":"Does your vscode have maven support? Or does it recognize the pom in any way?","body":"Does your vscode have maven support? Or does it recognize the pom in any way?"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1694607854,"post_id":77093347,"comment_id":135913139,"body_markdown":"The error occurs because the json-simple JAR file is not in the classpath when you&#39;re running your code, hence the JVM is unable to load the class files from the JAR file, such as the JSONArray class. This leads to a NoClassDefFoundError. To fix it you need to ensure that the json-simple JAR file is present in your classpath when you run your app.","body":"The error occurs because the json-simple JAR file is not in the classpath when you&#39;re running your code, hence the JVM is unable to load the class files from the JAR file, such as the JSONArray class. This leads to a NoClassDefFoundError. To fix it you need to ensure that the json-simple JAR file is present in your classpath when you run your app."}],"owner":{"account_id":29426923,"reputation":1,"user_id":22547387,"display_name":"Sid P."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694564043,"creation_date":1694564043,"question_id":77093347,"body_markdown":"Here is the code (java), and I am using VSCode : \r\n```\r\npackage com.sort;\r\n\r\nimport org.json.simple.*;\r\n\r\npublic class BubbleSort {\r\n\r\n  private static int count = 0;\r\n\r\n  public static void main(String[] args) {\r\n    String fileName =\r\n      &quot;C:/Users/Sid/Desktop/code/cis055/cupcake/src/main/java/com/sort/cupcake_3906.json&quot;;\r\n    \r\n    // read cupcake names\r\n    JSONArray cupcakeArray = JSONFile.readArray(fileName);\r\n    String[] cupcakeNameArray = nameArray(cupcakeArray);\r\n    System.out.println(cupcakeNameArray);\r\n\r\n    // print unsorted list\r\n    System.out.println(&quot;----- Unsorted array -----&quot;);\r\n    print(cupcakeNameArray);\r\n\r\n    // sort\r\n    bubbleSort(cupcakeNameArray);\r\n\r\n    // print sorted list\r\n    System.out.println(&quot;----- Sorted array----- &quot;);\r\n    print(cupcakeNameArray);\r\n\r\n    // print statistics\r\n    System.out.println(&quot;----- Statistics -----&quot;);\r\n    System.out.printf(&quot;Size of array = %d\\n&quot;, cupcakeNameArray.length);\r\n    System.out.printf(&quot;Count = %d\\n&quot;, count);\r\n  }\r\n\r\n  // print cupcake array\r\n  public static void print(String[] cupcakeNameArray) {\r\n    System.out.printf(&quot;Number\\tName\\n&quot;);\r\n    System.out.printf(&quot;------\\t---------------\\n&quot;);\r\n    for (int i = 0; i &lt; cupcakeNameArray.length; i++) {\r\n      System.out.printf(&quot;%04d\\t%s\\n&quot;, i, cupcakeNameArray[i]);\r\n    }\r\n  }\r\n\r\n  // get array of cupcake names\r\n  public static String[] nameArray(JSONArray cupcakeArray) {\r\n    String[] arr = new String[cupcakeArray.size()];\r\n\r\n    // get names from json object\r\n    for (int i = 0; i &lt; cupcakeArray.size(); i++) {\r\n      JSONObject o = (JSONObject) cupcakeArray.get(i);\r\n      String name = (String) o.get(&quot;name&quot;);\r\n      arr[i] = name;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  // bubble sort array, O(n^2), unoptimized brute force solution\r\n  public static void bubbleSort(String[] arr) {\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n      for (int j = 0; j &lt; arr.length; j++) {\r\n        if (j + 1 &lt; arr.length) {\r\n          if (arr[j].compareTo(arr[j + 1]) &gt; 0) {\r\n            swap(arr, j, j + 1);\r\n          }\r\n        }\r\n        // increase count\r\n        count++;\r\n      }\r\n    }\r\n  }\r\n\r\n  // swap\r\n  public static void swap(String[] arr, int a, int b) {\r\n    String temp;\r\n    temp = arr[a];\r\n    arr[a] = arr[b];\r\n    arr[b] = temp;\r\n  }\r\n}\r\n```\r\n\r\n\r\nWhenever I run my code, I keep receiving this error:\r\n\r\nError: Unable to initialize main class com.sort.BubbleSort\r\nCaused by: java.lang.NoClassDefFoundError: JSONArray\r\n\r\n\r\nTo be clear, I have added the proper dependencies in my pom.xml file, and I cannot figure out why this error is happening. Please help!!\r\n[screenshot of my pom.xml file](https://i.stack.imgur.com/TFGjV.png)","title":"JSONError: Error: Unable to initialize main class com.sort.BubbleSort Caused by: java.lang.NoClassDefFoundError: JSONArray","body":"<p>Here is the code (java), and I am using VSCode :</p>\n<pre><code>package com.sort;\n\nimport org.json.simple.*;\n\npublic class BubbleSort {\n\n  private static int count = 0;\n\n  public static void main(String[] args) {\n    String fileName =\n      &quot;C:/Users/Sid/Desktop/code/cis055/cupcake/src/main/java/com/sort/cupcake_3906.json&quot;;\n    \n    // read cupcake names\n    JSONArray cupcakeArray = JSONFile.readArray(fileName);\n    String[] cupcakeNameArray = nameArray(cupcakeArray);\n    System.out.println(cupcakeNameArray);\n\n    // print unsorted list\n    System.out.println(&quot;----- Unsorted array -----&quot;);\n    print(cupcakeNameArray);\n\n    // sort\n    bubbleSort(cupcakeNameArray);\n\n    // print sorted list\n    System.out.println(&quot;----- Sorted array----- &quot;);\n    print(cupcakeNameArray);\n\n    // print statistics\n    System.out.println(&quot;----- Statistics -----&quot;);\n    System.out.printf(&quot;Size of array = %d\\n&quot;, cupcakeNameArray.length);\n    System.out.printf(&quot;Count = %d\\n&quot;, count);\n  }\n\n  // print cupcake array\n  public static void print(String[] cupcakeNameArray) {\n    System.out.printf(&quot;Number\\tName\\n&quot;);\n    System.out.printf(&quot;------\\t---------------\\n&quot;);\n    for (int i = 0; i &lt; cupcakeNameArray.length; i++) {\n      System.out.printf(&quot;%04d\\t%s\\n&quot;, i, cupcakeNameArray[i]);\n    }\n  }\n\n  // get array of cupcake names\n  public static String[] nameArray(JSONArray cupcakeArray) {\n    String[] arr = new String[cupcakeArray.size()];\n\n    // get names from json object\n    for (int i = 0; i &lt; cupcakeArray.size(); i++) {\n      JSONObject o = (JSONObject) cupcakeArray.get(i);\n      String name = (String) o.get(&quot;name&quot;);\n      arr[i] = name;\n    }\n    return arr;\n  }\n\n  // bubble sort array, O(n^2), unoptimized brute force solution\n  public static void bubbleSort(String[] arr) {\n    for (int i = 0; i &lt; arr.length; i++) {\n      for (int j = 0; j &lt; arr.length; j++) {\n        if (j + 1 &lt; arr.length) {\n          if (arr[j].compareTo(arr[j + 1]) &gt; 0) {\n            swap(arr, j, j + 1);\n          }\n        }\n        // increase count\n        count++;\n      }\n    }\n  }\n\n  // swap\n  public static void swap(String[] arr, int a, int b) {\n    String temp;\n    temp = arr[a];\n    arr[a] = arr[b];\n    arr[b] = temp;\n  }\n}\n</code></pre>\n<p>Whenever I run my code, I keep receiving this error:</p>\n<p>Error: Unable to initialize main class com.sort.BubbleSort\nCaused by: java.lang.NoClassDefFoundError: JSONArray</p>\n<p>To be clear, I have added the proper dependencies in my pom.xml file, and I cannot figure out why this error is happening. Please help!!\n<a href=\"https://i.stack.imgur.com/TFGjV.png\" rel=\"nofollow noreferrer\">screenshot of my pom.xml file</a></p>\n"},{"tags":["java","parsing","antlr","antlr4","antlr3"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1434968023,"post_id":30976962,"comment_id":49985122,"body_markdown":"@BartKiers Do you have any idea how to solve this problem?","body":"@BartKiers Do you have any idea how to solve this problem?"},{"owner":{"account_id":6098038,"reputation":193,"user_id":4758234,"display_name":"Sud"},"score":0,"creation_date":1434976712,"post_id":30976962,"comment_id":49990613,"body_markdown":"@BartKiers You&#39;re right. `GT | GE | LT | LE | EQ` all have the same precedence and they should be evaluated before `AND | OR`. The parsing should be based on the brackets `( )`. What I&#39;m looking for is help on how to parse the String in Java using the ParseTree shown in the code above.","body":"@BartKiers You&#39;re right. <code>GT | GE | LT | LE | EQ</code> all have the same precedence and they should be evaluated before <code>AND | OR</code>. The parsing should be based on the brackets <code>( )</code>. What I&#39;m looking for is help on how to parse the String in Java using the ParseTree shown in the code above."},{"owner":{"account_id":6098038,"reputation":193,"user_id":4758234,"display_name":"Sud"},"score":0,"creation_date":1434983983,"post_id":30976962,"comment_id":49995822,"body_markdown":"In our case, whenever there is `AND` between two components, it would always be inside brackets `( )`.","body":"In our case, whenever there is <code>AND</code> between two components, it would always be inside brackets <code>( )</code>."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1434988012,"post_id":30976962,"comment_id":49998712,"body_markdown":"In your example, `(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))`, the first `AND` is not inside parens. Will `A = a OR B = b OR C = c` be evaluated first, or will `C = c AND ((D = d AND E = e) OR (F = f AND G = g))` first be evaluated?","body":"In your example, <code>(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))</code>, the first <code>AND</code> is not inside parens. Will <code>A = a OR B = b OR C = c</code> be evaluated first, or will <code>C = c AND ((D = d AND E = e) OR (F = f AND G = g))</code> first be evaluated?"}],"answers":[{"comments":[{"owner":{"account_id":6098038,"reputation":193,"user_id":4758234,"display_name":"Sud"},"score":0,"creation_date":1435034411,"post_id":30987142,"comment_id":50017143,"body_markdown":"Thanks @BartKiers. I&#39;ll try this and get back to you shortly.","body":"Thanks @BartKiers. I&#39;ll try this and get back to you shortly."},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1517984138,"post_id":30987142,"comment_id":84311865,"body_markdown":"I&#39;m getting errors like  incompatible types: double cannot be converted to Object","body":"I&#39;m getting errors like  incompatible types: double cannot be converted to Object"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1523985645,"post_id":30987142,"comment_id":86783989,"body_markdown":"@johnktejik a little late (I just saw your comment), but I just tested it with ANTLR 4.7.1 and it works like a charm. I get the exact output as in my answer of 3 years ago. Perhaps you&#39;re compiling with an old(er) Java version? I recommend using Java 8.","body":"@johnktejik a little late (I just saw your comment), but I just tested it with ANTLR 4.7.1 and it works like a charm. I get the exact output as in my answer of 3 years ago. Perhaps you&#39;re compiling with an old(er) Java version? I recommend using Java 8."}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1435035035,"creation_date":1434997396,"answer_id":30987142,"question_id":30976962,"body_markdown":"I&#39;d just wrap all the expressions into a single `expression` rule. Be sure to define the `comparator` expressions alternative *before* your `binary` expression alternative to make sure `comparator` operators bind more tightly than `OR` and `AND`:\r\n\r\n&lt;!-- language: lang-antlr --&gt;\r\n\r\n    grammar SimpleBoolean;\r\n    \r\n    parse\r\n     : expression EOF\r\n     ;\r\n    \r\n    expression\r\n     : LPAREN expression RPAREN                       #parenExpression\r\n     | NOT expression                                 #notExpression\r\n     | left=expression op=comparator right=expression #comparatorExpression\r\n     | left=expression op=binary right=expression     #binaryExpression\r\n     | bool                                           #boolExpression\r\n     | IDENTIFIER                                     #identifierExpression\r\n     | DECIMAL                                        #decimalExpression\r\n     ;\r\n    \r\n    comparator\r\n     : GT | GE | LT | LE | EQ\r\n     ;\r\n    \r\n    binary\r\n     : AND | OR\r\n     ;\r\n    \r\n    bool\r\n     : TRUE | FALSE\r\n     ;\r\n    \r\n    AND        : &#39;AND&#39; ;\r\n    OR         : &#39;OR&#39; ;\r\n    NOT        : &#39;NOT&#39;;\r\n    TRUE       : &#39;TRUE&#39; ;\r\n    FALSE      : &#39;FALSE&#39; ;\r\n    GT         : &#39;&gt;&#39; ;\r\n    GE         : &#39;&gt;=&#39; ;\r\n    LT         : &#39;&lt;&#39; ;\r\n    LE         : &#39;&lt;=&#39; ;\r\n    EQ         : &#39;=&#39; ;\r\n    LPAREN     : &#39;(&#39; ;\r\n    RPAREN     : &#39;)&#39; ;\r\n    DECIMAL    : &#39;-&#39;? [0-9]+ ( &#39;.&#39; [0-9]+ )? ;\r\n    IDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\r\n    WS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\r\n\r\nTo test the grammar above, use the following quick-and-dirty test classes:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Main {\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n    \r\n        Map&lt;String, Object&gt; variables = new HashMap&lt;String, Object&gt;() {{\r\n          put(&quot;A&quot;, true);\r\n          put(&quot;a&quot;, true);\r\n          put(&quot;B&quot;, false);\r\n          put(&quot;b&quot;, false);\r\n          put(&quot;C&quot;, 42.0);\r\n          put(&quot;c&quot;, 42.0);\r\n          put(&quot;D&quot;, -999.0);\r\n          put(&quot;d&quot;, -1999.0);\r\n          put(&quot;E&quot;, 42.001);\r\n          put(&quot;e&quot;, 142.001);\r\n          put(&quot;F&quot;, 42.001);\r\n          put(&quot;f&quot;, 42.001);\r\n          put(&quot;G&quot;, -1.0);\r\n          put(&quot;g&quot;, -1.0);\r\n        }};\r\n    \r\n        String[] expressions = {\r\n            &quot;1 &gt; 2&quot;,\r\n            &quot;1 &gt;= 1.0&quot;,\r\n            &quot;TRUE = FALSE&quot;,\r\n            &quot;FALSE = FALSE&quot;,\r\n            &quot;A OR B&quot;,\r\n            &quot;B&quot;,\r\n            &quot;A = B&quot;,\r\n            &quot;c = C&quot;,\r\n            &quot;E &gt; D&quot;,\r\n            &quot;B OR (c = B OR (A = A AND c = C AND E &gt; D))&quot;,\r\n            &quot;(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))&quot;\r\n        };\r\n    \r\n        for (String expression : expressions) {\r\n          SimpleBooleanLexer lexer = new SimpleBooleanLexer(new ANTLRInputStream(expression));\r\n          SimpleBooleanParser parser = new SimpleBooleanParser(new CommonTokenStream(lexer));\r\n          Object result = new EvalVisitor(variables).visit(parser.parse());\r\n          System.out.printf(&quot;%-70s -&gt; %s\\n&quot;, expression, result);\r\n        }\r\n      }\r\n    }\r\n    \r\n    class EvalVisitor extends SimpleBooleanBaseVisitor&lt;Object&gt; {\r\n    \r\n      private final Map&lt;String, Object&gt; variables;\r\n    \r\n      public EvalVisitor(Map&lt;String, Object&gt; variables) {\r\n        this.variables = variables;\r\n      }\r\n    \r\n      @Override\r\n      public Object visitParse(SimpleBooleanParser.ParseContext ctx) {\r\n        return super.visit(ctx.expression());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitDecimalExpression(SimpleBooleanParser.DecimalExpressionContext ctx) {\r\n        return Double.valueOf(ctx.DECIMAL().getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitIdentifierExpression(SimpleBooleanParser.IdentifierExpressionContext ctx) {\r\n        return variables.get(ctx.IDENTIFIER().getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitNotExpression(SimpleBooleanParser.NotExpressionContext ctx) {\r\n        return !((Boolean)this.visit(ctx.expression()));\r\n      }\r\n    \r\n      @Override\r\n      public Object visitParenExpression(SimpleBooleanParser.ParenExpressionContext ctx) {\r\n        return super.visit(ctx.expression());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitComparatorExpression(SimpleBooleanParser.ComparatorExpressionContext ctx) {\r\n        if (ctx.op.EQ() != null) {\r\n          return this.visit(ctx.left).equals(this.visit(ctx.right));\r\n        }\r\n        else if (ctx.op.LE() != null) {\r\n          return asDouble(ctx.left) &lt;= asDouble(ctx.right);\r\n        }\r\n        else if (ctx.op.GE() != null) {\r\n          return asDouble(ctx.left) &gt;= asDouble(ctx.right);\r\n        }\r\n        else if (ctx.op.LT() != null) {\r\n          return asDouble(ctx.left) &lt; asDouble(ctx.right);\r\n        }\r\n        else if (ctx.op.GT() != null) {\r\n          return asDouble(ctx.left) &gt; asDouble(ctx.right);\r\n        }\r\n        throw new RuntimeException(&quot;not implemented: comparator operator &quot; + ctx.op.getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitBinaryExpression(SimpleBooleanParser.BinaryExpressionContext ctx) {\r\n        if (ctx.op.AND() != null) {\r\n          return asBoolean(ctx.left) &amp;&amp; asBoolean(ctx.right);\r\n        }\r\n        else if (ctx.op.OR() != null) {\r\n          return asBoolean(ctx.left) || asBoolean(ctx.right);\r\n        }\r\n        throw new RuntimeException(&quot;not implemented: binary operator &quot; + ctx.op.getText());\r\n      }\r\n    \r\n      @Override\r\n      public Object visitBoolExpression(SimpleBooleanParser.BoolExpressionContext ctx) {\r\n        return Boolean.valueOf(ctx.getText());\r\n      }\r\n    \r\n      private boolean asBoolean(SimpleBooleanParser.ExpressionContext ctx) {\r\n        return (boolean)visit(ctx);\r\n      }\r\n    \r\n      private double asDouble(SimpleBooleanParser.ExpressionContext ctx) {\r\n        return (double)visit(ctx);\r\n      }\r\n    }\r\n\r\nRunning the `Main` class will result in the following output:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    1 &gt; 2                                                                  -&gt; false\r\n    1 &gt;= 1.0                                                               -&gt; true\r\n    TRUE = FALSE                                                           -&gt; false\r\n    FALSE = FALSE                                                          -&gt; true\r\n    A OR B                                                                 -&gt; true\r\n    B                                                                      -&gt; false\r\n    A = B                                                                  -&gt; false\r\n    c = C                                                                  -&gt; true\r\n    E &gt; D                                                                  -&gt; true\r\n    B OR (c = B OR (A = A AND c = C AND E &gt; D))                            -&gt; true\r\n    (A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g))) -&gt; true","title":"Nested Boolean Expression Parser using ANTLR","body":"<p>I'd just wrap all the expressions into a single <code>expression</code> rule. Be sure to define the <code>comparator</code> expressions alternative <em>before</em> your <code>binary</code> expression alternative to make sure <code>comparator</code> operators bind more tightly than <code>OR</code> and <code>AND</code>:</p>\n\n<pre class=\"lang-antlr prettyprint-override\"><code>grammar SimpleBoolean;\n\nparse\n : expression EOF\n ;\n\nexpression\n : LPAREN expression RPAREN                       #parenExpression\n | NOT expression                                 #notExpression\n | left=expression op=comparator right=expression #comparatorExpression\n | left=expression op=binary right=expression     #binaryExpression\n | bool                                           #boolExpression\n | IDENTIFIER                                     #identifierExpression\n | DECIMAL                                        #decimalExpression\n ;\n\ncomparator\n : GT | GE | LT | LE | EQ\n ;\n\nbinary\n : AND | OR\n ;\n\nbool\n : TRUE | FALSE\n ;\n\nAND        : 'AND' ;\nOR         : 'OR' ;\nNOT        : 'NOT';\nTRUE       : 'TRUE' ;\nFALSE      : 'FALSE' ;\nGT         : '&gt;' ;\nGE         : '&gt;=' ;\nLT         : '&lt;' ;\nLE         : '&lt;=' ;\nEQ         : '=' ;\nLPAREN     : '(' ;\nRPAREN     : ')' ;\nDECIMAL    : '-'? [0-9]+ ( '.' [0-9]+ )? ;\nIDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\nWS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\n</code></pre>\n\n<p>To test the grammar above, use the following quick-and-dirty test classes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n  public static void main(String[] args) throws Exception {\n\n    Map&lt;String, Object&gt; variables = new HashMap&lt;String, Object&gt;() {{\n      put(\"A\", true);\n      put(\"a\", true);\n      put(\"B\", false);\n      put(\"b\", false);\n      put(\"C\", 42.0);\n      put(\"c\", 42.0);\n      put(\"D\", -999.0);\n      put(\"d\", -1999.0);\n      put(\"E\", 42.001);\n      put(\"e\", 142.001);\n      put(\"F\", 42.001);\n      put(\"f\", 42.001);\n      put(\"G\", -1.0);\n      put(\"g\", -1.0);\n    }};\n\n    String[] expressions = {\n        \"1 &gt; 2\",\n        \"1 &gt;= 1.0\",\n        \"TRUE = FALSE\",\n        \"FALSE = FALSE\",\n        \"A OR B\",\n        \"B\",\n        \"A = B\",\n        \"c = C\",\n        \"E &gt; D\",\n        \"B OR (c = B OR (A = A AND c = C AND E &gt; D))\",\n        \"(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))\"\n    };\n\n    for (String expression : expressions) {\n      SimpleBooleanLexer lexer = new SimpleBooleanLexer(new ANTLRInputStream(expression));\n      SimpleBooleanParser parser = new SimpleBooleanParser(new CommonTokenStream(lexer));\n      Object result = new EvalVisitor(variables).visit(parser.parse());\n      System.out.printf(\"%-70s -&gt; %s\\n\", expression, result);\n    }\n  }\n}\n\nclass EvalVisitor extends SimpleBooleanBaseVisitor&lt;Object&gt; {\n\n  private final Map&lt;String, Object&gt; variables;\n\n  public EvalVisitor(Map&lt;String, Object&gt; variables) {\n    this.variables = variables;\n  }\n\n  @Override\n  public Object visitParse(SimpleBooleanParser.ParseContext ctx) {\n    return super.visit(ctx.expression());\n  }\n\n  @Override\n  public Object visitDecimalExpression(SimpleBooleanParser.DecimalExpressionContext ctx) {\n    return Double.valueOf(ctx.DECIMAL().getText());\n  }\n\n  @Override\n  public Object visitIdentifierExpression(SimpleBooleanParser.IdentifierExpressionContext ctx) {\n    return variables.get(ctx.IDENTIFIER().getText());\n  }\n\n  @Override\n  public Object visitNotExpression(SimpleBooleanParser.NotExpressionContext ctx) {\n    return !((Boolean)this.visit(ctx.expression()));\n  }\n\n  @Override\n  public Object visitParenExpression(SimpleBooleanParser.ParenExpressionContext ctx) {\n    return super.visit(ctx.expression());\n  }\n\n  @Override\n  public Object visitComparatorExpression(SimpleBooleanParser.ComparatorExpressionContext ctx) {\n    if (ctx.op.EQ() != null) {\n      return this.visit(ctx.left).equals(this.visit(ctx.right));\n    }\n    else if (ctx.op.LE() != null) {\n      return asDouble(ctx.left) &lt;= asDouble(ctx.right);\n    }\n    else if (ctx.op.GE() != null) {\n      return asDouble(ctx.left) &gt;= asDouble(ctx.right);\n    }\n    else if (ctx.op.LT() != null) {\n      return asDouble(ctx.left) &lt; asDouble(ctx.right);\n    }\n    else if (ctx.op.GT() != null) {\n      return asDouble(ctx.left) &gt; asDouble(ctx.right);\n    }\n    throw new RuntimeException(\"not implemented: comparator operator \" + ctx.op.getText());\n  }\n\n  @Override\n  public Object visitBinaryExpression(SimpleBooleanParser.BinaryExpressionContext ctx) {\n    if (ctx.op.AND() != null) {\n      return asBoolean(ctx.left) &amp;&amp; asBoolean(ctx.right);\n    }\n    else if (ctx.op.OR() != null) {\n      return asBoolean(ctx.left) || asBoolean(ctx.right);\n    }\n    throw new RuntimeException(\"not implemented: binary operator \" + ctx.op.getText());\n  }\n\n  @Override\n  public Object visitBoolExpression(SimpleBooleanParser.BoolExpressionContext ctx) {\n    return Boolean.valueOf(ctx.getText());\n  }\n\n  private boolean asBoolean(SimpleBooleanParser.ExpressionContext ctx) {\n    return (boolean)visit(ctx);\n  }\n\n  private double asDouble(SimpleBooleanParser.ExpressionContext ctx) {\n    return (double)visit(ctx);\n  }\n}\n</code></pre>\n\n<p>Running the <code>Main</code> class will result in the following output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 &gt; 2                                                                  -&gt; false\n1 &gt;= 1.0                                                               -&gt; true\nTRUE = FALSE                                                           -&gt; false\nFALSE = FALSE                                                          -&gt; true\nA OR B                                                                 -&gt; true\nB                                                                      -&gt; false\nA = B                                                                  -&gt; false\nc = C                                                                  -&gt; true\nE &gt; D                                                                  -&gt; true\nB OR (c = B OR (A = A AND c = C AND E &gt; D))                            -&gt; true\n(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g))) -&gt; true\n</code></pre>\n"}],"owner":{"account_id":6098038,"reputation":193,"user_id":4758234,"display_name":"Sud"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15633,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":30987142,"answer_count":1,"score":19,"last_activity_date":1694563816,"creation_date":1434966828,"question_id":30976962,"body_markdown":"I&#39;m trying to parse a Nested Boolean Expression and get the individual conditions within the expression separately. For e.g., if the input string is:\r\n\r\n(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))\r\n\r\nI would like to get the conditions with the correct order. i.e.,\r\n\r\nD =d AND E = e\r\nOR\r\nF = f AND G = g\r\nAND\r\nA = a OR B = b OR C = c\r\n\r\nI&#39;m using ANTLR 4 to parse the input text and here&#39;s my grammar:\r\n\r\n    grammar SimpleBoolean;\r\n\r\n    rule_set : nestedCondition* EOF;\r\n   \r\n    AND : &#39;AND&#39; ;\r\n    OR  : &#39;OR&#39; ;\r\n    NOT : &#39;NOT&#39;;\r\n   \r\n    TRUE  : &#39;TRUE&#39; ;\r\n    FALSE : &#39;FALSE&#39; ;\r\n   \r\n    GT : &#39;&gt;&#39; ;\r\n    GE : &#39;&gt;=&#39; ;\r\n    LT : &#39;&lt;&#39; ;\r\n    LE : &#39;&lt;=&#39; ;\r\n    EQ : &#39;=&#39; ;\r\n   \r\n    LPAREN : &#39;(&#39; ;\r\n    RPAREN : &#39;)&#39; ;\r\n   \r\n    DECIMAL : &#39;-&#39;?[0-9]+(&#39;.&#39;[0-9]+)? ;\r\n   \r\n    IDENTIFIER : [a-zA-Z_][a-zA-Z_0-9]* ;\r\n   \r\n    WS : [ \\r\\t\\u000C\\n]+ -&gt; skip;\r\n   \r\n    nestedCondition : LPAREN condition+ RPAREN (binary nestedCondition)*;\r\n    condition: predicate (binary predicate)*\r\n    \t\t\t| predicate (binary component)*;\r\n    component: predicate | multiAttrComp;\r\n    multiAttrComp : LPAREN predicate (and predicate)+ RPAREN;\r\n    predicate : IDENTIFIER comparator IDENTIFIER;\r\n    comparator : GT | GE | LT | LE | EQ ;\r\n    binary: AND | OR ;\r\n    unary: NOT;\r\n    and: AND;\r\n    \r\n   \r\nAnd here&#39;s the Java Code that I&#39;m using to parse it:\r\n\r\n    ANTLRInputStream inputStr = new ANTLRInputStream(input);\r\n\tSimpleBooleanLexer lexer = new SimpleBooleanLexer(inputStr);\r\n\tTokenStream tokens = new CommonTokenStream(lexer);\r\n\tSimpleBooleanParser parser = new SimpleBooleanParser(tokens);\r\n    parser.getBuildParseTree();\r\n    ParseTree tree = parser.rule_set();\r\n    System.out.println(tree.toStringTree(parser));\r\n\r\nThe output is:\r\n\r\n    (rule_set (nestedCondition ( (condition (predicate A (comparator =) a) (binary OR) (component (predicate B (comparator =) b)) (binary OR) (component (predicate C (comparator =) c)) (binary AND) (component (multiAttrComp ( (predicate ( D (comparator =) d) (and AND) (predicate E (comparator =) e) ))) (binary OR) (component (multiAttrComp ( (predicate F (comparator =) f) (and AND) (predicate G (comparator =) g) )))) ) )) &lt;EOF&gt;)\r\n\r\nI&#39;m looking for help on how to parse this tree to get the conditions in the correct order? In ANTLR 3, we could specify ^ and ! to decide how the tree is built(refer this [thread][1]), but I learnt that this is not supported in ANTLR 4. \r\n\r\nCan someone suggest how I can parse the String in the correct order in Java using the ParseTree created by ANTLR?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr","title":"Nested Boolean Expression Parser using ANTLR","body":"<p>I'm trying to parse a Nested Boolean Expression and get the individual conditions within the expression separately. For e.g., if the input string is:</p>\n\n<p>(A = a OR B = b OR C = c AND ((D = d AND E = e) OR (F = f AND G = g)))</p>\n\n<p>I would like to get the conditions with the correct order. i.e.,</p>\n\n<p>D =d AND E = e\nOR\nF = f AND G = g\nAND\nA = a OR B = b OR C = c</p>\n\n<p>I'm using ANTLR 4 to parse the input text and here's my grammar:</p>\n\n<pre><code>grammar SimpleBoolean;\n\nrule_set : nestedCondition* EOF;\n\nAND : 'AND' ;\nOR  : 'OR' ;\nNOT : 'NOT';\n\nTRUE  : 'TRUE' ;\nFALSE : 'FALSE' ;\n\nGT : '&gt;' ;\nGE : '&gt;=' ;\nLT : '&lt;' ;\nLE : '&lt;=' ;\nEQ : '=' ;\n\nLPAREN : '(' ;\nRPAREN : ')' ;\n\nDECIMAL : '-'?[0-9]+('.'[0-9]+)? ;\n\nIDENTIFIER : [a-zA-Z_][a-zA-Z_0-9]* ;\n\nWS : [ \\r\\t\\u000C\\n]+ -&gt; skip;\n\nnestedCondition : LPAREN condition+ RPAREN (binary nestedCondition)*;\ncondition: predicate (binary predicate)*\n            | predicate (binary component)*;\ncomponent: predicate | multiAttrComp;\nmultiAttrComp : LPAREN predicate (and predicate)+ RPAREN;\npredicate : IDENTIFIER comparator IDENTIFIER;\ncomparator : GT | GE | LT | LE | EQ ;\nbinary: AND | OR ;\nunary: NOT;\nand: AND;\n</code></pre>\n\n<p>And here's the Java Code that I'm using to parse it:</p>\n\n<pre><code>ANTLRInputStream inputStr = new ANTLRInputStream(input);\nSimpleBooleanLexer lexer = new SimpleBooleanLexer(inputStr);\nTokenStream tokens = new CommonTokenStream(lexer);\nSimpleBooleanParser parser = new SimpleBooleanParser(tokens);\nparser.getBuildParseTree();\nParseTree tree = parser.rule_set();\nSystem.out.println(tree.toStringTree(parser));\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>(rule_set (nestedCondition ( (condition (predicate A (comparator =) a) (binary OR) (component (predicate B (comparator =) b)) (binary OR) (component (predicate C (comparator =) c)) (binary AND) (component (multiAttrComp ( (predicate ( D (comparator =) d) (and AND) (predicate E (comparator =) e) ))) (binary OR) (component (multiAttrComp ( (predicate F (comparator =) f) (and AND) (predicate G (comparator =) g) )))) ) )) &lt;EOF&gt;)\n</code></pre>\n\n<p>I'm looking for help on how to parse this tree to get the conditions in the correct order? In ANTLR 3, we could specify ^ and ! to decide how the tree is built(refer this <a href=\"https://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr\">thread</a>), but I learnt that this is not supported in ANTLR 4. </p>\n\n<p>Can someone suggest how I can parse the String in the correct order in Java using the ParseTree created by ANTLR?</p>\n"},{"tags":["java","jar","auto-update","file-access"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1694507349,"post_id":77085119,"comment_id":135896202,"body_markdown":"Does this answer your question? [How do I launch a completely independent process from a Java program?](https://stackoverflow.com/questions/931536/how-do-i-launch-a-completely-independent-process-from-a-java-program)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/931536/how-do-i-launch-a-completely-independent-process-from-a-java-program\">How do I launch a completely independent process from a Java program?</a>"},{"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"score":0,"creation_date":1694554803,"post_id":77085119,"comment_id":135906056,"body_markdown":"I&#39;ve ended up reworking the entire post...","body":"I&#39;ve ended up reworking the entire post..."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1694555024,"post_id":77085119,"comment_id":135906087,"body_markdown":"Can you maybe try reducing your project to a [mre] (and I mean minimal, only include what&#39;s necessary for reproducing it) where the issue happens?","body":"Can you maybe try reducing your project to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (and I mean minimal, only include what&#39;s necessary for reproducing it) where the issue happens?"},{"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"score":0,"creation_date":1694555171,"post_id":77085119,"comment_id":135906105,"body_markdown":"I suppose I&#39;ll have to try to do a duplicate of the project and then start taking stuff away one bit at the timee to see when it starts working... this way I might find the culprit but i&#39;s going to take some time","body":"I suppose I&#39;ll have to try to do a duplicate of the project and then start taking stuff away one bit at the timee to see when it starts working... this way I might find the culprit but i&#39;s going to take some time"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1694555521,"post_id":77085119,"comment_id":135906137,"body_markdown":"Also, it could happen that A is actually not stopped when Bis changing A&#39;s JAR. `System.exit` doesn&#39;t immediately dtop the program.","body":"Also, it could happen that A is actually not stopped when Bis changing A&#39;s JAR. <code>System.exit</code> doesn&#39;t immediately dtop the program."}],"answers":[{"tags":[],"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694563482,"creation_date":1694563072,"answer_id":77093294,"question_id":77085119,"body_markdown":"OK, this was a weird one...\r\n\r\nI cloned the app project and started to remove one bit at the time untill I was left with this:\r\n\r\n    public class Main implements Runnable {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Main());\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile().getAbsolutePath() + File.separator;\r\n\t\t\ttry {\r\n\t\t\t\tRuntime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + dir + &quot;Update&quot; + File.separator + &quot;Updater.jar\\&quot;&quot;);\r\n\t\t\t} catch (IOException ex) { }\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\nat this point there was not a shadow of a doubt that it wasn&#39;t the app the problem, but the updater itself... so I proceeded to made a clone of that project as well and started to reverse-engineer it until I finally figured out what the problem was.\r\n\r\n**This is what happened:**\r\n\r\nmy basic file structure is as follows:\r\n\r\n    App Folder\r\n    ├─ App.jar\r\n    ├─ Update\r\n    │  ├─ Updater.jar\r\n    │  ├─ Data\r\n    │  │  ├─ NewApp.jar\r\n\r\n`App.jar` launches `Updater.jar` and exites.\r\n\r\nThe `Updater.jar` tries to figure out it&#39;s own location path to then be able to find the path to the parent `App Folder` and the path to the child `Data` folder.\r\n\r\nTo find the `.jar` current directory I obtain it by doing `new File(&quot;.&quot;).getAbsoluteFile().getParentFile();`. this will make a &#39;.&#39; File object in the same directory as the `.jar` file of the running application. By gettin this object&#39;s parent, I basically have the directory path to the current Application. **This is what breaks!**\r\n\r\nIf I open the `Updater.jar` manually, the path is correct and there is no issue.\r\n\r\nBut if it&#39;s the `App.jar` that opens the `Updater.jar`, then for some reason the `new File(&quot;.&quot;)` called by the Updater app will no longer be created in the `Updater.jar` directory, but in the `App.jar` directory where the Updater was executed from.\r\n\r\nTo fix it I momentarily replaced the faulty code with `new File(context.getProtectionDomain().getCodeSource().getLocation().toURI())` to get the current App Directory and it&#39;s working alright, but I&#39;ll have to find a &quot;proper&quot; way and really look into it better, as I&#39;m starting to grow suspicious of this solution as well!\r\n\r\nThis to me makes no sense to be honest, and I feels like it&#39;s more of a bug rather than a feature... but none the less, I finally got to the bottom of it and it&#39;s now all working as expected!","title":"SOLVED - Issue while using `new File(&quot;.&quot;)` when executing a new jar programmatically","body":"<p>OK, this was a weird one...</p>\n<p>I cloned the app project and started to remove one bit at the time untill I was left with this:</p>\n<pre><code>public class Main implements Runnable {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Main());\n    }\n    @Override\n    public void run() {\n        String dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile().getAbsolutePath() + File.separator;\n        try {\n            Runtime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + dir + &quot;Update&quot; + File.separator + &quot;Updater.jar\\&quot;&quot;);\n        } catch (IOException ex) { }\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>at this point there was not a shadow of a doubt that it wasn't the app the problem, but the updater itself... so I proceeded to made a clone of that project as well and started to reverse-engineer it until I finally figured out what the problem was.</p>\n<p><strong>This is what happened:</strong></p>\n<p>my basic file structure is as follows:</p>\n<pre><code>App Folder\n├─ App.jar\n├─ Update\n│  ├─ Updater.jar\n│  ├─ Data\n│  │  ├─ NewApp.jar\n</code></pre>\n<p><code>App.jar</code> launches <code>Updater.jar</code> and exites.</p>\n<p>The <code>Updater.jar</code> tries to figure out it's own location path to then be able to find the path to the parent <code>App Folder</code> and the path to the child <code>Data</code> folder.</p>\n<p>To find the <code>.jar</code> current directory I obtain it by doing <code>new File(&quot;.&quot;).getAbsoluteFile().getParentFile();</code>. this will make a '.' File object in the same directory as the <code>.jar</code> file of the running application. By gettin this object's parent, I basically have the directory path to the current Application. <strong>This is what breaks!</strong></p>\n<p>If I open the <code>Updater.jar</code> manually, the path is correct and there is no issue.</p>\n<p>But if it's the <code>App.jar</code> that opens the <code>Updater.jar</code>, then for some reason the <code>new File(&quot;.&quot;)</code> called by the Updater app will no longer be created in the <code>Updater.jar</code> directory, but in the <code>App.jar</code> directory where the Updater was executed from.</p>\n<p>To fix it I momentarily replaced the faulty code with <code>new File(context.getProtectionDomain().getCodeSource().getLocation().toURI())</code> to get the current App Directory and it's working alright, but I'll have to find a &quot;proper&quot; way and really look into it better, as I'm starting to grow suspicious of this solution as well!</p>\n<p>This to me makes no sense to be honest, and I feels like it's more of a bug rather than a feature... but none the less, I finally got to the bottom of it and it's now all working as expected!</p>\n"}],"owner":{"account_id":10482040,"reputation":118,"user_id":7726772,"display_name":"Fraŋkini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77093294,"answer_count":1,"score":0,"last_activity_date":1694563736,"creation_date":1694471829,"question_id":77085119,"body_markdown":"**UPDATE:**\r\n\r\n**MY SITUATION:**\r\n\r\nUsing Java 17.0.8\r\n\r\nI have an app A.jar that on startup checks for updates, downloads the update and then runs B.jar to replace the app files with the freshly downloaded ones.\r\n\r\n**THE PROBLEM:**\r\n\r\nFrom A, when I run the B app and then `exit(0)`, the A app should release the lock on the A.jar file after the JVM closes, so the B app can then replace the files with the new updated version.\r\nInstead, the A.jar file remains locked and the B app can&#39;t overwrite the A files with the update.\r\n\r\nInstead, if the A app exits, and then I manually launch the B app, it works as espected.\r\nI&#39;ve also tried to run the B app launcingh it with the `cmd /c` nohup but it still doesn&#39;t release the lock on A files...\r\n\r\n**DEBUG:**\r\n\r\nmaking a fresh project and compiling this code three times, once for A.jar, once for B.jar and the last one for A2.jar, then running the A.jar, then it updates to A2.jar version successfully as expected.\r\n\r\n    public class Main implements Runnable {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tSwingUtilities.invokeLater(new Main());\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tString x = &quot;A&quot;; //&quot;A&quot; for A.jar, &quot;B&quot; for B.jar and &quot;A2&quot; for A2.jar\r\n\r\n\t\t\tFile dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile();\r\n\t\t\tFile A = new File(dir.getAbsolutePath() + File.separator + &quot;A.jar&quot;);\r\n\t\t\tFile B = new File(dir.getAbsolutePath() + File.separator + &quot;B.jar&quot;);\r\n\t\t\tFile A2 = new File(dir.getAbsolutePath() + File.separator + &quot;A2.jar&quot;);\r\n\t\t\tswitch (x) {\r\n\t\t\t\tcase &quot;A&quot; -&gt; {\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Lancio Aggiornamento!&quot;);\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tRuntime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + B.getAbsolutePath() + &quot;\\&quot;&quot;);\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcase &quot;B&quot; -&gt; {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Sto Aggiornando!&quot;);\r\n\t\t\t\t\t\tFiles.copy(A2.toPath(), A.toPath(), StandardCopyOption.REPLACE_EXISTING);\r\n\t\t\t\t\t\tA2.delete();\r\n\t\t\t\t\t\tRuntime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + A.getAbsolutePath() + &quot;\\&quot;&quot;);\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcase &quot;A2&quot; -&gt; {\r\n\t\t\t\t\tB.delete();\r\n\t\t\t\t\tJOptionPane.showMessageDialog(null, x + &quot;: Sono Aggiornamento!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tdefault -&gt; { }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nSo I imagine it&#39;s an issue with my project. The problem is that there is too much code and libraries to trying and find the culprit...\r\n\r\n**THE QUESTION:**\r\n\r\nWhat could be keeping the main .jar file loked after I exit the JVM and it fully closes, even disappearing from task manager? Shouldn&#39;t it release any remaining lock on the .jar files?\r\n\r\nI know if I don&#39;t close a file stream properly then it might not fully release the lock, but I&#39;m not directly doing anything to the jar file itself...","title":"SOLVED - Issue while using `new File(&quot;.&quot;)` when executing a new jar programmatically","body":"<p><strong>UPDATE:</strong></p>\n<p><strong>MY SITUATION:</strong></p>\n<p>Using Java 17.0.8</p>\n<p>I have an app A.jar that on startup checks for updates, downloads the update and then runs B.jar to replace the app files with the freshly downloaded ones.</p>\n<p><strong>THE PROBLEM:</strong></p>\n<p>From A, when I run the B app and then <code>exit(0)</code>, the A app should release the lock on the A.jar file after the JVM closes, so the B app can then replace the files with the new updated version.\nInstead, the A.jar file remains locked and the B app can't overwrite the A files with the update.</p>\n<p>Instead, if the A app exits, and then I manually launch the B app, it works as espected.\nI've also tried to run the B app launcingh it with the <code>cmd /c</code> nohup but it still doesn't release the lock on A files...</p>\n<p><strong>DEBUG:</strong></p>\n<p>making a fresh project and compiling this code three times, once for A.jar, once for B.jar and the last one for A2.jar, then running the A.jar, then it updates to A2.jar version successfully as expected.</p>\n<pre><code>public class Main implements Runnable {\n\n    public static void main(String[] args) {\n\n        SwingUtilities.invokeLater(new Main());\n    }\n\n    @Override\n    public void run() {\n        String x = &quot;A&quot;; //&quot;A&quot; for A.jar, &quot;B&quot; for B.jar and &quot;A2&quot; for A2.jar\n\n        File dir = new File(&quot;.&quot;).getAbsoluteFile().getParentFile();\n        File A = new File(dir.getAbsolutePath() + File.separator + &quot;A.jar&quot;);\n        File B = new File(dir.getAbsolutePath() + File.separator + &quot;B.jar&quot;);\n        File A2 = new File(dir.getAbsolutePath() + File.separator + &quot;A2.jar&quot;);\n        switch (x) {\n            case &quot;A&quot; -&gt; {\n                JOptionPane.showMessageDialog(null, x + &quot;: Lancio Aggiornamento!&quot;);\n                try {\n                    Runtime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + B.getAbsolutePath() + &quot;\\&quot;&quot;);\n                    System.exit(0);\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\n                }\n            }\n            case &quot;B&quot; -&gt; {\n                try {\n                    JOptionPane.showMessageDialog(null, x + &quot;: Sto Aggiornando!&quot;);\n                    Files.copy(A2.toPath(), A.toPath(), StandardCopyOption.REPLACE_EXISTING);\n                    A2.delete();\n                    Runtime.getRuntime().exec(&quot;cmd /c java -jar \\&quot;&quot; + A.getAbsolutePath() + &quot;\\&quot;&quot;);\n                    System.exit(0);\n                } catch (IOException ex) {\n                    JOptionPane.showMessageDialog(null, x + &quot;: Aggiornamento Fallito!&quot;);\n                }\n            }\n            case &quot;A2&quot; -&gt; {\n                B.delete();\n                JOptionPane.showMessageDialog(null, x + &quot;: Sono Aggiornamento!&quot;);\n            }\n            default -&gt; { }\n        }\n    }\n\n}\n</code></pre>\n<p>So I imagine it's an issue with my project. The problem is that there is too much code and libraries to trying and find the culprit...</p>\n<p><strong>THE QUESTION:</strong></p>\n<p>What could be keeping the main .jar file loked after I exit the JVM and it fully closes, even disappearing from task manager? Shouldn't it release any remaining lock on the .jar files?</p>\n<p>I know if I don't close a file stream properly then it might not fully release the lock, but I'm not directly doing anything to the jar file itself...</p>\n"},{"tags":["java","android","kotlin","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":7921523,"reputation":173,"user_id":5982350,"display_name":"Ahmed Sa&#39;eed"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1599742002,"creation_date":1599742002,"answer_id":63830006,"question_id":55332209,"body_markdown":"In `gradle.properties` you can set \r\n`android.useNewApkCreator=true`, This will fix first warning.","title":"WARNING: The option setting is experimental and unsupported","body":"<p>In <code>gradle.properties</code> you can set\n<code>android.useNewApkCreator=true</code>, This will fix first warning.</p>\n"}],"owner":{"account_id":8325678,"reputation":1471,"user_id":6255841,"display_name":"Nabin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20977,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1694563515,"creation_date":1553494810,"question_id":55332209,"body_markdown":"I have updated **Android Studio** to **3.3.2**, and found gradle sync warning.\r\n\r\nWARNING: The option setting **&#39;android.databinding.enableV2=false&#39;** is *experimental and unsupported*.\r\nThe current default is **&#39;true&#39;.**\r\n\r\nWARNING: The option setting **&#39;android.enableExperimentalFeatureDatabinding=true&#39;** is *experimental and unsupported*.\r\nThe current default is **&#39;false&#39;.**","title":"WARNING: The option setting is experimental and unsupported","body":"<p>I have updated <strong>Android Studio</strong> to <strong>3.3.2</strong>, and found gradle sync warning.</p>\n\n<p>WARNING: The option setting <strong>'android.databinding.enableV2=false'</strong> is <em>experimental and unsupported</em>.\nThe current default is <strong>'true'.</strong></p>\n\n<p>WARNING: The option setting <strong>'android.enableExperimentalFeatureDatabinding=true'</strong> is <em>experimental and unsupported</em>.\nThe current default is <strong>'false'.</strong></p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":3685403,"reputation":9772,"user_id":3069254,"display_name":"Jorge_B"},"score":0,"creation_date":1449737756,"post_id":34197341,"comment_id":56140330,"body_markdown":"With Maven, I would try to &quot;Import existing Maven projects&quot;, which would create appropriate &quot;views&quot; of every subproject adjacent to the parent project.  This way, Eclipse would show you the flat multiproject structure it likes, offering you proper java projects based on each Maven module configuration.  I don&#39;t know if this is feasible with Gradle, however :(","body":"With Maven, I would try to &quot;Import existing Maven projects&quot;, which would create appropriate &quot;views&quot; of every subproject adjacent to the parent project.  This way, Eclipse would show you the flat multiproject structure it likes, offering you proper java projects based on each Maven module configuration.  I don&#39;t know if this is feasible with Gradle, however :("},{"owner":{"account_id":7447336,"reputation":103,"user_id":5663106,"display_name":"demavend"},"score":0,"creation_date":1450419997,"post_id":34197341,"comment_id":56440904,"body_markdown":"A few days ago, I have found a solution.","body":"A few days ago, I have found a solution."},{"owner":{"account_id":2918605,"reputation":578,"user_id":2501328,"display_name":"Shineed Basheer"},"score":0,"creation_date":1539755995,"post_id":34197341,"comment_id":92612064,"body_markdown":"@demavend Whats the solution you found ?","body":"@demavend Whats the solution you found ?"}],"answers":[{"comments":[{"owner":{"account_id":7447336,"reputation":103,"user_id":5663106,"display_name":"demavend"},"score":0,"creation_date":1449738774,"post_id":34197507,"comment_id":56140935,"body_markdown":"What is differences between Buildship and eclipse integration gradle? I used all, but now buildship.","body":"What is differences between Buildship and eclipse integration gradle? I used all, but now buildship."},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1449739314,"post_id":34197507,"comment_id":56141249,"body_markdown":"BuildShip is nothing but the collection of different plugins that are used to integrate Gradle into Eclipse so that building projects become easier.","body":"BuildShip is nothing but the collection of different plugins that are used to integrate Gradle into Eclipse so that building projects become easier."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1449740268,"post_id":34197507,"comment_id":56141883,"body_markdown":"I believe the Gradle plugin is available in the Eclipse Marketplace as a one-button install.","body":"I believe the Gradle plugin is available in the Eclipse Marketplace as a one-button install."},{"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"score":0,"creation_date":1492578670,"post_id":34197507,"comment_id":74028941,"body_markdown":"buildship does not support multi project, nor do they plan to. smart decisions.. :)","body":"buildship does not support multi project, nor do they plan to. smart decisions.. :)"}],"tags":[],"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1449738024,"creation_date":1449738024,"answer_id":34197507,"question_id":34197341,"body_markdown":"You can try to install Gradle plugin for eclipse from here:\r\n\r\n&quot;https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md&quot;\r\n\r\nInstallation steps are given here: \r\n&quot;https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md#installation-instructions&quot;.\r\n\r\n\r\n\r\nYou can view the following post for further information:\r\n\r\n&quot;https://stackoverflow.com/questions/6442619/launching-gradle-builds-from-eclipse&quot;.","title":"How to configure Eclipse with Gradle in multi project?","body":"<p>You can try to install Gradle plugin for eclipse from here:</p>\n\n<p>\"<a href=\"https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md</a>\"</p>\n\n<p>Installation steps are given here: \n\"<a href=\"https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md#installation-instructions\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/eclipse-integration-gradle/blob/master/README.md#installation-instructions</a>\".</p>\n\n<p>You can view the following post for further information:</p>\n\n<p>\"<a href=\"https://stackoverflow.com/questions/6442619/launching-gradle-builds-from-eclipse\">Launching Gradle builds from Eclipse</a>\".</p>\n"}],"owner":{"account_id":7447336,"reputation":103,"user_id":5663106,"display_name":"demavend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12810,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1694563515,"creation_date":1449737495,"question_id":34197341,"body_markdown":"I&#39;m using Eclipse Mars, Buildship plugin, JDK 1.8 and Gradle 2.9 on OS X\r\n\r\nI need below structure in Eclipse. How to configure and create?\r\n\r\n    my-examples/\r\n        settings.gradle\r\n        01_example/\r\n            build.gradle\r\n            src/main/java\r\n            src/main/resources\r\n            src/test/java\r\n            src/test/resources\r\n        02_example/\r\n            build.gradle\r\n            src/main/java\r\n            src/main/resources\r\n            src/test/java\r\n            src/test/resources\r\n        03_example/\r\n            build.gradle\r\n            src/main/java\r\n            src/main/resources\r\n            src/test/java\r\n            src/test/resources\r\n\r\nThe root directory `my-examples` is just wraps sub directories(`01_example`, `02_example`, `03_example`). \r\n\r\n\r\n----------\r\n\r\nHere is `build.gradle` in root directory I tried to configure:\r\n\r\n    subprojects {\r\n       apply plugin: &#39;java&#39;\r\n       sourceCompatibility = 1.8\r\n       targetCompatibility = 1.8\r\n       repositories {\r\n           jcenter()\r\n       }\r\n       task initSourceFolders {\r\n           sourceSets*.java.srcDirs*.each { it.mkdirs() }\r\n           sourceSets*.resources.srcDirs*.each { it.mkdirs() }\r\n       }\r\n    }\r\n\r\n\r\n----------\r\nEdited\r\n\r\nFirst, I created a directory and created `build.gradle` and `settings.gradle` with `include exam1`, `include exam2`, and `include exam3`.\r\nNow I imported the project from Gradle Project. The sub directories has been created that I needed.\r\n\r\n**But** problem is that I can&#39;t create another sub directory in Eclipse and it&#39;s same in shell `mkdir exam4` and `gradle build`. Always It has been created normal folder.\r\n\r\n[Project workspace in Eclipse][1]\r\n\r\n  [1]: https://i.stack.imgur.com/NR74b.png","title":"How to configure Eclipse with Gradle in multi project?","body":"<p>I'm using Eclipse Mars, Buildship plugin, JDK 1.8 and Gradle 2.9 on OS X</p>\n\n<p>I need below structure in Eclipse. How to configure and create?</p>\n\n<pre><code>my-examples/\n    settings.gradle\n    01_example/\n        build.gradle\n        src/main/java\n        src/main/resources\n        src/test/java\n        src/test/resources\n    02_example/\n        build.gradle\n        src/main/java\n        src/main/resources\n        src/test/java\n        src/test/resources\n    03_example/\n        build.gradle\n        src/main/java\n        src/main/resources\n        src/test/java\n        src/test/resources\n</code></pre>\n\n<p>The root directory <code>my-examples</code> is just wraps sub directories(<code>01_example</code>, <code>02_example</code>, <code>03_example</code>). </p>\n\n<hr>\n\n<p>Here is <code>build.gradle</code> in root directory I tried to configure:</p>\n\n<pre><code>subprojects {\n   apply plugin: 'java'\n   sourceCompatibility = 1.8\n   targetCompatibility = 1.8\n   repositories {\n       jcenter()\n   }\n   task initSourceFolders {\n       sourceSets*.java.srcDirs*.each { it.mkdirs() }\n       sourceSets*.resources.srcDirs*.each { it.mkdirs() }\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>Edited</p>\n\n<p>First, I created a directory and created <code>build.gradle</code> and <code>settings.gradle</code> with <code>include exam1</code>, <code>include exam2</code>, and <code>include exam3</code>.\nNow I imported the project from Gradle Project. The sub directories has been created that I needed.</p>\n\n<p><strong>But</strong> problem is that I can't create another sub directory in Eclipse and it's same in shell <code>mkdir exam4</code> and <code>gradle build</code>. Always It has been created normal folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NR74b.png\" rel=\"noreferrer\">Project workspace in Eclipse</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4088645,"reputation":131,"user_id":3357279,"display_name":"Dummy Code"},"score":0,"creation_date":1396412801,"post_id":22801530,"comment_id":34770330,"body_markdown":"You want us to proof your code?","body":"You want us to proof your code?"},{"owner":{"account_id":4084463,"reputation":109,"user_id":3354072,"accept_rate":60,"display_name":"user3354072"},"score":0,"creation_date":1396412891,"post_id":22801530,"comment_id":34770357,"body_markdown":"My initial questions and yes if you could.  That&#39;s up to you though! @DummyCode","body":"My initial questions and yes if you could.  That&#39;s up to you though! @DummyCode"}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396412833,"creation_date":1396412833,"answer_id":22801560,"question_id":22801530,"body_markdown":"You have an array of size `9`. Instead it should be of size `10`. So, Change the initialization to\r\n\r\n    int[] a=new int[10];\r\n\r\nUse modulo operator `%` or remainder operator in Java to find out even or odd numbers. \r\n        \r\n        int evenSum = 0;\r\n        for(int j=0;j&lt;a.length;j++){\r\n        if(a[j]%2 == 0){\r\n           //even numbers\r\n           evenSum = evenSum + a[j];\r\n        }else{\r\n           //odd numbers\r\n          }\r\n        }\r\n        return evenSum;","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<p>You have an array of size <code>9</code>. Instead it should be of size <code>10</code>. So, Change the initialization to</p>\n\n<pre><code>int[] a=new int[10];\n</code></pre>\n\n<p>Use modulo operator <code>%</code> or remainder operator in Java to find out even or odd numbers. </p>\n\n<pre><code>    int evenSum = 0;\n    for(int j=0;j&lt;a.length;j++){\n    if(a[j]%2 == 0){\n       //even numbers\n       evenSum = evenSum + a[j];\n    }else{\n       //odd numbers\n      }\n    }\n    return evenSum;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3653631,"reputation":3350,"user_id":3045192,"display_name":"Sky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396412850,"creation_date":1396412850,"answer_id":22801562,"question_id":22801530,"body_markdown":"  \r\n\r\n      int[] a=new int[9];\r\n        Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Please enter numbers...&quot;);\r\n            for(int j=0;j==9;j++)\r\n            a[j]=sc.nextInt();\r\n    \r\n    }\r\n\r\nThere&#39;s something wrong with your loop, it should be \r\n\r\n    for (int j = 0; j &lt; 9; j++)\r\n\r\nWith this fix it should correctly prompt the users for 9 numbers. Change to 10 for the array and the loop it would takes in 10 number.\r\n","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<pre><code>  int[] a=new int[9];\n    Scanner sc=new Scanner(System.in);\n        System.out.println(\"Please enter numbers...\");\n        for(int j=0;j==9;j++)\n        a[j]=sc.nextInt();\n\n}\n</code></pre>\n\n<p>There's something wrong with your loop, it should be </p>\n\n<pre><code>for (int j = 0; j &lt; 9; j++)\n</code></pre>\n\n<p>With this fix it should correctly prompt the users for 9 numbers. Change to 10 for the array and the loop it would takes in 10 number.</p>\n"},{"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1396413201,"post_id":22801571,"comment_id":34770444,"body_markdown":"The above code is having a bug, the `if` condition should be `array[i] % 2 == 0`. Please update your answer.","body":"The above code is having a bug, the <code>if</code> condition should be <code>array[i] % 2 == 0</code>. Please update your answer."},{"owner":{"account_id":4084463,"reputation":109,"user_id":3354072,"accept_rate":60,"display_name":"user3354072"},"score":0,"creation_date":1396413265,"post_id":22801571,"comment_id":34770457,"body_markdown":"Can you explain the input again or why you did it like that?","body":"Can you explain the input again or why you did it like that?"},{"owner":{"account_id":4088645,"reputation":131,"user_id":3357279,"display_name":"Dummy Code"},"score":0,"creation_date":1396413294,"post_id":22801571,"comment_id":34770469,"body_markdown":"@Octopus Thanks for the catch! Didn&#39;t test.","body":"@Octopus Thanks for the catch! Didn&#39;t test."},{"owner":{"account_id":4088645,"reputation":131,"user_id":3357279,"display_name":"Dummy Code"},"score":0,"creation_date":1396413338,"post_id":22801571,"comment_id":34770481,"body_markdown":"@user3354072 I did it like that because you want to iterate through each index and set it equal to `sc.nextInt()`. Starting at `0` and going until you hit the `length`","body":"@user3354072 I did it like that because you want to iterate through each index and set it equal to <code>sc.nextInt()</code>. Starting at <code>0</code> and going until you hit the <code>length</code>"},{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1396413570,"post_id":22801571,"comment_id":34770550,"body_markdown":"@DummyCode You are saying the OP the correct and easiest way. but, the OP`s way of checking the condition as `j==9` also will work in this specific case of array of length `10`. OP has initialized the array wrongly. it should be `int[10]` not `int[9]`. See my answer!","body":"@DummyCode You are saying the OP the correct and easiest way. but, the OP<code>s way of checking the condition as </code>j==9` also will work in this specific case of array of length <code>10</code>. OP has initialized the array wrongly. it should be <code>int[10]</code> not <code>int[9]</code>. See my answer!"},{"owner":{"account_id":4084463,"reputation":109,"user_id":3354072,"accept_rate":60,"display_name":"user3354072"},"score":0,"creation_date":1396415142,"post_id":22801571,"comment_id":34771052,"body_markdown":"@dummycode I&#39;m having trouble updating my code on the site.  Is there  a way I could get it to you? And also my Eclipse program won&#39;t run it? It&#39;s just showing me ant builds that I can&#39;t use...","body":"@dummycode I&#39;m having trouble updating my code on the site.  Is there  a way I could get it to you? And also my Eclipse program won&#39;t run it? It&#39;s just showing me ant builds that I can&#39;t use..."}],"tags":[],"owner":{"account_id":4088645,"reputation":131,"user_id":3357279,"display_name":"Dummy Code"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396413283,"creation_date":1396412903,"answer_id":22801571,"question_id":22801530,"body_markdown":"**Sum of evens**\r\n\r\n    static int sumOfEvens(int array[]) {\r\n    \tint sum = 0;\r\n    \tfor(int i = 0; i &lt; array.length; i++&gt;) {\r\n    \t\tif(array[i] % 2 == 0)\r\n    \t\t\tsum += array[i];\r\n    \t}\r\n    \treturn sum;\r\n    }\r\n\r\n**Input**\r\n\r\n    for(int j = 0; j &lt; a.length; j++)\r\n    \ta[j] = sc.nextInt();","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<p><strong>Sum of evens</strong></p>\n\n<pre><code>static int sumOfEvens(int array[]) {\n    int sum = 0;\n    for(int i = 0; i &lt; array.length; i++&gt;) {\n        if(array[i] % 2 == 0)\n            sum += array[i];\n    }\n    return sum;\n}\n</code></pre>\n\n<p><strong>Input</strong></p>\n\n<pre><code>for(int j = 0; j &lt; a.length; j++)\n    a[j] = sc.nextInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":189528,"reputation":3611,"user_id":428904,"accept_rate":82,"display_name":"Hirak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396413340,"creation_date":1396413340,"answer_id":22801654,"question_id":22801530,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class MyMain1 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// until you do user input, you should test your methods using &quot;test&quot; as\r\n    \t\t// the input.\r\n    \t\tint[] luckyNumbers = { 7, 13, 18 };\r\n    \r\n    \t\tint[] a = new int[10];\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Please enter numbers...&quot;);\r\n    \t\tfor (int j = 0; j &lt;= 9; j++) {\r\n    \t\t\ta[j] = sc.nextInt();\r\n    \t\t}\r\n    \t\tsc.close();\r\n    \r\n    \t\tboolean sumAll = false;\r\n    \r\n    \t\tfor (int i : a) {\r\n    \t\t\tfor (int j : luckyNumbers) {\r\n    \t\t\t\tif (i == j) {\r\n    \t\t\t\t\tsumAll = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif(sumAll) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (sumAll) {\r\n    \t\t\tSystem.out.println(&quot;Summing all : &quot; + sumAll(a));\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Summing Only Even : &quot; + sumEven(a));\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic static int sumAll(int[] value) {\r\n    \t\tint total = 0;\r\n    \t\tfor (int j : value) {\r\n    \t\t\ttotal = total + j;\r\n    \t\t}\r\n    \t\treturn total;\r\n    \t}\r\n    \r\n    \tpublic static int sumEven(int[] value) {\r\n    \r\n    \t\tint total = 0;\r\n    \t\tfor (int j : value) {\r\n    \t\t\tif (j % 2 == 0) {\r\n    \t\t\t\ttotal = total + j;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn total;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<pre><code>import java.util.Scanner;\n\npublic class MyMain1 {\n\n    public static void main(String[] args) {\n        // until you do user input, you should test your methods using \"test\" as\n        // the input.\n        int[] luckyNumbers = { 7, 13, 18 };\n\n        int[] a = new int[10];\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Please enter numbers...\");\n        for (int j = 0; j &lt;= 9; j++) {\n            a[j] = sc.nextInt();\n        }\n        sc.close();\n\n        boolean sumAll = false;\n\n        for (int i : a) {\n            for (int j : luckyNumbers) {\n                if (i == j) {\n                    sumAll = true;\n                    break;\n                }\n            }\n            if(sumAll) {\n                break;\n            }\n        }\n\n        if (sumAll) {\n            System.out.println(\"Summing all : \" + sumAll(a));\n        } else {\n            System.out.println(\"Summing Only Even : \" + sumEven(a));\n        }\n\n    }\n\n    public static int sumAll(int[] value) {\n        int total = 0;\n        for (int j : value) {\n            total = total + j;\n        }\n        return total;\n    }\n\n    public static int sumEven(int[] value) {\n\n        int total = 0;\n        for (int j : value) {\n            if (j % 2 == 0) {\n                total = total + j;\n            }\n        }\n        return total;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4084463,"reputation":109,"user_id":3354072,"accept_rate":60,"display_name":"user3354072"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1694563515,"creation_date":1396412655,"question_id":22801530,"body_markdown":"This program asks for the user to input 10 numbers and is converted into an `int` array. If the array is lucky (contains the numbers 7, 13, or 18) then it prints out the sum of all the numbers in the array.  If it does not contain those then it is false and it only prints the sum of all the even numbers. \r\n\r\nHow do I correctly ask for this input?  How do I get the sum of the even numbers in the array?  Is any of the other code incorrect?  \r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class FunArrays {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// until you do user input, you should test your methods using &quot;test&quot; as the input.\r\n\t\tint[] test = {1,2,3,4,5,6,7}; \r\n\t\tluckyNumber1 = {7};\r\n\t\tluckyNumber2 = {13};\r\n\t\tluckyNumber3 = {18};\r\n\t\t\r\n\t\t\r\n\t\tint[] a=new int[9];\r\n        Scanner sc=new Scanner(System.in);\r\n\t\t\tSystem.out.println(&quot;Please enter numbers...&quot;);\r\n\t\t\tfor(int j=0;j==9;j++)\r\n\t\t\ta[j]=sc.nextInt();\r\n\r\n\t}\r\n\t\r\n\tpublic static int sum(int [ ] value) {\r\n          int i, total = 0;\r\n          for(i=0; i&lt;10; i++)\r\n          {\r\n              total = total + value[ i ];\r\n          }\r\n\r\n          return (total);\r\n     }\r\n\tpublic static int sumOfEvens (\r\n\tpublic static boolean isLucky (int[] array) {\r\n\t\r\n\t\tif ( (int == luckyNumber1) || (int == luckyNumber2) || (int == luckyNumber3 )\r\n\t\t\treturn true; \r\n\t\t\t\r\n\t\telse\r\n\t\t\treturn false\r\n\t}\r\n\t\r\n\t// write the static methods isLucky, sum, and sumOfEvens\r\n\r\n    }\r\n","title":"Java program asking for 10 numbers and puts them in an array. How do I ask for input? Is my code correct so far?","body":"<p>This program asks for the user to input 10 numbers and is converted into an <code>int</code> array. If the array is lucky (contains the numbers 7, 13, or 18) then it prints out the sum of all the numbers in the array.  If it does not contain those then it is false and it only prints the sum of all the even numbers. </p>\n\n<p>How do I correctly ask for this input?  How do I get the sum of the even numbers in the array?  Is any of the other code incorrect?  </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class FunArrays {\n\npublic static void main(String[] args) {\n    // until you do user input, you should test your methods using \"test\" as the input.\n    int[] test = {1,2,3,4,5,6,7}; \n    luckyNumber1 = {7};\n    luckyNumber2 = {13};\n    luckyNumber3 = {18};\n\n\n    int[] a=new int[9];\n    Scanner sc=new Scanner(System.in);\n        System.out.println(\"Please enter numbers...\");\n        for(int j=0;j==9;j++)\n        a[j]=sc.nextInt();\n\n}\n\npublic static int sum(int [ ] value) {\n      int i, total = 0;\n      for(i=0; i&lt;10; i++)\n      {\n          total = total + value[ i ];\n      }\n\n      return (total);\n }\npublic static int sumOfEvens (\npublic static boolean isLucky (int[] array) {\n\n    if ( (int == luckyNumber1) || (int == luckyNumber2) || (int == luckyNumber3 )\n        return true; \n\n    else\n        return false\n}\n\n// write the static methods isLucky, sum, and sumOfEvens\n\n}\n</code></pre>\n"},{"tags":["java","mysql","image","blob"],"comments":[{"owner":{"account_id":1688737,"reputation":125,"user_id":1551519,"display_name":"macken88"},"score":0,"creation_date":1348489598,"post_id":12564745,"comment_id":16925920,"body_markdown":"have you tried to clear the column before writing to it?","body":"have you tried to clear the column before writing to it?"}],"answers":[{"tags":[],"owner":{"account_id":12259,"reputation":5042,"user_id":611084,"accept_rate":43,"display_name":"bang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348490586,"creation_date":1348490195,"answer_id":12565166,"question_id":12564745,"body_markdown":"I don&#39;t know how to do it in your Java library, but you should use SQL queries with parameters (probably setBinaryStream or setBlob) instead of concating a SQL string. That might solve your problem...\r\n\r\nFound this that might help you :\r\n\r\nhttps://stackoverflow.com/questions/9558952/preparedstatement-on-java-and-probability-to-set-parameters\r\n\r\nhttp://www.herongyang.com/JDBC/MySQL-PreparedStatement-Parameters.html\r\n\r\nand this:\r\n\r\nhttp://www.jdbc-tutorial.com/jdbc-prepared-statements.htm","title":"Updating image saved in mysql blob format","body":"<p>I don't know how to do it in your Java library, but you should use SQL queries with parameters (probably setBinaryStream or setBlob) instead of concating a SQL string. That might solve your problem...</p>\n\n<p>Found this that might help you :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9558952/preparedstatement-on-java-and-probability-to-set-parameters\">PreparedStatement on Java and probability to set parameters</a></p>\n\n<p><a href=\"http://www.herongyang.com/JDBC/MySQL-PreparedStatement-Parameters.html\" rel=\"nofollow noreferrer\">http://www.herongyang.com/JDBC/MySQL-PreparedStatement-Parameters.html</a></p>\n\n<p>and this:</p>\n\n<p><a href=\"http://www.jdbc-tutorial.com/jdbc-prepared-statements.htm\" rel=\"nofollow noreferrer\">http://www.jdbc-tutorial.com/jdbc-prepared-statements.htm</a></p>\n"},{"comments":[{"owner":{"account_id":12259,"reputation":5042,"user_id":611084,"accept_rate":43,"display_name":"bang"},"score":0,"creation_date":1348557136,"post_id":12565390,"comment_id":16946907,"body_markdown":"Well, thats exactly the same as I wrote.... @Ashan: Maybe mark my answer as correct :) ?","body":"Well, thats exactly the same as I wrote.... @Ashan: Maybe mark my answer as correct :) ?"},{"owner":{"account_id":1650552,"reputation":33,"user_id":1521251,"accept_rate":20,"display_name":"Ashan Perera"},"score":0,"creation_date":1351117369,"post_id":12565390,"comment_id":17735280,"body_markdown":"yes very sorry I forgot to mark it as correct...its done ... :)","body":"yes very sorry I forgot to mark it as correct...its done ... :)"}],"tags":[],"owner":{"account_id":1688737,"reputation":125,"user_id":1551519,"display_name":"macken88"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348491066,"creation_date":1348491066,"answer_id":12565390,"question_id":12564745,"body_markdown":"    PreparedStatement stmt = con.preparestatement(&quot;update menu set Menu_Image= ? where Menu_Code= ?&quot;);\r\n    stmt.setString(1, menu_image_new);\r\n    stmt.setBlob(2, FoodMenu_FOA.clicked);\r\n\r\nThis will create a prepared statement, note entirely sure if it will solve your problem though","title":"Updating image saved in mysql blob format","body":"<pre><code>PreparedStatement stmt = con.preparestatement(\"update menu set Menu_Image= ? where Menu_Code= ?\");\nstmt.setString(1, menu_image_new);\nstmt.setBlob(2, FoodMenu_FOA.clicked);\n</code></pre>\n\n<p>This will create a prepared statement, note entirely sure if it will solve your problem though</p>\n"},{"tags":[],"owner":{"account_id":9828112,"reputation":1,"user_id":7280715,"display_name":"rex realingo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491287891,"creation_date":1491284526,"answer_id":43199105,"question_id":12564745,"body_markdown":"You can try: \r\n\r\n    try {\r\n        String update = &quot;update menu set IMAGE=? where Menu_Code=&#39;&quot; + \r\n            edit_idnumber.getText() + &quot;&#39;&quot;;\r\n        pst = conn.prepareStatement(update);\r\n        pst.setBytes(1, menu_image_new);\r\n        pst.execute();  \r\n    } catch (Exception e) {\r\n        JOptionPane.showMessageDialog(null, e);\r\n    }","title":"Updating image saved in mysql blob format","body":"<p>You can try: </p>\n\n<pre><code>try {\n    String update = \"update menu set IMAGE=? where Menu_Code='\" + \n        edit_idnumber.getText() + \"'\";\n    pst = conn.prepareStatement(update);\n    pst.setBytes(1, menu_image_new);\n    pst.execute();  \n} catch (Exception e) {\n    JOptionPane.showMessageDialog(null, e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4306620,"reputation":107,"user_id":3518835,"accept_rate":62,"display_name":"user3518835"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495551511,"creation_date":1495551511,"answer_id":44138395,"question_id":12564745,"body_markdown":"I had the same issue , You need first of all clear blob format in column.\r\nby setting Menu_Image to null\r\n \r\n\r\n      \r\n    // Save button click event where the update query run\r\n\r\n         private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\r\n       PreparedStatement st;\r\n     try {\r\n        Connection con = DB_Con.getConnection();\r\n     String sql = &quot;update menu set Menu_Image= null where Menu_Code=&#39;&quot; + \r\n       FoodMenu_FOA.clicked + &quot;&#39;&quot;;\r\n        st = (PreparedStatement) con.prepareStatement(sql);\r\n        st.executeUpdate();\r\n        } catch (Exception e) {\r\n          JOptionPane.showMessageDialog(null, e);\r\n       } \r\n\r\n     // As your are using prepare statement set \r\n\r\n        try {\r\n          Connection con = DB_Con.getConnection();\r\n            String sql = &quot;update menu set Menu_Image= ? where Menu_Code=&#39;&quot; + \r\n          FoodMenu_FOA.clicked + &quot;&#39;&quot;;\r\n            st = (PreparedStatement) con.prepareStatement(sql);\r\n          st.executeUpdate();\r\n          JOptionPane.showMessageDialog(null, &quot;Image Updated Successfully&quot;);\r\n        } catch (Exception e) {\r\n          JOptionPane.showMessageDialog(null, e);\r\n           }\r\n     }","title":"Updating image saved in mysql blob format","body":"<p>I had the same issue , You need first of all clear blob format in column.\nby setting Menu_Image to null</p>\n\n<pre><code>// Save button click event where the update query run\n\n     private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\n   PreparedStatement st;\n try {\n    Connection con = DB_Con.getConnection();\n String sql = \"update menu set Menu_Image= null where Menu_Code='\" + \n   FoodMenu_FOA.clicked + \"'\";\n    st = (PreparedStatement) con.prepareStatement(sql);\n    st.executeUpdate();\n    } catch (Exception e) {\n      JOptionPane.showMessageDialog(null, e);\n   } \n\n // As your are using prepare statement set \n\n    try {\n      Connection con = DB_Con.getConnection();\n        String sql = \"update menu set Menu_Image= ? where Menu_Code='\" + \n      FoodMenu_FOA.clicked + \"'\";\n        st = (PreparedStatement) con.prepareStatement(sql);\n      st.executeUpdate();\n      JOptionPane.showMessageDialog(null, \"Image Updated Successfully\");\n    } catch (Exception e) {\n      JOptionPane.showMessageDialog(null, e);\n       }\n }\n</code></pre>\n"}],"owner":{"account_id":1650552,"reputation":33,"user_id":1521251,"accept_rate":20,"display_name":"Ashan Perera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9013,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1694563515,"creation_date":1348488324,"question_id":12564745,"body_markdown":"In my programs the user can save an image in mysql via java program.And it will be displayed in a Jlabel. The image inserting part works fine.The image gets inserted and is displayed properly.But when the user try to update it the image is not updated properly.After the update, when I go and check in Mysql, the image is not there. Some garbage value is there. Can anyone help me ?\r\n\r\n    //Method to get the image from the file chooser\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\r\n        JFileChooser chooser = new JFileChooser();\r\n        chooser.showOpenDialog(null);\r\n        File f = chooser.getSelectedFile();\r\n        filename = f.getAbsolutePath();\r\n        jTextField1.setText(filename);\r\n\r\n        try {\r\n            File image = new File(filename);\r\n            FileInputStream fis = new FileInputStream(image);\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            byte buf[] = new byte[1024];\r\n\r\n            for (int readNum; (readNum = fis.read(buf)) != -1;) {\r\n                bos.write(buf, 0, readNum);\r\n            }\r\n            menu_image_new = bos.toByteArray();\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n    } \r\n\r\n    // Save button click event where the update query run\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\r\n        try {\r\n            Connection con = DB_Con.getConnection();\r\n            String sql = &quot;update menu set Menu_Image=&#39;&quot; + menu_image_new + &quot;&#39; where Menu_Code=&#39;&quot; + FoodMenu_FOA.clicked + &quot;&#39;&quot;;\r\n            PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\r\n            st.executeUpdate();\r\n            JOptionPane.showMessageDialog(null, &quot;Image Updated Successfully&quot;);\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n    } \r\n\r\n    //Method to display image in Jlabel\r\n    public void set_Icon_menu() {\r\n        try {\r\n            int row = menu_table.getSelectedRow();\r\n            Connection con = DB_Con.getConnection();\r\n            ResultSet rs;\r\n            String menu_id = menu_table.getModel().getValueAt(row, 0).toString();\r\n            String sql = &quot;select Menu_Image from menu where Menu_Code=&#39;&quot; + menu_id + &quot;&#39;&quot;;\r\n            PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\r\n            rs = st.executeQuery();\r\n            if (rs.next()) {\r\n                byte[] imagedata = rs.getBytes(&quot;Menu_Image&quot;);\r\n                format = new ImageIcon(imagedata);\r\n                menu_label.setIcon(format);\r\n\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\n  ","title":"Updating image saved in mysql blob format","body":"<p>In my programs the user can save an image in mysql via java program.And it will be displayed in a Jlabel. The image inserting part works fine.The image gets inserted and is displayed properly.But when the user try to update it the image is not updated properly.After the update, when I go and check in Mysql, the image is not there. Some garbage value is there. Can anyone help me ?</p>\n\n<pre><code>//Method to get the image from the file chooser\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {\n    JFileChooser chooser = new JFileChooser();\n    chooser.showOpenDialog(null);\n    File f = chooser.getSelectedFile();\n    filename = f.getAbsolutePath();\n    jTextField1.setText(filename);\n\n    try {\n        File image = new File(filename);\n        FileInputStream fis = new FileInputStream(image);\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        byte buf[] = new byte[1024];\n\n        for (int readNum; (readNum = fis.read(buf)) != -1;) {\n            bos.write(buf, 0, readNum);\n        }\n        menu_image_new = bos.toByteArray();\n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e);\n    }\n} \n\n// Save button click event where the update query run\nprivate void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {\n    try {\n        Connection con = DB_Con.getConnection();\n        String sql = \"update menu set Menu_Image='\" + menu_image_new + \"' where Menu_Code='\" + FoodMenu_FOA.clicked + \"'\";\n        PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\n        st.executeUpdate();\n        JOptionPane.showMessageDialog(null, \"Image Updated Successfully\");\n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, e);\n    }\n} \n\n//Method to display image in Jlabel\npublic void set_Icon_menu() {\n    try {\n        int row = menu_table.getSelectedRow();\n        Connection con = DB_Con.getConnection();\n        ResultSet rs;\n        String menu_id = menu_table.getModel().getValueAt(row, 0).toString();\n        String sql = \"select Menu_Image from menu where Menu_Code='\" + menu_id + \"'\";\n        PreparedStatement st = (PreparedStatement) con.prepareStatement(sql);\n        rs = st.executeQuery();\n        if (rs.next()) {\n            byte[] imagedata = rs.getBytes(\"Menu_Image\");\n            format = new ImageIcon(imagedata);\n            menu_label.setIcon(format);\n\n        }\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":16607523,"reputation":1,"user_id":12001525,"display_name":"jdrpepper79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694562821,"creation_date":1694562821,"question_id":77093279,"body_markdown":"I apologize if this is a noob question but I am trying to disable all DHE ciphers, for example, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 and TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 by editing them out of the java.security file. \r\n\r\n    # Example:\r\n    #   jdk.tls.disabledAlgorithms=MD5, SSLv3, DSA, RSA keySize &lt; 2048\r\n        jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 2048, \\\r\n        EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n        TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, \\\r\n        TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n\r\nAfter adding it to this section, I restart the service but Nmap still picks them on the scan. \r\n\r\nAm I missing something obvious? Am I not able to simply edit the java.security file to disable these ciphers?\r\n\r\n\r\nTried editing the java.security file","title":"Cannot seem to be able to disable TLS ciphers in JRE java.security file","body":"<p>I apologize if this is a noob question but I am trying to disable all DHE ciphers, for example, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 and TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 by editing them out of the java.security file.</p>\n<pre><code># Example:\n#   jdk.tls.disabledAlgorithms=MD5, SSLv3, DSA, RSA keySize &lt; 2048\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 2048, \\\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, \\\n    TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n</code></pre>\n<p>After adding it to this section, I restart the service but Nmap still picks them on the scan.</p>\n<p>Am I missing something obvious? Am I not able to simply edit the java.security file to disable these ciphers?</p>\n<p>Tried editing the java.security file</p>\n"},{"tags":["java","android","react-native"],"answers":[{"tags":[],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694561920,"creation_date":1694561920,"answer_id":77093234,"question_id":77092799,"body_markdown":"Have to set Fabric which is the only boolean parameter in here:\r\n\r\n       public static class Builder { \r\n      \r\n         @Nullable String mComponentName; \r\n         @Nullable Bundle mLaunchOptions; \r\n         @Nullable Boolean mFabricEnabled; \r\n      \r\n         public Builder() { \r\n           mComponentName = null; \r\n           mLaunchOptions = null; \r\n           mFabricEnabled = null; \r\n         } \r\n\r\nYour call should include setFabricEnabled:\r\n\r\n    Fragment reactNativeFragment = new ReactFragment.Builder()\r\n                        .setComponentName(&quot;ReactNativeProject&quot;)\r\n                        .setLaunchOptions(getLaunchOptions(&quot;test message&quot;))\r\n                        .setFabricEnabled(true)\r\n                        .build();","title":"Attempt to invoke virtual method on a null object reference using ReactFragment","body":"<p>Have to set Fabric which is the only boolean parameter in here:</p>\n<pre><code>   public static class Builder { \n  \n     @Nullable String mComponentName; \n     @Nullable Bundle mLaunchOptions; \n     @Nullable Boolean mFabricEnabled; \n  \n     public Builder() { \n       mComponentName = null; \n       mLaunchOptions = null; \n       mFabricEnabled = null; \n     } \n</code></pre>\n<p>Your call should include setFabricEnabled:</p>\n<pre><code>Fragment reactNativeFragment = new ReactFragment.Builder()\n                    .setComponentName(&quot;ReactNativeProject&quot;)\n                    .setLaunchOptions(getLaunchOptions(&quot;test message&quot;))\n                    .setFabricEnabled(true)\n                    .build();\n</code></pre>\n"}],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77093234,"answer_count":1,"score":0,"last_activity_date":1694561920,"creation_date":1694554315,"question_id":77092799,"body_markdown":"I am attempting to connect my current android application to a React Native component when clicking . I have the following code failing:\r\n\r\nFragment.java\r\n\r\n    reactNativeBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                \r\n                Fragment reactNativeFragment = new ReactFragment.Builder()\r\n                        .setComponentName(&quot;ReactNativeProject&quot;)\r\n                        .build(); //Failing in here line 138\r\n                \r\n                getActivity().getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .add(R.id.loading_view, reactNativeFragment,&quot;tag&quot;)\r\n                        .commit();\r\n    \r\n            }\r\n\r\nI understand that the component set under `setComponentName` is the name of the project included in index.js:\r\n\r\n    import {AppRegistry} from &#39;react-native&#39;;\r\n    import App from &#39;./App&#39;;\r\n    import {name as appName} from &#39;./app.json&#39;;\r\n    \r\n    AppRegistry.registerComponent(appName, () =&gt; App);\r\n\r\nwhich in my case is located under app.json:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;ReactNativeProject&quot;,\r\n      &quot;displayName&quot;: &quot;ReactNativeProject&quot;\r\n    }\r\n\r\nThe error is the following:\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.Boolean.booleanValue()&#39; on a null object reference\r\n    at com.facebook.react.ReactFragment.newInstance(ReactFragment.java:54)\r\n    at com.facebook.react.ReactFragment.-$$Nest$smnewInstance(Unknown Source:0)\r\n    at com.facebook.react.ReactFragment$Builder.build(ReactFragment.java:214)\r\n    at com.example.reactnative.Fragment$1.onClick(Fragment.java:138)\r\n    at android.view.View.performClick(View.java:7506)\r\n    at android.view.View.performClickInternal(View.java:7483)\r\n    at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n    at android.view.View$PerformClick.run(View.java:29334)\r\n    at android.os.Handler.handleCallback(Handler.java:942)\r\n    at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    at android.os.Looper.loopOnce(Looper.java:201)\r\n    at android.os.Looper.loop(Looper.java:288)\r\n    at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\nWould you know what could be the issue when invoking build() in ReactFragment?\r\n\r\nThanks","title":"Attempt to invoke virtual method on a null object reference using ReactFragment","body":"<p>I am attempting to connect my current android application to a React Native component when clicking . I have the following code failing:</p>\n<p>Fragment.java</p>\n<pre><code>reactNativeBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            \n            Fragment reactNativeFragment = new ReactFragment.Builder()\n                    .setComponentName(&quot;ReactNativeProject&quot;)\n                    .build(); //Failing in here line 138\n            \n            getActivity().getSupportFragmentManager()\n                    .beginTransaction()\n                    .add(R.id.loading_view, reactNativeFragment,&quot;tag&quot;)\n                    .commit();\n\n        }\n</code></pre>\n<p>I understand that the component set under <code>setComponentName</code> is the name of the project included in index.js:</p>\n<pre><code>import {AppRegistry} from 'react-native';\nimport App from './App';\nimport {name as appName} from './app.json';\n\nAppRegistry.registerComponent(appName, () =&gt; App);\n</code></pre>\n<p>which in my case is located under app.json:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;ReactNativeProject&quot;,\n  &quot;displayName&quot;: &quot;ReactNativeProject&quot;\n}\n</code></pre>\n<p>The error is the following:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.Boolean.booleanValue()' on a null object reference\nat com.facebook.react.ReactFragment.newInstance(ReactFragment.java:54)\nat com.facebook.react.ReactFragment.-$$Nest$smnewInstance(Unknown Source:0)\nat com.facebook.react.ReactFragment$Builder.build(ReactFragment.java:214)\nat com.example.reactnative.Fragment$1.onClick(Fragment.java:138)\nat android.view.View.performClick(View.java:7506)\nat android.view.View.performClickInternal(View.java:7483)\nat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\nat android.view.View$PerformClick.run(View.java:29334)\nat android.os.Handler.handleCallback(Handler.java:942)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>Would you know what could be the issue when invoking build() in ReactFragment?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","jacoco"],"answers":[{"comments":[{"owner":{"account_id":22143607,"reputation":193,"user_id":16393274,"display_name":"Jose Gleeson"},"score":0,"creation_date":1675701630,"post_id":60040545,"comment_id":132981063,"body_markdown":"Is this still in date? You can&#39;t just use the starter?","body":"Is this still in date? You can&#39;t just use the starter?"},{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":0,"creation_date":1676006868,"post_id":60040545,"comment_id":133054193,"body_markdown":"@JoseGleeson which starter?","body":"@JoseGleeson which starter?"}],"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1580737558,"creation_date":1580737558,"answer_id":60040545,"question_id":60037013,"body_markdown":"By default Spring Boot Maven plugin creates a fork and the agent configuration has to be explicitly specified. It can be done through setting `&lt;agents&gt;&lt;agent&gt;...&lt;/agent&gt;&lt;/agents&gt;` configuration property in Spring Boot Maven plugin BUT it does not work with Jacoco since there is no idiomatic way to find out what&#39;s the exact path to the agent jar file.\r\n\r\nInstead you can pass `argLine` variable set by Jacoco to Spring Boot Maven plugin JVM arguments:\r\n\r\n&lt;!-- xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;start-spring-boot&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;start&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;stop&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nSince quite a few Maven plugins have to be configured to make it work, just to avoid any confusion here&#39;s the complete `pom.xml` file:\r\n\r\n&lt;!-- xml --&gt;\r\n\r\n    \t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-spring-boot-maven&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;name&gt;jacoco-spring-boot-maven&lt;/name&gt;\r\n\t\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;start-spring-boot&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;start&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;stop&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;default-report&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\nWith this, once you execute `mvn clean verify` you can find Jacoco reports in `target/site/jacoco/index.html`.\r\n\r\nYou can find complete sample project at [jacoco-spring-boot-maven-plugin-sample](https://github.com/maciejwalkowiak/jacoco-spring-boot-maven-plugin-sample.git)","title":"Generate Code Coverage with JaCoCo and spring-boot-maven-plugin","body":"<p>By default Spring Boot Maven plugin creates a fork and the agent configuration has to be explicitly specified. It can be done through setting <code>&lt;agents&gt;&lt;agent&gt;...&lt;/agent&gt;&lt;/agents&gt;</code> configuration property in Spring Boot Maven plugin BUT it does not work with Jacoco since there is no idiomatic way to find out what's the exact path to the agent jar file.</p>\n\n<p>Instead you can pass <code>argLine</code> variable set by Jacoco to Spring Boot Maven plugin JVM arguments:</p>\n\n\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;start-spring-boot&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;start&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;stop-spring-boot&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;stop&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Since quite a few Maven plugins have to be configured to make it work, just to avoid any confusion here's the complete <code>pom.xml</code> file:</p>\n\n\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-spring-boot-maven&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;jacoco-spring-boot-maven&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;${argLine}&lt;/jvmArguments&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;start-spring-boot&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;stop&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;verify&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>With this, once you execute <code>mvn clean verify</code> you can find Jacoco reports in <code>target/site/jacoco/index.html</code>.</p>\n\n<p>You can find complete sample project at <a href=\"https://github.com/maciejwalkowiak/jacoco-spring-boot-maven-plugin-sample.git\" rel=\"noreferrer\">jacoco-spring-boot-maven-plugin-sample</a></p>\n"}],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30867,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":60040545,"answer_count":1,"score":7,"last_activity_date":1694561866,"creation_date":1580724522,"question_id":60037013,"body_markdown":"During integration tests I use spring-boot-maven-plugin to start my spring application:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n             &lt;execution&gt;\r\n                 &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                 &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;start&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n             &lt;/execution&gt;\r\n             &lt;execution&gt;\r\n                 &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                 &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;stop&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n             &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nNow I would like to add JaCoCo agent to the exection but adding it to the configuration as agent or jvmarguments didn&#39;t work. When starting I always see:\r\n\r\n    [INFO] --- spring-boot-maven-plugin:2.2.4.RELEASE:start (start-spring-boot) @ tosca-ui ---\r\n    [INFO] Attaching agents: []\r\n\r\nHow can I use JaCoCo with spring-boot-maven-plugin?","title":"Generate Code Coverage with JaCoCo and spring-boot-maven-plugin","body":"<p>During integration tests I use spring-boot-maven-plugin to start my spring application:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n         &lt;execution&gt;\n             &lt;id&gt;start-spring-boot&lt;/id&gt;\n             &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;start&lt;/goal&gt;\n             &lt;/goals&gt;\n         &lt;/execution&gt;\n         &lt;execution&gt;\n             &lt;id&gt;stop-spring-boot&lt;/id&gt;\n             &lt;phase&gt;post-integration-test&lt;/phase&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;stop&lt;/goal&gt;\n             &lt;/goals&gt;\n         &lt;/execution&gt;\n     &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Now I would like to add JaCoCo agent to the exection but adding it to the configuration as agent or jvmarguments didn't work. When starting I always see:</p>\n\n<pre><code>[INFO] --- spring-boot-maven-plugin:2.2.4.RELEASE:start (start-spring-boot) @ tosca-ui ---\n[INFO] Attaching agents: []\n</code></pre>\n\n<p>How can I use JaCoCo with spring-boot-maven-plugin?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":2,"creation_date":1557147316,"post_id":55999480,"comment_id":98656814,"body_markdown":"They are both order 0 which means it&#39;s random. Did you set an order and it isn&#39;t reflected? What version are you using?","body":"They are both order 0 which means it&#39;s random. Did you set an order and it isn&#39;t reflected? What version are you using?"},{"owner":{"account_id":347923,"reputation":2221,"user_id":682324,"accept_rate":54,"display_name":"Andreas"},"score":0,"creation_date":1557148063,"post_id":55999480,"comment_id":98657230,"body_markdown":"Hi Spencer, i tried setting the first one to order 50 and the second to 0 - then it does not find any route for `/yambas/rest/apps/bla/models/ms`","body":"Hi Spencer, i tried setting the first one to order 50 and the second to 0 - then it does not find any route for <code>&#47;yambas&#47;rest&#47;apps&#47;bla&#47;models&#47;ms</code>"}],"answers":[{"tags":[],"owner":{"account_id":347923,"reputation":2221,"user_id":682324,"accept_rate":54,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1557238959,"creation_date":1557238959,"answer_id":56024760,"question_id":55999480,"body_markdown":"It seems that we set the order the wrong way - setting the lower priority route to order 1 and the higher to 0 makes it work.\r\n\r\n@spencergibb that would be definitely worth to be mentioned in the documentation.","title":"Route order in Spring Cloud Gateway","body":"<p>It seems that we set the order the wrong way - setting the lower priority route to order 1 and the higher to 0 makes it work.</p>\n\n<p>@spencergibb that would be definitely worth to be mentioned in the documentation.</p>\n"},{"comments":[{"owner":{"account_id":17838380,"reputation":106,"user_id":12956829,"display_name":"Jongho Jeon"},"score":0,"creation_date":1678430513,"post_id":68041723,"comment_id":133534298,"body_markdown":"Leave some references:\nhttps://cloud.spring.io/spring-cloud-gateway/reference/html/#retrieving-the-routes-defined-in-the-gateway. \n\nhttps://github.com/spring-cloud/spring-cloud-gateway/commit/20152a7477881ec7e23c8b0ba36cd0a96142c0b7.","body":"Leave some references: <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#retrieving-the-routes-defined-in-the-gateway\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-gateway/reference/html/&hellip;</a>.   <a href=\"https://github.com/spring-cloud/spring-cloud-gateway/commit/20152a7477881ec7e23c8b0ba36cd0a96142c0b7\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-gateway/commit/&hellip;</a>."}],"tags":[],"owner":{"account_id":13678404,"reputation":444,"user_id":9869329,"display_name":"Purushotham CK"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1669137682,"creation_date":1624052474,"answer_id":68041723,"question_id":55999480,"body_markdown":"The more specific routes should appear first in the routing configuration, generic ones at the end.\r\n\r\nFor example:  `http://gateway-url/v1/accounts/**` always matches with the `route-id-1` while `http://gateway-url/v1/**` matches with `route-id-2`\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: route-id-1\r\n        uri: http://www.someurl.com\r\n        order: 0\r\n        predicates:\r\n        - Path=/v1/accounts/** #&lt;--\r\n        filters:\r\n        - RewritePath=/v1/accounts/(?&lt;segment&gt;.*), /$\\{segment}\r\n      - id: route-id-2\r\n        uri: http://www.someurl1.com\r\n        order: 1\r\n        predicates:\r\n        - Path=/v1/** #&lt;--\r\n        filters:\r\n        - RewritePath=/v1/(?&lt;segment&gt;.*), /$\\{segment}\r\n```       \r\n\r\n","title":"Route order in Spring Cloud Gateway","body":"<p>The more specific routes should appear first in the routing configuration, generic ones at the end.</p>\n<p>For example:  <code>http://gateway-url/v1/accounts/**</code> always matches with the <code>route-id-1</code> while <code>http://gateway-url/v1/**</code> matches with <code>route-id-2</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: route-id-1\n        uri: http://www.someurl.com\n        order: 0\n        predicates:\n        - Path=/v1/accounts/** #&lt;--\n        filters:\n        - RewritePath=/v1/accounts/(?&lt;segment&gt;.*), /$\\{segment}\n      - id: route-id-2\n        uri: http://www.someurl1.com\n        order: 1\n        predicates:\n        - Path=/v1/** #&lt;--\n        filters:\n        - RewritePath=/v1/(?&lt;segment&gt;.*), /$\\{segment}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":1,"creation_date":1695014830,"post_id":77093108,"comment_id":135962209,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/34984180)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/34984180\">From Review</a>"}],"tags":[],"owner":{"account_id":16387299,"reputation":1,"user_id":11836961,"display_name":"Eduardo Cabral"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694559512,"creation_date":1694559491,"answer_id":77093108,"question_id":55999480,"body_markdown":"About the route order, it was answered at [Is there a recommended order range for Filters in Spring Cloud Gateway?](https://stackoverflow.com/a/70654321/11836961).\r\n\r\nTL;DR  \r\nThe order is based on `org.springframework.core.Ordered` interface, which lower values have higher precedence, as also mentioned by @andreas.","title":"Route order in Spring Cloud Gateway","body":"<p>About the route order, it was answered at <a href=\"https://stackoverflow.com/a/70654321/11836961\">Is there a recommended order range for Filters in Spring Cloud Gateway?</a>.</p>\n<p>TL;DR<br />\nThe order is based on <code>org.springframework.core.Ordered</code> interface, which lower values have higher precedence, as also mentioned by @andreas.</p>\n"}],"owner":{"account_id":347923,"reputation":2221,"user_id":682324,"accept_rate":54,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7003,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56024760,"answer_count":3,"score":5,"last_activity_date":1694559512,"creation_date":1557122019,"question_id":55999480,"body_markdown":"We are implementing routes programmatically using a implementation of `RouteDefinitionLocator`. We have two services which should register at the same route path, where one of them is meant as a fallback if the other one does not exist. The preferred route with the specific path is:\r\n\r\n    RouteDefinition{id=&#39;CompositeDiscoveryClient_ms-1400133464&#39;, predicates=[PredicateDefinition{name=&#39;Path&#39;, args={pattern=/yambas/rest/apps/*/models/ms/**}}], filters=[FilterDefinition{name=&#39;RewritePath&#39;, args={regexp=/yambas/rest/apps/(?&lt;remaining&gt;.*), replacement=/ms/apps/${remaining}}}], uri=lb://ms, order=0}\r\n\r\nAnd the more general one, which should only fire if other route was found:\r\n\r\n    RouteDefinition{id=&#39;CompositeDiscoveryClient_yambas-1171178634&#39;, predicates=[PredicateDefinition{name=&#39;Path&#39;, args={pattern=/yambas/rest/**}}], filters=[], uri=lb://yambas, order=0}\r\n    \r\n\r\nThus, when calling `/yambas/rest/apps/bla/models/ms`, the first route should be used, and when calling `/yambas/rest/apps/bla/models/otherms/*`, the second (fallback ) should be used. \r\n\r\nProblem is, that even the *order* attribute at the route seems not to solve this; currently we find no possibility to set up this order / priority of routes. Is this intendet?","title":"Route order in Spring Cloud Gateway","body":"<p>We are implementing routes programmatically using a implementation of <code>RouteDefinitionLocator</code>. We have two services which should register at the same route path, where one of them is meant as a fallback if the other one does not exist. The preferred route with the specific path is:</p>\n\n<pre><code>RouteDefinition{id='CompositeDiscoveryClient_ms-1400133464', predicates=[PredicateDefinition{name='Path', args={pattern=/yambas/rest/apps/*/models/ms/**}}], filters=[FilterDefinition{name='RewritePath', args={regexp=/yambas/rest/apps/(?&lt;remaining&gt;.*), replacement=/ms/apps/${remaining}}}], uri=lb://ms, order=0}\n</code></pre>\n\n<p>And the more general one, which should only fire if other route was found:</p>\n\n<pre><code>RouteDefinition{id='CompositeDiscoveryClient_yambas-1171178634', predicates=[PredicateDefinition{name='Path', args={pattern=/yambas/rest/**}}], filters=[], uri=lb://yambas, order=0}\n</code></pre>\n\n<p>Thus, when calling <code>/yambas/rest/apps/bla/models/ms</code>, the first route should be used, and when calling <code>/yambas/rest/apps/bla/models/otherms/*</code>, the second (fallback ) should be used. </p>\n\n<p>Problem is, that even the <em>order</em> attribute at the route seems not to solve this; currently we find no possibility to set up this order / priority of routes. Is this intendet?</p>\n"},{"tags":["java","algorithm","time-complexity"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694477974,"post_id":77085315,"comment_id":135893214,"body_markdown":"if a web page is the source of this problem, please provide a link to that page.","body":"if a web page is the source of this problem, please provide a link to that page."}],"answers":[{"comments":[{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1694486314,"post_id":77085514,"comment_id":135893769,"body_markdown":"This gets the min max you can affect. The min max of the input may be due to a pair of adj elts neither of which is 0. e.g. [0,1,100]","body":"This gets the min max you can affect. The min max of the input may be due to a pair of adj elts neither of which is 0. e.g. [0,1,100]"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1694530950,"post_id":77085514,"comment_id":135901632,"body_markdown":"For input [5,0,0,0,4] and m = 10, the correct answer is 1. But using this approach max element is 5 and min element is 4. So the result is (5+4)/2 = 4. But expected result is 1. can you please check if I am missing anything in understanding your answer.","body":"For input [5,0,0,0,4] and m = 10, the correct answer is 1. But using this approach max element is 5 and min element is 4. So the result is (5+4)/2 = 4. But expected result is 1. can you please check if I am missing anything in understanding your answer."},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1694531928,"post_id":77085514,"comment_id":135901886,"body_markdown":"@technotigr Why 1? With 1, the max difference is 5-1=4; with 4 it&#39;s 5-4=1.","body":"@technotigr Why 1? With 1, the max difference is 5-1=4; with 4 it&#39;s 5-4=1."}],"tags":[],"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694480082,"creation_date":1694480082,"answer_id":77085514,"question_id":77085315,"body_markdown":"Parse your array once, finding the max and min of all elements that are not zero, but that are adjacent to a zero.\r\n\r\nThe ideal answer is (max + min) / 2, rounding either way.\r\n\r\nIf this is bigger than m, choose m, otherwise choose this.","title":"Find min of max in less time complexity","body":"<p>Parse your array once, finding the max and min of all elements that are not zero, but that are adjacent to a zero.</p>\n<p>The ideal answer is (max + min) / 2, rounding either way.</p>\n<p>If this is bigger than m, choose m, otherwise choose this.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694527253,"post_id":77085635,"comment_id":135900710,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77085635/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":6078170,"reputation":11,"user_id":4744794,"display_name":"Steven Owens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694558614,"creation_date":1694482973,"answer_id":77085635,"question_id":77085315,"body_markdown":"I have two ideas one I am sure will work but doesn&#39;t improve your time complexity much and one that may need testing to make sure it does what you want.\r\n\r\nmethod 1 (the faster but may not do what you want): On the first run (when i is zero and zeroes are not replaced) take the differences as normal (I will refer to the max difference of this run as MaxNoReplace) but record the least number neighboring a zero (LeastZeroNeighbor) and the max difference between non-zero items (MaxDiffNonZeroNeighbors). if the max difference between non-zero neighboring items equals the max difference overall then return max difference between non-zero items (the max difference isn&#39;t going to get any lowest since it doesn&#39;t depend on what you replace zero with) else return the min of the max of difference the least number neighboring a zero and m and the max difference between non-zero neighboring item and MaxNoReplace or min(max(m-LeastZeroNeighbor, MaxDiffNonZeroNeighbors),MaxNoReplace)     \r\n\r\nmethod 2 (slower but I am sure (surer) it will work): On the first run (when i is zero and zeroes are not replaced) take the differences as normal but note where the zeros are and keep the max difference between non-zero items. On all other runs only compute the difference the now replaced zeros and it neighbors, if none of those are greater than the max difference between non-zero items that return that as the max instead. Take the min of max as normal.   ","title":"Find min of max in less time complexity","body":"<p>I have two ideas one I am sure will work but doesn't improve your time complexity much and one that may need testing to make sure it does what you want.</p>\n<p>method 1 (the faster but may not do what you want): On the first run (when i is zero and zeroes are not replaced) take the differences as normal (I will refer to the max difference of this run as MaxNoReplace) but record the least number neighboring a zero (LeastZeroNeighbor) and the max difference between non-zero items (MaxDiffNonZeroNeighbors). if the max difference between non-zero neighboring items equals the max difference overall then return max difference between non-zero items (the max difference isn't going to get any lowest since it doesn't depend on what you replace zero with) else return the min of the max of difference the least number neighboring a zero and m and the max difference between non-zero neighboring item and MaxNoReplace or min(max(m-LeastZeroNeighbor, MaxDiffNonZeroNeighbors),MaxNoReplace)</p>\n<p>method 2 (slower but I am sure (surer) it will work): On the first run (when i is zero and zeroes are not replaced) take the differences as normal but note where the zeros are and keep the max difference between non-zero items. On all other runs only compute the difference the now replaced zeros and it neighbors, if none of those are greater than the max difference between non-zero items that return that as the max instead. Take the min of max as normal.</p>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77085514,"answer_count":2,"score":1,"last_activity_date":1694558614,"creation_date":1694475543,"question_id":77085315,"body_markdown":"I am looking at this code challenge:\r\n\r\n&gt; Given an `array` of integers and another integer `m`. \r\n&gt; \r\n&gt; Choose an integer between `0` and `m`, and replace occurrences of `0` in input array of integers with this integer, then check the absolute difference between adjacent array items.\r\n&gt; \r\n&gt; Find the maximum absolute difference in each case. Then **finally** find the `minimum` of all those maximums.\r\n&gt; \r\n&gt; **Example 1:**\r\n&gt; \r\n&gt;     array = [4,0,3,2]\r\n&gt;     m = 2;\r\n&gt; \r\n&gt; **Expected output:**\r\n&gt; \r\n&gt;     2\r\n&gt; \r\n&gt; **Explanation:**\r\n&gt; \r\n&gt; * select i=0, replace all occurrences of 0 in the array with the value of i that is 0 in this case: [4,0,3,2]. Find the absolute difference between adjacent elements [4-0, 3-0, 3-2] = [4,3,2]. Maximum among these absolutes is 4.\r\n&gt; * select i=1, replace all occurrences of 0 in the array with the value of i that is 1 in this case: [4,1,3,2]. Find the absolute difference between adjacent elements [4-1, 3-1, 3-2] = [3,2,1]. Maximum among these absolutes is 3.\r\n&gt; * select i=2, replace all occurrences of 0 in the array with the value of i that is 2 in this case: [4,2,3,2]. Find the absolute difference between adjacent elements [4-2, 3-2, 3-2] = [2,1,1]. Maximum among these absolutes is 2.\r\n&gt; * Finally, the minimum of all maxima is min(4,3,2) = 2, which is the answer.\r\n&gt; \r\n&gt; **constraints:**\r\n&gt; \r\n&gt; * `array` has 1 to 10&lt;sup&gt;5&lt;/sup&gt; items\r\n&gt; * `array[i]` ranges from 0 to 10&lt;sup&gt;9&lt;/sup&gt;\r\n&gt; * `m` ranges from 0 to 10&lt;sup&gt;9&lt;/sup&gt;\r\n\r\nThis is my code:\r\n\r\n    static int solve(List&lt;Integer&gt; list, int m) {\r\n    \tint response = Integer.MAX_VALUE;\r\n    \tint n = list.size();\r\n    \tfor(int i=0; i&lt;=m ;i++) {\r\n    \t\tint j = list.get(0);\r\n    \t\tint max = 0;\r\n    \t\tif(j==0) j = i;\r\n    \t\tfor(int k=1; k&lt;n; k++) {\r\n    \t\t\tint e = list.get(k);\r\n    \t\t\tif(e==0) e = i;\r\n    \t\t\tint abs = Math.abs(e-j);\r\n    \t\t\tmax = Math.max(max, abs);\r\n    \t\t\tj = e;\r\n    \t\t}\r\n    \t\tresponse = Math.min(response, max);\r\n    \t}\r\n    \treturn response;\r\n    }\r\n\r\nTime complexity of this code is `O(m*n)`. \r\n\r\nWhat is the correct approach to solve this problem to reduce the time complexity?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Find min of max in less time complexity","body":"<p>I am looking at this code challenge:</p>\n<blockquote>\n<p>Given an <code>array</code> of integers and another integer <code>m</code>.</p>\n<p>Choose an integer between <code>0</code> and <code>m</code>, and replace occurrences of <code>0</code> in input array of integers with this integer, then check the absolute difference between adjacent array items.</p>\n<p>Find the maximum absolute difference in each case. Then <strong>finally</strong> find the <code>minimum</code> of all those maximums.</p>\n<p><strong>Example 1:</strong></p>\n<pre><code>array = [4,0,3,2]\nm = 2;\n</code></pre>\n<p><strong>Expected output:</strong></p>\n<pre><code>2\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<ul>\n<li>select i=0, replace all occurrences of 0 in the array with the value of i that is 0 in this case: [4,0,3,2]. Find the absolute difference between adjacent elements [4-0, 3-0, 3-2] = [4,3,2]. Maximum among these absolutes is 4.</li>\n<li>select i=1, replace all occurrences of 0 in the array with the value of i that is 1 in this case: [4,1,3,2]. Find the absolute difference between adjacent elements [4-1, 3-1, 3-2] = [3,2,1]. Maximum among these absolutes is 3.</li>\n<li>select i=2, replace all occurrences of 0 in the array with the value of i that is 2 in this case: [4,2,3,2]. Find the absolute difference between adjacent elements [4-2, 3-2, 3-2] = [2,1,1]. Maximum among these absolutes is 2.</li>\n<li>Finally, the minimum of all maxima is min(4,3,2) = 2, which is the answer.</li>\n</ul>\n<p><strong>constraints:</strong></p>\n<ul>\n<li><code>array</code> has 1 to 10<sup>5</sup> items</li>\n<li><code>array[i]</code> ranges from 0 to 10<sup>9</sup></li>\n<li><code>m</code> ranges from 0 to 10<sup>9</sup></li>\n</ul>\n</blockquote>\n<p>This is my code:</p>\n<pre><code>static int solve(List&lt;Integer&gt; list, int m) {\n    int response = Integer.MAX_VALUE;\n    int n = list.size();\n    for(int i=0; i&lt;=m ;i++) {\n        int j = list.get(0);\n        int max = 0;\n        if(j==0) j = i;\n        for(int k=1; k&lt;n; k++) {\n            int e = list.get(k);\n            if(e==0) e = i;\n            int abs = Math.abs(e-j);\n            max = Math.max(max, abs);\n            j = e;\n        }\n        response = Math.min(response, max);\n    }\n    return response;\n}\n</code></pre>\n<p>Time complexity of this code is <code>O(m*n)</code>.</p>\n<p>What is the correct approach to solve this problem to reduce the time complexity?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1694261871,"post_id":77072077,"comment_id":135870028,"body_markdown":"[Questions seeking debugging help (*&quot;why isn&#39;t this code working?&quot;*) must include the desired behavior, **a specific** problem or **error** and the **shortest code necessary to reproduce it** in the question itself. Questions without a clear problem statement are not useful to other readers.](https://stackoverflow.com/help/on-topic) See: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"<a href=\"https://stackoverflow.com/help/on-topic\">Questions seeking debugging help (<i>&quot;why isn&#39;t this code working?&quot;</i>) must include the desired behavior, <b>a specific</b> problem or <b>error</b> and the <b>shortest code necessary to reproduce it</b> in the question itself. Questions without a clear problem statement are not useful to other readers.</a> See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>."},{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1694571665,"post_id":77072077,"comment_id":135907575,"body_markdown":"Try a valid version of your artifact, like one from the list here https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper","body":"Try a valid version of your artifact, like one from the list here <a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.tomcat.embed/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694266755,"creation_date":1694266755,"answer_id":77072513,"question_id":77072077,"body_markdown":"I checked maven central for your dependency . version 10.1.3 is not found .\r\nhttps://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper","title":"Spring boot POM file add dependency","body":"<p>I checked maven central for your dependency . version 10.1.3 is not found .\n<a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.tomcat.embed/tomcat-embed-jasper</a></p>\n"}],"owner":{"account_id":27998154,"reputation":1,"user_id":21382946,"display_name":"Vivek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694572973,"answer_count":1,"score":0,"last_activity_date":1694556774,"creation_date":1694260217,"question_id":77072077,"body_markdown":"I am trying to add dependency in my pom.xml file\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tomcat.embed.jasper&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;version&gt;10.1.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nBut getting an error Missing artifact org.apache.tomcat.embed:tomcat.embed.jasper:jar:10.1.3\r\n\r\nTried to make changes but still getting same error","title":"Spring boot POM file add dependency","body":"<p>I am trying to add dependency in my pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat.embed.jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;version&gt;10.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But getting an error Missing artifact org.apache.tomcat.embed:tomcat.embed.jasper:jar:10.1.3</p>\n<p>Tried to make changes but still getting same error</p>\n"},{"tags":["java","spring","spring-boot","authentication","security"],"answers":[{"tags":[],"owner":{"account_id":23477672,"reputation":45,"user_id":17530250,"display_name":"Pavol Varga"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684746242,"creation_date":1684745769,"answer_id":76304487,"question_id":76300703,"body_markdown":"Kindly check my recent Spring Boot 3 project:\r\nhttps://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java\r\n\r\nAnd in this post I elaborated on a few topics:\r\nhttps://stackoverflow.com/questions/75618616/auto-login-after-registration-spring-boot-3-spring-security-6/76017750#76017750","title":"Problem with authenticationManager in securityFilterChain SpringBoot 3","body":"<p>Kindly check my recent Spring Boot 3 project:\n<a href=\"https://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java\" rel=\"nofollow noreferrer\">https://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java</a></p>\n<p>And in this post I elaborated on a few topics:\n<a href=\"https://stackoverflow.com/questions/75618616/auto-login-after-registration-spring-boot-3-spring-security-6/76017750#76017750\">Auto login after registration Spring Boot 3/Spring security 6</a></p>\n"}],"owner":{"account_id":28648278,"reputation":1,"user_id":21935789,"display_name":"Ace Thoughtless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694556690,"creation_date":1684684004,"question_id":76300703,"body_markdown":"As you can see in this photo im trying to add an authenticationManager in my .addFilter(new JwtUsernameAndPasswordAuthenticationFilter()) but springboot doesnt let because im using the securityFilterChain method.\r\n\r\n#############################################################################################\r\n```\r\n  @Configuration\r\n  @EnableWebSecurity\r\n   @EnableMethodSecurity\r\n\r\n   public class ApplicationSecurityConfig {\r\n\r\n     private final PasswordEncoder passwordEncoder;\r\n    private final ApplicationUserService applicationUserService;\r\n    @Autowired\r\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder,\r\n                                     ApplicationUserService applicationUserService) {\r\n        this.passwordEncoder=passwordEncoder;\r\n        this.applicationUserService = applicationUserService;\r\n    }\r\n\r\n    @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n\r\n                .csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager()))\r\n                .authorizeRequests()\r\n                .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\r\n                .requestMatchers(&quot;/api/**&quot;).hasRole(ApplicationUserRole.STUDENT.name())\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(daoAuthenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n############################################################################################\r\n\r\nmy class JwtUsernameAndPasswordAuthenticationFilter is this ,\r\n\r\n```\r\npublic class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public JwtUsernameAndPasswordAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request,\r\n                                                HttpServletResponse response) throws AuthenticationException {\r\n\r\n        try {\r\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper()\r\n                    .readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\r\n\r\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\r\n                authenticationRequest.getUsername(),\r\n                authenticationRequest.getPassword()\r\n            );\r\n            Authentication authenticate = authenticationManager.authenticate(authentication);\r\n            return authenticate;\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request,\r\n                                            HttpServletResponse response,\r\n                                            FilterChain chain,\r\n                                            Authentication authResult) throws IOException, ServletException {\r\n\r\n        String key = &quot;securesecuresecuresecuresecuresecuresecuresecuresecuresecure&quot;;\r\n        String token = Jwts.builder()\r\n                .setSubject(authResult.getName())\r\n                .claim(&quot;authorities&quot;,authResult.getAuthorities())\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusWeeks(2)))\r\n                .signWith(Keys.hmacShaKeyFor(key.getBytes()))\r\n                .compact();\r\n\r\n        response.addHeader(&quot;Authorization&quot;,&quot;bearer &quot; + token);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nCan anyone help me?? What should i do in order make it work in the new version of springboot??\r\n\r\nThanks anyway.\r\n\r\nIm trying to pass the obstacle that was created due to different version of springboot and im believe that someone can help me to find a solution. ","title":"Problem with authenticationManager in securityFilterChain SpringBoot 3","body":"<p>As you can see in this photo im trying to add an authenticationManager in my .addFilter(new JwtUsernameAndPasswordAuthenticationFilter()) but springboot doesnt let because im using the securityFilterChain method.</p>\n<p>#############################################################################################</p>\n<pre><code>  @Configuration\n  @EnableWebSecurity\n   @EnableMethodSecurity\n\n   public class ApplicationSecurityConfig {\n\n     private final PasswordEncoder passwordEncoder;\n    private final ApplicationUserService applicationUserService;\n    @Autowired\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder,\n                                     ApplicationUserService applicationUserService) {\n        this.passwordEncoder=passwordEncoder;\n        this.applicationUserService = applicationUserService;\n    }\n\n    @Bean\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager()))\n                .authorizeRequests()\n                .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n                .requestMatchers(&quot;/api/**&quot;).hasRole(ApplicationUserRole.STUDENT.name())\n                .anyRequest()\n                .authenticated()\n                .and()\n                .build();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p>############################################################################################</p>\n<p>my class JwtUsernameAndPasswordAuthenticationFilter is this ,</p>\n<pre><code>public class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    public JwtUsernameAndPasswordAuthenticationFilter(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request,\n                                                HttpServletResponse response) throws AuthenticationException {\n\n        try {\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper()\n                    .readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\n\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\n                authenticationRequest.getUsername(),\n                authenticationRequest.getPassword()\n            );\n            Authentication authenticate = authenticationManager.authenticate(authentication);\n            return authenticate;\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request,\n                                            HttpServletResponse response,\n                                            FilterChain chain,\n                                            Authentication authResult) throws IOException, ServletException {\n\n        String key = &quot;securesecuresecuresecuresecuresecuresecuresecuresecuresecure&quot;;\n        String token = Jwts.builder()\n                .setSubject(authResult.getName())\n                .claim(&quot;authorities&quot;,authResult.getAuthorities())\n                .setIssuedAt(new Date())\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusWeeks(2)))\n                .signWith(Keys.hmacShaKeyFor(key.getBytes()))\n                .compact();\n\n        response.addHeader(&quot;Authorization&quot;,&quot;bearer &quot; + token);\n    }\n\n}\n</code></pre>\n<p>Can anyone help me?? What should i do in order make it work in the new version of springboot??</p>\n<p>Thanks anyway.</p>\n<p>Im trying to pass the obstacle that was created due to different version of springboot and im believe that someone can help me to find a solution.</p>\n"},{"tags":["java","angularjs","spring","hibernate"],"comments":[{"owner":{"account_id":8975093,"reputation":2272,"user_id":6692256,"display_name":"Alex Ciocan"},"score":0,"creation_date":1482420918,"post_id":41285274,"comment_id":69775278,"body_markdown":"See if this helps you http://stackoverflow.com/questions/5724976/hibernate-jsr303-validation-and-incorrectly-generated-propertypath","body":"See if this helps you <a href=\"http://stackoverflow.com/questions/5724976/hibernate-jsr303-validation-and-incorrectly-generated-propertypath\" title=\"hibernate jsr303 validation and incorrectly generated propertypath\">stackoverflow.com/questions/5724976/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482423004,"creation_date":1482423004,"answer_id":41287349,"question_id":41285274,"body_markdown":"On AngularJS side, ngInit is not recommended. Try to set the value in the controller and only use ngModel. Display it with {{}} to be sure, and inspect the request to double check when saving.\r\nOn java side, run in debug mode to see if something is received and why nothing is populated in workflow. Obviously, it&#39;s null according to the validation error.","title":"javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage=&#39;may not be null&#39;, propertyPath=","body":"<p>On AngularJS side, ngInit is not recommended. Try to set the value in the controller and only use ngModel. Display it with {{}} to be sure, and inspect the request to double check when saving.\nOn java side, run in debug mode to see if something is received and why nothing is populated in workflow. Obviously, it's null according to the validation error.</p>\n"}],"owner":{"account_id":8051624,"reputation":41,"user_id":6069953,"accept_rate":0,"display_name":"Alexey A."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694556150,"creation_date":1482416482,"question_id":41285274,"body_markdown":"I try to save the object of class DocumentType by using Hibernate.\r\n\r\nOn the client-side (using Angular js) i pass field **workflow** like that (i can pass only id of **workflow** object):\r\n\r\n     &lt;input type=&quot;hidden&quot; data-ng-model=&quot;refRecord.workflow.id&quot; value=&quot;2&quot; data-ng-init=&quot;refRecord.workflow.id=2&quot;/&gt;\r\n\r\nWhile saving an object i get:\r\n\r\n     javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage=&#39;may not be null&#39;, propertyPath=workflow\r\n\r\nClass DocumentType:\r\n\r\n    @Entity\r\n    @Table(name = &quot;${subsystem.table.prefix}_ref_document_type&quot;)\r\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n    @JsonIgnoreProperties({&quot;new&quot;, &quot;workflow&quot;, &quot;docClass&quot;, &quot;parentTypes&quot;, &quot;cacheNames&quot;})\r\n    @AttributeOverride(\r\n            name = &quot;rowId&quot;,\r\n            column = @Column(name = &quot;uniqueid&quot;, insertable = false, updatable = false)\r\n    )\r\n    public class DocumentType extends AbstractPeriodCodeReference&lt;String&gt; {\r\n    \r\n        public static final String CACHE_NAME = &quot;documentTypes&quot;;\r\n    \r\n        @Override\r\n        public String[] getCacheNames() {\r\n            return new String[]{CACHE_NAME};\r\n        }\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotBlank\r\n        @Column(nullable = false, length = 512)\r\n        private String name;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotBlank\r\n        @Column(nullable = false)\r\n        private String shortName;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotNull\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;subtype_id&quot;, nullable = false)\r\n        private DocumentSubtype subtype;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotNull\r\n        @Type(\r\n                type = HibernateIntegerEnumType.CLASS_NAME,\r\n                parameters = @Parameter(name = HibernateIntegerEnumType.PARAMETER_NAME, value = TypeDocumentEnum.ENUM_CLASS)\r\n        )\r\n        @Column(nullable = false, name = &quot;in_out&quot;, columnDefinition = &quot;number(1,0)&quot;)\r\n        private TypeDocumentEnum inout;\r\n    \r\n    \r\n        @Getter\r\n        @Setter\r\n        @NotNull\r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;workflow_id&quot;, nullable = false)\r\n        private Workflow workflow;\r\n    \r\n        @Getter\r\n        @Setter\r\n        @Column(nullable = false)\r\n        private boolean docflowable;\r\n    \r\n        @Getter\r\n        @Column(nullable = false)\r\n        private boolean creatable;\r\n    \r\n        @Getter\r\n        @ManyToOne(optional = true, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;docflow_code&quot;, nullable = true)\r\n        private DocflowType docflowType;\r\n    \r\n        @Getter\r\n        @OneToMany(mappedBy = &quot;type&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;TypeParentDocument&gt; parentTypes = Sets.newHashSet();\r\n    \r\n        @Getter\r\n        @Formula(&quot;&#39;(&#39; || code || &#39;) &#39; || name&quot;)\r\n        private String fullName;\r\n    \r\n        @Getter\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;core_ref_doc_signer_type&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;doc_code&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;type_id&quot;)\r\n        )\r\n        private Set&lt;SignerType&gt; signerTypes = Sets.newHashSet();\r\n    \r\n        @Getter\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;core_ref_subsystem_doc_type&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;doc_code&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;subsystem_id&quot;)\r\n        )\r\n        private Set&lt;Subsystem&gt; subsystems = Sets.newHashSet();\r\n    \r\n        public DocumentType(String code) {\r\n            Validate.notBlank(code);\r\n            this.setCode(code);\r\n        }\r\n    }\r\n\r\nClass Workflow:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;core_workflow&quot;)\r\n    @Immutable\r\n    @Getter\r\n    public class Workflow extends AbstractSortableEntity&lt;Integer&gt; {\r\n       \r\n        @NotBlank\r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n    \r\n        @NotEmpty\r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(\r\n                name = &quot;${subsystem.table.prefix}_initial_workflow_status&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;workflow_id&quot;, nullable = false),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;status_id&quot;, nullable = false)\r\n        )\r\n        private Set&lt;Status&gt; initialStatuses;\r\n    \r\n    \r\n        @OneToMany(mappedBy = &quot;pk.workflow&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;WorkflowTransition&gt; transitions;\r\n    }\r\n\r\n\r\nWhat am I doing wrong?  \r\n\r\n","title":"javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage=&#39;may not be null&#39;, propertyPath=","body":"<p>I try to save the object of class DocumentType by using Hibernate.</p>\n\n<p>On the client-side (using Angular js) i pass field <strong>workflow</strong> like that (i can pass only id of <strong>workflow</strong> object):</p>\n\n<pre><code> &lt;input type=\"hidden\" data-ng-model=\"refRecord.workflow.id\" value=\"2\" data-ng-init=\"refRecord.workflow.id=2\"/&gt;\n</code></pre>\n\n<p>While saving an object i get:</p>\n\n<pre><code> javax.validation.ConstraintViolationException, ConstraintViolationImpl{interpolatedMessage='may not be null', propertyPath=workflow\n</code></pre>\n\n<p>Class DocumentType:</p>\n\n<pre><code>@Entity\n@Table(name = \"${subsystem.table.prefix}_ref_document_type\")\n@NoArgsConstructor(access = AccessLevel.PROTECTED)\n@JsonIgnoreProperties({\"new\", \"workflow\", \"docClass\", \"parentTypes\", \"cacheNames\"})\n@AttributeOverride(\n        name = \"rowId\",\n        column = @Column(name = \"uniqueid\", insertable = false, updatable = false)\n)\npublic class DocumentType extends AbstractPeriodCodeReference&lt;String&gt; {\n\n    public static final String CACHE_NAME = \"documentTypes\";\n\n    @Override\n    public String[] getCacheNames() {\n        return new String[]{CACHE_NAME};\n    }\n\n\n    @Getter\n    @Setter\n    @NotBlank\n    @Column(nullable = false, length = 512)\n    private String name;\n\n\n    @Getter\n    @Setter\n    @NotBlank\n    @Column(nullable = false)\n    private String shortName;\n\n\n    @Getter\n    @Setter\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = \"subtype_id\", nullable = false)\n    private DocumentSubtype subtype;\n\n\n    @Getter\n    @Setter\n    @NotNull\n    @Type(\n            type = HibernateIntegerEnumType.CLASS_NAME,\n            parameters = @Parameter(name = HibernateIntegerEnumType.PARAMETER_NAME, value = TypeDocumentEnum.ENUM_CLASS)\n    )\n    @Column(nullable = false, name = \"in_out\", columnDefinition = \"number(1,0)\")\n    private TypeDocumentEnum inout;\n\n\n    @Getter\n    @Setter\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = \"workflow_id\", nullable = false)\n    private Workflow workflow;\n\n    @Getter\n    @Setter\n    @Column(nullable = false)\n    private boolean docflowable;\n\n    @Getter\n    @Column(nullable = false)\n    private boolean creatable;\n\n    @Getter\n    @ManyToOne(optional = true, cascade = CascadeType.ALL)\n    @JoinColumn(name = \"docflow_code\", nullable = true)\n    private DocflowType docflowType;\n\n    @Getter\n    @OneToMany(mappedBy = \"type\", fetch = FetchType.LAZY)\n    private Set&lt;TypeParentDocument&gt; parentTypes = Sets.newHashSet();\n\n    @Getter\n    @Formula(\"'(' || code || ') ' || name\")\n    private String fullName;\n\n    @Getter\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"core_ref_doc_signer_type\",\n            joinColumns = @JoinColumn(name = \"doc_code\"),\n            inverseJoinColumns = @JoinColumn(name = \"type_id\")\n    )\n    private Set&lt;SignerType&gt; signerTypes = Sets.newHashSet();\n\n    @Getter\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"core_ref_subsystem_doc_type\",\n            joinColumns = @JoinColumn(name = \"doc_code\"),\n            inverseJoinColumns = @JoinColumn(name = \"subsystem_id\")\n    )\n    private Set&lt;Subsystem&gt; subsystems = Sets.newHashSet();\n\n    public DocumentType(String code) {\n        Validate.notBlank(code);\n        this.setCode(code);\n    }\n}\n</code></pre>\n\n<p>Class Workflow:</p>\n\n<pre><code>@Entity\n@Table(name = \"core_workflow\")\n@Immutable\n@Getter\npublic class Workflow extends AbstractSortableEntity&lt;Integer&gt; {\n\n    @NotBlank\n    @Column(nullable = false)\n    private String name;\n\n\n    @NotEmpty\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = \"${subsystem.table.prefix}_initial_workflow_status\",\n            joinColumns = @JoinColumn(name = \"workflow_id\", nullable = false),\n            inverseJoinColumns = @JoinColumn(name = \"status_id\", nullable = false)\n    )\n    private Set&lt;Status&gt; initialStatuses;\n\n\n    @OneToMany(mappedBy = \"pk.workflow\", fetch = FetchType.LAZY)\n    private Set&lt;WorkflowTransition&gt; transitions;\n}\n</code></pre>\n\n<p>What am I doing wrong?  </p>\n"},{"tags":["java","exception","user-input"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1694550151,"post_id":77092430,"comment_id":135905339,"body_markdown":"The problem is not the exception itself, but on the way you&#39;re looking for your product inside the productInventory. Your research looks pretty strange. What kind of collection is productInventory? Why not using a Map&lt;String, Product&gt; instead and simply looking for the key (which is faster and way easier)?","body":"The problem is not the exception itself, but on the way you&#39;re looking for your product inside the productInventory. Your research looks pretty strange. What kind of collection is productInventory? Why not using a Map&lt;String, Product&gt; instead and simply looking for the key (which is faster and way easier)?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694551570,"post_id":77092430,"comment_id":135905592,"body_markdown":"Debugging is a useful skill. If you want to become a professional software developer, or otherwise regularly develop software, it will be a necessary skill. Run this program in a debugger. Set a breakpoint at Iterator&lt;Product&gt; itr = productAvailable.iterator(); then run the program one-step-at-a-time monitoring the values of variables.","body":"Debugging is a useful skill. If you want to become a professional software developer, or otherwise regularly develop software, it will be a necessary skill. Run this program in a debugger. Set a breakpoint at Iterator&lt;Product&gt; itr = productAvailable.iterator(); then run the program one-step-at-a-time monitoring the values of variables."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694552350,"post_id":77092430,"comment_id":135905715,"body_markdown":"Looks like we need to see more code to figure out what is wrong. Consider providing a [complete but minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Looks like we need to see more code to figure out what is wrong. Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete but minimal reproducible example</a>"},{"owner":{"account_id":28037250,"reputation":3,"user_id":21415416,"display_name":"Kenny"},"score":0,"creation_date":1694553032,"post_id":77092430,"comment_id":135905807,"body_markdown":"hello @Matteo Thanks for answering. I used a set because I ddidn&#39;t want duplicate product to be update inside the collection. I didn&#39;t use a map beacause I wasn&#39;t familliar with it but I might try if I can&#39;t find out how to do it","body":"hello @Matteo Thanks for answering. I used a set because I ddidn&#39;t want duplicate product to be update inside the collection. I didn&#39;t use a map beacause I wasn&#39;t familliar with it but I might try if I can&#39;t find out how to do it"},{"owner":{"account_id":28037250,"reputation":3,"user_id":21415416,"display_name":"Kenny"},"score":0,"creation_date":1694553318,"post_id":77092430,"comment_id":135905846,"body_markdown":"@Old Dog Programmer I tried with debbuging like you asked. The value I put in is &quot;Apple&quot; and it becomes : &quot;&quot;. I do not know what that means. How I do I put more of what I coded ? Should I answer my own question or should I edit ?","body":"@Old Dog Programmer I tried with debbuging like you asked. The value I put in is &quot;Apple&quot; and it becomes : &quot;&quot;. I do not know what that means. How I do I put more of what I coded ? Should I answer my own question or should I edit ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694553522,"post_id":77092430,"comment_id":135905873,"body_markdown":"You should edit your question to include more code. We should be able to copy your code, paste it into our IDE, and then run it.","body":"You should edit your question to include more code. We should be able to copy your code, paste it into our IDE, and then run it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694555629,"post_id":77092430,"comment_id":135906142,"body_markdown":"The `name` (or whatever it is called) field in the `apple` instance of your `Product` is an empty String? That suggests a fault in the constructor, so we should see the code for the constructors. I think we should also see the code for `equals` and `hashCode` in your `Product` class.","body":"The <code>name</code> (or whatever it is called) field in the <code>apple</code> instance of your <code>Product</code> is an empty String? That suggests a fault in the constructor, so we should see the code for the constructors. I think we should also see the code for <code>equals</code> and <code>hashCode</code> in your <code>Product</code> class."}],"answers":[{"comments":[{"owner":{"account_id":28037250,"reputation":3,"user_id":21415416,"display_name":"Kenny"},"score":0,"creation_date":1694551074,"post_id":77092470,"comment_id":135905517,"body_markdown":"Thank you for answering. I tried but it still doesn&#39;t work.","body":"Thank you for answering. I tried but it still doesn&#39;t work."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694790974,"post_id":77092470,"comment_id":135941982,"body_markdown":"@Kenny, It looks to me as if the suggested code change was not intended to fix your code, but to solicit more information.  When I first read the question, I thought the exception was *not* being thrown when it should be. The suggested change in this answer is intended to force the exception to be thrown.","body":"@Kenny, It looks to me as if the suggested code change was not intended to fix your code, but to solicit more information.  When I first read the question, I thought the exception was <i>not</i> being thrown when it should be. The suggested change in this answer is intended to force the exception to be thrown."}],"tags":[],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694550127,"creation_date":1694550127,"answer_id":77092470,"question_id":77092430,"body_markdown":"The code I see looks ok.  Calling\r\n```\r\n            throw new InvalidInputException(&quot;...&quot;);\r\n```\r\nwill definitely cause the exception, so that code must not be called.\r\nA simple test would be to change the if statements logic to:\r\n```\r\n        if(productIsNotThere || true) {\r\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n        }\r\n```\r\nMy guess is that something else in the logic is incorrect `productIsNotThere == false`.\r\n\r\n","title":"Why does my created Exception not work in Java?","body":"<p>The code I see looks ok.  Calling</p>\n<pre><code>            throw new InvalidInputException(&quot;...&quot;);\n</code></pre>\n<p>will definitely cause the exception, so that code must not be called.\nA simple test would be to change the if statements logic to:</p>\n<pre><code>        if(productIsNotThere || true) {\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n        }\n</code></pre>\n<p>My guess is that something else in the logic is incorrect <code>productIsNotThere == false</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694555748,"creation_date":1694555231,"answer_id":77092866,"question_id":77092430,"body_markdown":"&gt; _&quot;... Even If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. ...&quot;_\r\n\r\nYour code seems to work correctly.  \r\nHere is an adaptation.\r\n\r\n```java\r\nstatic List&lt;Product&gt; productAvailable = new ArrayList&lt;&gt;() {{\r\n    add(new Product(&quot;Apple&quot;));\r\n}};\r\n\r\npublic static void searchProduct(String name) throws InvalidInputException{\r\n    Iterator&lt;Product&gt; itr = productAvailable.iterator();\r\n    boolean productIsNotThere = true;\r\n    while (itr.hasNext()) {\r\n        if (itr.next().getProductName().equals(name)) {\r\n            productIsNotThere = false;\r\n        }\r\n    }\r\n    if(productIsNotThere) {\r\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n    }\r\n}\r\n\r\nstatic class InvalidInputException extends Exception {\r\n    InvalidInputException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nstatic class Product {\r\n    String productName;\r\n\r\n    public Product(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n}\r\n```\r\n\r\nIf I search for _&quot;abc&quot;_, the exception is thrown, and if I search for _&quot;Apple&quot;_ no exception is thrown.\r\n\r\n```none\r\nException in thread &quot;main&quot; Example$InvalidInputException: The product you are looking for is no longer in stock or this is not the right product name\r\n\tat Example.searchProduct ...\r\n\tat Example.main ...\r\n```\r\n\r\nIf the _[Exception](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Exception.html)_ is not functioning as intended, I suggest reviewing the _Java_ documentation.  \r\n_[Lesson: Exceptions (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html)_.\r\n\r\nAnd, as a recommendation, you can simplify your current _searchProduct_ code with a _[Stream#noneMatch](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#noneMatch(java.util.function.Predicate))_ call.\r\n\r\n```java\r\npublic static void searchProduct(String name) throws InvalidInputException{\r\n    if (productAvailable.stream().noneMatch(x -&gt; x.getProductName().equals(name)))\r\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n}\r\n```","title":"Why does my created Exception not work in Java?","body":"<blockquote>\n<p><em>&quot;... Even If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. ...&quot;</em></p>\n</blockquote>\n<p>Your code seems to work correctly.<br />\nHere is an adaptation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static List&lt;Product&gt; productAvailable = new ArrayList&lt;&gt;() {{\n    add(new Product(&quot;Apple&quot;));\n}};\n\npublic static void searchProduct(String name) throws InvalidInputException{\n    Iterator&lt;Product&gt; itr = productAvailable.iterator();\n    boolean productIsNotThere = true;\n    while (itr.hasNext()) {\n        if (itr.next().getProductName().equals(name)) {\n            productIsNotThere = false;\n        }\n    }\n    if(productIsNotThere) {\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n    }\n}\n\nstatic class InvalidInputException extends Exception {\n    InvalidInputException(String message) {\n        super(message);\n    }\n}\n\nstatic class Product {\n    String productName;\n\n    public Product(String productName) {\n        this.productName = productName;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n}\n</code></pre>\n<p>If I search for <em>&quot;abc&quot;</em>, the exception is thrown, and if I search for <em>&quot;Apple&quot;</em> no exception is thrown.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; Example$InvalidInputException: The product you are looking for is no longer in stock or this is not the right product name\n    at Example.searchProduct ...\n    at Example.main ...\n</code></pre>\n<p>If the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Exception.html\" rel=\"nofollow noreferrer\">Exception</a></em> is not functioning as intended, I suggest reviewing the <em>Java</em> documentation.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">Lesson: Exceptions (The Java™ Tutorials &gt; Essential Java Classes)</a></em>.</p>\n<p>And, as a recommendation, you can simplify your current <em>searchProduct</em> code with a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Stream.html#noneMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Stream#noneMatch</a></em> call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void searchProduct(String name) throws InvalidInputException{\n    if (productAvailable.stream().noneMatch(x -&gt; x.getProductName().equals(name)))\n        throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":28037250,"reputation":3,"user_id":21415416,"display_name":"Kenny"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77092866,"answer_count":2,"score":0,"last_activity_date":1694555748,"creation_date":1694549697,"question_id":77092430,"body_markdown":"I created an Exception that doesn&#39;t work : Here I create a product object with a productName string variable as parameter. I put the product in a list named productAvailable. I ask the user which product they want to update and tell them to write the name of the product. I then use a method(searchProduct) to search wether there is a product of that name. This program use a iterator to search wether there is a product with the productName and is supposed to throw an Exception if not. A boolean is used to find out wethere the product is there or not. Yet it works all the time.\r\nEven If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. I do not understand why it does that. Please help. Thanks in advance. \r\n\r\n\r\nI wanted the Exception to work only when I put the wrong Input.\r\n\r\n\r\n\r\n```\r\npublic static void searchProduct(String name) throws InvalidInputException{\r\n        Iterator&lt;Product&gt; itr = productAvailable.iterator();\r\n        boolean productIsNotThere = true;\r\n        while (itr.hasNext()) {\r\n            if (itr.next().getProductName().equals(name)) {\r\n                productIsNotThere = false;\r\n            }\r\n        }\r\n        if(productIsNotThere) {\r\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\r\n        }\r\n    }\r\n\r\n//if the product is there it should send a message, if not throw an exception with a message)\r\n```\r\n\r\n\r\n```\r\n        Product apple = new Product(&quot;111111&quot;, &quot;Apple&quot;, 1, 100); \r\n        //contructor : Product( productID, ProductName, price, quantity)\r\n\r\n        Collections.addAll(Inventory_Management.getProductAvailable(), apple, kiwi, banana);\r\n```\r\n\r\n\r\n```\r\n System.out.println(&quot;Give me the product name of the product you want to update&quot;);\r\n               \r\n                String name = &quot;Apple&quot;;\r\n\r\n                try {\r\n                    Inventory_Management.searchProduct(name);\r\n                } catch(InvalidInputException e) {\r\n                    e.printStackTrace();\r\n                }```\r\n","title":"Why does my created Exception not work in Java?","body":"<p>I created an Exception that doesn't work : Here I create a product object with a productName string variable as parameter. I put the product in a list named productAvailable. I ask the user which product they want to update and tell them to write the name of the product. I then use a method(searchProduct) to search wether there is a product of that name. This program use a iterator to search wether there is a product with the productName and is supposed to throw an Exception if not. A boolean is used to find out wethere the product is there or not. Yet it works all the time.\nEven If I write the right input it throws an exception which is caught. Here &quot;Apple&quot; should be equal to the product name in the list and not throw an exception. I do not understand why it does that. Please help. Thanks in advance.</p>\n<p>I wanted the Exception to work only when I put the wrong Input.</p>\n<pre><code>public static void searchProduct(String name) throws InvalidInputException{\n        Iterator&lt;Product&gt; itr = productAvailable.iterator();\n        boolean productIsNotThere = true;\n        while (itr.hasNext()) {\n            if (itr.next().getProductName().equals(name)) {\n                productIsNotThere = false;\n            }\n        }\n        if(productIsNotThere) {\n            throw new InvalidInputException(&quot;The product you are looking for is no longer in stock or this is not the right product name&quot;);\n        }\n    }\n\n//if the product is there it should send a message, if not throw an exception with a message)\n</code></pre>\n<pre><code>        Product apple = new Product(&quot;111111&quot;, &quot;Apple&quot;, 1, 100); \n        //contructor : Product( productID, ProductName, price, quantity)\n\n        Collections.addAll(Inventory_Management.getProductAvailable(), apple, kiwi, banana);\n</code></pre>\n<pre><code> System.out.println(&quot;Give me the product name of the product you want to update&quot;);\n               \n                String name = &quot;Apple&quot;;\n\n                try {\n                    Inventory_Management.searchProduct(name);\n                } catch(InvalidInputException e) {\n                    e.printStackTrace();\n                }```\n</code></pre>\n"},{"tags":["java","lambda","jersey","jax-rs","jersey-client"],"comments":[{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1506374945,"post_id":46414342,"comment_id":79786810,"body_markdown":"I&#39;m voting to close this question as off-topic because the code is working.  Questions about how to improve code belong on the [Code Review](https://codereview.stackexchange.com/) Stack Exchange,","body":"I&#39;m voting to close this question as off-topic because the code is working.  Questions about how to improve code belong on the <a href=\"https://codereview.stackexchange.com/\">Code Review</a> Stack Exchange,"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1694555417,"post_id":46414342,"comment_id":135906126,"body_markdown":"For `String` there is `StringUtils.defaultString` from Apache Lang 3.","body":"For <code>String</code> there is <code>StringUtils.defaultString</code> from Apache Lang 3."}],"answers":[{"comments":[{"owner":{"account_id":11708738,"reputation":505,"user_id":8571403,"display_name":"jwils"},"score":0,"creation_date":1506374995,"post_id":46414446,"comment_id":79786841,"body_markdown":"Additional info on the ternary operator: https://www.sitepoint.com/java-ternary-operator/","body":"Additional info on the ternary operator: <a href=\"https://www.sitepoint.com/java-ternary-operator/\" rel=\"nofollow noreferrer\">sitepoint.com/java-ternary-operator</a>"}],"tags":[],"owner":{"account_id":11708738,"reputation":505,"user_id":8571403,"display_name":"jwils"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506374897,"creation_date":1506374897,"answer_id":46414446,"question_id":46414342,"body_markdown":"You can use the ternary operator which lets you put an if/else on one line:\r\n\r\n    int status = (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();","title":"Get default value if the object is null in Java","body":"<p>You can use the ternary operator which lets you put an if/else on one line:</p>\n\n<pre><code>int status = (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1834650,"reputation":1996,"user_id":1665266,"display_name":"rachit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506375030,"creation_date":1506375030,"answer_id":46414478,"question_id":46414342,"body_markdown":"Using ternary operator, maybe?\r\n\r\n    return (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();","title":"Get default value if the object is null in Java","body":"<p>Using ternary operator, maybe?</p>\n\n<pre><code>return (response == null) ? Response.Status.INTERNAL_SERVER_ERROR.getStatusCode() : response.getStatus();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10979463,"reputation":1,"user_id":8067083,"display_name":"tyan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1506377567,"creation_date":1506375120,"answer_id":46414488,"question_id":46414342,"body_markdown":"    int status = response==null?Response.Status.INTERNAL_SERVER_ERROR.getStatusCode():response.getStatus();","title":"Get default value if the object is null in Java","body":"<pre><code>int status = response==null?Response.Status.INTERNAL_SERVER_ERROR.getStatusCode():response.getStatus();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1639329857,"post_id":46414668,"comment_id":124315768,"body_markdown":"I agree about the ternary operator being cleaner.","body":"I agree about the ternary operator being cleaner."}],"tags":[],"owner":{"account_id":44859,"reputation":11344,"user_id":131889,"accept_rate":67,"display_name":"Sbodd"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506375958,"creation_date":1506375958,"answer_id":46414668,"question_id":46414342,"body_markdown":"The slightly cleaner lambda version is:\r\n       \r\n    Optional.ofNullable(response).map(Response::getStatus).orElse(Response.Status.INTERNAL_SERVER_ERROR.getStatusCode())\r\n\r\nThough honestly, I think the ternary operator here is cleaner.","title":"Get default value if the object is null in Java","body":"<p>The slightly cleaner lambda version is:</p>\n\n<pre><code>Optional.ofNullable(response).map(Response::getStatus).orElse(Response.Status.INTERNAL_SERVER_ERROR.getStatusCode())\n</code></pre>\n\n<p>Though honestly, I think the ternary operator here is cleaner.</p>\n"},{"tags":[],"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638806761,"creation_date":1506435646,"answer_id":46429006,"question_id":46414342,"body_markdown":"I would prefer your first version, as using lambda sounds much like overkill.\r\n\r\nYou could also use the ternary operator, as others have already pointed out:\r\n\r\n```java\r\nprivate static int getDefaultStatusCodeIfNull(final Response response) {\r\n    return response != null ? response.getStatus() : Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\r\n}\r\n```","title":"Get default value if the object is null in Java","body":"<p>I would prefer your first version, as using lambda sounds much like overkill.</p>\n<p>You could also use the ternary operator, as others have already pointed out:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static int getDefaultStatusCodeIfNull(final Response response) {\n    return response != null ? response.getStatus() : Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694555473,"creation_date":1694555473,"answer_id":77092887,"question_id":46414342,"body_markdown":"In Java 9: `Objects.requireNonNullElse(T obj, T defaultObj)`.\r\n","title":"Get default value if the object is null in Java","body":"<p>In Java 9: <code>Objects.requireNonNullElse(T obj, T defaultObj)</code>.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46414478,"answer_count":6,"score":0,"last_activity_date":1694555473,"creation_date":1506374311,"question_id":46414342,"body_markdown":"I am curious to know how I can write a shorter version of the following code in Java.\r\n\r\nI have the following Java class (belongs to JAX-RS):\r\n\r\n - [javax.ws.rs.core.Response][1]\r\n\r\nI need back the int value of the responseStatus if that&#39;s possible (response is not null) otherwise default int status value needs to be returned.\r\n\r\nI do not want to add any library dependency to my project just for this small piece of code.\r\n\r\n**This is the code that came up in my mind first:**\r\n```java\r\n    private static int getDefaultStatusCodeIfNull(final Response response) {\r\n        if (Objects.isNull(response)) {\r\n            return Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\r\n        }\r\n\r\n        return response.getStatus();\r\n    }\r\n```\r\n**The following code is maybe shorter with lambda but it is so long and hard to read:**\r\n```java\r\n    int status = Optional.ofNullable(response)\r\n          .orElse(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()).getStatus();\r\n```\r\nIs there any shorter one-line way to get this int value?\r\n\r\nDo you think the 2nd one is a better solution than the 1st?\r\n\r\n  [1]: https://github.com/neo4j/jsr311-api/blob/master/src/javax/ws/rs/core/Response.java\r\n","title":"Get default value if the object is null in Java","body":"<p>I am curious to know how I can write a shorter version of the following code in Java.</p>\n<p>I have the following Java class (belongs to JAX-RS):</p>\n<ul>\n<li><a href=\"https://github.com/neo4j/jsr311-api/blob/master/src/javax/ws/rs/core/Response.java\" rel=\"nofollow noreferrer\">javax.ws.rs.core.Response</a></li>\n</ul>\n<p>I need back the int value of the responseStatus if that's possible (response is not null) otherwise default int status value needs to be returned.</p>\n<p>I do not want to add any library dependency to my project just for this small piece of code.</p>\n<p><strong>This is the code that came up in my mind first:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static int getDefaultStatusCodeIfNull(final Response response) {\n        if (Objects.isNull(response)) {\n            return Response.Status.INTERNAL_SERVER_ERROR.getStatusCode();\n        }\n\n        return response.getStatus();\n    }\n</code></pre>\n<p><strong>The following code is maybe shorter with lambda but it is so long and hard to read:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    int status = Optional.ofNullable(response)\n          .orElse(Response.status(Response.Status.INTERNAL_SERVER_ERROR).build()).getStatus();\n</code></pre>\n<p>Is there any shorter one-line way to get this int value?</p>\n<p>Do you think the 2nd one is a better solution than the 1st?</p>\n"},{"tags":["java","amazon-web-services","scheduling","aws-fargate","aws-batch"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":2,"creation_date":1690298576,"post_id":76764010,"comment_id":135332323,"body_markdown":"Are you using AWS Batch already? Do you need the features of AWS Batch? Both of your solutions use the same scheduler (EventBridge) and the same compute environment (Fargate), one just has the extra features of AWS Batch, while the other uses regular ECS.","body":"Are you using AWS Batch already? Do you need the features of AWS Batch? Both of your solutions use the same scheduler (EventBridge) and the same compute environment (Fargate), one just has the extra features of AWS Batch, while the other uses regular ECS."},{"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"score":0,"creation_date":1690299668,"post_id":76764010,"comment_id":135332584,"body_markdown":"Hey Mark B, currently we are doing some poc to check whether which one is fit for requirment.  Our simple scheduler doesnt need any complex tracking.  Based on your input, i beleive the cost for running the scheduler is same ryt","body":"Hey Mark B, currently we are doing some poc to check whether which one is fit for requirment.  Our simple scheduler doesnt need any complex tracking.  Based on your input, i beleive the cost for running the scheduler is same ryt"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1690300381,"post_id":76764010,"comment_id":135332753,"body_markdown":"The price would be exactly the same either way, since they are both running on Fargate.","body":"The price would be exactly the same either way, since they are both running on Fargate."},{"owner":{"account_id":20325,"reputation":258,"user_id":48472,"display_name":"Angel Pizarro"},"score":1,"creation_date":1691174499,"post_id":76764010,"comment_id":135461462,"body_markdown":"I tend to agree that if your needs are simple then just use EB + Fargate. If you are finding that tasks do need retry capability, then look to Batch. Another case would be when you need to balance a limited set of resources across a few different types of jobs, then Batch&#39;s fair share scheduling may be good to look at.","body":"I tend to agree that if your needs are simple then just use EB + Fargate. If you are finding that tasks do need retry capability, then look to Batch. Another case would be when you need to balance a limited set of resources across a few different types of jobs, then Batch&#39;s fair share scheduling may be good to look at."}],"answers":[{"comments":[{"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"score":0,"creation_date":1690328701,"post_id":76765033,"comment_id":135337414,"body_markdown":"You can use fargate to run aws batch. The actual scenario is, to run a scheduler aws fargate or aws batch with fargate which one suitable","body":"You can use fargate to run aws batch. The actual scenario is, to run a scheduler aws fargate or aws batch with fargate which one suitable"}],"tags":[],"owner":{"account_id":4918303,"reputation":38,"user_id":3961623,"display_name":"Jordi Tanta Diaz"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690304820,"creation_date":1690304820,"answer_id":76765033,"question_id":76764010,"body_markdown":"AWS batch vs AWS ECS (Fargate)\r\nTo decide about wich one you will use, schedule mechanism is not an important feature.\r\n\r\nhttps://stackshare.io/stackups/aws-batch-vs-aws-fargate#:~:text=With%20AWS%20Fargate%2C%20you%20no,%22Containers%20as%20a%20Service%22.","title":"Choosing between AWS Batch(Fargate Compute Environment) with EventBridge Scheduler and AWS Fargate with Scheduler for a Java Task Scheduler","body":"<p>AWS batch vs AWS ECS (Fargate)\nTo decide about wich one you will use, schedule mechanism is not an important feature.</p>\n<p><a href=\"https://stackshare.io/stackups/aws-batch-vs-aws-fargate#:%7E:text=With%20AWS%20Fargate%2C%20you%20no,%22Containers%20as%20a%20Service%22\" rel=\"nofollow noreferrer\">https://stackshare.io/stackups/aws-batch-vs-aws-fargate#:~:text=With%20AWS%20Fargate%2C%20you%20no,%22Containers%20as%20a%20Service%22</a>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1694769053,"post_id":77092804,"comment_id":135937642,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77092804/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29231591,"reputation":1,"user_id":22395173,"display_name":"Alexandre Peixoto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694554389,"creation_date":1694554389,"answer_id":77092804,"question_id":76764010,"body_markdown":"I created an Aws batch fargate  with EventBridge Scheduler to schedule a lot of tasks, like as Report sending, export data, insert data, and works fine, but we had a problems between EventBridge and Aws batch. Imagine you create a schedules in EventBridge with a Batch Job Definition number 1, after that you created a new version from Job definition for instance version 2, with a bugfix. All EventBridge created before, it&#39;ll run with job definition version 1, in other words with a bug ","title":"Choosing between AWS Batch(Fargate Compute Environment) with EventBridge Scheduler and AWS Fargate with Scheduler for a Java Task Scheduler","body":"<p>I created an Aws batch fargate  with EventBridge Scheduler to schedule a lot of tasks, like as Report sending, export data, insert data, and works fine, but we had a problems between EventBridge and Aws batch. Imagine you create a schedules in EventBridge with a Batch Job Definition number 1, after that you created a new version from Job definition for instance version 2, with a bugfix. All EventBridge created before, it'll run with job definition version 1, in other words with a bug</p>\n"}],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1694554389,"creation_date":1690297262,"question_id":76764010,"body_markdown":"I have a Java task scheduler that runs approximately 6 hours per day on AWS. I&#39;m considering two deployment options and seeking advice on which one is more suitable for my use case:\r\n\r\n**Option 1: AWS Batch(Fargate Compute Environment) with EventBridge Scheduler**\r\n\r\n**Option 2: AWS Fargate with Scheduler**\r\n\r\n\r\nI would like to know the pros and cons of each option to make an informed decision. Any insights or recommendations are greatly appreciated. Thank you!\r\n\r\n","title":"Choosing between AWS Batch(Fargate Compute Environment) with EventBridge Scheduler and AWS Fargate with Scheduler for a Java Task Scheduler","body":"<p>I have a Java task scheduler that runs approximately 6 hours per day on AWS. I'm considering two deployment options and seeking advice on which one is more suitable for my use case:</p>\n<p><strong>Option 1: AWS Batch(Fargate Compute Environment) with EventBridge Scheduler</strong></p>\n<p><strong>Option 2: AWS Fargate with Scheduler</strong></p>\n<p>I would like to know the pros and cons of each option to make an informed decision. Any insights or recommendations are greatly appreciated. Thank you!</p>\n"},{"tags":["java","solr","solr9","solr-9.3.0"],"comments":[{"owner":{"account_id":3848616,"reputation":451,"user_id":3189310,"display_name":"Brajesh"},"score":1,"creation_date":1692726375,"post_id":76955522,"comment_id":135662841,"body_markdown":"I tried the same command with Solr 9.1.1 and got no issue at all. Is this error only related to 9.3.0? Anyone faced similar issue?","body":"I tried the same command with Solr 9.1.1 and got no issue at all. Is this error only related to 9.3.0? Anyone faced similar issue?"},{"owner":{"account_id":8209505,"reputation":182,"user_id":7457718,"display_name":"Kyrylo Romantsov"},"score":0,"creation_date":1692886897,"post_id":76955522,"comment_id":135687478,"body_markdown":"What&#39;s the link to the file that you downloaded?","body":"What&#39;s the link to the file that you downloaded?"}],"answers":[{"comments":[{"owner":{"account_id":3848616,"reputation":451,"user_id":3189310,"display_name":"Brajesh"},"score":0,"creation_date":1694125569,"post_id":76970227,"comment_id":135854063,"body_markdown":"I tried with Binary but the same issue for 9.3.0.","body":"I tried with Binary but the same issue for 9.3.0."}],"tags":[],"owner":{"account_id":8209505,"reputation":182,"user_id":7457718,"display_name":"Kyrylo Romantsov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692886619,"creation_date":1692886619,"answer_id":76970227,"question_id":76955522,"body_markdown":"Make sure you downloaded the correct version on Solr (**Binary**) - https://www.apache.org/dyn/closer.lua/solr/solr/9.3.0/solr-9.3.0.tgz?action=download\r\n\r\nThere is a chance that you downloaded a **Source** release.\r\n","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>Make sure you downloaded the correct version on Solr (<strong>Binary</strong>) - <a href=\"https://www.apache.org/dyn/closer.lua/solr/solr/9.3.0/solr-9.3.0.tgz?action=download\" rel=\"nofollow noreferrer\">https://www.apache.org/dyn/closer.lua/solr/solr/9.3.0/solr-9.3.0.tgz?action=download</a></p>\n<p>There is a chance that you downloaded a <strong>Source</strong> release.</p>\n"},{"comments":[{"owner":{"account_id":3848616,"reputation":451,"user_id":3189310,"display_name":"Brajesh"},"score":0,"creation_date":1694125620,"post_id":76997312,"comment_id":135854069,"body_markdown":"I agree with you, I tried both source and Binary for 9.3.0 the same issue. I am sticking with 9.2.1","body":"I agree with you, I tried both source and Binary for 9.3.0 the same issue. I am sticking with 9.2.1"}],"tags":[],"owner":{"account_id":21191510,"reputation":1,"user_id":18842320,"display_name":"Calvin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693283479,"creation_date":1693283479,"answer_id":76997312,"question_id":76955522,"body_markdown":"I met the same problem.\r\n\r\nThere are &#39;SimplePostToolxxx.class&#39; files in 9.2.1.\r\nexample\\exampledocs\\post\\org\\apache\\solr\\util\r\n\r\nBut there is no such .class files in 9.3.0. Maybe this is the reason.\r\n\r\nWe may use SimplePostTool in 9.2.1 temporarily.","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>I met the same problem.</p>\n<p>There are 'SimplePostToolxxx.class' files in 9.2.1.\nexample\\exampledocs\\post\\org\\apache\\solr\\util</p>\n<p>But there is no such .class files in 9.3.0. Maybe this is the reason.</p>\n<p>We may use SimplePostTool in 9.2.1 temporarily.</p>\n"},{"tags":[],"owner":{"account_id":29426321,"reputation":1,"user_id":22546939,"display_name":"Arjen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694553635,"creation_date":1694553635,"answer_id":77092749,"question_id":76955522,"body_markdown":"Apparently the post.jar is not complete anymore.\r\n\r\nTry:\r\n\r\njava -cp server\\solr-webapp\\webapp\\WEB-INF\\lib\\solr-core-9.3.0.jar org.apache.solr.cli.SimplePostTool -h","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>Apparently the post.jar is not complete anymore.</p>\n<p>Try:</p>\n<p>java -cp server\\solr-webapp\\webapp\\WEB-INF\\lib\\solr-core-9.3.0.jar org.apache.solr.cli.SimplePostTool -h</p>\n"}],"owner":{"account_id":3848616,"reputation":451,"user_id":3189310,"display_name":"Brajesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1694553635,"creation_date":1692724390,"question_id":76955522,"body_markdown":"I am learning Solr and using the quick start guide. When posting the example documents to the Solr core using the command:\r\n\r\n    java -jar -Dc=techproducts example/exampledocs/post.jar *.xml\r\n\r\nI get those errors:\r\n\r\n    Error: Could not find or load main class org.apache.solr.util.SimplePostTool\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.solr.util.SimplePostTool\r\n\r\n\r\nMy Java version is JDK 11 and my Solr version is 9.3.0.\r\n\r\nI am unable to figure out why I am getting those. I don&#39;t have multiple instances of Java installed. Any help will be appreciated.","title":"Solr: SimplePostTool not found error using quick start guide","body":"<p>I am learning Solr and using the quick start guide. When posting the example documents to the Solr core using the command:</p>\n<pre><code>java -jar -Dc=techproducts example/exampledocs/post.jar *.xml\n</code></pre>\n<p>I get those errors:</p>\n<pre><code>Error: Could not find or load main class org.apache.solr.util.SimplePostTool\nCaused by: java.lang.ClassNotFoundException: org.apache.solr.util.SimplePostTool\n</code></pre>\n<p>My Java version is JDK 11 and my Solr version is 9.3.0.</p>\n<p>I am unable to figure out why I am getting those. I don't have multiple instances of Java installed. Any help will be appreciated.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":13930361,"reputation":1,"user_id":10058695,"display_name":"Maksym Zhokha"},"score":0,"creation_date":1694554342,"post_id":77092384,"comment_id":135906000,"body_markdown":"Thanks for the answer. Moving log() call up really did the trick. But I still don&#39;t understand how. As per my understanding onSubscribe and request of the StepVerifier are still not affected. They are still called downstream i.e bellow the subscribeOn(Schedulers.parallel()).","body":"Thanks for the answer. Moving log() call up really did the trick. But I still don&#39;t understand how. As per my understanding onSubscribe and request of the StepVerifier are still not affected. They are still called downstream i.e bellow the subscribeOn(Schedulers.parallel())."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1694579250,"post_id":77092384,"comment_id":135908123,"body_markdown":"Indeed, the `subscribeOn` method won&#39;t affect them. What it does is add a hidden/intermediate subscription that will affect upstream signals. If you look at the figure provided in the javadoc, you will see that signals are drawn with two different colors: orange for the signals emitted through the subscriber controlled by &quot;subscribeOn&quot;, and blue otherwise. You can notice that the original subscription is blue (therefore not affected by &quot;subscribeOn&quot;). But then, subscribeOn cause a second subscription to the original flow. This one is affected.","body":"Indeed, the <code>subscribeOn</code> method won&#39;t affect them. What it does is add a hidden/intermediate subscription that will affect upstream signals. If you look at the figure provided in the javadoc, you will see that signals are drawn with two different colors: orange for the signals emitted through the subscriber controlled by &quot;subscribeOn&quot;, and blue otherwise. You can notice that the original subscription is blue (therefore not affected by &quot;subscribeOn&quot;). But then, subscribeOn cause a second subscription to the original flow. This one is affected."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1694584827,"post_id":77092384,"comment_id":135908708,"body_markdown":"@MaksymZhokha: To rephrase my previous comment: When chaining operators on a flux, you potentially create inner:hidden subscriptions that are started when the overall chain is triggered/subscribed to. The javadoc of *subscribeOn* does not refer to the subscription you will trigger manually, but the one inserted at the current point of the assembly chain.","body":"@MaksymZhokha: To rephrase my previous comment: When chaining operators on a flux, you potentially create inner:hidden subscriptions that are started when the overall chain is triggered/subscribed to. The javadoc of <i>subscribeOn</i> does not refer to the subscription you will trigger manually, but the one inserted at the current point of the assembly chain."}],"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694549289,"creation_date":1694549289,"answer_id":77092384,"question_id":77089995,"body_markdown":"*subscribeOn* will affect subscription of the **upstream** flow. Therefore, the *onSubscribe* and *request* of the *step verifier* are not affected, as they happen *downstream*. Only the inner/hidden subscription to the flux is bound to the parallel scheduler. As this subscription is done on specified scheduler, its elements (onNext signals) are emitted on the same scheduler. \r\n\r\nTherefore, if you change the position of the `log()` statement like follow:\r\n   ```java\r\n   var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\r\n                  .log()\r\n                  .subscribeOn(Schedulers.parallel())\r\n   ```\r\n   Then you wil obtain expected behavior:\r\n   ```log\r\n   [ INFO] (parallel-1) | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)\r\n   [ INFO] (parallel-1) | request(unbounded)\r\n   [ INFO] (parallel-1) | onNext(alex)\r\n   [ INFO] (parallel-1) | onNext(adam)\r\n   [ INFO] (parallel-1) | onNext(andrew)\r\n   [ INFO] (parallel-1) | onComplete()\r\n   ```","title":"Project Reactor&#39;s subscribeOn() doesn&#39;t affect onSubscribe() to be called in specified Scheduler as stated in JavaDoc","body":"<p><em>subscribeOn</em> will affect subscription of the <strong>upstream</strong> flow. Therefore, the <em>onSubscribe</em> and <em>request</em> of the <em>step verifier</em> are not affected, as they happen <em>downstream</em>. Only the inner/hidden subscription to the flux is bound to the parallel scheduler. As this subscription is done on specified scheduler, its elements (onNext signals) are emitted on the same scheduler.</p>\n<p>Therefore, if you change the position of the <code>log()</code> statement like follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\n               .log()\n               .subscribeOn(Schedulers.parallel())\n</code></pre>\n<p>Then you wil obtain expected behavior:</p>\n<pre><code>[ INFO] (parallel-1) | onSubscribe([Synchronous Fuseable] FluxArray.ArraySubscription)\n[ INFO] (parallel-1) | request(unbounded)\n[ INFO] (parallel-1) | onNext(alex)\n[ INFO] (parallel-1) | onNext(adam)\n[ INFO] (parallel-1) | onNext(andrew)\n[ INFO] (parallel-1) | onComplete()\n</code></pre>\n"}],"owner":{"account_id":13930361,"reputation":1,"user_id":10058695,"display_name":"Maksym Zhokha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694552548,"creation_date":1694528228,"question_id":77089995,"body_markdown":"Project Reactor&#39;s Javadoc states\r\nabout method: \r\n\r\n`public final Flux&lt;T&gt; subscribeOn(Scheduler scheduler)`\r\n\r\nthat\r\n```\r\nRun subscribe, onSubscribe and request on a specified Scheduler&#39;s Scheduler.Worker. As such, placing this operator anywhere in the chain will also impact the execution context of onNext/onError/onComplete signals from the beginning of the chain ...\r\n```\r\n\r\n\r\nI have next unit test\r\n\r\n```\r\n    @Test\r\n    void testSubscribeOn() {\r\n        // when\r\n        var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\r\n                .subscribeOn(Schedulers.parallel())\r\n                .log();\r\n\r\n        // then\r\n        StepVerifier.create(flux)\r\n                .expectNextCount(3)\r\n                .verifyComplete();\r\n    }\r\n```\r\n\r\n\r\nI expect that logged messages will show that onSubscribe, request, onNext, onComplete will run in thread from parallel Scheduler.\r\nBut my test shows that onSubscribe and request are invoked from the calling thread:\r\n\r\n```\r\n16:09:21.286 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- onSubscribe(FluxSubscribeOn.SubscribeOnSubscriber)\r\n16:09:21.290 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- request(unbounded)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(alex)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(adam)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(andrew)\r\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onComplete()\r\n```\r\n\r\nAfter posting this question I found related question https://stackoverflow.com/questions/59553733/why-subscribeon-method-doesnt-switch-the-context?rq=2 but as for me it still doesn&#39;t answer my question why in logs I see onSubscribe(...) and request(...) in calling thread instead of Scheduler thread as stated in documentation. \r\n\r\nI don&#39;t have doOnSubscribe() whose lambda can be called in different thread dependending if doOnSubscribe() called before or after subscribeOn(Scheduler).","title":"Project Reactor&#39;s subscribeOn() doesn&#39;t affect onSubscribe() to be called in specified Scheduler as stated in JavaDoc","body":"<p>Project Reactor's Javadoc states\nabout method:</p>\n<p><code>public final Flux&lt;T&gt; subscribeOn(Scheduler scheduler)</code></p>\n<p>that</p>\n<pre><code>Run subscribe, onSubscribe and request on a specified Scheduler's Scheduler.Worker. As such, placing this operator anywhere in the chain will also impact the execution context of onNext/onError/onComplete signals from the beginning of the chain ...\n</code></pre>\n<p>I have next unit test</p>\n<pre><code>    @Test\n    void testSubscribeOn() {\n        // when\n        var flux = Flux.just(&quot;alex&quot;, &quot;adam&quot;, &quot;andrew&quot;)\n                .subscribeOn(Schedulers.parallel())\n                .log();\n\n        // then\n        StepVerifier.create(flux)\n                .expectNextCount(3)\n                .verifyComplete();\n    }\n</code></pre>\n<p>I expect that logged messages will show that onSubscribe, request, onNext, onComplete will run in thread from parallel Scheduler.\nBut my test shows that onSubscribe and request are invoked from the calling thread:</p>\n<pre><code>16:09:21.286 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- onSubscribe(FluxSubscribeOn.SubscribeOnSubscriber)\n16:09:21.290 [Test worker] INFO reactor.Flux.SubscribeOn.1 -- request(unbounded)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(alex)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(adam)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onNext(andrew)\n16:09:21.293 [parallel-1] INFO reactor.Flux.SubscribeOn.1 -- onComplete()\n</code></pre>\n<p>After posting this question I found related question <a href=\"https://stackoverflow.com/questions/59553733/why-subscribeon-method-doesnt-switch-the-context?rq=2\">Why subscribeOn method doesn&#39;t switch the context?</a> but as for me it still doesn't answer my question why in logs I see onSubscribe(...) and request(...) in calling thread instead of Scheduler thread as stated in documentation.</p>\n<p>I don't have doOnSubscribe() whose lambda can be called in different thread dependending if doOnSubscribe() called before or after subscribeOn(Scheduler).</p>\n"},{"tags":["java","loops","logic"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1694555097,"post_id":77092657,"comment_id":135906095,"body_markdown":"Please take the [tour](https://stackoverflow.com/tour), then update your question with a specific example, which includes some problematic code.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, then update your question with a specific example, which includes some problematic code."}],"owner":{"account_id":29300640,"reputation":1,"user_id":22448987,"display_name":"Abhishek Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694552459,"creation_date":1694552459,"question_id":77092657,"body_markdown":"I face problems when i get new problems , it might be lack of practice. I am beginner almost so I have just learn few patterns and basics of java. I got a problem of building a pattern but i wasn&#39;t able to build the exact logic of that. Actually, I know loops and all I am able to understand what is written there in program and what does it mean but when it comes to me to solve the problem with my logic building I am unable to that even after thinking hours and hours I wasn&#39;t able to find the solution. Please tell me how to overcome with this.\r\n\r\ni have already explained that in my question itself","title":"Logic Building regarding new problems I have never gone through","body":"<p>I face problems when i get new problems , it might be lack of practice. I am beginner almost so I have just learn few patterns and basics of java. I got a problem of building a pattern but i wasn't able to build the exact logic of that. Actually, I know loops and all I am able to understand what is written there in program and what does it mean but when it comes to me to solve the problem with my logic building I am unable to that even after thinking hours and hours I wasn't able to find the solution. Please tell me how to overcome with this.</p>\n<p>i have already explained that in my question itself</p>\n"},{"tags":["java","html","validation","html-parsing"],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1291844321,"creation_date":1291844321,"answer_id":4392645,"question_id":4392505,"body_markdown":"If you want to verify certain tags follow certain specifications, there seems to be no end of Java based HTML parsers:\r\n\r\n[Open Source HTML Parsers in Java][1]\r\n\r\nIn other words, you could parse you HTML, and then inspect the resulting document for the tags you were looking for and determine if they meet the specifications you require.  If they don&#39;t you could then just throw an error.\r\n\r\nI don&#39;t think you&#39;ll find a HTML analysis tool which was written with exactly your requirements in mind, mostly because those requirements haven&#39;t been voiced and are probably a bit nebulous.\r\n\r\nIf the parser doesn&#39;t do what you want out of the box, at least this list is open source, so you can hack the parser as long as you publish your changes.\r\n\r\n  [1]: http://java-source.net/open-source/html-parsers","title":"How to validate HTML from Java?","body":"<p>If you want to verify certain tags follow certain specifications, there seems to be no end of Java based HTML parsers:</p>\n\n<p><a href=\"http://java-source.net/open-source/html-parsers\" rel=\"noreferrer\">Open Source HTML Parsers in Java</a></p>\n\n<p>In other words, you could parse you HTML, and then inspect the resulting document for the tags you were looking for and determine if they meet the specifications you require.  If they don't you could then just throw an error.</p>\n\n<p>I don't think you'll find a HTML analysis tool which was written with exactly your requirements in mind, mostly because those requirements haven't been voiced and are probably a bit nebulous.</p>\n\n<p>If the parser doesn't do what you want out of the box, at least this list is open source, so you can hack the parser as long as you publish your changes.</p>\n"},{"tags":[],"owner":{"account_id":156522,"reputation":13969,"user_id":373861,"accept_rate":95,"display_name":"Favonius"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1291870346,"creation_date":1291870346,"answer_id":4394958,"question_id":4392505,"body_markdown":"Check JTidy (http://jtidy.sourceforge.net/) and VietSpider HTMLParser ( http://sourceforge.net/projects/binhgiang/ ) both are Java HTML parser and some syntax checking capabilities. Some eclipse based HTML editor plugin use JTidy (or port of Tidy) for syntax checking. Or as [David Said][1], submit the page to w3c.org\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4392505/how-to-validate-html-from-java/4392532#4392532","title":"How to validate HTML from Java?","body":"<p>Check JTidy (<a href=\"http://jtidy.sourceforge.net/\" rel=\"nofollow noreferrer\">http://jtidy.sourceforge.net/</a>) and VietSpider HTMLParser ( <a href=\"http://sourceforge.net/projects/binhgiang/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/binhgiang/</a> ) both are Java HTML parser and some syntax checking capabilities. Some eclipse based HTML editor plugin use JTidy (or port of Tidy) for syntax checking. Or as <a href=\"https://stackoverflow.com/questions/4392505/how-to-validate-html-from-java/4392532#4392532\">David Said</a>, submit the page to w3c.org</p>\n"}],"owner":{"account_id":25928,"reputation":40525,"user_id":67063,"accept_rate":98,"display_name":"Tony the Pony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25841,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":4392645,"answer_count":2,"score":13,"last_activity_date":1694551945,"creation_date":1291843433,"question_id":4392505,"body_markdown":"What is a fast and simple way to validate HTML from Java? I’m looking for an open-source/PD class (or set of classes) that describes the various properties of the 100-odd HTML tags, such as:\r\n\r\n1. Is the tag optional? Empty? Is it legal to omit its closing tag? \r\n2. Which other tags can this tag contain (if any)?\r\n3. Which attributes are legal for this tag, and what are their types?  (not required, but nice to have)\r\n\r\nI&#39;m looking to do to a tag-by-tag analysis of an HTML document, so I&#39;m less interested in whether the document as a whole is valid, but rather what the specific requirements are for each type of tag.\r\n\r\nI could encode the rules based on the W3C spec, but wanted to see which ready-made solutions are available first. ","title":"How to validate HTML from Java?","body":"<p>What is a fast and simple way to validate HTML from Java? I’m looking for an open-source/PD class (or set of classes) that describes the various properties of the 100-odd HTML tags, such as:</p>\n<ol>\n<li>Is the tag optional? Empty? Is it legal to omit its closing tag?</li>\n<li>Which other tags can this tag contain (if any)?</li>\n<li>Which attributes are legal for this tag, and what are their types?  (not required, but nice to have)</li>\n</ol>\n<p>I'm looking to do to a tag-by-tag analysis of an HTML document, so I'm less interested in whether the document as a whole is valid, but rather what the specific requirements are for each type of tag.</p>\n<p>I could encode the rules based on the W3C spec, but wanted to see which ready-made solutions are available first.</p>\n"},{"tags":["java","spring","gradle","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"score":0,"creation_date":1602267919,"post_id":64285246,"comment_id":113677304,"body_markdown":"what if I don&#39;t know the dependencies to exclude which are having the SNAPSHOT version? sorry, my question doesn&#39;t cover that scenario.","body":"what if I don&#39;t know the dependencies to exclude which are having the SNAPSHOT version? sorry, my question doesn&#39;t cover that scenario."}],"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602280313,"creation_date":1602267197,"answer_id":64285246,"question_id":64284866,"body_markdown":"You can exclude dependencies in build tools, see:\r\nhttps://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps\r\n\r\nYou can also configure the Maven repositories used in Gradle, see:\r\nhttps://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-content-filtering &lt;br&gt;\r\nHere is an example to use only release versions or only snapshot version:\r\n\r\n    repositories {\r\n        maven {\r\n            url &quot;https://repo.mycompany.com/releases&quot;\r\n            mavenContent {\r\n                releasesOnly()\r\n            }\r\n        }\r\n        maven {\r\n            url &quot;https://repo.mycompany.com/snapshots&quot;\r\n            mavenContent {\r\n                snapshotsOnly()\r\n            }\r\n        }\r\n    }","title":"How to prevent gradle from downloading SNAPSHOT jar","body":"<p>You can exclude dependencies in build tools, see:\n<a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html#sec:excluding-transitive-deps</a></p>\n<p>You can also configure the Maven repositories used in Gradle, see:\n<a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-content-filtering\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/declaring_repositories.html#sec:repository-content-filtering</a> <br>\nHere is an example to use only release versions or only snapshot version:</p>\n<pre><code>repositories {\n    maven {\n        url &quot;https://repo.mycompany.com/releases&quot;\n        mavenContent {\n            releasesOnly()\n        }\n    }\n    maven {\n        url &quot;https://repo.mycompany.com/snapshots&quot;\n        mavenContent {\n            snapshotsOnly()\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16297526,"reputation":193,"user_id":11769408,"display_name":"Geoffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694551308,"creation_date":1694550617,"answer_id":77092512,"question_id":64284866,"body_markdown":"If you use the `libs.versions.toml` you can dynamically check the content of the `libs` variable, in the `gradle.properties` add:\r\n\r\n    withSnapshot=true\r\n\r\nThen in your `build.gradle.kts` (or custom plugin) add:\r\n\r\n    val withSnapshot: String by project\r\n    when (withSnapshot) {\r\n        &quot;true&quot; -&gt; {}\r\n        else -&gt; {\r\n            val libs = project.extensions.getByType(VersionCatalogsExtension::class).named(&quot;libs&quot;)\r\n            libs.libraryAliases\r\n                .mapNotNull { libs.findLibrary(it).getOrNull()?.get() }\r\n                .forEach {\r\n                    when (it.version?.lowercase()?.contains(&quot;snapshot&quot;)) {\r\n                        true -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} uses a snapshot version&quot;)\r\n                        false -&gt; {}\r\n                        null -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} has a null version&quot;)\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\nThen try it by adding in your `libs.versions.toml`:\r\n\r\n\r\n    [versions]\r\n    toto = &quot;1.0.0-SNAPSHOT&quot;\r\n    [libraries]\r\n    toto = { module = &quot;toto:toto&quot;, version.ref = &quot;toto&quot; }\r\n\r\nThen run with:\r\n\r\n    ./gradlew clean build -PwithSnapshot=false\r\n\r\nYou should see in the error log:\r\n\r\n    &gt; dependency toto:toto:1.0.0-SNAPSHOT uses a snapshot version\r\n\r\nHowever it will not prevent snapshots from transitive dependencies...","title":"How to prevent gradle from downloading SNAPSHOT jar","body":"<p>If you use the <code>libs.versions.toml</code> you can dynamically check the content of the <code>libs</code> variable, in the <code>gradle.properties</code> add:</p>\n<pre><code>withSnapshot=true\n</code></pre>\n<p>Then in your <code>build.gradle.kts</code> (or custom plugin) add:</p>\n<pre><code>val withSnapshot: String by project\nwhen (withSnapshot) {\n    &quot;true&quot; -&gt; {}\n    else -&gt; {\n        val libs = project.extensions.getByType(VersionCatalogsExtension::class).named(&quot;libs&quot;)\n        libs.libraryAliases\n            .mapNotNull { libs.findLibrary(it).getOrNull()?.get() }\n            .forEach {\n                when (it.version?.lowercase()?.contains(&quot;snapshot&quot;)) {\n                    true -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} uses a snapshot version&quot;)\n                    false -&gt; {}\n                    null -&gt; throw GradleException(&quot;dependency ${it.module}:${it.version} has a null version&quot;)\n                }\n            }\n    }\n}\n</code></pre>\n<p>Then try it by adding in your <code>libs.versions.toml</code>:</p>\n<pre><code>[versions]\ntoto = &quot;1.0.0-SNAPSHOT&quot;\n[libraries]\ntoto = { module = &quot;toto:toto&quot;, version.ref = &quot;toto&quot; }\n</code></pre>\n<p>Then run with:</p>\n<pre><code>./gradlew clean build -PwithSnapshot=false\n</code></pre>\n<p>You should see in the error log:</p>\n<pre><code>&gt; dependency toto:toto:1.0.0-SNAPSHOT uses a snapshot version\n</code></pre>\n<p>However it will not prevent snapshots from transitive dependencies...</p>\n"}],"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1757,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1694551308,"creation_date":1602265376,"question_id":64284866,"body_markdown":"I am using a dependency module-x which has may or may not have SNAPSHOT version of trivial/other dependencies. When I build the application I wanted to make sure that all the trivial/other dependencies are of release type and not SNAPSHOT as SNAPSHOT keeps changing. \r\n\r\nbuild.gradle file \r\n\r\n    dependencies {\r\n        implementation &#39;org.my-group-x:module-x:1.2&#39;\r\n    }\r\n\r\n\r\nit downloads a bunch of dependencies and it may have multiple dependencies which are of SNAPSHOT typed\r\n\r\n    module-y:2.0-SNAPSHOT.jar\r\n    module-z:3.1-SNAPSHOT.jar\r\n    module-k:2.7-SNAPSHOT.jar\r\n\r\n\r\nHow I can make sure it is rejected and not added to the application? Also i dont know the dependencies to exclude it specifically.","title":"How to prevent gradle from downloading SNAPSHOT jar","body":"<p>I am using a dependency module-x which has may or may not have SNAPSHOT version of trivial/other dependencies. When I build the application I wanted to make sure that all the trivial/other dependencies are of release type and not SNAPSHOT as SNAPSHOT keeps changing.</p>\n<p>build.gradle file</p>\n<pre><code>dependencies {\n    implementation 'org.my-group-x:module-x:1.2'\n}\n</code></pre>\n<p>it downloads a bunch of dependencies and it may have multiple dependencies which are of SNAPSHOT typed</p>\n<pre><code>module-y:2.0-SNAPSHOT.jar\nmodule-z:3.1-SNAPSHOT.jar\nmodule-k:2.7-SNAPSHOT.jar\n</code></pre>\n<p>How I can make sure it is rejected and not added to the application? Also i dont know the dependencies to exclude it specifically.</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":1,"creation_date":1349283510,"post_id":12713247,"comment_id":17166345,"body_markdown":"If you are using Eclipse, the file needs to be in the root directory of the project.","body":"If you are using Eclipse, the file needs to be in the root directory of the project."},{"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"score":3,"creation_date":1349283566,"post_id":12713247,"comment_id":17166372,"body_markdown":"You should print the stack trace in order to find the offending line of code.","body":"You should print the stack trace in order to find the offending line of code."},{"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"score":0,"creation_date":1349283735,"post_id":12713247,"comment_id":17166451,"body_markdown":"@Doug Ramsey It is in the root directory of the project.","body":"@Doug Ramsey It is in the root directory of the project."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1349284380,"post_id":12713247,"comment_id":17166711,"body_markdown":"Instead of just &quot;criteria.txt&quot;, put the actual location of the file on the filesystem like &quot;E:\\\\criteria.txt&quot;.","body":"Instead of just &quot;criteria.txt&quot;, put the actual location of the file on the filesystem like &quot;E:\\\\criteria.txt&quot;."},{"owner":{"account_id":1824055,"reputation":7962,"user_id":1657364,"display_name":"Guido Simone"},"score":0,"creation_date":1349284558,"post_id":12713247,"comment_id":17166774,"body_markdown":"Please provide a use case (before and after) for criteria.txt.  I do not understand what you are trying to do.  It looks like if criteria.txt was &quot;a = 5&quot;, you want to create a file with &quot;a = 5a=5&quot; because you are appending the tokens you just read.  Obviously I am missing something so please provide an example.","body":"Please provide a use case (before and after) for criteria.txt.  I do not understand what you are trying to do.  It looks like if criteria.txt was &quot;a = 5&quot;, you want to create a file with &quot;a = 5a=5&quot; because you are appending the tokens you just read.  Obviously I am missing something so please provide an example."},{"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"score":0,"creation_date":1349284641,"post_id":12713247,"comment_id":17166821,"body_markdown":"I copy the file on D:/ and I change the actual location of the file to &quot;D:/criteria.txt&quot;. It doesn&#39;t work. Can be a mistake in the code?","body":"I copy the file on D:/ and I change the actual location of the file to &quot;D:/criteria.txt&quot;. It doesn&#39;t work. Can be a mistake in the code?"},{"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"score":0,"creation_date":1349284857,"post_id":12713247,"comment_id":17166923,"body_markdown":"My file &quot;criteria.txt&quot; has the words: &quot;income education competition&quot; separated by a space. I want to append to the end of the same file, those three words, each of them on a new line.","body":"My file &quot;criteria.txt&quot; has the words: &quot;income education competition&quot; separated by a space. I want to append to the end of the same file, those three words, each of them on a new line."}],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1349284487,"creation_date":1349284487,"answer_id":12713509,"question_id":12713247,"body_markdown":"You need to close your reader after you have finished reading the file i.e. after the while loop. Currently, you are closing it after reading the first line, which causes an &quot;`IOException: Stream closed`&quot; when it tries to read the second line.\r\n\r\nChange to:\r\n\r\n    while((s=br.readLine())!=null)\r\n    {\r\n        strtok=new StringTokenizer(s,&quot; &quot;);\r\n        while(strtok.hasMoreTokens())\r\n        {\r\n            bw.write(&quot;\\n&quot;+strtok.nextToken());\r\n        }\r\n        //br.close(); &lt;----- move this to outside the while loop\r\n    }\r\n    br.close();","title":"Reading and writing from and to the same file in Java","body":"<p>You need to close your reader after you have finished reading the file i.e. after the while loop. Currently, you are closing it after reading the first line, which causes an \"<code>IOException: Stream closed</code>\" when it tries to read the second line.</p>\n\n<p>Change to:</p>\n\n<pre><code>while((s=br.readLine())!=null)\n{\n    strtok=new StringTokenizer(s,\" \");\n    while(strtok.hasMoreTokens())\n    {\n        bw.write(\"\\n\"+strtok.nextToken());\n    }\n    //br.close(); &lt;----- move this to outside the while loop\n}\nbr.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1902949,"reputation":86,"user_id":1718415,"display_name":"Dranste"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1349301094,"creation_date":1349301094,"answer_id":12717426,"question_id":12713247,"body_markdown":"In my opinion you can&#39;t do that. You can&#39;t open the same file to read and write at the same time. You have to open and save the file information in a data structure and then close it. Then you have to work with the data structure in memory and open the file to write results. And when you finish to write you should close it.","title":"Reading and writing from and to the same file in Java","body":"<p>In my opinion you can't do that. You can't open the same file to read and write at the same time. You have to open and save the file information in a data structure and then close it. Then you have to work with the data structure in memory and open the file to write results. And when you finish to write you should close it.</p>\n"},{"tags":[],"owner":{"account_id":1795097,"reputation":175,"user_id":1634668,"display_name":"Morufu Salawu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468395782,"creation_date":1350087327,"answer_id":12868760,"question_id":12713247,"body_markdown":"Your greatest undoing is placing the `br.close();` inside the `while()` loop: You are telling the computer each time it writes to the file to close it immediately, hence the file remained closed and computer will never find it during the next iteration/ execution of the loop. However, I have edit the initial program to this:\r\n\r\n\timport java.io.*;\r\n\timport java.util.StringTokenizer;\r\n\r\n\tpublic class Test\r\n\t{\r\n\t\tprivate FileReader fr;\r\n\t\tprivate BufferedReader br;\r\n\t\tprivate FileWriter fw;\r\n\t\tprivate BufferedWriter bw;\r\n\t\tprivate StringTokenizer strtok;\r\n\t\tprivate String s;\r\n\r\n\t\t//constructor\r\n\t\tpublic Test()  \r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tfw=new FileWriter(&quot;criteria.txt&quot;, true);\r\n\t\t\t\tbw=new BufferedWriter(fw);\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tfr=new FileReader(&quot;criteria.txt&quot;);\r\n\t\t\t\t\tbr=new BufferedReader(fr);\r\n\r\n\t\t\t\t\t**while((s=br.readLine())!=null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstrtok=new StringTokenizer(s,&quot; &quot;);\r\n\t\t\t\t\t\twhile(strtok.hasMoreTokens())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tbw.write(&quot;\\n&quot;+strtok.nextToken());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t br.close();\r\n\t\t\t\t}**\r\n\t\t\t\tcatch(FileNotFoundException e)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;File was not found!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(IOException e)    \r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;No file found!&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbw.close();\r\n\t\t\t}\r\n\t\t\tcatch(FileNotFoundException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error1!&quot;);\r\n\t\t\t}\r\n\t\t\tcatch(IOException e)    \r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error2!&quot;);\r\n\t\t\t}\r\n\t\t}   \r\n\r\n\t\tpublic static void main(String[] args) \r\n\t\t{\r\n\t\t\tTest t=new Test();\r\n\t\t}\r\n\t}\r\n\r\nThe folder or directory the file exist doesn&#39;t matter in this case as the program will create a new file named &quot;criteria.txt&quot; in the same folder as the java program; however, you will have to open the file with a text editor to add/ append some data as the file will be blank initially. Subsequent run of the program will now append the already inserted content(s) as a concatenation string on a new line. A new line will be produced each time the program is run. Hope this helps.\r\n","title":"Reading and writing from and to the same file in Java","body":"<p>Your greatest undoing is placing the <code>br.close();</code> inside the <code>while()</code> loop: You are telling the computer each time it writes to the file to close it immediately, hence the file remained closed and computer will never find it during the next iteration/ execution of the loop. However, I have edit the initial program to this:</p>\n\n<pre><code>import java.io.*;\nimport java.util.StringTokenizer;\n\npublic class Test\n{\n    private FileReader fr;\n    private BufferedReader br;\n    private FileWriter fw;\n    private BufferedWriter bw;\n    private StringTokenizer strtok;\n    private String s;\n\n    //constructor\n    public Test()  \n    {\n        try\n        {\n            fw=new FileWriter(\"criteria.txt\", true);\n            bw=new BufferedWriter(fw);\n\n            try\n            {\n                fr=new FileReader(\"criteria.txt\");\n                br=new BufferedReader(fr);\n\n                **while((s=br.readLine())!=null)\n                {\n                    strtok=new StringTokenizer(s,\" \");\n                    while(strtok.hasMoreTokens())\n                    {\n                        bw.write(\"\\n\"+strtok.nextToken());\n                    }\n\n                }\n                     br.close();\n            }**\n            catch(FileNotFoundException e)\n            {\n                System.out.println(\"File was not found!\");\n            }\n            catch(IOException e)    \n            {\n                System.out.println(\"No file found!\");\n            }\n            bw.close();\n        }\n        catch(FileNotFoundException e)\n        {\n            System.out.println(\"Error1!\");\n        }\n        catch(IOException e)    \n        {\n            System.out.println(\"Error2!\");\n        }\n    }   \n\n    public static void main(String[] args) \n    {\n        Test t=new Test();\n    }\n}\n</code></pre>\n\n<p>The folder or directory the file exist doesn't matter in this case as the program will create a new file named \"criteria.txt\" in the same folder as the java program; however, you will have to open the file with a text editor to add/ append some data as the file will be blank initially. Subsequent run of the program will now append the already inserted content(s) as a concatenation string on a new line. A new line will be produced each time the program is run. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1502661,"reputation":1753,"user_id":1406807,"display_name":"Yura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694551285,"creation_date":1694551285,"answer_id":77092570,"question_id":12713247,"body_markdown":"you can use **RandomAccessFile** - it can read, write same file same time as seeking and getting current cursor position","title":"Reading and writing from and to the same file in Java","body":"<p>you can use <strong>RandomAccessFile</strong> - it can read, write same file same time as seeking and getting current cursor position</p>\n"}],"owner":{"account_id":1795092,"reputation":263,"user_id":1634663,"accept_rate":100,"display_name":"Lavinia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45310,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":12713509,"answer_count":4,"score":13,"last_activity_date":1694551285,"creation_date":1349283436,"question_id":12713247,"body_markdown":"I want to read from  `criteria.txt` file, to tokenize and append at the end of the same file the tokens. The program throws an exception: `No file found!` I do not know where my mistake is. Any suggestion would help me. Thank you in advance!\r\n\r\nHere is my code:\r\n\r\n    import java.io.*;\r\n    import java.util.StringTokenizer;\r\n\r\n    public class Test\r\n    {\r\n\t    private FileReader fr;\r\n\t    private BufferedReader br;\r\n\t    private FileWriter fw;\r\n\t    private BufferedWriter bw;\r\n\t    private StringTokenizer strtok;\r\n\t    private String s;\r\n\t\r\n\t    //constructor\r\n\t    public Test()  \r\n\t    {\r\n\t\t    try\r\n\t\t    {\r\n\t\t    \tfw=new FileWriter(&quot;criteria.txt&quot;, true);\r\n\t\t    \tbw=new BufferedWriter(fw);\r\n\t\t\t\r\n\t\t    \ttry\r\n\t\t    \t{\r\n\t\t\t    \tfr=new FileReader(&quot;criteria.txt&quot;);\r\n\t\t\t    \tbr=new BufferedReader(fr);\r\n\t\t\t\t\r\n\t\t\t    \twhile((s=br.readLine())!=null)\r\n\t\t\t    \t{\r\n\t\t    \t\t\tstrtok=new StringTokenizer(s,&quot; &quot;);\r\n\t\t    \t\t\twhile(strtok.hasMoreTokens())\r\n\t\t\t    \t\t{\r\n\t\t\t\t    \t\tbw.write(&quot;\\n&quot;+strtok.nextToken());\r\n\t\t\t\t    \t}\r\n\t\t\t\t    \tbr.close();\r\n\t\t\t    \t}\r\n\t\t    \t}\r\n\t\t    \tcatch(FileNotFoundException e)\r\n\t\t    \t{\r\n\t\t    \t\tSystem.out.println(&quot;File was not found!&quot;);\r\n\t    \t\t}\r\n\t    \t\tcatch(IOException e)\t\r\n\t    \t\t{\r\n\t    \t\t\tSystem.out.println(&quot;No file found!&quot;);\r\n\t    \t\t}\r\n\t\t\t\r\n\t    \t\tbw.close();\r\n\t    \t}\r\n\t    \tcatch(FileNotFoundException e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Error1!&quot;);\r\n    \t\t}\r\n    \t\tcatch(IOException e)\t\r\n    \t\t{\r\n\t    \t\tSystem.out.println(&quot;Error2!&quot;);\r\n\t    \t}\r\n    \t}\t\r\n\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tTest t=new Test();\r\n    \t}\r\n    }\r\n","title":"Reading and writing from and to the same file in Java","body":"<p>I want to read from  <code>criteria.txt</code> file, to tokenize and append at the end of the same file the tokens. The program throws an exception: <code>No file found!</code> I do not know where my mistake is. Any suggestion would help me. Thank you in advance!</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.io.*;\nimport java.util.StringTokenizer;\n\npublic class Test\n{\n    private FileReader fr;\n    private BufferedReader br;\n    private FileWriter fw;\n    private BufferedWriter bw;\n    private StringTokenizer strtok;\n    private String s;\n\n    //constructor\n    public Test()  \n    {\n        try\n        {\n            fw=new FileWriter(\"criteria.txt\", true);\n            bw=new BufferedWriter(fw);\n\n            try\n            {\n                fr=new FileReader(\"criteria.txt\");\n                br=new BufferedReader(fr);\n\n                while((s=br.readLine())!=null)\n                {\n                    strtok=new StringTokenizer(s,\" \");\n                    while(strtok.hasMoreTokens())\n                    {\n                        bw.write(\"\\n\"+strtok.nextToken());\n                    }\n                    br.close();\n                }\n            }\n            catch(FileNotFoundException e)\n            {\n                System.out.println(\"File was not found!\");\n            }\n            catch(IOException e)    \n            {\n                System.out.println(\"No file found!\");\n            }\n\n            bw.close();\n        }\n        catch(FileNotFoundException e)\n        {\n            System.out.println(\"Error1!\");\n        }\n        catch(IOException e)    \n        {\n            System.out.println(\"Error2!\");\n        }\n    }   \n\n    public static void main(String[] args) \n    {\n        Test t=new Test();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":238425,"reputation":15741,"user_id":507313,"accept_rate":75,"display_name":"StuStirling"},"score":0,"creation_date":1352478914,"post_id":13312005,"comment_id":18156792,"body_markdown":"blackbelt to the rescue again. Thank you my friend","body":"blackbelt to the rescue again. Thank you my friend"},{"owner":{"account_id":1211515,"reputation":949,"user_id":1179948,"accept_rate":100,"display_name":"Igor Bljahhin"},"score":2,"creation_date":1459343973,"post_id":13312005,"comment_id":60243408,"body_markdown":"This approach will break unicode characters, which are two bytes or more.","body":"This approach will break unicode characters, which are two bytes or more."}],"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1507189342,"creation_date":1352478455,"answer_id":13312005,"question_id":13311856,"body_markdown":"you have to read from the `ZipInputStream`:\r\n\r\n    StringBuilder s = new StringBuilder();\r\n    byte[] buffer = new byte[1024];\r\n    int read = 0;\r\n    ZipEntry entry;\r\n    while ((entry = zis.getNextEntry())!= null) {\r\n          while ((read = zis.read(buffer, 0, 1024)) &gt;= 0) {\r\n    \t       s.append(new String(buffer, 0, read));\r\n          }\r\n    }\r\n\t\t\r\nWhen you exit from the inner `while` save the `StringBuilder` content, and reset it.","title":"Write ZipEntry Data To String","body":"<p>you have to read from the <code>ZipInputStream</code>:</p>\n\n<pre><code>StringBuilder s = new StringBuilder();\nbyte[] buffer = new byte[1024];\nint read = 0;\nZipEntry entry;\nwhile ((entry = zis.getNextEntry())!= null) {\n      while ((read = zis.read(buffer, 0, 1024)) &gt;= 0) {\n           s.append(new String(buffer, 0, read));\n      }\n}\n</code></pre>\n\n<p>When you exit from the inner <code>while</code> save the <code>StringBuilder</code> content, and reset it.</p>\n"},{"comments":[{"owner":{"account_id":44646,"reputation":2831,"user_id":131146,"accept_rate":75,"display_name":"Zefiro"},"score":0,"creation_date":1494271009,"post_id":36310757,"comment_id":74746870,"body_markdown":"Could you please describe in which way the version of @Blackbelt will break Unicode? His version reads until there is nothing left (i.e. all parts of Unicode I&#39;d expect to be there), while your version always adds the whole buffer, creating a final String which is much longer than entry.getSize()","body":"Could you please describe in which way the version of @Blackbelt will break Unicode? His version reads until there is nothing left (i.e. all parts of Unicode I&#39;d expect to be there), while your version always adds the whole buffer, creating a final String which is much longer than entry.getSize()"},{"owner":{"account_id":44646,"reputation":2831,"user_id":131146,"accept_rate":75,"display_name":"Zefiro"},"score":0,"creation_date":1494271463,"post_id":36310757,"comment_id":74747140,"body_markdown":"Ok, I now see that you use char[] instead of byte[]. I&#39;d suggest to make this more visible in the answer, and also only add as much of the buffer as you&#39;re read. Currently your resulting string gets rounded up to the buffer size.","body":"Ok, I now see that you use char[] instead of byte[]. I&#39;d suggest to make this more visible in the answer, and also only add as much of the buffer as you&#39;re read. Currently your resulting string gets rounded up to the buffer size."}],"tags":[],"owner":{"account_id":1211515,"reputation":949,"user_id":1179948,"accept_rate":100,"display_name":"Igor Bljahhin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459345577,"creation_date":1459345577,"answer_id":36310757,"question_id":13311856,"body_markdown":"Here is the approach, which does not break Unicode characters:\r\n\r\n    final ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(content));\r\n    final InputStreamReader isr = new InputStreamReader(zis);\r\n    final StringBuilder sb = new StringBuilder();\r\n    final char[] buffer = new char[1024];\r\n\r\n    while (isr.read(buffer, 0, buffer.length) != -1) {\r\n        sb.append(new String(buffer));\r\n    }\r\n\r\n    System.out.println(sb.toString());","title":"Write ZipEntry Data To String","body":"<p>Here is the approach, which does not break Unicode characters:</p>\n\n<pre><code>final ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(content));\nfinal InputStreamReader isr = new InputStreamReader(zis);\nfinal StringBuilder sb = new StringBuilder();\nfinal char[] buffer = new char[1024];\n\nwhile (isr.read(buffer, 0, buffer.length) != -1) {\n    sb.append(new String(buffer));\n}\n\nSystem.out.println(sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":145589,"reputation":8293,"user_id":355491,"display_name":"multitask landscape"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632004690,"creation_date":1509268471,"answer_id":46998548,"question_id":13311856,"body_markdown":"With defined encoding (e.g. UTF-8) and without creation of Strings:\r\n\r\n    import java.util.zip.ZipInputStream;\r\n    import java.util.zip.ZipEntry;\r\n    import java.io.ByteArrayOutputStream;\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n    \r\n    try (\r\n      ZipInputStream zis = new ZipInputStream(input, UTF_8); \r\n      ByteArrayOutputStream baos = new ByteArrayOutputStream()\r\n    ) {\r\n      byte[] buffer = new byte[1024];\r\n      int read = 0;\r\n      ZipEntry entry;\r\n      while ((entry = zis.getNextEntry()) != null)\r\n        while ((read = zis.read(buffer, 0, buffer.length)) &gt; 0)\r\n          baos.write(buffer, 0, read);\r\n      String content = baos.toString(UTF_8.name());\r\n    }","title":"Write ZipEntry Data To String","body":"<p>With defined encoding (e.g. UTF-8) and without creation of Strings:</p>\n<pre><code>import java.util.zip.ZipInputStream;\nimport java.util.zip.ZipEntry;\nimport java.io.ByteArrayOutputStream;\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\ntry (\n  ZipInputStream zis = new ZipInputStream(input, UTF_8); \n  ByteArrayOutputStream baos = new ByteArrayOutputStream()\n) {\n  byte[] buffer = new byte[1024];\n  int read = 0;\n  ZipEntry entry;\n  while ((entry = zis.getNextEntry()) != null)\n    while ((read = zis.read(buffer, 0, buffer.length)) &gt; 0)\n      baos.write(buffer, 0, read);\n  String content = baos.toString(UTF_8.name());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1404439,"reputation":284,"user_id":1332543,"accept_rate":45,"display_name":"Kreender"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1579186452,"creation_date":1579186452,"answer_id":59772251,"question_id":13311856,"body_markdown":"I would use apache&#39;s IOUtils\r\n\r\n    ZipEntry entry;\r\n    InputStream input = params[0];\r\n    ZipInputStream zis = new ZipInputStream(input);\r\n\r\n    try {\r\n      while ((entry = zis.getNextEntry())!= null) {\r\n        String entryAsString = IOUtils.toString(zis, StandardCharsets.UTF_8);\r\n      }\r\n    } catch (IOException e) {\r\n      // TODO Auto-generated catch block\r\n      e.printStackTrace();\r\n    }\r\n    IOUtils.closeQuietly(zis);","title":"Write ZipEntry Data To String","body":"<p>I would use apache's IOUtils</p>\n\n<pre><code>ZipEntry entry;\nInputStream input = params[0];\nZipInputStream zis = new ZipInputStream(input);\n\ntry {\n  while ((entry = zis.getNextEntry())!= null) {\n    String entryAsString = IOUtils.toString(zis, StandardCharsets.UTF_8);\n  }\n} catch (IOException e) {\n  // TODO Auto-generated catch block\n  e.printStackTrace();\n}\nIOUtils.closeQuietly(zis);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180793,"reputation":1541,"user_id":1155758,"accept_rate":70,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639025533,"creation_date":1639025533,"answer_id":70284869,"question_id":13311856,"body_markdown":"Kotlin version but can be used in Java as well\r\n\r\n    val zipInputStream = ZipInputStream(inStream)\r\n    var zipEntry = zipInputStream.nextEntry\r\n    while(zipEntry != null) {\r\n        println(&quot;Name of file : &quot; + zipEntry.name)\r\n        val fileContent = String(zipInputStream.readAllBytes(), StandardCharsets.UTF_8)\r\n        println(&quot;File content : $fileContent&quot;)\r\n        zipEntry = zipInputStream.nextEntry\r\n    }","title":"Write ZipEntry Data To String","body":"<p>Kotlin version but can be used in Java as well</p>\n<pre><code>val zipInputStream = ZipInputStream(inStream)\nvar zipEntry = zipInputStream.nextEntry\nwhile(zipEntry != null) {\n    println(&quot;Name of file : &quot; + zipEntry.name)\n    val fileContent = String(zipInputStream.readAllBytes(), StandardCharsets.UTF_8)\n    println(&quot;File content : $fileContent&quot;)\n    zipEntry = zipInputStream.nextEntry\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694550825,"creation_date":1694550825,"answer_id":77092533,"question_id":13311856,"body_markdown":"If the file is known to be small, you can just use `zis.readAllBytes()` and construct a `new String` with it.\r\n\r\nFor instance, in unit testing a file that only contains 1 xml file, I wrote :\r\n\r\n```java\r\nZipInputStream zis = new ZipInputStream(new FileInputStream(yourZipFile));\r\nZipEntry zipEntry = zis.getNextEntry();\r\nString xmlString = new String(zis.readAllBytes());\r\nzis.closeEntry();\r\nzis.close();\r\n```\r\n\r\nThe important thing to remember is to first read the entry (and probably use this information to get the file name) and then read the file content because   in a zip file, the data is organized as a succession of (file entry then file data).\r\n\r\nYou can refer to [Baeldung&#39;s Zipping and Unzipping in Java](https://www.baeldung.com/java-compress-and-uncompress) for more details and examples with multiple files in the zip.","title":"Write ZipEntry Data To String","body":"<p>If the file is known to be small, you can just use <code>zis.readAllBytes()</code> and construct a <code>new String</code> with it.</p>\n<p>For instance, in unit testing a file that only contains 1 xml file, I wrote :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZipInputStream zis = new ZipInputStream(new FileInputStream(yourZipFile));\nZipEntry zipEntry = zis.getNextEntry();\nString xmlString = new String(zis.readAllBytes());\nzis.closeEntry();\nzis.close();\n</code></pre>\n<p>The important thing to remember is to first read the entry (and probably use this information to get the file name) and then read the file content because   in a zip file, the data is organized as a succession of (file entry then file data).</p>\n<p>You can refer to <a href=\"https://www.baeldung.com/java-compress-and-uncompress\" rel=\"nofollow noreferrer\">Baeldung's Zipping and Unzipping in Java</a> for more details and examples with multiple files in the zip.</p>\n"}],"owner":{"account_id":238425,"reputation":15741,"user_id":507313,"accept_rate":75,"display_name":"StuStirling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17114,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13312005,"answer_count":6,"score":16,"last_activity_date":1694550825,"creation_date":1352478013,"question_id":13311856,"body_markdown":"I have retrieved a zip entry from a zip file like so.\r\n\r\n    InputStream input = params[0];\r\n    ZipInputStream zis = new ZipInputStream(input);\r\n\t\t\r\n    ZipEntry entry;\r\n    try {\r\n        while ((entry = zis.getNextEntry())!= null) {\r\n    \r\n        }\r\n    } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nThis works fine and its getting my `ZipEntry` no problem. \r\n\r\n**My Question**\r\n\r\nHow can I get the contents of these `ZipEntries` into a String as they are xml and csv files. ","title":"Write ZipEntry Data To String","body":"<p>I have retrieved a zip entry from a zip file like so.</p>\n\n<pre><code>InputStream input = params[0];\nZipInputStream zis = new ZipInputStream(input);\n\nZipEntry entry;\ntry {\n    while ((entry = zis.getNextEntry())!= null) {\n\n    }\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>This works fine and its getting my <code>ZipEntry</code> no problem. </p>\n\n<p><strong>My Question</strong></p>\n\n<p>How can I get the contents of these <code>ZipEntries</code> into a String as they are xml and csv files. </p>\n"},{"tags":["java","loops","sqlite"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694463370,"post_id":77084549,"comment_id":135891676,"body_markdown":"What exactly is your question?","body":"What exactly is your question?"}],"answers":[{"tags":[],"owner":{"account_id":7555203,"reputation":43,"user_id":5735131,"display_name":"Dawine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694549344,"creation_date":1694549344,"answer_id":77092389,"question_id":77084549,"body_markdown":"I have found the solution myself\r\n\r\n    private void setupChartView() {\r\n        RadarChart radarChart = findViewById(R.id.radarChart);\r\n        RadarData radarData = new RadarData();\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        int currentYear = calendar.get(Calendar.YEAR);\r\n        SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\r\n        Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\r\n\r\n        for(int i=0; i&lt;getCustomer.getCount(); i++) {\r\n            ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\r\n            getCustomer.moveToNext();\r\n            @SuppressLint(&quot;Range&quot;)\r\n            String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\r\n            Cursor getSales = db.rawQuery(&quot;select &quot; + C_SALES_TOTAL + &quot; from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; = &#39;&quot; + customer + &quot;&#39;&quot;, null);\r\n            Toast.makeText(this, String.valueOf(getSales.getCount()), Toast.LENGTH_SHORT).show();\r\n            for(int j=0; j&lt;getSales.getCount(); j++) {\r\n\r\n                getSales.moveToNext();\r\n                @SuppressLint(&quot;Range&quot;)\r\n                String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\r\n                Toast.makeText(this, sales, Toast.LENGTH_SHORT).show();\r\n                RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\r\n                dataEntries.add(radarEntry);\r\n            }\r\n            RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\r\n            int color= ((int)(Math.random()*16777215)) | (0xFF &lt;&lt; 24);\r\n            radarDataSet.setColor(color);\r\n            radarData.addDataSet(radarDataSet);\r\n        }\r\n\r\n        radarChart.setData(radarData);\r\n        radarChart.getDescription().setEnabled(false);\r\n\r\n        Legend legend = radarChart.getLegend();\r\n        legend.setXEntrySpace(7f);\r\n        legend.setYEntrySpace(5f);\r\n        legend.setYOffset(75f);\r\n        legend.setTextSize(16f);\r\n        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\r\n    }","title":"RadarChart with Sqlite Android Studio using nested loop","body":"<p>I have found the solution myself</p>\n<pre><code>private void setupChartView() {\n    RadarChart radarChart = findViewById(R.id.radarChart);\n    RadarData radarData = new RadarData();\n\n    Calendar calendar = Calendar.getInstance();\n    int currentYear = calendar.get(Calendar.YEAR);\n    SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\n    Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\n\n    for(int i=0; i&lt;getCustomer.getCount(); i++) {\n        ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\n        getCustomer.moveToNext();\n        @SuppressLint(&quot;Range&quot;)\n        String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\n        Cursor getSales = db.rawQuery(&quot;select &quot; + C_SALES_TOTAL + &quot; from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; = '&quot; + customer + &quot;'&quot;, null);\n        Toast.makeText(this, String.valueOf(getSales.getCount()), Toast.LENGTH_SHORT).show();\n        for(int j=0; j&lt;getSales.getCount(); j++) {\n\n            getSales.moveToNext();\n            @SuppressLint(&quot;Range&quot;)\n            String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\n            Toast.makeText(this, sales, Toast.LENGTH_SHORT).show();\n            RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\n            dataEntries.add(radarEntry);\n        }\n        RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\n        int color= ((int)(Math.random()*16777215)) | (0xFF &lt;&lt; 24);\n        radarDataSet.setColor(color);\n        radarData.addDataSet(radarDataSet);\n    }\n\n    radarChart.setData(radarData);\n    radarChart.getDescription().setEnabled(false);\n\n    Legend legend = radarChart.getLegend();\n    legend.setXEntrySpace(7f);\n    legend.setYEntrySpace(5f);\n    legend.setYOffset(75f);\n    legend.setTextSize(16f);\n    legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\n}\n</code></pre>\n"}],"owner":{"account_id":7555203,"reputation":43,"user_id":5735131,"display_name":"Dawine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694549344,"creation_date":1694463183,"question_id":77084549,"body_markdown":"I am struggling with this radar chart. I want to put every customer in the radar chart.  Only one appears, and all the value for the others are added for this single customer. Can someone help me please?\r\n\r\n```java\r\nprivate void setupChartView() {\r\n       RadarChart radarChart = findViewById(R.id.radarChart);\r\n\r\n        ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        int currentYear = calendar.get(Calendar.YEAR);\r\n        SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\r\n        Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\r\n\r\n        for(int i=0; i&lt;getCustomer.getCount(); i++) {\r\n\r\n            getCustomer.moveToNext();\r\n            @SuppressLint(&quot;Range&quot;)\r\n            String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\r\n\r\n            Cursor getSales = db.rawQuery(&quot;select * from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; like &#39;%&quot; + customer + &quot;%&#39;&quot;, null);\r\n            for(int j=0; j&lt;getSales.getCount(); j++) {\r\n                getSales.moveToNext();\r\n                @SuppressLint(&quot;Range&quot;)\r\n                String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\r\n                RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\r\n                dataEntries.add(radarEntry);\r\n\r\n                RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\r\n                RadarData radarData = new RadarData();\r\n                radarData.addDataSet(radarDataSet);\r\n                radarChart.setData(radarData);\r\n            }\r\n        }\r\n        radarChart.getDescription().setEnabled(false);\r\n\r\n        Legend legend = radarChart.getLegend();\r\n        legend.setXEntrySpace(7f);\r\n        legend.setYEntrySpace(5f);\r\n        legend.setYOffset(75f);\r\n        legend.setTextSize(16f);\r\n        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\r\n}\r\n```","title":"RadarChart with Sqlite Android Studio using nested loop","body":"<p>I am struggling with this radar chart. I want to put every customer in the radar chart.  Only one appears, and all the value for the others are added for this single customer. Can someone help me please?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setupChartView() {\n       RadarChart radarChart = findViewById(R.id.radarChart);\n\n        ArrayList&lt;RadarEntry&gt; dataEntries = new ArrayList&lt;&gt;();\n\n        Calendar calendar = Calendar.getInstance();\n        int currentYear = calendar.get(Calendar.YEAR);\n        SQLiteDatabase db = new DatabaseHelper(this).getWritableDatabase();\n        Cursor getCustomer = db.rawQuery(&quot;select DISTINCT &quot; + C_SALES_CUSTOMER + &quot; FROM &quot; + TABLESALES, null);\n\n        for(int i=0; i&lt;getCustomer.getCount(); i++) {\n\n            getCustomer.moveToNext();\n            @SuppressLint(&quot;Range&quot;)\n            String customer =  getCustomer.getString(getCustomer.getColumnIndex(C_SALES_CUSTOMER));\n\n            Cursor getSales = db.rawQuery(&quot;select * from &quot; + TABLESALES + &quot; where &quot; + C_SALES_CUSTOMER + &quot; like '%&quot; + customer + &quot;%'&quot;, null);\n            for(int j=0; j&lt;getSales.getCount(); j++) {\n                getSales.moveToNext();\n                @SuppressLint(&quot;Range&quot;)\n                String sales =  getSales.getString(getSales.getColumnIndex(C_SALES_TOTAL));\n                RadarEntry radarEntry = new RadarEntry(Integer.valueOf(sales));\n                dataEntries.add(radarEntry);\n\n                RadarDataSet radarDataSet = new RadarDataSet(dataEntries, customer);\n                RadarData radarData = new RadarData();\n                radarData.addDataSet(radarDataSet);\n                radarChart.setData(radarData);\n            }\n        }\n        radarChart.getDescription().setEnabled(false);\n\n        Legend legend = radarChart.getLegend();\n        legend.setXEntrySpace(7f);\n        legend.setYEntrySpace(5f);\n        legend.setYOffset(75f);\n        legend.setTextSize(16f);\n        legend.setHorizontalAlignment(Legend.LegendHorizontalAlignment.CENTER);\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":226736,"reputation":2243,"user_id":487940,"accept_rate":79,"display_name":"harsimranb"},"score":0,"creation_date":1694490802,"post_id":77085994,"comment_id":135894067,"body_markdown":"If there was a way to ignore the byte-array size limits or save this in chunks, it could solve the problem.  But haven&#39;t found anything on this.","body":"If there was a way to ignore the byte-array size limits or save this in chunks, it could solve the problem.  But haven&#39;t found anything on this."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1694514620,"post_id":77085994,"comment_id":135897719,"body_markdown":"Try forking POI and changing POIFSFileSystem to use a FileBackedDataSource instead of a ByteArrayBackedDataSource. Byte Arrays can only support 2Gb but files can support much larger data sets.","body":"Try forking POI and changing POIFSFileSystem to use a FileBackedDataSource instead of a ByteArrayBackedDataSource. Byte Arrays can only support 2Gb but files can support much larger data sets."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694517479,"post_id":77085994,"comment_id":135898318,"body_markdown":"POI already has TempFilePOIFSFileSystem - use this instead of POIFSFileSystem. It should support larger data than POIFSFileSystem.","body":"POI already has TempFilePOIFSFileSystem - use this instead of POIFSFileSystem. It should support larger data than POIFSFileSystem."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694517886,"post_id":77085994,"comment_id":135898399,"body_markdown":"So I found some history and it traces back to https://stackoverflow.com/questions/55658495/apache-poi-encrypting-xlsx-file-greater-than-2gb-fails - it seems like TempFilePOIFSFileSystem is not likely to be enough. POI uses ints to track size and these are likely to overflow when the data is too big.","body":"So I found some history and it traces back to <a href=\"https://stackoverflow.com/questions/55658495/apache-poi-encrypting-xlsx-file-greater-than-2gb-fails\" title=\"apache poi encrypting xlsx file greater than 2gb fails\">stackoverflow.com/questions/55658495/&hellip;</a> - it seems like TempFilePOIFSFileSystem is not likely to be enough. POI uses ints to track size and these are likely to overflow when the data is too big."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1694518575,"post_id":77085994,"comment_id":135898556,"body_markdown":"There have been a few code changes since that previous issue - so it might still be worth trying TempFilePOIFSFileSystem to see if it works.","body":"There have been a few code changes since that previous issue - so it might still be worth trying TempFilePOIFSFileSystem to see if it works."},{"owner":{"account_id":226736,"reputation":2243,"user_id":487940,"accept_rate":79,"display_name":"harsimranb"},"score":0,"creation_date":1694533517,"post_id":77085994,"comment_id":135902222,"body_markdown":"Thank you! `TempFilePOIFSFileSystem` worked for file-size upwards of 3GB. You can add this as the answer.","body":"Thank you! <code>TempFilePOIFSFileSystem</code> worked for file-size upwards of 3GB. You can add this as the answer."}],"answers":[{"tags":[],"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694549342,"creation_date":1694549342,"answer_id":77092388,"question_id":77085994,"body_markdown":"POI 5.2.3 has TempFilePOIFSFileSystem - a subclass of POIFSFileSystem. TempFilePOIFSFileSystem should be used when encrypting very large files. POIFSFileSystem uses a byte array to process the data and this can only handle 2Gb of decompressed data.","title":"Apache POI Password-Protect Large 2GB PowerPoint File","body":"<p>POI 5.2.3 has TempFilePOIFSFileSystem - a subclass of POIFSFileSystem. TempFilePOIFSFileSystem should be used when encrypting very large files. POIFSFileSystem uses a byte array to process the data and this can only handle 2Gb of decompressed data.</p>\n"}],"owner":{"account_id":226736,"reputation":2243,"user_id":487940,"accept_rate":79,"display_name":"harsimranb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77092388,"answer_count":1,"score":0,"last_activity_date":1694549342,"creation_date":1694490706,"question_id":77085994,"body_markdown":"I am trying to password-encrypt very large PPTX files (2GB) using Apache POI.  How can I use Apache POI Standard Encryption to encrypt 2GB PPTX files (there are many videos embedded in the PowerPoint)?\r\n\r\nI&#39;ve set `IOUtils.setByteArrayMaxOverride(Integer.MAX_VALUE);` (to the maximum allowed value) and also played around with other [large file configurations](https://poi.apache.org/components/configuration.html):\r\n```\r\nZipSecureFile.setMinInflateRatio(-1.0);\r\nZipInputStreamZipEntrySource.setThresholdBytesForTempFiles(50000000);\r\nZipPackage.setUseTempFilePackageParts(true);\r\n```\r\nRegardless, I&#39;m getting the same **exception**:\r\n```\r\nException in thread &quot;main&quot; org.apache.poi.util.RecordFormatException: Can&#39;t allocate an array &gt; 2147483647\r\n        at org.apache.poi.util.IOUtils.safelyAllocateCheck(IOUtils.java:559)\r\n        at org.apache.poi.util.IOUtils.safelyAllocate(IOUtils.java:547)\r\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.extend(ByteArrayBackedDataSource.java:86)\r\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.write(ByteArrayBackedDataSource.java:63)\r\n        at org.apache.poi.poifs.filesystem.POIFSFileSystem.createBlockIfNeeded(POIFSFileSystem.java:493)\r\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.createBlockIfNeeded(POIFSStream.java:272)\r\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.write(POIFSStream.java:294)\r\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:144)\r\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:124)\r\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:87)\r\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:137)\r\n        at org.apache.poi.util.LittleEndianOutputStream.write(LittleEndianOutputStream.java:89)\r\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:410)\r\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:387)\r\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.processPOIFSWriterEvent(StandardEncryptor.java:201)\r\n        at org.apache.poi.poifs.filesystem.POIFSDocument.&lt;init&gt;(POIFSDocument.java:112)\r\n        at org.apache.poi.poifs.filesystem.DirectoryNode.createDocument(DirectoryNode.java:380)\r\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.writeToPOIFS(StandardEncryptor.java:185)\r\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.close(StandardEncryptor.java:175)\r\n        at Program.encryptPPTXFile(Program.java:108)\r\n```\r\n\r\n**Here is my code:**\r\n```\r\ntry(POIFSFileSystem fs = new POIFSFileSystem()) {\r\n    EncryptionInfo info = new EncryptionInfo(EncryptionMode.standard);\r\n    Encryptor encryptor = info.getEncryptor();\r\n    encryptor.confirmPassword(password);\r\n\r\n    // Read in an existing OOXML file and write to encrypted output stream\r\n    try (OPCPackage opc = OPCPackage.open(inputPath);\r\n        OutputStream os = encryptor.getDataStream(fs)) {\r\n        opc.save(os);\r\n    }\r\n\r\n    // Write out the encrypted version\r\n    try (FileOutputStream fos = new FileOutputStream(outputPath)) {\r\n        fs.writeFilesystem(fos);\r\n    }\r\n\r\n    System.out.println(&quot;Document successfully encrypted&quot;);\r\n\r\n} catch (IOException | GeneralSecurityException | InvalidFormatException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Apache POI Password-Protect Large 2GB PowerPoint File","body":"<p>I am trying to password-encrypt very large PPTX files (2GB) using Apache POI.  How can I use Apache POI Standard Encryption to encrypt 2GB PPTX files (there are many videos embedded in the PowerPoint)?</p>\n<p>I've set <code>IOUtils.setByteArrayMaxOverride(Integer.MAX_VALUE);</code> (to the maximum allowed value) and also played around with other <a href=\"https://poi.apache.org/components/configuration.html\" rel=\"nofollow noreferrer\">large file configurations</a>:</p>\n<pre><code>ZipSecureFile.setMinInflateRatio(-1.0);\nZipInputStreamZipEntrySource.setThresholdBytesForTempFiles(50000000);\nZipPackage.setUseTempFilePackageParts(true);\n</code></pre>\n<p>Regardless, I'm getting the same <strong>exception</strong>:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.poi.util.RecordFormatException: Can't allocate an array &gt; 2147483647\n        at org.apache.poi.util.IOUtils.safelyAllocateCheck(IOUtils.java:559)\n        at org.apache.poi.util.IOUtils.safelyAllocate(IOUtils.java:547)\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.extend(ByteArrayBackedDataSource.java:86)\n        at org.apache.poi.poifs.nio.ByteArrayBackedDataSource.write(ByteArrayBackedDataSource.java:63)\n        at org.apache.poi.poifs.filesystem.POIFSFileSystem.createBlockIfNeeded(POIFSFileSystem.java:493)\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.createBlockIfNeeded(POIFSStream.java:272)\n        at org.apache.poi.poifs.filesystem.POIFSStream$StreamBlockByteBuffer.write(POIFSStream.java:294)\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:144)\n        at org.apache.poi.poifs.filesystem.DocumentOutputStream.write(DocumentOutputStream.java:124)\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:87)\n        at java.base/java.io.FilterOutputStream.write(FilterOutputStream.java:137)\n        at org.apache.poi.util.LittleEndianOutputStream.write(LittleEndianOutputStream.java:89)\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:410)\n        at org.apache.poi.util.IOUtils.copy(IOUtils.java:387)\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.processPOIFSWriterEvent(StandardEncryptor.java:201)\n        at org.apache.poi.poifs.filesystem.POIFSDocument.&lt;init&gt;(POIFSDocument.java:112)\n        at org.apache.poi.poifs.filesystem.DirectoryNode.createDocument(DirectoryNode.java:380)\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.writeToPOIFS(StandardEncryptor.java:185)\n        at org.apache.poi.poifs.crypt.standard.StandardEncryptor$StandardCipherOutputStream.close(StandardEncryptor.java:175)\n        at Program.encryptPPTXFile(Program.java:108)\n</code></pre>\n<p><strong>Here is my code:</strong></p>\n<pre><code>try(POIFSFileSystem fs = new POIFSFileSystem()) {\n    EncryptionInfo info = new EncryptionInfo(EncryptionMode.standard);\n    Encryptor encryptor = info.getEncryptor();\n    encryptor.confirmPassword(password);\n\n    // Read in an existing OOXML file and write to encrypted output stream\n    try (OPCPackage opc = OPCPackage.open(inputPath);\n        OutputStream os = encryptor.getDataStream(fs)) {\n        opc.save(os);\n    }\n\n    // Write out the encrypted version\n    try (FileOutputStream fos = new FileOutputStream(outputPath)) {\n        fs.writeFilesystem(fos);\n    }\n\n    System.out.println(&quot;Document successfully encrypted&quot;);\n\n} catch (IOException | GeneralSecurityException | InvalidFormatException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","sockets","io"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1694548151,"post_id":77092172,"comment_id":135904981,"body_markdown":"Have you considered having two threads for each client, one for reading from the socket and one for writing to it? The reader thread is normally blocking on a read.","body":"Have you considered having two threads for each client, one for reading from the socket and one for writing to it? The reader thread is normally blocking on a read."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1694548317,"post_id":77092172,"comment_id":135905024,"body_markdown":"@PresidentJamesK.Polk I have, but I still need to figure out how to avoid both checking the condition all the time and introducing synchronizers shared by clients and the server. When is it time to read?","body":"@PresidentJamesK.Polk I have, but I still need to figure out how to avoid both checking the condition all the time and introducing synchronizers shared by clients and the server. When is it time to read?"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1694551029,"post_id":77092172,"comment_id":135905505,"body_markdown":"Sockets operate in blocking mode by default.  So you could simply read from it unconditionally and let it block the calling thread until data arrives. If you don&#39;t want to block the calling thread, then you will have to use non-blocking/asynchronous I/O, such as via a `Selector`, to notify you when data is available to read.","body":"Sockets operate in blocking mode by default.  So you could simply read from it unconditionally and let it block the calling thread until data arrives. If you don&#39;t want to block the calling thread, then you will have to use non-blocking/asynchronous I/O, such as via a <code>Selector</code>, to notify you when data is available to read."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694564166,"post_id":77092172,"comment_id":135906983,"body_markdown":"&quot;How does that server know whether a client wrote something so that it can read from the socket&#39;s input stream?&quot;: *by reading from the input stream.* No doubt someone will suggest `InputStream.available()`, but that doesn&#39;t guarantee that a complete message is available, unless you magically know the length in advance, so it isn&#39;t a viable solution.","body":"&quot;How does that server know whether a client wrote something so that it can read from the socket&#39;s input stream?&quot;: <i>by reading from the input stream.</i> No doubt someone will suggest <code>InputStream.available()</code>, but that doesn&#39;t guarantee that a complete message is available, unless you magically know the length in advance, so it isn&#39;t a viable solution."}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694547130,"creation_date":1694547130,"question_id":77092172,"body_markdown":"I&#39;m trying to implement a ridiculously simplistic chat client and a chat server. My goal is to learn to get comfortable with `Socket`s rather than come up with a reasonable chat implementation. However, I want to ensure that common sense is respected too. This question is about server code\r\n\r\nSuppose, a connection was established (`accept()` returned) and now the server needs to service that particular client (using a separate thread as it should)\r\n```java\r\npublic class SimpleChatServer {\r\n    // possibly something else\r\n    private static final ExecutorService executorService = Executors.newCachedThreadPool();\r\n    private static final List&lt;OutputStream&gt; outputStreamList = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        start();\r\n    }\r\n\r\n    @SneakyThrows\r\n    private static void start() {\r\n        try (var serverSocket = new ServerSocket(5000)) {\r\n            while (true) {\r\n                Socket socket = serverSocket.accept();\r\n                executorService.submit(() -&gt; serviceClient(socket));\r\n            }\r\n        }\r\n    }\r\n```\r\nNow, I need a reasonable `serviceClient()` implementation. The first step is to register that socket&#39;s output stream because the server needs to read incoming strings and &quot;broadcast&quot; them to every connected client\r\n```java\r\n    private static void serviceClient(Socket socket) {\r\n        registerOutputStream(socket);\r\n        // some other code I haven&#39;t written yet\r\n    }\r\n```\r\n```java\r\n    private static void registerOutputStream(Socket socket) throws IOException {\r\n        // so that I &quot;foreach&quot; it once I receive a message to broadcast\r\n        outputStreamList.add(socket.getOutputStream());\r\n    }\r\n```\r\nNow I&#39;m at a loss. How does that server know whether a client wrote something so that it can read from the socket&#39;s input stream? I need the code that basically says, &quot;If the input stream has something, read and broadcast it to clients; if not, just keep on waiting till it does&quot;. Sounds a lot like an infinite loop with constant condition checks (inefficient). Or a client needs to be able to communicate to the server, &quot;I wrote, you can read&quot;. It could be implemented using concurrency synchronization mechanisms, but it&#39;s a weird design feature to have a client and a server to have shared synchronization objects (even for such a simplistic app). What is the reasonable solution to this?\r\n\r\nI don&#39;t think [&quot;have you looked asynchronous IO&quot;][1] may count for an adequate answer. If it&#39;s indeed what I should consider, can you provide some details (possibly simple code snippets)? I&#39;m not very familiar with that package\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1941929/22186847","title":"Server reading from the socket&#39;s input stream only if it has data","body":"<p>I'm trying to implement a ridiculously simplistic chat client and a chat server. My goal is to learn to get comfortable with <code>Socket</code>s rather than come up with a reasonable chat implementation. However, I want to ensure that common sense is respected too. This question is about server code</p>\n<p>Suppose, a connection was established (<code>accept()</code> returned) and now the server needs to service that particular client (using a separate thread as it should)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleChatServer {\n    // possibly something else\n    private static final ExecutorService executorService = Executors.newCachedThreadPool();\n    private static final List&lt;OutputStream&gt; outputStreamList = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        start();\n    }\n\n    @SneakyThrows\n    private static void start() {\n        try (var serverSocket = new ServerSocket(5000)) {\n            while (true) {\n                Socket socket = serverSocket.accept();\n                executorService.submit(() -&gt; serviceClient(socket));\n            }\n        }\n    }\n</code></pre>\n<p>Now, I need a reasonable <code>serviceClient()</code> implementation. The first step is to register that socket's output stream because the server needs to read incoming strings and &quot;broadcast&quot; them to every connected client</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void serviceClient(Socket socket) {\n        registerOutputStream(socket);\n        // some other code I haven't written yet\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void registerOutputStream(Socket socket) throws IOException {\n        // so that I &quot;foreach&quot; it once I receive a message to broadcast\n        outputStreamList.add(socket.getOutputStream());\n    }\n</code></pre>\n<p>Now I'm at a loss. How does that server know whether a client wrote something so that it can read from the socket's input stream? I need the code that basically says, &quot;If the input stream has something, read and broadcast it to clients; if not, just keep on waiting till it does&quot;. Sounds a lot like an infinite loop with constant condition checks (inefficient). Or a client needs to be able to communicate to the server, &quot;I wrote, you can read&quot;. It could be implemented using concurrency synchronization mechanisms, but it's a weird design feature to have a client and a server to have shared synchronization objects (even for such a simplistic app). What is the reasonable solution to this?</p>\n<p>I don't think <a href=\"https://stackoverflow.com/a/1941929/22186847\">&quot;have you looked asynchronous IO&quot;</a> may count for an adequate answer. If it's indeed what I should consider, can you provide some details (possibly simple code snippets)? I'm not very familiar with that package</p>\n"},{"tags":["java","android","firebase","google-play-services"],"answers":[{"tags":[],"owner":{"account_id":3478782,"reputation":33,"user_id":2911379,"display_name":"Ataman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689889302,"creation_date":1689889302,"answer_id":76733888,"question_id":73790105,"body_markdown":"have you found a solution how to get GoogleSignInAccount from Google Play Games v2 sign in method? Actually we need only AuthCredential to pass in firebaseAuthWithPlayGames().\r\n\r\n    AuthCredential credential = PlayGamesAuthProvider.getCredential(googleSignInAccount.getServerAuthCode());\r\n\r\nBut how to get this GoogleSignInAccount?\r\nMay be GoogleSignIn.getLastSignedInAccount(appContext); will pass, I haven&#39;t checked it yet.","title":"How to get GoogleSignInAccount object when signing in with Google Play Games Services V2","body":"<p>have you found a solution how to get GoogleSignInAccount from Google Play Games v2 sign in method? Actually we need only AuthCredential to pass in firebaseAuthWithPlayGames().</p>\n<pre><code>AuthCredential credential = PlayGamesAuthProvider.getCredential(googleSignInAccount.getServerAuthCode());\n</code></pre>\n<p>But how to get this GoogleSignInAccount?\nMay be GoogleSignIn.getLastSignedInAccount(appContext); will pass, I haven't checked it yet.</p>\n"},{"tags":[],"owner":{"account_id":15920776,"reputation":1,"user_id":12985027,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694546561,"creation_date":1694546436,"answer_id":77092109,"question_id":73790105,"body_markdown":"You need only AuthCode from PlayGamesClient you can get it like this:\r\n   \r\n\r\n    val gamesSignInClient = PlayGames.getGamesSignInClient(this) /* Activity */\r\n        gamesSignInClient\r\n            .requestServerSideAccess(\r\n                getString(R.string.default_web_client_id),  /* Your web client id */\r\n                false\r\n            )\r\n            .addOnCompleteListener { task: Task&lt;String?&gt; -&gt;\r\n                if (task.isSuccessful) {\r\n                    val serverAuthToken = task.result\r\n                    if (serverAuthToken != null) {\r\n                        firebaseAuthWithPlayGames(serverAuthToken)\r\n                    }\r\n                    \r\n                } else {\r\n                    // Failed to retrieve authentication code.\r\n                    Toast.makeText(\r\n                        baseContext,\r\n                        &quot;Authentication failed.&quot;,\r\n                        Toast.LENGTH_SHORT,\r\n                    ).show()\r\n                }\r\n            }\r\n\r\n    private fun firebaseAuthWithPlayGames(serverAuthCode: String) {\r\n        val auth = Firebase.auth\r\n        val credential = PlayGamesAuthProvider.getCredential(serverAuthCode)\r\n        auth.signInWithCredential(credential)\r\n            .addOnCompleteListener(this) { task -&gt;\r\n                if (task.isSuccessful) {\r\n                    // Sign in success, update UI with the signed-in user&#39;s information\r\n                    Log.d(TAG, &quot;signInWithCredential:success&quot;)\r\n                    val user = auth.currentUser\r\n\r\n                } else {\r\n                    // If sign in fails, display a message to the user.\r\n                    Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.exception)\r\n                    Toast.makeText(\r\n                        baseContext,\r\n                        &quot;Authentication failed.&quot;,\r\n                        Toast.LENGTH_SHORT,\r\n                    ).show()\r\n\r\n                }\r\n\r\n                // ...\r\n            }\r\n    }\r\n\r\n","title":"How to get GoogleSignInAccount object when signing in with Google Play Games Services V2","body":"<p>You need only AuthCode from PlayGamesClient you can get it like this:</p>\n<pre><code>val gamesSignInClient = PlayGames.getGamesSignInClient(this) /* Activity */\n    gamesSignInClient\n        .requestServerSideAccess(\n            getString(R.string.default_web_client_id),  /* Your web client id */\n            false\n        )\n        .addOnCompleteListener { task: Task&lt;String?&gt; -&gt;\n            if (task.isSuccessful) {\n                val serverAuthToken = task.result\n                if (serverAuthToken != null) {\n                    firebaseAuthWithPlayGames(serverAuthToken)\n                }\n                \n            } else {\n                // Failed to retrieve authentication code.\n                Toast.makeText(\n                    baseContext,\n                    &quot;Authentication failed.&quot;,\n                    Toast.LENGTH_SHORT,\n                ).show()\n            }\n        }\n\nprivate fun firebaseAuthWithPlayGames(serverAuthCode: String) {\n    val auth = Firebase.auth\n    val credential = PlayGamesAuthProvider.getCredential(serverAuthCode)\n    auth.signInWithCredential(credential)\n        .addOnCompleteListener(this) { task -&gt;\n            if (task.isSuccessful) {\n                // Sign in success, update UI with the signed-in user's information\n                Log.d(TAG, &quot;signInWithCredential:success&quot;)\n                val user = auth.currentUser\n\n            } else {\n                // If sign in fails, display a message to the user.\n                Log.w(TAG, &quot;signInWithCredential:failure&quot;, task.exception)\n                Toast.makeText(\n                    baseContext,\n                    &quot;Authentication failed.&quot;,\n                    Toast.LENGTH_SHORT,\n                ).show()\n\n            }\n\n            // ...\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":24112402,"reputation":21,"user_id":18082814,"display_name":"AnMe3z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694546561,"creation_date":1663692611,"question_id":73790105,"body_markdown":"I&#39;m building an android game with java and I&#39;m adding logging in my users with **Google Play Games Services V2** and **Firebase**. \r\n\r\nI have no problem integrating the code from the Play Games website (https://developers.google.com/games/services/android/signin#migrate_to_play_games_services_sign_in_v2) but when it comes to Firebases website (https://firebase.google.com/docs/auth/android/play-games) I&#39;m stuck. \r\n\r\nThere is a crucial method `firebaseAuthWithPlayGames()` and it requires GoogleSignInAccount object but I don&#39;t know how to get it.\r\n\r\nThanks!","title":"How to get GoogleSignInAccount object when signing in with Google Play Games Services V2","body":"<p>I'm building an android game with java and I'm adding logging in my users with <strong>Google Play Games Services V2</strong> and <strong>Firebase</strong>.</p>\n<p>I have no problem integrating the code from the Play Games website (<a href=\"https://developers.google.com/games/services/android/signin#migrate_to_play_games_services_sign_in_v2\" rel=\"nofollow noreferrer\">https://developers.google.com/games/services/android/signin#migrate_to_play_games_services_sign_in_v2</a>) but when it comes to Firebases website (<a href=\"https://firebase.google.com/docs/auth/android/play-games\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/play-games</a>) I'm stuck.</p>\n<p>There is a crucial method <code>firebaseAuthWithPlayGames()</code> and it requires GoogleSignInAccount object but I don't know how to get it.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-security","upgrade","sha","password-encryption"],"answers":[{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694505573,"creation_date":1694439345,"answer_id":77082108,"question_id":77066736,"body_markdown":"I think you will find the answer in that post:\r\n\r\nhttps://stackoverflow.com/questions/19479116/how-to-use-spring-standardpasswordencode-and-get-salt-generate\r\n\r\n    public boolean matches(CharSequence rawPassword, String encodedPassword) {\r\n        byte[] digested = decode(encodedPassword);\r\n        byte[] salt = subArray(digested, 0, saltGenerator.getKeyLength());\r\n        return matches(digested, digest(rawPassword, salt));\r\n    }\r\n\r\nThis is not very clear in documentation https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/StandardPasswordEncoder.html :\r\n\r\n&gt; The digest algorithm is invoked on the concatenated bytes of the salt, secret and password.\r\n","title":"Migration of spring-security-core 3.2.4-RELEASE to spring-security-core 5.8.6. Facing issues with password encoding","body":"<p>I think you will find the answer in that post:</p>\n<p><a href=\"https://stackoverflow.com/questions/19479116/how-to-use-spring-standardpasswordencode-and-get-salt-generate\">How to use Spring StandardPasswordEncode and Get Salt Generate?</a></p>\n<pre><code>public boolean matches(CharSequence rawPassword, String encodedPassword) {\n    byte[] digested = decode(encodedPassword);\n    byte[] salt = subArray(digested, 0, saltGenerator.getKeyLength());\n    return matches(digested, digest(rawPassword, salt));\n}\n</code></pre>\n<p>This is not very clear in documentation <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/StandardPasswordEncoder.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/StandardPasswordEncoder.html</a> :</p>\n<blockquote>\n<p>The digest algorithm is invoked on the concatenated bytes of the salt, secret and password.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694546207,"creation_date":1694489540,"answer_id":77085929,"question_id":77066736,"body_markdown":"Firstly `ShaPasswordEncoder` is replaced by `LdapShaPasswordEncoder`. Think you can simply replace to use it to have a quick fix on your build problem.\r\n\r\nBut using `LdapShaPasswordEncoder` to encode password is considered to be insecure. Although there is no plan it will be removed based on its [javadoc][1], it is recommended to migrate using a more secure encoder such as bcrypt for encoding new users&#39; password and also think a strategy to migrate the existing users&#39; password to encode with this more secure encoder.\r\n\r\n[`DelegatingPasswordEncoder`][2] is designed to facilitate such migration. For example if you use :\r\n\r\n``` java  \r\nMap&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\nencoders.put(&quot;SSHA&quot;, new LdapShaPasswordEncoder());\r\nencoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\r\nPasswordEncoder  passwordEncoder = new DelegatingPasswordEncoder(&quot;bcrypt&quot;, encoders); \r\n```\r\n\r\nThen the first parameter of `DelegatingPasswordEncoder` &#39;s constructor means it will use `BCryptPasswordEncoder`  to encode the password for the new users.  For matching to see if the provided password matched with the existing password (e.g. during login) , it will use `LdapShaPasswordEncoder` to decode the existing password if the password starts with the prefix `{SSHA}` which should be if you use `ShaPasswordEncoder` or `LdapShaPasswordEncoder` to encode it.\r\n\r\nFor the migration strategy of migrating the existing user to use a more secure password encoder,  you can refer to [this][3] for some ideas.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/LdapShaPasswordEncoder.html\r\n  [2]: https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage-dpe\r\n  [3]: https://stackoverflow.com/questions/17240744/spring-security-3-1-4-and-shapasswordencoder-deprecation","title":"Migration of spring-security-core 3.2.4-RELEASE to spring-security-core 5.8.6. Facing issues with password encoding","body":"<p>Firstly <code>ShaPasswordEncoder</code> is replaced by <code>LdapShaPasswordEncoder</code>. Think you can simply replace to use it to have a quick fix on your build problem.</p>\n<p>But using <code>LdapShaPasswordEncoder</code> to encode password is considered to be insecure. Although there is no plan it will be removed based on its <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/crypto/password/LdapShaPasswordEncoder.html\" rel=\"nofollow noreferrer\">javadoc</a>, it is recommended to migrate using a more secure encoder such as bcrypt for encoding new users' password and also think a strategy to migrate the existing users' password to encode with this more secure encoder.</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html#authentication-password-storage-dpe\" rel=\"nofollow noreferrer\"><code>DelegatingPasswordEncoder</code></a> is designed to facilitate such migration. For example if you use :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\nencoders.put(&quot;SSHA&quot;, new LdapShaPasswordEncoder());\nencoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\nPasswordEncoder  passwordEncoder = new DelegatingPasswordEncoder(&quot;bcrypt&quot;, encoders); \n</code></pre>\n<p>Then the first parameter of <code>DelegatingPasswordEncoder</code> 's constructor means it will use <code>BCryptPasswordEncoder</code>  to encode the password for the new users.  For matching to see if the provided password matched with the existing password (e.g. during login) , it will use <code>LdapShaPasswordEncoder</code> to decode the existing password if the password starts with the prefix <code>{SSHA}</code> which should be if you use <code>ShaPasswordEncoder</code> or <code>LdapShaPasswordEncoder</code> to encode it.</p>\n<p>For the migration strategy of migrating the existing user to use a more secure password encoder,  you can refer to <a href=\"https://stackoverflow.com/questions/17240744/spring-security-3-1-4-and-shapasswordencoder-deprecation\">this</a> for some ideas.</p>\n"}],"owner":{"account_id":29394799,"reputation":31,"user_id":22522393,"display_name":"Pranav Siddhant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694546207,"creation_date":1694174665,"question_id":77066736,"body_markdown":"[I am getting this error on ant build ](https://i.stack.imgur.com/gY4cO.png)\r\nThis is my existing code --&gt;\r\n```\r\nimport org.springframework.security.authentication.encoding.ShaPasswordEncoder;\r\n\r\npublic static String encodePassword(String password, String salt) {\r\n\r\n        byte[] unencodedPassword = password.getBytes();\r\n       ShaPasswordEncoder encoder=new ShaPasswordEncoder();\r\n       String  encodedPwd= encoder.encodePassword(password,null);\r\n       encodedPwd = encoder.encodePassword(encodedPwd,salt);\r\n       return encodedPwd;\r\n}\r\n public static String changeEncodedPassword(String password, String salt) {\r\n       ShaPasswordEncoder encoder=new ShaPasswordEncoder();\r\n       \r\n       String encodedPwd = encoder.encodePassword(password,salt);\r\n       \r\n       return encodedPwd;\r\n     }\r\n public static String encodSH2Password(String password, String salt) {\r\n         ShaPasswordEncoder encoder=new ShaPasswordEncoder(256);\r\n         \r\n         String encodedPwd = encoder.encodePassword(password,salt);\r\n         \r\n         return encodedPwd;\r\n       } \r\n\r\n```\r\nNow, ShaPasswordEncoder has been deprecated in 5.8.6 jar \r\n\r\nSo, I searched through the internet and I found DelegatingPasswordEncoder should be used and an additional jar i.e. spring-security-crypto is to be imported. So, I wrote the following statement to change the encoding from previous version to recent one. \r\n```\r\nimport org.springframework.security.crypto.password.DelegatingPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.crypto.password.StandardPasswordEncoder;\r\n\r\n public static String encodePass() {\r\n\t\t \r\n\t\t String idForEncode = &quot;sha256&quot;;\r\n\t\t Map &lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\n\t\t encoders.put(&quot;sha256&quot;, new StandardPasswordEncoder());\r\n\t\t PasswordEncoder passwordEncoder = new DelegatingPasswordEncoder(idForEncode, encoders);\r\n\t\treturn idForEncode;\r\n\r\n\t }\r\n\r\n```\r\n\r\nSince we have used salt value in case of ShaPasswordEncoder but we can&#39;t use that in DelegatingPasswordEncoder ,so I want to know an approach how to write the migration code from previous version to new one.\r\nAlso, this StandardPasswordEncoder has been deprecated so what alternative should I use?\r\n","title":"Migration of spring-security-core 3.2.4-RELEASE to spring-security-core 5.8.6. Facing issues with password encoding","body":"<p><a href=\"https://i.stack.imgur.com/gY4cO.png\" rel=\"nofollow noreferrer\">I am getting this error on ant build </a>\nThis is my existing code --&gt;</p>\n<pre><code>import org.springframework.security.authentication.encoding.ShaPasswordEncoder;\n\npublic static String encodePassword(String password, String salt) {\n\n        byte[] unencodedPassword = password.getBytes();\n       ShaPasswordEncoder encoder=new ShaPasswordEncoder();\n       String  encodedPwd= encoder.encodePassword(password,null);\n       encodedPwd = encoder.encodePassword(encodedPwd,salt);\n       return encodedPwd;\n}\n public static String changeEncodedPassword(String password, String salt) {\n       ShaPasswordEncoder encoder=new ShaPasswordEncoder();\n       \n       String encodedPwd = encoder.encodePassword(password,salt);\n       \n       return encodedPwd;\n     }\n public static String encodSH2Password(String password, String salt) {\n         ShaPasswordEncoder encoder=new ShaPasswordEncoder(256);\n         \n         String encodedPwd = encoder.encodePassword(password,salt);\n         \n         return encodedPwd;\n       } \n\n</code></pre>\n<p>Now, ShaPasswordEncoder has been deprecated in 5.8.6 jar</p>\n<p>So, I searched through the internet and I found DelegatingPasswordEncoder should be used and an additional jar i.e. spring-security-crypto is to be imported. So, I wrote the following statement to change the encoding from previous version to recent one.</p>\n<pre><code>import org.springframework.security.crypto.password.DelegatingPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.crypto.password.StandardPasswordEncoder;\n\n public static String encodePass() {\n         \n         String idForEncode = &quot;sha256&quot;;\n         Map &lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\n         encoders.put(&quot;sha256&quot;, new StandardPasswordEncoder());\n         PasswordEncoder passwordEncoder = new DelegatingPasswordEncoder(idForEncode, encoders);\n        return idForEncode;\n\n     }\n\n</code></pre>\n<p>Since we have used salt value in case of ShaPasswordEncoder but we can't use that in DelegatingPasswordEncoder ,so I want to know an approach how to write the migration code from previous version to new one.\nAlso, this StandardPasswordEncoder has been deprecated so what alternative should I use?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1505927800,"post_id":46327736,"comment_id":79617140,"body_markdown":"What plugin are you using?","body":"What plugin are you using?"},{"owner":{"account_id":9298348,"reputation":482,"user_id":6904643,"display_name":"dosenfant"},"score":1,"creation_date":1505927883,"post_id":46327736,"comment_id":79617179,"body_markdown":"I&#39;m using `java`, `application` and `eclipse`.","body":"I&#39;m using <code>java</code>, <code>application</code> and <code>eclipse</code>."}],"answers":[{"comments":[{"owner":{"account_id":9298348,"reputation":482,"user_id":6904643,"display_name":"dosenfant"},"score":0,"creation_date":1505979693,"post_id":46333199,"comment_id":79635934,"body_markdown":"This is exactly what I needed!","body":"This is exactly what I needed!"}],"tags":[],"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1505950305,"creation_date":1505950305,"answer_id":46333199,"question_id":46327736,"body_markdown":"You don&#39;t want to care about the creation of the start scripts (the `startScripts` task), but about the creation of the zip file (the `distZip` task) to control where the files will be put. For this purpose, you could directly use the `distZip` task or the [`DistributionContainer`](https://docs.gradle.org/current/javadoc/org/gradle/api/distribution/DistributionContainer.html) from the Gradle Distribution plugin, which is automatically applied with the Gradle Application plugin. The `DistributionContainer` allows you to manage the creation of multiple distributions in your Gradle project and the Application plugin uses the `main` distribution by default.\r\n\r\n\tdistributions.main {\r\n\t\tcontents {\r\n\t\t\tfrom startScripts\r\n\t\t}\r\n\t}\r\n\r\nThis piece of code simply adds the outputs of the `startScripts` tasks to the `main` distribution contents. They will be placed in the root folder of this distribution, since you did not specify a child `CopySpec` with an `into` method.\r\n\r\nI assume that you want your start scripts **only** in the root folder, but not in the `bin` folder as well. Since you can only exclude files of a `Copy` task based on their source path and not on their destination path, you&#39;ll need to exclude them when they are copied, via the `eachFile` method (because then their destination is known):\r\n\r\n\tdistZip {\r\n\t\teachFile { file -&gt;\r\n\t\t\tif (file.path.contains(&#39;bin&#39;)) {\r\n\t\t\t\tfile.exclude()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nOf course, this piece of code will remove the whole `bin` directory from the zip file, so you could need to redescribe the condition in the closure for other use cases.","title":"Customize place of start scripts in gradle build","body":"<p>You don't want to care about the creation of the start scripts (the <code>startScripts</code> task), but about the creation of the zip file (the <code>distZip</code> task) to control where the files will be put. For this purpose, you could directly use the <code>distZip</code> task or the <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/distribution/DistributionContainer.html\" rel=\"noreferrer\"><code>DistributionContainer</code></a> from the Gradle Distribution plugin, which is automatically applied with the Gradle Application plugin. The <code>DistributionContainer</code> allows you to manage the creation of multiple distributions in your Gradle project and the Application plugin uses the <code>main</code> distribution by default.</p>\n\n<pre><code>distributions.main {\n    contents {\n        from startScripts\n    }\n}\n</code></pre>\n\n<p>This piece of code simply adds the outputs of the <code>startScripts</code> tasks to the <code>main</code> distribution contents. They will be placed in the root folder of this distribution, since you did not specify a child <code>CopySpec</code> with an <code>into</code> method.</p>\n\n<p>I assume that you want your start scripts <strong>only</strong> in the root folder, but not in the <code>bin</code> folder as well. Since you can only exclude files of a <code>Copy</code> task based on their source path and not on their destination path, you'll need to exclude them when they are copied, via the <code>eachFile</code> method (because then their destination is known):</p>\n\n<pre><code>distZip {\n    eachFile { file -&gt;\n        if (file.path.contains('bin')) {\n            file.exclude()\n        }\n    }\n}\n</code></pre>\n\n<p>Of course, this piece of code will remove the whole <code>bin</code> directory from the zip file, so you could need to redescribe the condition in the closure for other use cases.</p>\n"},{"tags":[],"owner":{"account_id":14484872,"reputation":25,"user_id":10463139,"display_name":"ashishbg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694546125,"creation_date":1694546125,"answer_id":77092081,"question_id":46327736,"body_markdown":"For Gradle v8 the scripts have changed a bit. So, to set the `APP_HOME` properly I had do this:\r\n```\r\nstartScripts {\r\n    doLast {\r\n        def windowsScriptFile = file getWindowsScript()\r\n        def unixScriptFile = file getUnixScript()\r\n\r\n        windowsScriptFile.text = windowsScriptFile.text.replace(&#39;set APP_HOME=%DIRNAME%..&#39;, &#39;set APP_HOME=%DIRNAME%&#39;)\r\n        unixScriptFile.text = unixScriptFile.text.replace(&#39;APP_HOME=$( cd &quot;${APP_HOME:-./}..&quot; &amp;&amp; pwd -P ) || exit&#39;, &#39;APP_HOME=$( cd &quot;${APP_HOME:-./}&quot; &amp;&amp; pwd -P ) || exit&#39;)\r\n    }\r\n}\r\n```","title":"Customize place of start scripts in gradle build","body":"<p>For Gradle v8 the scripts have changed a bit. So, to set the <code>APP_HOME</code> properly I had do this:</p>\n<pre><code>startScripts {\n    doLast {\n        def windowsScriptFile = file getWindowsScript()\n        def unixScriptFile = file getUnixScript()\n\n        windowsScriptFile.text = windowsScriptFile.text.replace('set APP_HOME=%DIRNAME%..', 'set APP_HOME=%DIRNAME%')\n        unixScriptFile.text = unixScriptFile.text.replace('APP_HOME=$( cd &quot;${APP_HOME:-./}..&quot; &amp;&amp; pwd -P ) || exit', 'APP_HOME=$( cd &quot;${APP_HOME:-./}&quot; &amp;&amp; pwd -P ) || exit')\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9298348,"reputation":482,"user_id":6904643,"display_name":"dosenfant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1676,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46333199,"answer_count":2,"score":5,"last_activity_date":1694546125,"creation_date":1505926362,"question_id":46327736,"body_markdown":"I&#39;m new to gradle any trying to package a little project of mine. When building my distribution package, the structure is as follows:\r\n\r\n    my-project.zip\r\n    |\r\n    +- my-project\r\n       |\r\n       +- bin (containing start scripts)\r\n       +- lib\r\n       +- xyz (folders from src/dist)\r\n\r\nWhat I want to achieve is having the start scripts in the project root folder instead of the `bin` subfolder (I know that this is some kind of convention, but I also like to start my application from within the application folder):\r\n\r\n    my-project.zip\r\n    |\r\n    +- my-project\r\n       |\r\n       +- lib\r\n       +- xyz (folders from src/dist)\r\n       +- my-project.bat\r\n       +- my-project.sh\r\n\r\nIs this possible?\r\n\r\nI&#39;ve tried setting `tasks.startScripts.outputDir` but with no success (scripts were completely removed from the distribution package).\r\n\r\n**Update**\r\n\r\nIn addition to lu.koerfer&#39;s answer I had to modify the start scripts to take into account the changed APP_HOME:\r\n\r\n    startScripts {\r\n        startScripts.applicationName = artefactsBaseName\r\n        doLast {\r\n            def windowsScriptFile = file getWindowsScript()\r\n            def unixScriptFile = file getUnixScript()\r\n            windowsScriptFile.text = windowsScriptFile.text.replace(&#39;set APP_HOME=%DIRNAME%..&#39;, &#39;set APP_HOME=%DIRNAME%&#39;)\r\n            unixScriptFile.text = unixScriptFile.text.replace(&#39;cd &quot;`dirname \\&quot;$PRG\\&quot;`/..&quot; &gt;/dev/null&#39;, &#39;cd &quot;`dirname \\&quot;$PRG\\&quot;`&quot; &gt;/dev/null&#39;)\r\n        }\r\n    }","title":"Customize place of start scripts in gradle build","body":"<p>I'm new to gradle any trying to package a little project of mine. When building my distribution package, the structure is as follows:</p>\n\n<pre><code>my-project.zip\n|\n+- my-project\n   |\n   +- bin (containing start scripts)\n   +- lib\n   +- xyz (folders from src/dist)\n</code></pre>\n\n<p>What I want to achieve is having the start scripts in the project root folder instead of the <code>bin</code> subfolder (I know that this is some kind of convention, but I also like to start my application from within the application folder):</p>\n\n<pre><code>my-project.zip\n|\n+- my-project\n   |\n   +- lib\n   +- xyz (folders from src/dist)\n   +- my-project.bat\n   +- my-project.sh\n</code></pre>\n\n<p>Is this possible?</p>\n\n<p>I've tried setting <code>tasks.startScripts.outputDir</code> but with no success (scripts were completely removed from the distribution package).</p>\n\n<p><strong>Update</strong></p>\n\n<p>In addition to lu.koerfer's answer I had to modify the start scripts to take into account the changed APP_HOME:</p>\n\n<pre><code>startScripts {\n    startScripts.applicationName = artefactsBaseName\n    doLast {\n        def windowsScriptFile = file getWindowsScript()\n        def unixScriptFile = file getUnixScript()\n        windowsScriptFile.text = windowsScriptFile.text.replace('set APP_HOME=%DIRNAME%..', 'set APP_HOME=%DIRNAME%')\n        unixScriptFile.text = unixScriptFile.text.replace('cd \"`dirname \\\"$PRG\\\"`/..\" &gt;/dev/null', 'cd \"`dirname \\\"$PRG\\\"`\" &gt;/dev/null')\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","apache-spark","pyspark"],"answers":[{"tags":[],"owner":{"account_id":16560357,"reputation":603,"user_id":11966421,"display_name":"matkurek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619594670,"creation_date":1619594670,"answer_id":67295628,"question_id":66016355,"body_markdown":"One possible solution could be using `createTableColumnTypes` option during saving  and cast the troublemaking bigint column to varchar2 on oracle dbs side:\r\n\r\n\r\n    (correct_dtypes.write.\r\n    .option(&quot;createTableColumnTypes&quot;, &quot;ROW_ID VARCHAR2(18)&quot;)\r\n    .jdbc(&#39;jdbc:oracle:thin:@host:port/service&#39;,\r\n                              create_table, mode=&#39;overwrite&#39;,\r\n                              properties={&#39;user&#39;: &#39;user&#39;,\r\n                              &#39;password&#39;: &#39;password&#39;}))\r\n\r\n\r\n","title":"Why do I get &#39;getLong not implemented for class oracle.jdbc.driver.T4CRowidAccessor&#39; when creating a table in Oracle via JDBC?","body":"<p>One possible solution could be using <code>createTableColumnTypes</code> option during saving  and cast the troublemaking bigint column to varchar2 on oracle dbs side:</p>\n<pre><code>(correct_dtypes.write.\n.option(&quot;createTableColumnTypes&quot;, &quot;ROW_ID VARCHAR2(18)&quot;)\n.jdbc('jdbc:oracle:thin:@host:port/service',\n                          create_table, mode='overwrite',\n                          properties={'user': 'user',\n                          'password': 'password'}))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7334466,"reputation":13,"user_id":5586340,"display_name":"Fabian Fuentealba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694545993,"creation_date":1694545993,"answer_id":77092059,"question_id":66016355,"body_markdown":"the answer to solve that is the format of the ROWID column, which is not varchar, you must do it via this option for pyspark\r\n\r\n```\r\ndf = sc.read \\\r\n    .format(&quot;jdbc&quot;) \\\r\n    .option(&#39;driver&#39;, &#39;clase&#39;) \\\r\n    .option(&#39;url&#39;, &#39;url_jdbc&#39;) \\\r\n    .option(&#39;customSchema&#39;, &#39;ROWID VARCHAR(256), ORA_ROWSCN BIGINT&#39;)\r\n```","title":"Why do I get &#39;getLong not implemented for class oracle.jdbc.driver.T4CRowidAccessor&#39; when creating a table in Oracle via JDBC?","body":"<p>the answer to solve that is the format of the ROWID column, which is not varchar, you must do it via this option for pyspark</p>\n<pre><code>df = sc.read \\\n    .format(&quot;jdbc&quot;) \\\n    .option('driver', 'clase') \\\n    .option('url', 'url_jdbc') \\\n    .option('customSchema', 'ROWID VARCHAR(256), ORA_ROWSCN BIGINT')\n</code></pre>\n"}],"owner":{"account_id":5592924,"reputation":453,"user_id":7822853,"accept_rate":83,"display_name":"Pierre Delecto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694545993,"creation_date":1612294036,"question_id":66016355,"body_markdown":"I am attempting to write a Spark DataFrame to an Oracle table via JDBC. I am able to successfully connect and query the database but when I go to create a new table like this:\r\n\r\n```\r\ndf.write.jdbc(&#39;jdbc:oracle:thin:@host:port/service&#39;, create_table,\r\n              mode=&#39;overwrite&#39;,\r\n              properties={&#39;user&#39;: &#39;user&#39;, &#39;password&#39;: &#39;password&#39;]})\r\n```\r\n\r\nI get the error message ```java.sql.SQLException: Invalid column type: getLong not implemented for class oracle.jdbc.driver.T4CRowidAccessor```\r\n\r\nI suspect this has something to do with column ROW_ID that is ```df.dtypes``` ```bigint```. The ROW_IDs look something like the table below, which doesn&#39;t seem to agree with the infered datatype.\r\n\r\n| ROW_ID |\r\n| ------ |\r\n| AABBVMAGRAAAJfsAAA |\r\n| AABBVMAGRAAAJftAAA |\r\n| AABBVMAGRAAAJfyAAB |\r\n| AABBVMAGRAAAJfvAAB |\r\n| AABBVMAGRAAAJfwAAB |\r\n| AABBVMAGRAAAJf3AAI |\r\n\r\nEDIT:\r\n\r\nI tried casting the datatype from ```bigint``` to ```string``` using:\r\n\r\n```\r\nfrom pyspark.sql.functions import col\r\nfrom pyspark.sql.types import StringType\r\ncorrect_dtypes = df.withColumn(&#39;ROW_ID&#39;, col(&#39;ROW_ID&#39;).cast(StringType()))\r\ncorrect_dtypes.write.jdbc(&#39;jdbc:oracle:thin:@host:port/service&#39;, create_table,\r\n                          mode=&#39;overwrite&#39;,\r\n                          properties={&#39;user&#39;: &#39;user&#39;, &#39;password&#39;: &#39;password&#39;})\r\n```\r\n\r\nBut I am still getting the same error.","title":"Why do I get &#39;getLong not implemented for class oracle.jdbc.driver.T4CRowidAccessor&#39; when creating a table in Oracle via JDBC?","body":"<p>I am attempting to write a Spark DataFrame to an Oracle table via JDBC. I am able to successfully connect and query the database but when I go to create a new table like this:</p>\n<pre><code>df.write.jdbc('jdbc:oracle:thin:@host:port/service', create_table,\n              mode='overwrite',\n              properties={'user': 'user', 'password': 'password']})\n</code></pre>\n<p>I get the error message <code>java.sql.SQLException: Invalid column type: getLong not implemented for class oracle.jdbc.driver.T4CRowidAccessor</code></p>\n<p>I suspect this has something to do with column ROW_ID that is <code>df.dtypes</code> <code>bigint</code>. The ROW_IDs look something like the table below, which doesn't seem to agree with the infered datatype.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ROW_ID</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>AABBVMAGRAAAJfsAAA</td>\n</tr>\n<tr>\n<td>AABBVMAGRAAAJftAAA</td>\n</tr>\n<tr>\n<td>AABBVMAGRAAAJfyAAB</td>\n</tr>\n<tr>\n<td>AABBVMAGRAAAJfvAAB</td>\n</tr>\n<tr>\n<td>AABBVMAGRAAAJfwAAB</td>\n</tr>\n<tr>\n<td>AABBVMAGRAAAJf3AAI</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>EDIT:</p>\n<p>I tried casting the datatype from <code>bigint</code> to <code>string</code> using:</p>\n<pre><code>from pyspark.sql.functions import col\nfrom pyspark.sql.types import StringType\ncorrect_dtypes = df.withColumn('ROW_ID', col('ROW_ID').cast(StringType()))\ncorrect_dtypes.write.jdbc('jdbc:oracle:thin:@host:port/service', create_table,\n                          mode='overwrite',\n                          properties={'user': 'user', 'password': 'password'})\n</code></pre>\n<p>But I am still getting the same error.</p>\n"},{"tags":["java","linux","selenium-webdriver","jenkins","pom.xml"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694547560,"post_id":77091852,"comment_id":135904857,"body_markdown":"Please, [do not upload images of code/data/error](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557).","body":"Please, <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">do not upload images of code/data/error</a>."}],"answers":[{"tags":[],"owner":{"account_id":29417842,"reputation":64,"user_id":22540265,"display_name":"Haru"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694545946,"creation_date":1694545946,"answer_id":77092055,"question_id":77091852,"body_markdown":"The error message you&#39;re encountering indicates that Jenkins is trying to use an executable file named &quot;chromedriverAugust2023.exe,&quot; but it expects an executable that is compatible with Linux, not a Windows executable with a .exe extension.\r\n\r\nHere are some steps you can take to resolve this issue:\r\n\r\n1. **Use the Appropriate Linux-Compatible WebDriver:**\r\n   Ensure that you have downloaded the Linux-compatible version of ChromeDriver and placed it in the correct directory on your Linux server. You should not be using the .exe file on Linux. You can download the appropriate ChromeDriver for Linux from the official ChromeDriver website.\r\n\r\n2. **Update the WebDriver Path in Your Test Code:**\r\n   Make sure that your test framework (e.g., Selenium) is configured to use the correct path for the ChromeDriver executable on your Linux server. You may need to update the code that sets up the WebDriver to point to the Linux-compatible ChromeDriver location.\r\n\r\n3. **Check Jenkins Configuration:**\r\n   In your Jenkins job configuration, ensure that you are specifying the correct path to the Linux-compatible ChromeDriver. The path should be valid on the Linux machine where Jenkins is running.\r\n\r\n4. **File Permissions:**\r\n   Confirm that the ChromeDriver executable on your Linux server has the necessary executable permissions. You can use the `chmod` command to adjust the file permissions if needed.\r\n\r\n5. **Test Locally on Linux:**\r\n   Before integrating with Jenkins, try running your tests locally on the Linux server to ensure that they work as expected.\r\n\r\n6. **Environment Variables:**\r\n   Check if there are any environment variables or system properties that need to be set for your tests to run correctly on Linux. These settings might differ from your Windows environment.\r\n\r\n7. **Jenkins Workspace:**\r\n   Ensure that the path to the ChromeDriver executable matches the workspace directory specified in your Jenkins job configuration.\r\n\r\nOnce you&#39;ve addressed these points and configured your Jenkins job correctly to use the Linux-compatible ChromeDriver, your tests should run without issues on the Linux server. If you encounter further problems, please provide more details about your setup and configuration for more specific guidance.","title":"Error java.lang.IllegalStateException: It must be an executable file: /var/lib/jenkins/workspace/RTEJENKINSTESTING/drivers/chromedriverAugust2023.exe","body":"<p>The error message you're encountering indicates that Jenkins is trying to use an executable file named &quot;chromedriverAugust2023.exe,&quot; but it expects an executable that is compatible with Linux, not a Windows executable with a .exe extension.</p>\n<p>Here are some steps you can take to resolve this issue:</p>\n<ol>\n<li><p><strong>Use the Appropriate Linux-Compatible WebDriver:</strong>\nEnsure that you have downloaded the Linux-compatible version of ChromeDriver and placed it in the correct directory on your Linux server. You should not be using the .exe file on Linux. You can download the appropriate ChromeDriver for Linux from the official ChromeDriver website.</p>\n</li>\n<li><p><strong>Update the WebDriver Path in Your Test Code:</strong>\nMake sure that your test framework (e.g., Selenium) is configured to use the correct path for the ChromeDriver executable on your Linux server. You may need to update the code that sets up the WebDriver to point to the Linux-compatible ChromeDriver location.</p>\n</li>\n<li><p><strong>Check Jenkins Configuration:</strong>\nIn your Jenkins job configuration, ensure that you are specifying the correct path to the Linux-compatible ChromeDriver. The path should be valid on the Linux machine where Jenkins is running.</p>\n</li>\n<li><p><strong>File Permissions:</strong>\nConfirm that the ChromeDriver executable on your Linux server has the necessary executable permissions. You can use the <code>chmod</code> command to adjust the file permissions if needed.</p>\n</li>\n<li><p><strong>Test Locally on Linux:</strong>\nBefore integrating with Jenkins, try running your tests locally on the Linux server to ensure that they work as expected.</p>\n</li>\n<li><p><strong>Environment Variables:</strong>\nCheck if there are any environment variables or system properties that need to be set for your tests to run correctly on Linux. These settings might differ from your Windows environment.</p>\n</li>\n<li><p><strong>Jenkins Workspace:</strong>\nEnsure that the path to the ChromeDriver executable matches the workspace directory specified in your Jenkins job configuration.</p>\n</li>\n</ol>\n<p>Once you've addressed these points and configured your Jenkins job correctly to use the Linux-compatible ChromeDriver, your tests should run without issues on the Linux server. If you encounter further problems, please provide more details about your setup and configuration for more specific guidance.</p>\n"}],"owner":{"account_id":29425447,"reputation":1,"user_id":22546276,"display_name":"Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694545946,"creation_date":1694543964,"question_id":77091852,"body_markdown":"Hi I have a framework and it runs well with maven command in my windows PC, i am trying to run the same using Jenkins on a linux but getting this error.\r\n\r\nI tried a lot of things but cannot fix it...I also tried with and without .exe and with linux chrome driver\r\n\r\nJENKINS OUTPUT:\r\n\r\n12-09-2023 19:33:59 BaseTest:108:[INFO] - Quitting Driver\r\n 12-09-2023 19:33:59 BaseTest:109:[INFO] - ===============================================\r\n [ERROR] Tests run: 64, Failures: 32, Errors: 0, Skipped: 32, Time elapsed: 1.668 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n[ERROR] setUpDriver(TestCases.RTETests.RTEAPIAndUITests.RTEAPISportsPagesTests.RTEAPISportsResultsTests)  Time elapsed: 0.902 s  &lt;&lt;&lt; FAILURE!\r\njava.lang.IllegalStateException: It must be an executable file: /var/lib/jenkins/workspace/RTEJENKINSTESTING/drivers/chromedriverAugust2023.exe\r\n\r\n[enter image description here](https://i.stack.imgur.com/KVtEd.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/KMh8V.png)\r\n\r\n\r\nI am trying to make it run on the linux server as well.","title":"Error java.lang.IllegalStateException: It must be an executable file: /var/lib/jenkins/workspace/RTEJENKINSTESTING/drivers/chromedriverAugust2023.exe","body":"<p>Hi I have a framework and it runs well with maven command in my windows PC, i am trying to run the same using Jenkins on a linux but getting this error.</p>\n<p>I tried a lot of things but cannot fix it...I also tried with and without .exe and with linux chrome driver</p>\n<p>JENKINS OUTPUT:</p>\n<p>12-09-2023 19:33:59 BaseTest:108:[INFO] - Quitting Driver\n12-09-2023 19:33:59 BaseTest:109:[INFO] - ===============================================\n[ERROR] Tests run: 64, Failures: 32, Errors: 0, Skipped: 32, Time elapsed: 1.668 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] setUpDriver(TestCases.RTETests.RTEAPIAndUITests.RTEAPISportsPagesTests.RTEAPISportsResultsTests)  Time elapsed: 0.902 s  &lt;&lt;&lt; FAILURE!\njava.lang.IllegalStateException: It must be an executable file: /var/lib/jenkins/workspace/RTEJENKINSTESTING/drivers/chromedriverAugust2023.exe</p>\n<p><a href=\"https://i.stack.imgur.com/KVtEd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/KMh8V.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am trying to make it run on the linux server as well.</p>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":1791000,"reputation":5781,"user_id":1631414,"accept_rate":83,"display_name":"Classified"},"score":0,"creation_date":1380840939,"post_id":19170374,"comment_id":28360903,"body_markdown":"thx for the suggestion.  when I tried your code, it thinks {} is not null and prints my message, which is not what i want.  i dont&#39; know why it thinks {} is not null.","body":"thx for the suggestion.  when I tried your code, it thinks {} is not null and prints my message, which is not what i want.  i dont&#39; know why it thinks {} is not null."}],"tags":[],"owner":{"account_id":115492,"reputation":11986,"user_id":303254,"accept_rate":60,"display_name":"Orel Eraki"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380840009,"creation_date":1380840009,"answer_id":19170374,"question_id":19170338,"body_markdown":"Try:\r\n\r\n    if (record.has(&quot;problemkey&quot;) &amp;&amp; !record.isNull(&quot;problemkey&quot;)) {\r\n        // Do something with object.\r\n    }","title":"How to test if JSON Collection object is empty in Java","body":"<p>Try:</p>\n\n<pre><code>if (record.has(\"problemkey\") &amp;&amp; !record.isNull(\"problemkey\")) {\n    // Do something with object.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1791000,"reputation":5781,"user_id":1631414,"accept_rate":83,"display_name":"Classified"},"score":0,"creation_date":1380840706,"post_id":19170393,"comment_id":28360843,"body_markdown":"thx for the suggestion.  I checked and there are no extra spaces.  =(","body":"thx for the suggestion.  I checked and there are no extra spaces.  =("}],"tags":[],"owner":{"account_id":2682715,"reputation":702,"user_id":2317720,"accept_rate":83,"display_name":"APerson"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1380840137,"creation_date":1380840137,"answer_id":19170393,"question_id":19170338,"body_markdown":"Try `/*string with {}*/ string.trim().equalsIgnoreCase(&quot;{}&quot;))`, maybe there is some extra spaces or something","title":"How to test if JSON Collection object is empty in Java","body":"<p>Try <code>/*string with {}*/ string.trim().equalsIgnoreCase(\"{}\"))</code>, maybe there is some extra spaces or something</p>\n"},{"comments":[{"owner":{"account_id":1791000,"reputation":5781,"user_id":1631414,"accept_rate":83,"display_name":"Classified"},"score":3,"creation_date":1380841320,"post_id":19170475,"comment_id":28360983,"body_markdown":"thx for your suggestion.  i&#39;m using org.json (jar file org.json-20120521.jar).  it doesn&#39;t look like there&#39;s a method called isEmptyObject. =(","body":"thx for your suggestion.  i&#39;m using org.json (jar file org.json-20120521.jar).  it doesn&#39;t look like there&#39;s a method called isEmptyObject. =("},{"owner":{"account_id":1093272,"reputation":1001,"user_id":1087411,"accept_rate":50,"display_name":"Anderson"},"score":0,"creation_date":1380842008,"post_id":19170475,"comment_id":28361168,"body_markdown":"@Classified I am not familiar with org.json so this might not be the optimum way. An empty object has no member so therefore method keys() should return iterator with length zero. getJSONObject(&quot;problemkey&quot;).keys() - check the length of that.","body":"@Classified I am not familiar with org.json so this might not be the optimum way. An empty object has no member so therefore method keys() should return iterator with length zero. getJSONObject(&quot;problemkey&quot;).keys() - check the length of that."},{"owner":{"account_id":1791000,"reputation":5781,"user_id":1631414,"accept_rate":83,"display_name":"Classified"},"score":0,"creation_date":1380842442,"post_id":19170475,"comment_id":28361259,"body_markdown":"which library do you use?  I found org.json via a google search so I don&#39;t know how good/bad it is but it looked fairly popular.  http://www.json.org/javadoc/org/json/JSONObject.html.  thx again for your responses and help","body":"which library do you use?  I found org.json via a google search so I don&#39;t know how good/bad it is but it looked fairly popular.  <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">json.org/javadoc/org/json/JSONObject.html</a>.  thx again for your responses and help"},{"owner":{"account_id":1093272,"reputation":1001,"user_id":1087411,"accept_rate":50,"display_name":"Anderson"},"score":0,"creation_date":1380842567,"post_id":19170475,"comment_id":28361288,"body_markdown":"At the moment Jackson. But this does not mean that org.json is bad, just different.","body":"At the moment Jackson. But this does not mean that org.json is bad, just different."},{"owner":{"account_id":1093272,"reputation":1001,"user_id":1087411,"accept_rate":50,"display_name":"Anderson"},"score":1,"creation_date":1380842855,"post_id":19170475,"comment_id":28361353,"body_markdown":"Another workaround would be to convert your problem value to JSON string and compare it with string &quot;{}&quot;. Something like obj.get(&quot;dps&quot;).toString().equals(&quot;{}&quot;). But check what does toString actualy return regarding to whitespaces.","body":"Another workaround would be to convert your problem value to JSON string and compare it with string &quot;{}&quot;. Something like obj.get(&quot;dps&quot;).toString().equals(&quot;{}&quot;). But check what does toString actualy return regarding to whitespaces."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1380844329,"post_id":19170475,"comment_id":28361711,"body_markdown":"If the object is a Map then isEmpty() works, but one must first cast to java.util.Map.","body":"If the object is a Map then isEmpty() works, but one must first cast to java.util.Map."}],"tags":[],"owner":{"account_id":1093272,"reputation":1001,"user_id":1087411,"accept_rate":50,"display_name":"Anderson"},"comment_count":6,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1380840706,"creation_date":1380840706,"answer_id":19170475,"question_id":19170338,"body_markdown":"A JSON notation {} represents an empty object, meaning an object without members. This is not the same as null. Neither it is string as you are trying to compare it with string &quot;{}&quot;.\r\nI don&#39;t know which json library are you using, but try to look for method something like:\r\n\r\n    isEmptyObject() \r\n\r\n","title":"How to test if JSON Collection object is empty in Java","body":"<p>A JSON notation {} represents an empty object, meaning an object without members. This is not the same as null. Neither it is string as you are trying to compare it with string \"{}\".\nI don't know which json library are you using, but try to look for method something like:</p>\n\n<pre><code>isEmptyObject() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380844397,"creation_date":1380844397,"answer_id":19170992,"question_id":19170338,"body_markdown":"    Object getResult = obj.get(&quot;dps&quot;); \r\n    if (getResult != null &amp;&amp; getResult instanceof java.util.Map &amp;&amp; (java.util.Map)getResult.isEmpty()) {\r\n        handleEmptyDps(); \r\n    } \r\n    else {\r\n        handleResult(getResult); \r\n    }","title":"How to test if JSON Collection object is empty in Java","body":"<pre><code>Object getResult = obj.get(\"dps\"); \nif (getResult != null &amp;&amp; getResult instanceof java.util.Map &amp;&amp; (java.util.Map)getResult.isEmpty()) {\n    handleEmptyDps(); \n} \nelse {\n    handleResult(getResult); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9207807,"reputation":1207,"user_id":6842344,"display_name":"ParSa"},"score":1,"creation_date":1580300424,"post_id":19171091,"comment_id":106050731,"body_markdown":"The best answer","body":"The best answer"},{"owner":{"account_id":5563918,"reputation":444,"user_id":4411896,"display_name":"Hamid Araghi"},"score":0,"creation_date":1610897770,"post_id":19171091,"comment_id":116271791,"body_markdown":"It adds calculation and cpu load and not so good approach.","body":"It adds calculation and cpu load and not so good approach."},{"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"score":1,"creation_date":1614264993,"post_id":19171091,"comment_id":117337869,"body_markdown":"@HamidAraghi not really, the underlying representation is already a `HashMap` with `String` keys, so the conversion is quite speedy. The &quot;faster&quot; approach, if that&#39;s necessary for extremely large JSON objects, is to compare the `length()` as demonstrated in other answers. But this approach is hardly slow, even in that case.","body":"@HamidAraghi not really, the underlying representation is already a <code>HashMap</code> with <code>String</code> keys, so the conversion is quite speedy. The &quot;faster&quot; approach, if that&#39;s necessary for extremely large JSON objects, is to compare the <code>length()</code> as demonstrated in other answers. But this approach is hardly slow, even in that case."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1666731719,"post_id":19171091,"comment_id":131005146,"body_markdown":"in my case I had to use .equals(&quot;[]&quot;) as the object itself came as null.","body":"in my case I had to use .equals(&quot;[]&quot;) as the object itself came as null."}],"tags":[],"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":4,"down_vote_count":3,"up_vote_count":48,"is_accepted":false,"score":45,"last_activity_date":1523969001,"creation_date":1380845067,"answer_id":19171091,"question_id":19170338,"body_markdown":"If you&#39;re okay with a hack - \r\n\r\n    obj.toString().equals(&quot;{}&quot;);\r\n\r\nSerializing the object is expensive and moreso for large objects, but it&#39;s good to understand that JSON is transparent as a string, and therefore looking at the string representation is something you can always do to solve a problem.","title":"How to test if JSON Collection object is empty in Java","body":"<p>If you're okay with a hack - </p>\n\n<pre><code>obj.toString().equals(\"{}\");\n</code></pre>\n\n<p>Serializing the object is expensive and moreso for large objects, but it's good to understand that JSON is transparent as a string, and therefore looking at the string representation is something you can always do to solve a problem.</p>\n"},{"tags":[],"owner":{"account_id":1392725,"reputation":39551,"user_id":1399309,"accept_rate":86,"display_name":"Scott Tesler"},"comment_count":0,"down_vote_count":1,"up_vote_count":176,"is_accepted":true,"score":175,"last_activity_date":1402348689,"creation_date":1402348689,"answer_id":24129236,"question_id":19170338,"body_markdown":"    obj.length() == 0\r\n\r\nis what I would do.","title":"How to test if JSON Collection object is empty in Java","body":"<pre><code>obj.length() == 0\n</code></pre>\n\n<p>is what I would do.</p>\n"},{"comments":[{"owner":{"account_id":557322,"reputation":8250,"user_id":919710,"accept_rate":80,"display_name":"Alexandre Santos"},"score":0,"creation_date":1405469000,"post_id":24769747,"comment_id":38436422,"body_markdown":"How would the cast go?","body":"How would the cast go?"}],"tags":[],"owner":{"account_id":4264492,"reputation":29,"user_id":3487921,"display_name":"user3487921"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1405467284,"creation_date":1405466476,"answer_id":24769747,"question_id":19170338,"body_markdown":"Use the following code:\r\n\r\n    if(json.isNull()!= null){  //returns true only if json is not null\r\n    \r\n    }","title":"How to test if JSON Collection object is empty in Java","body":"<p>Use the following code:</p>\n\n<pre><code>if(json.isNull()!= null){  //returns true only if json is not null\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409750223,"creation_date":1409750223,"answer_id":25645410,"question_id":19170338,"body_markdown":"I have added isEmpty() methods on JSONObject and JSONArray()\r\n\r\n     //on JSONObject \r\n     public Boolean isEmpty(){         \r\n         return !this.keys().hasNext();\r\n     }\r\n\r\n...\r\n\r\n    //on JSONArray\r\n    public Boolean isEmpty(){\r\n        return this.length()==0;        \r\n    }\r\n\r\nyou can get it here https://github.com/kommradHomer/JSON-java","title":"How to test if JSON Collection object is empty in Java","body":"<p>I have added isEmpty() methods on JSONObject and JSONArray()</p>\n\n<pre><code> //on JSONObject \n public Boolean isEmpty(){         \n     return !this.keys().hasNext();\n }\n</code></pre>\n\n<p>...</p>\n\n<pre><code>//on JSONArray\npublic Boolean isEmpty(){\n    return this.length()==0;        \n}\n</code></pre>\n\n<p>you can get it here <a href=\"https://github.com/kommradHomer/JSON-java\" rel=\"nofollow\">https://github.com/kommradHomer/JSON-java</a></p>\n"},{"comments":[{"owner":{"account_id":3640583,"reputation":1262,"user_id":3217364,"accept_rate":72,"display_name":"Csteele5"},"score":0,"creation_date":1450067754,"post_id":33352107,"comment_id":56261120,"body_markdown":"This is actually pretty clever.  I wouldn&#39;t use it on something so small as this, but it&#39;s definitely not an empty-check I had thought of before.","body":"This is actually pretty clever.  I wouldn&#39;t use it on something so small as this, but it&#39;s definitely not an empty-check I had thought of before."}],"tags":[],"owner":{"account_id":1037919,"reputation":554,"user_id":1044637,"display_name":"sorjef"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445881089,"creation_date":1445881089,"answer_id":33352107,"question_id":19170338,"body_markdown":"I would do the following to check for an empty object\r\n\r\n    obj.similar(new JSONObject())","title":"How to test if JSON Collection object is empty in Java","body":"<p>I would do the following to check for an empty object</p>\n\n<pre><code>obj.similar(new JSONObject())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4963991,"reputation":191,"user_id":3994014,"display_name":"Sashko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489788063,"creation_date":1489777080,"answer_id":42865253,"question_id":19170338,"body_markdown":"If JSON returned with following structure when records is an ArrayNode:\r\n\r\n    {}client \r\n      records[]\r\n\r\nand you want to check if records node has something in it \r\nthen you can do it using a method size(); \r\n\r\n    if (recordNodes.get(i).size() != 0) {}\r\n","title":"How to test if JSON Collection object is empty in Java","body":"<p>If JSON returned with following structure when records is an ArrayNode:</p>\n\n<pre><code>{}client \n  records[]\n</code></pre>\n\n<p>and you want to check if records node has something in it \nthen you can do it using a method size(); </p>\n\n<pre><code>if (recordNodes.get(i).size() != 0) {}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5068874,"reputation":4011,"user_id":4068240,"display_name":"Clijsters"},"score":1,"creation_date":1491228659,"post_id":43186687,"comment_id":73446850,"body_markdown":"Please look at [How do I format my Code blocks?](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks) and then add some explanation to your answer.","body":"Please look at <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">How do I format my Code blocks?</a> and then add some explanation to your answer."}],"tags":[],"owner":{"account_id":8931454,"reputation":11,"user_id":6663931,"display_name":"Bharathi Raja"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1584723754,"creation_date":1491228050,"answer_id":43186687,"question_id":19170338,"body_markdown":"    if (jsonObj != null &amp;&amp; jsonObj.length &gt; 0)\r\n\r\nTo check if a nested JSON object is empty within a JSONObject:\r\n\r\n    if (!jsonObject.isNull(&quot;key&quot;) &amp;&amp; jsonObject.getJSONObject(&quot;key&quot;).length() &gt; 0)","title":"How to test if JSON Collection object is empty in Java","body":"<pre><code>if (jsonObj != null &amp;&amp; jsonObj.length &gt; 0)\n</code></pre>\n\n<p>To check if a nested JSON object is empty within a JSONObject:</p>\n\n<pre><code>if (!jsonObject.isNull(\"key\") &amp;&amp; jsonObject.getJSONObject(\"key\").length() &gt; 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1076676,"reputation":390,"user_id":1074665,"display_name":"Mikey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514923073,"creation_date":1514923073,"answer_id":48067069,"question_id":19170338,"body_markdown":"\r\n    @Test\r\n    public void emptyJsonParseTest() {\r\n        JsonNode emptyJsonNode = new ObjectMapper().createObjectNode();\r\n        Assert.assertTrue(emptyJsonNode.asText().isEmpty());\r\n    }","title":"How to test if JSON Collection object is empty in Java","body":"<pre><code>@Test\npublic void emptyJsonParseTest() {\n    JsonNode emptyJsonNode = new ObjectMapper().createObjectNode();\n    Assert.assertTrue(emptyJsonNode.asText().isEmpty());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9321614,"reputation":1385,"user_id":6920195,"display_name":"Rohan Lodhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1524823243,"creation_date":1524823243,"answer_id":50059953,"question_id":19170338,"body_markdown":"If empty array:\r\n\r\n    .size() == 0\r\n\r\nif empty object:\r\n\r\n    .length() == 0","title":"How to test if JSON Collection object is empty in Java","body":"<p>If empty array:</p>\n\n<pre><code>.size() == 0\n</code></pre>\n\n<p>if empty object:</p>\n\n<pre><code>.length() == 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4390084,"reputation":357,"user_id":3578802,"display_name":"Venkata Naresh Babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540913671,"creation_date":1540913671,"answer_id":53067881,"question_id":19170338,"body_markdown":"if you want to check for the json empty case, we can directly use below code\r\n\r\n    String jsonString = {};\r\n    JSONObject jsonObject = new JSONObject(jsonString);\r\n    if(jsonObject.isEmpty()){\r\n     System.out.println(&quot;json is empty&quot;);\r\n    } else{\r\n     System.out.println(&quot;json is not empty&quot;);\r\n    }\r\n\r\nthis may help you.","title":"How to test if JSON Collection object is empty in Java","body":"<p>if you want to check for the json empty case, we can directly use below code</p>\n\n<pre><code>String jsonString = {};\nJSONObject jsonObject = new JSONObject(jsonString);\nif(jsonObject.isEmpty()){\n System.out.println(\"json is empty\");\n} else{\n System.out.println(\"json is not empty\");\n}\n</code></pre>\n\n<p>this may help you.</p>\n"},{"tags":[],"owner":{"account_id":4674851,"reputation":131,"user_id":3785544,"display_name":"rachit7"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1558021949,"creation_date":1558021949,"answer_id":56172395,"question_id":19170338,"body_markdown":"For this case, I do something like this: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var obj = {};\r\n\r\n    if(Object.keys(obj).length == 0){\r\n            console.log(&quot;The obj is null&quot;)\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n ","title":"How to test if JSON Collection object is empty in Java","body":"<p>For this case, I do something like this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {};\r\n\r\nif(Object.keys(obj).length == 0){\r\n        console.log(\"The obj is null\")\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1100177,"reputation":406,"user_id":1092761,"display_name":"guymac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694545824,"creation_date":1694545824,"answer_id":77092042,"question_id":19170338,"body_markdown":"javax.json.JsonObject extends Map, so you can use the isEmpty() method of Map.\r\n\r\n    JsonObject dps = obj.getJsonObject(&quot;dps&quot;);\r\n    if (dps != null &amp;&amp; !dps.isEmpty())) ... else ...","title":"How to test if JSON Collection object is empty in Java","body":"<p>javax.json.JsonObject extends Map, so you can use the isEmpty() method of Map.</p>\n<pre><code>JsonObject dps = obj.getJsonObject(&quot;dps&quot;);\nif (dps != null &amp;&amp; !dps.isEmpty())) ... else ...\n</code></pre>\n"}],"owner":{"account_id":1791000,"reputation":5781,"user_id":1631414,"accept_rate":83,"display_name":"Classified"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239701,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":24129236,"answer_count":16,"score":79,"last_activity_date":1694545824,"creation_date":1380839761,"question_id":19170338,"body_markdown":"The JSON Collection object I&#39;m receiving looks like this:\r\n\r\n    [{&quot;foo1&quot;:&quot;bar1&quot;, &quot;foo2&quot;:&quot;bar2&quot;, &quot;problemkey&quot;: &quot;problemvalue&quot;}]\r\n\r\nWhat I&#39;m trying to test for is the existence of `problemvalue`. If `problemvalue` returns a JSON Object, I&#39;m happy.  If it doesn&#39;t, it will return as `{}`.  How do I test for this condition?  I&#39;ve tried several things to no avail.\r\n\r\nThis is what I&#39;ve tried thus far:\r\n\r\n    //      if (obj.get(&quot;dps&quot;) == null) {  //didn&#39;t work\r\n    //      if (obj.get(&quot;dps&quot;).equals(&quot;{}&quot;)) {  //didn&#39;t work\r\n    if (obj.isNull(&quot;dps&quot;)) {  //didn&#39;t work\r\n        System.out.println(&quot;No dps key&quot;);\r\n    }\r\n\r\nI expected one of these lines to print &quot;No dps key&quot; because `{&quot;dps&quot;:{}}`, but for whatever reason, it&#39;s not. I&#39;m using `org.json`. The jar file is `org.json-20120521.jar`.","title":"How to test if JSON Collection object is empty in Java","body":"<p>The JSON Collection object I'm receiving looks like this:</p>\n<pre><code>[{&quot;foo1&quot;:&quot;bar1&quot;, &quot;foo2&quot;:&quot;bar2&quot;, &quot;problemkey&quot;: &quot;problemvalue&quot;}]\n</code></pre>\n<p>What I'm trying to test for is the existence of <code>problemvalue</code>. If <code>problemvalue</code> returns a JSON Object, I'm happy.  If it doesn't, it will return as <code>{}</code>.  How do I test for this condition?  I've tried several things to no avail.</p>\n<p>This is what I've tried thus far:</p>\n<pre><code>//      if (obj.get(&quot;dps&quot;) == null) {  //didn't work\n//      if (obj.get(&quot;dps&quot;).equals(&quot;{}&quot;)) {  //didn't work\nif (obj.isNull(&quot;dps&quot;)) {  //didn't work\n    System.out.println(&quot;No dps key&quot;);\n}\n</code></pre>\n<p>I expected one of these lines to print &quot;No dps key&quot; because <code>{&quot;dps&quot;:{}}</code>, but for whatever reason, it's not. I'm using <code>org.json</code>. The jar file is <code>org.json-20120521.jar</code>.</p>\n"},{"tags":["java","nginx","jetty","chunked-encoding","chunked"],"comments":[{"owner":{"display_name":"user1600649"},"score":0,"creation_date":1410850958,"post_id":25846120,"comment_id":40469258,"body_markdown":"Perhaps KeepAlive is what you&#39;re looking for? If that does not work, I would research solutions in dealing with websockets and it probably requires you to implement a Connection upgrade. Come to think of it, it&#39;s very likely you proxy a Connection: close header.","body":"Perhaps KeepAlive is what you&#39;re looking for? If that does not work, I would research solutions in dealing with websockets and it probably requires you to implement a Connection upgrade. Come to think of it, it&#39;s very likely you proxy a Connection: close header."},{"owner":{"account_id":2140848,"reputation":1473,"user_id":1899517,"display_name":"imps"},"score":0,"creation_date":1410857672,"post_id":25846120,"comment_id":40472733,"body_markdown":"So I also posted on the nginx forum and I got a reply.\nThe thing I am specifically looking for is called &quot;unbuffered upload&quot; and that is currently a feature that nginx does not provide. \nUsing websockets is out of the question because later this prototype will need to be implement in a bigger and older system that uses the http protocol. \n\nSo the answer for this would be it&#39;s not possible with &quot;nginx&quot;.\nA possible work around for anyone facing the same issue is using tengine which is an nginx fork.","body":"So I also posted on the nginx forum and I got a reply. The thing I am specifically looking for is called &quot;unbuffered upload&quot; and that is currently a feature that nginx does not provide.  Using websockets is out of the question because later this prototype will need to be implement in a bigger and older system that uses the http protocol.   So the answer for this would be it&#39;s not possible with &quot;nginx&quot;. A possible work around for anyone facing the same issue is using tengine which is an nginx fork."}],"answers":[{"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1410894508,"post_id":25864527,"comment_id":40495057,"body_markdown":"Or just use jetty directly, without nginx in front of it.","body":"Or just use jetty directly, without nginx in front of it."},{"owner":{"account_id":2140848,"reputation":1473,"user_id":1899517,"display_name":"imps"},"score":0,"creation_date":1410943872,"post_id":25864527,"comment_id":40512128,"body_markdown":"I need a reverse proxy for both security reasons and load balancing eventually. So using jetty directly is not an option. The systems needs to reliable and securely handle over 100k connections. \nIf you have any other suggestion I&#39;d be really thankful if you elaborate :)","body":"I need a reverse proxy for both security reasons and load balancing eventually. So using jetty directly is not an option. The systems needs to reliable and securely handle over 100k connections.  If you have any other suggestion I&#39;d be really thankful if you elaborate :)"},{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1693891834,"post_id":25864527,"comment_id":135815323,"body_markdown":"Maybe please provide that discussion link as well please.","body":"Maybe please provide that discussion link as well please."},{"owner":{"account_id":2140848,"reputation":1473,"user_id":1899517,"display_name":"imps"},"score":0,"creation_date":1694545668,"post_id":25864527,"comment_id":135904558,"body_markdown":"Unbuffered upload is now available in nginx. \nI added link to https://www.nginx.com/blog/nginx-plus-r6-released/#unbuffered-upload.","body":"Unbuffered upload is now available in nginx.  I added link to <a href=\"https://www.nginx.com/blog/nginx-plus-r6-released/#unbuffered-upload\" rel=\"nofollow noreferrer\">nginx.com/blog/nginx-plus-r6-released/#unbuffered-upload</a>."}],"tags":[],"owner":{"account_id":2140848,"reputation":1473,"user_id":1899517,"display_name":"imps"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694545646,"creation_date":1410857794,"answer_id":25864527,"question_id":25846120,"body_markdown":"So I also posted on the nginx forum and I got a reply. The thing I am specifically looking for is called &quot;unbuffered upload&quot; and that is currently a feature that nginx does not provide. \r\n\r\nUsing websockets is out of the question because later this prototype will need to be implement in a bigger and older system that uses the http protocol. So the answer for this would be it&#39;s not possible with &quot;nginx&quot;. A possible work around for anyone facing the same issue is using tengine which is an nginx fork. \r\n\r\n**Update**\r\n\r\nUnbuffered upload was added to NGINX in 2015, https://www.nginx.com/blog/nginx-plus-r6-released/#unbuffered-upload. ","title":"nginx chunked transfer encoding fails","body":"<p>So I also posted on the nginx forum and I got a reply. The thing I am specifically looking for is called &quot;unbuffered upload&quot; and that is currently a feature that nginx does not provide.</p>\n<p>Using websockets is out of the question because later this prototype will need to be implement in a bigger and older system that uses the http protocol. So the answer for this would be it's not possible with &quot;nginx&quot;. A possible work around for anyone facing the same issue is using tengine which is an nginx fork.</p>\n<p><strong>Update</strong></p>\n<p>Unbuffered upload was added to NGINX in 2015, <a href=\"https://www.nginx.com/blog/nginx-plus-r6-released/#unbuffered-upload\" rel=\"nofollow noreferrer\">https://www.nginx.com/blog/nginx-plus-r6-released/#unbuffered-upload</a>.</p>\n"}],"owner":{"account_id":2140848,"reputation":1473,"user_id":1899517,"display_name":"imps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25864527,"answer_count":1,"score":0,"last_activity_date":1694545646,"creation_date":1410777472,"question_id":25846120,"body_markdown":"I am using an implemention of nginx with jetty servlets.\r\n\r\nFor the purpose of my project I need to initialize two connection to the jetty servlet and keep them open. \r\nTo initialize the downlink I use a normal request and I get the inputstream back. \r\nTo initialize the uplink I use a chunked encoding request.\r\n\r\nI use a 1.4.6 nginx version so the chunked encoding should be set by default, regardless I set it in my server definition.\r\n\r\n     #HTTPS server\r\n    \r\n    server {\r\n     \tlisten 443;\r\n  \t\tlisten [::]:443;\r\n        server_name  localhost;\r\n        \r\n        ssl                  on;\r\n        ssl_certificate      /etc/nginx/ssl/server.crt;\r\n        ssl_certificate_key  /etc/nginx/ssl/server.key;\r\n\r\n        ssl_session_timeout  5m;\r\n\r\n        ssl_protocols  SSLv2 SSLv3 TLSv1;\r\n        ssl_ciphers  HIGH:!aNULL:!MD5;\r\n        ssl_prefer_server_ciphers   on;\r\n        location / {\r\n            proxy_http_version 1.1;\r\n            expires off;\r\n       \t\tproxy_buffering off; \r\n       \t\tchunked_transfer_encoding on;\r\n            proxy_pass      https://127.0.0.1:8080;\r\n        #    root   html;\r\n        #    index  index.html index.htm;\r\n        }\r\n    }\r\n\r\nI&#39;ve searched through all the forums and I still can&#39;t come across a solution.\r\nEnabled chunked encoding, proxy buffering off etc etc.\r\nI can&#39;t get it to work. I have also done simple tests to make that it&#39;s not my apps implementation that&#39;s blocking it somehow and it still doesn&#39;t work.\r\n\r\nAnything else I can try?","title":"nginx chunked transfer encoding fails","body":"<p>I am using an implemention of nginx with jetty servlets.</p>\n\n<p>For the purpose of my project I need to initialize two connection to the jetty servlet and keep them open. \nTo initialize the downlink I use a normal request and I get the inputstream back. \nTo initialize the uplink I use a chunked encoding request.</p>\n\n<p>I use a 1.4.6 nginx version so the chunked encoding should be set by default, regardless I set it in my server definition.</p>\n\n<pre><code> #HTTPS server\n\nserver {\n    listen 443;\n    listen [::]:443;\n    server_name  localhost;\n\n    ssl                  on;\n    ssl_certificate      /etc/nginx/ssl/server.crt;\n    ssl_certificate_key  /etc/nginx/ssl/server.key;\n\n    ssl_session_timeout  5m;\n\n    ssl_protocols  SSLv2 SSLv3 TLSv1;\n    ssl_ciphers  HIGH:!aNULL:!MD5;\n    ssl_prefer_server_ciphers   on;\n    location / {\n        proxy_http_version 1.1;\n        expires off;\n        proxy_buffering off; \n        chunked_transfer_encoding on;\n        proxy_pass      https://127.0.0.1:8080;\n    #    root   html;\n    #    index  index.html index.htm;\n    }\n}\n</code></pre>\n\n<p>I've searched through all the forums and I still can't come across a solution.\nEnabled chunked encoding, proxy buffering off etc etc.\nI can't get it to work. I have also done simple tests to make that it's not my apps implementation that's blocking it somehow and it still doesn't work.</p>\n\n<p>Anything else I can try?</p>\n"},{"tags":["java","spring","hibernate","junit","h2"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1538637796,"post_id":40635400,"comment_id":92214705,"body_markdown":"`HibernateConfiguration.dataSourceTest(ds);` makes me shudder. However you should set the `generateDdl` property of the `HibernateJpaVendorAdapter` to `true` else nothing will be generated.","body":"<code>HibernateConfiguration.dataSourceTest(ds);</code> makes me shudder. However you should set the <code>generateDdl</code> property of the <code>HibernateJpaVendorAdapter</code> to <code>true</code> else nothing will be generated."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1538637807,"post_id":40652752,"comment_id":92214710,"body_markdown":"`@Table` is optional.","body":"<code>@Table</code> is optional."}],"tags":[],"owner":{"account_id":4928112,"reputation":44,"user_id":3968811,"display_name":"Sadupa Wijeratne"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479379428,"creation_date":1479379428,"answer_id":40652752,"question_id":40635400,"body_markdown":"Seems `@Table` annotation is missing in your MailConfig class.\r\n\r\nYou can find full working example using spring, hibernate and h2 database from http://mycuteblog.com/h2-database-example-hibernate-spring-boot/\r\n","title":"Hibernate is not creating tables with H2 in memory database","body":"<p>Seems <code>@Table</code> annotation is missing in your MailConfig class.</p>\n\n<p>You can find full working example using spring, hibernate and h2 database from <a href=\"http://mycuteblog.com/h2-database-example-hibernate-spring-boot/\" rel=\"nofollow noreferrer\">http://mycuteblog.com/h2-database-example-hibernate-spring-boot/</a></p>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1538637839,"post_id":52641091,"comment_id":92214719,"body_markdown":"The OP isn&#39;t using Spring Boot so advising to add a Spring Boot annotation on a non Spring Boot project won&#39;t help.","body":"The OP isn&#39;t using Spring Boot so advising to add a Spring Boot annotation on a non Spring Boot project won&#39;t help."}],"tags":[],"owner":{"account_id":14048365,"reputation":529,"user_id":10147915,"display_name":"VRadhe"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538637466,"creation_date":1538637466,"answer_id":52641091,"question_id":40635400,"body_markdown":"Add @EntityScan(basepackage=&quot;com.entity&quot;) Annotation in main class","title":"Hibernate is not creating tables with H2 in memory database","body":"<p>Add @EntityScan(basepackage=\"com.entity\") Annotation in main class</p>\n"}],"owner":{"account_id":5685559,"reputation":4315,"user_id":4495245,"accept_rate":48,"display_name":"Motomine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694545340,"creation_date":1479308575,"question_id":40635400,"body_markdown":"I&#39;m trying to test an application which uses SpringMVC and Hibernate with MySQL. I tried using HSQLDB but since the syntax is not the same as MySQL the queries may not work, so I decided to go to H2.\r\nThe problem is that when I run it it says &quot;Table MAILCONFIG not found&quot;, and if I created on the INIT syntax it says that already exists. \r\n\r\nI have configured a simple test that doesn&#39;t do anything, I only want it to run.\r\n\r\nI have the following files:\r\n\r\nServiceTest.java \r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = {&quot;file:src/test/resources/applicationContext.xml&quot;})\r\n    @Transactional\r\n    @WebAppConfiguration\r\n    public class ServiceTest {\r\n\r\n    private static DataSource ds;\r\n\r\n    @BeforeClass\r\n    public static void setUpConnection(){\r\n        ds = new DataSource();\r\n        ds.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n        ds.setUrl(&quot;jdbc:h2:mem:testDB&quot;);\r\n        ds.setUsername(&quot;sa&quot;);\r\n        ds.setPassword(&quot;&quot;);\r\n        HibernateConfiguration.dataSourceTest(ds);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void cleanConnection(){\r\n        HibernateConfiguration.dataSourceTest(null);\r\n    }\r\n    }\r\n\r\napplicationContext.xml\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n        http://www.springframework.org/schema/tx\r\n        http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;persistenceXmlLocation&quot; value=&quot;classpath:persistence.xml&quot; /&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;testingSetup&quot; /&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;com.adistec&quot; /&gt;\r\n    &lt;context:annotation-config/&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\npersistence.xml\r\n\r\n    &lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n             version=&quot;2.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;testingSetup&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:h2:mem:testDB;DB_CLOSE_DELAY=-1;MODE=MySQL&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;sa&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.H2Dialect&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\nMailConfig.java\r\n\r\n    @Entity\r\n    public class MailConfig {\r\n\t  @Id\r\n\t  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t  Long id;\r\n\t  @Column\r\n\t  String host;\r\n    }\r\n\r\nI specify the Hibernate configuration in the test because the application uses java classes and not the XML files. \r\n\r\nCan anyone help me with this? Or if there is an easier way to test it with java classes is welcome too, I couldn&#39;t find out a solution yet.\r\nI want it to work locally and then it has to work with jenkins too, so it can create things that can&#39;t do on the VM.\r\n\r\nThank you!","title":"Hibernate is not creating tables with H2 in memory database","body":"<p>I'm trying to test an application which uses SpringMVC and Hibernate with MySQL. I tried using HSQLDB but since the syntax is not the same as MySQL the queries may not work, so I decided to go to H2.\nThe problem is that when I run it it says \"Table MAILCONFIG not found\", and if I created on the INIT syntax it says that already exists. </p>\n\n<p>I have configured a simple test that doesn't do anything, I only want it to run.</p>\n\n<p>I have the following files:</p>\n\n<p>ServiceTest.java </p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = {\"file:src/test/resources/applicationContext.xml\"})\n@Transactional\n@WebAppConfiguration\npublic class ServiceTest {\n\nprivate static DataSource ds;\n\n@BeforeClass\npublic static void setUpConnection(){\n    ds = new DataSource();\n    ds.setDriverClassName(\"org.h2.Driver\");\n    ds.setUrl(\"jdbc:h2:mem:testDB\");\n    ds.setUsername(\"sa\");\n    ds.setPassword(\"\");\n    HibernateConfiguration.dataSourceTest(ds);\n}\n\n@AfterClass\npublic static void cleanConnection(){\n    HibernateConfiguration.dataSourceTest(null);\n}\n}\n</code></pre>\n\n<p>applicationContext.xml</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:context=\"http://www.springframework.org/schema/context\"\n   xmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\n    http://www.springframework.org/schema/tx\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\"&gt;\n\n&lt;bean id=\"entityManagerFactory\"\n      class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"persistenceXmlLocation\" value=\"classpath:persistence.xml\" /&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"testingSetup\" /&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"jpaVendorAdapter\"&gt;\n        &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"/&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;context:component-scan base-package=\"com.adistec\" /&gt;\n&lt;context:annotation-config/&gt;\n</code></pre>\n\n<p></p>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"\n         version=\"2.0\"&gt;\n&lt;persistence-unit name=\"testingSetup\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;properties&gt;\n        &lt;property name=\"hibernate.connection.driver_class\" value=\"org.h2.Driver\" /&gt;\n        &lt;property name=\"hibernate.connection.url\" value=\"jdbc:h2:mem:testDB;DB_CLOSE_DELAY=-1;MODE=MySQL\" /&gt;\n        &lt;property name=\"hibernate.connection.username\" value=\"sa\" /&gt;\n        &lt;property name=\"hibernate.connection.password\" value=\"\" /&gt;\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.H2Dialect\" /&gt;\n        &lt;property name=\"hibernate.archive.autodetection\" value=\"class, hbm\"/&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"false\"/&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create\"/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>MailConfig.java</p>\n\n<pre><code>@Entity\npublic class MailConfig {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  Long id;\n  @Column\n  String host;\n}\n</code></pre>\n\n<p>I specify the Hibernate configuration in the test because the application uses java classes and not the XML files. </p>\n\n<p>Can anyone help me with this? Or if there is an easier way to test it with java classes is welcome too, I couldn't find out a solution yet.\nI want it to work locally and then it has to work with jenkins too, so it can create things that can't do on the VM.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","user-interface","jgoodies"],"owner":{"account_id":20183146,"reputation":33,"user_id":14803193,"display_name":"Ksushant881"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694545153,"creation_date":1694544789,"question_id":77091939,"body_markdown":"\r\nI am trying to create this text field which shows remaining qty from table above it. This text field is not covering the column it is provided with completely and leaves an extra space to its right. I have another example of similar thing in codebase which is covering that space except there they used a PercentFormattedTextField. Not sure why is it doing it here.\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nFormLayout layout = new FormLayout(&quot;pref, 10dlu:g, pref, 2dlu, pref&quot;,\r\n                                           &quot;pref:g,&quot;);\r\n\r\n        PanelBuilder builder = new PanelBuilder(layout);\r\n\r\n        builder.add(removeAssignmentButton,      CC.xy(1, 1, &quot;left, center&quot;));\r\n\r\n        builder.addLabel(&quot;Remaining&quot;,            CC.xy(3, 1, &quot;right, center&quot;));\r\n        builder.add(remainingTextField,          CC.xy(5, 1, &quot;left, center&quot;));\r\n```\r\n\r\nI tried setting/unsetting borders and all kinds of setting for the form layout. Nothing worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75NV7.jpg","title":"JFormattedTextField does not cover all the space on GUI","body":"<p>I am trying to create this text field which shows remaining qty from table above it. This text field is not covering the column it is provided with completely and leaves an extra space to its right. I have another example of similar thing in codebase which is covering that space except there they used a PercentFormattedTextField. Not sure why is it doing it here.\n<a href=\"https://i.stack.imgur.com/75NV7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/75NV7.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>FormLayout layout = new FormLayout(&quot;pref, 10dlu:g, pref, 2dlu, pref&quot;,\n                                           &quot;pref:g,&quot;);\n\n        PanelBuilder builder = new PanelBuilder(layout);\n\n        builder.add(removeAssignmentButton,      CC.xy(1, 1, &quot;left, center&quot;));\n\n        builder.addLabel(&quot;Remaining&quot;,            CC.xy(3, 1, &quot;right, center&quot;));\n        builder.add(remainingTextField,          CC.xy(5, 1, &quot;left, center&quot;));\n</code></pre>\n<p>I tried setting/unsetting borders and all kinds of setting for the form layout. Nothing worked.</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa","criteriabuilder"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1694545371,"post_id":77091971,"comment_id":135904510,"body_markdown":"Why don&#39;t you have an employee table?","body":"Why don&#39;t you have an employee table?"},{"owner":{"account_id":8901951,"reputation":27,"user_id":6645139,"display_name":"Siva"},"score":0,"creation_date":1694590324,"post_id":77091971,"comment_id":135909584,"body_markdown":"I just provided simple details for understanding. It is not actual data. The data we receive form external party looks similar to this.","body":"I just provided simple details for understanding. It is not actual data. The data we receive form external party looks similar to this."},{"owner":{"account_id":8901951,"reputation":27,"user_id":6645139,"display_name":"Siva"},"score":0,"creation_date":1695139035,"post_id":77091971,"comment_id":135982738,"body_markdown":"@Olivier will you be able to answer the question?","body":"@Olivier will you be able to answer the question?"}],"owner":{"account_id":8901951,"reputation":27,"user_id":6645139,"display_name":"Siva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694545095,"creation_date":1694545095,"question_id":77091971,"body_markdown":"I have a postgresql table where I have department details as column and details of the employees working in the department as list of json in a column in the same table. I want to filter the department details if there are any employees joined after or before or between any particualar dates. I am able to do that using query. I am trying to do that using Java application. But I am not sure how exactly to do this.\r\n\r\nTable structure:\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS department_details\r\n(\r\n    id bigint NOT NULL DEFAULT nextval(&#39;department_details_id_seq&#39;::regclass),\r\n    location_id bigint NOT NULL,\r\n    department_code character varying(255) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\r\n    department_name character varying(255) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\r\n    employee_details json\r\n}\r\n```\r\n\r\nAnd the structure of the employee_details will be as below.\r\n\r\n```\r\n[{&quot;employeeId&quot;:1,\r\n&quot;firstName&quot;:&quot;firstName1&quot;,\r\n&quot;lastName&quot;:&quot;lastName1&quot;,\r\n&quot;designation&quot;:&quot;Manager&quot;,\r\n&quot;dateOfBirth&quot;:&quot;1990-01-31&quot;,\r\n&quot;joiningDate&quot;:&quot;2015-01-31&quot;},\r\n{&quot;employeeId&quot;:2,\r\n&quot;firstName&quot;:&quot;firstName2&quot;,\r\n&quot;lastName&quot;:&quot;lastName2&quot;,\r\n&quot;designation&quot;:&quot;Supervisor&quot;,\r\n&quot;dateOfBirth&quot;:&quot;1990-12-31&quot;,\r\n&quot;joiningDate&quot;:&quot;2015-12-31&quot;}]\r\n```\r\n\r\nNow I want to filter based on the joining date. I am able to achieve this in SQL query as below. \r\n\r\n```\r\nselect * from department_Details\r\nwhere json_extract_path_text(employee_details-&gt;0,&#39;joiningDate&#39;) &gt; &#39;2023-08-20&#39; or\r\njson_extract_path_text(employee_details-&gt;1,&#39;joiningDate&#39;) &gt; &#39;2023-08-20&#39;;\r\n```\r\n\r\nConsider that no of employees in the json will be varying, it is not fixed to one or two. \r\nAbove query will work only if two employees details in the json.\r\n\r\nI want to achieve the same in my java application using Criteria builder. Below is the code I have written to filter. It is working only if only one employee details that too not as an array. \r\n\r\n```\r\nLocalDate fromDate = LocalDate.parse(requestFilter.getFromDateValue().trim(), \r\nDateTimeFormatter.ofPattern(YYYY_MM_DD));\r\nLocalDateTime startOfDay = fromDate.atStartOfDay();\r\nFilterOperation operationType = requestFilter.getOperator();\r\n\r\nswitch (operationType) {\r\n\r\ncase BETWEEN:\r\n  if (requestFilter.getToDateValue() == null) {\r\n    throw new BusinessException(&quot;For &#39;Between&#39; operation, two dates are required.&quot;);\r\n  }\r\n\r\n  LocalDate toDate = LocalDate.parse(requestFilter.getToDateValue().trim(), \r\n  DateTimeFormatter.ofPattern(YYYY_MM_DD));\r\n  LocalDateTime endOfDay = toDate.plusDays(1).atStartOfDay().minusNanos(1);\r\n\r\n  return criteriaBuilder.between(criteriaBuilder.function(&quot;json_extract_path_text&quot;, \r\n    String.class, root.get(&quot;employeeDetails&quot;),\r\n                            criteriaBuilder.literal(&quot;joiningDate&quot;).as(String.class)), startOfDay.toString(), endOfDay.toString());\r\n\r\ncase GREATER_THAN:\r\n  return criteriaBuilder.greaterThan(criteriaBuilder.function(&quot;json_extract_path_text&quot;, String.class, root.get(&quot;employeeDetails&quot;).type(),\r\n                            criteriaBuilder.literal(&quot;joiningDate&quot;).as(String.class)), startOfDay.toString());\r\n\r\ncase LESS_THAN:\r\n  return criteriaBuilder.lessThan(criteriaBuilder.function(&quot;json_extract_path_text&quot;, String.class, root.get(&quot;employeeDetails&quot;),\r\n                            criteriaBuilder.literal(&quot;joiningDate).as(String.class)), startOfDay.toString());\r\n\r\ndefault:\r\nthrow new BusinessException(&quot;Invalid operator for date : &quot; + operationType.getOperatorKey());\r\n}\r\n```\r\n\r\nMy Entity is as below:\r\n\r\n ```@Entity\r\n @Table(name = &quot;department_details&quot;)\r\n @Getter\r\n @Setter\r\n @NoArgsConstructor\r\n public class DepartmentDetails{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    private Long locationId;\r\n\r\n    @NotNull\r\n    private String departmentCode;\r\n\r\n    private String deparmentName;\r\n\r\n    @Column(name = &quot;employee_details&quot;)\r\n    @Convert(converter = EmployeeDetailsConverter.class)\r\n    private List&lt;EmployeeDetails&gt; employeeDetailsList;\r\n}\r\n```\r\n\r\nAnd my EmployeeDetails entity will be as below:\r\n\r\n```@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class EmployeeDetails{\r\n\r\n    private Long employeeId;\r\n\r\n    private String firstName;\r\n\r\n    private String lastName;\r\n\r\n    private String designation;\r\n\r\n    private String dateOfBirth;\r\n\r\n    private String joiningDate;\r\n}\r\n```\r\n\r\nPlease let me know how to achieve in java code criteria builder that -&gt;0, -&gt;1 which I achieved in SQL query?","title":"filtering from json column in postgresql using CriteriaBuilder","body":"<p>I have a postgresql table where I have department details as column and details of the employees working in the department as list of json in a column in the same table. I want to filter the department details if there are any employees joined after or before or between any particualar dates. I am able to do that using query. I am trying to do that using Java application. But I am not sure how exactly to do this.</p>\n<p>Table structure:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS department_details\n(\n    id bigint NOT NULL DEFAULT nextval('department_details_id_seq'::regclass),\n    location_id bigint NOT NULL,\n    department_code character varying(255) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    department_name character varying(255) COLLATE pg_catalog.&quot;default&quot; NOT NULL,\n    employee_details json\n}\n</code></pre>\n<p>And the structure of the employee_details will be as below.</p>\n<pre><code>[{&quot;employeeId&quot;:1,\n&quot;firstName&quot;:&quot;firstName1&quot;,\n&quot;lastName&quot;:&quot;lastName1&quot;,\n&quot;designation&quot;:&quot;Manager&quot;,\n&quot;dateOfBirth&quot;:&quot;1990-01-31&quot;,\n&quot;joiningDate&quot;:&quot;2015-01-31&quot;},\n{&quot;employeeId&quot;:2,\n&quot;firstName&quot;:&quot;firstName2&quot;,\n&quot;lastName&quot;:&quot;lastName2&quot;,\n&quot;designation&quot;:&quot;Supervisor&quot;,\n&quot;dateOfBirth&quot;:&quot;1990-12-31&quot;,\n&quot;joiningDate&quot;:&quot;2015-12-31&quot;}]\n</code></pre>\n<p>Now I want to filter based on the joining date. I am able to achieve this in SQL query as below.</p>\n<pre><code>select * from department_Details\nwhere json_extract_path_text(employee_details-&gt;0,'joiningDate') &gt; '2023-08-20' or\njson_extract_path_text(employee_details-&gt;1,'joiningDate') &gt; '2023-08-20';\n</code></pre>\n<p>Consider that no of employees in the json will be varying, it is not fixed to one or two.\nAbove query will work only if two employees details in the json.</p>\n<p>I want to achieve the same in my java application using Criteria builder. Below is the code I have written to filter. It is working only if only one employee details that too not as an array.</p>\n<pre><code>LocalDate fromDate = LocalDate.parse(requestFilter.getFromDateValue().trim(), \nDateTimeFormatter.ofPattern(YYYY_MM_DD));\nLocalDateTime startOfDay = fromDate.atStartOfDay();\nFilterOperation operationType = requestFilter.getOperator();\n\nswitch (operationType) {\n\ncase BETWEEN:\n  if (requestFilter.getToDateValue() == null) {\n    throw new BusinessException(&quot;For 'Between' operation, two dates are required.&quot;);\n  }\n\n  LocalDate toDate = LocalDate.parse(requestFilter.getToDateValue().trim(), \n  DateTimeFormatter.ofPattern(YYYY_MM_DD));\n  LocalDateTime endOfDay = toDate.plusDays(1).atStartOfDay().minusNanos(1);\n\n  return criteriaBuilder.between(criteriaBuilder.function(&quot;json_extract_path_text&quot;, \n    String.class, root.get(&quot;employeeDetails&quot;),\n                            criteriaBuilder.literal(&quot;joiningDate&quot;).as(String.class)), startOfDay.toString(), endOfDay.toString());\n\ncase GREATER_THAN:\n  return criteriaBuilder.greaterThan(criteriaBuilder.function(&quot;json_extract_path_text&quot;, String.class, root.get(&quot;employeeDetails&quot;).type(),\n                            criteriaBuilder.literal(&quot;joiningDate&quot;).as(String.class)), startOfDay.toString());\n\ncase LESS_THAN:\n  return criteriaBuilder.lessThan(criteriaBuilder.function(&quot;json_extract_path_text&quot;, String.class, root.get(&quot;employeeDetails&quot;),\n                            criteriaBuilder.literal(&quot;joiningDate).as(String.class)), startOfDay.toString());\n\ndefault:\nthrow new BusinessException(&quot;Invalid operator for date : &quot; + operationType.getOperatorKey());\n}\n</code></pre>\n<p>My Entity is as below:</p>\n<pre><code>@Table(name = &quot;department_details&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class DepartmentDetails{\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @NotNull\n   private Long locationId;\n\n   @NotNull\n   private String departmentCode;\n\n   private String deparmentName;\n\n   @Column(name = &quot;employee_details&quot;)\n   @Convert(converter = EmployeeDetailsConverter.class)\n   private List&lt;EmployeeDetails&gt; employeeDetailsList;\n}\n</code></pre>\n<p>And my EmployeeDetails entity will be as below:</p>\n<pre><code>@Setter\n@NoArgsConstructor\npublic class EmployeeDetails{\n\n    private Long employeeId;\n\n    private String firstName;\n\n    private String lastName;\n\n    private String designation;\n\n    private String dateOfBirth;\n\n    private String joiningDate;\n}\n</code></pre>\n<p>Please let me know how to achieve in java code criteria builder that -&gt;0, -&gt;1 which I achieved in SQL query?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":2,"creation_date":1694545407,"post_id":77091964,"comment_id":135904514,"body_markdown":"Are you sure that you don&#39;t have several consumers for this topic and the same group? So, an instance you look into doesn&#39;t get records because they are consumed in other instances.","body":"Are you sure that you don&#39;t have several consumers for this topic and the same group? So, an instance you look into doesn&#39;t get records because they are consumed in other instances."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1694565065,"post_id":77091964,"comment_id":135907071,"body_markdown":"Use `kafka-consumer-groups --describe` with the group id you&#39;ve provided in the values","body":"Use <code>kafka-consumer-groups --describe</code> with the group id you&#39;ve provided in the values"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1694633378,"post_id":77091964,"comment_id":135918466,"body_markdown":"So I used this on both our nonprod and prod cluster. The nonprod test seemed to work perfectly, showing info on topics associated with the groupid. In the prod test, most of the servers returned &quot;Error: Consumer group &#39;xxx&#39;  does not exist.&quot;. One of them simply got a timeout error. If it got that &quot;does not exist&quot; error, is it certain that it was able to reach the server (no firewall block), and this really means that the groupid doesn&#39;t exist?","body":"So I used this on both our nonprod and prod cluster. The nonprod test seemed to work perfectly, showing info on topics associated with the groupid. In the prod test, most of the servers returned &quot;Error: Consumer group &#39;xxx&#39;  does not exist.&quot;. One of them simply got a timeout error. If it got that &quot;does not exist&quot; error, is it certain that it was able to reach the server (no firewall block), and this really means that the groupid doesn&#39;t exist?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1694635787,"post_id":77091964,"comment_id":135918867,"body_markdown":"Actually, I also figured out that I can use the &quot;--list&quot; option to simply list the groupids available on each server. This provides even more convincing information that it&#39;s able to reach the prod servers, but the groupid they gave us for the prod servers simply doesn&#39;t exist, contrary to what they told us.","body":"Actually, I also figured out that I can use the &quot;--list&quot; option to simply list the groupids available on each server. This provides even more convincing information that it&#39;s able to reach the prod servers, but the groupid they gave us for the prod servers simply doesn&#39;t exist, contrary to what they told us."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1694727228,"post_id":77091964,"comment_id":135933246,"body_markdown":"The person who manages the kafka server is saying that &quot;Basically group id will be created by client. If your client creates group id then it will show there.&quot; As far as I know, we&#39;ve never had to manually &quot;create&quot; anything. If we start the service using spring-kafka, pointing to the listed servers and with the groupid and topic properties, does it implicitly &quot;create&quot; the groupid, or is he just completely wrong?","body":"The person who manages the kafka server is saying that &quot;Basically group id will be created by client. If your client creates group id then it will show there.&quot; As far as I know, we&#39;ve never had to manually &quot;create&quot; anything. If we start the service using spring-kafka, pointing to the listed servers and with the groupid and topic properties, does it implicitly &quot;create&quot; the groupid, or is he just completely wrong?"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694545021,"creation_date":1694545021,"question_id":77091964,"body_markdown":"We have a service using spring-kafka (v2.9.8) that reads messages from kafka topics.  The same code has been running fine for quite a while without change.\r\n\r\nAbout a month ago, we found that this service was no longer getting messages from the production kafka servers.  The same service runs in multiple nonprod servers, and it&#39;s working perfectly fine, getting messages from the nonprod kafka topics. There are no errors in the prod log, it just never gets any messages.  We have double-checked the list of &quot;bootstrap-servers&quot;, and it is apparently correct.  We have checked the wmtopic and group-id properties, and they are also correct.  Otherwise, the nonprod properties are identical to the prod properties.\r\n\r\nI tried to turn up the log level for spring-kafka, but I still see nothing of significance in the log.\r\n\r\nI&#39;m at a loss to see how to troubleshoot this.  Is there some way to make it more verbose, either spring-kafka or kafka, to give us a clue for why it&#39;s not getting any messages?","title":"Why is spring-kafka silently not reading messages from kafka topics in our prod environment?","body":"<p>We have a service using spring-kafka (v2.9.8) that reads messages from kafka topics.  The same code has been running fine for quite a while without change.</p>\n<p>About a month ago, we found that this service was no longer getting messages from the production kafka servers.  The same service runs in multiple nonprod servers, and it's working perfectly fine, getting messages from the nonprod kafka topics. There are no errors in the prod log, it just never gets any messages.  We have double-checked the list of &quot;bootstrap-servers&quot;, and it is apparently correct.  We have checked the wmtopic and group-id properties, and they are also correct.  Otherwise, the nonprod properties are identical to the prod properties.</p>\n<p>I tried to turn up the log level for spring-kafka, but I still see nothing of significance in the log.</p>\n<p>I'm at a loss to see how to troubleshoot this.  Is there some way to make it more verbose, either spring-kafka or kafka, to give us a clue for why it's not getting any messages?</p>\n"},{"tags":["java","css","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1694542538,"post_id":77091577,"comment_id":135904018,"body_markdown":"Did you try just adding the other CSS selectors in? What happened? Can you post a [mre]?","body":"Did you try just adding the other CSS selectors in? What happened? Can you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1694543233,"post_id":77091577,"comment_id":135904150,"body_markdown":"You need `.check-box:focused &gt; .box { ... }` (which you can, of course, just combine with the rule for `button:focused`).","body":"You need <code>.check-box:focused &gt; .box { ... }</code> (which you can, of course, just combine with the rule for <code>button:focused</code>)."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1694543477,"post_id":77091577,"comment_id":135904201,"body_markdown":"That is great! Any chance you can tell me what is going on so I can learn from it?","body":"That is great! Any chance you can tell me what is going on so I can learn from it?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1694543688,"post_id":77091577,"comment_id":135904238,"body_markdown":"`.check-box` is the entire control (including the text label and the graphic). `.check-box &gt; .box` is the box containing (when selected) the check mark (and `check-box &gt; .box &gt; .mark` is the actual check mark). The focus highlight is only applied to the box, so that&#39;s the style that needs to be reverted to the default.","body":"<code>.check-box</code> is the entire control (including the text label and the graphic). <code>.check-box &gt; .box</code> is the box containing (when selected) the check mark (and <code>check-box &gt; .box &gt; .mark</code> is the actual check mark). The focus highlight is only applied to the box, so that&#39;s the style that needs to be reverted to the default."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694543888,"post_id":77091577,"comment_id":135904276,"body_markdown":"I reopened your question at your request.  But honestly, from reading the title, it seems the same as the suggested duplicate and if there are additional answers to be provided, I think they should be provided there and this question closed again as a duplicate unless this question is updated to be more specific and different from the original.","body":"I reopened your question at your request.  But honestly, from reading the title, it seems the same as the suggested duplicate and if there are additional answers to be provided, I think they should be provided there and this question closed again as a duplicate unless this question is updated to be more specific and different from the original."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1694543900,"post_id":77091577,"comment_id":135904277,"body_markdown":"Ok, I will look into that, what will be the correct selector the the radio-button? EDIT: I used this: .radio-button:focused &gt; .radio and this to keep the rounded corners: -fx-background-radius: 1.0em","body":"Ok, I will look into that, what will be the correct selector the the radio-button? EDIT: I used this: .radio-button:focused &gt; .radio and this to keep the rounded corners: -fx-background-radius: 1.0em"},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1694544522,"post_id":77091577,"comment_id":135904373,"body_markdown":"jewelsea: You may be right. I see this question as a 2023 version of a question that was never fully answered back  then (if you ask me) because the solutions given there will never give the exact same item without the glow (today using the newest modena css). You may be right it is better to keep the focus in the suggested duplicate.","body":"jewelsea: You may be right. I see this question as a 2023 version of a question that was never fully answered back  then (if you ask me) because the solutions given there will never give the exact same item without the glow (today using the newest modena css). You may be right it is better to keep the focus in the suggested duplicate."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1694544680,"post_id":77091577,"comment_id":135904403,"body_markdown":"The only reliable way I know to figure these out is to look at the [modena source code](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css). For radio buttons the selector is `.radio-button:focused &gt; .radio`.","body":"The only reliable way I know to figure these out is to look at the <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css\" rel=\"nofollow noreferrer\">modena source code</a>. For radio buttons the selector is <code>.radio-button:focused &gt; .radio</code>."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1694544801,"post_id":77091577,"comment_id":135904422,"body_markdown":"Thanks. Also as a last update: It was my hope that something &quot;behind the lines&quot; could be done totally removing all glow, without adding too much css.","body":"Thanks. Also as a last update: It was my hope that something &quot;behind the lines&quot; could be done totally removing all glow, without adding too much css."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1694554601,"post_id":77091577,"comment_id":135906032,"body_markdown":"I updated the [duplicate answer](https://stackoverflow.com/questions/6092500/how-do-i-remove-the-default-border-glow-of-a-javafx-button-when-selected/15749763#15749763) to provide styling for common controls to make focused items look exactly the same as unfocused items for most controls.  I can no longer mark this is a duplicate as StackOverflow won&#39;t let me :-(","body":"I updated the <a href=\"https://stackoverflow.com/questions/6092500/how-do-i-remove-the-default-border-glow-of-a-javafx-button-when-selected/15749763#15749763\">duplicate answer</a> to provide styling for common controls to make focused items look exactly the same as unfocused items for most controls.  I can no longer mark this is a duplicate as StackOverflow won&#39;t let me :-("},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1694576450,"post_id":77091577,"comment_id":135907901,"body_markdown":"Closed as duplicate, as the duplicate now addresses all the questions raised here.","body":"Closed as duplicate, as the duplicate now addresses all the questions raised here."},{"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"score":0,"creation_date":1694629416,"post_id":77091577,"comment_id":135917770,"body_markdown":"Perfect :) Thanks jewelsea.","body":"Perfect :) Thanks jewelsea."}],"owner":{"account_id":8022892,"reputation":165,"user_id":6050980,"accept_rate":67,"display_name":"droid"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694576308,"answer_count":0,"score":0,"last_activity_date":1694544953,"creation_date":1694541272,"question_id":77091577,"body_markdown":"I know this issue have been raised before, but I still don&#39;t know how to completely remove the glow when items are focused.\r\n\r\nI have been working with this: https://www.jensd.de/wordpress/?p=1245 and that is working fine for a button, but I can&#39;t figure out how to remove the glow from all other items - the toggleButton, the checkBox and the textField.\r\n\r\nSo, this is working for the button:\r\n\r\n       .button:focused {\r\n            -fx-background-color: -fx-outer-border, -fx-inner-border, -fx-body-color; \r\n            -fx-background-insets: 0, 1, 2;\r\n            -fx-background-radius: 5, 4, 3;\r\n        }\r\n\r\nFor the checkBox i tried the same, with different background-insets and background-radius values, without any luck:\r\n\r\n       .check-box:focused {\r\n                -fx-background-color: -fx-outer-border, -fx-inner-border, -fx-body-color; \r\n                -fx-background-insets: 0, 1, 2;\r\n                -fx-background-radius: 5, 4, 3;\r\n            }\r\n\r\nI&#39;m not sure what else code/example to show, just trying above on a simple default checkBox.\r\n\r\nAny chance I can remove the focus glow from all items?\r\n\r\n\r\n","title":"JavaFX remove focus glow","body":"<p>I know this issue have been raised before, but I still don't know how to completely remove the glow when items are focused.</p>\n<p>I have been working with this: <a href=\"https://www.jensd.de/wordpress/?p=1245\" rel=\"nofollow noreferrer\">https://www.jensd.de/wordpress/?p=1245</a> and that is working fine for a button, but I can't figure out how to remove the glow from all other items - the toggleButton, the checkBox and the textField.</p>\n<p>So, this is working for the button:</p>\n<pre><code>   .button:focused {\n        -fx-background-color: -fx-outer-border, -fx-inner-border, -fx-body-color; \n        -fx-background-insets: 0, 1, 2;\n        -fx-background-radius: 5, 4, 3;\n    }\n</code></pre>\n<p>For the checkBox i tried the same, with different background-insets and background-radius values, without any luck:</p>\n<pre><code>   .check-box:focused {\n            -fx-background-color: -fx-outer-border, -fx-inner-border, -fx-body-color; \n            -fx-background-insets: 0, 1, 2;\n            -fx-background-radius: 5, 4, 3;\n        }\n</code></pre>\n<p>I'm not sure what else code/example to show, just trying above on a simple default checkBox.</p>\n<p>Any chance I can remove the focus glow from all items?</p>\n"},{"tags":["java","spring-boot","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":22202832,"reputation":57,"user_id":16443218,"display_name":"Corvo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694544740,"creation_date":1694544740,"answer_id":77091931,"question_id":77091485,"body_markdown":"The problem was on `spring-cloud.version`. I changed it to `&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;` and the discovery server worked.","title":"I&#39;m unable to view Eureka dashboard","body":"<p>The problem was on <code>spring-cloud.version</code>. I changed it to <code>&lt;spring-cloud.version&gt;2022.0.4&lt;/spring-cloud.version&gt;</code> and the discovery server worked.</p>\n"}],"owner":{"account_id":22202832,"reputation":57,"user_id":16443218,"display_name":"Corvo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694544740,"creation_date":1694540225,"question_id":77091485,"body_markdown":"When I access http://localhost:8761/ or http://localhost:8761/eureka I get &quot;Whitelabel Error Page&quot;.\r\n\r\nMy app class:\r\n```java\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class DiscoveryServerApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DiscoveryServerApplication.class, args);\r\n        }\r\n    }\r\n```\r\napplication.properties:\r\n\r\n    eureka.instance.hostname=localhost\r\n    eureka.client.register-with-eureka=false\r\n    eureka.client.fetch-registry=false\r\n    server.port=8761\r\n    spring.freemarker.template-loader-path=classpath:/templates/\r\n    spring.freemarker.prefer-file-system-access=false\r\n\r\npom.xml from discovery server module:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\npom.xml from parent project:\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;inventory-service&lt;/module&gt;\r\n        &lt;module&gt;order-service&lt;/module&gt;\r\n        &lt;module&gt;product-service&lt;/module&gt;\r\n        &lt;module&gt;discovery-server&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nDiscovery server application logs:\r\n\r\n```java\r\n    2023-09-12T14:25:01.469-03:00  INFO 28640 --- [           main] c.y.g.d.DiscoveryServerApplication       : Starting DiscoveryServerApplication using Java 17.0.6 with PID 28640\r\n    2023-09-12T14:25:01.472-03:00  INFO 28640 --- [           main] c.y.g.d.DiscoveryServerApplication       : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-09-12T14:25:02.662-03:00  INFO 28640 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8761 (http)\r\n    2023-09-12T14:25:02.672-03:00  INFO 28640 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-09-12T14:25:02.672-03:00  INFO 28640 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\r\n    2023-09-12T14:25:02.777-03:00  INFO 28640 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-09-12T14:25:02.778-03:00  INFO 28640 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1259 ms\r\n    2023-09-12T14:25:03.563-03:00  INFO 28640 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n    2023-09-12T14:25:03.624-03:00  INFO 28640 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8761 (http) with context path &#39;&#39;\r\n    2023-09-12T14:25:03.637-03:00  INFO 28640 --- [           main] c.y.g.d.DiscoveryServerApplication       : Started DiscoveryServerApplication in 2.794 seconds (process running for 3.526)\r\n    2023-09-12T14:25:03.942-03:00  INFO 28640 --- [2)-192.168.15.7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-09-12T14:25:03.943-03:00  INFO 28640 --- [2)-192.168.15.7] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-09-12T14:25:03.944-03:00  INFO 28640 --- [2)-192.168.15.7] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\nPS: I&#39;m using Spring Boot 3.1.3","title":"I&#39;m unable to view Eureka dashboard","body":"<p>When I access http://localhost:8761/ or http://localhost:8761/eureka I get &quot;Whitelabel Error Page&quot;.</p>\n<p>My app class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SpringBootApplication\n    @EnableEurekaServer\n    public class DiscoveryServerApplication {\n        public static void main(String[] args) {\n            SpringApplication.run(DiscoveryServerApplication.class, args);\n        }\n    }\n</code></pre>\n<p>application.properties:</p>\n<pre><code>eureka.instance.hostname=localhost\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\nserver.port=8761\nspring.freemarker.template-loader-path=classpath:/templates/\nspring.freemarker.prefer-file-system-access=false\n</code></pre>\n<p>pom.xml from discovery server module:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>pom.xml from parent project:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;modules&gt;\n    &lt;module&gt;inventory-service&lt;/module&gt;\n    &lt;module&gt;order-service&lt;/module&gt;\n    &lt;module&gt;product-service&lt;/module&gt;\n    &lt;module&gt;discovery-server&lt;/module&gt;\n&lt;/modules&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Discovery server application logs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    2023-09-12T14:25:01.469-03:00  INFO 28640 --- [           main] c.y.g.d.DiscoveryServerApplication       : Starting DiscoveryServerApplication using Java 17.0.6 with PID 28640\n    2023-09-12T14:25:01.472-03:00  INFO 28640 --- [           main] c.y.g.d.DiscoveryServerApplication       : No active profile set, falling back to 1 default profile: &quot;default&quot;\n    2023-09-12T14:25:02.662-03:00  INFO 28640 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8761 (http)\n    2023-09-12T14:25:02.672-03:00  INFO 28640 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n    2023-09-12T14:25:02.672-03:00  INFO 28640 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\n    2023-09-12T14:25:02.777-03:00  INFO 28640 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2023-09-12T14:25:02.778-03:00  INFO 28640 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1259 ms\n    2023-09-12T14:25:03.563-03:00  INFO 28640 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n    2023-09-12T14:25:03.624-03:00  INFO 28640 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8761 (http) with context path ''\n    2023-09-12T14:25:03.637-03:00  INFO 28640 --- [           main] c.y.g.d.DiscoveryServerApplication       : Started DiscoveryServerApplication in 2.794 seconds (process running for 3.526)\n    2023-09-12T14:25:03.942-03:00  INFO 28640 --- [2)-192.168.15.7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n    2023-09-12T14:25:03.943-03:00  INFO 28640 --- [2)-192.168.15.7] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n    2023-09-12T14:25:03.944-03:00  INFO 28640 --- [2)-192.168.15.7] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>PS: I'm using Spring Boot 3.1.3</p>\n"},{"tags":["java","android","android-textinputlayout","textinputlayout"],"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694544321,"creation_date":1694544321,"question_id":77091897,"body_markdown":"I&#39;m trying to change font all over my application. I couldn&#39;t find any solution, but I&#39;m doing this activity by activity.\r\n\r\nSo I&#39;ve written one function, which takes a view and if it&#39;s of certain view-type (text dervative), I set the text-size to my desired font size.\r\n\r\nBut I&#39;m having one issue with `TextInputLayout`. I can&#39;t increase their font size no matter what.\r\n\r\nMy solution:\r\n```java\r\npublic static void setFontSize(View view, int fontSize) {\r\n        if (view == null) {\r\n            return;\r\n        }\r\n\r\n//        if (view instanceof TextInputLayout) {\r\n//             ??? what am i supposed to do here ???\r\n//        } else\r\n        if (view instanceof MaterialButton) {\r\n            ((MaterialButton) view).setTextSize(fontSize);\r\n        } else if (view instanceof MaterialAutoCompleteTextView) {\r\n            ((MaterialAutoCompleteTextView) view).setTextSize(fontSize);\r\n        } else if (view instanceof AutoCompleteTextView) {\r\n            ((AutoCompleteTextView) view).setTextSize(fontSize);\r\n        } else if (view instanceof MaterialRadioButton) {\r\n            ((MaterialRadioButton) view).setTextSize(fontSize);\r\n        } else if (view instanceof Button) {\r\n            ((Button) view).setTextSize(fontSize);\r\n        } else if (view instanceof TextInputEditText) {\r\n            ((TextInputEditText) view).setTextSize(fontSize);\r\n        } else if (view instanceof MaterialTextView) {\r\n            ((MaterialTextView) view).setTextSize(fontSize);\r\n        } else if (view instanceof AppCompatTextView) {\r\n            ((AppCompatTextView) view).setTextSize(fontSize);\r\n        } else if (view instanceof TextView) {\r\n            ((TextView) view).setTextSize(fontSize);\r\n        } else if (view instanceof ViewGroup) {\r\n            ViewGroup group = (ViewGroup) view;\r\n            for (int i = 0; i &lt; group.getChildCount(); i++) {\r\n                setFontSize(group.getChildAt(i), fontSize);\r\n            }\r\n        }\r\n    }\r\n```\r\n**Somehow those labels are not being processed under this, so I can&#39;t set their type. Can you guys help me fix it?**\r\n\r\nI&#39;ve already seen these solutions:\r\n - https://stackoverflow.com/a/35203711/10305444\r\n - https://stackoverflow.com/a/35409950/10305444\r\n - https://stackoverflow.com/a/35738706/10305444\r\n\r\nBut they don&#39;t help me. (As they are providing static like solution, but I want to make it pure dynamic)","title":"changing text size all over activity, but labels of TextInputLayout are not affected","body":"<p>I'm trying to change font all over my application. I couldn't find any solution, but I'm doing this activity by activity.</p>\n<p>So I've written one function, which takes a view and if it's of certain view-type (text dervative), I set the text-size to my desired font size.</p>\n<p>But I'm having one issue with <code>TextInputLayout</code>. I can't increase their font size no matter what.</p>\n<p>My solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setFontSize(View view, int fontSize) {\n        if (view == null) {\n            return;\n        }\n\n//        if (view instanceof TextInputLayout) {\n//             ??? what am i supposed to do here ???\n//        } else\n        if (view instanceof MaterialButton) {\n            ((MaterialButton) view).setTextSize(fontSize);\n        } else if (view instanceof MaterialAutoCompleteTextView) {\n            ((MaterialAutoCompleteTextView) view).setTextSize(fontSize);\n        } else if (view instanceof AutoCompleteTextView) {\n            ((AutoCompleteTextView) view).setTextSize(fontSize);\n        } else if (view instanceof MaterialRadioButton) {\n            ((MaterialRadioButton) view).setTextSize(fontSize);\n        } else if (view instanceof Button) {\n            ((Button) view).setTextSize(fontSize);\n        } else if (view instanceof TextInputEditText) {\n            ((TextInputEditText) view).setTextSize(fontSize);\n        } else if (view instanceof MaterialTextView) {\n            ((MaterialTextView) view).setTextSize(fontSize);\n        } else if (view instanceof AppCompatTextView) {\n            ((AppCompatTextView) view).setTextSize(fontSize);\n        } else if (view instanceof TextView) {\n            ((TextView) view).setTextSize(fontSize);\n        } else if (view instanceof ViewGroup) {\n            ViewGroup group = (ViewGroup) view;\n            for (int i = 0; i &lt; group.getChildCount(); i++) {\n                setFontSize(group.getChildAt(i), fontSize);\n            }\n        }\n    }\n</code></pre>\n<p><strong>Somehow those labels are not being processed under this, so I can't set their type. Can you guys help me fix it?</strong></p>\n<p>I've already seen these solutions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/35203711/10305444\">https://stackoverflow.com/a/35203711/10305444</a></li>\n<li><a href=\"https://stackoverflow.com/a/35409950/10305444\">https://stackoverflow.com/a/35409950/10305444</a></li>\n<li><a href=\"https://stackoverflow.com/a/35738706/10305444\">https://stackoverflow.com/a/35738706/10305444</a></li>\n</ul>\n<p>But they don't help me. (As they are providing static like solution, but I want to make it pure dynamic)</p>\n"},{"tags":["java","scjp"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1430902852,"post_id":30072077,"comment_id":48258045,"body_markdown":"The sources are in src.zip.","body":"The sources are in src.zip."},{"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"score":1,"creation_date":1430902907,"post_id":30072077,"comment_id":48258085,"body_markdown":"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/PriorityQueue.java#587","body":"<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/PriorityQueue.java#587\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>"},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":0,"creation_date":1430903228,"post_id":30072077,"comment_id":48258287,"body_markdown":"@JB Nizet: All Implemented Interfaces:\nSerializable, Iterable&lt;E&gt;, Collection&lt;E&gt;, Queue&lt;E&gt;","body":"@JB Nizet: All Implemented Interfaces: Serializable, Iterable&lt;E&gt;, Collection&lt;E&gt;, Queue&lt;E&gt;"},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":1,"creation_date":1430903300,"post_id":30072077,"comment_id":48258334,"body_markdown":"@JBNizet That&#39;s all it implements. I can read it says natural ordering but it doesn&#39;t implement comparable if you see this: All Implemented Interfaces: Serializable, Iterable&lt;E&gt;, Collection&lt;E&gt;, Queue&lt;E&gt;","body":"@JBNizet That&#39;s all it implements. I can read it says natural ordering but it doesn&#39;t implement comparable if you see this: All Implemented Interfaces: Serializable, Iterable&lt;E&gt;, Collection&lt;E&gt;, Queue&lt;E&gt;"},{"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"score":2,"creation_date":1430904146,"post_id":30072077,"comment_id":48258929,"body_markdown":"`E` needs to implement `Comparable` or a `Comparator` needs to be defined, this is clearly stated in the doc. Why should `PriorityQueue` implement `Comparable`?","body":"<code>E</code> needs to implement <code>Comparable</code> or a <code>Comparator</code> needs to be defined, this is clearly stated in the doc. Why should <code>PriorityQueue</code> implement <code>Comparable</code>?"},{"owner":{"account_id":1110986,"reputation":223,"user_id":1101449,"accept_rate":80,"display_name":"jaypi"},"score":2,"creation_date":1430904931,"post_id":30072077,"comment_id":48259519,"body_markdown":"@JBNizet You may have missed this part of http://stackoverflow.com/tour\n\n&quot;Remember: we&#39;re all here to learn, so be friendly and helpful!&quot;\n\nEven though your answer is helpful, it could be friendlier.","body":"@JBNizet You may have missed this part of <a href=\"http://stackoverflow.com/tour\">stackoverflow.com/tour</a>  &quot;Remember: we&#39;re all here to learn, so be friendly and helpful!&quot;  Even though your answer is helpful, it could be friendlier."}],"answers":[{"comments":[{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":1,"creation_date":1430903468,"post_id":30072190,"comment_id":48258447,"body_markdown":"So elements implement comparable or comparator? I didn&#39;t get you","body":"So elements implement comparable or comparator? I didn&#39;t get you"},{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":1,"creation_date":1430904030,"post_id":30072190,"comment_id":48258829,"body_markdown":"@kittu: JavaDoc: `A priority queue relying on natural ordering also does not permit\n  insertion of non-comparable objects (doing so may result in ClassCastException).`","body":"@kittu: JavaDoc: <code>A priority queue relying on natural ordering also does not permit   insertion of non-comparable objects (doing so may result in ClassCastException).</code>"},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":1,"creation_date":1430908869,"post_id":30072190,"comment_id":48262175,"body_markdown":"wow. thanks a lot. I understood it well with the illustration","body":"wow. thanks a lot. I understood it well with the illustration"},{"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"score":2,"creation_date":1430908950,"post_id":30072190,"comment_id":48262238,"body_markdown":"@kittu Hope it helps:) Tree is powerful and interesting data structure.","body":"@kittu Hope it helps:) Tree is powerful and interesting data structure."},{"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"score":0,"creation_date":1576693943,"post_id":30072190,"comment_id":104985398,"body_markdown":"If we loop over al the elements we have in an array of size n and then insert them into the priorityQueue, will we have a complexity of n * log n ?","body":"If we loop over al the elements we have in an array of size n and then insert them into the priorityQueue, will we have a complexity of n * log n ?"}],"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1694543612,"creation_date":1430903055,"answer_id":30072190,"question_id":30072077,"body_markdown":"The actual internal data structure of `PriorityQueue` is not ordered. It is a **[heap][1]**. \r\n\r\n`PriorityQueue` doesn&#39;t need to be ordered. Instead, it focuses on **head** of data. Insertion is in *O(log n)* time. Sorting wastes time and is useless for a queue.\r\n\r\nMoreover, either the element is-a `Comparable`, or a `Comparator` is provided. Unfortunately, non-comparable checking is at **runtime**, rather than compile time. Once second element is added, `ClassCastException` occurs.\r\n\r\nPLUS: My answer to *why [1, 3, 2, 4] instead of prints [1, 2, 3, 4]*?\r\n\r\nAs I mentioned before, it&#39;s not ordered. Instead it focuses on head `q[0]` is minimum; that&#39;s it. \r\nYou could see the [1, 3, 2, 4] as a tree which is *not* linear:\r\n\r\n```lang-none\r\n1\r\n| \\\r\n3  2\r\n|\r\n4\r\n```\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Heap_(data_structure)\r\n","title":"Priority queue ordering of elements","body":"<p>The actual internal data structure of <code>PriorityQueue</code> is not ordered. It is a <strong><a href=\"http://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">heap</a></strong>.</p>\n<p><code>PriorityQueue</code> doesn't need to be ordered. Instead, it focuses on <strong>head</strong> of data. Insertion is in <em>O(log n)</em> time. Sorting wastes time and is useless for a queue.</p>\n<p>Moreover, either the element is-a <code>Comparable</code>, or a <code>Comparator</code> is provided. Unfortunately, non-comparable checking is at <strong>runtime</strong>, rather than compile time. Once second element is added, <code>ClassCastException</code> occurs.</p>\n<p>PLUS: My answer to <em>why [1, 3, 2, 4] instead of prints [1, 2, 3, 4]</em>?</p>\n<p>As I mentioned before, it's not ordered. Instead it focuses on head <code>q[0]</code> is minimum; that's it.\nYou could see the [1, 3, 2, 4] as a tree which is <em>not</em> linear:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n| \\\n3  2\n|\n4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954291,"reputation":2907,"user_id":979872,"accept_rate":70,"display_name":"Hussein Zawawi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430904545,"creation_date":1430904545,"answer_id":30072752,"question_id":30072077,"body_markdown":"The priority queue relies on the following to order the elements:\r\n\r\n - Element must be a Comparable type\r\n - Need to provide Comparator implementation for the queue","title":"Priority queue ordering of elements","body":"<p>The priority queue relies on the following to order the elements:</p>\n\n<ul>\n<li>Element must be a Comparable type</li>\n<li>Need to provide Comparator implementation for the queue</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6239124,"reputation":21,"user_id":4853346,"display_name":"SAURAV AGGARWAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430994982,"creation_date":1430994982,"answer_id":30098592,"question_id":30072077,"body_markdown":"Actually PriorityQueue allows only those elements which implements Comparable or you need to provide Custom Comparator.\r\n\r\nInteger and String values are allowed in Comparator because they implement Comparable interface. e.g.\r\npublic final class String  implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence\r\n\r\npublic final class Integer extends Number implements Comparable&lt;Integer&gt; \r\n\r\nIf you create your own class e.g Employee then it should implement Comparable or you should provide your custom Comparator.\r\n\r\nI hope this will resolve your queries!!!!","title":"Priority queue ordering of elements","body":"<p>Actually PriorityQueue allows only those elements which implements Comparable or you need to provide Custom Comparator.</p>\n\n<p>Integer and String values are allowed in Comparator because they implement Comparable interface. e.g.\npublic final class String  implements java.io.Serializable, Comparable, CharSequence</p>\n\n<p>public final class Integer extends Number implements Comparable </p>\n\n<p>If you create your own class e.g Employee then it should implement Comparable or you should provide your custom Comparator.</p>\n\n<p>I hope this will resolve your queries!!!!</p>\n"},{"tags":[],"owner":{"account_id":11117292,"reputation":277,"user_id":8161256,"display_name":"Saathvik"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1500443866,"creation_date":1500443866,"answer_id":45182025,"question_id":30072077,"body_markdown":"You are seeing that order because:&lt;br&gt;&lt;br&gt;\r\n1. Internally System.out.println() will be invoking the toString() method which in turn uses the iterator to iterate through the elements of the queue. But the iterator does not guarantee any specific order to traverse the elements. Refer this \r\n\r\n[http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\r\n&lt;br&gt;2. Priority queue is based on priority heap. When an element is inserted without any comparator then priority queue uses siftUpComparable() method internally. siftUpComparable() compares the current element with the element at it&#39;s parent position in the heap. If the order is not correct then current element and parent element are swapped. This is done until the current element and parent element are in correct order. Ordering is based on natural order of the element. \r\n&lt;br&gt;&lt;br&gt;3. Since priority queue is based on priority heap its main focus will be on element in front of the queue. \r\nSo the elements are ordered when an element is dequeued from the queue using poll(). This is done to increase the performance of Priority queue. Priority queue only orders the elements when it requires.&lt;br&gt;\r\nIf you want to see the order as [1, 2, 3, 4] then use this \r\n\r\n    while(pq.size() != 0) { \r\n        System.out.println(pq.poll());\r\n    }\r\n\r\n","title":"Priority queue ordering of elements","body":"<p>You are seeing that order because:<br><br>\n1. Internally System.out.println() will be invoking the toString() method which in turn uses the iterator to iterate through the elements of the queue. But the iterator does not guarantee any specific order to traverse the elements. Refer this </p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/PriorityQueue.html</a></p>\n\n<p><br>2. Priority queue is based on priority heap. When an element is inserted without any comparator then priority queue uses siftUpComparable() method internally. siftUpComparable() compares the current element with the element at it's parent position in the heap. If the order is not correct then current element and parent element are swapped. This is done until the current element and parent element are in correct order. Ordering is based on natural order of the element. \n<br><br>3. Since priority queue is based on priority heap its main focus will be on element in front of the queue. \nSo the elements are ordered when an element is dequeued from the queue using poll(). This is done to increase the performance of Priority queue. Priority queue only orders the elements when it requires.<br>\nIf you want to see the order as [1, 2, 3, 4] then use this </p>\n\n<pre><code>while(pq.size() != 0) { \n    System.out.println(pq.poll());\n}\n</code></pre>\n"}],"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24424,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"accepted_answer_id":30072190,"answer_count":4,"score":13,"last_activity_date":1694543612,"creation_date":1430902786,"question_id":30072077,"body_markdown":"How come the elements of priority queue are ordered according to natural order by default as it doesn&#39;t implement comparable interface?\r\n\r\nFrom [the documentation][1], it says elements are ordered based on natural ordering, but I can&#39;t find anywhere it talks about an equals method nor comparable. How is it happening internally?\r\n\r\n&gt; All Implemented Interfaces: Serializable, Iterable&lt;E&gt;, Collection&lt;E&gt;, Queue&lt;E&gt;.\r\n\r\nIf it implements comparable, then why doesn&#39;t it say in the above line?\r\n\r\nExample:\r\n\r\n        public static void main(String[] args) {\r\n            PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;();\r\n            pq.add(&quot;2&quot;);\r\n            pq.add(&quot;4&quot;);\r\n            System.out.println(pq); //prints [2, 4]\r\n            pq.offer(&quot;1&quot;);\r\n            System.out.println(pq); // prints [1, 4, 2]\r\n            pq.add(&quot;3&quot;);\r\n            System.out.println(pq); // prints [1, 3, 2, 4]\r\n        }\r\n    }\r\n\r\nAlso the third print statement prints [1, 3, 2, 4] instead of prints [1, 2, 3, 4]. Why? It should be natural ordering, right?\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\r\n\r\n\r\n","title":"Priority queue ordering of elements","body":"<p>How come the elements of priority queue are ordered according to natural order by default as it doesn't implement comparable interface?</p>\n<p>From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">the documentation</a>, it says elements are ordered based on natural ordering, but I can't find anywhere it talks about an equals method nor comparable. How is it happening internally?</p>\n<blockquote>\n<p>All Implemented Interfaces: Serializable, Iterable, Collection, Queue.</p>\n</blockquote>\n<p>If it implements comparable, then why doesn't it say in the above line?</p>\n<p>Example:</p>\n<pre><code>    public static void main(String[] args) {\n        PriorityQueue&lt;String&gt; pq = new PriorityQueue&lt;String&gt;();\n        pq.add(&quot;2&quot;);\n        pq.add(&quot;4&quot;);\n        System.out.println(pq); //prints [2, 4]\n        pq.offer(&quot;1&quot;);\n        System.out.println(pq); // prints [1, 4, 2]\n        pq.add(&quot;3&quot;);\n        System.out.println(pq); // prints [1, 3, 2, 4]\n    }\n}\n</code></pre>\n<p>Also the third print statement prints [1, 3, 2, 4] instead of prints [1, 2, 3, 4]. Why? It should be natural ordering, right?</p>\n"},{"tags":["java","swing","graphics","look-and-feel","jmenu"],"comments":[{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":1,"creation_date":1608526602,"post_id":65387329,"comment_id":115601687,"body_markdown":"[Same thing happens in Windows 7 as well](https://i.stack.imgur.com/Wzaf1.png)","body":"<a href=\"https://i.stack.imgur.com/Wzaf1.png\" rel=\"nofollow noreferrer\">Same thing happens in Windows 7 as well</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1608528454,"post_id":65387329,"comment_id":115602024,"body_markdown":"Works OK for me on Windows 10 using JDK 11.","body":"Works OK for me on Windows 10 using JDK 11."},{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":1,"creation_date":1608531318,"post_id":65387329,"comment_id":115602651,"body_markdown":"Same as OP and I have window 10, jdk1.8.0_261.","body":"Same as OP and I have window 10, jdk1.8.0_261."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1608570828,"post_id":65387329,"comment_id":115618519,"body_markdown":"I see the same results as you with your updated code. I don&#39;t see any problem with your code. I also downloaded the `MenuLookDemo` code from the Swing tutorial on [How to Use Menus](https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html), changed the code to use System LAF and get the same results.  so I would suggest this is a LAF bug.","body":"I see the same results as you with your updated code. I don&#39;t see any problem with your code. I also downloaded the <code>MenuLookDemo</code> code from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html\" rel=\"nofollow noreferrer\">How to Use Menus</a>, changed the code to use System LAF and get the same results.  so I would suggest this is a LAF bug."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1608590823,"post_id":65387329,"comment_id":115626021,"body_markdown":"@GeorgeZ.What version of Java are you using?","body":"@GeorgeZ.What version of Java are you using?"},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1694185580,"post_id":65387329,"comment_id":135862528,"body_markdown":"This is probably because of different types of popups used: lightweight versus heavyweight. It seems like heavyweight popups work correctly whereas lightweight don&#39;t.","body":"This is probably because of different types of popups used: lightweight versus heavyweight. It seems like heavyweight popups work correctly whereas lightweight don&#39;t."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1694450527,"post_id":65387329,"comment_id":135889545,"body_markdown":"@AlexeyIvanov What heavyweight component is being used though? These are all lightweight Swing components","body":"@AlexeyIvanov What heavyweight component is being used though? These are all lightweight Swing components"},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1694520621,"post_id":65387329,"comment_id":135899012,"body_markdown":"@Vince Menu items are rendered in `Popup`s. Take a look at [`PopupFactory.getPopup`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/PopupFactory.html#getPopup(java.awt.Component,java.awt.Component,int,int,boolean)): “`isHeavyWeightPopup` specifies if the `Popup` will be heavyweight. Lightweight `Popup` windows are more efficient than heavyweight (native peer) windows…”. A lightweight popup uses a `JComponent` which is rendered in `JLayeredPane` whereas a heavyweight popup uses a `Window` that creates a _native window_.","body":"@Vince Menu items are rendered in <code>Popup</code>s. Take a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/PopupFactory.html#getPopup(java.awt.Component,java.awt.Component,int,int,boolean)\" rel=\"nofollow noreferrer\"><code>PopupFactory.getPopup</code></a>: “<code>isHeavyWeightPopup</code> specifies if the <code>Popup</code> will be heavyweight. Lightweight <code>Popup</code> windows are more efficient than heavyweight (native peer) windows…”. A lightweight popup uses a <code>JComponent</code> which is rendered in <code>JLayeredPane</code> whereas a heavyweight popup uses a <code>Window</code> that creates a <i>native window</i>."},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1694534166,"post_id":65387329,"comment_id":135902377,"body_markdown":"@AlexeyIvanov `JMenu` is using a `JPopupMenu`, which is a `JComponent`, https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/javax/swing/JMenu.java#L530-L537","body":"@AlexeyIvanov <code>JMenu</code> is using a <code>JPopupMenu</code>, which is a <code>JComponent</code>, <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/javax/swing/JMenu.java#L530-L537\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.desktop/share/&hellip;</a>"},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1694546131,"post_id":65387329,"comment_id":135904637,"body_markdown":"@Vince Look further: https://github.com/openjdk/jdk/blob/ac2dfe45d1b7fb9b99b0ba1402189de1791319b8/src/java.desktop/share/classes/javax/swing/JPopupMenu.java#L852-L878 Try calling [**`JPopupMenu.setLightWeightPopupEnabled`**](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPopupMenu.html#setLightWeightPopupEnabled(boolean)) to disable lightweight popups: `fileMenu.getPopupMenu().setLightWeightPopupEnabled(false); newMenu.getPopupMenu().setLightWeightPopupEnabled(false);`","body":"@Vince Look further: <a href=\"https://github.com/openjdk/jdk/blob/ac2dfe45d1b7fb9b99b0ba1402189de1791319b8/src/java.desktop/share/classes/javax/swing/JPopupMenu.java#L852-L878\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a> Try calling <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JPopupMenu.html#setLightWeightPopupEnabled(boolean)\" rel=\"nofollow noreferrer\"><b><code>JPopupMenu.setLightWeightPopupEnabled</code></b></a> to disable lightweight popups: <code>fileMenu.getPopupMenu().setLightWeightPopupEnabled(false); newMenu.getPopupMenu().setLightWeightPopupEnabled(false);</code>"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1694671228,"post_id":65387329,"comment_id":135922310,"body_markdown":"@AlexeyIvanov Setting it to `false` would cause it to use a heavyweight component, which would mix lightweight &amp; heavyweight. The container is lightweight, so shouldnt the popup also be lightweight?","body":"@AlexeyIvanov Setting it to <code>false</code> would cause it to use a heavyweight component, which would mix lightweight &amp; heavyweight. The container is lightweight, so shouldnt the popup also be lightweight?"},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":0,"creation_date":1694712348,"post_id":65387329,"comment_id":135930796,"body_markdown":"@Vince Did you try it? I explained above that a heavyweight popup is used automatically if it doesn&#39;t fit inside the `JFrame` bounds. No mixing will occur because heavyweight popups aren&#39;t added into `JFrame` hierarchy, they are native windows which are displayed on top of your frame and on top of other popups for that matter. Yet lightweight popups are added into `JLayeredPane` for rendering, so the lightweight popups become part of component hierarchy.","body":"@Vince Did you try it? I explained above that a heavyweight popup is used automatically if it doesn&#39;t fit inside the <code>JFrame</code> bounds. No mixing will occur because heavyweight popups aren&#39;t added into <code>JFrame</code> hierarchy, they are native windows which are displayed on top of your frame and on top of other popups for that matter. Yet lightweight popups are added into <code>JLayeredPane</code> for rendering, so the lightweight popups become part of component hierarchy."}],"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1694543536,"creation_date":1608522411,"question_id":65387329,"body_markdown":"# Bug Report\r\n\r\nThis has been confirmed as a bug. You can track it here:\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8258934\r\n\r\n# Background\r\n- There&#39;s no other code running besides what I&#39;ve posted in the MCVE; there are no other JVMs active when running this program (though I don&#39;t believe that should matter).\r\n\r\n- I do not have any programs installed which customizes the UI of my system.\r\n\r\n**Target Environment**\r\n\r\n    Java 1.8.0_201\r\n    Windows 10 Home Edition\r\n\r\n**Tested JDKs**\r\n  - JDK 8 to JDK 15\r\n\r\n**Tested by third party**\r\n- [George Z.](https://stackoverflow.com/questions/65387329/why-does-jmenu-not-render-correctly-when-using-system-lf#comment115601687_65387329) - Windows 7 - **Can reproduce bug**\r\n- [David Kroukamp](https://stackoverflow.com/questions/65387329/why-does-jmenu-not-render-correctly-when-using-system-lf#comment115602651_65387329) - Windows 10, JDK 10 - **Can reproduce bug**\r\n- [camickr](https://stackoverflow.com/questions/65387329/why-does-jmenu-not-render-correctly-when-using-system-lf#comment115602024_65387329) - Windows 10, JDK 11 - **Can reproduce bug**\r\n- Canvas (Discord) - Windows 10 - **Can reproduce bug**\r\n- Pawnee (Discord) - macOS Catalina 10.15.7, JDK 15 - ***Unable to reproduce bug***\r\n___\r\n\r\n# MCVE\r\n\r\n    import javax.swing.*;\r\n    \r\n    public class Demo {\r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(Demo::launchUI);\r\n        }\r\n    \r\n        private static void launchUI() {\r\n            try {\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            JFrame frame = new JFrame();\r\n            JMenuItem report = new JMenuItem(&quot;Report&quot;);\r\n            JMenu newMenu = new JMenu(&quot;New...&quot;);\r\n            JMenu fileMenu = new JMenu(&quot;File&quot;);\r\n            JMenuBar bar = new JMenuBar();\r\n    \r\n            newMenu.add(report);\r\n            fileMenu.add(newMenu);\r\n            bar.add(fileMenu);\r\n            frame.setJMenuBar(bar);\r\n            \r\n            frame.pack();\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n___\r\n# Reproduction Steps\r\n\r\n 1. Run the MCVE\r\n 2. Click through the menus\r\n 3. Resize the window\r\n 4. Click through the menus again\r\n\r\n___\r\n\r\n# MCVE Results\r\n\r\nWindows 10 machine targeting JDK 11 (though similar results on all tested major Java distributions):\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n- Menus give different render results before &amp; after resizing the window\r\n- There&#39;s overlap of the highlighting - the highlight of &quot;New...&quot; bleeds into the &quot;Report&quot; menu item.\r\n\r\n___\r\n\r\n- Sometimes the arrow of &quot;New...&quot; will get overlapped by &quot;Report&quot; as shown below.\r\n\r\n**Windows 7** - image by [George Z](https://stackoverflow.com/users/6579265/george-z)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Windows 10, JDK** - image by Canvas (Discord)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n___\r\n\r\n# New Findings\r\n\r\nThe highlight bug does not appear if part of the &quot;Report&quot; menu item is outside of the windows bounds.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThis was achieved by updating the popout offset for menus:\r\n\r\n    // apply this before creating any components\r\n    UIManager.put(&quot;Menu.menuPopupOffsetX&quot;, 20);\r\n    UIManager.put(&quot;Menu.menuPopupOffsetY&quot;, 20);\r\n\r\n___\r\n\r\n# Works on...\r\n - **macOS Catalina 10.15.7** - image by Pawnee (Discord)\r\n\r\n[![enter image description here][5]][5]\r\n___\r\n\r\n# Question\r\n\r\nDoes `JMenu` work properly with System L&amp;F, and if so, what am I missing to get proper results? (No extra spacing, no highlights bleeding into other components)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vuIku.gif\r\n  [2]: https://i.stack.imgur.com/Wzaf1.png\r\n  [3]: https://i.stack.imgur.com/acBpC.gif\r\n  [4]: https://i.stack.imgur.com/KnyQR.gif\r\n  [5]: https://i.stack.imgur.com/pkTJm.gif","title":"Why does JMenu not render correctly when using System L&amp;F?","body":"<h1>Bug Report</h1>\n<p>This has been confirmed as a bug. You can track it here:</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8258934\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8258934</a></p>\n<h1>Background</h1>\n<ul>\n<li><p>There's no other code running besides what I've posted in the MCVE; there are no other JVMs active when running this program (though I don't believe that should matter).</p>\n</li>\n<li><p>I do not have any programs installed which customizes the UI of my system.</p>\n</li>\n</ul>\n<p><strong>Target Environment</strong></p>\n<pre><code>Java 1.8.0_201\nWindows 10 Home Edition\n</code></pre>\n<p><strong>Tested JDKs</strong></p>\n<ul>\n<li>JDK 8 to JDK 15</li>\n</ul>\n<p><strong>Tested by third party</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/65387329/why-does-jmenu-not-render-correctly-when-using-system-lf#comment115601687_65387329\">George Z.</a> - Windows 7 - <strong>Can reproduce bug</strong></li>\n<li><a href=\"https://stackoverflow.com/questions/65387329/why-does-jmenu-not-render-correctly-when-using-system-lf#comment115602651_65387329\">David Kroukamp</a> - Windows 10, JDK 10 - <strong>Can reproduce bug</strong></li>\n<li><a href=\"https://stackoverflow.com/questions/65387329/why-does-jmenu-not-render-correctly-when-using-system-lf#comment115602024_65387329\">camickr</a> - Windows 10, JDK 11 - <strong>Can reproduce bug</strong></li>\n<li>Canvas (Discord) - Windows 10 - <strong>Can reproduce bug</strong></li>\n<li>Pawnee (Discord) - macOS Catalina 10.15.7, JDK 15 - <em><strong>Unable to reproduce bug</strong></em></li>\n</ul>\n<hr />\n<h1>MCVE</h1>\n<pre><code>import javax.swing.*;\n\npublic class Demo {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(Demo::launchUI);\n    }\n\n    private static void launchUI() {\n        try {\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException e) {\n            e.printStackTrace();\n        }\n\n        JFrame frame = new JFrame();\n        JMenuItem report = new JMenuItem(&quot;Report&quot;);\n        JMenu newMenu = new JMenu(&quot;New...&quot;);\n        JMenu fileMenu = new JMenu(&quot;File&quot;);\n        JMenuBar bar = new JMenuBar();\n\n        newMenu.add(report);\n        fileMenu.add(newMenu);\n        bar.add(fileMenu);\n        frame.setJMenuBar(bar);\n        \n        frame.pack();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<hr />\n<h1>Reproduction Steps</h1>\n<ol>\n<li>Run the MCVE</li>\n<li>Click through the menus</li>\n<li>Resize the window</li>\n<li>Click through the menus again</li>\n</ol>\n<hr />\n<h1>MCVE Results</h1>\n<p>Windows 10 machine targeting JDK 11 (though similar results on all tested major Java distributions):</p>\n<p><a href=\"https://i.stack.imgur.com/vuIku.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vuIku.gif\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Menus give different render results before &amp; after resizing the window</li>\n<li>There's overlap of the highlighting - the highlight of &quot;New...&quot; bleeds into the &quot;Report&quot; menu item.</li>\n</ul>\n<hr />\n<ul>\n<li>Sometimes the arrow of &quot;New...&quot; will get overlapped by &quot;Report&quot; as shown below.</li>\n</ul>\n<p><strong>Windows 7</strong> - image by <a href=\"https://stackoverflow.com/users/6579265/george-z\">George Z</a></p>\n<p><a href=\"https://i.stack.imgur.com/Wzaf1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wzaf1.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Windows 10, JDK</strong> - image by Canvas (Discord)</p>\n<p><a href=\"https://i.stack.imgur.com/acBpC.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acBpC.gif\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h1>New Findings</h1>\n<p>The highlight bug does not appear if part of the &quot;Report&quot; menu item is outside of the windows bounds.</p>\n<p><a href=\"https://i.stack.imgur.com/KnyQR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KnyQR.gif\" alt=\"enter image description here\" /></a></p>\n<p>This was achieved by updating the popout offset for menus:</p>\n<pre><code>// apply this before creating any components\nUIManager.put(&quot;Menu.menuPopupOffsetX&quot;, 20);\nUIManager.put(&quot;Menu.menuPopupOffsetY&quot;, 20);\n</code></pre>\n<hr />\n<h1>Works on...</h1>\n<ul>\n<li><strong>macOS Catalina 10.15.7</strong> - image by Pawnee (Discord)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/pkTJm.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pkTJm.gif\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h1>Question</h1>\n<p>Does <code>JMenu</code> work properly with System L&amp;F, and if so, what am I missing to get proper results? (No extra spacing, no highlights bleeding into other components)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1694544071,"post_id":77091797,"comment_id":135904299,"body_markdown":"A `List&lt;String&gt;` is not a `Collection&lt;Object&gt;`, so the `Object` overload is chosen.","body":"A <code>List&lt;String&gt;</code> is not a <code>Collection&lt;Object&gt;</code>, so the <code>Object</code> overload is chosen."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1694544120,"post_id":77091797,"comment_id":135904307,"body_markdown":"With the intermediate local variable the argument to `quoteContent()` is a `List&lt;String&gt;`. A `List&lt;String&gt;` **is not** a `List&lt;Object&gt;` (you can add only `String`s to a `List&lt;String&gt;`, but you can add all kinds of objects to a `List&lt;Object&gt;`.) In the first example the compiler infers the result of `Arrays.asList(&quot;1&quot;,null)` as a `List&lt;Object&gt;`.","body":"With the intermediate local variable the argument to <code>quoteContent()</code> is a <code>List&lt;String&gt;</code>. A <code>List&lt;String&gt;</code> <b>is not</b> a <code>List&lt;Object&gt;</code> (you can add only <code>String</code>s to a <code>List&lt;String&gt;</code>, but you can add all kinds of objects to a <code>List&lt;Object&gt;</code>.) In the first example the compiler infers the result of <code>Arrays.asList(&quot;1&quot;,null)</code> as a <code>List&lt;Object&gt;</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694545032,"post_id":77091797,"comment_id":135904464,"body_markdown":"If I remove `QuoteContent (Object obj)`, I get a compiler error `List&lt;String&gt; cannot be converted to List&lt;Object&gt;` on `quoteContent(someList)`. If I restore it, but change `quoteContent (Collection&lt;Object&gt; obj)` to `quoteContent (Collection&lt;? extends Object&gt; obj)`, `QutoeContent (someList)` calls the method with the `Collection` argument.","body":"If I remove <code>QuoteContent (Object obj)</code>, I get a compiler error <code>List&lt;String&gt; cannot be converted to List&lt;Object&gt;</code> on <code>quoteContent(someList)</code>. If I restore it, but change <code>quoteContent (Collection&lt;Object&gt; obj)</code> to <code>quoteContent (Collection&lt;? extends Object&gt; obj)</code>, <code>QutoeContent (someList)</code> calls the method with the <code>Collection</code> argument."}],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694543950,"answer_count":0,"score":0,"last_activity_date":1694543384,"creation_date":1694543384,"question_id":77091797,"body_markdown":"I recently spoted type resolution behaviour in Java for which I&#39;m not sure what the reason is.\r\n\r\nFirst of all there was a utility class with two methods:\r\n\r\n    public static String quoteContent(Collection&lt;Object&gt; object) {\r\n       return ...\r\n    }\r\n\r\n    publis static String quoteContent(Object object) {\r\n       return ...\r\n    }\r\n\r\nWhen I call quoteContent() with collection returned from a method, e.g. this way:\r\n\r\n    quoteContent(Arrays.asList(&quot;1&quot;,null));\r\n\r\nthe `quoteContent(Collection&lt;Object&gt;)` is called as expected. \r\n\r\nBut if I use intermediate local variable, like this:\r\n\r\n    List&lt;String&gt; someList = new ArrayList();\r\n    someList.add(&quot;one&quot;);\r\n    quoteContent(someList);\r\n\r\nthen `quoteContent(Object)` is, a bit suprisingly, called instead - **why**?\r\n","title":"type/method resolution when using local variable vs method return value","body":"<p>I recently spoted type resolution behaviour in Java for which I'm not sure what the reason is.</p>\n<p>First of all there was a utility class with two methods:</p>\n<pre><code>public static String quoteContent(Collection&lt;Object&gt; object) {\n   return ...\n}\n\npublis static String quoteContent(Object object) {\n   return ...\n}\n</code></pre>\n<p>When I call quoteContent() with collection returned from a method, e.g. this way:</p>\n<pre><code>quoteContent(Arrays.asList(&quot;1&quot;,null));\n</code></pre>\n<p>the <code>quoteContent(Collection&lt;Object&gt;)</code> is called as expected.</p>\n<p>But if I use intermediate local variable, like this:</p>\n<pre><code>List&lt;String&gt; someList = new ArrayList();\nsomeList.add(&quot;one&quot;);\nquoteContent(someList);\n</code></pre>\n<p>then <code>quoteContent(Object)</code> is, a bit suprisingly, called instead - <strong>why</strong>?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1694543694,"post_id":77091734,"comment_id":135904239,"body_markdown":"Why the use of `@Setter(AccessLevel.NONE)` ?","body":"Why the use of <code>@Setter(AccessLevel.NONE)</code> ?"},{"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"score":0,"creation_date":1694544888,"post_id":77091734,"comment_id":135904441,"body_markdown":"Did you tried to use public on the user field in Permission entity?","body":"Did you tried to use public on the user field in Permission entity?"},{"owner":{"account_id":14548039,"reputation":33,"user_id":10507767,"display_name":"Khả Nam"},"score":0,"creation_date":1694564885,"post_id":77091734,"comment_id":135907056,"body_markdown":"@PeterMmm I removed it but it still not working","body":"@PeterMmm I removed it but it still not working"},{"owner":{"account_id":14548039,"reputation":33,"user_id":10507767,"display_name":"Khả Nam"},"score":0,"creation_date":1694564917,"post_id":77091734,"comment_id":135907059,"body_markdown":"@stylepatrick, t tired it, but it sitll not working","body":"@stylepatrick, t tired it, but it sitll not working"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1694637161,"post_id":77091734,"comment_id":135919115,"body_markdown":"`org.springframework.security.web.access.intercept.AuthorizationFilter` makes part of the security framework of Spring. The exception tells that the request has not the required authorities. You should show the relevant code of security setup of your Spring app.","body":"<code>org.springframework.security.web.access.intercept.Authorizat&zwnj;&#8203;ionFilter</code> makes part of the security framework of Spring. The exception tells that the request has not the required authorities. You should show the relevant code of security setup of your Spring app."},{"owner":{"account_id":14548039,"reputation":33,"user_id":10507767,"display_name":"Khả Nam"},"score":0,"creation_date":1694663576,"post_id":77091734,"comment_id":135921637,"body_markdown":"Thanks @PeterMmm, i resloved my problem by adding     ```@Getter(AccessLevel.NONE)```. I&#39;m not sure why this makes it work.","body":"Thanks @PeterMmm, i resloved my problem by adding     <code>@Getter(AccessLevel.NONE)</code>. I&#39;m not sure why this makes it work."}],"owner":{"account_id":14548039,"reputation":33,"user_id":10507767,"display_name":"Khả Nam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694542819,"creation_date":1694542819,"question_id":77091734,"body_markdown":"I am trying to join the ```Permissions``` table with ```Users``` table via ```createdBy``` field. But I get the error below, I don&#39;t understand what the problem is, am I doing something wrong? And is there a better way for me to join the ```Permissions``` table with the ```Users``` table to get user information?\r\n\r\nMy error: \r\n```\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.3.jar:6.1.3]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:520) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:463) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:340) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:305) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nUser Entity: \r\n```\r\nimport jakarta.persistence.*;\r\nimport lombok.AccessLevel;\r\nimport lombok.Data;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.ColumnDefault;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\nimport java.util.Collection;\r\n\r\n@Entity(name = &quot;users&quot;)\r\n@Data\r\npublic class User implements UserDetails {\r\n\r\n    public User() {}\r\n\r\n    public User(String title, String firstName, String lastName, String middleName, String email, String password, LocalDate dob, String gender, String avatarUrl, Long roleId, Boolean status, String countryCode, String phoneNumber, String authenticationCode, LocalDateTime sendAuthenticationCodeAt, Long createdBy) {\r\n        this.title = title;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.middleName = middleName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.dob = dob;\r\n        this.gender = gender;\r\n        this.avatarUrl = avatarUrl;\r\n        this.status = status;\r\n        this.countryCode = countryCode;\r\n        this.phoneNumber = phoneNumber;\r\n        this.authenticationCode = authenticationCode;\r\n        this.sendAuthenticationCodeAt = sendAuthenticationCodeAt;\r\n        this.createdBy = createdBy;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, length = 10)\r\n    private String title;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private String firstName;\r\n\r\n    @Column(nullable = false, length = 20)\r\n    private String lastName;\r\n\r\n    @Column(nullable = true, length = 20)\r\n    private String middleName;\r\n\r\n    @Column(nullable = false, length = 50, unique = true)\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    private LocalDate dob;\r\n\r\n    @Column(nullable = false, length = 5)\r\n    private String gender;\r\n\r\n    private String avatarUrl;\r\n\r\n    @Column(nullable = false, columnDefinition = &quot;boolean default true&quot;)\r\n    private Boolean status;\r\n\r\n    @Column(length = 10)\r\n    private String countryCode;\r\n\r\n    @Column(length = 15)\r\n    private String phoneNumber;\r\n\r\n    @Column(length = 6)\r\n    private String authenticationCode;\r\n\r\n    private LocalDateTime sendAuthenticationCodeAt;\r\n\r\n    private int numberLoginFailed;\r\n\r\n    private String forgotPasswordToken;\r\n\r\n    @Column(nullable = false)\r\n    private Long createdBy;\r\n\r\n    @Column(nullable = false)\r\n    @ColumnDefault(&quot;CURRENT_TIMESTAMP&quot;)\r\n    private LocalDateTime createdAt;\r\n\r\n    private LocalDateTime updatedAt;\r\n\r\n    private Long deletedBy;\r\n\r\n    private LocalDateTime deletedAt;\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return status;\r\n    }\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @OneToOne(mappedBy = &quot;user&quot;)\r\n    private Permission permission;\r\n}\r\n\r\n\r\n```\r\n\r\nPermission entity: \r\n```\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.AccessLevel;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity(name = &quot;permissions&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class Permission {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private String slug;\r\n\r\n    private Long createdBy;\r\n\r\n    private LocalDateTime createdAt;\r\n\r\n    @Setter(AccessLevel.NONE)\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;createdBy&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable=false)\r\n    private User user;\r\n}\r\n\r\n```\r\nIf I quit connecting the 2 boards, the error message goes away and everything works normally.","title":"Access Denied when join with table User using JPA","body":"<p>I am trying to join the <code>Permissions</code> table with <code>Users</code> table via <code>createdBy</code> field. But I get the error below, I don't understand what the problem is, am I doing something wrong? And is there a better way for me to join the <code>Permissions</code> table with the <code>Users</code> table to get user information?</p>\n<p>My error:</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access Denied\n        at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.3.jar:6.1.3]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.11.jar:6.0.11]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:520) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:463) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:340) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:305) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.12.jar:10.1.12]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>User Entity:</p>\n<pre><code>import jakarta.persistence.*;\nimport lombok.AccessLevel;\nimport lombok.Data;\nimport lombok.Setter;\nimport org.hibernate.annotations.ColumnDefault;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.util.Collection;\n\n@Entity(name = &quot;users&quot;)\n@Data\npublic class User implements UserDetails {\n\n    public User() {}\n\n    public User(String title, String firstName, String lastName, String middleName, String email, String password, LocalDate dob, String gender, String avatarUrl, Long roleId, Boolean status, String countryCode, String phoneNumber, String authenticationCode, LocalDateTime sendAuthenticationCodeAt, Long createdBy) {\n        this.title = title;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.middleName = middleName;\n        this.email = email;\n        this.password = password;\n        this.dob = dob;\n        this.gender = gender;\n        this.avatarUrl = avatarUrl;\n        this.status = status;\n        this.countryCode = countryCode;\n        this.phoneNumber = phoneNumber;\n        this.authenticationCode = authenticationCode;\n        this.sendAuthenticationCodeAt = sendAuthenticationCodeAt;\n        this.createdBy = createdBy;\n    }\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, length = 10)\n    private String title;\n\n    @Column(nullable = false, length = 20)\n    private String firstName;\n\n    @Column(nullable = false, length = 20)\n    private String lastName;\n\n    @Column(nullable = true, length = 20)\n    private String middleName;\n\n    @Column(nullable = false, length = 50, unique = true)\n    private String email;\n\n    @Column(nullable = false)\n    private String password;\n\n    private LocalDate dob;\n\n    @Column(nullable = false, length = 5)\n    private String gender;\n\n    private String avatarUrl;\n\n    @Column(nullable = false, columnDefinition = &quot;boolean default true&quot;)\n    private Boolean status;\n\n    @Column(length = 10)\n    private String countryCode;\n\n    @Column(length = 15)\n    private String phoneNumber;\n\n    @Column(length = 6)\n    private String authenticationCode;\n\n    private LocalDateTime sendAuthenticationCodeAt;\n\n    private int numberLoginFailed;\n\n    private String forgotPasswordToken;\n\n    @Column(nullable = false)\n    private Long createdBy;\n\n    @Column(nullable = false)\n    @ColumnDefault(&quot;CURRENT_TIMESTAMP&quot;)\n    private LocalDateTime createdAt;\n\n    private LocalDateTime updatedAt;\n\n    private Long deletedBy;\n\n    private LocalDateTime deletedAt;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return status;\n    }\n\n    @Setter(AccessLevel.NONE)\n    @OneToOne(mappedBy = &quot;user&quot;)\n    private Permission permission;\n}\n\n\n</code></pre>\n<p>Permission entity:</p>\n<pre><code>\nimport jakarta.persistence.*;\nimport lombok.AccessLevel;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.time.LocalDateTime;\n\n@Entity(name = &quot;permissions&quot;)\n@Data\n@NoArgsConstructor\npublic class Permission {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    private String slug;\n\n    private Long createdBy;\n\n    private LocalDateTime createdAt;\n\n    @Setter(AccessLevel.NONE)\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;createdBy&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable=false)\n    private User user;\n}\n\n</code></pre>\n<p>If I quit connecting the 2 boards, the error message goes away and everything works normally.</p>\n"},{"tags":["java","spring","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694542447,"creation_date":1694542447,"answer_id":77091693,"question_id":77091609,"body_markdown":"`@Data` includes `@RequiredArgsConstructor`, so a constructor will be generated with all `@NotNull` annotated properties. \r\n\r\nIf you also want to use a no-args constructor, you have to add `@NoArgsConstructor`\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Category implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n    \r\n        @NotNull\r\n        private String categoryName;\r\n    \r\n        @NotNull\r\n        private Integer totalResourceCount;\r\n    \r\n        @NotNull\r\n        private Integer categoryValue;\r\n    \r\n        @Column(updatable = false, nullable = false)\r\n        private Timestamp createdDate;\r\n    \r\n        @NotNull\r\n        private Timestamp updatedDate;\r\n    }\r\n\r\nNow the generate code includes both constructors","title":"NotNull annotation preventing builds in spring boot application","body":"<p><code>@Data</code> includes <code>@RequiredArgsConstructor</code>, so a constructor will be generated with all <code>@NotNull</code> annotated properties.</p>\n<p>If you also want to use a no-args constructor, you have to add <code>@NoArgsConstructor</code></p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\npublic class Category implements Serializable {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @NotNull\n    private String categoryName;\n\n    @NotNull\n    private Integer totalResourceCount;\n\n    @NotNull\n    private Integer categoryValue;\n\n    @Column(updatable = false, nullable = false)\n    private Timestamp createdDate;\n\n    @NotNull\n    private Timestamp updatedDate;\n}\n</code></pre>\n<p>Now the generate code includes both constructors</p>\n"}],"owner":{"account_id":6646558,"reputation":415,"user_id":5130461,"display_name":"plbit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77091693,"answer_count":1,"score":0,"last_activity_date":1694542548,"creation_date":1694541621,"question_id":77091609,"body_markdown":"I am trying to run a spring boot app.\r\nI have a model class(Category) and a service class(CategoryService)\r\n corresponding to the model\r\n\r\nCategory.java\r\n```\r\n@Data\r\n@Entity\r\npublic class Category implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    private String categoryName;\r\n\r\n    @NotNull\r\n    private Integer totalResourceCount;\r\n\r\n    @NotNull\r\n    private Integer categoryValue;\r\n\r\n    @Column(updatable = false, nullable = false)\r\n    private Timestamp createdDate;\r\n\r\n    @NotNull\r\n    private Timestamp updatedDate;\r\n}\r\n```\r\n\r\nCategoryService.java\r\n```\r\n@Service\r\npublic class CategoryService {\r\n\r\n    @Autowired\r\n    CategoryRepository categoryRepository;\r\n\r\n    public List&lt;CategoryDTO&gt; getAllCategories() {\r\n        List&lt;CategoryDTO&gt; categoryDTOList = new ArrayList&lt;&gt;();\r\n        List&lt;Category&gt; categories = categoryRepository.findAll(Sort.by(&quot;createdDate&quot;));\r\n        if (categories != null) {\r\n            categories.forEach(category -&gt; {\r\n                CategoryDTO categoryDTO = new CategoryDTO();\r\n                categoryDTO.setCategoryId(category.getId());\r\n                categoryDTO.setCategoryName(category.getCategoryName());\r\n                categoryDTO.setTotalResourceCount(category.getTotalResourceCount());\r\n                categoryDTO.setCategoryValue(category.getCategoryValue());\r\n                categoryDTOList.add(categoryDTO);\r\n            });\r\n        }\r\n        return categoryDTOList;\r\n    }\r\n\r\n    public void createCategory(CategoryDTO categoryDTO) {\r\n        Category category = new Category();\r\n        category.setCategoryName(categoryDTO.getCategoryName());\r\n        category.setCategoryValue(categoryDTO.getCategoryValue());\r\n        category.setTotalResourceCount(0);\r\n        category.setCreatedDate(DateUtil.getCurrentTimestamp());\r\n        category.setUpdatedDate(DateUtil.getCurrentTimestamp());\r\n        categoryRepository.save(category);\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to build the project, I am getting the following erorr\r\n```\r\nCategoryService.java:[37,29] constructor Category in class Category cannot be applied to given types;\r\n[ERROR]   required: java.lang.String\r\n[ERROR]   found:    no arguments\r\n[ERROR]   reason: actual and formal argument lists differ in length\r\n```\r\n\r\nI understand that the error is due to instantiating the Category class without passing the `@NotNull` fields in the constructor. So I removed the `@NotNull` annotations and the build succeeds.  However, this is not desired as the `@NotNull` annotation have some connection to the field validations.\r\n\r\nWhat is the correct way to solve this issue other than removing the `@NotNull` annotation?\r\nDo I need to declare a constructor class in the Category model and then initialise the Category instance by passing all the field values that are `@NotNull` ?","title":"NotNull annotation preventing builds in spring boot application","body":"<p>I am trying to run a spring boot app.\nI have a model class(Category) and a service class(CategoryService)\ncorresponding to the model</p>\n<p>Category.java</p>\n<pre><code>@Data\n@Entity\npublic class Category implements Serializable {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @NotNull\n    private String categoryName;\n\n    @NotNull\n    private Integer totalResourceCount;\n\n    @NotNull\n    private Integer categoryValue;\n\n    @Column(updatable = false, nullable = false)\n    private Timestamp createdDate;\n\n    @NotNull\n    private Timestamp updatedDate;\n}\n</code></pre>\n<p>CategoryService.java</p>\n<pre><code>@Service\npublic class CategoryService {\n\n    @Autowired\n    CategoryRepository categoryRepository;\n\n    public List&lt;CategoryDTO&gt; getAllCategories() {\n        List&lt;CategoryDTO&gt; categoryDTOList = new ArrayList&lt;&gt;();\n        List&lt;Category&gt; categories = categoryRepository.findAll(Sort.by(&quot;createdDate&quot;));\n        if (categories != null) {\n            categories.forEach(category -&gt; {\n                CategoryDTO categoryDTO = new CategoryDTO();\n                categoryDTO.setCategoryId(category.getId());\n                categoryDTO.setCategoryName(category.getCategoryName());\n                categoryDTO.setTotalResourceCount(category.getTotalResourceCount());\n                categoryDTO.setCategoryValue(category.getCategoryValue());\n                categoryDTOList.add(categoryDTO);\n            });\n        }\n        return categoryDTOList;\n    }\n\n    public void createCategory(CategoryDTO categoryDTO) {\n        Category category = new Category();\n        category.setCategoryName(categoryDTO.getCategoryName());\n        category.setCategoryValue(categoryDTO.getCategoryValue());\n        category.setTotalResourceCount(0);\n        category.setCreatedDate(DateUtil.getCurrentTimestamp());\n        category.setUpdatedDate(DateUtil.getCurrentTimestamp());\n        categoryRepository.save(category);\n    }\n}\n</code></pre>\n<p>When I try to build the project, I am getting the following erorr</p>\n<pre><code>CategoryService.java:[37,29] constructor Category in class Category cannot be applied to given types;\n[ERROR]   required: java.lang.String\n[ERROR]   found:    no arguments\n[ERROR]   reason: actual and formal argument lists differ in length\n</code></pre>\n<p>I understand that the error is due to instantiating the Category class without passing the <code>@NotNull</code> fields in the constructor. So I removed the <code>@NotNull</code> annotations and the build succeeds.  However, this is not desired as the <code>@NotNull</code> annotation have some connection to the field validations.</p>\n<p>What is the correct way to solve this issue other than removing the <code>@NotNull</code> annotation?\nDo I need to declare a constructor class in the Category model and then initialise the Category instance by passing all the field values that are <code>@NotNull</code> ?</p>\n"},{"tags":["java","path","exec","network-shares"],"answers":[{"tags":[],"owner":{"account_id":17095,"reputation":6286,"user_id":37923,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233416558,"creation_date":1233416558,"answer_id":499029,"question_id":499013,"body_markdown":"You&#39;re running on Windows but using Posix paths separators.  Try `&quot;cmd /C \\\\\\\\16.181.37.28\\\\dsc\\\\StartVisTsDataCenterMySql-log.bat&quot;`.","title":"Why am I getting a &quot;Path not correct&quot; error while running a batch file on a remote system?","body":"<p>You're running on Windows but using Posix paths separators.  Try <code>\"cmd /C \\\\\\\\16.181.37.28\\\\dsc\\\\StartVisTsDataCenterMySql-log.bat\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233417149,"creation_date":1233417149,"answer_id":499047,"question_id":499013,"body_markdown":"Are you trying to run the script ON THE REMOTE machine or ON YOUR LOCAL machine? Your approach will read the file from the remote machine but run it on your local.\r\n\r\nThe usual way to get something running on a remote machine is having a process on the remote machine to run permanently and listen for requests. If a request arrives this process will start your batch file you would like to have run.","title":"Why am I getting a &quot;Path not correct&quot; error while running a batch file on a remote system?","body":"<p>Are you trying to run the script ON THE REMOTE machine or ON YOUR LOCAL machine? Your approach will read the file from the remote machine but run it on your local.</p>\n\n<p>The usual way to get something running on a remote machine is having a process on the remote machine to run permanently and listen for requests. If a request arrives this process will start your batch file you would like to have run.</p>\n"},{"tags":[],"owner":{"account_id":17095,"reputation":6286,"user_id":37923,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694542496,"creation_date":1233430415,"answer_id":499397,"question_id":499013,"body_markdown":"You can test whether it works by creating a service:\r\n\r\n`sc \\\\16.181.37.28 create StartVisTsDataCenterMySql-Log binPath= &quot;cmd /c \\\\16.181.37.28\\dsc\\StartVisTsDataCenterMySql-log.bat&quot;`\r\n\r\nThen the command to run it is:\r\n\r\n`&quot;cmd /c sc \\\\16.181.37.28 stop StartVisTsDataCenterMySql-Log&amp;sc \\\\16.181.37.28 start StartVisTsDataCenterMySql-Log&quot;`\r\n\r\nYou&#39;ll need to be connected to the share as an administrator (or have the credentials saved).  Once you&#39;ve confirmed that works, change to [srvany][1], as you will get an error in the event log and the batch file will only be allowed to run for 30 seconds otherwise.\r\n\r\nIf that&#39;s not the right answer, perhaps you can elaborate on the [real requirement][2], and give some information on whether reimplementing the batch file in Java is a realistic solution.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20050530015514/http://www.microsoft.com/downloads/details.aspx?familyid=9d467a69-57ff-4ae7-96ee-b18c4790cffd\r\n  [2]: https://devblogs.microsoft.com/oldnewthing/20060323-00/?p=31803","title":"Why am I getting a &quot;Path not correct&quot; error while running a batch file on a remote system?","body":"<p>You can test whether it works by creating a service:</p>\n<p><code>sc \\\\16.181.37.28 create StartVisTsDataCenterMySql-Log binPath= &quot;cmd /c \\\\16.181.37.28\\dsc\\StartVisTsDataCenterMySql-log.bat&quot;</code></p>\n<p>Then the command to run it is:</p>\n<p><code>&quot;cmd /c sc \\\\16.181.37.28 stop StartVisTsDataCenterMySql-Log&amp;sc \\\\16.181.37.28 start StartVisTsDataCenterMySql-Log&quot;</code></p>\n<p>You'll need to be connected to the share as an administrator (or have the credentials saved).  Once you've confirmed that works, change to <a href=\"https://web.archive.org/web/20050530015514/http://www.microsoft.com/downloads/details.aspx?familyid=9d467a69-57ff-4ae7-96ee-b18c4790cffd\" rel=\"nofollow noreferrer\">srvany</a>, as you will get an error in the event log and the batch file will only be allowed to run for 30 seconds otherwise.</p>\n<p>If that's not the right answer, perhaps you can elaborate on the <a href=\"https://devblogs.microsoft.com/oldnewthing/20060323-00/?p=31803\" rel=\"nofollow noreferrer\">real requirement</a>, and give some information on whether reimplementing the batch file in Java is a realistic solution.</p>\n"}],"owner":{"display_name":"padmaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694542496,"creation_date":1233416085,"question_id":499013,"body_markdown":"I need to run a batch file on a remote system from a local machine. Using the code below, I am getting the following error:\r\n\r\n    Path not correct\r\n\r\nI have the IP address of the machine, and I have given the batch file as public share and share name is `dsc`.\r\n\r\nThe IP address of the machine is 16.181.37.28.\r\n\r\nHere is my code. I know that the path is wrong. How can I give the exact path?\r\n\r\n    /*\r\n     * To change this template, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    \r\n    /**\r\n     *\r\n     * @author padmaja\r\n     */\r\n    \r\n    import java.io.*;\r\n    class Test{\r\n    public static void main(String arg[]){\r\n    try{\r\n    String command = &quot;cmd /C start 16.181.37.28/dsc/StartVisTsDataCenterMySql-log.bat&quot;;\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process pr = rt.exec(command);\r\n    \r\n    }catch (IOException e) {\r\n    e.printStackTrace();\r\n    }\r\n    }\r\n    }","title":"Why am I getting a &quot;Path not correct&quot; error while running a batch file on a remote system?","body":"<p>I need to run a batch file on a remote system from a local machine. Using the code below, I am getting the following error:</p>\n\n<pre><code>Path not correct\n</code></pre>\n\n<p>I have the IP address of the machine, and I have given the batch file as public share and share name is <code>dsc</code>.</p>\n\n<p>The IP address of the machine is 16.181.37.28.</p>\n\n<p>Here is my code. I know that the path is wrong. How can I give the exact path?</p>\n\n<pre><code>/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\n\n/**\n *\n * @author padmaja\n */\n\nimport java.io.*;\nclass Test{\npublic static void main(String arg[]){\ntry{\nString command = \"cmd /C start 16.181.37.28/dsc/StartVisTsDataCenterMySql-log.bat\";\nRuntime rt = Runtime.getRuntime();\nProcess pr = rt.exec(command);\n\n}catch (IOException e) {\ne.printStackTrace();\n}\n}\n}\n</code></pre>\n"},{"tags":["java","generics","mockito"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1659025468,"post_id":73154507,"comment_id":129202937,"body_markdown":"checked [here](https://stackoverflow.com/questions/7366237/mockito-stubbing-methods-that-return-type-with-bounded-wild-cards/7655709#7655709)?","body":"checked <a href=\"https://stackoverflow.com/questions/7366237/mockito-stubbing-methods-that-return-type-with-bounded-wild-cards/7655709#7655709\">here</a>?"}],"answers":[{"tags":[],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659415915,"creation_date":1659415915,"answer_id":73202119,"question_id":73154507,"body_markdown":"[This][1] seems to be the most elegant answer:\r\n\r\n    when(x.getList()).thenAnswer(unused -&gt; Collections.singletonList(new X()));\r\n\r\nI still don&#39;t know what the problem is with the original statement, though.\r\n\r\n  [1]: https://stackoverflow.com/a/56791051/838434","title":"Mockito: cannot resolve method &#39;thenReturn(List&lt;capture of ? extends X&gt;)&#39;","body":"<p><a href=\"https://stackoverflow.com/a/56791051/838434\">This</a> seems to be the most elegant answer:</p>\n<pre><code>when(x.getList()).thenAnswer(unused -&gt; Collections.singletonList(new X()));\n</code></pre>\n<p>I still don't know what the problem is with the original statement, though.</p>\n"},{"tags":[],"owner":{"account_id":29425297,"reputation":1,"user_id":22546166,"display_name":"D. Michael Tepp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694542450,"creation_date":1694542450,"answer_id":77091694,"question_id":73154507,"body_markdown":"This works for me:\r\n\r\n            when((List&lt;X&gt;)x.getList()).thenReturn(Collections.singletonList(new X()));\r\n","title":"Mockito: cannot resolve method &#39;thenReturn(List&lt;capture of ? extends X&gt;)&#39;","body":"<p>This works for me:</p>\n<pre><code>        when((List&lt;X&gt;)x.getList()).thenReturn(Collections.singletonList(new X()));\n</code></pre>\n"}],"owner":{"account_id":445785,"reputation":10573,"user_id":838434,"accept_rate":88,"display_name":"MaDa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694542450,"creation_date":1659018442,"question_id":73154507,"body_markdown":"**I don&#39;t understand why this code with Java generics fails to compile**. Given this class:\r\n```\r\npublic static class X {\r\n    public List&lt;? extends X&gt; getList() {\r\n        return null;\r\n    }\r\n}\r\n```\r\nthere&#39;s no way to mock the `getList` return value:\r\n```\r\nX x = mock(X.class);\r\n// Error: Cannot resolve method &#39;thenReturn(List&lt;T&gt;)&#39;\r\nwhen(x.getList()).thenReturn(Collections.singletonList(new X()));\r\n// Error: Cannot resolve method &#39;thenReturn(List&lt;capture of ? extends X&gt;)&#39;\r\nwhen(x.getList()).thenReturn((List&lt;? extends X&gt;) Collections.singletonList(new X()));\r\n// Error: Cannot resolve method &#39;thenReturn(List&lt;capture of ?&gt;)&#39;\r\nwhen(x.getList()).thenReturn((List&lt;?&gt;) Collections.singletonList(new X()));\r\n```\r\nThe only way of making it work with &quot;when...then&quot; seems to be stripping generics entirely, at the cost of a compiler warning:\r\n```\r\nwhen(x.getList()).thenReturn((List) Collections.singletonList(new X()));\r\n```\r\nUltimately, only this works:\r\n```\r\ndoReturn(Collections.singletonList(new X())).when(x.getList());\r\n```","title":"Mockito: cannot resolve method &#39;thenReturn(List&lt;capture of ? extends X&gt;)&#39;","body":"<p><strong>I don't understand why this code with Java generics fails to compile</strong>. Given this class:</p>\n<pre><code>public static class X {\n    public List&lt;? extends X&gt; getList() {\n        return null;\n    }\n}\n</code></pre>\n<p>there's no way to mock the <code>getList</code> return value:</p>\n<pre><code>X x = mock(X.class);\n// Error: Cannot resolve method 'thenReturn(List&lt;T&gt;)'\nwhen(x.getList()).thenReturn(Collections.singletonList(new X()));\n// Error: Cannot resolve method 'thenReturn(List&lt;capture of ? extends X&gt;)'\nwhen(x.getList()).thenReturn((List&lt;? extends X&gt;) Collections.singletonList(new X()));\n// Error: Cannot resolve method 'thenReturn(List&lt;capture of ?&gt;)'\nwhen(x.getList()).thenReturn((List&lt;?&gt;) Collections.singletonList(new X()));\n</code></pre>\n<p>The only way of making it work with &quot;when...then&quot; seems to be stripping generics entirely, at the cost of a compiler warning:</p>\n<pre><code>when(x.getList()).thenReturn((List) Collections.singletonList(new X()));\n</code></pre>\n<p>Ultimately, only this works:</p>\n<pre><code>doReturn(Collections.singletonList(new X())).when(x.getList());\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1649830987,"post_id":71852726,"comment_id":126971963,"body_markdown":"Spring Cloud and Spring Boot are heavily tied together regarding versions. You cannot just upgrade Spring Boot when using Spring Cloud, you have to upgrade Spring Cloud as well. Also make sure that you aren&#39;t mixing versions of jars from Spring (Boot) or another dependency.","body":"Spring Cloud and Spring Boot are heavily tied together regarding versions. You cannot just upgrade Spring Boot when using Spring Cloud, you have to upgrade Spring Cloud as well. Also make sure that you aren&#39;t mixing versions of jars from Spring (Boot) or another dependency."},{"owner":{"account_id":4597473,"reputation":25,"user_id":3729090,"display_name":"user3729090"},"score":0,"creation_date":1649831945,"post_id":71852726,"comment_id":126972198,"body_markdown":"I am struck here for the last 2 days, not sure of correct versions for spring boot 2.5.12, can you pls help me with any doc @M.Deinum pls I would be forever grateful","body":"I am struck here for the last 2 days, not sure of correct versions for spring boot 2.5.12, can you pls help me with any doc @M.Deinum pls I would be forever grateful"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1649832380,"post_id":71852726,"comment_id":126972305,"body_markdown":"As stated Spring Boot and Spring Cloud are tightly coupled, so if you upgrade Boot yuou also need to upgrade cloud. If you didn&#39;t it won&#39;t work. Without seeing more of your application (the dependencies) this will be impossible to answer.","body":"As stated Spring Boot and Spring Cloud are tightly coupled, so if you upgrade Boot yuou also need to upgrade cloud. If you didn&#39;t it won&#39;t work. Without seeing more of your application (the dependencies) this will be impossible to answer."},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":1,"creation_date":1649970848,"post_id":71852726,"comment_id":127015135,"body_markdown":"The table that shows Spring Boot and Spring Cloud compatible versions is on this page: https://spring.io/projects/spring-cloud","body":"The table that shows Spring Boot and Spring Cloud compatible versions is on this page: <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud</a>"},{"owner":{"account_id":4597473,"reputation":25,"user_id":3729090,"display_name":"user3729090"},"score":0,"creation_date":1650302427,"post_id":71852726,"comment_id":127077896,"body_markdown":"@M.Deinum I have added my dependencies list, can you please help me why this thing is not working, i have changed my cloud version to 2020.0.5 as specified.I am seriously clueless of why this is occuring, Please help","body":"@M.Deinum I have added my dependencies list, can you please help me why this thing is not working, i have changed my cloud version to 2020.0.5 as specified.I am seriously clueless of why this is occuring, Please help"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1650346274,"post_id":71852726,"comment_id":127086520,"body_markdown":"For starters stop with all the exclusions and manually inclusions... That will only make things worse.","body":"For starters stop with all the exclusions and manually inclusions... That will only make things worse."},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1653550293,"post_id":71852726,"comment_id":127880499,"body_markdown":"I faced the same problem when using latest spring boot version with `io.github.resilience4j` dependencies. Spring boot actuator dependency need to be added to pom file but that alone did not resolve the error so I also had to check the resilience4j dependencies. https://stackoverflow.com/questions/60587334/getting-compatible-version-issue-when-running-spring-boot-application-however-in","body":"I faced the same problem when using latest spring boot version with <code>io.github.resilience4j</code> dependencies. Spring boot actuator dependency need to be added to pom file but that alone did not resolve the error so I also had to check the resilience4j dependencies. <a href=\"https://stackoverflow.com/questions/60587334/getting-compatible-version-issue-when-running-spring-boot-application-however-in\" title=\"getting compatible version issue when running spring boot application however in\">stackoverflow.com/questions/60587334/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1650346125,"post_id":71868199,"comment_id":127086497,"body_markdown":"If you want another version of micrometer use the proper mechanism and not an exclusion and added dependency.","body":"If you want another version of micrometer use the proper mechanism and not an exclusion and added dependency."}],"tags":[],"owner":{"account_id":24934492,"reputation":1,"user_id":18801236,"display_name":"Empire residency"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1649922714,"creation_date":1649922714,"answer_id":71868199,"question_id":71852726,"body_markdown":"Please try this, its worked for us\r\n\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Actuator Class not found after 2.5.12 upgrade","body":"<p>Please try this, its worked for us</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n                &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n        &lt;version&gt;1.7.10&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691223751,"post_id":76809352,"comment_id":135465478,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76809352/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16683260,"reputation":11,"user_id":12057824,"display_name":"Subarna Sekhar Muni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690874733,"creation_date":1690874733,"answer_id":76809352,"question_id":71852726,"body_markdown":"Check if you have `resilience4j-spring-boot2` dependency. Update that to 1.7.0","title":"Actuator Class not found after 2.5.12 upgrade","body":"<p>Check if you have <code>resilience4j-spring-boot2</code> dependency. Update that to 1.7.0</p>\n"}],"owner":{"account_id":4597473,"reputation":25,"user_id":3729090,"display_name":"user3729090"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694541950,"creation_date":1649830665,"question_id":71852726,"body_markdown":"After upgrading to 2.5.12 from 2.3 I am getting the following exception:\r\n\r\n&gt; java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration]\r\n\r\nIncluding the dependency manually:\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt;\r\n  &lt;artifactid&gt;spring-boot-starter-actuator&lt;/artifactid&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut still this issue exists. I use Java 11, spring cloud  2020.0.4, io.pivotal.spring.cloud 3.4.0, wavefront 2.2.1, spring-sleuth: 3.0.4.\r\n\r\nLog:\r\n\r\n```\r\n2022-04-12 23:00:49.370 ERROR [traceId-,spanId-] [main] o.s.boot.SpringApplication : Application run failed\r\n2022-04-13T11:30:54.31+0530 [APP/PROC/WEB/0] OUT java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration]\r\n2022-04-13T11:30:54.41+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334)\r\n2022-04-13T11:30:54.51+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446)\r\n2022-04-13T11:30:54.61+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369)\r\n2022-04-13T11:30:54.71+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284)\r\n2022-04-13T11:30:54.81+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193)\r\n2022-04-13T11:30:54.91+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106)\r\n2022-04-13T11:30:55.01+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81)\r\n2022-04-13T11:30:55.11+0530 [APP/PROC/WEB/0] OUT app instance exceeded log rate limit (10 log-lines/sec) set by platform operator\r\n2022-04-13T11:30:55.11+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285)\r\n2022-04-13T11:30:55.21+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:103)\r\n2022-04-13T11:30:55.31+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:82)\r\n2022-04-13T11:30:55.41+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169)\r\n2022-04-13T11:30:55.51+0530 [APP/PROC/WEB/0] OUT \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150)\r\n```\r\n\r\nPom dependencies:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.wavefront&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wavefront-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\t\tspring-boot-starter-actuator\r\n\t\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\t\t\tcom.fasterxml.jackson.core\r\n\t\t\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\t\t\tcom.fasterxml.jackson.core\r\n\t\t\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\t\t\tcom.fasterxml.jackson.core\r\n\t\t\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\t\t\t\tspring-boot-autoconfigure\r\n\t\t\t\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t\t&lt;/exclusions&gt;\r\n  &lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n    \t&lt;exclusion&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t&lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Cloud Dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Zipkin Dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-stream-kafka&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t &lt;dependency&gt;\r\n        &lt;groupId&gt;com.wavefront&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wavefront-spring-boot-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;${wavefront.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nI have tried excluding conflicting dependency, adding manually, adding jar as external dependency. Cloud dependency is correctly configured. Why this is not loading `actuate.autoconfigure.health.HealthIndicatorAutoConfiguration` class?","title":"Actuator Class not found after 2.5.12 upgrade","body":"<p>After upgrading to 2.5.12 from 2.3 I am getting the following exception:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration]</p>\n</blockquote>\n<p>Including the dependency manually:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt;\n  &lt;artifactid&gt;spring-boot-starter-actuator&lt;/artifactid&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But still this issue exists. I use Java 11, spring cloud  2020.0.4, io.pivotal.spring.cloud 3.4.0, wavefront 2.2.1, spring-sleuth: 3.0.4.</p>\n<p>Log:</p>\n<pre><code>2022-04-12 23:00:49.370 ERROR [traceId-,spanId-] [main] o.s.boot.SpringApplication : Application run failed\n2022-04-13T11:30:54.31+0530 [APP/PROC/WEB/0] OUT java.lang.IllegalArgumentException: Could not find class [org.springframework.boot.actuate.autoconfigure.health.HealthIndicatorAutoConfiguration]\n2022-04-13T11:30:54.41+0530 [APP/PROC/WEB/0] OUT    at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:334)\n2022-04-13T11:30:54.51+0530 [APP/PROC/WEB/0] OUT    at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:446)\n2022-04-13T11:30:54.61+0530 [APP/PROC/WEB/0] OUT    at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:369)\n2022-04-13T11:30:54.71+0530 [APP/PROC/WEB/0] OUT    at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:284)\n2022-04-13T11:30:54.81+0530 [APP/PROC/WEB/0] OUT    at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193)\n2022-04-13T11:30:54.91+0530 [APP/PROC/WEB/0] OUT    at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106)\n2022-04-13T11:30:55.01+0530 [APP/PROC/WEB/0] OUT    at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81)\n2022-04-13T11:30:55.11+0530 [APP/PROC/WEB/0] OUT app instance exceeded log rate limit (10 log-lines/sec) set by platform operator\n2022-04-13T11:30:55.11+0530 [APP/PROC/WEB/0] OUT    at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:285)\n2022-04-13T11:30:55.21+0530 [APP/PROC/WEB/0] OUT    at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:103)\n2022-04-13T11:30:55.31+0530 [APP/PROC/WEB/0] OUT    at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:82)\n2022-04-13T11:30:55.41+0530 [APP/PROC/WEB/0] OUT    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.registerBeanDefinitionForImportedConfigurationClass(ConfigurationClassBeanDefinitionReader.java:169)\n2022-04-13T11:30:55.51+0530 [APP/PROC/WEB/0] OUT    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:150)\n</code></pre>\n<p>Pom dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;com.wavefront&lt;/groupId&gt;\n            &lt;artifactId&gt;wavefront-spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;\n                        spring-boot-starter-actuator\n                    &lt;/artifactId&gt;\n                    &lt;exclusions&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;\n                                com.fasterxml.jackson.core\n                            &lt;/groupId&gt;\n                            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;\n                                com.fasterxml.jackson.core\n                            &lt;/groupId&gt;\n                            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;\n                                com.fasterxml.jackson.core\n                            &lt;/groupId&gt;\n                            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                        &lt;exclusion&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;\n                                spring-boot-autoconfigure\n                            &lt;/artifactId&gt;\n                        &lt;/exclusion&gt;\n                    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Cloud Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Zipkin Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-stream-kafka&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring.cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n             &lt;dependency&gt;\n        &lt;groupId&gt;com.wavefront&lt;/groupId&gt;\n        &lt;artifactId&gt;wavefront-spring-boot-bom&lt;/artifactId&gt;\n        &lt;version&gt;${wavefront.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n  &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>I have tried excluding conflicting dependency, adding manually, adding jar as external dependency. Cloud dependency is correctly configured. Why this is not loading <code>actuate.autoconfigure.health.HealthIndicatorAutoConfiguration</code> class?</p>\n"},{"tags":["java","selenium-webdriver","browser","screen-resolution","window-size"],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456747703,"creation_date":1456747703,"answer_id":35699185,"question_id":35697931,"body_markdown":"The screen resolution and browser window size are not necessarily equal.\r\n\r\nResolution ([from wikipedia](https://en.wikipedia.org/wiki/Display_resolution)) is\r\n\r\n&gt; The display resolution or display modes of a digital television,\r\n&gt; computer monitor or display device is the number of distinct pixels in\r\n&gt; each dimension that can be displayed ... &quot;1024 &#215; 768&quot; means the width is 1024 pixels and the height is 768 pixels\r\n\r\nWhile `getSize()` is returning the actual *browser* size.","title":"How to get the current window size with Selenium Webdriver?","body":"<p>The screen resolution and browser window size are not necessarily equal.</p>\n\n<p>Resolution (<a href=\"https://en.wikipedia.org/wiki/Display_resolution\" rel=\"noreferrer\">from wikipedia</a>) is</p>\n\n<blockquote>\n  <p>The display resolution or display modes of a digital television,\n  computer monitor or display device is the number of distinct pixels in\n  each dimension that can be displayed ... \"1024 × 768\" means the width is 1024 pixels and the height is 768 pixels</p>\n</blockquote>\n\n<p>While <code>getSize()</code> is returning the actual <em>browser</em> size.</p>\n"},{"tags":[],"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1578015410,"creation_date":1456748611,"answer_id":35699495,"question_id":35697931,"body_markdown":"As we know Selenium interacts with browsers and these `get` methods will retrieve info related to browsers only.  As explained in other answers very clearly, screen resolution and browser are different. The simple example below shows very clearly that the web driver is getting only the browser&#39;s dimensions.\r\n\r\n    \tWebDriver driver=new FirefoxDriver();\r\n\t\tdriver.get(&quot;http://www.google.com&quot;);\r\n\t\tSystem.out.println(driver.manage().window().getSize()); //output: (994, 718)\r\n\t\t\r\n\t\tdriver.manage().window().maximize();\r\n\t\tSystem.out.println(driver.manage().window().getSize()); //output: (1382, 744)","title":"How to get the current window size with Selenium Webdriver?","body":"<p>As we know Selenium interacts with browsers and these <code>get</code> methods will retrieve info related to browsers only.  As explained in other answers very clearly, screen resolution and browser are different. The simple example below shows very clearly that the web driver is getting only the browser's dimensions.</p>\n\n<pre><code>    WebDriver driver=new FirefoxDriver();\n    driver.get(\"http://www.google.com\");\n    System.out.println(driver.manage().window().getSize()); //output: (994, 718)\n\n    driver.manage().window().maximize();\n    System.out.println(driver.manage().window().getSize()); //output: (1382, 744)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":58398,"reputation":8467,"user_id":174843,"display_name":"Vince Bowdren"},"score":2,"creation_date":1477584890,"post_id":40266494,"comment_id":67837275,"body_markdown":"Hi Eyal Sooliman; your code might be correct, but with some context it would make a better answer; for example, you could explain how and why this proposed change would resolve the questioner&#39;s problem, perhaps including a link to the relevant documentation. That would make it more useful to them, and also more useful to other site readers who are looking for solutions to similar problems.","body":"Hi Eyal Sooliman; your code might be correct, but with some context it would make a better answer; for example, you could explain how and why this proposed change would resolve the questioner&#39;s problem, perhaps including a link to the relevant documentation. That would make it more useful to them, and also more useful to other site readers who are looking for solutions to similar problems."}],"tags":[],"owner":{"account_id":2616296,"reputation":1942,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1528960637,"creation_date":1477496191,"answer_id":40266494,"question_id":35697931,"body_markdown":"        Dimension initial_size = driver.manage().window().getSize();\r\n        int height = initial_size.getHeight();\r\n        int width = initial_size.getWidth();","title":"How to get the current window size with Selenium Webdriver?","body":"<pre><code>    Dimension initial_size = driver.manage().window().getSize();\n    int height = initial_size.getHeight();\n    int width = initial_size.getWidth();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2361354,"reputation":20967,"user_id":2067976,"accept_rate":69,"display_name":"Andriy Ivaneyko"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1482142252,"creation_date":1482142252,"answer_id":41220205,"question_id":35697931,"body_markdown":"For **python** selenium webdriver  use function [get_window_size](http://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver.get_window_size):\r\n\r\n    driver.get_window_size()\r\n    &quot;&quot;&quot;\r\n    Output:\r\n    {\r\n      &quot;width&quot;: 1255,\r\n      &quot;height&quot;: 847,\r\n      &quot;hCode&quot;: 939524096,\r\n      &quot;class&quot;: &quot;org.openqa.selenium.Dimension&quot;\r\n    }\r\n    &quot;&quot;&quot;","title":"How to get the current window size with Selenium Webdriver?","body":"<p>For <strong>python</strong> selenium webdriver  use function <a href=\"http://selenium-python.readthedocs.io/api.html#selenium.webdriver.remote.webdriver.WebDriver.get_window_size\" rel=\"noreferrer\">get_window_size</a>:</p>\n\n<pre><code>driver.get_window_size()\n\"\"\"\nOutput:\n{\n  \"width\": 1255,\n  \"height\": 847,\n  \"hCode\": 939524096,\n  \"class\": \"org.openqa.selenium.Dimension\"\n}\n\"\"\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22176703,"reputation":222,"user_id":16421119,"display_name":"Henul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646467609,"creation_date":1646467609,"answer_id":71360510,"question_id":35697931,"body_markdown":"try this:\r\n```\r\nfrom selenium import webdriver\r\ndriver = webdriver.Chrome(&#39;C/Program Files/Chromedriver&#39;) #Chromedriver location\r\nprint(driver.get_window_size())\r\n```","title":"How to get the current window size with Selenium Webdriver?","body":"<p>try this:</p>\n<pre><code>from selenium import webdriver\ndriver = webdriver.Chrome('C/Program Files/Chromedriver') #Chromedriver location\nprint(driver.get_window_size())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25976,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694541774,"creation_date":1694541774,"answer_id":77091629,"question_id":35697931,"body_markdown":"In Python, you can use [get_window_size()][1] to get the current window size as shown below:\r\n\r\n```python\r\nfrom selenium import webdriver\r\n\r\ndriver = webdriver.Chrome()\r\nprint(driver.get_window_size()) # {&#39;width&#39;: 945, &#39;height&#39;: 1012}\r\nprint(driver.get_window_size().get(&#39;width&#39;)) # 945\r\nprint(driver.get_window_size().get(&#39;height&#39;)) # 1012\r\nprint(driver.get_window_size()[&#39;width&#39;]) # 945\r\nprint(driver.get_window_size()[&#39;height&#39;]) # 1012\r\n```\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/webdriver/interactions/windows/#get-window-size","title":"How to get the current window size with Selenium Webdriver?","body":"<p>In Python, you can use <a href=\"https://www.selenium.dev/documentation/webdriver/interactions/windows/#get-window-size\" rel=\"nofollow noreferrer\">get_window_size()</a> to get the current window size as shown below:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\nprint(driver.get_window_size()) # {'width': 945, 'height': 1012}\nprint(driver.get_window_size().get('width')) # 945\nprint(driver.get_window_size().get('height')) # 1012\nprint(driver.get_window_size()['width']) # 945\nprint(driver.get_window_size()['height']) # 1012\n</code></pre>\n"}],"owner":{"account_id":950302,"reputation":966,"user_id":976597,"accept_rate":50,"display_name":"Nikhil Surendran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52474,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1694541950,"creation_date":1456743846,"question_id":35697931,"body_markdown":"I am running on Screen Resolution of (1366 X 768 ), but when I call `getSize().getWidth()` and `getSize().getHeight()` methods , the result I&#39;m getting is:\r\n\r\n&gt; Size of Width is : 1382 Size of Height is : 744\r\n\r\nfor IE, FF and Chrome web pages. URL used: https://www.google.com","title":"How to get the current window size with Selenium Webdriver?","body":"<p>I am running on Screen Resolution of (1366 X 768 ), but when I call <code>getSize().getWidth()</code> and <code>getSize().getHeight()</code> methods , the result I'm getting is:</p>\n\n<blockquote>\n  <p>Size of Width is : 1382 Size of Height is : 744</p>\n</blockquote>\n\n<p>for IE, FF and Chrome web pages. URL used: <a href=\"https://www.google.com\" rel=\"noreferrer\">https://www.google.com</a></p>\n"},{"tags":["java","algorithm","search"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1680155539,"post_id":75846666,"comment_id":133850533,"body_markdown":"**Comments have been [moved to chat](https://chat.stackoverflow.com/rooms/252864/discussion-on-question-by-astropower-search-in-almost-sorted-array); please do not continue the discussion here.** Before posting a comment below this one, please review the [purposes of comments](/help/privileges/comment). Comments that do not request clarification or suggest improvements usually belong as an [answer](/help/how-to-answer), on [meta], or in [chat]. Comments continuing discussion may be removed.","body":"<b>Comments have been <a href=\"https://chat.stackoverflow.com/rooms/252864/discussion-on-question-by-astropower-search-in-almost-sorted-array\">moved to chat</a>; please do not continue the discussion here.</b> Before posting a comment below this one, please review the <a href=\"/help/privileges/comment\">purposes of comments</a>. Comments that do not request clarification or suggest improvements usually belong as an <a href=\"/help/how-to-answer\">answer</a>, on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, or in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>. Comments continuing discussion may be removed."}],"answers":[{"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1679833559,"post_id":75847220,"comment_id":133787975,"body_markdown":"Any feedback to this answer?","body":"Any feedback to this answer?"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679827775,"creation_date":1679827375,"answer_id":75847220,"question_id":75846666,"body_markdown":"To establish an efficient algorithm, having a O(&#119896;log&#119899;) time complexity, we could follow these guidelines:\r\n\r\n* In one iteration of the binary-search loop no more than *k* zero values should be visited;\r\n* The same (zero) value should not be visited more than once\r\n\r\nAn idea would be to look &quot;around&quot; the `mid` index that the binary search algorithm would determine, looking for a non-zero value. So we would first look at `a[mid]`, then `a[mid-1]` `a[mid+1]` `a[mid-2]`, ...etc. If this search gets out of the `low..high` range, then this means there is no non-zero value in that range and the search should return -1 (failure)\r\n\r\nWhen the `low..high` range is narrowed down, then this should exclude the zeroes that were already checked. \r\n\r\nHere is an implementation:\r\n\r\n```java\r\n    public static int kAlmostSearch(int[] a, int num) {\r\n        int low = 0;\r\n        int high = a.length;\r\n        \r\n        while (low &lt; high) {\r\n            int mid = (low + high) / 2;\r\n            // Look around for non zero value:\r\n            int m = mid, add = -1;\r\n            while (a[m] == 0) {\r\n                m += add;\r\n                // If there is no non-zero value in the range [low, high): not found\r\n                if (m &lt; low || m &gt;= high) return -1;\r\n                add = -add + (add &gt; 0 ? -1 : 1);\r\n            }\r\n            if (a[m] == num) return mid;\r\n            // When narrowing the window, make sure to exclude the zeroes we already saw\r\n            if (num &lt; a[m]) {\r\n                high = Math.min(m, mid);\r\n            } else {\r\n                low = Math.max(m, mid) + 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n```\r\n\r\nNB: In this code, `high` is such that `a[high]` is not part of the current range.","title":"Search in almost sorted array","body":"<p>To establish an efficient algorithm, having a O(𝑘log𝑛) time complexity, we could follow these guidelines:</p>\n<ul>\n<li>In one iteration of the binary-search loop no more than <em>k</em> zero values should be visited;</li>\n<li>The same (zero) value should not be visited more than once</li>\n</ul>\n<p>An idea would be to look &quot;around&quot; the <code>mid</code> index that the binary search algorithm would determine, looking for a non-zero value. So we would first look at <code>a[mid]</code>, then <code>a[mid-1]</code> <code>a[mid+1]</code> <code>a[mid-2]</code>, ...etc. If this search gets out of the <code>low..high</code> range, then this means there is no non-zero value in that range and the search should return -1 (failure)</p>\n<p>When the <code>low..high</code> range is narrowed down, then this should exclude the zeroes that were already checked.</p>\n<p>Here is an implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int kAlmostSearch(int[] a, int num) {\n        int low = 0;\n        int high = a.length;\n        \n        while (low &lt; high) {\n            int mid = (low + high) / 2;\n            // Look around for non zero value:\n            int m = mid, add = -1;\n            while (a[m] == 0) {\n                m += add;\n                // If there is no non-zero value in the range [low, high): not found\n                if (m &lt; low || m &gt;= high) return -1;\n                add = -add + (add &gt; 0 ? -1 : 1);\n            }\n            if (a[m] == num) return mid;\n            // When narrowing the window, make sure to exclude the zeroes we already saw\n            if (num &lt; a[m]) {\n                high = Math.min(m, mid);\n            } else {\n                low = Math.max(m, mid) + 1;\n            }\n        }\n        return -1;\n    }\n</code></pre>\n<p>NB: In this code, <code>high</code> is such that <code>a[high]</code> is not part of the current range.</p>\n"},{"tags":[],"owner":{"account_id":29425176,"reputation":1,"user_id":22546074,"display_name":"ignoble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694541855,"creation_date":1694541794,"answer_id":77091635,"question_id":75846666,"body_markdown":"I can&#39;t reply directly to @trincot as I haven&#39;t gained enough reputation yet, but I think there&#39;s a minor bug in his solution. Running the following code will result in a false answer:\r\n\r\n    int[] a = new int[] {0, 1, 0, 3, 0};\r\n    System.out.println(kAlmostSearch(a, 3));\r\n    /// output: 4\r\n\r\nThis is due to this line:\r\n\r\n    if (a[m] == num) return mid;\r\n\r\n","title":"Search in almost sorted array","body":"<p>I can't reply directly to @trincot as I haven't gained enough reputation yet, but I think there's a minor bug in his solution. Running the following code will result in a false answer:</p>\n<pre><code>int[] a = new int[] {0, 1, 0, 3, 0};\nSystem.out.println(kAlmostSearch(a, 3));\n/// output: 4\n</code></pre>\n<p>This is due to this line:</p>\n<pre><code>if (a[m] == num) return mid;\n</code></pre>\n"}],"owner":{"account_id":27048227,"reputation":29,"user_id":20602067,"display_name":"l3xandrr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":2,"score":-2,"last_activity_date":1694541855,"creation_date":1679819649,"question_id":75846666,"body_markdown":"Given an array of nonnegative integers such as:\r\n1) All elements are sorted except that array can be filled with zeroes\r\n2) There are at most k sequential zeroes \r\n3) If we take all zeroes out we get sorted array of positive integers\r\n\r\nExample 3 0 0 4 7 9 0 0 0 0 11 15 0 19 20 0 0 31 40 0\r\n\r\nFor k=4\r\n\r\nWe need function kAlmostSearch(int[] a, int num) if k is constant but unknown for us.\r\n\r\nI am trying to modify Binary Search but not sure how exactly I can do it. \r\n\r\nTask only constraint is that k is not given, we only know it&#39;s constant and less than array size. And k is considered when time complexity is calculated.\r\n\r\nIt cannot be done better if it is 0 almost sorted than O(log n), so I am trying as I said to modify binary search that should possibly give a O(k* log n) because each time array size decreases we calculate closest nonzero element from both side finite number of times.\r\n\r\n    public static int closestLeft(int a[], int index){\r\n\t\t\r\n\t\r\n\t    int current=index;\r\n\t\r\n\t    while(current&gt;=0 &amp;&amp; a[current]==0){\r\n\t\t    current--;\r\n\t    }\r\n\t\r\n\t    if(current&lt;0){\r\n\t\t    return -1;\r\n\t     }\r\n\t\r\n\t    return current;\r\n    }\r\n\r\n\r\n    public static int closestRight(int a[], int index){\r\n\r\n\t    int current=index;\r\n\t\r\n\t    while(current&lt;=a.length-1 &amp;&amp; a[current]==0){\r\n\t\t    current++;\r\n\t    }\r\n\t\r\n\t    if(current&gt;a.length-1){\r\n\t\t    return -1;\r\n\t    }\r\n\t\r\n\t    return current;\r\n    }\r\n\r\n\r\n    public static int kAlmostSearch(int a[], int num){\r\n\r\n\t    int lo=0, hi=a.length-1, mid, closestLeft, closestRight;\r\n\t\r\n\t    while(lo&lt;=hi){\r\n\t\t\r\n\t\t    mid=(lo+hi)/2;\r\n\t\t \r\n            if(a[mid]==0){\r\n\r\n\t\t\t    if(closestLeft(a,mid)==-1){\r\n\r\n\t\t\t\t    mid=closestRight(a,mid);\r\n\r\n\t\t\t    }esle if(closestRight(a,mid)==-1){\r\n\t\t\t\t  \r\n                    mid=closestLeft(a,mid);\r\n\t\t    \t}else{\r\n\t\t\t\t/*how am I supposed to move here*/\r\n\t\t\t    }\r\n\t\t     }\r\n\t\t\r\n\t\t    if(a[mid]==num){\r\n\t\t\t    return mid;\r\n\t\t    }\r\n\t\t    if(a[mid]&lt;num){\r\n\t\t\t    lo=mid+1;\r\n\t\t    }else{\r\n\t\t\t    hi=mid-1;\r\n\t\t    }\r\n\t    }\r\n\r\n    }","title":"Search in almost sorted array","body":"<p>Given an array of nonnegative integers such as:</p>\n<ol>\n<li>All elements are sorted except that array can be filled with zeroes</li>\n<li>There are at most k sequential zeroes</li>\n<li>If we take all zeroes out we get sorted array of positive integers</li>\n</ol>\n<p>Example 3 0 0 4 7 9 0 0 0 0 11 15 0 19 20 0 0 31 40 0</p>\n<p>For k=4</p>\n<p>We need function kAlmostSearch(int[] a, int num) if k is constant but unknown for us.</p>\n<p>I am trying to modify Binary Search but not sure how exactly I can do it.</p>\n<p>Task only constraint is that k is not given, we only know it's constant and less than array size. And k is considered when time complexity is calculated.</p>\n<p>It cannot be done better if it is 0 almost sorted than O(log n), so I am trying as I said to modify binary search that should possibly give a O(k* log n) because each time array size decreases we calculate closest nonzero element from both side finite number of times.</p>\n<pre><code>public static int closestLeft(int a[], int index){\n    \n\n    int current=index;\n\n    while(current&gt;=0 &amp;&amp; a[current]==0){\n        current--;\n    }\n\n    if(current&lt;0){\n        return -1;\n     }\n\n    return current;\n}\n\n\npublic static int closestRight(int a[], int index){\n\n    int current=index;\n\n    while(current&lt;=a.length-1 &amp;&amp; a[current]==0){\n        current++;\n    }\n\n    if(current&gt;a.length-1){\n        return -1;\n    }\n\n    return current;\n}\n\n\npublic static int kAlmostSearch(int a[], int num){\n\n    int lo=0, hi=a.length-1, mid, closestLeft, closestRight;\n\n    while(lo&lt;=hi){\n    \n        mid=(lo+hi)/2;\n     \n        if(a[mid]==0){\n\n            if(closestLeft(a,mid)==-1){\n\n                mid=closestRight(a,mid);\n\n            }esle if(closestRight(a,mid)==-1){\n              \n                mid=closestLeft(a,mid);\n            }else{\n            /*how am I supposed to move here*/\n            }\n         }\n    \n        if(a[mid]==num){\n            return mid;\n        }\n        if(a[mid]&lt;num){\n            lo=mid+1;\n        }else{\n            hi=mid-1;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gradle","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":7480661,"reputation":692,"user_id":5685482,"accept_rate":100,"display_name":"Miguel Costa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681226494,"creation_date":1681226494,"answer_id":75987568,"question_id":75986556,"body_markdown":"Ok so I don&#39;t have a clear solution but I found the problem for me.\r\nI had 2 jar&#39;s in my path that implemented the same class.\r\nbcprov-jdk18on-1.72.jar and bc-fips-1.0.1.jar\r\n\r\nThey somehow seem incompatible but they are inherited dependencies of some packages I use so I just excluded &quot;bcprov&quot; but it&#39;s not really an answer to be honest","title":"gradle tests Bouncy Castle ExceptionInInitializerError (conflicting jars?)","body":"<p>Ok so I don't have a clear solution but I found the problem for me.\nI had 2 jar's in my path that implemented the same class.\nbcprov-jdk18on-1.72.jar and bc-fips-1.0.1.jar</p>\n<p>They somehow seem incompatible but they are inherited dependencies of some packages I use so I just excluded &quot;bcprov&quot; but it's not really an answer to be honest</p>\n"},{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694541013,"creation_date":1694541013,"answer_id":77091548,"question_id":75986556,"body_markdown":"I fixed this error by looking in my `tomcat/lib` for any jars containing the class mentioned in the stack trace, in my case I did this with: \r\n```\r\nfor f in *.jar; do echo &quot;$f: &quot;; unzip -l $f | grep -i &#39;org.glassfish.jersey.inject.hk2.RequestContext*&#39;; done\r\n```\r\nThis let me find and then remove one the one two conflicting jars.","title":"gradle tests Bouncy Castle ExceptionInInitializerError (conflicting jars?)","body":"<p>I fixed this error by looking in my <code>tomcat/lib</code> for any jars containing the class mentioned in the stack trace, in my case I did this with:</p>\n<pre><code>for f in *.jar; do echo &quot;$f: &quot;; unzip -l $f | grep -i 'org.glassfish.jersey.inject.hk2.RequestContext*'; done\n</code></pre>\n<p>This let me find and then remove one the one two conflicting jars.</p>\n"}],"owner":{"account_id":7480661,"reputation":692,"user_id":5685482,"accept_rate":100,"display_name":"Miguel Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694541013,"creation_date":1681220291,"question_id":75986556,"body_markdown":"I&#39;m having an error and trying to fix it that I wanted to know if there is any information more about it and how to debug it, the root cause.\r\nI basically wanted to understand more about how I can investigate the error:\r\n&quot;signer information does not match signer information of other classes in the same package&quot;\r\n\r\nFor example from this question https://stackoverflow.com/questions/11084871/exclude-servlet-api-from-test-scope-maven/11085986#11085986 I get that this is basically a problem with different versions of the jar defined in the dependencies.\r\n\r\n\r\n\r\nBut when I checked with gradle the dependency scope I don&#39;t see any problem that might show up.\r\n\r\nI use 2 bouncy castle dependencies. org.bouncycastle:bcpkix-fips and org.bouncycastle:bc-fips\r\n\r\nI check with gradle and the dependencies seem what I expect:\r\n\r\n```\r\n./gradlew -q dependencyInsight --dependency org.bouncycastle:bcpkix-fips --configuration testRuntimeClasspath\r\norg.bouncycastle:bcpkix-fips:1.0.3\r\n   variant &quot;runtime&quot; [\r\n      org.gradle.status              = release (not requested)\r\n      org.gradle.usage               = java-runtime\r\n      org.gradle.libraryelements     = jar\r\n      org.gradle.category            = library\r\n\r\n      Requested attributes not found in the selected variant:\r\n         org.gradle.dependency.bundling = external\r\n         org.gradle.jvm.environment     = standard-jvm\r\n         org.gradle.jvm.version         = 11\r\n   ]\r\n\r\norg.bouncycastle:bcpkix-fips:1.0.3\r\n\\--- testRuntimeClasspath\r\n\r\n./gradlew -q dependencyInsight --dependency org.bouncycastle:bc-fips --configuration testRuntimeClasspath\r\norg.bouncycastle:bc-fips:1.0.1\r\n   variant &quot;runtime&quot; [\r\n      org.gradle.status              = release (not requested)\r\n      org.gradle.usage               = java-runtime\r\n      org.gradle.libraryelements     = jar\r\n      org.gradle.category            = library\r\n\r\n      Requested attributes not found in the selected variant:\r\n         org.gradle.dependency.bundling = external\r\n         org.gradle.jvm.environment     = standard-jvm\r\n         org.gradle.jvm.version         = 11\r\n   ]\r\n\r\norg.bouncycastle:bc-fips:1.0.1\r\n\\--- testRuntimeClasspath\r\n\r\norg.bouncycastle:bc-fips:[1.0.0,2.0.0) -&gt; 1.0.1\r\n\\--- org.bouncycastle:bcpkix-fips:1.0.3\r\n     \\--- testRuntimeClasspath\r\n```\r\n\r\nStill I get this in the log when I tried to launch my tests:\r\n\r\n```\r\n[Test worker] ERROR net.mguenther.kafka.junit.EmbeddedConnect - Failed to deploy connector test-sink-connector.\r\njava.util.concurrent.ExecutionException: java.lang.ExceptionInInitializerError\r\n\tat org.apache.kafka.connect.util.ConvertingFutureCallback.result(ConvertingFutureCallback.java:115)\r\n\tat org.apache.kafka.connect.util.ConvertingFutureCallback.get(ConvertingFutureCallback.java:107)\r\n\tat net.mguenther.kafka.junit.EmbeddedConnect.deployConnector(EmbeddedConnect.java:93)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat net.mguenther.kafka.junit.EmbeddedConnect.start(EmbeddedConnect.java:81)\r\n\tat com.abc.kafka.connect.utils.test.kafka.JunitConnectWrapper.start(JunitConnectWrapper.java:59)\r\n\tat com.abc.kafka.connect.utils.test.kafka.JunitConnectWrapper.&lt;init&gt;(JunitConnectWrapper.java:52)\r\n\tat com.abc.kafka.connect.converters.test.kafka.KafkaConnectCluster.&lt;init&gt;(KafkaConnectCluster.java:40)\r\n\tat com.abc.kafka.connect.test.kafka.SnowflakeSinkConnector.&lt;init&gt;(SnowflakeSinkConnector.java:38)\r\n\tat com.abc.kafka.connect.integration.SnowflakeSinkConnectorTest.beforeClass(SnowflakeSinkConnectorTest.java:67)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeAllMethod(TimeoutExtension.java:70)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllMethods$13(ClassBasedTestDescriptor.java:411)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllMethods(ClassBasedTestDescriptor.java:409)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:215)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat org.bouncycastle.crypto.fips.FipsStatus.loadClass(Unknown Source)\r\n\tat org.bouncycastle.crypto.fips.FipsStatus.access$200(Unknown Source)\r\n\tat org.bouncycastle.crypto.fips.FipsStatus$Loader.&lt;init&gt;(Unknown Source)\r\n\tat org.bouncycastle.crypto.fips.FipsStatus.isReady(Unknown Source)\r\n\tat org.bouncycastle.crypto.CryptoServicesRegistrar.getDefaultMode(Unknown Source)\r\n\tat org.bouncycastle.crypto.CryptoServicesRegistrar.&lt;clinit&gt;(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.ProvSecureHash$MD5.configure(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n\tat org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\r\n\tat com.snowflake.kafka.connector.internal.EncryptionUtils.parseEncryptedPrivateKey(EncryptionUtils.java:30)\r\n\tat com.snowflake.kafka.connector.internal.InternalUtils.createProperties(InternalUtils.java:151)\r\n\tat com.snowflake.kafka.connector.internal.SnowflakeConnectionServiceFactory$SnowflakeConnectionServiceBuilder.setProperties(SnowflakeConnectionServiceFactory.java:58)\r\n\tat com.snowflake.kafka.connector.SnowflakeSinkConnector.validate(SnowflakeSinkConnector.java:243)\r\n\tat org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:471)\r\n\tat org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$2(AbstractHerder.java:367)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.SecurityException: class &quot;org.bouncycastle.util.test.TestRandomBigInteger&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\tat java.base/java.lang.ClassLoader.checkCerts(ClassLoader.java:1151)\r\n\tat java.base/java.lang.ClassLoader.preDefineClass(ClassLoader.java:906)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1015)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat org.bouncycastle.crypto.fips.FipsDSA$DsaProvider.createEngine(Unknown Source)\r\n\tat org.bouncycastle.crypto.fips.FipsDSA$DsaProvider.createEngine(Unknown Source)\r\n\tat org.bouncycastle.crypto.fips.FipsDSA.&lt;clinit&gt;(Unknown Source)\r\n\t... 23 more\r\n```\r\n\r\nSo my question is how can I investigate on my class path where the bouncy castle dependency is being resolved?\r\nOr how could I verify the differences between the packages signature information.\r\nThank you for any feedback\r\n","title":"gradle tests Bouncy Castle ExceptionInInitializerError (conflicting jars?)","body":"<p>I'm having an error and trying to fix it that I wanted to know if there is any information more about it and how to debug it, the root cause.\nI basically wanted to understand more about how I can investigate the error:\n&quot;signer information does not match signer information of other classes in the same package&quot;</p>\n<p>For example from this question <a href=\"https://stackoverflow.com/questions/11084871/exclude-servlet-api-from-test-scope-maven/11085986#11085986\">Exclude servlet-api from test scope Maven</a> I get that this is basically a problem with different versions of the jar defined in the dependencies.</p>\n<p>But when I checked with gradle the dependency scope I don't see any problem that might show up.</p>\n<p>I use 2 bouncy castle dependencies. org.bouncycastle:bcpkix-fips and org.bouncycastle:bc-fips</p>\n<p>I check with gradle and the dependencies seem what I expect:</p>\n<pre><code>./gradlew -q dependencyInsight --dependency org.bouncycastle:bcpkix-fips --configuration testRuntimeClasspath\norg.bouncycastle:bcpkix-fips:1.0.3\n   variant &quot;runtime&quot; [\n      org.gradle.status              = release (not requested)\n      org.gradle.usage               = java-runtime\n      org.gradle.libraryelements     = jar\n      org.gradle.category            = library\n\n      Requested attributes not found in the selected variant:\n         org.gradle.dependency.bundling = external\n         org.gradle.jvm.environment     = standard-jvm\n         org.gradle.jvm.version         = 11\n   ]\n\norg.bouncycastle:bcpkix-fips:1.0.3\n\\--- testRuntimeClasspath\n\n./gradlew -q dependencyInsight --dependency org.bouncycastle:bc-fips --configuration testRuntimeClasspath\norg.bouncycastle:bc-fips:1.0.1\n   variant &quot;runtime&quot; [\n      org.gradle.status              = release (not requested)\n      org.gradle.usage               = java-runtime\n      org.gradle.libraryelements     = jar\n      org.gradle.category            = library\n\n      Requested attributes not found in the selected variant:\n         org.gradle.dependency.bundling = external\n         org.gradle.jvm.environment     = standard-jvm\n         org.gradle.jvm.version         = 11\n   ]\n\norg.bouncycastle:bc-fips:1.0.1\n\\--- testRuntimeClasspath\n\norg.bouncycastle:bc-fips:[1.0.0,2.0.0) -&gt; 1.0.1\n\\--- org.bouncycastle:bcpkix-fips:1.0.3\n     \\--- testRuntimeClasspath\n</code></pre>\n<p>Still I get this in the log when I tried to launch my tests:</p>\n<pre><code>[Test worker] ERROR net.mguenther.kafka.junit.EmbeddedConnect - Failed to deploy connector test-sink-connector.\njava.util.concurrent.ExecutionException: java.lang.ExceptionInInitializerError\n    at org.apache.kafka.connect.util.ConvertingFutureCallback.result(ConvertingFutureCallback.java:115)\n    at org.apache.kafka.connect.util.ConvertingFutureCallback.get(ConvertingFutureCallback.java:107)\n    at net.mguenther.kafka.junit.EmbeddedConnect.deployConnector(EmbeddedConnect.java:93)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at net.mguenther.kafka.junit.EmbeddedConnect.start(EmbeddedConnect.java:81)\n    at com.abc.kafka.connect.utils.test.kafka.JunitConnectWrapper.start(JunitConnectWrapper.java:59)\n    at com.abc.kafka.connect.utils.test.kafka.JunitConnectWrapper.&lt;init&gt;(JunitConnectWrapper.java:52)\n    at com.abc.kafka.connect.converters.test.kafka.KafkaConnectCluster.&lt;init&gt;(KafkaConnectCluster.java:40)\n    at com.abc.kafka.connect.test.kafka.SnowflakeSinkConnector.&lt;init&gt;(SnowflakeSinkConnector.java:38)\n    at com.abc.kafka.connect.integration.SnowflakeSinkConnectorTest.beforeClass(SnowflakeSinkConnectorTest.java:67)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeAllMethod(TimeoutExtension.java:70)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllMethods$13(ClassBasedTestDescriptor.java:411)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllMethods(ClassBasedTestDescriptor.java:409)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:215)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at org.bouncycastle.crypto.fips.FipsStatus.loadClass(Unknown Source)\n    at org.bouncycastle.crypto.fips.FipsStatus.access$200(Unknown Source)\n    at org.bouncycastle.crypto.fips.FipsStatus$Loader.&lt;init&gt;(Unknown Source)\n    at org.bouncycastle.crypto.fips.FipsStatus.isReady(Unknown Source)\n    at org.bouncycastle.crypto.CryptoServicesRegistrar.getDefaultMode(Unknown Source)\n    at org.bouncycastle.crypto.CryptoServicesRegistrar.&lt;clinit&gt;(Unknown Source)\n    at org.bouncycastle.jcajce.provider.ProvSecureHash$MD5.configure(Unknown Source)\n    at org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n    at org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n    at org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider.&lt;init&gt;(Unknown Source)\n    at com.snowflake.kafka.connector.internal.EncryptionUtils.parseEncryptedPrivateKey(EncryptionUtils.java:30)\n    at com.snowflake.kafka.connector.internal.InternalUtils.createProperties(InternalUtils.java:151)\n    at com.snowflake.kafka.connector.internal.SnowflakeConnectionServiceFactory$SnowflakeConnectionServiceBuilder.setProperties(SnowflakeConnectionServiceFactory.java:58)\n    at com.snowflake.kafka.connector.SnowflakeSinkConnector.validate(SnowflakeSinkConnector.java:243)\n    at org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:471)\n    at org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$2(AbstractHerder.java:367)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.SecurityException: class &quot;org.bouncycastle.util.test.TestRandomBigInteger&quot;'s signer information does not match signer information of other classes in the same package\n    at java.base/java.lang.ClassLoader.checkCerts(ClassLoader.java:1151)\n    at java.base/java.lang.ClassLoader.preDefineClass(ClassLoader.java:906)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1015)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at org.bouncycastle.crypto.fips.FipsDSA$DsaProvider.createEngine(Unknown Source)\n    at org.bouncycastle.crypto.fips.FipsDSA$DsaProvider.createEngine(Unknown Source)\n    at org.bouncycastle.crypto.fips.FipsDSA.&lt;clinit&gt;(Unknown Source)\n    ... 23 more\n</code></pre>\n<p>So my question is how can I investigate on my class path where the bouncy castle dependency is being resolved?\nOr how could I verify the differences between the packages signature information.\nThank you for any feedback</p>\n"},{"tags":["java","android","operating-system","programming-languages","native"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1525073627,"post_id":50095873,"comment_id":87207964,"body_markdown":"These are just language for development . And now `Kotlin` is the official Language for Android application development by Google.","body":"These are just language for development . And now <code>Kotlin</code> is the official Language for Android application development by Google."},{"owner":{"account_id":6914463,"reputation":1103,"user_id":5309272,"display_name":"Rishabh Rawat"},"score":0,"creation_date":1525074589,"post_id":50095873,"comment_id":87208420,"body_markdown":"Means from native langauge you can access or full control of os and hardware. So from java and kotlin you can do because android has a dex compiler and only native langauge run from the dex compiler.","body":"Means from native langauge you can access or full control of os and hardware. So from java and kotlin you can do because android has a dex compiler and only native langauge run from the dex compiler."},{"owner":{"display_name":"user1531971"},"score":0,"creation_date":1525108456,"post_id":50095873,"comment_id":87227537,"body_markdown":"A bit broad for SO, even if we only consider Android. For example: https://www.quora.com/What-are-the-advantages-for-developing-apps-in-its-native-language-iOS-Android-etc-vs-a-cross-platform-build?share=1","body":"A bit broad for SO, even if we only consider Android. For example: <a href=\"https://www.quora.com/What-are-the-advantages-for-developing-apps-in-its-native-language-iOS-Android-etc-vs-a-cross-platform-build?share=1\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a>"},{"owner":{"account_id":6685707,"reputation":130,"user_id":5157039,"display_name":"Mohammad"},"score":0,"creation_date":1525513762,"post_id":50095873,"comment_id":87392756,"body_markdown":"@RishabhRawat, thanks for noting dex, I did not know anything about it and it made me to investigate about it","body":"@RishabhRawat, thanks for noting dex, I did not know anything about it and it made me to investigate about it"}],"answers":[{"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1525079023,"post_id":50096037,"comment_id":87210688,"body_markdown":"...`Java/kotlin for android...` How wrong is that! The native language for Android is **C/C++** (as for all UNIX platforms). In facts, the [NDK](https://developer.android.com/ndk/) (Native Development Kit) allows you to program in **C/C++**.","body":"...<code>Java&#47;kotlin for android...</code> How wrong is that! The native language for Android is <b>C/C++</b> (as for all UNIX platforms). In facts, the <a href=\"https://developer.android.com/ndk/\" rel=\"nofollow noreferrer\">NDK</a> (Native Development Kit) allows you to program in <b>C/C++</b>."},{"owner":{"account_id":9470516,"reputation":846,"user_id":7041505,"display_name":"Itay Feldman"},"score":0,"creation_date":1525079229,"post_id":50096037,"comment_id":87210812,"body_markdown":"Tbh, your right java is native for kotlin while C is native for Android. I&#39;ll fix my answer.  Thanks.","body":"Tbh, your right java is native for kotlin while C is native for Android. I&#39;ll fix my answer.  Thanks."},{"owner":{"account_id":9470516,"reputation":846,"user_id":7041505,"display_name":"Itay Feldman"},"score":0,"creation_date":1525079417,"post_id":50096037,"comment_id":87210911,"body_markdown":"Never said it was.. but kotlin is based on java, hence java is native for kotlin","body":"Never said it was.. but kotlin is based on java, hence java is native for kotlin"},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1525079854,"post_id":50096037,"comment_id":87211162,"body_markdown":"`... kotlin is based on java...` **correct**. `... hence java is native for kotlin ...` **opinionable**: Is it correct to assert that a language is &quot;native&quot; for another one? or is it more correct to say that a language is native for an OS?","body":"<code>... kotlin is based on java...</code> <b>correct</b>. <code>... hence java is native for kotlin ...</code> <b>opinionable</b>: Is it correct to assert that a language is &quot;native&quot; for another one? or is it more correct to say that a language is native for an OS?"},{"owner":{"account_id":9470516,"reputation":846,"user_id":7041505,"display_name":"Itay Feldman"},"score":0,"creation_date":1525080909,"post_id":50096037,"comment_id":87211768,"body_markdown":"@KlingKlang Sure than call it based on instead of native for.. :)","body":"@KlingKlang Sure than call it based on instead of native for.. :)"}],"tags":[],"owner":{"account_id":9470516,"reputation":846,"user_id":7041505,"display_name":"Itay Feldman"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1525081033,"creation_date":1525074183,"answer_id":50096037,"question_id":50095873,"body_markdown":"**Long story short** for understanding the general consept - \r\n\r\nNative means its a language for a specific platform.\r\n\r\nThat said, developing for android or for IOS (apple&#39;s OS) specifically each has their own native languages.(C is the native language for android [Kotlin is based on Java and Java is based on C] and Objective-C for IOS)\r\n\r\nOn the other hand, there are languages which are not native. For instance React native is developing for both the android and IOS platforms.\r\nIn these cases the views are not native elements but more web form elements (JS, CSS etc..).\r\n\r\nNative languages will most of the time have better capabilities and performances. \r\n\r\nConclusions - Native means a language for a specific platform (the official platform language you could say).","title":"what does native language mean for a specific os?","body":"<p><strong>Long story short</strong> for understanding the general consept - </p>\n\n<p>Native means its a language for a specific platform.</p>\n\n<p>That said, developing for android or for IOS (apple's OS) specifically each has their own native languages.(C is the native language for android [Kotlin is based on Java and Java is based on C] and Objective-C for IOS)</p>\n\n<p>On the other hand, there are languages which are not native. For instance React native is developing for both the android and IOS platforms.\nIn these cases the views are not native elements but more web form elements (JS, CSS etc..).</p>\n\n<p>Native languages will most of the time have better capabilities and performances. </p>\n\n<p>Conclusions - Native means a language for a specific platform (the official platform language you could say).</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525074294,"creation_date":1525074294,"answer_id":50096057,"question_id":50095873,"body_markdown":"Low level programming\r\n-\r\nIn contrast to Interpreted languages like PHP or Bytecode languages like Java and parts of c# a Low-Level-Programming means the compilation to very close programming for Processor-instructions like assembler and machine code.\r\n\r\nNative Android Apps\r\n-\r\nIn contrast to Android-Apps a Native Android App contain code that is very close the device&#39;s hardware. Native Andoid Apps usually do not contain only Java bytecode. They use librarys or applications who are close to the Device&#39;s hardware.\r\n\r\nThere are two criterias for the decision if a Android App must be native:\r\n\r\n1. A Hardware must be controlled directly\r\n2. The performance of the Application is important (because direct controller instructions can be optimized and does not have the overhead of interpretation).\r\n\r\n","title":"what does native language mean for a specific os?","body":"<h2>Low level programming</h2>\n\n<p>In contrast to Interpreted languages like PHP or Bytecode languages like Java and parts of c# a Low-Level-Programming means the compilation to very close programming for Processor-instructions like assembler and machine code.</p>\n\n<h2>Native Android Apps</h2>\n\n<p>In contrast to Android-Apps a Native Android App contain code that is very close the device's hardware. Native Andoid Apps usually do not contain only Java bytecode. They use librarys or applications who are close to the Device's hardware.</p>\n\n<p>There are two criterias for the decision if a Android App must be native:</p>\n\n<ol>\n<li>A Hardware must be controlled directly</li>\n<li>The performance of the Application is important (because direct controller instructions can be optimized and does not have the overhead of interpretation).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6685707,"reputation":130,"user_id":5157039,"display_name":"Mohammad"},"score":0,"creation_date":1525583947,"post_id":50096209,"comment_id":87409893,"body_markdown":"May be because of my Cordova background I have seen that phrase more, but it seems that its not Generally frequently used so I am going to write an edit note at the end of my question and I would be grateful if you express your idea about that too.","body":"May be because of my Cordova background I have seen that phrase more, but it seems that its not Generally frequently used so I am going to write an edit note at the end of my question and I would be grateful if you express your idea about that too."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525074904,"creation_date":1525074904,"answer_id":50096209,"question_id":50095873,"body_markdown":"&gt; What does it mean that for example java (or kotlin) is the native language for android development?\r\n\r\nFrom a technical perspective, it doesn&#39;t mean anything.\r\n\r\n&gt; What does native mean here? \r\n\r\nIt depends on what you mean by &quot;here&quot;.  You claim that &quot;native&quot; is being used this way, but you don&#39;t offer any clear examples / references.\r\n\r\nIf we had some examples of what you were talking about, we could probably figure out what the author was trying to say.  But that doesn&#39;t *necessarily* make the author&#39;s use of the word &quot;native&quot; correct or widely accepted.\r\n\r\n&gt; Does this concept exist for other operating systems too?  For example do we have a native language for Windows and/or Linux too?\r\n\r\nNo.   \r\n\r\nAnd I&#39;m not convinced it exists in Android either!  Certainly, I would not accept that it is normal usage to call either Java or Kotlin the &quot;native language&quot; for the Android platform.\r\n\r\n------------------\r\n\r\nNow there is an accepted use of the word &quot;native&quot; in Java for Android, Linux, Windows and other OS platforms.  A &quot;native library&quot; is a library (or dll) that is implemented in some (unspecified!) programming language and compiled to the hardware instruction set of the platform on which the JVM is running.   It consists of &quot;native code&quot; instructions ... not bytecodes.  The source language for a native library is *typically* C or C++, but it could in theory be any language that can be compiled to native code, and that offers a calling sequence that is compatible with (for example) JNI.  (Note that JNI stands for [Java **Native** Interface][1] ...)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Native_Interface","title":"what does native language mean for a specific os?","body":"<blockquote>\n  <p>What does it mean that for example java (or kotlin) is the native language for android development?</p>\n</blockquote>\n\n<p>From a technical perspective, it doesn't mean anything.</p>\n\n<blockquote>\n  <p>What does native mean here? </p>\n</blockquote>\n\n<p>It depends on what you mean by \"here\".  You claim that \"native\" is being used this way, but you don't offer any clear examples / references.</p>\n\n<p>If we had some examples of what you were talking about, we could probably figure out what the author was trying to say.  But that doesn't <em>necessarily</em> make the author's use of the word \"native\" correct or widely accepted.</p>\n\n<blockquote>\n  <p>Does this concept exist for other operating systems too?  For example do we have a native language for Windows and/or Linux too?</p>\n</blockquote>\n\n<p>No.   </p>\n\n<p>And I'm not convinced it exists in Android either!  Certainly, I would not accept that it is normal usage to call either Java or Kotlin the \"native language\" for the Android platform.</p>\n\n<hr>\n\n<p>Now there is an accepted use of the word \"native\" in Java for Android, Linux, Windows and other OS platforms.  A \"native library\" is a library (or dll) that is implemented in some (unspecified!) programming language and compiled to the hardware instruction set of the platform on which the JVM is running.   It consists of \"native code\" instructions ... not bytecodes.  The source language for a native library is <em>typically</em> C or C++, but it could in theory be any language that can be compiled to native code, and that offers a calling sequence that is compatible with (for example) JNI.  (Note that JNI stands for <a href=\"https://en.wikipedia.org/wiki/Java_Native_Interface\" rel=\"nofollow noreferrer\">Java <strong>Native</strong> Interface</a> ...)</p>\n"},{"tags":[],"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563007376,"creation_date":1562534333,"answer_id":56926184,"question_id":50095873,"body_markdown":"In the strictest sense, **native language** is just another term for **compiled language** i.e. languages which the product doesn&#39;t need to be interpretted at runtime. E.g. C, C++. I think the it&#39;s origin is closely related to the word **native code**.\r\n\r\nNow coming into **Android**, it&#39;s top layer API is written in Java. As the language in which the OS components are written, Java is often called **native**.&lt;br/&gt; However, I wouldn&#39;t say it&#39;s a correct usage. Also, In Android, the toolset for development in Java is called &quot;Software Development Kit&quot; and the same for C/C++ development is called &quot;Native Development Kit&quot;.","title":"what does native language mean for a specific os?","body":"<p>In the strictest sense, <strong>native language</strong> is just another term for <strong>compiled language</strong> i.e. languages which the product doesn't need to be interpretted at runtime. E.g. C, C++. I think the it's origin is closely related to the word <strong>native code</strong>.</p>\n\n<p>Now coming into <strong>Android</strong>, it's top layer API is written in Java. As the language in which the OS components are written, Java is often called <strong>native</strong>.<br/> However, I wouldn't say it's a correct usage. Also, In Android, the toolset for development in Java is called \"Software Development Kit\" and the same for C/C++ development is called \"Native Development Kit\".</p>\n"},{"tags":[],"owner":{"account_id":26544259,"reputation":105,"user_id":20174544,"display_name":"Muhammad Umar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694540435,"creation_date":1694540435,"answer_id":77091501,"question_id":50095873,"body_markdown":"The term &quot;**native language**&quot; for a **specific operating system (OS)** refers to the language in which the **OS was originally developed or designed to function**. In this context, &quot;native&quot; doesn&#39;t necessarily refer to the language spoken by the users of the OS, but rather the language in which the core components, system libraries, and user interface elements of the OS are initially developed.\r\n\r\n - *Programming Language Native to an OS:* Languages closely associated\r\n   with a specific OS, like Objective-C for macOS/iOS.\r\n - *Native Code:* Low-level code specific to CPU/OS, often in Assembly.\r\n - *System-Level Languages:* Like C/C++ for close OS interaction.\r\n - *Preferred Dev Environment:* The language/tools commonly used for\r\n   OS-specific development.\r\n\r\nA native programming language for a specific OS is one that is closely tied to that OS and offers optimized performance and direct access to OS resources. While this can lead to high-performance applications on that OS, it may also limit the portability of the code to other operating systems. Developers often choose native languages based on their specific requirements and the target platform for their applications.","title":"what does native language mean for a specific os?","body":"<p>The term &quot;<strong>native language</strong>&quot; for a <strong>specific operating system (OS)</strong> refers to the language in which the <strong>OS was originally developed or designed to function</strong>. In this context, &quot;native&quot; doesn't necessarily refer to the language spoken by the users of the OS, but rather the language in which the core components, system libraries, and user interface elements of the OS are initially developed.</p>\n<ul>\n<li><em>Programming Language Native to an OS:</em> Languages closely associated\nwith a specific OS, like Objective-C for macOS/iOS.</li>\n<li><em>Native Code:</em> Low-level code specific to CPU/OS, often in Assembly.</li>\n<li><em>System-Level Languages:</em> Like C/C++ for close OS interaction.</li>\n<li><em>Preferred Dev Environment:</em> The language/tools commonly used for\nOS-specific development.</li>\n</ul>\n<p>A native programming language for a specific OS is one that is closely tied to that OS and offers optimized performance and direct access to OS resources. While this can lead to high-performance applications on that OS, it may also limit the portability of the code to other operating systems. Developers often choose native languages based on their specific requirements and the target platform for their applications.</p>\n"}],"owner":{"account_id":6685707,"reputation":130,"user_id":5157039,"display_name":"Mohammad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3734,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1694540435,"creation_date":1525073502,"question_id":50095873,"body_markdown":"What does it mean that for example java (or kotlin) is the native language for android development?    \r\nWhat does native mean here?\r\nDoes this concept exist for other operating systems too? for example do we have a native language for windows and/or linux too?    \r\n  \r\nEDIT:  \r\nI am not sure how much usual it is to use the phrase &quot;native language&quot;.  \r\nThe main thing I am looking for is what are the reasons that make a language more friendly and more frequently used for a special OS.  \r\n  \r\nFor example, is the api of an operating system more easy to call from one or a couple of specific languages? (if yes why?)  \r\nIs it the existence of compilers to compile to an intermediate set of instructions (like java byte codes) and to a set of instructions of several hardwares?  \r\n  \r\nAs another example we have some languages that compile to java byte codes, why are they not widely used for android development?  \r\n\r\n","title":"what does native language mean for a specific os?","body":"<p>What does it mean that for example java (or kotlin) is the native language for android development?<br>\nWhat does native mean here?\nDoes this concept exist for other operating systems too? for example do we have a native language for windows and/or linux too?    </p>\n\n<p>EDIT:<br>\nI am not sure how much usual it is to use the phrase \"native language\".<br>\nThe main thing I am looking for is what are the reasons that make a language more friendly and more frequently used for a special OS.  </p>\n\n<p>For example, is the api of an operating system more easy to call from one or a couple of specific languages? (if yes why?)<br>\nIs it the existence of compilers to compile to an intermediate set of instructions (like java byte codes) and to a set of instructions of several hardwares?  </p>\n\n<p>As another example we have some languages that compile to java byte codes, why are they not widely used for android development?  </p>\n"},{"tags":["java","json","spring-boot","spring-cloud-gateway"],"owner":{"account_id":15620203,"reputation":157,"user_id":11269266,"display_name":"Arpit S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694540397,"creation_date":1694540397,"question_id":77091496,"body_markdown":"**Problem Statement:**\r\nDifferent customers want different JSON output (schema), to fit to their needs. Currently have implemented Spring Cloud Gateway to route to different customers, but using same JSON format.\r\n\r\n**Desired Outcome:**\r\nAlthough underlying source of data(properties) is same/single (inbound message) for all customers, different customers should be able to be configured to receive custom JSON output (POST to endpoint) based on their needs.\r\n\r\nTried using different filters to generate output structure and apply to route, but it is causing multiple model objects with duplication.\r\nLooking for better solutions.","title":"Different JSON output by customer","body":"<p><strong>Problem Statement:</strong>\nDifferent customers want different JSON output (schema), to fit to their needs. Currently have implemented Spring Cloud Gateway to route to different customers, but using same JSON format.</p>\n<p><strong>Desired Outcome:</strong>\nAlthough underlying source of data(properties) is same/single (inbound message) for all customers, different customers should be able to be configured to receive custom JSON output (POST to endpoint) based on their needs.</p>\n<p>Tried using different filters to generate output structure and apply to route, but it is causing multiple model objects with duplication.\nLooking for better solutions.</p>\n"},{"tags":["java","spring","spring-boot","maven","inversion-of-control"],"answers":[{"comments":[{"owner":{"account_id":27132164,"reputation":21,"user_id":20743593,"display_name":"Kamilosinni"},"score":0,"creation_date":1680966043,"post_id":75965547,"comment_id":133984986,"body_markdown":"I tried both solutions both adding `public` and removing the entire constructor declaration, but unfortunately, still the same problem :(","body":"I tried both solutions both adding <code>public</code> and removing the entire constructor declaration, but unfortunately, still the same problem :("},{"owner":{"account_id":27132164,"reputation":21,"user_id":20743593,"display_name":"Kamilosinni"},"score":0,"creation_date":1680968402,"post_id":75965547,"comment_id":133985338,"body_markdown":"When I remove this dependency, I can&#39;t use import &#39;javax&#39; anymore. Should I use &#39;jakarta&#39; instead of &#39;javax&#39; and it will be the same? (I&#39;m asking because both guides i am converting use javax i dont know if jakarta will be the correct form)","body":"When I remove this dependency, I can&#39;t use import &#39;javax&#39; anymore. Should I use &#39;jakarta&#39; instead of &#39;javax&#39; and it will be the same? (I&#39;m asking because both guides i am converting use javax i dont know if jakarta will be the correct form)"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680970090,"post_id":75965547,"comment_id":133985605,"body_markdown":"jakarta is the correct one to work smoothly with the other Spring dependencies you have already.","body":"jakarta is the correct one to work smoothly with the other Spring dependencies you have already."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680967368,"creation_date":1680961054,"answer_id":75965547,"question_id":75965177,"body_markdown":"in the class DepartmentServiceImpl there is no public constructor. It is needed by Spring for dependency injection. \r\n\r\n**Solution**\r\n\r\nEither add public identifier to the constructor or remove it. A public constructor without arguments will be created by Java internally (if no other constructor present).\r\n\r\n**Edited** after you added the pom.xml to the question:\r\n\r\nPlease remove this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot error with a repository/entity, &quot;not a managed type&quot;","body":"<p>in the class DepartmentServiceImpl there is no public constructor. It is needed by Spring for dependency injection.</p>\n<p><strong>Solution</strong></p>\n<p>Either add public identifier to the constructor or remove it. A public constructor without arguments will be created by Java internally (if no other constructor present).</p>\n<p><strong>Edited</strong> after you added the pom.xml to the question:</p>\n<p>Please remove this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2345906,"reputation":2356,"user_id":2056178,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694539822,"creation_date":1694539822,"answer_id":77091439,"question_id":75965177,"body_markdown":"Encountered the same issue.\r\n\r\nIn my case, the problem was :\r\n1. In wrong dependency (`javax.persistence:javax.persistence-api:2.2`), removed it\r\n2. Wrong imports for `@Entity` and `@Id` - replaced them with :\r\n```\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\n```\r\n\r\nSeems that `javax.persistence` was replaced by `jakarta.persistence` last year. Anyway, spring data JPA examples [now uses jakarta package][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-examples/blob/main/jpa/example/src/main/java/example/springdata/jpa/simple/User.java","title":"Spring Boot error with a repository/entity, &quot;not a managed type&quot;","body":"<p>Encountered the same issue.</p>\n<p>In my case, the problem was :</p>\n<ol>\n<li>In wrong dependency (<code>javax.persistence:javax.persistence-api:2.2</code>), removed it</li>\n<li>Wrong imports for <code>@Entity</code> and <code>@Id</code> - replaced them with :</li>\n</ol>\n<pre><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n</code></pre>\n<p>Seems that <code>javax.persistence</code> was replaced by <code>jakarta.persistence</code> last year. Anyway, spring data JPA examples <a href=\"https://github.com/spring-projects/spring-data-examples/blob/main/jpa/example/src/main/java/example/springdata/jpa/simple/User.java\" rel=\"nofollow noreferrer\">now uses jakarta package</a></p>\n"}],"owner":{"account_id":27132164,"reputation":21,"user_id":20743593,"display_name":"Kamilosinni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1694539822,"creation_date":1680956439,"question_id":75965177,"body_markdown":"I know that similar questions have been asked before on this forum, but none of the proposed solutions helped me, so I am writing a separate question. The code is from the spring boot course on youtube (https://youtu.be/zvR-Oif_nxg)(im stuck about 2:21:00), but this error also occurs when I tried to do the course on the spring boot site. The full text of the error is:\r\n\r\n---\r\n`&quot;Error creating bean with name &#39;departmentController&#39;: Unsatisfied dependency expressed through field &#39;departmentService&#39;: Error creating bean with name &#39;departmentServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;departmentRepository&#39;: Error creating bean with name &#39;departmentRepository&#39; defined in com.kamilosinni.course.repository.DepartmentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.kamilosinni.course.entity.Department&quot;\r\n`\r\n\r\n---\r\nmain app class (CourseApplication.java): \r\n```java\r\n\r\npackage com.kamilosinni.course;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n\r\n@SpringBootApplication\r\n\r\npublic class CourseApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CourseApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nDepartmentController.java:\r\n```java\r\npackage com.kamilosinni.course.controller;\r\n\r\n\r\nimport com.kamilosinni.course.entity.Department;\r\nimport com.kamilosinni.course.service.DepartmentService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class DepartmentController {\r\n\r\n    @Autowired\r\n   private DepartmentService departmentService;\r\n    @GetMapping(&quot;/departments&quot;)\r\n    public Department saveDepartment(@RequestBody Department department)\r\n    {\r\n        return departmentService.saveDepartment(department);\r\n\r\n    }\r\n}\r\n```\r\nDepartment.java:\r\n```java \r\npackage com.kamilosinni.course.entity;\r\n\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Department {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long departmentId;\r\n    private String departmentName;\r\n    private String departmentAdress;\r\n    private String departmentCode;\r\n\r\n    public Long getDepartmentId() {\r\n        return departmentId;\r\n    }\r\n\r\n    public void setDepartmentId(Long departmentId) {\r\n        this.departmentId = departmentId;\r\n    }\r\n\r\n    public String getDepartmentName() {\r\n        return departmentName;\r\n    }\r\n\r\n    public void setDepartmentName(String departmentName) {\r\n        this.departmentName = departmentName;\r\n    }\r\n\r\n    public String getDepartmentAdress() {\r\n        return departmentAdress;\r\n    }\r\n\r\n    public void setDepartmentAdress(String departmentAdress) {\r\n        this.departmentAdress = departmentAdress;\r\n    }\r\n\r\n    public String getDepartmentCode() {\r\n        return departmentCode;\r\n    }\r\n\r\n    public void setDepartmentCode(String departmentCode) {\r\n        this.departmentCode = departmentCode;\r\n    }\r\n\r\n    public Department(Long departmentId, String departmentName, String departmentAdress, String departmentCode) {\r\n        this.departmentId = departmentId;\r\n        this.departmentName = departmentName;\r\n        this.departmentAdress = departmentAdress;\r\n        this.departmentCode = departmentCode;\r\n    }\r\n    public Department(){}\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Department{&quot; +\r\n                &quot;departmentId=&quot; + departmentId +\r\n                &quot;, departmentName=&#39;&quot; + departmentName + &#39;\\&#39;&#39; +\r\n                &quot;, departmentAdress=&#39;&quot; + departmentAdress + &#39;\\&#39;&#39; +\r\n                &quot;, departmentCode=&#39;&quot; + departmentCode + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nDepartmentRepository.java:\r\n```java\r\npackage com.kamilosinni.course.repository;\r\n\r\nimport com.kamilosinni.course.entity.Department;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface DepartmentRepository extends JpaRepository&lt;Department, Long&gt; {}\r\n\r\n```\r\nDepartmentService.java:\r\n```java\r\npackage com.kamilosinni.course.service;\r\n\r\nimport com.kamilosinni.course.entity.Department;\r\n\r\n\r\n\r\npublic interface DepartmentService {\r\n    Department saveDepartment(Department department);\r\n}\r\n```\r\nDepartmentServiceImpl.java:\r\n```java\r\npackage com.kamilosinni.course.service;\r\n\r\nimport com.kamilosinni.course.entity.Department;\r\nimport com.kamilosinni.course.repository.DepartmentRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class DepartmentServiceImpl implements DepartmentService{\r\n\r\n\r\n\r\n@Autowired\r\n    DepartmentRepository departmentRepository;\r\n\r\n    DepartmentServiceImpl(){}\r\n    @Override\r\n    public Department saveDepartment(Department department) {\r\n        return departmentRepository.save(department);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\ni tried to add additional annotations to the main class:\r\n\r\n```java\r\npackage com.kamilosinni.course;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n\r\n@SpringBootApplication\r\n@EntityScan(&quot;com.kamilosinni.course.entity&quot;)\r\n@EnableJpaRepositories(&quot;com.kamilosinni.course.repository&quot;)\r\npublic class CourseApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CourseApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAlso i tried to move the class to the main package with the main class and addthe `@NoRepositoryBean` annotation to the `DepartmentRepository`, that didn&#39;t do anything either\r\n\r\nEdit: if i replace `javax` imports with `jakarta` in Department.java, there is no error. In addition, in the guides on the official site, `javax` is used all the time, which is quite strange, because even the rewritten code does not work. Maybe the configuration is incorrect? Or maybe dependencies.\r\n```java\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n```\r\nI also add my pom.xml file, it may be helpful:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.kamilosinni&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;course&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;course&lt;/name&gt;\r\n\t&lt;description&gt;Spring boot course&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\n [File structure here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PBLEc.png","title":"Spring Boot error with a repository/entity, &quot;not a managed type&quot;","body":"<p>I know that similar questions have been asked before on this forum, but none of the proposed solutions helped me, so I am writing a separate question. The code is from the spring boot course on youtube (<a href=\"https://youtu.be/zvR-Oif_nxg\" rel=\"nofollow noreferrer\">https://youtu.be/zvR-Oif_nxg</a>)(im stuck about 2:21:00), but this error also occurs when I tried to do the course on the spring boot site. The full text of the error is:</p>\n<hr />\n<p><code>&quot;Error creating bean with name 'departmentController': Unsatisfied dependency expressed through field 'departmentService': Error creating bean with name 'departmentServiceImpl': Unsatisfied dependency expressed through field 'departmentRepository': Error creating bean with name 'departmentRepository' defined in com.kamilosinni.course.repository.DepartmentRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.kamilosinni.course.entity.Department&quot; </code></p>\n<hr />\n<p>main app class (CourseApplication.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.kamilosinni.course;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n\n@SpringBootApplication\n\npublic class CourseApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CourseApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>DepartmentController.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kamilosinni.course.controller;\n\n\nimport com.kamilosinni.course.entity.Department;\nimport com.kamilosinni.course.service.DepartmentService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DepartmentController {\n\n    @Autowired\n   private DepartmentService departmentService;\n    @GetMapping(&quot;/departments&quot;)\n    public Department saveDepartment(@RequestBody Department department)\n    {\n        return departmentService.saveDepartment(department);\n\n    }\n}\n</code></pre>\n<p>Department.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kamilosinni.course.entity;\n\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Department {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long departmentId;\n    private String departmentName;\n    private String departmentAdress;\n    private String departmentCode;\n\n    public Long getDepartmentId() {\n        return departmentId;\n    }\n\n    public void setDepartmentId(Long departmentId) {\n        this.departmentId = departmentId;\n    }\n\n    public String getDepartmentName() {\n        return departmentName;\n    }\n\n    public void setDepartmentName(String departmentName) {\n        this.departmentName = departmentName;\n    }\n\n    public String getDepartmentAdress() {\n        return departmentAdress;\n    }\n\n    public void setDepartmentAdress(String departmentAdress) {\n        this.departmentAdress = departmentAdress;\n    }\n\n    public String getDepartmentCode() {\n        return departmentCode;\n    }\n\n    public void setDepartmentCode(String departmentCode) {\n        this.departmentCode = departmentCode;\n    }\n\n    public Department(Long departmentId, String departmentName, String departmentAdress, String departmentCode) {\n        this.departmentId = departmentId;\n        this.departmentName = departmentName;\n        this.departmentAdress = departmentAdress;\n        this.departmentCode = departmentCode;\n    }\n    public Department(){}\n\n    @Override\n    public String toString() {\n        return &quot;Department{&quot; +\n                &quot;departmentId=&quot; + departmentId +\n                &quot;, departmentName='&quot; + departmentName + '\\'' +\n                &quot;, departmentAdress='&quot; + departmentAdress + '\\'' +\n                &quot;, departmentCode='&quot; + departmentCode + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>DepartmentRepository.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kamilosinni.course.repository;\n\nimport com.kamilosinni.course.entity.Department;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface DepartmentRepository extends JpaRepository&lt;Department, Long&gt; {}\n\n</code></pre>\n<p>DepartmentService.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kamilosinni.course.service;\n\nimport com.kamilosinni.course.entity.Department;\n\n\n\npublic interface DepartmentService {\n    Department saveDepartment(Department department);\n}\n</code></pre>\n<p>DepartmentServiceImpl.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kamilosinni.course.service;\n\nimport com.kamilosinni.course.entity.Department;\nimport com.kamilosinni.course.repository.DepartmentRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class DepartmentServiceImpl implements DepartmentService{\n\n\n\n@Autowired\n    DepartmentRepository departmentRepository;\n\n    DepartmentServiceImpl(){}\n    @Override\n    public Department saveDepartment(Department department) {\n        return departmentRepository.save(department);\n    }\n}\n\n</code></pre>\n<p>i tried to add additional annotations to the main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.kamilosinni.course;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n\n@SpringBootApplication\n@EntityScan(&quot;com.kamilosinni.course.entity&quot;)\n@EnableJpaRepositories(&quot;com.kamilosinni.course.repository&quot;)\npublic class CourseApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CourseApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Also i tried to move the class to the main package with the main class and addthe <code>@NoRepositoryBean</code> annotation to the <code>DepartmentRepository</code>, that didn't do anything either</p>\n<p>Edit: if i replace <code>javax</code> imports with <code>jakarta</code> in Department.java, there is no error. In addition, in the guides on the official site, <code>javax</code> is used all the time, which is quite strange, because even the rewritten code does not work. Maybe the configuration is incorrect? Or maybe dependencies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n</code></pre>\n<p>I also add my pom.xml file, it may be helpful:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.kamilosinni&lt;/groupId&gt;\n    &lt;artifactId&gt;course&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;course&lt;/name&gt;\n    &lt;description&gt;Spring boot course&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PBLEc.png\" rel=\"nofollow noreferrer\">File structure here</a></p>\n"},{"tags":["java","solr","solrcloud"],"owner":{"account_id":5458872,"reputation":2254,"user_id":4341561,"accept_rate":65,"display_name":"Kiran Subedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694539317,"creation_date":1694539317,"question_id":77091391,"body_markdown":"I am trying to figure out why my queries are extremely slow for around 1M documents and the server has around 8GB RAM. My query looks like this : \r\n\r\n    (indexType:msg &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe &amp;&amp; ((searchDescription:example*) || (searchSummary:example*)))|| (indexType:files &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe &amp;&amp; ((searchTitle:example*) || (searchDescription:example*)))|| (indexType:thread &amp;&amp;  groupType:1 &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe &amp;&amp; searchTitle:example*^5)|| (indexType:thread &amp;&amp; (groupType:3 || (groupType:2 &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe)) &amp;&amp; searchTitle:example*)|| (indexType:member &amp;&amp; (searchTitle:example*^3))\r\n\r\nPreviously, the query was OK and it provided a response around 500ms. But, later it took around 16-20sec to get the search result. From the above query, all the fields are indexed except the participantIds.  My question is : \r\n\r\nHow can I increase the performance of the above query?\r\nDo I need to index the participantIds too?\r\n","title":"Solr search query is slow at first but quiet fast for later on same queries","body":"<p>I am trying to figure out why my queries are extremely slow for around 1M documents and the server has around 8GB RAM. My query looks like this :</p>\n<pre><code>(indexType:msg &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe &amp;&amp; ((searchDescription:example*) || (searchSummary:example*)))|| (indexType:files &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe &amp;&amp; ((searchTitle:example*) || (searchDescription:example*)))|| (indexType:thread &amp;&amp;  groupType:1 &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe &amp;&amp; searchTitle:example*^5)|| (indexType:thread &amp;&amp; (groupType:3 || (groupType:2 &amp;&amp; participantIds:4ac72a5a8a8d43339f8eaf2ff142a6fe)) &amp;&amp; searchTitle:example*)|| (indexType:member &amp;&amp; (searchTitle:example*^3))\n</code></pre>\n<p>Previously, the query was OK and it provided a response around 500ms. But, later it took around 16-20sec to get the search result. From the above query, all the fields are indexed except the participantIds.  My question is :</p>\n<p>How can I increase the performance of the above query?\nDo I need to index the participantIds too?</p>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1694467507,"post_id":77084800,"comment_id":135892188,"body_markdown":"Your builder creates the Dialog somehow. Can you use get() or something else to get the dialog? I think you must extract the Dialog into a variable and change the text directly in your dialog-button-click method. Check if you can use a callback which is executed after your action is finished.","body":"Your builder creates the Dialog somehow. Can you use get() or something else to get the dialog? I think you must extract the Dialog into a variable and change the text directly in your dialog-button-click method. Check if you can use a callback which is executed after your action is finished."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1694467881,"post_id":77084800,"comment_id":135892241,"body_markdown":"If that is not possible, then switch from using the Builder to create the dialog to using a normal constructor and setters. IMO you should get access to the buttons now.","body":"If that is not possible, then switch from using the Builder to create the dialog to using a normal constructor and setters. IMO you should get access to the buttons now."},{"owner":{"display_name":"user8071572"},"score":0,"creation_date":1694481042,"post_id":77084800,"comment_id":135893396,"body_markdown":"How can I do that? I was not able to have the AlertDialog as a var","body":"How can I do that? I was not able to have the AlertDialog as a var"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":1,"creation_date":1694616980,"post_id":77084800,"comment_id":135915382,"body_markdown":"If you use intellij: Ctrl +left click on the method show() from builder.show(). A builder is a class that constructs something with the builder pattern. Under the hood, ist uses the normal constructor of the class to be created (AlertDialog).","body":"If you use intellij: Ctrl +left click on the method show() from builder.show(). A builder is a class that constructs something with the builder pattern. Under the hood, ist uses the normal constructor of the class to be created (AlertDialog)."},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1694617412,"post_id":77084800,"comment_id":135915484,"body_markdown":"Workaround: Close the dialog and display a waiting dialog with a Spinner. After that, display a normal dialog if you need one again. IMO this is the best solution!","body":"Workaround: Close the dialog and display a waiting dialog with a Spinner. After that, display a normal dialog if you need one again. IMO this is the best solution!"},{"owner":{"display_name":"user8071572"},"score":0,"creation_date":1694638253,"post_id":77084800,"comment_id":135919283,"body_markdown":"Yeah that&#39;s possible. I think the key was to create a var for AlertDialog and the PositiveButton.","body":"Yeah that&#39;s possible. I think the key was to create a var for AlertDialog and the PositiveButton."}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694538895,"creation_date":1694538895,"answer_id":77091339,"question_id":77084800,"body_markdown":" Try this: \r\n\r\n \r\n\r\n     myButton.setOnClickListener(new View.OnClickListener() {\r\n          @Override\r\n          public void onClick(View v) {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\r\n            builder.setTitle(&quot;What&#39;s your question?&quot;);\r\n        \r\n            // Set up the input\r\n            final EditText input = new EditText(v.getContext());\r\n            // Specify the type of input expected; this, for example, sets the input as a password, and will mask the text\r\n            input.setInputType(InputType.TYPE_CLASS_TEXT);\r\n            builder.setView(input);\r\n            input.setText(&quot;test test&quot;);\r\n            input.setTextSize(15);\r\n        \r\n            // Set up the buttons\r\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n              @Override\r\n              public void onClick(final DialogInterface dialog, int which) {\r\n                // Disable the button to prevent further clicks\r\n                final AlertDialog alertDialog = (AlertDialog) dialog;\r\n                alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setEnabled(false);\r\n                alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setText(&quot;Loading...&quot;);\r\n        \r\n                m_text = input.getText().toString();\r\n        \r\n                // Simulate a 10s delay for downloading the image (Replace this with your actual download code)\r\n                new Handler().postDelayed(new Runnable() {\r\n                  @Override\r\n                  public void run() {\r\n                    // After the download is complete, update the button text and enable it\r\n                    alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setText(&quot;OK&quot;);\r\n                    alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setEnabled(true);\r\n        \r\n                    // Add code here to show the downloaded image on the main page\r\n                  }\r\n                }, 10000); // Simulated 10s delay, replace with your actual download time\r\n              }\r\n            });\r\n            builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n              @Override\r\n              public void onClick(DialogInterface dialog, int which) {\r\n                dialog.cancel();\r\n              }\r\n            });\r\n        \r\n            builder.show();\r\n          }\r\n        });\r\n\r\n","title":"Change the Text of AlertDialog positiveButton after clicking","body":"<p>Try this:</p>\n<pre><code> myButton.setOnClickListener(new View.OnClickListener() {\n      @Override\n      public void onClick(View v) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\n        builder.setTitle(&quot;What's your question?&quot;);\n    \n        // Set up the input\n        final EditText input = new EditText(v.getContext());\n        // Specify the type of input expected; this, for example, sets the input as a password, and will mask the text\n        input.setInputType(InputType.TYPE_CLASS_TEXT);\n        builder.setView(input);\n        input.setText(&quot;test test&quot;);\n        input.setTextSize(15);\n    \n        // Set up the buttons\n        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n          @Override\n          public void onClick(final DialogInterface dialog, int which) {\n            // Disable the button to prevent further clicks\n            final AlertDialog alertDialog = (AlertDialog) dialog;\n            alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setEnabled(false);\n            alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setText(&quot;Loading...&quot;);\n    \n            m_text = input.getText().toString();\n    \n            // Simulate a 10s delay for downloading the image (Replace this with your actual download code)\n            new Handler().postDelayed(new Runnable() {\n              @Override\n              public void run() {\n                // After the download is complete, update the button text and enable it\n                alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setText(&quot;OK&quot;);\n                alertDialog.getButton(DialogInterface.BUTTON_POSITIVE).setEnabled(true);\n    \n                // Add code here to show the downloaded image on the main page\n              }\n            }, 10000); // Simulated 10s delay, replace with your actual download time\n          }\n        });\n        builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n          @Override\n          public void onClick(DialogInterface dialog, int which) {\n            dialog.cancel();\n          }\n        });\n    \n        builder.show();\n      }\n    });\n</code></pre>\n"}],"owner":{"display_name":"user8071572"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77091339,"answer_count":1,"score":0,"last_activity_date":1694538895,"creation_date":1694466770,"question_id":77084800,"body_markdown":"I have an AlertDialog that has a positive button (OK) and a cancel. When pressing OK, I have a process that should take around 10s to finish (downloading an image from a URL and then showing it on the main page). How can I change the positiveButton text after pressing to be something like &quot;loading&quot;? And also, it should wait until the image is downloaded, so the alert shouldn&#39;t disappear.\r\n\r\nI tried looking into its functions but didn&#39;t see a `setText()` function.\r\n\r\n```\r\n    myButton.setOnClickListener(new View.OnClickListener() {\r\n      @Override\r\n      public void onClick(View v) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\r\n        builder.setTitle(&quot;What&#39;s your question?&quot;);\r\n\r\n        // Set up the input\r\n        final EditText input = new EditText(v.getContext());\r\n        // Specify the type of input expected; this, for example, sets the input as a password, and will mask the text\r\n        input.setInputType(InputType.TYPE_CLASS_TEXT);\r\n        builder.setView(input);\r\n        input.setText(&quot;test test&quot;);\r\n        input.setTextSize(15);\r\n\r\n        // Set up the buttons\r\n        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n          @Override\r\n          public void onClick(DialogInterface dialog, int which) {\r\n            m_text = input.getText().toString();\r\n          }\r\n        });\r\n        builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n          @Override\r\n          public void onClick(DialogInterface dialog, int which) {\r\n            dialog.cancel();\r\n          }\r\n        });\r\n\r\n        builder.show();\r\n      }\r\n    });\r\n```\r\n\r\n","title":"Change the Text of AlertDialog positiveButton after clicking","body":"<p>I have an AlertDialog that has a positive button (OK) and a cancel. When pressing OK, I have a process that should take around 10s to finish (downloading an image from a URL and then showing it on the main page). How can I change the positiveButton text after pressing to be something like &quot;loading&quot;? And also, it should wait until the image is downloaded, so the alert shouldn't disappear.</p>\n<p>I tried looking into its functions but didn't see a <code>setText()</code> function.</p>\n<pre><code>    myButton.setOnClickListener(new View.OnClickListener() {\n      @Override\n      public void onClick(View v) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(v.getContext());\n        builder.setTitle(&quot;What's your question?&quot;);\n\n        // Set up the input\n        final EditText input = new EditText(v.getContext());\n        // Specify the type of input expected; this, for example, sets the input as a password, and will mask the text\n        input.setInputType(InputType.TYPE_CLASS_TEXT);\n        builder.setView(input);\n        input.setText(&quot;test test&quot;);\n        input.setTextSize(15);\n\n        // Set up the buttons\n        builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n          @Override\n          public void onClick(DialogInterface dialog, int which) {\n            m_text = input.getText().toString();\n          }\n        });\n        builder.setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n          @Override\n          public void onClick(DialogInterface dialog, int which) {\n            dialog.cancel();\n          }\n        });\n\n        builder.show();\n      }\n    });\n</code></pre>\n"},{"tags":["java","spring-boot","maven","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"score":0,"creation_date":1694521891,"post_id":77089108,"comment_id":135899319,"body_markdown":"Can you share code of class StudentController ?","body":"Can you share code of class StudentController ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694522033,"post_id":77089108,"comment_id":135899352,"body_markdown":"Please take care ob java naming conventions. package names should be lower case","body":"Please take care ob java naming conventions. package names should be lower case"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1694522131,"post_id":77089108,"comment_id":135899368,"body_markdown":"Wild guess. Using Spring Boot 3, following a Spring Boot 2 tutorial and decided to include some additional `persistence-api` dependency because that is what the tutorial uses. Remove that dependency and fix the imports to `jakarta.persistence` instead of `javax.persistence`.","body":"Wild guess. Using Spring Boot 3, following a Spring Boot 2 tutorial and decided to include some additional <code>persistence-api</code> dependency because that is what the tutorial uses. Remove that dependency and fix the imports to <code>jakarta.persistence</code> instead of <code>javax.persistence</code>."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1694527622,"post_id":77089108,"comment_id":135900805,"body_markdown":"I am confused. The title talks about an entity not being found, but the body of the question is about a service bean (or rather, a Repository) not being found. Those are two different things.","body":"I am confused. The title talks about an entity not being found, but the body of the question is about a service bean (or rather, a Repository) not being found. Those are two different things."},{"owner":{"account_id":29422588,"reputation":1,"user_id":22544007,"display_name":"Nikhil Nandula"},"score":0,"creation_date":1694537854,"post_id":77089108,"comment_id":135903155,"body_markdown":"Well yes the StudentRepository is not identified by spring as I am trying to autowire the StudentService constructor. The title describes the fact that even after applying @entity annotation to the Student class, it is not being identified as an entity for ORM to be done.","body":"Well yes the StudentRepository is not identified by spring as I am trying to autowire the StudentService constructor. The title describes the fact that even after applying @entity annotation to the Student class, it is not being identified as an entity for ORM to be done."},{"owner":{"account_id":949087,"reputation":5088,"user_id":975649,"accept_rate":81,"display_name":"Usman Mutawakil"},"score":0,"creation_date":1694878346,"post_id":77089108,"comment_id":135950729,"body_markdown":"Hi. Try removing the @Repository annotation. Its not needed for CrudRepository. Let me know what happens after that.","body":"Hi. Try removing the @Repository annotation. Its not needed for CrudRepository. Let me know what happens after that."},{"owner":{"account_id":29422588,"reputation":1,"user_id":22544007,"display_name":"Nikhil Nandula"},"score":0,"creation_date":1694917825,"post_id":77089108,"comment_id":135953961,"body_markdown":"The error is still the same","body":"The error is still the same"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695034150,"post_id":77089108,"comment_id":135965477,"body_markdown":"Please, show your pom.xml and SpringProjectApplication class","body":"Please, show your pom.xml and SpringProjectApplication class"}],"owner":{"account_id":29422588,"reputation":1,"user_id":22544007,"display_name":"Nikhil Nandula"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694538354,"creation_date":1694521658,"question_id":77089108,"body_markdown":"So when I try to put the @entity annotation to the student class and also create a student repository, I am getting an error: **Parameter 0 of constructor in com.example.SpringProject.Student.StudentService required a bean of type &#39;com.example.SpringProject.Student.StudentRepository&#39; that could not be found.**\r\n\r\nThe project structure is:\r\n[enter image description here](https://i.stack.imgur.com/2PKLm.png)\r\n\r\n\r\n Here is my Student Class (entity class)\r\n\r\n```\r\npackage com.example.SpringProject.Student;\r\n\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n\r\n@Entity\r\n@Table\r\npublic class Student {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String name;\r\n    private LocalDate dob;\r\n    private String email;\r\n    private Integer age;\r\n\r\n    public Student() {\r\n    }\r\n\r\n    public Student(Long id, String name, LocalDate dob, String email, Integer age) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.dob = dob;\r\n        this.email = email;\r\n        this.age = age;\r\n    }\r\n\r\n    public Student(String name, LocalDate dob, String email, Integer age) {\r\n        this.name = name;\r\n        this.dob = dob;\r\n        this.email = email;\r\n        this.age = age;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public LocalDate getDob() {\r\n        return dob;\r\n    }\r\n\r\n    public void setDob(LocalDate dob) {\r\n        this.dob = dob;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, dob=&quot; + dob +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, age=&quot; + age +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\nHere is the student repo:\r\n\r\n```\r\npackage com.example.SpringProject.Student;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface StudentRepository extends CrudRepository&lt;Student, Long&gt; {\r\n}\r\n```\r\n\r\nHere is the student service: (business logic)\r\n\r\n```\r\npackage com.example.SpringProject.Student;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class StudentService {\r\n\r\n    private final StudentRepository studentRepository;\r\n\r\n    @Autowired\r\n    public StudentService(StudentRepository studentRepository) {\r\n        this.studentRepository = studentRepository;\r\n    }\r\n\r\n    public StudentRepository getStudentRepository() {\r\n        return studentRepository;\r\n    }\r\n\r\n    public void saveStudents(Student student)\r\n    {\r\n        this.studentRepository.save(student);\r\n    }\r\n\r\n    public List&lt;Student&gt; getStudents() {\r\n//        \r\n            return (List&lt;Student&gt;) studentRepository.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the StudentController:\r\n\r\n```\r\npackage com.example.SpringProject.Student;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/student&quot;)\r\npublic class StudentController {\r\n\r\n    private final StudentService studentService;\r\n\r\n    @Autowired\r\n    public StudentController(StudentService studentService) {\r\n        this.studentService = studentService;\r\n    }\r\n\r\n    public StudentService getStudentService() {\r\n        return this.studentService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Student&gt; testStudent()\r\n    {\r\n        this.studentService.saveStudents(new Student(1L,\r\n                        &quot;xyz&quot;,\r\n                        LocalDate.of(2001, Month.SEPTEMBER, 22),\r\n                        &quot;xyz@gmail.com&quot;,\r\n                        21));\r\n        return this.studentService.getStudents();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I tried running the application I got the following error:\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentController&#39; defined in file [/Users/nikhil/Desktop/SpringProject/target/classes/com/example/SpringProject/Student/StudentController.class]:\r\n    Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;studentService&#39; defined in file [/Users/nikhil/Desktop/SpringProject/target/classes/com/example/SpringProject/Student/StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;com.example.SpringProject.Student.StudentRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}","title":"@Entity is not being detected on the entity class","body":"<p>So when I try to put the @entity annotation to the student class and also create a student repository, I am getting an error: <strong>Parameter 0 of constructor in com.example.SpringProject.Student.StudentService required a bean of type 'com.example.SpringProject.Student.StudentRepository' that could not be found.</strong></p>\n<p>The project structure is:\n<a href=\"https://i.stack.imgur.com/2PKLm.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is my Student Class (entity class)</p>\n<pre><code>package com.example.SpringProject.Student;\n\n\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n\n@Entity\n@Table\npublic class Student {\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_sequence&quot;\n    )\n    private Long id;\n    private String name;\n    private LocalDate dob;\n    private String email;\n    private Integer age;\n\n    public Student() {\n    }\n\n    public Student(Long id, String name, LocalDate dob, String email, Integer age) {\n        this.id = id;\n        this.name = name;\n        this.dob = dob;\n        this.email = email;\n        this.age = age;\n    }\n\n    public Student(String name, LocalDate dob, String email, Integer age) {\n        this.name = name;\n        this.dob = dob;\n        this.email = email;\n        this.age = age;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public LocalDate getDob() {\n        return dob;\n    }\n\n    public void setDob(LocalDate dob) {\n        this.dob = dob;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, dob=&quot; + dob +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, age=&quot; + age +\n                '}';\n    }\n}\n\n</code></pre>\n<p>Here is the student repo:</p>\n<pre><code>package com.example.SpringProject.Student;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends CrudRepository&lt;Student, Long&gt; {\n}\n</code></pre>\n<p>Here is the student service: (business logic)</p>\n<pre><code>package com.example.SpringProject.Student;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.List;\n\n@Service\npublic class StudentService {\n\n    private final StudentRepository studentRepository;\n\n    @Autowired\n    public StudentService(StudentRepository studentRepository) {\n        this.studentRepository = studentRepository;\n    }\n\n    public StudentRepository getStudentRepository() {\n        return studentRepository;\n    }\n\n    public void saveStudents(Student student)\n    {\n        this.studentRepository.save(student);\n    }\n\n    public List&lt;Student&gt; getStudents() {\n//        \n            return (List&lt;Student&gt;) studentRepository.findAll();\n    }\n}\n\n</code></pre>\n<p>Here is the StudentController:</p>\n<pre><code>package com.example.SpringProject.Student;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.List;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/student&quot;)\npublic class StudentController {\n\n    private final StudentService studentService;\n\n    @Autowired\n    public StudentController(StudentService studentService) {\n        this.studentService = studentService;\n    }\n\n    public StudentService getStudentService() {\n        return this.studentService;\n    }\n\n    @GetMapping\n    public List&lt;Student&gt; testStudent()\n    {\n        this.studentService.saveStudents(new Student(1L,\n                        &quot;xyz&quot;,\n                        LocalDate.of(2001, Month.SEPTEMBER, 22),\n                        &quot;xyz@gmail.com&quot;,\n                        21));\n        return this.studentService.getStudents();\n    }\n}\n</code></pre>\n<p>When I tried running the application I got the following error:</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentController' defined in file [/Users/nikhil/Desktop/SpringProject/target/classes/com/example/SpringProject/Student/StudentController.class]:\nUnsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'studentService' defined in file [/Users/nikhil/Desktop/SpringProject/target/classes/com/example/SpringProject/Student/StudentService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.example.SpringProject.Student.StudentRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":214928,"reputation":9307,"user_id":469201,"accept_rate":67,"display_name":"davidbuzatto"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694538233,"creation_date":1694536727,"answer_id":77091118,"question_id":77091085,"body_markdown":"Its because you create your `JScrollPane` with the desired `JTextArea`:\r\n\r\n    static JScrollPane scrollPane = new JScrollPane(textArea);\r\n\r\nAnd then you recreate it, without the `JTextArea`:\r\n\r\n    scrollPane = new JScrollPane();\r\n\r\nSo, you just need to remove the line mentioned above. I really don&#39;t like your GUI class design (those static fields), but it isn&#39;t the objective of your question.","title":"JTextArea not displaying in JScrollPane?","body":"<p>Its because you create your <code>JScrollPane</code> with the desired <code>JTextArea</code>:</p>\n<pre><code>static JScrollPane scrollPane = new JScrollPane(textArea);\n</code></pre>\n<p>And then you recreate it, without the <code>JTextArea</code>:</p>\n<pre><code>scrollPane = new JScrollPane();\n</code></pre>\n<p>So, you just need to remove the line mentioned above. I really don't like your GUI class design (those static fields), but it isn't the objective of your question.</p>\n"}],"owner":{"account_id":29397182,"reputation":13,"user_id":22524270,"display_name":"PokeCedGo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77091118,"answer_count":1,"score":0,"last_activity_date":1694538233,"creation_date":1694536432,"question_id":77091085,"body_markdown":"For some reason the JTextArea is not being visible/displayed in the scrollPane? I&#39;m trying to recreate a simple chat bubble and initially started off by making JPanels to serve as the bubble and overlay it with a JTextLabel but it didn&#39;t go so well because there was spacing issues/scrollpane sizing issues that got me stuck. I took a step back and just want to make the textarea work.\r\n\r\n\r\n```\r\n  import java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JLayeredPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class EventListeners implements ActionListener {\r\n    private final JButton button;\r\n    private final JTextField textField;\r\n    private final JTextArea textArea;\r\n//    private final JLayeredPane layeredPane;\r\n\r\n    public EventListeners(JButton gift_button, JTextField textField, JTextArea textArea) {\r\n        this.button = gift_button;\r\n        this.textField = textField;\r\n        this.textArea = textArea;\r\n   //     this.layeredPane = ChatSystem.layeredPane;\r\n\r\n        // Set font and text color for the JTextArea\r\n        Font boldFont = new Font(textArea.getFont().getName(), Font.BOLD, textArea.getFont().getSize());\r\n        textArea.setFont(boldFont);\r\n        textArea.setForeground(Color.YELLOW);\r\n     //   layeredPane.add(textArea, Integer.valueOf(2));\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == button) {\r\n            // Gift Button\r\n            System.out.println(&quot;Button clicked&quot;);\r\n        } else if (e.getSource() == textField) {\r\n            if (!textField.getText().isEmpty()) {\r\n                String message = textField.getText();\r\n                textField.setText(&quot;&quot;);\r\n\r\n                // Debugging: Print the message to console\r\n                System.out.println(&quot;Message: &quot; + message);\r\n\r\n                // Append the message to the JTextArea on the EDT\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n\r\n                        textArea.setLineWrap(true);  \r\n                        textArea.setWrapStyleWord(true);\r\n\r\n                        textArea.append(&quot;You: &quot; + message + &quot;\\n&quot;);\r\n                        System.out.println(&quot;Test:&quot; + message);\r\n                        \r\n                    }\r\n                });\r\n\r\n                // Debugging: Print the text area content to console\r\n                System.out.println(&quot;Text Area Content:\\n&quot; + textArea.getText());\r\n\r\n                // Scroll to the bottom of the JTextArea on the EDT\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        textArea.setCaretPosition(textArea.getDocument().getLength());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n```lua\r\nimport javax.swing.*;\r\nimport javax.swing.border.LineBorder;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class ChatUI {\r\n    static JTextField chat_input = new JTextField(8);\r\n    static JPanel inner_background = new JPanel();\r\n    static JTextArea textArea = new JTextArea(50, 2);\r\n    static JScrollPane scrollPane = new JScrollPane(textArea);\r\n\r\n    public static String getTextFieldText() {\r\n        return chat_input.getText();\r\n    }\r\n\r\n    public static void createScrollingList(JLayeredPane layeredPane) {\r\n        // Other settings for the inner background panel\r\n        // inner_background.setBackground(Color.decode(&quot;#111214&quot;));\r\n        inner_background.setBorder(new LineBorder(Color.decode(&quot;#111214&quot;), 2, true));\r\n        inner_background.setLayout(new BoxLayout(inner_background, BoxLayout.Y_AXIS));\r\n        inner_background.setPreferredSize(new Dimension(400, 1000)); // Adjust the preferred size as needed\r\n    \r\n        // Create a new JScrollPane and add the inner_background panel to it\r\n        scrollPane = new JScrollPane();\r\n        scrollPane.setBounds(20, 200, 330, 450);\r\n    \r\n        // Auto-scrolls down\r\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n       // inner_background.setLayout(new FlowLayout());\r\n\r\n        // Set the background color of the scroll pane and its viewport\r\n        scrollPane.setBackground(Color.decode(&quot;#111214&quot;));\r\n        scrollPane.getViewport().setBackground(Color.decode(&quot;#111214&quot;));\r\n    \r\n        // Add the scroll pane to the layered pane\r\n        layeredPane.add(scrollPane, Integer.valueOf(2));\r\n    \r\n        // Ensure the layout is updated\r\n        inner_background.revalidate();\r\n        inner_background.repaint();\r\n    }\r\n    \r\n\r\n    static void UIVisuals(JFrame frame, JLayeredPane layeredPane) {\r\n        // Left frame\r\n        JPanel topBackground = new JPanel();\r\n        topBackground.setBackground(Color.decode(&quot;#62D0F6&quot;));\r\n        topBackground.setBounds(0, 0, 500, 80);\r\n\r\n        // Right frame\r\n        JPanel rightFrame = new JPanel();\r\n        rightFrame.setBackground(Color.decode(&quot;#9B90B2&quot;));\r\n        rightFrame.setBounds(20, 40, 20, 20);\r\n\r\n        // Add frames to layeredPane\r\n        layeredPane.add(rightFrame, Integer.valueOf(1));\r\n        layeredPane.add(topBackground, Integer.valueOf(1));\r\n\r\n        // User_Icon\r\n        ImageIcon userIcon = new ImageIcon(&quot;C:/Users/pokec/OneDrive/Pictures/user_java_icon.png&quot;);\r\n        JLabel userLabel = new JLabel(userIcon);\r\n        userLabel.setBounds(0, 30, userIcon.getIconWidth(), userIcon.getIconHeight()); // Adjust the bounds as needed\r\n        layeredPane.add(userLabel, Integer.valueOf(2));\r\n\r\n        // Emoji Button\r\n        ImageIcon imageIcon = new ImageIcon(&quot;C:\\\\Users\\\\pokec\\\\OneDrive\\\\Pictures\\\\gift_icon.png&quot;);\r\n\r\n        // Create a JButton and set the image icon\r\n        JButton gift_button = new JButton(imageIcon);\r\n        gift_button.setBounds(320, 670, 40, 40);\r\n        layeredPane.add(gift_button, Integer.valueOf(2));\r\n\r\n        // Make button transparent\r\n        gift_button.setOpaque(false);\r\n        gift_button.setContentAreaFilled(false);\r\n        gift_button.setBorderPainted(false);\r\n\r\n        // Texting Panel\r\n        chat_input.setBackground(Color.decode(&quot;#383A40&quot;));\r\n        chat_input.setForeground(Color.WHITE);\r\n        chat_input.setBorder(new LineBorder(Color.decode(&quot;#4B4D54&quot;), 1, true));\r\n\r\n        // Font setup\r\n        Font f3 = new Font(Font.DIALOG, Font.BOLD, 15);\r\n        chat_input.setFont(f3);\r\n\r\n        // Adjust the position and size of the chat input\r\n        chat_input.setBounds(20, 670, 280, 40);\r\n        layeredPane.add(chat_input, Integer.valueOf(1));\r\n\r\n        JPanel bottomPanel = new JPanel();\r\n        bottomPanel.setLayout(null); // Set null layout for precise positioning\r\n        bottomPanel.add(chat_input);\r\n\r\n        // Add components to layeredPane\r\n        layeredPane.add(chat_input, Integer.valueOf(1));\r\n        layeredPane.add(bottomPanel, BorderLayout.SOUTH);\r\n\r\n        // Event Listeners\r\n        EventListeners eventListeners = new EventListeners(gift_button, chat_input, textArea);\r\n        chat_input.addActionListener(eventListeners);\r\n        gift_button.addActionListener(eventListeners);\r\n\r\n\r\n        createScrollingList(layeredPane);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI feel the issue is with my setup of the scrollPane and inner_background in ChatUI.java but unsure. I know its not a textcolor issue but rather a possible layout problem?","title":"JTextArea not displaying in JScrollPane?","body":"<p>For some reason the JTextArea is not being visible/displayed in the scrollPane? I'm trying to recreate a simple chat bubble and initially started off by making JPanels to serve as the bubble and overlay it with a JTextLabel but it didn't go so well because there was spacing issues/scrollpane sizing issues that got me stuck. I took a step back and just want to make the textarea work.</p>\n<pre><code>  import java.awt.Color;\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JLayeredPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class EventListeners implements ActionListener {\n    private final JButton button;\n    private final JTextField textField;\n    private final JTextArea textArea;\n//    private final JLayeredPane layeredPane;\n\n    public EventListeners(JButton gift_button, JTextField textField, JTextArea textArea) {\n        this.button = gift_button;\n        this.textField = textField;\n        this.textArea = textArea;\n   //     this.layeredPane = ChatSystem.layeredPane;\n\n        // Set font and text color for the JTextArea\n        Font boldFont = new Font(textArea.getFont().getName(), Font.BOLD, textArea.getFont().getSize());\n        textArea.setFont(boldFont);\n        textArea.setForeground(Color.YELLOW);\n     //   layeredPane.add(textArea, Integer.valueOf(2));\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == button) {\n            // Gift Button\n            System.out.println(&quot;Button clicked&quot;);\n        } else if (e.getSource() == textField) {\n            if (!textField.getText().isEmpty()) {\n                String message = textField.getText();\n                textField.setText(&quot;&quot;);\n\n                // Debugging: Print the message to console\n                System.out.println(&quot;Message: &quot; + message);\n\n                // Append the message to the JTextArea on the EDT\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n\n                        textArea.setLineWrap(true);  \n                        textArea.setWrapStyleWord(true);\n\n                        textArea.append(&quot;You: &quot; + message + &quot;\\n&quot;);\n                        System.out.println(&quot;Test:&quot; + message);\n                        \n                    }\n                });\n\n                // Debugging: Print the text area content to console\n                System.out.println(&quot;Text Area Content:\\n&quot; + textArea.getText());\n\n                // Scroll to the bottom of the JTextArea on the EDT\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        textArea.setCaretPosition(textArea.getDocument().getLength());\n                    }\n                });\n            }\n        }\n    }\n}\n\n</code></pre>\n<pre class=\"lang-lua prettyprint-override\"><code>import javax.swing.*;\nimport javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class ChatUI {\n    static JTextField chat_input = new JTextField(8);\n    static JPanel inner_background = new JPanel();\n    static JTextArea textArea = new JTextArea(50, 2);\n    static JScrollPane scrollPane = new JScrollPane(textArea);\n\n    public static String getTextFieldText() {\n        return chat_input.getText();\n    }\n\n    public static void createScrollingList(JLayeredPane layeredPane) {\n        // Other settings for the inner background panel\n        // inner_background.setBackground(Color.decode(&quot;#111214&quot;));\n        inner_background.setBorder(new LineBorder(Color.decode(&quot;#111214&quot;), 2, true));\n        inner_background.setLayout(new BoxLayout(inner_background, BoxLayout.Y_AXIS));\n        inner_background.setPreferredSize(new Dimension(400, 1000)); // Adjust the preferred size as needed\n    \n        // Create a new JScrollPane and add the inner_background panel to it\n        scrollPane = new JScrollPane();\n        scrollPane.setBounds(20, 200, 330, 450);\n    \n        // Auto-scrolls down\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n       // inner_background.setLayout(new FlowLayout());\n\n        // Set the background color of the scroll pane and its viewport\n        scrollPane.setBackground(Color.decode(&quot;#111214&quot;));\n        scrollPane.getViewport().setBackground(Color.decode(&quot;#111214&quot;));\n    \n        // Add the scroll pane to the layered pane\n        layeredPane.add(scrollPane, Integer.valueOf(2));\n    \n        // Ensure the layout is updated\n        inner_background.revalidate();\n        inner_background.repaint();\n    }\n    \n\n    static void UIVisuals(JFrame frame, JLayeredPane layeredPane) {\n        // Left frame\n        JPanel topBackground = new JPanel();\n        topBackground.setBackground(Color.decode(&quot;#62D0F6&quot;));\n        topBackground.setBounds(0, 0, 500, 80);\n\n        // Right frame\n        JPanel rightFrame = new JPanel();\n        rightFrame.setBackground(Color.decode(&quot;#9B90B2&quot;));\n        rightFrame.setBounds(20, 40, 20, 20);\n\n        // Add frames to layeredPane\n        layeredPane.add(rightFrame, Integer.valueOf(1));\n        layeredPane.add(topBackground, Integer.valueOf(1));\n\n        // User_Icon\n        ImageIcon userIcon = new ImageIcon(&quot;C:/Users/pokec/OneDrive/Pictures/user_java_icon.png&quot;);\n        JLabel userLabel = new JLabel(userIcon);\n        userLabel.setBounds(0, 30, userIcon.getIconWidth(), userIcon.getIconHeight()); // Adjust the bounds as needed\n        layeredPane.add(userLabel, Integer.valueOf(2));\n\n        // Emoji Button\n        ImageIcon imageIcon = new ImageIcon(&quot;C:\\\\Users\\\\pokec\\\\OneDrive\\\\Pictures\\\\gift_icon.png&quot;);\n\n        // Create a JButton and set the image icon\n        JButton gift_button = new JButton(imageIcon);\n        gift_button.setBounds(320, 670, 40, 40);\n        layeredPane.add(gift_button, Integer.valueOf(2));\n\n        // Make button transparent\n        gift_button.setOpaque(false);\n        gift_button.setContentAreaFilled(false);\n        gift_button.setBorderPainted(false);\n\n        // Texting Panel\n        chat_input.setBackground(Color.decode(&quot;#383A40&quot;));\n        chat_input.setForeground(Color.WHITE);\n        chat_input.setBorder(new LineBorder(Color.decode(&quot;#4B4D54&quot;), 1, true));\n\n        // Font setup\n        Font f3 = new Font(Font.DIALOG, Font.BOLD, 15);\n        chat_input.setFont(f3);\n\n        // Adjust the position and size of the chat input\n        chat_input.setBounds(20, 670, 280, 40);\n        layeredPane.add(chat_input, Integer.valueOf(1));\n\n        JPanel bottomPanel = new JPanel();\n        bottomPanel.setLayout(null); // Set null layout for precise positioning\n        bottomPanel.add(chat_input);\n\n        // Add components to layeredPane\n        layeredPane.add(chat_input, Integer.valueOf(1));\n        layeredPane.add(bottomPanel, BorderLayout.SOUTH);\n\n        // Event Listeners\n        EventListeners eventListeners = new EventListeners(gift_button, chat_input, textArea);\n        chat_input.addActionListener(eventListeners);\n        gift_button.addActionListener(eventListeners);\n\n\n        createScrollingList(layeredPane);\n    }\n}\n</code></pre>\n<p>I feel the issue is with my setup of the scrollPane and inner_background in ChatUI.java but unsure. I know its not a textcolor issue but rather a possible layout problem?</p>\n"},{"tags":["java","spring","mongodb"],"answers":[{"tags":[],"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648072312,"creation_date":1648072312,"answer_id":71594508,"question_id":71593554,"body_markdown":"Here is a very small program that performs an Ordered bulkWrite using Spring.  You can change to unordered by changing the enum value on BulkOperations.BulkMode.  This program will insert 3 records, then delete one, then update one.  Because of the filter predicates in the later bulk commands I had to go with an ordered update.  If you are only inserting you could easily get away with a faster unordered bulk command.\r\n\r\n\r\n**Main.java**\r\n\r\n    package com.example.accessingdatamongodb;\r\n    \r\n    import com.mongodb.bulk.BulkWriteResult;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.mongodb.core.BulkOperations;\r\n    import org.springframework.data.mongodb.core.MongoOperations;\r\n    import org.springframework.data.mongodb.core.query.Criteria;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.query.Update;\r\n    \r\n    @SpringBootApplication\r\n    public class Main implements CommandLineRunner {\r\n    \r\n    \t@Autowired\r\n    \tprivate MongoOperations mongoTemplate;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Main.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n    \t\t// CLEAR THE COLLECTION\r\n    \t\tmongoTemplate.remove(new Query(), Customer.class);\r\n    \r\n    \t\tBulkOperations bulkOps = mongoTemplate.bulkOps(BulkOperations.BulkMode.ORDERED, Customer.class);\r\n    \r\n    \t\tfor (Integer i = 0; i &lt; 3; i++)\r\n    \t\t{\r\n    \t\t\tCustomer customer = new Customer();\r\n    \t\t\tcustomer.firstName = &quot;Barry&quot;;\r\n    \t\t\tcustomer.id = i.toString();\r\n    \t\t\tbulkOps.insert(customer);\r\n    \t\t}\r\n    \r\n    \t\tbulkOps.remove(new Query().addCriteria(new Criteria(&quot;i&quot;).is(1)));\r\n    \t\tbulkOps.updateOne(new Query().addCriteria(new Criteria(&quot;i&quot;).is(2)), new Update().set(&quot;name&quot;, &quot;Barry&quot;));\r\n    \r\n    \t\tBulkWriteResult results = bulkOps.execute();\r\n    \t}\r\n    }\r\n\r\n\r\nFor completeness here are the other files in the project...\r\n\r\n**application.properties**\r\n\r\n    spring.data.mongodb.uri=mongodb://localhost:27017/springtestBulkWrite\r\n    spring.data.mongodb.database=springtestBulkWrite\r\n\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;accessing-data-mongodb&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;accessing-data-mongodb&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;bson&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;4.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**SimpleMongoConfig.java**\r\n\r\n     import com.mongodb.client.MongoClient;\r\n     import com.mongodb.ConnectionString;\r\n     import com.mongodb.MongoClientSettings;\r\n     import com.mongodb.client.MongoClients;\r\n     import org.springframework.beans.factory.annotation.Value;\r\n     import org.springframework.context.annotation.Bean;\r\n     import org.springframework.context.annotation.Configuration;\r\n     import org.springframework.data.mongodb.core.MongoTemplate;\r\n    \r\n     @Configuration\r\n     public class SimpleMongoConfig {\r\n    \r\n    \t @Value(&quot;${spring.data.mongodb.database}&quot;)\r\n    \t private String databaseName;\r\n    \r\n    \t @Value(&quot;${spring.data.mongodb.uri}&quot;)\r\n    \t private String uri;\r\n    \r\n    \t @Bean\r\n         public MongoClient mongo() {\r\n             ConnectionString connectionString = new ConnectionString(uri);\r\n             MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\r\n               .applyConnectionString(connectionString)\r\n               .build();\r\n            \r\n             return MongoClients.create(mongoClientSettings);\r\n         }\r\n    \r\n         @Bean\r\n         public MongoTemplate mongoTemplate() throws Exception {\r\n             return new MongoTemplate(mongo(), databaseName);\r\n         }\r\n     }\r\n\r\n**CustomerRepository.java** (not really used in this trivial example)\r\n\r\n    package com.example.accessingdatamongodb;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    \r\n    public interface CustomerRepository extends MongoRepository&lt;Customer, String&gt; {\r\n    \r\n      public Customer findByFirstName(String firstName);\r\n      public List&lt;Customer&gt; findByLastName(String lastName);\r\n      public void deleteByLastName(String lastName);\r\n    }\r\n\r\n\r\n**Customer.java**\r\n\r\n    package com.example.accessingdatamongodb;\r\n    \r\n    import org.springframework.data.annotation.Id;\r\n    \r\n    \r\n    public class Customer {\r\n    \r\n      @Id\r\n      public String id;\r\n    \r\n      public String firstName;\r\n      public String lastName;\r\n    \r\n      public Customer() {}\r\n    \r\n      public Customer(String firstName, String lastName) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return String.format(\r\n            &quot;Customer[id=%s, firstName=&#39;%s&#39;, lastName=&#39;%s&#39;]&quot;,\r\n            id, firstName, lastName);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Mongo Bulk Insert Spring","body":"<p>Here is a very small program that performs an Ordered bulkWrite using Spring.  You can change to unordered by changing the enum value on BulkOperations.BulkMode.  This program will insert 3 records, then delete one, then update one.  Because of the filter predicates in the later bulk commands I had to go with an ordered update.  If you are only inserting you could easily get away with a faster unordered bulk command.</p>\n<p><strong>Main.java</strong></p>\n<pre><code>package com.example.accessingdatamongodb;\n\nimport com.mongodb.bulk.BulkWriteResult;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.mongodb.core.BulkOperations;\nimport org.springframework.data.mongodb.core.MongoOperations;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.query.Update;\n\n@SpringBootApplication\npublic class Main implements CommandLineRunner {\n\n    @Autowired\n    private MongoOperations mongoTemplate;\n\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        // CLEAR THE COLLECTION\n        mongoTemplate.remove(new Query(), Customer.class);\n\n        BulkOperations bulkOps = mongoTemplate.bulkOps(BulkOperations.BulkMode.ORDERED, Customer.class);\n\n        for (Integer i = 0; i &lt; 3; i++)\n        {\n            Customer customer = new Customer();\n            customer.firstName = &quot;Barry&quot;;\n            customer.id = i.toString();\n            bulkOps.insert(customer);\n        }\n\n        bulkOps.remove(new Query().addCriteria(new Criteria(&quot;i&quot;).is(1)));\n        bulkOps.updateOne(new Query().addCriteria(new Criteria(&quot;i&quot;).is(2)), new Update().set(&quot;name&quot;, &quot;Barry&quot;));\n\n        BulkWriteResult results = bulkOps.execute();\n    }\n}\n</code></pre>\n<p>For completeness here are the other files in the project...</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.data.mongodb.uri=mongodb://localhost:27017/springtestBulkWrite\nspring.data.mongodb.database=springtestBulkWrite\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;accessing-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;accessing-data-mongodb&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n            &lt;version&gt;4.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n            &lt;version&gt;4.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;bson&lt;/artifactId&gt;\n            &lt;version&gt;4.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>SimpleMongoConfig.java</strong></p>\n<pre><code> import com.mongodb.client.MongoClient;\n import com.mongodb.ConnectionString;\n import com.mongodb.MongoClientSettings;\n import com.mongodb.client.MongoClients;\n import org.springframework.beans.factory.annotation.Value;\n import org.springframework.context.annotation.Bean;\n import org.springframework.context.annotation.Configuration;\n import org.springframework.data.mongodb.core.MongoTemplate;\n\n @Configuration\n public class SimpleMongoConfig {\n\n     @Value(&quot;${spring.data.mongodb.database}&quot;)\n     private String databaseName;\n\n     @Value(&quot;${spring.data.mongodb.uri}&quot;)\n     private String uri;\n\n     @Bean\n     public MongoClient mongo() {\n         ConnectionString connectionString = new ConnectionString(uri);\n         MongoClientSettings mongoClientSettings = MongoClientSettings.builder()\n           .applyConnectionString(connectionString)\n           .build();\n        \n         return MongoClients.create(mongoClientSettings);\n     }\n\n     @Bean\n     public MongoTemplate mongoTemplate() throws Exception {\n         return new MongoTemplate(mongo(), databaseName);\n     }\n }\n</code></pre>\n<p><strong>CustomerRepository.java</strong> (not really used in this trivial example)</p>\n<pre><code>package com.example.accessingdatamongodb;\n\nimport java.util.List;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface CustomerRepository extends MongoRepository&lt;Customer, String&gt; {\n\n  public Customer findByFirstName(String firstName);\n  public List&lt;Customer&gt; findByLastName(String lastName);\n  public void deleteByLastName(String lastName);\n}\n</code></pre>\n<p><strong>Customer.java</strong></p>\n<pre><code>package com.example.accessingdatamongodb;\n\nimport org.springframework.data.annotation.Id;\n\n\npublic class Customer {\n\n  @Id\n  public String id;\n\n  public String firstName;\n  public String lastName;\n\n  public Customer() {}\n\n  public Customer(String firstName, String lastName) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n  }\n\n  @Override\n  public String toString() {\n    return String.format(\n        &quot;Customer[id=%s, firstName='%s', lastName='%s']&quot;,\n        id, firstName, lastName);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24665421,"reputation":1,"user_id":18561159,"display_name":"Bryce Long"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694537875,"creation_date":1648066832,"question_id":71593554,"body_markdown":"I am working on understanding Mongo&#39;s bulk insert method. I want to insert records that have a unique index, and the duplicates simply get skipped over. I understand I will need an unorded bulk insert, but am having issues with the implementation. I already have logic that has been implemented with .saveAll by mapping through and building an object. I am failing to connect the dots on where to explicitly insert into the bulk operation. Can I not pass my object, or do I need map each key to data. In the examples I have read, they use small objects and specify each key.\r\n\r\n    List&lt;Employee&gt; employees =\r\n          people.getEmployees().stream()\r\n              .filter(criteria)\r\n              .map(\r\n                  e -&gt; {\r\n                    return PersonObject.builder()\r\n                        .firstName(person.getFirstName())\r\n                        .lastName(person.getLastName())\r\n                        .gender(person.getGender())\r\n                        .salary(employee.getSalary())\r\n                        .weight(person.getWeight())\r\n                        .height(person.getHeight())\r\n                        .school(Schools.SEC)\r\n                        .family(familyOrgins.getFamily())\r\n                        .hairColor(familyOrgins.getHairColor())\r\n                        .eyeColor(familyOrgins.getEyeColor())\r\n                        .city(city)\r\n                        .state(state)\r\n                        .country(country)\r\n                        .build();\r\n                  })\r\n              .collect(Collectors.toList());\r\n              result = employeesRepository.saveAll(employees);\r\n\r\nI have tried to inserting after the list of objects has been created like below:\r\n\r\n          .build();\r\n              })\r\n          .collect(Collectors.toList());\r\n          BulkWriteResult mongoResult = bulkWrite(itemLocations, false);`\r\n\r\nI want to insert using a bulk and if last name is the same, then skip over that person insertion.","title":"Mongo Bulk Insert Spring","body":"<p>I am working on understanding Mongo's bulk insert method. I want to insert records that have a unique index, and the duplicates simply get skipped over. I understand I will need an unorded bulk insert, but am having issues with the implementation. I already have logic that has been implemented with .saveAll by mapping through and building an object. I am failing to connect the dots on where to explicitly insert into the bulk operation. Can I not pass my object, or do I need map each key to data. In the examples I have read, they use small objects and specify each key.</p>\n<pre><code>List&lt;Employee&gt; employees =\n      people.getEmployees().stream()\n          .filter(criteria)\n          .map(\n              e -&gt; {\n                return PersonObject.builder()\n                    .firstName(person.getFirstName())\n                    .lastName(person.getLastName())\n                    .gender(person.getGender())\n                    .salary(employee.getSalary())\n                    .weight(person.getWeight())\n                    .height(person.getHeight())\n                    .school(Schools.SEC)\n                    .family(familyOrgins.getFamily())\n                    .hairColor(familyOrgins.getHairColor())\n                    .eyeColor(familyOrgins.getEyeColor())\n                    .city(city)\n                    .state(state)\n                    .country(country)\n                    .build();\n              })\n          .collect(Collectors.toList());\n          result = employeesRepository.saveAll(employees);\n</code></pre>\n<p>I have tried to inserting after the list of objects has been created like below:</p>\n<pre><code>      .build();\n          })\n      .collect(Collectors.toList());\n      BulkWriteResult mongoResult = bulkWrite(itemLocations, false);`\n</code></pre>\n<p>I want to insert using a bulk and if last name is the same, then skip over that person insertion.</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1694536378,"post_id":77091022,"comment_id":135902868,"body_markdown":"What is the value of `locale`? I do not know about Kotlin, but since you asked for Java - it is returning MONDAY: https://i.stack.imgur.com/ylvOL.png (Java 21 and 22)","body":"What is the value of <code>locale</code>? I do not know about Kotlin, but since you asked for Java - it is returning MONDAY: <a href=\"https://i.stack.imgur.com/ylvOL.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/ylvOL.png</a> (Java 21 and 22)"},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":1,"creation_date":1694536427,"post_id":77091022,"comment_id":135902877,"body_markdown":"Well, the first thing to note is you don&#39;t have a fully reproducible example. Like, I don&#39;t see the packages for the classes you&#39;re using, but I can make some assumptions. Please resubmit a working example of the problem.\n\nThis question also has nothing to do with JeyPack, Kotlin or Android. Data/time/calendar are all core to the java packages. \n\nSince you&#39;re using `Calendar`, you need to see how it interprets first day of the week, and you may have to choose a different calendar - the default, I believe, is the `Gregorian` calendar, which makes sense for the Christian, western world","body":"Well, the first thing to note is you don&#39;t have a fully reproducible example. Like, I don&#39;t see the packages for the classes you&#39;re using, but I can make some assumptions. Please resubmit a working example of the problem.  This question also has nothing to do with JeyPack, Kotlin or Android. Data/time/calendar are all core to the java packages.   Since you&#39;re using <code>Calendar</code>, you need to see how it interprets first day of the week, and you may have to choose a different calendar - the default, I believe, is the <code>Gregorian</code> calendar, which makes sense for the Christian, western world"},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1694536510,"post_id":77091022,"comment_id":135902892,"body_markdown":"for the record, here&#39;s [the gregorian calendar](https://en.wikipedia.org/wiki/Gregorian_calendar)","body":"for the record, here&#39;s <a href=\"https://en.wikipedia.org/wiki/Gregorian_calendar\" rel=\"nofollow noreferrer\">the gregorian calendar</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694536546,"post_id":77091022,"comment_id":135902895,"body_markdown":"just tested with Java 17 - that is returning SUNDAY - seems like it was changed between 17 and 21 (that is, probably it was not intended to be Sunday)","body":"just tested with Java 17 - that is returning SUNDAY - seems like it was changed between 17 and 21 (that is, probably it was not intended to be Sunday)"},{"owner":{"account_id":10539153,"reputation":1073,"user_id":7765897,"display_name":"bilabila"},"score":0,"creation_date":1694537901,"post_id":77091022,"comment_id":135903171,"body_markdown":"@ChristianBongiorno repo added for reproduce","body":"@ChristianBongiorno repo added for reproduce"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694547194,"post_id":77091022,"comment_id":135904807,"body_markdown":"[This source](http://chartsbin.com/view/41671) lists Sunday as first day for China, Hong Kong, and Macao. [This one](https://savvytime.com/current-week/china) too.","body":"<a href=\"http://chartsbin.com/view/41671\" rel=\"nofollow noreferrer\">This source</a> lists Sunday as first day for China, Hong Kong, and Macao. <a href=\"https://savvytime.com/current-week/china\" rel=\"nofollow noreferrer\">This one</a> too."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694548255,"post_id":77091022,"comment_id":135905007,"body_markdown":"Java 12 [reports Sunday](https://ideone.com/wadtFY) for `Locale.CHINA`.","body":"Java 12 <a href=\"https://ideone.com/wadtFY\" rel=\"nofollow noreferrer\">reports Sunday</a> for <code>Locale.CHINA</code>."}],"owner":{"account_id":10539153,"reputation":1073,"user_id":7765897,"display_name":"bilabila"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694537872,"creation_date":1694535931,"question_id":77091022,"body_markdown":"I use following code to get locale sensitive `firstDayOfWeek` index, but when using Chinese lang, Sunday is still first. Same as English language. The code is adopted from jetpack compose `DatePicker`, and `DatePicker` also uses Sunday first for Chinese language.\r\n\r\n```kotlin\r\nclass WeekdayName(val locale:Locale) {\r\n\r\n    fun dayInISO8601(day: Int): Int {\r\n        val shiftedDay = (day + 6) % 7\r\n        return if (shiftedDay == 0) return /* Sunday */ 7 else shiftedDay\r\n    }\r\n\r\n    val firstDayOfWeek: Int =\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            WeekFields.of(locale).firstDayOfWeek.value\r\n        } else {\r\n            dayInISO8601(Calendar.getInstance(locale).firstDayOfWeek)\r\n        }\r\n}\r\n```\r\n\r\nIt&#39;s strange for Chinese users. As https://en.wikipedia.org/wiki/Week says\r\n\r\n&gt; Most of Europe and China consider Monday the first day of the week\r\n\r\nIs my code to get `firstDayOfWeek` right? Or is this intended?\r\n\r\nEdit: simple app code to reproduce https://github.com/tkkcc/WhyAndroidUseSundayFirstForChinese","title":"Why android/java choose sunday first weekdays for chinese language","body":"<p>I use following code to get locale sensitive <code>firstDayOfWeek</code> index, but when using Chinese lang, Sunday is still first. Same as English language. The code is adopted from jetpack compose <code>DatePicker</code>, and <code>DatePicker</code> also uses Sunday first for Chinese language.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class WeekdayName(val locale:Locale) {\n\n    fun dayInISO8601(day: Int): Int {\n        val shiftedDay = (day + 6) % 7\n        return if (shiftedDay == 0) return /* Sunday */ 7 else shiftedDay\n    }\n\n    val firstDayOfWeek: Int =\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            WeekFields.of(locale).firstDayOfWeek.value\n        } else {\n            dayInISO8601(Calendar.getInstance(locale).firstDayOfWeek)\n        }\n}\n</code></pre>\n<p>It's strange for Chinese users. As <a href=\"https://en.wikipedia.org/wiki/Week\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Week</a> says</p>\n<blockquote>\n<p>Most of Europe and China consider Monday the first day of the week</p>\n</blockquote>\n<p>Is my code to get <code>firstDayOfWeek</code> right? Or is this intended?</p>\n<p>Edit: simple app code to reproduce <a href=\"https://github.com/tkkcc/WhyAndroidUseSundayFirstForChinese\" rel=\"nofollow noreferrer\">https://github.com/tkkcc/WhyAndroidUseSundayFirstForChinese</a></p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":4084681,"reputation":121,"user_id":3354239,"display_name":"Datta"},"score":1,"creation_date":1662666251,"post_id":66934916,"comment_id":130065092,"body_markdown":"Did you get any solution?","body":"Did you get any solution?"}],"owner":{"account_id":18335946,"reputation":51,"user_id":13353337,"display_name":"muhammed kamal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694537650,"creation_date":1617476862,"question_id":66934916,"body_markdown":"However I receive that error\r\n\r\n&gt; D/FlutterBluePlugin( 3903): Connecting to 74:DF:BF:9B:46:2E (id: 2)\r\n&gt; I/BluetoothAdapter( 3903): cancelDiscovery I/BluetoothAdapter( 3903):\r\n&gt; cancelDiscovery = false D/BluetoothUtils( 3903):\r\n&gt; isSocketAllowedBySecurityPolicy start : device null I/BluetoothSocket(\r\n&gt; 3903): connect() for device 74DFBF called by pid: 3903\r\n&gt; W/BluetoothAdapter( 3903): getBluetoothService() called with no\r\n&gt; BluetoothManagerCallback I/flutter ( 3903):\r\n&gt; PlatformException(connect_error, read failed, socket might closed or\r\n&gt; timeout, read ret: -1, java.io.IOException: read failed, socket might\r\n&gt; closed or timeout, read ret: -1 I/flutter ( 3903): \tat\r\n&gt; android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:970)\r\n&gt; I/flutter ( 3903): \tat\r\n&gt; android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:984)\r\n&gt; I/flutter ( 3903): \tat\r\n&gt; android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:536)\r\n&gt; I/flutter ( 3903): \tat\r\n&gt; io.github.edufolly.flutterbluetoothserial.BluetoothConnection.connect(BluetoothConnection.java:57)\r\n&gt; I/flutter ( 3903): \tat\r\n&gt; io.github.edufolly.flutterbluetoothserial.BluetoothConnection.connect(BluetoothConnection.java:64)\r\n&gt; I/flutter ( 3903): \tat\r\n&gt; io.github.edufolly.flutterbluetoothserial.FlutterBluetoothSerialPlugin.lambda$onMethodCall$0$FlutterBluetoothSerialPlugin(FlutterBluetoothSerialPlugin.java:880)\r\n&gt; I/flutter ( 3903): \tat\r\n&gt; io.github.edufolly.flutterbluetoothserial.-$$Lambda$FlutterBluetoothSerialPlugin$IghJwXXwUz_TFyaj49DgLpHhUY4.run(Unknown\r\n&gt; Source:10) I/flutter ( 3903): \tat\r\n&gt; android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\n&gt; I/flutter ( 3903): \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoo\r\n\r\nhere is my code for connection \r\n```\r\nFuture&lt;bool&gt; connect(String address) async {\r\n    BluetoothConnection _bluetoothConnection;\r\n    try {\r\n      _bluetoothConnection = await BluetoothConnection.toAddress(address);\r\n      return _bluetoothConnection.isConnected ? true : false;\r\n    } catch (e) {\r\n      print(e);\r\n    }\r\n  }\r\n```","title":"Can not connect to device using Flutter_bluetooth_serial package","body":"<p>However I receive that error</p>\n<blockquote>\n<p>D/FlutterBluePlugin( 3903): Connecting to 74:DF:BF:9B:46:2E (id: 2)\nI/BluetoothAdapter( 3903): cancelDiscovery I/BluetoothAdapter( 3903):\ncancelDiscovery = false D/BluetoothUtils( 3903):\nisSocketAllowedBySecurityPolicy start : device null I/BluetoothSocket(\n3903): connect() for device 74DFBF called by pid: 3903\nW/BluetoothAdapter( 3903): getBluetoothService() called with no\nBluetoothManagerCallback I/flutter ( 3903):\nPlatformException(connect_error, read failed, socket might closed or\ntimeout, read ret: -1, java.io.IOException: read failed, socket might\nclosed or timeout, read ret: -1 I/flutter ( 3903):    at\nandroid.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:970)\nI/flutter ( 3903):    at\nandroid.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:984)\nI/flutter ( 3903):    at\nandroid.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:536)\nI/flutter ( 3903):    at\nio.github.edufolly.flutterbluetoothserial.BluetoothConnection.connect(BluetoothConnection.java:57)\nI/flutter ( 3903):    at\nio.github.edufolly.flutterbluetoothserial.BluetoothConnection.connect(BluetoothConnection.java:64)\nI/flutter ( 3903):    at\nio.github.edufolly.flutterbluetoothserial.FlutterBluetoothSerialPlugin.lambda$onMethodCall$0$FlutterBluetoothSerialPlugin(FlutterBluetoothSerialPlugin.java:880)\nI/flutter ( 3903):    at\nio.github.edufolly.flutterbluetoothserial.-$$Lambda$FlutterBluetoothSerialPlugin$IghJwXXwUz_TFyaj49DgLpHhUY4.run(Unknown\nSource:10) I/flutter ( 3903):     at\nandroid.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\nI/flutter ( 3903):    at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoo</p>\n</blockquote>\n<p>here is my code for connection</p>\n<pre><code>Future&lt;bool&gt; connect(String address) async {\n    BluetoothConnection _bluetoothConnection;\n    try {\n      _bluetoothConnection = await BluetoothConnection.toAddress(address);\n      return _bluetoothConnection.isConnected ? true : false;\n    } catch (e) {\n      print(e);\n    }\n  }\n</code></pre>\n"},{"tags":["java","android","kotlin","android-camera2","easyar"],"owner":{"account_id":24363814,"reputation":11,"user_id":18297819,"display_name":"pyroblinchik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694536827,"creation_date":1694536827,"question_id":77091127,"body_markdown":"I have AR Android App. I&#39;m using EasyAR library for some AR functionality and now I wanna add &quot;taking photo&quot; functionality. When user is using the AR camera, he can press a button to take a photo and save it to gallery. How can I do that?\r\n\r\nI tried to find this functionality in official EasyAR documentation and there&#39;s nothing about taking photos. Maybe I missed something, but I didn&#39;t find anything. And one more solution, that I tried is taking screenshot of camera preview. I know, that it&#39;s very bad solution, but I don&#39;t know what can I do in this case. So, this solution didn&#39;t work because when I take a screenshot the camera preview area is all black. I assume this is a deliberate limitation of Android due to security reasons. \r\n\r\nPlease help if you know way how to do this functionality. It doesn’t matter how - by means of EasyAR or in some other way. I will be glad to any answers, thank you in advance for your help\r\n","title":"How can I take a photo using Camera from EasyAR library?","body":"<p>I have AR Android App. I'm using EasyAR library for some AR functionality and now I wanna add &quot;taking photo&quot; functionality. When user is using the AR camera, he can press a button to take a photo and save it to gallery. How can I do that?</p>\n<p>I tried to find this functionality in official EasyAR documentation and there's nothing about taking photos. Maybe I missed something, but I didn't find anything. And one more solution, that I tried is taking screenshot of camera preview. I know, that it's very bad solution, but I don't know what can I do in this case. So, this solution didn't work because when I take a screenshot the camera preview area is all black. I assume this is a deliberate limitation of Android due to security reasons.</p>\n<p>Please help if you know way how to do this functionality. It doesn’t matter how - by means of EasyAR or in some other way. I will be glad to any answers, thank you in advance for your help</p>\n"},{"tags":["java","jhipster","telegram","telegram-bot","chatbot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633541974,"post_id":69362275,"comment_id":122789673,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":16104222,"reputation":363,"user_id":11814361,"display_name":"Joel"},"score":1,"creation_date":1653477845,"post_id":72335362,"comment_id":127860751,"body_markdown":"Here&#39;s a link to play audio files in a call.\nhttps://github.com/bakatrouble/pytgvoip_pyrogram\nFrom what I hear this implementation will soon stop working as Telegram is moving from VoIP to WebRTC","body":"Here&#39;s a link to play audio files in a call. <a href=\"https://github.com/bakatrouble/pytgvoip_pyrogram\" rel=\"nofollow noreferrer\">github.com/bakatrouble/pytgvoip_pyrogram</a> From what I hear this implementation will soon stop working as Telegram is moving from VoIP to WebRTC"}],"tags":[],"owner":{"account_id":16104222,"reputation":363,"user_id":11814361,"display_name":"Joel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653201926,"creation_date":1653201926,"answer_id":72335362,"question_id":69362275,"body_markdown":"There&#39;s a way to do it using pyrogram (a telegram client in python). Here&#39;s a GitHub link to the file.\r\nhttps://github.com/MarshalX/tgcalls/blob/main/pytgcalls/test.py \r\n\r\nYou just have to setup pyrogram, using the quickstart guide\r\nhttps://docs.pyrogram.org/intro/quickstart\r\n\r\nCreate an instance of the OutgoingCall class and pass in the pyrogram client and username as the parameter. This should make the phone ring. If you have further questions please feel free to ask in the comments.","title":"Make a phone call to a user without using a third party url - telegram chatbot","body":"<p>There's a way to do it using pyrogram (a telegram client in python). Here's a GitHub link to the file.\n<a href=\"https://github.com/MarshalX/tgcalls/blob/main/pytgcalls/test.py\" rel=\"nofollow noreferrer\">https://github.com/MarshalX/tgcalls/blob/main/pytgcalls/test.py</a></p>\n<p>You just have to setup pyrogram, using the quickstart guide\n<a href=\"https://docs.pyrogram.org/intro/quickstart\" rel=\"nofollow noreferrer\">https://docs.pyrogram.org/intro/quickstart</a></p>\n<p>Create an instance of the OutgoingCall class and pass in the pyrogram client and username as the parameter. This should make the phone ring. If you have further questions please feel free to ask in the comments.</p>\n"}],"owner":{"account_id":17060304,"reputation":84,"user_id":12343905,"display_name":"Federremu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72335362,"answer_count":1,"score":1,"last_activity_date":1694536796,"creation_date":1632834196,"question_id":69362275,"body_markdown":"I have a telegram chat bot implemented in java and jhipster with this API: [rubenlagus/TelegramBots][1]\r\n\r\nI want to add a functionality: **Make a phone call to a user without using [callMeBot][2] or similar. That is, making the call from code without using a third party url.** \r\n\r\nIs there any way to do it?\r\n\r\nIt is not necessary for a message to be transmitted, it is enough for the phone to ring. The call can be through telegram or not. **The important thing is that the cell phone rings.**\r\n\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots\r\n  [2]: https://ifttt.com/callmebot","title":"Make a phone call to a user without using a third party url - telegram chatbot","body":"<p>I have a telegram chat bot implemented in java and jhipster with this API: <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"nofollow noreferrer\">rubenlagus/TelegramBots</a></p>\n<p>I want to add a functionality: <strong>Make a phone call to a user without using <a href=\"https://ifttt.com/callmebot\" rel=\"nofollow noreferrer\">callMeBot</a> or similar. That is, making the call from code without using a third party url.</strong></p>\n<p>Is there any way to do it?</p>\n<p>It is not necessary for a message to be transmitted, it is enough for the phone to ring. The call can be through telegram or not. <strong>The important thing is that the cell phone rings.</strong></p>\n"},{"tags":["java","loops","selenium-webdriver","automation","ui-automation"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1694518451,"post_id":77086748,"comment_id":135898523,"body_markdown":"Can you edit your question and share the code what you have tried so far? Also share the HTML of the table.","body":"Can you edit your question and share the code what you have tried so far? Also share the HTML of the table."},{"owner":{"account_id":10025964,"reputation":37,"user_id":7414127,"display_name":"titli0216"},"score":0,"creation_date":1694536785,"post_id":77086748,"comment_id":135902954,"body_markdown":"@Shwan I am unable to break from the for loop that I used for &quot;rows&quot;. I want to break from the for loop I am using for rows once the data is found.","body":"@Shwan I am unable to break from the for loop that I used for &quot;rows&quot;. I want to break from the for loop I am using for rows once the data is found."}],"owner":{"account_id":10025964,"reputation":37,"user_id":7414127,"display_name":"titli0216"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694536701,"creation_date":1694502281,"question_id":77086748,"body_markdown":"Suppose I have the below table:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/znEeG.png\r\n\r\nuse case: If the Part1 is present in the Col2 of the first row then verify the value of the col3 in the first row is Release. Similarly, if the Part2 is present in the Col2 of the second row then verify the value of the col3 in the second row is Release.\r\n\r\nHow can I achieve this using selenium java?\r\n\r\nPlease find the code below which I tried:\r\n\r\npublic boolean verifyPartsinEBOM(String partName, String partState) {\r\n\t\t\r\n\t\tboolean result = true;\r\n\t\t//To locate the table in the EBOM page.\r\n\t\tWebElement mytable = driver.findElement(By.id(&quot;tbr&quot;));\r\n\t\t\r\n    \t//To locate rows of table. \r\n    \tList &lt; WebElement &gt; rows_table = mytable.findElements(By.tagName(&quot;tr&quot;));\r\n    \t\r\n    \t//To calculate no of rows In table.\r\n    \tint rows_count = rows_table.size();\r\n    \t\r\n    \t//Loop will execute till the last row of table.\r\n    \tfor (int row = 0; row &lt; rows_count; row++) {\r\n    \t\t\r\n    \t    //To locate columns(cells) of that specific row.\r\n    \t    List &lt; WebElement &gt; columns_row = rows_table.get(row).findElements(By.tagName(&quot;td&quot;));\r\n    \t    \r\n    \t    //To calculate no of columns (cells). In that specific row.\r\n    \t    int columns_count = columns_row.size();\r\n    \t    System.out.println(&quot;Number of cells In Row &quot; + row + &quot; are &quot; + columns_count);\r\n    \t    \r\n    \t    //Loop will execute till the last cell of that specific row.\r\n    \t    for (int column = 0; column &lt; columns_count; column++) {\r\n    \t    \t\r\n    \t        // To retrieve text from that specific cell.\r\n    \t        String celtext = columns_row.get(column).getText();\r\n    \t        if(celtext.contains(partName)) {\r\n    \t        \tWebElement state = driver.findElement(By.xpath(&quot;.//*[@id=&#39;tbr&#39;]/tbody/tr[&quot;+Integer.toString(row+1)+&quot;]/td[&quot;+Integer.toString(column+3)+&quot;]&quot;));\r\n    \t        \tString pState = state.getText();\r\n    \t        \tif(pState.contains(partState)) {\r\n    \t        \tresult = true;\r\n    \t        \tbreak;\r\n    \t        \t}\r\n    \t        \telse {\r\n    \t        \t\tresult = false;\r\n    \t        \t}\r\n    \t        \t\r\n    \t        \tbreak;\r\n    \t        }\r\n    \t        \r\n    \t        else {\r\n    \t        \tresult = false;\r\n    \t        }    \t        \r\n    \t    }     \t   \r\n    \t}\t\t\r\n\t\t\r\n\t\treturn result;\t\t\r\n\t}\t\r\n\t}","title":"How to verify a column value in selenium java and based on that value present or not need to verify the another column value","body":"<p>Suppose I have the below table:</p>\n<p><a href=\"https://i.stack.imgur.com/znEeG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/znEeG.png\" alt=\"enter image description here\" /></a></p>\n<p>use case: If the Part1 is present in the Col2 of the first row then verify the value of the col3 in the first row is Release. Similarly, if the Part2 is present in the Col2 of the second row then verify the value of the col3 in the second row is Release.</p>\n<p>How can I achieve this using selenium java?</p>\n<p>Please find the code below which I tried:</p>\n<p>public boolean verifyPartsinEBOM(String partName, String partState) {</p>\n<pre><code>    boolean result = true;\n    //To locate the table in the EBOM page.\n    WebElement mytable = driver.findElement(By.id(&quot;tbr&quot;));\n    \n    //To locate rows of table. \n    List &lt; WebElement &gt; rows_table = mytable.findElements(By.tagName(&quot;tr&quot;));\n    \n    //To calculate no of rows In table.\n    int rows_count = rows_table.size();\n    \n    //Loop will execute till the last row of table.\n    for (int row = 0; row &lt; rows_count; row++) {\n        \n        //To locate columns(cells) of that specific row.\n        List &lt; WebElement &gt; columns_row = rows_table.get(row).findElements(By.tagName(&quot;td&quot;));\n        \n        //To calculate no of columns (cells). In that specific row.\n        int columns_count = columns_row.size();\n        System.out.println(&quot;Number of cells In Row &quot; + row + &quot; are &quot; + columns_count);\n        \n        //Loop will execute till the last cell of that specific row.\n        for (int column = 0; column &lt; columns_count; column++) {\n            \n            // To retrieve text from that specific cell.\n            String celtext = columns_row.get(column).getText();\n            if(celtext.contains(partName)) {\n                WebElement state = driver.findElement(By.xpath(&quot;.//*[@id='tbr']/tbody/tr[&quot;+Integer.toString(row+1)+&quot;]/td[&quot;+Integer.toString(column+3)+&quot;]&quot;));\n                String pState = state.getText();\n                if(pState.contains(partState)) {\n                result = true;\n                break;\n                }\n                else {\n                    result = false;\n                }\n                \n                break;\n            }\n            \n            else {\n                result = false;\n            }               \n        }          \n    }       \n    \n    return result;      \n}   \n}\n</code></pre>\n"},{"tags":["java","arrays","for-loop","inheritance","constructor"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1694537160,"post_id":77091114,"comment_id":135903021,"body_markdown":"are you asking for something like `obj[0] = new ClassA1(); obj[1] = new ClassA2(); ...` ?","body":"are you asking for something like <code>obj[0] = new ClassA1(); obj[1] = new ClassA2(); ...</code> ?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1694537200,"post_id":77091114,"comment_id":135903029,"body_markdown":"So you want an array with 1 instance of each class calling the *no-args constructor*?","body":"So you want an array with 1 instance of each class calling the <i>no-args constructor</i>?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1694539409,"post_id":77091114,"comment_id":135903419,"body_markdown":"A derived class can take the place of the parent class, so as @user85421 suggests, you simply create an instance of the child class and place it into the array. It&#39;ll call all of the parent constructors because of the `super()` calls. Leave the type of the array as `Base`. This is a fundamental concept in Object Oriented Programming known as **Polymorphism**.","body":"A derived class can take the place of the parent class, so as @user85421 suggests, you simply create an instance of the child class and place it into the array. It&#39;ll call all of the parent constructors because of the <code>super()</code> calls. Leave the type of the array as <code>Base</code>. This is a fundamental concept in Object Oriented Programming known as <b>Polymorphism</b>."},{"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"score":0,"creation_date":1694540647,"post_id":77091114,"comment_id":135903653,"body_markdown":"@user85421 and Idle_Mind thank you both so much :&#39;| \n\nYes. that&#39;s exactly what I was trying to do.  I tried doing something very similar but it didn&#39;t work so I gave up on that entirely.","body":"@user85421 and Idle_Mind thank you both so much :&#39;|   Yes. that&#39;s exactly what I was trying to do.  I tried doing something very similar but it didn&#39;t work so I gave up on that entirely."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1694549267,"post_id":77091114,"comment_id":135905181,"body_markdown":"@TakeshiDBXV, can you provide more information about the data and its usage?  Try a database, _[SQLite](https://www.sqlite.org/index.html)_ is easy to use.","body":"@TakeshiDBXV, can you provide more information about the data and its usage?  Try a database, <i><a href=\"https://www.sqlite.org/index.html\" rel=\"nofollow noreferrer\">SQLite</a></i> is easy to use."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694585014,"post_id":77091114,"comment_id":135908738,"body_markdown":"based on posted code, maybe your data model can be improved. For example, `ClassA1` and `ClassA2` seems to be just data holder, there is no different functionality. In that case, the next step would be doing `obj[0] = new ClassA(2015, &quot;Bethesda&quot;, &quot;Fallout 4&quot;, 1, true, 30.0);`  (and not have a `ClassA1`). Further, if these are *constant*, the use of `enum` can be recommended. The use of a database,  as suggested in previous comment, should also be considered (depending on usage, details)","body":"based on posted code, maybe your data model can be improved. For example, <code>ClassA1</code> and <code>ClassA2</code> seems to be just data holder, there is no different functionality. In that case, the next step would be doing <code>obj[0] = new ClassA(2015, &quot;Bethesda&quot;, &quot;Fallout 4&quot;, 1, true, 30.0);</code>  (and not have a <code>ClassA1</code>). Further, if these are <i>constant</i>, the use of <code>enum</code> can be recommended. The use of a database,  as suggested in previous comment, should also be considered (depending on usage, details)"}],"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694536699,"creation_date":1694536699,"question_id":77091114,"body_markdown":"From my base class, I &#39;m trying to call two class constructors from two derived classes **each**. \r\n\r\nI have two derived classes; I&#39;ll call them ClassA and ClassB. Both ClassA and ClassB have two derived classes of their own. I&#39;ll call them ClassA1, ClassA2, ClassB1, and ClassB2. These 4 classes have a constructor, but they both have different lengths.\r\n\r\nThe idea is to use an array and a for-loop to call each constructor. This is what I have so far:\r\n\r\n```\r\npublic class Base {\r\n\r\n    int year;\r\n    String brand;\r\n    String name;\r\n    \r\n    Base(){\r\n        year = 0;\r\n        brand = &quot;Default&quot;;\r\n        name = &quot;Default&quot;;\r\n    }\r\n    \r\n    Base(int year, String brand, String name){\r\n        this.year = year;\r\n        this.brand = brand;\r\n        this.name = name;\r\n    }\r\n    void display(){\r\n        System.out.println(&quot;Year: &quot; + year + &quot;\\nBrand: &quot; + brand\r\n        + &quot;\\nName: &quot; + name);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n          \r\n        Base obj[] = new Base[4];\r\n        obj[0] = new Base(); //I&#39;m not sure what to do here\r\n        obj[1] = new Base();\r\n        obj[2] = new Base();\r\n        obj[3] = new Base();\r\n        \r\n        for (int i=0; i &lt; obj.length; i++) {\r\n            obj[i] = new Base();\r\n        }\r\n    }\r\n}\r\n\r\npublic class ClassA extends Base {\r\n    int playerCount;\r\n    boolean hasMods;\r\n    double fileSize;\r\n\r\n    \r\n    ClassA(){\r\n        playerCount = 0;\r\n        hasMods = false;\r\n        fileSize = 0;\r\n    }\r\n    \r\n    ClassA(int year, String brand, String name, int playerCount,\r\n            boolean hasMods, double fileSize){\r\n        super(year, brand, name);\r\n        this.playerCount = playerCount;\r\n        this.hasMods = hasMods;\r\n        this.fileSize = fileSize;\r\n    }\r\n    \r\n    void display(){\r\n        super.display();\r\n        System.out.println(&quot;Max Number of Players: &quot; + playerCount\r\n        + &quot;\\nModding Capability?: &quot; + hasMods\r\n        + &quot;\\nStorage: &quot; + fileSize + &quot; gb&quot;);\r\n    }\r\n}\r\n\r\nclass ClassA1 extends ClassA{\r\n    ClassA1(){\r\n        super(2015, &quot;Bethesda&quot;, &quot;Fallout 4&quot;, 1, true, 30.0);\r\n    }\r\n}\r\n\r\nclass ClassA2 extends ClassA{\r\n    ClassA2(){\r\n        super(2007, &quot;Bungie&quot;, &quot;Halo 3&quot;, 4, false, 6.3);\r\n    }\r\n}\r\n```\r\n\r\nEven with that array, it doesn&#39;t make much sense to me. If the array is from Base, I don&#39;t think it would call anything lower than it. If the array is ClassA, it still wouldn&#39;t get the specific classes. If it&#39;s ClassA1, then all the other classes cannot be called. And the array cannot be a string either obviously.\r\n\r\nI&#39;d imagine it to work like this: Array[x] value = new Array[x]();. The thing is, I&#39;m not sure if that would even work, or how to do that.\r\n\r\nIf I can just see how it would work with one of the two classes, I believe I can figure it out with the other.","title":"How to call two constructors from two derived classes from the base class in a for-loop?","body":"<p>From my base class, I 'm trying to call two class constructors from two derived classes <strong>each</strong>.</p>\n<p>I have two derived classes; I'll call them ClassA and ClassB. Both ClassA and ClassB have two derived classes of their own. I'll call them ClassA1, ClassA2, ClassB1, and ClassB2. These 4 classes have a constructor, but they both have different lengths.</p>\n<p>The idea is to use an array and a for-loop to call each constructor. This is what I have so far:</p>\n<pre><code>public class Base {\n\n    int year;\n    String brand;\n    String name;\n    \n    Base(){\n        year = 0;\n        brand = &quot;Default&quot;;\n        name = &quot;Default&quot;;\n    }\n    \n    Base(int year, String brand, String name){\n        this.year = year;\n        this.brand = brand;\n        this.name = name;\n    }\n    void display(){\n        System.out.println(&quot;Year: &quot; + year + &quot;\\nBrand: &quot; + brand\n        + &quot;\\nName: &quot; + name);\n    }\n    \n    public static void main(String[] args) {\n          \n        Base obj[] = new Base[4];\n        obj[0] = new Base(); //I'm not sure what to do here\n        obj[1] = new Base();\n        obj[2] = new Base();\n        obj[3] = new Base();\n        \n        for (int i=0; i &lt; obj.length; i++) {\n            obj[i] = new Base();\n        }\n    }\n}\n\npublic class ClassA extends Base {\n    int playerCount;\n    boolean hasMods;\n    double fileSize;\n\n    \n    ClassA(){\n        playerCount = 0;\n        hasMods = false;\n        fileSize = 0;\n    }\n    \n    ClassA(int year, String brand, String name, int playerCount,\n            boolean hasMods, double fileSize){\n        super(year, brand, name);\n        this.playerCount = playerCount;\n        this.hasMods = hasMods;\n        this.fileSize = fileSize;\n    }\n    \n    void display(){\n        super.display();\n        System.out.println(&quot;Max Number of Players: &quot; + playerCount\n        + &quot;\\nModding Capability?: &quot; + hasMods\n        + &quot;\\nStorage: &quot; + fileSize + &quot; gb&quot;);\n    }\n}\n\nclass ClassA1 extends ClassA{\n    ClassA1(){\n        super(2015, &quot;Bethesda&quot;, &quot;Fallout 4&quot;, 1, true, 30.0);\n    }\n}\n\nclass ClassA2 extends ClassA{\n    ClassA2(){\n        super(2007, &quot;Bungie&quot;, &quot;Halo 3&quot;, 4, false, 6.3);\n    }\n}\n</code></pre>\n<p>Even with that array, it doesn't make much sense to me. If the array is from Base, I don't think it would call anything lower than it. If the array is ClassA, it still wouldn't get the specific classes. If it's ClassA1, then all the other classes cannot be called. And the array cannot be a string either obviously.</p>\n<p>I'd imagine it to work like this: Array[x] value = new Arrayx;. The thing is, I'm not sure if that would even work, or how to do that.</p>\n<p>If I can just see how it would work with one of the two classes, I believe I can figure it out with the other.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":7427975,"reputation":537,"user_id":9862795,"display_name":"GoranLegenda"},"score":0,"creation_date":1694527920,"post_id":77089019,"comment_id":135900873,"body_markdown":"seems like you are missing the `@Transaction` annotation on your service method where you are dealing with repository actions. since the fetch type is set to lazy, session needs to be open in order for ORM to be aware of the other entities you are trying to access","body":"seems like you are missing the <code>@Transaction</code> annotation on your service method where you are dealing with repository actions. since the fetch type is set to lazy, session needs to be open in order for ORM to be aware of the other entities you are trying to access"},{"owner":{"account_id":6375533,"reputation":94,"user_id":4946616,"display_name":"aedemirsen"},"score":0,"creation_date":1694532481,"post_id":77089019,"comment_id":135902000,"body_markdown":"thank you Goran, I add `@Transactional` annotation to service method and it is solved. But I have a question, why the first time saving company data is not generate problem? When I save company, interests are also saved to database at once.","body":"thank you Goran, I add <code>@Transactional</code> annotation to service method and it is solved. But I have a question, why the first time saving company data is not generate problem? When I save company, interests are also saved to database at once."},{"owner":{"account_id":7427975,"reputation":537,"user_id":9862795,"display_name":"GoranLegenda"},"score":0,"creation_date":1694535574,"post_id":77089019,"comment_id":135902697,"body_markdown":"they are saved successfully because you have set a Cascade type on the parent entity and so it will &#39;cascade&#39; that action to all child entities. you are not fetching anything at that moment, so there is no error - I will post this and above comment as answers for future readers - so you can mark it for visibility","body":"they are saved successfully because you have set a Cascade type on the parent entity and so it will &#39;cascade&#39; that action to all child entities. you are not fetching anything at that moment, so there is no error - I will post this and above comment as answers for future readers - so you can mark it for visibility"}],"answers":[{"comments":[{"owner":{"account_id":6375533,"reputation":94,"user_id":4946616,"display_name":"aedemirsen"},"score":0,"creation_date":1694532558,"post_id":77090509,"comment_id":135902013,"body_markdown":"Thank you Chris for recommending these approaches. They help a lot. But I solve my problem by adding @Transactional annotation to my service method.","body":"Thank you Chris for recommending these approaches. They help a lot. But I solve my problem by adding @Transactional annotation to my service method."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1694532883,"post_id":77090509,"comment_id":135902079,"body_markdown":"If transactional is working - without it, are you sure the Company+interest instances were actually being saved in the DB? They should only be saved to the DB when in a transaction; and JPA will usually only issue inserts when synchronizing the context to the DB (so on flush or commit) by default. Without it, Spring is likely reusing the same Entitymanager context for all your requests - so it caches the old Company and Interests, and immediately detects that the Interest passed in was already persisted previously without having to go to the DB.","body":"If transactional is working - without it, are you sure the Company+interest instances were actually being saved in the DB? They should only be saved to the DB when in a transaction; and JPA will usually only issue inserts when synchronizing the context to the DB (so on flush or commit) by default. Without it, Spring is likely reusing the same Entitymanager context for all your requests - so it caches the old Company and Interests, and immediately detects that the Interest passed in was already persisted previously without having to go to the DB."}],"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694531739,"creation_date":1694531739,"answer_id":77090509,"question_id":77089019,"body_markdown":"By calling persist (or Spring&#39;s save) on a new Company which references existing Interest instances, because of the cascade persist option being used, your are essentially calling persist on those Interest instances. JPA does not allow calling persist on a detached (existing) entity, and requires providers to throw an exception indicating there is a problem. \r\n\r\nYou need to determine what you want to do with the data in the Interest instances. \r\n\r\n 1. If you want the data to be merged into the database, you should probably use the CascadeType.MERGE type on the relationship, and then switch to using a direct EntityManager.merge on the company instance. JPA will still insert the Company instance, but cascade the merge operation, so find that your Interest instances exist and merge the data into the database.\r\n 2. If you don&#39;t want what could be stale Interest data to overwrite what is in the database and are just looking to set the database relationship, don&#39;t use cascadeType.Persist. JPA won&#39;t persist Interest instances, and will only use the identity within those instances to set the relationship in the DB. \r\n\r\nNote though that you may want different semantics depending on what your application might be sending for Insterest data. Best practice (for me anyway) is to inspect the relationships per use case and handle instances directly. In some cases, this might mean iterating over the Interest data passed in through a Company, calling persist if required (if there is no ID), or reading them in and selectively merging partial values from the passed in copy to the managed instance, then setting the managed instance in the Company to be saved.","title":"Hibernate - ManyToMany detached entity passed to persist","body":"<p>By calling persist (or Spring's save) on a new Company which references existing Interest instances, because of the cascade persist option being used, your are essentially calling persist on those Interest instances. JPA does not allow calling persist on a detached (existing) entity, and requires providers to throw an exception indicating there is a problem.</p>\n<p>You need to determine what you want to do with the data in the Interest instances.</p>\n<ol>\n<li>If you want the data to be merged into the database, you should probably use the CascadeType.MERGE type on the relationship, and then switch to using a direct EntityManager.merge on the company instance. JPA will still insert the Company instance, but cascade the merge operation, so find that your Interest instances exist and merge the data into the database.</li>\n<li>If you don't want what could be stale Interest data to overwrite what is in the database and are just looking to set the database relationship, don't use cascadeType.Persist. JPA won't persist Interest instances, and will only use the identity within those instances to set the relationship in the DB.</li>\n</ol>\n<p>Note though that you may want different semantics depending on what your application might be sending for Insterest data. Best practice (for me anyway) is to inspect the relationships per use case and handle instances directly. In some cases, this might mean iterating over the Interest data passed in through a Company, calling persist if required (if there is no ID), or reading them in and selectively merging partial values from the passed in copy to the managed instance, then setting the managed instance in the Company to be saved.</p>\n"},{"tags":[],"owner":{"account_id":7427975,"reputation":537,"user_id":9862795,"display_name":"GoranLegenda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694535706,"creation_date":1694535706,"answer_id":77090998,"question_id":77089019,"body_markdown":"Seems like you are missing the `@Transactional` annotation on your service method where you are dealing with repository actions. since the fetch type is set to lazy, session needs to be open in order for ORM to be aware of the other entities you are trying to access.\r\n\r\nAll Entities are saved successfully because you have set a Cascade type on the parent entity and so it will &#39;cascade&#39; that action to all child entities. You are not fetching anything at that moment, so there is no error you are experiencing afterwards.","title":"Hibernate - ManyToMany detached entity passed to persist","body":"<p>Seems like you are missing the <code>@Transactional</code> annotation on your service method where you are dealing with repository actions. since the fetch type is set to lazy, session needs to be open in order for ORM to be aware of the other entities you are trying to access.</p>\n<p>All Entities are saved successfully because you have set a Cascade type on the parent entity and so it will 'cascade' that action to all child entities. You are not fetching anything at that moment, so there is no error you are experiencing afterwards.</p>\n"}],"owner":{"account_id":6375533,"reputation":94,"user_id":4946616,"display_name":"aedemirsen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77090998,"answer_count":2,"score":-1,"last_activity_date":1694535706,"creation_date":1694520967,"question_id":77089019,"body_markdown":"I have a springboot project and I use postgresql and hibernate. \r\n\r\nI have several entities, 2 of them are below:\r\n\r\nCompany Entity:\r\n\r\n    @Entity\r\n    @Table\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @SuperBuilder\r\n    @Getter\r\n    @Setter\r\n    public class Company extends BaseDatedEntity {\r\n\r\n       ....... fields\r\n\r\n       @ManyToMany(\r\n            fetch = FetchType.LAZY,\r\n            cascade = {CascadeType.PERSIST}\r\n       )\r\n       @JoinTable(\r\n            name = &quot;company_interest&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;company_id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;interest_id&quot;)}\r\n       )\r\n       private List&lt;Interest&gt; interests = new ArrayList&lt;&gt;();\r\n\r\n    }\r\n\r\nInterest Entity:\r\n\r\n``` \r\n@Entity\r\n@Table\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\npublic class Interest extends BaseDatedEntity {\r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    public boolean equals(Interest interest){\r\n        return this.name.equals(interest.getName());\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I post a new company, it also persists interest. This is wanted and expected result. And if I delete the specified company with delete request, my company information is removed from database along with the relations in company_interest join table. In Interest table, interest records are still there, because these are not related with the company itself. This is also expected and ok. \r\n\r\nBut when I add a new company again with the interest which is already recorded in the database, I get **detached entity passed to persist** exception. \r\n\r\n1- I want to add company even if its interest is already in database, just connect it in join table.\r\n\r\n2- If the interest is not in the db, then persist it in the Interest table. \r\n\r\nWhole exception log:\r\n\r\n```14:44:50.427 [http-nio-8081-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.aedesium.domain.entity.company.Interest; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.aedesium.domain.entity.company.Interest]```\r\n\r\n\r\nI believe this has a simple solution. But I could not figure it out. \r\n\r\nThanks already.","title":"Hibernate - ManyToMany detached entity passed to persist","body":"<p>I have a springboot project and I use postgresql and hibernate.</p>\n<p>I have several entities, 2 of them are below:</p>\n<p>Company Entity:</p>\n<pre><code>@Entity\n@Table\n@AllArgsConstructor\n@NoArgsConstructor\n@SuperBuilder\n@Getter\n@Setter\npublic class Company extends BaseDatedEntity {\n\n   ....... fields\n\n   @ManyToMany(\n        fetch = FetchType.LAZY,\n        cascade = {CascadeType.PERSIST}\n   )\n   @JoinTable(\n        name = &quot;company_interest&quot;,\n        joinColumns = {@JoinColumn(name = &quot;company_id&quot;)},\n        inverseJoinColumns = {@JoinColumn(name = &quot;interest_id&quot;)}\n   )\n   private List&lt;Interest&gt; interests = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<p>Interest Entity:</p>\n<pre><code>@Entity\n@Table\n@AllArgsConstructor\n@NoArgsConstructor\n@SuperBuilder\n@Getter\n@Setter\npublic class Interest extends BaseDatedEntity {\n    @Column(unique = true)\n    private String name;\n\n    public boolean equals(Interest interest){\n        return this.name.equals(interest.getName());\n    }\n}\n\n</code></pre>\n<p>When I post a new company, it also persists interest. This is wanted and expected result. And if I delete the specified company with delete request, my company information is removed from database along with the relations in company_interest join table. In Interest table, interest records are still there, because these are not related with the company itself. This is also expected and ok.</p>\n<p>But when I add a new company again with the interest which is already recorded in the database, I get <strong>detached entity passed to persist</strong> exception.</p>\n<p>1- I want to add company even if its interest is already in database, just connect it in join table.</p>\n<p>2- If the interest is not in the db, then persist it in the Interest table.</p>\n<p>Whole exception log:</p>\n<p><code>14:44:50.427 [http-nio-8081-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.aedesium.domain.entity.company.Interest; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.aedesium.domain.entity.company.Interest]</code></p>\n<p>I believe this has a simple solution. But I could not figure it out.</p>\n<p>Thanks already.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9945,"page":189,"page_size":100}
