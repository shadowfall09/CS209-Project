{"items":[{"tags":["java","opensearch","elasticsearch-rest-client"],"answers":[{"tags":[],"owner":{"account_id":13121556,"reputation":747,"user_id":9478795,"display_name":"Nexonus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694520923,"creation_date":1638542976,"answer_id":70216177,"question_id":70216176,"body_markdown":"As it turns out the version of the `Elasticsearch-Rest-High-Level-Client` was too new. We used the client version `7.15.0` with OpenSearch `1.0`. We downgraded the client to `7.10.2` and it worked again.\r\n\r\nAlso using the `OpenSearch-Rest-High-Level-Client` in version `1.0` worked, too.","title":"elasticsearch.ElasticsearchException: Invalid or missing tagline (OpenSearch)","body":"<p>As it turns out the version of the <code>Elasticsearch-Rest-High-Level-Client</code> was too new. We used the client version <code>7.15.0</code> with OpenSearch <code>1.0</code>. We downgraded the client to <code>7.10.2</code> and it worked again.</p>\n<p>Also using the <code>OpenSearch-Rest-High-Level-Client</code> in version <code>1.0</code> worked, too.</p>\n"},{"tags":[],"owner":{"account_id":26613352,"reputation":11,"user_id":20233210,"display_name":"Anju"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665679642,"creation_date":1665679642,"answer_id":74059243,"question_id":70216176,"body_markdown":"I was facing same issue. \r\nDowngrading version of Elasticsearch-Rest-High-Level-Client to 7.10.2 worked for me.","title":"elasticsearch.ElasticsearchException: Invalid or missing tagline (OpenSearch)","body":"<p>I was facing same issue.\nDowngrading version of Elasticsearch-Rest-High-Level-Client to 7.10.2 worked for me.</p>\n"}],"owner":{"account_id":13121556,"reputation":747,"user_id":9478795,"display_name":"Nexonus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2209,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70216177,"answer_count":2,"score":4,"last_activity_date":1694520923,"creation_date":1638542976,"question_id":70216176,"body_markdown":"After migrating to AWS OpenSearch from Elasticsearch we get the following error when calling OpenSearch via the `Elasticsearch-Rest-High-Level-Client`:\r\n\r\n```\r\nelasticsearch.ElasticsearchException: Invalid or missing tagline [The OpenSearch Project: https://opensearch.org/]\r\n```","title":"elasticsearch.ElasticsearchException: Invalid or missing tagline (OpenSearch)","body":"<p>After migrating to AWS OpenSearch from Elasticsearch we get the following error when calling OpenSearch via the <code>Elasticsearch-Rest-High-Level-Client</code>:</p>\n<pre><code>elasticsearch.ElasticsearchException: Invalid or missing tagline [The OpenSearch Project: https://opensearch.org/]\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":91374,"reputation":1806,"user_id":250917,"accept_rate":82,"display_name":"slugmandrew"},"score":1,"creation_date":1395140303,"post_id":22477273,"comment_id":34191562,"body_markdown":"You have written both with underscores. And you need to provide more information if you want help. Is this in s JSP?","body":"You have written both with underscores. And you need to provide more information if you want help. Is this in s JSP?"},{"owner":{"account_id":91374,"reputation":1806,"user_id":250917,"accept_rate":82,"display_name":"slugmandrew"},"score":0,"creation_date":1395140397,"post_id":22477273,"comment_id":34191619,"body_markdown":"You seem to be appending `.pdf` to the filename when it isn&#39;t needed.","body":"You seem to be appending <code>.pdf</code> to the filename when it isn&#39;t needed."},{"owner":{"account_id":3905065,"reputation":171,"user_id":3231973,"accept_rate":83,"display_name":"AKST"},"score":0,"creation_date":1395141785,"post_id":22477273,"comment_id":34192450,"body_markdown":"I agree but why is it getting appended by underscore (_) in Firefox and chrome. whereas in IE, its working fine with the name downloadPdfFrominvDmsViewLibraryLink.pdf","body":"I agree but why is it getting appended by underscore (_) in Firefox and chrome. whereas in IE, its working fine with the name downloadPdfFrominvDmsViewLibraryLink.pdf"},{"owner":{"account_id":91374,"reputation":1806,"user_id":250917,"accept_rate":82,"display_name":"slugmandrew"},"score":0,"creation_date":1395143857,"post_id":22477273,"comment_id":34193874,"body_markdown":"Are the backslashes escaping the double quotes that follow them? Try: `&quot;inline;filename=&quot; + fileName;` maybe?","body":"Are the backslashes escaping the double quotes that follow them? Try: <code>&quot;inline;filename=&quot; + fileName;</code> maybe?"},{"owner":{"account_id":3905065,"reputation":171,"user_id":3231973,"accept_rate":83,"display_name":"AKST"},"score":0,"creation_date":1395148262,"post_id":22477273,"comment_id":34196832,"body_markdown":"response.setContentType(&quot;application/pdf&quot;);\n\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=\\\\&quot; + fileName + &quot;.pdf\\\\&quot;);           i have added the above code still facing the same issue. Kindly reply.","body":"response.setContentType(&quot;application/pdf&quot;); \tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=\\\\&quot; + fileName + &quot;.pdf\\\\&quot;);           i have added the above code still facing the same issue. Kindly reply."},{"owner":{"account_id":2390577,"reputation":738,"user_id":2090496,"accept_rate":0,"display_name":"Hriju"},"score":0,"creation_date":1563106455,"post_id":22477273,"comment_id":100583854,"body_markdown":"Check if there is space at the beginning of the filename. I think this is because of the space at the beginning of the filename. If there is a space at the beginning then browser tries to append an underscore with the filename. I faced similar kind of issue while exporting to pdf from data table.","body":"Check if there is space at the beginning of the filename. I think this is because of the space at the beginning of the filename. If there is a space at the beginning then browser tries to append an underscore with the filename. I faced similar kind of issue while exporting to pdf from data table."}],"answers":[{"tags":[],"owner":{"account_id":328112,"reputation":2274,"user_id":650881,"accept_rate":100,"display_name":"user650881"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1518602633,"creation_date":1518602633,"answer_id":48784365,"question_id":22477273,"body_markdown":"I resolved a similar issue by removing the quotes from the filename value (which in my case were not required).\r\n\r\nI note that [rfc6266](https://www.rfc-editor.org/rfc/rfc6266) says a quoted-string for the filename value should be acceptable.  At this point I have not investigated further.","title":"Firefox and Chrome appending underscore before and after file name while Internet Explorer is working fine","body":"<p>I resolved a similar issue by removing the quotes from the filename value (which in my case were not required).</p>\n<p>I note that <a href=\"https://www.rfc-editor.org/rfc/rfc6266\" rel=\"noreferrer\">rfc6266</a> says a quoted-string for the filename value should be acceptable.  At this point I have not investigated further.</p>\n"},{"tags":[],"owner":{"account_id":4522672,"reputation":195,"user_id":3675376,"display_name":"Isidro.rn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1526296755,"creation_date":1526296755,"answer_id":50329022,"question_id":22477273,"body_markdown":"I&#39;ve just faced the same problem and solved it thanks to user650881&#39;s reply.\r\n\r\nThe problem was I had this: \r\n\r\n    response.addHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=&quot; + filename + &quot;\\&quot;&quot;);\r\n\r\nAnd worked when I changed it to this: \r\n\r\n    response.addHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + filename + &quot;\\&quot;&quot;);\r\n\r\nNote the \\&quot;&quot; after filename=\r\n\r\nHope it helps ","title":"Firefox and Chrome appending underscore before and after file name while Internet Explorer is working fine","body":"<p>I've just faced the same problem and solved it thanks to user650881's reply.</p>\n\n<p>The problem was I had this: </p>\n\n<pre><code>response.addHeader(\"Content-Disposition\",\"attachment; filename=\" + filename + \"\\\"\");\n</code></pre>\n\n<p>And worked when I changed it to this: </p>\n\n<pre><code>response.addHeader(\"Content-Disposition\",\"attachment; filename=\\\"\" + filename + \"\\\"\");\n</code></pre>\n\n<p>Note the \\\"\" after filename=</p>\n\n<p>Hope it helps </p>\n"},{"tags":[],"owner":{"account_id":7625569,"reputation":555,"user_id":5782155,"accept_rate":75,"display_name":"trajekolus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643111487,"creation_date":1643111487,"answer_id":70848169,"question_id":22477273,"body_markdown":"This happens when there are characters that are invalid for a file name.   \r\nC#&#39;s [Path.GetInvalidFileNameChars method][1] lists most.\r\n\r\nRound, curly and square brackets may be legal in a file name (it is on Windows), but files with them will also get the underscores added by browsers.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.io.path.getinvalidfilenamechars?view=net-6.0","title":"Firefox and Chrome appending underscore before and after file name while Internet Explorer is working fine","body":"<p>This happens when there are characters that are invalid for a file name.<br />\nC#'s <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.io.path.getinvalidfilenamechars?view=net-6.0\" rel=\"nofollow noreferrer\">Path.GetInvalidFileNameChars method</a> lists most.</p>\n<p>Round, curly and square brackets may be legal in a file name (it is on Windows), but files with them will also get the underscores added by browsers.</p>\n"},{"tags":[],"owner":{"account_id":5087185,"reputation":1521,"user_id":4081368,"accept_rate":71,"display_name":"Axel Stone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674570927,"creation_date":1674570927,"answer_id":75223017,"question_id":22477273,"body_markdown":"I&#39;ve got the same issue and I thought that **user650881**&#39;s answer is the solution, but in my case problem was I was parsing the file name from `Content-Disposition` wrongly, that is I kept the last quote `&quot;` char from `attachment; filename=&quot;filename.ext&quot;` string in the filename (`filename.ext&quot;`) which was automatically transformed to `_` when downloading the file like this:\r\n\r\n      const link = document.createElement(&#39;a&#39;);\r\n\r\n      link.href = window.URL.createObjectURL(blob);\r\n      // Contains &#39;filename.ext&quot;&#39; string which is replaced by &#39;filename.ext_`\r\n      link.download = fileName; \r\n      document.body.appendChild(link);\r\n      link.click();\r\n\r\n ","title":"Firefox and Chrome appending underscore before and after file name while Internet Explorer is working fine","body":"<p>I've got the same issue and I thought that <strong>user650881</strong>'s answer is the solution, but in my case problem was I was parsing the file name from <code>Content-Disposition</code> wrongly, that is I kept the last quote <code>&quot;</code> char from <code>attachment; filename=&quot;filename.ext&quot;</code> string in the filename (<code>filename.ext&quot;</code>) which was automatically transformed to <code>_</code> when downloading the file like this:</p>\n<pre><code>  const link = document.createElement('a');\n\n  link.href = window.URL.createObjectURL(blob);\n  // Contains 'filename.ext&quot;' string which is replaced by 'filename.ext_`\n  link.download = fileName; \n  document.body.appendChild(link);\n  link.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1543050,"reputation":695,"user_id":1437236,"display_name":"Pramod Lawate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694520790,"creation_date":1694520790,"answer_id":77089001,"question_id":22477273,"body_markdown":"Try this one\r\n\r\n\r\n    context.Response.AddHeader(&quot;content-disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + request.Filename + &quot;\\&quot;;&quot;);","title":"Firefox and Chrome appending underscore before and after file name while Internet Explorer is working fine","body":"<p>Try this one</p>\n<pre><code>context.Response.AddHeader(&quot;content-disposition&quot;, &quot;attachment;filename=\\&quot;&quot; + request.Filename + &quot;\\&quot;;&quot;);\n</code></pre>\n"}],"owner":{"account_id":3905065,"reputation":171,"user_id":3231973,"accept_rate":83,"display_name":"AKST"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7991,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1694520790,"creation_date":1395140206,"question_id":22477273,"body_markdown":"Firefox and Chrome are appending underscores before and after the file name while Internet Explorer is working fine.\r\n\r\nFirefox and Chrome give: `_Warrant_Amendment_5485_14_March_2014.pdf.pdf_`\r\n\r\nIE gives: `Warrant_Amendment_5485_14_March_2014.pdf.pdf`\r\n\r\nBelow is the code\r\n\r\n```\r\nresponse.setContentType(&quot;application/pdf&quot;);\r\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=\\&quot; + fileName + &quot;.pdf\\&quot;);\r\n```","title":"Firefox and Chrome appending underscore before and after file name while Internet Explorer is working fine","body":"<p>Firefox and Chrome are appending underscores before and after the file name while Internet Explorer is working fine.</p>\n<p>Firefox and Chrome give: <code>_Warrant_Amendment_5485_14_March_2014.pdf.pdf_</code></p>\n<p>IE gives: <code>Warrant_Amendment_5485_14_March_2014.pdf.pdf</code></p>\n<p>Below is the code</p>\n<pre><code>response.setContentType(&quot;application/pdf&quot;);\nresponse.setHeader(&quot;Content-Disposition&quot;, &quot;inline;filename=\\&quot; + fileName + &quot;.pdf\\&quot;);\n</code></pre>\n"},{"tags":["java","spring","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":24823918,"reputation":36,"user_id":18703950,"display_name":"Kyrillos Ntronov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652861765,"creation_date":1652861765,"answer_id":72285494,"question_id":72284869,"body_markdown":"I think you should inject the Repository into the Bot.class via the constructor.\r\n\r\nIn order to do that you could retrieve a bean from SpringContext in your main:\r\n\r\n    ...\r\n    ConfigurableApplicationContext appContext = SpringApplication.run(Application.class, args);\r\n    BondsRepo repo = appContext.getBean(BondsRepo.class);\r\n    Bot bot = new Bot(repo);\r\n    ...\r\n    telegramBotsApi.registerBot(bot);\r\n    ...\r\n\r\n   ","title":"How to wire Spring Bean and Telegram Bot common java class?","body":"<p>I think you should inject the Repository into the Bot.class via the constructor.</p>\n<p>In order to do that you could retrieve a bean from SpringContext in your main:</p>\n<pre><code>...\nConfigurableApplicationContext appContext = SpringApplication.run(Application.class, args);\nBondsRepo repo = appContext.getBean(BondsRepo.class);\nBot bot = new Bot(repo);\n...\ntelegramBotsApi.registerBot(bot);\n...\n</code></pre>\n"}],"owner":{"account_id":8188385,"reputation":345,"user_id":6163475,"accept_rate":0,"display_name":"Anton Romanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72285494,"answer_count":1,"score":0,"last_activity_date":1694520466,"creation_date":1652859025,"question_id":72284869,"body_markdown":"I have a standard TelegramBot realization like:\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n         ...\r\n         TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\r\n         telegramBotsApi.registerBot(new Bot());\r\n         ...\r\n\r\nAnd Bot class:\r\n\r\n    public class Bot extends TelegramLongPollingBot {\r\n    \r\n        @Override\r\n        public void onUpdateReceived(Update update) {\r\n            Message inMessage = getMessage(update);\r\n            fireMessage(inMessage.getChatId(), &quot;TEST&quot;);\r\n        }\r\n     ....\r\n\r\nAnd I have JPA Repository like \r\n\r\n    @Repository\r\n    public interface BondsRepo extends JpaRepository&lt;Bond, Long&gt;{\r\n    \tList&lt;Bond&gt; findAllByUser(ArNoteUser user);\r\n    }\r\n\r\nthat I use in my controller without any problem:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/investing&quot;)\r\n    public class InvestController {\r\n        private final BondsRepo bondsRepo;  \r\n        public InvestController(BondsRepo bondsRepo) {\r\n            this.bondsRepo = bondsRepo;\r\n        }\r\n    ...\r\n\r\nBut when I use that repo in Bot class I naturally get NPE, because Bot.class is a common Java class, but BondsRepo is Spring Bean and it does not accessible outside Spring Context.\r\n\r\nWhat is right way to access data by using JPA Repo in my Bot class? ","title":"How to wire Spring Bean and Telegram Bot common java class?","body":"<p>I have a standard TelegramBot realization like:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n     ...\n     TelegramBotsApi telegramBotsApi = new TelegramBotsApi(DefaultBotSession.class);\n     telegramBotsApi.registerBot(new Bot());\n     ...\n</code></pre>\n<p>And Bot class:</p>\n<pre><code>public class Bot extends TelegramLongPollingBot {\n\n    @Override\n    public void onUpdateReceived(Update update) {\n        Message inMessage = getMessage(update);\n        fireMessage(inMessage.getChatId(), &quot;TEST&quot;);\n    }\n ....\n</code></pre>\n<p>And I have JPA Repository like</p>\n<pre><code>@Repository\npublic interface BondsRepo extends JpaRepository&lt;Bond, Long&gt;{\n    List&lt;Bond&gt; findAllByUser(ArNoteUser user);\n}\n</code></pre>\n<p>that I use in my controller without any problem:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/investing&quot;)\npublic class InvestController {\n    private final BondsRepo bondsRepo;  \n    public InvestController(BondsRepo bondsRepo) {\n        this.bondsRepo = bondsRepo;\n    }\n...\n</code></pre>\n<p>But when I use that repo in Bot class I naturally get NPE, because Bot.class is a common Java class, but BondsRepo is Spring Bean and it does not accessible outside Spring Context.</p>\n<p>What is right way to access data by using JPA Repo in my Bot class?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685690800,"creation_date":1685688125,"answer_id":76387723,"question_id":76387505,"body_markdown":"**EDIT: this code uses the deprecated API for Elastic 7.x**\r\n\r\nYou can try to use the `SearchRequest` class:\r\n\r\n```java\r\n    var searchRequest = new SearchRequest(&quot;addressbook&quot;);\r\n    searchRequest.scroll(TimeValue.timeValueMinutes(1L));\r\n    searchRequest.source(new SearchSourceBuilder().size(100)); // Adjust the size according to your requirements\r\n    \r\n    SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n    String scrollId = searchResponse.getScrollId();\r\n    \r\n    while (true) {\r\n        SearchScrollRequest scrollRequest = new SearchScrollRequest(scrollId);\r\n        scrollRequest.scroll(TimeValue.timeValueMinutes(1L));\r\n    \r\n        SearchResponse scrollResponse = client.scroll(scrollRequest, RequestOptions.DEFAULT);\r\n        SearchHits hits = scrollResponse.getHits();\r\n    \r\n        // Process the documents in the hits\r\n        for (SearchHit hit : hits) {\r\n            // Process the individual document\r\n            String sourceAsString = hit.getSourceAsString();\r\n            // Perform your action here\r\n        }\r\n    \r\n        // Clear the scroll if no more hits are returned\r\n        if (hits.getHits().length == 0) {\r\n            ClearScrollRequest clearScrollRequest = new ClearScrollRequest();\r\n            clearScrollRequest.addScrollId(scrollId);\r\n            client.clearScroll(clearScrollRequest, RequestOptions.DEFAULT);\r\n            break;\r\n        }\r\n    \r\n        // Update the scrollId for the next iteration\r\n        scrollId = scrollResponse.getScrollId();\r\n    }\r\n```\r\n","title":"How to use scrolling in ElasticSearch with Java API Client (Elastic 8.x)","body":"<p><strong>EDIT: this code uses the deprecated API for Elastic 7.x</strong></p>\n<p>You can try to use the <code>SearchRequest</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var searchRequest = new SearchRequest(&quot;addressbook&quot;);\n    searchRequest.scroll(TimeValue.timeValueMinutes(1L));\n    searchRequest.source(new SearchSourceBuilder().size(100)); // Adjust the size according to your requirements\n    \n    SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n    String scrollId = searchResponse.getScrollId();\n    \n    while (true) {\n        SearchScrollRequest scrollRequest = new SearchScrollRequest(scrollId);\n        scrollRequest.scroll(TimeValue.timeValueMinutes(1L));\n    \n        SearchResponse scrollResponse = client.scroll(scrollRequest, RequestOptions.DEFAULT);\n        SearchHits hits = scrollResponse.getHits();\n    \n        // Process the documents in the hits\n        for (SearchHit hit : hits) {\n            // Process the individual document\n            String sourceAsString = hit.getSourceAsString();\n            // Perform your action here\n        }\n    \n        // Clear the scroll if no more hits are returned\n        if (hits.getHits().length == 0) {\n            ClearScrollRequest clearScrollRequest = new ClearScrollRequest();\n            clearScrollRequest.addScrollId(scrollId);\n            client.clearScroll(clearScrollRequest, RequestOptions.DEFAULT);\n            break;\n        }\n    \n        // Update the scrollId for the next iteration\n        scrollId = scrollResponse.getScrollId();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686151021,"creation_date":1686151021,"answer_id":76424790,"question_id":76387505,"body_markdown":"Whether you like it or not, but scrolling over large result sets is [not recommended in Elastic 8][1], so [search-after together with point-in-time][2] is the way to go: \r\n\r\n```java\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport co.elastic.clients.elasticsearch.ElasticsearchClient;\r\nimport co.elastic.clients.elasticsearch._types.FieldValue;\r\nimport co.elastic.clients.elasticsearch._types.Time;\r\nimport co.elastic.clients.elasticsearch._types.query_dsl.Query;\r\nimport co.elastic.clients.elasticsearch._types.query_dsl.QueryBuilders;\r\nimport co.elastic.clients.elasticsearch.core.ClosePointInTimeResponse;\r\nimport co.elastic.clients.elasticsearch.core.OpenPointInTimeResponse;\r\nimport co.elastic.clients.elasticsearch.core.SearchRequest;\r\nimport co.elastic.clients.elasticsearch.core.SearchResponse;\r\nimport co.elastic.clients.elasticsearch.core.search.Hit;\r\nimport co.elastic.clients.elasticsearch.core.search.HitsMetadata;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@SpringBootTest\r\npublic class PagingTest {\r\n\r\n\t@Autowired\r\n\tprivate ElasticsearchClient elasticsearchClient;\r\n\r\n\t@Test\r\n\tpublic void testPointInTime() throws IOException {\r\n\r\n\t\t// Open a point-in-time\r\n\t\tfinal Time keepAlive = new Time.Builder().time(&quot;1m&quot;).build();\r\n\t\tfinal OpenPointInTimeResponse pitResp = elasticsearchClient.openPointInTime(req -&gt; req.index(&quot;books&quot;).keepAlive(keepAlive));\r\n\t\tfinal String pitId = pitResp.id();\r\n\r\n\t\tfinal Query query = QueryBuilders.match().field(&quot;author&quot;).query(&quot;Shakespeare&quot;).build()._toQuery();\r\n\r\n\t\t// Run your paginated queries\r\n\t\tString lastId = null;\r\n\t\tfor (int i = 0; i &lt; 3; i++) {\r\n\t\t\tSearchRequest.Builder searchRequest = new SearchRequest.Builder()\r\n\t\t\t\t\t.pit(pit -&gt; pit.id(pitId).keepAlive(keepAlive)) // It would be better to use the pit from the last result\r\n\t\t\t\t\t.size(100)\r\n\t\t\t\t\t.query(query)\r\n\t\t\t\t\t.source(source -&gt; source.filter(filter -&gt; filter.includes(&quot;id&quot;, &quot;title&quot;)))\r\n\t\t\t\t\t.sort(sort -&gt; sort.field(field -&gt; field.field(&quot;id&quot;))).timeout(&quot;10s&quot;);\r\n\r\n\t\t\t// Continue after last id\t\t\r\n\t\t\tif (lastId != null) {\r\n\t\t\t\tsearchRequest = searchRequest.searchAfter(FieldValue.of(lastId));\r\n\t\t\t}\r\n\r\n\t\t\tfinal SearchResponse&lt;Book&gt; searchResponse = elasticsearchClient.search(searchRequest.build(), Book.class);\r\n\t\t\tfinal HitsMetadata&lt;Book&gt; hitsMetadata = searchResponse.hits();\r\n\t\t\tassertThat(hitsMetadata.hits()).isNotEmpty();\r\n\r\n\t\t\tfor (Hit&lt;Book&gt; hit : hitsMetadata.hits()) {\r\n\t\t\t\tfinal Book book = hit.source();\r\n\t\t\t\tlog.info(&quot;{} | {} &quot;, i, book);\r\n\r\n\t\t\t\tlastId = book.getId(); // remember the last retrieved id\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Close your point-in-time to save resources\r\n\t\tfinal ClosePointInTimeResponse pitCloseResp = elasticsearchClient.closePointInTime(req -&gt; req.id(pitId));\r\n\t\tassertThat(pitCloseResp.succeeded()).isTrue();\r\n\t}\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@AllArgsConstructor\r\n\t@NoArgsConstructor\r\n\t@ToString\r\n\tprivate static class Book {\r\n\r\n\t\tprivate String id;\r\n\t\tprivate String title;\r\n\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/scroll-api.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/paginate-search-results.html#search-after","title":"How to use scrolling in ElasticSearch with Java API Client (Elastic 8.x)","body":"<p>Whether you like it or not, but scrolling over large result sets is <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/scroll-api.html\" rel=\"nofollow noreferrer\">not recommended in Elastic 8</a>, so <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/paginate-search-results.html#search-after\" rel=\"nofollow noreferrer\">search-after together with point-in-time</a> is the way to go:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.assertj.core.api.Assertions.assertThat;\n\nimport java.io.IOException;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport co.elastic.clients.elasticsearch.ElasticsearchClient;\nimport co.elastic.clients.elasticsearch._types.FieldValue;\nimport co.elastic.clients.elasticsearch._types.Time;\nimport co.elastic.clients.elasticsearch._types.query_dsl.Query;\nimport co.elastic.clients.elasticsearch._types.query_dsl.QueryBuilders;\nimport co.elastic.clients.elasticsearch.core.ClosePointInTimeResponse;\nimport co.elastic.clients.elasticsearch.core.OpenPointInTimeResponse;\nimport co.elastic.clients.elasticsearch.core.SearchRequest;\nimport co.elastic.clients.elasticsearch.core.SearchResponse;\nimport co.elastic.clients.elasticsearch.core.search.Hit;\nimport co.elastic.clients.elasticsearch.core.search.HitsMetadata;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\n@SpringBootTest\npublic class PagingTest {\n\n    @Autowired\n    private ElasticsearchClient elasticsearchClient;\n\n    @Test\n    public void testPointInTime() throws IOException {\n\n        // Open a point-in-time\n        final Time keepAlive = new Time.Builder().time(&quot;1m&quot;).build();\n        final OpenPointInTimeResponse pitResp = elasticsearchClient.openPointInTime(req -&gt; req.index(&quot;books&quot;).keepAlive(keepAlive));\n        final String pitId = pitResp.id();\n\n        final Query query = QueryBuilders.match().field(&quot;author&quot;).query(&quot;Shakespeare&quot;).build()._toQuery();\n\n        // Run your paginated queries\n        String lastId = null;\n        for (int i = 0; i &lt; 3; i++) {\n            SearchRequest.Builder searchRequest = new SearchRequest.Builder()\n                    .pit(pit -&gt; pit.id(pitId).keepAlive(keepAlive)) // It would be better to use the pit from the last result\n                    .size(100)\n                    .query(query)\n                    .source(source -&gt; source.filter(filter -&gt; filter.includes(&quot;id&quot;, &quot;title&quot;)))\n                    .sort(sort -&gt; sort.field(field -&gt; field.field(&quot;id&quot;))).timeout(&quot;10s&quot;);\n\n            // Continue after last id       \n            if (lastId != null) {\n                searchRequest = searchRequest.searchAfter(FieldValue.of(lastId));\n            }\n\n            final SearchResponse&lt;Book&gt; searchResponse = elasticsearchClient.search(searchRequest.build(), Book.class);\n            final HitsMetadata&lt;Book&gt; hitsMetadata = searchResponse.hits();\n            assertThat(hitsMetadata.hits()).isNotEmpty();\n\n            for (Hit&lt;Book&gt; hit : hitsMetadata.hits()) {\n                final Book book = hit.source();\n                log.info(&quot;{} | {} &quot;, i, book);\n\n                lastId = book.getId(); // remember the last retrieved id\n            }\n        }\n\n        // Close your point-in-time to save resources\n        final ClosePointInTimeResponse pitCloseResp = elasticsearchClient.closePointInTime(req -&gt; req.id(pitId));\n        assertThat(pitCloseResp.succeeded()).isTrue();\n    }\n\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString\n    private static class Book {\n\n        private String id;\n        private String title;\n\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25039438,"reputation":1,"user_id":18896474,"display_name":"Revant Soddi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686570377,"creation_date":1686460071,"answer_id":76449083,"question_id":76387505,"body_markdown":"    var searchRequest = new SearchRequest(&quot;addressbook&quot;);\r\n    searchRequest.scroll(TimeValue.timeValueMinutes(1L));\r\n    searchRequest.source(new SearchSourceBuilder().size(100)); // Adjust the size according to your requirements\r\n    \r\n    SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n    String scrollId = searchResponse.getScrollId();\r\n    \r\n    while (true) {\r\n        SearchScrollRequest scrollRequest = new SearchScrollRequest(scrollId);\r\n        scrollRequest.scroll(TimeValue.timeValueMinutes(1L));\r\n    \r\n        SearchResponse scrollResponse = client.scroll(scrollRequest, RequestOptions.DEFAULT);\r\n        SearchHits hits = scrollResponse.getHits();\r\n    \r\n        // Process the documents in the hits\r\n        for (SearchHit hit : hits) {\r\n            // Process the individual document\r\n            String sourceAsString = hit.getSourceAsString();\r\n            // Perform your action here\r\n        }\r\n    \r\n        // Clear the scroll if no more hits are returned\r\n        if (hits.getHits().length == 0) {\r\n            ClearScrollRequest clearScrollRequest = new ClearScrollRequest();\r\n            clearScrollRequest.addScrollId(scrollId);\r\n            client.clearScroll(clearScrollRequest, RequestOptions.DEFAULT);\r\n            break;\r\n        }\r\n    \r\n        // Update the scrollId for the next iteration\r\n        scrollId = scrollResponse.getScrollId();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\ntry to use `SearchRequest` class","title":"How to use scrolling in ElasticSearch with Java API Client (Elastic 8.x)","body":"<pre><code>var searchRequest = new SearchRequest(&quot;addressbook&quot;);\nsearchRequest.scroll(TimeValue.timeValueMinutes(1L));\nsearchRequest.source(new SearchSourceBuilder().size(100)); // Adjust the size according to your requirements\n\nSearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\nString scrollId = searchResponse.getScrollId();\n\nwhile (true) {\n    SearchScrollRequest scrollRequest = new SearchScrollRequest(scrollId);\n    scrollRequest.scroll(TimeValue.timeValueMinutes(1L));\n\n    SearchResponse scrollResponse = client.scroll(scrollRequest, RequestOptions.DEFAULT);\n    SearchHits hits = scrollResponse.getHits();\n\n    // Process the documents in the hits\n    for (SearchHit hit : hits) {\n        // Process the individual document\n        String sourceAsString = hit.getSourceAsString();\n        // Perform your action here\n    }\n\n    // Clear the scroll if no more hits are returned\n    if (hits.getHits().length == 0) {\n        ClearScrollRequest clearScrollRequest = new ClearScrollRequest();\n        clearScrollRequest.addScrollId(scrollId);\n        client.clearScroll(clearScrollRequest, RequestOptions.DEFAULT);\n        break;\n    }\n\n    // Update the scrollId for the next iteration\n    scrollId = scrollResponse.getScrollId();\n}\n</code></pre>\n<p>try to use <code>SearchRequest</code> class</p>\n"}],"owner":{"account_id":6929813,"reputation":560,"user_id":5319625,"accept_rate":69,"display_name":"Oleg Gritsak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694520363,"creation_date":1685685781,"question_id":76387505,"body_markdown":"I need to process whole collection in Elasticsearch 8, atomicity is not required, so, please do not suggest &quot;search after&quot;.\r\n\r\nI used scrolls before, but struggle to properly construct code for latest Java client.\r\n\r\n\r\n            var search = client.search(q -&gt; q.index(&quot;addressbook&quot;)\r\n                    .scroll(Time.of(t -&gt; t.time(&quot;1m&quot;))), AddressBookRecord.class);\r\n            String scrollId = search.scrollId();\r\n\r\n            ScrollResponse scroll = null;\r\n\r\n            do {\r\n\r\n                scroll = client.scroll(q -&gt; q.scrollId(scrollId), AddressBookRecord.class);\r\n\r\n                System.out.println(scroll.hits().total().value());\r\n                System.out.println(scroll.hits().hits().size());\r\n\r\n            } while (scroll.hits().total().value() &gt; 0L);\r\n\r\n`scroll.hits().hits()` is always empty, even on first call.\r\n\r\nAt the same time `scroll.hits().hits().size()` contains right number of documents.\r\n\r\nAlso, I cannot process documents, because `.hits()` is empty.\r\n","title":"How to use scrolling in ElasticSearch with Java API Client (Elastic 8.x)","body":"<p>I need to process whole collection in Elasticsearch 8, atomicity is not required, so, please do not suggest &quot;search after&quot;.</p>\n<p>I used scrolls before, but struggle to properly construct code for latest Java client.</p>\n<pre><code>        var search = client.search(q -&gt; q.index(&quot;addressbook&quot;)\n                .scroll(Time.of(t -&gt; t.time(&quot;1m&quot;))), AddressBookRecord.class);\n        String scrollId = search.scrollId();\n\n        ScrollResponse scroll = null;\n\n        do {\n\n            scroll = client.scroll(q -&gt; q.scrollId(scrollId), AddressBookRecord.class);\n\n            System.out.println(scroll.hits().total().value());\n            System.out.println(scroll.hits().hits().size());\n\n        } while (scroll.hits().total().value() &gt; 0L);\n</code></pre>\n<p><code>scroll.hits().hits()</code> is always empty, even on first call.</p>\n<p>At the same time <code>scroll.hits().hits().size()</code> contains right number of documents.</p>\n<p>Also, I cannot process documents, because <code>.hits()</code> is empty.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":419218,"reputation":2784,"user_id":796259,"display_name":"Friedrich"},"score":0,"creation_date":1694520259,"post_id":77087343,"comment_id":135898940,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29040199,"reputation":3,"user_id":22245209,"display_name":"IS THIS TWITTER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694520228,"creation_date":1694507647,"question_id":77087343,"body_markdown":"Hi guys i&#39;m trying to learn how OOP works and i just get a bit confused how my program&#39;s working \r\n\r\nso my program is asking to input attributes like *price* and *material* to a &quot;part&quot; class then storing them in an array called &quot;Part_Array&quot; then i tried playing with inheritance and inherited a &quot;SRC&quot; class from the &quot;part&quot; class. \r\n\r\nthen what i plan to do is in another class called &quot; SortedArray&quot; i&#39;m going to loop through the elements of the &quot;partArray&quot; class and determine if the &quot;SRC&quot; is compatible with a certain element of the &quot;part_Array&quot; class. \r\n\r\nand if the element is compatible it&#39;s going to store the &quot;compatible&quot; parts onto a different array in a different class \r\n\r\ni tried doing a SortedArray Class but the logic is just messing me up. \r\n\r\ni&#39;m going to add a lot more conditions to it i&#39;m just building like the basic outline of the process. \r\n\r\n\r\n```\r\nimport java.text.DecimalFormat;\r\n\r\npublic class part {\r\n\r\n\tprivate String name; // a private string attribute of the name of the class\r\n\tprivate int price; //  a private integer attribute of the price of the part class\r\n\tprivate String make; // a private attribute of the material of the class\r\n\tprivate boolean recommended=false; // a private boolean attribute that makes the part class either recommended true or false \r\n\t\r\n\t\r\n\tpublic part(String name, int price , String material){ // satisfying the CONSTRUCTOR method requirement\r\n\t\t\r\n\t\tthis.name=name;\r\n\t\tthis.make=material;\r\n\t\tthis.price=price; \r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void recommended() {\r\n\t\t\r\n\t\t setRecommended(true);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic String getMaterial() { // method 2 gets the material of the part class\r\n\t\t\r\n\t\treturn make; \r\n\t}\r\n\t    \r\n    public int getPrice() {// method 3 gets the price of the part class\r\n    \t\r\n    \treturn price;\r\n    }\r\n\t\t\t\t\r\n\tpublic String toString() {\r\n\t\tDecimalFormat decimalFormat = new DecimalFormat(&quot;#,###.00&quot;);\r\n        String FormattedPrice = decimalFormat.format(price);\r\n\t\treturn  &quot;Part Name: &quot; + name +&quot;\\n&quot;+ &quot;Price: &quot; + FormattedPrice +&quot;\\n&quot;+ &quot;Part is made of: &quot; + make+ &quot;\\n&quot;; \r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tpublic boolean isRecommended() {\r\n\t\treturn recommended;\r\n\t}\r\n\r\n\tpublic boolean setRecommended(boolean recommended) {\r\n\t\tthis.recommended = recommended;\r\n\t\treturn recommended;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class Part_Array {\r\n\t  private part[] parts; // Array to store part objects\r\n\t    private int numberOfParts;// Counter to keep track of the number of parts\r\n\t    \t  \t\r\n\t    public Part_Array() {\r\n\t        parts = new part[100]; // Initialize the array with a size of 100\r\n\t        numberOfParts = 0;// Initialize the counter to 0   \r\n\t        \r\n\t    }\t    \r\n\t    // Method to add a new part to the array\r\n\t    public void addPart(part newPart) {\r\n\t        if (numberOfParts &lt; 100) {\r\n\t            parts[numberOfParts] = newPart;\r\n\t            numberOfParts++;\r\n\t        } else {\r\n\t            System.out.println(&quot;Cannot add more parts. The array is full.&quot;);\r\n\t        }\r\n\t    }\r\n\r\n\t    // Method to retrieve a part by its index in the array\r\n\t    public part getPart(int index) {\r\n\t        if (index &gt;= 0 &amp;&amp; index &lt; numberOfParts) {\r\n\t            return parts[index];\r\n\t        } else {\r\n\t            System.out.println(&quot;Invalid index.&quot;);\r\n\t            return null;\r\n\t        }\r\n\t    }\r\n\r\n\t    // Method to get the total number of parts in the array\r\n\t    public int getAllParts() {\r\n\t        return numberOfParts;\r\n\t    }\r\n\t    public void PrintList() {\r\n\t    \tfor (int i = 0; i &lt; getAllParts(); i++) {\r\n\t    \t\tSystem.out.println(parts[i].toString());\r\n\t    \t\t\r\n\t    \t}\r\n\t    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.List;\r\n\r\npublic class SortedArray {\r\n    public void sort(){\r\n        Part_Array rcmd = new Part_Array();\r\n        Part_Array other = new Part_Array();\r\n\r\n        for (int i = 0; i &lt; manager.getAllParts(); i++) {\r\n            part retrievedPart = manager.getPart(i);\r\n            if (retrievedPart != null) {\r\n                if (retrievedPart.getPrice() &lt; srcInstance.getPrice()) {\r\n                    retrievedPart.recommended();\r\n                    rcmd.addPart(retrievedPart);\r\n                } else {\r\n                    other.addPart(retrievedPart);\r\n                }\r\n            }\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    public void printRecommendedParts(List&lt;part&gt; rcmdList) {\r\n        System.out.println(&quot;Recommended Parts:&quot;);\r\n        for (part p : rcmdList) {\r\n            if (p.isRecommended()) {\r\n                System.out.println(p.toString());\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThis is the SRC class that i intend to build an object from to serve as the basis of comparison for the elements inside the &quot;part_Array&quot; Class\r\n\r\n\r\n```\r\npublic class SRC extends part {\r\n\r\n\tpublic SRC(String name, int price, String material) {\r\n\t\tsuper(name, price, material);\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to compare the elements inside of the array, which is an instance of a class then storing them in another array in another class","body":"<p>Hi guys i'm trying to learn how OOP works and i just get a bit confused how my program's working</p>\n<p>so my program is asking to input attributes like <em>price</em> and <em>material</em> to a &quot;part&quot; class then storing them in an array called &quot;Part_Array&quot; then i tried playing with inheritance and inherited a &quot;SRC&quot; class from the &quot;part&quot; class.</p>\n<p>then what i plan to do is in another class called &quot; SortedArray&quot; i'm going to loop through the elements of the &quot;partArray&quot; class and determine if the &quot;SRC&quot; is compatible with a certain element of the &quot;part_Array&quot; class.</p>\n<p>and if the element is compatible it's going to store the &quot;compatible&quot; parts onto a different array in a different class</p>\n<p>i tried doing a SortedArray Class but the logic is just messing me up.</p>\n<p>i'm going to add a lot more conditions to it i'm just building like the basic outline of the process.</p>\n<pre><code>import java.text.DecimalFormat;\n\npublic class part {\n\n    private String name; // a private string attribute of the name of the class\n    private int price; //  a private integer attribute of the price of the part class\n    private String make; // a private attribute of the material of the class\n    private boolean recommended=false; // a private boolean attribute that makes the part class either recommended true or false \n    \n    \n    public part(String name, int price , String material){ // satisfying the CONSTRUCTOR method requirement\n        \n        this.name=name;\n        this.make=material;\n        this.price=price; \n        \n    }\n    \n    public void recommended() {\n        \n         setRecommended(true);\n        \n    }\n    \n    \n    public String getMaterial() { // method 2 gets the material of the part class\n        \n        return make; \n    }\n        \n    public int getPrice() {// method 3 gets the price of the part class\n        \n        return price;\n    }\n                \n    public String toString() {\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;#,###.00&quot;);\n        String FormattedPrice = decimalFormat.format(price);\n        return  &quot;Part Name: &quot; + name +&quot;\\n&quot;+ &quot;Price: &quot; + FormattedPrice +&quot;\\n&quot;+ &quot;Part is made of: &quot; + make+ &quot;\\n&quot;; \n        \n        \n    }\n\n    public boolean isRecommended() {\n        return recommended;\n    }\n\n    public boolean setRecommended(boolean recommended) {\n        this.recommended = recommended;\n        return recommended;\n    }\n    \n}\n\n</code></pre>\n<pre><code>public class Part_Array {\n      private part[] parts; // Array to store part objects\n        private int numberOfParts;// Counter to keep track of the number of parts\n                \n        public Part_Array() {\n            parts = new part[100]; // Initialize the array with a size of 100\n            numberOfParts = 0;// Initialize the counter to 0   \n            \n        }       \n        // Method to add a new part to the array\n        public void addPart(part newPart) {\n            if (numberOfParts &lt; 100) {\n                parts[numberOfParts] = newPart;\n                numberOfParts++;\n            } else {\n                System.out.println(&quot;Cannot add more parts. The array is full.&quot;);\n            }\n        }\n\n        // Method to retrieve a part by its index in the array\n        public part getPart(int index) {\n            if (index &gt;= 0 &amp;&amp; index &lt; numberOfParts) {\n                return parts[index];\n            } else {\n                System.out.println(&quot;Invalid index.&quot;);\n                return null;\n            }\n        }\n\n        // Method to get the total number of parts in the array\n        public int getAllParts() {\n            return numberOfParts;\n        }\n        public void PrintList() {\n            for (int i = 0; i &lt; getAllParts(); i++) {\n                System.out.println(parts[i].toString());\n                \n            }\n        }\n}\n\n</code></pre>\n<pre><code>import java.util.List;\n\npublic class SortedArray {\n    public void sort(){\n        Part_Array rcmd = new Part_Array();\n        Part_Array other = new Part_Array();\n\n        for (int i = 0; i &lt; manager.getAllParts(); i++) {\n            part retrievedPart = manager.getPart(i);\n            if (retrievedPart != null) {\n                if (retrievedPart.getPrice() &lt; srcInstance.getPrice()) {\n                    retrievedPart.recommended();\n                    rcmd.addPart(retrievedPart);\n                } else {\n                    other.addPart(retrievedPart);\n                }\n            }\n        }\n\n        \n    }\n\n    public void printRecommendedParts(List&lt;part&gt; rcmdList) {\n        System.out.println(&quot;Recommended Parts:&quot;);\n        for (part p : rcmdList) {\n            if (p.isRecommended()) {\n                System.out.println(p.toString());\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>This is the SRC class that i intend to build an object from to serve as the basis of comparison for the elements inside the &quot;part_Array&quot; Class</p>\n<pre><code>public class SRC extends part {\n\n    public SRC(String name, int price, String material) {\n        super(name, price, material);   \n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","azure","docker","powershell","azure-cli"],"comments":[{"owner":{"account_id":18506400,"reputation":13,"user_id":13482598,"display_name":"Dev Monsters"},"score":0,"creation_date":1650009583,"post_id":71881393,"comment_id":127021325,"body_markdown":"@Tuupertunut , can suggest a solution?","body":"@Tuupertunut , can suggest a solution?"}],"answers":[{"tags":[],"owner":{"account_id":21681667,"reputation":4284,"user_id":15997690,"display_name":"Delliganesh Sevanesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650605340,"creation_date":1650605340,"answer_id":71963840,"question_id":71881393,"body_markdown":"&gt;Fetching in a docker container it&#39;s providing an invalid access token (binary content instead of JSON)\r\n\r\nThe error shows that you are **not converting the JSON** while getting the **Access Token**.\r\n\r\n### 1. Using AZ-CLI\r\n**you can convert the Access token from JSON.**\r\n~~~powershell\r\n# Get Access Token\r\naz  account  get-access-token  --resource  ms-graph  |  ConvertFrom-Json\r\n~~~\r\n\r\n### 2. Using PowerShell\r\nYou can use the **Get-AzAccessToken** to get the Access Token of ms-graph\r\n~~~powershell\r\n# Get Access Token\r\n$graphToken =Get-AzAccessToken -ResourceTypeName MSGraph\r\n~~~\r\n\r\n### Reference\r\n[Compare](https://scomnewbie.github.io/posts/clivspowershellaccesstoken/) **get-access-token** and **Get-AzAccessToken**","title":"PowerShellLibJava is fetching invalid JSON token from java code in docker container","body":"<blockquote>\n<p>Fetching in a docker container it's providing an invalid access token (binary content instead of JSON)</p>\n</blockquote>\n<p>The error shows that you are <strong>not converting the JSON</strong> while getting the <strong>Access Token</strong>.</p>\n<h3>1. Using AZ-CLI</h3>\n<p><strong>you can convert the Access token from JSON.</strong></p>\n<pre><code># Get Access Token\naz  account  get-access-token  --resource  ms-graph  |  ConvertFrom-Json\n</code></pre>\n<h3>2. Using PowerShell</h3>\n<p>You can use the <strong>Get-AzAccessToken</strong> to get the Access Token of ms-graph</p>\n<pre><code># Get Access Token\n$graphToken =Get-AzAccessToken -ResourceTypeName MSGraph\n</code></pre>\n<h3>Reference</h3>\n<p><a href=\"https://scomnewbie.github.io/posts/clivspowershellaccesstoken/\" rel=\"nofollow noreferrer\">Compare</a> <strong>get-access-token</strong> and <strong>Get-AzAccessToken</strong></p>\n"},{"tags":[],"owner":{"account_id":18506400,"reputation":13,"user_id":13482598,"display_name":"Dev Monsters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694519913,"creation_date":1694519913,"answer_id":77088887,"question_id":71881393,"body_markdown":"After deep investigation, I found that command response start with a utf8 BOM which was making JSON response invalid in the program code. Where as Windows PowerShell does handle BOM itself.","title":"PowerShellLibJava is fetching invalid JSON token from java code in docker container","body":"<p>After deep investigation, I found that command response start with a utf8 BOM which was making JSON response invalid in the program code. Where as Windows PowerShell does handle BOM itself.</p>\n"}],"owner":{"account_id":18506400,"reputation":13,"user_id":13482598,"display_name":"Dev Monsters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694519913,"creation_date":1650008863,"question_id":71881393,"body_markdown":"I am using PowerShellLibJava ([https://github.com/Tuupertunut/PowerShellLibJava][1]) in java code to fetch access token from azure.\r\nEarlier it was working fine in docker container.\r\nOn windows machine, its working fine but when fetching in docker container it&#39;s providing invalid access token (binary content instead of JSON)  \r\n\r\nTo login using command\r\n\r\n    az login --allow-no-subscriptions -u &lt;emailAddress&gt; -p &lt;password&gt;\r\n\r\nlogin successfully.\r\n\r\nusing this command through &quot;executeCommands&quot; to fetch token\r\n\r\n    az account get-access-token --resource-type ms-graph\r\n\r\ngroovy script and shell both are able to fetch valid access token in container but java code is failing to fetch the token.\r\n\r\n\r\n  [1]: https://github.com/Tuupertunut/PowerShellLibJava","title":"PowerShellLibJava is fetching invalid JSON token from java code in docker container","body":"<p>I am using PowerShellLibJava (<a href=\"https://github.com/Tuupertunut/PowerShellLibJava\" rel=\"nofollow noreferrer\">https://github.com/Tuupertunut/PowerShellLibJava</a>) in java code to fetch access token from azure.\nEarlier it was working fine in docker container.\nOn windows machine, its working fine but when fetching in docker container it's providing invalid access token (binary content instead of JSON)</p>\n<p>To login using command</p>\n<pre><code>az login --allow-no-subscriptions -u &lt;emailAddress&gt; -p &lt;password&gt;\n</code></pre>\n<p>login successfully.</p>\n<p>using this command through &quot;executeCommands&quot; to fetch token</p>\n<pre><code>az account get-access-token --resource-type ms-graph\n</code></pre>\n<p>groovy script and shell both are able to fetch valid access token in container but java code is failing to fetch the token.</p>\n"},{"tags":["java","spring","spring-boot","tomcat","spring-thymeleaf"],"comments":[{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":0,"creation_date":1694509072,"post_id":77087487,"comment_id":135896513,"body_markdown":"Have you ever set the Caches to invalid? Intellij IDEA: FILE | INVALIDATE CACHES  ...","body":"Have you ever set the Caches to invalid? Intellij IDEA: FILE | INVALIDATE CACHES  ..."}],"answers":[{"tags":[],"owner":{"account_id":29322938,"reputation":1,"user_id":22466107,"display_name":"Nguyễn Quốc Thịnh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694514281,"creation_date":1694514160,"answer_id":77088236,"question_id":77087487,"body_markdown":"I think your project you were work on before is running. \r\n\r\nYou can try stop old project and start new project.\r\n\r\nOr you can change running `port`.\r\nInsert `server.port=8081` in your `application.properties`. your application will be run at `http://localhost:8081`","title":"After swithing from one project to another programm stop working","body":"<p>I think your project you were work on before is running.</p>\n<p>You can try stop old project and start new project.</p>\n<p>Or you can change running <code>port</code>.\nInsert <code>server.port=8081</code> in your <code>application.properties</code>. your application will be run at <code>http://localhost:8081</code></p>\n"}],"owner":{"account_id":29420939,"reputation":11,"user_id":22542681,"display_name":"AlexJP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694519835,"creation_date":1694508758,"question_id":77087487,"body_markdown":"After swithing from my project to another (for testing purpose) and returing back to my project it stopped work. \r\nI use IDEA IDE, project - Java/Spring/Tomcat/Thymeleaf, browser - Firefox (but the same with Chrome).\r\nSo after writing my code I closed my project and opened another one. \r\nAfter testing it I opened my project and it starting get me an error:\r\n\r\n\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nMon Sep 11 12:31:59 EEST 2023\r\nThere was an unexpected error (type=Not Found, status=404).\r\n```\r\n\r\nBut I changed nothing in code!\r\nI turned back to another project and it works.\r\nTurns back to my code - that nasty error.(\r\n\r\nI read about that error but nothing helps.\r\nI didn&#39;t find the same problem&#39;s solution.\r\nI really didn&#39;t change any symbol in my code.\r\nJust swithed from one project to another.\r\nAnd now my project doesn&#39;t works.\r\n\r\nAlso I&#39;ve checked that two of my projects isn&#39;t running together. I always manually stops servers. I reloaded my project, reloaded IDE, reloaded PC. Nothing helps.\r\nChanging port also gave nothing.\r\n\r\nIf I desable whitelabel error by adding `server.error.whitelabel.enabled=false` into my `application.properties` I have standart Tomcat 404 Not Found Page.\r\n\r\nThis is the controller class:\r\n\r\n\r\n```\r\n@Controller\r\npublic class MainController {\r\n\r\n    @RequestMapping(&quot;/home&quot;)\r\n    public String home(Model model){\r\n        model.addAttribute(&quot;username&quot;, &quot;Kate&quot;);\r\n        model.addAttribute(&quot;color&quot;, &quot;red&quot;);\r\n        return &quot;home.html&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is html code:\r\n\r\n\r\n```\r\n&lt;body&gt;\r\n    &lt;h1&gt;Welcome home!\r\n\r\n        &lt;span th:style=&quot;&#39;color:&#39; + ${color}&quot;\r\n              th:text=&quot;${username}&quot;&gt;\r\n        &lt;/span&gt;\r\n    &lt;/h1&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\nAs I mentioned earlier before switching to another project this code worked perfectly.\r\nBut now it doesn&#39;t.","title":"After swithing from one project to another programm stop working","body":"<p>After swithing from my project to another (for testing purpose) and returing back to my project it stopped work.\nI use IDEA IDE, project - Java/Spring/Tomcat/Thymeleaf, browser - Firefox (but the same with Chrome).\nSo after writing my code I closed my project and opened another one.\nAfter testing it I opened my project and it starting get me an error:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nMon Sep 11 12:31:59 EEST 2023\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p>But I changed nothing in code!\nI turned back to another project and it works.\nTurns back to my code - that nasty error.(</p>\n<p>I read about that error but nothing helps.\nI didn't find the same problem's solution.\nI really didn't change any symbol in my code.\nJust swithed from one project to another.\nAnd now my project doesn't works.</p>\n<p>Also I've checked that two of my projects isn't running together. I always manually stops servers. I reloaded my project, reloaded IDE, reloaded PC. Nothing helps.\nChanging port also gave nothing.</p>\n<p>If I desable whitelabel error by adding <code>server.error.whitelabel.enabled=false</code> into my <code>application.properties</code> I have standart Tomcat 404 Not Found Page.</p>\n<p>This is the controller class:</p>\n<pre><code>@Controller\npublic class MainController {\n\n    @RequestMapping(&quot;/home&quot;)\n    public String home(Model model){\n        model.addAttribute(&quot;username&quot;, &quot;Kate&quot;);\n        model.addAttribute(&quot;color&quot;, &quot;red&quot;);\n        return &quot;home.html&quot;;\n    }\n}\n</code></pre>\n<p>And this is html code:</p>\n<pre><code>&lt;body&gt;\n    &lt;h1&gt;Welcome home!\n\n        &lt;span th:style=&quot;'color:' + ${color}&quot;\n              th:text=&quot;${username}&quot;&gt;\n        &lt;/span&gt;\n    &lt;/h1&gt;\n&lt;/body&gt;\n</code></pre>\n<p>As I mentioned earlier before switching to another project this code worked perfectly.\nBut now it doesn't.</p>\n"},{"tags":["java","netbeans","netbeans-8"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1642414047,"post_id":70739230,"comment_id":125055578,"body_markdown":"`Strangely I don&#39;t have the same problem with regular Java file choosers which I use in my projects.` Well, what file chooser are you using that creates this specific problem or are you talking about NetBeans itself? Maybe it needs more permissions to access the file system on the network.","body":"<code>Strangely I don&#39;t have the same problem with regular Java file choosers which I use in my projects.</code> Well, what file chooser are you using that creates this specific problem or are you talking about NetBeans itself? Maybe it needs more permissions to access the file system on the network."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1642455866,"post_id":70739230,"comment_id":125070868,"body_markdown":"I updated the question as of your proposal :)","body":"I updated the question as of your proposal :)"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642491541,"post_id":70739230,"comment_id":125077617,"body_markdown":"Some basic things to check while the file navigation is slow: [1] In Windows Task Manager verify that there is no abnormal use of memory, CPU or I/O. [2] Verify that there is plenty of free space on your hard drives, especially the C: drive. [3] Use the Windows Event Viewer app to check the System and Application Event logs for unusual errors/activity. [4] Review the NetBeans log file (View &gt; IDE Log) for errors and stack traces. [5] In NetBeans go to the Services panel, select Maven Repositories &gt; Local, right click and select Update Index from the context menu. Does it complete quickly?","body":"Some basic things to check while the file navigation is slow: [1] In Windows Task Manager verify that there is no abnormal use of memory, CPU or I/O. [2] Verify that there is plenty of free space on your hard drives, especially the C: drive. [3] Use the Windows Event Viewer app to check the System and Application Event logs for unusual errors/activity. [4] Review the NetBeans log file (View &gt; IDE Log) for errors and stack traces. [5] In NetBeans go to the Services panel, select Maven Repositories &gt; Local, right click and select Update Index from the context menu. Does it complete quickly?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1642492423,"post_id":70739230,"comment_id":125077921,"body_markdown":"Also: [1] The fact that you are having problems on releases 8.2 and 12 of NetBeans suggests that this might be an environment issue rather than a NetBeans problem. [2] No release of NetBeans 12 supports Java 12! Instead, all NetBeans 12.x releases support the LTS versions JDK 8 and JDK 11, plus whatever JDK is current when NetBeans 12.x is released. [3] Which specific version of NetBeans 12 are you running? If it is 12.0 then you should use JDK 11 or JDK 14 rather than JDK 12.","body":"Also: [1] The fact that you are having problems on releases 8.2 and 12 of NetBeans suggests that this might be an environment issue rather than a NetBeans problem. [2] No release of NetBeans 12 supports Java 12! Instead, all NetBeans 12.x releases support the LTS versions JDK 8 and JDK 11, plus whatever JDK is current when NetBeans 12.x is released. [3] Which specific version of NetBeans 12 are you running? If it is 12.0 then you should use JDK 11 or JDK 14 rather than JDK 12."},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1642495812,"post_id":70739230,"comment_id":125079223,"body_markdown":"Sorry it was a typo I didn&#39;t see, I&#39;m using JDK 17.0.1 with Netbeans 12.0. Should I try JDK 14 instead for my tests?","body":"Sorry it was a typo I didn&#39;t see, I&#39;m using JDK 17.0.1 with Netbeans 12.0. Should I try JDK 14 instead for my tests?"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1642496576,"post_id":70739230,"comment_id":125079514,"body_markdown":"Update index is immediate for Maven","body":"Update index is immediate for Maven"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1642496959,"post_id":70739230,"comment_id":125079658,"body_markdown":"But I&#39;m not able to see anything concerning Netbeans in the event viewer, I will look closer this afternoon.","body":"But I&#39;m not able to see anything concerning Netbeans in the event viewer, I will look closer this afternoon."},{"owner":{"account_id":1402825,"reputation":647,"user_id":1331274,"accept_rate":67,"display_name":"Zbyszek"},"score":0,"creation_date":1645464048,"post_id":70739230,"comment_id":125873105,"body_markdown":"The same behavior for NetBeans 12.4 and 12.5","body":"The same behavior for NetBeans 12.4 and 12.5"}],"answers":[{"tags":[],"owner":{"account_id":24074554,"reputation":41,"user_id":18050076,"display_name":"Chris Master"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660645518,"creation_date":1643473170,"answer_id":70907371,"question_id":70739230,"body_markdown":"There is a bug in netbeans with links from the desktop, that behaves like you described. Try to remove all links from the desktop and default location for the open file dialog.\r\n\r\n[issues.apache.org/jira/browse/NETBEANS-1537][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/NETBEANS-1537","title":"Navigating the file system with netbeans is VERY slow","body":"<p>There is a bug in netbeans with links from the desktop, that behaves like you described. Try to remove all links from the desktop and default location for the open file dialog.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/NETBEANS-1537\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/NETBEANS-1537</a></p>\n"},{"tags":[],"owner":{"account_id":1402825,"reputation":647,"user_id":1331274,"accept_rate":67,"display_name":"Zbyszek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649657044,"creation_date":1649657044,"answer_id":71823282,"question_id":70739230,"body_markdown":"It was a BROKEN PATH in a link on the desktop in Windows 10, in my case.\r\n\r\nNetBeans 12.5 -&gt; Creating a new project dialog, than &quot;Browse&quot; to choose appropriate directory took a very long time. I tried to test links on my desktop. I found one old &quot;broken link&quot;. Broken in terms - it pointed out to non existent path. I corrected this path in this link and... voil&#224;, magically NetBeans is working correctly.","title":"Navigating the file system with netbeans is VERY slow","body":"<p>It was a BROKEN PATH in a link on the desktop in Windows 10, in my case.</p>\n<p>NetBeans 12.5 -&gt; Creating a new project dialog, than &quot;Browse&quot; to choose appropriate directory took a very long time. I tried to test links on my desktop. I found one old &quot;broken link&quot;. Broken in terms - it pointed out to non existent path. I corrected this path in this link and... voilà, magically NetBeans is working correctly.</p>\n"},{"tags":[],"owner":{"account_id":12896543,"reputation":75,"user_id":9326717,"display_name":"Erik Jur&#237;ček"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660237137,"creation_date":1660237137,"answer_id":73324412,"question_id":70739230,"body_markdown":"I had the same problem. As they wrote here, it is necessary to check the links on the desktop. Removing bad links helped me.","title":"Navigating the file system with netbeans is VERY slow","body":"<p>I had the same problem. As they wrote here, it is necessary to check the links on the desktop. Removing bad links helped me.</p>\n"},{"tags":[],"owner":{"account_id":23020147,"reputation":1,"user_id":17141319,"display_name":"Pascal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661970314,"creation_date":1661505439,"answer_id":73498743,"question_id":70739230,"body_markdown":"I find that this happens when I run Netbeans without administrator rights.\r\nWith admin rights it works fine.","title":"Navigating the file system with netbeans is VERY slow","body":"<p>I find that this happens when I run Netbeans without administrator rights.\nWith admin rights it works fine.</p>\n"},{"tags":[],"owner":{"account_id":26962866,"reputation":21,"user_id":20530259,"display_name":"Matt Mercer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1668690148,"creation_date":1668690148,"answer_id":74475937,"question_id":70739230,"body_markdown":"Had this issue with Netbeans 15. Resolved it by removing a broken shortcut from my desktop.","title":"Navigating the file system with netbeans is VERY slow","body":"<p>Had this issue with Netbeans 15. Resolved it by removing a broken shortcut from my desktop.</p>\n"},{"tags":[],"owner":{"account_id":333630,"reputation":21,"user_id":8800472,"display_name":"Stratcat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669215827,"creation_date":1669215827,"answer_id":74548915,"question_id":70739230,"body_markdown":"Ok -- this is crazy -- but after trying everything listed, here is what finally worked for me.\r\nI created a Batch file on the desktop to point to the netbeans64.exe app.  the secret for me was to *NOT* do a cd to the netbeans location.. but to call the app in using the full path. Here is what my batch file looks like \r\n\r\n&quot;C:\\Program Files\\NetBeans-15\\netbeans\\bin\\netbeans64.exe&quot; \r\n\r\nI know it seems way too easy.. but it works for me.  As Sam Snead said about the latest golf gear back in the 60&#39;s  &quot;I ain&#39;t no scientist. just a believer..&quot; LOL!!!","title":"Navigating the file system with netbeans is VERY slow","body":"<p>Ok -- this is crazy -- but after trying everything listed, here is what finally worked for me.\nI created a Batch file on the desktop to point to the netbeans64.exe app.  the secret for me was to <em>NOT</em> do a cd to the netbeans location.. but to call the app in using the full path. Here is what my batch file looks like</p>\n<p>&quot;C:\\Program Files\\NetBeans-15\\netbeans\\bin\\netbeans64.exe&quot;</p>\n<p>I know it seems way too easy.. but it works for me.  As Sam Snead said about the latest golf gear back in the 60's  &quot;I ain't no scientist. just a believer..&quot; LOL!!!</p>\n"},{"tags":[],"owner":{"account_id":24474096,"reputation":31,"user_id":18393390,"display_name":"ΔΕΙΜΟΣ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676151935,"creation_date":1676151935,"answer_id":75423500,"question_id":70739230,"body_markdown":"I had the same issue on Windows, thanks to you guys I solved it by removing the symbolic links (shortcuts) from the desktop, **but not from any desktop**, I mean that this method didn&#39;t work for me when I removed them from the user desktop &quot;**C:\\Users\\user\\Desktop**&quot;, it only worked when I removed them from the public desktop, which is located at &quot;**C:\\Users\\Public\\Desktop**&quot;.\r\n\r\n*I hope this clarification helps and sorry I don&#39;t have enough reputation here on StackOverflow to comment, so I had to post this as an answer....*","title":"Navigating the file system with netbeans is VERY slow","body":"<p>I had the same issue on Windows, thanks to you guys I solved it by removing the symbolic links (shortcuts) from the desktop, <strong>but not from any desktop</strong>, I mean that this method didn't work for me when I removed them from the user desktop &quot;<strong>C:\\Users\\user\\Desktop</strong>&quot;, it only worked when I removed them from the public desktop, which is located at &quot;<strong>C:\\Users\\Public\\Desktop</strong>&quot;.</p>\n<p><em>I hope this clarification helps and sorry I don't have enough reputation here on StackOverflow to comment, so I had to post this as an answer....</em></p>\n"},{"tags":[],"owner":{"account_id":4792834,"reputation":682,"user_id":3871504,"display_name":"Vindic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694518787,"creation_date":1694518787,"answer_id":77088747,"question_id":70739230,"body_markdown":"In my case the guilty one was my enterprise AntiVirus (Trend Micro Apex).\r\n\r\nUnloading it, ended the slowness immediately.\r\n\r\nFor the record I was Using Netbeans 19 with the JVM 17.08 on Windows 11.","title":"Navigating the file system with netbeans is VERY slow","body":"<p>In my case the guilty one was my enterprise AntiVirus (Trend Micro Apex).</p>\n<p>Unloading it, ended the slowness immediately.</p>\n<p>For the record I was Using Netbeans 19 with the JVM 17.08 on Windows 11.</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3127,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77088747,"answer_count":8,"score":5,"last_activity_date":1694518787,"creation_date":1642412358,"question_id":70739230,"body_markdown":"Since a few days, navigating the file system with Netbeans is VERY slow (more than two minutes to access a file, and if you have to navigate a file system, it is true every time. I have exactly the same problem after clearing the cache, and with Netbeans 8.2 and Netbeans 12 (Netbeans 8 with Java 8, and Netbeans 12 with Java 17 in my tests).\r\n\r\nStrangely I don&#39;t have the same problem with regular Java file choosers which I use in my projects. For example, if I click on &quot;Open Project&quot;, the IDE is frozen for sometimes 2 or 3 minutes before I can see the file navigator.\r\n\r\nWhen I am looking in the task manager while trying to open a project for example, it appear that Network usage is very low (1% to 0%), CPU also very low (less than 2%) \r\n\r\nI am talking about Netbeans itself, for example if I want to open an existing project, or adding a jar file to the list of Jar libraries for an existing project\r\n\r\nThe standard Swing JFileChooser works correctly. With this example code the navigation is immediate (as expected): \r\n\r\n    JFileChooser chooser = new JFileChooser();            \r\n    chooser.setDialogType(JFileChooser.OPEN_DIALOG);         \r\n    chooser.setDialogTitle(&quot;Test FileChooser&quot;);  \r\n    chooser.setFileSelectionMode(JFileChooser.FILES_ONLY);         \r\n    int ret = chooser.showOpenDialog(null);         \r\n    if (ret == JFileChooser.APPROVE_OPTION{ \r\n       System.out.println(chooser.getSelectedFile().getAbsolutePath());        \r\n    }\r\n\r\nI am on Windows, on my workplace network (I am working on local files on my PC, but there are two remote drives which are accessible on the network). I only have problems with Netbeans, other apps have no problem with the file system.\r\n\r\nMy problem is with Netbeans itself navigating the file system (for example opening an existing project, or adding a jar file as a library for a project)\r\n\r\nThis looks to behave exactly as this bug: https://bz.apache.org/netbeans/show_bug.cgi?id=42079, except that it does not happen with the Swing `JFileChooser` as shown above.\r\n\r\nIs it a known problem, and if it is, is there a mean to fix it? I was thinking for example about a setting on the command line used to start Netbeans.","title":"Navigating the file system with netbeans is VERY slow","body":"<p>Since a few days, navigating the file system with Netbeans is VERY slow (more than two minutes to access a file, and if you have to navigate a file system, it is true every time. I have exactly the same problem after clearing the cache, and with Netbeans 8.2 and Netbeans 12 (Netbeans 8 with Java 8, and Netbeans 12 with Java 17 in my tests).</p>\n<p>Strangely I don't have the same problem with regular Java file choosers which I use in my projects. For example, if I click on &quot;Open Project&quot;, the IDE is frozen for sometimes 2 or 3 minutes before I can see the file navigator.</p>\n<p>When I am looking in the task manager while trying to open a project for example, it appear that Network usage is very low (1% to 0%), CPU also very low (less than 2%)</p>\n<p>I am talking about Netbeans itself, for example if I want to open an existing project, or adding a jar file to the list of Jar libraries for an existing project</p>\n<p>The standard Swing JFileChooser works correctly. With this example code the navigation is immediate (as expected):</p>\n<pre><code>JFileChooser chooser = new JFileChooser();            \nchooser.setDialogType(JFileChooser.OPEN_DIALOG);         \nchooser.setDialogTitle(&quot;Test FileChooser&quot;);  \nchooser.setFileSelectionMode(JFileChooser.FILES_ONLY);         \nint ret = chooser.showOpenDialog(null);         \nif (ret == JFileChooser.APPROVE_OPTION{ \n   System.out.println(chooser.getSelectedFile().getAbsolutePath());        \n}\n</code></pre>\n<p>I am on Windows, on my workplace network (I am working on local files on my PC, but there are two remote drives which are accessible on the network). I only have problems with Netbeans, other apps have no problem with the file system.</p>\n<p>My problem is with Netbeans itself navigating the file system (for example opening an existing project, or adding a jar file as a library for a project)</p>\n<p>This looks to behave exactly as this bug: <a href=\"https://bz.apache.org/netbeans/show_bug.cgi?id=42079\" rel=\"noreferrer\">https://bz.apache.org/netbeans/show_bug.cgi?id=42079</a>, except that it does not happen with the Swing <code>JFileChooser</code> as shown above.</p>\n<p>Is it a known problem, and if it is, is there a mean to fix it? I was thinking for example about a setting on the command line used to start Netbeans.</p>\n"},{"tags":["java","performance","performance-testing","jfr","java-mission-control"],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694488120,"creation_date":1694488120,"answer_id":77085858,"question_id":77052179,"body_markdown":"Right-click in the JVM Browser and select &quot;Start Flight Recording ...&quot;, specify the amount of time you want the recording to be, for example 10 minutes. When the recording is finished, recording data is transferred and displayed in JMC.\r\n\r\nIf the application exits before the specified time, the recording will be lost. You will have to make sure the application doesn&#39;t exit, or specify a shorter recording time, or start the recording from command line and open the file.\r\n","title":"How to end and save Java Flight Recorder recording in Java Mission Control when application ends?","body":"<p>Right-click in the JVM Browser and select &quot;Start Flight Recording ...&quot;, specify the amount of time you want the recording to be, for example 10 minutes. When the recording is finished, recording data is transferred and displayed in JMC.</p>\n<p>If the application exits before the specified time, the recording will be lost. You will have to make sure the application doesn't exit, or specify a shorter recording time, or start the recording from command line and open the file.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77085858,"answer_count":1,"score":1,"last_activity_date":1694518430,"creation_date":1694005447,"question_id":77052179,"body_markdown":"I am currently using Java Mission Control (JMC) to profile my application&#39;s performance with the Java Flight Recorder (JFR) plugin.\r\n\r\nI know how to set up JFR on the command line to record from the beginning to the end of the application duration. However, I do not know how to do it when using the JFR plugin in JMC. Is this something that is possible in JMC? Or am I only able to do this on the command line?\r\n\r\nAnd to better describe the current dilemma, when my application ends, JMC pops up a warning dialog saying that the JVM ended unexpectedly, and then from there, I lose my recording.\r\n\r\n[![A screenshot of the warning dialog that says &quot;Problem while monitoring recording My Recording on [21] ConnectFour.Main (27280). The monitored JVM might have been terminated.&quot; -- further down on the dialog is a checked checkbox that says &quot;Show warnings for problems that occur while monitoring flight recordings.&quot;][1]][1]\r\n\r\nI&#39;m sure the answer to this is relatively simple, but I don&#39;t see any easily accessible resources that provide the answer.\r\n\r\n**EDIT** - I am aware of how to start a recording on JMC using JFR, that&#39;s not my question here. My question is how do I get the command line benefits (record the whole application&#39;s life time, and then save the recording upon application close) on JMC?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LxzrH.png","title":"How to end and save Java Flight Recorder recording in Java Mission Control when application ends?","body":"<p>I am currently using Java Mission Control (JMC) to profile my application's performance with the Java Flight Recorder (JFR) plugin.</p>\n<p>I know how to set up JFR on the command line to record from the beginning to the end of the application duration. However, I do not know how to do it when using the JFR plugin in JMC. Is this something that is possible in JMC? Or am I only able to do this on the command line?</p>\n<p>And to better describe the current dilemma, when my application ends, JMC pops up a warning dialog saying that the JVM ended unexpectedly, and then from there, I lose my recording.</p>\n<p><a href=\"https://i.stack.imgur.com/LxzrH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LxzrH.png\" alt=\"A screenshot of the warning dialog that says &quot;Problem while monitoring recording My Recording on [21] ConnectFour.Main (27280). The monitored JVM might have been terminated.&quot; -- further down on the dialog is a checked checkbox that says &quot;Show warnings for problems that occur while monitoring flight recordings.&quot;\" /></a></p>\n<p>I'm sure the answer to this is relatively simple, but I don't see any easily accessible resources that provide the answer.</p>\n<p><strong>EDIT</strong> - I am aware of how to start a recording on JMC using JFR, that's not my question here. My question is how do I get the command line benefits (record the whole application's life time, and then save the recording upon application close) on JMC?</p>\n"},{"tags":["java","maven","openapi-generator","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694614710,"post_id":77088690,"comment_id":135914801,"body_markdown":"First I recommend to upgrade your used openapi-generator-maven-plugin (https://central.sonatype.com/artifact/org.openapitools/openapi-generator-maven-plugin/versions) also the question do you already use Java EE Jakarta etc.","body":"First I recommend to upgrade your used openapi-generator-maven-plugin (<a href=\"https://central.sonatype.com/artifact/org.openapitools/openapi-generator-maven-plugin/versions\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/org.openapitools/&hellip;</a>) also the question do you already use Java EE Jakarta etc."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1694671154,"post_id":77088690,"comment_id":135922300,"body_markdown":"I am not using Jakarta EE and it&#39;s legacy code so maybe upgrade to EAP 7 is not possible, it&#39;s EAP 6.","body":"I am not using Jakarta EE and it&#39;s legacy code so maybe upgrade to EAP 7 is not possible, it&#39;s EAP 6."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694675573,"post_id":77088690,"comment_id":135922979,"body_markdown":"If you&#39;re using EAP 6, perhaps you can use RESTEasy client (https://www.baeldung.com/resteasy-client-tutorial). That will allow you to work with the interfaces without having any implementation of your own - the RESTEasy client will create that for you. Within EAP you probably don&#39;t even need to bundle it in your application, and can mark the dependency as provided.","body":"If you&#39;re using EAP 6, perhaps you can use RESTEasy client (<a href=\"https://www.baeldung.com/resteasy-client-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/resteasy-client-tutorial</a>). That will allow you to work with the interfaces without having any implementation of your own - the RESTEasy client will create that for you. Within EAP you probably don&#39;t even need to bundle it in your application, and can mark the dependency as provided."},{"owner":{"account_id":1806113,"reputation":625,"user_id":1643179,"display_name":"gebi"},"score":1,"creation_date":1697487630,"post_id":77088690,"comment_id":136283621,"body_markdown":"&quot;Which ones are server and which are clients?&quot; --&gt; https://openapi-generator.tech/docs/generators/ distinguishes the available generators by type.","body":"&quot;Which ones are server and which are clients?&quot; --&gt; <a href=\"https://openapi-generator.tech/docs/generators/\" rel=\"nofollow noreferrer\">openapi-generator.tech/docs/generators</a> distinguishes the available generators by type."}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694518208,"creation_date":1694518208,"question_id":77088690,"body_markdown":"Now I know all the possible values:\r\n\r\n```\r\n[INFO] --- openapi-generator-maven-plugin:4.3.1:generate (generate-api) @ my-app ---\r\n[WARNING] /home/me/code/myapp/target/META-INF/openapi.yaml [0:0]: unexpected error in Open-API generation\r\norg.openapitools.codegen.GeneratorNotFoundException: Can&#39;t load config class with name &#39;jaxrs&#39;\r\nAvailable:\r\nada\r\nada-server\r\nandroid\r\n....\r\n```\r\n\r\nAmong the Java ones: \r\n\r\n```\r\njava\r\njaxrs-cxf-client\r\njava-inflector\r\njava-msf4j\r\njava-pkmst\r\njava-play-framework\r\njava-undertow-server\r\njava-vertx\r\njava-vertx-web\r\njaxrs-cxf\r\njaxrs-cxf-extended\r\njaxrs-cxf-cdi\r\njaxrs-jersey\r\njaxrs-resteasy\r\njaxrs-resteasy-eap\r\njaxrs-spec\r\n```\r\n\r\nWhich ones are server and which are clients? What if I want to generate code to call an external API, not only API? I am in a JavaEE EAP application. I was using `javars-spec` but it only generates the API interface. I need implementations. \r\n\r\nIf there&#39;s none, then how is the Java 8 preferred way to implement it? It&#39;s EAP, not Spring. \r\n\r\nAnd about the missing dependencies, I know that with `&lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;` I can generate a POM in the targets dir and check what are the dependencies to pull in and I need to put them back to my project&#39;s pom.xml, even it seems strange for me but anyway. \r\n\r\n","title":"OpenAPI generator Maven plugin: what generator to choose if I want to generate an API client with implementation code? Java EE EAP","body":"<p>Now I know all the possible values:</p>\n<pre><code>[INFO] --- openapi-generator-maven-plugin:4.3.1:generate (generate-api) @ my-app ---\n[WARNING] /home/me/code/myapp/target/META-INF/openapi.yaml [0:0]: unexpected error in Open-API generation\norg.openapitools.codegen.GeneratorNotFoundException: Can't load config class with name 'jaxrs'\nAvailable:\nada\nada-server\nandroid\n....\n</code></pre>\n<p>Among the Java ones:</p>\n<pre><code>java\njaxrs-cxf-client\njava-inflector\njava-msf4j\njava-pkmst\njava-play-framework\njava-undertow-server\njava-vertx\njava-vertx-web\njaxrs-cxf\njaxrs-cxf-extended\njaxrs-cxf-cdi\njaxrs-jersey\njaxrs-resteasy\njaxrs-resteasy-eap\njaxrs-spec\n</code></pre>\n<p>Which ones are server and which are clients? What if I want to generate code to call an external API, not only API? I am in a JavaEE EAP application. I was using <code>javars-spec</code> but it only generates the API interface. I need implementations.</p>\n<p>If there's none, then how is the Java 8 preferred way to implement it? It's EAP, not Spring.</p>\n<p>And about the missing dependencies, I know that with <code>&lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;</code> I can generate a POM in the targets dir and check what are the dependencies to pull in and I need to put them back to my project's pom.xml, even it seems strange for me but anyway.</p>\n"},{"tags":["java","reference","phantom-reference"],"comments":[{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1694226922,"post_id":77070263,"comment_id":135867534,"body_markdown":"The (language-level) answer to your example situation isn&#39;t screwing with phantom references. The answer is getting rid of finalizers. They were a mistake, they are deprecated, and the `finalize` method will be removed in a future Java version.","body":"The (language-level) answer to your example situation isn&#39;t screwing with phantom references. The answer is getting rid of finalizers. They were a mistake, they are deprecated, and the <code>finalize</code> method will be removed in a future Java version."},{"owner":{"account_id":24281733,"reputation":150,"user_id":22485901,"display_name":"Haspamelodica"},"score":0,"creation_date":1694254211,"post_id":77070263,"comment_id":135869297,"body_markdown":"Yes, I that would definitely be the ideal solution - but in an ideal world where finalizers don&#39;t exist, we wouldn&#39;t need PhantomRefs anyway, right? Then, they would be equivalent to WeakRefs (except not supporting get), or did I miss something?","body":"Yes, I that would definitely be the ideal solution - but in an ideal world where finalizers don&#39;t exist, we wouldn&#39;t need PhantomRefs anyway, right? Then, they would be equivalent to WeakRefs (except not supporting get), or did I miss something?"},{"owner":{"account_id":24281733,"reputation":150,"user_id":22485901,"display_name":"Haspamelodica"},"score":0,"creation_date":1694254577,"post_id":77070263,"comment_id":135869324,"body_markdown":"So, there would be no reason for the language designers to introduce PhantomRefs __except__ to work around finalizers. Or is the intention here that if the finalizer doesn&#39;t make the object reachable, no one can?","body":"So, there would be no reason for the language designers to introduce PhantomRefs <b>except</b> to work around finalizers. Or is the intention here that if the finalizer doesn&#39;t make the object reachable, no one can?"},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1694270322,"post_id":77070263,"comment_id":135870871,"body_markdown":"Probably to enable more efficient collection strategies, and because getting the referent isn&#39;t useful for the job PhantomReference was designed for. PhantomReference is designed to enable post-mortem cleanup, not to do anything with the referent itself.","body":"Probably to enable more efficient collection strategies, and because getting the referent isn&#39;t useful for the job PhantomReference was designed for. PhantomReference is designed to enable post-mortem cleanup, not to do anything with the referent itself."},{"owner":{"account_id":24281733,"reputation":150,"user_id":22485901,"display_name":"Haspamelodica"},"score":0,"creation_date":1694273485,"post_id":77070263,"comment_id":135871195,"body_markdown":"How does this enable more efficient collection strategies? And why can&#39;t WeakReferences be used for post-mortem cleanup without the presence of finalizers? In the presence of finalizers, sure, WeakRefs aren&#39;t enough to ensure the object has &quot;died&quot; - but then my example shows that get() on PhantomRefs would have a sensible use.","body":"How does this enable more efficient collection strategies? And why can&#39;t WeakReferences be used for post-mortem cleanup without the presence of finalizers? In the presence of finalizers, sure, WeakRefs aren&#39;t enough to ensure the object has &quot;died&quot; - but then my example shows that get() on PhantomRefs would have a sensible use."},{"owner":{"account_id":24281733,"reputation":150,"user_id":22485901,"display_name":"Haspamelodica"},"score":0,"creation_date":1694273694,"post_id":77070263,"comment_id":135871210,"body_markdown":"It seems to me the existence of PhantomRefs is justified by saying &quot;we need to handle the presence of finalizers, so WeakRef isn&#39;t enough for cleanups&quot;, but get() working on PhantomRefs is regarded as unjustified by saying that &quot;we don&#39;t need to handle the presence of finalizers because are deprecated, so just use a WeakRef&quot; - which seems paradoxical.","body":"It seems to me the existence of PhantomRefs is justified by saying &quot;we need to handle the presence of finalizers, so WeakRef isn&#39;t enough for cleanups&quot;, but get() working on PhantomRefs is regarded as unjustified by saying that &quot;we don&#39;t need to handle the presence of finalizers because are deprecated, so just use a WeakRef&quot; - which seems paradoxical."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694218107,"creation_date":1694218107,"answer_id":77070385,"question_id":77070263,"body_markdown":"If `.get()` worked, you could simply do:\r\n\r\n```\r\nsomeField = phantomRef.get();\r\n```\r\n\r\nAnd all of a sudden the object that was in the process of being collected, now no longer collectable. After all, you assigned it to a field - it is reachable again. If it is collected soon after you have a field referencing a garbage collected object and that&#39;s one of those 100% most definitely cannot possibly ever happen ever ever ever red line you can&#39;t cross in JVM feature designs.\r\n\r\nIf it&#39;s _not_ collected, i.e. that act &#39;cancels&#39; the garbage collection, you have 2 problems:\r\n\r\n1. Whatever process &#39;scanned&#39; to figure out the object is collectable needs to re-scan because it cannot know that the result of `.get()` was used to re-live the object. Thus, any call to `.get()` at any time by anything means the object needs to be re-scanned. At which point... allow all phantom refs to do it again? Then we&#39;d have an endless loop.\r\n\r\n2. Alternatively, `.get()` needs to flag the JVM to run this thread in some sort of &#39;slow bookkeeping mode&#39; where any `.get()` calls are tracked just to check if you are reliving them. Also, even if you don&#39;t assign it to any field, as long as whatever method called `get` hasn&#39;t completed, it&#39;s still a live object.\r\n\r\nNone of this is in any way practical. Returning `null` on `.get()` and specifying that this is what happens to phantom refs solves all problems.\r\n","title":"Why does PhantomReference.get() always return null?","body":"<p>If <code>.get()</code> worked, you could simply do:</p>\n<pre><code>someField = phantomRef.get();\n</code></pre>\n<p>And all of a sudden the object that was in the process of being collected, now no longer collectable. After all, you assigned it to a field - it is reachable again. If it is collected soon after you have a field referencing a garbage collected object and that's one of those 100% most definitely cannot possibly ever happen ever ever ever red line you can't cross in JVM feature designs.</p>\n<p>If it's <em>not</em> collected, i.e. that act 'cancels' the garbage collection, you have 2 problems:</p>\n<ol>\n<li><p>Whatever process 'scanned' to figure out the object is collectable needs to re-scan because it cannot know that the result of <code>.get()</code> was used to re-live the object. Thus, any call to <code>.get()</code> at any time by anything means the object needs to be re-scanned. At which point... allow all phantom refs to do it again? Then we'd have an endless loop.</p>\n</li>\n<li><p>Alternatively, <code>.get()</code> needs to flag the JVM to run this thread in some sort of 'slow bookkeeping mode' where any <code>.get()</code> calls are tracked just to check if you are reliving them. Also, even if you don't assign it to any field, as long as whatever method called <code>get</code> hasn't completed, it's still a live object.</p>\n</li>\n</ol>\n<p>None of this is in any way practical. Returning <code>null</code> on <code>.get()</code> and specifying that this is what happens to phantom refs solves all problems.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694518097,"creation_date":1694518097,"answer_id":77088680,"question_id":77070263,"body_markdown":"You are referring to the Java&#160;20 API. But in this case, it’s useful to know the history.\r\n\r\nHave a look at [Java&#160;8’s `PhantomReference` documentation from 2022][1]\r\n\r\n&gt; Unlike soft and weak references, phantom references are not automatically cleared by the garbage collector as they are enqueued. An object that is reachable via phantom references will remain so until all such references are cleared or themselves become unreachable.\r\n\r\nDon’t ask why keeping an object phantom reachable ever was a goal. [That has] [been asked] [before] and never got a satisfying answer. That’s part of the reason why this rule has been removed in Java&#160;9 and as it seems, [also in the latest Java&#160;8 updates][2].\r\n\r\nBut when an enqueued `PhantomReference` is not cleared, it’s obviously needed to prevent the retrieval via the `get()` method, to prevent resurrection of reclaimable objects. Granted, deep reflection still worked back in the days, which is another indicator that this part of the API wasn’t well thought.\r\n\r\n---\r\n\r\nThe current state of affairs is that phantom reference are cleared when enqueued and hence, nothing prevents the reclamation of the object while the post-mortem cleanup is running.\r\n\r\nSo, the original problem is gone. Allowing `get()` to return the referent would not affect the way, garbage collection works. It would become possible to retrieve the object while finalization is in progress, but this would only be a semantic problem, but not affect the logic of phantom references, as they are only enqueued when the object became unreachable (again) after finalization completed.\r\n\r\nHowever, there is no reason to change the contract. Getting the object back is not necessary for the purpose of phantom references. That’s what weak references are for and since finalization [has been marked “deprecated, for removal”][3], any problems related to finalization will vanish anyway.\r\n\r\n---\r\n\r\nIt’s true that while finalization still exists, the scenario of resurrection exist when using weak references. However, if someone tries that hard to break your program, nothing will stop them anyway. Don’t let such people contribute to your code base. Java’s language mechanisms are not real security measures. They make it harder to write bad code, but can’t prevent people from deliberately breaking things.\r\n\r\nThat said, the entire idea to use garbage collection to release non-memory resources in the way you described, is flawed. There is no guaranty about when or whether at all the object will get collected, hence in your scenario this cleanup feature is not worth the development effort. But in the worst case, it will [break horribly].\r\n\r\n[1]: https://web.archive.org/web/20221016015442/https://docs.oracle.com/javase/8/docs/api/java/lang/ref/PhantomReference.html\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/lang/ref/PhantomReference.html\r\n[3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#finalize()\r\n[That has]: https://stackoverflow.com/q/7048767/2711488\r\n[been asked]: https://stackoverflow.com/q/57439236/2711488\r\n[before]: https://stackoverflow.com/questions/41396051/phantomreference-with-null-queue/41987600#41987600:~:text=The%20question%2C%20even,is%20why%20a%20PhantomReference%20isn%E2%80%99t%20automatically%20cleared.\r\n[break horribly]: https://stackoverflow.com/q/26642153/2711488","title":"Why does PhantomReference.get() always return null?","body":"<p>You are referring to the Java 20 API. But in this case, it’s useful to know the history.</p>\n<p>Have a look at <a href=\"https://web.archive.org/web/20221016015442/https://docs.oracle.com/javase/8/docs/api/java/lang/ref/PhantomReference.html\" rel=\"nofollow noreferrer\">Java 8’s <code>PhantomReference</code> documentation from 2022</a></p>\n<blockquote>\n<p>Unlike soft and weak references, phantom references are not automatically cleared by the garbage collector as they are enqueued. An object that is reachable via phantom references will remain so until all such references are cleared or themselves become unreachable.</p>\n</blockquote>\n<p>Don’t ask why keeping an object phantom reachable ever was a goal. <a href=\"https://stackoverflow.com/q/7048767/2711488\">That has</a> <a href=\"https://stackoverflow.com/q/57439236/2711488\">been asked</a> <a href=\"https://stackoverflow.com/questions/41396051/phantomreference-with-null-queue/41987600#41987600:%7E:text=The%20question%2C%20even,is%20why%20a%20PhantomReference%20isn%E2%80%99t%20automatically%20cleared.\">before</a> and never got a satisfying answer. That’s part of the reason why this rule has been removed in Java 9 and as it seems, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ref/PhantomReference.html\" rel=\"nofollow noreferrer\">also in the latest Java 8 updates</a>.</p>\n<p>But when an enqueued <code>PhantomReference</code> is not cleared, it’s obviously needed to prevent the retrieval via the <code>get()</code> method, to prevent resurrection of reclaimable objects. Granted, deep reflection still worked back in the days, which is another indicator that this part of the API wasn’t well thought.</p>\n<hr />\n<p>The current state of affairs is that phantom reference are cleared when enqueued and hence, nothing prevents the reclamation of the object while the post-mortem cleanup is running.</p>\n<p>So, the original problem is gone. Allowing <code>get()</code> to return the referent would not affect the way, garbage collection works. It would become possible to retrieve the object while finalization is in progress, but this would only be a semantic problem, but not affect the logic of phantom references, as they are only enqueued when the object became unreachable (again) after finalization completed.</p>\n<p>However, there is no reason to change the contract. Getting the object back is not necessary for the purpose of phantom references. That’s what weak references are for and since finalization <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#finalize()\" rel=\"nofollow noreferrer\">has been marked “deprecated, for removal”</a>, any problems related to finalization will vanish anyway.</p>\n<hr />\n<p>It’s true that while finalization still exists, the scenario of resurrection exist when using weak references. However, if someone tries that hard to break your program, nothing will stop them anyway. Don’t let such people contribute to your code base. Java’s language mechanisms are not real security measures. They make it harder to write bad code, but can’t prevent people from deliberately breaking things.</p>\n<p>That said, the entire idea to use garbage collection to release non-memory resources in the way you described, is flawed. There is no guaranty about when or whether at all the object will get collected, hence in your scenario this cleanup feature is not worth the development effort. But in the worst case, it will <a href=\"https://stackoverflow.com/q/26642153/2711488\">break horribly</a>.</p>\n"}],"owner":{"account_id":24281733,"reputation":150,"user_id":22485901,"display_name":"Haspamelodica"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":77088680,"answer_count":2,"score":4,"last_activity_date":1694518097,"creation_date":1694214807,"question_id":77070263,"body_markdown":"I know the different kinds of references, and reachability, and how the garbage collector works in general - I have also used the different types of `Reference`s in some of my personal projects. However, there is one design choice I don&#39;t understand: Why the `get`  method of `PhantomReference`s always returns `null`.\r\n\r\n`PhantomReference`s are mostly (only?) used for cleanup actions after the object has &quot;died&quot;. So, the usual answer to my question is &quot;to ensure that the object can&#39;t get (strongly) reachable again after the cleanup has started&quot; - or, as [the documentation of PhantomReference](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ref/PhantomReference.html) puts it:\r\n&gt; In order to ensure that a reclaimable object remains so, the referent of a phantom reference may not be retrieved: The get method of a phantom reference always returns null.\r\n\r\nBut as far as I understand, &quot;ensuring that a reclaimable object remains so&quot; doesn&#39;t imply that `get()` must always return `null`: As long as a phantom reference isn&#39;t cleared, its referent isn&#39;t reclaimable and also won&#39;t be enqueued, and thus the cleanup action won&#39;t have been started - meaning that `get()` could &quot;safely&quot; give access to the referent. It only becomes reclaimable if the reference is cleared, so `get()` would from then on return `null` either way. There&#39;s also no possibility of race conditions (example: two PhantomRefs to one object; one gets cleared and enqueued, then the object is made accessible again through the other&#39;s `get` method), because the documentation states that all clearing happens atomically (emphasis mine):\r\n&gt; At that time it will **atomically** clear **all** phantom references to that object and all phantom references to any other phantom-reachable objects from which that object is reachable.\r\n\r\n---\r\nBecause the question came up in comments: I&#39;m asking this not because I have a concrete problem for which I think this would be the solution. Instead, I need to describe the various `Reference` types in my Master&#39;s thesis, where they are relevant, and I want to describe them correctly - including the reasoning behind the design choices.\r\n\r\nHowever, I can still think of a concrete situation which would explicitly not be covered by using a `WeakReference`:\r\n\r\nSuppose you were writing a library which provided some service to its users. Let&#39;s assume the library wants to ensure that only one instance of this service exists at a time - that it is a &quot;singleton&quot;, so to speak - so let&#39;s call the class `PublicSingletonService`. However, let&#39;s assume the service needs many resources to exist - so, the library wants to throw it away once it&#39;s not needed anymore, and recreate it once it&#39;s needed again. I think this is a reasonable scenario.\r\n\r\nSo, the library holds a `WeakReference` to its singleton, and uses a `ReferenceQueue` to detect if the singleton is not needed anymore and to clean up. When the user requests the service, the library calls `get()` on the `WeakReference`, and if the result is non-`null`, returns that, and if it is `null`, it (re-)creates the service.\r\n\r\nBut now, the application using that library does the following:\r\n 1. It requests the service singleton\r\n 2. It creates an object (the &quot;holder&quot;), which refers to the service singleton and has a finalizer which will make the object (and thus the service singleton) reachable again.\r\n 3. It clears all remaining references to the service singleton and the holder, such that it is only weakly reachable (through the library&#39;s weak reference)\r\n 4. It uses much memory (or calls `System.gc()`, such that the GC clears the weak ref and starts the holder&#39;s finalization\r\n 5. The following three things happen in any order:\r\n   - the holder&#39;s finalizer &quot;resurrects&quot; the service singleton\r\n   - The library cleans up after the singleton\r\n   - The application requests another service singleton - this will be newly created.\r\nNow, the application has two singleton instances, despite the library not having any problematic finalizers!\r\n\r\nThe library could partially guard against this by keeping a `PhantomReference` in addition to the `WeakReference`, and only cleaning up or creating a second instance if the `PhantomReference` is cleared. However, this has a problem: If the `WeakReference` is cleared, but the `PhantomReference` is not, and the application asks the library to give it an instance of the service, the library can neither access the old instance nor create a new one.\r\n\r\nIf `PhantomReference.get()` did not always return `null`, this would be solvable: just let the library use a `PhantomReference` instead of a `WeakReference`, and use `PhantomReference.get()`.\r\n\r\nHere is an example program demonstrating this:\r\n\r\n``` lang-java\r\npackage weirdjava;\r\n\r\nimport java.lang.ref.Reference;\r\nimport java.lang.ref.ReferenceQueue;\r\nimport java.lang.ref.WeakReference;\r\nimport java.util.concurrent.Semaphore;\r\n\r\nimport weirdjava.StronglyReachableAfterWeakReferenceCleared.Library.PublicSingletonService;\r\n\r\npublic class StronglyReachableAfterWeakReferenceCleared\r\n{\r\n\tpublic static void main(String[] args) throws InterruptedException\r\n\t{\r\n\t\tApplication.run();\r\n\t}\r\n\r\n\tpublic static class Application\r\n\t{\r\n\t\tpublic static void run() throws InterruptedException\r\n\t\t{\r\n\t\t\t// Application code initializes the library\r\n\t\t\tLibrary library = new Library();\r\n\t\t\t// &quot;Library&quot; creates the singleton of the public service and tries to detect once it is _definitely_ unreachable.\r\n\t\t\tPublicSingletonService singleton = library.getSingleton();\r\n\r\n\t\t\t// The application code then does weird stuff with the singleton (maliciously, bad programming, or convoluted interactions):\r\n\t\t\t// make holder\r\n\t\t\tApplicationHolder holder = new ApplicationHolder(singleton);\r\n\t\t\t// clear the last remaining strong ref to the singleton\r\n\t\t\tsingleton = null;\r\n\t\t\t// make sure the libraries&#39; weakref is actually cleared - simulates the application using much memory.\r\n\t\t\tSystem.gc();\r\n\r\n\t\t\t// The &quot;library&quot; tries to detect whether the object was cleared, and clean up if it is.\r\n\t\t\t// In this example, we made sure that it is.\r\n\t\t\tlibrary.doCleanupIfNecessary();\r\n\r\n\t\t\t// The application asks the library for the singleton again - because it has been cleared, the library recreates the singleton.\r\n\t\t\tPublicSingletonService secondSingleton = library.getSingleton();\r\n\r\n\t\t\t// Now, the application magically resurrects the first singleton\r\n\t\t\tPublicSingletonService resurrectedSingleton = holder.getReferent();\r\n\t\t\tif(resurrectedSingleton == null)\r\n\t\t\t\tthrow new IllegalStateException(&quot;example failed&quot;);\r\n\r\n\t\t\tSystem.out.println(&quot;Resurrection successful! resurrected: &quot; + resurrectedSingleton);\r\n\r\n\t\t\t// At this point, the weak references to the object have been cleared,\r\n\t\t\t// but the object is still strongly reachable -\r\n\t\t\t// and that without the libraries&#39; class having any finalizer.\r\n\t\t\tSystem.out.println(&quot;Application now has two singletons: &quot; + resurrectedSingleton + &quot;, &quot; + secondSingleton);\r\n\t\t}\r\n\t\tprivate static class ApplicationHolder\r\n\t\t{\r\n\t\t\tprivate final Semaphore\t\treferrerFinalizationComplete;\r\n\t\t\tprivate FinalizableReferrer\treferrerAfterFinalization;\r\n\r\n\t\t\tpublic ApplicationHolder(PublicSingletonService referent)\r\n\t\t\t{\r\n\t\t\t\treferrerFinalizationComplete = new Semaphore(0);\r\n\t\t\t\t// explicitly don&#39;t keep a reference to this, to let it be able to be reclaimed\r\n\t\t\t\tnew FinalizableReferrer(this, referent);\r\n\t\t\t}\r\n\r\n\t\t\tpublic PublicSingletonService getReferent() throws InterruptedException\r\n\t\t\t{\r\n\t\t\t\treferrerFinalizationComplete.acquire();\r\n\t\t\t\treturn referrerAfterFinalization.getReferent();\r\n\t\t\t}\r\n\r\n\t\t\tprivate static class FinalizableReferrer\r\n\t\t\t{\r\n\t\t\t\tprivate final ApplicationHolder\treferrer;\r\n\t\t\t\tprivate final PublicSingletonService\treferent;\r\n\r\n\t\t\t\tpublic FinalizableReferrer(ApplicationHolder referrer, PublicSingletonService referent)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.referrer = referrer;\r\n\t\t\t\t\tthis.referent = referent;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected void finalize()\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Finalizer making referent reachable again&quot;);\r\n\t\t\t\t\treferrer.referrerAfterFinalization = this;\r\n\t\t\t\t\treferrer.referrerFinalizationComplete.release();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpublic PublicSingletonService getReferent()\r\n\t\t\t\t{\r\n\t\t\t\t\treturn referent;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class Library\r\n\t{\r\n\t\t// just for demonstration; in reality, this would have to be thread-safe and whatnot\r\n\t\tprivate int instanceCounter = 0;\r\n\r\n\t\tprivate final ReferenceQueue&lt;PublicSingletonService&gt;\trefqueue;\r\n\t\tprivate WeakReference&lt;PublicSingletonService&gt;\t\tpublicSingletonObjectRef;\r\n\r\n\t\tpublic Library()\r\n\t\t{\r\n\t\t\tthis.refqueue = new ReferenceQueue&lt;&gt;();\r\n\t\t}\r\n\r\n\t\tpublic void doCleanupIfNecessary() throws InterruptedException\r\n\t\t{\r\n\t\t\t// In practice, this would be poll(), not remove() - however, in this example,\r\n\t\t\t// even though we called System.gc() the enqueueing doesn&#39;t happen fast enough.\r\n\t\t\tReference&lt;? extends PublicSingletonService&gt; poll = refqueue.remove();\r\n\t\t\tif(poll != null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Reference to referent was cleared; weakRef.get() is &quot; + publicSingletonObjectRef.get()); // is null\r\n\t\t\t\t// The library cleans up what it needs to clean up\r\n\t\t\t\tSystem.out.println(&quot;Library \\&quot;cleans up\\&quot;&quot;);\r\n\t\t\t} else\r\n\t\t\t\t// In practice, the library would do nothing here.\r\n\t\t\t\tthrow new IllegalStateException(&quot;example failed&quot;);\r\n\t\t}\r\n\r\n\t\tpublic PublicSingletonService getSingleton()\r\n\t\t{\r\n\t\t\tif(publicSingletonObjectRef != null)\r\n\t\t\t{\r\n\t\t\t\t// This is the call to get() which would not be possible with a phantom reference\r\n\t\t\t\tPublicSingletonService previousInstance = publicSingletonObjectRef.get();\r\n\t\t\t\tif(previousInstance != null)\r\n\t\t\t\t\treturn previousInstance;\r\n\t\t\t}\r\n\r\n\t\t\tPublicSingletonService publicSingletonObjectInstance = new PublicSingletonService(&quot;Instance #&quot; + instanceCounter ++);\r\n\t\t\tpublicSingletonObjectRef = new WeakReference&lt;&gt;(publicSingletonObjectInstance, refqueue);\r\n\t\t\treturn publicSingletonObjectInstance;\r\n\t\t}\r\n\r\n\t\tpublic static class PublicSingletonService\r\n\t\t{\r\n\t\t\tprivate final String value;\r\n\r\n\t\t\tpublic PublicSingletonService(String value)\r\n\t\t\t{\r\n\t\t\t\tthis.value = value;\r\n\t\t\t\tSystem.out.println(&quot;Creating singleton object: &quot; + value);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String toString()\r\n\t\t\t{\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Why does PhantomReference.get() always return null?","body":"<p>I know the different kinds of references, and reachability, and how the garbage collector works in general - I have also used the different types of <code>Reference</code>s in some of my personal projects. However, there is one design choice I don't understand: Why the <code>get</code>  method of <code>PhantomReference</code>s always returns <code>null</code>.</p>\n<p><code>PhantomReference</code>s are mostly (only?) used for cleanup actions after the object has &quot;died&quot;. So, the usual answer to my question is &quot;to ensure that the object can't get (strongly) reachable again after the cleanup has started&quot; - or, as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ref/PhantomReference.html\" rel=\"nofollow noreferrer\">the documentation of PhantomReference</a> puts it:</p>\n<blockquote>\n<p>In order to ensure that a reclaimable object remains so, the referent of a phantom reference may not be retrieved: The get method of a phantom reference always returns null.</p>\n</blockquote>\n<p>But as far as I understand, &quot;ensuring that a reclaimable object remains so&quot; doesn't imply that <code>get()</code> must always return <code>null</code>: As long as a phantom reference isn't cleared, its referent isn't reclaimable and also won't be enqueued, and thus the cleanup action won't have been started - meaning that <code>get()</code> could &quot;safely&quot; give access to the referent. It only becomes reclaimable if the reference is cleared, so <code>get()</code> would from then on return <code>null</code> either way. There's also no possibility of race conditions (example: two PhantomRefs to one object; one gets cleared and enqueued, then the object is made accessible again through the other's <code>get</code> method), because the documentation states that all clearing happens atomically (emphasis mine):</p>\n<blockquote>\n<p>At that time it will <strong>atomically</strong> clear <strong>all</strong> phantom references to that object and all phantom references to any other phantom-reachable objects from which that object is reachable.</p>\n</blockquote>\n<hr />\n<p>Because the question came up in comments: I'm asking this not because I have a concrete problem for which I think this would be the solution. Instead, I need to describe the various <code>Reference</code> types in my Master's thesis, where they are relevant, and I want to describe them correctly - including the reasoning behind the design choices.</p>\n<p>However, I can still think of a concrete situation which would explicitly not be covered by using a <code>WeakReference</code>:</p>\n<p>Suppose you were writing a library which provided some service to its users. Let's assume the library wants to ensure that only one instance of this service exists at a time - that it is a &quot;singleton&quot;, so to speak - so let's call the class <code>PublicSingletonService</code>. However, let's assume the service needs many resources to exist - so, the library wants to throw it away once it's not needed anymore, and recreate it once it's needed again. I think this is a reasonable scenario.</p>\n<p>So, the library holds a <code>WeakReference</code> to its singleton, and uses a <code>ReferenceQueue</code> to detect if the singleton is not needed anymore and to clean up. When the user requests the service, the library calls <code>get()</code> on the <code>WeakReference</code>, and if the result is non-<code>null</code>, returns that, and if it is <code>null</code>, it (re-)creates the service.</p>\n<p>But now, the application using that library does the following:</p>\n<ol>\n<li>It requests the service singleton</li>\n<li>It creates an object (the &quot;holder&quot;), which refers to the service singleton and has a finalizer which will make the object (and thus the service singleton) reachable again.</li>\n<li>It clears all remaining references to the service singleton and the holder, such that it is only weakly reachable (through the library's weak reference)</li>\n<li>It uses much memory (or calls <code>System.gc()</code>, such that the GC clears the weak ref and starts the holder's finalization</li>\n<li>The following three things happen in any order:</li>\n</ol>\n<ul>\n<li>the holder's finalizer &quot;resurrects&quot; the service singleton</li>\n<li>The library cleans up after the singleton</li>\n<li>The application requests another service singleton - this will be newly created.\nNow, the application has two singleton instances, despite the library not having any problematic finalizers!</li>\n</ul>\n<p>The library could partially guard against this by keeping a <code>PhantomReference</code> in addition to the <code>WeakReference</code>, and only cleaning up or creating a second instance if the <code>PhantomReference</code> is cleared. However, this has a problem: If the <code>WeakReference</code> is cleared, but the <code>PhantomReference</code> is not, and the application asks the library to give it an instance of the service, the library can neither access the old instance nor create a new one.</p>\n<p>If <code>PhantomReference.get()</code> did not always return <code>null</code>, this would be solvable: just let the library use a <code>PhantomReference</code> instead of a <code>WeakReference</code>, and use <code>PhantomReference.get()</code>.</p>\n<p>Here is an example program demonstrating this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package weirdjava;\n\nimport java.lang.ref.Reference;\nimport java.lang.ref.ReferenceQueue;\nimport java.lang.ref.WeakReference;\nimport java.util.concurrent.Semaphore;\n\nimport weirdjava.StronglyReachableAfterWeakReferenceCleared.Library.PublicSingletonService;\n\npublic class StronglyReachableAfterWeakReferenceCleared\n{\n    public static void main(String[] args) throws InterruptedException\n    {\n        Application.run();\n    }\n\n    public static class Application\n    {\n        public static void run() throws InterruptedException\n        {\n            // Application code initializes the library\n            Library library = new Library();\n            // &quot;Library&quot; creates the singleton of the public service and tries to detect once it is _definitely_ unreachable.\n            PublicSingletonService singleton = library.getSingleton();\n\n            // The application code then does weird stuff with the singleton (maliciously, bad programming, or convoluted interactions):\n            // make holder\n            ApplicationHolder holder = new ApplicationHolder(singleton);\n            // clear the last remaining strong ref to the singleton\n            singleton = null;\n            // make sure the libraries' weakref is actually cleared - simulates the application using much memory.\n            System.gc();\n\n            // The &quot;library&quot; tries to detect whether the object was cleared, and clean up if it is.\n            // In this example, we made sure that it is.\n            library.doCleanupIfNecessary();\n\n            // The application asks the library for the singleton again - because it has been cleared, the library recreates the singleton.\n            PublicSingletonService secondSingleton = library.getSingleton();\n\n            // Now, the application magically resurrects the first singleton\n            PublicSingletonService resurrectedSingleton = holder.getReferent();\n            if(resurrectedSingleton == null)\n                throw new IllegalStateException(&quot;example failed&quot;);\n\n            System.out.println(&quot;Resurrection successful! resurrected: &quot; + resurrectedSingleton);\n\n            // At this point, the weak references to the object have been cleared,\n            // but the object is still strongly reachable -\n            // and that without the libraries' class having any finalizer.\n            System.out.println(&quot;Application now has two singletons: &quot; + resurrectedSingleton + &quot;, &quot; + secondSingleton);\n        }\n        private static class ApplicationHolder\n        {\n            private final Semaphore     referrerFinalizationComplete;\n            private FinalizableReferrer referrerAfterFinalization;\n\n            public ApplicationHolder(PublicSingletonService referent)\n            {\n                referrerFinalizationComplete = new Semaphore(0);\n                // explicitly don't keep a reference to this, to let it be able to be reclaimed\n                new FinalizableReferrer(this, referent);\n            }\n\n            public PublicSingletonService getReferent() throws InterruptedException\n            {\n                referrerFinalizationComplete.acquire();\n                return referrerAfterFinalization.getReferent();\n            }\n\n            private static class FinalizableReferrer\n            {\n                private final ApplicationHolder referrer;\n                private final PublicSingletonService    referent;\n\n                public FinalizableReferrer(ApplicationHolder referrer, PublicSingletonService referent)\n                {\n                    this.referrer = referrer;\n                    this.referent = referent;\n                }\n\n                @Override\n                protected void finalize()\n                {\n                    System.out.println(&quot;Finalizer making referent reachable again&quot;);\n                    referrer.referrerAfterFinalization = this;\n                    referrer.referrerFinalizationComplete.release();\n                }\n\n                public PublicSingletonService getReferent()\n                {\n                    return referent;\n                }\n            }\n        }\n    }\n\n    public static class Library\n    {\n        // just for demonstration; in reality, this would have to be thread-safe and whatnot\n        private int instanceCounter = 0;\n\n        private final ReferenceQueue&lt;PublicSingletonService&gt;    refqueue;\n        private WeakReference&lt;PublicSingletonService&gt;       publicSingletonObjectRef;\n\n        public Library()\n        {\n            this.refqueue = new ReferenceQueue&lt;&gt;();\n        }\n\n        public void doCleanupIfNecessary() throws InterruptedException\n        {\n            // In practice, this would be poll(), not remove() - however, in this example,\n            // even though we called System.gc() the enqueueing doesn't happen fast enough.\n            Reference&lt;? extends PublicSingletonService&gt; poll = refqueue.remove();\n            if(poll != null)\n            {\n                System.out.println(&quot;Reference to referent was cleared; weakRef.get() is &quot; + publicSingletonObjectRef.get()); // is null\n                // The library cleans up what it needs to clean up\n                System.out.println(&quot;Library \\&quot;cleans up\\&quot;&quot;);\n            } else\n                // In practice, the library would do nothing here.\n                throw new IllegalStateException(&quot;example failed&quot;);\n        }\n\n        public PublicSingletonService getSingleton()\n        {\n            if(publicSingletonObjectRef != null)\n            {\n                // This is the call to get() which would not be possible with a phantom reference\n                PublicSingletonService previousInstance = publicSingletonObjectRef.get();\n                if(previousInstance != null)\n                    return previousInstance;\n            }\n\n            PublicSingletonService publicSingletonObjectInstance = new PublicSingletonService(&quot;Instance #&quot; + instanceCounter ++);\n            publicSingletonObjectRef = new WeakReference&lt;&gt;(publicSingletonObjectInstance, refqueue);\n            return publicSingletonObjectInstance;\n        }\n\n        public static class PublicSingletonService\n        {\n            private final String value;\n\n            public PublicSingletonService(String value)\n            {\n                this.value = value;\n                System.out.println(&quot;Creating singleton object: &quot; + value);\n            }\n\n            @Override\n            public String toString()\n            {\n                return value;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1548952115,"post_id":54464978,"comment_id":95738108,"body_markdown":"This seems to be an [XY-Problem](https://en.m.wikipedia.org/wiki/XY_problem). What is your use case?","body":"This seems to be an <a href=\"https://en.m.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY-Problem</a>. What is your use case?"},{"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"score":0,"creation_date":1548952237,"post_id":54464978,"comment_id":95738175,"body_markdown":"I need to validate my schema every 10 minutes @Turing85","body":"I need to validate my schema every 10 minutes @Turing85"},{"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"score":1,"creation_date":1548952462,"post_id":54464978,"comment_id":95738310,"body_markdown":"I think Turing85 wanted to know why you need to validate your schema every 10 minutes.","body":"I think Turing85 wanted to know why you need to validate your schema every 10 minutes."},{"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"score":0,"creation_date":1548952562,"post_id":54464978,"comment_id":95738351,"body_markdown":"oh, its a something in our architecture... @OresteViron","body":"oh, its a something in our architecture... @OresteViron"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1548953264,"post_id":54464978,"comment_id":95738796,"body_markdown":"Possible duplicate of [How to validate database schema programmatically in hibernate with annotations?](https://stackoverflow.com/questions/2327423/how-to-validate-database-schema-programmatically-in-hibernate-with-annotations)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/2327423/how-to-validate-database-schema-programmatically-in-hibernate-with-annotations\">How to validate database schema programmatically in hibernate with annotations?</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1548953279,"post_id":54464978,"comment_id":95738803,"body_markdown":"If you google for it you will find https://stackoverflow.com/questions/2327423/how-to-validate-database-schema-programmatically-in-hibernate-with-annotations","body":"If you google for it you will find <a href=\"https://stackoverflow.com/questions/2327423/how-to-validate-database-schema-programmatically-in-hibernate-with-annotations\" title=\"how to validate database schema programmatically in hibernate with annotations\">stackoverflow.com/questions/2327423/&hellip;</a>"},{"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"score":0,"creation_date":1548958149,"post_id":54464978,"comment_id":95741434,"body_markdown":"I have update my question @SimonMartinelli","body":"I have update my question @SimonMartinelli"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1549141264,"post_id":54464978,"comment_id":95800176,"body_markdown":"@DanielTaub &quot;*oh, its a something in our architecture... @OresteViron*&quot; - Could you elaborate? I get the feeling that a SQL database might be the wrong solution for your problem.","body":"@DanielTaub &quot;<i>oh, its a something in our architecture... @OresteViron</i>&quot; - Could you elaborate? I get the feeling that a SQL database might be the wrong solution for your problem."}],"answers":[{"tags":[],"owner":{"account_id":3345492,"reputation":4077,"user_id":2810730,"display_name":"Oleksii Zghurskyi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1549407632,"creation_date":1549146671,"answer_id":54498154,"question_id":54464978,"body_markdown":"This is solution, if your use case requires:\r\n\r\n - granular &amp; explicit control of which part of the schema should be\r\n   validated\r\n - the need is to validate multiple schemas\r\n - the need is to validate schema that is not used by the service, on which scheduled validator is running\r\n - db connections used by application should not be influenced by validation in any way (meaning, you don&#39;t want to borrow connection from main connections pool)\r\n\r\n\r\nIf above applies for your needs, than this is **example of how to do scheduled schema validation**:\r\n\r\n 1. **Sources**\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableScheduling\r\n@EnableConfigurationProperties(ScheamValidatorProperties.class)\r\npublic class SchemaValidatorApplication {\r\n     public static void main(String[] args) {\r\n       SpringApplication.run(SchemaValidatorApplication.class, args);\r\n    }\r\n}\r\n\r\n@ConfigurationProperties(&quot;schema-validator&quot;)\r\nclass ScheamValidatorProperties {\r\n    public Map&lt;String, String&gt; settings = new HashMap&lt;&gt;();\r\n\r\n    public ScheamValidatorProperties() {\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getSettings() { \r\n        return this.settings;\r\n    }\r\n\r\n    public void setSome(Map&lt;String, String&gt; settings) { \r\n        this.settings = settings;\r\n    }\r\n}\r\n\r\n@Component\r\nclass ScheduledSchemaValidator {\r\n    \r\n    private ScheamValidatorProperties props;\r\n    \r\n    public ScheduledSchemaValidator(ScheamValidatorProperties props) {\r\n        this.props = props;\r\n    }\r\n\r\n    @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)\r\n    public void validateSchema() {\r\n        StandardServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n            .applySettings(props.getSettings())\r\n            .build();\r\n\r\n        Metadata metadata = new MetadataSources(serviceRegistry)\r\n            .addAnnotatedClass(Entity1.class)\r\n            .addAnnotatedClass(Entity2.class)\r\n            .buildMetadata();\r\n\r\n        try {\r\n            new SchemaValidator().validate(metadata, serviceRegistry);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Validation failed: &quot; + e.getMessage());\r\n        } finally {\r\n            StandardServiceRegistryBuilder.destroy(serviceRegistry);\r\n        }\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;table1&quot;)\r\nclass Entity1 {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    Entity1() {}\r\n    \r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;table2&quot;)\r\nclass Entity2 {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    Entity2() {}\r\n    \r\n    public Long getId() {\r\n        return id;\r\n    }\r\n}\r\n```\r\n\r\n 2. **schema.sql**\r\n```\r\nCREATE DATABASE IF NOT EXISTS testdb;\r\n\r\nCREATE TABLE IF NOT EXISTS `table1` (\r\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n  PRIMARY KEY (`id`)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS `table2` (\r\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n  PRIMARY KEY (`id`)\r\n);\r\n\r\n```\r\n 3. **application.yml**\r\n```\r\nspring:\r\n  cache:\r\n    type: none\r\n  datasource:\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    url: jdbc:mysql://localhost:3309/testdb?useSSL=false&amp;nullNamePatternMatchesAll=true&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true\r\n    username: test_user\r\n    password: test_password\r\n    testWhileIdle: true\r\n    validationQuery: SELECT 1\r\n  jpa:\r\n    show-sql: false\r\n    database-platform: org.hibernate.dialect.MySQL8Dialect\r\n    hibernate:\r\n      ddl-auto: none\r\n      naming:\r\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n    properties:\r\n      hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\r\n      hibernate.cache.use_second_level_cache: false\r\n      hibernate.cache.use_query_cache: false\r\n      hibernate.generate_statistics: false\r\n      hibernate.hbm2ddl.auto: validate\r\n\r\nschema-validator:\r\n    settings:\r\n        connection.driver_class: com.mysql.cj.jdbc.Driver\r\n        hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\r\n        hibernate.connection.url: jdbc:mysql://localhost:3309/testdb?autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\r\n        hibernate.connection.username: test_user\r\n        hibernate.connection.password: test_password\r\n        hibernate.default_schema: testdb\r\n\r\n```\r\n\r\n 4. **docker-compose.yml**\r\n```\r\nversion: &#39;3.0&#39;\r\n\r\nservices:\r\n  db:\r\n    image: mysql:8.0.14\r\n    restart: always\r\n    ports:\r\n     - 3309:3306\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: test_password\r\n      MYSQL_DATABASE: testdb\r\n      MYSQL_USER: test_user\r\n      MYSQL_PASSWORD: test_password\r\n```","title":"Validate schema programmatically using hibernate","body":"<p>This is solution, if your use case requires:</p>\n\n<ul>\n<li>granular &amp; explicit control of which part of the schema should be\nvalidated</li>\n<li>the need is to validate multiple schemas</li>\n<li>the need is to validate schema that is not used by the service, on which scheduled validator is running</li>\n<li>db connections used by application should not be influenced by validation in any way (meaning, you don't want to borrow connection from main connections pool)</li>\n</ul>\n\n<p>If above applies for your needs, than this is <strong>example of how to do scheduled schema validation</strong>:</p>\n\n<ol>\n<li><strong>Sources</strong></li>\n</ol>\n\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@EnableConfigurationProperties(ScheamValidatorProperties.class)\npublic class SchemaValidatorApplication {\n     public static void main(String[] args) {\n       SpringApplication.run(SchemaValidatorApplication.class, args);\n    }\n}\n\n@ConfigurationProperties(\"schema-validator\")\nclass ScheamValidatorProperties {\n    public Map&lt;String, String&gt; settings = new HashMap&lt;&gt;();\n\n    public ScheamValidatorProperties() {\n    }\n\n    public Map&lt;String, String&gt; getSettings() { \n        return this.settings;\n    }\n\n    public void setSome(Map&lt;String, String&gt; settings) { \n        this.settings = settings;\n    }\n}\n\n@Component\nclass ScheduledSchemaValidator {\n\n    private ScheamValidatorProperties props;\n\n    public ScheduledSchemaValidator(ScheamValidatorProperties props) {\n        this.props = props;\n    }\n\n    @Scheduled(cron = \"0 0/1 * * * ?\")\n    public void validateSchema() {\n        StandardServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n            .applySettings(props.getSettings())\n            .build();\n\n        Metadata metadata = new MetadataSources(serviceRegistry)\n            .addAnnotatedClass(Entity1.class)\n            .addAnnotatedClass(Entity2.class)\n            .buildMetadata();\n\n        try {\n            new SchemaValidator().validate(metadata, serviceRegistry);\n        } catch (Exception e) {\n            System.out.println(\"Validation failed: \" + e.getMessage());\n        } finally {\n            StandardServiceRegistryBuilder.destroy(serviceRegistry);\n        }\n    }\n}\n\n@Entity\n@Table(name = \"table1\")\nclass Entity1 {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    Entity1() {}\n\n    public Long getId() {\n        return id;\n    }\n\n}\n\n@Entity\n@Table(name = \"table2\")\nclass Entity2 {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    Entity2() {}\n\n    public Long getId() {\n        return id;\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><strong>schema.sql</strong></li>\n</ol>\n\n<pre><code>CREATE DATABASE IF NOT EXISTS testdb;\n\nCREATE TABLE IF NOT EXISTS `table1` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `table2` (\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`id`)\n);\n\n</code></pre>\n\n<ol start=\"3\">\n<li><strong>application.yml</strong></li>\n</ol>\n\n<pre><code>spring:\n  cache:\n    type: none\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3309/testdb?useSSL=false&amp;nullNamePatternMatchesAll=true&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true\n    username: test_user\n    password: test_password\n    testWhileIdle: true\n    validationQuery: SELECT 1\n  jpa:\n    show-sql: false\n    database-platform: org.hibernate.dialect.MySQL8Dialect\n    hibernate:\n      ddl-auto: none\n      naming:\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n    properties:\n      hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\n      hibernate.cache.use_second_level_cache: false\n      hibernate.cache.use_query_cache: false\n      hibernate.generate_statistics: false\n      hibernate.hbm2ddl.auto: validate\n\nschema-validator:\n    settings:\n        connection.driver_class: com.mysql.cj.jdbc.Driver\n        hibernate.dialect: org.hibernate.dialect.MySQL8Dialect\n        hibernate.connection.url: jdbc:mysql://localhost:3309/testdb?autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\n        hibernate.connection.username: test_user\n        hibernate.connection.password: test_password\n        hibernate.default_schema: testdb\n\n</code></pre>\n\n<ol start=\"4\">\n<li><strong>docker-compose.yml</strong></li>\n</ol>\n\n<pre><code>version: '3.0'\n\nservices:\n  db:\n    image: mysql:8.0.14\n    restart: always\n    ports:\n     - 3309:3306\n    environment:\n      MYSQL_ROOT_PASSWORD: test_password\n      MYSQL_DATABASE: testdb\n      MYSQL_USER: test_user\n      MYSQL_PASSWORD: test_password\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549252459,"creation_date":1549252459,"answer_id":54509954,"question_id":54464978,"body_markdown":"If you want to let the `SchemaValidator` to reuse the connection configuration and the mapping information that are already configured in the project rather then defining them once again for schema validation,  you should consider my solution such that you are DRY and don&#39;t need to maintain these configurations in two separate places.\r\n\r\nActually , what  `SchemaValidator` requires is the `Metadata` instance which is only available during bootstrapping Hibernate . But we can use Hibernate Integrator API (as described in [here][1]) to capture it such that we can validate them later.\r\n\r\n(1) Create `SchemaValidateService` which implements Hibernate Integrator API to capture `Metadata`. Also setup a `@Scheduled` method to validate the schema at desired time.\r\n\r\n\r\n    @Component\r\n    public class SchemaValidateService implements Integrator {\r\n    \r\n        private Metadata metadata;\r\n    \r\n        @Override\r\n        public void integrate(Metadata metadata, SessionFactoryImplementor sessionFactory,\r\n                SessionFactoryServiceRegistry serviceRegistry) {\r\n            this.metadata = metadata;\r\n        }\r\n    \r\n        @Override\r\n        public void disintegrate(SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry) {\r\n        }\r\n    \r\n        //Adjust the scheduled time here\r\n        @Scheduled(cron = &quot;0 0/1 * * * ?&quot;)\r\n        public void validate() {\r\n            try {\r\n                System.out.println(&quot;Start validating schema&quot;);\r\n                new SchemaValidator().validate(metadata);\r\n            } catch (Exception e) {\r\n                //log the validation error here.\r\n            }\r\n            System.out.println(&quot;Finish validating schema....&quot;);\r\n        }\r\n    }\r\n\r\n(2) Register `SchemaValidateService` to Hibernate\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    public class App {\r\n    \r\n    \t@Bean\r\n        public HibernatePropertiesCustomizer hibernatePropertiesCustomizer(SchemaValidateService schemaValidateService) {\r\n            return (prop -&gt; {\r\n                List&lt;Integrator&gt; integrators = new ArrayList&lt;&gt;();\r\n                integrators.add(schemaValidateService);\r\n                prop.put(&quot;hibernate.integrator_provider&quot;, (IntegratorProvider) () -&gt; integrators);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nAlso, this solution should has better performance as it does not need to create a new database connection for validating schema each time as it can just grab the connection from the existing connection pool.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/how-to-get-access-to-database-table-metadata-with-hibernate-5/\r\n","title":"Validate schema programmatically using hibernate","body":"<p>If you want to let the <code>SchemaValidator</code> to reuse the connection configuration and the mapping information that are already configured in the project rather then defining them once again for schema validation,  you should consider my solution such that you are DRY and don't need to maintain these configurations in two separate places.</p>\n\n<p>Actually , what  <code>SchemaValidator</code> requires is the <code>Metadata</code> instance which is only available during bootstrapping Hibernate . But we can use Hibernate Integrator API (as described in <a href=\"https://vladmihalcea.com/how-to-get-access-to-database-table-metadata-with-hibernate-5/\" rel=\"nofollow noreferrer\">here</a>) to capture it such that we can validate them later.</p>\n\n<p>(1) Create <code>SchemaValidateService</code> which implements Hibernate Integrator API to capture <code>Metadata</code>. Also setup a <code>@Scheduled</code> method to validate the schema at desired time.</p>\n\n<pre><code>@Component\npublic class SchemaValidateService implements Integrator {\n\n    private Metadata metadata;\n\n    @Override\n    public void integrate(Metadata metadata, SessionFactoryImplementor sessionFactory,\n            SessionFactoryServiceRegistry serviceRegistry) {\n        this.metadata = metadata;\n    }\n\n    @Override\n    public void disintegrate(SessionFactoryImplementor sessionFactory, SessionFactoryServiceRegistry serviceRegistry) {\n    }\n\n    //Adjust the scheduled time here\n    @Scheduled(cron = \"0 0/1 * * * ?\")\n    public void validate() {\n        try {\n            System.out.println(\"Start validating schema\");\n            new SchemaValidator().validate(metadata);\n        } catch (Exception e) {\n            //log the validation error here.\n        }\n        System.out.println(\"Finish validating schema....\");\n    }\n}\n</code></pre>\n\n<p>(2) Register <code>SchemaValidateService</code> to Hibernate</p>\n\n<pre><code>@SpringBootApplication\n@EnableScheduling\npublic class App {\n\n    @Bean\n    public HibernatePropertiesCustomizer hibernatePropertiesCustomizer(SchemaValidateService schemaValidateService) {\n        return (prop -&gt; {\n            List&lt;Integrator&gt; integrators = new ArrayList&lt;&gt;();\n            integrators.add(schemaValidateService);\n            prop.put(\"hibernate.integrator_provider\", (IntegratorProvider) () -&gt; integrators);\n        });\n    }\n}\n</code></pre>\n\n<p>Also, this solution should has better performance as it does not need to create a new database connection for validating schema each time as it can just grab the connection from the existing connection pool.</p>\n"},{"tags":[],"owner":{"account_id":7200190,"reputation":175,"user_id":5497653,"display_name":"Geert Graat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694518024,"creation_date":1694518024,"answer_id":77088672,"question_id":54464978,"body_markdown":"I came across this post when I needed to find a way to validate the schema by Hibernate in a testcase. Reason for this is that the schema is created in the test using database scripts. When I set the following property\r\n\r\n    hibernate.hbm2ddl.auto=validate\r\n\r\nHibernate will immediately report the tables are not there, before the create scripts are executed.\r\n\r\nSo I needed a way to validate the schema after it has been created. I found that in Hibernate 6.2 the [`SchemaManager`][1] interface was introduced, which you can obtain via the `SessionFactory`, which is exactly suited for this task.\r\n\r\nUsing the following code you can easily validate the current schema in a testcase:\r\n\r\n    @Autowired\r\n    SessionFactory sessionFactory;\r\n       \r\n    @Test\r\n    void validateSchema() {\r\n      sessionFactory.getSchemaManager().validateMappedObjects();\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/relational/SchemaManager.html\r\n\r\n","title":"Validate schema programmatically using hibernate","body":"<p>I came across this post when I needed to find a way to validate the schema by Hibernate in a testcase. Reason for this is that the schema is created in the test using database scripts. When I set the following property</p>\n<pre><code>hibernate.hbm2ddl.auto=validate\n</code></pre>\n<p>Hibernate will immediately report the tables are not there, before the create scripts are executed.</p>\n<p>So I needed a way to validate the schema after it has been created. I found that in Hibernate 6.2 the <a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/relational/SchemaManager.html\" rel=\"nofollow noreferrer\"><code>SchemaManager</code></a> interface was introduced, which you can obtain via the <code>SessionFactory</code>, which is exactly suited for this task.</p>\n<p>Using the following code you can easily validate the current schema in a testcase:</p>\n<pre><code>@Autowired\nSessionFactory sessionFactory;\n   \n@Test\nvoid validateSchema() {\n  sessionFactory.getSchemaManager().validateMappedObjects();\n}\n</code></pre>\n"}],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10379,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54498154,"answer_count":3,"score":7,"last_activity_date":1694518024,"creation_date":1548951867,"question_id":54464978,"body_markdown":"In mose projects the way to run your `java app` with schema validation is with that configuration (when using spring):\r\n\r\n    spring.jpa.hibernate.ddl-auto=validate\r\nI ran into a problem that I need to validate my schema at a specific times during running, is there any way to implement that?\r\n\r\nI saw that hibernate managed it with the [`AbstractSchemaValidator`][1],\r\nI&#39;m using spring with hibernate, and I didn&#39;t found any information how to deal with it,&lt;br&gt; the only thing I found is [How to validate database schema programmatically in hibernate with annotations?\r\n][2], but it was removed in  the older versions of `spring-boot`&lt;br&gt; \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nany ideas?\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/tool/schema/internal/AbstractSchemaValidator.html#validateTable-org.hibernate.mapping.Table-org.hibernate.tool.schema.extract.spi.TableInformation-org.hibernate.boot.Metadata-org.hibernate.tool.schema.spi.ExecutionOptions-org.hibernate.dialect.Dialect-\r\n  [2]: https://stackoverflow.com/questions/2327423/how-to-validate-database-schema-programmatically-in-hibernate-with-annotations\r\n","title":"Validate schema programmatically using hibernate","body":"<p>In mose projects the way to run your <code>java app</code> with schema validation is with that configuration (when using spring):</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=validate\n</code></pre>\n\n<p>I ran into a problem that I need to validate my schema at a specific times during running, is there any way to implement that?</p>\n\n<p>I saw that hibernate managed it with the <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/tool/schema/internal/AbstractSchemaValidator.html#validateTable-org.hibernate.mapping.Table-org.hibernate.tool.schema.extract.spi.TableInformation-org.hibernate.boot.Metadata-org.hibernate.tool.schema.spi.ExecutionOptions-org.hibernate.dialect.Dialect-\" rel=\"noreferrer\"><code>AbstractSchemaValidator</code></a>,\nI'm using spring with hibernate, and I didn't found any information how to deal with it,<br> the only thing I found is <a href=\"https://stackoverflow.com/questions/2327423/how-to-validate-database-schema-programmatically-in-hibernate-with-annotations\">How to validate database schema programmatically in hibernate with annotations?\n</a>, but it was removed in  the older versions of <code>spring-boot</code><br> </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>any ideas?</p>\n"},{"tags":["java","spring","spring-boot","telegram-bot"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1694527232,"post_id":76532601,"comment_id":135900704,"body_markdown":"Why did you create the default constructor for the `Bot` class? I mean this: `public Bot(){}`","body":"Why did you create the default constructor for the <code>Bot</code> class? I mean this: <code>public Bot(){}</code>"}],"owner":{"account_id":28670222,"reputation":1,"user_id":21953433,"display_name":"Nihat Pehlivanoglu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694517520,"creation_date":1687441613,"question_id":76532601,"body_markdown":"It&#39;s my service class.\r\n```\r\n\r\nimport dto.NewUser;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class UserService {\r\n    private final UserRepository userRepository;\r\n\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Transactional\r\n    public long create(NewUser user) {\r\n        return userRepository.create(new User(user.telegramUserId(),user.firstname(),user.lastname()));\r\n    }\r\n}\r\n\r\n```\r\nand this is my telegram bot class.\r\n\r\n```\r\npackage be.robaws.brootjesbot.bot;\r\n\r\nimport be.robaws.brootjesbot.services.UserService;\r\nimport dto.NewUser;\r\nimport jakarta.annotation.Resource;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\r\nimport org.telegram.telegrambots.meta.api.methods.send.SendMessage;\r\nimport org.telegram.telegrambots.meta.api.objects.Update;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.ReplyKeyboardMarkup;\r\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardRow;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\n\r\nimport java.time.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class Bot extends TelegramLongPollingBot {\r\n    @Autowired\r\n    private   UserService userService;\r\n\r\n    public Bot(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    public Bot(){}\r\n    @Override\r\n    public String getBotUsername() {\r\n        return &quot;myUserName&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return &quot;mytoken&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        var user = update.getMessage().getFrom();\r\n        var id = user.getId();\r\n        var msg = update.getMessage();\r\n\r\n        Instant instant = Instant.ofEpochSecond(update.getMessage().getDate());\r\n        ZoneId belgiumZone = ZoneId.of(&quot;Europe/Brussels&quot;);\r\n        LocalDateTime date = LocalDateTime.ofInstant(instant, belgiumZone);\r\n        System.out.println(id + &quot;, &quot; + date + &quot;: &quot; + user.getFirstName() + &quot; &quot; + user.getLastName() + &quot;: &quot; + msg.getText());\r\n\r\n        if (msg.isCommand()) {\r\n            if (msg.getText().equals(&quot;/menu&quot;)) {\r\n                try {\r\n                    sendInitialKeyboard(id);\r\n                } catch (TelegramApiException ex) {\r\n                    System.err.println(ex);\r\n                }\r\n\r\n            } **else if (msg.getText().equals(&quot;/schrijf_me_in&quot;)) {\r\n                NewUser newUser = new NewUser(id, user.getFirstName(), user.getLastName());\r\n                long userId = userService.create(newUser);\r\n            }**\r\n        }\r\n\r\n    }\r\n\r\n    private void sendInitialKeyboard(Long chatId) throws TelegramApiException {\r\n        ReplyKeyboardMarkup keyboard = new ReplyKeyboardMarkup();\r\n        keyboard.setResizeKeyboard(true);\r\n        keyboard.setOneTimeKeyboard(true);\r\n        keyboard.setSelective(true);\r\n\r\n        List&lt;KeyboardRow&gt; keyboardRows = new ArrayList&lt;&gt;();\r\n        KeyboardRow row1 = new KeyboardRow();\r\n        row1.add(&quot;\\uD83E\\uDD56 Kies om een broodje te bestellen&quot;);\r\n        KeyboardRow row2 = new KeyboardRow();\r\n        row2.add(&quot;\\uD83D\\uDD04 Kies om een bestaande bestelling te vervangen&quot;);\r\n        KeyboardRow row3 = new KeyboardRow();\r\n        row3.add(&quot;\\u274C Kies om een bestaande bestelling te annuleren&quot;);\r\n        KeyboardRow row4 = new KeyboardRow();\r\n        row4.add(&quot;\\uD83D\\uDC41️ Kies om uw bestelling te zien&quot;);\r\n        KeyboardRow row5 = new KeyboardRow();\r\n        row5.add(&quot;\\uD83D\\uDC41️ Kies om vorige bestellingen te zien&quot;);\r\n\r\n        keyboardRows.add(row1);\r\n        keyboardRows.add(row2);\r\n        keyboardRows.add(row3);\r\n        keyboardRows.add(row4);\r\n        keyboardRows.add(row5);\r\n\r\n        keyboard.setKeyboard(keyboardRows);\r\n        keyboard.setInputFieldPlaceholder(&quot;Kies een optie: &quot;);\r\n\r\n\r\n        SendMessage message = new SendMessage();\r\n        message.setChatId(chatId.toString());\r\n        message.setText(&quot;Kies een optie: &quot;);\r\n        message.setReplyMarkup(keyboard);\r\n\r\n\r\n        execute(message);\r\n    }\r\n\r\n\r\n    public void sendText(Long who, String what) {\r\n        SendMessage sm = SendMessage.builder()\r\n                .chatId(who.toString()) //Who are we sending a message to\r\n                .text(what).build();    //Message content\r\n        try {\r\n            execute(sm);                        //Actually sending the message\r\n        } catch (TelegramApiException e) {\r\n            throw new RuntimeException(e);      //Any error will be printed here\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nIn my telegramBot class i want to call service.createUser method but if i try that i recieve this fault; \r\n\r\n2023-06-22T15:37:37.793+02:00 ERROR 9440 --- [legram Executor] o.t.t.u.DefaultBotSession                : Cannot invoke &quot;be.robaws.brootjesbot.services.UserService.create(dto.NewUser)&quot; because &quot;this.userService&quot; is null\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;be.robaws.brootjesbot.services.UserService.create(dto.NewUser)&quot; because &quot;this.userService&quot; is null\r\n\tat be.robaws.brootjesbot.bot.Bot.onUpdateReceived(Bot.java:61) ~[classes/:na]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27) ~[telegrambots-meta-6.0.1.jar:na]\r\n\tat org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:317) ~[telegrambots-6.0.1.jar:na]\r\n\r\nI tried almost everything but i can not create a bean for service. How can i fix it ? \r\n\r\n\r\nHow can i use a spring boot service function in a telegram bot class ? ","title":"How can i call a spring boot service function in a telegram bot class","body":"<p>It's my service class.</p>\n<pre><code>\nimport dto.NewUser;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Transactional(readOnly = true)\npublic class UserService {\n    private final UserRepository userRepository;\n\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Transactional\n    public long create(NewUser user) {\n        return userRepository.create(new User(user.telegramUserId(),user.firstname(),user.lastname()));\n    }\n}\n\n</code></pre>\n<p>and this is my telegram bot class.</p>\n<pre><code>package be.robaws.brootjesbot.bot;\n\nimport be.robaws.brootjesbot.services.UserService;\nimport dto.NewUser;\nimport jakarta.annotation.Resource;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\nimport org.telegram.telegrambots.bots.TelegramLongPollingBot;\nimport org.telegram.telegrambots.meta.api.methods.send.SendMessage;\nimport org.telegram.telegrambots.meta.api.objects.Update;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.ReplyKeyboardMarkup;\nimport org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardRow;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\n\nimport java.time.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Component\npublic class Bot extends TelegramLongPollingBot {\n    @Autowired\n    private   UserService userService;\n\n    public Bot(UserService userService) {\n        this.userService = userService;\n    }\n\n    public Bot(){}\n    @Override\n    public String getBotUsername() {\n        return &quot;myUserName&quot;;\n    }\n\n    @Override\n    public String getBotToken() {\n        return &quot;mytoken&quot;;\n    }\n\n    @Override\n    public void onUpdateReceived(Update update) {\n        var user = update.getMessage().getFrom();\n        var id = user.getId();\n        var msg = update.getMessage();\n\n        Instant instant = Instant.ofEpochSecond(update.getMessage().getDate());\n        ZoneId belgiumZone = ZoneId.of(&quot;Europe/Brussels&quot;);\n        LocalDateTime date = LocalDateTime.ofInstant(instant, belgiumZone);\n        System.out.println(id + &quot;, &quot; + date + &quot;: &quot; + user.getFirstName() + &quot; &quot; + user.getLastName() + &quot;: &quot; + msg.getText());\n\n        if (msg.isCommand()) {\n            if (msg.getText().equals(&quot;/menu&quot;)) {\n                try {\n                    sendInitialKeyboard(id);\n                } catch (TelegramApiException ex) {\n                    System.err.println(ex);\n                }\n\n            } **else if (msg.getText().equals(&quot;/schrijf_me_in&quot;)) {\n                NewUser newUser = new NewUser(id, user.getFirstName(), user.getLastName());\n                long userId = userService.create(newUser);\n            }**\n        }\n\n    }\n\n    private void sendInitialKeyboard(Long chatId) throws TelegramApiException {\n        ReplyKeyboardMarkup keyboard = new ReplyKeyboardMarkup();\n        keyboard.setResizeKeyboard(true);\n        keyboard.setOneTimeKeyboard(true);\n        keyboard.setSelective(true);\n\n        List&lt;KeyboardRow&gt; keyboardRows = new ArrayList&lt;&gt;();\n        KeyboardRow row1 = new KeyboardRow();\n        row1.add(&quot;\\uD83E\\uDD56 Kies om een broodje te bestellen&quot;);\n        KeyboardRow row2 = new KeyboardRow();\n        row2.add(&quot;\\uD83D\\uDD04 Kies om een bestaande bestelling te vervangen&quot;);\n        KeyboardRow row3 = new KeyboardRow();\n        row3.add(&quot;\\u274C Kies om een bestaande bestelling te annuleren&quot;);\n        KeyboardRow row4 = new KeyboardRow();\n        row4.add(&quot;\\uD83D\\uDC41️ Kies om uw bestelling te zien&quot;);\n        KeyboardRow row5 = new KeyboardRow();\n        row5.add(&quot;\\uD83D\\uDC41️ Kies om vorige bestellingen te zien&quot;);\n\n        keyboardRows.add(row1);\n        keyboardRows.add(row2);\n        keyboardRows.add(row3);\n        keyboardRows.add(row4);\n        keyboardRows.add(row5);\n\n        keyboard.setKeyboard(keyboardRows);\n        keyboard.setInputFieldPlaceholder(&quot;Kies een optie: &quot;);\n\n\n        SendMessage message = new SendMessage();\n        message.setChatId(chatId.toString());\n        message.setText(&quot;Kies een optie: &quot;);\n        message.setReplyMarkup(keyboard);\n\n\n        execute(message);\n    }\n\n\n    public void sendText(Long who, String what) {\n        SendMessage sm = SendMessage.builder()\n                .chatId(who.toString()) //Who are we sending a message to\n                .text(what).build();    //Message content\n        try {\n            execute(sm);                        //Actually sending the message\n        } catch (TelegramApiException e) {\n            throw new RuntimeException(e);      //Any error will be printed here\n        }\n    }\n\n\n}\n\n</code></pre>\n<p>In my telegramBot class i want to call service.createUser method but if i try that i recieve this fault;</p>\n<p>2023-06-22T15:37:37.793+02:00 ERROR 9440 --- [legram Executor] o.t.t.u.DefaultBotSession                : Cannot invoke &quot;be.robaws.brootjesbot.services.UserService.create(dto.NewUser)&quot; because &quot;this.userService&quot; is null</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;be.robaws.brootjesbot.services.UserService.create(dto.NewUser)&quot; because &quot;this.userService&quot; is null\nat be.robaws.brootjesbot.bot.Bot.onUpdateReceived(Bot.java:61) ~[classes/:na]\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\nat org.telegram.telegrambots.meta.generics.LongPollingBot.onUpdatesReceived(LongPollingBot.java:27) ~[telegrambots-meta-6.0.1.jar:na]\nat org.telegram.telegrambots.updatesreceivers.DefaultBotSession$HandlerThread.run(DefaultBotSession.java:317) ~[telegrambots-6.0.1.jar:na]</p>\n<p>I tried almost everything but i can not create a bean for service. How can i fix it ?</p>\n<p>How can i use a spring boot service function in a telegram bot class ?</p>\n"},{"tags":["java","azure","azure-active-directory"],"comments":[{"owner":{"account_id":4081176,"reputation":56,"user_id":3351631,"display_name":"lukasinko"},"score":1,"creation_date":1674203528,"post_id":73984493,"comment_id":132667895,"body_markdown":"Hi, we are having the same error. Have you found solution for it ? We have noticed, that it is connected to one specific Azure instance, because the same code works with different account. Maybe some Locale/Region settings - but haven&#39;t found the resolution for it.","body":"Hi, we are having the same error. Have you found solution for it ? We have noticed, that it is connected to one specific Azure instance, because the same code works with different account. Maybe some Locale/Region settings - but haven&#39;t found the resolution for it."}],"answers":[{"tags":[],"owner":{"account_id":11777559,"reputation":1172,"user_id":8627215,"display_name":"James Netherton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675694164,"creation_date":1675694164,"answer_id":75362707,"question_id":73984493,"body_markdown":"I observed a similar problem.\r\n\r\nOn the Azure storage account, you must enable the hierarchical namespace. Otherwise you&#39;re likely to encounter errors.\r\n\r\nhttps://learn.microsoft.com/en-us/azure/storage/blobs/create-data-lake-storage-account#enable-the-hierarchical-namespace\r\n","title":"NumberFormatException - Azure Blob Listing","body":"<p>I observed a similar problem.</p>\n<p>On the Azure storage account, you must enable the hierarchical namespace. Otherwise you're likely to encounter errors.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/create-data-lake-storage-account#enable-the-hierarchical-namespace\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/storage/blobs/create-data-lake-storage-account#enable-the-hierarchical-namespace</a></p>\n"},{"tags":[],"owner":{"account_id":9702279,"reputation":11,"user_id":10395510,"display_name":"Arv93"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694517488,"creation_date":1694517313,"answer_id":77088593,"question_id":73984493,"body_markdown":"I&#39;ve also faced a similar issue. As James mentioned above, it is due to using APIs that work against ADLS gen2 only.\r\nIf you&#39;re setting up a new storage account, you can create an account with Gen2 storage directly as mentioned above:\r\nhttps://learn.microsoft.com/en-us/azure/storage/blobs/create-data-lake-storage-account#enable-the-hierarchical-namespace\r\n\r\nIn case, you&#39;ve already setup an account, you can upgrade it to use ADLS gen2 as well. The only caveat is that all the containers in this account will be inaccessible during the upgrade, including UI access and any other hooks that you might have attached to these containers.\r\nHere&#39;s how to go ahead with the upgrade.\r\n\r\nhttps://learn.microsoft.com/en-us/azure/storage/blobs/upgrade-to-data-lake-storage-gen2-how-to?tabs=azure-portal\r\n\r\nThanks a lot for the help \r\n[@James][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/8627215/james-netherton!!","title":"NumberFormatException - Azure Blob Listing","body":"<p>I've also faced a similar issue. As James mentioned above, it is due to using APIs that work against ADLS gen2 only.\nIf you're setting up a new storage account, you can create an account with Gen2 storage directly as mentioned above:\n<a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/create-data-lake-storage-account#enable-the-hierarchical-namespace\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/storage/blobs/create-data-lake-storage-account#enable-the-hierarchical-namespace</a></p>\n<p>In case, you've already setup an account, you can upgrade it to use ADLS gen2 as well. The only caveat is that all the containers in this account will be inaccessible during the upgrade, including UI access and any other hooks that you might have attached to these containers.\nHere's how to go ahead with the upgrade.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/upgrade-to-data-lake-storage-gen2-how-to?tabs=azure-portal\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/storage/blobs/upgrade-to-data-lake-storage-gen2-how-to?tabs=azure-portal</a></p>\n<p>Thanks a lot for the help\n<a href=\"https://stackoverflow.com/users/8627215/james-netherton!!\">@James</a></p>\n"}],"owner":{"account_id":17924121,"reputation":95,"user_id":13023168,"display_name":"SMValiAli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1694517488,"creation_date":1665131690,"question_id":73984493,"body_markdown":"I am trying to list the blobs from directory with azure file directory system.\r\n\r\nBut I am getting number format exception , please help me .\r\n\r\n    &#39;&#39;&#39;Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Wed, 24 Aug 2022 15:06:25 GMT&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    \tat java.lang.Long.parseLong(Long.java:589)\r\n    \tat java.lang.Long.parseLong(Long.java:631)\r\n    \tat com.azure.storage.file.datalake.Transforms.toPathItem(Transforms.java:351)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n    \tat com.azure.storage.file.datalake.DataLakeFileSystemAsyncClient.lambda$listPathsWithOptionalTimeout$3(DataLakeFileSystemAsyncClient.java:708)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\r\n    \tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)\r\n    \tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:257)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\r\n    \tat reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:161)\r\n    \tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\r\n    \tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n    \tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173)\r\n    \tat reactor.core.publisher.FluxDoOnEach$DoOnEachFuseableSubscriber.onNext(FluxDoOnEach.java:281)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:189)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:180)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\r\n    \tat reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\r\n    \tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n    \tat reactor.core.publisher.Operators$MonoInnerProducerBase.complete(Operators.java:2664)\r\n    \tat reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:180)\r\n    \tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n    \tat reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128)\r\n    \tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\r\n    \tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\r\n    \tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\r\n    \tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275)\r\n    \tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\r\n    \tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\r\n    \tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373)\r\n    \tat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1247)\r\n    \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1287)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n    \t\tat reactor.core.publisher.Flux.blockLast(Flux.java:2645)\r\n    \t\tat com.azure.core.util.paging.ContinuablePagedByIteratorBase.requestPage(ContinuablePagedByIteratorBase.java:102)\r\n    \t\tat com.azure.core.util.paging.ContinuablePagedByItemIterable$ContinuablePagedByItemIterator.&lt;init&gt;(ContinuablePagedByItemIterable.java:75)\r\n    \t\tat com.azure.core.util.paging.ContinuablePagedByItemIterable.iterator(ContinuablePagedByItemIterable.java:55)\r\n    \t\tat com.azure.core.util.paging.ContinuablePagedIterable.iterator(ContinuablePagedIterable.java:141)\r\n    \t\tat adlsconnection.ADLSConnection.listFilesInDirectory(&#39;&#39;&#39;\r\n\r\nFollowing is the code that I am using\r\n\r\n```public void ListFilesInDirectory(DataLakeFileSystemClient fileSystemClient){\r\n    \r\n    ListPathsOptions options = new ListPathsOptions();\r\n    options.setPath(&quot;my-directory&quot;);\r\n \r\n    PagedIterable&lt;PathItem&gt; pagedIterable = \r\n    fileSystemClient.listPaths(options, null);\r\n\r\n    java.util.Iterator&lt;PathItem&gt; iterator = pagedIterable.iterator();\r\n\r\n   \r\n    PathItem item = iterator.next();\r\n\r\n    while (item != null)\r\n    {\r\n        System.out.println(item.getName());\r\n\r\n\r\n        if (!iterator.hasNext())\r\n        {\r\n            break;\r\n        }\r\n        \r\n        item = iterator.next();\r\n    }\r\n\r\n}","title":"NumberFormatException - Azure Blob Listing","body":"<p>I am trying to list the blobs from directory with azure file directory system.</p>\n<p>But I am getting number format exception , please help me .</p>\n<pre><code>'''Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Wed, 24 Aug 2022 15:06:25 GMT&quot;\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Long.parseLong(Long.java:589)\n    at java.lang.Long.parseLong(Long.java:631)\n    at com.azure.storage.file.datalake.Transforms.toPathItem(Transforms.java:351)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at com.azure.storage.file.datalake.DataLakeFileSystemAsyncClient.lambda$listPathsWithOptionalTimeout$3(DataLakeFileSystemAsyncClient.java:708)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:113)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:191)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:257)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:161)\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onNext(FluxDoOnEach.java:173)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachFuseableSubscriber.onNext(FluxDoOnEach.java:281)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxHide$SuppressFuseableSubscriber.onNext(FluxHide.java:137)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.FluxDelaySubscription$DelaySubscriptionMainSubscriber.onNext(FluxDelaySubscription.java:189)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.onNext(FluxTimeout.java:180)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)\n    at reactor.core.publisher.SerializedSubscriber.onNext(SerializedSubscriber.java:99)\n    at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onNext(FluxRetryWhen.java:174)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.Operators$MonoInnerProducerBase.complete(Operators.java:2664)\n    at reactor.core.publisher.MonoSingle$SingleSubscriber.onComplete(MonoSingle.java:180)\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n    at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onComplete(FluxDoFinally.java:128)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\n    at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160)\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\n    at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onComplete(FluxMap.java:275)\n    at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400)\n    at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419)\n    at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473)\n    at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:703)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373)\n    at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1247)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1287)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Flux.blockLast(Flux.java:2645)\n        at com.azure.core.util.paging.ContinuablePagedByIteratorBase.requestPage(ContinuablePagedByIteratorBase.java:102)\n        at com.azure.core.util.paging.ContinuablePagedByItemIterable$ContinuablePagedByItemIterator.&lt;init&gt;(ContinuablePagedByItemIterable.java:75)\n        at com.azure.core.util.paging.ContinuablePagedByItemIterable.iterator(ContinuablePagedByItemIterable.java:55)\n        at com.azure.core.util.paging.ContinuablePagedIterable.iterator(ContinuablePagedIterable.java:141)\n        at adlsconnection.ADLSConnection.listFilesInDirectory('''\n</code></pre>\n<p>Following is the code that I am using</p>\n<pre><code>    \n    ListPathsOptions options = new ListPathsOptions();\n    options.setPath(&quot;my-directory&quot;);\n \n    PagedIterable&lt;PathItem&gt; pagedIterable = \n    fileSystemClient.listPaths(options, null);\n\n    java.util.Iterator&lt;PathItem&gt; iterator = pagedIterable.iterator();\n\n   \n    PathItem item = iterator.next();\n\n    while (item != null)\n    {\n        System.out.println(item.getName());\n\n\n        if (!iterator.hasNext())\n        {\n            break;\n        }\n        \n        item = iterator.next();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15987967,"reputation":420,"user_id":11537839,"display_name":"ProGamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694265581,"creation_date":1694265581,"answer_id":77072450,"question_id":77072148,"body_markdown":"Looks like you need to check if there were any change between previous object and current object.\r\nYou may first convert objects to json and compare.\r\n```\r\npublic static boolean compare(Object obj1, Object obj2) {\r\n    return new Gson().toJson(obj1).equals(new Gson().toJson(obj2));\r\n}\r\ncompare(update,existsChart);\r\n```\r\n\r\nOr you may use Java Map to check for changes : \r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nMap&lt;String, Object&gt; aMap =  objectMapper.convertValue(update, Map.class);\r\nMap&lt;String, Object&gt; bMap =  objectMapper.convertValue(existsChart, Map.class);\r\n\r\naMap.equals(bMap);\r\n\r\n```","title":"Spring Boot Update","body":"<p>Looks like you need to check if there were any change between previous object and current object.\nYou may first convert objects to json and compare.</p>\n<pre><code>public static boolean compare(Object obj1, Object obj2) {\n    return new Gson().toJson(obj1).equals(new Gson().toJson(obj2));\n}\ncompare(update,existsChart);\n</code></pre>\n<p>Or you may use Java Map to check for changes :</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nMap&lt;String, Object&gt; aMap =  objectMapper.convertValue(update, Map.class);\nMap&lt;String, Object&gt; bMap =  objectMapper.convertValue(existsChart, Map.class);\n\naMap.equals(bMap);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2261604,"reputation":72,"user_id":1991545,"display_name":"abhi_88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694344047,"creation_date":1694344047,"answer_id":77075840,"question_id":77072148,"body_markdown":"You can use Hibernate @DynamicUpdate annotation with the entity. In this case, hibernate will fire an update query only for the field that we want to update. \r\n\r\n\r\n    \r\n    @Entity\r\n    @DynamicUpdate\r\n    public class MyEntity implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        //\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n\r\nYou can check more details about @DynamicUpdate example [here][1].\r\n\r\n\r\n  [1]: https://javatute.com/hibernate/hibernate-dynamicupdate-example/\r\n\r\nIf you want to get stuck with your approach you might consider using reflection to compare the values.\r\nHere is the sample code.\r\n\r\n    @Transactional\r\n    public Student save(Student student) {\r\n        Student createResponse = null;\r\n        createResponse = studentRepository.save(student);\r\n        return createResponse;\r\n    }\r\n\r\n    @Transactional\r\n    public Student update(Student student) {\r\n\r\n        Optional&lt;Student&gt; response = studentRepository.findById(student.getId());\r\n        Student fromDb = response.get();\r\n        boolean changes = false;\r\n        if (fromDb != null) {\r\n\r\n            // Use reflection to get and compare the values of all fields\r\n            Field[] fields = Student.class.getDeclaredFields();\r\n            for (Field field : fields) {\r\n                field.setAccessible(true);\r\n                try {\r\n                    Object existingValue = field.get(fromDb);\r\n                    Object entityNeedsToUpdate = field.get(student);\r\n\r\n                    if (!Objects.equals(existingValue, entityNeedsToUpdate)) {\r\n                        field.set(fromDb, entityNeedsToUpdate);\r\n                        changes = true;\r\n\r\n                    }\r\n                } catch (IllegalAccessException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            if (changes) {\r\n                return studentRepository.save(fromDb);\r\n            }else{\r\n                return student;\r\n            }\r\n\r\n\r\n        }\r\n        return student;\r\n    }\r\n\r\n","title":"Spring Boot Update","body":"<p>You can use Hibernate @DynamicUpdate annotation with the entity. In this case, hibernate will fire an update query only for the field that we want to update.</p>\n<pre><code>@Entity\n@DynamicUpdate\npublic class MyEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n    //\n}\n</code></pre>\n<p>You can check more details about @DynamicUpdate example <a href=\"https://javatute.com/hibernate/hibernate-dynamicupdate-example/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>If you want to get stuck with your approach you might consider using reflection to compare the values.\nHere is the sample code.</p>\n<pre><code>@Transactional\npublic Student save(Student student) {\n    Student createResponse = null;\n    createResponse = studentRepository.save(student);\n    return createResponse;\n}\n\n@Transactional\npublic Student update(Student student) {\n\n    Optional&lt;Student&gt; response = studentRepository.findById(student.getId());\n    Student fromDb = response.get();\n    boolean changes = false;\n    if (fromDb != null) {\n\n        // Use reflection to get and compare the values of all fields\n        Field[] fields = Student.class.getDeclaredFields();\n        for (Field field : fields) {\n            field.setAccessible(true);\n            try {\n                Object existingValue = field.get(fromDb);\n                Object entityNeedsToUpdate = field.get(student);\n\n                if (!Objects.equals(existingValue, entityNeedsToUpdate)) {\n                    field.set(fromDb, entityNeedsToUpdate);\n                    changes = true;\n\n                }\n            } catch (IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        if (changes) {\n            return studentRepository.save(fromDb);\n        }else{\n            return student;\n        }\n\n\n    }\n    return student;\n}\n</code></pre>\n"}],"owner":{"account_id":22789620,"reputation":7,"user_id":16944175,"display_name":"haider fadel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1694517315,"creation_date":1694261456,"question_id":77072148,"body_markdown":"I have spring boot application and i&#39;m working on update request so my enitity is so big and have nested object and classes so how can i update this entity with more professtional way so i dont have to check on every properties if null or empty\r\n\r\n\r\nI tried to check with if else condtions but it so complex and the code will be so bad\r\n\r\nspecial when I have getLevelOfConsciousness have multi properties to check \r\n\r\n```java\r\nboolean changes = false;\r\n        if(update.getLevelOfConsciousness() != null &amp;&amp; !update.getLevelOfConsciousness().equals(existsChart.getLevelOfConsciousness())) {\r\n            existsChart.setLevelOfConsciousness(update.getLevelOfConsciousness());\r\n            changes = true;\r\n        }if(update.getOrientation() != null &amp;&amp; !update.getOrientation().equals(existsChart.getOrientation())){\r\n            existsChart.setOrientation(update.getOrientation());\r\n            changes = true;\r\n        }if(update.getMentalState() != null &amp;&amp; !update.getMentalState().equals(existsChart.getMentalState())){\r\n            existsChart.setMentalState(update.getMentalState());\r\n            changes = true;\r\n        }if(update.getEyes() != null &amp;&amp; !update.getEyes().equals(existsChart.getEyes())){\r\n            existsChart.setEyes(update.getEyes());\r\n            changes = true;\r\n        }if(update.getEars() != null &amp;&amp; !update.getEars().equals(existsChart.getEars())){\r\n            existsChart.setEars(update.getEars());\r\n            changes = true;\r\n        }if(update.getMouth() != null &amp;&amp; !update.getMouth().equals(existsChart.getMouth())){\r\n            existsChart.setMouth(update.getMouth());\r\n            changes = true;\r\n        }if(update.getNose() != null &amp;&amp; !update.getNose().equals(existsChart.getNose())){\r\n            existsChart.setNose(update.getNose());\r\n            changes = true;\r\n        }if(update.getHair() != null &amp;&amp; !update.getHair().equals(existsChart.getHair())){\r\n            existsChart.setHair(update.getHair());\r\n            changes = true;\r\n        }if(update.getNeck() != null &amp;&amp; !update.getNeck().equals(existsChart.getNeck())){\r\n            existsChart.setNeck(update.getNeck());\r\n            changes = true;\r\n        }if(update.getSkin() != null &amp;&amp; !update.getSkin().equals(existsChart.getSkin())){\r\n            existsChart.setSkin(update.getSkin());\r\n            changes = true;\r\n        }if(update.getChest() != null &amp;&amp; !update.getChest().equals(existsChart.getChest())){\r\n            existsChart.setChest(update.getChest());\r\n            changes = true;\r\n        }if(update.getAbdomen() != null &amp;&amp; !update.getAbdomen().equals(existsChart.getAbdomen())){\r\n            existsChart.setAbdomen(update.getAbdomen());\r\n            changes = true;\r\n        }if(update.getUpperExtremities() != null &amp;&amp; !update.getUpperExtremities().equals(existsChart.getUpperExtremities())){\r\n            existsChart.setUpperExtremities(update.getUpperExtremities());\r\n            changes = true;\r\n        }if(update.getLowerExtremities() != null &amp;&amp; !update.getLowerExtremities().equals(existsChart.getLowerExtremities())){\r\n            existsChart.setLowerExtremities(update.getLowerExtremities());\r\n            changes = true;\r\n        }if(update.getVitalSign() != null &amp;&amp; !update.getVitalSign().equals(existsChart.getVitalSign())){\r\n            existsChart.setVitalSign(update.getVitalSign());\r\n            changes = true;\r\n        }if(update.getNote() != null &amp;&amp; !update.getNote().equals(existsChart.getNote())){\r\n            existsChart.setNote(update.getNote());\r\n            changes = true;\r\n        }\r\n        if (!changes){\r\n            throw new BadRequestException(&quot;No changes found&quot;);\r\n        }\r\n```","title":"Spring Boot Update","body":"<p>I have spring boot application and i'm working on update request so my enitity is so big and have nested object and classes so how can i update this entity with more professtional way so i dont have to check on every properties if null or empty</p>\n<p>I tried to check with if else condtions but it so complex and the code will be so bad</p>\n<p>special when I have getLevelOfConsciousness have multi properties to check</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean changes = false;\n        if(update.getLevelOfConsciousness() != null &amp;&amp; !update.getLevelOfConsciousness().equals(existsChart.getLevelOfConsciousness())) {\n            existsChart.setLevelOfConsciousness(update.getLevelOfConsciousness());\n            changes = true;\n        }if(update.getOrientation() != null &amp;&amp; !update.getOrientation().equals(existsChart.getOrientation())){\n            existsChart.setOrientation(update.getOrientation());\n            changes = true;\n        }if(update.getMentalState() != null &amp;&amp; !update.getMentalState().equals(existsChart.getMentalState())){\n            existsChart.setMentalState(update.getMentalState());\n            changes = true;\n        }if(update.getEyes() != null &amp;&amp; !update.getEyes().equals(existsChart.getEyes())){\n            existsChart.setEyes(update.getEyes());\n            changes = true;\n        }if(update.getEars() != null &amp;&amp; !update.getEars().equals(existsChart.getEars())){\n            existsChart.setEars(update.getEars());\n            changes = true;\n        }if(update.getMouth() != null &amp;&amp; !update.getMouth().equals(existsChart.getMouth())){\n            existsChart.setMouth(update.getMouth());\n            changes = true;\n        }if(update.getNose() != null &amp;&amp; !update.getNose().equals(existsChart.getNose())){\n            existsChart.setNose(update.getNose());\n            changes = true;\n        }if(update.getHair() != null &amp;&amp; !update.getHair().equals(existsChart.getHair())){\n            existsChart.setHair(update.getHair());\n            changes = true;\n        }if(update.getNeck() != null &amp;&amp; !update.getNeck().equals(existsChart.getNeck())){\n            existsChart.setNeck(update.getNeck());\n            changes = true;\n        }if(update.getSkin() != null &amp;&amp; !update.getSkin().equals(existsChart.getSkin())){\n            existsChart.setSkin(update.getSkin());\n            changes = true;\n        }if(update.getChest() != null &amp;&amp; !update.getChest().equals(existsChart.getChest())){\n            existsChart.setChest(update.getChest());\n            changes = true;\n        }if(update.getAbdomen() != null &amp;&amp; !update.getAbdomen().equals(existsChart.getAbdomen())){\n            existsChart.setAbdomen(update.getAbdomen());\n            changes = true;\n        }if(update.getUpperExtremities() != null &amp;&amp; !update.getUpperExtremities().equals(existsChart.getUpperExtremities())){\n            existsChart.setUpperExtremities(update.getUpperExtremities());\n            changes = true;\n        }if(update.getLowerExtremities() != null &amp;&amp; !update.getLowerExtremities().equals(existsChart.getLowerExtremities())){\n            existsChart.setLowerExtremities(update.getLowerExtremities());\n            changes = true;\n        }if(update.getVitalSign() != null &amp;&amp; !update.getVitalSign().equals(existsChart.getVitalSign())){\n            existsChart.setVitalSign(update.getVitalSign());\n            changes = true;\n        }if(update.getNote() != null &amp;&amp; !update.getNote().equals(existsChart.getNote())){\n            existsChart.setNote(update.getNote());\n            changes = true;\n        }\n        if (!changes){\n            throw new BadRequestException(&quot;No changes found&quot;);\n        }\n</code></pre>\n"},{"tags":["java","okhttp"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694517277,"creation_date":1694484789,"answer_id":77085708,"question_id":77085371,"body_markdown":"From [documentation][1]:\r\n\r\n&gt; OkHttp performs best when you create a single OkHttpClient instance\r\n&gt; and reuse it for all of your HTTP calls. **This is because each client\r\n&gt; holds its own connection pool and thread pools**. Reusing connections\r\n&gt; and threads reduces latency and saves memory. Conversely, creating a\r\n&gt; client for each request wastes resources on idle pools.\r\n\r\nSo, yes, **each client will have it&#39;s own pool**.\r\n\r\n  [1]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/","title":"Should I worry about OkHttp 4 Connection Pools?","body":"<p>From <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>OkHttp performs best when you create a single OkHttpClient instance\nand reuse it for all of your HTTP calls. <strong>This is because each client\nholds its own connection pool and thread pools</strong>. Reusing connections\nand threads reduces latency and saves memory. Conversely, creating a\nclient for each request wastes resources on idle pools.</p>\n</blockquote>\n<p>So, yes, <strong>each client will have it's own pool</strong>.</p>\n"}],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085708,"answer_count":1,"score":0,"last_activity_date":1694517277,"creation_date":1694476610,"question_id":77085371,"body_markdown":"I used to create OkHttp Clients like this:\r\n\r\n    new OkHttpClient.Builder().connectionPool(connectionPool)\r\n                                     .readTimeout(Duration.ofSeconds(timeout))\r\n                                     .connectTimeout(Duration.ofMillis(timeout))\r\n                                     .addInterceptor(logging)\r\n                                     .build();\r\n\r\nBut now I&#39;m getting a warning about `connectionPool` being kotlin internal (I&#39;m using it from java).\r\n\r\nIt seems related to upgrading to OkHttp 4.\r\n\r\nShould I forget about pools and let OkHttp handle it?\r\n\r\nIf I create many OkHttpClients within my application. If I don&#39;t configure the pool, will they use the same pool, or each client will have it&#39;s own pool? I have one application with many different HTTP connection usage scenarios.\r\n","title":"Should I worry about OkHttp 4 Connection Pools?","body":"<p>I used to create OkHttp Clients like this:</p>\n<pre><code>new OkHttpClient.Builder().connectionPool(connectionPool)\n                                 .readTimeout(Duration.ofSeconds(timeout))\n                                 .connectTimeout(Duration.ofMillis(timeout))\n                                 .addInterceptor(logging)\n                                 .build();\n</code></pre>\n<p>But now I'm getting a warning about <code>connectionPool</code> being kotlin internal (I'm using it from java).</p>\n<p>It seems related to upgrading to OkHttp 4.</p>\n<p>Should I forget about pools and let OkHttp handle it?</p>\n<p>If I create many OkHttpClients within my application. If I don't configure the pool, will they use the same pool, or each client will have it's own pool? I have one application with many different HTTP connection usage scenarios.</p>\n"},{"tags":["java","geoserver","geotools"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694503671,"post_id":77086826,"comment_id":135895546,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694516190,"creation_date":1694516190,"answer_id":77088476,"question_id":77086826,"body_markdown":"You should add a new factory to GeoServer rather than try to modify the existing one. \r\n\r\nThere is a [Factory tutorial for GeoTools][1] (which is what does the work in GeoServer) which will show the basic principal for creating a factory and using the SPI system to register it with GeoTools applications like GeoServer. \r\n\r\nOnce you have written your new factory which can either extend [`ShapeMarkFactory`][2] or implement [`MarkFactory`][3] if you want a different prefix to trigger it. You&#39;ll need a file called `META-INF/services/org.geotools.renderer.style.MarkFactory` (in the resources folder of your project) that file should contain a line with the fully qualified name of your factory. \r\n\r\nThen you can use `mvn` to compile the project into a jar file or a zip including any necessary external jars. You can then add those jars to the `WEB-INF/lib` folder of your GeoServer install and restart it. \r\n\r\n\r\n  [1]: https://docs.geotools.org/latest/userguide/tutorial/factory.html\r\n  [2]: https://github.com/geotools/geotools/blob/main/modules/library/render/src/main/java/org/geotools/renderer/style/ShapeMarkFactory.java\r\n  [3]: https://github.com/geotools/geotools/blob/main/modules/library/render/src/main/java/org/geotools/renderer/style/MarkFactory.java#L25","title":"How to overwriter ShapeMarkerFactory In GeoServer?","body":"<p>You should add a new factory to GeoServer rather than try to modify the existing one.</p>\n<p>There is a <a href=\"https://docs.geotools.org/latest/userguide/tutorial/factory.html\" rel=\"nofollow noreferrer\">Factory tutorial for GeoTools</a> (which is what does the work in GeoServer) which will show the basic principal for creating a factory and using the SPI system to register it with GeoTools applications like GeoServer.</p>\n<p>Once you have written your new factory which can either extend <a href=\"https://github.com/geotools/geotools/blob/main/modules/library/render/src/main/java/org/geotools/renderer/style/ShapeMarkFactory.java\" rel=\"nofollow noreferrer\"><code>ShapeMarkFactory</code></a> or implement <a href=\"https://github.com/geotools/geotools/blob/main/modules/library/render/src/main/java/org/geotools/renderer/style/MarkFactory.java#L25\" rel=\"nofollow noreferrer\"><code>MarkFactory</code></a> if you want a different prefix to trigger it. You'll need a file called <code>META-INF/services/org.geotools.renderer.style.MarkFactory</code> (in the resources folder of your project) that file should contain a line with the fully qualified name of your factory.</p>\n<p>Then you can use <code>mvn</code> to compile the project into a jar file or a zip including any necessary external jars. You can then add those jars to the <code>WEB-INF/lib</code> folder of your GeoServer install and restart it.</p>\n"}],"owner":{"account_id":29420432,"reputation":23,"user_id":22542272,"display_name":"Glad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694516190,"creation_date":1694503067,"question_id":77086826,"body_markdown":"I want to create a new Mark in GeoServer&#39;s SLD style, but I can&#39;t find MarkFactory interface in GeoServer sources code, and I can&#39;t find the ShapeMarkFactory class in these code. I don&#39;t know where can I add the Geotool class in GeoServer&#39;s source code and make it work, or where I can overwriter the ShapeMarkFactory class to add a new WellKnowName Mark In Mark.","title":"How to overwriter ShapeMarkerFactory In GeoServer?","body":"<p>I want to create a new Mark in GeoServer's SLD style, but I can't find MarkFactory interface in GeoServer sources code, and I can't find the ShapeMarkFactory class in these code. I don't know where can I add the Geotool class in GeoServer's source code and make it work, or where I can overwriter the ShapeMarkFactory class to add a new WellKnowName Mark In Mark.</p>\n"},{"tags":["java","android","kotlin","random"],"comments":[{"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"score":1,"creation_date":1629976456,"post_id":6029495,"comment_id":121832557,"body_markdown":"With [Kotlin](https://stackoverflow.com/a/45687695/8583692) you can do this: `val r = (0..10).random()`","body":"With <a href=\"https://stackoverflow.com/a/45687695/8583692\">Kotlin</a> you can do this: <code>val r = (0..10).random()</code>"},{"owner":{"account_id":7223715,"reputation":1665,"user_id":6427595,"display_name":"arjun"},"score":0,"creation_date":1686736126,"post_id":6029495,"comment_id":134838964,"body_markdown":"You can write `val randomNumber = (min..max).random()` where `min` and `max` are the edges of the specified range. Refer [Kotlin – Generate a Random Number in specific Range](https://kotlinandroid.org/kotlin/kotlin-generate-a-random-number-in-specific-range/)","body":"You can write <code>val randomNumber = (min..max).random()</code> where <code>min</code> and <code>max</code> are the edges of the specified range. Refer <a href=\"https://kotlinandroid.org/kotlin/kotlin-generate-a-random-number-in-specific-range/\" rel=\"nofollow noreferrer\">Kotlin – Generate a Random Number in specific Range</a>"}],"answers":[{"tags":[],"owner":{"account_id":187974,"reputation":20625,"user_id":426412,"display_name":"Vivien Barousse"},"down_vote_count":0,"up_vote_count":308,"is_accepted":false,"score":308,"last_activity_date":1450480256,"creation_date":1305628175,"answer_id":6029518,"question_id":6029495,"body_markdown":"    int min = 65;\r\n    int max = 80;\r\n\r\n    Random r = new Random();\r\n    int i1 = r.nextInt(max - min + 1) + min;\r\n\r\nNote that `nextInt(int max)` returns an `int` between 0 inclusive and max exclusive. Hence the ``+1``.","title":"How can I generate random number in specific range in Android?","body":"<pre><code>int min = 65;\nint max = 80;\n\nRandom r = new Random();\nint i1 = r.nextInt(max - min + 1) + min;\n</code></pre>\n\n<p>Note that <code>nextInt(int max)</code> returns an <code>int</code> between 0 inclusive and max exclusive. Hence the <code>+1</code>.</p>\n"},{"tags":[],"owner":{"account_id":134312,"reputation":11572,"user_id":336355,"display_name":"Ishtar"},"down_vote_count":2,"up_vote_count":525,"is_accepted":true,"score":523,"last_activity_date":1392344530,"creation_date":1305628180,"answer_id":6029519,"question_id":6029495,"body_markdown":"    Random r = new Random();\r\n    int i1 = r.nextInt(80 - 65) + 65;\r\n\r\nThis gives a random integer between 65 (inclusive) and 80 (exclusive), one of `65,66,...,78,79`.","title":"How can I generate random number in specific range in Android?","body":"<pre><code>Random r = new Random();\nint i1 = r.nextInt(80 - 65) + 65;\n</code></pre>\n\n<p>This gives a random integer between 65 (inclusive) and 80 (exclusive), one of <code>65,66,...,78,79</code>.</p>\n"}],"owner":{"account_id":260754,"reputation":15424,"user_id":544512,"accept_rate":62,"display_name":"Mohit Kanada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482420,"favorite_count":0,"down_vote_count":3,"up_vote_count":291,"closed_date":1580453460,"accepted_answer_id":6029519,"answer_count":2,"score":288,"last_activity_date":1694515498,"creation_date":1305628075,"question_id":6029495,"body_markdown":"I want to generate random number in a specific range. (Ex. Range Between 65 to 80)\r\n\r\nI try as per below code, but it is not very use full. It also returns the value greater then max. value(greater then 80). \r\n\r\n    Random r = new Random();\r\n    int i1 = (r.nextInt(80) + 65);\r\n\r\nHow can I generate random number between a range?\r\n","title":"How can I generate random number in specific range in Android?","body":"<p>I want to generate random number in a specific range. (Ex. Range Between 65 to 80)</p>\n<p>I try as per below code, but it is not very use full. It also returns the value greater then max. value(greater then 80).</p>\n<pre><code>Random r = new Random();\nint i1 = (r.nextInt(80) + 65);\n</code></pre>\n<p>How can I generate random number between a range?</p>\n"},{"tags":["java","android","http","https","urlconnection"],"comments":[{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1340223864,"post_id":11127578,"comment_id":14582389,"body_markdown":"It is a `HttpURLConnection`, you can&#39;t cast it to `HttpsURLConnection`. This is the same as the question you linked. You just using another incorrect class","body":"It is a <code>HttpURLConnection</code>, you can&#39;t cast it to <code>HttpsURLConnection</code>. This is the same as the question you linked. You just using another incorrect class"}],"answers":[{"tags":[],"owner":{"account_id":1238284,"reputation":3771,"user_id":1201423,"accept_rate":75,"display_name":"cklab"},"down_vote_count":2,"up_vote_count":90,"is_accepted":true,"score":88,"last_activity_date":1565962264,"creation_date":1340223941,"answer_id":11127629,"question_id":11127578,"body_markdown":"**Method 1:**\r\nYour `urlString` must begin with `https://` and not `http://` for you to be able to cast it to a `HttpsURLConnection`.\r\n\r\n**Method 2:**\r\nif your urlString starts with `http://`, changing `HttpsURLConnection` to `HttpURLConnection` should work","title":"java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p><strong>Method 1:</strong>\nYour <code>urlString</code> must begin with <code>https://</code> and not <code>http://</code> for you to be able to cast it to a <code>HttpsURLConnection</code>.</p>\n\n<p><strong>Method 2:</strong>\nif your urlString starts with <code>http://</code>, changing <code>HttpsURLConnection</code> to <code>HttpURLConnection</code> should work</p>\n"},{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1340223957,"creation_date":1340223957,"answer_id":11127637,"question_id":11127578,"body_markdown":"`url.openConnection();` seems to be returning an object of type `libcore.net.http.HttpURLConnectionImpl` while you have declared your &quot;conn&quot; object as being of type `import javax.net.ssl.HttpsURLConnection;`. You need to sort up your imports and used objects. Maybe you missed something in the tutorial you were following.","title":"java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p><code>url.openConnection();</code> seems to be returning an object of type <code>libcore.net.http.HttpURLConnectionImpl</code> while you have declared your \"conn\" object as being of type <code>import javax.net.ssl.HttpsURLConnection;</code>. You need to sort up your imports and used objects. Maybe you missed something in the tutorial you were following.</p>\n"},{"tags":[],"owner":{"account_id":6195261,"reputation":271,"user_id":4826748,"accept_rate":0,"display_name":"Mediasoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446611275,"creation_date":1446609985,"answer_id":33513478,"question_id":11127578,"body_markdown":"Simple remove `urlConnection.setDoOutput(true);`\r\n\r\nit will work fine.","title":"java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>Simple remove <code>urlConnection.setDoOutput(true);</code></p>\n\n<p>it will work fine.</p>\n"},{"tags":[],"owner":{"account_id":7147888,"reputation":3217,"user_id":5462988,"display_name":"anoopknr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532501848,"creation_date":1532501848,"answer_id":51512617,"question_id":11127578,"body_markdown":"I had same Exception `java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection`\r\n\r\n    uri = new URL(&quot;http://www.google.com&quot;);\r\n    HttpsURLConnection connection = (HttpsURLConnection) uri.openConnection(); // Exception\r\n\r\nI changed \r\n\r\n    uri = new URL(&quot;http://www.google.com&quot;);\r\nto\r\n\r\n    uri = new URL(&quot;https://www.google.com&quot;);\r\nNow it is working perfectly.\r\n","title":"java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>I had same Exception <code>java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection</code></p>\n\n<pre><code>uri = new URL(\"http://www.google.com\");\nHttpsURLConnection connection = (HttpsURLConnection) uri.openConnection(); // Exception\n</code></pre>\n\n<p>I changed </p>\n\n<pre><code>uri = new URL(\"http://www.google.com\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>uri = new URL(\"https://www.google.com\");\n</code></pre>\n\n<p>Now it is working perfectly.</p>\n"},{"tags":[],"owner":{"account_id":252402,"reputation":4873,"user_id":530424,"accept_rate":17,"display_name":"elhadi dp ıpɐɥןǝ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694515467,"creation_date":1694515467,"answer_id":77088383,"question_id":11127578,"body_markdown":"*url.openConnection()* returns HttpURLConnection if your url is an HTTP request, it returns HttpsURLConnection if your url is an HTTPS request.\r\n\r\n - you can cast HttpsURLConnection to HttpURLConnection, but the inverse can lead to an exception if your url is an HTTP url, which you have seen.\r\n\r\n - so, to use *HttpsURLConnection*, you should always cast your url.openConnection() to *HttpURLConnection*, if you have tasks with *HttpsURLConnection*, example use your own *X509TrustManager*, you should check first if your URL is an HTTPS.\r\n\r\n herein a sample code:\r\n\r\n     HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\r\n     if (url.get_protocol().equals(&quot;https&quot;)) {\r\n          HttpsURLConnection sconn = (HttpsURLConnection)conn;\r\n\r\n          /* do tasks with https connection */\r\n     }\r\n\r\n","title":"java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p><em>url.openConnection()</em> returns HttpURLConnection if your url is an HTTP request, it returns HttpsURLConnection if your url is an HTTPS request.</p>\n<ul>\n<li><p>you can cast HttpsURLConnection to HttpURLConnection, but the inverse can lead to an exception if your url is an HTTP url, which you have seen.</p>\n</li>\n<li><p>so, to use <em>HttpsURLConnection</em>, you should always cast your url.openConnection() to <em>HttpURLConnection</em>, if you have tasks with <em>HttpsURLConnection</em>, example use your own <em>X509TrustManager</em>, you should check first if your URL is an HTTPS.</p>\n</li>\n</ul>\n<p>herein a sample code:</p>\n<pre><code> HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n\n if (url.get_protocol().equals(&quot;https&quot;)) {\n      HttpsURLConnection sconn = (HttpsURLConnection)conn;\n\n      /* do tasks with https connection */\n }\n</code></pre>\n"}],"owner":{"account_id":120711,"reputation":1996,"user_id":313299,"accept_rate":80,"display_name":"Teddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30337,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":11127629,"answer_count":5,"score":21,"last_activity_date":1694515467,"creation_date":1340223719,"question_id":11127578,"body_markdown":"I&#39;m writing a bit of code to upload a file from the device to the cloud over HTTPS.\r\n\r\nRelevant snippet:\r\n\r\n    HttpsURLConnection conn = null; \r\n    URL url = new URL(urlstring);\r\n    conn = (HttpsURLConnection) url.openConnection(); // exception here.\r\n\r\nBut the cast won&#39;t compile:\r\n    \r\n    06-20 15:58:05.311: E/FNF(30286): java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection\r\n\r\n\r\nI found this similar question: https://stackoverflow.com/questions/3038026/using-java-class-httpsurlconnection, but I am not importing anything from the sun package.\r\n\r\nMy imports:\r\n\r\n    import java.io.DataOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import android.net.Uri;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import android.util.Log;\r\n    import edu.mit.media.funf.storage.RemoteFileArchive;\r\n    import edu.mit.media.funf.util.LogUtil;\r\n\r\nI&#39;ve been scratching my head about this one for a while now, any suggestions?","title":"java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>I'm writing a bit of code to upload a file from the device to the cloud over HTTPS.</p>\n\n<p>Relevant snippet:</p>\n\n<pre><code>HttpsURLConnection conn = null; \nURL url = new URL(urlstring);\nconn = (HttpsURLConnection) url.openConnection(); // exception here.\n</code></pre>\n\n<p>But the cast won't compile:</p>\n\n<pre><code>06-20 15:58:05.311: E/FNF(30286): java.lang.ClassCastException: libcore.net.http.HttpURLConnectionImpl cannot be cast to javax.net.ssl.HttpsURLConnection\n</code></pre>\n\n<p>I found this similar question: <a href=\"https://stackoverflow.com/questions/3038026/using-java-class-httpsurlconnection\">Using java class HttpsURLConnection</a>, but I am not importing anything from the sun package.</p>\n\n<p>My imports:</p>\n\n<pre><code>import java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.net.URL;\nimport android.net.Uri;\nimport javax.net.ssl.HttpsURLConnection;\nimport android.util.Log;\nimport edu.mit.media.funf.storage.RemoteFileArchive;\nimport edu.mit.media.funf.util.LogUtil;\n</code></pre>\n\n<p>I've been scratching my head about this one for a while now, any suggestions?</p>\n"},{"tags":["java","eclipse","weblogic","spring-tool-suite"],"owner":{"account_id":5888090,"reputation":197,"user_id":4635456,"accept_rate":33,"display_name":"theCoder379"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694514606,"creation_date":1690971656,"question_id":76818926,"body_markdown":"I am trying to remote debug java application hosted in Weblogic 12c locally using Spring Tool Suite. But when I tried to debug from STS I am getting `Failed to connect to remote VM. Connection refused. Connection refused: connect` error message. \r\nI tried debugging my local server from outside PC in same network and got success. So I am thinking my STS or PC has some issue on accessing the port.\r\nWhat I noticed is at the time I start Weblogic I can get `TcpTestSucceeded : True` to the debug port using PowerShell `Test-NetConnection -ComputerName &lt;IP&gt; -Port &lt;port&gt;` command. But once I debug Remote Application using STS I will get `TcpTestSucceeded : False` for above command in PowerShell. Can help me to get understand why STS debug disable the port?","title":"Spring Tool Suite Remote Debug will disable the TCP to the port","body":"<p>I am trying to remote debug java application hosted in Weblogic 12c locally using Spring Tool Suite. But when I tried to debug from STS I am getting <code>Failed to connect to remote VM. Connection refused. Connection refused: connect</code> error message.\nI tried debugging my local server from outside PC in same network and got success. So I am thinking my STS or PC has some issue on accessing the port.\nWhat I noticed is at the time I start Weblogic I can get <code>TcpTestSucceeded : True</code> to the debug port using PowerShell <code>Test-NetConnection -ComputerName &lt;IP&gt; -Port &lt;port&gt;</code> command. But once I debug Remote Application using STS I will get <code>TcpTestSucceeded : False</code> for above command in PowerShell. Can help me to get understand why STS debug disable the port?</p>\n"},{"tags":["java","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1692976342,"post_id":76978358,"comment_id":135702903,"body_markdown":"See https://bugs.eclipse.org/bugs/show_bug.cgi?id=582041","body":"See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=582041\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=582041</a>"}],"owner":{"account_id":29146482,"reputation":1,"user_id":22328291,"display_name":"Niranjan Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694514537,"creation_date":1692975623,"question_id":76978358,"body_markdown":"While updating my Maven project on Spring STS 4.4.19 I am getting this error:\r\n\r\n![1]\r\n\r\n    An internal error occurred during: &quot;Updating Maven Project&quot;.\r\n    Version 8 of project facet java does not exist.\r\n\r\nI am using Java 11.  I want to fix this error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GTcYl.png","title":"An internal error occurred during: &quot;Updating Maven Project&quot;. Version 8 of project facet java does not exist","body":"<p>While updating my Maven project on Spring STS 4.4.19 I am getting this error:</p>\n<p><img src=\"https://i.stack.imgur.com/GTcYl.png\" alt=\"1\" /></p>\n<pre><code>An internal error occurred during: &quot;Updating Maven Project&quot;.\nVersion 8 of project facet java does not exist.\n</code></pre>\n<p>I am using Java 11.  I want to fix this error.</p>\n"},{"tags":["java","testing","junit","junit5"],"comments":[{"owner":{"account_id":13715480,"reputation":377,"user_id":9896706,"display_name":"Remco Buddelmeijer"},"score":0,"creation_date":1570102144,"post_id":58218168,"comment_id":102812300,"body_markdown":"Possible duplicate of [Changing names of parameterized tests](https://stackoverflow.com/questions/650894/changing-names-of-parameterized-tests)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/650894/changing-names-of-parameterized-tests\">Changing names of parameterized tests</a>"},{"owner":{"account_id":13715480,"reputation":377,"user_id":9896706,"display_name":"Remco Buddelmeijer"},"score":0,"creation_date":1570102184,"post_id":58218168,"comment_id":102812321,"body_markdown":"If you are using JUnit 4, please take a look at the duplicate post, otherwise if you are using JUnit 5 take a look at: https://www.baeldung.com/parameterized-tests-junit-5","body":"If you are using JUnit 4, please take a look at the duplicate post, otherwise if you are using JUnit 5 take a look at: <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">baeldung.com/parameterized-tests-junit-5</a>"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1570116281,"post_id":58218168,"comment_id":102820096,"body_markdown":"@MedAmine, What version of JUnit you&#39;re using? Where do you want your parameters to come from?","body":"@MedAmine, What version of JUnit you&#39;re using? Where do you want your parameters to come from?"}],"answers":[{"tags":[],"owner":{"account_id":15632436,"reputation":58,"user_id":11278368,"display_name":"QuestionOverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570104983,"creation_date":1570104983,"answer_id":58218935,"question_id":58218168,"body_markdown":"You can create a Java method that runs the code, if not in your JUnit test case then in the Java file you import. Then for each of the tests you want, you just call it repeatedly with different input arguments and different parameters. See the links you&#39;ve been given: https://www.baeldung.com/parameterized-tests-junit-5","title":"Run one junit test multiple times with different parameters","body":"<p>You can create a Java method that runs the code, if not in your JUnit test case then in the Java file you import. Then for each of the tests you want, you just call it repeatedly with different input arguments and different parameters. See the links you've been given: <a href=\"https://www.baeldung.com/parameterized-tests-junit-5\" rel=\"nofollow noreferrer\">https://www.baeldung.com/parameterized-tests-junit-5</a></p>\n"}],"owner":{"account_id":16817438,"reputation":33,"user_id":12158867,"display_name":"Med Amine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4057,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58218935,"answer_count":1,"score":0,"last_activity_date":1694514426,"creation_date":1570101944,"question_id":58218168,"body_markdown":"How can I run a test multiple times with different parameters and have them displayed as separate tests (with different names) in the Junit report?","title":"Run one junit test multiple times with different parameters","body":"<p>How can I run a test multiple times with different parameters and have them displayed as separate tests (with different names) in the Junit report?</p>\n"},{"tags":["java","eclipse","spring-tool-suite","java-17"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1694499636,"post_id":77086493,"comment_id":135894892,"body_markdown":"Try to run eclipse from the command line, and see if you get additional info . Also this seems related : https://stackoverflow.com/questions/30594269/eclipse-exits-automatically-exit-code-127","body":"Try to run eclipse from the command line, and see if you get additional info . Also this seems related : <a href=\"https://stackoverflow.com/questions/30594269/eclipse-exits-automatically-exit-code-127\" title=\"eclipse exits automatically exit code 127\">stackoverflow.com/questions/30594269/&hellip;</a>"},{"owner":{"account_id":6751113,"reputation":13,"user_id":5201078,"display_name":"Tejas Shah"},"score":0,"creation_date":1694501416,"post_id":77086493,"comment_id":135895163,"body_markdown":"@Arnaud not working this solution for me. Its eclipse close automatically issue. In my case i am starting fresh sts","body":"@Arnaud not working this solution for me. Its eclipse close automatically issue. In my case i am starting fresh sts"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1694503960,"post_id":77086493,"comment_id":135895616,"body_markdown":"The Java VM crashed. Why you run STS with Java installed on your system (`/opt/jdk-17.0.5/bin/java`) instead of the Java included in STS? How did you install STS (there are different ways)? What does `/opt/jdk-17.0.5/bin/java -version` print? Which GTK version do you have?","body":"The Java VM crashed. Why you run STS with Java installed on your system (<code>&#47;opt&#47;jdk-17.0.5&#47;bin&#47;java</code>) instead of the Java included in STS? How did you install STS (there are different ways)? What does <code>&#47;opt&#47;jdk-17.0.5&#47;bin&#47;java -version</code> print? Which GTK version do you have?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1694517671,"post_id":77086493,"comment_id":135898360,"body_markdown":"Don&#39;t use images for text information.","body":"Don&#39;t use images for text information."}],"owner":{"account_id":6751113,"reputation":13,"user_id":5201078,"display_name":"Tejas Shah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694514395,"creation_date":1694499324,"question_id":77086493,"body_markdown":"I updated CentOS 7 with jdk-17.0.5 and for java 17 support I also downloaded latest sts-4.19.1. When I open STS, it shows the error in the  screenshot below.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/eVGwI.png)](https://i.stack.imgur.com/eVGwI.png)\r\n\r\nThe latest version of STS should run on CentOS 7 with Java 17.\r\n","title":"JVM terminated. Exit code=127","body":"<p>I updated CentOS 7 with jdk-17.0.5 and for java 17 support I also downloaded latest sts-4.19.1. When I open STS, it shows the error in the  screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/eVGwI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVGwI.png\" alt=\"enter image description here\" /></a></p>\n<p>The latest version of STS should run on CentOS 7 with Java 17.</p>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":2,"creation_date":1694501511,"post_id":77086624,"comment_id":135895168,"body_markdown":"Put both the JDBC driver JAR and the directory what contains `Main.class` on your class path, separated by a colon (`:`).","body":"Put both the JDBC driver JAR and the directory what contains <code>Main.class</code> on your class path, separated by a colon (<code>:</code>)."}],"answers":[{"tags":[],"owner":{"account_id":28999910,"reputation":994,"user_id":22213656,"display_name":"Maimoona Abid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694514210,"creation_date":1694511496,"answer_id":77087892,"question_id":77086624,"body_markdown":"To specify the classpath, including the current directory (.) and the location of the PostgreSQL JDBC driver JAR file, use the -cp option with the java command. Execute the command as follows:\r\n\r\n    java -cp .:postgresql-42.6.0.jar Main\r\n\r\n\r\n","title":"Could not find or load main class Main using java -cp","body":"<p>To specify the classpath, including the current directory (.) and the location of the PostgreSQL JDBC driver JAR file, use the -cp option with the java command. Execute the command as follows:</p>\n<pre><code>java -cp .:postgresql-42.6.0.jar Main\n</code></pre>\n"}],"owner":{"account_id":22649518,"reputation":13,"user_id":16824403,"display_name":"Ubuntu Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694514198,"accepted_answer_id":77087892,"answer_count":1,"score":0,"last_activity_date":1694514294,"creation_date":1694500933,"question_id":77086624,"body_markdown":"I have a simple Java program\r\n```\r\nimport java.sql.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        String SQL_SELECT = &quot;select * from accesspoint&quot;;\r\n        try {\r\n            Connection conn = DriverManager.getConnection(\r\n                    &quot;jdbc:postgresql://192.168.1.2:19000/database&quot;,\r\n                    &quot;user&quot;,\r\n                    &quot;pass&quot;);\r\n            PreparedStatement preparedStatement = conn.prepareStatement(SQL_SELECT);\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nand I build it using ```javac Main.java```.\r\nWhen I try to run it with ```java Main``` I get an obvious exception \r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: \r\njava.sql.SQLException: No suitable driver found for \r\njdbc:postgresql://192.168.1.2:19000/database\r\n```\r\nThe question is how to fix it? I have postgresql-42.6.0.jar in the same directory, so I tried using java -cp but got an error:\r\n```\r\n$ java -cp &quot;/home/mst/test_conn/postgresql-42.6.0.jar&quot; Main\r\nError: Could not find or load main class Main\r\n```\r\nAlso, I tried to set up the CLASSPATH variable and got the same error as above.\r\nWhat am I doing wrong?","title":"Could not find or load main class Main using java -cp","body":"<p>I have a simple Java program</p>\n<pre><code>import java.sql.*;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        String SQL_SELECT = &quot;select * from accesspoint&quot;;\n        try {\n            Connection conn = DriverManager.getConnection(\n                    &quot;jdbc:postgresql://192.168.1.2:19000/database&quot;,\n                    &quot;user&quot;,\n                    &quot;pass&quot;);\n            PreparedStatement preparedStatement = conn.prepareStatement(SQL_SELECT);\n            ResultSet resultSet = preparedStatement.executeQuery();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n<p>and I build it using <code>javac Main.java</code>.\nWhen I try to run it with <code>java Main</code> I get an obvious exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: \njava.sql.SQLException: No suitable driver found for \njdbc:postgresql://192.168.1.2:19000/database\n</code></pre>\n<p>The question is how to fix it? I have postgresql-42.6.0.jar in the same directory, so I tried using java -cp but got an error:</p>\n<pre><code>$ java -cp &quot;/home/mst/test_conn/postgresql-42.6.0.jar&quot; Main\nError: Could not find or load main class Main\n</code></pre>\n<p>Also, I tried to set up the CLASSPATH variable and got the same error as above.\nWhat am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":1,"creation_date":1360717675,"post_id":14844793,"comment_id":20804098,"body_markdown":"A `char` is a primitive. `null` is reserved for unasigned references.","body":"A <code>char</code> is a primitive. <code>null</code> is reserved for unasigned references."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1360717758,"post_id":14844793,"comment_id":20804121,"body_markdown":"Is `s` String? If so `s.charAt` will return primitive type `char`, not object `Character` so it can&#39;t be null. Default values of `char` array are `&#39;\\u0000&#39;` or simpler `&#39;\\0&#39;`. You could even use `s.charAt(j) == 0`","body":"Is <code>s</code> String? If so <code>s.charAt</code> will return primitive type <code>char</code>, not object <code>Character</code> so it can&#39;t be null. Default values of <code>char</code> array are <code>&#39;\\u0000&#39;</code> or simpler <code>&#39;\\0&#39;</code>. You could even use <code>s.charAt(j) == 0</code>"},{"owner":{"account_id":185558,"reputation":7305,"user_id":422353,"display_name":"madth3"},"score":0,"creation_date":1360717904,"post_id":14844793,"comment_id":20804157,"body_markdown":"Are you trying to check for the end of the String as in C?","body":"Are you trying to check for the end of the String as in C?"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1360718675,"creation_date":1360717752,"answer_id":14844836,"question_id":14844793,"body_markdown":"Check that the `String` `s` is not `null` before doing any character checks. The characters returned by `String#charAt` are primitive `char` types and will never be `null`:\r\n\r\n    if (s != null) {\r\n      ...\r\n\r\nIf you&#39;re trying to process characters from `String` one at a time, you can use:\r\n\r\n    for (char c: s.toCharArray()) {\r\n       // do stuff with char c\t\r\n    }\r\n\r\n(Unlike `C`, `NULL` terminator checking is not done in Java.)","title":"How do I compare a character to check if it is null?","body":"<p>Check that the <code>String</code> <code>s</code> is not <code>null</code> before doing any character checks. The characters returned by <code>String#charAt</code> are primitive <code>char</code> types and will never be <code>null</code>:</p>\n\n<pre><code>if (s != null) {\n  ...\n</code></pre>\n\n<p>If you're trying to process characters from <code>String</code> one at a time, you can use:</p>\n\n<pre><code>for (char c: s.toCharArray()) {\n   // do stuff with char c  \n}\n</code></pre>\n\n<p>(Unlike <code>C</code>, <code>NULL</code> terminator checking is not done in Java.)</p>\n"},{"tags":[],"owner":{"account_id":6614087,"reputation":9,"user_id":5108026,"display_name":"Harpreet"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1436708840,"creation_date":1436707622,"answer_id":31368262,"question_id":14844793,"body_markdown":"If `s` is a string and is not null, then you must be trying to compare &quot;space&quot; with char. You think &quot;space&quot; is not a character and space is just `null`, but truth is that space is a character. Therefore instead of `null`, use ` ` (which is a space) to compare to character.","title":"How do I compare a character to check if it is null?","body":"<p>If <code>s</code> is a string and is not null, then you must be trying to compare \"space\" with char. You think \"space\" is not a character and space is just <code>null</code>, but truth is that space is a character. Therefore instead of <code>null</code>, use <code></code> (which is a space) to compare to character.</p>\n"},{"tags":[],"owner":{"account_id":1890047,"reputation":2191,"user_id":1708390,"accept_rate":79,"display_name":"Bugs Happen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1444417013,"creation_date":1444417013,"answer_id":33045336,"question_id":14844793,"body_markdown":"Correct way of checking `char` is actually described [here](https://stackoverflow.com/a/21502884/1708390).\r\n\r\nIt states:\r\n\r\n&gt;Change it to: `if(position[i][j] == 0)`\r\nEach `char` can be compared with an `int`.\r\nThe default value is `&#39;\\u0000&#39;` i.e. 0 for a `char` array element.\r\nAnd that&#39;s exactly what you meant by empty cell, I assume. ","title":"How do I compare a character to check if it is null?","body":"<p>Correct way of checking <code>char</code> is actually described <a href=\"https://stackoverflow.com/a/21502884/1708390\">here</a>.</p>\n\n<p>It states:</p>\n\n<blockquote>\n  <p>Change it to: <code>if(position[i][j] == 0)</code>\n  Each <code>char</code> can be compared with an <code>int</code>.\n  The default value is <code>'\\u0000'</code> i.e. 0 for a <code>char</code> array element.\n  And that's exactly what you meant by empty cell, I assume. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7398732,"reputation":157,"user_id":5629830,"display_name":"Rashmi singh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1473338518,"creation_date":1473338031,"answer_id":39391055,"question_id":14844793,"body_markdown":"Default value to char primitives is 0 , as its ascii value. \r\nyou can check char if it is null. for eg:\r\n\r\n    char ch[] = new char[20]; //here the whole array will be initialized with &#39;\\u0000&#39; i.e. 0\r\n\t\tif((int)ch[0]==0){\r\n\t\t\tSystem.out.println(&quot;char is null&quot;);\r\n\t\t}\r\n\r\n","title":"How do I compare a character to check if it is null?","body":"<p>Default value to char primitives is 0 , as its ascii value. \nyou can check char if it is null. for eg:</p>\n\n<pre><code>char ch[] = new char[20]; //here the whole array will be initialized with '\\u0000' i.e. 0\n    if((int)ch[0]==0){\n        System.out.println(\"char is null\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16794791,"reputation":91,"user_id":12141464,"display_name":"Mayank Soni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597921952,"creation_date":1597832084,"answer_id":63484807,"question_id":14844793,"body_markdown":"You can use the null character (`&#39;\\0&#39;`):\r\n\r\n    while((s.charAt(j)==&#39;\\0&#39;)","title":"How do I compare a character to check if it is null?","body":"<p>You can use the null character (<code>'\\0'</code>):</p>\n<pre><code>while((s.charAt(j)=='\\0')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2472572,"reputation":196,"user_id":2154038,"display_name":"tapavko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649095655,"creation_date":1649095655,"answer_id":71741861,"question_id":14844793,"body_markdown":"I actually came here from reading a book &quot;Java: A Beginner&#39;s Guide&quot; because they used this solution to compare char to null:\r\n\r\n    (char) 0\r\n\r\nBecause in ASCII table, null is at the position of 0 in decimal.\r\n\r\nSo, solution to OP&#39;s problem would be:\r\n\r\n    while((s.charAt(j) == (char) 0)\r\n\r\nI also tried out the already offered solution of:\r\n\r\n    while((s.charAt(j)==&#39;\\0&#39;)\r\n\r\nAnd it also worked. \r\n\r\nBut just wanted to add this one too, since no one mentioned it.","title":"How do I compare a character to check if it is null?","body":"<p>I actually came here from reading a book &quot;Java: A Beginner's Guide&quot; because they used this solution to compare char to null:</p>\n<pre><code>(char) 0\n</code></pre>\n<p>Because in ASCII table, null is at the position of 0 in decimal.</p>\n<p>So, solution to OP's problem would be:</p>\n<pre><code>while((s.charAt(j) == (char) 0)\n</code></pre>\n<p>I also tried out the already offered solution of:</p>\n<pre><code>while((s.charAt(j)=='\\0')\n</code></pre>\n<p>And it also worked.</p>\n<p>But just wanted to add this one too, since no one mentioned it.</p>\n"},{"tags":[],"owner":{"account_id":27669870,"reputation":1,"user_id":22208854,"display_name":"Евклид Анатольевич"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694514276,"creation_date":1694514276,"answer_id":77088244,"question_id":14844793,"body_markdown":"You can compare with default char value    \r\n\r\n    while((s.charAt(j) != &#39;\\u0000&#39;) ","title":"How do I compare a character to check if it is null?","body":"<p>You can compare with default char value</p>\n<pre><code>while((s.charAt(j) != '\\u0000') \n</code></pre>\n"}],"owner":{"account_id":2354155,"reputation":1423,"user_id":2062360,"accept_rate":57,"display_name":"user2062360"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93506,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":14844836,"answer_count":7,"score":10,"last_activity_date":1694514276,"creation_date":1360717519,"question_id":14844793,"body_markdown":"I tried the below, but Eclipse throws an error for this.\r\n\r\n    while((s.charAt(j)== null)\r\n\r\nWhat&#39;s the correct way of checking whether a character is `null`?","title":"How do I compare a character to check if it is null?","body":"<p>I tried the below, but Eclipse throws an error for this.</p>\n\n<pre><code>while((s.charAt(j)== null)\n</code></pre>\n\n<p>What's the correct way of checking whether a character is <code>null</code>?</p>\n"},{"tags":["java","swing","colors","jtable","tablecellrenderer"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1694502340,"post_id":77086666,"comment_id":135895308,"body_markdown":"I would suggest to tag your question additionally with `swing` and `java` to help attract more attention.","body":"I would suggest to tag your question additionally with <code>swing</code> and <code>java</code> to help attract more attention."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1694505103,"post_id":77086666,"comment_id":135895816,"body_markdown":"Implement  a TableCellRenderer. There&#39;s lots of examples if you search the web.","body":"Implement  a TableCellRenderer. There&#39;s lots of examples if you search the web."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1694527807,"post_id":77086666,"comment_id":135900840,"body_markdown":"See: https://stackoverflow.com/a/72237036/131872 for an approach that allows you to split the text into multiple components. Each components can have a different color.","body":"See: <a href=\"https://stackoverflow.com/a/72237036/131872\">stackoverflow.com/a/72237036/131872</a> for an approach that allows you to split the text into multiple components. Each components can have a different color."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694511090,"creation_date":1694511090,"answer_id":77087833,"question_id":77086666,"body_markdown":"A [TableCellRenderer](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/TableCellRenderer.html) may return any AWT [Component](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html), so you could subclass [JComponent](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html) and overwrite [paintComponent](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)) to tokenize your text and paint each token in an appropriate color. And indeed, this might be the most efficient way to solve your problem.\r\n\r\nA less involved solution would be leveraging [JLabel](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html)&#39;s support for rendering HTML-formatted text. Again, the idea would be tokenizing your text and coloring the tokens as appropriate. E.g.\r\n```\r\nclass MarkupRenderer implements TableCellRenderer {\r\n  private final DefaultTableCellRenderer dtcr;\r\n  private final Pattern digits;\r\n\r\n  MarkupRenderer() {\r\n    dtcr = new DefaultTableCellRenderer();\r\n    digits = Pattern.compile(&quot;\\\\d+&quot;);\r\n  }\r\n\r\n  @Override\r\n  public Component getTableCellRendererComponent(\r\n    JTable table,\r\n    Object value,\r\n    boolean isSelected,\r\n    boolean hasFocus,\r\n    int row,\r\n    int column\r\n  ) {\r\n    return dtcr.getTableCellRendererComponent(\r\n      table, format((String)value), isSelected, hasFocus, row, column);\r\n  }\r\n\r\n  private String format( String s ) {\r\n    final StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&quot;);\r\n\r\n    int lastIdx = 0;\r\n    final Matcher m = digits.matcher(s);\r\n    while (m.find()) {\r\n      final int idx1 = m.start();\r\n      final int idx2 = m.end();\r\n      sb.append(s, lastIdx, idx1);\r\n      sb.append(&quot;&lt;span style=\\&quot;color: #0000ff;\\&quot;&gt;&quot;);\r\n      sb.append(s, idx1, idx2);\r\n      sb.append(&quot;&lt;/span&gt;&quot;);\r\n\r\n      lastIdx = idx2;\r\n    }\r\n    if (lastIdx &lt; s.length()) {\r\n      sb.append(s.substring(lastIdx));\r\n    }\r\n\r\n    sb.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n    return sb.toString();\r\n  }\r\n}\r\n\r\n```\r\nThe above assumes that your numbers are always non-negative integral numbers. If you need to support negative numbers or decimal numbers as well, you need to adjust the tokenizing logic in `format` accordingly.","title":"TablecellRenderer setForeground only on certain characters in cell","body":"<p>A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/table/TableCellRenderer.html\" rel=\"nofollow noreferrer\">TableCellRenderer</a> may return any AWT <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Component.html\" rel=\"nofollow noreferrer\">Component</a>, so you could subclass <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html\" rel=\"nofollow noreferrer\">JComponent</a> and overwrite <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintComponent</a> to tokenize your text and paint each token in an appropriate color. And indeed, this might be the most efficient way to solve your problem.</p>\n<p>A less involved solution would be leveraging <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html\" rel=\"nofollow noreferrer\">JLabel</a>'s support for rendering HTML-formatted text. Again, the idea would be tokenizing your text and coloring the tokens as appropriate. E.g.</p>\n<pre><code>class MarkupRenderer implements TableCellRenderer {\n  private final DefaultTableCellRenderer dtcr;\n  private final Pattern digits;\n\n  MarkupRenderer() {\n    dtcr = new DefaultTableCellRenderer();\n    digits = Pattern.compile(&quot;\\\\d+&quot;);\n  }\n\n  @Override\n  public Component getTableCellRendererComponent(\n    JTable table,\n    Object value,\n    boolean isSelected,\n    boolean hasFocus,\n    int row,\n    int column\n  ) {\n    return dtcr.getTableCellRendererComponent(\n      table, format((String)value), isSelected, hasFocus, row, column);\n  }\n\n  private String format( String s ) {\n    final StringBuilder sb = new StringBuilder();\n    sb.append(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&quot;);\n\n    int lastIdx = 0;\n    final Matcher m = digits.matcher(s);\n    while (m.find()) {\n      final int idx1 = m.start();\n      final int idx2 = m.end();\n      sb.append(s, lastIdx, idx1);\n      sb.append(&quot;&lt;span style=\\&quot;color: #0000ff;\\&quot;&gt;&quot;);\n      sb.append(s, idx1, idx2);\n      sb.append(&quot;&lt;/span&gt;&quot;);\n\n      lastIdx = idx2;\n    }\n    if (lastIdx &lt; s.length()) {\n      sb.append(s.substring(lastIdx));\n    }\n\n    sb.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    return sb.toString();\n  }\n}\n\n</code></pre>\n<p>The above assumes that your numbers are always non-negative integral numbers. If you need to support negative numbers or decimal numbers as well, you need to adjust the tokenizing logic in <code>format</code> accordingly.</p>\n"}],"owner":{"account_id":23976641,"reputation":3,"user_id":17964652,"display_name":"charly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77087833,"answer_count":1,"score":0,"last_activity_date":1694514144,"creation_date":1694501443,"question_id":77086666,"body_markdown":"I&#39;m trying to create a JTable where in one column certain characters have a different color than the rest.\r\n\r\nText1test\r\n\r\nText2test\r\n\r\nText4test\r\n\r\nIn this example, I want the numbers to be blue, the rest black (the lines represent the cells of the column). Is this possible? I only found answers how to color the complete text of a cell with TableCellRenderer.\r\n","title":"TablecellRenderer setForeground only on certain characters in cell","body":"<p>I'm trying to create a JTable where in one column certain characters have a different color than the rest.</p>\n<p>Text1test</p>\n<p>Text2test</p>\n<p>Text4test</p>\n<p>In this example, I want the numbers to be blue, the rest black (the lines represent the cells of the column). Is this possible? I only found answers how to color the complete text of a cell with TableCellRenderer.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1694458945,"post_id":77084076,"comment_id":135891010,"body_markdown":"Can you link to a repo with a minimal reproducible example?","body":"Can you link to a repo with a minimal reproducible example?"},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1694497004,"post_id":77084076,"comment_id":135894576,"body_markdown":"I created a branch. Removed all the other classes and left the one trouble entity (relationships removed) and the controller as shown above and it works. The trouble I think is on the entity properties that have relationships....will update when I know more","body":"I created a branch. Removed all the other classes and left the one trouble entity (relationships removed) and the controller as shown above and it works. The trouble I think is on the entity properties that have relationships....will update when I know more"},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1694505554,"post_id":77084076,"comment_id":135895901,"body_markdown":"You didn&#39;t post a link to your repository.","body":"You didn&#39;t post a link to your repository."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1694509006,"post_id":77084076,"comment_id":135896502,"body_markdown":"Very similar to https://stackoverflow.com/questions/75069899/content-type-application-jsoncharset-utf-8-is-not-supported-springboot-rest","body":"Very similar to <a href=\"https://stackoverflow.com/questions/75069899/content-type-application-jsoncharset-utf-8-is-not-supported-springboot-rest\" title=\"content type application jsoncharset utf 8 is not supported springboot rest\">stackoverflow.com/questions/75069899/&hellip;</a>"},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1694511501,"post_id":77084076,"comment_id":135897051,"body_markdown":"I&#39;ll try to analyze it tonight, I suspect that the error message is misleading.","body":"I&#39;ll try to analyze it tonight, I suspect that the error message is misleading."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1694511958,"post_id":77084076,"comment_id":135897158,"body_markdown":"I fixed it. Will post solution later but it is all to do the `JsonManagedReference` and `JsonBackReference`","body":"I fixed it. Will post solution later but it is all to do the <code>JsonManagedReference</code> and <code>JsonBackReference</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694513445,"post_id":77084076,"comment_id":135897474,"body_markdown":"Remove the `produces` and `consumes` as it doesn&#39;t do what you think it does. It is used for mapping and `application/json` != `application/json;charset=UTF8` hence it will not call this method as the content types don&#39;t match. Another, unrelated thing, don&#39;t use `@Data` and `@ToString` for entities as it will generate the wrong `equals`/`hashCode` and `toString` for use with JPA. (See https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/ for more info).","body":"Remove the <code>produces</code> and <code>consumes</code> as it doesn&#39;t do what you think it does. It is used for mapping and <code>application&#47;json</code> != <code>application&#47;json;charset=UTF8</code> hence it will not call this method as the content types don&#39;t match. Another, unrelated thing, don&#39;t use <code>@Data</code> and <code>@ToString</code> for entities as it will generate the wrong <code>equals</code>/<code>hashCode</code> and <code>toString</code> for use with JPA. (See <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a> for more info)."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1694514451,"post_id":77084076,"comment_id":135897686,"body_markdown":"@M.Deinum excellent post on your site - and nice tip on `@Data` and `ToString` - thank you.","body":"@M.Deinum excellent post on your site - and nice tip on <code>@Data</code> and <code>ToString</code> - thank you."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694500874,"creation_date":1694458161,"answer_id":77084112,"question_id":77084076,"body_markdown":"Remove all `MediaType.APPLICATION_JSON_VALUE` because it is a A String equivalent of `APPLICATION_JSON`, according to [documentation][1] or if you dont want to remove it just replace it to `MediaType.APPLICATION_JSON`. Why so ? because i can see in postman you do request to controller with json object not json as string\r\n\r\n\r\nAnd also be sure that you dont do request with `Content-Type &#39;application/json;charset=UTF-8` just do it without `utf-8`\r\n\r\n\r\nAlso update i see that you also have in one entity `mappedBy = &quot;bird&quot;` two time on different fields, can you change one with another name something like `mappedBy = &quot;secondBird&quot;`\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html","title":"Type Error Application/JSON in Spring Boot 3.1 controller","body":"<p>Remove all <code>MediaType.APPLICATION_JSON_VALUE</code> because it is a A String equivalent of <code>APPLICATION_JSON</code>, according to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaType.html\" rel=\"nofollow noreferrer\">documentation</a> or if you dont want to remove it just replace it to <code>MediaType.APPLICATION_JSON</code>. Why so ? because i can see in postman you do request to controller with json object not json as string</p>\n<p>And also be sure that you dont do request with <code>Content-Type 'application/json;charset=UTF-8</code> just do it without <code>utf-8</code></p>\n<p>Also update i see that you also have in one entity <code>mappedBy = &quot;bird&quot;</code> two time on different fields, can you change one with another name something like <code>mappedBy = &quot;secondBird&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694510296,"creation_date":1694510296,"answer_id":77087709,"question_id":77084076,"body_markdown":"Your `Bird` class doesn&#39;t have default constructor without parameters. I think Sprig has trouble deserializing your JSON to `Bird` class because of it. It is a guess, but worth trying. Add \r\n\r\n    public Bird() {\r\n    }\r\nTo your class `Bird` or just remove your constructor \r\n\r\n        public Bird(String name) {\r\n        this.name = name;\r\n    }","title":"Type Error Application/JSON in Spring Boot 3.1 controller","body":"<p>Your <code>Bird</code> class doesn't have default constructor without parameters. I think Sprig has trouble deserializing your JSON to <code>Bird</code> class because of it. It is a guess, but worth trying. Add</p>\n<pre><code>public Bird() {\n}\n</code></pre>\n<p>To your class <code>Bird</code> or just remove your constructor</p>\n<pre><code>    public Bird(String name) {\n    this.name = name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694514130,"creation_date":1694514130,"answer_id":77088230,"question_id":77084076,"body_markdown":"The answer in this case was to do with related/nested entities and the annotations on them for serialization/deserialization (Jackson).\r\n\r\nOn the bird class there was:\r\n\r\n    @JsonBackReference\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\r\n    private List&lt;ChickTimer&gt; listChickTimer = new ArrayList&lt;&gt;();\r\n\r\n    @JsonBackReference\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\r\n    private List&lt;Otherclass&gt; listOtherclass = new ArrayList&lt;&gt;();\r\n\r\nIn order to fix two properties with @JsonBackReference I named them:\r\n\r\n    @JsonBackReference(value = &quot;bird-chicktimer&quot;)\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\r\n    private List&lt;ChickTimer&gt; listChickTimer = new ArrayList&lt;&gt;();\r\n\r\n    @JsonBackReference(value = &quot;bird-otherclass&quot;)\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\r\n    private List&lt;Otherclass&gt; listOtherclass = new ArrayList&lt;&gt;();\r\n\r\nI also had a `BackReference` on the Many side on one of the classes which I changed to `@JsonManagedReference`.\r\n\r\nThe `application/json` error message was a red herring.\r\n\r\n","title":"Type Error Application/JSON in Spring Boot 3.1 controller","body":"<p>The answer in this case was to do with related/nested entities and the annotations on them for serialization/deserialization (Jackson).</p>\n<p>On the bird class there was:</p>\n<pre><code>@JsonBackReference\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\nprivate List&lt;ChickTimer&gt; listChickTimer = new ArrayList&lt;&gt;();\n\n@JsonBackReference\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\nprivate List&lt;Otherclass&gt; listOtherclass = new ArrayList&lt;&gt;();\n</code></pre>\n<p>In order to fix two properties with @JsonBackReference I named them:</p>\n<pre><code>@JsonBackReference(value = &quot;bird-chicktimer&quot;)\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\nprivate List&lt;ChickTimer&gt; listChickTimer = new ArrayList&lt;&gt;();\n\n@JsonBackReference(value = &quot;bird-otherclass&quot;)\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\nprivate List&lt;Otherclass&gt; listOtherclass = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I also had a <code>BackReference</code> on the Many side on one of the classes which I changed to <code>@JsonManagedReference</code>.</p>\n<p>The <code>application/json</code> error message was a red herring.</p>\n"}],"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694514130,"creation_date":1694457596,"question_id":77084076,"body_markdown":"I am getting a type error on a POST controller when I try to send data to it. The error seems to be clear but the solution is escaping me:\r\n\r\n**Enviroment**\r\n\r\nSpring Boot 3.1\r\nJava 18\r\nMySQL8\r\n\r\n**Entity**\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;bird_seq&quot;, sequenceName = &quot;BIRD_SEQ&quot;, initialValue = 100, allocationSize = 50)\r\n    @Table(name = &quot;bird&quot;)\r\n    public class Bird {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;bird_seq&quot;)\r\n    private Long id;\r\n    @Column(unique = true)\r\n    @NotEmpty\r\n    private String name;\r\n    @Enumerated(EnumType.STRING)\r\n    private Sex sex;\r\n\r\n    @OneToOne(optional = true)\r\n    @Fetch(FetchMode.JOIN)\r\n    @JoinColumn(name = &quot;current_transmitter_id&quot;, nullable = true)\r\n    private Transmitter currentTransmitter;\r\n\r\n    @JsonBackReference\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\r\n    private List&lt;ChickTimer&gt; listChickTimer = new ArrayList&lt;&gt;();\r\n\r\n    // other fields trimmed\r\n    \r\n    // single property constructor to support testing \r\n\r\n        public Bird(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/birds&quot;)\r\n    @RequiredArgsConstructor\r\n    public class KiwiController {\r\n\r\n        @Autowired\r\n        private final BirdServiceImpl birdService;\r\n    \r\n        // tried with and without the consumes/produces\r\n        // also tried consumes = &quot;application/json&quot;\r\n        @PostMapping(value = &quot;/testpost/&quot;, consumes = (MediaType.APPLICATION_JSON_VALUE), produces = (MediaType.APPLICATION_JSON_VALUE) )\r\n        ResponseEntity&lt;Bird&gt; BirdCreate(@RequestBody Bird newBird) {\r\n        Bird bird = birdService.save(newBird);\r\n        return new ResponseEntity&lt;&gt;(bird, HttpStatus.CREATED);\r\n    }\r\n\r\n**Unsupported Media Type - Error**\r\n\r\n    {\r\n    &quot;timestamp&quot;: &quot;2023-09-11T18:29:23.830+00:00&quot;,\r\n    &quot;status&quot;: 415,\r\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/json;charset=UTF-8&#39; is not supported\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:209)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:163)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:136)\\r\\n\\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\n&quot;,\r\n    &quot;message&quot;: &quot;Content-Type &#39;application/json;charset=UTF-8&#39; is not supported.&quot;,\r\n    &quot;path&quot;: &quot;/birds/testpost/&quot;\r\n}\r\n\r\n**Postman**\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Steps Taken So Far**\r\n\r\n 1. I have another controller on same project working fine (it doesnt even specify media type)\r\n 2. Tried with `@PostMapping(value = &quot;/testpost/&quot;, consumes = (MediaType.APPLICATION_JSON_VALUE), produces = (MediaType.APPLICATION_JSON_VALUE) )` and `consumes = &quot;application/json&quot;`\r\n 3. Changed the controller to use another Class I have for Testing - it worked with the test Class\r\n 4. Tried to set a breakpoint on the controller on this line `Bird bird = birdService.save(newBird);` but it never gets reached\r\n 5. Tried manually addding &quot;Accept&quot;:&quot;application/json&quot; to postman instead of `*/*`\r\n\r\n 6. Tried curl : \r\n\r\n    curl -X POST http://localhost:8080/birds/testpost/ --header &quot;Content-Type:application/json&quot; -d &#39;{&quot;name&quot;:&quot;bob&quot;}&#39;\r\n    {&quot;timestamp&quot;:&quot;2023-09-11T09:58:02.903+00:00&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media Type&quot;,&quot;trace&quot;:&quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/json;charset=UTF-8&#39; is not supported\r\n\r\nThe controller that does work is as simple as:\r\n\r\n        @PostMapping(value = &quot;/&quot;)\r\n    ResponseEntity&lt;Pit&gt; newPIT(@RequestBody PitDto pitDto) {\r\n        Pit createdPit = pitMapper.toEntity(pitDto);\r\n         // some service layer stuff\r\n        Pit savedPit = pitService.savePIT(createdPit);\r\n        return ResponseEntity.ok().body(savedPit);\r\n    }\r\n\r\nI don&#39;t even set the application type in that controller (however it does use Dto).\r\n\r\nI am out of idea&#39;s but suspect something on the entity since the test entity works in that controller.\r\n\r\n**Update**\r\n\r\nAfter creating a new branch to create a Minimal, Reproducible Example the controller worked. So I changed back to master, last commit, and began to remove the properties. \r\n\r\nThe field causing a issue is `HealthCheck` - here is that class:\r\n\r\n    @NoArgsConstructor\r\n    @ToString\r\n    @Entity\r\n    @Data\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitalizer&quot;, &quot;handler&quot;})\r\n    @SequenceGenerator(name = &quot;health_check_seq&quot;, sequenceName = &quot;HEALTH_CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\r\n    @Table(name = &quot;health_check&quot;)\r\n    public class HealthCheck {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;health_check_seq&quot;)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;bird_id&quot;)\r\n    private Bird bird;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\r\n    private LocalDateTime catchDateTime;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x17TF.png\r\n  [2]: https://i.stack.imgur.com/3R44t.png","title":"Type Error Application/JSON in Spring Boot 3.1 controller","body":"<p>I am getting a type error on a POST controller when I try to send data to it. The error seems to be clear but the solution is escaping me:</p>\n<p><strong>Enviroment</strong></p>\n<p>Spring Boot 3.1\nJava 18\nMySQL8</p>\n<p><strong>Entity</strong></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity\n@SequenceGenerator(name = &quot;bird_seq&quot;, sequenceName = &quot;BIRD_SEQ&quot;, initialValue = 100, allocationSize = 50)\n@Table(name = &quot;bird&quot;)\npublic class Bird {\n\n@Id\n@GeneratedValue(strategy = SEQUENCE, generator = &quot;bird_seq&quot;)\nprivate Long id;\n@Column(unique = true)\n@NotEmpty\nprivate String name;\n@Enumerated(EnumType.STRING)\nprivate Sex sex;\n\n@OneToOne(optional = true)\n@Fetch(FetchMode.JOIN)\n@JoinColumn(name = &quot;current_transmitter_id&quot;, nullable = true)\nprivate Transmitter currentTransmitter;\n\n@JsonBackReference\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;bird&quot;)\nprivate List&lt;ChickTimer&gt; listChickTimer = new ArrayList&lt;&gt;();\n\n// other fields trimmed\n\n// single property constructor to support testing \n\n    public Bird(String name) {\n    this.name = name;\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/birds&quot;)\n@RequiredArgsConstructor\npublic class KiwiController {\n\n    @Autowired\n    private final BirdServiceImpl birdService;\n\n    // tried with and without the consumes/produces\n    // also tried consumes = &quot;application/json&quot;\n    @PostMapping(value = &quot;/testpost/&quot;, consumes = (MediaType.APPLICATION_JSON_VALUE), produces = (MediaType.APPLICATION_JSON_VALUE) )\n    ResponseEntity&lt;Bird&gt; BirdCreate(@RequestBody Bird newBird) {\n    Bird bird = birdService.save(newBird);\n    return new ResponseEntity&lt;&gt;(bird, HttpStatus.CREATED);\n}\n</code></pre>\n<p><strong>Unsupported Media Type - Error</strong></p>\n<pre><code>{\n&quot;timestamp&quot;: &quot;2023-09-11T18:29:23.830+00:00&quot;,\n&quot;status&quot;: 415,\n&quot;error&quot;: &quot;Unsupported Media Type&quot;,\n&quot;trace&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/json;charset=UTF-8' is not supported\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:209)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:163)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:136)\\r\\n\\tat org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\\r\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\r\\n&quot;,\n&quot;message&quot;: &quot;Content-Type 'application/json;charset=UTF-8' is not supported.&quot;,\n&quot;path&quot;: &quot;/birds/testpost/&quot;\n</code></pre>\n<p>}</p>\n<p><strong>Postman</strong></p>\n<p><a href=\"https://i.stack.imgur.com/x17TF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x17TF.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/3R44t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3R44t.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Steps Taken So Far</strong></p>\n<ol>\n<li><p>I have another controller on same project working fine (it doesnt even specify media type)</p>\n</li>\n<li><p>Tried with <code>@PostMapping(value = &quot;/testpost/&quot;, consumes = (MediaType.APPLICATION_JSON_VALUE), produces = (MediaType.APPLICATION_JSON_VALUE) )</code> and <code>consumes = &quot;application/json&quot;</code></p>\n</li>\n<li><p>Changed the controller to use another Class I have for Testing - it worked with the test Class</p>\n</li>\n<li><p>Tried to set a breakpoint on the controller on this line <code>Bird bird = birdService.save(newBird);</code> but it never gets reached</p>\n</li>\n<li><p>Tried manually addding &quot;Accept&quot;:&quot;application/json&quot; to postman instead of <code>*/*</code></p>\n</li>\n<li><p>Tried curl :</p>\n<p>curl -X POST http://localhost:8080/birds/testpost/ --header &quot;Content-Type:application/json&quot; -d '{&quot;name&quot;:&quot;bob&quot;}'\n{&quot;timestamp&quot;:&quot;2023-09-11T09:58:02.903+00:00&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media Type&quot;,&quot;trace&quot;:&quot;org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/json;charset=UTF-8' is not supported</p>\n</li>\n</ol>\n<p>The controller that does work is as simple as:</p>\n<pre><code>    @PostMapping(value = &quot;/&quot;)\nResponseEntity&lt;Pit&gt; newPIT(@RequestBody PitDto pitDto) {\n    Pit createdPit = pitMapper.toEntity(pitDto);\n     // some service layer stuff\n    Pit savedPit = pitService.savePIT(createdPit);\n    return ResponseEntity.ok().body(savedPit);\n}\n</code></pre>\n<p>I don't even set the application type in that controller (however it does use Dto).</p>\n<p>I am out of idea's but suspect something on the entity since the test entity works in that controller.</p>\n<p><strong>Update</strong></p>\n<p>After creating a new branch to create a Minimal, Reproducible Example the controller worked. So I changed back to master, last commit, and began to remove the properties.</p>\n<p>The field causing a issue is <code>HealthCheck</code> - here is that class:</p>\n<pre><code>@NoArgsConstructor\n@ToString\n@Entity\n@Data\n@JsonIgnoreProperties({&quot;hibernateLazyInitalizer&quot;, &quot;handler&quot;})\n@SequenceGenerator(name = &quot;health_check_seq&quot;, sequenceName = &quot;HEALTH_CHECK_SEQ&quot;, initialValue = 100, allocationSize = 50)\n@Table(name = &quot;health_check&quot;)\npublic class HealthCheck {\n\n@Id\n@GeneratedValue(strategy = SEQUENCE, generator = &quot;health_check_seq&quot;)\nprivate Long id;\n\n@ManyToOne(fetch = FetchType.EAGER, optional = false)\n@JoinColumn(name = &quot;bird_id&quot;)\nprivate Bird bird;\n\n@JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\nprivate LocalDateTime catchDateTime;\n</code></pre>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1694510286,"post_id":77087236,"comment_id":135896782,"body_markdown":"Your code is working fine for me, make sure you have the correct URL.","body":"Your code is working fine for me, make sure you have the correct URL."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694513720,"post_id":77087236,"comment_id":135897536,"body_markdown":"Make those inner classes static nested classes instead.","body":"Make those inner classes static nested classes instead."},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1694514605,"post_id":77087236,"comment_id":135897716,"body_markdown":"I tried it, it didn&#39;t work.","body":"I tried it, it didn&#39;t work."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1694751799,"post_id":77087236,"comment_id":135935176,"body_markdown":"Please add the complete stack trace of the exception to your question.","body":"Please add the complete stack trace of the exception to your question."}],"answers":[{"tags":[],"owner":{"account_id":13173045,"reputation":24,"user_id":9514691,"display_name":"shengdoushi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694507006,"creation_date":1694507006,"answer_id":77087269,"question_id":77087236,"body_markdown":"you should  mark the product class to Static,like:\r\n\r\n```\r\npublic static class Product\r\n```\r\n","title":"How can I get API data with models on OkHttpClient","body":"<p>you should  mark the product class to Static,like:</p>\n<pre><code>public static class Product\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694507169,"creation_date":1694507169,"answer_id":77087289,"question_id":77087236,"body_markdown":"I think there&#39;s an issue with the JSON structure and how you&#39;re trying to parse it with Gson.\r\n\r\nIn the JSON, the outer object has a field named &quot;products,&quot; which contains an array of product objects. However, your TestModel.ProductList class doesn&#39;t have a corresponding field for &quot;products.&quot; Instead, it has fields like &quot;total,&quot; &quot;skip,&quot; and &quot;limit.&quot;\r\n\r\nTo fix this issue, you need to modify your model classes to match the JSON structure. Here&#39;s how you can do it:\r\n\r\n    public class TestModel {\r\n        public static class ProductList {\r\n            private List&lt;Product&gt; products;\r\n    \r\n            public List&lt;Product&gt; getProducts() {\r\n                return products;\r\n            }\r\n        }\r\n    \r\n        public static class Product {\r\n            private int id;\r\n            private String title;\r\n            private String description;\r\n            private double price;\r\n            private double discountPercentage;\r\n            private double rating;\r\n            private int stock;\r\n            private String brand;\r\n            private String category;\r\n            private String thumbnail;\r\n            private List&lt;String&gt; images;\r\n    \r\n            // Add getter and setter methods for the fields here\r\n        }\r\n    }\r\n\r\nI&#39;ve removed the &quot;total,&quot; &quot;skip,&quot; and &quot;limit&quot; fields from the ProductList class because they don&#39;t exist in your JSON data. You can add getter and setter methods for the fields in the Product class as needed.\r\n\r\nWith these modifications, this Gson parsing code should work as expected:\r\n\r\n    Gson gson = new Gson();\r\n    TestModel.ProductList productList = gson.fromJson(json, TestModel.ProductList.class);\r\n    \r\n    List&lt;TestModel.Product&gt; products = productList.getProducts();\r\n    for (TestModel.Product product : products) {\r\n        System.out.println(&quot;Product Title: &quot; + product.getTitle());\r\n        System.out.println(&quot;Description: &quot; + product.getDescription());\r\n        // Print other product details as needed\r\n    }\r\n\r\nPlease update the model class as above and make sure that the JSON response in the API matches the structure you want to parse.\r\n\r\nGood luck.","title":"How can I get API data with models on OkHttpClient","body":"<p>I think there's an issue with the JSON structure and how you're trying to parse it with Gson.</p>\n<p>In the JSON, the outer object has a field named &quot;products,&quot; which contains an array of product objects. However, your TestModel.ProductList class doesn't have a corresponding field for &quot;products.&quot; Instead, it has fields like &quot;total,&quot; &quot;skip,&quot; and &quot;limit.&quot;</p>\n<p>To fix this issue, you need to modify your model classes to match the JSON structure. Here's how you can do it:</p>\n<pre><code>public class TestModel {\n    public static class ProductList {\n        private List&lt;Product&gt; products;\n\n        public List&lt;Product&gt; getProducts() {\n            return products;\n        }\n    }\n\n    public static class Product {\n        private int id;\n        private String title;\n        private String description;\n        private double price;\n        private double discountPercentage;\n        private double rating;\n        private int stock;\n        private String brand;\n        private String category;\n        private String thumbnail;\n        private List&lt;String&gt; images;\n\n        // Add getter and setter methods for the fields here\n    }\n}\n</code></pre>\n<p>I've removed the &quot;total,&quot; &quot;skip,&quot; and &quot;limit&quot; fields from the ProductList class because they don't exist in your JSON data. You can add getter and setter methods for the fields in the Product class as needed.</p>\n<p>With these modifications, this Gson parsing code should work as expected:</p>\n<pre><code>Gson gson = new Gson();\nTestModel.ProductList productList = gson.fromJson(json, TestModel.ProductList.class);\n\nList&lt;TestModel.Product&gt; products = productList.getProducts();\nfor (TestModel.Product product : products) {\n    System.out.println(&quot;Product Title: &quot; + product.getTitle());\n    System.out.println(&quot;Description: &quot; + product.getDescription());\n    // Print other product details as needed\n}\n</code></pre>\n<p>Please update the model class as above and make sure that the JSON response in the API matches the structure you want to parse.</p>\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694510190,"creation_date":1694510190,"answer_id":77087689,"question_id":77087236,"body_markdown":"Make sure you added to manifest internet permission use:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nMake sure you call your method with correct argument:\r\n\r\n        try {\r\n            GetFromServer(&quot;products&quot;);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\nbaseUrl should be:\r\n\r\n    String baseUrl = &quot;https://dummyjson.com&quot;;\r\n\r\nYour testModel class lacks gett-er methods, also make the inner classes static:\r\n\r\n    public class TestModel {\r\n        public static class ProductList {\r\n            private List&lt;Product&gt; products;\r\n            private int total;\r\n            private int skip;\r\n            private int limit;\r\n    \r\n            public List&lt;Product&gt; getProducts() {\r\n                return products;\r\n            }\r\n        }\r\n        public static class Product {\r\n            private int id;\r\n            private String title;\r\n            private String description;\r\n            private double price;\r\n            private double discountPercentage;\r\n            private double rating;\r\n            private int stock;\r\n            private String brand;\r\n            private String category;\r\n            private String thumbnail;\r\n            private List&lt;String&gt; images;\r\n    \r\n            public String getTitle() {\r\n                return title;\r\n            }\r\n    \r\n            public String getDescription() {\r\n                return description;\r\n            }\r\n        }\r\n    }\r\n\r\nCarefully analyze logcat for any errors.","title":"How can I get API data with models on OkHttpClient","body":"<p>Make sure you added to manifest internet permission use:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>Make sure you call your method with correct argument:</p>\n<pre><code>    try {\n        GetFromServer(&quot;products&quot;);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n<p>baseUrl should be:</p>\n<pre><code>String baseUrl = &quot;https://dummyjson.com&quot;;\n</code></pre>\n<p>Your testModel class lacks gett-er methods, also make the inner classes static:</p>\n<pre><code>public class TestModel {\n    public static class ProductList {\n        private List&lt;Product&gt; products;\n        private int total;\n        private int skip;\n        private int limit;\n\n        public List&lt;Product&gt; getProducts() {\n            return products;\n        }\n    }\n    public static class Product {\n        private int id;\n        private String title;\n        private String description;\n        private double price;\n        private double discountPercentage;\n        private double rating;\n        private int stock;\n        private String brand;\n        private String category;\n        private String thumbnail;\n        private List&lt;String&gt; images;\n\n        public String getTitle() {\n            return title;\n        }\n\n        public String getDescription() {\n            return description;\n        }\n    }\n}\n</code></pre>\n<p>Carefully analyze logcat for any errors.</p>\n"}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77087689,"answer_count":3,"score":0,"last_activity_date":1694513696,"creation_date":1694506709,"question_id":77087236,"body_markdown":"I want to pull data from api with OkHttpClient. Sample data I want to pull: &lt;https://dummyjson.com/products&gt;\r\n\r\nI created two models. I think I created the models correctly. What do you think I did wrong? I created getter and setter methods for model fields. I didn&#39;t add it here.\r\n```\r\npublic class TestModel {\r\n\r\n    public class ProductList {\r\n        private List&lt;Product&gt; products;\r\n        private int total;\r\n        private int skip;\r\n        private int limit;\r\n    }\r\n\r\n    public class Product {\r\n        private int id;\r\n        private String title;\r\n        private String description;\r\n        private double price;\r\n        private double discountPercentage;\r\n        private double rating;\r\n        private int stock;\r\n        private String brand;\r\n        private String category;\r\n        private String thumbnail;\r\n        private List&lt;String&gt; images;\r\n    }\r\n}\r\n```\r\n\r\nWhen I write the code below with OkHttpClient, I get a null error. I don&#39;t think data is null.\r\n\r\n```\r\nprivate final OkHttpClient client = new OkHttpClient();\r\n\r\npublic void GetFromServer(String _serviceUrl) throws Exception {\r\n    String absoluteUrl = baseUrl + &quot;/&quot; + _serviceUrl;\r\n    Request request = new Request.Builder()\r\n            .url(absoluteUrl)\r\n            .build();\r\n\r\n    client.newCall(request).enqueue(new Callback() {\r\n        @Override public void onFailure(Call call, IOException e) {\r\n            Logging.Error(&quot;GetFromServer is Failure. Endpoint : &quot; + absoluteUrl + &quot; Error Message : &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        @Override public void onResponse(Call call, Response response) throws IOException {\r\n            try (ResponseBody responseBody = response.body()) {\r\n                if (response.isSuccessful()) {\r\n                    String json = response.body().string();\r\n\r\n                    Gson gson = new Gson();\r\n                    TestModel.ProductList productList = gson.fromJson(json, TestModel.ProductList.class);\r\n\r\n                    List&lt;TestModel.Product&gt; products = productList.getProducts();\r\n                    for (TestModel.Product product : products) {\r\n                        System.out.println(&quot;Product Title: &quot; + product.getTitle());\r\n                        System.out.println(&quot;Description: &quot; + product.getDescription());\r\n                       \r\n                    }\r\n                }\r\n                else {\r\n                    throw new IOException(&quot;Unexpected code &quot; + response);\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n```","title":"How can I get API data with models on OkHttpClient","body":"<p>I want to pull data from api with OkHttpClient. Sample data I want to pull: <a href=\"https://dummyjson.com/products\" rel=\"nofollow noreferrer\">https://dummyjson.com/products</a></p>\n<p>I created two models. I think I created the models correctly. What do you think I did wrong? I created getter and setter methods for model fields. I didn't add it here.</p>\n<pre><code>public class TestModel {\n\n    public class ProductList {\n        private List&lt;Product&gt; products;\n        private int total;\n        private int skip;\n        private int limit;\n    }\n\n    public class Product {\n        private int id;\n        private String title;\n        private String description;\n        private double price;\n        private double discountPercentage;\n        private double rating;\n        private int stock;\n        private String brand;\n        private String category;\n        private String thumbnail;\n        private List&lt;String&gt; images;\n    }\n}\n</code></pre>\n<p>When I write the code below with OkHttpClient, I get a null error. I don't think data is null.</p>\n<pre><code>private final OkHttpClient client = new OkHttpClient();\n\npublic void GetFromServer(String _serviceUrl) throws Exception {\n    String absoluteUrl = baseUrl + &quot;/&quot; + _serviceUrl;\n    Request request = new Request.Builder()\n            .url(absoluteUrl)\n            .build();\n\n    client.newCall(request).enqueue(new Callback() {\n        @Override public void onFailure(Call call, IOException e) {\n            Logging.Error(&quot;GetFromServer is Failure. Endpoint : &quot; + absoluteUrl + &quot; Error Message : &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n        @Override public void onResponse(Call call, Response response) throws IOException {\n            try (ResponseBody responseBody = response.body()) {\n                if (response.isSuccessful()) {\n                    String json = response.body().string();\n\n                    Gson gson = new Gson();\n                    TestModel.ProductList productList = gson.fromJson(json, TestModel.ProductList.class);\n\n                    List&lt;TestModel.Product&gt; products = productList.getProducts();\n                    for (TestModel.Product product : products) {\n                        System.out.println(&quot;Product Title: &quot; + product.getTitle());\n                        System.out.println(&quot;Description: &quot; + product.getDescription());\n                       \n                    }\n                }\n                else {\n                    throw new IOException(&quot;Unexpected code &quot; + response);\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","maven","apache-poi","docx"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1694002104,"post_id":77050264,"comment_id":135833296,"body_markdown":"Did you try with Apache Tika?","body":"Did you try with Apache Tika?"},{"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"score":0,"creation_date":1694513565,"post_id":77050264,"comment_id":135897497,"body_markdown":"works! Thank you","body":"works! Thank you"}],"answers":[{"tags":[],"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694513681,"creation_date":1694513681,"answer_id":77088165,"question_id":77050264,"body_markdown":"I solved my problemu by using Apache Tika.\r\n\r\n    AutoDetectParser parser = new AutoDetectParser();\r\n    BodyContentHandler handler = new BodyContentHandler(-1);\r\n    Metadata metadata = new Metadata();\r\n    parser.parse(inputStream, handler, metadata);\r\n    return handler.toString();","title":"Problem extracting text with XWPFWordExtractor","body":"<p>I solved my problemu by using Apache Tika.</p>\n<pre><code>AutoDetectParser parser = new AutoDetectParser();\nBodyContentHandler handler = new BodyContentHandler(-1);\nMetadata metadata = new Metadata();\nparser.parse(inputStream, handler, metadata);\nreturn handler.toString();\n</code></pre>\n"}],"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77088165,"answer_count":1,"score":0,"last_activity_date":1694513681,"creation_date":1693989326,"question_id":77050264,"body_markdown":"I have a Java application with this dependency\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n         &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n         &lt;version&gt;5.2.3&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nand this piece of code\r\n\r\n     XWPFWordExtractor extractor = new XWPFWordExtractor(new XWPFDocument(inputStream));\r\n     return extractor.getText();\r\n\r\nI&#39;m trying to extract from a word document (.docx) all the text inside.\r\nThe text is extracted, but if for example there is a text box inside the document, this is ignored and therefore also the text inside.\r\n\r\nHow can I do to extract the entire text? Including text boxes and if so other possible elements that can contain text?","title":"Problem extracting text with XWPFWordExtractor","body":"<p>I have a Java application with this dependency</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n     &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n     &lt;version&gt;5.2.3&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>and this piece of code</p>\n<pre><code> XWPFWordExtractor extractor = new XWPFWordExtractor(new XWPFDocument(inputStream));\n return extractor.getText();\n</code></pre>\n<p>I'm trying to extract from a word document (.docx) all the text inside.\nThe text is extracted, but if for example there is a text box inside the document, this is ignored and therefore also the text inside.</p>\n<p>How can I do to extract the entire text? Including text boxes and if so other possible elements that can contain text?</p>\n"},{"tags":["java","mysql","jdbc","resultset"],"comments":[{"owner":{"account_id":1169767,"reputation":3461,"user_id":1147197,"accept_rate":83,"display_name":"Murali N"},"score":0,"creation_date":1355131033,"post_id":13797942,"comment_id":18983922,"body_markdown":"returns the number of rows affected","body":"returns the number of rows affected"},{"owner":{"account_id":2130141,"reputation":43,"user_id":1891149,"display_name":"Malxaz Jayeli"},"score":0,"creation_date":1355131308,"post_id":13797942,"comment_id":18983923,"body_markdown":"but what if the query went wrong? i mean how can i fetch true or false like in php?","body":"but what if the query went wrong? i mean how can i fetch true or false like in php?"},{"owner":{"account_id":1169767,"reputation":3461,"user_id":1147197,"accept_rate":83,"display_name":"Murali N"},"score":0,"creation_date":1355131390,"post_id":13797942,"comment_id":18983924,"body_markdown":"0 for SQL statements that return nothing","body":"0 for SQL statements that return nothing"},{"owner":{"account_id":1711471,"reputation":1102,"user_id":1569443,"accept_rate":100,"display_name":"Abhishekkumar"},"score":0,"creation_date":1355131884,"post_id":13797942,"comment_id":18983921,"body_markdown":"Returns the number of rows affected if query is ok if it is wrong it will return -1.","body":"Returns the number of rows affected if query is ok if it is wrong it will return -1."}],"answers":[{"tags":[],"owner":{"account_id":324278,"reputation":4581,"user_id":644766,"display_name":"melihcelik"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1355138471,"creation_date":1355131024,"answer_id":13797964,"question_id":13797942,"body_markdown":"It returns:\r\n\r\n 1. The number of affected rows in the resultset if the query is a DML query (insert, update, delete)\r\n 2. 0, if the query is a DDL (create, alter, etc.)\r\n\r\nSee the javadoc for more details: [Execute Update Javadoc][1]\r\n\r\nAnd I strongly advise you to read the related section in [JDBC Tutorial][2], read the section titled: Return Values for the executeUpdate Method\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/sql/Statement.html#executeUpdate%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","title":"What does java return in resultset in case of mysql update query","body":"<p>It returns:</p>\n\n<ol>\n<li>The number of affected rows in the resultset if the query is a DML query (insert, update, delete)</li>\n<li>0, if the query is a DDL (create, alter, etc.)</li>\n</ol>\n\n<p>See the javadoc for more details: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/Statement.html#executeUpdate%28java.lang.String%29\" rel=\"noreferrer\">Execute Update Javadoc</a></p>\n\n<p>And I strongly advise you to read the related section in <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"noreferrer\">JDBC Tutorial</a>, read the section titled: Return Values for the executeUpdate Method</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694512997,"creation_date":1355136684,"answer_id":13799467,"question_id":13797942,"body_markdown":"When you execute an `UPDATE`, you should not use `executeQuery`, as an update does not produce a resultset. In general you should use [`executeUpdate`][1] for `UPDATE`, `INSERT` and `DELETE`. This method returns an update count.\r\n\r\nIf the query fails (that is: if an error occurs), then the JDBC driver will throw an `SQLException`. If the query ran, but didn&#39;t update any rows that doesn&#39;t mean it failed, there simply weren&#39;t any rows to update, so the update count will be 0.\r\n\r\nAlso I&#39;d advise you to follow the [JDBC Basics Tutorial][2] and check the Javadocs of the classes in the [package `java.sql`][3].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/PreparedStatement.html#executeUpdate()\r\n  [2]: https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/package-summary.html","title":"What does java return in resultset in case of mysql update query","body":"<p>When you execute an <code>UPDATE</code>, you should not use <code>executeQuery</code>, as an update does not produce a resultset. In general you should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/PreparedStatement.html#executeUpdate()\" rel=\"nofollow noreferrer\"><code>executeUpdate</code></a> for <code>UPDATE</code>, <code>INSERT</code> and <code>DELETE</code>. This method returns an update count.</p>\n<p>If the query fails (that is: if an error occurs), then the JDBC driver will throw an <code>SQLException</code>. If the query ran, but didn't update any rows that doesn't mean it failed, there simply weren't any rows to update, so the update count will be 0.</p>\n<p>Also I'd advise you to follow the <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html\" rel=\"nofollow noreferrer\">JDBC Basics Tutorial</a> and check the Javadocs of the classes in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/package-summary.html\" rel=\"nofollow noreferrer\">package <code>java.sql</code></a>.</p>\n"}],"owner":{"account_id":2130141,"reputation":43,"user_id":1891149,"display_name":"Malxaz Jayeli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10940,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":13797964,"answer_count":2,"score":3,"last_activity_date":1694512997,"creation_date":1355130912,"question_id":13797942,"body_markdown":"I need to know did the update query go wrong or right, i know how to do it in PHP, but have no idea in java (I&#39;m new to java).","title":"What does java return in resultset in case of mysql update query","body":"<p>I need to know did the update query go wrong or right, i know how to do it in PHP, but have no idea in java (I'm new to java).</p>\n"},{"tags":["java","security","continuous-integration","owasp","suppression"],"answers":[{"tags":[],"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633209018,"creation_date":1633209018,"answer_id":69420289,"question_id":69404705,"body_markdown":"#1 Click on the &#39;artifacts&#39; tab on the OWASP dependency check task in CI and the html report is there.\r\n\r\n#2 &#39;File&#39; in this context means the file inside the jar that is warranting the dependency issue. It will be given to you in the html report. ","title":"OWASP Dependency check, how to use suppressions","body":"<p>#1 Click on the 'artifacts' tab on the OWASP dependency check task in CI and the html report is there.</p>\n<p>#2 'File' in this context means the file inside the jar that is warranting the dependency issue. It will be given to you in the html report.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1678891719,"creation_date":1678891719,"answer_id":75746352,"question_id":69404705,"body_markdown":"Below answer is based on gradle OWASP plugin version 7.4.4.\r\n\r\nBelow in my build.gradle\r\n\r\n    id &quot;org.owasp.dependencycheck&quot; version &quot;7.4.4&quot;\r\n\r\nAnd below is the task configuration\r\n\r\n    dependencyCheck {\r\n        formats = [&#39;xml&#39;,&#39;json&#39;]\r\n        failBuildOnCVSS = 8\r\n        failOnError = true\r\n        suppressionFile = &#39;config/dependency-check/suppressions.xml&#39;\r\n        check.dependsOn(dependencyCheckAnalyze)\r\n    }\r\n\r\nAnd as you see we have provided a path to suppressionFile where we can define the suppression for vulnerabilities.\r\n\r\nSo, in my case our sonar build was failing due to \r\n\r\n    Filename: spring-security-oauth2-client-5.6.3.jar | Reference: CVE-2022-22978 | CVSS Score: 9.8\r\n    \r\n    Filename: snakeyaml-1.33.jar | Reference: CVE-2022-1471 | CVSS Score: 9.8\r\n\r\n  \r\nSo, I have added them in Suppression.xml and my file looks like below\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;suppressions xmlns=&quot;https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd&quot;&gt;\r\n        &lt;suppress until=&quot;2023-06-01Z&quot;&gt;\r\n            &lt;notes&gt;&lt;![CDATA[\r\n            This suppresses a CVE from SnakeYaml as it needs to wait until SpringBoot 3 upgrade\r\n            ]]&gt;&lt;/notes&gt;\r\n            &lt;packageUrl regex=&quot;true&quot;&gt;^pkg:maven/org\\.yaml/snakeyaml@.*$&lt;/packageUrl&gt;\r\n            &lt;vulnerabilityName&gt;CVE-2022-1471&lt;/vulnerabilityName&gt;\r\n        &lt;/suppress&gt;\r\n        &lt;suppress until=&quot;2023-06-01Z&quot;&gt;\r\n            &lt;notes&gt;&lt;![CDATA[\r\n            This suppresses a CVE from OAuth Client as it needs to wait until SpringBoot 3 upgrade\r\n            ]]&gt;&lt;/notes&gt;\r\n            &lt;packageUrl regex=&quot;true&quot;&gt;^pkg:maven/org\\.springframework\\.security/spring\\-security\\-oauth2\\-client@.*$&lt;/packageUrl&gt;\r\n            &lt;vulnerabilityName&gt;CVE-2022-22978&lt;/vulnerabilityName&gt;\r\n        &lt;/suppress&gt;\r\n    &lt;/suppressions&gt;\r\n\r\n\r\nI recommend to use `until=&quot;2023-06-01Z&quot;` so you don&#39;t suppress them forever.\r\n\r\nVulnerabilities can be suppressed in number of different combinations. So, please refer https://jeremylong.github.io/DependencyCheck/general/suppression.html and decide which option suits your requirement.\r\n","title":"OWASP Dependency check, how to use suppressions","body":"<p>Below answer is based on gradle OWASP plugin version 7.4.4.</p>\n<p>Below in my build.gradle</p>\n<pre><code>id &quot;org.owasp.dependencycheck&quot; version &quot;7.4.4&quot;\n</code></pre>\n<p>And below is the task configuration</p>\n<pre><code>dependencyCheck {\n    formats = ['xml','json']\n    failBuildOnCVSS = 8\n    failOnError = true\n    suppressionFile = 'config/dependency-check/suppressions.xml'\n    check.dependsOn(dependencyCheckAnalyze)\n}\n</code></pre>\n<p>And as you see we have provided a path to suppressionFile where we can define the suppression for vulnerabilities.</p>\n<p>So, in my case our sonar build was failing due to</p>\n<pre><code>Filename: spring-security-oauth2-client-5.6.3.jar | Reference: CVE-2022-22978 | CVSS Score: 9.8\n\nFilename: snakeyaml-1.33.jar | Reference: CVE-2022-1471 | CVSS Score: 9.8\n</code></pre>\n<p>So, I have added them in Suppression.xml and my file looks like below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;suppressions xmlns=&quot;https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd&quot;&gt;\n    &lt;suppress until=&quot;2023-06-01Z&quot;&gt;\n        &lt;notes&gt;&lt;![CDATA[\n        This suppresses a CVE from SnakeYaml as it needs to wait until SpringBoot 3 upgrade\n        ]]&gt;&lt;/notes&gt;\n        &lt;packageUrl regex=&quot;true&quot;&gt;^pkg:maven/org\\.yaml/snakeyaml@.*$&lt;/packageUrl&gt;\n        &lt;vulnerabilityName&gt;CVE-2022-1471&lt;/vulnerabilityName&gt;\n    &lt;/suppress&gt;\n    &lt;suppress until=&quot;2023-06-01Z&quot;&gt;\n        &lt;notes&gt;&lt;![CDATA[\n        This suppresses a CVE from OAuth Client as it needs to wait until SpringBoot 3 upgrade\n        ]]&gt;&lt;/notes&gt;\n        &lt;packageUrl regex=&quot;true&quot;&gt;^pkg:maven/org\\.springframework\\.security/spring\\-security\\-oauth2\\-client@.*$&lt;/packageUrl&gt;\n        &lt;vulnerabilityName&gt;CVE-2022-22978&lt;/vulnerabilityName&gt;\n    &lt;/suppress&gt;\n&lt;/suppressions&gt;\n</code></pre>\n<p>I recommend to use <code>until=&quot;2023-06-01Z&quot;</code> so you don't suppress them forever.</p>\n<p>Vulnerabilities can be suppressed in number of different combinations. So, please refer <a href=\"https://jeremylong.github.io/DependencyCheck/general/suppression.html\" rel=\"nofollow noreferrer\">https://jeremylong.github.io/DependencyCheck/general/suppression.html</a> and decide which option suits your requirement.</p>\n"},{"tags":[],"owner":{"account_id":103435,"reputation":13726,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684768363,"creation_date":1684768363,"answer_id":76307596,"question_id":69404705,"body_markdown":"You can use [Dependency Shield][1] that streamlines management of the false positives.\r\n\r\n\r\n  [1]: https://www.dependencyshield.com/","title":"OWASP Dependency check, how to use suppressions","body":"<p>You can use <a href=\"https://www.dependencyshield.com/\" rel=\"nofollow noreferrer\">Dependency Shield</a> that streamlines management of the false positives.</p>\n"},{"tags":[],"owner":{"account_id":2758034,"reputation":111,"user_id":2375553,"display_name":"Davy Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694512983,"creation_date":1694512983,"answer_id":77088078,"question_id":69404705,"body_markdown":"If you are looking for how to suppress from Jenkins job using the dependency check plug in, use `--suppression &lt;path to suppression file&gt;` in `additionalArguments`along with the dependencycheck script.\r\n\r\n   \r\n\r\n    steps{\r\n           dependencycheck additionalArguments: &quot;--suppression owasp-suppression.xml --noupdate  --disableAssembly --disableRetireJS --scan ./target/*.jar&quot;, odcInstallation: &#39;slave&#39;\r\n         }","title":"OWASP Dependency check, how to use suppressions","body":"<p>If you are looking for how to suppress from Jenkins job using the dependency check plug in, use <code>--suppression &lt;path to suppression file&gt;</code> in <code>additionalArguments</code>along with the dependencycheck script.</p>\n<pre><code>steps{\n       dependencycheck additionalArguments: &quot;--suppression owasp-suppression.xml --noupdate  --disableAssembly --disableRetireJS --scan ./target/*.jar&quot;, odcInstallation: 'slave'\n     }\n</code></pre>\n"}],"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15332,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75746352,"answer_count":4,"score":6,"last_activity_date":1694512983,"creation_date":1633085688,"question_id":69404705,"body_markdown":"I have a build in CI failing on a the OWASP dependency check.\r\nFor example \r\n\r\n    [HIGH] CVE-2021-37136 - io.netty:netty-codec-4.1.66.Final\r\n\r\nI understand I can add a suppression in `owaspDependencyCheckSuppressions.xml` to fix this.\r\n\r\nIt&#39;s something I haven&#39;t done before, but there is a guide here -\r\nhttps://jeremylong.github.io/DependencyCheck/general/suppression.html \r\nwhich says ...\r\n\r\n&gt; &quot;Suppressing these false positives is fairly easy using the HTML\r\n&gt; report.  In the report next to each CPE identified (and on CVE\r\n&gt; entries) there is a suppress button.  Clicking the suppression button\r\n&gt; will create a dialogue box which you can simple hit Control-C to copy\r\n&gt; the XML that you would place into a suppression XML file&quot;\r\n\r\nI have 2 questions\r\n\r\n#1 Do you know where I can find this HTML report? I thought it might be linked in CI (I&#39;m using Circle CI), but I can&#39;t spot it there :(\r\n\r\n#2 An example suppression is given in the guide\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;suppressions xmlns=&quot;https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd&quot;&gt;\r\n       &lt;suppress&gt;\r\n          &lt;notes&gt;&lt;![CDATA[\r\n          file name: some.jar\r\n          ]]&gt;&lt;/notes&gt;\r\n          &lt;sha1&gt;66734244CE86857018B023A8C56AE0635C56B6A1&lt;/sha1&gt;\r\n          &lt;cpe&gt;cpe:/a:apache:struts:2.0.0&lt;/cpe&gt;\r\n       &lt;/suppress&gt;\r\n    &lt;/suppressions&gt;\r\n\r\nThe guide goes on to say\r\n\r\n&gt;  &quot;The above XML file will suppress the cpe:/a:apache:struts:2.0.0 from\r\n&gt; any file with the a matching SHA1 hash.&quot;\r\n\r\nWhat is meant by &quot;any file&quot;? Does this mean any Java class which uses the dependency?\r\n\r\nThanks :) ","title":"OWASP Dependency check, how to use suppressions","body":"<p>I have a build in CI failing on a the OWASP dependency check.\nFor example</p>\n<pre><code>[HIGH] CVE-2021-37136 - io.netty:netty-codec-4.1.66.Final\n</code></pre>\n<p>I understand I can add a suppression in <code>owaspDependencyCheckSuppressions.xml</code> to fix this.</p>\n<p>It's something I haven't done before, but there is a guide here -\n<a href=\"https://jeremylong.github.io/DependencyCheck/general/suppression.html\" rel=\"noreferrer\">https://jeremylong.github.io/DependencyCheck/general/suppression.html</a>\nwhich says ...</p>\n<blockquote>\n<p>&quot;Suppressing these false positives is fairly easy using the HTML\nreport.  In the report next to each CPE identified (and on CVE\nentries) there is a suppress button.  Clicking the suppression button\nwill create a dialogue box which you can simple hit Control-C to copy\nthe XML that you would place into a suppression XML file&quot;</p>\n</blockquote>\n<p>I have 2 questions</p>\n<p>#1 Do you know where I can find this HTML report? I thought it might be linked in CI (I'm using Circle CI), but I can't spot it there :(</p>\n<p>#2 An example suppression is given in the guide</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;suppressions xmlns=&quot;https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd&quot;&gt;\n   &lt;suppress&gt;\n      &lt;notes&gt;&lt;![CDATA[\n      file name: some.jar\n      ]]&gt;&lt;/notes&gt;\n      &lt;sha1&gt;66734244CE86857018B023A8C56AE0635C56B6A1&lt;/sha1&gt;\n      &lt;cpe&gt;cpe:/a:apache:struts:2.0.0&lt;/cpe&gt;\n   &lt;/suppress&gt;\n&lt;/suppressions&gt;\n</code></pre>\n<p>The guide goes on to say</p>\n<blockquote>\n<p>&quot;The above XML file will suppress the cpe:/a:apache:struts:2.0.0 from\nany file with the a matching SHA1 hash.&quot;</p>\n</blockquote>\n<p>What is meant by &quot;any file&quot;? Does this mean any Java class which uses the dependency?</p>\n<p>Thanks :)</p>\n"},{"tags":["java","spring-boot","maven","artifact"],"answers":[{"tags":[],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1694512465,"creation_date":1610505557,"answer_id":65694931,"question_id":65677156,"body_markdown":"**Solution 1**: I have fixed this issue, in menu choose File -&gt; Setting -&gt; Build, Execution, Deployment -&gt;Build Tools -&gt; Maven.\r\nIn section User setting file stick Override and browse to `settings.xml` of Maven (in my case the `settings.xml` file in directory ..\\apache-maven-3.6.3\\conf . \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have proxy configuration in `settings.xml`)\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n**Solution 2**: \r\n\r\nIn my case I have problem with `com/jolira/hickory/1.0.0/hickory-1.0.0.pom`\r\n\r\n**Similar your case with **another library****\r\n\r\nI go to repository of `hickory` on [https://mvnrepository.com][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI download .jar file and .pom file from maven page\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nGo to {your .m2 directory home}\\.m2\\repository\\com\\jolira\\hickory\\1.0.0  and paste the `hickory-1.0.0.jar` and the `hickory-1.0.0.pom` to there\r\n\r\n[![enter image description here][6]][6]\r\n  \r\n\r\n\r\nopen command line and run `mvn clean install` again. It should sucessful\r\n\r\n**Solution 3**\r\n\r\nGo to your Maven directory in local machine computer. Inside directory ..\\apache-maven-(version)\\conf (in my case `E:\\soft\\apache-maven-3.8.4\\conf`), open `settings.xml` and add proxy configuration to this file. Back to your project directory, open command line `cmd` and run `mvn clean install`. Back to IntelliJ and reload.\r\n\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n\r\n**Solution 4**\r\n\r\nIn IntelliJ, choose File-&gt;Setting, search Proxy. Choose Proxy tab and enter proxy information from there.\r\n\r\n[![enter image description here][8]][8]\r\n\r\n[![enter image description here][9]][9]\r\n\r\n\r\nEnter proxy information, press `Apply` button and press `OK`\r\nClick on Maven panel on the right side of IntelliJ and choose icon reload\r\n\r\n[![enter image description here][10]][10]\r\n\r\n\r\n[![enter image description here][11]][11]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NCpGE.png\r\n  [2]: https://i.stack.imgur.com/78qh3.png\r\n  [3]: https://mvnrepository.com\r\n  [4]: https://i.stack.imgur.com/6nM9b.png\r\n  [5]: https://i.stack.imgur.com/T5IqH.png\r\n  [6]: https://i.stack.imgur.com/gBJ5P.png\r\n  [7]: https://i.stack.imgur.com/ytlaf.png\r\n  [8]: https://i.stack.imgur.com/qoWdz.png\r\n  [9]: https://i.stack.imgur.com/pcb3L.png\r\n  [10]: https://i.stack.imgur.com/rjZoO.png\r\n  [11]: https://i.stack.imgur.com/osnlc.png","title":"Could not transfer artifact from/to central IntelliJ","body":"<p><strong>Solution 1</strong>: I have fixed this issue, in menu choose File -&gt; Setting -&gt; Build, Execution, Deployment -&gt;Build Tools -&gt; Maven.\nIn section User setting file stick Override and browse to <code>settings.xml</code> of Maven (in my case the <code>settings.xml</code> file in directory ..\\apache-maven-3.6.3\\conf .</p>\n<p><a href=\"https://i.stack.imgur.com/NCpGE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NCpGE.png\" alt=\"enter image description here\" /></a></p>\n<p>I have proxy configuration in <code>settings.xml</code>)\n<a href=\"https://i.stack.imgur.com/78qh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/78qh3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Solution 2</strong>:</p>\n<p>In my case I have problem with <code>com/jolira/hickory/1.0.0/hickory-1.0.0.pom</code></p>\n<p><strong>Similar your case with <strong>another library</strong></strong></p>\n<p>I go to repository of <code>hickory</code> on <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">https://mvnrepository.com</a></p>\n<p><a href=\"https://i.stack.imgur.com/6nM9b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6nM9b.png\" alt=\"enter image description here\" /></a></p>\n<p>I download .jar file and .pom file from maven page</p>\n<p><a href=\"https://i.stack.imgur.com/T5IqH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T5IqH.png\" alt=\"enter image description here\" /></a></p>\n<p>Go to {your .m2 directory home}.m2\\repository\\com\\jolira\\hickory\\1.0.0  and paste the <code>hickory-1.0.0.jar</code> and the <code>hickory-1.0.0.pom</code> to there</p>\n<p><a href=\"https://i.stack.imgur.com/gBJ5P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gBJ5P.png\" alt=\"enter image description here\" /></a></p>\n<p>open command line and run <code>mvn clean install</code> again. It should sucessful</p>\n<p><strong>Solution 3</strong></p>\n<p>Go to your Maven directory in local machine computer. Inside directory ..\\apache-maven-(version)\\conf (in my case <code>E:\\soft\\apache-maven-3.8.4\\conf</code>), open <code>settings.xml</code> and add proxy configuration to this file. Back to your project directory, open command line <code>cmd</code> and run <code>mvn clean install</code>. Back to IntelliJ and reload.</p>\n<p><a href=\"https://i.stack.imgur.com/ytlaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ytlaf.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Solution 4</strong></p>\n<p>In IntelliJ, choose File-&gt;Setting, search Proxy. Choose Proxy tab and enter proxy information from there.</p>\n<p><a href=\"https://i.stack.imgur.com/qoWdz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qoWdz.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pcb3L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pcb3L.png\" alt=\"enter image description here\" /></a></p>\n<p>Enter proxy information, press <code>Apply</code> button and press <code>OK</code>\nClick on Maven panel on the right side of IntelliJ and choose icon reload</p>\n<p><a href=\"https://i.stack.imgur.com/rjZoO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rjZoO.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/osnlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osnlc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3549768,"reputation":1538,"user_id":2964911,"display_name":"Iraj Hedayati"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639539497,"creation_date":1638933237,"answer_id":70269486,"question_id":65677156,"body_markdown":"I had this problem too.\r\n\r\nYou can try \r\n\r\n1. From IntelliJ Idea, File &gt; Invalidate caches... and then restart\r\n2. Delete your ~/.m2/repositories directory \r\n\r\nThen try again.\r\n\r\nIf that didn&#39;t help, it could be related to [IDEA-274458][1] bug. A workaround is to run `mvn clean compile` which takes care of downloading artifacts from your command line and then &quot;re-import&quot; the project in IDE.\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-274458?_ga=2.62773932.1292290141.1638932761-796816436.1635278519","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>I had this problem too.</p>\n<p>You can try</p>\n<ol>\n<li>From IntelliJ Idea, File &gt; Invalidate caches... and then restart</li>\n<li>Delete your ~/.m2/repositories directory</li>\n</ol>\n<p>Then try again.</p>\n<p>If that didn't help, it could be related to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-274458?_ga=2.62773932.1292290141.1638932761-796816436.1635278519\" rel=\"nofollow noreferrer\">IDEA-274458</a> bug. A workaround is to run <code>mvn clean compile</code> which takes care of downloading artifacts from your command line and then &quot;re-import&quot; the project in IDE.</p>\n"},{"tags":[],"owner":{"account_id":540110,"reputation":957,"user_id":268764,"display_name":"Makatun"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1640042473,"creation_date":1640042473,"answer_id":70429075,"question_id":65677156,"body_markdown":"Make sure Java version is set correctly for Maven:\r\nFile &gt; Settings &gt; Build Execution Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; JDK for importer:","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>Make sure Java version is set correctly for Maven:\nFile &gt; Settings &gt; Build Execution Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; JDK for importer:</p>\n"},{"tags":[],"owner":{"account_id":6672550,"reputation":334,"user_id":5148256,"display_name":"Sajjad Serajzadeh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645606974,"creation_date":1645606974,"answer_id":71234005,"question_id":65677156,"body_markdown":"This error in Intellij usually comes from bundled maven in the IntelliJ.\r\nif you want to use the maven inside the ide (either you can use it in the terminal) its better to force the IntelliJ use the installed maven instead of the bundled one.\r\nfor this you should go to:\r\n\r\n menu choose File -&gt; Setting -&gt; Build, Execution, Deployment -&gt;Build Tools -&gt; Maven.\r\n\r\nand change the &quot;maven home path:&quot; from &quot;bundled&quot; to the filepath of installed maven in this case for me is the: &quot;C:/Program Files (x86)/apache-maven-3.6.3&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BESoC.png","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>This error in Intellij usually comes from bundled maven in the IntelliJ.\nif you want to use the maven inside the ide (either you can use it in the terminal) its better to force the IntelliJ use the installed maven instead of the bundled one.\nfor this you should go to:</p>\n<p>menu choose File -&gt; Setting -&gt; Build, Execution, Deployment -&gt;Build Tools -&gt; Maven.</p>\n<p>and change the &quot;maven home path:&quot; from &quot;bundled&quot; to the filepath of installed maven in this case for me is the: &quot;C:/Program Files (x86)/apache-maven-3.6.3&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/BESoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BESoC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":48928,"reputation":9763,"user_id":145499,"accept_rate":88,"display_name":"inanutshellus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654188827,"creation_date":1654188827,"answer_id":72479724,"question_id":65677156,"body_markdown":"I was getting the &quot;Could not transfer artifact [thing] from/to [repo] Transfer failed&quot; error too, and it turned out that I hadn&#39;t added my truststore config into IntelliJ&#39;s Maven config.\r\n\r\nSettings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Runner \r\n\r\nUnder &quot;VM Options&quot; add:\r\n\r\n    -Djavax.net.ssl.trustStore=/path/to/your/truststore.jks","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>I was getting the &quot;Could not transfer artifact [thing] from/to [repo] Transfer failed&quot; error too, and it turned out that I hadn't added my truststore config into IntelliJ's Maven config.</p>\n<p>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Runner</p>\n<p>Under &quot;VM Options&quot; add:</p>\n<pre><code>-Djavax.net.ssl.trustStore=/path/to/your/truststore.jks\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24525953,"reputation":11,"user_id":18438404,"display_name":"Unknown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654505359,"creation_date":1654505222,"answer_id":72515159,"question_id":65677156,"body_markdown":"I was facing the same problem later I got to know that I have selected wrong version of maven, maven 3 was selected in setting-build  execution deployment- build tool- maven- maven home path. Then I selected maven 3.8 and my problem resolved. ","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>I was facing the same problem later I got to know that I have selected wrong version of maven, maven 3 was selected in setting-build  execution deployment- build tool- maven- maven home path. Then I selected maven 3.8 and my problem resolved.</p>\n"},{"tags":[],"owner":{"account_id":18366375,"reputation":1,"user_id":13377316,"display_name":"Harpreet Siddhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655153013,"creation_date":1655153013,"answer_id":72608813,"question_id":65677156,"body_markdown":"Make sure you have the correct Java version selected here - For me, it was using the internal Java version and as soon as I selected the correct version(set as JAVA_HOME, it worked) \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Um88g.png","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>Make sure you have the correct Java version selected here - For me, it was using the internal Java version and as soon as I selected the correct version(set as JAVA_HOME, it worked)\n<a href=\"https://i.stack.imgur.com/Um88g.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":26152999,"reputation":11,"user_id":19840654,"display_name":"Denis Milovanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678760261,"creation_date":1678760261,"answer_id":75728549,"question_id":65677156,"body_markdown":"This link helped me:\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/115000759324-Maven-SSL-switch-off\r\n\r\nthe trick was to add VM options: \r\n\r\n    -Dmaven.wagon.http.ssl.insecure=true\r\n    -Dmaven.wagon.http.ssl.allowall=true\r\n    -Dmaven.wagon.http.ssl.ignore.validity.dates=true\r\n\r\nThere are two places where you can add them, second place fixed the issue for me.\r\n\r\n    1. Settings -&gt; Maven -&gt; Runner -&gt; VM options   \r\n    2. Settings -&gt; Maven -&gt; Importing -&gt; VM options for importer","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>This link helped me:\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000759324-Maven-SSL-switch-off\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000759324-Maven-SSL-switch-off</a></p>\n<p>the trick was to add VM options:</p>\n<pre><code>-Dmaven.wagon.http.ssl.insecure=true\n-Dmaven.wagon.http.ssl.allowall=true\n-Dmaven.wagon.http.ssl.ignore.validity.dates=true\n</code></pre>\n<p>There are two places where you can add them, second place fixed the issue for me.</p>\n<pre><code>1. Settings -&gt; Maven -&gt; Runner -&gt; VM options   \n2. Settings -&gt; Maven -&gt; Importing -&gt; VM options for importer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27606647,"reputation":1,"user_id":21070618,"display_name":"Salman Mohamed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680741280,"creation_date":1680741280,"answer_id":75944951,"question_id":65677156,"body_markdown":"First check whether maven is installed by \r\n\r\n&gt; mvn -version\r\n\r\nIf it is not showing the version, please install and add the environment variables for maven.","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>First check whether maven is installed by</p>\n<blockquote>\n<p>mvn -version</p>\n</blockquote>\n<p>If it is not showing the version, please install and add the environment variables for maven.</p>\n"}],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96035,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":65694931,"answer_count":9,"score":13,"last_activity_date":1694512465,"creation_date":1610417836,"question_id":65677156,"body_markdown":"My Spring boot project using Maven.  \r\n\r\nWhen I build it using IntelliJ Community, I get the error: \r\n\r\n&gt; Could not transfer artifact com.jolira:hickory:pom:1.0.0 from/to central (https://repo.maven.apache.org/maven2): Transfer failed for https://repo.maven.apache.org/maven2/com/jolira/hickory/1.0.0/hickory-1.0.0.pom\r\n\r\nI can build this project success using cmd command line.\r\n\r\nMy IntelliJ Community version is:\r\n\r\n&gt; IntelliJ IDEA 2020.3.1 (Community Edition)  \r\n&gt; Build #IC-203.6682.168, built on December 29, 2020  \r\n&gt; Runtime version: 11.0.9.1+11-b1145.63 amd64  \r\n&gt; VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o. Windows 10 10.0  \r\n&gt; GC: ParNew, ConcurrentMarkSweep  \r\n&gt; Memory: 1945M  \r\n&gt; Cores: 8  \r\n\r\nMy pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.super.banana&lt;/groupId&gt;\r\n    \r\n    \t&lt;!-- Always write artifactId with underscore _ --&gt;\r\n    \t&lt;artifactId&gt;banana_parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;bananas_parent&lt;/name&gt;\r\n    \t&lt;description&gt;banana Parent&lt;/description&gt;\r\n    \t&lt;modules&gt;\r\n    \t\t&lt;module&gt;bananas-mt&lt;/module&gt;\r\n    \t\t&lt;module&gt;bananas-web&lt;/module&gt;\r\n    \t&lt;/modules&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;commons-io.version&gt;2.6&lt;/commons-io.version&gt;\r\n    \t\t&lt;commons-lang.version&gt;3.10&lt;/commons-lang.version&gt;\r\n    \t\t&lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nHow do I fix this issue?","title":"Could not transfer artifact from/to central IntelliJ","body":"<p>My Spring boot project using Maven.</p>\n<p>When I build it using IntelliJ Community, I get the error:</p>\n<blockquote>\n<p>Could not transfer artifact com.jolira:hickory:pom:1.0.0 from/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>): Transfer failed for <a href=\"https://repo.maven.apache.org/maven2/com/jolira/hickory/1.0.0/hickory-1.0.0.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/jolira/hickory/1.0.0/hickory-1.0.0.pom</a></p>\n</blockquote>\n<p>I can build this project success using cmd command line.</p>\n<p>My IntelliJ Community version is:</p>\n<blockquote>\n<p>IntelliJ IDEA 2020.3.1 (Community Edition)<br />\nBuild #IC-203.6682.168, built on December 29, 2020<br />\nRuntime version: 11.0.9.1+11-b1145.63 amd64<br />\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o. Windows 10 10.0<br />\nGC: ParNew, ConcurrentMarkSweep<br />\nMemory: 1945M<br />\nCores: 8</p>\n</blockquote>\n<p>My pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.super.banana&lt;/groupId&gt;\n\n    &lt;!-- Always write artifactId with underscore _ --&gt;\n    &lt;artifactId&gt;banana_parent&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;bananas_parent&lt;/name&gt;\n    &lt;description&gt;banana Parent&lt;/description&gt;\n    &lt;modules&gt;\n        &lt;module&gt;bananas-mt&lt;/module&gt;\n        &lt;module&gt;bananas-web&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;commons-io.version&gt;2.6&lt;/commons-io.version&gt;\n        &lt;commons-lang.version&gt;3.10&lt;/commons-lang.version&gt;\n        &lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>How do I fix this issue?</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694511895,"creation_date":1694511895,"answer_id":77087933,"question_id":77087745,"body_markdown":"According to [documentation][1]\r\n\r\nYou should do something like this: \r\n\r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n           ...\r\n            IpAddressMatcher hasIpAddress = new IpAddressMatcher(&quot;127.0.0.1&quot;);\r\n            \r\n            request.authorizeHttpRequests(requestMatcherRegistry -&gt; {\r\n              requestMatcherRegistry.requestMatchers(&quot;/path/**&quot;).access(((authentication, object) -&gt;\r\n                  new AuthorizationDecision(hasIpAddress.matches(object.getRequest()))\r\n              ));\r\n              requestMatcherRegistry.anyRequest().denyAll();\r\n            });\r\n        ...\r\n        return request.build();\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html","title":"Allow only from localhost with Spring Boot 3","body":"<p>According to <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>You should do something like this:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n       ...\n        IpAddressMatcher hasIpAddress = new IpAddressMatcher(&quot;127.0.0.1&quot;);\n        \n        request.authorizeHttpRequests(requestMatcherRegistry -&gt; {\n          requestMatcherRegistry.requestMatchers(&quot;/path/**&quot;).access(((authentication, object) -&gt;\n              new AuthorizationDecision(hasIpAddress.matches(object.getRequest()))\n          ));\n          requestMatcherRegistry.anyRequest().denyAll();\n        });\n    ...\n    return request.build();\n</code></pre>\n"}],"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77087933,"answer_count":1,"score":3,"last_activity_date":1694511895,"creation_date":1694510545,"question_id":77087745,"body_markdown":"I&#39;ve found a [cookbook][1] for allowing requests in Spring Boot 2:\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;)\r\n                .access(&quot;hasIpAddress(&#39;127.0.0.1&#39;) or hasIpAddress(&#39;::1&#39;) or isAuthenticated()&quot;)  // 127.0.0.1 and localhost do not need to authenticate on any url\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .permitAll();\r\n    }\r\n\r\nHowever, I&#39;m unable to find how to make it with Spring Boot 3, where there no `access` method that takes String, neither have I found corresponding `AuthorizationManager` implementation that could do what I need.\r\n\r\nHow do I allow localhost only in Spring Boot 3?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/65958780/spring-boot-security-how-to-skip-login-for-localhost","title":"Allow only from localhost with Spring Boot 3","body":"<p>I've found a <a href=\"https://stackoverflow.com/questions/65958780/spring-boot-security-how-to-skip-login-for-localhost\">cookbook</a> for allowing requests in Spring Boot 2:</p>\n<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/**&quot;)\n            .access(&quot;hasIpAddress('127.0.0.1') or hasIpAddress('::1') or isAuthenticated()&quot;)  // 127.0.0.1 and localhost do not need to authenticate on any url\n            .anyRequest().authenticated()\n            .and()\n            .formLogin()\n            .permitAll();\n}\n</code></pre>\n<p>However, I'm unable to find how to make it with Spring Boot 3, where there no <code>access</code> method that takes String, neither have I found corresponding <code>AuthorizationManager</code> implementation that could do what I need.</p>\n<p>How do I allow localhost only in Spring Boot 3?</p>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"score":0,"creation_date":1363282290,"post_id":15416186,"comment_id":21798695,"body_markdown":"Check the compiler compliance for the library project","body":"Check the compiler compliance for the library project"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1363282349,"post_id":15416186,"comment_id":21798728,"body_markdown":"Should it read `import java.io.*;` ?","body":"Should it read <code>import java.io.*;</code> ?"},{"owner":{"account_id":1001196,"reputation":3907,"user_id":1016002,"accept_rate":56,"display_name":"IronBlossom"},"score":2,"creation_date":1386744307,"post_id":15416186,"comment_id":30664868,"body_markdown":"Just restarting Eclipse helped me! :P","body":"Just restarting Eclipse helped me! :P"}],"answers":[{"tags":[],"owner":{"account_id":1260595,"reputation":7659,"user_id":1218985,"display_name":"1218985"},"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1525196475,"creation_date":1363282387,"answer_id":15416256,"question_id":15416186,"body_markdown":"Check two things\r\n\r\n**Eclipse preferences**\r\n\r\n 1. Check your Eclipse preferences: `Java` -&gt; `Installed JREs`\r\n 2. The one that you&#39;re using should be marked and it should be a JDK not just a JRE. \r\n\r\n**Project build path**\r\n\r\n 1. Also check your project&#39;s build path: Right click on the project -&gt; `Properties` -&gt; `Java Build Path`\r\n 2. Check in the `libraries` folder whether the JRE System Library is present and ...\r\n 3. If not add it using `Add library` -&gt; `JRE System Library` and then\r\n    select the correct one (from an installed JDK).","title":"Eclipse: &quot;The import java.io cannot be resolved&quot;","body":"<p>Check two things</p>\n\n<p><strong>Eclipse preferences</strong></p>\n\n<ol>\n<li>Check your Eclipse preferences: <code>Java</code> -> <code>Installed JREs</code></li>\n<li>The one that you're using should be marked and it should be a JDK not just a JRE. </li>\n</ol>\n\n<p><strong>Project build path</strong></p>\n\n<ol>\n<li>Also check your project's build path: Right click on the project -> <code>Properties</code> -> <code>Java Build Path</code></li>\n<li>Check in the <code>libraries</code> folder whether the JRE System Library is present and ...</li>\n<li>If not add it using <code>Add library</code> -> <code>JRE System Library</code> and then\nselect the correct one (from an installed JDK).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9560352,"reputation":199,"user_id":7101423,"display_name":"G. Werner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516967907,"creation_date":1516967907,"answer_id":48460948,"question_id":15416186,"body_markdown":"The following worked for me:\r\n\r\n-  Close the project and reopen it.\r\n\r\nOR\r\n\r\n-  Clean the project ( = rebuilds the buildpath and thereby reconfigures the JDK libraries).","title":"Eclipse: &quot;The import java.io cannot be resolved&quot;","body":"<p>The following worked for me:</p>\n\n<ul>\n<li>Close the project and reopen it.</li>\n</ul>\n\n<p>OR</p>\n\n<ul>\n<li>Clean the project ( = rebuilds the buildpath and thereby reconfigures the JDK libraries).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10360329,"reputation":618,"user_id":7641017,"display_name":"Swastik Raj Ghosh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1537870293,"creation_date":1537870293,"answer_id":52495660,"question_id":15416186,"body_markdown":"I am using Maven an this is what I did to re-solve --&gt;\r\n\r\n1. Right click on project\r\n2. Maven -&gt; Update Project. Make sure you choose &#39;Force update of Snapshots/Releases&#39;.\r\n3. Also check the &#39;clean project&#39;, &#39;update project conf from pom&#39; and &#39;refresh workspace resource options&#39; and click ok.","title":"Eclipse: &quot;The import java.io cannot be resolved&quot;","body":"<p>I am using Maven an this is what I did to re-solve --></p>\n\n<ol>\n<li>Right click on project</li>\n<li>Maven -> Update Project. Make sure you choose 'Force update of Snapshots/Releases'.</li>\n<li>Also check the 'clean project', 'update project conf from pom' and 'refresh workspace resource options' and click ok.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8497820,"reputation":71,"user_id":6371876,"display_name":"Venkat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549300353,"creation_date":1549300353,"answer_id":54521105,"question_id":15416186,"body_markdown":"I was missing the JRE Systems Library in my Project Tree.\r\nAnd navigating to Projects&#39; Build Path and &#39;Add(ing) Library&#39; worked!","title":"Eclipse: &quot;The import java.io cannot be resolved&quot;","body":"<p>I was missing the JRE Systems Library in my Project Tree.\nAnd navigating to Projects' Build Path and 'Add(ing) Library' worked!</p>\n"},{"tags":[],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662222201,"creation_date":1662222201,"answer_id":73593771,"question_id":15416186,"body_markdown":"I just ran into this problem with Eclipse 2022-6 and java-17-openjdk-amd64. I just appeared during editing in another file, the same code had worked before.\r\n\r\nFor me, all settings were correct and none of the above tricks worked. What I then did was completely removing the import command `import java.io.Closeable;`, saving the file, adding the same import command back at the same place, and saving again. The error disappeared.","title":"Eclipse: &quot;The import java.io cannot be resolved&quot;","body":"<p>I just ran into this problem with Eclipse 2022-6 and java-17-openjdk-amd64. I just appeared during editing in another file, the same code had worked before.</p>\n<p>For me, all settings were correct and none of the above tricks worked. What I then did was completely removing the import command <code>import java.io.Closeable;</code>, saving the file, adding the same import command back at the same place, and saving again. The error disappeared.</p>\n"}],"owner":{"account_id":302835,"reputation":2633,"user_id":611421,"accept_rate":70,"display_name":"Wouter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120200,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":15416256,"answer_count":5,"score":35,"last_activity_date":1694511742,"creation_date":1363282207,"question_id":15416186,"body_markdown":"I have several Android projects in Eclipse, and all is fine, except one (a library) that can not resolve any imports.\r\n\r\nThe java.io imports do resolve fine in other Android projects in the same workspace, and previously (I haven&#39;t used it for over a year) this library worked fine, too. \r\n\r\nAny ideas?","title":"Eclipse: &quot;The import java.io cannot be resolved&quot;","body":"<p>I have several Android projects in Eclipse, and all is fine, except one (a library) that can not resolve any imports.</p>\n\n<p>The java.io imports do resolve fine in other Android projects in the same workspace, and previously (I haven't used it for over a year) this library worked fine, too. </p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","maven","selenium-webdriver","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1694731401,"post_id":77081479,"comment_id":135933742,"body_markdown":"Short answer: No, it is not possible.","body":"Short answer: No, it is not possible."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":1,"creation_date":1694767701,"post_id":77081479,"comment_id":135937398,"body_markdown":"No option for now. You may try like this, generate json reports and club them after run then convert them into HTML.","body":"No option for now. You may try like this, generate json reports and club them after run then convert them into HTML."}],"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694511677,"creation_date":1694433983,"question_id":77081479,"body_markdown":"I&#39;m a beginner in test automation, and I have a question. Is it possible to rerun a test, for example, 2 times right after it fails? I want to have just one report. I tried using a rerun plugin, but I needed to configure it with 2 test runners, and then there were 2 separate sets of results. Another thing I tried was adding &lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt; in the pom.xml build, but once again, there were only 2 reports via 2 profiles, or if I did it in 1 profile, it would overwrite the old results. So my question is, is there any correct approach to merge these results together or just rerun it right after a failure and then continue?\r\nStack: Selenium,Java,Cucumber,Maven\r\nIm using basic testRunner:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/resources/features&quot;,\r\n            glue = &quot;stepDefinitions&quot;,\r\n            monochrome = true,\r\n            tags =&quot;@cronjob-version&quot;,\r\n            plugin = {\r\n                    &quot;pretty&quot;,\r\n                    &quot;json:target/CucumberTestReports/CucumberTestReport.json&quot;,\r\n                    &quot;html:target/CucumberTestReports/CucumberTestReport.html&quot;,\r\n                    &quot;junit:target/CucumberTestReports/CucumberTestReport.xml&quot;,\r\n                    &quot;rerun:target/failedrun.txt&quot;\r\n    \r\n            }\r\n    \r\n    )\r\n    public class testRunner {\r\n    \r\n    \r\n    \r\n    }\r\n\r\nBuild: \r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;testRunners/testRunner.java&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Is it possible to rerun CucumberJVM test right after fail?","body":"<p>I'm a beginner in test automation, and I have a question. Is it possible to rerun a test, for example, 2 times right after it fails? I want to have just one report. I tried using a rerun plugin, but I needed to configure it with 2 test runners, and then there were 2 separate sets of results. Another thing I tried was adding 2 in the pom.xml build, but once again, there were only 2 reports via 2 profiles, or if I did it in 1 profile, it would overwrite the old results. So my question is, is there any correct approach to merge these results together or just rerun it right after a failure and then continue?\nStack: Selenium,Java,Cucumber,Maven\nIm using basic testRunner:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources/features&quot;,\n        glue = &quot;stepDefinitions&quot;,\n        monochrome = true,\n        tags =&quot;@cronjob-version&quot;,\n        plugin = {\n                &quot;pretty&quot;,\n                &quot;json:target/CucumberTestReports/CucumberTestReport.json&quot;,\n                &quot;html:target/CucumberTestReports/CucumberTestReport.html&quot;,\n                &quot;junit:target/CucumberTestReports/CucumberTestReport.xml&quot;,\n                &quot;rerun:target/failedrun.txt&quot;\n\n        }\n\n)\npublic class testRunner {\n\n\n\n}\n</code></pre>\n<p>Build:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n        &lt;includes&gt;\n            &lt;include&gt;testRunners/testRunner.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":1,"creation_date":1693831221,"post_id":77037404,"comment_id":135808006,"body_markdown":"I know opencv has such a function - its called Canny: https://docs.opencv.org/4.x/da/d5c/tutorial_canny_detector.html","body":"I know opencv has such a function - its called Canny: <a href=\"https://docs.opencv.org/4.x/da/d5c/tutorial_canny_detector.html\" rel=\"nofollow noreferrer\">docs.opencv.org/4.x/da/d5c/tutorial_canny_detector.html</a>"},{"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"score":0,"creation_date":1693841168,"post_id":77037404,"comment_id":135809986,"body_markdown":"can we without using OpenCV?","body":"can we without using OpenCV?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":2,"creation_date":1693851383,"post_id":77037404,"comment_id":135811628,"body_markdown":"If you want to write it entirely by yourself then it might be too broad question to ask here. If you want to use specific API then I suggest you add appropriate tag to your question.","body":"If you want to write it entirely by yourself then it might be too broad question to ask here. If you want to use specific API then I suggest you add appropriate tag to your question."}],"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694511558,"creation_date":1693827593,"question_id":77037404,"body_markdown":"I want to create outline sketch of the person like this. Is there any API? \r\n\r\n[![enter image description here](https://i.stack.imgur.com/aIxjq.jpg)](https://i.stack.imgur.com/aIxjq.jpg)\r\n\r\n\r\nI&#39;m detecting a person and cropping only the person and also getting foreground but I do not have idea how to draw that person&#39;s outline like the shown image anyone have idea how to do it?\r\n\r\n\r\n\r\n    private void createImageTransactor(Bitmap image) {\r\n        MLImageSegmentationSetting setting = new MLImageSegmentationSetting.Factory().setAnalyzerType(MLImageSegmentationSetting.BODY_SEG).create();\r\n        this.analyzer = MLAnalyzerFactory.getInstance().getImageSegmentationAnalyzer(setting);\r\n        if (this.isChosen(image)) {\r\n            MLFrame mlFrame = new MLFrame.Creator().setBitmap(image).create();\r\n            Task&lt;MLImageSegmentation&gt; task = this.analyzer.asyncAnalyseFrame(mlFrame);\r\n            task.addOnSuccessListener(new OnSuccessListener&lt;MLImageSegmentation&gt;() {\r\n                @Override\r\n                public void onSuccess(MLImageSegmentation mlImageSegmentationResults) {\r\n\r\n                    if (mlImageSegmentationResults != null) {\r\n                        try {\r\n                            cutImage = mlImageSegmentationResults.getForeground();\r\n\r\n                           \r\n                        }catch (Exception e){\r\n\r\n                        }\r\n\r\n                    } else {\r\n                        Toast.makeText(getContext() ,getResources().getString(R.string.Fail), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(Exception e) {\r\n                    Toast.makeText(getContext() ,getResources().getString(R.string.Fail), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        } else {\r\n            Toast.makeText(getContext(), R.string.txt_not_detect_human, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n ","title":"How to draw person outline sketch java android","body":"<p>I want to create outline sketch of the person like this. Is there any API?</p>\n<p><a href=\"https://i.stack.imgur.com/aIxjq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aIxjq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I'm detecting a person and cropping only the person and also getting foreground but I do not have idea how to draw that person's outline like the shown image anyone have idea how to do it?</p>\n<pre><code>private void createImageTransactor(Bitmap image) {\n    MLImageSegmentationSetting setting = new MLImageSegmentationSetting.Factory().setAnalyzerType(MLImageSegmentationSetting.BODY_SEG).create();\n    this.analyzer = MLAnalyzerFactory.getInstance().getImageSegmentationAnalyzer(setting);\n    if (this.isChosen(image)) {\n        MLFrame mlFrame = new MLFrame.Creator().setBitmap(image).create();\n        Task&lt;MLImageSegmentation&gt; task = this.analyzer.asyncAnalyseFrame(mlFrame);\n        task.addOnSuccessListener(new OnSuccessListener&lt;MLImageSegmentation&gt;() {\n            @Override\n            public void onSuccess(MLImageSegmentation mlImageSegmentationResults) {\n\n                if (mlImageSegmentationResults != null) {\n                    try {\n                        cutImage = mlImageSegmentationResults.getForeground();\n\n                       \n                    }catch (Exception e){\n\n                    }\n\n                } else {\n                    Toast.makeText(getContext() ,getResources().getString(R.string.Fail), Toast.LENGTH_SHORT).show();\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(Exception e) {\n                Toast.makeText(getContext() ,getResources().getString(R.string.Fail), Toast.LENGTH_SHORT).show();\n            }\n        });\n    } else {\n        Toast.makeText(getContext(), R.string.txt_not_detect_human, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","jstl"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1511914277,"post_id":47542811,"comment_id":82043115,"body_markdown":"Have you studied the other [similar Questions](https://duckduckgo.com/?q=function+compareTo+must+be+used+with+a+prefix+when+a+default+namespace+is+not+specified.++&amp;t=ffip&amp;ia=qa)?","body":"Have you studied the other <a href=\"https://duckduckgo.com/?q=function+compareTo+must+be+used+with+a+prefix+when+a+default+namespace+is+not+specified.++&amp;t=ffip&amp;ia=qa\" rel=\"nofollow noreferrer\">similar Questions</a>?"},{"owner":{"account_id":1714518,"reputation":1611,"user_id":1571903,"accept_rate":72,"display_name":"Ryan Griffith"},"score":0,"creation_date":1511915955,"post_id":47542811,"comment_id":82043547,"body_markdown":"@BasilBourque, Extensively. None of the examples work for me without giving me the exception message that I&#39;ve listed.","body":"@BasilBourque, Extensively. None of the examples work for me without giving me the exception message that I&#39;ve listed."}],"answers":[{"tags":[],"owner":{"account_id":3899224,"reputation":425,"user_id":3227457,"display_name":"Gerrit Griebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694510958,"creation_date":1694510958,"answer_id":77087812,"question_id":47542811,"body_markdown":"Works for me, but does not feel right:\r\n\r\n    &lt;c:if test=&quot;${total eq &#39;0.0&#39;}&quot;&gt;","title":"Comparing BigDecimal to 0 in JSTL","body":"<p>Works for me, but does not feel right:</p>\n<pre><code>&lt;c:if test=&quot;${total eq '0.0'}&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":1714518,"reputation":1611,"user_id":1571903,"accept_rate":72,"display_name":"Ryan Griffith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694510958,"creation_date":1511912676,"question_id":47542811,"body_markdown":"Excuse the basic question, I&#39;m crash-coursing myself on Java/JSTL to fix an issue for a client and have not been able to quickly find the answer to something I&#39;m dealing with....\r\n\r\nI have a JSP page which uses the `&lt;c:if&gt;` tag to compare a variable to the constant value of `0`. This is always returning `False` for me. I.e.\r\n\r\n    &lt;c:set var=&quot;total&quot; value=&quot;0&quot; /&gt;\r\n\t&lt;c:forEach items=&quot;${parentItem.children}&quot; var=&quot;child&quot;&gt;\r\n\t\t&lt;c:set var=&quot;total&quot; value=&quot;${total+child.revenue}&quot; /&gt;\r\n\t\t&lt;c:if test=&quot;${total == 0}&quot;&gt;\r\n\t\t\tIt is zero.\r\n\t\t&lt;/c:if&gt;\r\n\t&lt;/c:forEach&gt;\r\n\r\nFrom my understanding, I have to explicitly compare like-types, however when attempting to do something like this, I get an error:\r\n\r\n    &lt;c:if test=&quot;${total.compareTo(BigDecimal.ZERO) == 0}&quot;&gt;\r\n        -\r\n    &lt;/c:if&gt;\r\n\r\nThe error is: `The function compareTo must be used with a prefix when a default namespace is not specified`.\r\n\r\nI&#39;m using JSTL 1.2.","title":"Comparing BigDecimal to 0 in JSTL","body":"<p>Excuse the basic question, I'm crash-coursing myself on Java/JSTL to fix an issue for a client and have not been able to quickly find the answer to something I'm dealing with....</p>\n\n<p>I have a JSP page which uses the <code>&lt;c:if&gt;</code> tag to compare a variable to the constant value of <code>0</code>. This is always returning <code>False</code> for me. I.e.</p>\n\n<pre><code>&lt;c:set var=\"total\" value=\"0\" /&gt;\n&lt;c:forEach items=\"${parentItem.children}\" var=\"child\"&gt;\n    &lt;c:set var=\"total\" value=\"${total+child.revenue}\" /&gt;\n    &lt;c:if test=\"${total == 0}\"&gt;\n        It is zero.\n    &lt;/c:if&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n\n<p>From my understanding, I have to explicitly compare like-types, however when attempting to do something like this, I get an error:</p>\n\n<pre><code>&lt;c:if test=\"${total.compareTo(BigDecimal.ZERO) == 0}\"&gt;\n    -\n&lt;/c:if&gt;\n</code></pre>\n\n<p>The error is: <code>The function compareTo must be used with a prefix when a default namespace is not specified</code>.</p>\n\n<p>I'm using JSTL 1.2.</p>\n"},{"tags":["java","spring","x509certificate","boot"],"owner":{"account_id":28633110,"reputation":11,"user_id":21923718,"display_name":"Rocken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694510927,"creation_date":1694510927,"question_id":77087807,"body_markdown":"I&#39;m developing a Spring Boot project in which someone could sign in using it&#39;s certificate. Most of the tutorials and posts I&#39;ve read and followed talk about client-authentication in the whole site while I only want authentication to happen when accessing secured resources (whose URLs are `secure/**`). There are some posts similar to my topic but haven&#39;t guided me in the right direction yet.\r\n\r\nI have already setted up SSL on the server and works fine. Client auth also works as expected but on every page.\r\n\r\nIs it possible to run client-auth on just some pages but not on others? I want the user to be autheticated using it&#39;s certificate on certain pages while others doesn&#39;t need any kind of client authentication.\r\n\r\nThis is the application.properties for my project:\r\n\r\n```\r\nserver.ssl.enabled=true\r\n\r\nserver.ssl.key-store=classpath:****\r\nserver.ssl.key-store-password=****\r\nserver.ssl.key-password=****\r\nserver.ssl.key-alias=localhost\r\n\r\n\r\nserver.ssl.trust-store=****\r\nserver.ssl.trust-store-password=****\r\n\r\nserver.ssl.client-auth=want\r\n\r\nserver.port=8443\r\n```\r\n\r\nAlso, this is the config I used for authentication:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig {\r\n\t\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain certificateFilterChain(HttpSecurity http) throws Exception{\r\n\t\t\r\n        http\r\n        \t.authorizeRequests()\r\n        \t\t.antMatchers(&quot;/user/**&quot;)\r\n        \t\t\t.permitAll()\r\n        \t\t.antMatchers(&quot;/seguro/**&quot;)\r\n        \t\t\t.authenticated()\r\n        \t\t.and()\r\n        \t\t.x509()\r\n        \t\t\t.subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;)\r\n        \t\t\t.userDetailsService(userDetailsService());\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\treturn new UserDetailsService() {\r\n\t\t\t@Override\r\n\t\t\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t\t\tSystem.out.println(&quot;USERNAME -&gt; &quot; + username);\r\n\t\t\t\tif (username.contains(&quot;Bob&quot;)) {\r\n\t\t\t\t\treturn new User(username, &quot;&quot;, AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;ROLE_USER&quot;));\r\n\t\t\t\t}\r\n\t\t\t\tthrow new UsernameNotFoundException(&quot;User not found!&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"Excluding x509 authentication from specific URLs","body":"<p>I'm developing a Spring Boot project in which someone could sign in using it's certificate. Most of the tutorials and posts I've read and followed talk about client-authentication in the whole site while I only want authentication to happen when accessing secured resources (whose URLs are <code>secure/**</code>). There are some posts similar to my topic but haven't guided me in the right direction yet.</p>\n<p>I have already setted up SSL on the server and works fine. Client auth also works as expected but on every page.</p>\n<p>Is it possible to run client-auth on just some pages but not on others? I want the user to be autheticated using it's certificate on certain pages while others doesn't need any kind of client authentication.</p>\n<p>This is the application.properties for my project:</p>\n<pre><code>server.ssl.enabled=true\n\nserver.ssl.key-store=classpath:****\nserver.ssl.key-store-password=****\nserver.ssl.key-password=****\nserver.ssl.key-alias=localhost\n\n\nserver.ssl.trust-store=****\nserver.ssl.trust-store-password=****\n\nserver.ssl.client-auth=want\n\nserver.port=8443\n</code></pre>\n<p>Also, this is the config I used for authentication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig {\n        \n    @Bean\n    public SecurityFilterChain certificateFilterChain(HttpSecurity http) throws Exception{\n        \n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/user/**&quot;)\n                    .permitAll()\n                .antMatchers(&quot;/seguro/**&quot;)\n                    .authenticated()\n                .and()\n                .x509()\n                    .subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;)\n                    .userDetailsService(userDetailsService());\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new UserDetailsService() {\n            @Override\n            public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n                System.out.println(&quot;USERNAME -&gt; &quot; + username);\n                if (username.contains(&quot;Bob&quot;)) {\n                    return new User(username, &quot;&quot;, AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;ROLE_USER&quot;));\n                }\n                throw new UsernameNotFoundException(&quot;User not found!&quot;);\n            }\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","docker","kubernetes","apache-flink"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1694475398,"post_id":77084892,"comment_id":135893047,"body_markdown":"It seems like that entrypoint script also requires a Dockerfile `CMD`.  It looks like you might be overriding the `args:` in your Deployment spec (consider [edit]ing the question to replace the `kubectl describe` output with the YAML input) but I might guess the first word of that command is being lost when you `shift` it away.","body":"It seems like that entrypoint script also requires a Dockerfile <code>CMD</code>.  It looks like you might be overriding the <code>args:</code> in your Deployment spec (consider <a href=\"https://stackoverflow.com/posts/77084892/edit\">edit</a>ing the question to replace the <code>kubectl describe</code> output with the YAML input) but I might guess the first word of that command is being lost when you <code>shift</code> it away."},{"owner":{"account_id":15106683,"reputation":143,"user_id":10902172,"display_name":"yokus"},"score":0,"creation_date":1694498725,"post_id":77084892,"comment_id":135894799,"body_markdown":"Thank you for your comment, added yaml file. I&#39;m not familiar with the `shift` away term.","body":"Thank you for your comment, added yaml file. I&#39;m not familiar with the <code>shift</code> away term."},{"owner":{"account_id":15106683,"reputation":143,"user_id":10902172,"display_name":"yokus"},"score":0,"creation_date":1694510648,"post_id":77084892,"comment_id":135896858,"body_markdown":"Thank you for your time David, solved it and added solution as answer below.","body":"Thank you for your time David, solved it and added solution as answer below."}],"answers":[{"tags":[],"owner":{"account_id":15106683,"reputation":143,"user_id":10902172,"display_name":"yokus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694510619,"creation_date":1694510619,"answer_id":77087755,"question_id":77084892,"body_markdown":"Problem has few layers into it:\r\n\r\nFirst, we simply don&#39;t use any custom docker entrypoint sh script to not override the default one in flink:1.17 image.\r\n\r\nSecond, to not face any exception such as below:\r\n`org.apache.flink.util.FlinkException: Could not load the provided entrypoint class` make sure you copy your jar file to a valid location in the image directory structure.\r\n\r\nThird, we follow [this](https://blogmilind.wordpress.com/2018/01/30/running-local-docker-images-in-kubernetes/) tutorial if we want to use kubernetes with local docker images (assuming we use minikube).\r\n\r\nHere are the final configs we use:\r\n\r\n```Dockerfile\r\nFROM openjdk:11 AS job-build\r\nWORKDIR /home/gradle/app/\r\n\r\nCOPY build.gradle settings.gradle ./\r\nCOPY gradlew ./\r\nCOPY gradle gradle\r\n# To cause download and cache of verifyGoogleJavaFormat dependency\r\nRUN echo &quot;class Dummy {}&quot; &gt; Dummy.java\r\n# download dependencies\r\nRUN ./gradlew build\r\nCOPY . .\r\nRUN rm Dummy.java\r\nRUN ./gradlew build\r\nRUN mv /home/gradle/app/build/libs/relynk-rule-calculation_v1*-deploy.jar /home/gradle/app/build/libs/relynk-rule-calculation_v1-deploy.jar\r\n\r\nnotes/flink-1.15/#jdk-upgrade\r\nFROM flink:1.17\r\n\r\nCOPY --from=job-build /home/gradle/app/build/libs/relynk-rule-calculation_v1-deploy.jar /opt/flink/job.jar\r\n\r\nUSER flink\r\nEXPOSE 8081 6123\r\n```\r\n\r\n```yaml\r\n\r\napiVersion: flink.apache.org/v1beta1\r\nkind: FlinkDeployment\r\nmetadata:\r\n  name: basic-example-w-file-path\r\nspec:\r\n  image: rule-calculation:v2\r\n  imagePullPolicy: Never\r\n  \r\n  flinkVersion: v1_17\r\n  flinkConfiguration:\r\n    taskmanager.numberOfTaskSlots: &quot;2&quot;\r\n\r\n  serviceAccount: flink\r\n  jobManager:\r\n    resource:\r\n      memory: &quot;2048m&quot;\r\n      cpu: 1\r\n  taskManager:\r\n    resource:\r\n      memory: &quot;2048m&quot;\r\n      cpu: 1\r\n  job:\r\n    jarURI: local:///opt/flink/job.jar\r\n    parallelism: 2\r\n    upgradeMode: stateless\r\n    state: running\r\n\r\n```\r\n","title":"flink kubernetes operator /docker-entrypoint default command","body":"<p>Problem has few layers into it:</p>\n<p>First, we simply don't use any custom docker entrypoint sh script to not override the default one in flink:1.17 image.</p>\n<p>Second, to not face any exception such as below:\n<code>org.apache.flink.util.FlinkException: Could not load the provided entrypoint class</code> make sure you copy your jar file to a valid location in the image directory structure.</p>\n<p>Third, we follow <a href=\"https://blogmilind.wordpress.com/2018/01/30/running-local-docker-images-in-kubernetes/\" rel=\"nofollow noreferrer\">this</a> tutorial if we want to use kubernetes with local docker images (assuming we use minikube).</p>\n<p>Here are the final configs we use:</p>\n<pre><code>FROM openjdk:11 AS job-build\nWORKDIR /home/gradle/app/\n\nCOPY build.gradle settings.gradle ./\nCOPY gradlew ./\nCOPY gradle gradle\n# To cause download and cache of verifyGoogleJavaFormat dependency\nRUN echo &quot;class Dummy {}&quot; &gt; Dummy.java\n# download dependencies\nRUN ./gradlew build\nCOPY . .\nRUN rm Dummy.java\nRUN ./gradlew build\nRUN mv /home/gradle/app/build/libs/relynk-rule-calculation_v1*-deploy.jar /home/gradle/app/build/libs/relynk-rule-calculation_v1-deploy.jar\n\nnotes/flink-1.15/#jdk-upgrade\nFROM flink:1.17\n\nCOPY --from=job-build /home/gradle/app/build/libs/relynk-rule-calculation_v1-deploy.jar /opt/flink/job.jar\n\nUSER flink\nEXPOSE 8081 6123\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>\napiVersion: flink.apache.org/v1beta1\nkind: FlinkDeployment\nmetadata:\n  name: basic-example-w-file-path\nspec:\n  image: rule-calculation:v2\n  imagePullPolicy: Never\n  \n  flinkVersion: v1_17\n  flinkConfiguration:\n    taskmanager.numberOfTaskSlots: &quot;2&quot;\n\n  serviceAccount: flink\n  jobManager:\n    resource:\n      memory: &quot;2048m&quot;\n      cpu: 1\n  taskManager:\n    resource:\n      memory: &quot;2048m&quot;\n      cpu: 1\n  job:\n    jarURI: local:///opt/flink/job.jar\n    parallelism: 2\n    upgradeMode: stateless\n    state: running\n\n</code></pre>\n"}],"owner":{"account_id":15106683,"reputation":143,"user_id":10902172,"display_name":"yokus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694510797,"creation_date":1694467939,"question_id":77084892,"body_markdown":"I am trying to do simple flink deployment using flink kubernetes operator but default or docker-entrypoint.sh I use returns following error:\r\n\r\nHere is YAML file I use:\r\n```yaml\r\napiVersion: flink.apache.org/v1beta1\r\nkind: FlinkDeployment\r\nmetadata:\r\n  name: basic-example-w-file-path\r\nspec:\r\n  image: flink-job-fraud-demo:latest\r\n\r\n  flinkVersion: v1_17\r\n  flinkConfiguration:\r\n    taskmanager.numberOfTaskSlots: &quot;2&quot;\r\n    # kubernetes.entry.path: &quot;/docker-entrypoint.sh&quot;\r\n\r\n  serviceAccount: flink\r\n  jobManager:\r\n    resource:\r\n      memory: &quot;2048m&quot;\r\n      cpu: 1\r\n  taskManager:\r\n    resource:\r\n      memory: &quot;2048m&quot;\r\n      cpu: 1\r\n  job:\r\n    jarURI: local:///home/gradle/app/lib/job.jar\r\n    parallelism: 2\r\n    upgradeMode: stateless\r\n    state: running\r\n```\r\n\r\n\r\n```bash\r\nkubectl logs -f pod/basic-example-w-file-path-6d48fdc87b-xlbcm\r\n\r\noutput:\r\n\r\n/docker-entrypoint.sh: line 27: exec: kubernetes-jobmanager.sh kubernetes-application : not found\r\n\r\n\r\nkubectl get all\r\n\r\noutput:\r\n\r\nNAME                                             READY   STATUS             RESTARTS        AGE\r\npod/basic-example-w-file-path-6d48fdc87b-xlbcm   0/1     CrashLoopBackOff   1 (2s ago)      4s\r\npod/flink-kubernetes-operator-55f4bd64-55hd4     2/2     Running            4 (5h28m ago)   10h\r\n\r\n......\r\n\r\n```\r\n\r\n\r\nBy following [this](https://stackoverflow.com/questions/73607675/apache-flink-kubernetes-operator-how-to-override-the-docker-entrypoint) question and its accepted answer, I overwrite [kubernetes entrypath](https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/config/#kubernetes-entry-path). \r\n\r\nHowever, this time I get following from kubectl describe:\r\n\r\n```kubectl describe pod basic-example-w-file```\r\n```\r\nContainers:\r\n  flink-main-container:\r\n    Container ID:  docker://47698da60bfdfd93c82e4677ae87121abb90b5cfeaeb2d9aa0acd078a7d39c50\r\n    Image:         flink-job-fraud-demo:latest\r\n    Image ID:      docker://sha256:57fdf7e046939c42e978b16f7fb85855fd431fc8d02f99c29a0b4e14587233d8\r\n    Ports:         8081/TCP, 6123/TCP, 6124/TCP\r\n    Host Ports:    0/TCP, 0/TCP, 0/TCP\r\n    Command:\r\n      /custom-docker-entrypoint.sh\r\n    Args:\r\n      bash\r\n      -c\r\n      kubernetes-jobmanager.sh kubernetes-application\r\n    State:          Waiting\r\n      Reason:       CrashLoopBackOff\r\n    Last State:     Terminated\r\n      Reason:       ContainerCannotRun\r\n      Message:      failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;/custom-docker-entrypoint.sh&quot;: stat /custom-docker-entrypoint.sh: no such file or directory: unknown\r\n      Exit Code:    127\r\n```\r\n\r\nDockerfile I use:\r\n```\r\nFROM openjdk:11 AS job-build\r\nWORKDIR /home/gradle/app/\r\n\r\nCOPY build.gradle settings.gradle ./\r\nCOPY gradlew ./\r\nCOPY gradle gradle\r\n# To cause download and cache of verifyGoogleJavaFormat dependency\r\nRUN echo &quot;class Dummy {}&quot; &gt; Dummy.java\r\n# download dependencies\r\nRUN ./gradlew build\r\nCOPY . .\r\nRUN rm Dummy.java\r\nRUN ./gradlew build\r\nRUN mv /home/gradle/app/build/libs/rrr-rule-calculation_v1*-deploy.jar /home/gradle/app/build/libs/rrr-rule-calculation_v1-deploy.jar\r\n\r\n\r\n/release-notes/flink-1.15/#jdk-upgrade\r\nFROM flink:1.17\r\n\r\nCOPY --from=job-build /home/gradle/app/build/libs/rrr-rule-calculation_v1-deploy.jar lib/job.jar\r\nCOPY custom-docker-entrypoint.sh /\r\n\r\nUSER flink\r\nEXPOSE 8081 6123\r\nENTRYPOINT [&quot;/custom-docker-entrypoint.sh&quot;]\r\n```\r\n\r\n\r\nand custom-docker-entrypoint.sh (docker-entrypoint.sh for the first case) I use:\r\n```\r\n#!/bin/bash\r\n\r\n# Ported from Apache Flink project\r\n\r\n### If unspecified, the hostname of the container is taken as the JobManager address\r\nFLINK_HOME=${FLINK_HOME:-&quot;/opt/flink/bin&quot;}\r\n\r\nJOB_CLUSTER=&quot;job-cluster&quot;\r\nTASK_MANAGER=&quot;task-manager&quot;\r\n\r\nCMD=&quot;$1&quot;\r\nshift;\r\n\r\nif [ &quot;${CMD}&quot; == &quot;--help&quot; -o &quot;${CMD}&quot; == &quot;-h&quot; ]; then\r\n    echo &quot;Usage: $(basename $0) (${JOB_CLUSTER}|${TASK_MANAGER})&quot;\r\n    exit 0\r\nelif [ &quot;${CMD}&quot; == &quot;${JOB_CLUSTER}&quot; -o &quot;${CMD}&quot; == &quot;${TASK_MANAGER}&quot; ]; then\r\n    echo &quot;Starting the ${CMD}&quot;\r\n\r\n    if [ &quot;${CMD}&quot; == &quot;${TASK_MANAGER}&quot; ]; then\r\n        exec $FLINK_HOME/bin/taskmanager.sh start-foreground &quot;$@&quot;\r\n    else\r\n        exec $FLINK_HOME/bin/standalone-job.sh start-foreground &quot;$@&quot;\r\n    fi\r\nfi\r\n\r\nexec &quot;$@&quot;                 # --------------------  LINE 27\r\n```\r\n\r\nWhile using Minikube I do `eval $(minikube docker-env)` to use local docker image.","title":"flink kubernetes operator /docker-entrypoint default command","body":"<p>I am trying to do simple flink deployment using flink kubernetes operator but default or docker-entrypoint.sh I use returns following error:</p>\n<p>Here is YAML file I use:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: flink.apache.org/v1beta1\nkind: FlinkDeployment\nmetadata:\n  name: basic-example-w-file-path\nspec:\n  image: flink-job-fraud-demo:latest\n\n  flinkVersion: v1_17\n  flinkConfiguration:\n    taskmanager.numberOfTaskSlots: &quot;2&quot;\n    # kubernetes.entry.path: &quot;/docker-entrypoint.sh&quot;\n\n  serviceAccount: flink\n  jobManager:\n    resource:\n      memory: &quot;2048m&quot;\n      cpu: 1\n  taskManager:\n    resource:\n      memory: &quot;2048m&quot;\n      cpu: 1\n  job:\n    jarURI: local:///home/gradle/app/lib/job.jar\n    parallelism: 2\n    upgradeMode: stateless\n    state: running\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>kubectl logs -f pod/basic-example-w-file-path-6d48fdc87b-xlbcm\n\noutput:\n\n/docker-entrypoint.sh: line 27: exec: kubernetes-jobmanager.sh kubernetes-application : not found\n\n\nkubectl get all\n\noutput:\n\nNAME                                             READY   STATUS             RESTARTS        AGE\npod/basic-example-w-file-path-6d48fdc87b-xlbcm   0/1     CrashLoopBackOff   1 (2s ago)      4s\npod/flink-kubernetes-operator-55f4bd64-55hd4     2/2     Running            4 (5h28m ago)   10h\n\n......\n\n</code></pre>\n<p>By following <a href=\"https://stackoverflow.com/questions/73607675/apache-flink-kubernetes-operator-how-to-override-the-docker-entrypoint\">this</a> question and its accepted answer, I overwrite <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/config/#kubernetes-entry-path\" rel=\"nofollow noreferrer\">kubernetes entrypath</a>.</p>\n<p>However, this time I get following from kubectl describe:</p>\n<p><code>kubectl describe pod basic-example-w-file</code></p>\n<pre><code>Containers:\n  flink-main-container:\n    Container ID:  docker://47698da60bfdfd93c82e4677ae87121abb90b5cfeaeb2d9aa0acd078a7d39c50\n    Image:         flink-job-fraud-demo:latest\n    Image ID:      docker://sha256:57fdf7e046939c42e978b16f7fb85855fd431fc8d02f99c29a0b4e14587233d8\n    Ports:         8081/TCP, 6123/TCP, 6124/TCP\n    Host Ports:    0/TCP, 0/TCP, 0/TCP\n    Command:\n      /custom-docker-entrypoint.sh\n    Args:\n      bash\n      -c\n      kubernetes-jobmanager.sh kubernetes-application\n    State:          Waiting\n      Reason:       CrashLoopBackOff\n    Last State:     Terminated\n      Reason:       ContainerCannotRun\n      Message:      failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: &quot;/custom-docker-entrypoint.sh&quot;: stat /custom-docker-entrypoint.sh: no such file or directory: unknown\n      Exit Code:    127\n</code></pre>\n<p>Dockerfile I use:</p>\n<pre><code>FROM openjdk:11 AS job-build\nWORKDIR /home/gradle/app/\n\nCOPY build.gradle settings.gradle ./\nCOPY gradlew ./\nCOPY gradle gradle\n# To cause download and cache of verifyGoogleJavaFormat dependency\nRUN echo &quot;class Dummy {}&quot; &gt; Dummy.java\n# download dependencies\nRUN ./gradlew build\nCOPY . .\nRUN rm Dummy.java\nRUN ./gradlew build\nRUN mv /home/gradle/app/build/libs/rrr-rule-calculation_v1*-deploy.jar /home/gradle/app/build/libs/rrr-rule-calculation_v1-deploy.jar\n\n\n/release-notes/flink-1.15/#jdk-upgrade\nFROM flink:1.17\n\nCOPY --from=job-build /home/gradle/app/build/libs/rrr-rule-calculation_v1-deploy.jar lib/job.jar\nCOPY custom-docker-entrypoint.sh /\n\nUSER flink\nEXPOSE 8081 6123\nENTRYPOINT [&quot;/custom-docker-entrypoint.sh&quot;]\n</code></pre>\n<p>and custom-docker-entrypoint.sh (docker-entrypoint.sh for the first case) I use:</p>\n<pre><code>#!/bin/bash\n\n# Ported from Apache Flink project\n\n### If unspecified, the hostname of the container is taken as the JobManager address\nFLINK_HOME=${FLINK_HOME:-&quot;/opt/flink/bin&quot;}\n\nJOB_CLUSTER=&quot;job-cluster&quot;\nTASK_MANAGER=&quot;task-manager&quot;\n\nCMD=&quot;$1&quot;\nshift;\n\nif [ &quot;${CMD}&quot; == &quot;--help&quot; -o &quot;${CMD}&quot; == &quot;-h&quot; ]; then\n    echo &quot;Usage: $(basename $0) (${JOB_CLUSTER}|${TASK_MANAGER})&quot;\n    exit 0\nelif [ &quot;${CMD}&quot; == &quot;${JOB_CLUSTER}&quot; -o &quot;${CMD}&quot; == &quot;${TASK_MANAGER}&quot; ]; then\n    echo &quot;Starting the ${CMD}&quot;\n\n    if [ &quot;${CMD}&quot; == &quot;${TASK_MANAGER}&quot; ]; then\n        exec $FLINK_HOME/bin/taskmanager.sh start-foreground &quot;$@&quot;\n    else\n        exec $FLINK_HOME/bin/standalone-job.sh start-foreground &quot;$@&quot;\n    fi\nfi\n\nexec &quot;$@&quot;                 # --------------------  LINE 27\n</code></pre>\n<p>While using Minikube I do <code>eval $(minikube docker-env)</code> to use local docker image.</p>\n"},{"tags":["java","cpu-architecture","atomic","benchmarking","jmh"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1694498125,"post_id":77085043,"comment_id":135894728,"body_markdown":"Performance will vary widely between machines, but those numbers seem entirely reasonable.  Why would you expect these things to take longer than a few nanoseconds?","body":"Performance will vary widely between machines, but those numbers seem entirely reasonable.  Why would you expect these things to take longer than a few nanoseconds?"},{"owner":{"account_id":29418060,"reputation":13,"user_id":22540423,"display_name":"Kurkazawar"},"score":0,"creation_date":1694527347,"post_id":77085043,"comment_id":135900742,"body_markdown":"Thank u! I am a newbie in such questions, so i wasnt able to check this results for rightness by myself and my purpose was to approve that iam doing right","body":"Thank u! I am a newbie in such questions, so i wasnt able to check this results for rightness by myself and my purpose was to approve that iam doing right"},{"owner":{"account_id":16547,"reputation":2370,"user_id":36174,"accept_rate":87,"display_name":"actual"},"score":0,"creation_date":1700989171,"post_id":77085043,"comment_id":136717556,"body_markdown":"There are similar numbers for `AtomicInteger` in [here](https://javaperf.com), so your numbers look correct. But be careful, the performance quickly degrades to 30-40Mop/s as you add more threads.","body":"There are similar numbers for <code>AtomicInteger</code> in <a href=\"https://javaperf.com\" rel=\"nofollow noreferrer\">here</a>, so your numbers look correct. But be careful, the performance quickly degrades to 30-40Mop/s as you add more threads."}],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694510045,"creation_date":1694510045,"answer_id":77087680,"question_id":77085043,"body_markdown":"You only have one thread so there&#39;s no contention for the lock, and not even any time for the cache line to bounce around from the previous owner to the current core doing an RMW because it&#39;s always the same core.\r\n\r\n**Uncontended atomic increments (that hit in L1d cache) can run about 1 per 8 or 18 cycles on a current AMD or Intel CPU, respectively.**   `145.125 Mops / sec * (18 cycles/op)` ~= 2612 Mcycles / sec, **so a 2.6 GHz Intel Xeon core could do this**.  I haven&#39;t looked for atomic RMW latency / throughput numbers for any ARM cores, but they&#39;re probably also pretty good.\r\n\r\nYou didn&#39;t say what CPU you tested on; I&#39;m just guessing an Intel from the last 8 years because that leads to a reasonable CPU frequency for a server core; low for a desktop or recent laptop.  (Or actual frequency could be higher if my estimate of cycles / iteration is low due to some extra overhead.)\r\n\r\n(You [can&#39;t add up cycle costs across operations in general][1], but your loops only involve the one significant operation which alone will be the bottleneck.  A `volatile` increment should JIT to the same asm as AtomicInteger, but you also use `synchronized`.  So IDK why it&#39;s not twice as slow. Maybe the JIT can see there&#39;s only one thread and avoid doing actual locking with an atomic RMW?  Or there&#39;s some other overhead in the function, perhaps some stores due to the black-hole, so adding another atomic RMW on a different location (the lock that `synchronized` uses) wouldn&#39;t be twice as slow?  In that case my CPU frequency estimate is wrong.)\r\n\r\nMy source for the 8 and 18 cycle numbers is https://uops.info/.  Look for `lock add` or `lock xadd` in the table.  The table shows latency, throughput, and micro-op (uop) counts.  Latency is complicated because the operation has 3 inputs: an address, a register input, an output in FLAGS (and also register for `xadd`), and the contents of memory.  uops.info attempts to measure latency from each input to each output with different microbenchmarks, because those can all be different, especially for multi-uop instructions.\r\n\r\nSpecifically `XADD_LOCK (M32, R32)` or `ADD_LOCK (M32, I8)` since you&#39;re using 32-bit integers.  (XADD produces the previous value of the memory location, like fetch_add needs.  Plain ADD doesn&#39;t, just the FLAGS result of whether it was zero or not, and so on.  Since you&#39;re using `blackhole.consume` on the increment result, the JIT optimizer will have to use something like `mov eax, 1` / `lock xadd  [rdi], eax` instead of `lock add dword ptr [rdi], 1`)\r\n\r\n**The relevant bottleneck in this case is latency from memory to memory since you&#39;re doing increments on the same object.**  e.g. https://uops.info/html-lat/ZEN4/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem shows Zen 4&#39;s `Latency operand 1 → 1 (memory): 8` result: 8 cycles for back-to-back increments on the same memory location.  (Zen 3 has the same performance for that).\r\n\r\n(The throughput of a thread doing multiple independent atomic RMWs on different memory locations is surprisingly slightly better than that, despite `lock`ed instructions being full memory barriers.  But there&#39;s not much pipelining so the throughput numbers directly visible in the main table are very close.  However, the latency numbers for mem-&gt;mem are whole numbers like we&#39;d expect.  Intel numbers came out as I&#39;d expect, with throughput exactly equal to latency due to the full memory barrier.)\r\n\r\nNumbers from recent mainstream x86 CPUs for mem-&gt;mem latency for `lock xadd [mem], r32`, which will also be the cycles / iteration for a loop that does an atomic increment on an object with no other memory operations, just some register loop-counter stuff:\r\n\r\n* [Skylake][2] / Cascade Lake / Ice Lake / [Alder Lake P-cores][3] and Sapphire Rapids: 18.  Also Alder Lake E-cores.\r\n* [Zen 1][4]: 8 cycles, but only as part of a chain of operations that isn&#39;t just atomic RMWs, because atomic RMW throughput is lower, [like 28.4 cycles][5] in a microbenchmark loop that does exactly what you&#39;re doing, incrementing the same location in a loop.\r\n* [Zen 2][6]: 15 cycles, but again back-to-back increments of the same location are limited by [atomic RMW throughput of 17.7 cycles][7]\r\n* [Zen 3][8]: 8 cycles, with actual increments of a single location in a loop [able to match that][9], no extra bottlenecks to RMW throughput.\r\n* [Zen 4][10]: 8 cycles, and again a microbenchmark of just [incrementing the same location in a loop][11] confirms that really can sustain 8 cycles per increment.\r\n\r\n(When I started writing this answer, I wasn&#39;t expecting the Zen 1/2 effect of latency being better than throughput. That&#39;s interesting.  But https://uops.info/ shows the instruction sequences they microbenchmarked with, and the testing is automated and reliable, and reports actual &quot;APERF&quot; cycle counts for each individual test, so the raw data is there.  Anyway, not relevant to your test even if you were using an early Ryzen, since the only significant thing in your loop should be the atomic RMW; out-of-order exec of the register operations to keep track of the loop counter isn&#39;t part of the bottleneck.)\r\n\r\n  [1]: https://stackoverflow.com/questions/51607391/what-considerations-go-into-predicting-latency-for-operations-on-modern-supersca\r\n  [2]: https://uops.info/html-lat/SKX/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\r\n  [3]: https://uops.info/html-lat/ADL-P/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\r\n  [4]: https://uops.info/html-lat/ZEN+/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\r\n  [5]: https://uops.info/html-tp/ZEN+/XADD_LOCK_M32_R32-Measurements.html\r\n  [6]: https://uops.info/html-lat/ZEN2/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\r\n  [7]: https://uops.info/html-tp/ZEN2/XADD_LOCK_M32_R32-Measurements.html\r\n  [8]: https://uops.info/html-lat/ZEN3/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\r\n  [9]: https://uops.info/html-tp/ZEN3/XADD_LOCK_M32_R32-Measurements.html\r\n  [10]: https://uops.info/html-lat/ZEN4/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\r\n  [11]: https://uops.info/html-tp/ZEN4/XADD_LOCK_M32_R32-Measurements.html","title":"Do i really well interpret JMH results for synchronized counter and AtomicInteger","body":"<p>You only have one thread so there's no contention for the lock, and not even any time for the cache line to bounce around from the previous owner to the current core doing an RMW because it's always the same core.</p>\n<p><strong>Uncontended atomic increments (that hit in L1d cache) can run about 1 per 8 or 18 cycles on a current AMD or Intel CPU, respectively.</strong>   <code>145.125 Mops / sec * (18 cycles/op)</code> ~= 2612 Mcycles / sec, <strong>so a 2.6 GHz Intel Xeon core could do this</strong>.  I haven't looked for atomic RMW latency / throughput numbers for any ARM cores, but they're probably also pretty good.</p>\n<p>You didn't say what CPU you tested on; I'm just guessing an Intel from the last 8 years because that leads to a reasonable CPU frequency for a server core; low for a desktop or recent laptop.  (Or actual frequency could be higher if my estimate of cycles / iteration is low due to some extra overhead.)</p>\n<p>(You <a href=\"https://stackoverflow.com/questions/51607391/what-considerations-go-into-predicting-latency-for-operations-on-modern-supersca\">can't add up cycle costs across operations in general</a>, but your loops only involve the one significant operation which alone will be the bottleneck.  A <code>volatile</code> increment should JIT to the same asm as AtomicInteger, but you also use <code>synchronized</code>.  So IDK why it's not twice as slow. Maybe the JIT can see there's only one thread and avoid doing actual locking with an atomic RMW?  Or there's some other overhead in the function, perhaps some stores due to the black-hole, so adding another atomic RMW on a different location (the lock that <code>synchronized</code> uses) wouldn't be twice as slow?  In that case my CPU frequency estimate is wrong.)</p>\n<p>My source for the 8 and 18 cycle numbers is <a href=\"https://uops.info/\" rel=\"nofollow noreferrer\">https://uops.info/</a>.  Look for <code>lock add</code> or <code>lock xadd</code> in the table.  The table shows latency, throughput, and micro-op (uop) counts.  Latency is complicated because the operation has 3 inputs: an address, a register input, an output in FLAGS (and also register for <code>xadd</code>), and the contents of memory.  uops.info attempts to measure latency from each input to each output with different microbenchmarks, because those can all be different, especially for multi-uop instructions.</p>\n<p>Specifically <code>XADD_LOCK (M32, R32)</code> or <code>ADD_LOCK (M32, I8)</code> since you're using 32-bit integers.  (XADD produces the previous value of the memory location, like fetch_add needs.  Plain ADD doesn't, just the FLAGS result of whether it was zero or not, and so on.  Since you're using <code>blackhole.consume</code> on the increment result, the JIT optimizer will have to use something like <code>mov eax, 1</code> / <code>lock xadd  [rdi], eax</code> instead of <code>lock add dword ptr [rdi], 1</code>)</p>\n<p><strong>The relevant bottleneck in this case is latency from memory to memory since you're doing increments on the same object.</strong>  e.g. <a href=\"https://uops.info/html-lat/ZEN4/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\" rel=\"nofollow noreferrer\">https://uops.info/html-lat/ZEN4/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem</a> shows Zen 4's <code>Latency operand 1 → 1 (memory): 8</code> result: 8 cycles for back-to-back increments on the same memory location.  (Zen 3 has the same performance for that).</p>\n<p>(The throughput of a thread doing multiple independent atomic RMWs on different memory locations is surprisingly slightly better than that, despite <code>lock</code>ed instructions being full memory barriers.  But there's not much pipelining so the throughput numbers directly visible in the main table are very close.  However, the latency numbers for mem-&gt;mem are whole numbers like we'd expect.  Intel numbers came out as I'd expect, with throughput exactly equal to latency due to the full memory barrier.)</p>\n<p>Numbers from recent mainstream x86 CPUs for mem-&gt;mem latency for <code>lock xadd [mem], r32</code>, which will also be the cycles / iteration for a loop that does an atomic increment on an object with no other memory operations, just some register loop-counter stuff:</p>\n<ul>\n<li><a href=\"https://uops.info/html-lat/SKX/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\" rel=\"nofollow noreferrer\">Skylake</a> / Cascade Lake / Ice Lake / <a href=\"https://uops.info/html-lat/ADL-P/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\" rel=\"nofollow noreferrer\">Alder Lake P-cores</a> and Sapphire Rapids: 18.  Also Alder Lake E-cores.</li>\n<li><a href=\"https://uops.info/html-lat/ZEN+/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\" rel=\"nofollow noreferrer\">Zen 1</a>: 8 cycles, but only as part of a chain of operations that isn't just atomic RMWs, because atomic RMW throughput is lower, <a href=\"https://uops.info/html-tp/ZEN+/XADD_LOCK_M32_R32-Measurements.html\" rel=\"nofollow noreferrer\">like 28.4 cycles</a> in a microbenchmark loop that does exactly what you're doing, incrementing the same location in a loop.</li>\n<li><a href=\"https://uops.info/html-lat/ZEN2/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\" rel=\"nofollow noreferrer\">Zen 2</a>: 15 cycles, but again back-to-back increments of the same location are limited by <a href=\"https://uops.info/html-tp/ZEN2/XADD_LOCK_M32_R32-Measurements.html\" rel=\"nofollow noreferrer\">atomic RMW throughput of 17.7 cycles</a></li>\n<li><a href=\"https://uops.info/html-lat/ZEN3/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\" rel=\"nofollow noreferrer\">Zen 3</a>: 8 cycles, with actual increments of a single location in a loop <a href=\"https://uops.info/html-tp/ZEN3/XADD_LOCK_M32_R32-Measurements.html\" rel=\"nofollow noreferrer\">able to match that</a>, no extra bottlenecks to RMW throughput.</li>\n<li><a href=\"https://uops.info/html-lat/ZEN4/XADD_LOCK_M32_R32-Measurements.html#lat1-%3E1_mem\" rel=\"nofollow noreferrer\">Zen 4</a>: 8 cycles, and again a microbenchmark of just <a href=\"https://uops.info/html-tp/ZEN4/XADD_LOCK_M32_R32-Measurements.html\" rel=\"nofollow noreferrer\">incrementing the same location in a loop</a> confirms that really can sustain 8 cycles per increment.</li>\n</ul>\n<p>(When I started writing this answer, I wasn't expecting the Zen 1/2 effect of latency being better than throughput. That's interesting.  But <a href=\"https://uops.info/\" rel=\"nofollow noreferrer\">https://uops.info/</a> shows the instruction sequences they microbenchmarked with, and the testing is automated and reliable, and reports actual &quot;APERF&quot; cycle counts for each individual test, so the raw data is there.  Anyway, not relevant to your test even if you were using an early Ryzen, since the only significant thing in your loop should be the atomic RMW; out-of-order exec of the register operations to keep track of the loop counter isn't part of the bottleneck.)</p>\n"}],"owner":{"account_id":29418060,"reputation":13,"user_id":22540423,"display_name":"Kurkazawar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77087680,"answer_count":1,"score":1,"last_activity_date":1694510045,"creation_date":1694470454,"question_id":77085043,"body_markdown":"I wondered how much AtomicInteger is more performat then synchronized volatile increment in single-threaded environment, and write such a JMH Benchmarks:\r\n\r\n\r\n```\r\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\r\npublic class CounterBenchmark {\r\n\r\n    @State(Scope.Benchmark)\r\n    public static class ThreadState {\r\n\r\n        public final AtomicInteger atomicInteger = new AtomicInteger();\r\n        public final SynchronizedCounter synchronizedCounter = new SynchronizedCounter();\r\n    }\r\n\r\n    public static class SynchronizedCounter {\r\n        private volatile int counter = 0;\r\n\r\n        public synchronized int incrementAndGet() {\r\n            return counter++;\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public void atomicCounter(ThreadState state, Blackhole blackhole) {\r\n        blackhole.consume(state.atomicInteger.incrementAndGet());\r\n    }\r\n\r\n    @Benchmark\r\n    public void syncCounter(ThreadState state, Blackhole blackhole) {\r\n        blackhole.consume(state.synchronizedCounter.incrementAndGet());\r\n    }\r\n\r\n\r\n    public static void main(String... args) throws Exception {\r\n\r\n        Options options = new OptionsBuilder()\r\n                .include(CounterBenchmark.class.getSimpleName())\r\n                .forks(1)\r\n                .threads(1)\r\n                .warmupTime(TimeValue.seconds(1))\r\n                .warmupIterations(5)\r\n                .measurementTime(TimeValue.seconds(1))\r\n                .measurementIterations(5)\r\n                .mode(Mode.Throughput)\r\n                .build();\r\n\r\n        new Runner(options).run();\r\n    }\r\n}\r\n```\r\n\r\n\r\nAnd got such output:\r\n\r\n`\r\nBenchmark                                Mode  Cnt       Score      Error   Units\r\nMySerializationBenchmark.atomicCounter  thrpt    5  145125.272 &#177; 2064.673  ops/ms\r\nMySerializationBenchmark.syncCounter    thrpt    5  105763.168 &#177; 1794.680  ops/ms\r\n`\r\n\r\nAnd results seems to fast. 145k operations per 1ms (145kk per second) for AtomicInteger and 100kk for synchronized. \r\nAm i doing things wrong, or this is real performance.\r\n`\r\n\r\nI have googled things as &quot;common java latency numbers&quot; and so on, but decided to do benchmarks by me","title":"Do i really well interpret JMH results for synchronized counter and AtomicInteger","body":"<p>I wondered how much AtomicInteger is more performat then synchronized volatile increment in single-threaded environment, and write such a JMH Benchmarks:</p>\n<pre><code>@OutputTimeUnit(TimeUnit.MILLISECONDS)\npublic class CounterBenchmark {\n\n    @State(Scope.Benchmark)\n    public static class ThreadState {\n\n        public final AtomicInteger atomicInteger = new AtomicInteger();\n        public final SynchronizedCounter synchronizedCounter = new SynchronizedCounter();\n    }\n\n    public static class SynchronizedCounter {\n        private volatile int counter = 0;\n\n        public synchronized int incrementAndGet() {\n            return counter++;\n        }\n    }\n\n    @Benchmark\n    public void atomicCounter(ThreadState state, Blackhole blackhole) {\n        blackhole.consume(state.atomicInteger.incrementAndGet());\n    }\n\n    @Benchmark\n    public void syncCounter(ThreadState state, Blackhole blackhole) {\n        blackhole.consume(state.synchronizedCounter.incrementAndGet());\n    }\n\n\n    public static void main(String... args) throws Exception {\n\n        Options options = new OptionsBuilder()\n                .include(CounterBenchmark.class.getSimpleName())\n                .forks(1)\n                .threads(1)\n                .warmupTime(TimeValue.seconds(1))\n                .warmupIterations(5)\n                .measurementTime(TimeValue.seconds(1))\n                .measurementIterations(5)\n                .mode(Mode.Throughput)\n                .build();\n\n        new Runner(options).run();\n    }\n}\n</code></pre>\n<p>And got such output:</p>\n<p><code>Benchmark                                Mode  Cnt       Score      Error   Units MySerializationBenchmark.atomicCounter  thrpt    5  145125.272 ± 2064.673  ops/ms MySerializationBenchmark.syncCounter    thrpt    5  105763.168 ± 1794.680  ops/ms</code></p>\n<p>And results seems to fast. 145k operations per 1ms (145kk per second) for AtomicInteger and 100kk for synchronized.\nAm i doing things wrong, or this is real performance.\n`</p>\n<p>I have googled things as &quot;common java latency numbers&quot; and so on, but decided to do benchmarks by me</p>\n"},{"tags":["java","java-11","byte-code-enhancement"],"owner":{"account_id":12854191,"reputation":1,"user_id":9298044,"display_name":"Guntupalli Dheeraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694510040,"creation_date":1694484553,"question_id":77085701,"body_markdown":"We are using a maven project that has the below dependencies\r\n\r\n```    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\r\n                &lt;artifactId&gt;net.tascalate.javaflow.api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\r\n                &lt;artifactId&gt;net.tascalate.javaflow.extras&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;net.tascalate.javaflow.tools.maven&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.7.5&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;javaflow-enhance-main-classes&lt;/id&gt;\r\n                            &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;javaflow-enhance&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n    \r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n```\r\nWe are using net.tascalate.javaflow maven plugin to enhance byte code, till jdk8 it is working fine and the build is successful.\r\nOnce we have upgraded the compiler to java 11 version we are getting the below error when running the maven install.\r\n\r\nThis is the error that was thrown when trying to install the maven project    \r\n```\r\n    [ERROR] net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\r\n    java.lang.RuntimeException: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\r\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:163)\r\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\r\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    Caused by: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\r\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:273)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\r\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\r\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    Caused by: java.lang.UnsupportedOperationException\r\n        at org.apache.commons.javaflow.providers.core.FastClassVerifier.getClass (FastClassVerifier.java:109)\r\n        at net.tascalate.asmx.tree.analysis.SimpleVerifier.isSubTypeOf (SimpleVerifier.java:214)\r\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:400)\r\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:44)\r\n        at net.tascalate.asmx.tree.analysis.Frame.executeInvokeInsn (Frame.java:684)\r\n        at net.tascalate.asmx.tree.analysis.Frame.execute (Frame.java:612)\r\n        at org.apache.commons.javaflow.providers.core.MonitoringFrame.execute (MonitoringFrame.java:72)\r\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:165)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\r\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\r\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\r\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\r\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\r\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\r\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:566)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n```\r\n    \r\nI have tried reverting the versions of the artifacts net.tascalate.javaflow.api to 2.6.0,           net.tascalate.javaflow.tools.maven to 2.4.1 but still there is same issue.\r\n    \r\nBut when I changed the maven compiler level to jdk 8 the project is building successfully.\r\n    \r\nAny help would be appreciated.","title":"Unable to Build maven project after upgrading to java11","body":"<p>We are using a maven project that has the below dependencies</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\n                &lt;artifactId&gt;net.tascalate.javaflow.api&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\n                &lt;artifactId&gt;net.tascalate.javaflow.extras&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;11&lt;/source&gt;\n                        &lt;target&gt;11&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.tascalate.javaflow&lt;/groupId&gt;\n                    &lt;artifactId&gt;net.tascalate.javaflow.tools.maven&lt;/artifactId&gt;\n                    &lt;version&gt;2.7.5&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;javaflow-enhance-main-classes&lt;/id&gt;\n                            &lt;phase&gt;process-classes&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;javaflow-enhance&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n    \n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>We are using net.tascalate.javaflow maven plugin to enhance byte code, till jdk8 it is working fine and the build is successful.\nOnce we have upgraded the compiler to java 11 version we are getting the below error when running the maven install.</p>\n<p>This is the error that was thrown when trying to install the maven project</p>\n<pre><code>    [ERROR] net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\n    java.lang.RuntimeException: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:163)\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n    Caused by: net.tascalate.asmx.tree.analysis.AnalyzerException: Error at instruction 238: null\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:273)\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n    Caused by: java.lang.UnsupportedOperationException\n        at org.apache.commons.javaflow.providers.core.FastClassVerifier.getClass (FastClassVerifier.java:109)\n        at net.tascalate.asmx.tree.analysis.SimpleVerifier.isSubTypeOf (SimpleVerifier.java:214)\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:400)\n        at net.tascalate.asmx.tree.analysis.BasicVerifier.naryOperation (BasicVerifier.java:44)\n        at net.tascalate.asmx.tree.analysis.Frame.executeInvokeInsn (Frame.java:684)\n        at net.tascalate.asmx.tree.analysis.Frame.execute (Frame.java:612)\n        at org.apache.commons.javaflow.providers.core.MonitoringFrame.execute (MonitoringFrame.java:72)\n        at net.tascalate.asmx.tree.analysis.Analyzer.analyze (Analyzer.java:165)\n        at org.apache.commons.javaflow.providers.core.ContinuableMethodNode.visitEnd (ContinuableMethodNode.java:159)\n        at net.tascalate.asmx.ClassReader.readMethod (ClassReader.java:1518)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:744)\n        at net.tascalate.asmx.ClassReader.accept (ClassReader.java:424)\n        at org.apache.commons.javaflow.providers.core.ContinuableClassTransformer.transform (ContinuableClassTransformer.java:64)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils$2.transform (RewritingUtils.java:230)\n        at org.apache.commons.javaflow.spi.AbstractResourceTransformer.transform (AbstractResourceTransformer.java:25)\n        at org.apache.commons.javaflow.tools.jar.RewritingUtils.rewriteClassFile (RewritingUtils.java:73)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.transformFiles (ContinuableClassesInstrumentationMojo.java:149)\n        at org.apache.commons.javaflow.tools.maven.ContinuableClassesInstrumentationMojo.execute (ContinuableClassesInstrumentationMojo.java:109)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:566)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>I have tried reverting the versions of the artifacts net.tascalate.javaflow.api to 2.6.0,           net.tascalate.javaflow.tools.maven to 2.4.1 but still there is same issue.</p>\n<p>But when I changed the maven compiler level to jdk 8 the project is building successfully.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","jruby"],"answers":[{"tags":[],"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694510012,"creation_date":1694510012,"answer_id":77087673,"question_id":77087511,"body_markdown":"I found, that the problem is on the Java side:\r\n\r\nFirst, the class `T` needs to be declared _public_. I don&#39;t know why I can create an instance of a non-public class, but can&#39;t call instance methods of it. This seems to be a Java-restriction.\r\n\r\nSecond, after renaming, the Java compiler insists that I also rename the file from `t.java` to `T.java`. The file name must match the class name.\r\n\r\nAfter these changes, the example works.","title":"JRuby can not call Java method","body":"<p>I found, that the problem is on the Java side:</p>\n<p>First, the class <code>T</code> needs to be declared <em>public</em>. I don't know why I can create an instance of a non-public class, but can't call instance methods of it. This seems to be a Java-restriction.</p>\n<p>Second, after renaming, the Java compiler insists that I also rename the file from <code>t.java</code> to <code>T.java</code>. The file name must match the class name.</p>\n<p>After these changes, the example works.</p>\n"}],"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77087673,"answer_count":1,"score":0,"last_activity_date":1694510012,"creation_date":1694508898,"question_id":77087511,"body_markdown":"I tried to create a small example, where I invoke a method on a Java object, but I JRuby can&#39;t find the method. \r\n\r\nI have the following file:\r\n\r\nFile t.java with content\r\n\r\n    class T {\r\n      public T() {}\r\n      public String f() {\r\n        return &quot;abc&quot;;\r\n      }\r\n    }\r\n\r\nI then do (inside the directory of t.java):\r\n\r\n    javac t.java # Produces a file T.class\r\n    jruby -e &#39;java_import &quot;T&quot;; r=T.new; puts(r.f)&#39;\r\n\r\nthis produces the error message\r\n\r\n_NoMethodError: undefined method `f&#39; for #&lt;Java::Default::T:0x38cee291&gt;_\r\n\r\nInterestingly, the constructor (`T.new`) seems to have succeeded. Why can&#39;t I call the instance method `f`?\r\n\r\nPlatform:\r\n \r\nMacOS 12.6.5\r\n\r\njruby 9.4.3.0 (3.1.4) 2023-06-07 3086960792 Java HotSpot(TM) 64-Bit Server VM 25.341-b10 on 1.8.0_341-b10 +jit [x86_64-darwin]\r\n","title":"JRuby can not call Java method","body":"<p>I tried to create a small example, where I invoke a method on a Java object, but I JRuby can't find the method.</p>\n<p>I have the following file:</p>\n<p>File t.java with content</p>\n<pre><code>class T {\n  public T() {}\n  public String f() {\n    return &quot;abc&quot;;\n  }\n}\n</code></pre>\n<p>I then do (inside the directory of t.java):</p>\n<pre><code>javac t.java # Produces a file T.class\njruby -e 'java_import &quot;T&quot;; r=T.new; puts(r.f)'\n</code></pre>\n<p>this produces the error message</p>\n<p><em>NoMethodError: undefined method `f' for #Java::Default::T:0x38cee291</em></p>\n<p>Interestingly, the constructor (<code>T.new</code>) seems to have succeeded. Why can't I call the instance method <code>f</code>?</p>\n<p>Platform:</p>\n<p>MacOS 12.6.5</p>\n<p>jruby 9.4.3.0 (3.1.4) 2023-06-07 3086960792 Java HotSpot(TM) 64-Bit Server VM 25.341-b10 on 1.8.0_341-b10 +jit [x86_64-darwin]</p>\n"},{"tags":["java","line"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1374043816,"post_id":17692922,"comment_id":25779231,"body_markdown":"You could try creating a `Line2D` object that represents A &amp; B and use it&#39;s `contains` method","body":"You could try creating a <code>Line2D</code> object that represents A &amp; B and use it&#39;s <code>contains</code> method"},{"owner":{"account_id":2864110,"reputation":566,"user_id":2458755,"accept_rate":84,"display_name":"PunDefeated"},"score":1,"creation_date":1374044111,"post_id":17692922,"comment_id":25779390,"body_markdown":"y=mx+b.  Find the equation of the line containing A and B, and then see if C(x,y) satisfies the equation?","body":"y=mx+b.  Find the equation of the line containing A and B, and then see if C(x,y) satisfies the equation?"},{"owner":{"account_id":2353049,"reputation":681,"user_id":2061477,"accept_rate":17,"display_name":"Usman Mahmood"},"score":0,"creation_date":1374044308,"post_id":17692922,"comment_id":25779505,"body_markdown":"this is what I have tried, but what to do when x2 and x1 are same\n\nfloat ratio = (y2 - y1) / (x2 - x1);\nThen:\n\nwidth = x2 - x1;\nfor(int i = 0; i &lt; width; i++) {\n    float x = x1 + i;\n    float y = y1 + (ratio * i);\n    points.add(new Point(x,y));\n}","body":"this is what I have tried, but what to do when x2 and x1 are same  float ratio = (y2 - y1) / (x2 - x1); Then:  width = x2 - x1; for(int i = 0; i &lt; width; i++) {     float x = x1 + i;     float y = y1 + (ratio * i);     points.add(new Point(x,y)); }"},{"owner":{"account_id":2353049,"reputation":681,"user_id":2061477,"accept_rate":17,"display_name":"Usman Mahmood"},"score":0,"creation_date":1374044424,"post_id":17692922,"comment_id":25779568,"body_markdown":"@PunDefeated can you please explain a bit more, i am not good with math. How to do it ?","body":"@PunDefeated can you please explain a bit more, i am not good with math. How to do it ?"},{"owner":{"account_id":2864110,"reputation":566,"user_id":2458755,"accept_rate":84,"display_name":"PunDefeated"},"score":0,"creation_date":1374044798,"post_id":17692922,"comment_id":25779754,"body_markdown":"http://www.mathsisfun.com/algebra/line-equation-2points.html\nor the answer from @SeniorJD.","body":"<a href=\"http://www.mathsisfun.com/algebra/line-equation-2points.html\" rel=\"nofollow noreferrer\">mathsisfun.com/algebra/line-equation-2points.html</a> or the answer from @SeniorJD."},{"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1374046638,"post_id":17692922,"comment_id":25780761,"body_markdown":"user2061477, any solution that uses (only) gradients will fail spectacularly for vertical lines as the gradient approaches infinity. The answer from @MrROY will bypass those problems.","body":"user2061477, any solution that uses (only) gradients will fail spectacularly for vertical lines as the gradient approaches infinity. The answer from @MrROY will bypass those problems."},{"owner":{"account_id":258537,"reputation":12329,"user_id":540776,"accept_rate":92,"display_name":"superjos"},"score":1,"creation_date":1400109067,"post_id":17692922,"comment_id":36355288,"body_markdown":"Please have a look at this (older) [SO thread][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/328107/how-can-you-determine-a-point-is-between-two-other-points-on-a-line-segment","body":"Please have a look at this (older) [SO thread][1]        [1]: <a href=\"http://stackoverflow.com/questions/328107/how-can-you-determine-a-point-is-between-two-other-points-on-a-line-segment\" title=\"how can you determine a point is between two other points on a line segment\">stackoverflow.com/questions/328107/&hellip;</a>"},{"owner":{"account_id":8618069,"reputation":333,"user_id":6454135,"display_name":"Jeffery Tang"},"score":2,"creation_date":1554616231,"post_id":17692922,"comment_id":97812939,"body_markdown":"contains will always return false for line2D","body":"contains will always return false for line2D"}],"answers":[{"tags":[],"owner":{"account_id":423278,"reputation":19940,"user_id":802585,"accept_rate":53,"display_name":"WoooHaaaa"},"down_vote_count":1,"up_vote_count":142,"is_accepted":false,"score":141,"last_activity_date":1374046844,"creation_date":1374044183,"answer_id":17693146,"question_id":17692922,"body_markdown":"    if (distance(A, C) + distance(B, C) == distance(A, B))\r\n        return true; // C is on the line.\r\n    return false;    // C is not on the line.\r\nor just:\r\n\r\n    return distance(A, C) + distance(B, C) == distance(A, B);\r\n\r\nThe way this works is rather simple. If C lies on the `AB` line, you&#39;ll get the following scenario:\r\n\r\n    A-C------B\r\nand, regardless of where it lies on that line, `dist(AC) + dist(CB) == dist(AB)`. For any other case, you have a triangle of some description and &#39;dist(AC) + dist(CB) &gt; dist(AB)&#39;:\r\n\r\n    A-----B\r\n     \\   /\r\n      \\ /\r\n       C\r\n\r\nIn fact, this even works if C lies on the extrapolated line:\r\n\r\n    C---A-------B\r\nprovided that the distances are kept unsigned. The distance `dist(AB)` can be calculated as:\r\n\r\n      ___________________________\r\n     /           2              2\r\n    V (A.x - B.x)  + (A.y - B.y)\r\n\r\nKeep in mind the inherent limitations (limited precision) of floating point operations. It&#39;s possible that you may need to opt for a &quot;close enough&quot; test (say, less than one part per million error) to ensure correct functioning of the equality.\r\n","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<pre><code>if (distance(A, C) + distance(B, C) == distance(A, B))\n    return true; // C is on the line.\nreturn false;    // C is not on the line.\n</code></pre>\n\n<p>or just:</p>\n\n<pre><code>return distance(A, C) + distance(B, C) == distance(A, B);\n</code></pre>\n\n<p>The way this works is rather simple. If C lies on the <code>AB</code> line, you'll get the following scenario:</p>\n\n<pre><code>A-C------B\n</code></pre>\n\n<p>and, regardless of where it lies on that line, <code>dist(AC) + dist(CB) == dist(AB)</code>. For any other case, you have a triangle of some description and 'dist(AC) + dist(CB) > dist(AB)':</p>\n\n<pre><code>A-----B\n \\   /\n  \\ /\n   C\n</code></pre>\n\n<p>In fact, this even works if C lies on the extrapolated line:</p>\n\n<pre><code>C---A-------B\n</code></pre>\n\n<p>provided that the distances are kept unsigned. The distance <code>dist(AB)</code> can be calculated as:</p>\n\n<pre><code>  ___________________________\n /           2              2\nV (A.x - B.x)  + (A.y - B.y)\n</code></pre>\n\n<p>Keep in mind the inherent limitations (limited precision) of floating point operations. It's possible that you may need to opt for a \"close enough\" test (say, less than one part per million error) to ensure correct functioning of the equality.</p>\n"},{"tags":[],"owner":{"account_id":2432954,"reputation":6986,"user_id":2123487,"accept_rate":86,"display_name":"SeniorJD"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1374047515,"creation_date":1374044332,"answer_id":17693189,"question_id":17692922,"body_markdown":"**ATTENTION! Math-only!**\r\n\r\n![Try this!][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/rmOxu.gif\r\n\r\nYou can try this formula. Put your `A(x1, y1)` and `B(x2, y2)` coordinates to formula, then you&#39;ll get something like\r\n\r\n    y = k*x + b; // k and b - numbers\r\nThen, any point which will satisfy this equation, will lie on your line. \r\nTo check that `C(x, y)` is between `A(x1, y1)` and `B(x2, y2)`, check this: `(x1&lt;x&lt;x2 &amp;&amp; y1&lt;y&lt;y2) || (x1&gt;x&gt;x2 &amp;&amp; y1&gt;y&gt;y2)`.\r\n\r\n**Example**\r\n\r\n    A(2,3) B(6,5)\r\n\r\nThe equation of line:\r\n\r\n    (y - 3)/(5 - 3) = (x - 2)/(6 - 2)\r\n    (y - 3)/2 = (x - 2)/4\r\n    4*(y - 3) = 2*(x - 2)\r\n    4y - 12 = 2x - 4\r\n    4y = 2x + 8\r\n    y = 1/2 * x + 2; // equation of line. k = 1/2, b = 2;\r\nLet&#39;s check if `C(4,4)` lies on this line.\r\n\r\n    2&lt;4&lt;6 &amp; 3&lt;4&lt;5 // C between A and B\r\nNow put C coordinates to equation:\r\n\r\n    4 = 1/2 * 4 + 2\r\n    4 = 2 + 2 // equal, C is on line AB\r\n\r\n**PS:** as @paxdiablo wrote, you need to check if line is horizontal or vertical before calculating. Just check \r\n\r\n    y1 == y2 || x1 == x2","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p><strong>ATTENTION! Math-only!</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/rmOxu.gif\" alt=\"Try this!\"></p>\n\n<p>You can try this formula. Put your <code>A(x1, y1)</code> and <code>B(x2, y2)</code> coordinates to formula, then you'll get something like</p>\n\n<pre><code>y = k*x + b; // k and b - numbers\n</code></pre>\n\n<p>Then, any point which will satisfy this equation, will lie on your line. \nTo check that <code>C(x, y)</code> is between <code>A(x1, y1)</code> and <code>B(x2, y2)</code>, check this: <code>(x1&lt;x&lt;x2 &amp;&amp; y1&lt;y&lt;y2) || (x1&gt;x&gt;x2 &amp;&amp; y1&gt;y&gt;y2)</code>.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>A(2,3) B(6,5)\n</code></pre>\n\n<p>The equation of line:</p>\n\n<pre><code>(y - 3)/(5 - 3) = (x - 2)/(6 - 2)\n(y - 3)/2 = (x - 2)/4\n4*(y - 3) = 2*(x - 2)\n4y - 12 = 2x - 4\n4y = 2x + 8\ny = 1/2 * x + 2; // equation of line. k = 1/2, b = 2;\n</code></pre>\n\n<p>Let's check if <code>C(4,4)</code> lies on this line.</p>\n\n<pre><code>2&lt;4&lt;6 &amp; 3&lt;4&lt;5 // C between A and B\n</code></pre>\n\n<p>Now put C coordinates to equation:</p>\n\n<pre><code>4 = 1/2 * 4 + 2\n4 = 2 + 2 // equal, C is on line AB\n</code></pre>\n\n<p><strong>PS:</strong> as @paxdiablo wrote, you need to check if line is horizontal or vertical before calculating. Just check </p>\n\n<pre><code>y1 == y2 || x1 == x2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1685193214,"creation_date":1374045831,"answer_id":17693639,"question_id":17692922,"body_markdown":"If you just want to check whether the point C is on the *infinite* line passing through the points A and B (rather than check whether C is on the line *segment* from A to B, i.e. C is also between them), the simplest implementation is:\r\n\r\n    // Are a, b and c on the same line?\r\n    public static boolean inLine(Point a, Point b, Point c) {\r\n       return (a.x - c.x)*(c.y - b.y) == (c.x - b.x)*(a.y - c.y);\r\n    }\r\n\r\nThis is morally equivalent to checking that gradient(A, C) == gradient(C, B), but rearranged to use multiplication instead of division to avoid divide-by-zero when one of the gradients is vertical (also, it gives exact results if using integers).\r\n\r\nIt is equivalent to checking that the [cross product](https://en.wikipedia.org/wiki/Cross_product#Computational_geometry) of (A - C) and (C - B) is equal to 0. The property of three points being on the same line is known as [collinearity](https://en.wikipedia.org/wiki/Collinearity).\r\n\r\nNote: there is a different test to see if C appears on the line between A and B if you draw it on a screen. Maths assumes that A, B, C are infinitely small points.\r\n","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>If you just want to check whether the point C is on the <em>infinite</em> line passing through the points A and B (rather than check whether C is on the line <em>segment</em> from A to B, i.e. C is also between them), the simplest implementation is:</p>\n<pre><code>// Are a, b and c on the same line?\npublic static boolean inLine(Point a, Point b, Point c) {\n   return (a.x - c.x)*(c.y - b.y) == (c.x - b.x)*(a.y - c.y);\n}\n</code></pre>\n<p>This is morally equivalent to checking that gradient(A, C) == gradient(C, B), but rearranged to use multiplication instead of division to avoid divide-by-zero when one of the gradients is vertical (also, it gives exact results if using integers).</p>\n<p>It is equivalent to checking that the <a href=\"https://en.wikipedia.org/wiki/Cross_product#Computational_geometry\" rel=\"nofollow noreferrer\">cross product</a> of (A - C) and (C - B) is equal to 0. The property of three points being on the same line is known as <a href=\"https://en.wikipedia.org/wiki/Collinearity\" rel=\"nofollow noreferrer\">collinearity</a>.</p>\n<p>Note: there is a different test to see if C appears on the line between A and B if you draw it on a screen. Maths assumes that A, B, C are infinitely small points.</p>\n"},{"tags":[],"owner":{"account_id":11551816,"reputation":59,"user_id":8464196,"display_name":"CS Venkat"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1502743720,"creation_date":1502743720,"answer_id":45682824,"question_id":17692922,"body_markdown":"The above answers are unnecessarily complicated. The simplest is as follows. \r\n\r\n1. if (x-x1)/(x2-x1) = (y-y1)/(y2-y1) = alpha (a constant), then the point C(x,y) will lie on the line between pts 1 &amp; 2.\r\n\r\n2. If alpha &lt; 0.0, then C is exterior to point 1.\r\n3. If alpha &gt; 1.0, then C is exterior to point 2.\r\n4. Finally if alpha = [0,1.0], then C is interior to 1 &amp; 2.\r\n\r\nHope this answer helps. ","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>The above answers are unnecessarily complicated. The simplest is as follows. </p>\n\n<ol>\n<li><p>if (x-x1)/(x2-x1) = (y-y1)/(y2-y1) = alpha (a constant), then the point C(x,y) will lie on the line between pts 1 &amp; 2.</p></li>\n<li><p>If alpha &lt; 0.0, then C is exterior to point 1.</p></li>\n<li>If alpha > 1.0, then C is exterior to point 2.</li>\n<li>Finally if alpha = [0,1.0], then C is interior to 1 &amp; 2.</li>\n</ol>\n\n<p>Hope this answer helps. </p>\n"},{"tags":[],"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526899715,"creation_date":1526423598,"answer_id":50360045,"question_id":17692922,"body_markdown":"I think all the methods here have a pitfall, in that they are not dealing with rounding errors as rigorously as they could. Basically the methods described will tell you if your point is close enough to the line using some straightforward algorithm and that it will be more or less precise. \r\n\r\nWhy precision is important? Because it&#39;s the very problem presented by op. For a computer program there is no such thing as a point on a line, there is only point within an epsilon of a line and what that epsilon is needs to be documented.\r\n\r\nLet&#39;s illustrate the problem. Using the distance comparison algorithm: \r\n\r\nLet&#39;s say a segment goes from (0, 0) to (0, 2000), we are using floats in our application (which have around 7 decimal places of precision) and we test whether a point on (1E-6, 1000) is on the line or not.\r\n\r\nThe distance from either end of the segment to the point is 1000.0000000005 or 1000 + 5E-10, and, thus, the difference with the addition of the distance to and from the point is around 1E-9. But none of those values can be stored on a float with enough precission and the method will return `true`.\r\n\r\nIf we use a more precise method like calculating the distance to the closest point in the line, it returns a value that a float has enough precision to store and we could return false depending on the acceptable epsilon.\r\n\r\nI used floats in the example but the same applies to any floating point type such as double.\r\n\r\nOne solution is to use BigDecimal and whichever method you want if incurring in performance and memory hit is not an issue.\r\n\r\nA more precise method than comparing distances for floating points, and, more importantly, **consistently** precise, although at a higher computational cost, is calculating the distance to the closest point in the line.\r\n\r\nhttps://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment\r\n\r\nIt looks like I&#39;m splitting hairs but I had to deal with this problem before. It&#39;s an issue when chaining geometric operations. If you don&#39;t control what kind of precission loss you are dealing with, eventually you will run into difficult bugs that will force you to reason rigorously about the code in order to fix them.","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>I think all the methods here have a pitfall, in that they are not dealing with rounding errors as rigorously as they could. Basically the methods described will tell you if your point is close enough to the line using some straightforward algorithm and that it will be more or less precise. </p>\n\n<p>Why precision is important? Because it's the very problem presented by op. For a computer program there is no such thing as a point on a line, there is only point within an epsilon of a line and what that epsilon is needs to be documented.</p>\n\n<p>Let's illustrate the problem. Using the distance comparison algorithm: </p>\n\n<p>Let's say a segment goes from (0, 0) to (0, 2000), we are using floats in our application (which have around 7 decimal places of precision) and we test whether a point on (1E-6, 1000) is on the line or not.</p>\n\n<p>The distance from either end of the segment to the point is 1000.0000000005 or 1000 + 5E-10, and, thus, the difference with the addition of the distance to and from the point is around 1E-9. But none of those values can be stored on a float with enough precission and the method will return <code>true</code>.</p>\n\n<p>If we use a more precise method like calculating the distance to the closest point in the line, it returns a value that a float has enough precision to store and we could return false depending on the acceptable epsilon.</p>\n\n<p>I used floats in the example but the same applies to any floating point type such as double.</p>\n\n<p>One solution is to use BigDecimal and whichever method you want if incurring in performance and memory hit is not an issue.</p>\n\n<p>A more precise method than comparing distances for floating points, and, more importantly, <strong>consistently</strong> precise, although at a higher computational cost, is calculating the distance to the closest point in the line.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment\">Shortest distance between a point and a line segment</a></p>\n\n<p>It looks like I'm splitting hairs but I had to deal with this problem before. It's an issue when chaining geometric operations. If you don't control what kind of precission loss you are dealing with, eventually you will run into difficult bugs that will force you to reason rigorously about the code in order to fix them.</p>\n"},{"tags":[],"owner":{"account_id":13580766,"reputation":21,"user_id":9796848,"display_name":"Antoine C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533322801,"creation_date":1533322801,"answer_id":51678642,"question_id":17692922,"body_markdown":"An easy way to do that I believe would be the check the angle formed by the 3 points. \r\nIf the angle ACB is 180 degrees (or close to it,depending on how accurate you want to be) then the point C is between A and B.","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>An easy way to do that I believe would be the check the angle formed by the 3 points. \nIf the angle ACB is 180 degrees (or close to it,depending on how accurate you want to be) then the point C is between A and B.</p>\n"},{"tags":[],"owner":{"account_id":7701411,"reputation":1,"user_id":5833836,"display_name":"RobotFriend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590669330,"creation_date":1590668611,"answer_id":62064627,"question_id":17692922,"body_markdown":"    def DistBetwPoints(p1, p2):\r\n        return math.sqrt( (p2[0] - p1[0])**2 + (p2[1] - p1[1])**2 )\r\n\r\n    # &quot;Check if point C is between line endpoints A and B&quot;\r\n    def PointBetwPoints(A, B, C):\r\n        dist_line_endp = DistBetwPoints(A,B)\r\n        if DistBetwPoints(A,C)&gt;dist_line_endp:       return 1\r\n        elif DistBetwPoints(B,C)&gt;dist_line_endp:     return 1\r\n        else:                                        return 0","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<pre><code>def DistBetwPoints(p1, p2):\n    return math.sqrt( (p2[0] - p1[0])**2 + (p2[1] - p1[1])**2 )\n\n# \"Check if point C is between line endpoints A and B\"\ndef PointBetwPoints(A, B, C):\n    dist_line_endp = DistBetwPoints(A,B)\n    if DistBetwPoints(A,C)&gt;dist_line_endp:       return 1\n    elif DistBetwPoints(B,C)&gt;dist_line_endp:     return 1\n    else:                                        return 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6637936,"reputation":521,"user_id":5124575,"display_name":"Tom&#225;š Růžička"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607093955,"creation_date":1607093955,"answer_id":65145818,"question_id":17692922,"body_markdown":"I think this might help\r\n\r\nhttps://stackoverflow.com/questions/11907947/how-to-check-if-a-point-lies-on-a-line-between-2-other-points\r\n\r\nThat solution uses only integers given you only provide integers which removes some pitfalls as well","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>I think this might help</p>\n<p><a href=\"https://stackoverflow.com/questions/11907947/how-to-check-if-a-point-lies-on-a-line-between-2-other-points\">How to check if a point lies on a line between 2 other points</a></p>\n<p>That solution uses only integers given you only provide integers which removes some pitfalls as well</p>\n"},{"tags":[],"owner":{"account_id":13958109,"reputation":449,"user_id":10079909,"display_name":"Richard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618772370,"creation_date":1618772370,"answer_id":67152336,"question_id":17692922,"body_markdown":"Here is my C# solution. I believe the Java equivalent will be almost identical.\r\n\r\nNotes:\r\n1. Method will only return true if the point is within the bounds of the line (it does not assume an infinite line).\r\n2. It will handle vertical or horizontal lines.\r\n3. It calculates the distance of the point being checked from the line so allows a tolerance to be passed to the method.\r\n\r\n\r\n        /// &lt;summary&gt;\r\n        /// Check if Point C is on the line AB\r\n        /// &lt;/summary&gt;\r\n        public static bool IsOnLine(Point A, Point B, Point C, double tolerance)\r\n        {\r\n            double minX = Math.Min(A.X, B.X) - tolerance;\r\n            double maxX = Math.Max(A.X, B.X) + tolerance;\r\n            double minY = Math.Min(A.Y, B.Y) - tolerance;\r\n            double maxY = Math.Max(A.Y, B.Y) + tolerance;\r\n            \r\n            //Check C is within the bounds of the line\r\n            if (C.X &gt;= maxX || C.X &lt;= minX || C.Y &lt;= minY || C.Y &gt;= maxY)\r\n            {\r\n                return false;\r\n            }\r\n\r\n            // Check for when AB is vertical\r\n            if (A.X == B.X)\r\n            {\r\n                if (Math.Abs(A.X - C.X) &gt;= tolerance)\r\n                {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            // Check for when AB is horizontal\r\n            if (A.Y == B.Y)\r\n            {\r\n                if (Math.Abs(A.Y - C.Y) &gt;= tolerance)\r\n                {\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n\r\n            // Check istance of the point form the line\r\n            double distFromLine = Math.Abs(((B.X - A.X)*(A.Y - C.Y))-((A.X - C.X)*(B.Y - A.Y))) / Math.Sqrt((B.X - A.X) * (B.X - A.X) + (B.Y - A.Y) * (B.Y - A.Y));\r\n            \r\n            if (distFromLine &gt;= tolerance)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return true;\r\n            }\r\n        }","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>Here is my C# solution. I believe the Java equivalent will be almost identical.</p>\n<p>Notes:</p>\n<ol>\n<li><p>Method will only return true if the point is within the bounds of the line (it does not assume an infinite line).</p>\n</li>\n<li><p>It will handle vertical or horizontal lines.</p>\n</li>\n<li><p>It calculates the distance of the point being checked from the line so allows a tolerance to be passed to the method.</p>\n<pre><code> /// &lt;summary&gt;\n /// Check if Point C is on the line AB\n /// &lt;/summary&gt;\n public static bool IsOnLine(Point A, Point B, Point C, double tolerance)\n {\n     double minX = Math.Min(A.X, B.X) - tolerance;\n     double maxX = Math.Max(A.X, B.X) + tolerance;\n     double minY = Math.Min(A.Y, B.Y) - tolerance;\n     double maxY = Math.Max(A.Y, B.Y) + tolerance;\n\n     //Check C is within the bounds of the line\n     if (C.X &gt;= maxX || C.X &lt;= minX || C.Y &lt;= minY || C.Y &gt;= maxY)\n     {\n         return false;\n     }\n\n     // Check for when AB is vertical\n     if (A.X == B.X)\n     {\n         if (Math.Abs(A.X - C.X) &gt;= tolerance)\n         {\n             return false;\n         }\n         return true;\n     }\n\n     // Check for when AB is horizontal\n     if (A.Y == B.Y)\n     {\n         if (Math.Abs(A.Y - C.Y) &gt;= tolerance)\n         {\n             return false;\n         }\n         return true;\n     }\n\n\n     // Check istance of the point form the line\n     double distFromLine = Math.Abs(((B.X - A.X)*(A.Y - C.Y))-((A.X - C.X)*(B.Y - A.Y))) / Math.Sqrt((B.X - A.X) * (B.X - A.X) + (B.Y - A.Y) * (B.Y - A.Y));\n\n     if (distFromLine &gt;= tolerance)\n     {\n         return false;\n     }\n     else\n     {\n         return true;\n     }\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7285619,"reputation":4502,"user_id":5553768,"accept_rate":80,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624540800,"creation_date":1624539745,"answer_id":68116337,"question_id":17692922,"body_markdown":"Here is a JavaScript function I made. You pass it three points (three objects with an x and y property). Points 1 and 2 define your line, and point 3 is the point you are testing.\r\n\r\nYou will receive an object back with some useful info:\r\n\r\n* `on_projected_line` - If `pt3` lies anywhere on the line including outside the points.\r\n* `on_line` - If `pt3` lies on the line and between or on `pt1` and `pt2`.\r\n* `x_between` - If `pt3` is between or on the x bounds.\r\n* `y_between` - If `pt3` is between or on the y bounds.\r\n* `between` - If `x_between` and `y_between` are both true.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    /**\r\n     * @description Check if pt3 is on line defined by pt1 and pt2.\r\n     * @param {Object} pt1 The first point defining the line.\r\n     * @param {float} pt1.x\r\n     * @param {float} pt1.y\r\n     * @param {Object} pt2 The second point defining the line.\r\n     * @param {float} pt2.x\r\n     * @param {float} pt2.y\r\n     * @param {Object} pt3 The point to test.\r\n     * @param {float} pt3.x\r\n     * @param {float} pt3.y\r\n     */\r\n    function pointOnLine(pt1, pt2, pt3) {\r\n    \tconst result = {\r\n    \t\ton_projected_line: true,\r\n    \t\ton_line: false,\r\n    \t\tbetween_both: false,\r\n    \t\tbetween_x: false,\r\n    \t\tbetween_y: false,\r\n    \t};\r\n\r\n    \t// Determine if on line interior or exterior\r\n    \tconst x = (pt3.x - pt1.x) / (pt2.x - pt1.x);\r\n    \tconst y = (pt3.y - pt1.y) / (pt2.y - pt1.y);\r\n\r\n    \t// Check if on line equation\r\n    \tresult.on_projected_line = x === y;\r\n\r\n    \t// Check within x bounds\r\n    \tif (\r\n    \t\t(pt1.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt2.x) ||\r\n    \t\t(pt2.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt1.x)\r\n    \t) {\r\n    \t\tresult.between_x = true;\r\n    \t}\r\n\r\n    \t// Check within y bounds\r\n    \tif (\r\n    \t\t(pt1.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt2.y) ||\r\n    \t\t(pt2.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt1.y)\r\n    \t) {\r\n    \t\tresult.between_y = true;\r\n    \t}\r\n\r\n    \tresult.between_both = result.between_x &amp;&amp; result.between_y;\r\n    \tresult.on_line = result.on_projected_line &amp;&amp; result.between_both;\r\n    \treturn result;\r\n    }\r\n\r\n    console.log(&quot;pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2})&quot;)\r\n    console.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2}))\r\n\r\n    console.log(&quot;pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5})&quot;)\r\n    console.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5}))\r\n\r\n\r\n&lt;!-- end snippet --&gt;","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>Here is a JavaScript function I made. You pass it three points (three objects with an x and y property). Points 1 and 2 define your line, and point 3 is the point you are testing.</p>\n<p>You will receive an object back with some useful info:</p>\n<ul>\n<li><code>on_projected_line</code> - If <code>pt3</code> lies anywhere on the line including outside the points.</li>\n<li><code>on_line</code> - If <code>pt3</code> lies on the line and between or on <code>pt1</code> and <code>pt2</code>.</li>\n<li><code>x_between</code> - If <code>pt3</code> is between or on the x bounds.</li>\n<li><code>y_between</code> - If <code>pt3</code> is between or on the y bounds.</li>\n<li><code>between</code> - If <code>x_between</code> and <code>y_between</code> are both true.</li>\n</ul>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/**\n * @description Check if pt3 is on line defined by pt1 and pt2.\n * @param {Object} pt1 The first point defining the line.\n * @param {float} pt1.x\n * @param {float} pt1.y\n * @param {Object} pt2 The second point defining the line.\n * @param {float} pt2.x\n * @param {float} pt2.y\n * @param {Object} pt3 The point to test.\n * @param {float} pt3.x\n * @param {float} pt3.y\n */\nfunction pointOnLine(pt1, pt2, pt3) {\n    const result = {\n        on_projected_line: true,\n        on_line: false,\n        between_both: false,\n        between_x: false,\n        between_y: false,\n    };\n\n    // Determine if on line interior or exterior\n    const x = (pt3.x - pt1.x) / (pt2.x - pt1.x);\n    const y = (pt3.y - pt1.y) / (pt2.y - pt1.y);\n\n    // Check if on line equation\n    result.on_projected_line = x === y;\n\n    // Check within x bounds\n    if (\n        (pt1.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt2.x) ||\n        (pt2.x &lt;= pt3.x &amp;&amp; pt3.x &lt;= pt1.x)\n    ) {\n        result.between_x = true;\n    }\n\n    // Check within y bounds\n    if (\n        (pt1.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt2.y) ||\n        (pt2.y &lt;= pt3.y &amp;&amp; pt3.y &lt;= pt1.y)\n    ) {\n        result.between_y = true;\n    }\n\n    result.between_both = result.between_x &amp;&amp; result.between_y;\n    result.on_line = result.on_projected_line &amp;&amp; result.between_both;\n    return result;\n}\n\nconsole.log(\"pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2})\")\nconsole.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 2, y: 2}))\n\nconsole.log(\"pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5})\")\nconsole.log(pointOnLine({x: 0, y: 0}, {x: 1, y: 1}, {x: 0.5, y: 0.5}))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":26310378,"reputation":11,"user_id":19973989,"display_name":"KUSHAL GHOSH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667295723,"creation_date":1667294838,"answer_id":74273831,"question_id":17692922,"body_markdown":"    if ( (ymid - y1) * (x2-x1) == (xmid - x1) * (y2-y1) )  **is true, Z lies on line AB**\r\n\r\nStart Point : A (x1, y1),  \r\nEnd Point : B (x2, y2),  \r\nPoint That is on Line AB or Not : Z (xmid, ymid)\r\n\r\nI just condensed everyone&#39;s answers and this formula works the best for me.\r\n1) It avoids division by zero\r\n2) No distance calculation required\r\n3) Simple to implement\r\n\r\n**Edit:** In case you are dealing with floats, which you most probably are,\r\nuse this:\r\n\r\n       if( (ymid - y1) * (x2-x1) - (xmid - x1) * (y2-y1) &lt; DELTA )\r\n\r\nwhere the tolerance DELTA is a value close to zero.\r\nI usually set it to 0.05","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<pre><code>if ( (ymid - y1) * (x2-x1) == (xmid - x1) * (y2-y1) )  **is true, Z lies on line AB**\n</code></pre>\n<p>Start Point : A (x1, y1),<br />\nEnd Point : B (x2, y2),<br />\nPoint That is on Line AB or Not : Z (xmid, ymid)</p>\n<p>I just condensed everyone's answers and this formula works the best for me.</p>\n<ol>\n<li>It avoids division by zero</li>\n<li>No distance calculation required</li>\n<li>Simple to implement</li>\n</ol>\n<p><strong>Edit:</strong> In case you are dealing with floats, which you most probably are,\nuse this:</p>\n<pre><code>   if( (ymid - y1) * (x2-x1) - (xmid - x1) * (y2-y1) &lt; DELTA )\n</code></pre>\n<p>where the tolerance DELTA is a value close to zero.\nI usually set it to 0.05</p>\n"},{"tags":[],"owner":{"account_id":16933612,"reputation":707,"user_id":12247212,"display_name":"Natheeshkumar Rangasamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694509831,"creation_date":1694509831,"answer_id":77087649,"question_id":17692922,"body_markdown":"One good library is available for this by turfjs.\r\n\r\n```\r\nvar pt = turf.point([0, 0]);\r\nvar line = turf.lineString([[-1, -1],[1, 1],[1.5, 2.2]]);\r\nvar isPointOnLine = turf.booleanPointOnLine(pt, line);\r\n```\r\n\r\nIf you want to reduce the accuracy use `epsilon` option\r\n\r\n```\r\nturf.booleanPointOnLine([c1, c2], turf.lineString([[x1, y1], [x2, y2]]), {epsilon: 10}))\r\n\r\n```\r\n\r\nHope this is helpful\r\n\r\nhttps://turfjs.org/docs/#booleanPointOnLine","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>One good library is available for this by turfjs.</p>\n<pre><code>var pt = turf.point([0, 0]);\nvar line = turf.lineString([[-1, -1],[1, 1],[1.5, 2.2]]);\nvar isPointOnLine = turf.booleanPointOnLine(pt, line);\n</code></pre>\n<p>If you want to reduce the accuracy use <code>epsilon</code> option</p>\n<pre><code>turf.booleanPointOnLine([c1, c2], turf.lineString([[x1, y1], [x2, y2]]), {epsilon: 10}))\n\n</code></pre>\n<p>Hope this is helpful</p>\n<p><a href=\"https://turfjs.org/docs/#booleanPointOnLine\" rel=\"nofollow noreferrer\">https://turfjs.org/docs/#booleanPointOnLine</a></p>\n"}],"owner":{"account_id":2353049,"reputation":681,"user_id":2061477,"accept_rate":17,"display_name":"Usman Mahmood"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91333,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"answer_count":12,"score":59,"last_activity_date":1694509831,"creation_date":1374043481,"question_id":17692922,"body_markdown":"I have drawn a line between two points A(x,y)---B(x,y)\r\nNow I have a third point C(x,y). I want to know that if C lies on the line which is  drawn between A and B. \r\nI want to do it in java language. I have found couple of answers similar to this. But, all have some problems and no one is perfect.\r\n","title":"Check is a point (x,y) is between two points drawn on a straight line","body":"<p>I have drawn a line between two points A(x,y)---B(x,y)\nNow I have a third point C(x,y). I want to know that if C lies on the line which is  drawn between A and B. \nI want to do it in java language. I have found couple of answers similar to this. But, all have some problems and no one is perfect.</p>\n"},{"tags":["java","rest","multipartform-data","api-design"],"owner":{"account_id":16145483,"reputation":41,"user_id":11721167,"display_name":"pvncoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694509635,"creation_date":1694493378,"question_id":77086142,"body_markdown":"I have an API developed in Java 20 and Jakarta EE 10 with the Wildfly server. In this API, I can create multiple `BatchTechnicalRecordAttachments` at once. Each `BatchTechnicalRecordAttachment` is associated with both an `Attachment` and a `BatchTechnicalRecord`.\r\n\r\nWhen receiving the data, I know that each file is associated with a `BatchTechnicalRecord` because the `key` corresponds to the `id` of the `BatchTechnicalRecord`. Then, on the server, I process and save the file for the respective `BatchTechnicalRecord`.\r\n\r\nHere&#39;s an example of the data sent:\r\n[![Postman Example](https://i.stack.imgur.com/VHnvV.png)](https://i.stack.imgur.com/VHnvV.png)\r\n\r\nThe problem is as follows: I want to return the data in the `multipart/form-data` format as well. However, based on the example above, if I send 3 attachments for `BatchTechnicalRecord` with ID 1 and 1 attachment for `BatchTechnicalRecord` with ID 2, how can I return the `BatchTechnicalRecordAttachment ID` that was created along with the existing `BatchTechnicalRecord ID`?\r\n\r\nOne of the solutions I explored was to return the `key` as a JSON object, which would contain both the `idBatchTechnicalRecord` and the `idBatchTechnicalRecordAttachment` (created on the server) like this:\r\n[![Postman Response Example](https://i.stack.imgur.com/hbrS6.png)](https://i.stack.imgur.com/hbrS6.png)\r\n\r\nHowever, I&#39;m uncertain if this approach aligns with best practices for such scenarios.\r\n\r\nAnother solution I considered was to modify the endpoint to accept only one `BatchTechnicalRecord` request at a time. This would result in a URL structure like: `/api/batches/technical-records/{ID_BATCH_TECHNICAL_RECORD}/attachments`. This solution would require the consuming client to make separate requests for each record.\r\n\r\nI&#39;d appreciate insights and advice on whether these approaches are recommended or if there are alternative, more standard practices for handling this situation.","title":"How to Include Metadata for Individual Fields in a multipart/form-data Response?","body":"<p>I have an API developed in Java 20 and Jakarta EE 10 with the Wildfly server. In this API, I can create multiple <code>BatchTechnicalRecordAttachments</code> at once. Each <code>BatchTechnicalRecordAttachment</code> is associated with both an <code>Attachment</code> and a <code>BatchTechnicalRecord</code>.</p>\n<p>When receiving the data, I know that each file is associated with a <code>BatchTechnicalRecord</code> because the <code>key</code> corresponds to the <code>id</code> of the <code>BatchTechnicalRecord</code>. Then, on the server, I process and save the file for the respective <code>BatchTechnicalRecord</code>.</p>\n<p>Here's an example of the data sent:\n<a href=\"https://i.stack.imgur.com/VHnvV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VHnvV.png\" alt=\"Postman Example\" /></a></p>\n<p>The problem is as follows: I want to return the data in the <code>multipart/form-data</code> format as well. However, based on the example above, if I send 3 attachments for <code>BatchTechnicalRecord</code> with ID 1 and 1 attachment for <code>BatchTechnicalRecord</code> with ID 2, how can I return the <code>BatchTechnicalRecordAttachment ID</code> that was created along with the existing <code>BatchTechnicalRecord ID</code>?</p>\n<p>One of the solutions I explored was to return the <code>key</code> as a JSON object, which would contain both the <code>idBatchTechnicalRecord</code> and the <code>idBatchTechnicalRecordAttachment</code> (created on the server) like this:\n<a href=\"https://i.stack.imgur.com/hbrS6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbrS6.png\" alt=\"Postman Response Example\" /></a></p>\n<p>However, I'm uncertain if this approach aligns with best practices for such scenarios.</p>\n<p>Another solution I considered was to modify the endpoint to accept only one <code>BatchTechnicalRecord</code> request at a time. This would result in a URL structure like: <code>/api/batches/technical-records/{ID_BATCH_TECHNICAL_RECORD}/attachments</code>. This solution would require the consuming client to make separate requests for each record.</p>\n<p>I'd appreciate insights and advice on whether these approaches are recommended or if there are alternative, more standard practices for handling this situation.</p>\n"},{"tags":["java","android","sqlite","android-volley"],"comments":[{"owner":{"account_id":1207648,"reputation":10346,"user_id":1176870,"accept_rate":95,"display_name":"Chris Stillwell"},"score":0,"creation_date":1476111540,"post_id":39961086,"comment_id":67201982,"body_markdown":"You have a server error (ie outside your app). You will need to check the server logs for the root cause of the error then go from there. If you are looking to handle the error on Android you will need to check the status returned by the server.","body":"You have a server error (ie outside your app). You will need to check the server logs for the root cause of the error then go from there. If you are looking to handle the error on Android you will need to check the status returned by the server."},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":0,"creation_date":1476111933,"post_id":39961086,"comment_id":67202239,"body_markdown":"@ChrisStillwell I have added server log","body":"@ChrisStillwell I have added server log"},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":1,"creation_date":1476112720,"post_id":39961086,"comment_id":67202744,"body_markdown":"I am getting empty body on server, so this might me error from app","body":"I am getting empty body on server, so this might me error from app"},{"owner":{"account_id":1052925,"reputation":12537,"user_id":1056359,"accept_rate":92,"display_name":"thepoosh"},"score":0,"creation_date":1476113131,"post_id":39961086,"comment_id":67203018,"body_markdown":"HTTP.500 us a response code your server gives, not something generated by Volley","body":"HTTP.500 us a response code your server gives, not something generated by Volley"},{"owner":{"account_id":1207648,"reputation":10346,"user_id":1176870,"accept_rate":95,"display_name":"Chris Stillwell"},"score":0,"creation_date":1476113150,"post_id":39961086,"comment_id":67203034,"body_markdown":"Looks like your server is encountering a null. Are you sending all the values to your server that it requires?","body":"Looks like your server is encountering a null. Are you sending all the values to your server that it requires?"},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":0,"creation_date":1476113566,"post_id":39961086,"comment_id":67203335,"body_markdown":"Server is sending error because it is receiving the null value. @ChrisStillwell.. and yes I am sending all the required values.","body":"Server is sending error because it is receiving the null value. @ChrisStillwell.. and yes I am sending all the required values."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1476114239,"post_id":39961086,"comment_id":67203755,"body_markdown":"You have access to the server? Then check the `abc.js` file.","body":"You have access to the server? Then check the <code>abc.js</code> file."},{"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"score":0,"creation_date":1476114508,"post_id":39961086,"comment_id":67203909,"body_markdown":"I checked the abc.js file. No error in abc.js error and I also check from Postman with same data.","body":"I checked the abc.js file. No error in abc.js error and I also check from Postman with same data."}],"answers":[{"tags":[],"owner":{"account_id":4283400,"reputation":88,"user_id":3502049,"accept_rate":75,"display_name":"KrithGhosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476282330,"creation_date":1476282330,"answer_id":40001163,"question_id":39961086,"body_markdown":"The json body you are sending as string, try to send it as a json object. The server might be expecting a json object. Else there can be issue with the headers values. Check in postman whether the header that you are sending from there is same as what you are sending from the app.","title":"Getting com.android.volley.ServerError","body":"<p>The json body you are sending as string, try to send it as a json object. The server might be expecting a json object. Else there can be issue with the headers values. Check in postman whether the header that you are sending from there is same as what you are sending from the app.</p>\n"}],"owner":{"account_id":9282054,"reputation":89,"user_id":6893005,"accept_rate":30,"display_name":"Ankur Khandelwal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10016,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1694509565,"creation_date":1476111184,"question_id":39961086,"body_markdown":"PUT request using volley\r\n&lt;pre&gt;\r\nLog.i(&quot;JsonObject is&quot;,finaljsonData.toString());\r\nOutput:-\r\n\r\n{&quot;stats&quot;:[{&quot;med_id&quot;:1,&quot;med_name&quot;:&quot;Evening&quot;,&quot;start_date&quot;:1476107306168,&quot;end_date&quot;:1476193706168,&quot;adherence&quot;:{&quot;taken_on&quot;:[1476107704867],&quot;missed_on&quot;:[]}}]}\r\n&lt;/pre&gt;\r\nCode:\r\n\r\n        JsonObjectHeader customRequest=new JsonObjectHeader(Request.Method.PUT,url, finaljsonData, listener, errorListener);\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n        requestQueue.add(customRequest);\r\n\r\n\r\nAnd the JsonObjectHeader class is:-\r\n\r\n    public class JsonObjectHeader extends JsonRequest&lt;JSONObject&gt; {\r\n    \r\n        public JsonObjectHeader(int method, String url, String requestBody, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\r\n            super(method, url, requestBody, listener, errorListener);\r\n        }\r\n    \r\n        public JsonObjectHeader(String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener,\r\n                                Response.ErrorListener errorListener) {\r\n            this(jsonRequest == null ? Method.GET : Method.POST, url, jsonRequest,\r\n                    listener, errorListener);\r\n        }\r\n    \r\n        public JsonObjectHeader(int method, String url, JSONObject jsonRequest,\r\n                                Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\r\n            super(method, url, (jsonRequest == null) ? null : jsonRequest.toString(), listener,\r\n                    errorListener);\r\n        }\r\n    \r\n        @Override\r\n        protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\r\n    \r\n            try {\r\n                Log.i(&quot;Response parse&quot;,&quot;Yes&quot;);\r\n                String jsonString = new String(response.data,\r\n                        HttpHeaderParser.parseCharset(response.headers));\r\n                Log.i(&quot;Json String&quot;,jsonString);\r\n                Log.i(&quot;Response Complete&quot;,response.toString());\r\n                Log.i(&quot;Response Data&quot;,response.data.toString());\r\n                return Response.success(new JSONObject(jsonString),\r\n                        HttpHeaderParser.parseCacheHeaders(response));\r\n            } catch (UnsupportedEncodingException e) {\r\n                return Response.error(new ParseError(e));\r\n            } catch (JSONException je) {\r\n                return Response.error(new ParseError(je));\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n            HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n            headers.put(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n            headers.put(&quot;x-access-token&quot;, Constants.getTokenDB());\r\n            return headers;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nLogCat OutPut:\r\n&lt;pre&gt;\r\n10-10 19:45:15.186 22355-22426/user.com.test2 E/Surface: getSlotFromBufferLocked: unknown buffer: 0x7f5ba7cac7e0\r\n10-10 19:45:15.797 22355-22650/user.com.test2 E/Volley: [198] BasicNetwork.performRequest: Unexpected response code 500 for url\r\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err: com.android.volley.ServerError\r\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:163)\r\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:112)\r\n&lt;/pre&gt;\r\n\r\n\r\nServer LogCat:-\r\n\r\n    {}\r\n    www-user-9 PUT /medstats 500 4.579 ms - 627\r\n    \r\n     TypeError: Cannot read property &#39;length&#39; of undefined\r\n    www-user-9     at /abc.js:390:12\r\n    www-user-9     at Layer.handle [as handle_request] (/xyz.js.js:95:5)\r\n    www-user-9     at next (/abc.js:131:13)\r\n    www-user-9     at /abc.js:61:5\r\n    www-user-9     at //abc.js:27:18\r\n    www-user-9     at nextTickCallbackWith0Args (node.js:420:9)\r\n    www-user-9     at process._tickDomainCallback (node.js:390:13)\r\n\r\n\r\n\r\nI have tried using PostMan. So it is working fine: so I think no server error","title":"Getting com.android.volley.ServerError","body":"<p>PUT request using volley</p>\n\n<pre>\nLog.i(\"JsonObject is\",finaljsonData.toString());\nOutput:-\n\n{\"stats\":[{\"med_id\":1,\"med_name\":\"Evening\",\"start_date\":1476107306168,\"end_date\":1476193706168,\"adherence\":{\"taken_on\":[1476107704867],\"missed_on\":[]}}]}\n</pre>\n\n<p>Code:</p>\n\n<pre><code>    JsonObjectHeader customRequest=new JsonObjectHeader(Request.Method.PUT,url, finaljsonData, listener, errorListener);\n    RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n    requestQueue.add(customRequest);\n</code></pre>\n\n<p>And the JsonObjectHeader class is:-</p>\n\n<pre><code>public class JsonObjectHeader extends JsonRequest&lt;JSONObject&gt; {\n\n    public JsonObjectHeader(int method, String url, String requestBody, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\n        super(method, url, requestBody, listener, errorListener);\n    }\n\n    public JsonObjectHeader(String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener,\n                            Response.ErrorListener errorListener) {\n        this(jsonRequest == null ? Method.GET : Method.POST, url, jsonRequest,\n                listener, errorListener);\n    }\n\n    public JsonObjectHeader(int method, String url, JSONObject jsonRequest,\n                            Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\n        super(method, url, (jsonRequest == null) ? null : jsonRequest.toString(), listener,\n                errorListener);\n    }\n\n    @Override\n    protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\n\n        try {\n            Log.i(\"Response parse\",\"Yes\");\n            String jsonString = new String(response.data,\n                    HttpHeaderParser.parseCharset(response.headers));\n            Log.i(\"Json String\",jsonString);\n            Log.i(\"Response Complete\",response.toString());\n            Log.i(\"Response Data\",response.data.toString());\n            return Response.success(new JSONObject(jsonString),\n                    HttpHeaderParser.parseCacheHeaders(response));\n        } catch (UnsupportedEncodingException e) {\n            return Response.error(new ParseError(e));\n        } catch (JSONException je) {\n            return Response.error(new ParseError(je));\n        }\n\n    }\n\n    @Override\n    public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n        HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n        headers.put(\"Content-Type\", \"application/json; charset=utf-8\");\n        headers.put(\"x-access-token\", Constants.getTokenDB());\n        return headers;\n\n    }\n\n}\n</code></pre>\n\n<p>LogCat OutPut:</p>\n\n<pre>\n10-10 19:45:15.186 22355-22426/user.com.test2 E/Surface: getSlotFromBufferLocked: unknown buffer: 0x7f5ba7cac7e0\n10-10 19:45:15.797 22355-22650/user.com.test2 E/Volley: [198] BasicNetwork.performRequest: Unexpected response code 500 for url\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err: com.android.volley.ServerError\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:163)\n10-10 19:45:15.798 22355-22355/user.com.test2 W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:112)\n</pre>\n\n<p>Server LogCat:-</p>\n\n<pre><code>{}\nwww-user-9 PUT /medstats 500 4.579 ms - 627\n\n TypeError: Cannot read property 'length' of undefined\nwww-user-9     at /abc.js:390:12\nwww-user-9     at Layer.handle [as handle_request] (/xyz.js.js:95:5)\nwww-user-9     at next (/abc.js:131:13)\nwww-user-9     at /abc.js:61:5\nwww-user-9     at //abc.js:27:18\nwww-user-9     at nextTickCallbackWith0Args (node.js:420:9)\nwww-user-9     at process._tickDomainCallback (node.js:390:13)\n</code></pre>\n\n<p>I have tried using PostMan. So it is working fine: so I think no server error</p>\n"},{"tags":["java","osgi","aem-6"],"answers":[{"tags":[],"owner":{"account_id":9862375,"reputation":416,"user_id":7304893,"display_name":"Sudheer Donaboina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568077154,"creation_date":1566922818,"answer_id":57678753,"question_id":57677618,"body_markdown":"I hope you have already created a service user and provided the required permissions. Along with the new system user, you have to map the user in the Sling Mapper Service. If the user is not mapped in the Sling Mapper Service, you will not be able to get the system user details and will not be able to track the events. If this is not done, you should be able to see errors in your log file when refreshing/restarting the bundle.\r\n\r\n&gt; Step by Step procedure for the requirement:\r\n&gt; \r\n&gt;  1. Create a system User\r\n&gt;  2. Provide the required permissions\r\n&gt;  3. Map the user in Sling Mapping Service\r\n&gt;  4. Install the Event Listener (Deploy the code)\r\n&gt;  5. Test the event changes\r\n\r\nFor more details on simple listener, you can refer to https://helpx.adobe.com/experience-manager/using/aem64_event_listener.html\r\n\r\n\r\nYou can refer to the sample below for listening the node addition or deletion \r\n\r\n&gt; https://github.com/sudheerdvn/aem-flash/blob/develop/core/src/main/java/com/flash/aem/core/listeners/SimpleEventListener.java\r\n\r\nIf you refer to Line 56: i have provided the path as &quot;/content&quot;, So all the events under **&quot;/content&quot;** will be listened in this listener, you can limit the listener by changing this path to limited set of folders.","title":"Track move operations on nodes over the entire repo","body":"<p>I hope you have already created a service user and provided the required permissions. Along with the new system user, you have to map the user in the Sling Mapper Service. If the user is not mapped in the Sling Mapper Service, you will not be able to get the system user details and will not be able to track the events. If this is not done, you should be able to see errors in your log file when refreshing/restarting the bundle.</p>\n\n<blockquote>\n  <p>Step by Step procedure for the requirement:</p>\n  \n  <ol>\n  <li>Create a system User</li>\n  <li>Provide the required permissions</li>\n  <li>Map the user in Sling Mapping Service</li>\n  <li>Install the Event Listener (Deploy the code)</li>\n  <li>Test the event changes</li>\n  </ol>\n</blockquote>\n\n<p>For more details on simple listener, you can refer to <a href=\"https://helpx.adobe.com/experience-manager/using/aem64_event_listener.html\" rel=\"nofollow noreferrer\">https://helpx.adobe.com/experience-manager/using/aem64_event_listener.html</a></p>\n\n<p>You can refer to the sample below for listening the node addition or deletion </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/sudheerdvn/aem-flash/blob/develop/core/src/main/java/com/flash/aem/core/listeners/SimpleEventListener.java\" rel=\"nofollow noreferrer\">https://github.com/sudheerdvn/aem-flash/blob/develop/core/src/main/java/com/flash/aem/core/listeners/SimpleEventListener.java</a></p>\n</blockquote>\n\n<p>If you refer to Line 56: i have provided the path as \"/content\", So all the events under <strong>\"/content\"</strong> will be listened in this listener, you can limit the listener by changing this path to limited set of folders.</p>\n"},{"tags":[],"owner":{"account_id":5450442,"reputation":350,"user_id":4335434,"display_name":"mahsum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568095696,"creation_date":1568095696,"answer_id":57864909,"question_id":57677618,"body_markdown":"I think the problem is that you didn&#39;t register to the appropriate events.\r\n\r\nTo my knowledge, It is not certain which kind of events will happen when you play with the nodes. You can use http://localhost:4502/system/console/events to see which events are happening in the system and register to the ones you are interested in. \r\n\r\nWhen I move /content/dam/asset.jpg to /content/dam/test/asset.jpg I see an event which you can use. Event details are as below:\r\n\r\n    Event Topic: org/apache/sling/event/notification/job/START\r\n    event.job.topic: com/adobe/cq/workflow/payload/move/job\r\n    payload.move.src.path: /content/dam/asset.jpg\r\n    payload.move.dest.path: /content/dam/test/asset.jpg\r\n","title":"Track move operations on nodes over the entire repo","body":"<p>I think the problem is that you didn't register to the appropriate events.</p>\n\n<p>To my knowledge, It is not certain which kind of events will happen when you play with the nodes. You can use <a href=\"http://localhost:4502/system/console/events\" rel=\"nofollow noreferrer\">http://localhost:4502/system/console/events</a> to see which events are happening in the system and register to the ones you are interested in. </p>\n\n<p>When I move /content/dam/asset.jpg to /content/dam/test/asset.jpg I see an event which you can use. Event details are as below:</p>\n\n<pre><code>Event Topic: org/apache/sling/event/notification/job/START\nevent.job.topic: com/adobe/cq/workflow/payload/move/job\npayload.move.src.path: /content/dam/asset.jpg\npayload.move.dest.path: /content/dam/test/asset.jpg\n</code></pre>\n"}],"owner":{"account_id":9503542,"reputation":47,"user_id":7063828,"accept_rate":75,"display_name":"Krups Solanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694509273,"creation_date":1566918357,"question_id":57677618,"body_markdown":"Track the node move operations over the whole repo.\r\nNode can be of anytype.\r\nNode Move operation may happen through the following options:\r\n1. Drag drop through crxde\r\n2. Move operations from damadmin or siteadmin\r\n\r\nCould anyone please guide on what events the move operation can be tracked. \r\n\r\nCreated a event listener to catch the node movement event.\r\nEvent type used are NODE_ADDED, NODE_MOVED, NODE_REMOVED.\r\nCreated a config mentioning the paths which the eventListner should read, to catch the move Event of nodes (e.g. /content , /content/dam, /apps/myproject, etc/myproject)\r\nBut unable to catch the event through the the above Events operations.\r\nWhen i move the node(anytype), the onEvent method is not called.\r\n\r\n\r\n\r\n    @Component(immediate = true, service = EventListener.class,\r\n            configurationPolicy = ConfigurationPolicy.REQUIRE)\r\n    public final class MoveEventListener implements EventListener {\r\n    \r\n        /* Config property to read paths */\r\n        private static final String REPO_PATH = &quot;content.rootpath&quot;;\r\n        private static final String LAST_MODIFIED_BY = &quot;cq:lastModifiedBy&quot;;\r\n    \r\n        @Reference\r\n        private ResourceResolverFactory resolverFactory;\r\n        private ResourceResolver resourceResolver;\r\n        private Session session;\r\n        private ObservationManager observationManager;\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(MoveEventListener.class);\r\n    \r\n        private String[] repoPaths;\r\n    \r\n        /**\r\n         * Activate method.\r\n         *\r\n         * @param context **ComponentContext**\r\n         */\r\n        @Activate\r\n        protected void activate(final ComponentContext context) {\r\n            try {\r\n                log.debug(&quot;Inside Activate Move Listener&quot;);\r\n                resourceResolver = ResourceResolverUtils.getResourceResolver(resolverFactory,\r\n                        GlobalConstants.SERVICE_ACCOUNT_MPASPRODUCTS_DISPATCHER_FLUSH);\r\n                session = resourceResolver.adaptTo(Session.class);\r\n                observationManager = session != null\r\n                        ? (session.getWorkspace() != null ? session.getWorkspace().getObservationManager() : null)\r\n                        : null;\r\n                repoPaths = (String[]) context.getProperties().get(REPO_PATH);\r\n    \r\n                final String[] types = {&quot;nt:unstructured&quot;, &quot;sling:Folder&quot;, &quot;sling:OrderedFolder&quot;, &quot;nt:folder&quot;, &quot;dam:Asset&quot;,\r\n                        &quot;cq:Page&quot;, &quot;cq:PageContent&quot;};\r\n                /* final String[] types = {DamConstants.NT_DAM_ASSETCONTENT, StringConstants.NT_UNSTRUCTURED,\r\n                        NameConstants.NT_PAGE, GlobalConstants.CQ_PAGECONTENT}; */\r\n    \r\n                if (repoPaths != null) {\r\n                    for (String path : repoPaths) {\r\n                        log.debug(&quot;Paths: &quot; + path);\r\n                        if (observationManager != null) {\r\n                            observationManager.addEventListener(this, Event.NODE_ADDED | Event.NODE_MOVED | Event.NODE_REMOVED,\r\n                                    path, true, null, types, false);\r\n                            log.debug(&quot;Observing movement of nodes under {}&quot;, Arrays.asList(types), path);\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(&quot;Error occured in {} activation &quot;, getClass(), e);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Deactivate method.\r\n         */\r\n        @Deactivate\r\n        protected void deactivate() {\r\n            if (resourceResolver != null) {\r\n                resourceResolver.close();\r\n            }\r\n            log.info(this + &quot; component - deactiviated&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Event handling class.\r\n         *\r\n         * @param events\r\n         */\r\n        @Override\r\n        public void onEvent(final EventIterator events) {\r\n            log.debug(&quot;Inside On event&quot;);\r\n            while (events.hasNext()) {\r\n                Event event = events.nextEvent();\r\n                if (event.getType() == Event.NODE_ADDED || event.getType() == Event.NODE_MOVED || event.getType() == Event.NODE_REMOVED) {\r\n                    log.debug(&quot;Event occured in {}&quot;, event.getType());\r\n                    try {\r\n                        String path = event.getPath();\r\n                        Resource resource = resourceResolver.getResource(path);\r\n                        if (resource != null) {\r\n                            ValueMap value = resource.adaptTo(ValueMap.class);\r\n                            if (value != null) {\r\n                                String lastModifiedBy = value.get(LAST_MODIFIED_BY, String.class);\r\n                                log.debug(path + &quot; &quot; + &quot;Node moved&quot; + &quot; last modified by: &quot;\r\n                                        + lastModifiedBy);\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        log.error(&quot;Error found while processing event: &quot;, e);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"Track move operations on nodes over the entire repo","body":"<p>Track the node move operations over the whole repo.\nNode can be of anytype.\nNode Move operation may happen through the following options:\n1. Drag drop through crxde\n2. Move operations from damadmin or siteadmin</p>\n\n<p>Could anyone please guide on what events the move operation can be tracked. </p>\n\n<p>Created a event listener to catch the node movement event.\nEvent type used are NODE_ADDED, NODE_MOVED, NODE_REMOVED.\nCreated a config mentioning the paths which the eventListner should read, to catch the move Event of nodes (e.g. /content , /content/dam, /apps/myproject, etc/myproject)\nBut unable to catch the event through the the above Events operations.\nWhen i move the node(anytype), the onEvent method is not called.</p>\n\n<pre><code>@Component(immediate = true, service = EventListener.class,\n        configurationPolicy = ConfigurationPolicy.REQUIRE)\npublic final class MoveEventListener implements EventListener {\n\n    /* Config property to read paths */\n    private static final String REPO_PATH = \"content.rootpath\";\n    private static final String LAST_MODIFIED_BY = \"cq:lastModifiedBy\";\n\n    @Reference\n    private ResourceResolverFactory resolverFactory;\n    private ResourceResolver resourceResolver;\n    private Session session;\n    private ObservationManager observationManager;\n\n    private static final Logger log = LoggerFactory.getLogger(MoveEventListener.class);\n\n    private String[] repoPaths;\n\n    /**\n     * Activate method.\n     *\n     * @param context **ComponentContext**\n     */\n    @Activate\n    protected void activate(final ComponentContext context) {\n        try {\n            log.debug(\"Inside Activate Move Listener\");\n            resourceResolver = ResourceResolverUtils.getResourceResolver(resolverFactory,\n                    GlobalConstants.SERVICE_ACCOUNT_MPASPRODUCTS_DISPATCHER_FLUSH);\n            session = resourceResolver.adaptTo(Session.class);\n            observationManager = session != null\n                    ? (session.getWorkspace() != null ? session.getWorkspace().getObservationManager() : null)\n                    : null;\n            repoPaths = (String[]) context.getProperties().get(REPO_PATH);\n\n            final String[] types = {\"nt:unstructured\", \"sling:Folder\", \"sling:OrderedFolder\", \"nt:folder\", \"dam:Asset\",\n                    \"cq:Page\", \"cq:PageContent\"};\n            /* final String[] types = {DamConstants.NT_DAM_ASSETCONTENT, StringConstants.NT_UNSTRUCTURED,\n                    NameConstants.NT_PAGE, GlobalConstants.CQ_PAGECONTENT}; */\n\n            if (repoPaths != null) {\n                for (String path : repoPaths) {\n                    log.debug(\"Paths: \" + path);\n                    if (observationManager != null) {\n                        observationManager.addEventListener(this, Event.NODE_ADDED | Event.NODE_MOVED | Event.NODE_REMOVED,\n                                path, true, null, types, false);\n                        log.debug(\"Observing movement of nodes under {}\", Arrays.asList(types), path);\n                    }\n                }\n            }\n        } catch (Exception e) {\n            log.error(\"Error occured in {} activation \", getClass(), e);\n        }\n    }\n\n    /**\n     * Deactivate method.\n     */\n    @Deactivate\n    protected void deactivate() {\n        if (resourceResolver != null) {\n            resourceResolver.close();\n        }\n        log.info(this + \" component - deactiviated\");\n    }\n\n    /**\n     * Event handling class.\n     *\n     * @param events\n     */\n    @Override\n    public void onEvent(final EventIterator events) {\n        log.debug(\"Inside On event\");\n        while (events.hasNext()) {\n            Event event = events.nextEvent();\n            if (event.getType() == Event.NODE_ADDED || event.getType() == Event.NODE_MOVED || event.getType() == Event.NODE_REMOVED) {\n                log.debug(\"Event occured in {}\", event.getType());\n                try {\n                    String path = event.getPath();\n                    Resource resource = resourceResolver.getResource(path);\n                    if (resource != null) {\n                        ValueMap value = resource.adaptTo(ValueMap.class);\n                        if (value != null) {\n                            String lastModifiedBy = value.get(LAST_MODIFIED_BY, String.class);\n                            log.debug(path + \" \" + \"Node moved\" + \" last modified by: \"\n                                    + lastModifiedBy);\n                        }\n                    }\n                } catch (Exception e) {\n                    log.error(\"Error found while processing event: \", e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1587671137,"post_id":61377162,"comment_id":108610734,"body_markdown":"Exceptions thrown by send are different to ones handled by retry. Producer client does actual sending in a separate background thread, and carries out retries without the thread that called send knowing about it. If retries are successful them send only finds out about success (if it waits for the asynchronous outcome). If retries are exhausted then there is an asynchronous failure response. Send will synchronously get an exception if the send buffer has filled up so there is no space to add any more messages (eg if all pending messages are being retried)","body":"Exceptions thrown by send are different to ones handled by retry. Producer client does actual sending in a separate background thread, and carries out retries without the thread that called send knowing about it. If retries are successful them send only finds out about success (if it waits for the asynchronous outcome). If retries are exhausted then there is an asynchronous failure response. Send will synchronously get an exception if the send buffer has filled up so there is no space to add any more messages (eg if all pending messages are being retried)"},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1587671211,"post_id":61377162,"comment_id":108610771,"body_markdown":"Not sure if the above helps but I think it is relevant to your question.","body":"Not sure if the above helps but I think it is relevant to your question."},{"owner":{"account_id":16984856,"reputation":73,"user_id":12285881,"display_name":"mmkk18"},"score":0,"creation_date":1587903407,"post_id":61377162,"comment_id":108686500,"body_markdown":"@Chris Thank you for that insight. Do you know then how i can verify if retries are happening...would that be logged in `server.log` or some other file?","body":"@Chris Thank you for that insight. Do you know then how i can verify if retries are happening...would that be logged in <code>server.log</code> or some other file?"},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1587908892,"post_id":61377162,"comment_id":108688672,"body_markdown":"Hi, server end wouldn&#39;t know about retries, it would be in client logs - maybe bump up the log level","body":"Hi, server end wouldn&#39;t know about retries, it would be in client logs - maybe bump up the log level"},{"owner":{"account_id":9288030,"reputation":762,"user_id":6897259,"display_name":"WeiHao"},"score":0,"creation_date":1597393653,"post_id":61377162,"comment_id":112123762,"body_markdown":"Is there a specific Exception when the retries exceeds the configured limit?","body":"Is there a specific Exception when the retries exceeds the configured limit?"}],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694509069,"creation_date":1694509069,"answer_id":77087545,"question_id":61377162,"body_markdown":"Regarding the &quot;potentially transient&quot; and &quot;permanent&quot; errors it&#39;s quite simple.\r\n\r\nPotentially transient ones are temporary errors that have a chance of resolving automatically within reasonable time: connection errors, temporary states (no leader for partition), etc.\r\n\r\nPermanent errors on the other hand are the ones that cannot be resolved with retries and most likely require a manual intervention: e.g. if a topic does not exist and is not auto-created then it&#39;ll require some external entity (such as a human) to create it.\r\n\r\nYou can find which errors are retriable for example here: https://kafka.apache.org/25/generated/protocol_errors.html \r\n\r\nRegarding the retires in the producer code, it looks like they are done on a different level.\r\nIf you trace the usage of `RETRIES_CONFIG` you&#39;ll see that `org.apache.kafka.clients.producer.KafkaProducer` passes that to create a `org.apache.kafka.clients.producer.internals.Sender` which is actually &quot;The background thread that handles the sending of produce requests to the Kafka cluster.&quot; It has the `canRetry()` method where the decision is made whether to retry the send or not.","title":"Kafka Producer: Understanding `retries` config param","body":"<p>Regarding the &quot;potentially transient&quot; and &quot;permanent&quot; errors it's quite simple.</p>\n<p>Potentially transient ones are temporary errors that have a chance of resolving automatically within reasonable time: connection errors, temporary states (no leader for partition), etc.</p>\n<p>Permanent errors on the other hand are the ones that cannot be resolved with retries and most likely require a manual intervention: e.g. if a topic does not exist and is not auto-created then it'll require some external entity (such as a human) to create it.</p>\n<p>You can find which errors are retriable for example here: <a href=\"https://kafka.apache.org/25/generated/protocol_errors.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/25/generated/protocol_errors.html</a></p>\n<p>Regarding the retires in the producer code, it looks like they are done on a different level.\nIf you trace the usage of <code>RETRIES_CONFIG</code> you'll see that <code>org.apache.kafka.clients.producer.KafkaProducer</code> passes that to create a <code>org.apache.kafka.clients.producer.internals.Sender</code> which is actually &quot;The background thread that handles the sending of produce requests to the Kafka cluster.&quot; It has the <code>canRetry()</code> method where the decision is made whether to retry the send or not.</p>\n"}],"owner":{"account_id":16984856,"reputation":73,"user_id":12285881,"display_name":"mmkk18"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694509069,"creation_date":1587600384,"question_id":61377162,"body_markdown":"Kafka Documentation for Producer Config parameter `retries` says that retry will happen for potentially transient errors.\r\n\r\n&gt;[Setting a value greater than zero will cause the client to resend any record whose send fails with a potentially transient error. Note that this retry is no different than if the client resent the record upon receiving the error. Allowing retries without setting max.in.flight.requests.per.connection to 1 will potentially change the ordering of records because if two batches are sent to a single partition, and the first fails and is retried but the second succeeds, then the records in the second batch may appear first. ](https://kafka.apache.org/20/documentation.html#producerconfigs)\r\n\r\n 1. What are these ***potentially transient errors***? What scenarios cause these &#39;transient errors&#39;?\r\n 2. In the source code, I see that there is a `RetriableException` Interface and `TimeoutException` implements it. But I have observed that retry does not happen for every timeout exception thrown by `send(ProducerRecord&lt;K,V&gt; record)` method of `org.apache.kafka.clients.producer`. So, what I am missing here ... Aren&#39;t all `RetriableException` retried when `retries` param is greater than 0?\r\n\r\n","title":"Kafka Producer: Understanding `retries` config param","body":"<p>Kafka Documentation for Producer Config parameter <code>retries</code> says that retry will happen for potentially transient errors.</p>\n\n<blockquote>\n  <p><a href=\"https://kafka.apache.org/20/documentation.html#producerconfigs\" rel=\"nofollow noreferrer\">Setting a value greater than zero will cause the client to resend any record whose send fails with a potentially transient error. Note that this retry is no different than if the client resent the record upon receiving the error. Allowing retries without setting max.in.flight.requests.per.connection to 1 will potentially change the ordering of records because if two batches are sent to a single partition, and the first fails and is retried but the second succeeds, then the records in the second batch may appear first. </a></p>\n</blockquote>\n\n<ol>\n<li>What are these <strong><em>potentially transient errors</em></strong>? What scenarios cause these 'transient errors'?</li>\n<li>In the source code, I see that there is a <code>RetriableException</code> Interface and <code>TimeoutException</code> implements it. But I have observed that retry does not happen for every timeout exception thrown by <code>send(ProducerRecord&lt;K,V&gt; record)</code> method of <code>org.apache.kafka.clients.producer</code>. So, what I am missing here ... Aren't all <code>RetriableException</code> retried when <code>retries</code> param is greater than 0?</li>\n</ol>\n"},{"tags":["java","jvm","compiler-optimization","jit","graalvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1694214575,"post_id":77067735,"comment_id":135866743,"body_markdown":"What problem are you trying to solve? What have you tried so far, what results do you see and what do you expect instead? Please [edit your question](https://stackoverflow.com/help/how-to-ask).","body":"What problem are you trying to solve? What have you tried so far, what results do you see and what do you expect instead? Please <a href=\"https://stackoverflow.com/help/how-to-ask\">edit your question</a>."},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1694318823,"post_id":77067735,"comment_id":135874487,"body_markdown":"@apangin Edited, thanks","body":"@apangin Edited, thanks"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1694381940,"post_id":77067735,"comment_id":135880157,"body_markdown":"What VM version do you run? (`java -version`)","body":"What VM version do you run? (<code>java -version</code>)"},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1694420116,"post_id":77067735,"comment_id":135883603,"body_markdown":"I&#39;m work with\n\n\n\n\njava 17.0.8 2023-07-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.8+9-LTS-211)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)","body":"I&#39;m work with     java 17.0.8 2023-07-18 LTS Java(TM) SE Runtime Environment (build 17.0.8+9-LTS-211) Java HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1694557708,"post_id":77067735,"comment_id":135906348,"body_markdown":"You are running OpenJDK HotSpot JVM, not GraalVM. Why not using GraalVM instead, which has everything you need out of the box?","body":"You are running OpenJDK HotSpot JVM, not GraalVM. Why not using GraalVM instead, which has everything you need out of the box?"},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1694595816,"post_id":77067735,"comment_id":135910688,"body_markdown":"I&#39;m running OpenJDK HotSpot JVM and using a a JVMCI (Graal JIT compiler)\n\n\n\nsomething like this \nhttps://github.com/graalvm/graal-js-jdk11-maven-demo","body":"I&#39;m running OpenJDK HotSpot JVM and using a a JVMCI (Graal JIT compiler)    something like this  <a href=\"https://github.com/graalvm/graal-js-jdk11-maven-demo\" rel=\"nofollow noreferrer\">github.com/graalvm/graal-js-jdk11-maven-demo</a>"}],"answers":[{"tags":[],"owner":{"account_id":13620499,"reputation":111,"user_id":10628628,"display_name":"Alina Yurenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694508816,"creation_date":1694508816,"answer_id":77087497,"question_id":77067735,"body_markdown":"Using Graal JIT to execute this code should not give you performance penalties, rather the opposite. You should just make sure you are indeed executing this code JIT compiled and not just interpreted, which would be much slower.\r\n\r\nOur general recommendation is to use the GraalVM JDK, which will give you the best performance and warmup. If for some reason you don’t want to use Graal JIT, you can always disable it with `-XX:-UseJVMCICompiler` which effectively gives you an OpenJDK setup.\r\n\r\nYour use case should become simpler with the changes we are making in the next release, it will be released next week.","title":"JVMCI JIT Compiler (Graal Compiler)","body":"<p>Using Graal JIT to execute this code should not give you performance penalties, rather the opposite. You should just make sure you are indeed executing this code JIT compiled and not just interpreted, which would be much slower.</p>\n<p>Our general recommendation is to use the GraalVM JDK, which will give you the best performance and warmup. If for some reason you don’t want to use Graal JIT, you can always disable it with <code>-XX:-UseJVMCICompiler</code> which effectively gives you an OpenJDK setup.</p>\n<p>Your use case should become simpler with the changes we are making in the next release, it will be released next week.</p>\n"}],"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77087497,"answer_count":1,"score":-1,"last_activity_date":1694508816,"creation_date":1694183243,"question_id":77067735,"body_markdown":"I have a Spring application that utilizes JavaScript scripts through ScriptEngine (the engine provided by graalvm https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/js/ScriptEngine/). I am considering enabling the Graal JIT compiler using JVMCI, but I&#39;m unsure about how this would impact my application&#39;s performance and whether it would be used exclusively for ScriptEngine or influence the entire application.\r\n\r\n\r\nhow I added the Graal JIT Compiler\r\n\r\n```\r\n&lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.10&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;copy&lt;/id&gt;\r\n                                &lt;phase&gt;process-test-classes&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;copy&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;artifactItems&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;compiler&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;compiler.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;compiler-management&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;compiler-management.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;truffle-api.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                        &lt;artifactItem&gt;\r\n                                            &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\r\n                                            &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\r\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                                            &lt;type&gt;jar&lt;/type&gt;\r\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                            &lt;destFileName&gt;graal-sdk.jar&lt;/destFileName&gt;\r\n                                        &lt;/artifactItem&gt;\r\n                                    &lt;/artifactItems&gt;\r\n                                    &lt;outputDirectory&gt;${compiler.dir}&lt;/outputDirectory&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;configuration&gt;\r\n                                    &lt;arguments&gt;\r\n                                        &lt;argument&gt;--module-path&lt;/argument&gt;\r\n                                        &lt;!-- automatically creates the modulepath using all project dependencies, also adding the project build directory --&gt;\r\n                                        &lt;modulepath/&gt;\r\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                                        &lt;!-- automatically creates the classpath using all project dependencies, also adding the project build directory --&gt;\r\n                                        &lt;classpath/&gt;\r\n                                        &lt;argument&gt;-XX:+UnlockExperimentalVMOptions&lt;/argument&gt;\r\n                                        &lt;argument&gt;-XX:+EnableJVMCI&lt;/argument&gt;\r\n                                        &lt;argument&gt;-XX:-UseJVMCICompiler&lt;/argument&gt;\r\n                                        &lt;argument&gt;--upgrade-module-path=${compiler.dir}/compiler.jar${path.separator}${compiler.dir}/compiler-management.jar&lt;/argument&gt;\r\n                                        &lt;argument&gt;org.benchmark.demo.Main&lt;/argument&gt;\r\n                                    &lt;/arguments&gt;\r\n                                &lt;/configuration&gt;\r\n```\r\n\r\n\r\nMy primary concerns are:\r\n\r\n1. If I enable the JIT compiler for Graal via JVMCI, will it exclusively enhance the performance of the ScriptEngine, or will it have broader implications on the entire application&#39;s execution?\r\n\r\n2. Is the Graal JIT compiler through JVMCI considered a top-tier choice within the JVM ecosystem?\r\n\r\nAdditionally, I would like to optimize the ScriptEngine&#39;s performance with Graal JIT without affecting other components of the application. Are there any strategies or suggestions for achieving this?","title":"JVMCI JIT Compiler (Graal Compiler)","body":"<p>I have a Spring application that utilizes JavaScript scripts through ScriptEngine (the engine provided by graalvm <a href=\"https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/js/ScriptEngine/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/graalvm/enterprise/20/docs/reference-manual/js/ScriptEngine/</a>). I am considering enabling the Graal JIT compiler using JVMCI, but I'm unsure about how this would impact my application's performance and whether it would be used exclusively for ScriptEngine or influence the entire application.</p>\n<p>how I added the Graal JIT Compiler</p>\n<pre><code>&lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.10&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;copy&lt;/id&gt;\n                                &lt;phase&gt;process-test-classes&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;copy&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;artifactItems&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\n                                            &lt;artifactId&gt;compiler&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;compiler.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.compiler&lt;/groupId&gt;\n                                            &lt;artifactId&gt;compiler-management&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;compiler-management.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\n                                            &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;truffle-api.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                        &lt;artifactItem&gt;\n                                            &lt;groupId&gt;org.graalvm.sdk&lt;/groupId&gt;\n                                            &lt;artifactId&gt;graal-sdk&lt;/artifactId&gt;\n                                            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n                                            &lt;type&gt;jar&lt;/type&gt;\n                                            &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                            &lt;destFileName&gt;graal-sdk.jar&lt;/destFileName&gt;\n                                        &lt;/artifactItem&gt;\n                                    &lt;/artifactItems&gt;\n                                    &lt;outputDirectory&gt;${compiler.dir}&lt;/outputDirectory&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n<pre><code>&lt;configuration&gt;\n                                    &lt;arguments&gt;\n                                        &lt;argument&gt;--module-path&lt;/argument&gt;\n                                        &lt;!-- automatically creates the modulepath using all project dependencies, also adding the project build directory --&gt;\n                                        &lt;modulepath/&gt;\n                                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                                        &lt;!-- automatically creates the classpath using all project dependencies, also adding the project build directory --&gt;\n                                        &lt;classpath/&gt;\n                                        &lt;argument&gt;-XX:+UnlockExperimentalVMOptions&lt;/argument&gt;\n                                        &lt;argument&gt;-XX:+EnableJVMCI&lt;/argument&gt;\n                                        &lt;argument&gt;-XX:-UseJVMCICompiler&lt;/argument&gt;\n                                        &lt;argument&gt;--upgrade-module-path=${compiler.dir}/compiler.jar${path.separator}${compiler.dir}/compiler-management.jar&lt;/argument&gt;\n                                        &lt;argument&gt;org.benchmark.demo.Main&lt;/argument&gt;\n                                    &lt;/arguments&gt;\n                                &lt;/configuration&gt;\n</code></pre>\n<p>My primary concerns are:</p>\n<ol>\n<li><p>If I enable the JIT compiler for Graal via JVMCI, will it exclusively enhance the performance of the ScriptEngine, or will it have broader implications on the entire application's execution?</p>\n</li>\n<li><p>Is the Graal JIT compiler through JVMCI considered a top-tier choice within the JVM ecosystem?</p>\n</li>\n</ol>\n<p>Additionally, I would like to optimize the ScriptEngine's performance with Graal JIT without affecting other components of the application. Are there any strategies or suggestions for achieving this?</p>\n"},{"tags":["java","reactjs","maven","newrelic"],"owner":{"account_id":1334869,"reputation":1853,"user_id":1277860,"accept_rate":48,"display_name":"Kapil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694507906,"creation_date":1694487151,"question_id":77085813,"body_markdown":"We are using react js as front end and Java( maven) as backend.\r\nwe have included the new relic script in the index.html page which is not allowing the full response to load. Therefore the application is not loading.\r\n\r\nBelow is the screenshot where in the response is not fully loaded.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNew Relic script :\r\n [![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xeApB.png\r\n  [2]: https://i.stack.imgur.com/8PnUT.png","title":"Response is not fully loaded","body":"<p>We are using react js as front end and Java( maven) as backend.\nwe have included the new relic script in the index.html page which is not allowing the full response to load. Therefore the application is not loading.</p>\n<p>Below is the screenshot where in the response is not fully loaded.</p>\n<p><a href=\"https://i.stack.imgur.com/xeApB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeApB.png\" alt=\"enter image description here\" /></a></p>\n<p>New Relic script :\n<a href=\"https://i.stack.imgur.com/8PnUT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PnUT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2","auth0"],"comments":[{"owner":{"account_id":6115102,"reputation":186,"user_id":4911621,"display_name":"ActivX"},"score":0,"creation_date":1607782832,"post_id":65255997,"comment_id":115383779,"body_markdown":"Could you provide more information about the issue?  I know, there aren&#39;t any issues to configure Auth0 in Spring Security","body":"Could you provide more information about the issue?  I know, there aren&#39;t any issues to configure Auth0 in Spring Security"},{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":1,"creation_date":1607799121,"post_id":65255997,"comment_id":115388509,"body_markdown":"It&#39;s quite simple to reproduce: Try to access a custom scope created for an API configured in Auth0, e.g. sth. like &quot;create:projects&quot;. Now try to use that scope via authorization code flow. It won&#39;t work as Auth0 requires an query parameter `&amp;audience=&lt;&lt;api_name&gt;&gt;` that Spring Security can&#39;t provide without having a `AuthorizationRequestCustomizer` patching the request. The issue is not that I&#39;m not able to configure Auth0, but I&#39;m not able to use custom scopes.","body":"It&#39;s quite simple to reproduce: Try to access a custom scope created for an API configured in Auth0, e.g. sth. like &quot;create:projects&quot;. Now try to use that scope via authorization code flow. It won&#39;t work as Auth0 requires an query parameter <code>&amp;audience=&lt;&lt;api_name&gt;&gt;</code> that Spring Security can&#39;t provide without having a <code>AuthorizationRequestCustomizer</code> patching the request. The issue is not that I&#39;m not able to configure Auth0, but I&#39;m not able to use custom scopes."}],"answers":[{"tags":[],"owner":{"account_id":6115102,"reputation":186,"user_id":4911621,"display_name":"ActivX"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1607816912,"creation_date":1607816912,"answer_id":65271066,"question_id":65255997,"body_markdown":"You can implement custom OAuth2AuthorizationRequestResolver and then add it to your spring security configuration\r\n\r\n    .oauth2Login(req-&gt;\r\n              req.authorizationEndpoint()\r\n             .authorizationRequestResolver(new YourCustomAuthorizationRequestResolver)\r\n     )\r\n\r\n","title":"How to set an AuthorizationRequestCustomizer on a DefaultOAuth2AuthorizationRequestResolver?","body":"<p>You can implement custom OAuth2AuthorizationRequestResolver and then add it to your spring security configuration</p>\n<pre><code>.oauth2Login(req-&gt;\n          req.authorizationEndpoint()\n         .authorizationRequestResolver(new YourCustomAuthorizationRequestResolver)\n )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8632149,"reputation":11,"user_id":6463447,"display_name":"Moary Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694507582,"creation_date":1694507582,"answer_id":77087337,"question_id":65255997,"body_markdown":"Below is my scenario:\r\nSpring Boot + Spring Boot Admin + Spring Security.\r\nWhen the property `spring.boot.admin.context-path` is configured, then the OAuth2 authorization code flow uses a wrong redirect uri, which does not include the `admin.context-path`.\r\n \r\nThe `org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#setAuthorizationRequestCustomizer` is not convenient to update redirect-uri \r\n via the builder, I also plan to rewrite the `DefaultOAuth2AuthorizationRequestResolver`, since I need to update the redirect uri generation logic. See below:\r\n`String redirectUriStr = expandRedirectUri(request, clientRegistration, redirectUriAction);`","title":"How to set an AuthorizationRequestCustomizer on a DefaultOAuth2AuthorizationRequestResolver?","body":"<p>Below is my scenario:\nSpring Boot + Spring Boot Admin + Spring Security.\nWhen the property <code>spring.boot.admin.context-path</code> is configured, then the OAuth2 authorization code flow uses a wrong redirect uri, which does not include the <code>admin.context-path</code>.</p>\n<p>The <code>org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#setAuthorizationRequestCustomizer</code> is not convenient to update redirect-uri\nvia the builder, I also plan to rewrite the <code>DefaultOAuth2AuthorizationRequestResolver</code>, since I need to update the redirect uri generation logic. See below:\n<code>String redirectUriStr = expandRedirectUri(request, clientRegistration, redirectUriAction);</code></p>\n"}],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65271066,"answer_count":2,"score":3,"last_activity_date":1694507582,"creation_date":1607707869,"question_id":65255997,"body_markdown":"While trying to get **Spring Security OAuth2 5.4.2** to work with custom scopes and **Auth0** in **authorization code flow**. I stumbled  over a small detail which I have no simple solution for.\r\n\r\nTo request custom scopes Auth0 requires a user to provide an **`audience` [parameter][1]**. The redirect URI is created in `org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#resolve(javax.servlet.http.HttpServletRequest, java.lang.String, java.lang.String)`.\r\n\r\nThis process can be amended by using a `AuthorizationRequestCustomizer`, however I do not see any means to inject a customizer and the `DefaultOAuth2AuthorizationRequestResolver` is not registered as a bean or at least I do not grasp how it is accessible.\r\n\r\n  [1]: https://auth0.com/docs/scopes/sample-use-cases-scopes-and-claims#authenticate-a-user-and-request-standard-claims-and-custom-api-access","title":"How to set an AuthorizationRequestCustomizer on a DefaultOAuth2AuthorizationRequestResolver?","body":"<p>While trying to get <strong>Spring Security OAuth2 5.4.2</strong> to work with custom scopes and <strong>Auth0</strong> in <strong>authorization code flow</strong>. I stumbled  over a small detail which I have no simple solution for.</p>\n<p>To request custom scopes Auth0 requires a user to provide an <strong><code>audience</code> <a href=\"https://auth0.com/docs/scopes/sample-use-cases-scopes-and-claims#authenticate-a-user-and-request-standard-claims-and-custom-api-access\" rel=\"nofollow noreferrer\">parameter</a></strong>. The redirect URI is created in <code>org.springframework.security.oauth2.client.web.DefaultOAuth2AuthorizationRequestResolver#resolve(javax.servlet.http.HttpServletRequest, java.lang.String, java.lang.String)</code>.</p>\n<p>This process can be amended by using a <code>AuthorizationRequestCustomizer</code>, however I do not see any means to inject a customizer and the <code>DefaultOAuth2AuthorizationRequestResolver</code> is not registered as a bean or at least I do not grasp how it is accessible.</p>\n"},{"tags":["java","postgresql","amazon-rds-proxy"],"owner":{"account_id":989210,"reputation":5391,"user_id":1006944,"accept_rate":74,"display_name":"Selvakumar Ponnusamy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694507230,"creation_date":1694506561,"question_id":77087214,"body_markdown":"We are using RDS proxy for postgres.\r\n\r\nWe randomly get `The connection attempt failed. - code:0` error, but not all the time.\r\n\r\nThe application uses `PGSimpleDataSource`  which doesn&#39;t have any connection pool since RDS Proxy handles the connection pool.\r\n\r\nShould we use some other Datasource ?","title":"Getting The connection attempt failed. - code:0 from RDS Proxy","body":"<p>We are using RDS proxy for postgres.</p>\n<p>We randomly get <code>The connection attempt failed. - code:0</code> error, but not all the time.</p>\n<p>The application uses <code>PGSimpleDataSource</code>  which doesn't have any connection pool since RDS Proxy handles the connection pool.</p>\n<p>Should we use some other Datasource ?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1608968472,"post_id":65454203,"comment_id":115720261,"body_markdown":"*Just* for starters, if your method is a pure function, *why* don&#39;t you want it to be static?","body":"<i>Just</i> for starters, if your method is a pure function, <i>why</i> don&#39;t you want it to be static?"}],"answers":[{"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694506610,"creation_date":1608973504,"answer_id":65454908,"question_id":65454203,"body_markdown":"Your application startup is failing because of `@Bean` method, spring is unable to find the value `n` to create the bean. You need to remove the Bean method and call the CommonUtils method directly:\r\n\r\n    &lt;p th:text=&quot;${@commonUtils.ConvertSecToHHMM(500)}&quot;&gt;&lt;/p&gt;","title":"How to call methods from a Thymeleaf template in Spring Boot?","body":"<p>Your application startup is failing because of <code>@Bean</code> method, spring is unable to find the value <code>n</code> to create the bean. You need to remove the Bean method and call the CommonUtils method directly:</p>\n<pre><code>&lt;p th:text=&quot;${@commonUtils.ConvertSecToHHMM(500)}&quot;&gt;&lt;/p&gt;\n</code></pre>\n"}],"owner":{"account_id":16315885,"reputation":53,"user_id":14765755,"display_name":"user14765755"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1609082883,"accepted_answer_id":65454908,"answer_count":1,"score":1,"last_activity_date":1694506610,"creation_date":1608965493,"question_id":65454203,"body_markdown":"I have created a method in class CommonUtils which I am trying to call in Thymeleaf, but it throws error \r\n\r\n&gt; EL1004E: Method call: Method ConvertSecToHHMM(java.lang.Integer)\r\n&gt; cannot be found on type com.exm.util.CommonUtils\r\n\r\n```\r\n@Component\r\npublic class CommonUtils {\r\n\r\n    // function convert second into hours and minutes.\r\n    public  String ConvertSecToHHMM(int n) {\r\n        n = n % (24 * 3600);\r\n        int hour = n / 3600;\r\n\r\n        n %= 3600;\r\n        int minutes = n / 60 ;\r\n\r\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\r\n        return finalTime;\r\n    }\r\n}\r\n```\r\nIn Thymeleaf I wrote this\r\n```\r\n&lt;td th:text=&quot;${T(com.exm.util.CommonUtils).ConvertSecToHHMM(recentActivities.timeSpent)}&quot;&gt;&lt;/td&gt;\r\n```\r\n\r\nwhen I make the method ConvertSecToHHMM(int n) static it works fine. **But I don&#39;t want to make that method static**.\r\n\r\nSo I tried another approach using bean injection; it also doesn&#39;t work for me:\r\n```\r\n@Configuration\r\npublic class MyConfigurations {\r\n    @Bean\r\n    public static String ConvertSecToHHMM(int n) {\r\n        n = n % (24 * 3600);\r\n        int hour = n / 3600;\r\n\r\n        n %= 3600;\r\n        int minutes = n / 60 ;\r\n\r\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\r\n        return finalTime;\r\n    }\r\n\r\n}\r\n```\r\nI get this error\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of method ConvertSecToHHMM in com.exm.configurations.MyConfigurations required a bean of type &#39;int&#39; that could not be found.\r\n```\r\n\r\nIs there any way I can create my util methods in a separate class and I can call them from Thymeleaf whenever I want?","title":"How to call methods from a Thymeleaf template in Spring Boot?","body":"<p>I have created a method in class CommonUtils which I am trying to call in Thymeleaf, but it throws error</p>\n<blockquote>\n<p>EL1004E: Method call: Method ConvertSecToHHMM(java.lang.Integer)\ncannot be found on type com.exm.util.CommonUtils</p>\n</blockquote>\n<pre><code>@Component\npublic class CommonUtils {\n\n    // function convert second into hours and minutes.\n    public  String ConvertSecToHHMM(int n) {\n        n = n % (24 * 3600);\n        int hour = n / 3600;\n\n        n %= 3600;\n        int minutes = n / 60 ;\n\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\n        return finalTime;\n    }\n}\n</code></pre>\n<p>In Thymeleaf I wrote this</p>\n<pre><code>&lt;td th:text=&quot;${T(com.exm.util.CommonUtils).ConvertSecToHHMM(recentActivities.timeSpent)}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>when I make the method ConvertSecToHHMM(int n) static it works fine. <strong>But I don't want to make that method static</strong>.</p>\n<p>So I tried another approach using bean injection; it also doesn't work for me:</p>\n<pre><code>@Configuration\npublic class MyConfigurations {\n    @Bean\n    public static String ConvertSecToHHMM(int n) {\n        n = n % (24 * 3600);\n        int hour = n / 3600;\n\n        n %= 3600;\n        int minutes = n / 60 ;\n\n        String finalTime = hour + &quot; &quot; + &quot;hr &quot; + minutes + &quot; &quot; + &quot;min &quot;;\n        return finalTime;\n    }\n\n}\n</code></pre>\n<p>I get this error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method ConvertSecToHHMM in com.exm.configurations.MyConfigurations required a bean of type 'int' that could not be found.\n</code></pre>\n<p>Is there any way I can create my util methods in a separate class and I can call them from Thymeleaf whenever I want?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1608033399,"post_id":65305306,"comment_id":115452568,"body_markdown":"common_google_signin_btn_text_dark_normal_background.9.png what is this error coming from here","body":"common_google_signin_btn_text_dark_normal_background.9.png what is this error coming from here"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608033582,"post_id":65305306,"comment_id":115452657,"body_markdown":"i m beginner so i don&#39;t have knowledge about it but the error while showed by android studio i copy pasted it so above is what android studio showed me","body":"i m beginner so i don&#39;t have knowledge about it but the error while showed by android studio i copy pasted it so above is what android studio showed me"},{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1608033747,"post_id":65305306,"comment_id":115452752,"body_markdown":"Check your drawable folder and for this or paste a github link or drive link where we can see your code and try to resolve","body":"Check your drawable folder and for this or paste a github link or drive link where we can see your code and try to resolve"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608034539,"post_id":65305306,"comment_id":115453105,"body_markdown":"https://drive.google.com/drive/folders/16rb9JuuNHGNhSN4A-ewNYA-POt7qJIx3?usp=sharing","body":"<a href=\"https://drive.google.com/drive/folders/16rb9JuuNHGNhSN4A-ewNYA-POt7qJIx3?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608034938,"post_id":65305306,"comment_id":115453297,"body_markdown":"just create a authentication page","body":"just create a authentication page"},{"owner":{"display_name":"user14772790"},"score":0,"creation_date":1608035334,"post_id":65305306,"comment_id":115453474,"body_markdown":"It also showing same while building apk","body":"It also showing same while building apk"},{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1608035376,"post_id":65305306,"comment_id":115453500,"body_markdown":"I am checking wait please","body":"I am checking wait please"},{"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"score":0,"creation_date":1694504725,"post_id":65305306,"comment_id":135895755,"body_markdown":"did you find a solution?","body":"did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608036404,"creation_date":1608036404,"answer_id":65306128,"question_id":65305306,"body_markdown":"Okay paste this in your manifest file and check you call the theme out of Application \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.codewithabhy.howsapp&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            tools:ignore=&quot;ExtraText&quot;\r\n            android:theme=&quot;@style/Theme.HowsApp&quot;&gt;\r\n            &lt;activity android:name=&quot;.OTPActivity&quot;&gt;&lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.PhoneNumberActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>Okay paste this in your manifest file and check you call the theme out of Application</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.codewithabhy.howsapp&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;ExtraText&quot;\n        android:theme=&quot;@style/Theme.HowsApp&quot;&gt;\n        &lt;activity android:name=&quot;.OTPActivity&quot;&gt;&lt;/activity&gt;\n        &lt;activity android:name=&quot;.PhoneNumberActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;&lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12129198,"reputation":7471,"user_id":8856784,"display_name":"Izabela Orlowska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608129635,"creation_date":1608129635,"answer_id":65325425,"question_id":65305306,"body_markdown":"This is due to the newer AAPT2 version (which comes with newer AGP) having a dependency on up-to-date Windows universal C runtime libraries. If you don&#39;t have them yet, download from Microsoft&#39;s website, if you already do - see if there&#39;s an update available (even if you have to do it manually). Microsoft is doing a gradual roll-out of the updates, but sometimes they take longer for certain systems/architectures.","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>This is due to the newer AAPT2 version (which comes with newer AGP) having a dependency on up-to-date Windows universal C runtime libraries. If you don't have them yet, download from Microsoft's website, if you already do - see if there's an update available (even if you have to do it manually). Microsoft is doing a gradual roll-out of the updates, but sometimes they take longer for certain systems/architectures.</p>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694506478,"creation_date":1694506478,"answer_id":77087206,"question_id":65305306,"body_markdown":"I managed to solve the problem by changing below lines in `gradle` file project level\r\n\r\n    //       classpath &#39;com.android.tools.build:gradle:4.1.3&#39;\r\n\r\nto\r\n\r\n    classpath &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n\r\n\r\n\r\nand from :\r\n\r\n    kotlin_version = &#39;1.5.0&#39;\r\n\r\nto `kotlin_version = &#39;1.7.10&#39;`","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>I managed to solve the problem by changing below lines in <code>gradle</code> file project level</p>\n<pre><code>//       classpath 'com.android.tools.build:gradle:4.1.3'\n</code></pre>\n<p>to</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.2.1'\n</code></pre>\n<p>and from :</p>\n<pre><code>kotlin_version = '1.5.0'\n</code></pre>\n<p>to <code>kotlin_version = '1.7.10'</code></p>\n"}],"owner":{"display_name":"user14772790"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1694506478,"creation_date":1608033140,"question_id":65305306,"body_markdown":"I had Started building an app in android studio 4.0 on windows 7 64 bit .In that it doesn&#39;t show any error while writing code but when i start debugging the app in my real device it shows error that Aapt2.exe stopped working.can anyone guide to solve this problem?\r\n\r\n**Errors**\r\n\r\nExecution failed for task &#39;:app:processDebugResources&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n   &gt; Failed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\r\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\r\n         &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile &#39;C:\\Users\\Admin\\.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png&#39;, attempting to stop daemon.\r\n           This should not happen under normal circumstances, please file an issue if it does.\r\n\r\n\r\n\r\n**And second error**\r\n\r\nAAPT2 process unexpectedly exit. Error output:\r\n\r\n[image of Aapt2 window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8FPBc.png\r\n\r\n\r\ncan anyone help?","title":"Aapt2.exe stopped working,How to solve it?","body":"<p>I had Started building an app in android studio 4.0 on windows 7 64 bit .In that it doesn't show any error while writing code but when i start debugging the app in my real device it shows error that Aapt2.exe stopped working.can anyone guide to solve this problem?</p>\n<p><strong>Errors</strong></p>\n<p>Execution failed for task ':app:processDebugResources'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.\nFailed to transform play-services-base-17.1.0.aar (com.google.android.gms:play-services-base:17.1.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n&gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0.\n&gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during compile 'C:\\Users\\Admin.gradle\\caches\\transforms-2\\files-2.1\\d92a27efcac738b4f280b9ad0c07bda7\\jetified-play-services-base-17.1.0\\res\\drawable-xhdpi-v4\\common_google_signin_btn_text_dark_normal_background.9.png', attempting to stop daemon.\nThis should not happen under normal circumstances, please file an issue if it does.</p>\n</blockquote>\n<p><strong>And second error</strong></p>\n<p>AAPT2 process unexpectedly exit. Error output:</p>\n<p><a href=\"https://i.stack.imgur.com/8FPBc.png\" rel=\"nofollow noreferrer\">image of Aapt2 window</a></p>\n<p>can anyone help?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694506356,"post_id":77087171,"comment_id":135896023,"body_markdown":"So your code is catching and logging the exception, and you&#39;re seeing that in your logs. What&#39;s the question?","body":"So your code is catching and logging the exception, and you&#39;re seeing that in your logs. What&#39;s the question?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1694509168,"post_id":77087171,"comment_id":135896534,"body_markdown":"Your filter isn&#39;t the only one that is being executed so each filter will show that method (at least the once that extend `OncePerRequestFilter`).","body":"Your filter isn&#39;t the only one that is being executed so each filter will show that method (at least the once that extend <code>OncePerRequestFilter</code>)."},{"owner":{"account_id":9683487,"reputation":11,"user_id":7184213,"display_name":"Trịnh Quang Minh"},"score":0,"creation_date":1694511470,"post_id":77087171,"comment_id":135897041,"body_markdown":"@Jorn I dont know why it so much executed in that logs.\norg.springframework.web.filter.OncePerRequestFilter.doFilter is writing like 4 times.","body":"@Jorn I dont know why it so much executed in that logs. org.springframework.web.filter.OncePerRequestFilter.doFilter is writing like 4 times."}],"owner":{"account_id":9683487,"reputation":11,"user_id":7184213,"display_name":"Trịnh Quang Minh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694506151,"creation_date":1694506151,"question_id":77087171,"body_markdown":"I am using @Around to write log. like this:\r\n\r\n\r\n```\r\n @Around(&quot;adminController()&quot;)\r\n    public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        String uuid = UUID.randomUUID().toString();\r\n        request.setAttribute(&quot;uuid&quot;, uuid);\r\n        String api = request.getRequestURI();\r\n        String ipAddress = request.getRemoteAddr();\r\n        if (&quot;GET&quot;.equals(request.getMethod())) {\r\n            return joinPoint.proceed();\r\n        }\r\n\r\n```\r\n\r\nAnd I override fuction doFilterInternal. like this:\r\n\r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n        // Get authorization header and validate\r\n        var token = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n        if (token == null || !token.startsWith(BEARER_PREFIX)) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n        token = token.substring(BEARER_PREFIX.length());\r\n\r\n        var authResult = this.authUseCase.authenticateToken(token);\r\n        if (authResult.isEmpty()) {\r\n            chain.doFilter(request, response);\r\n            return;\r\n        }\r\n```\r\n\r\n\r\nand when I had exception, it write throwable like this:\r\n\r\n\r\n\r\n```\r\njava.lang.NullPointerException: null\r\n\tat com.vietlott.domain.sms.service.LoadSMSContentService.readSMS(LoadSMSContentService.java:63) ~[vietlott.admin-web-domain-0.1.0.jar:0.1.0]\r\n\tat com.vietlott.admin.controller.sms.SMSManagementController.readSMS(SMSManagementController.java:67) ~[classes/:na]\r\n\tat com.vietlott.admin.controller.sms.SMSManagementController$$FastClassBySpringCGLIB$$1a735b6c.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat com.vietlott.admin.aspect.LoggingAspect.logAround(LoggingAspect.java:118) ~[classes/:na]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.6.2.jar:5.6.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat com.vietlott.admin.controller.sms.SMSManagementController$$EnhancerBySpringCGLIB$$7df6d6c3.readSMS(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat com.vietlott.admin.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:69) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.4.jar:2.6.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n```\r\n\r\nYou see: it have a lot of doFilterInternal throwing, and I am wondering if that&#39;s normal, or my code is violate singleton code java or something wrong about throwing exception of my application.\r\n\r\nAny Java Master can help me with this?\r\n\r\n\r\n\r\nIn my code, my Controller already catch this exception.!\r\n\r\n```\r\n@Operation(description = &quot;Xem nội dung tin nhắn SMS&quot;)\r\n    @PostMapping(&quot;readSMS&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;smsManagement:readSMS&#39;)&quot;)\r\n    public GetSMSContentResponse readSMS(@Valid @RequestBody GetSMSContentRequest request) {\r\n        try {\r\n            return new GetSMSContentResponse(this.smsContentUseCase.readSMS(request.getSmsId()));\r\n        } catch (BadRequestException e) {\r\n            log.error(&quot;readSMS BadRequestException: &quot;, e);\r\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\r\n        } catch (Exception e) {\r\n            log.error(&quot;readSMS Exception: &quot;, e);\r\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\r\n        }\r\n    }\r\n```\r\n","title":"Duplicate doFilter on throwable in Java Spring Boot","body":"<p>I am using @Around to write log. like this:</p>\n<pre><code> @Around(&quot;adminController()&quot;)\n    public Object logAround(ProceedingJoinPoint joinPoint) throws Throwable {\n        String uuid = UUID.randomUUID().toString();\n        request.setAttribute(&quot;uuid&quot;, uuid);\n        String api = request.getRequestURI();\n        String ipAddress = request.getRemoteAddr();\n        if (&quot;GET&quot;.equals(request.getMethod())) {\n            return joinPoint.proceed();\n        }\n\n</code></pre>\n<p>And I override fuction doFilterInternal. like this:</p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\n        // Get authorization header and validate\n        var token = request.getHeader(HttpHeaders.AUTHORIZATION);\n        if (token == null || !token.startsWith(BEARER_PREFIX)) {\n            chain.doFilter(request, response);\n            return;\n        }\n        token = token.substring(BEARER_PREFIX.length());\n\n        var authResult = this.authUseCase.authenticateToken(token);\n        if (authResult.isEmpty()) {\n            chain.doFilter(request, response);\n            return;\n        }\n</code></pre>\n<p>and when I had exception, it write throwable like this:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.vietlott.domain.sms.service.LoadSMSContentService.readSMS(LoadSMSContentService.java:63) ~[vietlott.admin-web-domain-0.1.0.jar:0.1.0]\n    at com.vietlott.admin.controller.sms.SMSManagementController.readSMS(SMSManagementController.java:67) ~[classes/:na]\n    at com.vietlott.admin.controller.sms.SMSManagementController$$FastClassBySpringCGLIB$$1a735b6c.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-5.3.16.jar:5.3.16]\n    at com.vietlott.admin.aspect.LoggingAspect.logAround(LoggingAspect.java:118) ~[classes/:na]\n    at jdk.internal.reflect.GeneratedMethodAccessor191.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61) ~[spring-security-core-5.6.2.jar:5.6.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.16.jar:5.3.16]\n    at com.vietlott.admin.controller.sms.SMSManagementController$$EnhancerBySpringCGLIB$$7df6d6c3.readSMS(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at com.vietlott.admin.security.SessionTokenFilter.doFilterInternal(SessionTokenFilter.java:69) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.4.jar:2.6.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>You see: it have a lot of doFilterInternal throwing, and I am wondering if that's normal, or my code is violate singleton code java or something wrong about throwing exception of my application.</p>\n<p>Any Java Master can help me with this?</p>\n<p>In my code, my Controller already catch this exception.!</p>\n<pre><code>@Operation(description = &quot;Xem nội dung tin nhắn SMS&quot;)\n    @PostMapping(&quot;readSMS&quot;)\n    @PreAuthorize(&quot;hasAuthority('smsManagement:readSMS')&quot;)\n    public GetSMSContentResponse readSMS(@Valid @RequestBody GetSMSContentRequest request) {\n        try {\n            return new GetSMSContentResponse(this.smsContentUseCase.readSMS(request.getSmsId()));\n        } catch (BadRequestException e) {\n            log.error(&quot;readSMS BadRequestException: &quot;, e);\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\n        } catch (Exception e) {\n            log.error(&quot;readSMS Exception: &quot;, e);\n            return new GetSMSContentResponse(new ApiError(&quot;GET_SMS_ERROR&quot;));\n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1654032246,"post_id":72444114,"comment_id":127994760,"body_markdown":"You can try using a [WorkManager](https://developer.android.com/topic/libraries/architecture/workmanager).","body":"You can try using a <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">WorkManager</a>."},{"owner":{"account_id":24090454,"reputation":11,"user_id":18063792,"display_name":"Ibrahim Shabbir"},"score":0,"creation_date":1654325472,"post_id":72444114,"comment_id":128068619,"body_markdown":"I don&#39;t know about android studio much can you modify my code","body":"I don&#39;t know about android studio much can you modify my code"}],"answers":[{"tags":[],"owner":{"account_id":18858502,"reputation":325,"user_id":13755907,"display_name":"basileus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694505495,"creation_date":1694505495,"answer_id":77087091,"question_id":72444114,"body_markdown":"For Android 10+ you have to ask for another location permission - background location (see Google documentation [here][1]). Apart from that check if the application is battery optimized - this might prevent background location too. And yet another thing is manufacturer specific optimization. Please check if phone is optimized. If so, it is very likely this prevent background location too.\r\n\r\n\r\n  [1]: https://developer.android.com/training/location/background","title":"Android, get the location update when the screen is off","body":"<p>For Android 10+ you have to ask for another location permission - background location (see Google documentation <a href=\"https://developer.android.com/training/location/background\" rel=\"nofollow noreferrer\">here</a>). Apart from that check if the application is battery optimized - this might prevent background location too. And yet another thing is manufacturer specific optimization. Please check if phone is optimized. If so, it is very likely this prevent background location too.</p>\n"}],"owner":{"account_id":24090454,"reputation":11,"user_id":18063792,"display_name":"Ibrahim Shabbir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694505495,"creation_date":1653983945,"question_id":72444114,"body_markdown":"I use a started service with the fused api, and implement the location listener directly on it. The Location keeps updating even when the screen is locked, But it stops if the screen goes off.\r\n\r\nSo, is there any way to make sure that the location will keep updating when the screen is off?\r\n\r\nI read a lot of other questions and I don&#39;t really know what i&#39;m missing.\r\n\r\n\r\n        package com.trickyworld.locationupdates;\r\n    \r\n    import android.Manifest;\r\n    import android.app.Notification;\r\n    import android.app.NotificationChannel;\r\n    import android.app.NotificationManager;\r\n    import android.app.Service;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.graphics.Color;\r\n    import android.location.Location;\r\n    import android.os.Build;\r\n    import android.os.IBinder;\r\n    import android.os.Looper;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.app.NotificationCompat;\r\n    \r\n    \r\n    import com.google.android.gms.location.FusedLocationProviderClient;\r\n    import com.google.android.gms.location.LocationCallback;\r\n    import com.google.android.gms.location.LocationRequest;\r\n    import com.google.android.gms.location.LocationResult;\r\n    import com.google.android.gms.location.LocationServices;\r\n    import com.google.android.gms.maps.model.LatLng;\r\n    \r\n    import java.io.Console;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class LocationService extends Service {\r\n    \r\n    \r\n       public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\r\n    \r\n        FusedLocationProviderClient fusedLocationClient;\r\n        LocationRequest locationRequest;\r\n        LocationCallback locationCallback;\r\n    \r\n        private void startLocationUpdates() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            fusedLocationClient.requestLocationUpdates(locationRequest,\r\n                    locationCallback,\r\n                    Looper.getMainLooper());\r\n        }\r\n    \r\n        protected void createLocationRequest() {\r\n            LocationRequest locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(3000);\r\n            locationRequest.setFastestInterval(5000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            new Notification();\r\n    \r\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) createNotificationChanel() ;\r\n            else startForeground(\r\n                    1,\r\n                    new Notification()\r\n            );\r\n    \r\n            locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(2000);\r\n            locationRequest.setFastestInterval(2000);\r\n            locationRequest.setMaxWaitTime(2000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n    \r\n            locationCallback = new LocationCallback() {\r\n                @Override\r\n                public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                    Location location =  locationResult.getLastLocation();\r\n                    //Toast.makeText(getApplicationContext(),\r\n                      //    &quot;Lat: &quot;+Double.toString(location.getLatitude()) + &#39;\\n&#39; +\r\n                        //    &quot;Long: &quot; + Double.toString(location.getLongitude()), Toast.LENGTH_LONG).show();\r\n    \r\n                    Log.d(&quot;Mesage&quot;,&quot;Lat: &quot;+Double.toString(location.getLatitude()) + &#39;\\n&#39; +\r\n                            &quot;Long: &quot; + Double.toString(location.getLongitude()));\r\n    \r\n    \r\n    \r\n                    //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\r\n    \r\n                   /* for (Location location : locationResult.getLocations()) {\r\n                      location\r\n                    }*/\r\n                }\r\n            };\r\n            startLocationUpdates();\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        private void createNotificationChanel() {\r\n            String notificationChannelId = &quot;Location channel id&quot;;\r\n            String channelName = &quot;Background Service&quot;;\r\n    \r\n            NotificationChannel chan = new NotificationChannel(\r\n                    notificationChannelId,\r\n                    channelName,\r\n                    NotificationManager.IMPORTANCE_NONE\r\n            );\r\n            chan.setLightColor(Color.BLUE);\r\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n    \r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n    \r\n            manager.createNotificationChannel(chan);\r\n    \r\n            NotificationCompat.Builder notificationBuilder =\r\n                   new NotificationCompat.Builder(this, notificationChannelId);\r\n    \r\n            Notification notification = notificationBuilder.setOngoing(true)\r\n                    .setContentTitle(&quot;Location updates:&quot;)\r\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                    .setCategory(Notification.CATEGORY_SERVICE)\r\n                    .build();\r\n            startForeground(2, notification);\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            super.onStartCommand(intent, flags, startId);\r\n            return START_REDELIVER_INTENT;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            fusedLocationClient.removeLocationUpdates(locationCallback);\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n","title":"Android, get the location update when the screen is off","body":"<p>I use a started service with the fused api, and implement the location listener directly on it. The Location keeps updating even when the screen is locked, But it stops if the screen goes off.</p>\n<p>So, is there any way to make sure that the location will keep updating when the screen is off?</p>\n<p>I read a lot of other questions and I don't really know what i'm missing.</p>\n<pre><code>    package com.trickyworld.locationupdates;\n\nimport android.Manifest;\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.location.Location;\nimport android.os.Build;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.app.NotificationCompat;\n\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.model.LatLng;\n\nimport java.io.Console;\nimport java.util.ArrayList;\n\n\npublic class LocationService extends Service {\n\n\n   public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\n\n    FusedLocationProviderClient fusedLocationClient;\n    LocationRequest locationRequest;\n    LocationCallback locationCallback;\n\n    private void startLocationUpdates() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        fusedLocationClient.requestLocationUpdates(locationRequest,\n                locationCallback,\n                Looper.getMainLooper());\n    }\n\n    protected void createLocationRequest() {\n        LocationRequest locationRequest = LocationRequest.create();\n        locationRequest.setInterval(3000);\n        locationRequest.setFastestInterval(5000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        new Notification();\n\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) createNotificationChanel() ;\n        else startForeground(\n                1,\n                new Notification()\n        );\n\n        locationRequest = LocationRequest.create();\n        locationRequest.setInterval(2000);\n        locationRequest.setFastestInterval(2000);\n        locationRequest.setMaxWaitTime(2000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                Location location =  locationResult.getLastLocation();\n                //Toast.makeText(getApplicationContext(),\n                  //    &quot;Lat: &quot;+Double.toString(location.getLatitude()) + '\\n' +\n                    //    &quot;Long: &quot; + Double.toString(location.getLongitude()), Toast.LENGTH_LONG).show();\n\n                Log.d(&quot;Mesage&quot;,&quot;Lat: &quot;+Double.toString(location.getLatitude()) + '\\n' +\n                        &quot;Long: &quot; + Double.toString(location.getLongitude()));\n\n\n\n                //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\n\n               /* for (Location location : locationResult.getLocations()) {\n                  location\n                }*/\n            }\n        };\n        startLocationUpdates();\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    private void createNotificationChanel() {\n        String notificationChannelId = &quot;Location channel id&quot;;\n        String channelName = &quot;Background Service&quot;;\n\n        NotificationChannel chan = new NotificationChannel(\n                notificationChannelId,\n                channelName,\n                NotificationManager.IMPORTANCE_NONE\n        );\n        chan.setLightColor(Color.BLUE);\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n\n        NotificationManager manager = getSystemService(NotificationManager.class);\n\n        manager.createNotificationChannel(chan);\n\n        NotificationCompat.Builder notificationBuilder =\n               new NotificationCompat.Builder(this, notificationChannelId);\n\n        Notification notification = notificationBuilder.setOngoing(true)\n                .setContentTitle(&quot;Location updates:&quot;)\n                .setPriority(NotificationManager.IMPORTANCE_MIN)\n                .setCategory(Notification.CATEGORY_SERVICE)\n                .build();\n        startForeground(2, notification);\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        super.onStartCommand(intent, flags, startId);\n        return START_REDELIVER_INTENT;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        fusedLocationClient.removeLocationUpdates(locationCallback);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dialog"],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694504258,"creation_date":1694504258,"answer_id":77086946,"question_id":77086883,"body_markdown":"Try this:  \r\n\r\n \r\n\r\n     ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\r\n        buttonPlay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Disable the button to prevent multiple clicks\r\n                buttonPlay.setEnabled(false);\r\n        \r\n                // Show the progress dialog immediately\r\n                dialog = AppUtil.showProgress(adapterActivity);\r\n        \r\n                // Start a background thread for audio playback\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        // Play streaming on the background thread\r\n                        SingleAudio sd = getItem(position);\r\n                        if (sd != null) {\r\n                            sd.playerInstance.setDialog(dialog);\r\n        \r\n                            if (sd.playerInstance.inPlay()) {\r\n                                sd.playerInstance.stop();\r\n                            } else {\r\n                                sd.playerInstance.play();\r\n                            }\r\n                        }\r\n        \r\n                        // Dismiss the progress dialog on the main UI thread\r\n                        adapterActivity.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                dialog.dismiss();\r\n                                // Re-enable the button when the operation is finished\r\n                                buttonPlay.setEnabled(true);\r\n                            }\r\n                        });\r\n                    }\r\n                }).start();\r\n            }\r\n        });\r\n\r\n","title":"How to show immediately ProgressBar dialog in Java?","body":"<p>Try this:</p>\n<pre><code> ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\n    buttonPlay.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // Disable the button to prevent multiple clicks\n            buttonPlay.setEnabled(false);\n    \n            // Show the progress dialog immediately\n            dialog = AppUtil.showProgress(adapterActivity);\n    \n            // Start a background thread for audio playback\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    // Play streaming on the background thread\n                    SingleAudio sd = getItem(position);\n                    if (sd != null) {\n                        sd.playerInstance.setDialog(dialog);\n    \n                        if (sd.playerInstance.inPlay()) {\n                            sd.playerInstance.stop();\n                        } else {\n                            sd.playerInstance.play();\n                        }\n                    }\n    \n                    // Dismiss the progress dialog on the main UI thread\n                    adapterActivity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            dialog.dismiss();\n                            // Re-enable the button when the operation is finished\n                            buttonPlay.setEnabled(true);\n                        }\n                    });\n                }\n            }).start();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12497205,"reputation":11,"user_id":9096787,"display_name":"EEGLRT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694505460,"creation_date":1694505460,"answer_id":77087087,"question_id":77086883,"body_markdown":"You cannot.\r\n\r\nYou just register the dialog into the WindowManager when you invoke the `dialog.show()` method. It&#39;s up to Android System to show the  dialog content (later).\r\n\r\nI recommend to use a LiveData to observe the player state and toggle the dialog in the observer.\r\n\r\nIt&#39;s recommended to use DialogFragment rather than Dialog.\r\n\r\n ","title":"How to show immediately ProgressBar dialog in Java?","body":"<p>You cannot.</p>\n<p>You just register the dialog into the WindowManager when you invoke the <code>dialog.show()</code> method. It's up to Android System to show the  dialog content (later).</p>\n<p>I recommend to use a LiveData to observe the player state and toggle the dialog in the observer.</p>\n<p>It's recommended to use DialogFragment rather than Dialog.</p>\n"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77086946,"answer_count":2,"score":1,"last_activity_date":1694505460,"creation_date":1694503617,"question_id":77086883,"body_markdown":"I created a progressbar dialog in a separate java file:\r\n\r\n    public class AppUtil {\r\n        // progress bar handling\r\n        public static Dialog showProgress(Activity activity) {\r\n            Dialog dialog = new Dialog(activity);\r\n            dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            dialog.getWindow().setBackgroundDrawable(\r\n                    new ColorDrawable(0));\r\n            dialog.setContentView(R.layout.dialog_progress);\r\n            ProgressBar progressBar = dialog.findViewById(R.id.progressBar);\r\n            progressBar.getIndeterminateDrawable().setColorFilter(activity.getResources().getColor(R.color.fore_color), PorterDuff.Mode.MULTIPLY);\r\n            dialog.setCancelable(false);\r\n            dialog.show();\r\n            return dialog;\r\n        }\r\n    }\r\n\r\nand it has its own `RelativeLayout` xml resource layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/rl_progress&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/progressBar&quot;\r\n            android:layout_width=&quot;50dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nbut if I call it in a play button progressbar doesn&#39;t show immediately but only when `onClick` button is finished:\r\n\r\n    ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\r\n    buttonPlay.setOnClickListener(new View.OnClickListener() {\r\n    \t@Override\r\n    \tpublic void onClick(View view) {\r\n    \t\t// play streaming\r\n    \t\tSingleAudio sd = getItem(position);\r\n    \t\tif (sd == null) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tdialog = AppUtil.showProgress(adapterActivity);\r\n    \t\tsd.playerInstance.setDialog(dialog);\r\n    \r\n    \t\tif (sd.playerInstance.inPlay()) {\r\n    \t\t\tsd.playerInstance.stop();\r\n    \t\t} else {\r\n    \t\t\tsd.playerInstance.play();\r\n    \t\t}\r\n    \t}\r\n    });\r\n\r\nwhere right after I call `showProgress()` , I pass the dialog to the player instance to dismiss the dialog once the song playing is started and the button play is changed to stop play.... I tried also to put `showProgress()` inside an `adapterActivity.runOnUiThread` too but it doesn&#39;t show immediately... I wanted to show immediately to prevent user to click again buttons and wait if the play process is completely started....shall I have missed something to consider?\r\n","title":"How to show immediately ProgressBar dialog in Java?","body":"<p>I created a progressbar dialog in a separate java file:</p>\n<pre><code>public class AppUtil {\n    // progress bar handling\n    public static Dialog showProgress(Activity activity) {\n        Dialog dialog = new Dialog(activity);\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n        dialog.getWindow().setBackgroundDrawable(\n                new ColorDrawable(0));\n        dialog.setContentView(R.layout.dialog_progress);\n        ProgressBar progressBar = dialog.findViewById(R.id.progressBar);\n        progressBar.getIndeterminateDrawable().setColorFilter(activity.getResources().getColor(R.color.fore_color), PorterDuff.Mode.MULTIPLY);\n        dialog.setCancelable(false);\n        dialog.show();\n        return dialog;\n    }\n}\n</code></pre>\n<p>and it has its own <code>RelativeLayout</code> xml resource layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/rl_progress&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        android:layout_width=&quot;50dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>but if I call it in a play button progressbar doesn't show immediately but only when <code>onClick</code> button is finished:</p>\n<pre><code>ImageButton buttonPlay = (ImageButton) currentItemView.findViewById(R.id.play);\nbuttonPlay.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        // play streaming\n        SingleAudio sd = getItem(position);\n        if (sd == null) {\n            return;\n        }\n        \n        dialog = AppUtil.showProgress(adapterActivity);\n        sd.playerInstance.setDialog(dialog);\n\n        if (sd.playerInstance.inPlay()) {\n            sd.playerInstance.stop();\n        } else {\n            sd.playerInstance.play();\n        }\n    }\n});\n</code></pre>\n<p>where right after I call <code>showProgress()</code> , I pass the dialog to the player instance to dismiss the dialog once the song playing is started and the button play is changed to stop play.... I tried also to put <code>showProgress()</code> inside an <code>adapterActivity.runOnUiThread</code> too but it doesn't show immediately... I wanted to show immediately to prevent user to click again buttons and wait if the play process is completely started....shall I have missed something to consider?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654173068,"creation_date":1654172715,"answer_id":72476249,"question_id":72475915,"body_markdown":"**My answer here will focus on the Secrets Manager API part of your question**\r\n\r\nI recommend that you move from **AWS SDK for Java V1** to **AWS SDK for Java V2**. You can find V2 Java Secret Manager examples here.\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager \r\n\r\nHere is the Service Client for V2. \r\n\r\n     SecretsManagerClient secretsClient = SecretsManagerClient.builder()\r\n                    .region(region)\r\n                    .credentialsProvider(ProfileCredentialsProvider.create())\r\n                    .build();\r\n\r\nIn this example, I am using a ProfileCredentialsProvider that reads creds from .aws/Credentials. You can learn more about how V2 handles creds in the *AWS Java V2 DEV Guide*. \r\n\r\n[Using credentials][1]\r\n\r\nYou cannot use **ProfileCredentialsProvider** in an app deployed to a container as this file structure not part of the container. So you can use Amazon ECS container credentials:\r\n\r\n**The SDK uses the ContainerCredentialsProvider class to load credentials from the AWS_CONTAINER_CREDENTIALS_RELATIVE_URI system environment variable.**\r\n\r\nSee point 5 in the above Doc. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p><strong>My answer here will focus on the Secrets Manager API part of your question</strong></p>\n<p>I recommend that you move from <strong>AWS SDK for Java V1</strong> to <strong>AWS SDK for Java V2</strong>. You can find V2 Java Secret Manager examples here.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/secretsmanager</a></p>\n<p>Here is the Service Client for V2.</p>\n<pre><code> SecretsManagerClient secretsClient = SecretsManagerClient.builder()\n                .region(region)\n                .credentialsProvider(ProfileCredentialsProvider.create())\n                .build();\n</code></pre>\n<p>In this example, I am using a ProfileCredentialsProvider that reads creds from .aws/Credentials. You can learn more about how V2 handles creds in the <em>AWS Java V2 DEV Guide</em>.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">Using credentials</a></p>\n<p>You cannot use <strong>ProfileCredentialsProvider</strong> in an app deployed to a container as this file structure not part of the container. So you can use Amazon ECS container credentials:</p>\n<p><strong>The SDK uses the ContainerCredentialsProvider class to load credentials from the AWS_CONTAINER_CREDENTIALS_RELATIVE_URI system environment variable.</strong></p>\n<p>See point 5 in the above Doc.</p>\n"},{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654177366,"creation_date":1654177366,"answer_id":72477269,"question_id":72475915,"body_markdown":"I wouldn&#39;t recommend doing this via Java code at all. I would totally remove the `aws-java-sdk-secretsmanager` dependency, and use the [ECS support for injecting SecretsManager values as environment variables][1].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-secrets.html","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p>I wouldn't recommend doing this via Java code at all. I would totally remove the <code>aws-java-sdk-secretsmanager</code> dependency, and use the <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/specifying-sensitive-data-secrets.html\" rel=\"nofollow noreferrer\">ECS support for injecting SecretsManager values as environment variables</a>.</p>\n"},{"tags":[],"owner":{"account_id":5564268,"reputation":637,"user_id":4412155,"display_name":"Bheem  Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694504904,"creation_date":1694504904,"answer_id":77087020,"question_id":72475915,"body_markdown":"**Read value from AWS secrets manager using java - spring boot**\r\n\r\nusing below code you can fetch the values from AWS secrets manager for Kafka credentials.\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.stereotype.Service;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.secretsmanager.SecretsManagerClient;\r\n    import software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest;\r\n    import software.amazon.awssdk.services.secretsmanager.model.GetSecretValueResponse;\r\n    \r\n    @Configuration\r\n    public class SecretManagerSdk {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(SecretManagerSdk.class); \r\n        \r\n        @Value(&quot;${mskRegion}&quot;)\r\n        private String mskRegion;\r\n    \r\n        @Value(&quot;${secretName}&quot;)\r\n        private String amazonSecretName;\r\n    \r\n        public String getSecretKey() {\r\n    \r\n            try {\r\n             log.info(&quot;SDK - start&quot;);\r\n               String mysecrets = this.getSecret();\r\n                log.info(&quot;SDK - end&quot;);\r\n                return mysecrets;\r\n            } catch (Exception e) {\r\n                throw e;\r\n    \r\n            }       \r\n        }\r\n    \r\n        public String getSecret() {\r\n            log.info(&quot;getting secret values&quot;);\r\n            String secretName = amazonSecretName;\r\n            Region region = Region.of(mskRegion);\r\n    \r\n            // Creating a Secrets Manager client\r\n            SecretsManagerClient client = SecretsManagerClient.builder().region(region).build();\r\n            GetSecretValueRequest getSecretValueRequest = GetSecretValueRequest.builder().secretId(secretName).build();\r\n            GetSecretValueResponse getSecretValueResponse;\r\n            try {\r\n                getSecretValueResponse = client.getSecretValue(getSecretValueRequest);\r\n            } catch (Exception e) {\r\n           \r\n               throw e;\r\n            }\r\n            String secret = getSecretValueResponse.secretString();\r\n            log.info(&quot;Secret fetched&quot;);\r\n            return secret;\r\n        }\r\n    }\r\n\r\nconfiguration changes in application.properties\r\n\r\n    mskRegion = ap-south-1\r\n    secretName = *************\r\n\r\nadd maven dependency on pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.19.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.19.14&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p><strong>Read value from AWS secrets manager using java - spring boot</strong></p>\n<p>using below code you can fetch the values from AWS secrets manager for Kafka credentials.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.stereotype.Service;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.secretsmanager.SecretsManagerClient;\nimport software.amazon.awssdk.services.secretsmanager.model.GetSecretValueRequest;\nimport software.amazon.awssdk.services.secretsmanager.model.GetSecretValueResponse;\n\n@Configuration\npublic class SecretManagerSdk {\n\n    private static final Logger log = LoggerFactory.getLogger(SecretManagerSdk.class); \n    \n    @Value(&quot;${mskRegion}&quot;)\n    private String mskRegion;\n\n    @Value(&quot;${secretName}&quot;)\n    private String amazonSecretName;\n\n    public String getSecretKey() {\n\n        try {\n         log.info(&quot;SDK - start&quot;);\n           String mysecrets = this.getSecret();\n            log.info(&quot;SDK - end&quot;);\n            return mysecrets;\n        } catch (Exception e) {\n            throw e;\n\n        }       \n    }\n\n    public String getSecret() {\n        log.info(&quot;getting secret values&quot;);\n        String secretName = amazonSecretName;\n        Region region = Region.of(mskRegion);\n\n        // Creating a Secrets Manager client\n        SecretsManagerClient client = SecretsManagerClient.builder().region(region).build();\n        GetSecretValueRequest getSecretValueRequest = GetSecretValueRequest.builder().secretId(secretName).build();\n        GetSecretValueResponse getSecretValueResponse;\n        try {\n            getSecretValueResponse = client.getSecretValue(getSecretValueRequest);\n        } catch (Exception e) {\n       \n           throw e;\n        }\n        String secret = getSecretValueResponse.secretString();\n        log.info(&quot;Secret fetched&quot;);\n        return secret;\n    }\n}\n</code></pre>\n<p>configuration changes in application.properties</p>\n<pre><code>mskRegion = ap-south-1\nsecretName = *************\n</code></pre>\n<p>add maven dependency on pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\n    &lt;version&gt;2.19.14&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;sts&lt;/artifactId&gt;\n    &lt;version&gt;2.19.14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1378324,"reputation":484,"user_id":1311839,"accept_rate":84,"display_name":"Kuku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72477269,"answer_count":3,"score":0,"last_activity_date":1694504904,"creation_date":1654171065,"question_id":72475915,"body_markdown":"Our application needs to connect to confluent kafka and thus we have the following setups inside application.yaml file\r\n\r\n    kafka:\r\n        properties:\r\n          sasl:\r\n            mechanism: PLAIN\r\n            jaas:\r\n              config: org.apache.kafka.common.security.plain.PlainLoginModule   required username={userName}   password={passWord};\r\n\r\nThe {userName} and {passWord} need to be replaced by value fetching from AWS secret manager. These are what I have done so far.\r\n\r\nStep 1: Use the following maven dependency\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-secretsmanager&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nStep 2: Create a configuration class and create a method annotated with @Bean to init a AWSSecretsManager client object.And we can get some key value pairs by using AWSSecretsManager object.\r\n\r\n    // Create a Secrets Manager client\r\n    AWSSecretsManager client  = AWSSecretsManagerClientBuilder.standard()\r\n    \t\t.withRegion(region)\r\n    \t\t.withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretKey)))\r\n    \t\t.build();\r\n\r\nI have the following questions to ask:\r\n1. How can we inject the value we get from secret manager and replace the placeholder in the application.yml file?\r\n2. To access AWSSecretsManager we need to pass AWS accessKey and seretKey. What is a good practice to provide those two values?\r\n\r\nSome more info:\r\n\r\nour application will be running on AWS ECS","title":"Read value from AWS Secrets Manager and replace a placeholder in the Springboot property values","body":"<p>Our application needs to connect to confluent kafka and thus we have the following setups inside application.yaml file</p>\n<pre><code>kafka:\n    properties:\n      sasl:\n        mechanism: PLAIN\n        jaas:\n          config: org.apache.kafka.common.security.plain.PlainLoginModule   required username={userName}   password={passWord};\n</code></pre>\n<p>The {userName} and {passWord} need to be replaced by value fetching from AWS secret manager. These are what I have done so far.</p>\n<p>Step 1: Use the following maven dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-secretsmanager&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Step 2: Create a configuration class and create a method annotated with @Bean to init a AWSSecretsManager client object.And we can get some key value pairs by using AWSSecretsManager object.</p>\n<pre><code>// Create a Secrets Manager client\nAWSSecretsManager client  = AWSSecretsManagerClientBuilder.standard()\n        .withRegion(region)\n        .withCredentials(new AWSStaticCredentialsProvider(new BasicAWSCredentials(accessKey, secretKey)))\n        .build();\n</code></pre>\n<p>I have the following questions to ask:</p>\n<ol>\n<li>How can we inject the value we get from secret manager and replace the placeholder in the application.yml file?</li>\n<li>To access AWSSecretsManager we need to pass AWS accessKey and seretKey. What is a good practice to provide those two values?</li>\n</ol>\n<p>Some more info:</p>\n<p>our application will be running on AWS ECS</p>\n"},{"tags":["java","ubuntu","apt-get"],"comments":[{"owner":{"account_id":2509521,"reputation":3294,"user_id":2182351,"accept_rate":25,"display_name":"Mani"},"score":2,"creation_date":1401469149,"post_id":23959615,"comment_id":36911511,"body_markdown":"http://askubuntu.com/questions/84483/how-to-completely-uninstall-java check the answer with bounty :)","body":"<a href=\"http://askubuntu.com/questions/84483/how-to-completely-uninstall-java\" title=\"how to completely uninstall java\">askubuntu.com/questions/84483/how-to-completely-uninstall-ja&zwnj;&#8203;va</a> check the answer with bounty :)"}],"answers":[{"tags":[],"owner":{"account_id":4337833,"reputation":1060,"user_id":3541901,"display_name":"Bary12"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1401468589,"creation_date":1401468589,"answer_id":23959640,"question_id":23959615,"body_markdown":"    sudo apt-get remove default-jre\r\nremoves the package &quot;default-jre&quot;. all tho you should ask in [askUbuntu][1]\r\n\r\n\r\n  [1]: https://askubuntu.com/","title":"how to remove default-jre java installation from Ubuntu?","body":"<pre><code>sudo apt-get remove default-jre\n</code></pre>\n\n<p>removes the package \"default-jre\". all tho you should ask in <a href=\"https://askubuntu.com/\">askUbuntu</a></p>\n"},{"tags":[],"owner":{"account_id":200282,"reputation":1966,"user_id":446043,"accept_rate":33,"display_name":"gvanto"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1499348067,"creation_date":1499348067,"answer_id":44950496,"question_id":23959615,"body_markdown":"Bary12&#39;s answer worked for me:\r\n\r\n&gt; sudo apt-get autoremove default-jre","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>Bary12's answer worked for me:</p>\n\n<blockquote>\n  <p>sudo apt-get autoremove default-jre</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3464510,"reputation":2917,"user_id":2900495,"accept_rate":74,"display_name":"Nishant Bhakta"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1525844311,"creation_date":1525844311,"answer_id":50246200,"question_id":23959615,"body_markdown":"**To completely remove jdk from your system, follow these below steps:**\r\n\r\n 1. Type `sudo apt-get autoremove default-jdk openjdk-` (Don&#39;t hit `Enter` right now).\r\n 2. Now press `tab` button for 2 or 3 times, you will get list of packages\r\n    starting with `openjdk-`.\r\n 3. Look for name like `openjdk-11-jdk`. You need to get java version,\r\n    here is 11.\r\n 4. Now complete your command to `sudo apt-get autoremove default-jdk\r\n    openjdk-11-jdk`. (Change 11 to your java version)\r\n 5. And Hit `Enter` button.\r\n\r\nNow you have done removing java from your system.","title":"how to remove default-jre java installation from Ubuntu?","body":"<p><strong>To completely remove jdk from your system, follow these below steps:</strong></p>\n\n<ol>\n<li>Type <code>sudo apt-get autoremove default-jdk openjdk-</code> (Don't hit <code>Enter</code> right now).</li>\n<li>Now press <code>tab</code> button for 2 or 3 times, you will get list of packages\nstarting with <code>openjdk-</code>.</li>\n<li>Look for name like <code>openjdk-11-jdk</code>. You need to get java version,\nhere is 11.</li>\n<li>Now complete your command to <code>sudo apt-get autoremove default-jdk\nopenjdk-11-jdk</code>. (Change 11 to your java version)</li>\n<li>And Hit <code>Enter</code> button.</li>\n</ol>\n\n<p>Now you have done removing java from your system.</p>\n"},{"tags":[],"owner":{"account_id":12842613,"reputation":21,"user_id":9290162,"display_name":"Achint Srivastava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560753775,"creation_date":1560753775,"answer_id":56625916,"question_id":23959615,"body_markdown":"You can remove Java 12 using this command--\r\n\r\n    sudo apt-get remove oracle-java12-installer\r\n\r\nyou can change the version by changing the 12 to the version present on your computer\r\n\r\nthen recheck by finding version -\r\n \r\n\r\n    java -version","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>You can remove Java 12 using this command--</p>\n\n<pre><code>sudo apt-get remove oracle-java12-installer\n</code></pre>\n\n<p>you can change the version by changing the 12 to the version present on your computer</p>\n\n<p>then recheck by finding version -</p>\n\n<pre><code>java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2205041,"reputation":360,"user_id":1948482,"display_name":"Kshitij"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603286290,"creation_date":1603286290,"answer_id":64464408,"question_id":23959615,"body_markdown":"\r\nTo set the Java version interactively:\r\n\r\nLog in as root or use sudo.\r\n\r\nView the Java alternatives.\r\n\r\n    $ update-alternatives --config java\r\n\r\nThis command lists the Java installations and prompts to select from the choices.\r\n\r\nSample response\r\n\r\nThere are 4 programs which provide &#39;java&#39;.\r\n\r\n\r\nSelection Command\r\n\r\n\r\n-----------------------------------------------\r\n\r\n\r\n1 /usr/lib/jvm/jre-1.7.0-openjdk.x86_64/bin/java\r\n\r\n\r\n 2 * /usr/lib/jvm/zulu-6/bin/java\r\n\r\n\r\n3 /usr/lib/jvm/zulu-7/bin/java\r\n\r\n\r\n4 /usr/lib/jvm/zulu-8/bin/java\r\n\r\nSelect a Java version, at the prompt, type a number.\r\n\r\nPress enter to keep the default[*], or type selection number:\r\n\r\nSample response\r\n\r\nUsing &#39;/usr/lib/jvm/zulu-7/bin/java&#39; to provide &#39;java&#39;.\r\n\r\nVerify the switch, check the Java version.\r\n\r\n    $ java -version\r\n\r\nSample response\r\n\r\nopenjdk version &quot;1.7.0_65&quot;\r\n\r\nOpenJDK Runtime Environment (Zulu 7.6.0.1-linux64) (build 1.7.0_65-b17)\r\n\r\nOpenJDK 64-Bit Server VM (Zulu 7.6.0.1-linux64) (build 24.65-b04, mixed mode)\r\n\r\nTo set the Java version by path:\r\n\r\nLog in as root or use sudo.\r\n\r\nSpecify the path to use when running Java.\r\n\r\n    $ update-alternatives --set java /usr/lib/jvm/zulu8/bin/java","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>To set the Java version interactively:</p>\n<p>Log in as root or use sudo.</p>\n<p>View the Java alternatives.</p>\n<pre><code>$ update-alternatives --config java\n</code></pre>\n<p>This command lists the Java installations and prompts to select from the choices.</p>\n<p>Sample response</p>\n<p>There are 4 programs which provide 'java'.</p>\n<p>Selection Command</p>\n<hr />\n<p>1 /usr/lib/jvm/jre-1.7.0-openjdk.x86_64/bin/java</p>\n<p>2 * /usr/lib/jvm/zulu-6/bin/java</p>\n<p>3 /usr/lib/jvm/zulu-7/bin/java</p>\n<p>4 /usr/lib/jvm/zulu-8/bin/java</p>\n<p>Select a Java version, at the prompt, type a number.</p>\n<p>Press enter to keep the default[*], or type selection number:</p>\n<p>Sample response</p>\n<p>Using '/usr/lib/jvm/zulu-7/bin/java' to provide 'java'.</p>\n<p>Verify the switch, check the Java version.</p>\n<pre><code>$ java -version\n</code></pre>\n<p>Sample response</p>\n<p>openjdk version &quot;1.7.0_65&quot;</p>\n<p>OpenJDK Runtime Environment (Zulu 7.6.0.1-linux64) (build 1.7.0_65-b17)</p>\n<p>OpenJDK 64-Bit Server VM (Zulu 7.6.0.1-linux64) (build 24.65-b04, mixed mode)</p>\n<p>To set the Java version by path:</p>\n<p>Log in as root or use sudo.</p>\n<p>Specify the path to use when running Java.</p>\n<pre><code>$ update-alternatives --set java /usr/lib/jvm/zulu8/bin/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12989716,"reputation":3034,"user_id":9389293,"display_name":"Abhishek Sengupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668599288,"creation_date":1668599288,"answer_id":74459934,"question_id":23959615,"body_markdown":"I Installed Default JDK like this\r\n\r\n    sudo apt install -y default-jdk\r\n\r\nRemoved like this \r\n \r\n\r\n    sudo apt remove openjdk-11-jre-headless openjdk-11-jre openjdk-11-jdk-headless openjdk-11-jdk  \r\n\r\n\r\n","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>I Installed Default JDK like this</p>\n<pre><code>sudo apt install -y default-jdk\n</code></pre>\n<p>Removed like this</p>\n<pre><code>sudo apt remove openjdk-11-jre-headless openjdk-11-jre openjdk-11-jdk-headless openjdk-11-jdk  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25947706,"reputation":21,"user_id":19666217,"display_name":"SeeingDragon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694504845,"creation_date":1694504845,"answer_id":77087014,"question_id":23959615,"body_markdown":"It may be useful for you.\r\nfirtstly,use this command to show all the jdk of installed.\r\n\r\n    dpkg -l | grep -i jdk\r\nSecondly,use this command to uninstall the jdk.\r\n\r\n    sudo apt purge &lt;package_name&gt;","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>It may be useful for you.\nfirtstly,use this command to show all the jdk of installed.</p>\n<pre><code>dpkg -l | grep -i jdk\n</code></pre>\n<p>Secondly,use this command to uninstall the jdk.</p>\n<pre><code>sudo apt purge &lt;package_name&gt;\n</code></pre>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67615,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":23959640,"answer_count":7,"score":14,"last_activity_date":1694504845,"creation_date":1401468501,"question_id":23959615,"body_markdown":"I had no java (i.e. java -version said java no found or similar)\r\n\r\nI installed it like this:\r\n\r\n    sudo apt-get install default-jre\r\n\r\nThis results in installing java 1.6 - I need java 1.7\r\n\r\nSo the next probelem is how to uninstall it.\r\n\r\nI tried this:\r\n\r\n    sudo apt-get --purge -remove default-jre\r\n\r\nWhich seemed to work, but when I do:\r\n\r\n    java -version\r\n\r\nI still java respond with 1.6 - i.e. id didnt uninstall java.  \r\n\r\nOk, so I guess -remove does not remove the thing it installed. Is there a way to o this?","title":"how to remove default-jre java installation from Ubuntu?","body":"<p>I had no java (i.e. java -version said java no found or similar)</p>\n\n<p>I installed it like this:</p>\n\n<pre><code>sudo apt-get install default-jre\n</code></pre>\n\n<p>This results in installing java 1.6 - I need java 1.7</p>\n\n<p>So the next probelem is how to uninstall it.</p>\n\n<p>I tried this:</p>\n\n<pre><code>sudo apt-get --purge -remove default-jre\n</code></pre>\n\n<p>Which seemed to work, but when I do:</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>I still java respond with 1.6 - i.e. id didnt uninstall java.  </p>\n\n<p>Ok, so I guess -remove does not remove the thing it installed. Is there a way to o this?</p>\n"},{"tags":["java","pdf","fonts","pdfbox","pdf-form"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1694504332,"creation_date":1431644791,"answer_id":30248927,"question_id":30181250,"body_markdown":"*(You can find a runnable example here: [FillFormCustomFont.java][1])*\r\n\r\nUsing poor-man&#39;s-bold\r\n---\r\n\r\n&gt; 1. How do I bold the field? ... What I need to set to bold the field?\r\n\r\nIn PDF you usually make text bold by using a font with bold glyphs, also see your second question. If you don&#39;t have such a bold font at hands, you may instead use some poor-man&#39;s-bold technique, e.g. not only filling the letter but also stroking a line along its borders:\r\n\r\n    public static void setFieldBold(String name, String value) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        PDField field = acroForm.getField(name);\r\n\r\n        COSDictionary dict = ((PDField) field).getDictionary();\r\n        COSString defaultAppearance = (COSString) dict\r\n                .getDictionaryObject(COSName.DA);\r\n        if (defaultAppearance != null)\r\n        {\r\n            dict.setString(COSName.DA, &quot;/Helv 10 Tf 2 Tr .5 w 0 g&quot;);\r\n            if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\r\n                dict.setString(COSName.DA, &quot;/Helv 12 Tf 0 g&quot;);\r\n            }\r\n        }\r\n        if (field instanceof PDTextbox)\r\n        {\r\n            field = new PDTextbox(acroForm, dict);\r\n            ((PDField) field).setValue(value);\r\n        }\r\n    }\r\n\r\n(`2 Tr .5 w` = use rendering mode 2, i.e. fill and stroke, and use a line width of .5)\r\n\r\nInstead of\r\n\r\n![Using the OP&#39;s method][2]\r\n\r\nyou now get\r\n\r\n![Using the setFieldBold method][3]\r\n\r\nUsing custom fonts\r\n---\r\n\r\n&gt; 2. If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?\r\n\r\nIf you want to use an own font, you first need to register it in the **AcroForm** default resources like this:\r\n\r\n    public String prepareFont(PDDocument _pdfDocument) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        \r\n        PDResources res = acroForm.getDefaultResources();\r\n        if (res == null)\r\n            res = new PDResources();\r\n\r\n        InputStream fontStream = getClass().getResourceAsStream(&quot;LiberationSans-Regular.ttf&quot;);\r\n        PDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\r\n        String fontName = res.addFont(font);\r\n        acroForm.setDefaultResources(res);\r\n        \r\n        return fontName;\r\n    }\r\n\r\nThis method returns the font name to use in \r\n\r\n    public static void setField(String name, String value, String fontName) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        PDField field = acroForm.getField(name);\r\n\r\n        COSDictionary dict = ((PDField) field).getDictionary();\r\n        COSString defaultAppearance = (COSString) dict\r\n                .getDictionaryObject(COSName.DA);\r\n        if (defaultAppearance != null)\r\n        {\r\n            dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 10 Tf 0 g&quot;);\r\n            if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\r\n                dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 12 Tf 0 g&quot;);\r\n            }\r\n        }\r\n        if (field instanceof PDTextbox)\r\n        {\r\n            field = new PDTextbox(acroForm, dict);\r\n            ((PDField) field).setValue(value);\r\n        }\r\n    }\r\n\r\nYou now get\r\n\r\n![Using the setFieldBold method with font parameter][4]\r\n\r\nThe difference is not too big because the fonts are quite similar. Use the font of your choice for more effect.\r\n\r\nUsing **/Helv**, **/HeBo**, ...\r\n---\r\n\r\nThe OP found a list of font names **/Helv**, **/HeBo**, ..., probably in the PDFBox issue [PDFBOX-1234](https://issues.apache.org/jira/browse/PDFBOX-1234?focusedCommentId=14304601&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14304601), which appear to be usable without defining them in any resource dictionary.\r\n\r\n**These names are not a PDF feature**, i.e. the PDF specification does not know about them, on the contrary:\r\n\r\n&gt; The default appearance string (**DA**) contains any graphics state or text state operators needed to establish the graphics state parameters, such as text size and colour, for displaying the field’s variable text. Only operators that are allowed within text objects shall occur in this string (see Figure 9). At a minimum, the string shall include a **Tf** (text font) operator along with its two operands, font and size. *The specified font value shall match a resource name in the **Font** entry of the default resource dictionary (referenced from the **DR** entry of the interactive form dictionary; see Table 218).*\r\n&gt;\r\n&gt; *(section 12.7.3.3 Field Dictionaries / Variable Text in ISO 32000-1)*\r\n\r\nThus, the specification does not know those default font names.\r\n\r\nNonetheless, Adobe Reader/Acrobat seem to support them, most likely because at some time in the distant past some form generating tool assumed them to be there and support for those forms was kept due to compatibility reasons.\r\n\r\nUsing this feature, therefore, might not be the best choice but your mileage may vary.\r\n\r\nUsing custom and standard fonts\r\n---\r\n\r\nIn his comments the OP indicated he wanted to use both custom and standard fonts in forms.\r\n\r\nTo do this I generalized the method `prepareFont` a bit and refactored the TTF import into a separate method:\r\n\r\n    public List&lt;String&gt; prepareFont(PDDocument _pdfDocument, List&lt;PDFont&gt; fonts) throws IOException\r\n    {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        \r\n        PDResources res = acroForm.getDefaultResources();\r\n        if (res == null)\r\n            res = new PDResources();\r\n\r\n        List&lt;String&gt; fontNames = new ArrayList&lt;String&gt;();\r\n        for (PDFont font: fonts)\r\n        {\r\n            fontNames.add(res.addFont(font));\r\n        }\r\n\r\n        acroForm.setDefaultResources(res);\r\n        \r\n        return fontNames;\r\n    }\r\n\r\n    public PDFont loadTrueTypeFont(PDDocument _pdfDocument, String resourceName) throws IOException\r\n    {\r\n        try ( InputStream fontStream = getClass().getResourceAsStream(resourceName); )\r\n        {\r\n            return PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\r\n        }\r\n    }\r\n\r\nUsing these methods you can mix custom and standard fonts like this:\r\n\r\n    PDDocument doc = PDDocument.load(originalStream);\r\n    List&lt;String&gt; fontNames = prepareFont(doc, Arrays.asList(loadTrueTypeFont(doc, &quot;LiberationSans-Regular.ttf&quot;), PDType1Font.HELVETICA_BOLD));\r\n\r\n    setField(doc, &quot;FirstName&quot;, &quot;My first name&quot;, fontNames.get(0));\r\n    setField(doc, &quot;LastName&quot;, &quot;My last name&quot;, fontNames.get(1));\r\n    \r\n    doc.save(new File(RESULT_FOLDER, &quot;acroform-setFieldCustomStandard.pdf&quot;));\r\n    doc.close();\r\n\r\n&gt; *([FillFormCustomFont][5].testSetFieldCustomStandard_acroform)*\r\n\r\nResulting in \r\n\r\n![Using mixed custom and standard fonts][6]\r\n\r\n`PDType1Font` has constants for all 14 standard fonts. Thus, like this you can use standard fonts (mixed with custom fonts if desired) in form fields in a way that generates the proper **Font** entries in the default resources, i.e. without relying on proprietary default font names like **HeBo**.\r\n\r\nPS\r\n---\r\n&gt; Any documentation on what order the /Helv 10 Tf 0 g are arranged?\r\n\r\nYes, there is, cf. the specification [ISO 32000-1][7].\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\r\n  [2]: http://i.stack.imgur.com/fpbbS.png\r\n  [3]: http://i.stack.imgur.com/BD2AE.png\r\n  [4]: http://i.stack.imgur.com/cQiEN.png\r\n  [5]: https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\r\n  [6]: http://i.stack.imgur.com/EfFwP.png\r\n  [7]: https://opensource.adobe.com/dc-acrobat-sdk-docs/pdfstandards/PDF32000_2008.pdf","title":"Java PDFBox setting custom font for a few fields in PDF Form","body":"<p><em>(You can find a runnable example here: <a href=\"https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\" rel=\"nofollow noreferrer\">FillFormCustomFont.java</a>)</em></p>\n<h2>Using poor-man's-bold</h2>\n<blockquote>\n<ol>\n<li>How do I bold the field? ... What I need to set to bold the field?</li>\n</ol>\n</blockquote>\n<p>In PDF you usually make text bold by using a font with bold glyphs, also see your second question. If you don't have such a bold font at hands, you may instead use some poor-man's-bold technique, e.g. not only filling the letter but also stroking a line along its borders:</p>\n<pre><code>public static void setFieldBold(String name, String value) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    PDField field = acroForm.getField(name);\n\n    COSDictionary dict = ((PDField) field).getDictionary();\n    COSString defaultAppearance = (COSString) dict\n            .getDictionaryObject(COSName.DA);\n    if (defaultAppearance != null)\n    {\n        dict.setString(COSName.DA, &quot;/Helv 10 Tf 2 Tr .5 w 0 g&quot;);\n        if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\n            dict.setString(COSName.DA, &quot;/Helv 12 Tf 0 g&quot;);\n        }\n    }\n    if (field instanceof PDTextbox)\n    {\n        field = new PDTextbox(acroForm, dict);\n        ((PDField) field).setValue(value);\n    }\n}\n</code></pre>\n<p>(<code>2 Tr .5 w</code> = use rendering mode 2, i.e. fill and stroke, and use a line width of .5)</p>\n<p>Instead of</p>\n<p><img src=\"https://i.stack.imgur.com/fpbbS.png\" alt=\"Using the OP's method\" /></p>\n<p>you now get</p>\n<p><img src=\"https://i.stack.imgur.com/BD2AE.png\" alt=\"Using the setFieldBold method\" /></p>\n<h2>Using custom fonts</h2>\n<blockquote>\n<ol start=\"2\">\n<li>If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?</li>\n</ol>\n</blockquote>\n<p>If you want to use an own font, you first need to register it in the <strong>AcroForm</strong> default resources like this:</p>\n<pre><code>public String prepareFont(PDDocument _pdfDocument) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    \n    PDResources res = acroForm.getDefaultResources();\n    if (res == null)\n        res = new PDResources();\n\n    InputStream fontStream = getClass().getResourceAsStream(&quot;LiberationSans-Regular.ttf&quot;);\n    PDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\n    String fontName = res.addFont(font);\n    acroForm.setDefaultResources(res);\n    \n    return fontName;\n}\n</code></pre>\n<p>This method returns the font name to use in</p>\n<pre><code>public static void setField(String name, String value, String fontName) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    PDField field = acroForm.getField(name);\n\n    COSDictionary dict = ((PDField) field).getDictionary();\n    COSString defaultAppearance = (COSString) dict\n            .getDictionaryObject(COSName.DA);\n    if (defaultAppearance != null)\n    {\n        dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 10 Tf 0 g&quot;);\n        if (name.equalsIgnoreCase(&quot;Field1&quot;)) {\n            dict.setString(COSName.DA, &quot;/&quot; + fontName + &quot; 12 Tf 0 g&quot;);\n        }\n    }\n    if (field instanceof PDTextbox)\n    {\n        field = new PDTextbox(acroForm, dict);\n        ((PDField) field).setValue(value);\n    }\n}\n</code></pre>\n<p>You now get</p>\n<p><img src=\"https://i.stack.imgur.com/cQiEN.png\" alt=\"Using the setFieldBold method with font parameter\" /></p>\n<p>The difference is not too big because the fonts are quite similar. Use the font of your choice for more effect.</p>\n<h2>Using <strong>/Helv</strong>, <strong>/HeBo</strong>, ...</h2>\n<p>The OP found a list of font names <strong>/Helv</strong>, <strong>/HeBo</strong>, ..., probably in the PDFBox issue <a href=\"https://issues.apache.org/jira/browse/PDFBOX-1234?focusedCommentId=14304601&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14304601\" rel=\"nofollow noreferrer\">PDFBOX-1234</a>, which appear to be usable without defining them in any resource dictionary.</p>\n<p><strong>These names are not a PDF feature</strong>, i.e. the PDF specification does not know about them, on the contrary:</p>\n<blockquote>\n<p>The default appearance string (<strong>DA</strong>) contains any graphics state or text state operators needed to establish the graphics state parameters, such as text size and colour, for displaying the field’s variable text. Only operators that are allowed within text objects shall occur in this string (see Figure 9). At a minimum, the string shall include a <strong>Tf</strong> (text font) operator along with its two operands, font and size. <em>The specified font value shall match a resource name in the <strong>Font</strong> entry of the default resource dictionary (referenced from the <strong>DR</strong> entry of the interactive form dictionary; see Table 218).</em></p>\n<p><em>(section 12.7.3.3 Field Dictionaries / Variable Text in ISO 32000-1)</em></p>\n</blockquote>\n<p>Thus, the specification does not know those default font names.</p>\n<p>Nonetheless, Adobe Reader/Acrobat seem to support them, most likely because at some time in the distant past some form generating tool assumed them to be there and support for those forms was kept due to compatibility reasons.</p>\n<p>Using this feature, therefore, might not be the best choice but your mileage may vary.</p>\n<h2>Using custom and standard fonts</h2>\n<p>In his comments the OP indicated he wanted to use both custom and standard fonts in forms.</p>\n<p>To do this I generalized the method <code>prepareFont</code> a bit and refactored the TTF import into a separate method:</p>\n<pre><code>public List&lt;String&gt; prepareFont(PDDocument _pdfDocument, List&lt;PDFont&gt; fonts) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    \n    PDResources res = acroForm.getDefaultResources();\n    if (res == null)\n        res = new PDResources();\n\n    List&lt;String&gt; fontNames = new ArrayList&lt;String&gt;();\n    for (PDFont font: fonts)\n    {\n        fontNames.add(res.addFont(font));\n    }\n\n    acroForm.setDefaultResources(res);\n    \n    return fontNames;\n}\n\npublic PDFont loadTrueTypeFont(PDDocument _pdfDocument, String resourceName) throws IOException\n{\n    try ( InputStream fontStream = getClass().getResourceAsStream(resourceName); )\n    {\n        return PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\n    }\n}\n</code></pre>\n<p>Using these methods you can mix custom and standard fonts like this:</p>\n<pre><code>PDDocument doc = PDDocument.load(originalStream);\nList&lt;String&gt; fontNames = prepareFont(doc, Arrays.asList(loadTrueTypeFont(doc, &quot;LiberationSans-Regular.ttf&quot;), PDType1Font.HELVETICA_BOLD));\n\nsetField(doc, &quot;FirstName&quot;, &quot;My first name&quot;, fontNames.get(0));\nsetField(doc, &quot;LastName&quot;, &quot;My last name&quot;, fontNames.get(1));\n\ndoc.save(new File(RESULT_FOLDER, &quot;acroform-setFieldCustomStandard.pdf&quot;));\ndoc.close();\n</code></pre>\n<blockquote>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/form/FillFormCustomFont.java\" rel=\"nofollow noreferrer\">FillFormCustomFont</a>.testSetFieldCustomStandard_acroform)</em></p>\n</blockquote>\n<p>Resulting in</p>\n<p><img src=\"https://i.stack.imgur.com/EfFwP.png\" alt=\"Using mixed custom and standard fonts\" /></p>\n<p><code>PDType1Font</code> has constants for all 14 standard fonts. Thus, like this you can use standard fonts (mixed with custom fonts if desired) in form fields in a way that generates the proper <strong>Font</strong> entries in the default resources, i.e. without relying on proprietary default font names like <strong>HeBo</strong>.</p>\n<h2>PS</h2>\n<blockquote>\n<p>Any documentation on what order the /Helv 10 Tf 0 g are arranged?</p>\n</blockquote>\n<p>Yes, there is, cf. the specification <a href=\"https://opensource.adobe.com/dc-acrobat-sdk-docs/pdfstandards/PDF32000_2008.pdf\" rel=\"nofollow noreferrer\">ISO 32000-1</a>.</p>\n"}],"owner":{"account_id":944990,"reputation":321,"user_id":972391,"accept_rate":62,"display_name":"user972391"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24166,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30248927,"answer_count":1,"score":11,"last_activity_date":1694504332,"creation_date":1431401225,"question_id":30181250,"body_markdown":"I am using Apache PDFBox to read a fillable PDF form and fill the fields based on some data. I am using the below code (as per suggestions from other SO answers) to get the default Appearance String and changing it (as you can see below, I am changing the font size from 10 to 12 if the field name is &quot;Field1&quot;. \r\n\r\n1. How do I bold the field? Any documentation on what order the /Helv 10 Tf 0 g are arranged? What I need to set to bold the field?\r\n2. If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?\r\n\r\nPlease note, the below code works fine by filling the specific &#39;value&#39; passed in the method parameter in the specific &#39;name&#39; field of the method parameter.\r\n\r\nThank you !\r\n\r\n    public static void setField(String name, String value ) throws     IOException {\r\n        PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n        PDAcroForm acroForm = docCatalog.getAcroForm();\r\n        PDField field = acroForm.getField( name );\r\n        \r\n        COSDictionary dict = ((PDField)field).getDictionary();\r\n        COSString defaultAppearance = (COSString) dict.getDictionaryObject(COSName.DA);\r\n        if (defaultAppearance != null)\r\n        {\r\n            dict.setString(COSName.DA, &quot;/Helv 10 Tf 0 g&quot;);\r\n            if(name.equalsIgnoreCase(&quot;Field1&quot;))\r\n            {\r\n            \tdict.setString(COSName.DA, &quot;/Helv 12 Tf 0 g&quot;);\r\n            }\r\n        }\r\n        if(field instanceof PDTextbox)\r\n        {\r\n        \tfield= new PDTextbox(acroForm, dict);\r\n        \t((PDField)field).setValue(value);\r\n        }\r\n\r\nAs per mkl&#39;s answer, to use two fonts in the same PDF, I used the following method: I could not get the default font and a custom font working together, so I added two fonts to the resources and used them.\r\n\r\n    public List&lt;String&gt; prepareFont(PDDocument _pdfDocument) throws IOException\r\n\t{\r\n\t\tPDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\r\n\t\tPDAcroForm acroForm = docCatalog.getAcroForm();\r\n\t\t\r\n\t\tPDResources res = acroForm.getDefaultResources();\r\n\t\tif (res == null)\r\n\t\t    res = new PDResources();\r\n\r\n\t\tInputStream fontStream = getClass().getResourceAsStream(&quot;LiberationSans-Regular.ttf&quot;);\r\n    InputStream fontStream2 = getClass().getResourceAsStream(&quot;Font2.ttf&quot;);\r\n\t\tPDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\r\n    PDTrueTypeFont font2 = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream2);\r\n        String fontName = res.addFont(font); \r\n    String fontName2 = res.addFont(font2);\r\n        acroForm.setDefaultResources(res);\r\n        List&lt;String&gt; fontList = new ArrayList&lt;String&gt;();    fontList.add(font1);fontList.add(font2);\r\n        return fontList;\r\n\t}\r\n","title":"Java PDFBox setting custom font for a few fields in PDF Form","body":"<p>I am using Apache PDFBox to read a fillable PDF form and fill the fields based on some data. I am using the below code (as per suggestions from other SO answers) to get the default Appearance String and changing it (as you can see below, I am changing the font size from 10 to 12 if the field name is \"Field1\". </p>\n\n<ol>\n<li>How do I bold the field? Any documentation on what order the /Helv 10 Tf 0 g are arranged? What I need to set to bold the field?</li>\n<li>If I understand right, there are 14 basic fonts that I can use in PDFBox out of the box (pun unintended). I would like to use one or more fonts that look like Signatures (cursive). Any out of the box fonts that do that? If not, if I have my own font, how do I set in the method to be written to the PDF?</li>\n</ol>\n\n<p>Please note, the below code works fine by filling the specific 'value' passed in the method parameter in the specific 'name' field of the method parameter.</p>\n\n<p>Thank you !</p>\n\n<pre><code>public static void setField(String name, String value ) throws     IOException {\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n    PDField field = acroForm.getField( name );\n\n    COSDictionary dict = ((PDField)field).getDictionary();\n    COSString defaultAppearance = (COSString) dict.getDictionaryObject(COSName.DA);\n    if (defaultAppearance != null)\n    {\n        dict.setString(COSName.DA, \"/Helv 10 Tf 0 g\");\n        if(name.equalsIgnoreCase(\"Field1\"))\n        {\n            dict.setString(COSName.DA, \"/Helv 12 Tf 0 g\");\n        }\n    }\n    if(field instanceof PDTextbox)\n    {\n        field= new PDTextbox(acroForm, dict);\n        ((PDField)field).setValue(value);\n    }\n</code></pre>\n\n<p>As per mkl's answer, to use two fonts in the same PDF, I used the following method: I could not get the default font and a custom font working together, so I added two fonts to the resources and used them.</p>\n\n<pre><code>public List&lt;String&gt; prepareFont(PDDocument _pdfDocument) throws IOException\n{\n    PDDocumentCatalog docCatalog = _pdfDocument.getDocumentCatalog();\n    PDAcroForm acroForm = docCatalog.getAcroForm();\n\n    PDResources res = acroForm.getDefaultResources();\n    if (res == null)\n        res = new PDResources();\n\n    InputStream fontStream = getClass().getResourceAsStream(\"LiberationSans-Regular.ttf\");\nInputStream fontStream2 = getClass().getResourceAsStream(\"Font2.ttf\");\n    PDTrueTypeFont font = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream);\nPDTrueTypeFont font2 = PDTrueTypeFont.loadTTF(_pdfDocument, fontStream2);\n    String fontName = res.addFont(font); \nString fontName2 = res.addFont(font2);\n    acroForm.setDefaultResources(res);\n    List&lt;String&gt; fontList = new ArrayList&lt;String&gt;();    fontList.add(font1);fontList.add(font2);\n    return fontList;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673997740,"post_id":75152337,"comment_id":132620441,"body_markdown":"A plugin seems to be outdated, calling a method of the Maven integration (m2e) that no longer exists. See https://stackoverflow.com/questions/73757713/eclipse-2022-09-maven-update-failure#comment131909489_73757713 Unfortunately your question does not contain the full error details (in the _Error Log_ view select the error, hit Ctrl+C and paste the text into your question) and does also not say which m2e version you have and which plugins you have installed.","body":"A plugin seems to be outdated, calling a method of the Maven integration (m2e) that no longer exists. See <a href=\"https://stackoverflow.com/questions/73757713/eclipse-2022-09-maven-update-failure#comment131909489_73757713\" title=\"eclipse 2022 09 maven update failure%23comment131909489_73757713\">stackoverflow.com/questions/73757713/&hellip;</a> Unfortunately your question does not contain the full error details (in the <i>Error Log</i> view select the error, hit Ctrl+C and paste the text into your question) and does also not say which m2e version you have and which plugins you have installed."}],"answers":[{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694504092,"creation_date":1694504092,"answer_id":77086932,"question_id":75152337,"body_markdown":"I also encountered this error when creating a new spring project in Eclipse.\r\n***NoSuchMethodError***, when creating a new Spring project in Eclipse can be caused by various factors, including compatibility issues between different versions of libraries or plugins. \r\n**Installing the new Eclipse version worked for me**. Using the latest version of Eclipse ensures that I have access to the most up-to-date features, bug fixes, and compatibility improvements.\r\n","title":"Problem creating a new spring boot project in eclipse","body":"<p>I also encountered this error when creating a new spring project in Eclipse.\n<em><strong>NoSuchMethodError</strong></em>, when creating a new Spring project in Eclipse can be caused by various factors, including compatibility issues between different versions of libraries or plugins.\n<strong>Installing the new Eclipse version worked for me</strong>. Using the latest version of Eclipse ensures that I have access to the most up-to-date features, bug fixes, and compatibility improvements.</p>\n"}],"owner":{"account_id":27557002,"reputation":1,"user_id":21031003,"display_name":"Miguel Angel Correa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694504092,"creation_date":1673990455,"question_id":75152337,"body_markdown":"When I click on the &quot;create new spring starter project&quot; button I follow the steps and everything works normally but when I finish it I get the following error \r\n\r\nClick to view\r\n\r\n[1]:https://i.stack.imgur.com/v0W6Z.png\r\n\r\n![1]\r\n\r\nIn text its following error:\r\nNoSuchMethodError: &#39;void org.eclipse.m2e.core.project.ResolverConfiguration.setActiveProfiles(java.lang.String)&#39;\r\njava.lang.reflect.InvocationTargetException\r\n\r\nWhen I check the eclipse-workspace folder I get the projects created but I can&#39;t open them in eclipse","title":"Problem creating a new spring boot project in eclipse","body":"<p>When I click on the &quot;create new spring starter project&quot; button I follow the steps and everything works normally but when I finish it I get the following error</p>\n<p>Click to view</p>\n<p><img src=\"https://i.stack.imgur.com/v0W6Z.png\" alt=\"1\" /></p>\n<p>In text its following error:\nNoSuchMethodError: 'void org.eclipse.m2e.core.project.ResolverConfiguration.setActiveProfiles(java.lang.String)'\njava.lang.reflect.InvocationTargetException</p>\n<p>When I check the eclipse-workspace folder I get the projects created but I can't open them in eclipse</p>\n"},{"tags":["java","hashmap","switch-statement","case","class-constants"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1425122347,"post_id":28781011,"comment_id":45838993,"body_markdown":"Btw: your map is not a constant, because it is very easy to manipulate the stored values of that map.","body":"Btw: your map is not a constant, because it is very easy to manipulate the stored values of that map."},{"owner":{"account_id":4856881,"reputation":7986,"user_id":3917580,"accept_rate":50,"display_name":"iusting"},"score":0,"creation_date":1425122798,"post_id":28781011,"comment_id":45839115,"body_markdown":"Thanks for the tip. I will use Collections.unmodifiableMap on the map.","body":"Thanks for the tip. I will use Collections.unmodifiableMap on the map."},{"owner":{"account_id":5327125,"reputation":1850,"user_id":4248850,"accept_rate":50,"display_name":"Sam Daniel"},"score":0,"creation_date":1694502785,"post_id":28781011,"comment_id":135895386,"body_markdown":"MANUAL and &quot;MANUAL&quot; are two different tokens, thats why your program does not find it. If you don&#39;t want enums, then creating a Constants class and define public static variables is what i would go for.","body":"MANUAL and &quot;MANUAL&quot; are two different tokens, thats why your program does not find it. If you don&#39;t want enums, then creating a Constants class and define public static variables is what i would go for."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694516485,"post_id":28781011,"comment_id":135898120,"body_markdown":"Use an `enum`. That&#39;s what they&#39;re for.","body":"Use an <code>enum</code>. That&#39;s what they&#39;re for."}],"answers":[{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1425121957,"creation_date":1425121957,"answer_id":28781030,"question_id":28781011,"body_markdown":"If you are using Java 7 or above, you could do something like:\r\n\r\n    switch(Consts.valueOf(userType)) {\r\n    case &quot;MANUAL&quot;://notice quotes..\r\n        System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n        break;\r\n    case &quot;AUTO&quot;:\r\n        System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n        break;\r\n    case &quot;EXIT&quot;:\r\n        System.out.println(&quot;&gt;&gt; Good-bye&quot;);","title":"Java using HashMap with switch statement","body":"<p>If you are using Java 7 or above, you could do something like:</p>\n\n<pre><code>switch(Consts.valueOf(userType)) {\ncase \"MANUAL\"://notice quotes..\n    System.out.println(\"&gt;&gt; You have selected the manual mode\");\n    break;\ncase \"AUTO\":\n    System.out.println(\"&gt;&gt; You have selected the manual mode\");\n    break;\ncase \"EXIT\":\n    System.out.println(\"&gt;&gt; Good-bye\");\n</code></pre>\n"}],"owner":{"account_id":4856881,"reputation":7986,"user_id":3917580,"accept_rate":50,"display_name":"iusting"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8239,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1694502210,"creation_date":1425121808,"question_id":28781011,"body_markdown":"I have a constants class where I saved HashMaps of constants like:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * Constantes de uso general en el programa.\r\n     */\r\n    public final class Consts {\r\n\r\n        // Opciones del menu de juego.\r\n        public static final Map&lt;Integer, String&gt; GAMETYPE;\r\n        static\r\n        {\r\n            GAMETYPE = new HashMap&lt;&gt;();\r\n            GAMETYPE.put(1, &quot;MANUAL&quot;);\r\n            GAMETYPE.put(2, &quot;AUTOMATIC&quot;);\r\n            GAMETYPE.put(3, &quot;EXIT&quot;);\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param userType\r\n         * @return\r\n         */\r\n        public static String valueOf(int userType) {\r\n            return GAMETYPE.get(userType);\r\n        }\r\n        /**\r\n         * Impide construir objetos de esta clase.\r\n         */\r\n        private Consts(){\r\n            // Tampoco permite a la clase nativa llamar al constructor.\r\n            throw new AssertionError();\r\n        }\r\n    }\r\n\r\nI want to use this constants in a switch-case statement in another class like: \r\n\r\n    userType = sc.nextInt();\r\n    switch(Consts.valueOf(userType)) {\r\n        case MANUAL:\r\n            System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n            break;\r\n        case AUTO:\r\n            System.out.println(&quot;&gt;&gt; You have selected the manual mode&quot;);\r\n            break;\r\n        case EXIT:\r\n            System.out.println(&quot;&gt;&gt; Good-bye&quot;);\r\n            break;\r\n\r\nStill the program does not find MANUAL, AUTO or EXIT. Any idea?\r\n\r\nPS: I do not want to use Enums (this is how I have the constants structured right now but I think that the fact of having many classes for constants makes difficult to follow the code) and I do not want to have the constants declared one by one like:\r\n\r\n    public static final int MANUAL = 1; \r\n    public static final int AUTO = 2; \r\n    public static final int EXIT = 3; \r\n\r\n as I want the constants to be structured in the constants class. Thanks!","title":"Java using HashMap with switch statement","body":"<p>I have a constants class where I saved HashMaps of constants like:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n/**\n * Constantes de uso general en el programa.\n */\npublic final class Consts {\n\n    // Opciones del menu de juego.\n    public static final Map&lt;Integer, String&gt; GAMETYPE;\n    static\n    {\n        GAMETYPE = new HashMap&lt;&gt;();\n        GAMETYPE.put(1, \"MANUAL\");\n        GAMETYPE.put(2, \"AUTOMATIC\");\n        GAMETYPE.put(3, \"EXIT\");\n    }\n\n    /**\n     *\n     * @param userType\n     * @return\n     */\n    public static String valueOf(int userType) {\n        return GAMETYPE.get(userType);\n    }\n    /**\n     * Impide construir objetos de esta clase.\n     */\n    private Consts(){\n        // Tampoco permite a la clase nativa llamar al constructor.\n        throw new AssertionError();\n    }\n}\n</code></pre>\n\n<p>I want to use this constants in a switch-case statement in another class like: </p>\n\n<pre><code>userType = sc.nextInt();\nswitch(Consts.valueOf(userType)) {\n    case MANUAL:\n        System.out.println(\"&gt;&gt; You have selected the manual mode\");\n        break;\n    case AUTO:\n        System.out.println(\"&gt;&gt; You have selected the manual mode\");\n        break;\n    case EXIT:\n        System.out.println(\"&gt;&gt; Good-bye\");\n        break;\n</code></pre>\n\n<p>Still the program does not find MANUAL, AUTO or EXIT. Any idea?</p>\n\n<p>PS: I do not want to use Enums (this is how I have the constants structured right now but I think that the fact of having many classes for constants makes difficult to follow the code) and I do not want to have the constants declared one by one like:</p>\n\n<pre><code>public static final int MANUAL = 1; \npublic static final int AUTO = 2; \npublic static final int EXIT = 3; \n</code></pre>\n\n<p>as I want the constants to be structured in the constants class. Thanks!</p>\n"},{"tags":["java","cmake"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694100509,"post_id":77060874,"comment_id":135849872,"body_markdown":"If you have a JDK installed what is there to stop you from running the same commands that you would from the command line for `jar`?","body":"If you have a JDK installed what is there to stop you from running the same commands that you would from the command line for <code>jar</code>?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1694110380,"post_id":77060874,"comment_id":135851719,"body_markdown":"Please let us know the reason why you don&#39;t want to use Maven for this task. It will be useful to understand the context around the question.","body":"Please let us know the reason why you don&#39;t want to use Maven for this task. It will be useful to understand the context around the question."},{"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"score":0,"creation_date":1694500507,"post_id":77060874,"comment_id":135895024,"body_markdown":"@g00se I could use the same commands to create jar, but I didn&#39;t know the combination of cmake commands to use.","body":"@g00se I could use the same commands to create jar, but I didn&#39;t know the combination of cmake commands to use."},{"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"score":0,"creation_date":1694500510,"post_id":77060874,"comment_id":135895025,"body_markdown":"@aled not using maven is the requirement of the task.","body":"@aled not using maven is the requirement of the task."}],"answers":[{"tags":[],"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694501322,"creation_date":1694501322,"answer_id":77086658,"question_id":77060874,"body_markdown":"[add_custom_command()][1] needs to be used in combination with [add_custom_target()][2].\r\n\r\nadd_custom_command() is used to build the file with dependencies and add_custom_target() to build it to target.\r\n\r\n    add_custom_command(\r\n            OUTPUT &quot;sources.jar&quot;\r\n            COMMAND jar -cf &quot;sources.jar&quot; &quot;${CMAKE_CURRENT_SOURCE_DIR}&quot;\r\n            DEPENDS ${PROJECT_NAME}\r\n            VERBATIM\r\n            COMMENT &quot;creating sources jar&quot;\r\n    )\r\n\r\n    add_custom_target(SourcesJar\r\n            ALL\r\n            DEPENDS &quot;sources.jar&quot;\r\n            )\r\n\r\n\r\n  [1]: https://cmake.org/cmake/help/latest/command/add_custom_command.html\r\n  [2]: https://cmake.org/cmake/help/latest/command/add_custom_target.html","title":"create source.jar with cmake without maven","body":"<p><a href=\"https://cmake.org/cmake/help/latest/command/add_custom_command.html\" rel=\"nofollow noreferrer\">add_custom_command()</a> needs to be used in combination with <a href=\"https://cmake.org/cmake/help/latest/command/add_custom_target.html\" rel=\"nofollow noreferrer\">add_custom_target()</a>.</p>\n<p>add_custom_command() is used to build the file with dependencies and add_custom_target() to build it to target.</p>\n<pre><code>add_custom_command(\n        OUTPUT &quot;sources.jar&quot;\n        COMMAND jar -cf &quot;sources.jar&quot; &quot;${CMAKE_CURRENT_SOURCE_DIR}&quot;\n        DEPENDS ${PROJECT_NAME}\n        VERBATIM\n        COMMENT &quot;creating sources jar&quot;\n)\n\nadd_custom_target(SourcesJar\n        ALL\n        DEPENDS &quot;sources.jar&quot;\n        )\n</code></pre>\n"}],"owner":{"account_id":13721920,"reputation":11,"user_id":9901592,"display_name":"ahalsnad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694501322,"creation_date":1694099744,"question_id":77060874,"body_markdown":"I would like to generate a source file jar (source.jar) via cmake -- without maven support. \r\n\r\nBy using add_jar(), I can create the binary java bindings for my project using cmake, but not source.jar \r\nFrom the [documentation ](https://cmake.org/cmake/help/latest/module/UseJava.html), I could not find a useful lead to solve the issue. \r\n\r\nAny idea on how to generate the jar via cmake?","title":"create source.jar with cmake without maven","body":"<p>I would like to generate a source file jar (source.jar) via cmake -- without maven support.</p>\n<p>By using add_jar(), I can create the binary java bindings for my project using cmake, but not source.jar\nFrom the <a href=\"https://cmake.org/cmake/help/latest/module/UseJava.html\" rel=\"nofollow noreferrer\">documentation </a>, I could not find a useful lead to solve the issue.</p>\n<p>Any idea on how to generate the jar via cmake?</p>\n"},{"tags":["java","spring-boot","lombok","maven-multi-module"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1694461472,"post_id":77084133,"comment_id":135891427,"body_markdown":"What is the module1 groupId, artifactId, and version?  Is that a listed dependency in module2?","body":"What is the module1 groupId, artifactId, and version?  Is that a listed dependency in module2?"}],"owner":{"account_id":17841291,"reputation":1,"user_id":12959114,"display_name":"Sagar Chidre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694501051,"creation_date":1694458315,"question_id":77084133,"body_markdown":"\r\n----------\r\n\r\nwhile building the module I am getting symbol not found issue even though getters setters are there and I am using lombok.\r\n\r\nIn moule1 all entites and DTO&#39;s are there I am able to acces those entites and DTO&#39;s in module 2 and it working fine but when I try to build module2 its giving error as **symbol not found.**\r\n\r\nNot able to understand what is the issue since I am new maven multi module project\r\n\r\n&gt;      this is my module1 pom.xml\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n&gt; ```\r\n&gt;  This is my module2 pom.xml\r\n&gt; ```\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.nelito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!--&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;--&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```","title":"cannot find symbol issue for maven multimodule project","body":"<hr />\n<p>while building the module I am getting symbol not found issue even though getters setters are there and I am using lombok.</p>\n<p>In moule1 all entites and DTO's are there I am able to acces those entites and DTO's in module 2 and it working fine but when I try to build module2 its giving error as <strong>symbol not found.</strong></p>\n<p>Not able to understand what is the issue since I am new maven multi module project</p>\n<blockquote>\n<pre><code> this is my module1 pom.xml\n</code></pre>\n</blockquote>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<blockquote>\n<pre><code> This is my module2 pom.xml\n</code></pre>\n</blockquote>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nelito&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.24&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!--&lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;--&gt;\n                    \n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1694462407,"post_id":77082756,"comment_id":135891557,"body_markdown":"What is `logReader`? If it is a field, then each loop iteration will overwrite the previous value. The lambda passed to the scheduler captures the `logReader` variable in a closure and uses the latest value _at execution time_ (not at scheduling time). Without a [mre] (as _text_; in the question), this is just an educated guess.","body":"What is <code>logReader</code>? If it is a field, then each loop iteration will overwrite the previous value. The lambda passed to the scheduler captures the <code>logReader</code> variable in a closure and uses the latest value <i>at execution time</i> (not at scheduling time). Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (as <i>text</i>; in the question), this is just an educated guess."}],"answers":[{"tags":[],"owner":{"account_id":23126814,"reputation":45,"user_id":17232487,"display_name":"Bambi2k21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694500036,"creation_date":1694500036,"answer_id":77086544,"question_id":77082756,"body_markdown":"I have solved the problem. What was happing is that, it was not the value of the string that was being overwritten, but the object itself. This was happening because I declared &quot;logReader&quot;, as a global variable, so instead of creating a new object every time, it just overwrote the value, of the last object. I solved this by creating a new object every time I was iterating through the errors.\r\n\r\n```\r\nfor(int errorId = 0; errorId &lt; errors.size(); errorId++) {\r\n\r\n                LogReader logReader;\r\n                String errorText = logConfig.getErrorNames().get(errorId);\r\n\r\n                logReader = new LogReader(errorText, pathToLog, registry);\r\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\r\n                    try {\r\n                        logReader.runLogReader();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }, Duration.ofMillis(logReaderRerunTime));\r\n            }\r\n```","title":"Why is the global value getting overwritten from another object?","body":"<p>I have solved the problem. What was happing is that, it was not the value of the string that was being overwritten, but the object itself. This was happening because I declared &quot;logReader&quot;, as a global variable, so instead of creating a new object every time, it just overwrote the value, of the last object. I solved this by creating a new object every time I was iterating through the errors.</p>\n<pre><code>for(int errorId = 0; errorId &lt; errors.size(); errorId++) {\n\n                LogReader logReader;\n                String errorText = logConfig.getErrorNames().get(errorId);\n\n                logReader = new LogReader(errorText, pathToLog, registry);\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\n                    try {\n                        logReader.runLogReader();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                }, Duration.ofMillis(logReaderRerunTime));\n            }\n</code></pre>\n"}],"owner":{"account_id":23126814,"reputation":45,"user_id":17232487,"display_name":"Bambi2k21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77086544,"answer_count":1,"score":1,"last_activity_date":1694500036,"creation_date":1694444347,"question_id":77082756,"body_markdown":"I am developing a log reader, that counts, how many errors(that were specified in yaml), appear since the last time I checked(I made a fake log write where I write every 5 seconds one of the errors to the log.)\r\n```\r\n      logs:\r\n        - path: path-to-file\\logname.log\r\n          error_names:\r\n            - Error1t\r\n            - Error2t\r\n            - Error3t\r\n          interval: 10\r\n```\r\n\r\nThe problem is that I need to create for each log a different object. And then I add that object to a taskscheduller and it rerurns that code indefinetly.\r\n```\r\npublic void execute() throws DfException, IOException, InterruptedException {\r\n        int logFileAmount = config.getLogs().size();\r\n        for(int logId = 0; logId &lt; logFileAmount; logId++){\r\n\r\n            var logConfig = config.getLogs().get(logId);\r\n            var logReaderRerunTime = logConfig.getInterval() * 1000;\r\n            var errors = logConfig.getErrorNames();\r\n\r\n            for(int errorId = 0; errorId &lt; errors.size(); errorId++) {\r\n                var errorText = logConfig.getErrorNames().get(errorId);\r\n                System.out.println(errorText);\r\n                logReader = new LogReader(errorText, registry, config);\r\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\r\n                    try {\r\n                        logReader.runLogReader();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }, Duration.ofMillis(logReaderRerunTime));\r\n            }\r\n        }\r\n    }\r\n```\r\nThe logic behind the class(LogReader, you can see it bellow) is this: I append to a list(listOfLogs) the log that appeared since the last time I checked, and give it one of the error strings(errorText) so that it can see how many of them are in that list, thus I can now how many new errors appeared since the last time I checked.\r\nBut for some reason my output looks \r\n```\r\nError11t\r\nError11t 0\r\nError22t\r\nError22t 0\r\nError33t\r\nError11t 0\r\nError33t 0\r\nError22t 0\r\nError33t 0\r\n\r\n \r\nError33t 0\r\nError33t 0\r\nError33t 0\r\nError33t 3\r\nError33t 3\r\nError33t 88\r\n```\r\n\r\nSo what happens that after initialization of the object and the first task scheduller run, the value of all the strings in the object, become overwriten by the last string I gave. Why?\r\nFull Code:\r\nhttps://pastebin.com/JHQpmgGZ","title":"Why is the global value getting overwritten from another object?","body":"<p>I am developing a log reader, that counts, how many errors(that were specified in yaml), appear since the last time I checked(I made a fake log write where I write every 5 seconds one of the errors to the log.)</p>\n<pre><code>      logs:\n        - path: path-to-file\\logname.log\n          error_names:\n            - Error1t\n            - Error2t\n            - Error3t\n          interval: 10\n</code></pre>\n<p>The problem is that I need to create for each log a different object. And then I add that object to a taskscheduller and it rerurns that code indefinetly.</p>\n<pre><code>public void execute() throws DfException, IOException, InterruptedException {\n        int logFileAmount = config.getLogs().size();\n        for(int logId = 0; logId &lt; logFileAmount; logId++){\n\n            var logConfig = config.getLogs().get(logId);\n            var logReaderRerunTime = logConfig.getInterval() * 1000;\n            var errors = logConfig.getErrorNames();\n\n            for(int errorId = 0; errorId &lt; errors.size(); errorId++) {\n                var errorText = logConfig.getErrorNames().get(errorId);\n                System.out.println(errorText);\n                logReader = new LogReader(errorText, registry, config);\n                taskScheduler.scheduleWithFixedDelay(() -&gt; {\n                    try {\n                        logReader.runLogReader();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n\n                }, Duration.ofMillis(logReaderRerunTime));\n            }\n        }\n    }\n</code></pre>\n<p>The logic behind the class(LogReader, you can see it bellow) is this: I append to a list(listOfLogs) the log that appeared since the last time I checked, and give it one of the error strings(errorText) so that it can see how many of them are in that list, thus I can now how many new errors appeared since the last time I checked.\nBut for some reason my output looks</p>\n<pre><code>Error11t\nError11t 0\nError22t\nError22t 0\nError33t\nError11t 0\nError33t 0\nError22t 0\nError33t 0\n\n \nError33t 0\nError33t 0\nError33t 0\nError33t 3\nError33t 3\nError33t 88\n</code></pre>\n<p>So what happens that after initialization of the object and the first task scheduller run, the value of all the strings in the object, become overwriten by the last string I gave. Why?\nFull Code:\n<a href=\"https://pastebin.com/JHQpmgGZ\" rel=\"nofollow noreferrer\">https://pastebin.com/JHQpmgGZ</a></p>\n"},{"tags":["java","eclipse","tomcat","command-line-interface"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694272655,"post_id":77064567,"comment_id":135871117,"body_markdown":"[`ant`](https://www.tutorialspoint.com/ant/ant_creating_war_files.htm) looks like a good option","body":"<a href=\"https://www.tutorialspoint.com/ant/ant_creating_war_files.htm\" rel=\"nofollow noreferrer\"><code>ant</code></a> looks like a good option"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694273102,"post_id":77064567,"comment_id":135871166,"body_markdown":"Where .java files are? same directory as .class ones? if so may a manual compile would be the easiest way","body":"Where .java files are? same directory as .class ones? if so may a manual compile would be the easiest way"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1694500005,"post_id":77064567,"comment_id":135894938,"body_markdown":"@LMC Thanks for your comment. Eclipse puts the calss file for a file `dao.java` which sits in `src/com/package/my` into the directory `bin/com/package/my`.  So it would be great if the command line tool did the same.","body":"@LMC Thanks for your comment. Eclipse puts the calss file for a file <code>dao.java</code> which sits in <code>src&#47;com&#47;package&#47;my</code> into the directory <code>bin&#47;com&#47;package&#47;my</code>.  So it would be great if the command line tool did the same."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1694525860,"post_id":77064567,"comment_id":135900319,"body_markdown":"I meant to ask where are *.java files on remote machine. They should be packed inside the war file.","body":"I meant to ask where are *.java files on remote machine. They should be packed inside the war file."}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694499984,"creation_date":1694153984,"question_id":77064567,"body_markdown":"I have a web project in Eclipse with all the normal stuff: Some data access classes in `src`, some JSP pages in `WebContent` and some static files (css, images) in sub-directories in `WebContent`.\r\n\r\nIn Eclipse I can easily compile the project and spin up a dev Tomcat instance via Eclipse&#39;s _Servers_ pane.\r\n\r\nHowever I will need to move this project to a remote machine without GUI access. I have only terminal access which I will so to make minor changes to Java code and JSP files. After doing so, I need to compile the whole project and spin up a dev Tomcat to view the result. \r\n\r\nIs there a command line tool which can compile a Tomcat project and spin up a dev Tomcat with the project?\r\n\r\nOn the [Tomcat site][1] I found the [Tomcat Client Deployer][2] mentioned. However this tool looks quite complicated needing a lot of configuration. My (Eclipse) project  however contains all the config information already - I just would need a command line tool which reads them, compiles the WAR and spins up Tomcat...\r\n\r\n**New Idea:**\r\n\r\nMaybe Eclipse can be called from the command line without opening a GUI to do this?\r\n\r\n  [1]: https://tomcat.apache.org\r\n  [2]: https://tomcat.apache.org/tomcat-8.5-doc/deployer-howto.html#Deploying_using_the_Client_Deployer_Package\r\n","title":"Compiling a Tomcat project and spinning a dev Tomcat up from the command line","body":"<p>I have a web project in Eclipse with all the normal stuff: Some data access classes in <code>src</code>, some JSP pages in <code>WebContent</code> and some static files (css, images) in sub-directories in <code>WebContent</code>.</p>\n<p>In Eclipse I can easily compile the project and spin up a dev Tomcat instance via Eclipse's <em>Servers</em> pane.</p>\n<p>However I will need to move this project to a remote machine without GUI access. I have only terminal access which I will so to make minor changes to Java code and JSP files. After doing so, I need to compile the whole project and spin up a dev Tomcat to view the result.</p>\n<p>Is there a command line tool which can compile a Tomcat project and spin up a dev Tomcat with the project?</p>\n<p>On the <a href=\"https://tomcat.apache.org\" rel=\"nofollow noreferrer\">Tomcat site</a> I found the <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/deployer-howto.html#Deploying_using_the_Client_Deployer_Package\" rel=\"nofollow noreferrer\">Tomcat Client Deployer</a> mentioned. However this tool looks quite complicated needing a lot of configuration. My (Eclipse) project  however contains all the config information already - I just would need a command line tool which reads them, compiles the WAR and spins up Tomcat...</p>\n<p><strong>New Idea:</strong></p>\n<p>Maybe Eclipse can be called from the command line without opening a GUI to do this?</p>\n"},{"tags":["java","firebase","rest","firebase-cloud-messaging"],"owner":{"account_id":29420022,"reputation":1,"user_id":22541942,"display_name":"Gopal Mehra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694499583,"creation_date":1694499366,"question_id":77086495,"body_markdown":"currently i am integrating v1 api of push notification Migrate from legacy FCM APIs to HTTP v1 and i am facing issue of **The registration token is not a valid FCM registration token** and in my case i&#39;ve generated the OAuth token from the **https://developers.google.com/oauthplayground/** platform and i am having request type post having url-https://fcm.googleapis.com/v1/projects/cedar-freedom-396911/messages:send and i am sending the OAuth token in authorization tab .\r\nNote.i am generating OAuth token from my dummy project of Firebase w.r.t client id and client secret.\r\nstill getting error \r\n\r\ni have tried many times and my oauth token is generted successfully and my android token is also working with last api of push notoification but in this updated api i am getting error of The registration token is not a valid FCM registration token provide me steps to resolve this isssue.\r\n\r\n\r\n[Postman image 1][1]\r\n[Postman image 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dIJUp.png\r\n  [2]: https://i.stack.imgur.com/jHbu6.png","title":"Issue in v1 Migrate from legacy FCM APIs to HTTP v1 getting error 400 Bead Request The registration token is not a valid FCM registration token","body":"<p>currently i am integrating v1 api of push notification Migrate from legacy FCM APIs to HTTP v1 and i am facing issue of <strong>The registration token is not a valid FCM registration token</strong> and in my case i've generated the OAuth token from the <strong><a href=\"https://developers.google.com/oauthplayground/\" rel=\"nofollow noreferrer\">https://developers.google.com/oauthplayground/</a></strong> platform and i am having request type post having url-https://fcm.googleapis.com/v1/projects/cedar-freedom-396911/messages:send and i am sending the OAuth token in authorization tab .\nNote.i am generating OAuth token from my dummy project of Firebase w.r.t client id and client secret.\nstill getting error</p>\n<p>i have tried many times and my oauth token is generted successfully and my android token is also working with last api of push notoification but in this updated api i am getting error of The registration token is not a valid FCM registration token provide me steps to resolve this isssue.</p>\n<p><a href=\"https://i.stack.imgur.com/dIJUp.png\" rel=\"nofollow noreferrer\">Postman image 1</a>\n<a href=\"https://i.stack.imgur.com/jHbu6.png\" rel=\"nofollow noreferrer\">Postman image 2</a></p>\n"},{"tags":["java","http"],"comments":[{"owner":{"account_id":20103818,"reputation":4985,"user_id":14747039,"display_name":"Aalexander"},"score":0,"creation_date":1610973311,"post_id":65774604,"comment_id":116293421,"body_markdown":"Maybe this will help you https://www.baeldung.com/java-curl","body":"Maybe this will help you <a href=\"https://www.baeldung.com/java-curl\" rel=\"nofollow noreferrer\">baeldung.com/java-curl</a>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1610973429,"post_id":65774604,"comment_id":116293478,"body_markdown":"Are you using native Java, this can be easy if you are using Spring boot for example!","body":"Are you using native Java, this can be easy if you are using Spring boot for example!"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1610973559,"post_id":65774604,"comment_id":116293539,"body_markdown":"Take a look also to `RestTemplate` maybe it can help you","body":"Take a look also to <code>RestTemplate</code> maybe it can help you"},{"owner":{"account_id":1147362,"reputation":901,"user_id":1869111,"accept_rate":100,"display_name":"hocikto"},"score":0,"creation_date":1610975286,"post_id":65774604,"comment_id":116294325,"body_markdown":"RestTemplate will be discontinued so if you are planning to make this long-term solution try WebClient from Spring","body":"RestTemplate will be discontinued so if you are planning to make this long-term solution try WebClient from Spring"},{"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1640977963,"post_id":65774604,"comment_id":124703386,"body_markdown":"Does this answer your question? [How to use java.net.URLConnection to fire and handle HTTP requests](https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">How to use java.net.URLConnection to fire and handle HTTP requests</a>"}],"answers":[{"tags":[],"owner":{"account_id":1147362,"reputation":901,"user_id":1869111,"accept_rate":100,"display_name":"hocikto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610975423,"creation_date":1610975423,"answer_id":65775164,"question_id":65774604,"body_markdown":"If you are using Spring then try WebClient - it is a bit harder to understand in the begging (at least harder than RestTemplate) but it pays of since RestTemplate will be discontinued.\r\n\r\nYou can find an example here\r\n\r\nhttps://www.baeldung.com/spring-webclient-resttemplate\r\n\r\n    @GetMapping(value = &quot;/tweets-non-blocking&quot;, \r\n                produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;Tweet&gt; getTweetsNonBlocking() {\r\n        log.info(&quot;Starting NON-BLOCKING Controller!&quot;);\r\n        Flux&lt;Tweet&gt; tweetFlux = WebClient.create()\r\n          .get()\r\n          .uri(getSlowServiceUri())\r\n          .retrieve()\r\n          .bodyToFlux(Tweet.class);\r\n    \r\n        tweetFlux.subscribe(tweet -&gt; log.info(tweet.toString()));\r\n        log.info(&quot;Exiting NON-BLOCKING Controller!&quot;);\r\n        return tweetFlux;\r\n    }\r\n\r\nJust be aware that this is non-blocking (e.g. asynchronous) solution so you won&#39;t get the response right away, but you subscribe to the request and then process the response when it is available. There are also blocking options in WebClient","title":"How to send HTTP request from Java","body":"<p>If you are using Spring then try WebClient - it is a bit harder to understand in the begging (at least harder than RestTemplate) but it pays of since RestTemplate will be discontinued.</p>\n<p>You can find an example here</p>\n<p><a href=\"https://www.baeldung.com/spring-webclient-resttemplate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webclient-resttemplate</a></p>\n<pre><code>@GetMapping(value = &quot;/tweets-non-blocking&quot;, \n            produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;Tweet&gt; getTweetsNonBlocking() {\n    log.info(&quot;Starting NON-BLOCKING Controller!&quot;);\n    Flux&lt;Tweet&gt; tweetFlux = WebClient.create()\n      .get()\n      .uri(getSlowServiceUri())\n      .retrieve()\n      .bodyToFlux(Tweet.class);\n\n    tweetFlux.subscribe(tweet -&gt; log.info(tweet.toString()));\n    log.info(&quot;Exiting NON-BLOCKING Controller!&quot;);\n    return tweetFlux;\n}\n</code></pre>\n<p>Just be aware that this is non-blocking (e.g. asynchronous) solution so you won't get the response right away, but you subscribe to the request and then process the response when it is available. There are also blocking options in WebClient</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610975992,"creation_date":1610975992,"answer_id":65775312,"question_id":65774604,"body_markdown":"Java has its own classes that allow you to send HTTP request. See class [HttpURLConnection][1]. However, I recommend using 3d party libraries that significantly simplify this task. Good libraries would be [Apache Http client][2] or [OK Http client][3]. I also can offer you to use another Open source library that has an HTTP client as well. It is called MgntUtils library and it is written by me. In this case your code would look something like this:\r\n\r\n    \t    \tHttpClient workingClient = new HttpClient();\r\n    \t    \tworkingClient.setRequestProperty(&quot;accept&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n    \t    \tworkingClient.setRequestProperty(&quot;apikey&quot;, &quot;***&quot;);\r\n                workingClient.setConnectionUrl(&quot;https://***&quot;);\r\n                ByteBuffer buffer = \r\n                workingClient.sendHttpRequestForBinaryResponse(HttpMethod.GET);\r\n                \r\n                //or of your API returns contents of file as a string\r\n                String jsonStr = workingClient.sendHttpRequest(HttpMethod.GET);\r\n\r\nAfter that, your ByteBuffer buffer or String jsonStr will hold the content of your JSON file. And now you can do whatever you need with it. Here is [Javadoc for HttpClient][4] class. The MgntUtils library can be obtained as maven artifacts [here][5] or on [Github][6] (including source code and Javadoc)\r\n\r\n          \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/\r\n  [3]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [4]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [5]: https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\r\n  [6]: https://github.com/michaelgantman/Mgnt/releases","title":"How to send HTTP request from Java","body":"<p>Java has its own classes that allow you to send HTTP request. See class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a>. However, I recommend using 3d party libraries that significantly simplify this task. Good libraries would be <a href=\"https://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow noreferrer\">Apache Http client</a> or <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OK Http client</a>. I also can offer you to use another Open source library that has an HTTP client as well. It is called MgntUtils library and it is written by me. In this case your code would look something like this:</p>\n<pre><code>            HttpClient workingClient = new HttpClient();\n            workingClient.setRequestProperty(&quot;accept&quot;, &quot;application/json;charset=UTF-8&quot;);\n            workingClient.setRequestProperty(&quot;apikey&quot;, &quot;***&quot;);\n            workingClient.setConnectionUrl(&quot;https://***&quot;);\n            ByteBuffer buffer = \n            workingClient.sendHttpRequestForBinaryResponse(HttpMethod.GET);\n            \n            //or of your API returns contents of file as a string\n            String jsonStr = workingClient.sendHttpRequest(HttpMethod.GET);\n</code></pre>\n<p>After that, your ByteBuffer buffer or String jsonStr will hold the content of your JSON file. And now you can do whatever you need with it. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">Javadoc for HttpClient</a> class. The MgntUtils library can be obtained as maven artifacts <a href=\"https://search.maven.org/search?q=g:com.github.michaelgantman%20AND%20a:MgntUtils\" rel=\"nofollow noreferrer\">here</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610976054,"creation_date":1610976054,"answer_id":65775322,"question_id":65774604,"body_markdown":"Java has a lot of options to work with HTTP.\r\n\r\n\r\n**Option 1**\r\n\r\nSince Java 9, there is a built-in HTTP client. So You can use it to create a request without any third-party libraries.\r\n\r\nA simple example is something like this:\r\n\r\n~~~\r\nHttpRequest request2 = HttpRequest.newBuilder()\r\n  .uri(new URI(&quot;some url&quot;))\r\n  .header(&quot;someHeader&quot;, &quot;value1&quot;)\r\n  .header(&quot;anotherHeader&quot;, &quot;value2&quot;)\r\n  .GET()\r\n  .build();\r\n~~~\r\n\r\nFor more examples see [here][1]\r\n\r\n**Option 2**\r\n\r\nUse third party libraries, there are many: [OkHttpClient][2], More &quot;old-school&quot; [Apache Http Client (HttpComponents][3]\r\n\r\n**Option 3**\r\n\r\nIf you&#39;re using spring, you might consider using Spring&#39;s WebClient. There are also wrappers in spring like RestTemplate that can come handy, but it really depends on what would you like to work with.\r\n\r\nMany clients are coming with http connection pools that should be properly set up.\r\nIn addition, in your example, I see that you work with https - all these clients support it but it should be properly set up.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-9-http-client\r\n  [2]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [3]: https://hc.apache.org/httpcomponents-client-ga/","title":"How to send HTTP request from Java","body":"<p>Java has a lot of options to work with HTTP.</p>\n<p><strong>Option 1</strong></p>\n<p>Since Java 9, there is a built-in HTTP client. So You can use it to create a request without any third-party libraries.</p>\n<p>A simple example is something like this:</p>\n<pre><code>HttpRequest request2 = HttpRequest.newBuilder()\n  .uri(new URI(&quot;some url&quot;))\n  .header(&quot;someHeader&quot;, &quot;value1&quot;)\n  .header(&quot;anotherHeader&quot;, &quot;value2&quot;)\n  .GET()\n  .build();\n</code></pre>\n<p>For more examples see <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>Option 2</strong></p>\n<p>Use third party libraries, there are many: <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OkHttpClient</a>, More &quot;old-school&quot; <a href=\"https://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow noreferrer\">Apache Http Client (HttpComponents</a></p>\n<p><strong>Option 3</strong></p>\n<p>If you're using spring, you might consider using Spring's WebClient. There are also wrappers in spring like RestTemplate that can come handy, but it really depends on what would you like to work with.</p>\n<p>Many clients are coming with http connection pools that should be properly set up.\nIn addition, in your example, I see that you work with https - all these clients support it but it should be properly set up.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694499398,"creation_date":1694499398,"answer_id":77086498,"question_id":65774604,"body_markdown":"To trigger a simple get request we can use following code \r\n\r\n\t\r\n\t@GetMapping(&quot;triggersimpleget&quot;)\r\n\tpublic void triggersimpleget() {\r\n\t\ttry {\r\n\t\t\t/**\r\n\t\t\t * request will be sent to url\r\n\t\t\t */\r\n\t\t\tString url = &quot;http://localhost:1818/simpleget&quot;;\r\n\t\t\tHashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\r\n\t\t\t/**\r\n\t\t\t * setting header to accept json\r\n\t\t\t */\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();//instead of this we can create a bean and autowire it.\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\r\n\t\t\t/**\r\n\t\t\t * exchange( urltobehit, httpmethod, header, response, urivaraibles\r\n\t\t\t * we are sending get request and expecting boolean response\r\n\t\t\t */\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class);\r\n\t\t\tif (response.getStatusCodeValue() == HttpStatus.OK.value()) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Printing Resoponse body\r\n\t\t\t\t */\r\n\t\t\t\tSystem.out.println(&quot;test makes call successful :: &quot; + response.getBody());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Error while test making call&quot;);\r\n\t\t\t}\r\n\t\t} catch (HttpStatusCodeException exception) {\r\n\t\t\t/**\r\n\t\t\t * to get status code for exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(exception);\r\n\t\t} catch (Exception e) {\r\n\t\t\t/**\r\n\t\t\t * Other exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t}\r\n\r\nthe above method will send request to following method in which @corsorigin is added  as this for demo\r\n\r\n\r\n\t@GetMapping(&quot;simpleget&quot;)\r\n\t@CrossOrigin /** to allow request from any origin **/\r\n\tpublic boolean simpleget() {\r\n\t\tSystem.out.println(&quot;Thank you i received the hit&quot;);\r\n\t\treturn true;\r\n\t}\r\n\r\nfor testing we can hit following url\r\n\r\n    http://localhost:port/triggersimpleget\r\n\r\nTo send get request with query parameter we can use following code \r\n\r\n\t@GetMapping(&quot;hitwithqueryparam&quot;)\r\n\tpublic void test(@RequestParam(value = &quot;input1&quot;) String input1, @RequestParam(value = &quot;input2&quot;) String input2) {\r\n\t\t/**\r\n\t\t * This method takes two input and calls testtwo endpoint passing query parameter\r\n\t\t */\r\n\t\ttry {\r\n\t\t\tString url = &quot;http://localhost:1818/acceptqueryparam?string1={firstinput}&amp;string2={secondinput}&quot;;\r\n\t\t\tHashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\r\n\t\t\t/**\r\n\t\t\t * Building and mapping query parameter\r\n\t\t\t */\r\n\t\t\tqueryparams.put(&quot;firstinput&quot;, input1); //will map values into the curly bracket as query param {}\r\n\t\t\tqueryparams.put(&quot;secondinput&quot;, input2);//will map values into the curly bracket as query param {}\r\n\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\t\t\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class,queryparams);\r\n\t\t\tif (response.getStatusCodeValue() == HttpStatus.OK.value()) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Printing Resoponse body\r\n\t\t\t\t */\r\n\t\t\t\tSystem.out.println(&quot;test makes call successful :: &quot; + response.getBody());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Error while test making call&quot;);\r\n\t\t\t}\r\n\t\t} catch (HttpStatusCodeException exception) {\r\n\t\t\tSystem.err.println(exception);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t}\r\n\r\nBelow method will accept and print the query param\r\n\r\n\t@GetMapping(&quot;acceptqueryparam&quot;)\r\n\t@CrossOrigin\r\n\tpublic boolean acceptqueryparam(@RequestParam(value = &quot;string1&quot;) String string1,\r\n\t\t\t@RequestParam(value = &quot;string2&quot;) String string2) {\r\n\t\t/**\r\n\t\t * endpoint accepts query parameter as input and prints\r\n\t\t */\r\n\t\tif (string1.length() != 0 &amp;&amp; string2.length() != 0) {\r\n\t\t\tSystem.out.println(&quot;Receieved &quot; + string1 + &quot; and &quot; + string2);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nTo trigger post request following is the code \r\n\r\n\t@GetMapping(&quot;triggersimplepost&quot;)\r\n\tpublic void triggersimplepost() {\r\n\t\ttry {\r\n\t\t\t/**\r\n\t\t\t * request will be sent to url\r\n\t\t\t */\r\n\t\t\tString url = &quot;http://localhost:1818/simplepost&quot;;\r\n\t\t\tHashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\r\n\t\t\treqpayload.put(&quot;user&quot;, &quot;john&quot;);\r\n\t\t\t/**\r\n\t\t\t * setting header to accept json\r\n\t\t\t */\r\n\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\t\t/**\r\n\t\t\t * Adding request payload.\r\n\t\t\t */\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\r\n\t\t\t/**\r\n\t\t\t * exchange( urltobehit, httpmethod, header, response, urivaraibles\r\n\t\t\t * we are sending get request and expecting boolean response\r\n\t\t\t */\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\r\n\t\t\tif (response.getStatusCodeValue() == HttpStatus.OK.value()) {\r\n\t\t\t\t/**\r\n\t\t\t\t * Printing Resoponse body\r\n\t\t\t\t */\r\n\t\t\t\tSystem.out.println(&quot;test makes call successful :: &quot; + response.getBody());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.err.println(&quot;Error while test making call&quot;);\r\n\t\t\t}\r\n\t\t} catch (HttpStatusCodeException exception) {\r\n\t\t\t/**\r\n\t\t\t * to get status code for exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(exception);\r\n\t\t} catch (Exception e) {\r\n\t\t\t/**\r\n\t\t\t * Other exception\r\n\t\t\t */\r\n\t\t\tSystem.err.println(e);\r\n\t\t}\r\n\t}\r\n\r\n**Here is brief explnation**\r\n\r\nhere we are passing the request payload by passing the map, request boy is built\r\n\r\n\t\t\tHashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\r\n\t\t\treqpayload.put(&quot;user&quot;, &quot;john&quot;);\r\n\r\nAdding headers \r\n\r\n\t\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\theaders.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\r\nCombining headers and body \r\n\r\n\t\t\tHttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\r\n\r\nTriggering a post call with request body and expected response as boolean\r\n\r\n\t\t\tResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\r\n\r\nfollowing method accepts the data and reads the same \r\n\r\n\t@PostMapping(&quot;simplepost&quot;)\r\n\t@CrossOrigin\r\n\tpublic boolean simplepost(@RequestBody Map&lt;String,String&gt; req) {\r\n\t\tSystem.out.println(&quot;Get request body and reading json body with key user :: &quot;+req.get(&quot;user&quot;));\r\n\t\treturn true;\r\n\t}\r\n","title":"How to send HTTP request from Java","body":"<p>To trigger a simple get request we can use following code</p>\n<pre><code>@GetMapping(&quot;triggersimpleget&quot;)\npublic void triggersimpleget() {\n    try {\n        /**\n         * request will be sent to url\n         */\n        String url = &quot;http://localhost:1818/simpleget&quot;;\n        HashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\n        /**\n         * setting header to accept json\n         */\n        RestTemplate restTemplate = new RestTemplate();//instead of this we can create a bean and autowire it.\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\n        /**\n         * exchange( urltobehit, httpmethod, header, response, urivaraibles\n         * we are sending get request and expecting boolean response\n         */\n        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class);\n        if (response.getStatusCodeValue() == HttpStatus.OK.value()) {\n            /**\n             * Printing Resoponse body\n             */\n            System.out.println(&quot;test makes call successful :: &quot; + response.getBody());\n        } else {\n            System.err.println(&quot;Error while test making call&quot;);\n        }\n    } catch (HttpStatusCodeException exception) {\n        /**\n         * to get status code for exception\n         */\n        System.err.println(exception);\n    } catch (Exception e) {\n        /**\n         * Other exception\n         */\n        System.err.println(e);\n    }\n}\n</code></pre>\n<p>the above method will send request to following method in which @corsorigin is added  as this for demo</p>\n<pre><code>@GetMapping(&quot;simpleget&quot;)\n@CrossOrigin /** to allow request from any origin **/\npublic boolean simpleget() {\n    System.out.println(&quot;Thank you i received the hit&quot;);\n    return true;\n}\n</code></pre>\n<p>for testing we can hit following url</p>\n<pre><code>http://localhost:port/triggersimpleget\n</code></pre>\n<p>To send get request with query parameter we can use following code</p>\n<pre><code>@GetMapping(&quot;hitwithqueryparam&quot;)\npublic void test(@RequestParam(value = &quot;input1&quot;) String input1, @RequestParam(value = &quot;input2&quot;) String input2) {\n    /**\n     * This method takes two input and calls testtwo endpoint passing query parameter\n     */\n    try {\n        String url = &quot;http://localhost:1818/acceptqueryparam?string1={firstinput}&amp;string2={secondinput}&quot;;\n        HashMap&lt;String, String&gt; queryparams = new HashMap&lt;String, String&gt;();\n        /**\n         * Building and mapping query parameter\n         */\n        queryparams.put(&quot;firstinput&quot;, input1); //will map values into the curly bracket as query param {}\n        queryparams.put(&quot;secondinput&quot;, input2);//will map values into the curly bracket as query param {}\n\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n        \n        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(headers);\n        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.GET, httpEntity, Boolean.class,queryparams);\n        if (response.getStatusCodeValue() == HttpStatus.OK.value()) {\n            /**\n             * Printing Resoponse body\n             */\n            System.out.println(&quot;test makes call successful :: &quot; + response.getBody());\n        } else {\n            System.err.println(&quot;Error while test making call&quot;);\n        }\n    } catch (HttpStatusCodeException exception) {\n        System.err.println(exception);\n    } catch (Exception e) {\n        System.err.println(e);\n    }\n}\n</code></pre>\n<p>Below method will accept and print the query param</p>\n<pre><code>@GetMapping(&quot;acceptqueryparam&quot;)\n@CrossOrigin\npublic boolean acceptqueryparam(@RequestParam(value = &quot;string1&quot;) String string1,\n        @RequestParam(value = &quot;string2&quot;) String string2) {\n    /**\n     * endpoint accepts query parameter as input and prints\n     */\n    if (string1.length() != 0 &amp;&amp; string2.length() != 0) {\n        System.out.println(&quot;Receieved &quot; + string1 + &quot; and &quot; + string2);\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>To trigger post request following is the code</p>\n<pre><code>@GetMapping(&quot;triggersimplepost&quot;)\npublic void triggersimplepost() {\n    try {\n        /**\n         * request will be sent to url\n         */\n        String url = &quot;http://localhost:1818/simplepost&quot;;\n        HashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\n        reqpayload.put(&quot;user&quot;, &quot;john&quot;);\n        /**\n         * setting header to accept json\n         */\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n        /**\n         * Adding request payload.\n         */\n        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\n        /**\n         * exchange( urltobehit, httpmethod, header, response, urivaraibles\n         * we are sending get request and expecting boolean response\n         */\n        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\n        if (response.getStatusCodeValue() == HttpStatus.OK.value()) {\n            /**\n             * Printing Resoponse body\n             */\n            System.out.println(&quot;test makes call successful :: &quot; + response.getBody());\n        } else {\n            System.err.println(&quot;Error while test making call&quot;);\n        }\n    } catch (HttpStatusCodeException exception) {\n        /**\n         * to get status code for exception\n         */\n        System.err.println(exception);\n    } catch (Exception e) {\n        /**\n         * Other exception\n         */\n        System.err.println(e);\n    }\n}\n</code></pre>\n<p><strong>Here is brief explnation</strong></p>\n<p>here we are passing the request payload by passing the map, request boy is built</p>\n<pre><code>        HashMap&lt;String, String&gt; reqpayload = new HashMap&lt;String, String&gt;();\n        reqpayload.put(&quot;user&quot;, &quot;john&quot;);\n</code></pre>\n<p>Adding headers</p>\n<pre><code>        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;Accept&quot;, MediaType.APPLICATION_JSON_VALUE);\n</code></pre>\n<p>Combining headers and body</p>\n<pre><code>        HttpEntity&lt;?&gt; httpEntity = new HttpEntity&lt;&gt;(reqpayload , headers);\n</code></pre>\n<p>Triggering a post call with request body and expected response as boolean</p>\n<pre><code>        ResponseEntity&lt;Boolean&gt; response = restTemplate.exchange(url, HttpMethod.POST, httpEntity, Boolean.class);\n</code></pre>\n<p>following method accepts the data and reads the same</p>\n<pre><code>@PostMapping(&quot;simplepost&quot;)\n@CrossOrigin\npublic boolean simplepost(@RequestBody Map&lt;String,String&gt; req) {\n    System.out.println(&quot;Get request body and reading json body with key user :: &quot;+req.get(&quot;user&quot;));\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":1095931,"reputation":2143,"user_id":1089532,"accept_rate":28,"display_name":"Ilkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8768,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1694499398,"creation_date":1610973140,"question_id":65774604,"body_markdown":"i&#39;m creating java module to parse JSON file.\r\n\r\nTo receive file i need to send HTTP request. When I use curl my request looks like this:\r\n\r\n    curl -X GET &quot;https://***&quot; -H &quot;accept: application/json&quot; -H &quot;apikey: ***&quot;\r\n\r\nHow can I send the equivalent HTTP request from Java \r\n\r\n","title":"How to send HTTP request from Java","body":"<p>i'm creating java module to parse JSON file.</p>\n<p>To receive file i need to send HTTP request. When I use curl my request looks like this:</p>\n<pre><code>curl -X GET &quot;https://***&quot; -H &quot;accept: application/json&quot; -H &quot;apikey: ***&quot;\n</code></pre>\n<p>How can I send the equivalent HTTP request from Java</p>\n"},{"tags":["java","android","payment","upi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670277220,"post_id":74693187,"comment_id":131835019,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23685891,"reputation":131,"user_id":17710837,"display_name":"Dinesh2510"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670304460,"creation_date":1670304460,"answer_id":74697650,"question_id":74693187,"body_markdown":"First check the Your **startActivityForResult** code and **onActivityResult** code if this is proper or try to add the below line in manifest.\r\n\r\n\r\n    &lt;queries&gt;\r\n    &lt;package android:name=&quot;com.facebook.katana&quot; /&gt;\r\n    &lt;package android:name=&quot;com.facebook.orca&quot; /&gt;\r\n    &lt;package android:name=&quot;com.whatsapp&quot; /&gt;\r\n    &lt;package android:name=&quot;net.one97.paytm&quot; /&gt;\r\n    &lt;package android:name=&quot;com.google.android.apps.nbu.paisa.user&quot; /&gt;\r\n    &lt;package android:name=&quot;com.phonepe.app&quot; /&gt;\r\n    &lt;package android:name=&quot;in.amazon.mShop.android.shopping&quot; /&gt;\r\n    &lt;package android:name=&quot;in.org.npci.upiapp&quot; /&gt;\r\n    &lt;/queries&gt;\r\n\r\n\r\n","title":"Android, how to open UPI Payment Apps using Intent chooser, not working on Android 11 and 12 versions","body":"<p>First check the Your <strong>startActivityForResult</strong> code and <strong>onActivityResult</strong> code if this is proper or try to add the below line in manifest.</p>\n<pre><code>&lt;queries&gt;\n&lt;package android:name=&quot;com.facebook.katana&quot; /&gt;\n&lt;package android:name=&quot;com.facebook.orca&quot; /&gt;\n&lt;package android:name=&quot;com.whatsapp&quot; /&gt;\n&lt;package android:name=&quot;net.one97.paytm&quot; /&gt;\n&lt;package android:name=&quot;com.google.android.apps.nbu.paisa.user&quot; /&gt;\n&lt;package android:name=&quot;com.phonepe.app&quot; /&gt;\n&lt;package android:name=&quot;in.amazon.mShop.android.shopping&quot; /&gt;\n&lt;package android:name=&quot;in.org.npci.upiapp&quot; /&gt;\n&lt;/queries&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14412901,"reputation":251,"user_id":10411158,"display_name":"Vengatesh Murugasamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694499205,"creation_date":1694499205,"answer_id":77086482,"question_id":74693187,"body_markdown":"Is there any common way to find payment apps?\r\nBecause many new apps introducing UPI payments so in order to resolve the new apps we may need to add in manifest and re publish our app.","title":"Android, how to open UPI Payment Apps using Intent chooser, not working on Android 11 and 12 versions","body":"<p>Is there any common way to find payment apps?\nBecause many new apps introducing UPI payments so in order to resolve the new apps we may need to add in manifest and re publish our app.</p>\n"}],"owner":{"account_id":26249391,"reputation":15,"user_id":19922414,"display_name":"nihal kapoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74697650,"answer_count":2,"score":1,"last_activity_date":1694499205,"creation_date":1670267054,"question_id":74693187,"body_markdown":"I have developed an app for the payment system, i have to show all the available apps of payments installed on android system, I have implemented it but having some issues in some higher versions of android. \r\nThe intent chooser option is getting inflated in android 10 but not in above version. \r\nThanks\r\n\r\nI have written the code successfully but having some issues in 11 and 12 versions of android. \r\n","title":"Android, how to open UPI Payment Apps using Intent chooser, not working on Android 11 and 12 versions","body":"<p>I have developed an app for the payment system, i have to show all the available apps of payments installed on android system, I have implemented it but having some issues in some higher versions of android.\nThe intent chooser option is getting inflated in android 10 but not in above version.\nThanks</p>\n<p>I have written the code successfully but having some issues in 11 and 12 versions of android.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694319924,"post_id":77074537,"comment_id":135874535,"body_markdown":"What Apache POI version used?","body":"What Apache POI version used?"},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694436073,"post_id":77074537,"comment_id":135886468,"body_markdown":"&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;","body":"&lt;dependency&gt;             &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;             &lt;artifactId&gt;poi&lt;/artifactId&gt;             &lt;version&gt;4.1.2&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1694437354,"post_id":77074537,"comment_id":135886760,"body_markdown":"Can you upgrade to current version 5.2.3? That has [XWPFParagraph.insertNewHyperlinkRun](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-) to insert a `XWPFHyperlinkRun` on special position of paragraph instead only appending it at the end of paragraph. Then insert `XWPFHyperlinkRun` before found `XWPFRun`, copy text and main formats from found `XWPFRun` to the new `XWPFHyperlinkRun` and then remove found `XWPFRun`.","body":"Can you upgrade to current version 5.2.3? That has <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-\" rel=\"nofollow noreferrer\">XWPFParagraph.insertNewHyperlinkRun</a> to insert a <code>XWPFHyperlinkRun</code> on special position of paragraph instead only appending it at the end of paragraph. Then insert <code>XWPFHyperlinkRun</code> before found <code>XWPFRun</code>, copy text and main formats from found <code>XWPFRun</code> to the new <code>XWPFHyperlinkRun</code> and then remove found <code>XWPFRun</code>."},{"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"score":0,"creation_date":1694478952,"post_id":77074537,"comment_id":135893264,"body_markdown":"I tried after the upgrade with latest 5.2.3 . Still I am getting the error   java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos). Please refer the latest code snipet","body":"I tried after the upgrade with latest 5.2.3 . Still I am getting the error   java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos). Please refer the latest code snipet"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694498853,"creation_date":1694498853,"answer_id":77086458,"question_id":77074537,"body_markdown":"I am not able to follow your usage of  [XWPFParagraph.insertNewHyperlinkRun](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-), especially what that `subTextIndex` shall be for. And why using `i`, which is the position of the text run in the paragraph, as text position in `XWPFHyperlinkRun.setText`?\r\n\r\nThe main problem while replacing text runs in a Word document is to have correct text runs at all. Microsoft Word splits text in text runs for an arbitrary amount of reasons. So such approaches only can work, when the text run to replace is clearly formatted to really be a text run of it&#39;s own. Only If that is given, then one can find the text run to replace. \r\n\r\nBut creating a hyperlink cannot be done only by replacing something of a found `XWPFRun`. The hyperlink surrounds the text run. So the former `XWPFRun` must be surrounded by the new `XWPFHyperlinkRun `. To do so, one can insert a `XWPFHyperlinkRun` in paragraph before found `XWPFRun`, copy text and main formats from found `XWPFRun` to the new `XWPFHyperlinkRun` and then remove found `XWPFRun`.\r\n\r\nFollowing complete example does that. It surrounds found text runs with a hyperlink and replaces text. It bases on a Word document where the placeholder &quot;helloURL&quot; clearly is formatted to be a text run of it&#39;s own.\r\n\r\n`source.docx`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    public class WordXWPFRunToXWPFHyperlinkRun {\r\n        \r\n     static List&lt;XWPFParagraph&gt; paragraphs = null;  \r\n         \r\n     static void findParagraphsContainigText(IBody body, String text) {\r\n      for (IBodyElement bodyElement : body.getBodyElements()) {\r\n       if (bodyElement instanceof XWPFParagraph) {\r\n        XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\r\n        if (paragraph.getText().contains(text)) {\r\n         paragraphs.add(paragraph);  \r\n        }\r\n       } else if (bodyElement instanceof XWPFTable) {\r\n        XWPFTable table = (XWPFTable)bodyElement;\r\n        for (XWPFTableRow tableRow : table.getRows()) {\r\n         for (ICell tableICell : tableRow.getTableICells()) {\r\n          if (tableICell instanceof XWPFTableCell) {\r\n           XWPFTableCell tableCell = (XWPFTableCell)tableICell;\r\n           findParagraphsContainigText(tableCell, text);\r\n          }\r\n         }\r\n        }\r\n       }\r\n      }\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      try (   \r\n            XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./source.docx&quot;));\r\n            FileOutputStream out = new FileOutputStream(&quot;./result.docx&quot;) ) {\r\n       String key = &quot;helloURL&quot;; \r\n       String replacement = &quot;stackoverflow&quot;; \r\n       String uri = &quot;https://stackoverflow.com&quot;;  \r\n       paragraphs = new ArrayList&lt;XWPFParagraph&gt;();    \r\n       findParagraphsContainigText(document, key);\r\n       for (XWPFParagraph paragraph : paragraphs) {\r\n        List&lt;XWPFRun&gt; runs = paragraph.getRuns();\r\n        for (int i = 0; i &lt; runs.size(); i++ ) {\r\n         XWPFRun run = runs.get(i);\r\n         String text = run.getText(0);\r\n         if (text.contains(key)) {\r\n          text = text.replace(key, replacement);\r\n          //insert hyperlink run before run\r\n          XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(i, uri);\r\n          //set CTR of hyperlink run the same as run\r\n          hyperlinkRun.getCTHyperlink().setRArray(0, run.getCTR());\r\n    \t  //set textrun&#39;s text\r\n    \t  hyperlinkRun.setText(text, 0);\r\n          //set hyperlinkk formats\r\n          hyperlinkRun.setColor(&quot;0000FF&quot;);\r\n          hyperlinkRun.setUnderline(UnderlinePatterns.SINGLE);\r\n          //remove old run\r\n          paragraph.removeRun(i+1);\r\n         }\r\n        }        \r\n       } \r\n       document.write(out);\r\n      }\r\n     }\r\n    }\r\n\r\n`result.docx`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0F4gX.png\r\n  [2]: https://i.stack.imgur.com/nP2cU.png","title":"How to modify XWPFRun object to hyperlink without creating new run","body":"<p>I am not able to follow your usage of  <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewHyperlinkRun-int-java.lang.String-\" rel=\"nofollow noreferrer\">XWPFParagraph.insertNewHyperlinkRun</a>, especially what that <code>subTextIndex</code> shall be for. And why using <code>i</code>, which is the position of the text run in the paragraph, as text position in <code>XWPFHyperlinkRun.setText</code>?</p>\n<p>The main problem while replacing text runs in a Word document is to have correct text runs at all. Microsoft Word splits text in text runs for an arbitrary amount of reasons. So such approaches only can work, when the text run to replace is clearly formatted to really be a text run of it's own. Only If that is given, then one can find the text run to replace.</p>\n<p>But creating a hyperlink cannot be done only by replacing something of a found <code>XWPFRun</code>. The hyperlink surrounds the text run. So the former <code>XWPFRun</code> must be surrounded by the new <code>XWPFHyperlinkRun </code>. To do so, one can insert a <code>XWPFHyperlinkRun</code> in paragraph before found <code>XWPFRun</code>, copy text and main formats from found <code>XWPFRun</code> to the new <code>XWPFHyperlinkRun</code> and then remove found <code>XWPFRun</code>.</p>\n<p>Following complete example does that. It surrounds found text runs with a hyperlink and replaces text. It bases on a Word document where the placeholder &quot;helloURL&quot; clearly is formatted to be a text run of it's own.</p>\n<p><code>source.docx</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/0F4gX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0F4gX.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class WordXWPFRunToXWPFHyperlinkRun {\n    \n static List&lt;XWPFParagraph&gt; paragraphs = null;  \n     \n static void findParagraphsContainigText(IBody body, String text) {\n  for (IBodyElement bodyElement : body.getBodyElements()) {\n   if (bodyElement instanceof XWPFParagraph) {\n    XWPFParagraph paragraph = (XWPFParagraph)bodyElement;\n    if (paragraph.getText().contains(text)) {\n     paragraphs.add(paragraph);  \n    }\n   } else if (bodyElement instanceof XWPFTable) {\n    XWPFTable table = (XWPFTable)bodyElement;\n    for (XWPFTableRow tableRow : table.getRows()) {\n     for (ICell tableICell : tableRow.getTableICells()) {\n      if (tableICell instanceof XWPFTableCell) {\n       XWPFTableCell tableCell = (XWPFTableCell)tableICell;\n       findParagraphsContainigText(tableCell, text);\n      }\n     }\n    }\n   }\n  }\n }\n\n public static void main(String[] args) throws Exception {\n  try (   \n        XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./source.docx&quot;));\n        FileOutputStream out = new FileOutputStream(&quot;./result.docx&quot;) ) {\n   String key = &quot;helloURL&quot;; \n   String replacement = &quot;stackoverflow&quot;; \n   String uri = &quot;https://stackoverflow.com&quot;;  \n   paragraphs = new ArrayList&lt;XWPFParagraph&gt;();    \n   findParagraphsContainigText(document, key);\n   for (XWPFParagraph paragraph : paragraphs) {\n    List&lt;XWPFRun&gt; runs = paragraph.getRuns();\n    for (int i = 0; i &lt; runs.size(); i++ ) {\n     XWPFRun run = runs.get(i);\n     String text = run.getText(0);\n     if (text.contains(key)) {\n      text = text.replace(key, replacement);\n      //insert hyperlink run before run\n      XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(i, uri);\n      //set CTR of hyperlink run the same as run\n      hyperlinkRun.getCTHyperlink().setRArray(0, run.getCTR());\n      //set textrun's text\n      hyperlinkRun.setText(text, 0);\n      //set hyperlinkk formats\n      hyperlinkRun.setColor(&quot;0000FF&quot;);\n      hyperlinkRun.setUnderline(UnderlinePatterns.SINGLE);\n      //remove old run\n      paragraph.removeRun(i+1);\n     }\n    }        \n   } \n   document.write(out);\n  }\n }\n}\n</code></pre>\n<p><code>result.docx</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/nP2cU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nP2cU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3758035,"reputation":1073,"user_id":3123934,"accept_rate":54,"display_name":"user3123934"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77086458,"answer_count":1,"score":0,"last_activity_date":1694499053,"creation_date":1694309653,"question_id":77074537,"body_markdown":"I want to update XWPFRun text to a hyperlink without creating a new run. If I try to do so, I get this error java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos)\r\n\r\n   \r\n\r\n    private void updateRunsForParagraph1(XWPFParagraph p, String text, String key, Map&lt;String, String&gt; hyperlinkMap, Map&lt;String, List&lt;Boolean&gt;&gt; singleWordMap,SBCFormatDocument sbcFormatDocumentObj) throws IOException {\r\n    \r\n    \t\tfor (int i = 0; i &lt; p.getRuns().size(); i++) {\r\n    \t\t\ttry {\r\n    \t\t\t\tString tmpText = p.getRuns().get(i).toString();\r\n    \r\n    \t\t\t\tif (tmpText != null &amp;&amp; tmpText.equalsIgnoreCase(text)) {\r\n    \t\t\t\t\t//p.removeRun(i);\r\n    \t\t\t\t\tString[] subText = text.split(&quot; &quot;);\r\n    \t\t\t\t\tint subTextIndex = 0;\r\n    \t\t\t\t\twhile (subTextIndex &lt; subText.length) {\r\n    \t\t\t\t\t\tString word = subText[subTextIndex];\r\n    \r\n    \t\t\t\t\t\tif (hyperlinkMap.keySet().contains(word) &amp;&amp; tmpText.equalsIgnoreCase(text)) {\r\n    \t\t\t\t\t\t\t//p.createHyperlinkRun(word).setText(word, 0);\r\n    \t\t\t\t\t\t\tp.insertNewHyperlinkRun(subTextIndex + i, word).setText(word, i);\r\n    \t\t\t\t\t\t\t//p.insertNewRun(subTextIndex + i + 1).setText(&quot; &quot;, 0);\r\n    \r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tunderLineAndHyperLinkWordsforParagraph(p, word, subTextIndex + i,hyperlinkMap,singleWordMap,sbcFormatDocumentObj);\r\n    \r\n    \t\t\t\t\t\tsubTextIndex++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to modify XWPFRun object to hyperlink without creating new run","body":"<p>I want to update XWPFRun text to a hyperlink without creating a new run. If I try to do so, I get this error java.lang.ArrayIndexOutOfBoundsException: Value too large for the parameter position in XWPFRun.setText(String value,int pos)</p>\n<pre><code>private void updateRunsForParagraph1(XWPFParagraph p, String text, String key, Map&lt;String, String&gt; hyperlinkMap, Map&lt;String, List&lt;Boolean&gt;&gt; singleWordMap,SBCFormatDocument sbcFormatDocumentObj) throws IOException {\n\n        for (int i = 0; i &lt; p.getRuns().size(); i++) {\n            try {\n                String tmpText = p.getRuns().get(i).toString();\n\n                if (tmpText != null &amp;&amp; tmpText.equalsIgnoreCase(text)) {\n                    //p.removeRun(i);\n                    String[] subText = text.split(&quot; &quot;);\n                    int subTextIndex = 0;\n                    while (subTextIndex &lt; subText.length) {\n                        String word = subText[subTextIndex];\n\n                        if (hyperlinkMap.keySet().contains(word) &amp;&amp; tmpText.equalsIgnoreCase(text)) {\n                            //p.createHyperlinkRun(word).setText(word, 0);\n                            p.insertNewHyperlinkRun(subTextIndex + i, word).setText(word, i);\n                            //p.insertNewRun(subTextIndex + i + 1).setText(&quot; &quot;, 0);\n\n                        }\n\n                        underLineAndHyperLinkWordsforParagraph(p, word, subTextIndex + i,hyperlinkMap,singleWordMap,sbcFormatDocumentObj);\n\n                        subTextIndex++;\n                    }\n                    break;\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","hbase","apache-zookeeper"],"comments":[{"owner":{"account_id":122140,"reputation":13464,"user_id":315752,"accept_rate":78,"display_name":"Andr&#233; Staltz"},"score":0,"creation_date":1348694856,"post_id":12607349,"comment_id":16999963,"body_markdown":"First of all, you shouldn&#39;t have only one zookeeper host (localhost). At least three zookeeper hosts should be configured in the property ``hbase.zookeeper.quorum`` in hbase-site.xml","body":"First of all, you shouldn&#39;t have only one zookeeper host (localhost). At least three zookeeper hosts should be configured in the property <code>hbase.zookeeper.quorum</code> in hbase-site.xml"},{"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"score":0,"creation_date":1348738387,"post_id":12607349,"comment_id":17011649,"body_markdown":"even if i&#39;m trying the code on my local machine ? (is not necessary an hdfs for this tries)","body":"even if i&#39;m trying the code on my local machine ? (is not necessary an hdfs for this tries)"},{"owner":{"account_id":122140,"reputation":13464,"user_id":315752,"accept_rate":78,"display_name":"Andr&#233; Staltz"},"score":0,"creation_date":1348778490,"post_id":12607349,"comment_id":17030412,"body_markdown":"Oh ok, that&#39;s fine. But then I wonder why you gave a value for `zookeeper.znode.parent`. That&#39;s not something you should normally configure just to try the code. Check the description here http://hbase.apache.org/book/config.files.html that is, remove this property from your xml and try to run again.","body":"Oh ok, that&#39;s fine. But then I wonder why you gave a value for <code>zookeeper.znode.parent</code>. That&#39;s not something you should normally configure just to try the code. Check the description here <a href=\"http://hbase.apache.org/book/config.files.html\" rel=\"nofollow noreferrer\">hbase.apache.org/book/config.files.html</a> that is, remove this property from your xml and try to run again."},{"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"score":0,"creation_date":1348824068,"post_id":12607349,"comment_id":17042076,"body_markdown":"i removed from hbase-site.xml the `zookeeper.znode.parent` (and remained localhost on the qorum property) but it gave me the same error","body":"i removed from hbase-site.xml the <code>zookeeper.znode.parent</code> (and remained localhost on the qorum property) but it gave me the same error"},{"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"score":0,"creation_date":1348824900,"post_id":12607349,"comment_id":17042484,"body_markdown":"ok solved , i ran ./hbase-config.sh and ./zookeepers.sh and that solved the problem ... thank you for your help!","body":"ok solved , i ran ./hbase-config.sh and ./zookeepers.sh and that solved the problem ... thank you for your help!"}],"answers":[{"tags":[],"owner":{"account_id":1245225,"reputation":34084,"user_id":1206837,"accept_rate":50,"display_name":"Tariq"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1349204186,"creation_date":1349204186,"answer_id":12696474,"question_id":12607349,"body_markdown":"If you are using HBase in standalone mode, you don&#39;t even need all these properties..Although, a pseudo or a fully distributed mode required additional settings..By looking at your config props, I am assuming you are using HBase in local mode.So you can skip all those things. And for a pseudo distributed mode HBase&#39;s default ZK is sufficient.","title":"Can&#39;t connect to zookeeper and then hbase master shuts down","body":"<p>If you are using HBase in standalone mode, you don't even need all these properties..Although, a pseudo or a fully distributed mode required additional settings..By looking at your config props, I am assuming you are using HBase in local mode.So you can skip all those things. And for a pseudo distributed mode HBase's default ZK is sufficient.</p>\n"}],"owner":{"account_id":1457904,"reputation":61,"user_id":1701015,"display_name":"raff0z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11174,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1694498915,"creation_date":1348681208,"question_id":12607349,"body_markdown":"I use hbase 0.94.1 and zookeeper 3.3.6 after few attempts, the master of hbase shuts down and the sw exits\r\n\r\nThose are the errors that I get from the shell\r\n\r\n    12/09/26 18:58:35 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=180000 watcher=hconnection\r\n    12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Opening socket connection to server /127.0.0.1:2181\r\n    12/09/26 18:58:35 INFO zookeeper.RecoverableZooKeeper: The identifier of this process is 5133@xxx-xxx\r\n    12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Socket connection established to localhost/127.0.0.1:2181, initiating session\r\n    12/09/26 18:58:35 WARN zookeeper.ClientCnxnSocket: Connected to an old server; r-o mode will be unavailable\r\n    12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Session establishment complete on server localhost/127.0.0.1:2181, sessionid = 0x13a037edbb2000c, negotiated timeout = 40000\r\n    12/09/26 18:58:36 ERROR client.HConnectionManager$HConnectionImplementation: Check the value configured in &#39;zookeeper.znode.parent&#39;. There could be a mismatch with the one configured in the master.\r\n    12/09/26 18:58:36 INFO client.HConnectionManager$HConnectionImplementation: Closed zookeeper sessionid=0x13a037edbb2000c\r\n    12/09/26 18:58:36 INFO zookeeper.ZooKeeper: Session: 0x13a037edbb2000c closed\r\n    12/09/26 18:58:36 INFO zookeeper.ClientCnxn: EventThread shut down\r\n    \r\n    org.apache.hadoop.hbase.MasterNotRunningException: Retried 10 times\r\n    \tat org.apache.hadoop.hbase.client.HBaseAdmin.&lt;init&gt;(HBaseAdmin.java:127)\r\n    \tat util.HBaseHelper.&lt;init&gt;(HBaseHelper.java:29)\r\n    \tat util.HBaseHelper.getHelper(HBaseHelper.java:33)\r\n    \tat driver.ABoxHbaseTableMaker.makeTable(ABoxHbaseTableMaker.java:39)\r\n    \tat driver.ABoxImporterDriver.run(ABoxImporterDriver.java:55)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n    \tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\r\n    \tat driver.ABoxImporterDriver.main(ABoxImporterDriver.java:32)\r\n    \tat gui.Main.jButton1ActionPerformed(Main.java:274)\r\n    \tat gui.Main.access$3(Main.java:241)\r\n    \tat gui.Main$5.actionPerformed(Main.java:160)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\r\n        ...\r\n\r\nT tried to change the port but nothing.\r\n\r\nThose are the config files:\r\n\r\n**zoo.cfg:**\r\n\r\n    tickTime=2000\r\n    dataDir=/home/.../.../zookeeper-3.3.6/data\r\n    clientPort=2181\r\n\r\n**hbase-site.xml**\r\n\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;hbase.rootdir&lt;/name&gt;\r\n        &lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\r\n      &lt;/property&gt;\r\n     &lt;property&gt;\r\n    \t&lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\r\n    \t&lt;value&gt;localhost&lt;/value&gt;\r\n     &lt;/property&gt;\r\n     &lt;property&gt;\r\n    \t&lt;name&gt;zookeeper.znode.parent&lt;/name&gt;\r\n    \t&lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\r\n     &lt;/property&gt;\r\n     &lt;property&gt;\r\n    \t&lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\r\n    \t&lt;value&gt;2181&lt;/value&gt;\r\n     &lt;/property&gt;\r\n    &lt;/configuration&gt;","title":"Can&#39;t connect to zookeeper and then hbase master shuts down","body":"<p>I use hbase 0.94.1 and zookeeper 3.3.6 after few attempts, the master of hbase shuts down and the sw exits</p>\n\n<p>Those are the errors that I get from the shell</p>\n\n<pre><code>12/09/26 18:58:35 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=localhost:2181 sessionTimeout=180000 watcher=hconnection\n12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Opening socket connection to server /127.0.0.1:2181\n12/09/26 18:58:35 INFO zookeeper.RecoverableZooKeeper: The identifier of this process is 5133@xxx-xxx\n12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Socket connection established to localhost/127.0.0.1:2181, initiating session\n12/09/26 18:58:35 WARN zookeeper.ClientCnxnSocket: Connected to an old server; r-o mode will be unavailable\n12/09/26 18:58:35 INFO zookeeper.ClientCnxn: Session establishment complete on server localhost/127.0.0.1:2181, sessionid = 0x13a037edbb2000c, negotiated timeout = 40000\n12/09/26 18:58:36 ERROR client.HConnectionManager$HConnectionImplementation: Check the value configured in 'zookeeper.znode.parent'. There could be a mismatch with the one configured in the master.\n12/09/26 18:58:36 INFO client.HConnectionManager$HConnectionImplementation: Closed zookeeper sessionid=0x13a037edbb2000c\n12/09/26 18:58:36 INFO zookeeper.ZooKeeper: Session: 0x13a037edbb2000c closed\n12/09/26 18:58:36 INFO zookeeper.ClientCnxn: EventThread shut down\n\norg.apache.hadoop.hbase.MasterNotRunningException: Retried 10 times\n    at org.apache.hadoop.hbase.client.HBaseAdmin.&lt;init&gt;(HBaseAdmin.java:127)\n    at util.HBaseHelper.&lt;init&gt;(HBaseHelper.java:29)\n    at util.HBaseHelper.getHelper(HBaseHelper.java:33)\n    at driver.ABoxHbaseTableMaker.makeTable(ABoxHbaseTableMaker.java:39)\n    at driver.ABoxImporterDriver.run(ABoxImporterDriver.java:55)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\n    at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)\n    at driver.ABoxImporterDriver.main(ABoxImporterDriver.java:32)\n    at gui.Main.jButton1ActionPerformed(Main.java:274)\n    at gui.Main.access$3(Main.java:241)\n    at gui.Main$5.actionPerformed(Main.java:160)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)\n    ...\n</code></pre>\n\n<p>T tried to change the port but nothing.</p>\n\n<p>Those are the config files:</p>\n\n<p><strong>zoo.cfg:</strong></p>\n\n<pre><code>tickTime=2000\ndataDir=/home/.../.../zookeeper-3.3.6/data\nclientPort=2181\n</code></pre>\n\n<p><strong>hbase-site.xml</strong></p>\n\n<pre><code>&lt;configuration&gt;\n&lt;property&gt;\n    &lt;name&gt;hbase.rootdir&lt;/name&gt;\n    &lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\n  &lt;/property&gt;\n &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\n    &lt;value&gt;localhost&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n    &lt;name&gt;zookeeper.znode.parent&lt;/name&gt;\n    &lt;value&gt;file:///home/.../.../hbase-0.94.1/hbDATA/&lt;/value&gt;\n &lt;/property&gt;\n &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\n    &lt;value&gt;2181&lt;/value&gt;\n &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","mockito","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":13852559,"reputation":121,"user_id":10000150,"display_name":"Firas RG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694462705,"creation_date":1694440702,"answer_id":77082278,"question_id":77077657,"body_markdown":"[Updated] Based on [your github repository][1], I see that, **in Runtime** you&#39;re using another utility class `JwtUtils` that doesn&#39;t have same structure and content like `MockJwtTokenProvider`! I think it&#39;s the reason behind your issue.\r\n\r\nThe following is *JwtUtils* class which works fine at runtime:\r\n```java\r\n\r\npackage com.example.demo.security.jwt;\r\n\r\nimport com.example.demo.security.CustomUserDetails;\r\nimport com.example.demo.util.Identity;\r\nimport io.jsonwebtoken.*;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.Map;\r\n\r\n@Component\r\n@Log4j2\r\npublic class JwtUtils {\r\n\r\n\r\n    @Value(&quot;${jwt.secret}&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${jwt.expireMs}&quot;)\r\n    private int jwtExpirationMs;\r\n\r\n    private final Identity identity;\r\n\r\n    public JwtUtils(Identity identity) {\r\n        this.identity = identity;\r\n    }\r\n\r\n\r\n    public String generateJwtToken(Authentication auth) {\r\n        CustomUserDetails userDetails = (CustomUserDetails) auth.getPrincipal();\r\n        Map&lt;String, Object&gt; claims = userDetails.getClaims();\r\n        return createToken(claims, userDetails.getUsername());\r\n    }\r\n\r\n    public String createToken(Map&lt;String, Object&gt; claims, String subject) {\r\n        Date now = new Date();\r\n        Date expirationDate = new Date(now.getTime() + jwtExpirationMs);\r\n\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(subject)\r\n                .setIssuedAt(now)\r\n                .setExpiration(expirationDate)\r\n                .signWith(getSignInKey(),SignatureAlgorithm.HS512)\r\n                .compact();\r\n    }\r\n\r\n    public String generateJwtToken(CustomUserDetails customUserDetails) {\r\n        Map&lt;String, Object&gt; claims = customUserDetails.getClaims();\r\n        claims.put(TokenClaims.ID.getValue(), customUserDetails.getId());\r\n        return createToken(claims, customUserDetails.getUsername());\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSecret);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n    public Claims extractClaims(String token) {\r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    public Long getIdFromToken(String token){\r\n        String idValue = extractClaims(token).get(TokenClaims.ID.getValue()).toString();\r\n        Double doubleValue = Double.parseDouble(idValue);\r\n        return doubleValue.longValue();\r\n    }\r\n\r\n    public String getEmailFromToken(String token){\r\n        return extractClaims(token).get(TokenClaims.EMAIL.getValue()).toString();\r\n    }\r\n\r\n    public boolean validateJwtToken(String authToken) {\r\n\r\n        log.info(&quot;JwtUtils | validateJwtToken | authToken: {}&quot;, authToken);\r\n\r\n        try {\r\n            Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(authToken);\r\n            return true;\r\n        } catch (MalformedJwtException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | Invalid JWT token: {}&quot;, e.getMessage());\r\n        } catch (ExpiredJwtException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is expired: {}&quot;, e.getMessage());\r\n        } catch (UnsupportedJwtException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is unsupported: {}&quot;, e.getMessage());\r\n        } catch (IllegalArgumentException e) {\r\n            log.error(&quot;JwtUtils | validateJwtToken | JWT claims string is empty: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public String extractTokenFromHeader(String authorizationHeader) {\r\n\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n            return authorizationHeader.substring(7);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried to run the test in debug mode, and noticed an exception: \r\n\r\n```bash\r\nio.jsonwebtoken.security.weakkeyexception: The verification key&#39;s size is 48 bits which is not secure enough for the HS256 algorithm\r\n```\r\n\r\nWhich means the key is not compatible with the encryption algorithm. Try to use `JwtUtils` in your tests instead and you&#39;ll be fine. \r\n\r\nAlso, as you&#39;re using spring-security-test, you must define a mock user with `@WithMockUser` annotation. Check the following example : \r\n```java\r\nclass AuthControllerTest  extends BaseControllerTest {\r\n\r\n    @MockBean\r\n    private AuthService authService;\r\n\r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n    @WithMockUser(&quot;customer_1&quot;)\r\n    @Test\r\n    void refreshToken_ReturnSuccess() throws Exception {\r\n\r\n        User mockUser = User.builder()\r\n                .id(1L)\r\n                .username(&quot;customer_1&quot;)\r\n                .email(&quot;customer@bookdelivery.com&quot;)\r\n                .role(Role.ROLE_CUSTOMER)\r\n                .fullName(&quot;customer_fullname&quot;)\r\n                .build();\r\n\r\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n\r\n        // Generate a JWT token for the user\r\n        String mockToken = jwtUtils.generateJwtToken(userDetails);\r\n\r\n        String mockBearerToken = &quot;Bearer &quot; + mockToken;\r\n\r\n        // the rest of your method code\r\n    }\r\n\r\n    // your other test methods...\r\n}\r\n```\r\n\r\n  [1]: https://github.com/Rapter1990/bookdelivery","title":"How to use bearer token in Integration Test for mock or other way in Spring Boot (401 Unauthorized)","body":"<p>[Updated] Based on <a href=\"https://github.com/Rapter1990/bookdelivery\" rel=\"nofollow noreferrer\">your github repository</a>, I see that, <strong>in Runtime</strong> you're using another utility class <code>JwtUtils</code> that doesn't have same structure and content like <code>MockJwtTokenProvider</code>! I think it's the reason behind your issue.</p>\n<p>The following is <em>JwtUtils</em> class which works fine at runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.example.demo.security.jwt;\n\nimport com.example.demo.security.CustomUserDetails;\nimport com.example.demo.util.Identity;\nimport io.jsonwebtoken.*;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\nimport lombok.extern.log4j.Log4j2;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Component;\n\nimport java.security.Key;\nimport java.util.Date;\nimport java.util.Map;\n\n@Component\n@Log4j2\npublic class JwtUtils {\n\n\n    @Value(&quot;${jwt.secret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${jwt.expireMs}&quot;)\n    private int jwtExpirationMs;\n\n    private final Identity identity;\n\n    public JwtUtils(Identity identity) {\n        this.identity = identity;\n    }\n\n\n    public String generateJwtToken(Authentication auth) {\n        CustomUserDetails userDetails = (CustomUserDetails) auth.getPrincipal();\n        Map&lt;String, Object&gt; claims = userDetails.getClaims();\n        return createToken(claims, userDetails.getUsername());\n    }\n\n    public String createToken(Map&lt;String, Object&gt; claims, String subject) {\n        Date now = new Date();\n        Date expirationDate = new Date(now.getTime() + jwtExpirationMs);\n\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(subject)\n                .setIssuedAt(now)\n                .setExpiration(expirationDate)\n                .signWith(getSignInKey(),SignatureAlgorithm.HS512)\n                .compact();\n    }\n\n    public String generateJwtToken(CustomUserDetails customUserDetails) {\n        Map&lt;String, Object&gt; claims = customUserDetails.getClaims();\n        claims.put(TokenClaims.ID.getValue(), customUserDetails.getId());\n        return createToken(claims, customUserDetails.getUsername());\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(jwtSecret);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n\n    public Claims extractClaims(String token) {\n        return Jwts.parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    public Long getIdFromToken(String token){\n        String idValue = extractClaims(token).get(TokenClaims.ID.getValue()).toString();\n        Double doubleValue = Double.parseDouble(idValue);\n        return doubleValue.longValue();\n    }\n\n    public String getEmailFromToken(String token){\n        return extractClaims(token).get(TokenClaims.EMAIL.getValue()).toString();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n\n        log.info(&quot;JwtUtils | validateJwtToken | authToken: {}&quot;, authToken);\n\n        try {\n            Jwts.parserBuilder().setSigningKey(getSignInKey()).build().parseClaimsJws(authToken);\n            return true;\n        } catch (MalformedJwtException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            log.error(&quot;JwtUtils | validateJwtToken | JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n\n    public String extractTokenFromHeader(String authorizationHeader) {\n\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            return authorizationHeader.substring(7);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>I've tried to run the test in debug mode, and noticed an exception:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>io.jsonwebtoken.security.weakkeyexception: The verification key's size is 48 bits which is not secure enough for the HS256 algorithm\n</code></pre>\n<p>Which means the key is not compatible with the encryption algorithm. Try to use <code>JwtUtils</code> in your tests instead and you'll be fine.</p>\n<p>Also, as you're using spring-security-test, you must define a mock user with <code>@WithMockUser</code> annotation. Check the following example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AuthControllerTest  extends BaseControllerTest {\n\n    @MockBean\n    private AuthService authService;\n\n    @Autowired\n    private JwtUtils jwtUtils;\n\n    @WithMockUser(&quot;customer_1&quot;)\n    @Test\n    void refreshToken_ReturnSuccess() throws Exception {\n\n        User mockUser = User.builder()\n                .id(1L)\n                .username(&quot;customer_1&quot;)\n                .email(&quot;customer@bookdelivery.com&quot;)\n                .role(Role.ROLE_CUSTOMER)\n                .fullName(&quot;customer_fullname&quot;)\n                .build();\n\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n        // Generate a JWT token for the user\n        String mockToken = jwtUtils.generateJwtToken(userDetails);\n\n        String mockBearerToken = &quot;Bearer &quot; + mockToken;\n\n        // the rest of your method code\n    }\n\n    // your other test methods...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694498819,"creation_date":1694498819,"answer_id":77086455,"question_id":77077657,"body_markdown":"I also solved the issue by following this **approach**\r\n\r\n1 . Define **customUserDetailsService** and **jwtUtils** in **AuthControllerTest**  \r\n\r\n    @MockBean\r\n    private CustomUserDetailsService customUserDetailsService;\r\n    \r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n\r\n2 . Define **bearer token** \r\n\r\n     // given\r\n     User mockUser = User.builder()\r\n              .id(1L)\r\n              .username(&quot;customer_1&quot;)\r\n              .email(&quot;customer@bookdelivery.com&quot;)\r\n              .role(Role.ROLE_CUSTOMER)\r\n              .fullName(&quot;customer_fullname&quot;)\r\n              .build();\r\n    \r\n      CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n    \r\n    \r\n      String accessToken = jwtUtils.generateJwtToken(userDetails);\r\n    \r\n      String mockBearerToken = &quot;Bearer &quot; + accessToken;\r\n\r\n\r\n3 . As I used **mysql** running on **docker** through **testcontainer**, the value cannot be found and I return **userDetails** with the usage of **mock**\r\n\r\n    when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\r\n\r\n\r\nHere is the final code shown below\r\n\r\n    class AuthControllerTest extends BaseControllerTest {\r\n\r\n    @MockBean\r\n    private AuthService authService;\r\n\r\n    @MockBean\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Autowired\r\n    private JwtUtils jwtUtils;\r\n\r\n      \r\n     \r\n     @Test\r\n        void refreshToken_ReturnSuccess() throws Exception {\r\n    \r\n            // given\r\n            User mockUser = User.builder()\r\n                    .id(1L)\r\n                    .username(&quot;customer_1&quot;)\r\n                    .email(&quot;customer@bookdelivery.com&quot;)\r\n                    .role(Role.ROLE_CUSTOMER)\r\n                    .fullName(&quot;customer_fullname&quot;)\r\n                    .build();\r\n    \r\n            CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n    \r\n    \r\n            String accessToken = jwtUtils.generateJwtToken(userDetails);\r\n    \r\n            String mockBearerToken = &quot;Bearer &quot; + accessToken;\r\n    \r\n            TokenRefreshRequest request = TokenRefreshRequest.builder()\r\n                    .refreshToken(&quot;validRefreshToken&quot;)\r\n                    .build();\r\n    \r\n            TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\r\n                    .accessToken(&quot;newMockedToken&quot;)\r\n                    .refreshToken(&quot;validRefreshToken&quot;)\r\n                    .build();\r\n    \r\n            // when\r\n            when(authService.refreshToken(request)).thenReturn(mockResponse);\r\n            when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\r\n    \r\n            // then\r\n            mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\r\n                            .header(HttpHeaders.AUTHORIZATION, mockBearerToken)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .content(objectMapper.writeValueAsString(request)))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void logout_ReturnSuccess() throws Exception {\r\n    \r\n            // Given\r\n            User mockUser = User.builder()\r\n                    .id(1L)\r\n                    .username(&quot;customer_1&quot;)\r\n                    .email(&quot;customer@bookdelivery.com&quot;)\r\n                    .role(Role.ROLE_CUSTOMER)\r\n                    .fullName(&quot;customer_fullname&quot;)\r\n                    .build();\r\n    \r\n            CustomUserDetails userDetails = new CustomUserDetails(mockUser);\r\n    \r\n    \r\n            String accessToken = jwtUtils.generateJwtToken(userDetails);\r\n    \r\n            String mockBearerToken = &quot;Bearer &quot; + accessToken;\r\n    \r\n            // When\r\n            when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\r\n            when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\r\n    \r\n            // Then\r\n            mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\r\n                            .header(HttpHeaders.AUTHORIZATION, mockBearerToken))\r\n                    .andExpect(status().isOk());\r\n    \r\n            verify(authService).logout(mockBearerToken);\r\n    \r\n        }\r\n\r\n    }","title":"How to use bearer token in Integration Test for mock or other way in Spring Boot (401 Unauthorized)","body":"<p>I also solved the issue by following this <strong>approach</strong></p>\n<p>1 . Define <strong>customUserDetailsService</strong> and <strong>jwtUtils</strong> in <strong>AuthControllerTest</strong></p>\n<pre><code>@MockBean\nprivate CustomUserDetailsService customUserDetailsService;\n\n@Autowired\nprivate JwtUtils jwtUtils;\n</code></pre>\n<p>2 . Define <strong>bearer token</strong></p>\n<pre><code> // given\n User mockUser = User.builder()\n          .id(1L)\n          .username(&quot;customer_1&quot;)\n          .email(&quot;customer@bookdelivery.com&quot;)\n          .role(Role.ROLE_CUSTOMER)\n          .fullName(&quot;customer_fullname&quot;)\n          .build();\n\n  CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n\n  String accessToken = jwtUtils.generateJwtToken(userDetails);\n\n  String mockBearerToken = &quot;Bearer &quot; + accessToken;\n</code></pre>\n<p>3 . As I used <strong>mysql</strong> running on <strong>docker</strong> through <strong>testcontainer</strong>, the value cannot be found and I return <strong>userDetails</strong> with the usage of <strong>mock</strong></p>\n<pre><code>when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\n</code></pre>\n<p>Here is the final code shown below</p>\n<pre><code>class AuthControllerTest extends BaseControllerTest {\n\n@MockBean\nprivate AuthService authService;\n\n@MockBean\nprivate CustomUserDetailsService customUserDetailsService;\n\n@Autowired\nprivate JwtUtils jwtUtils;\n\n  \n \n @Test\n    void refreshToken_ReturnSuccess() throws Exception {\n\n        // given\n        User mockUser = User.builder()\n                .id(1L)\n                .username(&quot;customer_1&quot;)\n                .email(&quot;customer@bookdelivery.com&quot;)\n                .role(Role.ROLE_CUSTOMER)\n                .fullName(&quot;customer_fullname&quot;)\n                .build();\n\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n\n        String accessToken = jwtUtils.generateJwtToken(userDetails);\n\n        String mockBearerToken = &quot;Bearer &quot; + accessToken;\n\n        TokenRefreshRequest request = TokenRefreshRequest.builder()\n                .refreshToken(&quot;validRefreshToken&quot;)\n                .build();\n\n        TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\n                .accessToken(&quot;newMockedToken&quot;)\n                .refreshToken(&quot;validRefreshToken&quot;)\n                .build();\n\n        // when\n        when(authService.refreshToken(request)).thenReturn(mockResponse);\n        when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\n\n        // then\n        mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\n                        .header(HttpHeaders.AUTHORIZATION, mockBearerToken)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(request)))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n\n    }\n\n    @Test\n    void logout_ReturnSuccess() throws Exception {\n\n        // Given\n        User mockUser = User.builder()\n                .id(1L)\n                .username(&quot;customer_1&quot;)\n                .email(&quot;customer@bookdelivery.com&quot;)\n                .role(Role.ROLE_CUSTOMER)\n                .fullName(&quot;customer_fullname&quot;)\n                .build();\n\n        CustomUserDetails userDetails = new CustomUserDetails(mockUser);\n\n\n        String accessToken = jwtUtils.generateJwtToken(userDetails);\n\n        String mockBearerToken = &quot;Bearer &quot; + accessToken;\n\n        // When\n        when(customUserDetailsService.loadUserByUsername(&quot;customer@bookdelivery.com&quot;)).thenReturn(userDetails);\n        when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\n\n        // Then\n        mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\n                        .header(HttpHeaders.AUTHORIZATION, mockBearerToken))\n                .andExpect(status().isOk());\n\n        verify(authService).logout(mockBearerToken);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77086455,"answer_count":2,"score":0,"last_activity_date":1694498819,"creation_date":1694375194,"question_id":77077657,"body_markdown":"I have a problem to use bearer token in refresh token and logout as all these two processes are tackled with bearer token in Integration Test of my Spring Boot example.\r\n\r\nI created MockJwtTokenProvider  to create a mock bearer token for Integration test shown below\r\n\r\n    public class MockJwtTokenProvider {\r\n    \r\n    \r\n        private static final String SECRET_KEY = &quot;404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970&quot;;\r\n        public static final long EXPIRATION_TIME_MS = 3600000; // 1 hour\r\n    \r\n        public static String createMockJwtTokenForCustomer() {\r\n    \r\n            Claims claims = Jwts.claims()\r\n                    .setSubject(&quot;customer_1&quot;) // Set the username as the subject\r\n                    .setIssuedAt(new Date())\r\n                    .setExpiration(new Date(System.currentTimeMillis() + MockJwtTokenProvider.EXPIRATION_TIME_MS));\r\n    \r\n            claims.put(&quot;roles&quot;, Collections.singletonList(&quot;ROLE_CUSTOMER&quot;));\r\n            claims.put(&quot;userFullName&quot;, &quot;customer_fullname&quot;);\r\n            claims.put(&quot;id&quot;, 1);\r\n            claims.put(&quot;email&quot;, &quot;customer@bookdelivery.com&quot;);\r\n    \r\n            // Create a secret key from your actual secret key string\r\n            SecretKey secretKey = Keys.hmacShaKeyFor(SECRET_KEY.getBytes());\r\n    \r\n            // Build the JWT token with the provided claims\r\n            String token = Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setIssuedAt(new Date())\r\n                    .signWith(secretKey, SignatureAlgorithm.HS512)\r\n                    .compact();\r\n    \r\n            return &quot;Bearer &quot; + token;\r\n        }\r\n    }\r\n\r\n\r\n\r\nHere is the relevant part of AuthControllerTest shown below\r\n\r\n    @Test\r\n    void refreshToken_ReturnSuccess() throws Exception {\r\n\r\n        // given\r\n        TokenRefreshRequest request = TokenRefreshRequest.builder()\r\n                .refreshToken(&quot;validRefreshToken&quot;)\r\n                .build();\r\n\r\n        TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\r\n                .accessToken(&quot;newMockedToken&quot;)\r\n                .refreshToken(&quot;validRefreshToken&quot;)\r\n                .build();\r\n\r\n\r\n        String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\r\n\r\n        // when\r\n        when(authService.refreshToken(request)).thenReturn(mockResponse);\r\n\r\n        // then\r\n        mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\r\n                        .header(&quot;Authorization&quot;, mockBearerToken)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(request)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON));\r\n\r\n    }\r\n\r\n    @Test\r\n    void logout_ReturnSuccess() throws Exception {\r\n\r\n        // Given\r\n        String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\r\n\r\n        // When\r\n        when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\r\n\r\n        // Then\r\n        mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\r\n                        .header(&quot;Authorization&quot;, mockBearerToken))\r\n                .andExpect(status().isOk());\r\n\r\n        verify(authService).logout(mockBearerToken);\r\n\r\n    }\r\n\r\n\r\nI always got this issue shown below for refresh token and logout.\r\n\r\n    MockHttpServletResponse:\r\n               Status = 401\r\n        Error message = null\r\n              Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n         Content type = application/json\r\n                 Body = {&quot;path&quot;:&quot;&quot;,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Full authentication is required to access this resource&quot;,&quot;status&quot;:401}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\r\n    Expected :200\r\n    Actual   :401\r\n\r\nI also use real bearer token but I got the same error.\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/bookdelivery","title":"How to use bearer token in Integration Test for mock or other way in Spring Boot (401 Unauthorized)","body":"<p>I have a problem to use bearer token in refresh token and logout as all these two processes are tackled with bearer token in Integration Test of my Spring Boot example.</p>\n<p>I created MockJwtTokenProvider  to create a mock bearer token for Integration test shown below</p>\n<pre><code>public class MockJwtTokenProvider {\n\n\n    private static final String SECRET_KEY = &quot;404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970&quot;;\n    public static final long EXPIRATION_TIME_MS = 3600000; // 1 hour\n\n    public static String createMockJwtTokenForCustomer() {\n\n        Claims claims = Jwts.claims()\n                .setSubject(&quot;customer_1&quot;) // Set the username as the subject\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + MockJwtTokenProvider.EXPIRATION_TIME_MS));\n\n        claims.put(&quot;roles&quot;, Collections.singletonList(&quot;ROLE_CUSTOMER&quot;));\n        claims.put(&quot;userFullName&quot;, &quot;customer_fullname&quot;);\n        claims.put(&quot;id&quot;, 1);\n        claims.put(&quot;email&quot;, &quot;customer@bookdelivery.com&quot;);\n\n        // Create a secret key from your actual secret key string\n        SecretKey secretKey = Keys.hmacShaKeyFor(SECRET_KEY.getBytes());\n\n        // Build the JWT token with the provided claims\n        String token = Jwts.builder()\n                .setClaims(claims)\n                .setIssuedAt(new Date())\n                .signWith(secretKey, SignatureAlgorithm.HS512)\n                .compact();\n\n        return &quot;Bearer &quot; + token;\n    }\n}\n</code></pre>\n<p>Here is the relevant part of AuthControllerTest shown below</p>\n<pre><code>@Test\nvoid refreshToken_ReturnSuccess() throws Exception {\n\n    // given\n    TokenRefreshRequest request = TokenRefreshRequest.builder()\n            .refreshToken(&quot;validRefreshToken&quot;)\n            .build();\n\n    TokenRefreshResponse mockResponse = TokenRefreshResponse.builder()\n            .accessToken(&quot;newMockedToken&quot;)\n            .refreshToken(&quot;validRefreshToken&quot;)\n            .build();\n\n\n    String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\n\n    // when\n    when(authService.refreshToken(request)).thenReturn(mockResponse);\n\n    // then\n    mockMvc.perform(post(&quot;/api/v1/auth/refreshtoken&quot;)\n                    .header(&quot;Authorization&quot;, mockBearerToken)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(objectMapper.writeValueAsString(request)))\n            .andExpect(status().isOk())\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON));\n\n}\n\n@Test\nvoid logout_ReturnSuccess() throws Exception {\n\n    // Given\n    String mockBearerToken = MockJwtTokenProvider.createMockJwtTokenForCustomer();\n\n    // When\n    when(authService.logout(mockBearerToken)).thenReturn(&quot;success&quot;);\n\n    // Then\n    mockMvc.perform(post(&quot;/api/v1/auth/logout&quot;)\n                    .header(&quot;Authorization&quot;, mockBearerToken))\n            .andExpect(status().isOk());\n\n    verify(authService).logout(mockBearerToken);\n\n}\n</code></pre>\n<p>I always got this issue shown below for refresh token and logout.</p>\n<pre><code>MockHttpServletResponse:\n           Status = 401\n    Error message = null\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = application/json\n             Body = {&quot;path&quot;:&quot;&quot;,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Full authentication is required to access this resource&quot;,&quot;status&quot;:401}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;401&gt;\nExpected :200\nActual   :401\n</code></pre>\n<p>I also use real bearer token but I got the same error.</p>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/bookdelivery\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","multithreading","sleep","thread-sleep"],"comments":[{"owner":{"account_id":20976525,"reputation":669,"user_id":15412365,"display_name":"VIAGC"},"score":0,"creation_date":1621788498,"post_id":67662106,"comment_id":119595804,"body_markdown":"For the first part I would say it would only put to sleep a single thread, either main or additional thread as additional thread will get its different stack and main only invokes the thread not control it, in second case only one thread should pause.","body":"For the first part I would say it would only put to sleep a single thread, either main or additional thread as additional thread will get its different stack and main only invokes the thread not control it, in second case only one thread should pause."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1621790239,"post_id":67662106,"comment_id":119596334,"body_markdown":"Imagine the chaos if you could instruct *other* threads to sleep.","body":"Imagine the chaos if you could instruct <i>other</i> threads to sleep."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1621827689,"post_id":67662106,"comment_id":119603569,"body_markdown":"1. It&#39;s a static method. It can therefore only possibly apply to one thread: the current thread. Nothing else makes sense. 2. &quot;Both `t2` and `t1` pause&quot;: no they don&#39;t.","body":"1. It&#39;s a static method. It can therefore only possibly apply to one thread: the current thread. Nothing else makes sense. 2. &quot;Both <code>t2</code> and <code>t1</code> pause&quot;: no they don&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694498257,"creation_date":1621788939,"answer_id":67662277,"question_id":67662106,"body_markdown":"In Java, threads are all equal peers, without grouping, parenting, or ownership.\r\n\r\nSo sleeping any one thread has no direct effect on other threads. \r\n\r\nCalling `Thread.sleep` sleeps whatever thread executes that method. Utterly simple, nothing more to explain.\r\n\r\nAs the [`Thread.sleep`][1] Javadoc says:\r\n\r\n&gt; Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, in modern Java we rarely need to address the `Thread` class directly. Instead we use executor service(s) to run `Runnable` or `Callable` tasks. So no need to call `new Thread`. And no need to extend from `Thread`. \r\n\r\n\r\n----------\r\n\r\nTip: In recent versions of Java, we can pass a `Duration` object to the `sleep` method rather than a count of milliseconds.  \r\n\r\n    Thread.sleep( Duration.ofSeconds( 42 ) ) ;\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#sleep(long)","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>In Java, threads are all equal peers, without grouping, parenting, or ownership.</p>\n<p>So sleeping any one thread has no direct effect on other threads.</p>\n<p>Calling <code>Thread.sleep</code> sleeps whatever thread executes that method. Utterly simple, nothing more to explain.</p>\n<p>As the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>Thread.sleep</code></a> Javadoc says:</p>\n<blockquote>\n<p>Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds</p>\n</blockquote>\n<hr />\n<p>By the way, in modern Java we rarely need to address the <code>Thread</code> class directly. Instead we use executor service(s) to run <code>Runnable</code> or <code>Callable</code> tasks. So no need to call <code>new Thread</code>. And no need to extend from <code>Thread</code>.</p>\n<hr />\n<p>Tip: In recent versions of Java, we can pass a <code>Duration</code> object to the <code>sleep</code> method rather than a count of milliseconds.</p>\n<pre><code>Thread.sleep( Duration.ofSeconds( 42 ) ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347665,"reputation":4574,"user_id":681929,"accept_rate":58,"display_name":"nobalG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621793558,"creation_date":1621793558,"answer_id":67662970,"question_id":67662106,"body_markdown":"Thread.sleep() pauses the current thread inside which the code is being executed, It have no impact on other threads. That thread can be &#39;main&#39; thread or threads spawned (started) from main thread.\r\n\r\nHowever Thread.sleep() is not the way to go to implement asynchronous tasks, like suspending some thread to wait by Thread.sleep() and then guessing that after that much time I can resume my thread and hoping that the event must have been completed for which your sleeping thread was waiting for. You will some low level mechanism like notify, wait, notifyAll .  Rather use Semaphores, Countdown latch and other better wrappers as suggested in the other answer. Comment below for more information or doubts you have, happy to help\r\n","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>Thread.sleep() pauses the current thread inside which the code is being executed, It have no impact on other threads. That thread can be 'main' thread or threads spawned (started) from main thread.</p>\n<p>However Thread.sleep() is not the way to go to implement asynchronous tasks, like suspending some thread to wait by Thread.sleep() and then guessing that after that much time I can resume my thread and hoping that the event must have been completed for which your sleeping thread was waiting for. You will some low level mechanism like notify, wait, notifyAll .  Rather use Semaphores, Countdown latch and other better wrappers as suggested in the other answer. Comment below for more information or doubts you have, happy to help</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621825547,"creation_date":1621825547,"answer_id":67666203,"question_id":67662106,"body_markdown":"`Thread.sleep()` is one of a number of things in Java that have really awful names.\\* Don&#39;t think of it &quot;sleeping&quot; any thread. There&#39;s a much simpler way to think about it:\r\n\r\n`Thread.sleep(n)` does NOTHING.\r\n\r\nIt does nothing for at least `n` milliseconds, and then it returns. That is all you need to know about `sleep()` (at least, it&#39;s all you need to know until you become a maintainer of a Java Runtime Environment.)\r\n\r\n-----------------\r\n\\* Java was invented by several really smart, PhD. computer scientists. Java is a simple, beautiful language; but they bestowed names on certain things that maybe seem obvious to experts, but which sometimes can be really confusing to beginners.","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p><code>Thread.sleep()</code> is one of a number of things in Java that have really awful names.* Don't think of it &quot;sleeping&quot; any thread. There's a much simpler way to think about it:</p>\n<p><code>Thread.sleep(n)</code> does NOTHING.</p>\n<p>It does nothing for at least <code>n</code> milliseconds, and then it returns. That is all you need to know about <code>sleep()</code> (at least, it's all you need to know until you become a maintainer of a Java Runtime Environment.)</p>\n<hr />\n<p>* Java was invented by several really smart, PhD. computer scientists. Java is a simple, beautiful language; but they bestowed names on certain things that maybe seem obvious to experts, but which sometimes can be really confusing to beginners.</p>\n"},{"tags":[],"owner":{"account_id":24265481,"reputation":11,"user_id":18214445,"display_name":"Rishabh Rastogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680292059,"creation_date":1680292059,"answer_id":75902264,"question_id":67662106,"body_markdown":"I know I&#39;m late to the party but to answer your question explicitly - `Thread.sleep(n)` where n is in milliseconds causes current thread to sleep and doesn&#39;t affect the other threads.&lt;br&gt;\r\n1. If you call `Thread.sleep(1000)` inside main method, like below, your main  thread will sleep for 1 seconds while other threads will continue to run.\r\n```\r\nclass Task extends Thread {\r\n\r\n  @Override\r\n  public void run() {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n      System.out.println(\r\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\r\n    }\r\n\r\n  }\r\n}\r\n\r\npublic class ThreadSleepExample {\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    Task task = new Task();\r\n    task.start();\r\n    task.setName(&quot;Task Thread&quot;);\r\n    Thread.sleep(1000);\r\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\r\n    System.out.println(\r\n        &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; and I slept for a while&quot;); //This line gets printed after 1 second.\r\n\r\n\r\n  }\r\n}\r\n```\r\nOutput -\r\n```\r\nHello! I am Task Thread running without sleep - 0\r\nHello! I am Task Thread running without sleep - 1\r\nHello! I am Task Thread running without sleep - 2\r\nHello! I am Main Thread and I slept for a while\r\n```\r\n2. Now, when you invoke `Thread.sleep(n)` within a run method, it causes that thread to sleep and other threads including the main thread remains unaffected.\r\n```\r\nclass TaskWithSleep extends Thread {\r\n  @Override\r\n  public void run() {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n      System.out.println(\r\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running with sleep - &quot; + i);\r\n      try {\r\n        Thread.sleep(1000);\r\n      } catch (InterruptedException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nclass TaskWithoutSleep extends Thread {\r\n  @Override\r\n  public void run() {\r\n    for (int i = 0; i &lt; 3; i++) {\r\n      System.out.println(\r\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\r\n    }\r\n  }\r\n}\r\n\r\npublic class ThreadSleepExample {\r\n\r\n  public static void main(String[] args) {\r\n    TaskWithSleep sleepTask = new TaskWithSleep();\r\n    sleepTask.setName(&quot;SleepTask Thread&quot;);\r\n\r\n    TaskWithoutSleep withoutSleepTask = new TaskWithoutSleep();\r\n    withoutSleepTask.setName(&quot;WithoutSleepTask Thread&quot;);\r\n\r\n    sleepTask.start();\r\n    withoutSleepTask.start();\r\n\r\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\r\n    System.out.println(&quot;I am &quot; + Thread.currentThread().getName()\r\n        + &quot; and I remain unaffected by sleep inside other threads&quot;);\r\n\r\n  }\r\n}\r\n```\r\nHere, `SleepTask Thread` will pause for 1 second after printing each line. Whereas other threads like `WithoutSleepTask Thread` and `Main Thread` will continue to execute.&lt;br&gt;\r\nHere is the output -\r\n```\r\nI am Main Thread and I remain unaffected by sleep inside other threads\r\nHello! I am WithoutSleepTask Thread running without sleep - 0\r\nHello! I am SleepTask Thread running with sleep - 0\r\nHello! I am WithoutSleepTask Thread running without sleep - 1\r\nHello! I am WithoutSleepTask Thread running without sleep - 2\r\nHello! I am SleepTask Thread running with sleep - 1\r\nHello! I am SleepTask Thread running with sleep - 2\r\n```\r\n\r\nSo in your case `t1` should sleep and `t2` should execute normally.","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>I know I'm late to the party but to answer your question explicitly - <code>Thread.sleep(n)</code> where n is in milliseconds causes current thread to sleep and doesn't affect the other threads.<br></p>\n<ol>\n<li>If you call <code>Thread.sleep(1000)</code> inside main method, like below, your main  thread will sleep for 1 seconds while other threads will continue to run.</li>\n</ol>\n<pre><code>class Task extends Thread {\n\n  @Override\n  public void run() {\n    for (int i = 0; i &lt; 3; i++) {\n      System.out.println(\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\n    }\n\n  }\n}\n\npublic class ThreadSleepExample {\n\n  public static void main(String[] args) throws InterruptedException {\n    Task task = new Task();\n    task.start();\n    task.setName(&quot;Task Thread&quot;);\n    Thread.sleep(1000);\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\n    System.out.println(\n        &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; and I slept for a while&quot;); //This line gets printed after 1 second.\n\n\n  }\n}\n</code></pre>\n<p>Output -</p>\n<pre><code>Hello! I am Task Thread running without sleep - 0\nHello! I am Task Thread running without sleep - 1\nHello! I am Task Thread running without sleep - 2\nHello! I am Main Thread and I slept for a while\n</code></pre>\n<ol start=\"2\">\n<li>Now, when you invoke <code>Thread.sleep(n)</code> within a run method, it causes that thread to sleep and other threads including the main thread remains unaffected.</li>\n</ol>\n<pre><code>class TaskWithSleep extends Thread {\n  @Override\n  public void run() {\n    for (int i = 0; i &lt; 3; i++) {\n      System.out.println(\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running with sleep - &quot; + i);\n      try {\n        Thread.sleep(1000);\n      } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n      }\n    }\n  }\n}\n\nclass TaskWithoutSleep extends Thread {\n  @Override\n  public void run() {\n    for (int i = 0; i &lt; 3; i++) {\n      System.out.println(\n          &quot;Hello! I am &quot; + Thread.currentThread().getName() + &quot; running without sleep - &quot; + i);\n    }\n  }\n}\n\npublic class ThreadSleepExample {\n\n  public static void main(String[] args) {\n    TaskWithSleep sleepTask = new TaskWithSleep();\n    sleepTask.setName(&quot;SleepTask Thread&quot;);\n\n    TaskWithoutSleep withoutSleepTask = new TaskWithoutSleep();\n    withoutSleepTask.setName(&quot;WithoutSleepTask Thread&quot;);\n\n    sleepTask.start();\n    withoutSleepTask.start();\n\n    Thread.currentThread().setName(&quot;Main Thread&quot;);\n    System.out.println(&quot;I am &quot; + Thread.currentThread().getName()\n        + &quot; and I remain unaffected by sleep inside other threads&quot;);\n\n  }\n}\n</code></pre>\n<p>Here, <code>SleepTask Thread</code> will pause for 1 second after printing each line. Whereas other threads like <code>WithoutSleepTask Thread</code> and <code>Main Thread</code> will continue to execute.<br>\nHere is the output -</p>\n<pre><code>I am Main Thread and I remain unaffected by sleep inside other threads\nHello! I am WithoutSleepTask Thread running without sleep - 0\nHello! I am SleepTask Thread running with sleep - 0\nHello! I am WithoutSleepTask Thread running without sleep - 1\nHello! I am WithoutSleepTask Thread running without sleep - 2\nHello! I am SleepTask Thread running with sleep - 1\nHello! I am SleepTask Thread running with sleep - 2\n</code></pre>\n<p>So in your case <code>t1</code> should sleep and <code>t2</code> should execute normally.</p>\n"}],"owner":{"account_id":20140234,"reputation":95,"user_id":14770216,"display_name":"Mariam Atef"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":4,"score":1,"last_activity_date":1694498257,"creation_date":1621787903,"question_id":67662106,"body_markdown":"I&#39;m a bit confused about how Thread.sleep() works:\r\n\r\n1. If i call it inside the main method, and there are other created threads that are running. What would it pause: The main thread alone or all its subThreads along with it (considering them as a part of the main thread)?\r\nFor example:\r\n\r\n        public static void main(String arg[])\r\n        { \r\n            Thread t1 = new Thread();\r\n            t1.start();\r\n            Thread.Sleep(1000);\r\n        }\r\n\r\n2. If I invoke the `sleep()` method inside the `run()` method of a thread, when calling the `start()` method for the thread inside main, does it pause other threads, too? Because that happened with me ... although I know that in this case it should only pause the thread it was called inside\r\nFor example:\r\n\r\n        //thread Tester has a sleep() in its run() while NoSleep doesn&#39;t have\r\n         public static void main(String arg[])\r\n         { \r\n             Tester t1 = new Tester();\r\n             NoSleep t2 = new NoSleep();\r\n             t1.start();\r\n             t2.start();\r\n        }\r\n\r\nIn a code like this, both `t2` and `t1` pause I don&#39;t understand why.\r\n\r\n","title":"Thread.sleep method called inside main method, what thread would it pause?","body":"<p>I'm a bit confused about how Thread.sleep() works:</p>\n<ol>\n<li><p>If i call it inside the main method, and there are other created threads that are running. What would it pause: The main thread alone or all its subThreads along with it (considering them as a part of the main thread)?\nFor example:</p>\n<pre><code> public static void main(String arg[])\n { \n     Thread t1 = new Thread();\n     t1.start();\n     Thread.Sleep(1000);\n }\n</code></pre>\n</li>\n<li><p>If I invoke the <code>sleep()</code> method inside the <code>run()</code> method of a thread, when calling the <code>start()</code> method for the thread inside main, does it pause other threads, too? Because that happened with me ... although I know that in this case it should only pause the thread it was called inside\nFor example:</p>\n<pre><code> //thread Tester has a sleep() in its run() while NoSleep doesn't have\n  public static void main(String arg[])\n  { \n      Tester t1 = new Tester();\n      NoSleep t2 = new NoSleep();\n      t1.start();\n      t2.start();\n }\n</code></pre>\n</li>\n</ol>\n<p>In a code like this, both <code>t2</code> and <code>t1</code> pause I don't understand why.</p>\n"},{"tags":["java","c","class","java-native-interface","directory-structure"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1564756368,"post_id":57328302,"comment_id":101147157,"body_markdown":"Header files (`foo.h`) are needed only at compile time.  It is conventional to put them alongside the corresponding C source files, or occasionally in a separate `include/` directory, but as long as the C compilation is working correctly, whatever you are doing now is OK, in the sense that it is not a factor in whether the code runs correctly.","body":"Header files (<code>foo.h</code>) are needed only at compile time.  It is conventional to put them alongside the corresponding C source files, or occasionally in a separate <code>include&#47;</code> directory, but as long as the C compilation is working correctly, whatever you are doing now is OK, in the sense that it is not a factor in whether the code runs correctly."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1564756700,"post_id":57328302,"comment_id":101147362,"body_markdown":"However, it is neither necessary nor useful to compile the header files themselves.  Instead, the JNI C source files should `#include` the appropriate header(s).","body":"However, it is neither necessary nor useful to compile the header files themselves.  Instead, the JNI C source files should <code>#include</code> the appropriate header(s)."},{"owner":{"account_id":16210342,"reputation":11,"user_id":11770634,"display_name":"Connor Siem"},"score":0,"creation_date":1564756896,"post_id":57328302,"comment_id":101147486,"body_markdown":"okay that makes sense, but what about the .so files. Do I need to put them somewhere special or how do I get them to be included?","body":"okay that makes sense, but what about the .so files. Do I need to put them somewhere special or how do I get them to be included?"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1564756922,"post_id":57328302,"comment_id":101147506,"body_markdown":"But as for why you&#39;re getting the specific errors you&#39;re getting, it&#39;s hard to tell without more information.  Generally, we need to see a [mre] in order to answer questions about why your program isn&#39;t working correctly.","body":"But as for why you&#39;re getting the specific errors you&#39;re getting, it&#39;s hard to tell without more information.  Generally, we need to see a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in order to answer questions about why your program isn&#39;t working correctly."},{"owner":{"account_id":16210342,"reputation":11,"user_id":11770634,"display_name":"Connor Siem"},"score":1,"creation_date":1564757016,"post_id":57328302,"comment_id":101147556,"body_markdown":"Alright I can try a hello world for this and post it","body":"Alright I can try a hello world for this and post it"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1564757515,"post_id":57328302,"comment_id":101147818,"body_markdown":"There is no need to `sudo cp` libraries around. You can get by with `export LD_LIBRARY_PATH=/home/pi/git/GPIO_I2C/src/c`","body":"There is no need to <code>sudo cp</code> libraries around. You can get by with <code>export LD_LIBRARY_PATH=&#47;home&#47;pi&#47;git&#47;GPIO_I2C&#47;src&#47;c</code>"},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":0,"creation_date":1565023567,"post_id":57328302,"comment_id":101212188,"body_markdown":"Even more, you can pass library location without altering `LD_LIBRARY_PATH` by using `-Djava.library.path=...`","body":"Even more, you can pass library location without altering <code>LD_LIBRARY_PATH</code> by using <code>-Djava.library.path=...</code>"}],"answers":[{"tags":[],"owner":{"account_id":473127,"reputation":23114,"user_id":882051,"accept_rate":70,"display_name":"hmakholm left over Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564770205,"creation_date":1564770205,"answer_id":57331720,"question_id":57328302,"body_markdown":"If you&#39;ve managed to produce the .so file, what you need to do is tell the JVM where to find it. You do that by adding `-Djava.library.path=/directory/path/goes/here` to the JVM command line.\r\n\r\n(Next step, make sure to call `System.loadLibrary(&quot;myGPIOMethods&quot;)` before you try to call any of your native methods).","title":"JNI directory structure c and java","body":"<p>If you've managed to produce the .so file, what you need to do is tell the JVM where to find it. You do that by adding <code>-Djava.library.path=/directory/path/goes/here</code> to the JVM command line.</p>\n\n<p>(Next step, make sure to call <code>System.loadLibrary(\"myGPIOMethods\")</code> before you try to call any of your native methods).</p>\n"},{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694497969,"creation_date":1565010342,"answer_id":57359231,"question_id":57328302,"body_markdown":"Take a look here: http://jnicookbook.owsiak.org/recipe-No-021/ where you can find sample of the code with various methods in different files.\r\n\r\nYou can also take a look here: http://jnicookbook.owsiak.org/recipe-No-021/\r\n\r\nBasically, what you want to have is a structure where all the headers and C code are in one place while Java code is inside another place.\r\n\r\nBasically, you can start with something as simple as:\r\n\r\n```\r\n.\r\n|-- Makefile\r\n|-- c\r\n|   |-- recipeNo021_AnotherFunction.c\r\n|   `-- recipeNo021_HelloWorld.c\r\n|-- java\r\n|   `-- recipeNo021\r\n|       `-- HelloWorld.java\r\n|-- lib\r\n`-- target\r\n```\r\n\r\nWhen it comes to simple JNI code, start with something super simple: `Hello world!`\r\n\r\nhttps://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo001","title":"JNI directory structure c and java","body":"<p>Take a look here: <a href=\"http://jnicookbook.owsiak.org/recipe-No-021/\" rel=\"nofollow noreferrer\">http://jnicookbook.owsiak.org/recipe-No-021/</a> where you can find sample of the code with various methods in different files.</p>\n<p>You can also take a look here: <a href=\"http://jnicookbook.owsiak.org/recipe-No-021/\" rel=\"nofollow noreferrer\">http://jnicookbook.owsiak.org/recipe-No-021/</a></p>\n<p>Basically, what you want to have is a structure where all the headers and C code are in one place while Java code is inside another place.</p>\n<p>Basically, you can start with something as simple as:</p>\n<pre><code>.\n|-- Makefile\n|-- c\n|   |-- recipeNo021_AnotherFunction.c\n|   `-- recipeNo021_HelloWorld.c\n|-- java\n|   `-- recipeNo021\n|       `-- HelloWorld.java\n|-- lib\n`-- target\n</code></pre>\n<p>When it comes to simple JNI code, start with something super simple: <code>Hello world!</code></p>\n<p><a href=\"https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo001\" rel=\"nofollow noreferrer\">https://github.com/mkowsiak/jnicookbook/tree/master/recipes/recipeNo001</a></p>\n"}],"owner":{"account_id":16210342,"reputation":11,"user_id":11770634,"display_name":"Connor Siem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694497969,"creation_date":1564755477,"question_id":57328302,"body_markdown":"I&#39;ve created 3 `JNI` classes and since I&#39;m new to programming I just had them all in the same file but now I have to set up the directory for them in a professional sense. \r\n\r\nThis includes `src` for the source code and `bin` for the classes but I have no idea where to put the `.h` and `.so` files and how to compile everything so it works. \r\n\r\n**I&#39;ve tried** to look into classpaths and stuff but I seem to just be stuck and can&#39;t get my code to run properly. I&#39;m **also trying** to understand and learn packages for this but I&#39;m stuck on that too.\r\n~~~\r\n#spaces are just for easier reading atm\r\n\r\ncd /home/pi/git/GPIO_I2C\r\nmkdir bin\r\njavac -d bin /home/pi/git/GPIO_I2C/src/com/company/gpioi2c/gpio/GPIOMethods.java -h ./bin\r\n\r\ncd bin\r\ngcc -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -c &quot;com_comapny_gpioi2c_gpio_GPIOMethods.h&quot;\r\n\r\ncd /home/pi/git/GPIO_I2C/src/c\r\n\r\ngcc -o libmyGPIOMethods.so -shared -fPIC -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux GPIOMethods.c -lc \r\n\r\nsudo cp libmyGPIOMethods.so /usr/lib\r\ncd /home/pi/git/GPIO_I2C/\r\njava -cp /home/pi/git/GPIO_I2C/bin/com/company/gpioi2c/gpio GPIOMethods\r\n~~~\r\n\r\nThis is **what I&#39;ve tried** to compile so far for just one of the methods but I&#39;m getting `Could not load main class` or `unsatisfied link error` depending on what I&#39;ve changed?","title":"JNI directory structure c and java","body":"<p>I've created 3 <code>JNI</code> classes and since I'm new to programming I just had them all in the same file but now I have to set up the directory for them in a professional sense. </p>\n\n<p>This includes <code>src</code> for the source code and <code>bin</code> for the classes but I have no idea where to put the <code>.h</code> and <code>.so</code> files and how to compile everything so it works. </p>\n\n<p><strong>I've tried</strong> to look into classpaths and stuff but I seem to just be stuck and can't get my code to run properly. I'm <strong>also trying</strong> to understand and learn packages for this but I'm stuck on that too.</p>\n\n<pre><code>#spaces are just for easier reading atm\n\ncd /home/pi/git/GPIO_I2C\nmkdir bin\njavac -d bin /home/pi/git/GPIO_I2C/src/com/company/gpioi2c/gpio/GPIOMethods.java -h ./bin\n\ncd bin\ngcc -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -c \"com_comapny_gpioi2c_gpio_GPIOMethods.h\"\n\ncd /home/pi/git/GPIO_I2C/src/c\n\ngcc -o libmyGPIOMethods.so -shared -fPIC -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux GPIOMethods.c -lc \n\nsudo cp libmyGPIOMethods.so /usr/lib\ncd /home/pi/git/GPIO_I2C/\njava -cp /home/pi/git/GPIO_I2C/bin/com/company/gpioi2c/gpio GPIOMethods\n</code></pre>\n\n<p>This is <strong>what I've tried</strong> to compile so far for just one of the methods but I'm getting <code>Could not load main class</code> or <code>unsatisfied link error</code> depending on what I've changed?</p>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694488429,"creation_date":1694472419,"answer_id":77085160,"question_id":77081001,"body_markdown":"Immediately before or after the `@Transaction` annotation include the following:-\r\n\r\n    @Query(&quot;&quot;)\r\n\r\ne.g. \r\n\r\n\r\n    @Transaction\r\n    @Query(&quot;&quot;)\r\n    insertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\r\n        insert(weighting);\r\n        insert(comment);\r\n    }\r\n\r\nRoom then sees the function(s) as using the Database, due to the dummy query and wraps the function within a transaction (at least this used to be the behaviour).\r\n\r\nThis is according to https://developer.android.com/reference/kotlin/androidx/room/Transaction, as per:-\r\n\r\n&gt; When used on a Query method that has a SELECT statement, the generated code for the Query will be run in a transaction. There are 2 main cases where you may want to do that:\r\n\r\n&gt; If the result of the query is fairly big, it is better to run it inside a transaction to receive a consistent result. Otherwise, if the query result does not fit into a single android.database.CursorWindow, the query result may be corrupted due to changes in the database in between cursor window swaps.\r\n\r\n&gt; If the result of the query is a POJO with {@link Relation} fields, these fields are queried separately. To receive consistent results between these queries, you also want to run them in a single transaction.\r\n\r\nAnd then :-\r\n\r\n&gt; Putting this annotation on an Insert, Update or Delete method has no impact because those methods are always run inside a transaction. Similarly, if a method is annotated with Query but runs an INSERT, UPDATE or DELETE statement, it is automatically wrapped in a transaction and this annotation has no effect. Room will only perform at most one transaction at a time, additional transactions are queued and executed on a first come, first serve order.\r\n\r\nSo the dummy query appears to fool Room into wrapping the otherwise ignored INSERT/UPDATE/DELETE (or whatever e.g. could be execSQL&#39;s, query or @Query annotated functions) into a Transaction.\r\n\r\n\r\nAnd then \r\n\r\n&gt; The transaction will be marked as successful unless an exception is thrown in the method body.\r\n","title":"Annotation (@Transaction) in Room Android not Work","body":"<p>Immediately before or after the <code>@Transaction</code> annotation include the following:-</p>\n<pre><code>@Query(&quot;&quot;)\n</code></pre>\n<p>e.g.</p>\n<pre><code>@Transaction\n@Query(&quot;&quot;)\ninsertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\n    insert(weighting);\n    insert(comment);\n}\n</code></pre>\n<p>Room then sees the function(s) as using the Database, due to the dummy query and wraps the function within a transaction (at least this used to be the behaviour).</p>\n<p>This is according to <a href=\"https://developer.android.com/reference/kotlin/androidx/room/Transaction\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/androidx/room/Transaction</a>, as per:-</p>\n<blockquote>\n<p>When used on a Query method that has a SELECT statement, the generated code for the Query will be run in a transaction. There are 2 main cases where you may want to do that:</p>\n</blockquote>\n<blockquote>\n<p>If the result of the query is fairly big, it is better to run it inside a transaction to receive a consistent result. Otherwise, if the query result does not fit into a single android.database.CursorWindow, the query result may be corrupted due to changes in the database in between cursor window swaps.</p>\n</blockquote>\n<blockquote>\n<p>If the result of the query is a POJO with {@link Relation} fields, these fields are queried separately. To receive consistent results between these queries, you also want to run them in a single transaction.</p>\n</blockquote>\n<p>And then :-</p>\n<blockquote>\n<p>Putting this annotation on an Insert, Update or Delete method has no impact because those methods are always run inside a transaction. Similarly, if a method is annotated with Query but runs an INSERT, UPDATE or DELETE statement, it is automatically wrapped in a transaction and this annotation has no effect. Room will only perform at most one transaction at a time, additional transactions are queued and executed on a first come, first serve order.</p>\n</blockquote>\n<p>So the dummy query appears to fool Room into wrapping the otherwise ignored INSERT/UPDATE/DELETE (or whatever e.g. could be execSQL's, query or @Query annotated functions) into a Transaction.</p>\n<p>And then</p>\n<blockquote>\n<p>The transaction will be marked as successful unless an exception is thrown in the method body.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26746945,"reputation":91,"user_id":21110009,"display_name":"Алексей Жуков"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1694496738,"creation_date":1694496738,"answer_id":77086318,"question_id":77081001,"body_markdown":"That&#39;s the solution that worked (without @Transaction).\r\n\r\nMy service class:\r\n\r\n    public class DBCommonService {\r\n\r\n    private static final String TAG = DBCommonService.class.getName();\r\n\r\n    private final AppDatabase db;\r\n\r\n    public DBCommonService(AppDatabase db) {\r\n        this.db = db;\r\n    }\r\n\r\n    public long addWeightAndComment(WeightingDbEntity weighting, String comment) {\r\n\r\n        return db.runInTransaction(() -&gt; {\r\n            try {\r\n                long resAddWeight = db.getWeightingDao().insert(weighting);\r\n\r\n                long resAddComment = 0;\r\n                if(resAddWeight &gt; 0) {\r\n                    resAddComment = db.getCommentDao().insert(new CommentDbEntity((int)resAddWeight, comment));\r\n                }\r\n\r\n                return resAddComment &gt; 0 ? resAddWeight : 0L;\r\n\r\n            } catch (Exception e) {\r\n                Log.e(TAG, e.getMessage());\r\n                return 0L;\r\n            }\r\n        });\r\n    }","title":"Annotation (@Transaction) in Room Android not Work","body":"<p>That's the solution that worked (without @Transaction).</p>\n<p>My service class:</p>\n<pre><code>public class DBCommonService {\n\nprivate static final String TAG = DBCommonService.class.getName();\n\nprivate final AppDatabase db;\n\npublic DBCommonService(AppDatabase db) {\n    this.db = db;\n}\n\npublic long addWeightAndComment(WeightingDbEntity weighting, String comment) {\n\n    return db.runInTransaction(() -&gt; {\n        try {\n            long resAddWeight = db.getWeightingDao().insert(weighting);\n\n            long resAddComment = 0;\n            if(resAddWeight &gt; 0) {\n                resAddComment = db.getCommentDao().insert(new CommentDbEntity((int)resAddWeight, comment));\n            }\n\n            return resAddComment &gt; 0 ? resAddWeight : 0L;\n\n        } catch (Exception e) {\n            Log.e(TAG, e.getMessage());\n            return 0L;\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":26746945,"reputation":91,"user_id":21110009,"display_name":"Алексей Жуков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77086318,"answer_count":2,"score":0,"last_activity_date":1694496738,"creation_date":1694429545,"question_id":77081001,"body_markdown":"I use ROOM with SQLite.\r\n\r\nI have 2 entities:\r\n\r\n**Weight**\r\n\r\n    @Entity(\r\n        tableName = TABLE_WEIGHTING,\r\n        foreignKeys = {\r\n                @ForeignKey(entity = CowDbEntity.class,\r\n                        parentColumns = COW_COLUMN_ID,\r\n                        childColumns = WEIGHTING_COLUMN_COW_ID,\r\n                        onDelete = ForeignKey.CASCADE)\r\n        }\r\n    )\r\n    public class WeightingDbEntity {\r\n    \r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = WEIGHTING_COLUMN_ID)\r\n    private int id;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_NUM, defaultValue = &quot;0&quot;)\r\n    private int num;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_COW_ID)\r\n    private int cowId;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_FIXED_WEIGHT)\r\n    private float fixedWeight;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_GAIN, defaultValue = &quot;0&quot;)\r\n    private float weightGain;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_PREV_RECORD, defaultValue = &quot;0&quot;)\r\n    private int prevRecord;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_DATE)\r\n    private String date;\r\n    \r\n    @ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_SERVER_ID, defaultValue = &quot;0&quot;)\r\n    private int idWeightServer;\r\n...\r\n\r\nAnd **Comment**\r\n\r\n    @Entity(\r\n        tableName = TABLE_COMMENT,\r\n        foreignKeys = {@ForeignKey(entity = WeightingDbEntity.class,\r\n                parentColumns = WEIGHTING_COLUMN_ID,\r\n                childColumns = COMMENT_COLUMN_WEIGHTING_ID,\r\n                onDelete = ForeignKey.CASCADE)\r\n        } \r\n    ) \r\n    public class CommentDbEntity {\r\n\r\n    @PrimaryKey(autoGenerate = true)\r\n    @ColumnInfo(name = COMMENT_COLUMN_ID)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = COMMENT_COLUMN_WEIGHTING_ID)\r\n    private int weightingId;\r\n\r\n    private String description;\r\n\r\n    public CommentDbEntity(int weightingId, String description) {\r\n        this.weightingId = weightingId;\r\n        this.description = description;\r\n    }\r\n...\r\n\r\nI also use DAO:\r\n\r\nfor **Weight**\r\n\r\n    @Dao\r\n    public interface WeightingDao { \r\n\r\n    @Insert\r\n    long insert(WeightingDbEntity weighting);\r\n\r\n...\r\n\r\nAnd DAO Comment:\r\n\r\n    @Dao\r\n    public interface CommentDao {\r\n\r\n    @Insert\r\n    long insert(CommentDbEntity comment);\r\n...\r\n\r\nI have a problem. I need to do something similar to this:\r\n\r\n     @Transaction\r\n    insertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\r\n        insert(weighting);\r\n        insert(comment);\r\n    }\r\n\r\n**I need 2 queries to be executed only together. To do this, I will use @Transaction.\r\nBut the queries are in different classes. I do not know how to do it better.**\r\n\r\nI tried to do:\r\n\r\nI created the service class:\r\n\r\n    public class DBCommonService {\r\n\r\n    private static final String TAG = DBCommonService.class.getName();\r\n\r\n    private final WeightingDao weightingDao;\r\n    private final CommentDao commentDao;\r\n    private final CowDao cowDao;\r\n    private final HistoryDao historyDao;\r\n    private final ActionDao actionDao;\r\n\r\n    public DBCommonService(WeightingDao weightingDao, CommentDao commentDao, CowDao cowDao, HistoryDao historyDao, ActionDao actionDao) {\r\n        this.weightingDao = weightingDao;\r\n        this.commentDao = commentDao;\r\n        this.cowDao = cowDao;\r\n        this.historyDao = historyDao;\r\n        this.actionDao = actionDao;\r\n    }\r\n    \r\n    @Transaction\r\n    public long addWeightAndComment(WeightingDbEntity weighting, String comment) {\r\n\r\n        try {\r\n            long resAddWeight = weightingDao.insert(weighting);\r\n\r\n            long resAddComment = 0;\r\n            if(resAddWeight &gt; 0) {\r\n                resAddComment = commentDao.insert(new CommentDbEntity((int)resAddWeight, comment));\r\n            }\r\n\r\n            return resAddComment &gt; 0 ? resAddWeight : 0;\r\n\r\n        } catch (Exception e) {\r\n            Log.e(TAG, e.getMessage());\r\n            return 0;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n**But it doesn&#39;t work.** If I add you, and the comment is added with an error, there will be no rollback. And as a result, the weight will be added without comment. How to do it right?\r\n\r\nPS: \r\nA solution has been proposed here https://stackoverflow.com/questions/48164003/android-room-transactions-across-daos\r\n\r\n    database.runInTransaction(new Runnable(){\r\n      @Override\r\n      public void run(){\r\n    Access all your daos here\r\n      }\r\n    });\r\n\r\nThis solution is a void method, but I need a result for check (id record).","title":"Annotation (@Transaction) in Room Android not Work","body":"<p>I use ROOM with SQLite.</p>\n<p>I have 2 entities:</p>\n<p><strong>Weight</strong></p>\n<pre><code>@Entity(\n    tableName = TABLE_WEIGHTING,\n    foreignKeys = {\n            @ForeignKey(entity = CowDbEntity.class,\n                    parentColumns = COW_COLUMN_ID,\n                    childColumns = WEIGHTING_COLUMN_COW_ID,\n                    onDelete = ForeignKey.CASCADE)\n    }\n)\npublic class WeightingDbEntity {\n\n@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = WEIGHTING_COLUMN_ID)\nprivate int id;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_NUM, defaultValue = &quot;0&quot;)\nprivate int num;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_COW_ID)\nprivate int cowId;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_FIXED_WEIGHT)\nprivate float fixedWeight;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_GAIN, defaultValue = &quot;0&quot;)\nprivate float weightGain;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_PREV_RECORD, defaultValue = &quot;0&quot;)\nprivate int prevRecord;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_DATE)\nprivate String date;\n\n@ColumnInfo(name = WEIGHTING_COLUMN_WEIGHT_SERVER_ID, defaultValue = &quot;0&quot;)\nprivate int idWeightServer;\n</code></pre>\n<p>...</p>\n<p>And <strong>Comment</strong></p>\n<pre><code>@Entity(\n    tableName = TABLE_COMMENT,\n    foreignKeys = {@ForeignKey(entity = WeightingDbEntity.class,\n            parentColumns = WEIGHTING_COLUMN_ID,\n            childColumns = COMMENT_COLUMN_WEIGHTING_ID,\n            onDelete = ForeignKey.CASCADE)\n    } \n) \npublic class CommentDbEntity {\n\n@PrimaryKey(autoGenerate = true)\n@ColumnInfo(name = COMMENT_COLUMN_ID)\nprivate int id;\n\n@ColumnInfo(name = COMMENT_COLUMN_WEIGHTING_ID)\nprivate int weightingId;\n\nprivate String description;\n\npublic CommentDbEntity(int weightingId, String description) {\n    this.weightingId = weightingId;\n    this.description = description;\n}\n</code></pre>\n<p>...</p>\n<p>I also use DAO:</p>\n<p>for <strong>Weight</strong></p>\n<pre><code>@Dao\npublic interface WeightingDao { \n\n@Insert\nlong insert(WeightingDbEntity weighting);\n</code></pre>\n<p>...</p>\n<p>And DAO Comment:</p>\n<pre><code>@Dao\npublic interface CommentDao {\n\n@Insert\nlong insert(CommentDbEntity comment);\n</code></pre>\n<p>...</p>\n<p>I have a problem. I need to do something similar to this:</p>\n<pre><code> @Transaction\ninsertWeightAndCow(CowDbEntity cow, CommentDbEntity comment) {\n    insert(weighting);\n    insert(comment);\n}\n</code></pre>\n<p><strong>I need 2 queries to be executed only together. To do this, I will use @Transaction.\nBut the queries are in different classes. I do not know how to do it better.</strong></p>\n<p>I tried to do:</p>\n<p>I created the service class:</p>\n<pre><code>public class DBCommonService {\n\nprivate static final String TAG = DBCommonService.class.getName();\n\nprivate final WeightingDao weightingDao;\nprivate final CommentDao commentDao;\nprivate final CowDao cowDao;\nprivate final HistoryDao historyDao;\nprivate final ActionDao actionDao;\n\npublic DBCommonService(WeightingDao weightingDao, CommentDao commentDao, CowDao cowDao, HistoryDao historyDao, ActionDao actionDao) {\n    this.weightingDao = weightingDao;\n    this.commentDao = commentDao;\n    this.cowDao = cowDao;\n    this.historyDao = historyDao;\n    this.actionDao = actionDao;\n}\n\n@Transaction\npublic long addWeightAndComment(WeightingDbEntity weighting, String comment) {\n\n    try {\n        long resAddWeight = weightingDao.insert(weighting);\n\n        long resAddComment = 0;\n        if(resAddWeight &gt; 0) {\n            resAddComment = commentDao.insert(new CommentDbEntity((int)resAddWeight, comment));\n        }\n\n        return resAddComment &gt; 0 ? resAddWeight : 0;\n\n    } catch (Exception e) {\n        Log.e(TAG, e.getMessage());\n        return 0;\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>But it doesn't work.</strong> If I add you, and the comment is added with an error, there will be no rollback. And as a result, the weight will be added without comment. How to do it right?</p>\n<p>PS:\nA solution has been proposed here <a href=\"https://stackoverflow.com/questions/48164003/android-room-transactions-across-daos\">Android Room transactions across DAOs</a></p>\n<pre><code>database.runInTransaction(new Runnable(){\n  @Override\n  public void run(){\nAccess all your daos here\n  }\n});\n</code></pre>\n<p>This solution is a void method, but I need a result for check (id record).</p>\n"},{"tags":["java","swing","user-interface","netbeans","jframe"],"answers":[{"tags":[],"owner":{"display_name":"user22391295"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694496406,"creation_date":1694496406,"answer_id":77086300,"question_id":77086254,"body_markdown":"This happen because under your **`main`** in your **`com.mycompany.quiz_management`** class you only print the **&quot;Hello World&quot;** and you&#39;re not actually creating the instance of your **`indexx`** JFrame.\r\n\r\n\r\ninstantiate your **`indexx`** on your **`main`**.\r\n\r\n     public static void main(String[] args) {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new indexx().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n","title":"New netbeans project outputs code but not jframe ui","body":"<p>This happen because under your <strong><code>main</code></strong> in your <strong><code>com.mycompany.quiz_management</code></strong> class you only print the <strong>&quot;Hello World&quot;</strong> and you're not actually creating the instance of your <strong><code>indexx</code></strong> JFrame.</p>\n<p>instantiate your <strong><code>indexx</code></strong> on your <strong><code>main</code></strong>.</p>\n<pre><code> public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new indexx().setVisible(true);\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":29265638,"reputation":1,"user_id":22421502,"display_name":"Tnsae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694496406,"creation_date":1694495514,"question_id":77086254,"body_markdown":"I just created a new java project and opened a jframe file. When i added a few buttons and previewed it, it looks fine. But when i run the file (indexx.java) it shows me only the standard &#39;Hello World&#39; output and nothing else. It&#39;s not showing the JFrame. \r\n\r\n\r\nI have looked over some tutorials on why it may have happened and none have worked. \r\n-Going to set project configuration and setting the Main Class to indexx has not worked\r\n\r\nIt just shows me BUILD SUCCESS\r\n\r\nThis is my indexx.java file\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\npublic class indexx extends javax.swing.JFrame {\r\n\r\n   \r\n    public indexx() {\r\n        initComponents();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        student = new javax.swing.JButton();\r\n        admin = new javax.swing.JButton();\r\n        exit = new javax.swing.JButton();\r\n        jLabel1 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setUndecorated(true);\r\n        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\r\n\r\n        student.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\r\n        student.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/studentedited.png&quot;))); // NOI18N\r\n        student.setText(&quot;Student&quot;);\r\n        student.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                studentActionPerformed(evt);\r\n            }\r\n        });\r\n        getContentPane().add(student, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 120, 150, -1));\r\n\r\n        admin.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\r\n        admin.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/admin_1.png&quot;))); // NOI18N\r\n        admin.setText(&quot;Admin&quot;);\r\n        admin.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                adminActionPerformed(evt);\r\n            }\r\n        });\r\n        getContentPane().add(admin, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 200, 150, -1));\r\n\r\n        exit.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\r\n        exit.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/exitt.png&quot;))); // NOI18N\r\n        exit.setText(&quot;Exit&quot;);\r\n        exit.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                exitActionPerformed(evt);\r\n            }\r\n        });\r\n        getContentPane().add(exit, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 280, 150, -1));\r\n\r\n        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/t.jpg&quot;))); // NOI18N\r\n        jLabel1.setText(&quot; &quot;);\r\n        getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 840, 480));\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void studentActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // TODO add your handling code here:\r\n    }                                       \r\n\r\n    private void exitActionPerformed(java.awt.event.ActionEvent evt) {                                     \r\n\r\n        \r\n    int a = JOptionPane.showConfirmDialog(null, &quot;Exit Application?&quot;, &quot;Select&quot;, JOptionPane.YES_NO_OPTION);\r\n    if(a==0){\r\n        System.exit(0);\r\n    }else{}\r\n// TODO add your handling code here: \r\n    }                                    \r\n\r\n    private void adminActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n        // TODO add your handling code here:\r\n    }                                     \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new indexx().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton admin;\r\n    private javax.swing.JButton exit;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JButton student;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\nAnd this is my main class\r\n\r\n\r\n```\r\npackage com.mycompany.quiz_management;\r\n//import javax.swing.JFrame;\r\n/**\r\n *\r\n * @author HP\r\n */\r\npublic class Quiz_Management {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI barely added anything and the tutorial i&#39;m following doesn&#39;t experience this problem. Any advice/help would be appreciated.\r\n","title":"New netbeans project outputs code but not jframe ui","body":"<p>I just created a new java project and opened a jframe file. When i added a few buttons and previewed it, it looks fine. But when i run the file (indexx.java) it shows me only the standard 'Hello World' output and nothing else. It's not showing the JFrame.</p>\n<p>I have looked over some tutorials on why it may have happened and none have worked.\n-Going to set project configuration and setting the Main Class to indexx has not worked</p>\n<p>It just shows me BUILD SUCCESS</p>\n<p>This is my indexx.java file</p>\n<pre><code>import javax.swing.JOptionPane;\npublic class indexx extends javax.swing.JFrame {\n\n   \n    public indexx() {\n        initComponents();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        student = new javax.swing.JButton();\n        admin = new javax.swing.JButton();\n        exit = new javax.swing.JButton();\n        jLabel1 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setUndecorated(true);\n        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\n\n        student.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\n        student.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/studentedited.png&quot;))); // NOI18N\n        student.setText(&quot;Student&quot;);\n        student.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                studentActionPerformed(evt);\n            }\n        });\n        getContentPane().add(student, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 120, 150, -1));\n\n        admin.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\n        admin.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/admin_1.png&quot;))); // NOI18N\n        admin.setText(&quot;Admin&quot;);\n        admin.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                adminActionPerformed(evt);\n            }\n        });\n        getContentPane().add(admin, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 200, 150, -1));\n\n        exit.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14)); // NOI18N\n        exit.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/exitt.png&quot;))); // NOI18N\n        exit.setText(&quot;Exit&quot;);\n        exit.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                exitActionPerformed(evt);\n            }\n        });\n        getContentPane().add(exit, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 280, 150, -1));\n\n        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/t.jpg&quot;))); // NOI18N\n        jLabel1.setText(&quot; &quot;);\n        getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 840, 480));\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void studentActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        // TODO add your handling code here:\n    }                                       \n\n    private void exitActionPerformed(java.awt.event.ActionEvent evt) {                                     \n\n        \n    int a = JOptionPane.showConfirmDialog(null, &quot;Exit Application?&quot;, &quot;Select&quot;, JOptionPane.YES_NO_OPTION);\n    if(a==0){\n        System.exit(0);\n    }else{}\n// TODO add your handling code here: \n    }                                    \n\n    private void adminActionPerformed(java.awt.event.ActionEvent evt) {                                      \n        // TODO add your handling code here:\n    }                                     \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(indexx.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new indexx().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton admin;\n    private javax.swing.JButton exit;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JButton student;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>And this is my main class</p>\n<pre><code>package com.mycompany.quiz_management;\n//import javax.swing.JFrame;\n/**\n *\n * @author HP\n */\npublic class Quiz_Management {\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n\n</code></pre>\n<p>I barely added anything and the tutorial i'm following doesn't experience this problem. Any advice/help would be appreciated.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694498394,"post_id":77086286,"comment_id":135894759,"body_markdown":"As the last root cause suggests - `The last packet successfully received from the server was 221,081,546 milliseconds ago. ....., increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.`  Did you try to set `autoReconnect=true` in your JDBC URL?","body":"As the last root cause suggests - <code>The last packet successfully received from the server was 221,081,546 milliseconds ago. ....., increasing the server configured values for client timeouts, or using the Connector&#47;J connection property &#39;autoReconnect=true&#39; to avoid this problem.</code>  Did you try to set <code>autoReconnect=true</code> in your JDBC URL?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694498554,"post_id":77086286,"comment_id":135894783,"body_markdown":"Do you also have a `spring.datasource.validationQuery=SELECT 1`? This will be executed to keep the connection alive after some interval.","body":"Do you also have a <code>spring.datasource.validationQuery=SELECT 1</code>? This will be executed to keep the connection alive after some interval."},{"owner":{"account_id":26214471,"reputation":1,"user_id":22541717,"display_name":"user22541717"},"score":0,"creation_date":1694505993,"post_id":77086286,"comment_id":135895963,"body_markdown":"@Ishan I have not tried &#39;autoReconnect=true&#39; since somewhere in stack overflow, I found it is not recommended thus it has some disadvantages. Though I am going to give it a try now finding no other way.\n\nAnd I have no idea what does spring.datasource.validationQuery=SELECT 1 do?","body":"@Ishan I have not tried &#39;autoReconnect=true&#39; since somewhere in stack overflow, I found it is not recommended thus it has some disadvantages. Though I am going to give it a try now finding no other way.  And I have no idea what does spring.datasource.validationQuery=SELECT 1 do?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694506659,"post_id":77086286,"comment_id":135896083,"body_markdown":"`spring.datasource.validationQuery=SELECT 1` defines the SQL that is to be executed to determine if the connection is valid or not.  It is the simplest query possible. It should happen every few seconds/minutes. Also `spring.datasource.testOnBorrow=true` should be set to make sure whenever an already open connection is returned to a thread from the free connection pool, it is tested to be still valid. So, the thread never gets any invalid connection.","body":"<code>spring.datasource.validationQuery=SELECT 1</code> defines the SQL that is to be executed to determine if the connection is valid or not.  It is the simplest query possible. It should happen every few seconds/minutes. Also <code>spring.datasource.testOnBorrow=true</code> should be set to make sure whenever an already open connection is returned to a thread from the free connection pool, it is tested to be still valid. So, the thread never gets any invalid connection."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694507597,"post_id":77086286,"comment_id":135896237,"body_markdown":"On this page - https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.data - search for the term `spring.datasource.tomcat`. Those highlighted parameters have a few at the end like `spring.datasource.tomcat.validation-interval, spring.datasource.tomcat.validation-query, spring.datasource.tomcat.validation-query-timeout, spring.datasource.tomcat.validator-class-name`. Check those out.","body":"On this page - <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.data\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> - search for the term <code>spring.datasource.tomcat</code>. Those highlighted parameters have a few at the end like <code>spring.datasource.tomcat.validation-interval, spring.datasource.tomcat.validation-query, spring.datasource.tomcat.validation-query-timeout, spring.datasource.tomcat.validator-class-name</code>. Check those out."}],"owner":{"account_id":26214471,"reputation":1,"user_id":22541717,"display_name":"user22541717"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694496098,"creation_date":1694496098,"question_id":77086286,"body_markdown":"I have a running Spring Boot web application hosted in Tomcat 9 configured with MySQL database which is running without any issues. When the application is deployed in live server and kept idle for at least 12 hours the issue starts arising. The error is as follows.\r\n\r\n\r\n```\r\nHTTP Status 500 – Internal Server Error\r\nType Exception Report\r\n\r\nMessage Request processing failed; nested exception is org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n```\r\n\r\n\r\nRoot Cause is\r\n\r\n```\r\norg.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\r\n\torg.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\r\n\torg.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\torg.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n\torg.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n```\r\n\r\nAnd Root cause follows like this\r\n\r\n```\r\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: The last packet successfully received from the server was 221,081,546 milliseconds ago. The last packet sent successfully to the server was 221,081,546 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n\tcom.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\r\n\tcom.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\r\n\tcom.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n\tcom.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)\r\n\tcom.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:1471)\r\n\torg.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n\torg.hibernate.loader.Loader.getResultSet(Loader.java:2322)\r\n\torg.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\r\n\torg.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\torg.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n```\r\n\r\nThis problem arises only in live server and not in local dev environment when the application is kept idle for 12 hours. Doing a simple browser refresh solves the problem though.\r\n\r\nI have set this\r\n\r\n```\r\nserver.tomcat.keep-alive-timeout = -1\r\n```\r\n\r\nin **application.properties** but it has no effect.","title":"HTTP Status 500 – Internal Server Error for idle Spring Boot Web Application com.mysql.cj.jdbc.exceptions.CommunicationsException","body":"<p>I have a running Spring Boot web application hosted in Tomcat 9 configured with MySQL database which is running without any issues. When the application is deployed in live server and kept idle for at least 12 hours the issue starts arising. The error is as follows.</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage Request processing failed; nested exception is org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n</code></pre>\n<p>Root Cause is</p>\n<pre><code>org.springframework.dao.DataAccessResourceFailureException: could not extract ResultSet; nested exception is org.hibernate.exception.JDBCConnectionException: could not extract ResultSet\n    org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255)\n    org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n</code></pre>\n<p>And Root cause follows like this</p>\n<pre><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: The last packet successfully received from the server was 221,081,546 milliseconds ago. The last packet sent successfully to the server was 221,081,546 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n    com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)\n    com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)\n    com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1009)\n    com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:1471)\n    org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n    org.hibernate.loader.Loader.getResultSet(Loader.java:2322)\n    org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)\n    org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    org.hibernate.loader.Loader.doQuery(Loader.java:956)\n</code></pre>\n<p>This problem arises only in live server and not in local dev environment when the application is kept idle for 12 hours. Doing a simple browser refresh solves the problem though.</p>\n<p>I have set this</p>\n<pre><code>server.tomcat.keep-alive-timeout = -1\n</code></pre>\n<p>in <strong>application.properties</strong> but it has no effect.</p>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"score":0,"creation_date":1498684939,"post_id":44810743,"comment_id":76606117,"body_markdown":"Hi and welcome to Stack Overflow, please take a time to go through the [welcome tour](https://stackoverflow.com/tour) to know your way around here (and also to earn your first badge), read how to create a [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) and also check [How to Ask Good Questions](https://stackoverflow.com/help/how-to-ask) so you increase your chances to get feedback and useful answers.","body":"Hi and welcome to Stack Overflow, please take a time to go through the <a href=\"https://stackoverflow.com/tour\">welcome tour</a> to know your way around here (and also to earn your first badge), read how to create a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and also check <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask Good Questions</a> so you increase your chances to get feedback and useful answers."}],"answers":[{"tags":[],"owner":{"account_id":8447748,"reputation":38021,"user_id":6337748,"accept_rate":38,"display_name":"notionquest"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1498741961,"creation_date":1498741961,"answer_id":44826147,"question_id":44810743,"body_markdown":"You can use the below `UpdateExpression` to remove the key from Map data type.\r\n\r\n    var params = {\r\n        TableName: &quot;yourTableName&quot;,\r\n        Key: {\r\n            &quot;ExHashKey&quot;: &quot;id_asdfqe123&quot;\r\n        },\r\n        UpdateExpression: &quot;REMOVE Data.key1&quot;,\r\n        ReturnValues: &quot;ALL_NEW&quot;\r\n    };","title":"DynamoDB - Remove key-value pair from Map","body":"<p>You can use the below <code>UpdateExpression</code> to remove the key from Map data type.</p>\n\n<pre><code>var params = {\n    TableName: \"yourTableName\",\n    Key: {\n        \"ExHashKey\": \"id_asdfqe123\"\n    },\n    UpdateExpression: \"REMOVE Data.key1\",\n    ReturnValues: \"ALL_NEW\"\n};\n</code></pre>\n"}],"owner":{"account_id":11215139,"reputation":43,"user_id":8228023,"display_name":"blucaroni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6728,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44826147,"answer_count":1,"score":4,"last_activity_date":1694491977,"creation_date":1498677138,"question_id":44810743,"body_markdown":"```json\r\n{\r\n  &quot;ExHashKey&quot;: &quot;id_asdfqe123&quot;,\r\n  &quot;Data&quot;: {\r\n    &quot;key1&quot;: &quot;val1&quot;,\r\n    &quot;key2&quot;: &quot;val2&quot;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m trying to delete elements from the &quot;Data&quot; map by key. Is there a way to do this other than just retrieving the entire item, making changes, and then writing it to the DB again? \r\n\r\nI&#39;ve poked around the `UpdateExpressions` API a fair amount and I haven&#39;t found anything that&#39;s worked. ","title":"DynamoDB - Remove key-value pair from Map","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ExHashKey&quot;: &quot;id_asdfqe123&quot;,\n  &quot;Data&quot;: {\n    &quot;key1&quot;: &quot;val1&quot;,\n    &quot;key2&quot;: &quot;val2&quot;\n  }\n}\n</code></pre>\n<p>I'm trying to delete elements from the &quot;Data&quot; map by key. Is there a way to do this other than just retrieving the entire item, making changes, and then writing it to the DB again?</p>\n<p>I've poked around the <code>UpdateExpressions</code> API a fair amount and I haven't found anything that's worked.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1694174127,"post_id":77066655,"comment_id":135860150,"body_markdown":"This is not a code writing service. Please show your best effort attempt to solve this and describe how it&#39;s not working.","body":"This is not a code writing service. Please show your best effort attempt to solve this and describe how it&#39;s not working."},{"owner":{"account_id":29394976,"reputation":1,"user_id":22522526,"display_name":"JavaLearner"},"score":0,"creation_date":1694174833,"post_id":77066655,"comment_id":135860298,"body_markdown":"Hi Bohemian,I tried to write using stream but i couldn&#39;t able to complete so I used some private methods to compare the versions and return the list.i wanted to know whether we can do it using stream.","body":"Hi Bohemian,I tried to write using stream but i couldn&#39;t able to complete so I used some private methods to compare the versions and return the list.i wanted to know whether we can do it using stream."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694175002,"post_id":77066655,"comment_id":135860333,"body_markdown":"*i wanted to know whether we can do it using stream.* Yes, you can","body":"<i>i wanted to know whether we can do it using stream.</i> Yes, you can"},{"owner":{"account_id":29394976,"reputation":1,"user_id":22522526,"display_name":"JavaLearner"},"score":0,"creation_date":1694189030,"post_id":77066655,"comment_id":135863192,"body_markdown":"Abra thank you so much for sharing the code,it&#39;s helpful.Appreciate it.","body":"Abra thank you so much for sharing the code,it&#39;s helpful.Appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694491818,"creation_date":1694434684,"answer_id":77081555,"question_id":77066655,"body_markdown":"```java\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic record MyObj(String id, String version) {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(List.of(new MyObj(&quot;bike&quot;,&quot;1.8&quot;),\r\n                                   new MyObj(&quot;bike&quot;,&quot;2.0&quot;),\r\n                                   new MyObj(&quot;car&quot;,&quot;3.4&quot;),\r\n                                   new MyObj(&quot;car&quot;,&quot;4.6&quot;))\r\n                               .stream()\r\n                               .collect(Collectors.groupingBy(m -&gt; m.id(),\r\n                                                              Collectors.maxBy((o1, o2) -&gt; o1.version().compareTo(o2.version()))))\r\n                               .values());\r\n    }\r\n}\r\n```\r\n`MyObj` lends itself to being a [record][1].\r\n\r\nIn the above code, I first create a `List` of `MyObj` instances using method [of][2] (that was added in JDK 9).\r\n\r\nThen I create a [`Stream&lt;MyObj&gt;`](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html).\r\n\r\nMethod `groupingBy` returns a [`Map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html).\r\n\r\nFirst argument to method `groupingBy` is a [lambda expression](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) that provides the `Map` key.\r\n\r\nSecond argument to method `groupingBy` works on a `Stream&lt;List&lt;MyObj&gt;&gt;`. Hence `maxBy` will return the maximum element in each `List` element of the `Stream` and the maximum element is determined by the [`Comparator`](https://www.baeldung.com/java-comparator-comparable). In the above code, the `Comparator` compares the `version` member of each `MyObj` instance in a given `List`.\r\n\r\nThe result is a `Map` where the key is the `id` (of a `MyObj` object) and the value is the largest `version`.\r\n\r\nFinally, calling method `values` on the `Map` returns a `List` of the `Map` values where each value is wrapped in an [`Optional`](https://www.oracle.com/technical-resources/articles/java/java8-optional.html).\r\n\r\nRunning above code produces following:\r\n```none\r\n[Optional[MyClass[id=car, version=4.6]], Optional[MyClass[id=bike, version=2.0]]]\r\n```\r\nOnline demonstration available [here][3].\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395\r\n  [2]: https://stackoverflow.com/questions/53051646/what-type-of-list-is-generated-by-list-of-in-java\r\n  [3]: https://www.jdoodle.com/ia/M4Z","title":"Java 8 Stream usage","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.stream.Collectors;\n\npublic record MyObj(String id, String version) {\n\n    public static void main(String[] args) {\n        System.out.println(List.of(new MyObj(&quot;bike&quot;,&quot;1.8&quot;),\n                                   new MyObj(&quot;bike&quot;,&quot;2.0&quot;),\n                                   new MyObj(&quot;car&quot;,&quot;3.4&quot;),\n                                   new MyObj(&quot;car&quot;,&quot;4.6&quot;))\n                               .stream()\n                               .collect(Collectors.groupingBy(m -&gt; m.id(),\n                                                              Collectors.maxBy((o1, o2) -&gt; o1.version().compareTo(o2.version()))))\n                               .values());\n    }\n}\n</code></pre>\n<p><code>MyObj</code> lends itself to being a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<p>In the above code, I first create a <code>List</code> of <code>MyObj</code> instances using method <a href=\"https://stackoverflow.com/questions/53051646/what-type-of-list-is-generated-by-list-of-in-java\">of</a> (that was added in JDK 9).</p>\n<p>Then I create a <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\"><code>Stream&lt;MyObj&gt;</code></a>.</p>\n<p>Method <code>groupingBy</code> returns a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a>.</p>\n<p>First argument to method <code>groupingBy</code> is a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a> that provides the <code>Map</code> key.</p>\n<p>Second argument to method <code>groupingBy</code> works on a <code>Stream&lt;List&lt;MyObj&gt;&gt;</code>. Hence <code>maxBy</code> will return the maximum element in each <code>List</code> element of the <code>Stream</code> and the maximum element is determined by the <a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\"><code>Comparator</code></a>. In the above code, the <code>Comparator</code> compares the <code>version</code> member of each <code>MyObj</code> instance in a given <code>List</code>.</p>\n<p>The result is a <code>Map</code> where the key is the <code>id</code> (of a <code>MyObj</code> object) and the value is the largest <code>version</code>.</p>\n<p>Finally, calling method <code>values</code> on the <code>Map</code> returns a <code>List</code> of the <code>Map</code> values where each value is wrapped in an <a href=\"https://www.oracle.com/technical-resources/articles/java/java8-optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>.</p>\n<p>Running above code produces following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Optional[MyClass[id=car, version=4.6]], Optional[MyClass[id=bike, version=2.0]]]\n</code></pre>\n<p>Online demonstration available <a href=\"https://www.jdoodle.com/ia/M4Z\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":29394976,"reputation":1,"user_id":22522526,"display_name":"JavaLearner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1694491818,"creation_date":1694173992,"question_id":77066655,"body_markdown":"Is it possible to filter the list of objects using stream.\r\n\r\n\r\n    public class MyObj{\r\n        private String ID;\r\n        private String version;\r\n    }\r\n    MyObj obj1=new MyObj(&quot;bike&quot;,&quot;1.8&quot;);\r\n    MyObj obj2=new MyObj(&quot;bike&quot;,&quot;2.0&quot;);\r\n    MyObj obj3=new MyObj(&quot;car&quot;,&quot;3.4&quot;);\r\n    MyObj obj4=new MyObj(&quot;car&quot;,&quot;4.6&quot;);\r\n    List&lt;MyObj&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(obj1);\r\n    list.add(obj2);\r\n    list.add(obj3);\r\n    list.add(obj4);\r\n    List&lt;MyObj&gt; filteredData=list.stream(). filter(s1,s2-&gt; { if(s1.getId().equalsIgnoreCase(s2.getId()))\r\n     //** I stucked here ,not understanding how to compare objects in stream&quot; **//\r\n\r\n`List&lt;Myobj&gt; list` (contains all the mentioned objects above).\r\nI want to filter it in such a way that it returns a list containing distinct ID&#39;s of highest version.\r\nExample: It should return `List` of objects. Here it should return `obj2`, `obj4`.\r\n\r\nPlease help.\r\n\r\nI have tried using private methods to filter my list by passing ID and list of objects as a parameters. It will return list of objects of certain ID with highest version. And finallym I am cumulating all the lists to a single list.\r\nAnd I am expecting to do this using a stream if possible.","title":"Java 8 Stream usage","body":"<p>Is it possible to filter the list of objects using stream.</p>\n<pre><code>public class MyObj{\n    private String ID;\n    private String version;\n}\nMyObj obj1=new MyObj(&quot;bike&quot;,&quot;1.8&quot;);\nMyObj obj2=new MyObj(&quot;bike&quot;,&quot;2.0&quot;);\nMyObj obj3=new MyObj(&quot;car&quot;,&quot;3.4&quot;);\nMyObj obj4=new MyObj(&quot;car&quot;,&quot;4.6&quot;);\nList&lt;MyObj&gt; list = new ArrayList&lt;&gt;();\nlist.add(obj1);\nlist.add(obj2);\nlist.add(obj3);\nlist.add(obj4);\nList&lt;MyObj&gt; filteredData=list.stream(). filter(s1,s2-&gt; { if(s1.getId().equalsIgnoreCase(s2.getId()))\n //** I stucked here ,not understanding how to compare objects in stream&quot; **//\n</code></pre>\n<p><code>List&lt;Myobj&gt; list</code> (contains all the mentioned objects above).\nI want to filter it in such a way that it returns a list containing distinct ID's of highest version.\nExample: It should return <code>List</code> of objects. Here it should return <code>obj2</code>, <code>obj4</code>.</p>\n<p>Please help.</p>\n<p>I have tried using private methods to filter my list by passing ID and list of objects as a parameters. It will return list of objects of certain ID with highest version. And finallym I am cumulating all the lists to a single list.\nAnd I am expecting to do this using a stream if possible.</p>\n"},{"tags":["java","http","junit"],"comments":[{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1694450230,"post_id":77082787,"comment_id":135889496,"body_markdown":"But for some reason your method is _not_ executed ?","body":"But for some reason your method is <i>not</i> executed ?"}],"answers":[{"tags":[],"owner":{"account_id":8299475,"reputation":151,"user_id":6238538,"display_name":"Wang Peiming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694491419,"creation_date":1694491419,"answer_id":77086041,"question_id":77082787,"body_markdown":"If you want to execute your test on your computer rather than connected Android phone, then you should put your test code into the `src/test` instead of `src/androidTest`","title":"GET HTTP request Android Studio","body":"<p>If you want to execute your test on your computer rather than connected Android phone, then you should put your test code into the <code>src/test</code> instead of <code>src/androidTest</code></p>\n"}],"owner":{"account_id":29415619,"reputation":1,"user_id":22538521,"display_name":"Lorso69"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694491419,"creation_date":1694444684,"question_id":77082787,"body_markdown":"I am writing a java test for an Android device in the androidTest directory. I need to perform an http get request ON MY computer. But for some reason my method is executed on a connected Android phone.\r\n\r\n\r\n```\r\npublic class HttpRequests {\r\n    @Test\r\n    public void dropSession() throws IOException {\r\n        String url = &quot;url.url&quot;;\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        Request request = new Request.Builder()\r\n                .url(url)\r\n                .build();\r\n\r\n        try (Response response = client.newCall(request).execute()) {\r\n            if (!response.isSuccessful()) {\r\n                throw new IOException(&quot;Unexpected response code: &quot; + response);\r\n            }\r\n\r\n            String responseBody = response.body().string();\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"GET HTTP request Android Studio","body":"<p>I am writing a java test for an Android device in the androidTest directory. I need to perform an http get request ON MY computer. But for some reason my method is executed on a connected Android phone.</p>\n<pre><code>public class HttpRequests {\n    @Test\n    public void dropSession() throws IOException {\n        String url = &quot;url.url&quot;;\n\n        OkHttpClient client = new OkHttpClient();\n        Request request = new Request.Builder()\n                .url(url)\n                .build();\n\n        try (Response response = client.newCall(request).execute()) {\n            if (!response.isSuccessful()) {\n                throw new IOException(&quot;Unexpected response code: &quot; + response);\n            }\n\n            String responseBody = response.body().string();\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","exception","error-handling","compiler-errors","nullpointerexception"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694491610,"post_id":77086035,"comment_id":135894135,"body_markdown":"When you assign a value to `pInp` in `playerGo` you are not changing the value of `static String pInp;` so it will remain `null`.  The &quot;short&quot; answer would be to remove the parameter requirements for both `playerGo` and `compGo`.  I would the go the extra step of having those methods return their results, so you can then assign the results back to your variables.","body":"When you assign a value to <code>pInp</code> in <code>playerGo</code> you are not changing the value of <code>static String pInp;</code> so it will remain <code>null</code>.  The &quot;short&quot; answer would be to remove the parameter requirements for both <code>playerGo</code> and <code>compGo</code>.  I would the go the extra step of having those methods return their results, so you can then assign the results back to your variables."}],"owner":{"account_id":29419388,"reputation":1,"user_id":22541438,"display_name":"cottonballs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694494127,"answer_count":0,"score":0,"last_activity_date":1694491306,"creation_date":1694491306,"question_id":77086035,"body_markdown":"Exception in thread&quot;main&quot; \r\njava.lang.NullPointerException (at line 49 and 14)\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\tstatic String pInp;\r\n\tstatic int cpuInp;\r\n\tstatic Scanner scan = new Scanner(System.in);\r\n\tpublic static void main(String args[]) {\r\nSystem.out.print(&quot;Rock, Paper, or Scissors&quot;);\r\nplayerGo(pInp);\r\ncompGo(cpuInp);\r\ncheckWin(cpuInp, pInp);  **LINE 14**\r\n\t\t\t}\r\npublic static void playerGo(String pInp) {\r\n\t\r\n\t pInp = scan.nextLine();\r\n\tswitch (pInp) {\r\n\tcase &quot;Rock&quot; :\r\n\t\tSystem.out.println(&quot;Player chose Rock&quot;);\r\n\t\tbreak;\r\n\tcase &quot;Paper&quot; :\r\n\t\tSystem.out.println(&quot;Player chose Paper&quot;);\r\n\t\tbreak;\r\n\tcase &quot;Scissors&quot; :\r\n\t\tSystem.out.println(&quot;Player chose Scissors&quot;);\r\n\t\tbreak;\r\n\t}\t\r\n}\r\npublic static void compGo(int cpuInp) {\r\n\tRandom rand = new Random();\r\n\t cpuInp = rand.nextInt(3);\r\n\t\r\n\tswitch (cpuInp) {\r\n\tcase 0 :\r\n\t\tSystem.out.println(&quot;Computer chose Rock&quot;);\r\n\t\tbreak;\r\n\tcase 1 :\r\n\t\tSystem.out.println(&quot;Computer chose Paper&quot;);\r\n\t\tbreak;\r\n\tcase 2 :\r\n\t\tSystem.out.println(&quot;Computer chose Scissors&quot;);\r\n\t\tbreak;\r\n\t}\t\r\n\t\r\n}\r\npublic static void checkWin(int cpuInp, String pInp) {\r\n**LINE 49** if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Rock&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Scissors&quot;)) {\r\n\t\tSystem.out.println(&quot;Tie&quot;);\r\n\t\r\n} else if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Scissors&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Rock&quot;)) {\r\n\tSystem.out.print(&quot;Player Win&quot;);\r\n} else if (pInp.equals(&quot;Rock&quot;) &amp;&amp; cpuInp==1 || pInp.equals(&quot;Paper&quot;) &amp;&amp; cpuInp==2 || pInp.equals(&quot;Scissors&quot;) &amp;&amp; cpuInp==0) {\r\n\tSystem.out.print(&quot;Computer Win&quot;);\r\n}\r\n\r\n\r\n}\r\n}\r\n```\r\n\r\nI tried to make a rock paper scissors game. The first two methods for player and computer inputs work but the method to check who wins comes up with an exception error. \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n&gt; at (Line 49)\r\n&gt; at (Line 14)\r\n\r\n(Lines that made error are pointed out in code)","title":"What&#39;s the deal with this Exception error that pops up in my Rock Paper Scissors game?","body":"<p>Exception in thread&quot;main&quot;\njava.lang.NullPointerException (at line 49 and 14)</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    static String pInp;\n    static int cpuInp;\n    static Scanner scan = new Scanner(System.in);\n    public static void main(String args[]) {\nSystem.out.print(&quot;Rock, Paper, or Scissors&quot;);\nplayerGo(pInp);\ncompGo(cpuInp);\ncheckWin(cpuInp, pInp);  **LINE 14**\n            }\npublic static void playerGo(String pInp) {\n    \n     pInp = scan.nextLine();\n    switch (pInp) {\n    case &quot;Rock&quot; :\n        System.out.println(&quot;Player chose Rock&quot;);\n        break;\n    case &quot;Paper&quot; :\n        System.out.println(&quot;Player chose Paper&quot;);\n        break;\n    case &quot;Scissors&quot; :\n        System.out.println(&quot;Player chose Scissors&quot;);\n        break;\n    }   \n}\npublic static void compGo(int cpuInp) {\n    Random rand = new Random();\n     cpuInp = rand.nextInt(3);\n    \n    switch (cpuInp) {\n    case 0 :\n        System.out.println(&quot;Computer chose Rock&quot;);\n        break;\n    case 1 :\n        System.out.println(&quot;Computer chose Paper&quot;);\n        break;\n    case 2 :\n        System.out.println(&quot;Computer chose Scissors&quot;);\n        break;\n    }   \n    \n}\npublic static void checkWin(int cpuInp, String pInp) {\n**LINE 49** if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Rock&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Scissors&quot;)) {\n        System.out.println(&quot;Tie&quot;);\n    \n} else if (cpuInp==0 &amp;&amp; pInp.equals(&quot;Paper&quot;) || cpuInp==1 &amp;&amp; pInp.equals(&quot;Scissors&quot;) || cpuInp==2 &amp;&amp; pInp.equals(&quot;Rock&quot;)) {\n    System.out.print(&quot;Player Win&quot;);\n} else if (pInp.equals(&quot;Rock&quot;) &amp;&amp; cpuInp==1 || pInp.equals(&quot;Paper&quot;) &amp;&amp; cpuInp==2 || pInp.equals(&quot;Scissors&quot;) &amp;&amp; cpuInp==0) {\n    System.out.print(&quot;Computer Win&quot;);\n}\n\n\n}\n}\n</code></pre>\n<p>I tried to make a rock paper scissors game. The first two methods for player and computer inputs work but the method to check who wins comes up with an exception error.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat (Line 49)\nat (Line 14)</p>\n</blockquote>\n<p>(Lines that made error are pointed out in code)</p>\n"},{"tags":["java","performance","jar","classpath"],"answers":[{"tags":[],"owner":{"account_id":1555969,"reputation":1786,"user_id":1447481,"display_name":"Karthik Kumar Viswanathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339419369,"creation_date":1339419369,"answer_id":10980526,"question_id":10980483,"body_markdown":"Yes, it has an impact - because the JVM looks for necessary classes in the JARs of the CLASSPATH. It also makes sense to keep sealed JARs, to tell the JVM not to look for related classes in other JARs.\r\n\r\nP.S.: javac is also a java program, for the record.\r\n\r\n","title":"Impacts of having unused JAR files in CLASSPATH","body":"<p>Yes, it has an impact - because the JVM looks for necessary classes in the JARs of the CLASSPATH. It also makes sense to keep sealed JARs, to tell the JVM not to look for related classes in other JARs.</p>\n\n<p>P.S.: javac is also a java program, for the record.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1694490777,"creation_date":1339419434,"answer_id":10980547,"question_id":10980483,"body_markdown":"&gt; Are there any impacts (such as loading of classes into memory, performance, etc.) of having unused JARs in the classpath either at compile time or run time?\r\n\r\nThere is going to be a small impact.  When the class loader (or the compiler&#39;s equivalent) starts, it has to read the index of each JAR file to find out what classes are in each JAR.  If you&#39;ve got unnecessary JARs on the classpath, the classloader has more work to do, and will (at least temporarily) use more memory to cache the indexes.\r\n\r\nThis applies to all kinds of Java application.  Other related impacts are:\r\n  \r\n  - the extra disk space needed to hold the unused JARs, and\r\n  - for unused JARs that are part of a downloadable installer or container, the extra time and network bandwidth needed to do the download.\r\n\r\n**The question that you didn&#39;t ask** ... is whether these impacts are significant.  The answer is &quot;Generally No&quot; ... but the more useless stuff you have on the classpath, etc, the greater the impact is going to be.\r\n\r\n------------------\r\n\r\nIMO, a more important problem with having unused JARs on the classpath is that it is likely to increase your maintenance overheads.  For example, if there are old unused JAR files that happen to have vulnerabilities, someone is liable to spend time checking and upgrading those JARs in response to a security scan ... not realizing that it doesn&#39;t affect *actual* security, and is (arguably&lt;sup&gt;1&lt;/sup&gt;) a waste of time.\r\n\r\n&lt;sup&gt;1 - It is certainly a waste of time in the sense that you wouldn&#39;t have needed to expended if the unused JAR had been removed in the first place!&lt;/sup&gt;","title":"Impacts of having unused JAR files in CLASSPATH","body":"<blockquote>\n<p>Are there any impacts (such as loading of classes into memory, performance, etc.) of having unused JARs in the classpath either at compile time or run time?</p>\n</blockquote>\n<p>There is going to be a small impact.  When the class loader (or the compiler's equivalent) starts, it has to read the index of each JAR file to find out what classes are in each JAR.  If you've got unnecessary JARs on the classpath, the classloader has more work to do, and will (at least temporarily) use more memory to cache the indexes.</p>\n<p>This applies to all kinds of Java application.  Other related impacts are:</p>\n<ul>\n<li>the extra disk space needed to hold the unused JARs, and</li>\n<li>for unused JARs that are part of a downloadable installer or container, the extra time and network bandwidth needed to do the download.</li>\n</ul>\n<p><strong>The question that you didn't ask</strong> ... is whether these impacts are significant.  The answer is &quot;Generally No&quot; ... but the more useless stuff you have on the classpath, etc, the greater the impact is going to be.</p>\n<hr />\n<p>IMO, a more important problem with having unused JARs on the classpath is that it is likely to increase your maintenance overheads.  For example, if there are old unused JAR files that happen to have vulnerabilities, someone is liable to spend time checking and upgrading those JARs in response to a security scan ... not realizing that it doesn't affect <em>actual</em> security, and is (arguably<sup>1</sup>) a waste of time.</p>\n<p><sup>1 - It is certainly a waste of time in the sense that you wouldn't have needed to expended if the unused JAR had been removed in the first place!</sup></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1339419581,"creation_date":1339419581,"answer_id":10980584,"question_id":10980483,"body_markdown":"The main problem is not performance as the cost is relatively small and only on loading new classes.  The main problem is maintainability.  For example, when a library needs to be upgraded, you can waste alot of time testing the application still works ok with the new version only to find the library was not used. (Say you have a new library which needs a newer version of a library you are already &quot;using&quot;)\r\n","title":"Impacts of having unused JAR files in CLASSPATH","body":"<p>The main problem is not performance as the cost is relatively small and only on loading new classes.  The main problem is maintainability.  For example, when a library needs to be upgraded, you can waste alot of time testing the application still works ok with the new version only to find the library was not used. (Say you have a new library which needs a newer version of a library you are already \"using\")</p>\n"}],"owner":{"account_id":60953,"reputation":10663,"user_id":181870,"accept_rate":61,"display_name":"Gnanam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2772,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":10980547,"answer_count":3,"score":9,"last_activity_date":1694490777,"creation_date":1339419195,"question_id":10980483,"body_markdown":"I&#39;ve read so many Q&amp;A here about tools available to find out *unused* JARs, such as:\r\n\r\n 1. [loosejar][1]\r\n 2. [Classpath Helper](http://classpathhelper.sourceforge.net/)\r\n\r\n\r\nMy question here is, are there any impacts (such as loading of classes into memory, performance,  etc.) of having unused JARs in the classpath either at compile time or run time?  Question applies to both running as a Standalone program and Web Server (Apache Tomcat), though I initially thought about only Standalone programs.\r\n\r\n**NOTE:** I&#39;m running JDK 6u32 (64-bit).\r\n\r\n  [1]: http://code.google.com/p/loosejar/ &quot;Utility library that can tell which jar libraries on your project&#39;s classpath are NOT used&quot;","title":"Impacts of having unused JAR files in CLASSPATH","body":"<p>I've read so many Q&amp;A here about tools available to find out <em>unused</em> JARs, such as:</p>\n\n<ol>\n<li><a href=\"http://code.google.com/p/loosejar/\">loosejar</a></li>\n<li><a href=\"http://classpathhelper.sourceforge.net/\">Classpath Helper</a></li>\n</ol>\n\n<p>My question here is, are there any impacts (such as loading of classes into memory, performance,  etc.) of having unused JARs in the classpath either at compile time or run time?  Question applies to both running as a Standalone program and Web Server (Apache Tomcat), though I initially thought about only Standalone programs.</p>\n\n<p><strong>NOTE:</strong> I'm running JDK 6u32 (64-bit).</p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-parameter-store"],"answers":[{"tags":[],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694490021,"creation_date":1694490021,"answer_id":77085961,"question_id":77064301,"body_markdown":"I was not able to figure out a way to define a whole `Java HashMap` as a value of the `AWS Paramstore` value. However, I was able to define each property of the map separately as shown below. \r\n\r\nFirst entry of the map:\r\n\r\n    /config/my-app/dev/app.property.valueMap.key_one.property_one\r\n    /config/my-app/dev/app.property.valueMap.key_one.property_two\r\n\r\nSecond entry of the map:\r\n\r\n    /config/my-app/dev/app.property.valueMap.key_two.property_one\r\n    /config/my-app/dev/app.property.valueMap.key_two.property_two\r\n\r\nThis maybe not the most optimum or the best solution. However, it did the job done even though I had to define each value individually. Hope this would help someone, Thanks!","title":"How to set Spring boot HashMap in AWS Paramstore value and read via @ConfigurationProperties?","body":"<p>I was not able to figure out a way to define a whole <code>Java HashMap</code> as a value of the <code>AWS Paramstore</code> value. However, I was able to define each property of the map separately as shown below.</p>\n<p>First entry of the map:</p>\n<pre><code>/config/my-app/dev/app.property.valueMap.key_one.property_one\n/config/my-app/dev/app.property.valueMap.key_one.property_two\n</code></pre>\n<p>Second entry of the map:</p>\n<pre><code>/config/my-app/dev/app.property.valueMap.key_two.property_one\n/config/my-app/dev/app.property.valueMap.key_two.property_two\n</code></pre>\n<p>This maybe not the most optimum or the best solution. However, it did the job done even though I had to define each value individually. Hope this would help someone, Thanks!</p>\n"}],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085961,"answer_count":1,"score":0,"last_activity_date":1694490021,"creation_date":1694150406,"question_id":77064301,"body_markdown":"In my `spring boot` application I have some externalized configuration properties read from `AWS Parameter Store`. I do not use `AWS SSM Client` directly and extract the properties. I am using the `spring-cloud-starter-aws-parameter-store-config` and with few `bootstrap.yml` changes I am able to configure it. When the application starts, I am able to automatically detect the environment property source and extract configuration values with the help of `@ConfigurationProperties` annotation. \r\n\r\nSample bootstrap.yml is shown below:\r\n\r\n    aws:\r\n      paramstore:\r\n        enabled: true\r\n        name: my-app\r\n        prefix: /config\r\n        profileSeparator: /\r\n\r\nSample code is shown below:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;app.property&quot;)\r\n    public class TestObject {\r\n      private Map&lt;String, InnerObject&gt; valueMap = new HashMap&lt;&gt;();\r\n    \r\n      @Getter\r\n      @Setter\r\n      @AllArgsConstructor\r\n      @NoArgsConstructor\r\n      public static class InnerObject {\r\n        private int property_one = 20;\r\n        private int property_two = 10;\r\n      }\r\n    }\r\n\r\nSample AWS Parameter Store configuration name:\r\n\r\n    /config/my-app/dev/app.property.valueMap\r\n\r\nAll other properties (`String` &amp; `StringList`) works fine except with map. I was unable to figure out the way to define this map as a value within the `AWS Parameter Store` such that it resolves into my `Java` `HashMap`. Your insights are highly appreciated, thank you! ","title":"How to set Spring boot HashMap in AWS Paramstore value and read via @ConfigurationProperties?","body":"<p>In my <code>spring boot</code> application I have some externalized configuration properties read from <code>AWS Parameter Store</code>. I do not use <code>AWS SSM Client</code> directly and extract the properties. I am using the <code>spring-cloud-starter-aws-parameter-store-config</code> and with few <code>bootstrap.yml</code> changes I am able to configure it. When the application starts, I am able to automatically detect the environment property source and extract configuration values with the help of <code>@ConfigurationProperties</code> annotation.</p>\n<p>Sample bootstrap.yml is shown below:</p>\n<pre><code>aws:\n  paramstore:\n    enabled: true\n    name: my-app\n    prefix: /config\n    profileSeparator: /\n</code></pre>\n<p>Sample code is shown below:</p>\n<pre><code>@Getter\n@Setter\n@Configuration\n@ConfigurationProperties(&quot;app.property&quot;)\npublic class TestObject {\n  private Map&lt;String, InnerObject&gt; valueMap = new HashMap&lt;&gt;();\n\n  @Getter\n  @Setter\n  @AllArgsConstructor\n  @NoArgsConstructor\n  public static class InnerObject {\n    private int property_one = 20;\n    private int property_two = 10;\n  }\n}\n</code></pre>\n<p>Sample AWS Parameter Store configuration name:</p>\n<pre><code>/config/my-app/dev/app.property.valueMap\n</code></pre>\n<p>All other properties (<code>String</code> &amp; <code>StringList</code>) works fine except with map. I was unable to figure out the way to define this map as a value within the <code>AWS Parameter Store</code> such that it resolves into my <code>Java</code> <code>HashMap</code>. Your insights are highly appreciated, thank you!</p>\n"},{"tags":["java","amazon-s3","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648207715,"creation_date":1648207715,"answer_id":71616222,"question_id":71612701,"body_markdown":"Apache Camel [AWS2 S3 Component][1] should work properly polling *AWS S3* bucket files as needed.\r\n\r\nHaving only one file polled should mean:\r\n* Either you specified both `bucketName` and `fileName` when configuring your consumer which will resolve to polling the same file again and again\r\n* Set the `maxMessagesPerPoll` to **1** while not deleting the processed messages which will as well resolve to polling the same file over and over\r\n* Either set a `prefix` or `delimiter` configuration option matching a single file\r\n\r\nYou should start inspecting your endpoint configuration to see if any of these mis-configuration options apply.\r\n\r\nOn the other hand, to achieve idempotency you have one of two ways:\r\n* Configure your consumer endpoint to `moveAfterRead` so that processed files are copied to a destination bucket avoiding them to be re-polled on next iteration (you need to configure the `destination` bucket). This solution would depend on your requirements and should be applicable only if you afford to have files in another bucket meaning no other component / service is relying on those files bien in the same source bucket\r\n* Configure a [`IdempotentConsumer`][2] backed by a repository of your choice in which case you can mark (and save) processed messages\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.15.x/aws2-s3-component.html\r\n  [2]: https://camel.apache.org/components/3.15.x/eips/idempotentConsumer-eip.html","title":"Idempotent Camel AWS2-S3 consumer not retrieving all files from bucket when deleteAfterRead is false","body":"<p>Apache Camel <a href=\"https://camel.apache.org/components/3.15.x/aws2-s3-component.html\" rel=\"nofollow noreferrer\">AWS2 S3 Component</a> should work properly polling <em>AWS S3</em> bucket files as needed.</p>\n<p>Having only one file polled should mean:</p>\n<ul>\n<li>Either you specified both <code>bucketName</code> and <code>fileName</code> when configuring your consumer which will resolve to polling the same file again and again</li>\n<li>Set the <code>maxMessagesPerPoll</code> to <strong>1</strong> while not deleting the processed messages which will as well resolve to polling the same file over and over</li>\n<li>Either set a <code>prefix</code> or <code>delimiter</code> configuration option matching a single file</li>\n</ul>\n<p>You should start inspecting your endpoint configuration to see if any of these mis-configuration options apply.</p>\n<p>On the other hand, to achieve idempotency you have one of two ways:</p>\n<ul>\n<li>Configure your consumer endpoint to <code>moveAfterRead</code> so that processed files are copied to a destination bucket avoiding them to be re-polled on next iteration (you need to configure the <code>destination</code> bucket). This solution would depend on your requirements and should be applicable only if you afford to have files in another bucket meaning no other component / service is relying on those files bien in the same source bucket</li>\n<li>Configure a <a href=\"https://camel.apache.org/components/3.15.x/eips/idempotentConsumer-eip.html\" rel=\"nofollow noreferrer\"><code>IdempotentConsumer</code></a> backed by a repository of your choice in which case you can mark (and save) processed messages</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13540286,"reputation":51,"user_id":9768181,"display_name":"FAF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694487925,"creation_date":1694487925,"answer_id":77085847,"question_id":71612701,"body_markdown":"I was struggling with that and for me this is the best solution. \r\nPut one route that checks if the file exists, and only if it exists call the second route\r\n\r\n            from(&quot;timer:foo?period=5000&quot;)\r\n        process(e -&gt; {\r\n        S3Client s3Client = // get your S3 client\r\n        String bucketName = &quot;com.xxx.input&quot;;\r\n        String key = &quot;tarjetas.csv&quot;;\r\n    \r\n        try { s3Client.headObject(HeadObjectRequest.builder().bucket(bucketName).key(key).build());\r\n               e.getIn().setBody(true);\r\n            } catch (NoSuchKeyException ex) {\r\n                e.getIn().setBody(false);\r\n            }\r\n        })\r\n        .filter(body().isEqualTo(true))\r\n        .to(&quot;direct:startMainRoute&quot;);\r\n    \r\n        from(&quot;direct:startMainRoute&quot;)\r\n    .pollEnrich(&quot;aws2-s3://com.xxx.input?amazonS3Client=#s3Client&amp;fileName=tarjetas.csv&amp;moveAfterRead=true&amp;destinationBucket=com.ffresco.processed&amp;delay=5000&quot;, 5000)\r\n        .process(new TestProcessor())\r\n        .split().tokenize(&quot;\\n&quot;, 1).streaming()\r\n        .log(&quot;Hello ${body}&quot;);","title":"Idempotent Camel AWS2-S3 consumer not retrieving all files from bucket when deleteAfterRead is false","body":"<p>I was struggling with that and for me this is the best solution.\nPut one route that checks if the file exists, and only if it exists call the second route</p>\n<pre><code>        from(&quot;timer:foo?period=5000&quot;)\n    process(e -&gt; {\n    S3Client s3Client = // get your S3 client\n    String bucketName = &quot;com.xxx.input&quot;;\n    String key = &quot;tarjetas.csv&quot;;\n\n    try { s3Client.headObject(HeadObjectRequest.builder().bucket(bucketName).key(key).build());\n           e.getIn().setBody(true);\n        } catch (NoSuchKeyException ex) {\n            e.getIn().setBody(false);\n        }\n    })\n    .filter(body().isEqualTo(true))\n    .to(&quot;direct:startMainRoute&quot;);\n\n    from(&quot;direct:startMainRoute&quot;)\n.pollEnrich(&quot;aws2-s3://com.xxx.input?amazonS3Client=#s3Client&amp;fileName=tarjetas.csv&amp;moveAfterRead=true&amp;destinationBucket=com.ffresco.processed&amp;delay=5000&quot;, 5000)\n    .process(new TestProcessor())\n    .split().tokenize(&quot;\\n&quot;, 1).streaming()\n    .log(&quot;Hello ${body}&quot;);\n</code></pre>\n"}],"owner":{"account_id":19955204,"reputation":15,"user_id":14623964,"display_name":"Ralph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694487925,"creation_date":1648187543,"question_id":71612701,"body_markdown":"I am using Camel AWS2-S3 with an idempotent consumer based on MemoryIdempotentRepository and try to read all files from an AWS/S3 bucket using Camel AWS2-S3 version 3.14.2. The intention is to keep the retrieved files in the bucket and therefore, deleteAfterRead is set to false.\r\nWhen debugging my code I see consecutive polls retrieving always only one single file which is always the same. After the second poll this file is correctly considered a duplicate and ignored. In my DEBUG log I see &quot;Ignoring duplicate message with id...&quot; for this file.\r\nHowever, although there are more files in my AWS/S3 bucket to retrieve, nothing happens until the polling delay initiating the next poll expires. \r\nBut then the next poll retrieves only the same already marked duplicate file and so on ...\r\n\r\nWhat is needed to make the s3client keep on retrieving the next file in the bucket after ignoring the previous one. \r\nAll versions of Camel starting at 3.9.0 show the same behavior.\r\n\r\nHas anyone run into the same problem and know how to solve this?\r\n\r\nMany thanks in advance.","title":"Idempotent Camel AWS2-S3 consumer not retrieving all files from bucket when deleteAfterRead is false","body":"<p>I am using Camel AWS2-S3 with an idempotent consumer based on MemoryIdempotentRepository and try to read all files from an AWS/S3 bucket using Camel AWS2-S3 version 3.14.2. The intention is to keep the retrieved files in the bucket and therefore, deleteAfterRead is set to false.\nWhen debugging my code I see consecutive polls retrieving always only one single file which is always the same. After the second poll this file is correctly considered a duplicate and ignored. In my DEBUG log I see &quot;Ignoring duplicate message with id...&quot; for this file.\nHowever, although there are more files in my AWS/S3 bucket to retrieve, nothing happens until the polling delay initiating the next poll expires.\nBut then the next poll retrieves only the same already marked duplicate file and so on ...</p>\n<p>What is needed to make the s3client keep on retrieving the next file in the bucket after ignoring the previous one.\nAll versions of Camel starting at 3.9.0 show the same behavior.</p>\n<p>Has anyone run into the same problem and know how to solve this?</p>\n<p>Many thanks in advance.</p>\n"},{"tags":["java","jquery","ajax","rest","spring-mvc"],"comments":[{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":0,"creation_date":1339208531,"post_id":10950383,"comment_id":14304933,"body_markdown":"Hi John, you may want to turn up your logging level to DEBUG or ALL. The Spring framework tends to log things at a lower level, and when trying to set up the framework, it&#39;s helpful to be able to see what&#39;s going on under the hood. Good luck!","body":"Hi John, you may want to turn up your logging level to DEBUG or ALL. The Spring framework tends to log things at a lower level, and when trying to set up the framework, it&#39;s helpful to be able to see what&#39;s going on under the hood. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":1363814,"reputation":5827,"user_id":1300669,"accept_rate":91,"display_name":"RP-"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1339164792,"creation_date":1339164792,"answer_id":10950536,"question_id":10950383,"body_markdown":"Hope gives you a start!\r\n&lt;pre&gt;&lt;code&gt;\r\n$.ajax({\r\n    contentType : &quot;application/json&quot;,\r\n    dataType : &#39;json&#39;,\r\n    type : &quot;PUT&quot;,\r\n    url : targetUrl,\r\n    data : $(this).serializeObject(), //json serialization (like array.serializeArray() etc)\r\n    async : false,\r\n    success : function(data) {\r\n       // response\r\n    },\r\n    error : function(request, status, error) {\r\n       // any errors\r\n    }\r\n});\r\n&lt;/pre&gt;&lt;/code&gt;","title":"Ajax JQuery to Spring @RequestBody? How do I pass data?","body":"<p>Hope gives you a start!\n<pre><code>\n$.ajax({\n    contentType : \"application/json\",\n    dataType : 'json',\n    type : \"PUT\",\n    url : targetUrl,\n    data : $(this).serializeObject(), //json serialization (like array.serializeArray() etc)\n    async : false,\n    success : function(data) {\n       // response\n    },\n    error : function(request, status, error) {\n       // any errors\n    }\n});\n</pre></code></p>\n"},{"tags":[],"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339208469,"creation_date":1339208469,"answer_id":10957898,"question_id":10950383,"body_markdown":"When using REST, it&#39;s important to understand the distinction between the different HTTP methods. PUT generally means that you&#39;re going to create a new collection or replace an existing one. POST generally means that you&#39;re adding a record to a collection. The main difference between the two is that PUT is idempotent, which means that repeating the same operation repeatedly doesn&#39;t change the state of the server.\r\n\r\nIn your code below, you&#39;re method is called &quot;updateEmployee&quot;, which implies you&#39;re replacing a collection with a new one. Thus, PUT is the most appropriate HTTP Method to use in this scenario. However, you have a bug in your code. You didn&#39;t define the &quot;id&quot; in the parameter list:\r\n\r\n    // Added String id as a PathVariable\r\n    @RequestMapping(method=RequestMethod.PUT, value=&quot;/employee/{id}&quot;)\r\n    public ModelAndView updateEmployee(@RequestBody String body, @PathVariable String id) {   \r\n         \r\n            // You really don&#39;t need to do this. The Spring Framework can deserialize\r\n              // objects for you. However, one issue at a time ;)\r\n               // also, changed e to &quot;employee&quot; so the variable has a better name.\r\n            Source source = new StreamSource(new StringReader(body));\r\n            Employee employee = (Employee) jaxb2Mashaller.unmarshal(source);\r\n            \r\n            employeeDS.update(employee);\r\n            return new ModelAndView(XML_VIEW_NAME, &quot;object&quot;, employee);\r\n    }\r\n\r\n\r\nTo make the request to the server, use jQuery AJAX:\r\n\r\n    $.ajax({\r\n\t  url: &quot;/employee/2?t=&quot;+new Date().getTime(),\r\n\t  contentType: &#39;application/x-www-form-urlencoded&#39;,\r\n\t  type: &quot;PUT&quot;,\r\n\t  data: dataString,\r\n\t  context: document.body,\r\n\t  success: function(e){\r\n              alert(e);  \t\t\t\t   \r\n\t  },\r\n          error: function(jqXHR, textStatus, errorThrown) {\r\n              alert(&quot; + textStatus + &quot; : &quot; + errorThrown);\r\n          } \r\n    });\r\n\t\r\ndataString is a string representation of your data. You can either serialize the form, use JSON, or send a url-encoded form. Without seeing more code and more error messages in your question, it&#39;s unclear how you&#39;re representing your data when attempting to send it to the server. If you start here and fix the above errors in your Java code, this should get you past this specific error.\r\n\r\nAnother way to submit data to your REST method, just for testing, is to use a standard form, but use method=&quot;PUT&quot;, since that&#39;s what you&#39;re using in Spring:\r\n\r\n    &lt;form name=&quot;test&quot; action=&quot;/employee/2&quot; method=&quot;PUT&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;firstname&quot; /&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;lastname&quot; /&gt;\r\n        &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;submit&quot; /&gt;\r\n    &lt;/form&gt;\r\n\r\nThis will use application/x-www-form-urlencoded. If you&#39;re unable to deserialize that, then try using JSON instead. Good luck!","title":"Ajax JQuery to Spring @RequestBody? How do I pass data?","body":"<p>When using REST, it's important to understand the distinction between the different HTTP methods. PUT generally means that you're going to create a new collection or replace an existing one. POST generally means that you're adding a record to a collection. The main difference between the two is that PUT is idempotent, which means that repeating the same operation repeatedly doesn't change the state of the server.</p>\n\n<p>In your code below, you're method is called \"updateEmployee\", which implies you're replacing a collection with a new one. Thus, PUT is the most appropriate HTTP Method to use in this scenario. However, you have a bug in your code. You didn't define the \"id\" in the parameter list:</p>\n\n<pre><code>// Added String id as a PathVariable\n@RequestMapping(method=RequestMethod.PUT, value=\"/employee/{id}\")\npublic ModelAndView updateEmployee(@RequestBody String body, @PathVariable String id) {   \n\n        // You really don't need to do this. The Spring Framework can deserialize\n          // objects for you. However, one issue at a time ;)\n           // also, changed e to \"employee\" so the variable has a better name.\n        Source source = new StreamSource(new StringReader(body));\n        Employee employee = (Employee) jaxb2Mashaller.unmarshal(source);\n\n        employeeDS.update(employee);\n        return new ModelAndView(XML_VIEW_NAME, \"object\", employee);\n}\n</code></pre>\n\n<p>To make the request to the server, use jQuery AJAX:</p>\n\n<pre><code>$.ajax({\n  url: \"/employee/2?t=\"+new Date().getTime(),\n  contentType: 'application/x-www-form-urlencoded',\n  type: \"PUT\",\n  data: dataString,\n  context: document.body,\n  success: function(e){\n          alert(e);                    \n  },\n      error: function(jqXHR, textStatus, errorThrown) {\n          alert(\" + textStatus + \" : \" + errorThrown);\n      } \n});\n</code></pre>\n\n<p>dataString is a string representation of your data. You can either serialize the form, use JSON, or send a url-encoded form. Without seeing more code and more error messages in your question, it's unclear how you're representing your data when attempting to send it to the server. If you start here and fix the above errors in your Java code, this should get you past this specific error.</p>\n\n<p>Another way to submit data to your REST method, just for testing, is to use a standard form, but use method=\"PUT\", since that's what you're using in Spring:</p>\n\n<pre><code>&lt;form name=\"test\" action=\"/employee/2\" method=\"PUT\"&gt;\n    &lt;input type=\"text\" name=\"firstname\" /&gt;\n    &lt;input type=\"text\" name=\"lastname\" /&gt;\n    &lt;input type=\"submit\" name=\"submit\" value=\"submit\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This will use application/x-www-form-urlencoded. If you're unable to deserialize that, then try using JSON instead. Good luck!</p>\n"}],"owner":{"account_id":282074,"reputation":5607,"user_id":2144370,"accept_rate":72,"display_name":"SJS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8955,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694487855,"creation_date":1339164279,"question_id":10950383,"body_markdown":"Ajax JQuery to Spring @RequestBody? How do I pass data?  I being doing spring for sometime now with passing form fields but I am working on a new system and we would like to use Ajax and RESTful to pass data.  My controller looks like the sample one below but can someone please me with the ajax call to post it?? how do I post to the Spring controller and put the data in the body\r\n\r\n    @RequestMapping(method=RequestMethod.PUT, value=&quot;/employee/{id}&quot;)\r\n    public ModelAndView updateEmployee(@RequestBody String body) {\r\n    \t\tSource source = new StreamSource(new StringReader(body));\r\n    \t\tEmployee e = (Employee) jaxb2Mashaller.unmarshal(source);\r\n    \t\temployeeDS.update(e);\r\n    \t\treturn new ModelAndView(XML_VIEW_NAME, &quot;object&quot;, e);\r\n    \t}","title":"Ajax JQuery to Spring @RequestBody? How do I pass data?","body":"<p>Ajax JQuery to Spring @RequestBody? How do I pass data?  I being doing spring for sometime now with passing form fields but I am working on a new system and we would like to use Ajax and RESTful to pass data.  My controller looks like the sample one below but can someone please me with the ajax call to post it?? how do I post to the Spring controller and put the data in the body</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.PUT, value=\"/employee/{id}\")\npublic ModelAndView updateEmployee(@RequestBody String body) {\n        Source source = new StreamSource(new StringReader(body));\n        Employee e = (Employee) jaxb2Mashaller.unmarshal(source);\n        employeeDS.update(e);\n        return new ModelAndView(XML_VIEW_NAME, \"object\", e);\n    }\n</code></pre>\n"},{"tags":["java","flutter","gradle","huawei-mobile-services"],"owner":{"account_id":19023452,"reputation":1,"user_id":13887036,"display_name":"badees_abood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694487742,"creation_date":1694417954,"question_id":77079721,"body_markdown":"I have a problem when ever I build my flutter app, the problem occurs when the Gradle tries to build and calls for the resources:\r\n\r\n&gt; Certificate for &lt;developer.huawei.com&gt; doesn&#39;t match any of the subject alternative names: [a248.e.akamai.net, *.akamaized.net, *.akamaized-staging.net, *.akamaihd.net, *.akamaihd-staging.net]\r\nthis happens when trying to build my gradle app\r\n\r\nI tried fetching the cert from the huawei.com and implement it on the jdk using the key tool. \r\nIi also tried upgrading Gradle to the latest version.","title":"Gradle problem getting developer certificate","body":"<p>I have a problem when ever I build my flutter app, the problem occurs when the Gradle tries to build and calls for the resources:</p>\n<blockquote>\n<p>Certificate for &lt;developer.huawei.com&gt; doesn't match any of the subject alternative names: [a248.e.akamai.net, *.akamaized.net, *.akamaized-staging.net, *.akamaihd.net, *.akamaihd-staging.net]\nthis happens when trying to build my gradle app</p>\n</blockquote>\n<p>I tried fetching the cert from the huawei.com and implement it on the jdk using the key tool.\nIi also tried upgrading Gradle to the latest version.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14883843,"reputation":193,"user_id":12280406,"display_name":"solitude"},"score":1,"creation_date":1694486185,"post_id":77085728,"comment_id":135893757,"body_markdown":"You are returning &#39;null&#39; on your loadBackgroundBitmap() method. Also for better answer try asking question in English next time.","body":"You are returning &#39;null&#39; on your loadBackgroundBitmap() method. Also for better answer try asking question in English next time."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1694488543,"post_id":77085728,"comment_id":135893910,"body_markdown":"Por favor escribe en ingles o usa [es.so]","body":"Por favor escribe en ingles o usa <a href=\"https://es.stackoverflow.com\">Stack Overflow en español</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user22391295"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694485977,"creation_date":1694485977,"answer_id":77085759,"question_id":77085728,"body_markdown":"The error clearly states that you are returning a `null` on  \r\n\r\n    &gt; private Bitmap loadBackgroundBitmap() {\r\n    &gt;        return null;\r\n    &gt;     }\r\n\r\n and you are trying to access the `getWidth()` on your null object in your `createCombinedBitmap()` method.\r\n\r\nyou can fix it by updating your `loadBackgroundBitmap()` \r\nfor example:\r\n\r\n    private Bitmap loadBackgroundBitmap() {\r\n    // do not return as null. load your background here.\r\n    }\r\n\r\nAlso handle your potential null cases. for example:\r\n\r\n      Bitmap backgroundBitmap = loadBackgroundBitmap();\r\n        if (backgroundBitmap == null) {\r\n            Toast.makeText(this, &quot;This Background Bitmap is null&quot;, Toast.LENGTH_SHORT).show();\r\n            return null;\r\n        }","title":"ERROR java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference","body":"<p>The error clearly states that you are returning a <code>null</code> on</p>\n<pre><code>&gt; private Bitmap loadBackgroundBitmap() {\n&gt;        return null;\n&gt;     }\n</code></pre>\n<p>and you are trying to access the <code>getWidth()</code> on your null object in your <code>createCombinedBitmap()</code> method.</p>\n<p>you can fix it by updating your <code>loadBackgroundBitmap()</code>\nfor example:</p>\n<pre><code>private Bitmap loadBackgroundBitmap() {\n// do not return as null. load your background here.\n}\n</code></pre>\n<p>Also handle your potential null cases. for example:</p>\n<pre><code>  Bitmap backgroundBitmap = loadBackgroundBitmap();\n    if (backgroundBitmap == null) {\n        Toast.makeText(this, &quot;This Background Bitmap is null&quot;, Toast.LENGTH_SHORT).show();\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":27105482,"reputation":11,"user_id":20651378,"display_name":"juan osorio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694491001,"answer_count":1,"score":0,"last_activity_date":1694485977,"creation_date":1694485213,"question_id":77085728,"body_markdown":"Estoy intentando guardar como una imagen el contenido de todo un LinearLayout (con su background de fondo) que contiene varios  editText, En mi Activity tengo mi codigo asi, que me sale error cuando le doy click en el boton guardar.\r\n\r\n```\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Canvas;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\n\r\npublic class MainActivity extends Activity {\r\n    private LinearLayout backgroundLayout;\r\n    private EditText editText1;\r\n    private EditText editText2;\r\n    private Button saveButton;\r\n    private int imageCounter = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        backgroundLayout = findViewById(R.id.imageLayout);\r\n        editText1 = findViewById(R.id.editText1);\r\n        editText2 = findViewById(R.id.editText2);\r\n        saveButton = findViewById(R.id.saveButton);\r\n\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Combina el fondo y el texto en un solo Bitmap\r\n                Bitmap combinedBitmap = createCombinedBitmap();\r\n\r\n                // Guarda la imagen con un nombre &#250;nico\r\n                saveImageToFile(combinedBitmap);\r\n            }\r\n        });\r\n    }\r\n\r\n    private Bitmap createCombinedBitmap() {\r\n        Bitmap backgroundBitmap = loadBackgroundBitmap();\r\n        String text1 = editText1.getText().toString();\r\n        String text2 = editText2.getText().toString();\r\n\r\n        // Combina el fondo y el texto en un solo Bitmap\r\n        Bitmap combinedBitmap = Bitmap.createBitmap(\r\n                backgroundBitmap.getWidth(),\r\n                backgroundBitmap.getHeight(),\r\n                backgroundBitmap.getConfig());\r\n        Canvas canvas = new Canvas(combinedBitmap);\r\n        canvas.drawBitmap(backgroundBitmap, 0, 0, null);\r\n        // Agrega el texto a la imagen\r\n\r\n        return combinedBitmap;\r\n    }\r\n\r\n    private Bitmap loadBackgroundBitmap() {\r\n       return null;\r\n    }\r\n\r\n    private void saveImageToFile(Bitmap imageBitmap) {\r\n        Context context = getApplicationContext();\r\n        File directory = context.getExternalFilesDir(null);\r\n\r\n        // Crea un nombre de archivo &#250;nico basado en el contador\r\n        String fileName = &quot;imagen_&quot; + imageCounter + &quot;.png&quot;;\r\n        File file = new File(directory, fileName);\r\n\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            imageBitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n            fos.close();\r\n            // Notifica al usuario que la imagen se ha guardado con &#233;xito\r\n            Toast.makeText(this, &quot;Imagen guardada en &quot; + file.getAbsolutePath(), Toast.LENGTH_SHORT).show();\r\n\r\n            // Incrementa el contador\r\n            imageCounter++;\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Toast.makeText(this, &quot;Error al guardar la imagen&quot;, Toast.LENGTH_SHORT).show();\r\n            // Maneja cualquier error que pueda ocurrir al guardar la imagen\r\n        }\r\n    }\r\n}\r\n\r\nIntento Guardar la imagen y me salen estos errores:\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: appskd.bateria.appguardarimagen, PID: 28463\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference\r\n        at appskd.bateria.appguardarimagen.MainActivity.createCombinedBitmap(MainActivity.java:53)\r\n        at appskd.bateria.appguardarimagen.MainActivity.access$000(MainActivity.java:16)\r\n        at appskd.bateria.appguardarimagen.MainActivity$1.onClick(MainActivity.java:38)\r\n        at android.view.View.performClick(View.java:6294)\r\n        at android.view.View$PerformClick.run(View.java:24770)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n```\r\n\r\nMe sale este error: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference","title":"ERROR java.lang.NullPointerException: Attempt to invoke virtual method &#39;int android.graphics.Bitmap.getWidth()&#39; on a null object reference","body":"<p>Estoy intentando guardar como una imagen el contenido de todo un LinearLayout (con su background de fondo) que contiene varios  editText, En mi Activity tengo mi codigo asi, que me sale error cuando le doy click en el boton guardar.</p>\n<pre><code>import android.app.Activity;\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\n\npublic class MainActivity extends Activity {\n    private LinearLayout backgroundLayout;\n    private EditText editText1;\n    private EditText editText2;\n    private Button saveButton;\n    private int imageCounter = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        backgroundLayout = findViewById(R.id.imageLayout);\n        editText1 = findViewById(R.id.editText1);\n        editText2 = findViewById(R.id.editText2);\n        saveButton = findViewById(R.id.saveButton);\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // Combina el fondo y el texto en un solo Bitmap\n                Bitmap combinedBitmap = createCombinedBitmap();\n\n                // Guarda la imagen con un nombre único\n                saveImageToFile(combinedBitmap);\n            }\n        });\n    }\n\n    private Bitmap createCombinedBitmap() {\n        Bitmap backgroundBitmap = loadBackgroundBitmap();\n        String text1 = editText1.getText().toString();\n        String text2 = editText2.getText().toString();\n\n        // Combina el fondo y el texto en un solo Bitmap\n        Bitmap combinedBitmap = Bitmap.createBitmap(\n                backgroundBitmap.getWidth(),\n                backgroundBitmap.getHeight(),\n                backgroundBitmap.getConfig());\n        Canvas canvas = new Canvas(combinedBitmap);\n        canvas.drawBitmap(backgroundBitmap, 0, 0, null);\n        // Agrega el texto a la imagen\n\n        return combinedBitmap;\n    }\n\n    private Bitmap loadBackgroundBitmap() {\n       return null;\n    }\n\n    private void saveImageToFile(Bitmap imageBitmap) {\n        Context context = getApplicationContext();\n        File directory = context.getExternalFilesDir(null);\n\n        // Crea un nombre de archivo único basado en el contador\n        String fileName = &quot;imagen_&quot; + imageCounter + &quot;.png&quot;;\n        File file = new File(directory, fileName);\n\n        try {\n            FileOutputStream fos = new FileOutputStream(file);\n            imageBitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n            fos.close();\n            // Notifica al usuario que la imagen se ha guardado con éxito\n            Toast.makeText(this, &quot;Imagen guardada en &quot; + file.getAbsolutePath(), Toast.LENGTH_SHORT).show();\n\n            // Incrementa el contador\n            imageCounter++;\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Error al guardar la imagen&quot;, Toast.LENGTH_SHORT).show();\n            // Maneja cualquier error que pueda ocurrir al guardar la imagen\n        }\n    }\n}\n\nIntento Guardar la imagen y me salen estos errores:\n\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: appskd.bateria.appguardarimagen, PID: 28463\n    java.lang.NullPointerException: Attempt to invoke virtual method 'int android.graphics.Bitmap.getWidth()' on a null object reference\n        at appskd.bateria.appguardarimagen.MainActivity.createCombinedBitmap(MainActivity.java:53)\n        at appskd.bateria.appguardarimagen.MainActivity.access$000(MainActivity.java:16)\n        at appskd.bateria.appguardarimagen.MainActivity$1.onClick(MainActivity.java:38)\n        at android.view.View.performClick(View.java:6294)\n        at android.view.View$PerformClick.run(View.java:24770)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n<p>Me sale este error: Attempt to invoke virtual method 'int android.graphics.Bitmap.getWidth()' on a null object reference</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1694264461,"post_id":77072359,"comment_id":135870295,"body_markdown":"`Thread derived = new Thread(base);` Just don&#39;t do that.","body":"<code>Thread derived = new Thread(base);</code> Just don&#39;t do that."},{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":0,"creation_date":1694265881,"post_id":77072359,"comment_id":135870451,"body_markdown":"@tkausl, ok! But I got this problem from an educational example.","body":"@tkausl, ok! But I got this problem from an educational example."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694266517,"creation_date":1694265221,"answer_id":77072425,"question_id":77072359,"body_markdown":"It is a source of confusion that Thread implements Runnable. A Thread object is a Java Object that, once it starts, has a connection to an os thread. Having Runnable as an interface means we can separate a logical task, the Runnable, from the thing that runs it, the Thread. But letting Thread implement Runnable means the type system doesn&#39;t complain if you pass in a Thread as a constructor argument to another Thread.\r\n\r\n When you pass in some thread A as a constructor argument to another thread B you are saying, A is some object with a run method that I want B to execute. When your code in A calls getName, that is getName on A, but the thread executing the code is B. \r\n\r\nPassing A into B doesn&#39;t mean B will use A&#39;s os thread, it only means B will execute A&#39;s run method. `Thread.currentThread()` gets the Thread object that wraps the os thread executing the code. \r\n","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p>It is a source of confusion that Thread implements Runnable. A Thread object is a Java Object that, once it starts, has a connection to an os thread. Having Runnable as an interface means we can separate a logical task, the Runnable, from the thing that runs it, the Thread. But letting Thread implement Runnable means the type system doesn't complain if you pass in a Thread as a constructor argument to another Thread.</p>\n<p>When you pass in some thread A as a constructor argument to another thread B you are saying, A is some object with a run method that I want B to execute. When your code in A calls getName, that is getName on A, but the thread executing the code is B.</p>\n<p>Passing A into B doesn't mean B will use A's os thread, it only means B will execute A's run method. <code>Thread.currentThread()</code> gets the Thread object that wraps the os thread executing the code.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694485917,"creation_date":1694265528,"answer_id":77072447,"question_id":77072359,"body_markdown":"`Thread.currentThread().getName()` and `this.getName()` return different names when you start the `derived` thread because `this` is not the same as `Thread.currentThread()`.\r\n\r\nYou create `derived` by using [the constructor][1] that takes in a `Runnable`. This creates a new thread that runs the `Runnable` (calls the `run` method). The argument you passed, `base`, is a `Thread` object, which also happens to be `Runnable`. \r\n\r\nHowever, the fact that `base` is a `Thread` (and not some other `Runnable` things) is not relevant. `derived.start()` still only starts the `derived` thread by calling `base.run()`. It does not start the `base` thread.\r\n\r\nSo `Thread.currentThread()` is the `derived` thread, but `this` refers to the `base` thread.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#%3Cinit%3E(java.lang.Runnable)","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p><code>Thread.currentThread().getName()</code> and <code>this.getName()</code> return different names when you start the <code>derived</code> thread because <code>this</code> is not the same as <code>Thread.currentThread()</code>.</p>\n<p>You create <code>derived</code> by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#%3Cinit%3E(java.lang.Runnable)\" rel=\"nofollow noreferrer\">the constructor</a> that takes in a <code>Runnable</code>. This creates a new thread that runs the <code>Runnable</code> (calls the <code>run</code> method). The argument you passed, <code>base</code>, is a <code>Thread</code> object, which also happens to be <code>Runnable</code>.</p>\n<p>However, the fact that <code>base</code> is a <code>Thread</code> (and not some other <code>Runnable</code> things) is not relevant. <code>derived.start()</code> still only starts the <code>derived</code> thread by calling <code>base.run()</code>. It does not start the <code>base</code> thread.</p>\n<p>So <code>Thread.currentThread()</code> is the <code>derived</code> thread, but <code>this</code> refers to the <code>base</code> thread.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694275767,"creation_date":1694275767,"answer_id":77073026,"question_id":77072359,"body_markdown":"When `base` is running - by calling `base.start();` -  getName() inside run() will correctly return the name of base, which will be something like &quot;Thread-0&quot; by default.\r\n\r\nWhen derived is running - by calling `derived.start();` -  it also executes base&#39;s run() method. Here, getName() will return the name of base (not derived) because getName() refers to the TestedThread object (base) on which it was called. This is true even though derived is the thread that is currently running the run() method.\r\n\r\nIt may be easier to understand if you add more logging to your example:\r\n\r\n    static class TestedThread extends Thread {\r\n        public void run() {\r\n            // Here this (running base or derived) always refers to the same instance - the base instance.\r\n            // The reason is that you created derived with base as a parameter,\r\n            // and the run from base always refers to base variable instance.\r\n            // Thread.currentThread() on the other hand refers to the instance of Thread instance on which you called start.\r\n            System.out.println(&quot;1: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + Thread.currentThread().getName());\r\n            System.out.println(&quot;2: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + getName());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TestedThread base = new TestedThread();\r\n        // Here base.getName() returns &quot;Thread-0&quot;\r\n\r\n        Thread derived = new Thread(base);\r\n        // Here derived.getName() returns &quot;Thread-1&quot;\r\n        // derived will execute code from base.run() - but code inside run() will refer to the base instance\r\n\r\n        derived.setName(&quot;derived&quot;);\r\n        // Here derived name is changed to &quot;derived&quot;\r\n\r\n        base.start();\r\n        derived.start();\r\n    }\r\n\r\nOn my computer it prints:\r\n\r\n    1: thid:15, th ref:1801046120, this=1990684586, derived\r\n    1: thid:14, th ref:1990684586, this=1990684586, Thread-0\r\n    2: thid:15, th ref:1801046120, this=1990684586, Thread-0\r\n    2: thid:14, th ref:1990684586, this=1990684586, Thread-0\r\n\r\nas you see, the `this` always returns the same value, this is why getName() (which is actually this.getName()) returns the same value.\r\n","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p>When <code>base</code> is running - by calling <code>base.start();</code> -  getName() inside run() will correctly return the name of base, which will be something like &quot;Thread-0&quot; by default.</p>\n<p>When derived is running - by calling <code>derived.start();</code> -  it also executes base's run() method. Here, getName() will return the name of base (not derived) because getName() refers to the TestedThread object (base) on which it was called. This is true even though derived is the thread that is currently running the run() method.</p>\n<p>It may be easier to understand if you add more logging to your example:</p>\n<pre><code>static class TestedThread extends Thread {\n    public void run() {\n        // Here this (running base or derived) always refers to the same instance - the base instance.\n        // The reason is that you created derived with base as a parameter,\n        // and the run from base always refers to base variable instance.\n        // Thread.currentThread() on the other hand refers to the instance of Thread instance on which you called start.\n        System.out.println(&quot;1: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + Thread.currentThread().getName());\n        System.out.println(&quot;2: thid:&quot; + Thread.currentThread().getId() + &quot;, th ref:&quot; + Thread.currentThread().hashCode() + &quot;, this=&quot; + this.hashCode() + &quot;, &quot; + getName());\n    }\n}\n\npublic static void main(String[] args) {\n    TestedThread base = new TestedThread();\n    // Here base.getName() returns &quot;Thread-0&quot;\n\n    Thread derived = new Thread(base);\n    // Here derived.getName() returns &quot;Thread-1&quot;\n    // derived will execute code from base.run() - but code inside run() will refer to the base instance\n\n    derived.setName(&quot;derived&quot;);\n    // Here derived name is changed to &quot;derived&quot;\n\n    base.start();\n    derived.start();\n}\n</code></pre>\n<p>On my computer it prints:</p>\n<pre><code>1: thid:15, th ref:1801046120, this=1990684586, derived\n1: thid:14, th ref:1990684586, this=1990684586, Thread-0\n2: thid:15, th ref:1801046120, this=1990684586, Thread-0\n2: thid:14, th ref:1990684586, this=1990684586, Thread-0\n</code></pre>\n<p>as you see, the <code>this</code> always returns the same value, this is why getName() (which is actually this.getName()) returns the same value.</p>\n"}],"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77072447,"answer_count":3,"score":1,"last_activity_date":1694485917,"creation_date":1694264266,"question_id":77072359,"body_markdown":"I thought about a Thread object like some abstraction that carries name and static Thread.currentThread() like the way to access to that Thread object. Obviously, it&#39;s wrong assumption.\r\n\r\n```\r\npublic class App {\r\n\r\n    static class TestedThread extends Thread {\r\n        public void run() {\r\n            // System.out.println(Thread.currentThread().getName()); // is ok\r\n            System.out.println(this.getName());// Why is there difference?\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        TestedThread base = new TestedThread();\r\n        // base.start();\r\n\r\n        Thread derived = new Thread(base);\r\n        derived.setName(&quot;derived&quot;);\r\n        derived.start();\r\n    }\r\n}\r\n```\r\nIs it something like that?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gbpOq.png","title":"Why is there difference between static Thread.currentThread().getName() and getName()?","body":"<p>I thought about a Thread object like some abstraction that carries name and static Thread.currentThread() like the way to access to that Thread object. Obviously, it's wrong assumption.</p>\n<pre><code>public class App {\n\n    static class TestedThread extends Thread {\n        public void run() {\n            // System.out.println(Thread.currentThread().getName()); // is ok\n            System.out.println(this.getName());// Why is there difference?\n        }\n    }\n\n    public static void main(String[] args) {\n        TestedThread base = new TestedThread();\n        // base.start();\n\n        Thread derived = new Thread(base);\n        derived.setName(&quot;derived&quot;);\n        derived.start();\n    }\n}\n</code></pre>\n<p>Is it something like that?\n<a href=\"https://i.stack.imgur.com/gbpOq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbpOq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","httpclient","webclient"],"comments":[{"owner":{"account_id":20441862,"reputation":1,"user_id":14998538,"display_name":"XuHui Zhang"},"score":0,"creation_date":1694485555,"post_id":77085740,"comment_id":135893719,"body_markdown":"cxt.getDownloader().getWebClient()\n                .get()\n                .uri(&quot;xxxxxxx&quot;, AvaiRequest.builder().build().toMap())\n                .headers(this::setHeader)\n                .cookie(&quot;STORAGE_PREFERENCES&quot;, &quot;{&#39;STRICTLY_NECESSARY&#39;:true,&#39;PERFORMANCE&#39;:true,&#39;FUNCTIONAL&#39;:true,&#39;TARGETING&#39;:true,&#39;SOCIAL_MEDIA&#39;:true,&#39;PIXEL&#39;:true,&#39;GANALYTICS&#39;:true,&#39;__VERSION&#39;:2}&quot;)\n                .exchangeToMono(resp -&gt; {","body":"cxt.getDownloader().getWebClient()                 .get()                 .uri(&quot;xxxxxxx&quot;, AvaiRequest.builder().build().toMap())                 .headers(this::setHeader)                 .cookie(&quot;STORAGE_PREFERENCES&quot;, &quot;{&#39;STRICTLY_NECESSARY&#39;:true,&#39;PERFORMANCE&#39;:true,&#39;FUNCTIONAL&#39;:&zwnj;&#8203;true,&#39;TARGETING&#39;:tru&zwnj;&#8203;e,&#39;SOCIAL_MEDIA&#39;:tru&zwnj;&#8203;e,&#39;PIXEL&#39;:true,&#39;GANA&zwnj;&#8203;LYTICS&#39;:true,&#39;__VERS&zwnj;&#8203;ION&#39;:2}&quot;)                 .exchangeToMono(resp -&gt; {"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1694487587,"post_id":77085740,"comment_id":135893843,"body_markdown":"Please don&#39;t add comments to clarify or add code; code is unreadable in comments. [Edit] your question instead. A [mcve] would be helpful. See [ask].","body":"Please don&#39;t add comments to clarify or add code; code is unreadable in comments. <a href=\"https://stackoverflow.com/posts/77085740/edit\">Edit</a> your question instead. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":20441862,"reputation":1,"user_id":14998538,"display_name":"XuHui Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694497125,"answer_count":0,"score":0,"last_activity_date":1694485518,"creation_date":1694485518,"question_id":77085740,"body_markdown":"[enter image description here](https://i.stack.imgur.com/7t87k.png)\r\n\r\n`\r\n    java.lang.IllegalArgumentException: Cookie value contains an invalid char: ,\r\n\tat io.netty.handler.codec.http.cookie.CookieEncoder.validateCookie(CookieEncoder.java:48)\r\n\tat io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:217)\r\n\tat io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:86)\r\n\tat reactor.netty.http.client.HttpClientOperations.addCookie(HttpClientOperations.java:167)\r\n\tat org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$4(ReactorClientHttpRequest.java:133)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$5(ReactorClientHttpRequest.java:131)\r\n\tat java.base/java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:647)\r\n`\r\n\r\nI want to set the cookie like below：\r\n\r\n\r\n\r\nit failed","title":"How can I set cookie value with the char , and &quot; in netty httpclient","body":"<p><a href=\"https://i.stack.imgur.com/7t87k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><code>java.lang.IllegalArgumentException: Cookie value contains an invalid char: , at io.netty.handler.codec.http.cookie.CookieEncoder.validateCookie(CookieEncoder.java:48) at io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:217) at io.netty.handler.codec.http.cookie.ClientCookieEncoder.encode(ClientCookieEncoder.java:86) at reactor.netty.http.client.HttpClientOperations.addCookie(HttpClientOperations.java:167) at org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$4(ReactorClientHttpRequest.java:133) at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) at org.springframework.http.client.reactive.ReactorClientHttpRequest.lambda$applyCookies$5(ReactorClientHttpRequest.java:131) at java.base/java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:647)</code></p>\n<p>I want to set the cookie like below：</p>\n<p>it failed</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":2,"creation_date":1694483980,"post_id":77085644,"comment_id":135893609,"body_markdown":"just google &quot;unnamed package not allowed in module&quot; or &quot;xxx.class found in top-level directory &quot;.faster than asking questions.","body":"just google &quot;unnamed package not allowed in module&quot; or &quot;xxx.class found in top-level directory &quot;.faster than asking questions."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1694485030,"post_id":77085644,"comment_id":135893678,"body_markdown":"This has exactly nothing to do with your import of `java.util.Scanner`. Read the error message.","body":"This has exactly nothing to do with your import of <code>java.util.Scanner</code>. Read the error message."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694486169,"post_id":77085644,"comment_id":135893753,"body_markdown":"You&#39;ve set up the java project to use jigsaw modules. Don&#39;t do that - it&#39;s not widely adopted and brings various complications. One of them is that all classes __must__ be in a package and your `project` class is not. You could put it in a package, but simpler to kill the 9-headed hydra by piercing it through the heart, than lopping one head off: Don&#39;t make it a jigsaw module based project.","body":"You&#39;ve set up the java project to use jigsaw modules. Don&#39;t do that - it&#39;s not widely adopted and brings various complications. One of them is that all classes <b>must</b> be in a package and your <code>project</code> class is not. You could put it in a package, but simpler to kill the 9-headed hydra by piercing it through the heart, than lopping one head off: Don&#39;t make it a jigsaw module based project."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1694487756,"post_id":77085644,"comment_id":135893850,"body_markdown":"In addition, don&#39;t leave `// TODO` comments like that from your IDE littered around your code, and don&#39;t use `double` for monetary values.","body":"In addition, don&#39;t leave <code>&#47;&#47; TODO</code> comments like that from your IDE littered around your code, and don&#39;t use <code>double</code> for monetary values."}],"owner":{"account_id":27020112,"reputation":11,"user_id":20578222,"display_name":"Hoi Yin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1694494238,"answer_count":0,"score":0,"last_activity_date":1694485055,"creation_date":1694483233,"question_id":77085644,"body_markdown":"So I am trying to create a calculator that calculates the new price of a product after its 20% discount.\r\n\r\nThis is the code that I have typed, and the following is the description of my error\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class project {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdouble old_price;\r\n\t\tdouble new_price;\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;What is the original price of your product&quot;);\r\n\t\t\r\n\t\tnew_price = old_price*(1+0.2);\r\n\t\tSystem.out.println(&quot;The price after our discount is&quot; +new_price);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Error reading module: C:\\Users\\ceyze\\eclipse-workspace\\SalePriceCalculator\\bin\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: project.class found in top-level directory (unnamed package not allowed in module)\r\n```","title":"&quot;unnamed package not allowed in module&quot;","body":"<p>So I am trying to create a calculator that calculates the new price of a product after its 20% discount.</p>\n<p>This is the code that I have typed, and the following is the description of my error</p>\n<pre><code>import java.util.Scanner;\npublic class project {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        double old_price;\n        double new_price;\n        \n        Scanner scan = new Scanner(System.in);\n        \n        System.out.println(&quot;What is the original price of your product&quot;);\n        \n        new_price = old_price*(1+0.2);\n        System.out.println(&quot;The price after our discount is&quot; +new_price);\n        \n        \n        \n        \n    }\n\n}\n\nError occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: C:\\Users\\ceyze\\eclipse-workspace\\SalePriceCalculator\\bin\nCaused by: java.lang.module.InvalidModuleDescriptorException: project.class found in top-level directory (unnamed package not allowed in module)\n</code></pre>\n"},{"tags":["java","android","layout","mobile-development"],"answers":[{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694484388,"creation_date":1694484388,"answer_id":77085692,"question_id":77084256,"body_markdown":"Looks like your bottom constraint for `menu` should be\r\n\r\n```xml\r\napp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n```\r\n\r\ninstead of\r\n\r\n```xml\r\napp:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\r\n```\r\n\r\nAnd the layout width/height of `scheduleViewer` should be 0dp\r\n\r\n```xml\r\nandroid:layout_width=&quot;0dp&quot;\r\nandroid:layout_height=&quot;0dp&quot;\r\n```\r\n\r\n(So they&#39;ll stretch instead of being the entire size of the parent)","title":"How to use ConstraintLayout normally and correctly?","body":"<p>Looks like your bottom constraint for <code>menu</code> should be</p>\n<pre class=\"lang-xml prettyprint-override\"><code>app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n</code></pre>\n<p>instead of</p>\n<pre class=\"lang-xml prettyprint-override\"><code>app:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\n</code></pre>\n<p>And the layout width/height of <code>scheduleViewer</code> should be 0dp</p>\n<pre class=\"lang-xml prettyprint-override\"><code>android:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;0dp&quot;\n</code></pre>\n<p>(So they'll stretch instead of being the entire size of the parent)</p>\n"}],"owner":{"account_id":25408732,"reputation":3,"user_id":19216971,"display_name":"Егорий Зиемелис"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085692,"answer_count":1,"score":0,"last_activity_date":1694484388,"creation_date":1694459730,"question_id":77084256,"body_markdown":"I&#39;ve got some problem with my android layout, and i&#39;ve got tired of trying to solve this. I&#39;ve got TabView, PageViewer and two buttons, but PageViewer covers other interface elements with its container, so pages are shown uncorrectly. How can I put PageViewer between tabs and buttons, so it would fit that without covering any other ui elements. Here&#39;s my code\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/scheduleDaySelector&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/scheduleViewer&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/menu&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/scheduleDaySelector&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/menu&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;1dp&quot;\r\n        android:layout_marginEnd=&quot;1dp&quot;\r\n        android:layout_marginBottom=&quot;1dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/scheduleButton&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;@string/schedule_button&quot;\r\n            app:icon=&quot;@drawable/ic_schedule_button&quot;\r\n            app:iconGravity=&quot;textStart&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.button.MaterialButton\r\n            android:id=&quot;@+id/announcementButton&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;@string/announcement_button&quot;\r\n            app:icon=&quot;@drawable/ic_announcement_button&quot;\r\n            app:iconGravity=&quot;textStart&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nI tried attaching the top and bottom of the PageViewer to the bottom of the TabView and the top of the button leyout, but nothing changed and the problem persisted. I&#39;ve been trying to solve this problem for an hour now, please help. Thanks in advance","title":"How to use ConstraintLayout normally and correctly?","body":"<p>I've got some problem with my android layout, and i've got tired of trying to solve this. I've got TabView, PageViewer and two buttons, but PageViewer covers other interface elements with its container, so pages are shown uncorrectly. How can I put PageViewer between tabs and buttons, so it would fit that without covering any other ui elements. Here's my code</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/scheduleDaySelector&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/scheduleViewer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/menu&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/scheduleDaySelector&quot; /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/menu&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;1dp&quot;\n        android:layout_marginEnd=&quot;1dp&quot;\n        android:layout_marginBottom=&quot;1dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/scheduleViewer&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/scheduleButton&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;@string/schedule_button&quot;\n            app:icon=&quot;@drawable/ic_schedule_button&quot;\n            app:iconGravity=&quot;textStart&quot; /&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=&quot;@+id/announcementButton&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton.Icon&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;@string/announcement_button&quot;\n            app:icon=&quot;@drawable/ic_announcement_button&quot;\n            app:iconGravity=&quot;textStart&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried attaching the top and bottom of the PageViewer to the bottom of the TabView and the top of the button leyout, but nothing changed and the problem persisted. I've been trying to solve this problem for an hour now, please help. Thanks in advance</p>\n"},{"tags":["java","android","webrtc"],"comments":[{"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":1,"creation_date":1557424399,"post_id":56064641,"comment_id":98769973,"body_markdown":"Do you have a progruad rules set up for your release build? If so, please post your proguard rules as well.","body":"Do you have a progruad rules set up for your release build? If so, please post your proguard rules as well."},{"owner":{"account_id":1856725,"reputation":107,"user_id":1682127,"display_name":"Sadman Samee"},"score":0,"creation_date":1557428193,"post_id":56064641,"comment_id":98771680,"body_markdown":"Thanks I have figured it out, it was progurd issue.","body":"Thanks I have figured it out, it was progurd issue."},{"owner":{"account_id":1130134,"reputation":2727,"user_id":1116431,"display_name":"Bruno Leveque"},"score":0,"creation_date":1557428726,"post_id":56064641,"comment_id":98771907,"body_markdown":"@SadmanSamee Please can you also post your solution as an Answer (instead of mixing it with your question) and then accept it as the approved answer? Thank you.","body":"@SadmanSamee Please can you also post your solution as an Answer (instead of mixing it with your question) and then accept it as the approved answer? Thank you."},{"owner":{"account_id":5195749,"reputation":2617,"user_id":4157124,"display_name":"user4157124"},"score":0,"creation_date":1694484265,"post_id":56064641,"comment_id":135893633,"body_markdown":"@SadmanSamee Do not include solution to question please (post a separate answer instead).","body":"@SadmanSamee Do not include solution to question please (post a separate answer instead)."}],"answers":[{"tags":[],"owner":{"account_id":1856725,"reputation":107,"user_id":1682127,"display_name":"Sadman Samee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557687886,"creation_date":1557687886,"answer_id":56102561,"question_id":56064641,"body_markdown":" It was happening due to progurd issue. simply putting\r\n\r\n        release {\r\n            consumerProguardFiles &#39;proguard-project.txt&#39;\r\n        }","title":"Webrtc part crashes only on Release Build works fine on Debug build","body":"<p>It was happening due to progurd issue. simply putting</p>\n\n<pre><code>    release {\n        consumerProguardFiles 'proguard-project.txt'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360496,"reputation":7506,"user_id":2067264,"accept_rate":67,"display_name":"Drunken Daddy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641922001,"creation_date":1641922001,"answer_id":70670967,"question_id":56064641,"body_markdown":"I was having the same problem and the solution was\r\n\r\nAdd file `proguard-rules.pro` to the `app` folder\r\n\r\n    ## WebRTC\r\n    -keep class com.cloudwebrtc.webrtc.** { *; }\r\n    -keep class org.webrtc.** { *; }\r\n\r\nand in build.gradle, add below 2 properties to buildTypes -&gt; release\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }","title":"Webrtc part crashes only on Release Build works fine on Debug build","body":"<p>I was having the same problem and the solution was</p>\n<p>Add file <code>proguard-rules.pro</code> to the <code>app</code> folder</p>\n<pre><code>## WebRTC\n-keep class com.cloudwebrtc.webrtc.** { *; }\n-keep class org.webrtc.** { *; }\n</code></pre>\n<p>and in build.gradle, add below 2 properties to buildTypes -&gt; release</p>\n<pre><code>buildTypes {\n    release {\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1856725,"reputation":107,"user_id":1682127,"display_name":"Sadman Samee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3659,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1694484245,"creation_date":1557422882,"question_id":56064641,"body_markdown":"I am developing a Webrtc video chat application. It works fine on Debug build and doesn&#39;t crash but crashes on Release Build. My Webrtc version is\r\n\r\n&gt;    implementation &#39;org.webrtc:google-webrtc:1.0.27771&#39;\r\n\r\n\r\nWhenever I call this function I get error \r\n   \r\n\r\n&gt;  # Fatal error in:\r\n&gt; ../../../../usr/local/google/home/sakal/code/webrtc-aar-release/src/sdk/android/src/jni/jni_generator_helper.cc,\r\n&gt; line 59\r\n\r\n\r\nAnd this is where it crashes, \r\n```\r\n    public void start() {\r\n\r\n        if (Nammu.checkPermission(CAMERA)) {\r\n\r\n            //NEW\r\n            PeerConnectionFactory.InitializationOptions initializationOptions =\r\n                    PeerConnectionFactory.InitializationOptions.builder(this)\r\n                            //.setEnableVideoHwAcceleration(true)\r\n                            .setEnableInternalTracer(true)\r\n                            //.setFieldTrials(&quot;WebRTC-FlexFEC-03/Enabled/&quot;)\r\n                            .createInitializationOptions();\r\n            PeerConnectionFactory.initialize(initializationOptions);\r\n\r\n           \r\n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\r\n            DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\r\n                    rootEglBase.getEglBaseContext(),  /* enableIntelVp8Encoder */true,  /* enableH264HighProfile */false);\r\n            DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\r\n\r\n            \r\n            //NEW\r\n        peerConnectionFactory = PeerConnectionFactory.builder()\r\n                .setOptions(options)\r\n                .setVideoEncoderFactory(defaultVideoEncoderFactory)\r\n                .setVideoDecoderFactory(defaultVideoDecoderFactory)\r\n                .createPeerConnectionFactory();\r\n\r\n            VideoCapturer videoCapturerAndroid;\r\n            videoCapturerAndroid = createCameraCapturer(new Camera1Enumerator(false));\r\n\r\n           \r\n            audioConstraints = new MediaConstraints();\r\n            videoConstraints = new MediaConstraints();\r\n            sdpConstraints = new MediaConstraints();\r\n\r\n            if (videoCapturerAndroid != null) {\r\n                \r\n                //NEW\r\n            SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, rootEglBase.getEglBaseContext());\r\n            videoSource = peerConnectionFactory.createVideoSource(videoCapturerAndroid.isScreencast());\r\n            videoCapturerAndroid.initialize(surfaceTextureHelper, getApplicationContext(), videoSource.getCapturerObserver());\r\n\r\n            }\r\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\r\n\r\n            //create an AudioSource instance\r\n            audioSource = peerConnectionFactory.createAudioSource(audioConstraints);\r\n\r\n            localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\r\n            localAudioTrack.setEnabled(true);\r\n            localAudioTrack.setVolume(1);\r\n\r\n            if (videoCapturerAndroid != null) {\r\n                videoCapturerAndroid.startCapture(1024, 720, 30);\r\n            }\r\n            \r\n            localVideoTrack.addSink(localVideoView);\r\n\r\n            localVideoView.setMirror(true);\r\n            remoteVideoView.setMirror(true);\r\n\r\n            gotUserMedia = true;\r\n            if (SignallingClient.getInstance().isInitiator) {\r\n                onTryToStart();\r\n            }\r\n        }else {\r\n            Nammu.askForPermission(this, CAMERA, permissionCameraCallback);\r\n        }\r\n    }\r\n```","title":"Webrtc part crashes only on Release Build works fine on Debug build","body":"<p>I am developing a Webrtc video chat application. It works fine on Debug build and doesn't crash but crashes on Release Build. My Webrtc version is</p>\n<blockquote>\n<p>implementation 'org.webrtc:google-webrtc:1.0.27771'</p>\n</blockquote>\n<p>Whenever I call this function I get error</p>\n<blockquote>\n<h1>Fatal error in:</h1>\n<p>../../../../usr/local/google/home/sakal/code/webrtc-aar-release/src/sdk/android/src/jni/jni_generator_helper.cc,\nline 59</p>\n</blockquote>\n<p>And this is where it crashes,</p>\n<pre><code>    public void start() {\n\n        if (Nammu.checkPermission(CAMERA)) {\n\n            //NEW\n            PeerConnectionFactory.InitializationOptions initializationOptions =\n                    PeerConnectionFactory.InitializationOptions.builder(this)\n                            //.setEnableVideoHwAcceleration(true)\n                            .setEnableInternalTracer(true)\n                            //.setFieldTrials(&quot;WebRTC-FlexFEC-03/Enabled/&quot;)\n                            .createInitializationOptions();\n            PeerConnectionFactory.initialize(initializationOptions);\n\n           \n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\n            DefaultVideoEncoderFactory defaultVideoEncoderFactory = new DefaultVideoEncoderFactory(\n                    rootEglBase.getEglBaseContext(),  /* enableIntelVp8Encoder */true,  /* enableH264HighProfile */false);\n            DefaultVideoDecoderFactory defaultVideoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\n\n            \n            //NEW\n        peerConnectionFactory = PeerConnectionFactory.builder()\n                .setOptions(options)\n                .setVideoEncoderFactory(defaultVideoEncoderFactory)\n                .setVideoDecoderFactory(defaultVideoDecoderFactory)\n                .createPeerConnectionFactory();\n\n            VideoCapturer videoCapturerAndroid;\n            videoCapturerAndroid = createCameraCapturer(new Camera1Enumerator(false));\n\n           \n            audioConstraints = new MediaConstraints();\n            videoConstraints = new MediaConstraints();\n            sdpConstraints = new MediaConstraints();\n\n            if (videoCapturerAndroid != null) {\n                \n                //NEW\n            SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, rootEglBase.getEglBaseContext());\n            videoSource = peerConnectionFactory.createVideoSource(videoCapturerAndroid.isScreencast());\n            videoCapturerAndroid.initialize(surfaceTextureHelper, getApplicationContext(), videoSource.getCapturerObserver());\n\n            }\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);\n\n            //create an AudioSource instance\n            audioSource = peerConnectionFactory.createAudioSource(audioConstraints);\n\n            localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);\n            localAudioTrack.setEnabled(true);\n            localAudioTrack.setVolume(1);\n\n            if (videoCapturerAndroid != null) {\n                videoCapturerAndroid.startCapture(1024, 720, 30);\n            }\n            \n            localVideoTrack.addSink(localVideoView);\n\n            localVideoView.setMirror(true);\n            remoteVideoView.setMirror(true);\n\n            gotUserMedia = true;\n            if (SignallingClient.getInstance().isInitiator) {\n                onTryToStart();\n            }\n        }else {\n            Nammu.askForPermission(this, CAMERA, permissionCameraCallback);\n        }\n    }\n</code></pre>\n"},{"tags":["java","object","null"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1424409683,"post_id":28622092,"comment_id":45546223,"body_markdown":"Please show the code of `getMethodDataByFilter`","body":"Please show the code of <code>getMethodDataByFilter</code>"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1424409709,"post_id":28622092,"comment_id":45546235,"body_markdown":"because `m` is not `null` but  `m.getName()` is `null`","body":"because <code>m</code> is not <code>null</code> but  <code>m.getName()</code> is <code>null</code>"},{"owner":{"account_id":3006892,"reputation":3666,"user_id":2551236,"accept_rate":83,"display_name":"Vihar"},"score":0,"creation_date":1424409713,"post_id":28622092,"comment_id":45546236,"body_markdown":"please show the code where it throws Null pointer exception","body":"please show the code where it throws Null pointer exception"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1424411207,"post_id":28622092,"comment_id":45546689,"body_markdown":"post your full code.. and full stack trace your are getting... exception is some where else.","body":"post your full code.. and full stack trace your are getting... exception is some where else."},{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1621275297,"post_id":28622092,"comment_id":119441450,"body_markdown":"I think your service is null. That&#39;s why it throws null pointer","body":"I think your service is null. That&#39;s why it throws null pointer"}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424410090,"creation_date":1424409765,"answer_id":28622134,"question_id":28622092,"body_markdown":"You need to change your code to :\r\n\r\n    if(myObject==null){   // check if object is null\r\n    System.out.println(&quot;myObject is NULL&quot;);\r\n    }\r\n    else{ // myObject should not be null here\r\n    if(myObject.getField1()==null) // check for fields within the object\r\n    {\r\n    System.out.println(&quot;field1 is NULL&quot;);\r\n    }\r\n    if(myObject.getField2()==null)\r\n    {\r\n    System.out.println(&quot;field2 is NULL&quot;);\r\n    }\r\n    ...\r\n    }\r\n\r\nNote if the object is null, then trying to access any *non-static* field / method on it will result in NPE.\r\n","title":"Check if Object has data or not?","body":"<p>You need to change your code to :</p>\n\n<pre><code>if(myObject==null){   // check if object is null\nSystem.out.println(\"myObject is NULL\");\n}\nelse{ // myObject should not be null here\nif(myObject.getField1()==null) // check for fields within the object\n{\nSystem.out.println(\"field1 is NULL\");\n}\nif(myObject.getField2()==null)\n{\nSystem.out.println(\"field2 is NULL\");\n}\n...\n}\n</code></pre>\n\n<p>Note if the object is null, then trying to access any <em>non-static</em> field / method on it will result in NPE.</p>\n"},{"tags":[],"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424409772,"creation_date":1424409772,"answer_id":28622139,"question_id":28622092,"body_markdown":"Try this `if ( m == null || m.getName()== null)`. Note that apart from m its name may also be `null`.","title":"Check if Object has data or not?","body":"<p>Try this <code>if ( m == null || m.getName()== null)</code>. Note that apart from m its name may also be <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424410228,"creation_date":1424409775,"answer_id":28622140,"question_id":28622092,"body_markdown":"    m == null\r\n\r\nwill return false when object `m` is not null but it does not check all its attributes recursively inside object.\r\n\r\n    m.getName()\r\n\r\nseems to be returning null but even this statement will not throw NPE. But yes if you call `m.getName().isEmpty()` will throw NPE. You should better check like this:\r\n\r\n    if (m.getName() == null) //assuming you have already checked for m being null\r\n\r\n","title":"Check if Object has data or not?","body":"<pre><code>m == null\n</code></pre>\n\n<p>will return false when object <code>m</code> is not null but it does not check all its attributes recursively inside object.</p>\n\n<pre><code>m.getName()\n</code></pre>\n\n<p>seems to be returning null but even this statement will not throw NPE. But yes if you call <code>m.getName().isEmpty()</code> will throw NPE. You should better check like this:</p>\n\n<pre><code>if (m.getName() == null) //assuming you have already checked for m being null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424410196,"creation_date":1424410196,"answer_id":28622222,"question_id":28622092,"body_markdown":"Explanation. \r\n\r\n    if(m == null){\r\n      System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nSince inside `if` not enter since `m` is not `null`. But \r\n\r\n    if(m.getName().isEmpty()){\r\n      System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nHere you get `NullPointerException` since `m.getName()` is `null`.\r\n\r\nSo you can try as follows\r\n\r\n     if(m == null){\r\n      System.out.println(&quot;m is null&quot;);\r\n     }else if(m.getName()==null){\r\n      System.out.println(&quot;m.getName() is null&quot;);\r\n     }else if(m.getName().isEmpty()){\r\n      System.out.println(&quot;m.getName() is empty&quot;);\r\n     }\r\n    ","title":"Check if Object has data or not?","body":"<p>Explanation. </p>\n\n<pre><code>if(m == null){\n  System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>Since inside <code>if</code> not enter since <code>m</code> is not <code>null</code>. But </p>\n\n<pre><code>if(m.getName().isEmpty()){\n  System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>Here you get <code>NullPointerException</code> since <code>m.getName()</code> is <code>null</code>.</p>\n\n<p>So you can try as follows</p>\n\n<pre><code> if(m == null){\n  System.out.println(\"m is null\");\n }else if(m.getName()==null){\n  System.out.println(\"m.getName() is null\");\n }else if(m.getName().isEmpty()){\n  System.out.println(\"m.getName() is empty\");\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5733546,"reputation":459,"user_id":4528383,"accept_rate":25,"display_name":"Sandeep Patange"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424412028,"creation_date":1424412028,"answer_id":28622566,"question_id":28622092,"body_markdown":"Check the object is null or not like this:\r\n\r\n    if(m != null &amp;&amp; m.getName != null) {\r\n     // Object m is not null and m.getName is also not null\r\n    } else {\r\n     // Either Object m is null or m.getName is null or both are null\r\n    }","title":"Check if Object has data or not?","body":"<p>Check the object is null or not like this:</p>\n\n<pre><code>if(m != null &amp;&amp; m.getName != null) {\n // Object m is not null and m.getName is also not null\n} else {\n // Either Object m is null or m.getName is null or both are null\n}\n</code></pre>\n"}],"owner":{"account_id":3145399,"reputation":3652,"user_id":2659972,"accept_rate":82,"display_name":"Java Curious ღ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1694480926,"creation_date":1424409540,"question_id":28622092,"body_markdown":"I am calling method to get data as per passed text that will ping into database.\r\n\r\nSo I want to check if there is data arrived in object or not.\r\n\r\nCode :\r\n\r\n    Method m = service.getMethodDataByFilter(text);\r\n\r\nI have tried :\r\n\r\n    if(m == null){\r\n        System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nbut it does not entering inside it.\r\n\r\nI have also tried :\r\n\r\n    if(m.getName().isEmpty()){\r\n        System.out.println(&quot;In NULL&quot;);\r\n    }\r\n\r\nthen it throws `NPE` in condition because no data received.\r\n\r\nSo how to check if there is data inside object or not ?\r\n\r\n\r\nMethod Class :\r\n\r\n    public class Method {\r\n        private Integer id;\r\n        private String name;\r\n        // getter-setter\r\n    }\r\n\r\n**UPDATE**\r\n\r\nHave just try [Ruchira][1]    \r\n\r\n        if(m== null){\r\n            System.out.println(&quot;m is null&quot;);\r\n        }else if(m.getName()==null){\r\n            System.out.println(&quot;m.getName() is null&quot;);\r\n        }else if(m.getName().isEmpty()){\r\n            System.out.println(&quot;m.getName() is empty&quot;);\r\n        }\r\n\r\nStill throws same `NPE`.\r\n\r\n**FULL Method Code :**\r\n\r\n    public MethodDTO getMethod(String text){\r\n    \tMethod m = service.getMethod(text);\r\n    \r\n    \tif(m == null){\r\n    \t\tSystem.out.println(&quot;m is null&quot;);\r\n    \t}else if(m.getName()==null){\r\n    \t\tSystem.out.println(&quot;m.getName() is null&quot;);\r\n    \t}else if(m.getName().isEmpty()){\r\n    \t\tSystem.out.println(&quot;m.getName() is empty&quot;);\r\n    \t}\r\n    \r\n    \tModelMapper mapper = ModelMap.methodMapper();\r\n    \treturn mapper.map(m, MethodDTO.class);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1869846/ruchira-gayan-ranaweera","title":"Check if Object has data or not?","body":"<p>I am calling method to get data as per passed text that will ping into database.</p>\n\n<p>So I want to check if there is data arrived in object or not.</p>\n\n<p>Code :</p>\n\n<pre><code>Method m = service.getMethodDataByFilter(text);\n</code></pre>\n\n<p>I have tried :</p>\n\n<pre><code>if(m == null){\n    System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>but it does not entering inside it.</p>\n\n<p>I have also tried :</p>\n\n<pre><code>if(m.getName().isEmpty()){\n    System.out.println(\"In NULL\");\n}\n</code></pre>\n\n<p>then it throws <code>NPE</code> in condition because no data received.</p>\n\n<p>So how to check if there is data inside object or not ?</p>\n\n<p>Method Class :</p>\n\n<pre><code>public class Method {\n    private Integer id;\n    private String name;\n    // getter-setter\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Have just try <a href=\"https://stackoverflow.com/users/1869846/ruchira-gayan-ranaweera\">Ruchira</a>    </p>\n\n<pre><code>    if(m== null){\n        System.out.println(\"m is null\");\n    }else if(m.getName()==null){\n        System.out.println(\"m.getName() is null\");\n    }else if(m.getName().isEmpty()){\n        System.out.println(\"m.getName() is empty\");\n    }\n</code></pre>\n\n<p>Still throws same <code>NPE</code>.</p>\n\n<p><strong>FULL Method Code :</strong></p>\n\n<pre><code>public MethodDTO getMethod(String text){\n    Method m = service.getMethod(text);\n\n    if(m == null){\n        System.out.println(\"m is null\");\n    }else if(m.getName()==null){\n        System.out.println(\"m.getName() is null\");\n    }else if(m.getName().isEmpty()){\n        System.out.println(\"m.getName() is empty\");\n    }\n\n    ModelMapper mapper = ModelMap.methodMapper();\n    return mapper.map(m, MethodDTO.class);\n}\n</code></pre>\n"},{"tags":["java","cookies"],"answers":[{"tags":[],"owner":{"account_id":4791546,"reputation":27,"user_id":3870599,"display_name":"Prozak123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410295602,"creation_date":1410295602,"answer_id":25753301,"question_id":25753217,"body_markdown":"Part of My servlet, how i set cookie.\r\n\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \tPrintWriter out = response.getWriter();\r\n    \tString ksywa = request.getParameter(&quot;ksywa&quot;);\r\n    \tout.print(&quot;Twoje nazwisko to &quot; + ksywa);\r\n    \tCookie cookie = new Cookie(&quot;pseudonim&quot;, ksywa);\r\n    \tcookie.setMaxAge(60*60);\r\n    \tresponse.addCookie(cookie);\r\n    }","title":"How to set Cookies in Java?","body":"<p>Part of My servlet, how i set cookie.</p>\n\n<pre><code>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    PrintWriter out = response.getWriter();\n    String ksywa = request.getParameter(\"ksywa\");\n    out.print(\"Twoje nazwisko to \" + ksywa);\n    Cookie cookie = new Cookie(\"pseudonim\", ksywa);\n    cookie.setMaxAge(60*60);\n    response.addCookie(cookie);\n}\n</code></pre>\n"}],"owner":{"account_id":3969683,"reputation":21,"user_id":3274585,"accept_rate":0,"display_name":"user3274585"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694480926,"creation_date":1410295175,"question_id":25753217,"body_markdown":"I am writing a program to login to my University web site as a part of my project. The problem I have is how to set Cookies and let my browser enable these cookies, my code is below and gives me NullPoiterException, what I did wrong can someone help me:\r\n\r\n        for (String cookie : this.cookies) {\r\n            conn.addRequestProperty(&quot;Cookie&quot;, cookie.split(&quot;;&quot;, 1)[0]);\r\n        }","title":"How to set Cookies in Java?","body":"<p>I am writing a program to login to my University web site as a part of my project. The problem I have is how to set Cookies and let my browser enable these cookies, my code is below and gives me NullPoiterException, what I did wrong can someone help me:</p>\n\n<pre><code>    for (String cookie : this.cookies) {\n        conn.addRequestProperty(\"Cookie\", cookie.split(\";\", 1)[0]);\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","androidx","dagger"],"answers":[{"tags":[],"owner":{"account_id":17832790,"reputation":33,"user_id":12952421,"display_name":"Kariem Seiam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1694480883,"creation_date":1694480883,"answer_id":77085541,"question_id":77069333,"body_markdown":"To fix the &quot;Class has no zero argument constructor&quot; error in your Android project, here&#39;s a simplified and recommended solution :\r\n\r\n1. Create a custom ViewModel Factory for `HomeViewModel` that can handle dependency injection.\r\n\r\n```kotlin\r\nclass HomeViewModelFactory @Inject constructor(\r\n    // Inject your dependencies here\r\n) : ViewModelProvider.Factory {\r\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\r\n        if (modelClass.isAssignableFrom(HomeViewModel::class.java)) {\r\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n            return HomeViewModel(\r\n                // Pass the injected dependencies here\r\n            ) as T\r\n        }\r\n        throw IllegalArgumentException(&quot;Unknown ViewModel class&quot;)\r\n    }\r\n}\r\n```\r\n\r\n2. Ensure you have a Dagger module set up to provide the dependencies required by `HomeViewModel` and `HomeViewModelFactory`.\r\n\r\n```kotlin\r\n@Module\r\nclass AppModule {\r\n    // Provide your dependencies here\r\n}\r\n```\r\n\r\n3. Update your `HomescreenFragment` to use the ViewModel with the custom factory for proper dependency injection.\r\n\r\n```kotlin\r\nclass HomescreenFragment : BaseMvRxFragment() {\r\n\r\n    @Inject\r\n    lateinit var viewModelFactory: HomeViewModelFactory\r\n\r\n    private val parentViewModel: HomeViewModel by viewModels { viewModelFactory }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nBy following these steps, your app should no longer crash, and you&#39;ll be able to use `parentViewModel` with its dependencies correctly injected. Ensure that your Dagger setup is providing the dependencies as required.","title":"Crash when the screen needs to be recreated, possible problem with dependency injection (Class has no zero argument constructor)","body":"<p>To fix the &quot;Class has no zero argument constructor&quot; error in your Android project, here's a simplified and recommended solution :</p>\n<ol>\n<li>Create a custom ViewModel Factory for <code>HomeViewModel</code> that can handle dependency injection.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class HomeViewModelFactory @Inject constructor(\n    // Inject your dependencies here\n) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n        if (modelClass.isAssignableFrom(HomeViewModel::class.java)) {\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\n            return HomeViewModel(\n                // Pass the injected dependencies here\n            ) as T\n        }\n        throw IllegalArgumentException(&quot;Unknown ViewModel class&quot;)\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Ensure you have a Dagger module set up to provide the dependencies required by <code>HomeViewModel</code> and <code>HomeViewModelFactory</code>.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Module\nclass AppModule {\n    // Provide your dependencies here\n}\n</code></pre>\n<ol start=\"3\">\n<li>Update your <code>HomescreenFragment</code> to use the ViewModel with the custom factory for proper dependency injection.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class HomescreenFragment : BaseMvRxFragment() {\n\n    @Inject\n    lateinit var viewModelFactory: HomeViewModelFactory\n\n    private val parentViewModel: HomeViewModel by viewModels { viewModelFactory }\n\n    // ...\n}\n</code></pre>\n<p>By following these steps, your app should no longer crash, and you'll be able to use <code>parentViewModel</code> with its dependencies correctly injected. Ensure that your Dagger setup is providing the dependencies as required.</p>\n"}],"owner":{"account_id":3982148,"reputation":389,"user_id":3283808,"display_name":"Elano Vasconcelos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694480883,"creation_date":1694200065,"question_id":77069333,"body_markdown":"I&#39;m working on an old Android project. I know a little about Android, but my focus is iOS. So maybe I&#39;m missing something simple here.\r\n\r\nProblem:\r\nThe Home screen is working, but when it needs to be recreated the app crashes. Today I&#39;m triggering it going on settings and changing the location permission.\r\n\r\n**Error**:\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.x.activities, PID: 16127\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.x.activities/com.x.ui.home.HomeActivity}: android.view.InflateException: Binary XML file line #23 in com.xxx.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\r\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\r\n                                                                                                    Caused by: java.lang.RuntimeException: Cannot create an instance of class com.x.ui.home.HomeViewModel\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:204)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:322)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278)\r\n                                                                                                    \tat androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\r\n                                                                                                    \tat com.x.ui.homescreen.HomescreenFragment.getParentViewModel(HomescreenFragment.kt:47)\r\n                                                                                                    \tat com.x.ui.homescreen.HomescreenFragment.observeParentViewModel(HomescreenFragment.kt:130)\r\n                                                                                                    \tat com.x.ui.homescreen.HomescreenFragment.onViewCreated(HomescreenFragment.kt:96)\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\r\n                                                                                                    \tat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\r\n2023-09-08 14:54:08.143 16127-16127 AndroidRuntime          com.x.activities              E  \tat androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\r\n                                                                                                    \tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:394)\r\n                                                                                                    \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:260)\r\n                                                                                                    \tat androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:142)\r\n                                                                                                    \tat androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:136)\r\n                                                                                                    \tat androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:248)\r\n                                                                                                    \tat androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:227)\r\n                                                                                                    \tat android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1081)\r\n                                                                                                    \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1009)\r\n                                                                                                    \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:973)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1135)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:1138)\r\n                                                                                                    \tat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\r\n                                                                                                    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:694)\r\n                                                                                                    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:538)\r\n                                                                                                    \tat android.view.LayoutInflater.inflate(LayoutInflater.java:485)\r\n                                                                                                    \tat androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\r\n                                                                                                    \tat androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n                                                                                                    \tat com.x.ui.home.HomeActivity.onCreate(HomeActivity.kt:133)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8595)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8573)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                    Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.x.ui.home.HomeViewModel&gt; has no zero argument constructor\r\n                                                                                                    \tat java.lang.Class.newInstance(Native Method)\r\n                                                                                                    \tat androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:202)\r\n                                                                                                    \t... 61 more\r\n```\r\n\r\n**HomescreenFragment**\r\n\r\n```\r\nclass HomescreenFragment : BaseMvRxFragment() {\r\n\r\nprivate val parentViewModel by homeViewModel() //line 47\r\n\r\n  @Inject\r\n  internal lateinit var viewModelFactory: HomescreenViewModel.Factory\r\n  private val viewModel: HomescreenViewModel by fragmentViewModel()\r\n\r\n  private val homescreenActionsController by lazy { HomescreenActionsController(requireActivity()) }\r\n\r\n  override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n//...\r\n        observeParentViewModel() //line 96\r\n//...\r\n  }\r\n\r\n  private fun observeParentViewModel() =\r\n        parentViewModel.permissionRequestResult.observeEvent(viewLifecycleOwner) { //line 130\r\n            homescreenActionsController.onPermissionResult(it)\r\n  }\r\n//...\r\n}\r\n```\r\n\r\n**HomeActivity**\r\n\r\n```\r\nclass HomeActivity : AppCompatActivity(), HomeCallbacks, UsingLocation {\r\n\r\n  @Inject\r\n  lateinit var viewModelFactory: ViewModelProvider.Factory\r\n\r\n  override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        NetComponent.instance.inject(this)\r\n        initDagger()\r\n        setContentView(R.layout.activity_homescreen) //line 133\r\n///...\r\n  }\r\n///...\r\n}\r\n```\r\n\r\n**HomeViewModel**\r\n\r\n```\r\nclass HomeViewModel @Inject constructor(\r\n    private val userInbox: UserInbox,\r\n    private val prefUserInfo: PrefUserInfo,\r\n    private val prefAppInfo: PrefAppInfo,\r\n    private val prefOrgInfo: PrefOrgInfo,\r\n    private val realmController: RealmController,\r\n    private val api: Api,\r\n    private val loginState: LoginState,\r\n    private val application: LiveSafeApplication,\r\n    private val initializers: AppInitializer\r\n) : ViewModel(), PushJsonConsumer {\r\n\r\n  init {\r\n        NetComponent.instance.inject(this)\r\n        ///...\r\n  }\r\n\r\n  companion object {\r\n        fun Fragment.homeViewModel() = activityViewModels&lt;HomeViewModel&gt;()\r\n  }\r\n}\r\n```\r\n\r\n**activity_homescreen.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/homescreen_wrapper&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:navGraph=&quot;@navigation/nav_main&quot; /&gt; //line 23\r\n    &lt;/FrameLayout&gt;\r\n\r\n///...\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nOne suggestion that I found was to replace:\r\n\r\n`private val parentViewModel by homeViewModel()`\r\n\r\nwith\r\n\r\n```\r\n@Inject\r\nlateinit var viewModelFactory2: ViewModelProvider.Factory\r\n\r\nprivate val parentViewModel: HomeViewModel by viewModels { viewModelFactory2 }\r\n```\r\n\r\nif I do that the app won&#39;t crash anymore, but the code in the function observeParentViewModel isn&#39;t called, so I think I&#39;m getting a different instance.\r\n\r\n`parentViewModel` is only called in `observeParentViewModel` function, so I could use a different strategy if I still could call homescreenActionsController.onPermissionResult\r\n\r\nOther suggestion was to create a custom factory to be able to have a `HomeViewModel` with no arguments, but I didn&#39;t understand how I&#39;m going to pass the arguments to be able to create a `HomeViewModel`\r\n\r\nThe project isn&#39;t using Hilt, only Dagger.","title":"Crash when the screen needs to be recreated, possible problem with dependency injection (Class has no zero argument constructor)","body":"<p>I'm working on an old Android project. I know a little about Android, but my focus is iOS. So maybe I'm missing something simple here.</p>\n<p>Problem:\nThe Home screen is working, but when it needs to be recreated the app crashes. Today I'm triggering it going on settings and changing the location permission.</p>\n<p><strong>Error</strong>:</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.x.activities, PID: 16127\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.x.activities/com.x.ui.home.HomeActivity}: android.view.InflateException: Binary XML file line #23 in com.xxx.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8177)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\n                                                                                                    Caused by: android.view.InflateException: Binary XML file line #23 in com.x.activities:layout/activity_homescreen: Error inflating class fragment\n                                                                                                    Caused by: java.lang.RuntimeException: Cannot create an instance of class com.x.ui.home.HomeViewModel\n                                                                                                        at androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:204)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:322)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:304)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.kt:278)\n                                                                                                        at androidx.lifecycle.SavedStateViewModelFactory.create(SavedStateViewModelFactory.kt:128)\n                                                                                                        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\n                                                                                                        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\n                                                                                                        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\n                                                                                                        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\n                                                                                                        at com.x.ui.homescreen.HomescreenFragment.getParentViewModel(HomescreenFragment.kt:47)\n                                                                                                        at com.x.ui.homescreen.HomescreenFragment.observeParentViewModel(HomescreenFragment.kt:130)\n                                                                                                        at com.x.ui.homescreen.HomescreenFragment.onViewCreated(HomescreenFragment.kt:96)\n                                                                                                        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n                                                                                                        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\n                                                                                                        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\n                                                                                                        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\n                                                                                                        at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\n                                                                                                        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n                                                                                                        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\n                                                                                                        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1433)\n                                                                                                        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2977)\n2023-09-08 14:54:08.143 16127-16127 AndroidRuntime          com.x.activities              E     at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2888)\n                                                                                                        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3129)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:394)\n                                                                                                        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:260)\n                                                                                                        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:142)\n                                                                                                        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:136)\n                                                                                                        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:248)\n                                                                                                        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:227)\n                                                                                                        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1081)\n                                                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1009)\n                                                                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:973)\n                                                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1135)\n                                                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\n                                                                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1138)\n                                                                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1096)\n                                                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:694)\n                                                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\n                                                                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:485)\n                                                                                                        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\n                                                                                                        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n                                                                                                        at com.x.ui.home.HomeActivity.onCreate(HomeActivity.kt:133)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8595)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8573)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8177)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n                                                                                                    Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.x.ui.home.HomeViewModel&gt; has no zero argument constructor\n                                                                                                        at java.lang.Class.newInstance(Native Method)\n                                                                                                        at androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:202)\n                                                                                                        ... 61 more\n</code></pre>\n<p><strong>HomescreenFragment</strong></p>\n<pre><code>class HomescreenFragment : BaseMvRxFragment() {\n\nprivate val parentViewModel by homeViewModel() //line 47\n\n  @Inject\n  internal lateinit var viewModelFactory: HomescreenViewModel.Factory\n  private val viewModel: HomescreenViewModel by fragmentViewModel()\n\n  private val homescreenActionsController by lazy { HomescreenActionsController(requireActivity()) }\n\n  override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n//...\n        observeParentViewModel() //line 96\n//...\n  }\n\n  private fun observeParentViewModel() =\n        parentViewModel.permissionRequestResult.observeEvent(viewLifecycleOwner) { //line 130\n            homescreenActionsController.onPermissionResult(it)\n  }\n//...\n}\n</code></pre>\n<p><strong>HomeActivity</strong></p>\n<pre><code>class HomeActivity : AppCompatActivity(), HomeCallbacks, UsingLocation {\n\n  @Inject\n  lateinit var viewModelFactory: ViewModelProvider.Factory\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        NetComponent.instance.inject(this)\n        initDagger()\n        setContentView(R.layout.activity_homescreen) //line 133\n///...\n  }\n///...\n}\n</code></pre>\n<p><strong>HomeViewModel</strong></p>\n<pre><code>class HomeViewModel @Inject constructor(\n    private val userInbox: UserInbox,\n    private val prefUserInfo: PrefUserInfo,\n    private val prefAppInfo: PrefAppInfo,\n    private val prefOrgInfo: PrefOrgInfo,\n    private val realmController: RealmController,\n    private val api: Api,\n    private val loginState: LoginState,\n    private val application: LiveSafeApplication,\n    private val initializers: AppInitializer\n) : ViewModel(), PushJsonConsumer {\n\n  init {\n        NetComponent.instance.inject(this)\n        ///...\n  }\n\n  companion object {\n        fun Fragment.homeViewModel() = activityViewModels&lt;HomeViewModel&gt;()\n  }\n}\n</code></pre>\n<p><strong>activity_homescreen.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/homescreen_wrapper&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;fragment\n            android:id=&quot;@+id/nav_host_fragment&quot;\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:defaultNavHost=&quot;true&quot;\n            app:navGraph=&quot;@navigation/nav_main&quot; /&gt; //line 23\n    &lt;/FrameLayout&gt;\n\n///...\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>One suggestion that I found was to replace:</p>\n<p><code>private val parentViewModel by homeViewModel()</code></p>\n<p>with</p>\n<pre><code>@Inject\nlateinit var viewModelFactory2: ViewModelProvider.Factory\n\nprivate val parentViewModel: HomeViewModel by viewModels { viewModelFactory2 }\n</code></pre>\n<p>if I do that the app won't crash anymore, but the code in the function observeParentViewModel isn't called, so I think I'm getting a different instance.</p>\n<p><code>parentViewModel</code> is only called in <code>observeParentViewModel</code> function, so I could use a different strategy if I still could call homescreenActionsController.onPermissionResult</p>\n<p>Other suggestion was to create a custom factory to be able to have a <code>HomeViewModel</code> with no arguments, but I didn't understand how I'm going to pass the arguments to be able to create a <code>HomeViewModel</code></p>\n<p>The project isn't using Hilt, only Dagger.</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694442688,"post_id":77082505,"comment_id":135887963,"body_markdown":"Have a duplicate `Set` of all the numbers. Upon each hit of square or square root, remove those numbers from that global set.  After the outer loop is over, the remaining numbers are not hit by anything - that&#39;s your 2nd output.","body":"Have a duplicate <code>Set</code> of all the numbers. Upon each hit of square or square root, remove those numbers from that global set.  After the outer loop is over, the remaining numbers are not hit by anything - that&#39;s your 2nd output."}],"answers":[{"tags":[],"owner":{"account_id":21004357,"reputation":13,"user_id":15434502,"display_name":"Aditya Shastri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694444387,"creation_date":1694444257,"answer_id":77082746,"question_id":77082505,"body_markdown":"So I found the solution with below code, I created One ArrayList to store the Element has squareroot and square relation and then compare it with Existing Array.\r\n\r\nbelow is the code snippet \r\n```\r\npublic class Demo {\r\n\r\n\r\n    public static void main(String[] args){\r\n\r\n        int [] sample = {9, 4 ,3 ,2, 6 , 1};\r\n        ArrayList&lt;Integer&gt; newarr = new ArrayList&lt;&gt;();\r\n\r\n\r\n        for (int i =0 ;i &lt;sample.length ; i++){\r\n\r\n            int square = sample [i] * sample[i];\r\n\r\n            for ( int j= 0; j&lt; sample.length ; j ++){\r\n\r\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\r\n\r\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\r\n\r\n                    newarr.add(sample[i]);\r\n                    newarr.add(square);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        System.out.println(&quot;Unpaired : &quot;);\r\n        for (int i =0 ;i &lt;sample.length ; i++) {\r\n            if (!newarr.contains(sample[i])) {\r\n\r\n                System.out.print(sample[i] + &quot; , &quot;);\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n```","title":"Java Programing | How can we print below output from given input","body":"<p>So I found the solution with below code, I created One ArrayList to store the Element has squareroot and square relation and then compare it with Existing Array.</p>\n<p>below is the code snippet</p>\n<pre><code>public class Demo {\n\n\n    public static void main(String[] args){\n\n        int [] sample = {9, 4 ,3 ,2, 6 , 1};\n        ArrayList&lt;Integer&gt; newarr = new ArrayList&lt;&gt;();\n\n\n        for (int i =0 ;i &lt;sample.length ; i++){\n\n            int square = sample [i] * sample[i];\n\n            for ( int j= 0; j&lt; sample.length ; j ++){\n\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\n\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\n\n                    newarr.add(sample[i]);\n                    newarr.add(square);\n                }\n\n            }\n\n        }\n\n        System.out.println(&quot;Unpaired : &quot;);\n        for (int i =0 ;i &lt;sample.length ; i++) {\n            if (!newarr.contains(sample[i])) {\n\n                System.out.print(sample[i] + &quot; , &quot;);\n            }\n\n        }\n\n\n\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694480496,"creation_date":1694478301,"answer_id":77085446,"question_id":77082505,"body_markdown":"For the _inner-loop_, skip _j_ when it&#39;s _i_.\r\n\r\n```java\r\nfor ( int j= 0; j&lt; sample.length ; j ++){\r\n    if (i == j) continue;\r\n```\r\n\r\nAnd, check for _mathsq_ instead of _sample [i]_.\r\n\r\n```java\r\nif (sample[j] == square || sample[j] == mathsq)\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n9==&gt; 3\r\n4==&gt; 2\r\n3==&gt; 9\r\n2==&gt; 4\r\n```\r\n\r\nIf you additionally want to print the unpaired numbers, use a _boolean_.\r\n\r\nHere is a re-factor.\r\n\r\n```java\r\nint [] sample = {9, 4 ,3 ,2, 6 , 1};\r\nboolean x;\r\nfor (int i =0 ;i &lt;sample.length ; i++){\r\n\r\n    int square = sample [i] * sample[i];\r\n    double mathsq = Math.sqrt(sample[i]);\r\n    x = false;\r\n    for ( int j= 0; j&lt; sample.length ; j ++){\r\n        if (i == j) continue;\r\n\r\n        if (sample[j] == square || sample[j] == mathsq) {\r\n            System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\r\n            x = true;\r\n        }\r\n\r\n    }\r\n    if (!x) System.out.println(sample[i] + &quot; unpaired&quot;);\r\n\r\n}\r\n```","title":"Java Programing | How can we print below output from given input","body":"<p>For the <em>inner-loop</em>, skip <em>j</em> when it's <em>i</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( int j= 0; j&lt; sample.length ; j ++){\n    if (i == j) continue;\n</code></pre>\n<p>And, check for <em>mathsq</em> instead of <em>sample [i]</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (sample[j] == square || sample[j] == mathsq)\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>9==&gt; 3\n4==&gt; 2\n3==&gt; 9\n2==&gt; 4\n</code></pre>\n<p>If you additionally want to print the unpaired numbers, use a <em>boolean</em>.</p>\n<p>Here is a re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int [] sample = {9, 4 ,3 ,2, 6 , 1};\nboolean x;\nfor (int i =0 ;i &lt;sample.length ; i++){\n\n    int square = sample [i] * sample[i];\n    double mathsq = Math.sqrt(sample[i]);\n    x = false;\n    for ( int j= 0; j&lt; sample.length ; j ++){\n        if (i == j) continue;\n\n        if (sample[j] == square || sample[j] == mathsq) {\n            System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\n            x = true;\n        }\n\n    }\n    if (!x) System.out.println(sample[i] + &quot; unpaired&quot;);\n\n}\n</code></pre>\n"}],"owner":{"account_id":21004357,"reputation":13,"user_id":15434502,"display_name":"Aditya Shastri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1694480496,"creation_date":1694442390,"question_id":77082505,"body_markdown":"```\r\nInput = \r\nArray [] a = {1,2,3,6,9,4};\r\n\r\noutput: \r\nOutput 1  : need to print pair of number with square and squareroot\r\ne.g. 2 , 4\r\n     3 , 9\r\n\r\nOutput 2 : unpaired number : 1 and 6 for which we dont have any square root pair.\r\n```\r\n\r\n\r\nI am wirting below code to get output for the first part :\r\n```\r\nint [] sample = {9, 4 ,3 ,2, 6 , 1};\r\n\r\n        for (int i =0 ;i &lt;sample.length ; i++){\r\n\r\n            int square = sample [i] * sample[i];\r\n            double mathsq = Math.sqrt(sample[i]);\r\n\r\n            for ( int j= 0; j&lt; sample.length ; j ++){\r\n\r\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\r\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\r\n\r\n                }\r\n                \r\n            }\r\n\r\n\r\n        }\r\n```\r\n\r\nunable to find login for second scenario..","title":"Java Programing | How can we print below output from given input","body":"<pre><code>Input = \nArray [] a = {1,2,3,6,9,4};\n\noutput: \nOutput 1  : need to print pair of number with square and squareroot\ne.g. 2 , 4\n     3 , 9\n\nOutput 2 : unpaired number : 1 and 6 for which we dont have any square root pair.\n</code></pre>\n<p>I am wirting below code to get output for the first part :</p>\n<pre><code>int [] sample = {9, 4 ,3 ,2, 6 , 1};\n\n        for (int i =0 ;i &lt;sample.length ; i++){\n\n            int square = sample [i] * sample[i];\n            double mathsq = Math.sqrt(sample[i]);\n\n            for ( int j= 0; j&lt; sample.length ; j ++){\n\n                if (sample[j] == square &amp;&amp; sample[j] != sample [i]) {\n                    System.out.println(sample[i] + &quot;==&gt; &quot; + sample[j]);\n\n                }\n                \n            }\n\n\n        }\n</code></pre>\n<p>unable to find login for second scenario..</p>\n"},{"tags":["java","multithreading","locking","mutex"],"comments":[{"owner":{"account_id":29412978,"reputation":3,"user_id":22536431,"display_name":"rawPancakes"},"score":0,"creation_date":1694476660,"post_id":77085128,"comment_id":135893117,"body_markdown":"@SolomonSlow I tried a lot of things (listed above) would it be more useful to give code snippets of each attempt? Ie I have put variations of `synchronized(lock)` in many places but none changed outcome","body":"@SolomonSlow I tried a lot of things (listed above) would it be more useful to give code snippets of each attempt? Ie I have put variations of <code>synchronized(lock)</code> in many places but none changed outcome"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1694477272,"post_id":77085128,"comment_id":135893173,"body_markdown":"Deleted my previous comments.","body":"Deleted my previous comments."}],"answers":[{"tags":[],"owner":{"account_id":29418215,"reputation":53,"user_id":22540550,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694474345,"creation_date":1694474345,"answer_id":77085255,"question_id":77085128,"body_markdown":"As posted, the `lockingObject` is an instance variable of `ByteIterator`, so of course every thread has its own copy and no two threads share the same lock.\r\n\r\nUse `synchronized static` which has a lock object per-class instead of per-instance:\r\n\r\n```java\r\npublic synchronized static Byte[] getByte() {\r\n    // ...\r\n}\r\n```","title":"How to mutex on a static function (in Java)?","body":"<p>As posted, the <code>lockingObject</code> is an instance variable of <code>ByteIterator</code>, so of course every thread has its own copy and no two threads share the same lock.</p>\n<p>Use <code>synchronized static</code> which has a lock object per-class instead of per-instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public synchronized static Byte[] getByte() {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694480147,"creation_date":1694480147,"answer_id":77085515,"question_id":77085128,"body_markdown":"You&#39;re making all sorts of mistakes. No single fix makes it work because you have multiple errors; you need to fix _all of them_.\r\n\r\n## Locking on public things\r\n\r\nDon&#39;t do that. Locks are incredibly hard to reason about as is, if you make the lock object &#39;public&#39;, as in, tons of code all over the system might hold a ref to that object, you&#39;re making it from &#39;difficult&#39; to &#39;utterly impossible&#39;. Locking on a string is therefore __a capital mistake__, do not, ever, do that.\r\n\r\nMake your own lock objects. And make sure they are private. And make sure that everything that needs to lock on it, locks on _the same object_. In some iterations of this question (you&#39;ve been editing it), you had a non-static field, meaning each `lockingObject` field in every instance of `ByteIterator` was pointing at a different object. `synchronized(x)` does __nothing__ except interact with other `synchronized(z)` statements, where `z` and `x` are pointing at the same object (`z == x` would be true).\r\n\r\n## Locks aren&#39;t applied consistently\r\n\r\nYour first call in ByteIterator&#39;s run is `getByte()`, which isn&#39;t in any synchronized block. Only the while loop that follows does this.\r\n\r\n## Locks are applied in the wrong place\r\n\r\nClearly the locking behaviour should occur in `getByte()`. Not in your ByteIterator run() method.\r\n\r\n## Primitive v reference types\r\n\r\n`Byte` is the wrapper type. You don&#39;t want that unless you really, really know what you are doing. You write `byte[]`. No, `Byte` and `byte` are not synonyms. `Byte` bad, `byte` good (later on in your java career you might learn when `Byte` is actually desired. It isn&#39;t, here).\r\n\r\n## Reference confusion\r\n\r\nCount the amount of `new` that will be executed in your code. That many objects exist. __And not a single one more__.\r\n\r\nSo let&#39;s go counting. You make a bunch of new ByteIterator objects, (1 per `threadCount`), as well as threads, but that&#39;s not what we are interested in. We&#39;re interested in `Byte[]` objects.\r\n\r\nYour JobQueue class has a static `initJobQueue` method. This method is invoked __only once__. This method executes some form of `new Byte[]` __only once__.\r\n\r\nEnd of count.\r\n\r\nThat means __there is only 1 Byte array FOR YOUR ENTIRE APPLICATION__.\r\n\r\nAll threads are sharing that byte array. Every write you make? It&#39;s all going to the same memory position. Every thread is jus writing all over each others business and the end result is a coinflippy mess (in the sense that every run will get you likely different results, the way threads interact is usually highly irregular, i.e. not repeatable).\r\n\r\n## Lets fix all 5 errors then\r\n\r\nGet every attempt to lock in any form out of your main class and `ByteIterator`.\r\n\r\nThen:\r\n\r\n```\r\npublic class JobQueue {\r\n    private static volatile byte[] nextByte; \r\n    private static final byte realMin = 0; // fixed values for debuging\r\n    private static final byte realMax = (byte) 89; \r\n    private static final Object lock = new Object(); // private!\r\n\r\n    public static void initJobQueue() {\r\n        nextByte = new Byte[ByteIterator.fleet.length];\r\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\r\n    }\r\n\r\n    public static Byte[] getByte() {\r\n      synchronized (lock) {\r\n        if(nextByte==null || checkEndVal(nextByte)) return null;\r\n\r\n//         Byte[] currentByte = nextByte; -- THIS DOES NOT MAKE A COPY --\r\n        byte[] currentByte = Arrays.copyOf(nextByte);\r\n    \r\n        // iterate the value\r\n        for (int i = 0; i &lt; nextByte.length; i++) {\r\n            if (currentByte[i]==realMax) {\r\n                currentByte[i]=realMin;\r\n            } else { \r\n                currentByte[i]++;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(checkEndVal(currentByte)) nextByte=null;\r\n        nextByte = currentByte;\r\n        return currentByte;\r\n    }\r\n```\r\n\r\nThe crucial clue is `Arrays.copyOf`. As per the javadoc, that __makes a new array__. The first call to `getByte()` will dutifully run synchronized (one-at-a-time) and returns a byte array back to its caller. Your code will then, while the first thread is still working on its byte array, call `getByte()` again which would write all over that one single byte array, causing a mess. This code does not do that - instead it makes a clone (`Arrays.copyOf` runs `new byte[]` somewhere inside it, so, that&#39;s +1), and then modifies that clone, and then returns that clone.\r\n\r\nEvery byte array that is returned by `getByte()` is __never modified__ by anything except, possibly, the code you gave it to.\r\n","title":"How to mutex on a static function (in Java)?","body":"<p>You're making all sorts of mistakes. No single fix makes it work because you have multiple errors; you need to fix <em>all of them</em>.</p>\n<h2>Locking on public things</h2>\n<p>Don't do that. Locks are incredibly hard to reason about as is, if you make the lock object 'public', as in, tons of code all over the system might hold a ref to that object, you're making it from 'difficult' to 'utterly impossible'. Locking on a string is therefore <strong>a capital mistake</strong>, do not, ever, do that.</p>\n<p>Make your own lock objects. And make sure they are private. And make sure that everything that needs to lock on it, locks on <em>the same object</em>. In some iterations of this question (you've been editing it), you had a non-static field, meaning each <code>lockingObject</code> field in every instance of <code>ByteIterator</code> was pointing at a different object. <code>synchronized(x)</code> does <strong>nothing</strong> except interact with other <code>synchronized(z)</code> statements, where <code>z</code> and <code>x</code> are pointing at the same object (<code>z == x</code> would be true).</p>\n<h2>Locks aren't applied consistently</h2>\n<p>Your first call in ByteIterator's run is <code>getByte()</code>, which isn't in any synchronized block. Only the while loop that follows does this.</p>\n<h2>Locks are applied in the wrong place</h2>\n<p>Clearly the locking behaviour should occur in <code>getByte()</code>. Not in your ByteIterator run() method.</p>\n<h2>Primitive v reference types</h2>\n<p><code>Byte</code> is the wrapper type. You don't want that unless you really, really know what you are doing. You write <code>byte[]</code>. No, <code>Byte</code> and <code>byte</code> are not synonyms. <code>Byte</code> bad, <code>byte</code> good (later on in your java career you might learn when <code>Byte</code> is actually desired. It isn't, here).</p>\n<h2>Reference confusion</h2>\n<p>Count the amount of <code>new</code> that will be executed in your code. That many objects exist. <strong>And not a single one more</strong>.</p>\n<p>So let's go counting. You make a bunch of new ByteIterator objects, (1 per <code>threadCount</code>), as well as threads, but that's not what we are interested in. We're interested in <code>Byte[]</code> objects.</p>\n<p>Your JobQueue class has a static <code>initJobQueue</code> method. This method is invoked <strong>only once</strong>. This method executes some form of <code>new Byte[]</code> <strong>only once</strong>.</p>\n<p>End of count.</p>\n<p>That means <strong>there is only 1 Byte array FOR YOUR ENTIRE APPLICATION</strong>.</p>\n<p>All threads are sharing that byte array. Every write you make? It's all going to the same memory position. Every thread is jus writing all over each others business and the end result is a coinflippy mess (in the sense that every run will get you likely different results, the way threads interact is usually highly irregular, i.e. not repeatable).</p>\n<h2>Lets fix all 5 errors then</h2>\n<p>Get every attempt to lock in any form out of your main class and <code>ByteIterator</code>.</p>\n<p>Then:</p>\n<pre><code>public class JobQueue {\n    private static volatile byte[] nextByte; \n    private static final byte realMin = 0; // fixed values for debuging\n    private static final byte realMax = (byte) 89; \n    private static final Object lock = new Object(); // private!\n\n    public static void initJobQueue() {\n        nextByte = new Byte[ByteIterator.fleet.length];\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\n    }\n\n    public static Byte[] getByte() {\n      synchronized (lock) {\n        if(nextByte==null || checkEndVal(nextByte)) return null;\n\n//         Byte[] currentByte = nextByte; -- THIS DOES NOT MAKE A COPY --\n        byte[] currentByte = Arrays.copyOf(nextByte);\n    \n        // iterate the value\n        for (int i = 0; i &lt; nextByte.length; i++) {\n            if (currentByte[i]==realMax) {\n                currentByte[i]=realMin;\n            } else { \n                currentByte[i]++;\n                break;\n            }\n        }\n\n        if(checkEndVal(currentByte)) nextByte=null;\n        nextByte = currentByte;\n        return currentByte;\n    }\n</code></pre>\n<p>The crucial clue is <code>Arrays.copyOf</code>. As per the javadoc, that <strong>makes a new array</strong>. The first call to <code>getByte()</code> will dutifully run synchronized (one-at-a-time) and returns a byte array back to its caller. Your code will then, while the first thread is still working on its byte array, call <code>getByte()</code> again which would write all over that one single byte array, causing a mess. This code does not do that - instead it makes a clone (<code>Arrays.copyOf</code> runs <code>new byte[]</code> somewhere inside it, so, that's +1), and then modifies that clone, and then returns that clone.</p>\n<p>Every byte array that is returned by <code>getByte()</code> is <strong>never modified</strong> by anything except, possibly, the code you gave it to.</p>\n"}],"owner":{"account_id":29412978,"reputation":3,"user_id":22536431,"display_name":"rawPancakes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085515,"answer_count":2,"score":0,"last_activity_date":1694480147,"creation_date":1694471965,"question_id":77085128,"body_markdown":"I&#39;ve been struggling with java mutexing for a while now, I&#39;m trying to have `ByteIterator` objects each print a new (and unique) `byte[]` they get from the `JobQueue`, but they continually print repeat values\r\n\r\nHow can i make sure only one thread enters the static method `JobQueue.getByte()` at a time?\r\n\r\nHeres what i&#39;ve tried:\r\n- Syncronised methods *and* syncronised statments (with various lock objs)\r\n  - on both the thread `ByteIterator` and the `JobQueue` static method\r\n- Reentrant locks on both\r\n- Single permit semaphore (on both)\r\n\r\n\r\n\r\nand the code in question (`getByte()`):\r\n```java\r\npublic class JobQueue{\r\n    private static volatile Byte[] nextByte; \r\n    private static final Byte realMin = 0; // fixed values for debuging\r\n    private static final Byte realMax = (byte) 89; \r\n\r\n    public static void initJobQueue(){\r\n        nextByte = new Byte[ByteIterator.fleet.length];\r\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\r\n    }\r\n\r\n    //FIXME: this is the error prone method! \r\n    // This section should only be accessed by one thread at a time\r\n    //  (ie none recive a duplicate byte)\r\n    public static Byte[] getByte(){\r\n        if(nextByte==null || checkEndVal(nextByte)) return null;\r\n\r\n        Byte[] currentByte = nextByte;\r\n    \r\n        // iterate the value\r\n        for (int i = 0; i &lt; nextByte.length; i++) {\r\n            if (nextByte[i]==realMax){\r\n                nextByte[i]=realMin;\r\n            } else{\r\n                nextByte[i]++;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(checkEndVal(nextByte)) nextByte=null;\r\n        return currentByte;\r\n    }\r\n```\r\n\r\nThe running code and thread obj\r\n```java\r\nimport java.util.Arrays;\r\npublic class ByteIterator implements Runnable{  \r\n     // ---- Game state settings (public and fixed for debugging) \r\n    public static final int[] fleet = {2,3};\r\n    public static final int BOARD_SIZE = 5;\r\n\r\n    public static final String lockingObject=&quot;test&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        int threadCount = 2;\r\n        JobQueue.initJobQueue(); // setup the jobQueue\r\n\r\n        // ---- Create the threads\r\n        Thread[] threadArray = new Thread[threadCount]; \r\n        for(int i=0; i&lt;threadCount; i++){\r\n            threadArray[i] = new Thread(new ByteIterator());\r\n            threadArray[i].start();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run(){ // prints each next byte array\r\n        Byte[] foo = JobQueue.getByte();\r\n\r\n        while(foo != null){\r\n            System.out.println(Arrays.toString(foo));\r\n            synchronized (lockingObject) {\r\n                foo = JobQueue.getByte();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to mutex on a static function (in Java)?","body":"<p>I've been struggling with java mutexing for a while now, I'm trying to have <code>ByteIterator</code> objects each print a new (and unique) <code>byte[]</code> they get from the <code>JobQueue</code>, but they continually print repeat values</p>\n<p>How can i make sure only one thread enters the static method <code>JobQueue.getByte()</code> at a time?</p>\n<p>Heres what i've tried:</p>\n<ul>\n<li>Syncronised methods <em>and</em> syncronised statments (with various lock objs)\n<ul>\n<li>on both the thread <code>ByteIterator</code> and the <code>JobQueue</code> static method</li>\n</ul>\n</li>\n<li>Reentrant locks on both</li>\n<li>Single permit semaphore (on both)</li>\n</ul>\n<p>and the code in question (<code>getByte()</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JobQueue{\n    private static volatile Byte[] nextByte; \n    private static final Byte realMin = 0; // fixed values for debuging\n    private static final Byte realMax = (byte) 89; \n\n    public static void initJobQueue(){\n        nextByte = new Byte[ByteIterator.fleet.length];\n        for (int i=0; i&lt;nextByte.length; i++) nextByte[i]=realMin;\n    }\n\n    //FIXME: this is the error prone method! \n    // This section should only be accessed by one thread at a time\n    //  (ie none recive a duplicate byte)\n    public static Byte[] getByte(){\n        if(nextByte==null || checkEndVal(nextByte)) return null;\n\n        Byte[] currentByte = nextByte;\n    \n        // iterate the value\n        for (int i = 0; i &lt; nextByte.length; i++) {\n            if (nextByte[i]==realMax){\n                nextByte[i]=realMin;\n            } else{\n                nextByte[i]++;\n                break;\n            }\n        }\n\n        if(checkEndVal(nextByte)) nextByte=null;\n        return currentByte;\n    }\n</code></pre>\n<p>The running code and thread obj</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\npublic class ByteIterator implements Runnable{  \n     // ---- Game state settings (public and fixed for debugging) \n    public static final int[] fleet = {2,3};\n    public static final int BOARD_SIZE = 5;\n\n    public static final String lockingObject=&quot;test&quot;;\n\n    public static void main(String[] args) {\n        int threadCount = 2;\n        JobQueue.initJobQueue(); // setup the jobQueue\n\n        // ---- Create the threads\n        Thread[] threadArray = new Thread[threadCount]; \n        for(int i=0; i&lt;threadCount; i++){\n            threadArray[i] = new Thread(new ByteIterator());\n            threadArray[i].start();\n        }\n    }\n\n    @Override\n    public void run(){ // prints each next byte array\n        Byte[] foo = JobQueue.getByte();\n\n        while(foo != null){\n            System.out.println(Arrays.toString(foo));\n            synchronized (lockingObject) {\n                foo = JobQueue.getByte();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694479405,"creation_date":1694479405,"answer_id":77085489,"question_id":77085268,"body_markdown":"The JMS [`MessageConsumer`][1] doesn&#39;t have a `getQueue()` method or any equivalent. However, every JMS [`Message`][2] you receive will have a [`getJMSDestination()`][3] method which will return a [`Destination`][4] which represents where the message came from. Using this information you can deduce the destination to which the consumer is connected.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#getJMSDestination--\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/jms/Destination.html","title":"How to get a queue from a consumer in JMS?","body":"<p>The JMS <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageConsumer.html\" rel=\"nofollow noreferrer\"><code>MessageConsumer</code></a> doesn't have a <code>getQueue()</code> method or any equivalent. However, every JMS <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\" rel=\"nofollow noreferrer\"><code>Message</code></a> you receive will have a <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#getJMSDestination--\" rel=\"nofollow noreferrer\"><code>getJMSDestination()</code></a> method which will return a <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Destination.html\" rel=\"nofollow noreferrer\"><code>Destination</code></a> which represents where the message came from. Using this information you can deduce the destination to which the consumer is connected.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77085489,"answer_count":1,"score":0,"last_activity_date":1694479405,"creation_date":1694474561,"question_id":77085268,"body_markdown":"I have a code that gets a queue from browse, but I can&#39;t find a method that gets a queue from a consumer.Is it possible to get a queue from the consumer?\r\n\r\nMethod for getting a queue from browse:\r\n\r\n```java\r\nprivate void viewMessage() throws NamingException, JMSException {\r\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\r\n    queueBrowser = queueSession.createBrowser(queue);\r\n    System.out.println(queueBrowser.getQueue());\r\n}\r\n```\r\nBut I can&#39;t find a similar method, but in consumer\r\n\r\n","title":"How to get a queue from a consumer in JMS?","body":"<p>I have a code that gets a queue from browse, but I can't find a method that gets a queue from a consumer.Is it possible to get a queue from the consumer?</p>\n<p>Method for getting a queue from browse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void viewMessage() throws NamingException, JMSException {\n    Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;TestQueue&quot;);\n    queueBrowser = queueSession.createBrowser(queue);\n    System.out.println(queueBrowser.getQueue());\n}\n</code></pre>\n<p>But I can't find a similar method, but in consumer</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":0,"creation_date":1517870226,"post_id":48632461,"comment_id":84262409,"body_markdown":"can u paste your code base ? full class including import statements ?","body":"can u paste your code base ? full class including import statements ?"}],"answers":[{"tags":[],"owner":{"account_id":176669,"reputation":7441,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517878019,"creation_date":1517878019,"answer_id":48633809,"question_id":48632461,"body_markdown":"Turns out some people in my company are using:\r\n\r\n`javax.ws.rs.core.MediaType` &lt;-- good\r\n\r\nand some people are using:\r\n\r\n`org.springframework.http.MediaType` &lt;-- bad (at least in Spring `@RequestMapping`)","title":"Why can&#39;t I use MediaType.APPLICATION_XML in a @RequestMapping","body":"<p>Turns out some people in my company are using:</p>\n\n<p><code>javax.ws.rs.core.MediaType</code> &lt;-- good</p>\n\n<p>and some people are using:</p>\n\n<p><code>org.springframework.http.MediaType</code> &lt;-- bad (at least in Spring <code>@RequestMapping</code>)</p>\n"},{"tags":[],"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694478716,"creation_date":1694478716,"answer_id":77085461,"question_id":48632461,"body_markdown":"[Documentation.](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-requestmapping.html#mvc-ann-requestmapping-consumes)\r\n\r\nYou should add `&#39;_VALUE&#39;` after the type, only then it becomes a string.\r\n\r\n&gt; MediaType provides **constants** for commonly used media types, such as APPLICATION_JSON_VALUE and APPLICATION_XML_VALUE.\r\n\r\n```java\r\n@Target({ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RequestMapping(\r\n    method = {RequestMethod.GET}\r\n)\r\npublic @interface GetMapping {\r\n    // ...\r\n    @AliasFor(\r\n        annotation = RequestMapping.class\r\n    )\r\n    String[] consumes() default {};\r\n    // ...\r\n}\r\n```","title":"Why can&#39;t I use MediaType.APPLICATION_XML in a @RequestMapping","body":"<p><a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-requestmapping.html#mvc-ann-requestmapping-consumes\" rel=\"nofollow noreferrer\">Documentation.</a></p>\n<p>You should add <code>'_VALUE'</code> after the type, only then it becomes a string.</p>\n<blockquote>\n<p>MediaType provides <strong>constants</strong> for commonly used media types, such as APPLICATION_JSON_VALUE and APPLICATION_XML_VALUE.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(\n    method = {RequestMethod.GET}\n)\npublic @interface GetMapping {\n    // ...\n    @AliasFor(\n        annotation = RequestMapping.class\n    )\n    String[] consumes() default {};\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":176669,"reputation":7441,"user_id":407502,"accept_rate":70,"display_name":"orbfish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1694478716,"creation_date":1517869379,"question_id":48632461,"body_markdown":"When I change `MediaType.APPLICATION_JSON` to `MediaType.APPLICATION_XML` in a Spring `@RequestMapping`, I get the following error in my IDE: “Attribute value must be constant”.\r\n\r\nI&#39;ve dug down into the way `MediaType` constructs its constants - both _JSON and _XML are final variables set in a static initialization block. I can&#39;t see any difference between them, but one works and one doesn&#39;t.\r\n\r\nThank you for your help.","title":"Why can&#39;t I use MediaType.APPLICATION_XML in a @RequestMapping","body":"<p>When I change <code>MediaType.APPLICATION_JSON</code> to <code>MediaType.APPLICATION_XML</code> in a Spring <code>@RequestMapping</code>, I get the following error in my IDE: “Attribute value must be constant”.</p>\n\n<p>I've dug down into the way <code>MediaType</code> constructs its constants - both _JSON and _XML are final variables set in a static initialization block. I can't see any difference between them, but one works and one doesn't.</p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"comments":[{"owner":{"account_id":19253641,"reputation":495,"user_id":14071053,"display_name":"Aks"},"score":0,"creation_date":1694483380,"post_id":77085444,"comment_id":135893566,"body_markdown":"https://stackoverflow.com/a/74072997/14071053","body":"<a href=\"https://stackoverflow.com/a/74072997/14071053\">stackoverflow.com/a/74072997/14071053</a>"}],"owner":{"account_id":28956196,"reputation":1,"user_id":22179697,"display_name":"thabang nthunya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694478254,"creation_date":1694478254,"question_id":77085444,"body_markdown":"I want to get the string value of the name of physical button pressed from android native code and pass it to flutter app. I used eventchannel to send data from kotlin code to dart code.\r\n\r\nI tried to stream key-event action using eventchannel.\r\n\r\nHere is my dart code: \r\n```\r\nimport &#39;dart:async&#39;;\r\n\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:flutter/services.dart&#39;;\r\n\r\nvoid main() =&gt; runApp(MyApp());\r\n\r\nclass MyApp extends StatefulWidget {\r\n  @override\r\n  _MyAppState createState() =&gt; _MyAppState();\r\n}\r\n\r\nclass _MyAppState extends State&lt;MyApp&gt; {\r\n\r\n  String batteryStatus = &quot;Streaming...&quot;;\r\n  static const chargingChannel = EventChannel(&#39;nthunya.com/physicalButton&#39;);\r\n  late StreamSubscription _streamSubscription;\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    \r\n    onStreamBattery();\r\n\r\n  }\r\n\r\n  @override\r\n  void dispose() {\r\n    super.dispose();\r\n    _streamSubscription.cancel();\r\n  }\r\n\r\n  void onStreamBattery(){\r\n    _streamSubscription =\r\n    chargingChannel.receiveBroadcastStream().listen((event){\r\n      setState((){ batteryStatus = &#39;$event&#39;;});\r\n    });\r\n    \r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp(\r\n      home: Scaffold(\r\n        appBar: AppBar(\r\n          title: const Text(&#39;Hardware buttons find&#39;),\r\n        ),\r\n        body: Center(\r\n          child: Column(\r\n            mainAxisSize: MainAxisSize.min,\r\n            children: &lt;Widget&gt;[\r\n              Text(&#39;Button name: $batteryStatus\\n&#39;),\r\n            ],\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\nHere is kotlin code:\r\n```\r\npackage com.example.flutter_panic_button1000\r\n\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.content.IntentFilter\r\nimport android.view.KeyEvent\r\nimport android.widget.Toast\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugin.common.EventChannel\r\n\r\nclass MainActivity: FlutterActivity() {\r\n\r\n    private val KEY_PRESS = &quot;nthunya.com/physicalButton&quot;\r\n    private lateinit var eventChannel: EventChannel\r\n\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine)\r\n\r\n        eventChannel = EventChannel(flutterEngine.dartExecutor.binaryMessenger, KEY_PRESS)\r\n        eventChannel.setStreamHandler(MyStreamHandler(context))\r\n    }\r\n}\r\n\r\nclass MyStreamHandler(private val context: Context) : EventChannel.StreamHandler{\r\n    private var receiver: BroadcastReceiver? = null\r\n\r\n    override fun onListen(arguments: Any?, events: EventChannel.EventSink?) {\r\n        if (events == null) return\r\n\r\n        receiver = initReceiver(events)\r\n        context.registerReceiver(receiver, IntentFilter(Intent.ACTION_MEDIA_BUTTON))\r\n    }\r\n\r\n    private fun initReceiver(events: EventChannel.EventSink): BroadcastReceiver? {\r\n\r\n        return object : BroadcastReceiver(){\r\n            override fun onReceive(context: Context?, intent: Intent?) {\r\n\r\n                when(intent?.getIntExtra(KeyEvent.ACTION_DOWN.toString(),-1)){\r\n                    KeyEvent.KEYCODE_VOLUME_DOWN -&gt; events.success(&quot;Volume down&quot;)\r\n                    KeyEvent.KEYCODE_VOLUME_UP-&gt; events.success(&quot;Volume up&quot;)\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    override fun onCancel(arguments: Any?) {\r\n        context.unregisterReceiver(receiver)\r\n        receiver = null\r\n    }\r\n}\r\n```\r\nThe program runs without errors, but it doesn&#39;t display the name of button pressed","title":"How do I stream android hardware buttons from android native code to flutter app?","body":"<p>I want to get the string value of the name of physical button pressed from android native code and pass it to flutter app. I used eventchannel to send data from kotlin code to dart code.</p>\n<p>I tried to stream key-event action using eventchannel.</p>\n<p>Here is my dart code:</p>\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\n\nvoid main() =&gt; runApp(MyApp());\n\nclass MyApp extends StatefulWidget {\n  @override\n  _MyAppState createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n\n  String batteryStatus = &quot;Streaming...&quot;;\n  static const chargingChannel = EventChannel('nthunya.com/physicalButton');\n  late StreamSubscription _streamSubscription;\n\n  @override\n  void initState() {\n    super.initState();\n    \n    onStreamBattery();\n\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _streamSubscription.cancel();\n  }\n\n  void onStreamBattery(){\n    _streamSubscription =\n    chargingChannel.receiveBroadcastStream().listen((event){\n      setState((){ batteryStatus = '$event';});\n    });\n    \n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: const Text('Hardware buttons find'),\n        ),\n        body: Center(\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: &lt;Widget&gt;[\n              Text('Button name: $batteryStatus\\n'),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Here is kotlin code:</p>\n<pre><code>package com.example.flutter_panic_button1000\n\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.content.IntentFilter\nimport android.view.KeyEvent\nimport android.widget.Toast\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.EventChannel\n\nclass MainActivity: FlutterActivity() {\n\n    private val KEY_PRESS = &quot;nthunya.com/physicalButton&quot;\n    private lateinit var eventChannel: EventChannel\n\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        eventChannel = EventChannel(flutterEngine.dartExecutor.binaryMessenger, KEY_PRESS)\n        eventChannel.setStreamHandler(MyStreamHandler(context))\n    }\n}\n\nclass MyStreamHandler(private val context: Context) : EventChannel.StreamHandler{\n    private var receiver: BroadcastReceiver? = null\n\n    override fun onListen(arguments: Any?, events: EventChannel.EventSink?) {\n        if (events == null) return\n\n        receiver = initReceiver(events)\n        context.registerReceiver(receiver, IntentFilter(Intent.ACTION_MEDIA_BUTTON))\n    }\n\n    private fun initReceiver(events: EventChannel.EventSink): BroadcastReceiver? {\n\n        return object : BroadcastReceiver(){\n            override fun onReceive(context: Context?, intent: Intent?) {\n\n                when(intent?.getIntExtra(KeyEvent.ACTION_DOWN.toString(),-1)){\n                    KeyEvent.KEYCODE_VOLUME_DOWN -&gt; events.success(&quot;Volume down&quot;)\n                    KeyEvent.KEYCODE_VOLUME_UP-&gt; events.success(&quot;Volume up&quot;)\n                }\n            }\n\n        }\n    }\n\n    override fun onCancel(arguments: Any?) {\n        context.unregisterReceiver(receiver)\n        receiver = null\n    }\n}\n</code></pre>\n<p>The program runs without errors, but it doesn't display the name of button pressed</p>\n"},{"tags":["java","arrays","list","loops"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1694474270,"post_id":77084869,"comment_id":135892962,"body_markdown":"For reference, LeetCode 27 is at https://leetcode.com/problems/remove-element/","body":"For reference, LeetCode 27 is at <a href=\"https://leetcode.com/problems/remove-element/\" rel=\"nofollow noreferrer\">leetcode.com/problems/remove-element</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1694474651,"post_id":77084869,"comment_id":135892991,"body_markdown":"Images of text, including example input, example expected output, example actual output, code, and error messages are [not well received](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) here. Such information should be in the question body. To ensure accuracy, using text copy-and-paste is advised.","body":"Images of text, including example input, example expected output, example actual output, code, and error messages are <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">not well received</a> here. Such information should be in the question body. To ensure accuracy, using text copy-and-paste is advised."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694477159,"creation_date":1694477159,"answer_id":77085399,"question_id":77084869,"body_markdown":"There seems to be confusion about what the LeetCode problem is asking the programmer to do. This is an example of why a link to the problem page included in the question body is helpful, when the source of the problem does have a page. This is typical of the programming challenge sites. (However, some of these sites require an account to see their problems.)\r\n\r\n- The `int` value, `k`, in the O/P code is the number of elements that were *removed* from the `nums` array. **This is where the bug is.** The value returned is supposed to be the number of elements that *remain* after the targeted values were removed.\r\n- LeetCode asks this problem be solved **in-place**. The expected solutions *do not* create an intermediate array, or other structures to temporarily hold data. Although the code in the question seems to have gotten away with it, this line `int[] expectedNums = new int[nums.length];` violates that constraint.  \r\n- I notice that the code in the question has a variable `expectedNums`. The automated judge described in the problem page also uses a variable with this same name. That hints that there might be another misunderstanding. The solution code is not expected to have a variable `expectedNums`. It is allowed to. But, if it does, the variable will be unrelated to the `expectedNums` in the code for the judge. \r\n- The description of the automated judge can be used to help design a solution to the given problem.\r\n\r\nI don&#39;t want to give the O/P an answer with complete code. I believe it will be more helpful if the O/P spends time thinking about how to solve this. \r\n\r\n- Bear in mind that the automated judge will sort the first `k` elements of `nums` array after the `removeElement` method is called. In Java, that would be `nums[0]` to `nums[k - 1]`.\r\n- The automated judge *doesn&#39;t care* what is `nums [k]` to `nums [nums.length - 1]`.","title":"Leetcode java code array output limited for no reason","body":"<p>There seems to be confusion about what the LeetCode problem is asking the programmer to do. This is an example of why a link to the problem page included in the question body is helpful, when the source of the problem does have a page. This is typical of the programming challenge sites. (However, some of these sites require an account to see their problems.)</p>\n<ul>\n<li>The <code>int</code> value, <code>k</code>, in the O/P code is the number of elements that were <em>removed</em> from the <code>nums</code> array. <strong>This is where the bug is.</strong> The value returned is supposed to be the number of elements that <em>remain</em> after the targeted values were removed.</li>\n<li>LeetCode asks this problem be solved <strong>in-place</strong>. The expected solutions <em>do not</em> create an intermediate array, or other structures to temporarily hold data. Although the code in the question seems to have gotten away with it, this line <code>int[] expectedNums = new int[nums.length];</code> violates that constraint.</li>\n<li>I notice that the code in the question has a variable <code>expectedNums</code>. The automated judge described in the problem page also uses a variable with this same name. That hints that there might be another misunderstanding. The solution code is not expected to have a variable <code>expectedNums</code>. It is allowed to. But, if it does, the variable will be unrelated to the <code>expectedNums</code> in the code for the judge.</li>\n<li>The description of the automated judge can be used to help design a solution to the given problem.</li>\n</ul>\n<p>I don't want to give the O/P an answer with complete code. I believe it will be more helpful if the O/P spends time thinking about how to solve this.</p>\n<ul>\n<li>Bear in mind that the automated judge will sort the first <code>k</code> elements of <code>nums</code> array after the <code>removeElement</code> method is called. In Java, that would be <code>nums[0]</code> to <code>nums[k - 1]</code>.</li>\n<li>The automated judge <em>doesn't care</em> what is <code>nums [k]</code> to <code>nums [nums.length - 1]</code>.</li>\n</ul>\n"}],"owner":{"account_id":24013613,"reputation":3,"user_id":21064334,"display_name":"Mawhadmd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":77085399,"answer_count":1,"score":-3,"last_activity_date":1694477159,"creation_date":1694467630,"question_id":77084869,"body_markdown":"[output(supposed to be the stdout)](https://i.stack.imgur.com/28K8j.png)\r\ni&#39;m writting this code \r\n```\r\nclass Solution {\r\n    public int removeElement(int[] nums, int val) {\r\n        int k =0;\r\n         int[] expectedNums = new int[nums.length]; \r\n            for(int i =0,j=0; i&lt;nums.length;i++)\r\n    {\r\n        if(nums[i]==val)\r\n    k++;\r\n    else{\r\n    expectedNums[j]=nums[i];\r\n    j++;}\r\n    }\r\n     for(int i =0; i&lt;nums.length;i++){\r\n    nums[i]=expectedNums[i];}\r\n    for (int a = 0; a &lt; nums.length; a++) {\r\n        System.out.print( nums[a]);}\r\n    \r\n        return k;\r\n    }\r\n    \r\n}\r\n```\r\nproblem 27 in leetcode, as you can see in the screenshot, the output only shows first 2 elements then skips 2 elements, while the actual output is not. System.out.print shows that its 01304000. Leetcode output shows [0,1,3]. I know there is a much easier solution, and i wanna use it, but first i must know what&#39;s wrong with this code? i&#39;m new to leetcode, maybe copying lists and arrays here is not supported? Idk fr Please help thanks\r\n\r\nTried using ArrayList, changing \r\n```\r\nfor(int i =0; i&lt;nums.length;i++){\r\n    nums[i]=expectedNums[i];}\r\n```\r\nlength a lot. thought it was the issue.\r\nAlso Rewrote the code again and made sure nothing is limiting the array as fas as i know.\r\nI didn&#39;t directly change nums array elements, only copy. \r\n\r\n\r\n\r\n","title":"Leetcode java code array output limited for no reason","body":"<p><a href=\"https://i.stack.imgur.com/28K8j.png\" rel=\"nofollow noreferrer\">output(supposed to be the stdout)</a>\ni'm writting this code</p>\n<pre><code>class Solution {\n    public int removeElement(int[] nums, int val) {\n        int k =0;\n         int[] expectedNums = new int[nums.length]; \n            for(int i =0,j=0; i&lt;nums.length;i++)\n    {\n        if(nums[i]==val)\n    k++;\n    else{\n    expectedNums[j]=nums[i];\n    j++;}\n    }\n     for(int i =0; i&lt;nums.length;i++){\n    nums[i]=expectedNums[i];}\n    for (int a = 0; a &lt; nums.length; a++) {\n        System.out.print( nums[a]);}\n    \n        return k;\n    }\n    \n}\n</code></pre>\n<p>problem 27 in leetcode, as you can see in the screenshot, the output only shows first 2 elements then skips 2 elements, while the actual output is not. System.out.print shows that its 01304000. Leetcode output shows [0,1,3]. I know there is a much easier solution, and i wanna use it, but first i must know what's wrong with this code? i'm new to leetcode, maybe copying lists and arrays here is not supported? Idk fr Please help thanks</p>\n<p>Tried using ArrayList, changing</p>\n<pre><code>for(int i =0; i&lt;nums.length;i++){\n    nums[i]=expectedNums[i];}\n</code></pre>\n<p>length a lot. thought it was the issue.\nAlso Rewrote the code again and made sure nothing is limiting the array as fas as i know.\nI didn't directly change nums array elements, only copy.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9803,"page":189,"page_size":100}
