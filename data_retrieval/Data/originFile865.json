{"items":[{"tags":["java","migration","log4j","log4j2"],"answers":[{"comments":[{"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"score":0,"creation_date":1669132010,"post_id":74535346,"comment_id":131571885,"body_markdown":"Actually, I still an issue which seems related to JUnit 4, but it will do for now.","body":"Actually, I still an issue which seems related to JUnit 4, but it will do for now."}],"tags":[],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669131924,"creation_date":1669131924,"answer_id":74535346,"question_id":74533992,"body_markdown":"I found the cause of the problem. It was in the web.xml:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath:log4j.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;log4jExposeWebAppRoot&lt;/param-name&gt;\r\n        &lt;param-value&gt;false&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nThose lines were actually useless and I removed them, which solved the issue.","title":"After migrating from log4J 1 to log4j2, still looking for log4j.xml","body":"<p>I found the cause of the problem. It was in the web.xml:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath:log4j.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;log4jExposeWebAppRoot&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>Those lines were actually useless and I removed them, which solved the issue.</p>\n"}],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74535346,"answer_count":1,"score":0,"last_activity_date":1669131924,"creation_date":1669126218,"question_id":74533992,"body_markdown":"I&#39;m in the process of migrating a Maven multi-modules JavaEE project from Log4J 1.2.17 to Log4J 2.19.0. I successfully changed the different pom.xml and the code, I changed the log4j.xml for an updated log4j2.xml, I also added the exclusions to other dependecies (like docx4j) in order to avoid them to import log4J 1 again. Finally, I deleted the log4j.dtd file we were validating the log4j.xml again. There is no visible reference to Log4J 1 left in the project.\r\n\r\nBut when I start my Tomcat server, I get the following logs:\r\n\r\n    log4j:WARN Continuable parsing error 2 and column 31\r\n    log4j:WARN L&#39;&#233;l&#233;ment racine de document &quot;Configuration&quot; doit correspondre &#224;&#160; la racine DOCTYPE &quot;null&quot;.\r\n    log4j:WARN Continuable parsing error 2 and column 31\r\n    log4j:WARN Le document nest pas valide : aucune grammaire d&#233;tect&#233;e.\r\n    log4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\r\n\r\n`log4j:configuration` is a log4j 1 configuration tag. I have no idea which part of the application is still looking for the log4j.xml. Any ideas?\r\n\r\nI also searched in the Tomcat configuration, and even made a research on my entire disks looking for those logs, to no avail.","title":"After migrating from log4J 1 to log4j2, still looking for log4j.xml","body":"<p>I'm in the process of migrating a Maven multi-modules JavaEE project from Log4J 1.2.17 to Log4J 2.19.0. I successfully changed the different pom.xml and the code, I changed the log4j.xml for an updated log4j2.xml, I also added the exclusions to other dependecies (like docx4j) in order to avoid them to import log4J 1 again. Finally, I deleted the log4j.dtd file we were validating the log4j.xml again. There is no visible reference to Log4J 1 left in the project.</p>\n<p>But when I start my Tomcat server, I get the following logs:</p>\n<pre><code>log4j:WARN Continuable parsing error 2 and column 31\nlog4j:WARN L'élément racine de document &quot;Configuration&quot; doit correspondre à  la racine DOCTYPE &quot;null&quot;.\nlog4j:WARN Continuable parsing error 2 and column 31\nlog4j:WARN Le document nest pas valide : aucune grammaire détectée.\nlog4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\n</code></pre>\n<p><code>log4j:configuration</code> is a log4j 1 configuration tag. I have no idea which part of the application is still looking for the log4j.xml. Any ideas?</p>\n<p>I also searched in the Tomcat configuration, and even made a research on my entire disks looking for those logs, to no avail.</p>\n"},{"tags":["java","string","primes"],"answers":[{"comments":[{"owner":{"display_name":"user20146539"},"score":0,"creation_date":1669093562,"post_id":74527674,"comment_id":131559120,"body_markdown":"Thanks, but from there, I am not sure how I would format the return correctly","body":"Thanks, but from there, I am not sure how I would format the return correctly"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1669093971,"post_id":74527674,"comment_id":131559179,"body_markdown":"You could add all the values into an array list and build the string later.  Or you could append &quot; * &quot; each time and use .substring to remove the last 3 characters.  You could also test if the string is blank and add &quot; * &quot; before you number when it&#39;s not blank.","body":"You could add all the values into an array list and build the string later.  Or you could append &quot; * &quot; each time and use .substring to remove the last 3 characters.  You could also test if the string is blank and add &quot; * &quot; before you number when it&#39;s not blank."},{"owner":{"display_name":"user20146539"},"score":0,"creation_date":1669094057,"post_id":74527674,"comment_id":131559198,"body_markdown":"What would that look like in code?","body":"What would that look like in code?"}],"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669131544,"creation_date":1669092932,"answer_id":74527674,"question_id":74527527,"body_markdown":"In your while loop, you need to divide the remaining `n` value by each found factor.  Otherwise, you&#39;ll never break out of the loop.\r\n\r\n    while (n % i == 0) {\r\n        str += (str.equals(&quot;&quot;) ? i : &quot; * &quot; + i);\r\n        n /= i;\r\n    }\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>In your while loop, you need to divide the remaining <code>n</code> value by each found factor.  Otherwise, you'll never break out of the loop.</p>\n<pre><code>while (n % i == 0) {\n    str += (str.equals(&quot;&quot;) ? i : &quot; * &quot; + i);\n    n /= i;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669098393,"creation_date":1669095546,"answer_id":74527951,"question_id":74527527,"body_markdown":"  Below is the Running Code.\r\n\r\n    public static void main(String[] args) throws IOException\r\n           {\r\n              System.out.println(factor(24));\r\n    }\r\n               public static String factor(int n)\r\n        {\r\n            String str = &quot;&quot;;\r\n            String multiplySymbol = &quot;&quot;;\r\n            if(isPrime(n)) {\r\n                str = &quot;&quot; + n;\r\n                }else if(n == 2) {\r\n                str = &quot;2&quot;;\r\n                }else{\r\n                for (int i = 2; i &lt;= n; i++)\r\n                {\r\n                    while (n % i == 0)\r\n                    {\r\n                      str +=  multiplySymbol+i ;\r\n                      multiplySymbol = &quot;x&quot;;\r\n                        n /= i;\r\n                    }\r\n                }\r\n            }\r\n            return str;\r\n        }\r\n               \r\n               public static boolean isPrime(int n)\r\n        {\r\n            if (n &lt;= 1) {\r\n            return false;\r\n            }\r\n            for (int i = 2; i &lt;= n/2; i++)\r\n            {\r\n                if (n % i == 0) {\r\n                return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n          \r\n    }\r\n\r\n\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>Below is the Running Code.</p>\n<pre><code>public static void main(String[] args) throws IOException\n       {\n          System.out.println(factor(24));\n}\n           public static String factor(int n)\n    {\n        String str = &quot;&quot;;\n        String multiplySymbol = &quot;&quot;;\n        if(isPrime(n)) {\n            str = &quot;&quot; + n;\n            }else if(n == 2) {\n            str = &quot;2&quot;;\n            }else{\n            for (int i = 2; i &lt;= n; i++)\n            {\n                while (n % i == 0)\n                {\n                  str +=  multiplySymbol+i ;\n                  multiplySymbol = &quot;x&quot;;\n                    n /= i;\n                }\n            }\n        }\n        return str;\n    }\n           \n           public static boolean isPrime(int n)\n    {\n        if (n &lt;= 1) {\n        return false;\n        }\n        for (int i = 2; i &lt;= n/2; i++)\n        {\n            if (n % i == 0) {\n            return false;\n            }\n        }\n        return true;\n    }\n      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669108506,"creation_date":1669108506,"answer_id":74530100,"question_id":74527527,"body_markdown":"Looking at just the formatting problem, inserting the &quot; * &quot; separator as required. I approach it as &quot;every number, except the first, is preceded by the separator string&quot;. This puts the separator before, rather than after, each entry, and automatically leaves the last entry without a trailing separator. I use a boolean flag to indicate the first entry in the list.\r\n\r\nThis is in pseudocode:\r\n\r\n    // primeArray holds the previously calculated prime factors.\r\n    function printPrimes(primeArray)\r\n      separator ← &quot; * &quot;\r\n      atFirst ← true\r\n\r\n      foreach thisPrime in primeArray\r\n        if (atFirst)\r\n          // No separator before first prime.\r\n          atFirst ← false\r\n        else\r\n          // Put separator before all the other primes.\r\n          print(separator)\r\n        end if\r\n\r\n        // Print the number.\r\n        print(thisPrime)\r\n      end foreach\r\n    end function\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>Looking at just the formatting problem, inserting the &quot; * &quot; separator as required. I approach it as &quot;every number, except the first, is preceded by the separator string&quot;. This puts the separator before, rather than after, each entry, and automatically leaves the last entry without a trailing separator. I use a boolean flag to indicate the first entry in the list.</p>\n<p>This is in pseudocode:</p>\n<pre><code>// primeArray holds the previously calculated prime factors.\nfunction printPrimes(primeArray)\n  separator ← &quot; * &quot;\n  atFirst ← true\n\n  foreach thisPrime in primeArray\n    if (atFirst)\n      // No separator before first prime.\n      atFirst ← false\n    else\n      // Put separator before all the other primes.\n      print(separator)\n    end if\n\n    // Print the number.\n    print(thisPrime)\n  end foreach\nend function\n</code></pre>\n"}],"owner":{"display_name":"user20146539"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74527674,"answer_count":3,"score":-1,"last_activity_date":1669131544,"creation_date":1669091477,"question_id":74527527,"body_markdown":"My problem is that I need to take an inputted integer and return the prime factorization of it. It needs to be in the form of:\r\n```none\r\nint * int * int * int\r\n```\r\nFor example, the prime factorization of 180 would return:\r\n```none\r\n2 * 2 * 3 * 3 * 5.\r\n```\r\nThe code I have currently is:\r\n```java\r\npublic static String factor(int n)\r\n{\r\n    String str = &quot;&quot;;\r\n    if(isPrime(n)) {\r\n        str = &quot;&quot; + n;\r\n    }else if(n == 2) {\r\n        str = &quot;2&quot;;\r\n    }else{\r\n        for (int i = 2; i &lt;= Math.sqrt(n); i++)\r\n        {\r\n            while (n % i == 0)\r\n            {\r\n                str = str + i;\r\n            }\r\n        }\r\n    }\r\n    return str;\r\n}\r\n```\r\nThe `isPrime` method mentioned is:\r\n```java\r\npublic static boolean isPrime(int n)\r\n{\r\n    if (n &lt;= 1) {\r\n        return false;\r\n    }\r\n    for (int i = 2; i &lt;= n/2; i++)\r\n    {\r\n        if (n % i == 0) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>My problem is that I need to take an inputted integer and return the prime factorization of it. It needs to be in the form of:</p>\n<pre class=\"lang-none prettyprint-override\"><code>int * int * int * int\n</code></pre>\n<p>For example, the prime factorization of 180 would return:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2 * 2 * 3 * 3 * 5.\n</code></pre>\n<p>The code I have currently is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String factor(int n)\n{\n    String str = &quot;&quot;;\n    if(isPrime(n)) {\n        str = &quot;&quot; + n;\n    }else if(n == 2) {\n        str = &quot;2&quot;;\n    }else{\n        for (int i = 2; i &lt;= Math.sqrt(n); i++)\n        {\n            while (n % i == 0)\n            {\n                str = str + i;\n            }\n        }\n    }\n    return str;\n}\n</code></pre>\n<p>The <code>isPrime</code> method mentioned is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPrime(int n)\n{\n    if (n &lt;= 1) {\n        return false;\n    }\n    for (int i = 2; i &lt;= n/2; i++)\n    {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","string","switch-statement"],"comments":[{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1669130369,"post_id":74534961,"comment_id":131571168,"body_markdown":"Convert both strings to the same case before comparison. I&#39;m sure this is just a simple exercise, but note that password checks should *never* be case-insensitive in the real world.","body":"Convert both strings to the same case before comparison. I&#39;m sure this is just a simple exercise, but note that password checks should <i>never</i> be case-insensitive in the real world."}],"answers":[{"comments":[{"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"score":0,"creation_date":1669130965,"post_id":74535031,"comment_id":131571435,"body_markdown":"Sorry, where would I put this input? sorry I&#39;m very new to java, and suck at explaining things","body":"Sorry, where would I put this input? sorry I&#39;m very new to java, and suck at explaining things"},{"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"score":0,"creation_date":1669131189,"post_id":74535031,"comment_id":131571546,"body_markdown":"replace the line you open your `while` loop on with `while (attempts-- &gt; 0 &amp;&amp; !PASSWORD.equalsIgnoreCase(password))`","body":"replace the line you open your <code>while</code> loop on with <code>while (attempts-- &gt; 0 &amp;&amp; !PASSWORD.equalsIgnoreCase(password))</code>"},{"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"score":0,"creation_date":1669131514,"post_id":74535031,"comment_id":131571682,"body_markdown":"It works with case sensitivity but when I run it I get this output, not sure why. \n```\nPlease input your password.\nhellO\nEnter your password: hello\nIncorrect. Number of attempts remaining: 2\nSecret: Water is not Wet.```","body":"It works with case sensitivity but when I run it I get this output, not sure why.  ``` Please input your password. hellO Enter your password: hello Incorrect. Number of attempts remaining: 2 Secret: Water is not Wet.```"},{"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"score":0,"creation_date":1669131921,"post_id":74535031,"comment_id":131571852,"body_markdown":"also update `if (password.equals(PASSWORD)) System.out.println(&quot;Access Granted&quot;);` to use `equalsIgnoreCase`","body":"also update <code>if (password.equals(PASSWORD)) System.out.println(&quot;Access Granted&quot;);</code> to use <code>equalsIgnoreCase</code>"}],"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669130550,"creation_date":1669130550,"answer_id":74535031,"question_id":74534961,"body_markdown":"The first part of your question says `The program can not be case sensitive` while afterwards you are stating that `Program prints as expected, but is not case sensitive`, so it&#39;s a little difficult to understand what you want. But by looking at the code and seeing that it is doing a case-sensitive comparison, and that you are not happy with it&#39;s behavior, I&#39;m guessing you want this to be a case-INsensitive comparison. \r\nIn that case, you can use `String#equalsIgnoreCase`: `!PASSWORD.equalsIgnoresCase(password)`","title":"Strings || Case Sensitive","body":"<p>The first part of your question says <code>The program can not be case sensitive</code> while afterwards you are stating that <code>Program prints as expected, but is not case sensitive</code>, so it's a little difficult to understand what you want. But by looking at the code and seeing that it is doing a case-sensitive comparison, and that you are not happy with it's behavior, I'm guessing you want this to be a case-INsensitive comparison.\nIn that case, you can use <code>String#equalsIgnoreCase</code>: <code>!PASSWORD.equalsIgnoresCase(password)</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669339147,"post_id":74535119,"comment_id":131625742,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74535119/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26719218,"reputation":21,"user_id":20323360,"display_name":"Hadi Soufan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669130888,"creation_date":1669130888,"answer_id":74535119,"question_id":74534961,"body_markdown":"simply if you need not to consider the case sensitive just do password.equalIgnoreCase(PASSWORD) \r\nbut if you need to be sure that both have same case sensitive you can just convert both variables to .toUpperCase before the comparison ","title":"Strings || Case Sensitive","body":"<p>simply if you need not to consider the case sensitive just do password.equalIgnoreCase(PASSWORD)\nbut if you need to be sure that both have same case sensitive you can just convert both variables to .toUpperCase before the comparison</p>\n"}],"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1669130888,"creation_date":1669130276,"question_id":74534961,"body_markdown":"Need to make a password program, where the user sets a password at the beginning and the password can be entered 3 times before the program is stopped. The program can not be case sensitive.\r\n\r\n\r\n```\tjava \r\n    public static void main(String[] args) \r\n{\r\n    Scanner sc = new Scanner(System.in);\r\n    int attempts = 3;\r\n    String password = &quot;&quot;;\r\n    System.out.println(&quot;Please input your password.&quot;);\r\n    Scanner stringScanner = new Scanner(System.in);\r\n    String PASSWORD = stringScanner.next();\r\n    while (attempts-- &gt; 0 &amp;&amp; !PASSWORD.equals(password)) //compares and then decrements\r\n    {\r\n        System.out.print(&quot;Enter your password: &quot;);\r\n        password = sc.nextLine();\r\n        if (password.equals(PASSWORD)) \r\n            System.out.println(&quot;Access Granted&quot;);\r\n        else \r\n            System.out.println(&quot;Incorrect. Number of attempts remaining: &quot; + attempts);     \r\n    }\r\n        if (attempts &lt; 1) {\r\n            System.out.println(&quot;You have entered too many incorrect passwords, please try again later.&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Secret: Water is not Wet.&quot;);\r\n            }\r\n        }\t\t\t\t\t\t\t\t\r\n    }\r\n```\r\nProgram prints as expected, but is not case sensitive","title":"Strings || Case Sensitive","body":"<p>Need to make a password program, where the user sets a password at the beginning and the password can be entered 3 times before the program is stopped. The program can not be case sensitive.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) \n{\n    Scanner sc = new Scanner(System.in);\n    int attempts = 3;\n    String password = &quot;&quot;;\n    System.out.println(&quot;Please input your password.&quot;);\n    Scanner stringScanner = new Scanner(System.in);\n    String PASSWORD = stringScanner.next();\n    while (attempts-- &gt; 0 &amp;&amp; !PASSWORD.equals(password)) //compares and then decrements\n    {\n        System.out.print(&quot;Enter your password: &quot;);\n        password = sc.nextLine();\n        if (password.equals(PASSWORD)) \n            System.out.println(&quot;Access Granted&quot;);\n        else \n            System.out.println(&quot;Incorrect. Number of attempts remaining: &quot; + attempts);     \n    }\n        if (attempts &lt; 1) {\n            System.out.println(&quot;You have entered too many incorrect passwords, please try again later.&quot;);\n        }\n        else {\n            System.out.println(&quot;Secret: Water is not Wet.&quot;);\n            }\n        }                               \n    }\n</code></pre>\n<p>Program prints as expected, but is not case sensitive</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669131955,"post_id":74534482,"comment_id":131571869,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669130888,"creation_date":1669130888,"answer_id":74535118,"question_id":74534482,"body_markdown":"Create logback.xml configuration file under src/main/resources as below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\r\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;pattern&gt;\r\n            %d{yyyy-MM-dd HH:mm.ss} [%thread] %-5level %logger{36} - %msg%n\r\n            &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n```","title":"How can i close netty log for selenium Java project?","body":"<p>Create logback.xml configuration file under src/main/resources as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;pattern&gt;\n            %d{yyyy-MM-dd HH:mm.ss} [%thread] %-5level %logger{36} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n"}],"owner":{"account_id":27014247,"reputation":3,"user_id":20573387,"display_name":"dele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74535118,"answer_count":1,"score":0,"last_activity_date":1669130888,"creation_date":1669128299,"question_id":74534482,"body_markdown":"I updated selenium 4.5.0 but when run my test netty give it an error so added netty-handler dependency to my project. But when run my test I&#39;m seeing too much netty log. How can I close? \r\n\r\n[netty logs](https://i.stack.imgur.com/Jg8dE.png)\r\n\r\n","title":"How can i close netty log for selenium Java project?","body":"<p>I updated selenium 4.5.0 but when run my test netty give it an error so added netty-handler dependency to my project. But when run my test I'm seeing too much netty log. How can I close?</p>\n<p><a href=\"https://i.stack.imgur.com/Jg8dE.png\" rel=\"nofollow noreferrer\">netty logs</a></p>\n"},{"tags":["java","spring","backend"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1669130736,"post_id":74534643,"comment_id":131571326,"body_markdown":"try this sample... https://docs.oracle.com/javase/tutorial/2d/images/drawimage.html","body":"try this sample... <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/drawimage.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/2d/images/drawimage.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669130782,"creation_date":1669130782,"answer_id":74535095,"question_id":74534643,"body_markdown":"Most likely you failed with Graphics2D.drawImage() because you didn&#39;t pass the arguments correctly. Try:\r\n\r\n    Graphics2D.drawImage(image, x, y, null);\r\n    Graphics2D.dispose(); \r\n\r\nAfter that everything should work.","title":"Inserting an image by coordinates","body":"<p>Most likely you failed with Graphics2D.drawImage() because you didn't pass the arguments correctly. Try:</p>\n<pre><code>Graphics2D.drawImage(image, x, y, null);\nGraphics2D.dispose(); \n</code></pre>\n<p>After that everything should work.</p>\n"}],"owner":{"account_id":27014446,"reputation":11,"user_id":20573547,"display_name":"Дмитрий Ефимов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669130782,"creation_date":1669129022,"question_id":74534643,"body_markdown":"Can I somehow insert an image by coordinates into another image?\r\n\r\nA MultipartFile comes to me with an image, if its aspect ratio != 16:9, then I generate a new image with that aspect ratio and black and in the middle of it I need to insert the image that came to me.\r\n\r\nAt the moment I can only generate a black image, but I have no way to figure out how to insert the image by coordinates into another image.\r\nI tried using Graphics2D.drawImage(), but it didn&#39;t work for me.\r\n\r\n```\r\n`public static String getImageAndReturnPathToResult(MultipartFile multipartFile){\r\n    try{\r\n&gt; //Image taken from the front\r\n        BufferedImage image = ImageIO.read(multipartFile.getInputStream()); \r\n\r\n&gt; //Generating a new black image\r\n        BufferedImage bufferedImage = new BufferedImage(1920, 1080, BufferedImage.TYPE_INT_RGB);\r\n\r\n        Graphics2D g2d = bufferedImage.createGraphics();\r\n\r\n        g2d.setColor(Color.black);\r\n        g2d.fillRect(0, 0, 1920, 1080);\r\n        g2d.dispose();\r\n        \r\n        \r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    return &quot;error&quot;;\r\n}`\r\n```\r\n","title":"Inserting an image by coordinates","body":"<p>Can I somehow insert an image by coordinates into another image?</p>\n<p>A MultipartFile comes to me with an image, if its aspect ratio != 16:9, then I generate a new image with that aspect ratio and black and in the middle of it I need to insert the image that came to me.</p>\n<p>At the moment I can only generate a black image, but I have no way to figure out how to insert the image by coordinates into another image.\nI tried using Graphics2D.drawImage(), but it didn't work for me.</p>\n<pre><code>`public static String getImageAndReturnPathToResult(MultipartFile multipartFile){\n    try{\n&gt; //Image taken from the front\n        BufferedImage image = ImageIO.read(multipartFile.getInputStream()); \n\n&gt; //Generating a new black image\n        BufferedImage bufferedImage = new BufferedImage(1920, 1080, BufferedImage.TYPE_INT_RGB);\n\n        Graphics2D g2d = bufferedImage.createGraphics();\n\n        g2d.setColor(Color.black);\n        g2d.fillRect(0, 0, 1920, 1080);\n        g2d.dispose();\n        \n        \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return &quot;error&quot;;\n}`\n</code></pre>\n"},{"tags":["java","xml","parsing","recursion","dom"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1669129799,"post_id":74534755,"comment_id":131570930,"body_markdown":"`split(&quot;.&quot;, -1)` —The `split` method expects a regular expression.  A period is a special character in a regular expression, unless escaped.","body":"<code>split(&quot;.&quot;, -1)</code> —The <code>split</code> method expects a regular expression.  A period is a special character in a regular expression, unless escaped."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1669135521,"post_id":74534755,"comment_id":131573340,"body_markdown":"Your spec doesn&#39;t make sense or is incomplete. It&#39;s not possible to translate the given tabular data into XML as the source data doesn&#39;t provide the leaf values (1, x, Fifth av etc). The source format is also odd in other ways - the &quot;xml_parent&quot; field is actually providing a path and not a parent. The &quot;order&quot; field is not clear either. Seems like a contrived and not well-thought out spec.","body":"Your spec doesn&#39;t make sense or is incomplete. It&#39;s not possible to translate the given tabular data into XML as the source data doesn&#39;t provide the leaf values (1, x, Fifth av etc). The source format is also odd in other ways - the &quot;xml_parent&quot; field is actually providing a path and not a parent. The &quot;order&quot; field is not clear either. Seems like a contrived and not well-thought out spec."}],"owner":{"account_id":3456383,"reputation":33,"user_id":2894802,"display_name":"Jonas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669130676,"creation_date":1669129459,"question_id":74534755,"body_markdown":"I have a ordered list.\r\n\r\n```\r\norder, xml_parent, xml_field\r\n1,Identification,Id\r\n2,Identification.Name,LastName\r\n3,Identification.Name,FirstName\r\n4,Identification.OfficialAddress,StreetName\r\n5,Identification.OfficialAddress,StreetNumber\r\n7,Identification.OfficialAddress,PostalCode\r\n8,Identification.OfficialAddress,City\r\n9,Identification.OfficialAddress,Country\r\n10,Identification.Nationality\r\n13,ReasonIntroduction.AskSomething,FromDate\r\n14,ReasonIntroduction.AskMore,FirstTime\r\n```\r\nwhich needs to be parsed to\r\n```\r\n&lt;root&gt;\r\n    &lt;Identification&gt;\r\n        &lt;Id&gt;1&lt;/Id&gt;\r\n        &lt;Name&gt;\r\n            &lt;LastName&gt;x&lt;/LastName&gt;\r\n            &lt;FirstName&gt;x&lt;/FirstName&gt;\r\n        &lt;/Name&gt;\r\n        &lt;OfficialAddress&gt;\r\n            &lt;StreetName&gt;Fifth av.&lt;/StreetName&gt;\r\n            &lt;StreetNumber&gt;5&lt;/StreetNumber&gt;\r\n            &lt;PostalCode&gt;3212&lt;/PostalCode&gt;\r\n            &lt;City&gt;3212&lt;/City&gt;\r\n            &lt;Country&gt;UK&lt;/Country&gt;\r\n         &lt;/OfficialAddress&gt;\r\n         &lt;Nationality&gt;Qatar&lt;/Nationality&gt;\r\n    &lt;/Identification&gt;\r\n    &lt;ReasonIntroduction&gt;\r\n        &lt;AskSomething&gt;true&lt;/AskSomething&gt;\r\n        &lt;AskMore&gt;true&lt;/AskMore&gt;\r\n    &lt;/ReasonIntroduction&gt;\r\n&lt;/root&gt;\r\n```\r\nMy file is not that huge so I&#39;ll be using java DOM parsing.\r\n\r\nInstead of looping over this ordered list, I would like to use recursion to handle this but I do not get how I can get the &quot;next&quot; value.\r\n\r\nSo when treating &quot;Identification.Name&quot; for handling the &quot;LastName&quot; how do I get the &quot;next&quot; element &quot;FirstName&quot; which I do include under &lt;Identification&gt;&lt;Name&gt;&lt;LastName&gt;&lt;/LastName&gt;&lt;/Name&gt;&lt;/Identification&gt;.\r\n\r\nI&#39;m pretty sure recursion is the right way but I&#39;m missing some dots.\r\n\r\n```\r\n\r\nList&lt;String&gt; parentList = Arrays.asList(parentXmlName.split(&quot;\\\\.&quot;, -1));\r\n\r\nElement parentElement = document.createElement(field.getXmlParentName());\r\nElement element = document.createElement(field.getXmlName());\r\nelement.setTextContent(field.getValue());\r\nparentElement.appendChild(element);\r\n```","title":"parse xml based on ordered List","body":"<p>I have a ordered list.</p>\n<pre><code>order, xml_parent, xml_field\n1,Identification,Id\n2,Identification.Name,LastName\n3,Identification.Name,FirstName\n4,Identification.OfficialAddress,StreetName\n5,Identification.OfficialAddress,StreetNumber\n7,Identification.OfficialAddress,PostalCode\n8,Identification.OfficialAddress,City\n9,Identification.OfficialAddress,Country\n10,Identification.Nationality\n13,ReasonIntroduction.AskSomething,FromDate\n14,ReasonIntroduction.AskMore,FirstTime\n</code></pre>\n<p>which needs to be parsed to</p>\n<pre><code>&lt;root&gt;\n    &lt;Identification&gt;\n        &lt;Id&gt;1&lt;/Id&gt;\n        &lt;Name&gt;\n            &lt;LastName&gt;x&lt;/LastName&gt;\n            &lt;FirstName&gt;x&lt;/FirstName&gt;\n        &lt;/Name&gt;\n        &lt;OfficialAddress&gt;\n            &lt;StreetName&gt;Fifth av.&lt;/StreetName&gt;\n            &lt;StreetNumber&gt;5&lt;/StreetNumber&gt;\n            &lt;PostalCode&gt;3212&lt;/PostalCode&gt;\n            &lt;City&gt;3212&lt;/City&gt;\n            &lt;Country&gt;UK&lt;/Country&gt;\n         &lt;/OfficialAddress&gt;\n         &lt;Nationality&gt;Qatar&lt;/Nationality&gt;\n    &lt;/Identification&gt;\n    &lt;ReasonIntroduction&gt;\n        &lt;AskSomething&gt;true&lt;/AskSomething&gt;\n        &lt;AskMore&gt;true&lt;/AskMore&gt;\n    &lt;/ReasonIntroduction&gt;\n&lt;/root&gt;\n</code></pre>\n<p>My file is not that huge so I'll be using java DOM parsing.</p>\n<p>Instead of looping over this ordered list, I would like to use recursion to handle this but I do not get how I can get the &quot;next&quot; value.</p>\n<p>So when treating &quot;Identification.Name&quot; for handling the &quot;LastName&quot; how do I get the &quot;next&quot; element &quot;FirstName&quot; which I do include under .</p>\n<p>I'm pretty sure recursion is the right way but I'm missing some dots.</p>\n<pre><code>\nList&lt;String&gt; parentList = Arrays.asList(parentXmlName.split(&quot;\\\\.&quot;, -1));\n\nElement parentElement = document.createElement(field.getXmlParentName());\nElement element = document.createElement(field.getXmlName());\nelement.setTextContent(field.getValue());\nparentElement.appendChild(element);\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":18503295,"reputation":53,"user_id":13480123,"display_name":"User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669130504,"creation_date":1669107517,"question_id":74529886,"body_markdown":"I am creating an attendance app in which I want to block floating apps (like WhatsApp) to prevent sharing of code, I want to block or detect floating apps.\r\nBelow I have shared an image of the floating app.\r\n\r\n[![Floating window on my app photo][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n6qz3.png\r\n\r\nWhat I have tried:\r\n1) Adding setOnFocusChangeListener to my Edittext where code is entered to know if focus goes to another app, But even on changing focus to other apps my setOnFocusChangeListener is not working, Below is the code I used:\r\n\r\n        codeView.setOnFocusChangeListener((v, hasFocus) -&gt; {\r\n            if (!hasFocus) {\r\n                checkCurrentRollNoAndRemoveAttendance();\r\n            }\r\n        });\r\n \r\n2) https://stackoverflow.com/questions/39200416/how-to-fix-screen-overlay-detected-programmatically\r\n\r\n3) https://stackoverflow.com/questions/50231275/where-to-androidfiltertoucheswhenobscured\r\n\r\n4) https://stackoverflow.com/questions/36923301/android-detect-or-block-floating-overlaying-apps\r\n\r\n5) https://stackoverflow.com/questions/70437628/prevent-losing-focus-on-edittext-when-clicking-on-a-button-in-android","title":"How to disable floating apps when my Android app is running","body":"<p>I am creating an attendance app in which I want to block floating apps (like WhatsApp) to prevent sharing of code, I want to block or detect floating apps.\nBelow I have shared an image of the floating app.</p>\n<p><a href=\"https://i.stack.imgur.com/n6qz3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n6qz3.png\" alt=\"Floating window on my app photo\" /></a></p>\n<p>What I have tried:</p>\n<ol>\n<li><p>Adding setOnFocusChangeListener to my Edittext where code is entered to know if focus goes to another app, But even on changing focus to other apps my setOnFocusChangeListener is not working, Below is the code I used:</p>\n<pre><code> codeView.setOnFocusChangeListener((v, hasFocus) -&gt; {\n     if (!hasFocus) {\n         checkCurrentRollNoAndRemoveAttendance();\n     }\n });\n</code></pre>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/39200416/how-to-fix-screen-overlay-detected-programmatically\">how to fix screen overlay detected programmatically</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/50231275/where-to-androidfiltertoucheswhenobscured\">Where to android:filterTouchesWhenObscured?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/36923301/android-detect-or-block-floating-overlaying-apps\">Android detect or block floating/overlaying apps</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/70437628/prevent-losing-focus-on-edittext-when-clicking-on-a-button-in-android\">Prevent losing focus on EditText when clicking on a button in Android</a></p>\n</li>\n</ol>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669026907,"creation_date":1669026907,"answer_id":74517544,"question_id":74517425,"body_markdown":"You can serialize the custom data type and save it to database: \r\n\r\n[How to Serialize objects in java exampe][1]\r\n\r\nAlso you can get hint/ help from \r\n[How to Serialize object in Java - stackoverflow][2]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Database-SQL-JDBC/HowtoserializedeserializeaJavaobjecttotheMySQLdatabase.htm\r\n  [2]: https://stackoverflow.com/questions/26901706/how-to-save-a-serialized-object-in-a-database","title":"Retrieving data from a table with user defined column type in jdbc","body":"<p>You can serialize the custom data type and save it to database:</p>\n<p><a href=\"http://www.java2s.com/Code/Java/Database-SQL-JDBC/HowtoserializedeserializeaJavaobjecttotheMySQLdatabase.htm\" rel=\"nofollow noreferrer\">How to Serialize objects in java exampe</a></p>\n<p>Also you can get hint/ help from\n<a href=\"https://stackoverflow.com/questions/26901706/how-to-save-a-serialized-object-in-a-database\">How to Serialize object in Java - stackoverflow</a></p>\n"}],"owner":{"account_id":26971947,"reputation":11,"user_id":20537837,"display_name":"abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669130255,"creation_date":1669026367,"question_id":74517425,"body_markdown":"I have a table report. It has a column NAME which has a user-defined datatype.\r\n\r\nI want to retrieve that data from the database using the JDBC API.\r\nStack Overflow already has the same question but that is for PLSQL procedure with the user-defined data type.\r\n\r\nIn my case I am using result set to get the output, but don&#39;t know exactly how to do it. How can I get the data from user defined column type?\r\n\r\nI tried using STRUCT but can do it.\r\n\r\nI wrote this code after doing some research.\r\n\r\n```\r\nwhile (orset.next()) {\r\n            System.out.println(&quot;inside first for loop&quot;);\r\n            Object data = (Object) ((Array) orset.getObject(&quot;Parameter&quot;)).getArray();\r\n            Struct row = (Struct) data;\r\n            // Attributes are index 1 based...\r\n            int idx = 1;\r\n            for (Object attribute : row.getAttributes()) {\r\n                System.out.println(&quot;inside 2nd for loop&quot;);\r\n                System.out.println(idx + &quot; -- &quot; + attribute);\r\n                ++idx;\r\n            }\r\n\r\n        }\r\n```","title":"Retrieving data from a table with user defined column type in jdbc","body":"<p>I have a table report. It has a column NAME which has a user-defined datatype.</p>\n<p>I want to retrieve that data from the database using the JDBC API.\nStack Overflow already has the same question but that is for PLSQL procedure with the user-defined data type.</p>\n<p>In my case I am using result set to get the output, but don't know exactly how to do it. How can I get the data from user defined column type?</p>\n<p>I tried using STRUCT but can do it.</p>\n<p>I wrote this code after doing some research.</p>\n<pre><code>while (orset.next()) {\n            System.out.println(&quot;inside first for loop&quot;);\n            Object data = (Object) ((Array) orset.getObject(&quot;Parameter&quot;)).getArray();\n            Struct row = (Struct) data;\n            // Attributes are index 1 based...\n            int idx = 1;\n            for (Object attribute : row.getAttributes()) {\n                System.out.println(&quot;inside 2nd for loop&quot;);\n                System.out.println(idx + &quot; -- &quot; + attribute);\n                ++idx;\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"score":3,"creation_date":1361965996,"post_id":15111420,"comment_id":21262818,"body_markdown":"http://stackoverflow.com/questions/10575624/java-string-see-if-a-string-contains-only-numbers-and-not-letters","body":"<a href=\"http://stackoverflow.com/questions/10575624/java-string-see-if-a-string-contains-only-numbers-and-not-letters\" title=\"java string see if a string contains only numbers and not letters\">stackoverflow.com/questions/10575624/&hellip;</a>"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1361966129,"post_id":15111420,"comment_id":21262900,"body_markdown":"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\n\\d \tA digit: [0-9]","body":"<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a> \\d \tA digit: [0-9]"},{"owner":{"account_id":2087685,"reputation":16041,"user_id":1858225,"accept_rate":74,"display_name":"Kyle Strand"},"score":2,"creation_date":1441991910,"post_id":15111420,"comment_id":52915778,"body_markdown":"You should read up on regular expressions. They have two primary elements: atoms and *quantifiers*. You&#39;ve specified an atom without specifying a quantifier.","body":"You should read up on regular expressions. They have two primary elements: atoms and <i>quantifiers</i>. You&#39;ve specified an atom without specifying a quantifier."}],"answers":[{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":4,"creation_date":1361966028,"post_id":15111441,"comment_id":21262840,"body_markdown":"What happens if it&#39;s a string which contains more digits than Integer can support ?","body":"What happens if it&#39;s a string which contains more digits than Integer can support ?"},{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1361966048,"post_id":15111441,"comment_id":21262851,"body_markdown":"@BrianAgnew you have a very big number, changed to long.","body":"@BrianAgnew you have a very big number, changed to long."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":3,"creation_date":1361966226,"post_id":15111441,"comment_id":21262955,"body_markdown":"What happens if it&#39;s a string which contains more digits than Long can support ?","body":"What happens if it&#39;s a string which contains more digits than Long can support ?"},{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1361966274,"post_id":15111441,"comment_id":21262977,"body_markdown":"@BrianAgnew I change my answer to big decimal ... and then you say the same again ? (i am not arguing with your point, but I think my answer can still be useful in some cases). Such as you want to actually use the data in your code, not just validate it.","body":"@BrianAgnew I change my answer to big decimal ... and then you say the same again ? (i am not arguing with your point, but I think my answer can still be useful in some cases). Such as you want to actually use the data in your code, not just validate it."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":4,"creation_date":1361966418,"post_id":15111441,"comment_id":21263050,"body_markdown":"I&#39;ll keep on saying it so long as you promote an answer with a limited number of supported digits :-) Unless you highlight that as a limitation of the answer (which I don&#39;t think is *unreasonable* - practicalities should be observed). I do in fact think what you&#39;re proposing is a useful answer, and had considered it myself","body":"I&#39;ll keep on saying it so long as you promote an answer with a limited number of supported digits :-) Unless you highlight that as a limitation of the answer (which I don&#39;t think is <i>unreasonable</i> - practicalities should be observed). I do in fact think what you&#39;re proposing is a useful answer, and had considered it myself"},{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1361966528,"post_id":15111441,"comment_id":21263100,"body_markdown":"@BrianAgnew  I think your comment has done that for me but I have editted anyway","body":"@BrianAgnew  I think your comment has done that for me but I have editted anyway"},{"owner":{"account_id":1503703,"reputation":66,"user_id":1408092,"display_name":"ccdan"},"score":1,"creation_date":1509218630,"post_id":15111441,"comment_id":80933605,"body_markdown":"It&#39;s a really bad idea to use exception handling for this kind of check. For every exception that is caught, an object will be created and a stack trace will also be (re)created. If you&#39;re processing a non-trivial amount of data, you&#39;ll waste a ridiculous amount of resources for a rather trivial task.","body":"It&#39;s a really bad idea to use exception handling for this kind of check. For every exception that is caught, an object will be created and a stack trace will also be (re)created. If you&#39;re processing a non-trivial amount of data, you&#39;ll waste a ridiculous amount of resources for a rather trivial task."}],"tags":[],"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":7,"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1361966537,"creation_date":1361965966,"answer_id":15111441,"question_id":15111420,"body_markdown":"    Long.parseLong(data)\r\n\r\nand catch exception, it handles minus sign. \r\n\r\nAlthough the number of digits is limited this actually creates a variable of the data which can be used, which is, I would imagine, the most common use-case.","title":"How to check if a string contains only digits in Java","body":"<pre><code>Long.parseLong(data)\n</code></pre>\n\n<p>and catch exception, it handles minus sign. </p>\n\n<p>Although the number of digits is limited this actually creates a variable of the data which can be used, which is, I would imagine, the most common use-case.</p>\n"},{"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":0,"down_vote_count":1,"up_vote_count":414,"is_accepted":true,"score":413,"last_activity_date":1565959736,"creation_date":1361965999,"answer_id":15111450,"question_id":15111420,"body_markdown":"Try\r\n\r\n    String regex = &quot;[0-9]+&quot;;\r\n\r\nor\r\n\r\n    String regex = &quot;\\\\d+&quot;;\r\n\r\nAs per Java *regular expressions*, the  `+` means &quot;one or more times&quot; and `\\d` means &quot;a digit&quot;.\r\n\r\nNote: the &quot;double backslash&quot; is an *escape sequence* to get a single backslash - therefore, `\\\\d` in a java String gives you the actual result: `\\d`\r\n\r\n**References:**\r\n\r\n* [Java Regular Expressions][1]\r\n\r\n* [Java Character Escape Sequences][2]\r\n\r\n----------\r\n\r\n**Edit:** due to some confusion in other answers, I am writing a test case and will explain some more things in detail.\r\n\r\nFirstly, if you are in doubt about the correctness of this solution (or others), please run this test case:\r\n\r\n    String regex = &quot;\\\\d+&quot;;\r\n\r\n    // positive test cases, should all be &quot;true&quot;\r\n    System.out.println(&quot;1&quot;.matches(regex));\r\n    System.out.println(&quot;12345&quot;.matches(regex));\r\n    System.out.println(&quot;123456789&quot;.matches(regex));\r\n\r\n    // negative test cases, should all be &quot;false&quot;\r\n    System.out.println(&quot;&quot;.matches(regex));\r\n    System.out.println(&quot;foo&quot;.matches(regex));\r\n    System.out.println(&quot;aa123bb&quot;.matches(regex));\r\n\r\n## Question 1:\r\n&gt; ### Isn&#39;t it necessary to add `^` and `$` to the regex, so it won&#39;t match &quot;aa123bb&quot; ?\r\n\r\n**No.** In java, the `matches` method (which was specified in the question) matches a complete string, not fragments. In other words, it is not necessary to use `^\\\\d+$` (even though it is also correct). Please see the last negative test case.\r\n\r\nPlease note that if you use an online &quot;regex checker&quot; then this may behave differently. To match fragments of a string in Java, you can use the `find` method instead, described in detail here:\r\n\r\nhttps://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex\r\n\r\n## Question 2: \r\n&gt; ###  Won&#39;t this regex also match the empty string, `&quot;&quot;` ?*\r\n\r\n**No.** A regex `\\\\d*` would match the empty string, but `\\\\d+` does not. The star `*` means zero or more, whereas the plus `+` means one or more. Please see the first negative test case.\r\n\r\n## Question 3\r\n&gt; ### Isn&#39;t it faster to compile a regex Pattern?\r\n\r\n**Yes.** It is indeed faster to compile a regex Pattern once, rather than on every invocation of `matches`, and so if performance implications are important then a `Pattern` can be compiled and used like this:\r\n\r\n    Pattern pattern = Pattern.compile(regex);\r\n    System.out.println(pattern.matcher(&quot;1&quot;).matches());\r\n    System.out.println(pattern.matcher(&quot;12345&quot;).matches());\r\n    System.out.println(pattern.matcher(&quot;123456789&quot;).matches());\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/data/characters.html","title":"How to check if a string contains only digits in Java","body":"<p>Try</p>\n\n<pre><code>String regex = \"[0-9]+\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>String regex = \"\\\\d+\";\n</code></pre>\n\n<p>As per Java <em>regular expressions</em>, the  <code>+</code> means \"one or more times\" and <code>\\d</code> means \"a digit\".</p>\n\n<p>Note: the \"double backslash\" is an <em>escape sequence</em> to get a single backslash - therefore, <code>\\\\d</code> in a java String gives you the actual result: <code>\\d</code></p>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Java Regular Expressions</a></p></li>\n<li><p><a href=\"http://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"noreferrer\">Java Character Escape Sequences</a></p></li>\n</ul>\n\n<hr>\n\n<p><strong>Edit:</strong> due to some confusion in other answers, I am writing a test case and will explain some more things in detail.</p>\n\n<p>Firstly, if you are in doubt about the correctness of this solution (or others), please run this test case:</p>\n\n<pre><code>String regex = \"\\\\d+\";\n\n// positive test cases, should all be \"true\"\nSystem.out.println(\"1\".matches(regex));\nSystem.out.println(\"12345\".matches(regex));\nSystem.out.println(\"123456789\".matches(regex));\n\n// negative test cases, should all be \"false\"\nSystem.out.println(\"\".matches(regex));\nSystem.out.println(\"foo\".matches(regex));\nSystem.out.println(\"aa123bb\".matches(regex));\n</code></pre>\n\n<h2>Question 1:</h2>\n\n<blockquote>\n  <h3>Isn't it necessary to add <code>^</code> and <code>$</code> to the regex, so it won't match \"aa123bb\" ?</h3>\n</blockquote>\n\n<p><strong>No.</strong> In java, the <code>matches</code> method (which was specified in the question) matches a complete string, not fragments. In other words, it is not necessary to use <code>^\\\\d+$</code> (even though it is also correct). Please see the last negative test case.</p>\n\n<p>Please note that if you use an online \"regex checker\" then this may behave differently. To match fragments of a string in Java, you can use the <code>find</code> method instead, described in detail here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex\">Difference between matches() and find() in Java Regex</a></p>\n\n<h2>Question 2:</h2>\n\n<blockquote>\n  <h3>Won't this regex also match the empty string, <code>\"\"</code> ?*</h3>\n</blockquote>\n\n<p><strong>No.</strong> A regex <code>\\\\d*</code> would match the empty string, but <code>\\\\d+</code> does not. The star <code>*</code> means zero or more, whereas the plus <code>+</code> means one or more. Please see the first negative test case.</p>\n\n<h2>Question 3</h2>\n\n<blockquote>\n  <h3>Isn't it faster to compile a regex Pattern?</h3>\n</blockquote>\n\n<p><strong>Yes.</strong> It is indeed faster to compile a regex Pattern once, rather than on every invocation of <code>matches</code>, and so if performance implications are important then a <code>Pattern</code> can be compiled and used like this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(regex);\nSystem.out.println(pattern.matcher(\"1\").matches());\nSystem.out.println(pattern.matcher(\"12345\").matches());\nSystem.out.println(pattern.matcher(\"123456789\").matches());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370355,"reputation":5676,"user_id":1305740,"display_name":"Carlo Pellegrini"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1361966017,"creation_date":1361966017,"answer_id":15111458,"question_id":15111420,"body_markdown":"You must allow for more than a digit (the `+` sign) as in:\r\n\r\n    String regex = &quot;[0-9]+&quot;; \r\n    String data = &quot;23343453&quot;; \r\n    System.out.println(data.matches(regex));","title":"How to check if a string contains only digits in Java","body":"<p>You must allow for more than a digit (the <code>+</code> sign) as in:</p>\n\n<pre><code>String regex = \"[0-9]+\"; \nString data = \"23343453\"; \nSystem.out.println(data.matches(regex));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":930869,"reputation":3743,"user_id":960778,"accept_rate":69,"display_name":"Apurv"},"score":1,"creation_date":1361968118,"post_id":15111463,"comment_id":21263942,"body_markdown":"@user2065083 Its always recommended to user standard API to solve your problem. Anyone giving it a single read can understand (and maintain) your code. So its beneficial from long term point of view.","body":"@user2065083 Its always recommended to user standard API to solve your problem. Anyone giving it a single read can understand (and maintain) your code. So its beneficial from long term point of view."},{"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"score":4,"creation_date":1408020914,"post_id":15111463,"comment_id":39447340,"body_markdown":"Note that this method matches also **Unicode digits**.","body":"Note that this method matches also <b>Unicode digits</b>."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":3,"creation_date":1446117315,"post_id":15111463,"comment_id":54615226,"body_markdown":"Note that this will also match strings such as `0xAF`, `2.3e-4` and `123L`.","body":"Note that this will also match strings such as <code>0xAF</code>, <code>2.3e-4</code> and <code>123L</code>."},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":4,"creation_date":1457793562,"post_id":15111463,"comment_id":59573220,"body_markdown":"Note to import `org.apache.commons.lang.math.NumberUtils` instead of `org.apache.commons.lang.NumberUtils` which is deprecated.","body":"Note to import <code>org.apache.commons.lang.math.NumberUtils</code> instead of <code>org.apache.commons.lang.NumberUtils</code> which is deprecated."},{"owner":{"account_id":434034,"reputation":18496,"user_id":819732,"accept_rate":80,"display_name":"kasdega"},"score":1,"creation_date":1516726567,"post_id":15111463,"comment_id":83802908,"body_markdown":"There is a caveat to this that bears mentioning.  If you do this know that NumberUtil.isNumber(&quot;1000D&quot;) will return true, so if you&#39;re really looking for only digits this this will not work.","body":"There is a caveat to this that bears mentioning.  If you do this know that NumberUtil.isNumber(&quot;1000D&quot;) will return true, so if you&#39;re really looking for only digits this this will not work."},{"owner":{"account_id":9747335,"reputation":1345,"user_id":7226842,"accept_rate":73,"display_name":"Emmanuel Guiton"},"score":0,"creation_date":1643211138,"post_id":15111463,"comment_id":125279847,"body_markdown":"From Apache Commons, StringUtils.isNumeric(CharSequence cs) gives the expected result https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric-java.lang.CharSequence-","body":"From Apache Commons, StringUtils.isNumeric(CharSequence cs) gives the expected result <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#isNumeric-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":17244140,"reputation":797,"user_id":12485815,"display_name":"francisco neto"},"score":0,"creation_date":1672319452,"post_id":15111463,"comment_id":132266267,"body_markdown":"If the string starts with 0, the apache method will return false if any of the following digits is not allowed in an octal number (i.e. digit &gt; 7). Example `NumberUtils.isCreatable(&quot;0228&quot;)` returns false because of the 8 digit.","body":"If the string starts with 0, the apache method will return false if any of the following digits is not allowed in an octal number (i.e. digit &gt; 7). Example <code>NumberUtils.isCreatable(&quot;0228&quot;)</code> returns false because of the 8 digit."},{"owner":{"account_id":17244140,"reputation":797,"user_id":12485815,"display_name":"francisco neto"},"score":0,"creation_date":1672320143,"post_id":15111463,"comment_id":132266473,"body_markdown":"`NumberUtils.isNumber(String)` is deprecated. This feature will be removed in Lang 4.0, use `isCreatable(String)` instead.","body":"<code>NumberUtils.isNumber(String)</code> is deprecated. This feature will be removed in Lang 4.0, use <code>isCreatable(String)</code> instead."},{"owner":{"account_id":5157871,"reputation":889,"user_id":4130569,"display_name":"starkm"},"score":0,"creation_date":1683196833,"post_id":15111463,"comment_id":134330945,"body_markdown":"It might better to use `NumberUtils.isDigits` instead. In order to dodge the unicodes from evaluation.","body":"It might better to use <code>NumberUtils.isDigits</code> instead. In order to dodge the unicodes from evaluation."}],"tags":[],"owner":{"account_id":930869,"reputation":3743,"user_id":960778,"accept_rate":69,"display_name":"Apurv"},"comment_count":9,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1441962813,"creation_date":1361966030,"answer_id":15111463,"question_id":15111420,"body_markdown":"You can also use [NumberUtil.isNumber(String str)][1] from Apache Commons\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html#isDigits(java.lang.String)","title":"How to check if a string contains only digits in Java","body":"<p>You can also use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html#isDigits(java.lang.String)\" rel=\"noreferrer\">NumberUtil.isNumber(String str)</a> from Apache Commons</p>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1361966759,"creation_date":1361966759,"answer_id":15111715,"question_id":15111420,"body_markdown":"One more solution, that hasn&#39;t been posted, yet:\r\n\r\n    String regex = &quot;\\\\p{Digit}+&quot;; // uses POSIX character class","title":"How to check if a string contains only digits in Java","body":"<p>One more solution, that hasn't been posted, yet:</p>\n\n<pre><code>String regex = \"\\\\p{Digit}+\"; // uses POSIX character class\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3200349,"reputation":5199,"user_id":2702510,"accept_rate":25,"display_name":"Ean V"},"score":1,"creation_date":1454763450,"post_id":35150400,"comment_id":58196435,"body_markdown":"Have you done any benchmarking between your solution and regex? I doubt it performs better than regex but can&#39;t be sure!","body":"Have you done any benchmarking between your solution and regex? I doubt it performs better than regex but can&#39;t be sure!"},{"owner":{"account_id":2239560,"reputation":29954,"user_id":1977620,"accept_rate":54,"display_name":"Max Malysh"},"score":1,"creation_date":1454776720,"post_id":35150400,"comment_id":58200928,"body_markdown":"@Ean well, I&#39;ve just made a benchmark: https://gist.github.com/maxmalysh/a991bbe4a923539f19fb. The difference for short strings is negligible. However, streams work better for really long strings (2x times faster for 100-million character string).","body":"@Ean well, I&#39;ve just made a benchmark: <a href=\"https://gist.github.com/maxmalysh/a991bbe4a923539f19fb\" rel=\"nofollow noreferrer\">gist.github.com/maxmalysh/a991bbe4a923539f19fb</a>. The difference for short strings is negligible. However, streams work better for really long strings (2x times faster for 100-million character string)."},{"owner":{"account_id":3200349,"reputation":5199,"user_id":2702510,"accept_rate":25,"display_name":"Ean V"},"score":1,"creation_date":1455078668,"post_id":35150400,"comment_id":58323672,"body_markdown":"Yes, makes sense for large strings. Should&#39;ve mentioned I meant for this question.","body":"Yes, makes sense for large strings. Should&#39;ve mentioned I meant for this question."},{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":3,"creation_date":1525290334,"post_id":35150400,"comment_id":87303010,"body_markdown":"@MaxMalysh great answer! `Character.isDigit(x)` can be further simplified to `Character::isDigit`.","body":"@MaxMalysh great answer! <code>Character.isDigit(x)</code> can be further simplified to <code>Character::isDigit</code>."},{"owner":{"account_id":1651105,"reputation":752,"user_id":1521710,"display_name":"Igor Vuković"},"score":0,"creation_date":1603180799,"post_id":35150400,"comment_id":113947349,"body_markdown":"&quot;0१२३14586&quot; this will also pass as numeric :)\n\n\n    &#39;\\u0030&#39; through &#39;\\u0039&#39;, ISO-LATIN-1 digits (&#39;0&#39; through &#39;9&#39;)\n    &#39;\\u0660&#39; through &#39;\\u0669&#39;, Arabic-Indic digits\n    &#39;\\u06F0&#39; through &#39;\\u06F9&#39;, Extended Arabic-Indic digits\n    &#39;\\u0966&#39; through &#39;\\u096F&#39;, Devanagari digits\n    &#39;\\uFF10&#39; through &#39;\\uFF19&#39;, Fullwidth digits","body":"&quot;0१२३14586&quot; this will also pass as numeric :)       &#39;\\u0030&#39; through &#39;\\u0039&#39;, ISO-LATIN-1 digits (&#39;0&#39; through &#39;9&#39;)     &#39;\\u0660&#39; through &#39;\\u0669&#39;, Arabic-Indic digits     &#39;\\u06F0&#39; through &#39;\\u06F9&#39;, Extended Arabic-Indic digits     &#39;\\u0966&#39; through &#39;\\u096F&#39;, Devanagari digits     &#39;\\uFF10&#39; through &#39;\\uFF19&#39;, Fullwidth digits"},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1635746059,"post_id":35150400,"comment_id":123367461,"body_markdown":"Fails on a decimal point.","body":"Fails on a decimal point."}],"tags":[],"owner":{"account_id":2239560,"reputation":29954,"user_id":1977620,"accept_rate":54,"display_name":"Max Malysh"},"comment_count":6,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1454407678,"creation_date":1454407678,"answer_id":35150400,"question_id":15111420,"body_markdown":"Using regular expressions is costly in terms of performance. Trying to parse string as a long value is inefficient and unreliable, and may be not what you need.\r\n\r\nWhat I suggest is to simply check if each character is a digit, what can be efficiently done using Java 8 lambda expressions:\r\n\r\n    boolean isNumeric = someString.chars().allMatch(x -&gt; Character.isDigit(x));","title":"How to check if a string contains only digits in Java","body":"<p>Using regular expressions is costly in terms of performance. Trying to parse string as a long value is inefficient and unreliable, and may be not what you need.</p>\n\n<p>What I suggest is to simply check if each character is a digit, what can be efficiently done using Java 8 lambda expressions:</p>\n\n<pre><code>boolean isNumeric = someString.chars().allMatch(x -&gt; Character.isDigit(x));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5968817,"reputation":898,"user_id":5875052,"display_name":"Phoenix404"},"score":1,"creation_date":1527172283,"post_id":39448666,"comment_id":88036237,"body_markdown":"this fails \n        obj.containNumbersOnly(&quot;0123456,058782&quot;);","body":"this fails          obj.containNumbersOnly(&quot;0123456,058782&quot;);"}],"tags":[],"owner":{"account_id":1674383,"reputation":221,"user_id":1540221,"display_name":"Luan Vo"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1473677458,"creation_date":1473677458,"answer_id":39448666,"question_id":15111420,"body_markdown":" We can use either `Pattern.compile(&quot;[0-9]+.[0-9]+&quot;)` or `Pattern.compile(&quot;\\\\d+.\\\\d+&quot;)`. They have the same meaning.\r\n\r\nthe pattern [0-9] means digit. The same as &#39;\\d&#39;.\r\n&#39;+&#39; means it appears more times.\r\n&#39;.&#39; for integer or float.\r\n\r\nTry following code:\r\n\r\n   \r\n\r\n \r\n\r\n    import java.util.regex.Pattern;\r\n        \r\n        public class PatternSample {\r\n        \t\r\n        \tpublic boolean containNumbersOnly(String source){\r\n        \t\tboolean result = false;\r\n        \t\tPattern pattern = Pattern.compile(&quot;[0-9]+.[0-9]+&quot;); //correct pattern for both float and integer.\r\n        \t\tpattern = Pattern.compile(&quot;\\\\d+.\\\\d+&quot;); //correct pattern for both float and integer.\r\n        \t\t\r\n        \t\tresult = pattern.matcher(source).matches();\r\n        \t\tif(result){\r\n        \t\t\tSystem.out.println(&quot;\\&quot;&quot; + source + &quot;\\&quot;&quot;  + &quot; is a number&quot;);\r\n        \t\t}else\r\n        \t\t\tSystem.out.println(&quot;\\&quot;&quot; + source + &quot;\\&quot;&quot;  + &quot; is a String&quot;);\r\n        \t\treturn result;\r\n        \t}\r\n        \t\r\n        \tpublic static void main(String[] args){\r\n        \t\tPatternSample obj = new PatternSample();\r\n        \t\tobj.containNumbersOnly(&quot;123456.a&quot;);\r\n        \t\tobj.containNumbersOnly(&quot;123456 &quot;);\r\n        \t\tobj.containNumbersOnly(&quot;123456&quot;);\r\n        \t\tobj.containNumbersOnly(&quot;0123456.0&quot;);\r\n        \t\tobj.containNumbersOnly(&quot;0123456a.0&quot;);\r\n        \t}\r\n        \r\n        }\r\n\r\nOutput:\r\n\r\n    &quot;123456.a&quot; is a String\r\n    &quot;123456 &quot; is a String\r\n    &quot;123456&quot; is a number\r\n    &quot;0123456.0&quot; is a number\r\n    &quot;0123456a.0&quot; is a String\r\n\r\n\r\n\r\n\r\n","title":"How to check if a string contains only digits in Java","body":"<p>We can use either <code>Pattern.compile(\"[0-9]+.[0-9]+\")</code> or <code>Pattern.compile(\"\\\\d+.\\\\d+\")</code>. They have the same meaning.</p>\n\n<p>the pattern [0-9] means digit. The same as '\\d'.\n'+' means it appears more times.\n'.' for integer or float.</p>\n\n<p>Try following code:</p>\n\n<pre><code>import java.util.regex.Pattern;\n\n    public class PatternSample {\n\n        public boolean containNumbersOnly(String source){\n            boolean result = false;\n            Pattern pattern = Pattern.compile(\"[0-9]+.[0-9]+\"); //correct pattern for both float and integer.\n            pattern = Pattern.compile(\"\\\\d+.\\\\d+\"); //correct pattern for both float and integer.\n\n            result = pattern.matcher(source).matches();\n            if(result){\n                System.out.println(\"\\\"\" + source + \"\\\"\"  + \" is a number\");\n            }else\n                System.out.println(\"\\\"\" + source + \"\\\"\"  + \" is a String\");\n            return result;\n        }\n\n        public static void main(String[] args){\n            PatternSample obj = new PatternSample();\n            obj.containNumbersOnly(\"123456.a\");\n            obj.containNumbersOnly(\"123456 \");\n            obj.containNumbersOnly(\"123456\");\n            obj.containNumbersOnly(\"0123456.0\");\n            obj.containNumbersOnly(\"0123456a.0\");\n        }\n\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"123456.a\" is a String\n\"123456 \" is a String\n\"123456\" is a number\n\"0123456.0\" is a number\n\"0123456a.0\" is a String\n</code></pre>\n"},{"comments":[{"owner":{"account_id":211118,"reputation":698,"user_id":463107,"display_name":"DDay"},"score":0,"creation_date":1673555339,"post_id":43098852,"comment_id":132531938,"body_markdown":"OC asked for a regex to match a string of only digits, not all possible numbers.","body":"OC asked for a regex to match a string of only digits, not all possible numbers."}],"tags":[],"owner":{"account_id":3640365,"reputation":21,"user_id":3034617,"display_name":"user3034617"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490803996,"creation_date":1490803996,"answer_id":43098852,"question_id":15111420,"body_markdown":"According to Oracle&#39;s Java Documentation:\r\n\r\n    private static final Pattern NUMBER_PATTERN = Pattern.compile(\r\n\t\t    &quot;[\\\\x00-\\\\x20]*[+-]?(NaN|Infinity|((((\\\\p{Digit}+)(\\\\.)?((\\\\p{Digit}+)?)&quot; +\r\n\t\t    &quot;([eE][+-]?(\\\\p{Digit}+))?)|(\\\\.((\\\\p{Digit}+))([eE][+-]?(\\\\p{Digit}+))?)|&quot; +\r\n\t\t    &quot;(((0[xX](\\\\p{XDigit}+)(\\\\.)?)|(0[xX](\\\\p{XDigit}+)?(\\\\.)(\\\\p{XDigit}+)))&quot; +\r\n\t\t    &quot;[pP][+-]?(\\\\p{Digit}+)))[fFdD]?))[\\\\x00-\\\\x20]*&quot;);\r\n    boolean isNumber(String s){\r\n    return NUMBER_PATTERN.matcher(s).matches()\r\n    }\r\n    ","title":"How to check if a string contains only digits in Java","body":"<p>According to Oracle's Java Documentation:</p>\n\n<pre><code>private static final Pattern NUMBER_PATTERN = Pattern.compile(\n        \"[\\\\x00-\\\\x20]*[+-]?(NaN|Infinity|((((\\\\p{Digit}+)(\\\\.)?((\\\\p{Digit}+)?)\" +\n        \"([eE][+-]?(\\\\p{Digit}+))?)|(\\\\.((\\\\p{Digit}+))([eE][+-]?(\\\\p{Digit}+))?)|\" +\n        \"(((0[xX](\\\\p{XDigit}+)(\\\\.)?)|(0[xX](\\\\p{XDigit}+)?(\\\\.)(\\\\p{XDigit}+)))\" +\n        \"[pP][+-]?(\\\\p{Digit}+)))[fFdD]?))[\\\\x00-\\\\x20]*\");\nboolean isNumber(String s){\nreturn NUMBER_PATTERN.matcher(s).matches()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7180981,"reputation":1,"user_id":5484939,"display_name":"siva"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524244968,"creation_date":1521822085,"answer_id":49454198,"question_id":15111420,"body_markdown":"Try this part of code:\r\n\r\n    void containsOnlyNumbers(String str)\r\n\t{\r\n\t\ttry {\r\n\t\t\tInteger num = Integer.valueOf(str);\r\n\t\t\tSystem.out.println(&quot;is a number&quot;);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tSystem.out.println(&quot;is not a number&quot;);\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to check if a string contains only digits in Java","body":"<p>Try this part of code:</p>\n\n<pre><code>void containsOnlyNumbers(String str)\n{\n    try {\n        Integer num = Integer.valueOf(str);\n        System.out.println(\"is a number\");\n    } catch (NumberFormatException e) {\n        // TODO: handle exception\n        System.out.println(\"is not a number\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23763533,"reputation":2291,"user_id":17778576,"display_name":"Santh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661181864,"creation_date":1648627439,"answer_id":71673637,"question_id":15111420,"body_markdown":"In Java for `String` class, there is a method called `matches()`. With help of this method you can validate the regex expression along with your string.\r\n\r\n```java  \r\nString regex = &quot;^[\\\\d]{4}$&quot;;\r\n   \r\nString value = &quot;1234&quot;;\r\n\r\nSystem.out.println(data.matches(value));\r\n```\r\n\r\n\r\n**The Explanation for the above regex expression is:-**\r\n\r\n* `^` - Indicates the start of the regex expression.\r\n\r\n* `[]`  - Inside this you have to describe your own conditions.\r\n\r\n* `\\\\\\d` - Only allows digits. You can use &#39;\\\\\\d&#39;or 0-9 inside the bracket both are same.\r\n\r\n* `{4}` - This condition allows exactly 4 digits. You can change the number according to your need.\r\n \r\n* `$` - Indicates the end of the regex expression.\r\n\r\n&gt;**Note:** You can remove the `{4}` and specify `+` which means one or more times, or `*` which means zero or more times, or `?` which means once or none.\r\n\r\nFor more reference please go through this website: https://www.rexegg.com/regex-quickstart.html","title":"How to check if a string contains only digits in Java","body":"<p>In Java for <code>String</code> class, there is a method called <code>matches()</code>. With help of this method you can validate the regex expression along with your string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;^[\\\\d]{4}$&quot;;\n   \nString value = &quot;1234&quot;;\n\nSystem.out.println(data.matches(value));\n</code></pre>\n<p><strong>The Explanation for the above regex expression is:-</strong></p>\n<ul>\n<li><p><code>^</code> - Indicates the start of the regex expression.</p>\n</li>\n<li><p><code>[]</code>  - Inside this you have to describe your own conditions.</p>\n</li>\n<li><p><code>\\\\\\d</code> - Only allows digits. You can use '\\\\d'or 0-9 inside the bracket both are same.</p>\n</li>\n<li><p><code>{4}</code> - This condition allows exactly 4 digits. You can change the number according to your need.</p>\n</li>\n<li><p><code>$</code> - Indicates the end of the regex expression.</p>\n</li>\n</ul>\n<blockquote>\n<p><strong>Note:</strong> You can remove the <code>{4}</code> and specify <code>+</code> which means one or more times, or <code>*</code> which means zero or more times, or <code>?</code> which means once or none.</p>\n</blockquote>\n<p>For more reference please go through this website: <a href=\"https://www.rexegg.com/regex-quickstart.html\" rel=\"nofollow noreferrer\">https://www.rexegg.com/regex-quickstart.html</a></p>\n"},{"tags":[],"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669126493,"creation_date":1669126493,"answer_id":74534064,"question_id":15111420,"body_markdown":"# Offical regex way\r\nI would use this regex for integers:\r\n\r\n    ^[-1-9]\\d*$\r\n\r\nThis will also work in other programming languages because it&#39;s more specific and doesn&#39;t make any assumptions about how different programming languages may interpret or handle regex.\r\n## Also works in Java\r\n\r\n    \\\\d+\r\n\r\n## Questions regarding ^ and $\r\nAs [@vikingsteve][1] has pointed out in java, the matches method matches a complete string, not parts of a string. In other words, it is unnecessary to use ^\\\\d+$ (even though it is the official way of regex).\r\n\r\nOnline regex checkers are more strict and therefore they will behave differently than how Java handles regex.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15111450/10686802","title":"How to check if a string contains only digits in Java","body":"<h1>Offical regex way</h1>\n<p>I would use this regex for integers:</p>\n<pre><code>^[-1-9]\\d*$\n</code></pre>\n<p>This will also work in other programming languages because it's more specific and doesn't make any assumptions about how different programming languages may interpret or handle regex.</p>\n<h2>Also works in Java</h2>\n<pre><code>\\\\d+\n</code></pre>\n<h2>Questions regarding ^ and $</h2>\n<p>As <a href=\"https://stackoverflow.com/a/15111450/10686802\">@vikingsteve</a> has pointed out in java, the matches method matches a complete string, not parts of a string. In other words, it is unnecessary to use ^\\d+$ (even though it is the official way of regex).</p>\n<p>Online regex checkers are more strict and therefore they will behave differently than how Java handles regex.</p>\n"},{"tags":[],"owner":{"account_id":27000035,"reputation":34,"user_id":20561457,"display_name":"npe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669129989,"creation_date":1669129989,"answer_id":74534899,"question_id":15111420,"body_markdown":"Refer to org.apache.commons.lang3.StringUtils\r\n```\r\n    public static boolean isNumeric(CharSequence cs) {\r\n        if (cs == null || cs.length() == 0) {\r\n            return false;\r\n        } else {\r\n            int sz = cs.length();\r\n\r\n            for(int i = 0; i &lt; sz; ++i) {\r\n                if (!Character.isDigit(cs.charAt(i))) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n```","title":"How to check if a string contains only digits in Java","body":"<p>Refer to org.apache.commons.lang3.StringUtils</p>\n<pre><code>    public static boolean isNumeric(CharSequence cs) {\n        if (cs == null || cs.length() == 0) {\n            return false;\n        } else {\n            int sz = cs.length();\n\n            for(int i = 0; i &lt; sz; ++i) {\n                if (!Character.isDigit(cs.charAt(i))) {\n                    return false;\n                }\n            }\n\n            return true;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645289,"favorite_count":0,"down_vote_count":1,"up_vote_count":181,"accepted_answer_id":15111450,"answer_count":12,"score":180,"last_activity_date":1669129989,"creation_date":1361965902,"question_id":15111420,"body_markdown":"In Java for String class there is a method called matches, how to use this method to check if my string is having only digits using regular expression. I tried with below examples, but both of them returned me false as result.\r\n\r\n    String regex = &quot;[0-9]&quot;;\r\n    String data = &quot;23343453&quot;;\r\n    System.out.println(data.matches(regex));\r\n\r\n-------------------------\r\n\r\n    String regex = &quot;^[0-9]&quot;;\r\n    String data = &quot;23343453&quot;;\r\n    System.out.println(data.matches(regex));","title":"How to check if a string contains only digits in Java","body":"<p>In Java for String class there is a method called matches, how to use this method to check if my string is having only digits using regular expression. I tried with below examples, but both of them returned me false as result.</p>\n\n<pre><code>String regex = \"[0-9]\";\nString data = \"23343453\";\nSystem.out.println(data.matches(regex));\n</code></pre>\n\n<hr>\n\n<pre><code>String regex = \"^[0-9]\";\nString data = \"23343453\";\nSystem.out.println(data.matches(regex));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":16477305,"reputation":23,"user_id":11904903,"display_name":"Matheus "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669129860,"creation_date":1669129860,"answer_id":74534862,"question_id":74308715,"body_markdown":"For those running the same issue. Here is how i have solved:\r\n\r\nExposed the bean on my security configuration:\r\n\r\n    @Bean \r\n    public OpaqueTokenIntrospector introspector() {\r\n        return new CustomOpaqueTokenIntrospector(this.introspectionUri,this.clientId, this.clientSecret);\r\n      }\r\n\r\n\r\nAnd created a custom class to cache the values found:\r\n\r\n    public class CustomOpaqueTokenIntrospector implements OpaqueTokenIntrospector {\r\n      private final OpaqueTokenIntrospector introspector;\r\n    \r\n      private CacheManager cacheManager;\r\n      private Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; accessTokens;\r\n    CacheManager.createCache(&quot;iamCache&quot;,CacheManager.getRuntimeConfiguration);\r\n      public CustomOpaqueTokenIntrospector(String uri, String clientId, String clientSecret) {\r\n    \r\n        cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build();\r\n        cacheManager.init();\r\n    \r\n        accessTokens = cacheManager.createCache(&quot;iamCache&quot;,\r\n            CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(String.class, OAuth2AuthenticatedPrincipal.class,\r\n                    ResourcePoolsBuilder.heap(1000))\r\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(1800))));\r\n    \r\n        this.introspector = new NimbusOpaqueTokenIntrospector(uri, clientId, clientSecret);\r\n      }\r\n    \r\n      public @Override OAuth2AuthenticatedPrincipal introspect(String token) {\r\n        if (this.accessTokens.containsKey(token)) {\r\n          if (this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;) != null\r\n              &amp;&amp; ((Instant) this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;))\r\n                  .isAfter(Instant.now())) {\r\n            return this.getAccessTokensCacheFromCacheManager().get(token);\r\n          }\r\n          \r\n          this.getAccessTokensCacheFromCacheManager().remove(token);\r\n        }\r\n        OAuth2AuthenticatedPrincipal principal = introspector.introspect(token);\r\n        this.getAccessTokensCacheFromCacheManager().put(token, principal);\r\n    \r\n        return principal;\r\n      }\r\n    \r\n      public Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; getAccessTokensCacheFromCacheManager() {\r\n        return cacheManager.getCache(&quot;iamCache&quot;, String.class, OAuth2AuthenticatedPrincipal.class);\r\n      }\r\n    }\r\n\r\n","title":"How to cache introspect request on Spring Security?","body":"<p>For those running the same issue. Here is how i have solved:</p>\n<p>Exposed the bean on my security configuration:</p>\n<pre><code>@Bean \npublic OpaqueTokenIntrospector introspector() {\n    return new CustomOpaqueTokenIntrospector(this.introspectionUri,this.clientId, this.clientSecret);\n  }\n</code></pre>\n<p>And created a custom class to cache the values found:</p>\n<pre><code>public class CustomOpaqueTokenIntrospector implements OpaqueTokenIntrospector {\n  private final OpaqueTokenIntrospector introspector;\n\n  private CacheManager cacheManager;\n  private Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; accessTokens;\nCacheManager.createCache(&quot;iamCache&quot;,CacheManager.getRuntimeConfiguration);\n  public CustomOpaqueTokenIntrospector(String uri, String clientId, String clientSecret) {\n\n    cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build();\n    cacheManager.init();\n\n    accessTokens = cacheManager.createCache(&quot;iamCache&quot;,\n        CacheConfigurationBuilder\n            .newCacheConfigurationBuilder(String.class, OAuth2AuthenticatedPrincipal.class,\n                ResourcePoolsBuilder.heap(1000))\n            .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(1800))));\n\n    this.introspector = new NimbusOpaqueTokenIntrospector(uri, clientId, clientSecret);\n  }\n\n  public @Override OAuth2AuthenticatedPrincipal introspect(String token) {\n    if (this.accessTokens.containsKey(token)) {\n      if (this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;) != null\n          &amp;&amp; ((Instant) this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;))\n              .isAfter(Instant.now())) {\n        return this.getAccessTokensCacheFromCacheManager().get(token);\n      }\n      \n      this.getAccessTokensCacheFromCacheManager().remove(token);\n    }\n    OAuth2AuthenticatedPrincipal principal = introspector.introspect(token);\n    this.getAccessTokensCacheFromCacheManager().put(token, principal);\n\n    return principal;\n  }\n\n  public Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; getAccessTokensCacheFromCacheManager() {\n    return cacheManager.getCache(&quot;iamCache&quot;, String.class, OAuth2AuthenticatedPrincipal.class);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16477305,"reputation":23,"user_id":11904903,"display_name":"Matheus "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74534862,"answer_count":1,"score":0,"last_activity_date":1669129860,"creation_date":1667504363,"question_id":74308715,"body_markdown":"I&#39;m using Spring Boot to my resource server with OAuth2 authentication. But the authentication server (it&#39;s not ours) is getting instable and can&#39;t resolve sometimes.\r\n\r\nI&#39;ve already read many articles but couldn&#39;t find out how to cache these requests to reduce the amount of 401 on the app.\r\n\r\nMy security configuration is runnning like this:\r\n\r\n\r\n```java \r\n.oauth2ResourceServer()\r\n                .opaqueToken()\r\n                .introspectionClientCredentials(this.clientId, this.clientSecret) \r\n                .introspectionUri(this.introspectionUri);\r\n```\r\n\r\nCould someone help me?\r\n\r\n\r\nPS: I tried to use `@Cacheable`, but I don&#39;t think I tried the right way.","title":"How to cache introspect request on Spring Security?","body":"<p>I'm using Spring Boot to my resource server with OAuth2 authentication. But the authentication server (it's not ours) is getting instable and can't resolve sometimes.</p>\n<p>I've already read many articles but couldn't find out how to cache these requests to reduce the amount of 401 on the app.</p>\n<p>My security configuration is runnning like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.oauth2ResourceServer()\n                .opaqueToken()\n                .introspectionClientCredentials(this.clientId, this.clientSecret) \n                .introspectionUri(this.introspectionUri);\n</code></pre>\n<p>Could someone help me?</p>\n<p>PS: I tried to use <code>@Cacheable</code>, but I don't think I tried the right way.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1669115379,"post_id":74531630,"comment_id":131565510,"body_markdown":"search what is this line, why it is there. you probably should never change that","body":"search what is this line, why it is there. you probably should never change that"}],"answers":[{"tags":[],"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669129810,"creation_date":1669117276,"answer_id":74532073,"question_id":74531630,"body_markdown":"Before I answer your question:\r\n\r\nThis line represents the margin of A4 paper, which is useful mainly in one case:\r\nimagine if that line did not exist and your workmate had a 5120 x 1440 monitor, his/hers &quot;one-liners&quot; would NOT fit into one line on your screen (and if you had line wrapping turned off, you would have to scroll horizontally to see what a line of code does, it would be really annoying!), so if you want to save your workmates or anybody reading your code on a smaller monitor, you should not disable that line\r\n\r\nAnd now the answer to your question:\r\n\r\ngo to:\r\n\r\nEditor -&gt; General -&gt; Appearance -&gt; Show hard wrap guide\r\n\r\n(or File -&gt; Settings -&gt; Editor -&gt; General -&gt; Appearance -&gt; Show hard wrap and visual guides)","title":"How to adjust android stuidio guide line on coding page?","body":"<p>Before I answer your question:</p>\n<p>This line represents the margin of A4 paper, which is useful mainly in one case:\nimagine if that line did not exist and your workmate had a 5120 x 1440 monitor, his/hers &quot;one-liners&quot; would NOT fit into one line on your screen (and if you had line wrapping turned off, you would have to scroll horizontally to see what a line of code does, it would be really annoying!), so if you want to save your workmates or anybody reading your code on a smaller monitor, you should not disable that line</p>\n<p>And now the answer to your question:</p>\n<p>go to:</p>\n<p>Editor -&gt; General -&gt; Appearance -&gt; Show hard wrap guide</p>\n<p>(or File -&gt; Settings -&gt; Editor -&gt; General -&gt; Appearance -&gt; Show hard wrap and visual guides)</p>\n"}],"owner":{"account_id":24084523,"reputation":35,"user_id":18058731,"display_name":"Suicide Hacker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669121799,"accepted_answer_id":74532073,"answer_count":1,"score":0,"last_activity_date":1669129810,"creation_date":1669115294,"question_id":74531630,"body_markdown":"How can i adjust that white line, i want my code cross that line when i do reformat code (cmd + shift + L) my codes adjusting itself which stays on left side of that white line. I want to push that line to right side. Is anyone know how to do that?\r\n\r\n[![White line][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iu3YA.jpg","title":"How to adjust android stuidio guide line on coding page?","body":"<p>How can i adjust that white line, i want my code cross that line when i do reformat code (cmd + shift + L) my codes adjusting itself which stays on left side of that white line. I want to push that line to right side. Is anyone know how to do that?</p>\n<p><a href=\"https://i.stack.imgur.com/Iu3YA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iu3YA.jpg\" alt=\"White line\" /></a></p>\n"},{"tags":["java","testing","appium"],"comments":[{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1669129555,"post_id":74534644,"comment_id":131570824,"body_markdown":"that&#39;s a selenium error, not an OpenCV error. I don&#39;t see ANY indication of OpenCV in that file. error indicates issue way before any visual comparison can take place. complete traceback please. [tour], [ask], [mre]","body":"that&#39;s a selenium error, not an OpenCV error. I don&#39;t see ANY indication of OpenCV in that file. error indicates issue way before any visual comparison can take place. complete traceback please. <a href=\"https://stackoverflow.com/tour\">tour</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"score":0,"creation_date":1669129846,"post_id":74534644,"comment_id":131570944,"body_markdown":"Hi! I did a trace but no clue.. The error throws on this line :  SimilarityMatchingResult res = driver.getImagesSimilarity(baselineImg, driver.getScreenshotAs(OutputType.FILE), opts); no clear info in appium log","body":"Hi! I did a trace but no clue.. The error throws on this line :  SimilarityMatchingResult res = driver.getImagesSimilarity(baselineImg, driver.getScreenshotAs(OutputType.FILE), opts); no clear info in appium log"},{"owner":{"account_id":3072614,"reputation":12307,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1669131073,"post_id":74534644,"comment_id":131571493,"body_markdown":"pull the inner call out and up into a temporary variable. figure out which of the two calls fails.","body":"pull the inner call out and up into a temporary variable. figure out which of the two calls fails."},{"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"score":0,"creation_date":1669132120,"post_id":74534644,"comment_id":131571934,"body_markdown":"I have tried it no luck","body":"I have tried it no luck"},{"owner":{"account_id":5592269,"reputation":265,"user_id":4431073,"accept_rate":80,"display_name":"chmc"},"score":0,"creation_date":1675451270,"post_id":74534644,"comment_id":132939408,"body_markdown":"I&#39;m also encountering this error. Were you able to resolve it, @AzharudeenMohammed?","body":"I&#39;m also encountering this error. Were you able to resolve it, @AzharudeenMohammed?"},{"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"score":1,"creation_date":1675563151,"post_id":74534644,"comment_id":132955986,"body_markdown":"Use this appium --use-plugins=images while starting appium server","body":"Use this appium --use-plugins=images while starting appium server"},{"owner":{"account_id":5592269,"reputation":265,"user_id":4431073,"accept_rate":80,"display_name":"chmc"},"score":0,"creation_date":1675583941,"post_id":74534644,"comment_id":132957794,"body_markdown":"Works perfectly with that command, thank you! Also just to note for anyone else that may encounter this issue using Appium 2.0, you need to install the images plugin before running the above command of starting the server: appium plugin install images","body":"Works perfectly with that command, thank you! Also just to note for anyone else that may encounter this issue using Appium 2.0, you need to install the images plugin before running the above command of starting the server: appium plugin install images"}],"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669129513,"creation_date":1669129023,"question_id":74534644,"body_markdown":"I have tried this example. https://github.com/cloudgrey-io/appiumpro/blob/master/java/src/test/java/Edition098_Visual_Testing_1.java with opencv but it always throws\r\n\r\norg.openqa.selenium.UnsupportedCommandException: The requested resource could not be found, or a request was received using an HTTP method that is not supported by the mapped resource\r\n\r\nAnyone resolved this issue?","title":"org.openqa.selenium.UnsupportedCommandException (Appium + opencv image comparison)","body":"<p>I have tried this example. <a href=\"https://github.com/cloudgrey-io/appiumpro/blob/master/java/src/test/java/Edition098_Visual_Testing_1.java\" rel=\"nofollow noreferrer\">https://github.com/cloudgrey-io/appiumpro/blob/master/java/src/test/java/Edition098_Visual_Testing_1.java</a> with opencv but it always throws</p>\n<p>org.openqa.selenium.UnsupportedCommandException: The requested resource could not be found, or a request was received using an HTTP method that is not supported by the mapped resource</p>\n<p>Anyone resolved this issue?</p>\n"},{"tags":["java","hibernate","hibernate-mapping","hibernate-criteria"],"answers":[{"comments":[{"owner":{"account_id":3832442,"reputation":2890,"user_id":3177669,"accept_rate":71,"display_name":"Naghaveer R"},"score":0,"creation_date":1437976707,"post_id":31645726,"comment_id":51237987,"body_markdown":"No, I have created setter method properly. :(\n\tpublic void setFieldId(AvailableFields fieldId) {\n\t\tthis.fieldId = fieldId;\n\t}","body":"No, I have created setter method properly. :( \tpublic void setFieldId(AvailableFields fieldId) { \t\tthis.fieldId = fieldId; \t}"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1437976783,"post_id":31645726,"comment_id":51238017,"body_markdown":"What is the JcbMessageAttributes ?","body":"What is the JcbMessageAttributes ?"}],"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437976073,"creation_date":1437976073,"answer_id":31645726,"question_id":31645493,"body_markdown":"The error means something wrong with setter of `fieldId`. It should be like this\r\n\r\n    public void setFieldId(AvailableFields fieldId) {\r\n       this.fieldId=fieldId;\r\n    }\r\n\r\nbut it seems in your case incorrect class (guess long) is used in the setter.","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>The error means something wrong with setter of <code>fieldId</code>. It should be like this</p>\n\n<pre><code>public void setFieldId(AvailableFields fieldId) {\n   this.fieldId=fieldId;\n}\n</code></pre>\n\n<p>but it seems in your case incorrect class (guess long) is used in the setter.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648117780,"post_id":71600112,"comment_id":126545106,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71600112/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4777833,"reputation":1,"user_id":3860470,"display_name":"user3860470"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648114997,"creation_date":1648114997,"answer_id":71600112,"question_id":31645493,"body_markdown":"SQLQuery sqlquery=session.createSQLQuery(queryString);\r\n\r\nsqlquery.addScalar(&quot;fieldId &quot;, IntegerType.INSTANCE);","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>SQLQuery sqlquery=session.createSQLQuery(queryString);</p>\n<p>sqlquery.addScalar(&quot;fieldId &quot;, IntegerType.INSTANCE);</p>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669129097,"creation_date":1669129097,"answer_id":74534664,"question_id":31645493,"body_markdown":"I was receiving this error  of  \r\n\r\n&gt; IllegalArgumentException occurred while calling setter for property\r\n&gt; Version (type expected is Long but received 0)\r\n\r\n  because instead of using \r\n\r\n    Query query = sess.createSQLQuery(sqlQueryStr).addEntity(instance.getClass().getName());\r\n    retval = query.list();\r\n\r\nI was doing \r\n\r\n    Query query = sess.createSQLQuery(sqlQueryStr)\r\n    \t\t.setResultTransformer(Transformers.aliasToBean(instance.getClass()));\r\n        retval = query.list();\r\n\r\nIn case it helps anyone. ","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>I was receiving this error  of</p>\n<blockquote>\n<p>IllegalArgumentException occurred while calling setter for property\nVersion (type expected is Long but received 0)</p>\n</blockquote>\n<p>because instead of using</p>\n<pre><code>Query query = sess.createSQLQuery(sqlQueryStr).addEntity(instance.getClass().getName());\nretval = query.list();\n</code></pre>\n<p>I was doing</p>\n<pre><code>Query query = sess.createSQLQuery(sqlQueryStr)\n        .setResultTransformer(Transformers.aliasToBean(instance.getClass()));\n    retval = query.list();\n</code></pre>\n<p>In case it helps anyone.</p>\n"}],"owner":{"account_id":3832442,"reputation":2890,"user_id":3177669,"accept_rate":71,"display_name":"Naghaveer R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1669129097,"creation_date":1437974792,"question_id":31645493,"body_markdown":"I&#39;m trying get all the entries from Messages table using criteria\r\n\r\n\tCriteria getCriteria = session.createCriteria(MessageAttributes.class);\r\n\tList&lt;MessageAttributes&gt; unProcessedJcbMessagesList=getCriteria.list(); \r\n\r\n I&#39;m getiing following exception when I&#39;m trying run above criteria.\r\nFieldId is the foreign key from AvailableFields(AvailableFieldsIs) table.\r\n\r\n      IllegalArgumentException occurred while calling setter for property [com.alu.jcb.model.MessageAttributes.fieldId (expected type = com.alu.jcb.model.AvailableFields)]; target = [com.alu.jcb.model.MessageAttributes@1cf3877], property value = [2]\r\n    \tat org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:123)\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:713)\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:362)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4718)\r\n    \tat org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:188)\r\n    \tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:144)\r\n    \tat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1115)\r\n    \tat org.hibernate.loader.Loader.processResultSet(Loader.java:973)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:921)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n    \tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1718)\r\n    \tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380)\r\n    \tat com.alu.jcb.messageProcessor.Test.main(Test.java:23)\r\n    Caused by: java.lang.IllegalArgumentException: argument type mismatch\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:68)\r\n    \t... 17 more\r\n\r\nBeans\r\n\r\n**MessageAttributes.java**\r\n\r\n    public class MessageAttributes {\r\n    \tprivate long messageAttributeId=1L;\r\n    \tprivate AvailableFields fieldId;\r\n    \tprivate String value;\r\n    //getters and setters\r\n    }\r\n\r\n**AvailableFields.java**\r\n\r\n    public class AvailableFields {\r\n    \r\n    \tprivate long availableFieldsId=1L;\r\n    \tprivate Instance instance;\r\n    \tprivate String fieldDisplayName;\r\n    \r\n    //getters and setters\r\n    }\r\n\r\n**HBM files**\r\n**MessageAttributes.hbm.xml**\r\n\r\n    &lt;hibernate-mapping package=&quot;com.alu.jcb.model&quot;&gt;\r\n        &lt;class name=&quot;MessageAttributes&quot; table=&quot;MESSAGE_ATTRIBUTES&quot;&gt;\r\n            &lt;id name=&quot;messageAttributeId&quot; column=&quot;message_attribute_id&quot; type=&quot;long&quot;&gt;\r\n                &lt;generator class=&quot;sequence&quot; /&gt;\r\n            &lt;/id&gt;\r\n            \r\n            &lt;many-to-one name=&quot;fieldId&quot; class=&quot;com.alu.jcb.model.AvailableFields&quot; fetch=&quot;select&quot;&gt;\r\n                &lt;column name=&quot;field_id&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/many-to-one&gt;\r\n            \r\n            &lt;property name=&quot;value&quot; type=&quot;string&quot; column=&quot;value&quot; /&gt;                          \r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n**AvailableFields.hbm.xml**\r\n\r\n    &lt;hibernate-mapping package=&quot;com.alu.jcb.model&quot;&gt;\r\n    \t&lt;class name=&quot;AvailableFields&quot; table=&quot;AVAILABLE_FIELDS&quot;&gt;\r\n    \t\t &lt;id name=&quot;availableFieldsId&quot; column=&quot;available_fields_id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n                &lt;generator class=&quot;sequence&quot; /&gt;\r\n            &lt;/id&gt;\r\n            &lt;many-to-one name=&quot;instance&quot; class=&quot;com.alu.jcb.model.Instance&quot; fetch=&quot;select&quot;&gt;\r\n                &lt;column name=&quot;instance_id&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/many-to-one&gt;\r\n            &lt;property name=&quot;fieldDisplayName&quot; type=&quot;string&quot; column=&quot;field_display_name&quot; not-null=&quot;true&quot;/&gt;\r\n    \t&lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nPlease help me","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>I'm trying get all the entries from Messages table using criteria</p>\n\n<pre><code>Criteria getCriteria = session.createCriteria(MessageAttributes.class);\nList&lt;MessageAttributes&gt; unProcessedJcbMessagesList=getCriteria.list(); \n</code></pre>\n\n<p>I'm getiing following exception when I'm trying run above criteria.\nFieldId is the foreign key from AvailableFields(AvailableFieldsIs) table.</p>\n\n<pre><code>  IllegalArgumentException occurred while calling setter for property [com.alu.jcb.model.MessageAttributes.fieldId (expected type = com.alu.jcb.model.AvailableFields)]; target = [com.alu.jcb.model.MessageAttributes@1cf3877], property value = [2]\n    at org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:123)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:713)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:362)\n    at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4718)\n    at org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:188)\n    at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:144)\n    at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1115)\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:973)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:921)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2540)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\n    at org.hibernate.loader.Loader.list(Loader.java:2365)\n    at org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1718)\n    at org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380)\n    at com.alu.jcb.messageProcessor.Test.main(Test.java:23)\nCaused by: java.lang.IllegalArgumentException: argument type mismatch\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:68)\n    ... 17 more\n</code></pre>\n\n<p>Beans</p>\n\n<p><strong>MessageAttributes.java</strong></p>\n\n<pre><code>public class MessageAttributes {\n    private long messageAttributeId=1L;\n    private AvailableFields fieldId;\n    private String value;\n//getters and setters\n}\n</code></pre>\n\n<p><strong>AvailableFields.java</strong></p>\n\n<pre><code>public class AvailableFields {\n\n    private long availableFieldsId=1L;\n    private Instance instance;\n    private String fieldDisplayName;\n\n//getters and setters\n}\n</code></pre>\n\n<p><strong>HBM files</strong>\n<strong>MessageAttributes.hbm.xml</strong></p>\n\n<pre><code>&lt;hibernate-mapping package=\"com.alu.jcb.model\"&gt;\n    &lt;class name=\"MessageAttributes\" table=\"MESSAGE_ATTRIBUTES\"&gt;\n        &lt;id name=\"messageAttributeId\" column=\"message_attribute_id\" type=\"long\"&gt;\n            &lt;generator class=\"sequence\" /&gt;\n        &lt;/id&gt;\n\n        &lt;many-to-one name=\"fieldId\" class=\"com.alu.jcb.model.AvailableFields\" fetch=\"select\"&gt;\n            &lt;column name=\"field_id\" not-null=\"true\" /&gt;\n        &lt;/many-to-one&gt;\n\n        &lt;property name=\"value\" type=\"string\" column=\"value\" /&gt;                          \n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p><strong>AvailableFields.hbm.xml</strong></p>\n\n<pre><code>&lt;hibernate-mapping package=\"com.alu.jcb.model\"&gt;\n    &lt;class name=\"AvailableFields\" table=\"AVAILABLE_FIELDS\"&gt;\n         &lt;id name=\"availableFieldsId\" column=\"available_fields_id\" type=\"java.lang.Long\"&gt;\n            &lt;generator class=\"sequence\" /&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=\"instance\" class=\"com.alu.jcb.model.Instance\" fetch=\"select\"&gt;\n            &lt;column name=\"instance_id\" not-null=\"true\" /&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=\"fieldDisplayName\" type=\"string\" column=\"field_display_name\" not-null=\"true\"/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>Please help me</p>\n"},{"tags":["java","excel","apache-poi","sax","xssf"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1669140575,"post_id":74534663,"comment_id":131575146,"body_markdown":"How is this related to your [previous question](https://stackoverflow.com/q/74530997/230513) on the topic?","body":"How is this related to your <a href=\"https://stackoverflow.com/q/74530997/230513\">previous question</a> on the topic?"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1669145518,"post_id":74534663,"comment_id":131576672,"body_markdown":"I have some sample code that reads an excel file and writes it out using streaming code - the support is limited (some formatting may be lost) - but have a look at https://github.com/pjfanning/excel-streaming-reader/wiki/Streaming-copy-with-SXSSF","body":"I have some sample code that reads an excel file and writes it out using streaming code - the support is limited (some formatting may be lost) - but have a look at <a href=\"https://github.com/pjfanning/excel-streaming-reader/wiki/Streaming-copy-with-SXSSF\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader/wiki/&hellip;</a>"},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669168742,"post_id":74534663,"comment_id":131581720,"body_markdown":"@PJFanning i see. but i need to keep those cell format like Date or Numeric value","body":"@PJFanning i see. but i need to keep those cell format like Date or Numeric value"},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669168784,"post_id":74534663,"comment_id":131581726,"body_markdown":"@trashgod my previous question is to see the xml payload before getting the elements/attributes","body":"@trashgod my previous question is to see the xml payload before getting the elements/attributes"},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669172508,"post_id":74534663,"comment_id":131582313,"body_markdown":"@PJFanning i&#39;ll try this. but do u happen to have the external library instead of pom ? my project dont use pom","body":"@PJFanning i&#39;ll try this. but do u happen to have the external library instead of pom ? my project dont use pom"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1669198046,"post_id":74534663,"comment_id":131588097,"body_markdown":"The latest release is at https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/ - and this includes a jar","body":"The latest release is at <a href=\"https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/github/pjfanning/&hellip;</a> - and this includes a jar"},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669198952,"post_id":74534663,"comment_id":131588455,"body_markdown":"@PJFanning thank you. Any dependencies ? I already have apache poi in my prijects","body":"@PJFanning thank you. Any dependencies ? I already have apache poi in my prijects"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1669202552,"post_id":74534663,"comment_id":131589700,"body_markdown":"the dependencies are in the pom file - https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/excel-streaming-reader-4.0.4.pom","body":"the dependencies are in the pom file - <a href=\"https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/excel-streaming-reader-4.0.4.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/github/pjfanning/&hellip;</a>"},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669270421,"post_id":74534663,"comment_id":131607399,"body_markdown":"@PJFanning im still facing java heap space, but at a different line when i iterate over all the cells","body":"@PJFanning im still facing java heap space, but at a different line when i iterate over all the cells"}],"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669129080,"creation_date":1669129080,"question_id":74534663,"body_markdown":"I am trying to open a large size(&gt;30mb) .xlsx and copy all the rows and columns(consists of &gt;200k rows) in that sheet into a new workbook sheet. I got an error on the following code:\r\n\r\n    FileInputStream fis = new FileInputStream(file);\r\n    XSSFWorkbook newWorkBook = new XSSFWorkbook(fis);\r\n\r\nIncreasing heap space does not help. After much research, i understand that a work around is either to use [XSSF and SAX (Event API)][1] or XLSX2CSV.java. I just need to copy the whole data from old sheet to new sheet. Somehow after trying SAX, i am stuck as i am not sure how to get the value from old sheet to copy to new sheet. Also, empty cells are not included in the SST. i need to copy over all cells, inclusive of empty cell.\r\n\r\n\r\n        @Override\r\n    \tpublic void startElement(String uri, String localName, String name,\r\n                Attributes attributes) throws SAXException {\r\n    \t\t// c =&gt; cell\r\n    \t\tif(name.equals(&quot;c&quot;)) {\r\n    \t\t\t//print cell reference\r\n    \t\t\tSystem.out.print(attributes.getValue(&quot;r&quot;) + &quot; - &quot;);\r\n    \t\t\t// Figure out if value is an index in the SST\r\n    \t\t\tString cellType = attributes.getValue(&quot;t&quot;);\r\n    \t\t\tSystem.out.println(&quot;CellType &quot; + cellType);\r\n    \t\t\tif(cellType != null &amp;&amp; cellType.equals(&quot;s&quot;)) {\r\n    \t\t\t\tisNextString = true;\r\n    \t\t\t}else {\r\n    \t\t\t\tisNextString = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t//Clear last content\r\n    \t\tlastContents = &quot;&quot;;\r\n    \t}\r\n\r\nI am using Java, though i can try on C#. \r\n\t\t\t\t\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api","title":"Read large size xlsx file and copy all","body":"<p>I am trying to open a large size(&gt;30mb) .xlsx and copy all the rows and columns(consists of &gt;200k rows) in that sheet into a new workbook sheet. I got an error on the following code:</p>\n<pre><code>FileInputStream fis = new FileInputStream(file);\nXSSFWorkbook newWorkBook = new XSSFWorkbook(fis);\n</code></pre>\n<p>Increasing heap space does not help. After much research, i understand that a work around is either to use <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">XSSF and SAX (Event API)</a> or XLSX2CSV.java. I just need to copy the whole data from old sheet to new sheet. Somehow after trying SAX, i am stuck as i am not sure how to get the value from old sheet to copy to new sheet. Also, empty cells are not included in the SST. i need to copy over all cells, inclusive of empty cell.</p>\n<pre><code>    @Override\n    public void startElement(String uri, String localName, String name,\n            Attributes attributes) throws SAXException {\n        // c =&gt; cell\n        if(name.equals(&quot;c&quot;)) {\n            //print cell reference\n            System.out.print(attributes.getValue(&quot;r&quot;) + &quot; - &quot;);\n            // Figure out if value is an index in the SST\n            String cellType = attributes.getValue(&quot;t&quot;);\n            System.out.println(&quot;CellType &quot; + cellType);\n            if(cellType != null &amp;&amp; cellType.equals(&quot;s&quot;)) {\n                isNextString = true;\n            }else {\n                isNextString = false;\n            }\n        }\n        //Clear last content\n        lastContents = &quot;&quot;;\n    }\n</code></pre>\n<p>I am using Java, though i can try on C#.</p>\n"},{"tags":["java","sql-server","jdbc","jar"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669044576,"post_id":74521129,"comment_id":131547715,"body_markdown":"Jars are essentially zip files. You can open up your compiled jar to ensure that the driver was included within your jarfile (you&#39;d be looking for the same contents you&#39;d see in that `sqljdbc42.jar`). The driver needs to be loaded one way or another, either through classloading the separate jar or by including it in your own jarfile. You might benefit from &quot;extract required libraries into generated JAR&quot;.","body":"Jars are essentially zip files. You can open up your compiled jar to ensure that the driver was included within your jarfile (you&#39;d be looking for the same contents you&#39;d see in that <code>sqljdbc42.jar</code>). The driver needs to be loaded one way or another, either through classloading the separate jar or by including it in your own jarfile. You might benefit from &quot;extract required libraries into generated JAR&quot;."},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669046256,"post_id":74521129,"comment_id":131548391,"body_markdown":"Hi. The sqljdbc42.jar is inside the generated JAR file. I&#39;ve also tried &quot;extract required libraries into generated JAR&quot; and &quot;Copy required ...&quot;....I&#39;ve always the same problem","body":"Hi. The sqljdbc42.jar is inside the generated JAR file. I&#39;ve also tried &quot;extract required libraries into generated JAR&quot; and &quot;Copy required ...&quot;....I&#39;ve always the same problem"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669046662,"post_id":74521129,"comment_id":131548556,"body_markdown":"The jarfile itself shouldn&#39;t really be inside your generated jar if you&#39;re going for bundling the driver. What did the &quot;Extract into&quot; option do for you? What was the stack trace?","body":"The jarfile itself shouldn&#39;t really be inside your generated jar if you&#39;re going for bundling the driver. What did the &quot;Extract into&quot; option do for you? What was the stack trace?"},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669049196,"post_id":74521129,"comment_id":131549448,"body_markdown":"Sorry i don&#39;t understand. What do you mean? My target is to give the jar to my collegues in order to execute it also on their pc. I need a single file","body":"Sorry i don&#39;t understand. What do you mean? My target is to give the jar to my collegues in order to execute it also on their pc. I need a single file"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669050919,"post_id":74521129,"comment_id":131550031,"body_markdown":"I&#39;m saying the `sqljdbc42.jar` itself should not be inside your `test2.jar`, but rather the _contents_ of `sqljdbc42.jar` should be inside of `test2.jar`. The alternative is loading it with a `ClassLoader`.","body":"I&#39;m saying the <code>sqljdbc42.jar</code> itself should not be inside your <code>test2.jar</code>, but rather the <i>contents</i> of <code>sqljdbc42.jar</code> should be inside of <code>test2.jar</code>. The alternative is loading it with a <code>ClassLoader</code>."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1669067433,"post_id":74521129,"comment_id":131554838,"body_markdown":"&quot;Package required libraries into generated JAR&quot; bundles the .jar files of your libraries into your application&#39;s .jar file and requires a custom loader to make use of them. Have you explored the other two options?","body":"&quot;Package required libraries into generated JAR&quot; bundles the .jar files of your libraries into your application&#39;s .jar file and requires a custom loader to make use of them. Have you explored the other two options?"},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669107633,"post_id":74521129,"comment_id":131562620,"body_markdown":"Yes, both. The problem is always the same.","body":"Yes, both. The problem is always the same."},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669107918,"post_id":74521129,"comment_id":131562713,"body_markdown":"If I use the option &quot;extract required libraries into generated JAR&quot;. I see that in the final jar there are the *.class file and not the sqljdbc42.jar. But I receive always the same error :(","body":"If I use the option &quot;extract required libraries into generated JAR&quot;. I see that in the final jar there are the *.class file and not the sqljdbc42.jar. But I receive always the same error :("}],"answers":[{"tags":[],"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669129051,"creation_date":1669129051,"answer_id":74534656,"question_id":74521129,"body_markdown":"I&#39;ve found the problem.\r\n\r\nThe Jar file didn&#39;t read the properties file where I put the DBConnection URL and credentials.\r\n\r\nI fix my code using getResourceAsStream and now it works.","title":"Error &quot;No suitable driver found for &quot; executing jar file","body":"<p>I've found the problem.</p>\n<p>The Jar file didn't read the properties file where I put the DBConnection URL and credentials.</p>\n<p>I fix my code using getResourceAsStream and now it works.</p>\n"}],"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669129051,"creation_date":1669044002,"question_id":74521129,"body_markdown":"I&#39;m working on a simple java project that perform the connection to a SQLServer DB.\r\n\r\nMy project works fine when I run it from eclipse or other IDE like IntelliJ, but i have a problem when I try to run it from a JAR file.\r\n\r\nHere the Java Builth Path of my application (with JDBC library):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI did File -&gt; Export -&gt; Runnable Jar File:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/1Kycv.png\r\n  [2]: https://i.stack.imgur.com/2kCxT.png\r\n\r\n\r\nbut when I try to run test2.jar:\r\n\r\n16:03:49.159 ERROR: No suitable driver found for\r\n\r\n16:03:49.159 ERROR: 08001\r\n\r\nwhere I&#39;m wrong?","title":"Error &quot;No suitable driver found for &quot; executing jar file","body":"<p>I'm working on a simple java project that perform the connection to a SQLServer DB.</p>\n<p>My project works fine when I run it from eclipse or other IDE like IntelliJ, but i have a problem when I try to run it from a JAR file.</p>\n<p>Here the Java Builth Path of my application (with JDBC library):</p>\n<p><a href=\"https://i.stack.imgur.com/1Kycv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Kycv.png\" alt=\"enter image description here\" /></a></p>\n<p>I did File -&gt; Export -&gt; Runnable Jar File:</p>\n<p><a href=\"https://i.stack.imgur.com/2kCxT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kCxT.png\" alt=\"enter image description here\" /></a></p>\n<p>but when I try to run test2.jar:</p>\n<p>16:03:49.159 ERROR: No suitable driver found for</p>\n<p>16:03:49.159 ERROR: 08001</p>\n<p>where I'm wrong?</p>\n"},{"tags":["java","date","timezone","simpledateformat","timezone-offset"],"comments":[{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":1,"creation_date":1669118822,"post_id":74532284,"comment_id":131566653,"body_markdown":"I see multiple places where this comparison can fail: your UI doesn&#39;t have timezone, nor seconds or milliseconds, while the 2nd part is easy to overcome by saying that 2 dates are equal if they have the same time up to the minute, it&#39;s impossible to compare zoned time with a non-zoned time","body":"I see multiple places where this comparison can fail: your UI doesn&#39;t have timezone, nor seconds or milliseconds, while the 2nd part is easy to overcome by saying that 2 dates are equal if they have the same time up to the minute, it&#39;s impossible to compare zoned time with a non-zoned time"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669125761,"post_id":74532284,"comment_id":131569206,"body_markdown":"What your UI shows is wrong. Did the sign of the offset from the database somehow get reversed?","body":"What your UI shows is wrong. Did the sign of the offset from the database somehow get reversed?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669131380,"post_id":74532284,"comment_id":131571627,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `OffsetDateTime`, `LocalDateTime` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>OffsetDateTime</code>, <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669131554,"post_id":74532284,"comment_id":131571696,"body_markdown":"The format that your database shows should be irrelevant. Retrieve your database `timestamp with time zone` (as I presume it is) as an `OffsetDateTime` in Java. See for example [Getting the date from a ResultSet for use with java.time classes](https://stackoverflow.com/questions/29773390/getting-the-date-from-a-resultset-for-use-with-java-time-classes).","body":"The format that your database shows should be irrelevant. Retrieve your database <code>timestamp with time zone</code> (as I presume it is) as an <code>OffsetDateTime</code> in Java. See for example <a href=\"https://stackoverflow.com/questions/29773390/getting-the-date-from-a-resultset-for-use-with-java-time-classes\">Getting the date from a ResultSet for use with java.time classes</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669131888,"post_id":74532284,"comment_id":131571833,"body_markdown":"Your UI probably makes an assumption that the use seeing the *Thu 01/12/2022 12:00* is in some specific time zone. Do you know which time zone that is? That knowledge would make it possible to compare. I would then convert the text from the UI to `OffsetDateTime` using that time zone, and I would truncate the value from the database to whole minutes and compare.","body":"Your UI probably makes an assumption that the use seeing the <i>Thu 01/12/2022 12:00</i> is in some specific time zone. Do you know which time zone that is? That knowledge would make it possible to compare. I would then convert the text from the UI to <code>OffsetDateTime</code> using that time zone, and I would truncate the value from the database to whole minutes and compare."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669132508,"post_id":74532284,"comment_id":131572112,"body_markdown":"I cannot reproduce the result you are reporting, `Wed 30/11/2022 22:02`. I got `Wed 30/11/2022 21:00`. Depending on the default time zone I can get `Wed 30/11/2022 22:00` but not `:02`.","body":"I cannot reproduce the result you are reporting, <code>Wed 30&#47;11&#47;2022 22:02</code>. I got <code>Wed 30&#47;11&#47;2022 21:00</code>. Depending on the default time zone I can get <code>Wed 30&#47;11&#47;2022 22:00</code> but not <code>:02</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669133907,"post_id":74532284,"comment_id":131572668,"body_markdown":"I believe that you *are* converting it correctly. The logic is: At 4 in the night at offset +08:00 (for example Asia/Ujung_Pandang time zone) it is still the previous day on most of the globe. For example it is 22:00 the previous evening in Asia/Gaza time zone (offset +02:00) and 21:00 in my time zone (offset +01:00).","body":"I believe that you <i>are</i> converting it correctly. The logic is: At 4 in the night at offset +08:00 (for example Asia/Ujung_Pandang time zone) it is still the previous day on most of the globe. For example it is 22:00 the previous evening in Asia/Gaza time zone (offset +02:00) and 21:00 in my time zone (offset +01:00)."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669128493,"creation_date":1669123894,"answer_id":74533446,"question_id":74532284,"body_markdown":"As already commented by [Yonatan Karp-Rudin](https://stackoverflow.com/questions/74532284/how-to-convert-a-date-with-time-zone-offset-to-another-format#comment131566653_74532284), you can not compare a date-time with time-zone offset with another without time-zone offset. A clear way to compare the two date-times is to bring them to a single time-zone e.g. you can apply the same time-zone offset to the UI date-time as of the DB date-time.\r\n\r\nIn March 2014, `java.time` API supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it has been strongly recommended to use this modern date-time API. \r\n\r\n**Demo using java.time API**:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n            String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\r\n    \r\n            DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\r\n            OffsetDateTime odt1 = OffsetDateTime.parse(dt1, dtf1);\r\n            System.out.println(odt1);\r\n    \r\n            DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH)\r\n                    .withZone(odt1.getOffset());\r\n            OffsetDateTime odt2 = OffsetDateTime.parse(dt2, dtf2);\r\n            System.out.println(odt2);\r\n    \r\n            System.out.println(odt1.equals(odt2));\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    2022-12-01T04:00+08:00\r\n    2022-12-01T12:00+08:00\r\n    false\r\n\r\nAssuming both the date-times belong to the same time-zone offset, another way to compare them would be compare them without time-zone i.e. comparing their date-time part only (`LocalDateTime`).\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n            String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\r\n    \r\n            DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\r\n            LocalDateTime ldt1 = OffsetDateTime.parse(dt1, dtf1).toLocalDateTime();\r\n            System.out.println(ldt1);\r\n    \r\n            DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\r\n            LocalDateTime ldt2 = LocalDateTime.parse(dt2, dtf2);\r\n            System.out.println(ldt2);\r\n    \r\n            System.out.println(ldt1.equals(ldt2));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-01T04:00\r\n    2022-12-01T12:00\r\n    false\r\n\r\nThe modern date-time API (java.time API) provides you with tools to do the same thing in many ways e.g. in the 1st demo, we could obtain the `OffsetDateTime` for your UI date-time string by parsing it into a `LocalDateTime` as shown in the 2nd demo and then using one of the ways shown in [this answer](https://stackoverflow.com/a/66622113/10819573) where `ZoneOffset offset =  odt1.getOffset()`.\r\n\r\nBy the way, here is an example of how you format a date-time with time-zone offset to another format:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String dtDb = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\r\n            OffsetDateTime odtDb = OffsetDateTime.parse(dtDb, parser);\r\n            System.out.println(odtDb);\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\r\n            String strDtUi = odtDb.format(formatter);\r\n            System.out.println(strDtUi);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-01T04:00+08:00\r\n    Thu 01/12/2022 04:00\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to convert a date with time zone offset to another format","body":"<p>As already commented by <a href=\"https://stackoverflow.com/questions/74532284/how-to-convert-a-date-with-time-zone-offset-to-another-format#comment131566653_74532284\">Yonatan Karp-Rudin</a>, you can not compare a date-time with time-zone offset with another without time-zone offset. A clear way to compare the two date-times is to bring them to a single time-zone e.g. you can apply the same time-zone offset to the UI date-time as of the DB date-time.</p>\n<p>In March 2014, <code>java.time</code> API supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it has been strongly recommended to use this modern date-time API.</p>\n<p><strong>Demo using java.time API</strong>:</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\n        String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\n\n        DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\n        OffsetDateTime odt1 = OffsetDateTime.parse(dt1, dtf1);\n        System.out.println(odt1);\n\n        DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH)\n                .withZone(odt1.getOffset());\n        OffsetDateTime odt2 = OffsetDateTime.parse(dt2, dtf2);\n        System.out.println(odt2);\n\n        System.out.println(odt1.equals(odt2));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-01T04:00+08:00\n2022-12-01T12:00+08:00\nfalse\n</code></pre>\n<p>Assuming both the date-times belong to the same time-zone offset, another way to compare them would be compare them without time-zone i.e. comparing their date-time part only (<code>LocalDateTime</code>).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\n        String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\n\n        DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\n        LocalDateTime ldt1 = OffsetDateTime.parse(dt1, dtf1).toLocalDateTime();\n        System.out.println(ldt1);\n\n        DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\n        LocalDateTime ldt2 = LocalDateTime.parse(dt2, dtf2);\n        System.out.println(ldt2);\n\n        System.out.println(ldt1.equals(ldt2));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-01T04:00\n2022-12-01T12:00\nfalse\n</code></pre>\n<p>The modern date-time API (java.time API) provides you with tools to do the same thing in many ways e.g. in the 1st demo, we could obtain the <code>OffsetDateTime</code> for your UI date-time string by parsing it into a <code>LocalDateTime</code> as shown in the 2nd demo and then using one of the ways shown in <a href=\"https://stackoverflow.com/a/66622113/10819573\">this answer</a> where <code>ZoneOffset offset =  odt1.getOffset()</code>.</p>\n<p>By the way, here is an example of how you format a date-time with time-zone offset to another format:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String dtDb = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\n        OffsetDateTime odtDb = OffsetDateTime.parse(dtDb, parser);\n        System.out.println(odtDb);\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\n        String strDtUi = odtDb.format(formatter);\n        System.out.println(strDtUi);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-01T04:00+08:00\nThu 01/12/2022 04:00\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":16966577,"reputation":57,"user_id":12272269,"display_name":"user12272269"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669128493,"creation_date":1669118321,"question_id":74532284,"body_markdown":"I tried reading a lot about the date formatting with time zone, but it doesn&#39;t make sense to me.\r\n\r\nMy DB shows this datetime: 2022-12-01 04:00:00.000 +08:00  \r\nMy UI shows it as: Thu 01/12/2022 12:00\r\n\r\nI need to compare between them to verify they are the same. I tried to convert the DB time like this: \r\n\r\n    String dbDate = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n    SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS XXX&quot;);\r\n    Date date = sf.parse(dbDate)\r\n    \r\n    sf = new SimpleDateFormat(&quot;EEE dd/MM/yyy HH:mm&quot;);  \r\n    String uiDate = sf.format(date);\r\n\r\nThe results received is a completely different date: &#39;Wed 30/11/2022 22:02&#39;.\r\n\r\nI don&#39;t understand the logic here and would appreciate help in converting it correctly.\r\n","title":"How to convert a date with time zone offset to another format","body":"<p>I tried reading a lot about the date formatting with time zone, but it doesn't make sense to me.</p>\n<p>My DB shows this datetime: 2022-12-01 04:00:00.000 +08:00<br />\nMy UI shows it as: Thu 01/12/2022 12:00</p>\n<p>I need to compare between them to verify they are the same. I tried to convert the DB time like this:</p>\n<pre><code>String dbDate = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\nSimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS XXX&quot;);\nDate date = sf.parse(dbDate)\n\nsf = new SimpleDateFormat(&quot;EEE dd/MM/yyy HH:mm&quot;);  \nString uiDate = sf.format(date);\n</code></pre>\n<p>The results received is a completely different date: 'Wed 30/11/2022 22:02'.</p>\n<p>I don't understand the logic here and would appreciate help in converting it correctly.</p>\n"},{"tags":["java","drools","rule-engine","business-rules"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1669822174,"post_id":74534410,"comment_id":131731304,"body_markdown":"At the end of the day, the more code you have, the longer it takes to compile and load. You might be able to eke out some performance improvements by increasing your CPU, but this is an expensive fix and not sustainable long-term.","body":"At the end of the day, the more code you have, the longer it takes to compile and load. You might be able to eke out some performance improvements by increasing your CPU, but this is an expensive fix and not sustainable long-term."},{"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"score":0,"creation_date":1674113782,"post_id":74534410,"comment_id":132646487,"body_markdown":"@RoddyoftheFrozenPeas But you cannot limit the size of the code when you have 15000 rules. Is there a way to divide the rules in a way that only a subset of them could be loaded when changed? I don&#39;t know but something like modules.","body":"@RoddyoftheFrozenPeas But you cannot limit the size of the code when you have 15000 rules. Is there a way to divide the rules in a way that only a subset of them could be loaded when changed? I don&#39;t know but something like modules."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1674114111,"post_id":74534410,"comment_id":132646552,"body_markdown":"You mean something like KieBases?","body":"You mean something like KieBases?"}],"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669128007,"creation_date":1669128007,"question_id":74534410,"body_markdown":"I have implemented a rules engine based on drools (v7.25). The users dynamically add, update, and delete the rules.\r\n\r\nThe application could be expanded further and currently includes over 15000 rules. These rules are distributed evenly throughout several files even though they are part of the same package.\r\n\r\nThe application was initially functioning properly, but as the number of rules increased, the add and update performance of the rules has decreased noticeably.\r\n\r\nFor instance, it only takes the KieBuilder 300ms to build the KieBases when there are up to 1000 rules. But now, the same process can take up to 38000ms.\r\n\r\nHere is a sample of my code for your reference:\r\n\r\n        List&lt;CustomerRule&gt; customerRules = rulesBuilder.getCustomerRules(customerId);\r\n\t\tif (!customerRules.isEmpty()) {\r\n\t\t\tkieFileSystem.write(rulesBuilder.getDRLFilePath(customerId),\r\n\t\t\t\t\trulesBuilder.getRulesFileData(customerId, customerRules));\r\n\t\t}\r\n\t\tKieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem).buildAll();\r\n\t\tResults results = kieBuilder.getResults();\r\n\t\tif (results.hasMessages(Message.Level.ERROR)) {\r\n\t\t\tlog.error(results.getMessages());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tresults = ((KieContainerImpl) kieContainer).updateToKieModule((InternalKieModule) kieBuilder.getKieModule());\r\n\t\tif (results.hasMessages(Message.Level.ERROR)) {\r\n\t\t\tlog.error(results.getMessages());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tkieContainer.dispose();\r\n\r\nIs there a way to improve the re-building process of the KieBases? What are the best practises I should take into account?","title":"Drools Rule Engine taking too long to update","body":"<p>I have implemented a rules engine based on drools (v7.25). The users dynamically add, update, and delete the rules.</p>\n<p>The application could be expanded further and currently includes over 15000 rules. These rules are distributed evenly throughout several files even though they are part of the same package.</p>\n<p>The application was initially functioning properly, but as the number of rules increased, the add and update performance of the rules has decreased noticeably.</p>\n<p>For instance, it only takes the KieBuilder 300ms to build the KieBases when there are up to 1000 rules. But now, the same process can take up to 38000ms.</p>\n<p>Here is a sample of my code for your reference:</p>\n<pre><code>    List&lt;CustomerRule&gt; customerRules = rulesBuilder.getCustomerRules(customerId);\n    if (!customerRules.isEmpty()) {\n        kieFileSystem.write(rulesBuilder.getDRLFilePath(customerId),\n                rulesBuilder.getRulesFileData(customerId, customerRules));\n    }\n    KieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem).buildAll();\n    Results results = kieBuilder.getResults();\n    if (results.hasMessages(Message.Level.ERROR)) {\n        log.error(results.getMessages());\n        return;\n    }\n    results = ((KieContainerImpl) kieContainer).updateToKieModule((InternalKieModule) kieBuilder.getKieModule());\n    if (results.hasMessages(Message.Level.ERROR)) {\n        log.error(results.getMessages());\n        return;\n    }\n    kieContainer.dispose();\n</code></pre>\n<p>Is there a way to improve the re-building process of the KieBases? What are the best practises I should take into account?</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669108809,"post_id":74529439,"comment_id":131563051,"body_markdown":"Btw: It&#39;s Spring Integration 5.5","body":"Btw: It&#39;s Spring Integration 5.5"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1669124967,"post_id":74529439,"comment_id":131568872,"body_markdown":"You need to show the flow configuration; by default, the second subscriber won&#39;t be called if the first one fails, but that behavior can be changed; so we need to see your flow. Also, an error message like that is useless without the full stack trace.","body":"You need to show the flow configuration; by default, the second subscriber won&#39;t be called if the first one fails, but that behavior can be changed; so we need to see your flow. Also, an error message like that is useless without the full stack trace."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669125680,"post_id":74529439,"comment_id":131569167,"body_markdown":"@GaryRussell The exception above is related to the code shown. That&#39;s a full lab example. \n\nActually, it&#39;s just another desparete attempt to realize my &quot;sequential&quot; flow. Also tryed using PubSubChannel with 2 subscribers, but the do not depend on each other and get called regardless on any &quot;previous&quot; output.","body":"@GaryRussell The exception above is related to the code shown. That&#39;s a full lab example.   Actually, it&#39;s just another desparete attempt to realize my &quot;sequential&quot; flow. Also tryed using PubSubChannel with 2 subscribers, but the do not depend on each other and get called regardless on any &quot;previous&quot; output."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1669126841,"post_id":74529439,"comment_id":131569647,"body_markdown":"One more time - please show the flow configs and the full stack trace; nobody can help you without that.","body":"One more time - please show the flow configs and the full stack trace; nobody can help you without that."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1669127259,"post_id":74529439,"comment_id":131569823,"body_markdown":"An `@InboundChannelAdapter`method must not have any parameters.","body":"An <code>@InboundChannelAdapter</code>method must not have any parameters."}],"answers":[{"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669272147,"post_id":74534375,"comment_id":131607782,"body_markdown":"Thanks for the answer. However, when implementing I cannot figure out if and how to use Spring&#39;s outbound adapters for Sftp, Jdbc and AMQP. It looks like it&#39;s either ServiceActivator or message endpoint, not both. When using ServiceActivator, I have to go done all the path using JdbcTemplate and stuff, for example.\n\nWhat is the proper way to let a message be handled by multiple handlers, sequentially and aborting further processing if one handler fails?","body":"Thanks for the answer. However, when implementing I cannot figure out if and how to use Spring&#39;s outbound adapters for Sftp, Jdbc and AMQP. It looks like it&#39;s either ServiceActivator or message endpoint, not both. When using ServiceActivator, I have to go done all the path using JdbcTemplate and stuff, for example.  What is the proper way to let a message be handled by multiple handlers, sequentially and aborting further processing if one handler fails?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1669296474,"post_id":74534375,"comment_id":131615838,"body_markdown":"Outbound adapters are one way, with no reply. Use a pubsub channel or recipient list router.","body":"Outbound adapters are one way, with no reply. Use a pubsub channel or recipient list router."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669298358,"post_id":74534375,"comment_id":131616457,"body_markdown":"Thanks (again). I had the impression that pub/sub-channels are more like fan-out-queues, calling their subscribers in parallel, but now I see that they are sequential.","body":"Thanks (again). I had the impression that pub/sub-channels are more like fan-out-queues, calling their subscribers in parallel, but now I see that they are sequential."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1669299882,"post_id":74534375,"comment_id":131616968,"body_markdown":"They are sequential, as long as you don&#39;t provide a executor.","body":"They are sequential, as long as you don&#39;t provide a executor."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669127887,"creation_date":1669127887,"answer_id":74534375,"question_id":74529439,"body_markdown":"You can&#39;t have parameters on an `@InboundChannelAdapter` method. This works...\r\n\r\n```java\r\n@Configuration\r\n@EnableIntegration\r\nclass SeqChannels {\r\n\r\n\tAtomicInteger integerSource = new AtomicInteger();\r\n\r\n\t@InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\r\n\tpublic Message&lt;Integer&gt; source() {\r\n\t\treturn MessageBuilder.withPayload(this.integerSource.incrementAndGet()).build();\r\n\t}\r\n\r\n\t@ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\r\n\tpublic Integer process(@Payload Integer message) {\r\n\t\tSystem.out.println(&quot;Process: &quot; + message);\r\n\t\treturn message;\r\n\t}\r\n\r\n\t@ServiceActivator(inputChannel = &quot;delete&quot;)\r\n\tpublic void delete(@Payload Integer message) {\r\n\t\tSystem.out.println(&quot;delete: &quot; + message);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nProcess: 1\r\ndelete: 1\r\nProcess: 2\r\ndelete: 2\r\nProcess: 3\r\n...","title":"Spring Integration: Define sequential handling of messages using Java DSL","body":"<p>You can't have parameters on an <code>@InboundChannelAdapter</code> method. This works...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableIntegration\nclass SeqChannels {\n\n    AtomicInteger integerSource = new AtomicInteger();\n\n    @InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\n    public Message&lt;Integer&gt; source() {\n        return MessageBuilder.withPayload(this.integerSource.incrementAndGet()).build();\n    }\n\n    @ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\n    public Integer process(@Payload Integer message) {\n        System.out.println(&quot;Process: &quot; + message);\n        return message;\n    }\n\n    @ServiceActivator(inputChannel = &quot;delete&quot;)\n    public void delete(@Payload Integer message) {\n        System.out.println(&quot;delete: &quot; + message);\n    }\n\n}\n</code></pre>\n<pre><code>Process: 1\ndelete: 1\nProcess: 2\ndelete: 2\nProcess: 3\n...\n</code></pre>\n"}],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74534375,"answer_count":1,"score":1,"last_activity_date":1669127887,"creation_date":1669105165,"question_id":74529439,"body_markdown":"I can&#39;t get my head around a solution for a - as I consider - rather common integration flow: \r\n\r\n1. read a file from source\r\n1. process file\r\n1. delete file from sourced **if** processing was successful.\r\n\r\nCurrently, I have an IntegrationFlow using a PublishSubscribeChannel with two IntegrationFlows as subscribers: One to process file, one to delete file. Unfortunately, the later one (delete) is executed regardless of the outcome of the first one (process), even if the &quot;process&quot; flow throws an Exception. \r\n\r\nWhat I need is a sequential handling flow, but I cannot figure out how to realize. Created some test code, but that doesn&#39;t work, reporting\r\n\r\n    2022-11-22 09:55:54.256 ERROR 14648 --- [   scheduling-1]\r\n    o.s.integration.handler.LoggingHandler   :\r\n    org.springframework.messaging.MessagingException: Failed to \r\n    invoke method; nested exception is \r\n    java.lang.IllegalArgumentException: wrong number of arguments\r\n\r\nThe lab code: \r\n\r\n```java\r\n@Configuration\r\n@EnableIntegration\r\npublic class SeqChannels {\r\n\r\n    @Bean\r\n    public AtomicInteger integerSource() {\r\n        return new AtomicInteger();\r\n    }\r\n\r\n    @InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\r\n    public Message&lt;Integer&gt; source(final AtomicInteger integerSource) {\r\n        return MessageBuilder.withPayload(integerSource.incrementAndGet()).build();\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\r\n    public Integer process(@Payload Integer message) {\r\n        return message;\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;delete&quot;)\r\n    public void delete(@Payload Integer message) {\r\n\r\n    }\r\n\r\n}\r\n```","title":"Spring Integration: Define sequential handling of messages using Java DSL","body":"<p>I can't get my head around a solution for a - as I consider - rather common integration flow:</p>\n<ol>\n<li>read a file from source</li>\n<li>process file</li>\n<li>delete file from sourced <strong>if</strong> processing was successful.</li>\n</ol>\n<p>Currently, I have an IntegrationFlow using a PublishSubscribeChannel with two IntegrationFlows as subscribers: One to process file, one to delete file. Unfortunately, the later one (delete) is executed regardless of the outcome of the first one (process), even if the &quot;process&quot; flow throws an Exception.</p>\n<p>What I need is a sequential handling flow, but I cannot figure out how to realize. Created some test code, but that doesn't work, reporting</p>\n<pre><code>2022-11-22 09:55:54.256 ERROR 14648 --- [   scheduling-1]\no.s.integration.handler.LoggingHandler   :\norg.springframework.messaging.MessagingException: Failed to \ninvoke method; nested exception is \njava.lang.IllegalArgumentException: wrong number of arguments\n</code></pre>\n<p>The lab code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableIntegration\npublic class SeqChannels {\n\n    @Bean\n    public AtomicInteger integerSource() {\n        return new AtomicInteger();\n    }\n\n    @InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\n    public Message&lt;Integer&gt; source(final AtomicInteger integerSource) {\n        return MessageBuilder.withPayload(integerSource.incrementAndGet()).build();\n    }\n\n    @ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\n    public Integer process(@Payload Integer message) {\n        return message;\n    }\n\n    @ServiceActivator(inputChannel = &quot;delete&quot;)\n    public void delete(@Payload Integer message) {\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","out-of-memory","intellij-13"],"comments":[{"owner":{"account_id":3672835,"reputation":1758,"user_id":3059575,"accept_rate":98,"display_name":"Ya Wang"},"score":0,"creation_date":1423491775,"post_id":28411803,"comment_id":45157279,"body_markdown":"It isn&#39;t a regular practice to have outofmemoryexceptions generally this means your code is poorly optimized probably written wrongly somewhere. Although it is possible to increase heap size the general cause isn&#39;t the actually heap size and it more likely programming conventions or mistakes. Come back with code, show us your thread.","body":"It isn&#39;t a regular practice to have outofmemoryexceptions generally this means your code is poorly optimized probably written wrongly somewhere. Although it is possible to increase heap size the general cause isn&#39;t the actually heap size and it more likely programming conventions or mistakes. Come back with code, show us your thread."},{"owner":{"account_id":1391020,"reputation":7060,"user_id":1321867,"accept_rate":100,"display_name":"Yevgen Yampolskiy"},"score":5,"creation_date":1481960224,"post_id":28411803,"comment_id":69592405,"body_markdown":"I ran into this issue, and increasing &quot;Build process heap size&quot; fixed it for me","body":"I ran into this issue, and increasing &quot;Build process heap size&quot; fixed it for me"}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1669127830,"creation_date":1423491915,"answer_id":28411978,"question_id":28411803,"body_markdown":"Try `Run` menu -&gt; `Edit Configurations...` -&gt; find your project in the tree of projects on the left, look for `VM options:` in the panel on the right, and enter something there, according to information found here: https://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvms\r\n\r\nThat having been said, I should also add that if you are running out of memory without knowingly doing extremely memory hungry stuff, then what you have in your hands is a bug which is causing your program to do runaway memory allocation, which will always be resulting in out-of-memory errors no matter how much you increase your heap size.  In that case, you will need to look at your code, not at your project options.","title":"OutOfMemoryError: insufficient memory in IntelliJ?","body":"<p>Try <code>Run</code> menu -&gt; <code>Edit Configurations...</code> -&gt; find your project in the tree of projects on the left, look for <code>VM options:</code> in the panel on the right, and enter something there, according to information found here: <a href=\"https://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvms\">What are the -Xms and -Xmx parameters when starting JVM?</a></p>\n<p>That having been said, I should also add that if you are running out of memory without knowingly doing extremely memory hungry stuff, then what you have in your hands is a bug which is causing your program to do runaway memory allocation, which will always be resulting in out-of-memory errors no matter how much you increase your heap size.  In that case, you will need to look at your code, not at your project options.</p>\n"},{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1423569647,"creation_date":1423569647,"answer_id":28431136,"question_id":28411803,"body_markdown":"It is very strange still i don&#39;t understand why but I resolved it by decreasing the size of `VM Options: -Xmx820m`. \r\nMaybe because i use jre 32 bit en my Intellij IDE runs on 64 bit. ","title":"OutOfMemoryError: insufficient memory in IntelliJ?","body":"<p>It is very strange still i don't understand why but I resolved it by decreasing the size of <code>VM Options: -Xmx820m</code>. \nMaybe because i use jre 32 bit en my Intellij IDE runs on 64 bit. </p>\n"}],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42216,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":28411978,"answer_count":2,"score":16,"last_activity_date":1669127830,"creation_date":1423491326,"question_id":28411803,"body_markdown":"When I run my project in IntelliJ in debug mode I get the following error.\r\n\r\n**Does anybody know what is the cause?**\r\n![enter image description here][1]\r\n\r\nI already increased my heap size in `idea.vmoptions`:\r\n\r\n    -ea\r\n    -server\r\n    -Xms1g\r\n    -Xmx3G\r\n    -Xss16m\r\n    -Xverify:none\r\n    -XX:PermSize=512m\r\n    -XX:MaxPermSize=1024m\r\n\r\nI already increased my heap size for compiler to 1024 as bellow:\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2rAtv.png\r\n  [2]: http://i.stack.imgur.com/aDhH7.png","title":"OutOfMemoryError: insufficient memory in IntelliJ?","body":"<p>When I run my project in IntelliJ in debug mode I get the following error.</p>\n\n<p><strong>Does anybody know what is the cause?</strong>\n<img src=\"https://i.stack.imgur.com/2rAtv.png\" alt=\"enter image description here\"></p>\n\n<p>I already increased my heap size in <code>idea.vmoptions</code>:</p>\n\n<pre><code>-ea\n-server\n-Xms1g\n-Xmx3G\n-Xss16m\n-Xverify:none\n-XX:PermSize=512m\n-XX:MaxPermSize=1024m\n</code></pre>\n\n<p>I already increased my heap size for compiler to 1024 as bellow:\n<img src=\"https://i.stack.imgur.com/aDhH7.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669127784,"creation_date":1669127784,"answer_id":74534361,"question_id":74533700,"body_markdown":"You can cancel any `onDisconnect` handler you registered by calling the function that is returned when you call `onDisconnect()`. From the documentation on [how `onDisconnect` works](https://firebase.google.com/docs/database/android/offline-capabilities#how-ondisconnect-works):\r\n```\r\nOnDisconnect onDisconnectRef = presenceRef.onDisconnect();\r\nonDisconnectRef.setValue(&quot;I disconnected&quot;);\r\n// ...\r\n// some time later when we change our minds\r\n// ...\r\nonDisconnectRef.cancel();\r\n```\r\n\r\nWhen applied to your code, that&#39;d be:\r\n```\r\nDatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\r\nOnDisconnect onDisconnectRef = presenceRef.onDisconnect();\r\nonDisconnectRef.setValue(1);\r\n...\r\nonDisconnectRef.cancel();\r\n```","title":"How to disable onDisconnect? - Java","body":"<p>You can cancel any <code>onDisconnect</code> handler you registered by calling the function that is returned when you call <code>onDisconnect()</code>. From the documentation on <a href=\"https://firebase.google.com/docs/database/android/offline-capabilities#how-ondisconnect-works\" rel=\"nofollow noreferrer\">how <code>onDisconnect</code> works</a>:</p>\n<pre><code>OnDisconnect onDisconnectRef = presenceRef.onDisconnect();\nonDisconnectRef.setValue(&quot;I disconnected&quot;);\n// ...\n// some time later when we change our minds\n// ...\nonDisconnectRef.cancel();\n</code></pre>\n<p>When applied to your code, that'd be:</p>\n<pre><code>DatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\nOnDisconnect onDisconnectRef = presenceRef.onDisconnect();\nonDisconnectRef.setValue(1);\n...\nonDisconnectRef.cancel();\n</code></pre>\n"}],"owner":{"account_id":25932092,"reputation":5,"user_id":19652986,"display_name":"SuperMen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74534361,"answer_count":1,"score":0,"last_activity_date":1669127784,"creation_date":1669125038,"question_id":74533700,"body_markdown":"I have a code snippet below that adds a number to the database at a specific path if the user has logged out of the application.\r\n\r\nI have a question, how can I make it so that onDisconnect does not fire as I wish? Is it possible?\r\n\r\n```\r\nDatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\r\npresenceRef.onDisconnect().setValue(1);\r\n```","title":"How to disable onDisconnect? - Java","body":"<p>I have a code snippet below that adds a number to the database at a specific path if the user has logged out of the application.</p>\n<p>I have a question, how can I make it so that onDisconnect does not fire as I wish? Is it possible?</p>\n<pre><code>DatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\npresenceRef.onDisconnect().setValue(1);\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669133655,"post_id":74534124,"comment_id":131572575,"body_markdown":"You&#39;ve got the JSONIgnore annotation on the collection, but with the orphanRemoval=true option on it too - how are you handling deserialization from JSON and merging that object into the DB if that collection isn&#39;t included? Your issue, despite where the error is thrown, is due to the save call. JPA operations are just delayed until there is a need to synchronize to the database, which is on the query to make sure it flushes any changes that might affect the query results. If you look back on the instances passed in to this method, you might hit your break point or see a collection change.","body":"You&#39;ve got the JSONIgnore annotation on the collection, but with the orphanRemoval=true option on it too - how are you handling deserialization from JSON and merging that object into the DB if that collection isn&#39;t included? Your issue, despite where the error is thrown, is due to the save call. JPA operations are just delayed until there is a need to synchronize to the database, which is on the query to make sure it flushes any changes that might affect the query results. If you look back on the instances passed in to this method, you might hit your break point or see a collection change."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669133895,"post_id":74534124,"comment_id":131572661,"body_markdown":"If you use the em.merge(account) and return what is returned from that call (instead of re-querying what must be the same instance), do you get the same issue?","body":"If you use the em.merge(account) and return what is returned from that call (instead of re-querying what must be the same instance), do you get the same issue?"},{"owner":{"account_id":1288376,"reputation":55,"user_id":1240976,"display_name":"robhyx"},"score":0,"creation_date":1669143941,"post_id":74534124,"comment_id":131576223,"body_markdown":"No, I don&#39;t get the error with merge and just returning that. Interesting. I&#39;ll have to see if that breaks anything else or introduces any degradation in performance because this code is called so frequently. Regarding the JSONIgnore, I believe that&#39;s used by the API so that particular field isn&#39;t included in the response.","body":"No, I don&#39;t get the error with merge and just returning that. Interesting. I&#39;ll have to see if that breaks anything else or introduces any degradation in performance because this code is called so frequently. Regarding the JSONIgnore, I believe that&#39;s used by the API so that particular field isn&#39;t included in the response."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669214309,"post_id":74534124,"comment_id":131594099,"body_markdown":"Merge without the extra query should improve performance (though you may want to force a flush to get exactly the same behavior), and I suspect this is a Hibernate native api only validation as changing collections is perfectly legal with JPA. JSONIgnore also affect deserialization - so make sure you correct for this collection being null/empty if using JSON to get the data back for changes.","body":"Merge without the extra query should improve performance (though you may want to force a flush to get exactly the same behavior), and I suspect this is a Hibernate native api only validation as changing collections is perfectly legal with JPA. JSONIgnore also affect deserialization - so make sure you correct for this collection being null/empty if using JSON to get the data back for changes."}],"answers":[{"comments":[{"owner":{"account_id":1288376,"reputation":55,"user_id":1240976,"display_name":"robhyx"},"score":0,"creation_date":1669128245,"post_id":74534356,"comment_id":131570264,"body_markdown":"Agree. There is code elsewhere that depends on it, so I would have to refactor a few other classes. But that wouldn&#39;t fix this issue if it&#39;s not being called, or am I missing something?","body":"Agree. There is code elsewhere that depends on it, so I would have to refactor a few other classes. But that wouldn&#39;t fix this issue if it&#39;s not being called, or am I missing something?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669128328,"post_id":74534356,"comment_id":131570296,"body_markdown":"This will fix the issue. because the problem ist this line  this.authorizations=new HashSet&lt;Authorization&gt;();","body":"This will fix the issue. because the problem ist this line  this.authorizations=new HashSet&lt;Authorization&gt;();"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669127768,"creation_date":1669127768,"answer_id":74534356,"question_id":74534124,"body_markdown":"You shouldn&#39;t even have a setter for authorizations.\r\n\r\nIf you want to keep it, your code should look like this:\r\n\r\n    @JsonIgnore\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\r\n    // Initialize here to prevent NPE when someone is calling getAuthorizations().add()\r\n    private Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\r\n\r\n    @Valid\r\n    public Set&lt;Authorization&gt; getAuthorizations() {\r\n        return authorizations;\r\n    }\r\n\r\n    public void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\r\n        this.authorizations = authorizations;\r\n    }\r\n\r\nBut I would suggest not to expose a setter.\r\n\r\n    @JsonIgnore\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\r\n    // Initialize here to prevent NPE when someone is calling getAuthorizations().add()\r\n    private Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\r\n\r\n    @Valid\r\n    public Set&lt;Authorization&gt; getAuthorizations() {\r\n        return authorizations;\r\n    }\r\n\r\n    public void addAuthorizations(final Authorization authorization) {\r\n        this.authorizations.add(authorization);\r\n    }\r\n\r\n    public void removeAuthorizations(final Authorization authorization) {\r\n        this.authorizations.remove(authorization);\r\n    }","title":"JPA Error Don&#39;t Change Reference to Collection Even Though it&#39;s not Being Explicitly Changed","body":"<p>You shouldn't even have a setter for authorizations.</p>\n<p>If you want to keep it, your code should look like this:</p>\n<pre><code>@JsonIgnore\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\n// Initialize here to prevent NPE when someone is calling getAuthorizations().add()\nprivate Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\n\n@Valid\npublic Set&lt;Authorization&gt; getAuthorizations() {\n    return authorizations;\n}\n\npublic void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\n    this.authorizations = authorizations;\n}\n</code></pre>\n<p>But I would suggest not to expose a setter.</p>\n<pre><code>@JsonIgnore\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\n// Initialize here to prevent NPE when someone is calling getAuthorizations().add()\nprivate Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\n\n@Valid\npublic Set&lt;Authorization&gt; getAuthorizations() {\n    return authorizations;\n}\n\npublic void addAuthorizations(final Authorization authorization) {\n    this.authorizations.add(authorization);\n}\n\npublic void removeAuthorizations(final Authorization authorization) {\n    this.authorizations.remove(authorization);\n}\n</code></pre>\n"}],"owner":{"account_id":1288376,"reputation":55,"user_id":1240976,"display_name":"robhyx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669127768,"creation_date":1669126767,"question_id":74534124,"body_markdown":"I&#39;d like to know how to get rid of this error, but at this point I’d settle for why I’m getting it. \r\n\r\nThe error:\r\n```\r\nCaused by: org.hibernate.HibernateException: Don&#39;t change the reference to a collection with delete-orphan enabled : com.asdf.data.entity.jpa.impl.Account.authorizations\r\n```\r\nThe implicated method near the top of the stack trace:\r\n```\r\n\t@Override\r\n\tpublic Account save(Account account) {\r\n\t\tif (account == null) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tString normailzedUserDN = UserDNParseUtil.normalizeUserDN(account.getUserDn());\r\n\t\t\tcacheConfig.evictSingleCacheValue(&quot;accountCache&quot;, normailzedUserDN);\r\n\t\t\t\r\n\t\t\tSession session = em.unwrap(Session.class);\r\n\t\t\tsession.save(account);\r\n\t\t\t\r\n\t\t\tString query = &quot;select a from Account a where a.isActive IS TRUE and a.userDn = :userDn&quot;;\r\n\t\t\t\r\n\t\t\tTypedQuery&lt;Account&gt; q = em.createQuery(query, Account.class);\r\n\t\t\tq.setParameter(&quot;userDn&quot;, account.getUserDn());\r\n\t\t\t\r\n\t\t\taccount = q.getSingleResult(); // This is line 80, so the error occurs here\r\n\t\t\t\r\n\t\t\treturn account;\r\n\t\t}\r\n\t}\r\n```\r\nRelevant lines from Account class:\r\n```\r\n\t@JsonIgnore\r\n\t@OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\r\n\tprivate Set&lt;Authorization&gt; authorizations;\r\n\r\n\t@Valid\r\n\tpublic Set&lt;Authorization&gt; getAuthorizations() {\r\n\t\treturn authorizations;\r\n\t}\r\n\r\n\tpublic void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\r\n\t\tif (this.authorizations==null) {\r\n\t\t\tthis.authorizations=new HashSet&lt;Authorization&gt;();\r\n\t\t} else {\r\n\t\t\tthis.authorizations.clear();\r\n\t\t}\r\n\t\tthis.authorizations.addAll(authorizations);\r\n\t}\r\n```\r\nNowhere in our code are we explicitly changing the reference to the authorizations field, and the setter is never called, at least according to the breakpoint I set. So, is this a JPA / Reflection thing that’s occurring on retrieval of the account that’s setting the field? Obviously, removing the orphanRemoval attribute from the field fixes it, but I don’t necessarily want to do that, as authorizations without an account make no sense. \r\n\r\nAny help would be greatly appreciated!","title":"JPA Error Don&#39;t Change Reference to Collection Even Though it&#39;s not Being Explicitly Changed","body":"<p>I'd like to know how to get rid of this error, but at this point I’d settle for why I’m getting it.</p>\n<p>The error:</p>\n<pre><code>Caused by: org.hibernate.HibernateException: Don't change the reference to a collection with delete-orphan enabled : com.asdf.data.entity.jpa.impl.Account.authorizations\n</code></pre>\n<p>The implicated method near the top of the stack trace:</p>\n<pre><code>    @Override\n    public Account save(Account account) {\n        if (account == null) {\n            return null;\n        } else {\n            String normailzedUserDN = UserDNParseUtil.normalizeUserDN(account.getUserDn());\n            cacheConfig.evictSingleCacheValue(&quot;accountCache&quot;, normailzedUserDN);\n            \n            Session session = em.unwrap(Session.class);\n            session.save(account);\n            \n            String query = &quot;select a from Account a where a.isActive IS TRUE and a.userDn = :userDn&quot;;\n            \n            TypedQuery&lt;Account&gt; q = em.createQuery(query, Account.class);\n            q.setParameter(&quot;userDn&quot;, account.getUserDn());\n            \n            account = q.getSingleResult(); // This is line 80, so the error occurs here\n            \n            return account;\n        }\n    }\n</code></pre>\n<p>Relevant lines from Account class:</p>\n<pre><code>    @JsonIgnore\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\n    private Set&lt;Authorization&gt; authorizations;\n\n    @Valid\n    public Set&lt;Authorization&gt; getAuthorizations() {\n        return authorizations;\n    }\n\n    public void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\n        if (this.authorizations==null) {\n            this.authorizations=new HashSet&lt;Authorization&gt;();\n        } else {\n            this.authorizations.clear();\n        }\n        this.authorizations.addAll(authorizations);\n    }\n</code></pre>\n<p>Nowhere in our code are we explicitly changing the reference to the authorizations field, and the setter is never called, at least according to the breakpoint I set. So, is this a JPA / Reflection thing that’s occurring on retrieval of the account that’s setting the field? Obviously, removing the orphanRemoval attribute from the field fixes it, but I don’t necessarily want to do that, as authorizations without an account make no sense.</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","swing","awt","joptionpane"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669105468,"post_id":74528520,"comment_id":131561965,"body_markdown":"are you sure that `determine` is set to the size of `numbs`? Or is it still zero since no match was found? Also reading a file two times at the same time is at least *strange* (redundant and error-prone) - use a variable to store the line e.g. `String line; while ((line = reader.readLine()) != null) { numbs.add(line);  }` (or `Files.readAllLines()`)","body":"are you sure that <code>determine</code> is set to the size of <code>numbs</code>? Or is it still zero since no match was found? Also reading a file two times at the same time is at least <i>strange</i> (redundant and error-prone) - use a variable to store the line e.g. <code>String line; while ((line = reader.readLine()) != null) { numbs.add(line);  }</code> (or <code>Files.readAllLines()</code>)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669100746,"creation_date":1669100746,"answer_id":74528628,"question_id":74528520,"body_markdown":"The file is found, otherwise a JOptionPane would have shown up. You can test that by renaming the file and running the code again.\r\n\r\nAfter that, the condition to display a JOptionPane would be `determine==numbs.size()`, but `determine` is initialized to zero and only set on successful login to the index at which it was found. Even if the last entry (pair of user/password) were found, it would match with i=size-2, so the condition never applies.\r\n\r\nChange your code into something like\r\n\r\n    boolean found = false;\r\n    for (int i=0;i&lt;=numbs.size();i=i+2){\r\n        p1=numbs.get(i);\r\n        p2=numbs.get(i+1);\r\n        if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\r\n            found = true;\r\n            break;\r\n        } \r\n    }\r\n    if (found) {\r\n        MainGUI x=new MainGUI();\r\n        x.setVisible(true);\r\n        dispose();\r\n    } else {\r\n        JOptionPane.showMessageDialog(this, &quot;try again&quot;);\r\n    }","title":"Doesn&#39;t show the JOptionPane when a condition is met","body":"<p>The file is found, otherwise a JOptionPane would have shown up. You can test that by renaming the file and running the code again.</p>\n<p>After that, the condition to display a JOptionPane would be <code>determine==numbs.size()</code>, but <code>determine</code> is initialized to zero and only set on successful login to the index at which it was found. Even if the last entry (pair of user/password) were found, it would match with i=size-2, so the condition never applies.</p>\n<p>Change your code into something like</p>\n<pre><code>boolean found = false;\nfor (int i=0;i&lt;=numbs.size();i=i+2){\n    p1=numbs.get(i);\n    p2=numbs.get(i+1);\n    if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\n        found = true;\n        break;\n    } \n}\nif (found) {\n    MainGUI x=new MainGUI();\n    x.setVisible(true);\n    dispose();\n} else {\n    JOptionPane.showMessageDialog(this, &quot;try again&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27009681,"reputation":1,"user_id":20569535,"display_name":"Nave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669127534,"creation_date":1669099920,"question_id":74528520,"body_markdown":"Im trying to make a Login Gui where it searches a text file for the password and username and if it doesn&#39;t find any that match the input then they display a `JOptionPane` but for some reason it never shows it. This is the code:\r\n\r\n    int determine=0;\r\n    try{\r\n        String p1;\r\n        String p2;\r\n        String password =PasswordEntered.getText();\r\n        String username =UsernameEntered.getText();\r\n        FileReader reader=new FileReader(&quot;LoginPages.txt&quot;);\r\n        FileReader read=new FileReader(&quot;LoginPages.txt&quot;);\r\n        BufferedReader cr=new BufferedReader(read);\r\n        BufferedReader br=new BufferedReader(reader);\r\n       \r\n        ArrayList&lt;String&gt; numbs = new ArrayList&lt;String&gt;();\r\n        while (cr.readLine()!=null){\r\n            numbs.add(br.readLine());\r\n        }\r\n        for (int i=0;i&lt;=numbs.size();i=i+2){\r\n            p1=numbs.get(i);\r\n            p2=numbs.get(i+1);\r\n            if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\r\n                determine=i;\r\n                MainGUI x=new MainGUI();\r\n                x.setVisible(true);\r\n                dispose();\r\n            } \r\n        }\r\n        if (determine==numbs.size()) {\r\n            JOptionPane.showMessageDialog(this, &quot;try again&quot;);\r\n        }\r\n    } catch(IOException ex){\r\n        JOptionPane.showMessageDialog(this, &quot;File Not Found&quot;);\r\n    }\r\n\r\n\r\n\r\nIt was supposed to pop up saying &quot;try again&quot; but instead it doesn&#39;t do anything. Please help or explain anyone.","title":"Doesn&#39;t show the JOptionPane when a condition is met","body":"<p>Im trying to make a Login Gui where it searches a text file for the password and username and if it doesn't find any that match the input then they display a <code>JOptionPane</code> but for some reason it never shows it. This is the code:</p>\n<pre><code>int determine=0;\ntry{\n    String p1;\n    String p2;\n    String password =PasswordEntered.getText();\n    String username =UsernameEntered.getText();\n    FileReader reader=new FileReader(&quot;LoginPages.txt&quot;);\n    FileReader read=new FileReader(&quot;LoginPages.txt&quot;);\n    BufferedReader cr=new BufferedReader(read);\n    BufferedReader br=new BufferedReader(reader);\n   \n    ArrayList&lt;String&gt; numbs = new ArrayList&lt;String&gt;();\n    while (cr.readLine()!=null){\n        numbs.add(br.readLine());\n    }\n    for (int i=0;i&lt;=numbs.size();i=i+2){\n        p1=numbs.get(i);\n        p2=numbs.get(i+1);\n        if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\n            determine=i;\n            MainGUI x=new MainGUI();\n            x.setVisible(true);\n            dispose();\n        } \n    }\n    if (determine==numbs.size()) {\n        JOptionPane.showMessageDialog(this, &quot;try again&quot;);\n    }\n} catch(IOException ex){\n    JOptionPane.showMessageDialog(this, &quot;File Not Found&quot;);\n}\n</code></pre>\n<p>It was supposed to pop up saying &quot;try again&quot; but instead it doesn't do anything. Please help or explain anyone.</p>\n"},{"tags":["java","sql","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1669126307,"post_id":74533987,"comment_id":131569422,"body_markdown":"The above code won&#39;t even _compile_.  You should at least post valid Java code.","body":"The above code won&#39;t even <i>compile</i>.  You should at least post valid Java code."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1669126911,"post_id":74533987,"comment_id":131569680,"body_markdown":"You haven&#39;t said what problem/error you have. But your parentheses look wrong; and you&#39;re treating `:startdate` as a date and then as a string - if it is a date then don&#39;t use `to_date()` on it...","body":"You haven&#39;t said what problem/error you have. But your parentheses look wrong; and you&#39;re treating <code>:startdate</code> as a date and then as a string - if it is a date then don&#39;t use <code>to_date()</code> on it..."}],"answers":[{"comments":[{"owner":{"account_id":1524505,"reputation":13,"user_id":1423269,"display_name":"BOS"},"score":0,"creation_date":1669130851,"post_id":74534231,"comment_id":131571380,"body_markdown":"thanks for your feedback, the code compiles now but still have the QuerySyntaxException error. the query works fine in Oracle Sql developer.","body":"thanks for your feedback, the code compiles now but still have the QuerySyntaxException error. the query works fine in Oracle Sql developer."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669134426,"post_id":74534231,"comment_id":131572882,"body_markdown":"Can you please post the error?","body":"Can you please post the error?"},{"owner":{"account_id":1524505,"reputation":13,"user_id":1423269,"display_name":"BOS"},"score":0,"creation_date":1669135650,"post_id":74534231,"comment_id":131573382,"body_markdown":"&quot;org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: interval near line 1, column 230 [DELETE FROM ....]&quot;, stacktrace: &quot;java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: interval near line 1, column 230  org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)","body":"&quot;org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: interval near line 1, column 230 [DELETE FROM ....]&quot;, stacktrace: &quot;java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: interval near line 1, column 230  org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryP&zwnj;&#8203;lan.java:113)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryP&zwnj;&#8203;lan.java:73)\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPla&zwnj;&#8203;n(QueryPlanCache.jav&zwnj;&#8203;a:162)"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669143492,"post_id":74534231,"comment_id":131576072,"body_markdown":"And you added the nativeQuery attribute?","body":"And you added the nativeQuery attribute?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669143531,"post_id":74534231,"comment_id":131576087,"body_markdown":"Also try to add @Modifying","body":"Also try to add @Modifying"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669127227,"creation_date":1669127227,"answer_id":74534231,"question_id":74533987,"body_markdown":"This is a native query so you must set &quot;nativeQuery = true&quot;:\r\n\r\n    @Query(&quot;DELETE FROM myTable&quot; +\r\n        &quot;WHERE DAB_ID = :dabId &quot; +\r\n        &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\r\n        &quot;AND select trunc(to_date(:startDate, &#39;dd/mm/yy&#39;), &#39;y&#39;) + interval &#39;1&#39; year - 1 from DUAL &quot; +\r\n        &quot;AND (to_char(id.activityDate, &#39;D&#39;) IN (1,2,3,4,5)) &quot;,\r\n        nativeQuery = true)\r\n    Publisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);","title":"can not use trunc from dual ina JPA query","body":"<p>This is a native query so you must set &quot;nativeQuery = true&quot;:</p>\n<pre><code>@Query(&quot;DELETE FROM myTable&quot; +\n    &quot;WHERE DAB_ID = :dabId &quot; +\n    &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\n    &quot;AND select trunc(to_date(:startDate, 'dd/mm/yy'), 'y') + interval '1' year - 1 from DUAL &quot; +\n    &quot;AND (to_char(id.activityDate, 'D') IN (1,2,3,4,5)) &quot;,\n    nativeQuery = true)\nPublisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);\n</code></pre>\n"}],"owner":{"account_id":1524505,"reputation":13,"user_id":1423269,"display_name":"BOS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669127227,"creation_date":1669126204,"question_id":74533987,"body_markdown":"I&#39;m using data JPA in my springboot project, and I need to use the trunc function in my sql @query, but the code does not compile.\r\nThe goal is to select the last day of the year from a date given in parameter :\r\n \r\n    @Query(&quot;DELETE FROM myTable&quot; +\r\n        &quot;WHERE DAB_ID = :dabId &quot; +\r\n        &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\r\n        &quot;AND select trunc(to_date(:startDate, &#39;dd/mm/yy&#39;), &#39;y&#39;) + interval &#39;1&#39; year - 1 from DUAL &quot; +\r\n        &quot;AND (to_char(id.activityDate, &#39;D&#39;) IN (1,2,3,4,5)) &quot;)\r\n    Publisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);\r\n```\r\ntechnos: oracle, Java 11, hibernate, JPA\r\n\r\nthanks for your help in advance,\r\n\r\ni tried many solutions but I didn&#39;t succeed.","title":"can not use trunc from dual ina JPA query","body":"<p>I'm using data JPA in my springboot project, and I need to use the trunc function in my sql @query, but the code does not compile.\nThe goal is to select the last day of the year from a date given in parameter :</p>\n<pre><code>@Query(&quot;DELETE FROM myTable&quot; +\n    &quot;WHERE DAB_ID = :dabId &quot; +\n    &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\n    &quot;AND select trunc(to_date(:startDate, 'dd/mm/yy'), 'y') + interval '1' year - 1 from DUAL &quot; +\n    &quot;AND (to_char(id.activityDate, 'D') IN (1,2,3,4,5)) &quot;)\nPublisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);\n</code></pre>\n<pre><code>technos: oracle, Java 11, hibernate, JPA\n\nthanks for your help in advance,\n\ni tried many solutions but I didn't succeed.\n</code></pre>\n"},{"tags":["java","jvm","classloader"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669101092,"post_id":74528654,"comment_id":131560668,"body_markdown":"why do you assume they are static? You use a static method to build them, that is all. They are not saved in a static variable, or static List, in this case.","body":"why do you assume they are static? You use a static method to build them, that is all. They are not saved in a static variable, or static List, in this case."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1669102281,"post_id":74528654,"comment_id":131561002,"body_markdown":"It&#39;s hard to say because your code doesn&#39;t even compile. (1) What is `instanceB`? (2) What is `predicateInConstruction`? (3) The `FilteredPredicateBuilder build()` is missing a return statement. (4) You have two parameterless `build()` methods in your class which is not allowed.","body":"It&#39;s hard to say because your code doesn&#39;t even compile. (1) What is <code>instanceB</code>? (2) What is <code>predicateInConstruction</code>? (3) The <code>FilteredPredicateBuilder build()</code> is missing a return statement. (4) You have two parameterless <code>build()</code> methods in your class which is not allowed."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669108438,"post_id":74528654,"comment_id":131562900,"body_markdown":"You are definitely reading the wrong articles. Neither “static class variables loading” nor “static methods loading” are a thing. While the individual words exist, these combinations are just gibberish.","body":"You are definitely reading the wrong articles. Neither “static class variables loading” nor “static methods loading” are a thing. While the individual words exist, these combinations are just gibberish."},{"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"score":0,"creation_date":1669126218,"post_id":74528654,"comment_id":131569395,"body_markdown":"Thank you, I needed to remove this confusion from my mind.","body":"Thank you, I needed to remove this confusion from my mind."},{"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"score":0,"creation_date":1669126959,"post_id":74528654,"comment_id":131569702,"body_markdown":"Thanks @ThomasKl&#228;ger, sorry for this, the snippet it edited","body":"Thanks @ThomasKl&#228;ger, sorry for this, the snippet it edited"}],"answers":[{"comments":[{"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"score":0,"creation_date":1669127306,"post_id":74529047,"comment_id":131569847,"body_markdown":"Thanks for your answers, I guess I got confused between instances and references.\nSorry about the snippet, I edited it and I hope it makes more sense. Does it change any of your answer?","body":"Thanks for your answers, I guess I got confused between instances and references. Sorry about the snippet, I edited it and I hope it makes more sense. Does it change any of your answer?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1669129316,"post_id":74529047,"comment_id":131570738,"body_markdown":"*&quot;Does it change any of your answer?&quot;*  - Not materially, no.","body":"<i>&quot;Does it change any of your answer?&quot;</i>  - Not materially, no."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1669129518,"post_id":74529047,"comment_id":131570812,"body_markdown":"In fact, it is now clear that the `RandomSumBuilder` that is created in `add()` will be a candidate for garbage collection as soon as the `add` call ends.  The fact that `add` is static makes no difference to that.","body":"In fact, it is now clear that the <code>RandomSumBuilder</code> that is created in <code>add()</code> will be a candidate for garbage collection as soon as the <code>add</code> call ends.  The fact that <code>add</code> is static makes no difference to that."},{"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"score":0,"creation_date":1669130329,"post_id":74529047,"comment_id":131571147,"body_markdown":"Thank you very much, I needed to get out of this confusion state. I have some homework to do but I think I&#39;m on the right path now.","body":"Thank you very much, I needed to get out of this confusion state. I have some homework to do but I think I&#39;m on the right path now."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669103508,"creation_date":1669103155,"answer_id":74529047,"question_id":74528654,"body_markdown":"Note that your example is not compilable and it is not possible to be sure about what the \r\n\r\n\r\n&gt; 1. Are the different `RandomSumBuilder` instances static?\r\n\r\nThat question is meaningless.\r\n\r\nThere is no such thing as a static instance.  Seriously.\r\n\r\nFor example:\r\n\r\n     public class Test {\r\n        public static Test myTest = new Test();\r\n     }\r\n\r\nThe `myTest` *variable* is a static variable, but the *instance* that it points to is no different from any other instance of `Test`.  \r\n\r\nIt is not a &quot;static instance&quot;.  *There is no such thing.*\r\n\r\nThe second issue is that your example is not creating any `RandomSumBuilder` instances at all.\r\n\r\n&gt;  2. Can these objects be elected&lt;sup&gt;1&lt;/sup&gt; for garbage collection?\r\n\r\nYes.  Assuming that they are not *assigned* to something that makes it reachable.\r\n\r\n&gt; 3. Does it put unnecessary work on the class loader?\r\n    \r\nNo.  Unless you are creating multiple classloaders, the class only loaded once.  The classloader doesn&#39;t get involved in creating instances.\r\n\r\n&gt; 4. What would the builder pattern (with a nested class) bring here instead?\r\n  \r\nHow an object is created makes no difference to its reachability.  It makes no difference that the method that creates it is static, or inner or nested.\r\n\r\nOn the other hand your code does this:\r\n\r\n    instanceB.aList.add(new Random().nextInt(11));\r\n\r\nThis doesn&#39;t compile because `instanceB` is not declared.  But if `instanceB` **was** declared, and it was `static`, then that would be sufficient to make the `Integer` that you are (possibly) creating reachable.\r\n\r\nBut that is nothing to do with the `build` method being static ... \r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - English mistake: you are equating &quot;candidates&quot; with &quot;election&quot;.  Garbage collection is not democratic.   And even in the real world, candidate has a broader meaning than that.  Look it up in a dictionary ...&lt;/sup&gt;\r\n","title":"What&#39;s the footprint of many instances built from a static method at runtime?","body":"<p>Note that your example is not compilable and it is not possible to be sure about what the</p>\n<blockquote>\n<ol>\n<li>Are the different <code>RandomSumBuilder</code> instances static?</li>\n</ol>\n</blockquote>\n<p>That question is meaningless.</p>\n<p>There is no such thing as a static instance.  Seriously.</p>\n<p>For example:</p>\n<pre><code> public class Test {\n    public static Test myTest = new Test();\n }\n</code></pre>\n<p>The <code>myTest</code> <em>variable</em> is a static variable, but the <em>instance</em> that it points to is no different from any other instance of <code>Test</code>.</p>\n<p>It is not a &quot;static instance&quot;.  <em>There is no such thing.</em></p>\n<p>The second issue is that your example is not creating any <code>RandomSumBuilder</code> instances at all.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Can these objects be elected<sup>1</sup> for garbage collection?</li>\n</ol>\n</blockquote>\n<p>Yes.  Assuming that they are not <em>assigned</em> to something that makes it reachable.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Does it put unnecessary work on the class loader?</li>\n</ol>\n</blockquote>\n<p>No.  Unless you are creating multiple classloaders, the class only loaded once.  The classloader doesn't get involved in creating instances.</p>\n<blockquote>\n<ol start=\"4\">\n<li>What would the builder pattern (with a nested class) bring here instead?</li>\n</ol>\n</blockquote>\n<p>How an object is created makes no difference to its reachability.  It makes no difference that the method that creates it is static, or inner or nested.</p>\n<p>On the other hand your code does this:</p>\n<pre><code>instanceB.aList.add(new Random().nextInt(11));\n</code></pre>\n<p>This doesn't compile because <code>instanceB</code> is not declared.  But if <code>instanceB</code> <strong>was</strong> declared, and it was <code>static</code>, then that would be sufficient to make the <code>Integer</code> that you are (possibly) creating reachable.</p>\n<p>But that is nothing to do with the <code>build</code> method being static ...</p>\n<hr />\n<p><sup>1 - English mistake: you are equating &quot;candidates&quot; with &quot;election&quot;.  Garbage collection is not democratic.   And even in the real world, candidate has a broader meaning than that.  Look it up in a dictionary ...</sup></p>\n"}],"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74529047,"answer_count":1,"score":0,"last_activity_date":1669126922,"creation_date":1669100918,"question_id":74528654,"body_markdown":"I&#39;ve read articles talking about static class variables loading and static methods loading but very few about returned instantiated objects from static methods and their footprint.\r\n\r\nReturning an instance from a static method is actually how singletons are created however singletons are supposed to be created once and then accessed by some getInstance method.\r\n\r\nIf I voluntarily want to break the singleton pattern, what happens if I write something like the following for example? (note the RandomSumBuilder build() method static access modifier)\r\n\r\n```\r\npublic class Service {\r\n\r\n\tpublic void doSomething() {\r\n\t\tfor (int i = 0; i &lt; 1000; i++) {\r\n\t\t\tSystem.out.println(&quot;Random sum : &quot; + RandomSumBuilder.add().build());\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic class RandomSumBuilder {\r\n\tprivate List&lt;Integer&gt; aList = new ArrayList&lt;&gt;();\r\n\r\n\tpublic RandomSumBuilder() { }\r\n\r\n\tpublic static RandomSumBuilder add() {\r\n\t\tRandomSumBuilder randomSumBuilder = new RandomSumBuilder();\r\n\t\trandomSumBuilder.aList.add(new Random().nextInt(11));\r\n\t\treturn randomSumBuilder;\r\n\t}\r\n\r\n\tpublic int build() {\r\n\t\treturn aList.stream()\r\n\t\t\t\t.reduce(Integer::sum)\r\n\t\t\t\t.orElse(0);\r\n\r\n\t}\r\n}\r\n```\r\n\r\nTo me it&#39;s clear RandomSumBuilder can&#39;t be considered as singletons but I can&#39;t get my head around these questions and I can only make assumptions so far.\r\n\r\n1. Are the different RandomSumBuilder instances static?  \r\n   *(I&#39;d say yes, like singletons)*\r\n\r\n2. Can these objects be elected for garbage collection?  \r\n   *(given my answer to question 1, I&#39;d say no)*\r\n\r\n3. Does it put unnecessary work on the class loader?  \r\n   *(if it has to load that many RandomSumBuilder to instantiate these static objects, I&#39;d say yes since I don&#39;t see the point in keeping them global. My quick local test with visualvm couldn&#39;t help me decide)*\r\n\r\n4. What would the builder pattern (with a nested class) bring here instead?  \r\n   *(I&#39;d say way less static objects created and class loading work but being at my 4th consecutive assumption I&#39;m not even sure)*\r\n\r\nI hope I&#39;m not too lost in this subject, please correct me if I&#39;m wrong.","title":"What&#39;s the footprint of many instances built from a static method at runtime?","body":"<p>I've read articles talking about static class variables loading and static methods loading but very few about returned instantiated objects from static methods and their footprint.</p>\n<p>Returning an instance from a static method is actually how singletons are created however singletons are supposed to be created once and then accessed by some getInstance method.</p>\n<p>If I voluntarily want to break the singleton pattern, what happens if I write something like the following for example? (note the RandomSumBuilder build() method static access modifier)</p>\n<pre><code>public class Service {\n\n    public void doSomething() {\n        for (int i = 0; i &lt; 1000; i++) {\n            System.out.println(&quot;Random sum : &quot; + RandomSumBuilder.add().build());\n        }\n    }\n}\n\npublic class RandomSumBuilder {\n    private List&lt;Integer&gt; aList = new ArrayList&lt;&gt;();\n\n    public RandomSumBuilder() { }\n\n    public static RandomSumBuilder add() {\n        RandomSumBuilder randomSumBuilder = new RandomSumBuilder();\n        randomSumBuilder.aList.add(new Random().nextInt(11));\n        return randomSumBuilder;\n    }\n\n    public int build() {\n        return aList.stream()\n                .reduce(Integer::sum)\n                .orElse(0);\n\n    }\n}\n</code></pre>\n<p>To me it's clear RandomSumBuilder can't be considered as singletons but I can't get my head around these questions and I can only make assumptions so far.</p>\n<ol>\n<li><p>Are the different RandomSumBuilder instances static?<br />\n<em>(I'd say yes, like singletons)</em></p>\n</li>\n<li><p>Can these objects be elected for garbage collection?<br />\n<em>(given my answer to question 1, I'd say no)</em></p>\n</li>\n<li><p>Does it put unnecessary work on the class loader?<br />\n<em>(if it has to load that many RandomSumBuilder to instantiate these static objects, I'd say yes since I don't see the point in keeping them global. My quick local test with visualvm couldn't help me decide)</em></p>\n</li>\n<li><p>What would the builder pattern (with a nested class) bring here instead?<br />\n<em>(I'd say way less static objects created and class loading work but being at my 4th consecutive assumption I'm not even sure)</em></p>\n</li>\n</ol>\n<p>I hope I'm not too lost in this subject, please correct me if I'm wrong.</p>\n"},{"tags":["java","hadoop","mapreduce","combiners"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1333910500,"post_id":10065314,"comment_id":12882828,"body_markdown":"Erm, if that&#39;s how you want your reducer to receive your data ... then yes.","body":"Erm, if that&#39;s how you want your reducer to receive your data ... then yes."},{"owner":{"account_id":335032,"reputation":227,"user_id":661867,"accept_rate":73,"display_name":"honeywind"},"score":0,"creation_date":1333913144,"post_id":10065314,"comment_id":12883389,"body_markdown":"@BrianRoach The reducer is basically doing what the combiner would do if it were possible. Could you elaborate on your answer? As a disclaimer, I have an assignment and my professor asks us why a combiner class cannot be introduced into a situation similar to the example above. However, I feel as though it can, which is why I am asking.","body":"@BrianRoach The reducer is basically doing what the combiner would do if it were possible. Could you elaborate on your answer? As a disclaimer, I have an assignment and my professor asks us why a combiner class cannot be introduced into a situation similar to the example above. However, I feel as though it can, which is why I am asking."}],"answers":[{"comments":[{"owner":{"account_id":335032,"reputation":227,"user_id":661867,"accept_rate":73,"display_name":"honeywind"},"score":0,"creation_date":1333959323,"post_id":10067849,"comment_id":12891047,"body_markdown":"Thanks this was an excellent explanation. You actually hit the target for my situation as a combiner class would have introduce duplicates.","body":"Thanks this was an excellent explanation. You actually hit the target for my situation as a combiner class would have introduce duplicates."}],"tags":[],"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1333933096,"creation_date":1333933096,"answer_id":10067849,"question_id":10065314,"body_markdown":"Combiners are typically suited to a problem where you are performing some form of aggregation, min, max etc operation on the data - these values can be calculated in the combiner for the map output, and then calculated again in the reducer for all the combined outputs. This is useful as it means you are not transferring all the data across the network between the mappers and the reducer.\r\n\r\nNow there is not reason that you can&#39;t introduce a combiner to accumulate a list of the values observed for each key (i assume this is what your example shows), but there are some things which would make it tricker.\r\n\r\nIf you have to output `&lt;Text, Text&gt;` pairs from the mapper, and consume `&lt;Text, Text&gt;` in the reducer then your combiner can easily concatenate the list of values together and output this as a Text value. Now in your reducer, you can do the same, concatenate all the values together and form one big output.\r\n\r\nYou may run into a problem if you wanted to sort and dedup the output list - as the combiner / reducer logic would need to tokenize the Text object back into words, sort and dedup the list and then rebuild the list of words.\r\n\r\nTo directly answer your question - when would it be appropriate, well i can think of some examples:\r\n\r\n- If you wanted to find the lexicographical smallest or largest value associated with each key\r\n- You have millions of values for each key and you want to &#39;randomly&#39; sample a small set the values","title":"Hadoop Combiner Class for Text","body":"<p>Combiners are typically suited to a problem where you are performing some form of aggregation, min, max etc operation on the data - these values can be calculated in the combiner for the map output, and then calculated again in the reducer for all the combined outputs. This is useful as it means you are not transferring all the data across the network between the mappers and the reducer.</p>\n\n<p>Now there is not reason that you can't introduce a combiner to accumulate a list of the values observed for each key (i assume this is what your example shows), but there are some things which would make it tricker.</p>\n\n<p>If you have to output <code>&lt;Text, Text&gt;</code> pairs from the mapper, and consume <code>&lt;Text, Text&gt;</code> in the reducer then your combiner can easily concatenate the list of values together and output this as a Text value. Now in your reducer, you can do the same, concatenate all the values together and form one big output.</p>\n\n<p>You may run into a problem if you wanted to sort and dedup the output list - as the combiner / reducer logic would need to tokenize the Text object back into words, sort and dedup the list and then rebuild the list of words.</p>\n\n<p>To directly answer your question - when would it be appropriate, well i can think of some examples:</p>\n\n<ul>\n<li>If you wanted to find the lexicographical smallest or largest value associated with each key</li>\n<li>You have millions of values for each key and you want to 'randomly' sample a small set the values</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4883421,"reputation":337,"user_id":3936513,"display_name":"VG P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669126797,"creation_date":1407918588,"answer_id":25281488,"question_id":10065314,"body_markdown":"Combiner class is used when there is situation to use commutative or associative approach. Commutative example:\r\n\r\nabc=cba during combine task perform (a*b=d),c and then send value of d,c to reducer. Now the reducer has to perform only one task instead of two task i.e. a*b = d\r\nd*c to get final answer. If you use combiner need to do only d*c.\r\n\r\nSimilarly for associative (a+b)+c = a+(b+c) \r\nAssociative(Grouping) and commutative(moving around) result will not differ on how you multiply or add. Mainly combiner is used for structured data which obeys Associative &amp; commutative.\r\n\r\nAdvantage of combiner:\r\n\r\n - It reduces network I/O between Map and reducer\r\n - It reduces Disk I/O in reducer as part of execution happens in Combiner.","title":"Hadoop Combiner Class for Text","body":"<p>Combiner class is used when there is situation to use commutative or associative approach. Commutative example:</p>\n<p>abc=cba during combine task perform (a<em>b=d),c and then send value of d,c to reducer. Now the reducer has to perform only one task instead of two task i.e. a</em>b = d\nd<em>c to get final answer. If you use combiner need to do only d</em>c.</p>\n<p>Similarly for associative (a+b)+c = a+(b+c)\nAssociative(Grouping) and commutative(moving around) result will not differ on how you multiply or add. Mainly combiner is used for structured data which obeys Associative &amp; commutative.</p>\n<p>Advantage of combiner:</p>\n<ul>\n<li>It reduces network I/O between Map and reducer</li>\n<li>It reduces Disk I/O in reducer as part of execution happens in Combiner.</li>\n</ul>\n"}],"owner":{"account_id":335032,"reputation":227,"user_id":661867,"accept_rate":73,"display_name":"honeywind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10067849,"answer_count":2,"score":0,"last_activity_date":1669126797,"creation_date":1333910166,"question_id":10065314,"body_markdown":"I&#39;m still trying to get an intuition as to when to use the Hadoop combiner class (I saw a few articles but they did not specifically help in my situation).\r\n\r\nMy question is, is it appropriate to use a combiner class when the value of the &lt;key,value&gt; pair is of the Text class? For instance, let&#39;s say we have the following output from the mapper:\r\n\r\n    fruit apple\r\n    fruit orange\r\n    fruit banana\r\n    ...\r\n    veggie carrot\r\n    veggie celery\r\n    ...\r\n\r\nCan we apply a combiner class here to be:\r\n\r\n    fruit apple orange banana\r\n    ...\r\n    veggie carrot celery\r\n    ...\r\n\r\nbefore it even reaches the reducer?","title":"Hadoop Combiner Class for Text","body":"<p>I'm still trying to get an intuition as to when to use the Hadoop combiner class (I saw a few articles but they did not specifically help in my situation).</p>\n\n<p>My question is, is it appropriate to use a combiner class when the value of the  pair is of the Text class? For instance, let's say we have the following output from the mapper:</p>\n\n<pre><code>fruit apple\nfruit orange\nfruit banana\n...\nveggie carrot\nveggie celery\n...\n</code></pre>\n\n<p>Can we apply a combiner class here to be:</p>\n\n<pre><code>fruit apple orange banana\n...\nveggie carrot celery\n...\n</code></pre>\n\n<p>before it even reaches the reducer?</p>\n"},{"tags":["java","kotlin","android-viewpager2"],"answers":[{"tags":[],"owner":{"account_id":26579939,"reputation":106,"user_id":20204744,"display_name":"MRF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669126641,"creation_date":1669126641,"answer_id":74534098,"question_id":74533525,"body_markdown":"It may have something to do with the way you&#39;re managing the navigation between the fragments.\r\nFirst of all, this, in ViewActivity\r\n\r\n      override fun onCreate(savedInstanceState: Bundle?){\r\n      super.onCreate(savedInstanceState)\r\n\r\n      adapterViewPager()\r\n      goToNextPage()\r\n      goToBackPage()}\r\n\r\nhere you&#39;re invoking sequentially both the function to navigate back and forth, as soon as the Activity gets created(onCreate), is there a reason for that?\r\n\r\nThen, in TakePictureFragment there&#39;s no need to wrap the button listener in a next() function, try this: \r\n\r\n      override fun onViewCreated(view: View, savedInstanceState: Bundle?){\r\n      super.onViewCreated(view, savedInstanceState)\r\n\r\n      binding.buttonNext.setOnClickListener {\r\n         parent.goToNextPage()\r\n      }}\r\n\r\n","title":"ViewPager is skipping a fragment when I take the picture or accept the permission","body":"<p>It may have something to do with the way you're managing the navigation between the fragments.\nFirst of all, this, in ViewActivity</p>\n<pre><code>  override fun onCreate(savedInstanceState: Bundle?){\n  super.onCreate(savedInstanceState)\n\n  adapterViewPager()\n  goToNextPage()\n  goToBackPage()}\n</code></pre>\n<p>here you're invoking sequentially both the function to navigate back and forth, as soon as the Activity gets created(onCreate), is there a reason for that?</p>\n<p>Then, in TakePictureFragment there's no need to wrap the button listener in a next() function, try this:</p>\n<pre><code>  override fun onViewCreated(view: View, savedInstanceState: Bundle?){\n  super.onViewCreated(view, savedInstanceState)\n\n  binding.buttonNext.setOnClickListener {\n     parent.goToNextPage()\n  }}\n</code></pre>\n"}],"owner":{"account_id":26977814,"reputation":1,"user_id":20542950,"display_name":"ShawDD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669126641,"creation_date":1669124265,"question_id":74533525,"body_markdown":"I&#39;m making a project in viewpager2. However, in one of the fragments I ask for the camera&#39;s permission and take the photo, and after I take it with the cell phone camera, it should show the photo in the fragment. However, when I go back to the fragment it goes to the next page automatically and without any error. Is there any way to control this and not let it jump until the user clicks the button?\r\n\r\n```\r\nclass ViewActivity : BaseActivity() {\r\n\r\n   private lateinit var binding: ActivityView\r\n   private lateinit var adapter: PagerAdapter\r\n\r\n   override fun onCreate(savedInstanceState: Bundle?){\r\n      super.onCreate(savedInstanceState)\r\n\r\n      adapterViewPager()\r\n      goToNextPage()\r\n      goToBackPage()\r\n   }\r\n\r\n   private fun adapterViewPager(){\r\n      adapter = ViewAdapter(supportFragmentManager, lifecycle)\r\n\r\n      adapter.addFragment(HelloWordFragment())\r\n      adapter.addFragment(TakePictureFragment())\r\n      adapter.addFragment(LoginFragment())\r\n      adapter.addFragment(ConfirmEmailFragment())\r\n\r\n      binding.viewPager.adapter = adapter\r\n   }\r\n\r\n   private fun goToNextPage(){\r\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem + 1)\r\n   }\r\n \r\n   private fun goToBackPage(){\r\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem - 1)\r\n   }\r\n}\r\n```\r\nPagerAdapter in java\r\n```\r\n\r\npublic final class PagerAdapter extends FragmentStateAdapter {\r\n\r\n   private final List&lt;Fragment&gt; fragList = new ArrayList&lt;&gt;() \r\n\r\n   ViewAdapter(FragmentManager fm, Lifecycle lf){\r\n      super(fm, lf)\r\n   }\r\n\r\n   public Fragment createViewPager(int position){\r\n      retirn fragList.get(position)\r\n   }\r\n\r\n   public void addFragment(Fragment fragment){\r\n      fragList.add(fragment)\r\n   }\r\n}\r\n```\r\nFragment da foto\r\n```\r\n\r\nclass TakePictureFragment : Fragment() {\r\n   \r\n   private lateinit var binding : FragmentTakePicture\r\n\r\n   override fun onCreateView(\r\n      inflater: LayoutInflater, container: ViewGroup?,\r\n      savedInstanceState: Bundle?\r\n   ): View {\r\n      binding = FragmentTakePicture.inflate(layoutInflater, container, false)\r\n      return binding.root\r\n   }\r\n\r\n   override fun onViewCreated(view: View, savedInstanceState: Bundle?){\r\n      super.onViewCreated(view, savedInstanceState)\r\n\r\n      next()\r\n   }\r\n\r\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n      super.onActivityResult(requestCode, resultCode, data)\r\n      if (resultCode == RESULT_OK) {\r\n            when (requestCode) {\r\n                REQUEST_IMAGE_CAPTURE -&gt; {...}\r\n                REQUEST_GALLERY_IMAGE -&gt; {...}\r\n            }\r\n      }\r\n   }\r\n\r\n   private fun next(){\r\n      binding.buttonNext.setOnClickListener {\r\n         parent.goToNextPage()\r\n      }\r\n   }\r\n}\r\n```","title":"ViewPager is skipping a fragment when I take the picture or accept the permission","body":"<p>I'm making a project in viewpager2. However, in one of the fragments I ask for the camera's permission and take the photo, and after I take it with the cell phone camera, it should show the photo in the fragment. However, when I go back to the fragment it goes to the next page automatically and without any error. Is there any way to control this and not let it jump until the user clicks the button?</p>\n<pre><code>class ViewActivity : BaseActivity() {\n\n   private lateinit var binding: ActivityView\n   private lateinit var adapter: PagerAdapter\n\n   override fun onCreate(savedInstanceState: Bundle?){\n      super.onCreate(savedInstanceState)\n\n      adapterViewPager()\n      goToNextPage()\n      goToBackPage()\n   }\n\n   private fun adapterViewPager(){\n      adapter = ViewAdapter(supportFragmentManager, lifecycle)\n\n      adapter.addFragment(HelloWordFragment())\n      adapter.addFragment(TakePictureFragment())\n      adapter.addFragment(LoginFragment())\n      adapter.addFragment(ConfirmEmailFragment())\n\n      binding.viewPager.adapter = adapter\n   }\n\n   private fun goToNextPage(){\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem + 1)\n   }\n \n   private fun goToBackPage(){\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem - 1)\n   }\n}\n</code></pre>\n<p>PagerAdapter in java</p>\n<pre><code>\npublic final class PagerAdapter extends FragmentStateAdapter {\n\n   private final List&lt;Fragment&gt; fragList = new ArrayList&lt;&gt;() \n\n   ViewAdapter(FragmentManager fm, Lifecycle lf){\n      super(fm, lf)\n   }\n\n   public Fragment createViewPager(int position){\n      retirn fragList.get(position)\n   }\n\n   public void addFragment(Fragment fragment){\n      fragList.add(fragment)\n   }\n}\n</code></pre>\n<p>Fragment da foto</p>\n<pre><code>\nclass TakePictureFragment : Fragment() {\n   \n   private lateinit var binding : FragmentTakePicture\n\n   override fun onCreateView(\n      inflater: LayoutInflater, container: ViewGroup?,\n      savedInstanceState: Bundle?\n   ): View {\n      binding = FragmentTakePicture.inflate(layoutInflater, container, false)\n      return binding.root\n   }\n\n   override fun onViewCreated(view: View, savedInstanceState: Bundle?){\n      super.onViewCreated(view, savedInstanceState)\n\n      next()\n   }\n\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n      super.onActivityResult(requestCode, resultCode, data)\n      if (resultCode == RESULT_OK) {\n            when (requestCode) {\n                REQUEST_IMAGE_CAPTURE -&gt; {...}\n                REQUEST_GALLERY_IMAGE -&gt; {...}\n            }\n      }\n   }\n\n   private fun next(){\n      binding.buttonNext.setOnClickListener {\n         parent.goToNextPage()\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","apache-arrow"],"answers":[{"comments":[{"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"score":0,"creation_date":1669134801,"post_id":74534036,"comment_id":131573050,"body_markdown":"Thanks! Can you please point me to how to work in a &quot;streaming&quot; fashion?","body":"Thanks! Can you please point me to how to work in a &quot;streaming&quot; fashion?"},{"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"score":0,"creation_date":1669135484,"post_id":74534036,"comment_id":131573324,"body_markdown":"The docs there explain the general concept.","body":"The docs there explain the general concept."}],"tags":[],"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669126374,"creation_date":1669126374,"answer_id":74534036,"question_id":74523121,"body_markdown":"A VectorSchemaRoot holds only one &quot;batch&quot; of data at a time. For multiple batches, you must work in a &quot;streaming&quot; fashion. So your rough flow looks like:\r\n\r\n1. Create a VectorSchemaRoot.\r\n2. Create a file writer and call `start`.\r\n3. Fill the Root with data and call `writeBatch`.\r\n4. Fill the Root with new data and call `writeBatch` again. Repeat as needed.\r\n5. `end()` or `close()` the writer.\r\n\r\nSee for example https://arrow.apache.org/docs/java/vector_schema_root.html#vectorschemaroot or https://arrow.apache.org/cookbook/java/io.html#writing:\r\n\r\n```java\r\nimport org.apache.arrow.memory.BufferAllocator;\r\nimport org.apache.arrow.memory.RootAllocator;\r\nimport org.apache.arrow.vector.VarCharVector;\r\nimport org.apache.arrow.vector.IntVector;\r\nimport org.apache.arrow.vector.types.pojo.Field;\r\nimport org.apache.arrow.vector.types.pojo.FieldType;\r\nimport org.apache.arrow.vector.types.pojo.ArrowType;\r\nimport org.apache.arrow.vector.types.pojo.Schema;\r\nimport org.apache.arrow.vector.VectorSchemaRoot;\r\nimport static java.util.Arrays.asList;\r\nimport org.apache.arrow.vector.ipc.ArrowFileWriter;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\ntry (BufferAllocator allocator = new RootAllocator()) {\r\n    Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\r\n    Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n    Schema schemaPerson = new Schema(asList(name, age));\r\n    try(\r\n        VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\r\n    ){\r\n        VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\r\n        nameVector.allocateNew(3);\r\n        nameVector.set(0, &quot;David&quot;.getBytes());\r\n        nameVector.set(1, &quot;Gladis&quot;.getBytes());\r\n        nameVector.set(2, &quot;Juan&quot;.getBytes());\r\n        IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\r\n        ageVector.allocateNew(3);\r\n        ageVector.set(0, 10);\r\n        ageVector.set(1, 20);\r\n        ageVector.set(2, 30);\r\n        vectorSchemaRoot.setRowCount(3);\r\n        File file = new File(&quot;randon_access_to_file.arrow&quot;);\r\n        try (\r\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n            ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\r\n        ) {\r\n            writer.start();\r\n            writer.writeBatch();\r\n            // For a second batch, fill vectorSchemaRoot with more data\r\n            // then call writeBatch again\r\n            writer.end();\r\n            System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"How can I write an .arrow/.arrows file with several batches?","body":"<p>A VectorSchemaRoot holds only one &quot;batch&quot; of data at a time. For multiple batches, you must work in a &quot;streaming&quot; fashion. So your rough flow looks like:</p>\n<ol>\n<li>Create a VectorSchemaRoot.</li>\n<li>Create a file writer and call <code>start</code>.</li>\n<li>Fill the Root with data and call <code>writeBatch</code>.</li>\n<li>Fill the Root with new data and call <code>writeBatch</code> again. Repeat as needed.</li>\n<li><code>end()</code> or <code>close()</code> the writer.</li>\n</ol>\n<p>See for example <a href=\"https://arrow.apache.org/docs/java/vector_schema_root.html#vectorschemaroot\" rel=\"nofollow noreferrer\">https://arrow.apache.org/docs/java/vector_schema_root.html#vectorschemaroot</a> or <a href=\"https://arrow.apache.org/cookbook/java/io.html#writing\" rel=\"nofollow noreferrer\">https://arrow.apache.org/cookbook/java/io.html#writing</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.arrow.memory.BufferAllocator;\nimport org.apache.arrow.memory.RootAllocator;\nimport org.apache.arrow.vector.VarCharVector;\nimport org.apache.arrow.vector.IntVector;\nimport org.apache.arrow.vector.types.pojo.Field;\nimport org.apache.arrow.vector.types.pojo.FieldType;\nimport org.apache.arrow.vector.types.pojo.ArrowType;\nimport org.apache.arrow.vector.types.pojo.Schema;\nimport org.apache.arrow.vector.VectorSchemaRoot;\nimport static java.util.Arrays.asList;\nimport org.apache.arrow.vector.ipc.ArrowFileWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\ntry (BufferAllocator allocator = new RootAllocator()) {\n    Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\n    Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\n    Schema schemaPerson = new Schema(asList(name, age));\n    try(\n        VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\n    ){\n        VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\n        nameVector.allocateNew(3);\n        nameVector.set(0, &quot;David&quot;.getBytes());\n        nameVector.set(1, &quot;Gladis&quot;.getBytes());\n        nameVector.set(2, &quot;Juan&quot;.getBytes());\n        IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\n        ageVector.allocateNew(3);\n        ageVector.set(0, 10);\n        ageVector.set(1, 20);\n        ageVector.set(2, 30);\n        vectorSchemaRoot.setRowCount(3);\n        File file = new File(&quot;randon_access_to_file.arrow&quot;);\n        try (\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\n            ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\n        ) {\n            writer.start();\n            writer.writeBatch();\n            // For a second batch, fill vectorSchemaRoot with more data\n            // then call writeBatch again\n            writer.end();\n            System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669126374,"creation_date":1669053787,"question_id":74523121,"body_markdown":"As a part of my current task, I need to write several batches to .arrow/.arrows file and then read the data from it.\r\n\r\nHow can I do that?\r\n\r\nNow I am doing something like this:\r\n\r\n    private static VectorSchemaRoot addData(int count) {\r\n    \t\ttry (BufferAllocator allocator = new RootAllocator()) {\r\n    \t\t\tField age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n    \t\t\tField name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\r\n    \t\t\tSchema schema = new Schema(List.of(age, name));\r\n    \t\t\ttry(\r\n    \t\t\t\t\tVectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schema, allocator);\r\n    \r\n    \t\t\t){\r\n    \r\n    \t\t\t\tIntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\r\n    \t\t\t\tVarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\r\n    \t\t\t\tageVector.allocateNew(count);\r\n    \t\t\t\tnameVector.allocateNew(count);\r\n    \r\n    \t\t\t\tfor (int i = 0; i &lt; count; i++) {\r\n    \t\t\t\t\tageVector.set(i, i*10);\r\n    \t\t\t\t\tnameVector.set(i, (&quot;John &quot; + i*10).getBytes());\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tvectorSchemaRoot.setRowCount(count);\r\n    \t\t\t\treturn vectorSchemaRoot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\nBut this adds only one batch/block?\r\nHonestly, I am not sure that I am getting the concept enough, and not much info I was able to find on this topic. If you can point me to some good read on this topic, I would appreciate this.","title":"How can I write an .arrow/.arrows file with several batches?","body":"<p>As a part of my current task, I need to write several batches to .arrow/.arrows file and then read the data from it.</p>\n<p>How can I do that?</p>\n<p>Now I am doing something like this:</p>\n<pre><code>private static VectorSchemaRoot addData(int count) {\n        try (BufferAllocator allocator = new RootAllocator()) {\n            Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\n            Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\n            Schema schema = new Schema(List.of(age, name));\n            try(\n                    VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schema, allocator);\n\n            ){\n\n                IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\n                VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\n                ageVector.allocateNew(count);\n                nameVector.allocateNew(count);\n\n                for (int i = 0; i &lt; count; i++) {\n                    ageVector.set(i, i*10);\n                    nameVector.set(i, (&quot;John &quot; + i*10).getBytes());\n                }\n\n                vectorSchemaRoot.setRowCount(count);\n                return vectorSchemaRoot;\n            }\n        }\n    }\n</code></pre>\n<p>But this adds only one batch/block?\nHonestly, I am not sure that I am getting the concept enough, and not much info I was able to find on this topic. If you can point me to some good read on this topic, I would appreciate this.</p>\n"},{"tags":["java","sql","spring","database","jooq"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668976844,"post_id":74511215,"comment_id":131531452,"body_markdown":"you are trying to map Post&#39;s comments to Comment&#39;s postId. those are different types. check your mapping again.","body":"you are trying to map Post&#39;s comments to Comment&#39;s postId. those are different types. check your mapping again."}],"answers":[{"comments":[{"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"score":0,"creation_date":1669122853,"post_id":74528633,"comment_id":131568081,"body_markdown":"Thanks for your answer but now i get this exception: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;PUBLIC.POSTS.ID&quot; not found","body":"Thanks for your answer but now i get this exception: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;PUBLIC.POSTS.ID&quot; not found"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1669123362,"post_id":74528633,"comment_id":131568261,"body_markdown":"@Sampeteq: Ah that&#39;s been addressed in jOOQ 3.18 for dialects like H2: https://github.com/jOOQ/jOOQ/issues/12045. The workaround is to use `multisetAgg()` for the time being.","body":"@Sampeteq: Ah that&#39;s been addressed in jOOQ 3.18 for dialects like H2: <a href=\"https://github.com/jOOQ/jOOQ/issues/12045\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/12045</a>. The workaround is to use <code>multisetAgg()</code> for the time being."},{"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"score":0,"creation_date":1669124240,"post_id":74528633,"comment_id":131568599,"body_markdown":"I&#39;ve tried to use multisetAgg() but it event doesn&#39;t compile","body":"I&#39;ve tried to use multisetAgg() but it event doesn&#39;t compile"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1669124446,"post_id":74528633,"comment_id":131568668,"body_markdown":"@Sampeteq: Well, it seems you&#39;re on jOOQ 3.15.0, but the current version is 3.17.5, so might try upgrading first. I&#39;ll be happy to answer follow-up questions about compilation errors, though... Better not in the comments, there isn&#39;t enough space for this.","body":"@Sampeteq: Well, it seems you&#39;re on jOOQ 3.15.0, but the current version is 3.17.5, so might try upgrading first. I&#39;ll be happy to answer follow-up questions about compilation errors, though... Better not in the comments, there isn&#39;t enough space for this."},{"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"score":0,"creation_date":1669126162,"post_id":74528633,"comment_id":131569363,"body_markdown":"I&#39;ve added comment with written method using multisetAgg","body":"I&#39;ve added comment with written method using multisetAgg"},{"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"score":1,"creation_date":1669214015,"post_id":74528633,"comment_id":131593964,"body_markdown":"I&#39;m sorry, not comment but answer. It&#39;s on bottom. MultisetAgg works fine thanks for your help","body":"I&#39;m sorry, not comment but answer. It&#39;s on bottom. MultisetAgg works fine thanks for your help"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669100788,"creation_date":1669100788,"answer_id":74528633,"question_id":74511215,"body_markdown":"### Why your approach doesn&#39;t work\r\n\r\nYou&#39;re creating a flat result set from your one-to-many relationship between `POSTS` and `COMMENTS`, and then, you&#39;re expecting jOOQ&#39;s [`DefaultRecordMapper`][1] (via the `fetchInto(Class)` method) to de-duplicate those flat results again automatically for you. But that&#39;s not how things work in jOOQ. While *you* know the relationship between `POSTS` and `COMMENTS` in your query, a flat jOOQ `Result` does not. There&#39;s no obvious way how to auto-deduplicate stuff. Imagine, you had several nested collections in `Post`, how would that even work?\r\n\r\n### Using `MULTISET` to nest collections\r\n\r\nThe most jOOQ and SQL idiomatic way to nest collections is to use [`MULTISET`][2], along with [ad-hoc converters][3], e.g. like this:\r\n\r\n```java\r\nList&lt;Post&gt; result =\r\ndslContext\r\n    .select(\r\n        POSTS.ID,\r\n        POSTS.CONTENT,\r\n        POSTS.CREATED_AT,\r\n        multiset(\r\n            select(COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT)\r\n            .from(COMMENTS)\r\n            .where(COMMENTS.POST_ID.eq(POSTS.ID))\r\n        ).convertFrom(r -&gt; r.map(Records.mapping(Comment::new))))\r\n    .from(POSTS)\r\n    .fetch(Records.mapping(Post::new));\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"JOOQ problem with mapping (DataTypeException)","body":"<h3>Why your approach doesn't work</h3>\n<p>You're creating a flat result set from your one-to-many relationship between <code>POSTS</code> and <code>COMMENTS</code>, and then, you're expecting jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\"><code>DefaultRecordMapper</code></a> (via the <code>fetchInto(Class)</code> method) to de-duplicate those flat results again automatically for you. But that's not how things work in jOOQ. While <em>you</em> know the relationship between <code>POSTS</code> and <code>COMMENTS</code> in your query, a flat jOOQ <code>Result</code> does not. There's no obvious way how to auto-deduplicate stuff. Imagine, you had several nested collections in <code>Post</code>, how would that even work?</p>\n<h3>Using <code>MULTISET</code> to nest collections</h3>\n<p>The most jOOQ and SQL idiomatic way to nest collections is to use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code></a>, along with <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converters</a>, e.g. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Post&gt; result =\ndslContext\n    .select(\n        POSTS.ID,\n        POSTS.CONTENT,\n        POSTS.CREATED_AT,\n        multiset(\n            select(COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT)\n            .from(COMMENTS)\n            .where(COMMENTS.POST_ID.eq(POSTS.ID))\n        ).convertFrom(r -&gt; r.map(Records.mapping(Comment::new))))\n    .from(POSTS)\n    .fetch(Records.mapping(Post::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669126067,"creation_date":1669126067,"answer_id":74533951,"question_id":74511215,"body_markdown":"@Lukas Eder\r\n\r\nI&#39;ve written this method using multisetAgg. It works ok but i&#39;m not sure it should look like this:\r\n\r\n      List&lt;Post&gt; getAllPost() {\r\n        List&lt;Post&gt; result =\r\n                dslContext\r\n                        .select(\r\n                                POSTS.ID,\r\n                                POSTS.CONTENT,\r\n                                POSTS.CREATED_AT,\r\n                                multisetAgg(\r\n                                        COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT, COMMENTS.POST_ID\r\n\r\n                                ).as(&quot;comments&quot;).convertFrom(r -&gt; r.into(Comment.class))\r\n                        )\r\n                        .from(POSTS)\r\n                        .leftJoin(COMMENTS).on(COMMENTS.POST_ID.eq(POSTS.ID))\r\n                        .groupBy(POSTS.ID)\r\n                        .fetchInto(Post.class);\r\n        return result;\r\n    }","title":"JOOQ problem with mapping (DataTypeException)","body":"<p>@Lukas Eder</p>\n<p>I've written this method using multisetAgg. It works ok but i'm not sure it should look like this:</p>\n<pre><code>  List&lt;Post&gt; getAllPost() {\n    List&lt;Post&gt; result =\n            dslContext\n                    .select(\n                            POSTS.ID,\n                            POSTS.CONTENT,\n                            POSTS.CREATED_AT,\n                            multisetAgg(\n                                    COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT, COMMENTS.POST_ID\n\n                            ).as(&quot;comments&quot;).convertFrom(r -&gt; r.into(Comment.class))\n                    )\n                    .from(POSTS)\n                    .leftJoin(COMMENTS).on(COMMENTS.POST_ID.eq(POSTS.ID))\n                    .groupBy(POSTS.ID)\n                    .fetchInto(Post.class);\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74533951,"answer_count":2,"score":2,"last_activity_date":1669126067,"creation_date":1668972139,"question_id":74511215,"body_markdown":"I get this exception when mapping record to entity:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.jooq.exception.DataTypeException: No Converter found for types java.util.UUID and java.util.List\r\n\tat org.jooq.impl.Tools.converterOrFail(Tools.java:1208) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.Tools.converterOrFail(Tools.java:1217) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:351) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.set(DefaultRecordMapper.java:1146) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.mapNonnested(DefaultRecordMapper.java:1137) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.map(DefaultRecordMapper.java:1124) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper.map(DefaultRecordMapper.java:610) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DelayedRecordMapper.map(DelayedRecordMapper.java:69) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.RecordMapper.apply(RecordMapper.java:80) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.RecordMapper.apply(RecordMapper.java:65) ~[jooq-3.15.0.jar:na]\r\n\tat java.base/java.util.stream.Collectors.lambda$mapping$13(Collectors.java:469) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169) ~[na:na]\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat org.jooq.impl.AbstractCursor.collect(AbstractCursor.java:78) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.ResultQueryTrait.collect(ResultQueryTrait.java:358) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.ResultQueryTrait.fetchInto(ResultQueryTrait.java:1423) ~[jooq-3.15.0.jar:na]\r\n\tat com.example.jooqsample.posts.JOOQPostRepository.getAll(JOOQPostRepository.java:45) ~[classes/:na]\r\n\tat com.example.jooqsample.posts.PostFacade.getAllPosts(PostFacade.java:34) ~[classes/:na]\r\n\tat com.example.jooqsample.posts.rest.PostController.getAllPosts(PostController.java:27) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nEntities:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PACKAGE)\r\n    @Getter\r\n    @ToString\r\n    @EqualsAndHashCode(of = &quot;id&quot;)\r\n    class Post {\r\n\r\n        private UUID id;\r\n\r\n        private String content;\r\n\r\n        private Instant createdAt;\r\n\r\n        private List&lt;Comment&gt; comments;\r\n\r\n    PostDTO toDTO() {\r\n        return PostDTO\r\n                .builder()\r\n                .id(this.id)\r\n                .content(this.content)\r\n                .comments(this.comments.stream().map(Comment::toDTO).toList())\r\n                .build();\r\n        }\r\n     }\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PACKAGE)\r\n    @Getter\r\n    @ToString\r\n    @EqualsAndHashCode(of = &quot;id&quot;)\r\n    class Comment {\r\n        private UUID id;\r\n\r\n        private String content;\r\n\r\n        private Instant createdAt;\r\n\r\n        UUID postId;\r\n\r\n    CommentDTO toDTO() {\r\n        return new CommentDTO(this.id, this.content);\r\n      }\r\n    }\r\n\r\nMethod:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public List&lt;Post&gt; getAll() {\r\n        return dslContext\r\n                .select()\r\n                .from(POSTS)\r\n                .leftJoin(COMMENTS)\r\n                .onKey()\r\n                .fetchInto(Post.class);\r\n    }\r\n\r\n- JOOQ version: 3.15\r\n- Spring Boot version: 2.7.5\r\n- Java version: 17","title":"JOOQ problem with mapping (DataTypeException)","body":"<p>I get this exception when mapping record to entity:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.jooq.exception.DataTypeException: No Converter found for types java.util.UUID and java.util.List\nat org.jooq.impl.Tools.converterOrFail(Tools.java:1208) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.Tools.converterOrFail(Tools.java:1217) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:351) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.set(DefaultRecordMapper.java:1146) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.mapNonnested(DefaultRecordMapper.java:1137) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.map(DefaultRecordMapper.java:1124) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper.map(DefaultRecordMapper.java:610) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DelayedRecordMapper.map(DelayedRecordMapper.java:69) ~[jooq-3.15.0.jar:na]\nat org.jooq.RecordMapper.apply(RecordMapper.java:80) ~[jooq-3.15.0.jar:na]\nat org.jooq.RecordMapper.apply(RecordMapper.java:65) ~[jooq-3.15.0.jar:na]\nat java.base/java.util.stream.Collectors.lambda$mapping$13(Collectors.java:469) ~[na:na]\nat java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169) ~[na:na]\nat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\nat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\nat org.jooq.impl.AbstractCursor.collect(AbstractCursor.java:78) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.ResultQueryTrait.collect(ResultQueryTrait.java:358) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.ResultQueryTrait.fetchInto(ResultQueryTrait.java:1423) ~[jooq-3.15.0.jar:na]\nat com.example.jooqsample.posts.JOOQPostRepository.getAll(JOOQPostRepository.java:45) ~[classes/:na]\nat com.example.jooqsample.posts.PostFacade.getAllPosts(PostFacade.java:34) ~[classes/:na]\nat com.example.jooqsample.posts.rest.PostController.getAllPosts(PostController.java:27) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor(access = AccessLevel.PACKAGE)\n@Getter\n@ToString\n@EqualsAndHashCode(of = &quot;id&quot;)\nclass Post {\n\n    private UUID id;\n\n    private String content;\n\n    private Instant createdAt;\n\n    private List&lt;Comment&gt; comments;\n\nPostDTO toDTO() {\n    return PostDTO\n            .builder()\n            .id(this.id)\n            .content(this.content)\n            .comments(this.comments.stream().map(Comment::toDTO).toList())\n            .build();\n    }\n }\n\n@AllArgsConstructor(access = AccessLevel.PACKAGE)\n@Getter\n@ToString\n@EqualsAndHashCode(of = &quot;id&quot;)\nclass Comment {\n    private UUID id;\n\n    private String content;\n\n    private Instant createdAt;\n\n    UUID postId;\n\nCommentDTO toDTO() {\n    return new CommentDTO(this.id, this.content);\n  }\n}\n</code></pre>\n<p>Method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Post&gt; getAll() {\n    return dslContext\n            .select()\n            .from(POSTS)\n            .leftJoin(COMMENTS)\n            .onKey()\n            .fetchInto(Post.class);\n}\n</code></pre>\n<ul>\n<li>JOOQ version: 3.15</li>\n<li>Spring Boot version: 2.7.5</li>\n<li>Java version: 17</li>\n</ul>\n"},{"tags":["java","android","kotlin","sdk","libs"],"answers":[{"tags":[],"owner":{"account_id":21413989,"reputation":23,"user_id":15773565,"display_name":"tahreem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669125473,"creation_date":1669125473,"answer_id":74533797,"question_id":73233424,"body_markdown":"The issue was fixed long time ago. Had to reimplement everything from scratch. \r\n\r\n1. Added the JAR file in the libs folder.\r\n2. Run the JAR file inside the android studio so that it can install all its components inside the folder. \r\n3. Add all the other .SO files.\r\n4. Used a third party library for converting View to Bitmap and used to send the same bitmap for printing.\r\nAvailable on github-&gt; ` implementation &#39;id.zelory:cekrek:1.0.0&#39;`\r\n5. Implement the methods for printing the project. Had to use the USB cable so as the printer works. \r\n\r\nAnd it worked like a charm. ","title":"Getting java.lang.UnsatisfiedLinkError: No implementation found for error","body":"<p>The issue was fixed long time ago. Had to reimplement everything from scratch.</p>\n<ol>\n<li>Added the JAR file in the libs folder.</li>\n<li>Run the JAR file inside the android studio so that it can install all its components inside the folder.</li>\n<li>Add all the other .SO files.</li>\n<li>Used a third party library for converting View to Bitmap and used to send the same bitmap for printing.\nAvailable on github-&gt; <code> implementation 'id.zelory:cekrek:1.0.0'</code></li>\n<li>Implement the methods for printing the project. Had to use the USB cable so as the printer works.</li>\n</ol>\n<p>And it worked like a charm.</p>\n"}],"owner":{"account_id":21413989,"reputation":23,"user_id":15773565,"display_name":"tahreem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":855,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74533797,"answer_count":1,"score":0,"last_activity_date":1669125473,"creation_date":1659605124,"question_id":73233424,"body_markdown":"I am using a third party library for printing purposes in my Kotlin Android app. I am getting this error when running the application and clicking the print button. \r\n\r\nI have added the .so files in the jniLibs folder. Can anyone help me with this. I can share the project as well but you will need a physical printer from the company I am using this SDK from. \r\n\r\n[![&gt; Fatal Exception: java.lang.UnsatisfiedLinkError: No implementation\r\n&gt; found for int com.icod.serial.SerialPort.native_open(java.lang.String,\r\n&gt; int, int, int) (tried Java_com_icod_serial_SerialPort_native_1open and\r\n&gt; Java_com_icod_serial_SerialPort_native_1open__Ljava_lang_String_2III)\r\n&gt;        at com.icod.serial.SerialPort.native_open(SerialPort.java)\r\n&gt;        at com.icod.serial.SerialPort.open(SerialPort.java:76)\r\n&gt;        at com.szsicod.print.io.SerialAPI.openDevice(SerialAPI.java:36)\r\n&gt;        at com.szsicod.print.escpos.PrinterAPI.connect(PrinterAPI.java:370)\r\n&gt;        at com.tahreem.testmasungapplication.MainActivity.printIcod(MainActivity.kt:97)]\r\n\r\nImage attached\r\n\r\n[Image]\r\n\r\n\r\n  [Image]: https://i.stack.imgur.com/tCbwG.png","title":"Getting java.lang.UnsatisfiedLinkError: No implementation found for error","body":"<p>I am using a third party library for printing purposes in my Kotlin Android app. I am getting this error when running the application and clicking the print button.</p>\n<p>I have added the .so files in the jniLibs folder. Can anyone help me with this. I can share the project as well but you will need a physical printer from the company I am using this SDK from.</p>\n<p>[![&gt; Fatal Exception: java.lang.UnsatisfiedLinkError: No implementation</p>\n<blockquote>\n<p>found for int com.icod.serial.SerialPort.native_open(java.lang.String,\nint, int, int) (tried Java_com_icod_serial_SerialPort_native_1open and\nJava_com_icod_serial_SerialPort_native_1open__Ljava_lang_String_2III)\nat com.icod.serial.SerialPort.native_open(SerialPort.java)\nat com.icod.serial.SerialPort.open(SerialPort.java:76)\nat com.szsicod.print.io.SerialAPI.openDevice(SerialAPI.java:36)\nat com.szsicod.print.escpos.PrinterAPI.connect(PrinterAPI.java:370)\nat com.tahreem.testmasungapplication.MainActivity.printIcod(MainActivity.kt:97)]</p>\n</blockquote>\n<p>Image attached</p>\n<p><a href=\"https://i.stack.imgur.com/tCbwG.png\" rel=\"nofollow noreferrer\">Image</a></p>\n"},{"tags":["java","java-8","chronicle","chronicle-map"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669125462,"creation_date":1669125462,"answer_id":74533793,"question_id":73403687,"body_markdown":"1. This is determined by the OS, it is between 5 and 30 seconds by default up to a maximum of 10% of the main memory not being written to disk.\r\n\r\n2. dirtytime_expire_seconds and dirty_expire_centisecs\r\nhttps://docs.kernel.org/admin-guide/sysctl/vm.html\r\n\r\n3. The data is flushed by the OS so as long as this keeps running for another 30 seconds, it should be flushed.\r\n\r\n4. In short, it&#39;s controlled by your OS.","title":"OpenHFT Chronicle Map frequency of persist on to the disk","body":"<ol>\n<li><p>This is determined by the OS, it is between 5 and 30 seconds by default up to a maximum of 10% of the main memory not being written to disk.</p>\n</li>\n<li><p>dirtytime_expire_seconds and dirty_expire_centisecs\n<a href=\"https://docs.kernel.org/admin-guide/sysctl/vm.html\" rel=\"nofollow noreferrer\">https://docs.kernel.org/admin-guide/sysctl/vm.html</a></p>\n</li>\n<li><p>The data is flushed by the OS so as long as this keeps running for another 30 seconds, it should be flushed.</p>\n</li>\n<li><p>In short, it's controlled by your OS.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6920012,"reputation":628,"user_id":5312971,"accept_rate":60,"display_name":"howard roark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74533793,"answer_count":1,"score":1,"last_activity_date":1669125462,"creation_date":1660828245,"question_id":73403687,"body_markdown":"I had few questions regarding openHFT chronicle map.\r\n\r\n1) How often does chronicle map persist from memory to disk.\r\n2) Is this time configurable?\r\n3) If JVM process with chronicle map crashes. Does the data in off heap memory gets flushed automatically?\r\n4) Can someone point me to correct resources that are available for above questions?\r\n\r\nThank you","title":"OpenHFT Chronicle Map frequency of persist on to the disk","body":"<p>I had few questions regarding openHFT chronicle map.</p>\n<ol>\n<li>How often does chronicle map persist from memory to disk.</li>\n<li>Is this time configurable?</li>\n<li>If JVM process with chronicle map crashes. Does the data in off heap memory gets flushed automatically?</li>\n<li>Can someone point me to correct resources that are available for above questions?</li>\n</ol>\n<p>Thank you</p>\n"},{"tags":["java","hibernate","hibernate-search"],"comments":[{"owner":{"account_id":1578628,"reputation":1857,"user_id":1464495,"accept_rate":91,"display_name":"brandones"},"score":0,"creation_date":1571182458,"post_id":58403820,"comment_id":103152655,"body_markdown":"If the linked question is indeed related, the ticket https://hibernate.atlassian.net/browse/HSEARCH-2518 claims that this should be possible in Hibernate Search 6.0.","body":"If the linked question is indeed related, the ticket <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-2518\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HSEARCH-2518</a> claims that this should be possible in Hibernate Search 6.0."},{"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"score":0,"creation_date":1571207816,"post_id":58403820,"comment_id":103158302,"body_markdown":"You can give a name to an analyzer instance in Search 6, but you can&#39;t use the `AnalyzerDiscriminator`. There would be ways around that, but first: what is the need exactly? When you say &quot;provided at runtime&quot;, do you mean &quot;when starting the application&quot; or &quot;for each HTTP request&quot; or &quot;for each entity instance&quot;? Do you need to change the analyzer when querying, or when indexing?","body":"You can give a name to an analyzer instance in Search 6, but you can&#39;t use the <code>AnalyzerDiscriminator</code>. There would be ways around that, but first: what is the need exactly? When you say &quot;provided at runtime&quot;, do you mean &quot;when starting the application&quot; or &quot;for each HTTP request&quot; or &quot;for each entity instance&quot;? Do you need to change the analyzer when querying, or when indexing?"},{"owner":{"account_id":1578628,"reputation":1857,"user_id":1464495,"accept_rate":91,"display_name":"brandones"},"score":0,"creation_date":1571234982,"post_id":58403820,"comment_id":103173469,"body_markdown":"When starting the application. I would like to specify the Filter[Factory] or Analyzer in a configuration file. I&#39;ll update the question. I assume a reindex would be needed after changing the analyzer?","body":"When starting the application. I would like to specify the Filter[Factory] or Analyzer in a configuration file. I&#39;ll update the question. I assume a reindex would be needed after changing the analyzer?"},{"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"score":0,"creation_date":1571236789,"post_id":58403820,"comment_id":103174679,"body_markdown":"Answered below. And yes, you will need to reindex when you change the analyzers, regardless of how you do it (you would need to reindex even if you changed the annotations).","body":"Answered below. And yes, you will need to reindex when you change the analyzers, regardless of how you do it (you would need to reindex even if you changed the annotations)."}],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571242824,"creation_date":1571236734,"answer_id":58415931,"question_id":58403820,"body_markdown":"In Hibernate Search 5.11 (and since 5.6 or 5.7, IIRC), you can define analyzers programmatically using a `LuceneAnalysisDefinitionProvider`.\r\n\r\nImplement the interface:\r\n\r\n```java\r\npublic class CustomAnalysisDefinitionProvider implements LuceneAnalysisDefinitionProvider {\r\n    @Override\r\n    public void register(LuceneAnalyzerDefinitionRegistryBuilder builder) {\r\n        builder.analyzer( &quot;myAnalyzer&quot; )\r\n                        .tokenizer( KeywordTokenizerFactory.class )\r\n                        .tokenFilter( ClassicFilterFactory.class )\r\n                        .tokenFilter( LowerCaseFilterFactory.class )\r\n                        .tokenFilter( StopFilterFactory.class )\r\n                                // You can pass parameters like this\r\n                                .param( &quot;mapping&quot;, &quot;org/hibernate/search/test/analyzer/stoplist.properties&quot; )\r\n                                .param( &quot;ignoreCase&quot;, &quot;true&quot; );\r\n\r\n        // You can define multiple analyzers\r\n        builder.analyzer( &quot;otherAnalyzer&quot; )\r\n                        .tokenizer( ... ) ...\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen tell Hibernate Search to use it:\r\n\r\n```\r\n# In properties.java\r\nhibernate.search.lucene.analysis_definition_provider = com.mycompany.CustomAnalysisDefinitionProvider;\r\n\r\n```\r\n\r\nYou&#39;re free to do whatever you want in the implementation of `register`, so potentially you could check out system properties or even load configuration files.\r\nIf you have a limited set of implementations, you can also directly override the definition provider when starting the JVM by setting `hibernate.search.lucene.analysis_definition_provider` through the system properties.\r\n\r\n\r\nSee https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition for details.\r\n\r\nIn Hibernate Search **6**, APIs are a bit different, but they follow the same core principles: https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#backend-lucene-analysis , and you can even inject Spring/CDI beans into the analysis configurer (you can&#39;t do that in Search 5, or at least Hibernate Search won&#39;t help you to do it).","title":"Choosing an analyzer at runtime in Hibernate Search","body":"<p>In Hibernate Search 5.11 (and since 5.6 or 5.7, IIRC), you can define analyzers programmatically using a <code>LuceneAnalysisDefinitionProvider</code>.</p>\n\n<p>Implement the interface:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAnalysisDefinitionProvider implements LuceneAnalysisDefinitionProvider {\n    @Override\n    public void register(LuceneAnalyzerDefinitionRegistryBuilder builder) {\n        builder.analyzer( \"myAnalyzer\" )\n                        .tokenizer( KeywordTokenizerFactory.class )\n                        .tokenFilter( ClassicFilterFactory.class )\n                        .tokenFilter( LowerCaseFilterFactory.class )\n                        .tokenFilter( StopFilterFactory.class )\n                                // You can pass parameters like this\n                                .param( \"mapping\", \"org/hibernate/search/test/analyzer/stoplist.properties\" )\n                                .param( \"ignoreCase\", \"true\" );\n\n        // You can define multiple analyzers\n        builder.analyzer( \"otherAnalyzer\" )\n                        .tokenizer( ... ) ...\n    }\n}\n\n</code></pre>\n\n<p>Then tell Hibernate Search to use it:</p>\n\n<pre><code># In properties.java\nhibernate.search.lucene.analysis_definition_provider = com.mycompany.CustomAnalysisDefinitionProvider;\n\n</code></pre>\n\n<p>You're free to do whatever you want in the implementation of <code>register</code>, so potentially you could check out system properties or even load configuration files.\nIf you have a limited set of implementations, you can also directly override the definition provider when starting the JVM by setting <code>hibernate.search.lucene.analysis_definition_provider</code> through the system properties.</p>\n\n<p>See <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition</a> for details.</p>\n\n<p>In Hibernate Search <strong>6</strong>, APIs are a bit different, but they follow the same core principles: <a href=\"https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#backend-lucene-analysis\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#backend-lucene-analysis</a> , and you can even inject Spring/CDI beans into the analysis configurer (you can't do that in Search 5, or at least Hibernate Search won't help you to do it).</p>\n"}],"owner":{"account_id":1578628,"reputation":1857,"user_id":1464495,"accept_rate":91,"display_name":"brandones"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58415931,"answer_count":1,"score":0,"last_activity_date":1669125455,"creation_date":1571182237,"question_id":58403820,"body_markdown":"I&#39;m using Hibernate Search with Lucene and would like to be able to add an AnalyzerDef based on a Filter name (fetching, e.g., [this][1]) that is provided in a config file, loaded when the application starts.\r\n\r\nRight now I&#39;ve got code like\r\n\r\n```java\r\n@AnalyzerDefs({\r\n\t\t@AnalyzerDef(name = &quot;phraseAnalyzer&quot;,\r\n\t\t\t\ttokenizer = @TokenizerDef(factory = KeywordTokenizerFactory.class),\r\n\t\t\t\tfilters = {\r\n\t\t\t\t\t\t@TokenFilterDef(factory = ClassicFilterFactory.class),\r\n\t\t\t\t\t\t@TokenFilterDef(factory = LowerCaseFilterFactory.class)\r\n\t\t\t\t}),\r\n})\r\n@MappedSuperclass\r\npublic abstract class MyObject {\r\n```\r\n\r\nI looked at [the docs][2] and it didn&#39;t pop out at me how I would do it.\r\n\r\nI suspect [this question][3] might be related.\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/6_4_0/analyzers-phonetic/org/apache/lucene/analysis/phonetic/DoubleMetaphoneFilterFactory.html\r\n  [2]: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#_analysis\r\n  [3]: https://stackoverflow.com/questions/40928584/use-existing-analyzer-in-hibernate-search-analyzerdiscriminator","title":"Choosing an analyzer at runtime in Hibernate Search","body":"<p>I'm using Hibernate Search with Lucene and would like to be able to add an AnalyzerDef based on a Filter name (fetching, e.g., <a href=\"https://lucene.apache.org/core/6_4_0/analyzers-phonetic/org/apache/lucene/analysis/phonetic/DoubleMetaphoneFilterFactory.html\" rel=\"nofollow noreferrer\">this</a>) that is provided in a config file, loaded when the application starts.</p>\n\n<p>Right now I've got code like</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@AnalyzerDefs({\n        @AnalyzerDef(name = \"phraseAnalyzer\",\n                tokenizer = @TokenizerDef(factory = KeywordTokenizerFactory.class),\n                filters = {\n                        @TokenFilterDef(factory = ClassicFilterFactory.class),\n                        @TokenFilterDef(factory = LowerCaseFilterFactory.class)\n                }),\n})\n@MappedSuperclass\npublic abstract class MyObject {\n</code></pre>\n\n<p>I looked at <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#_analysis\" rel=\"nofollow noreferrer\">the docs</a> and it didn't pop out at me how I would do it.</p>\n\n<p>I suspect <a href=\"https://stackoverflow.com/questions/40928584/use-existing-analyzer-in-hibernate-search-analyzerdiscriminator\">this question</a> might be related.</p>\n"},{"tags":["java","decorator"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1669060037,"post_id":74524134,"comment_id":131552853,"body_markdown":"Why can&#39;t `decoratorP.a()` not just call `delegate.a()` followed by `delegate.b()`? (Assuming your decorator is a real decorator with a delegate and doesn&#39;t just call `super.a()`, in which case it wouldn&#39;t be much of a decorator, but the same question/suggestion would still apply).","body":"Why can&#39;t <code>decoratorP.a()</code> not just call <code>delegate.a()</code> followed by <code>delegate.b()</code>? (Assuming your decorator is a real decorator with a delegate and doesn&#39;t just call <code>super.a()</code>, in which case it wouldn&#39;t be much of a decorator, but the same question/suggestion would still apply)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1669060875,"post_id":74524134,"comment_id":131553086,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19650202,"reputation":11,"user_id":14384216,"display_name":"DoZmeR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669125263,"creation_date":1669059739,"question_id":74524134,"body_markdown":"I have a class P with two methods, a() and b(). Also I have a decorator for class P named decoratorP that extends the P class (they&#39;re not in the same file either). Inside this decorator, I also have those two methods with a couple of additional operations.\r\n\r\nWhen I get the instance of decoratorP (lets say, from the main), I call decoratorP.a(). So, those additional operations are executed and then I proceed to execute the P.a() function. Case is that, at the end of P.a(), I need to execute decoratorP.b() function, and I need to call it from the P class instance (I cannot do it from the main). Is there any possibility to do so?\r\n\r\nI don&#39;t know how to accomplish this maintaining the decorator pattern.","title":"Call a decorator function from its inner class","body":"<p>I have a class P with two methods, a() and b(). Also I have a decorator for class P named decoratorP that extends the P class (they're not in the same file either). Inside this decorator, I also have those two methods with a couple of additional operations.</p>\n<p>When I get the instance of decoratorP (lets say, from the main), I call decoratorP.a(). So, those additional operations are executed and then I proceed to execute the P.a() function. Case is that, at the end of P.a(), I need to execute decoratorP.b() function, and I need to call it from the P class instance (I cannot do it from the main). Is there any possibility to do so?</p>\n<p>I don't know how to accomplish this maintaining the decorator pattern.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669125314,"post_id":74533745,"comment_id":131569016,"body_markdown":"Do you need the positions as class members? or can you directly put them into the array?","body":"Do you need the positions as class members? or can you directly put them into the array?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669125355,"post_id":74533745,"comment_id":131569036,"body_markdown":"this might help you building a List of the fields of the class: https://stackoverflow.com/questions/16295949/get-all-fields-even-private-and-inherited-from-class","body":"this might help you building a List of the fields of the class: <a href=\"https://stackoverflow.com/questions/16295949/get-all-fields-even-private-and-inherited-from-class\" title=\"get all fields even private and inherited from class\">stackoverflow.com/questions/16295949/&hellip;</a>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1669125498,"post_id":74533745,"comment_id":131569096,"body_markdown":"Yes, as @Stultuske you can use *reflection* to solve your problem, there is no other way except if you want to change your logic.","body":"Yes, as @Stultuske you can use <i>reflection</i> to solve your problem, there is no other way except if you want to change your logic."},{"owner":{"account_id":22811010,"reputation":5,"user_id":20572995,"display_name":"imnachox2"},"score":0,"creation_date":1669127324,"post_id":74533745,"comment_id":131569858,"body_markdown":"@Stultuske Do you have any idea if it loads the array sequentially to the variables? That is, I would add how I have it in the code, right?","body":"@Stultuske Do you have any idea if it loads the array sequentially to the variables? That is, I would add how I have it in the code, right?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669127432,"post_id":74533745,"comment_id":131569916,"body_markdown":"try writing the code and find out","body":"try writing the code and find out"}],"owner":{"account_id":22811010,"reputation":5,"user_id":20572995,"display_name":"imnachox2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669125224,"creation_date":1669125224,"question_id":74533745,"body_markdown":"This is the class where I declare several INT variables that contain positions and then add them into an arraylist but I would like to do it in some kind of loop and not add line by line\r\n\r\n```\r\nclass Ejecutar {\r\n\r\n\t\r\n\tprivate int B1 = 0;\r\n\tprivate int B2 = 2;\r\n\tprivate int B3 = 3;\r\n\tprivate int B4 = 8;\r\n\tprivate int B5 = 9;\r\n\tprivate int B6 = 11;\r\n\tprivate int B7 = 12;\r\n\tprivate int B8 = 17;\r\n\r\n\t\r\n\tprivate  ArrayList&lt;Integer&gt; arreglo_posiciones = new ArrList&lt;Integer&gt;();\r\n\r\n\t\r\n\tpublic Ejecutar() {\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void cargarArregloPosiciones() {\t\r\n\t\tthis.arreglo_posiciones.add(this.B1);\r\n\t\tthis.arreglo_posiciones.add(this.B2);\r\n\t\tthis.arreglo_posiciones.add(this.B3);\r\n\t\tthis.arreglo_posiciones.add(this.B4);\r\n\t\tthis.arreglo_posiciones.add(this.B5);\r\n\t\tthis.arreglo_posiciones.add(this.B6);\r\n\t\tthis.arreglo_posiciones.add(this.B7);\r\n\t\tthis.arreglo_posiciones.add(this.B8); \r\n\t}\r\n\r\n}\r\n\t\r\n```\r\n\r\n\r\nI want to add these variables with some kind of loop without the need to add them line by line","title":"How can I add these variables that share almost the same name without the need to add them line by line?","body":"<p>This is the class where I declare several INT variables that contain positions and then add them into an arraylist but I would like to do it in some kind of loop and not add line by line</p>\n<pre><code>class Ejecutar {\n\n    \n    private int B1 = 0;\n    private int B2 = 2;\n    private int B3 = 3;\n    private int B4 = 8;\n    private int B5 = 9;\n    private int B6 = 11;\n    private int B7 = 12;\n    private int B8 = 17;\n\n    \n    private  ArrayList&lt;Integer&gt; arreglo_posiciones = new ArrList&lt;Integer&gt;();\n\n    \n    public Ejecutar() {\n        \n    }\n    \n    \n    public void cargarArregloPosiciones() { \n        this.arreglo_posiciones.add(this.B1);\n        this.arreglo_posiciones.add(this.B2);\n        this.arreglo_posiciones.add(this.B3);\n        this.arreglo_posiciones.add(this.B4);\n        this.arreglo_posiciones.add(this.B5);\n        this.arreglo_posiciones.add(this.B6);\n        this.arreglo_posiciones.add(this.B7);\n        this.arreglo_posiciones.add(this.B8); \n    }\n\n}\n    \n</code></pre>\n<p>I want to add these variables with some kind of loop without the need to add them line by line</p>\n"},{"tags":["java","ftp-client"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669116730,"post_id":74531803,"comment_id":131565938,"body_markdown":"I&#39;m going to take a wild guess and say that the reason the file size differs when TEXT is a result of en/decoding problem. I&#39;d use BINARY all the time and make sure you read it with the correct encoding","body":"I&#39;m going to take a wild guess and say that the reason the file size differs when TEXT is a result of en/decoding problem. I&#39;d use BINARY all the time and make sure you read it with the correct encoding"},{"owner":{"account_id":322228,"reputation":401,"user_id":1826336,"accept_rate":67,"display_name":"Pramod"},"score":0,"creation_date":1669116882,"post_id":74531803,"comment_id":131565977,"body_markdown":"The problem the code is shipped as part of our product and we have no control over the type they use, we can&#39;t always force them to use Binary.","body":"The problem the code is shipped as part of our product and we have no control over the type they use, we can&#39;t always force them to use Binary."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669117302,"post_id":74531803,"comment_id":131566124,"body_markdown":"I&#39;m not convinced that your problem is as you stated. You are dealing with a technology (though superseded [since it&#39;s inherently insecure] by SFtp -  which is what you should be using) is *specifically designed* to transfer files correctly. Handwaving about the &#39;size&#39; of the files is redundant. It&#39;s like IDing someone by fingerprint scanning then saying &quot;Hang on, this is not quite right. I&#39;d better check his shoe size just to make sure&quot;","body":"I&#39;m not convinced that your problem is as you stated. You are dealing with a technology (though superseded [since it&#39;s inherently insecure] by SFtp -  which is what you should be using) is <i>specifically designed</i> to transfer files correctly. Handwaving about the &#39;size&#39; of the files is redundant. It&#39;s like IDing someone by fingerprint scanning then saying &quot;Hang on, this is not quite right. I&#39;d better check his shoe size just to make sure&quot;"},{"owner":{"account_id":322228,"reputation":401,"user_id":1826336,"accept_rate":67,"display_name":"Pramod"},"score":0,"creation_date":1669121462,"post_id":74531803,"comment_id":131567534,"body_markdown":"I do understand the limitations of the FTP and its pitfalls, But I don&#39;t control all the external applications our tool talks to and there are many using FTP and I have to support it. I have no other way.","body":"I do understand the limitations of the FTP and its pitfalls, But I don&#39;t control all the external applications our tool talks to and there are many using FTP and I have to support it. I have no other way."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669121609,"post_id":74531803,"comment_id":131567585,"body_markdown":"OK, so if a file is sent to an ftp server and arrives incomplete (without any intervening processing) then you need to ascertain what&#39;s wrong with the server. Not a Java issue though","body":"OK, so if a file is sent to an ftp server and arrives incomplete (without any intervening processing) then you need to ascertain what&#39;s wrong with the server. Not a Java issue though"}],"owner":{"account_id":322228,"reputation":401,"user_id":1826336,"accept_rate":67,"display_name":"Pramod"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669124999,"creation_date":1669115996,"question_id":74531803,"body_markdown":"We are having issues where sometimes no error is thrown when a file is partially uploaded over FTP. For example, if we transfer an image only half of it will be transferred and then it will return without any error. I wanted to add a check so that after the file is transferred I will get the size of the file in the server and check if the size match.\r\n\r\nThis is fine when we are using binary transfer mode but when we use the ASCII transfer mode the size usually doesn&#39;t match even when the complete file is transferred. To avoid false negatives I wanted to add this check only when the transfer mode is `BINARY`\r\n\r\nHow can we get the file type with java Apache FTPClient, I could find methods only to set the file type but none to get the file type. \r\n\r\nAs a workaround I can execute the `TYPE` command and parse the response, I wanted to know if there is an option in the client so that I don&#39;t have to maintain additional code.--&gt; this doesn&#39;t work either, executing the `TYPE` command I get a replay saying `501 Missing required argument`.\r\n\r\nEdit: The code is part of our product and I can&#39;t force the users to always use binary mode.","title":"Get file type with Apache FTPClient","body":"<p>We are having issues where sometimes no error is thrown when a file is partially uploaded over FTP. For example, if we transfer an image only half of it will be transferred and then it will return without any error. I wanted to add a check so that after the file is transferred I will get the size of the file in the server and check if the size match.</p>\n<p>This is fine when we are using binary transfer mode but when we use the ASCII transfer mode the size usually doesn't match even when the complete file is transferred. To avoid false negatives I wanted to add this check only when the transfer mode is <code>BINARY</code></p>\n<p>How can we get the file type with java Apache FTPClient, I could find methods only to set the file type but none to get the file type.</p>\n<p>As a workaround I can execute the <code>TYPE</code> command and parse the response, I wanted to know if there is an option in the client so that I don't have to maintain additional code.--&gt; this doesn't work either, executing the <code>TYPE</code> command I get a replay saying <code>501 Missing required argument</code>.</p>\n<p>Edit: The code is part of our product and I can't force the users to always use binary mode.</p>\n"},{"tags":["java","nullpointerexception","matrix-multiplication","multiplication","bluej"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1669121859,"post_id":74532929,"comment_id":131567687,"body_markdown":"Please, don&#39;t put code as images. The line is throwing a NPE because there&#39;s nothing at `0,0` for the matrix. The first value is in `1,1`","body":"Please, don&#39;t put code as images. The line is throwing a NPE because there&#39;s nothing at <code>0,0</code> for the matrix. The first value is in <code>1,1</code>"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1669121884,"post_id":74532929,"comment_id":131567697,"body_markdown":"Hi and welcome. Can you please relevant code into the question, please? No external links.","body":"Hi and welcome. Can you please relevant code into the question, please? No external links."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1669125048,"post_id":74532929,"comment_id":131568905,"body_markdown":"`z[i][j]` is `null`, not a value representing zero, you cannot call `scitaj` on it until a proper value has been assigned","body":"<code>z[i][j]</code> is <code>null</code>, not a value representing zero, you cannot call <code>scitaj</code> on it until a proper value has been assigned"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669125186,"post_id":74532929,"comment_id":131568966,"body_markdown":"@LeonardoEmmanueldeAzevedo I&#39;m not clear why you&#39;d expect there to be a value at `1,1`?","body":"@LeonardoEmmanueldeAzevedo I&#39;m not clear why you&#39;d expect there to be a value at <code>1,1</code>?"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669127158,"post_id":74532929,"comment_id":131569789,"body_markdown":"That&#39;s what your code says, the first value is at `1,1` and not at `0,0`. The `for` is starting from `0`","body":"That&#39;s what your code says, the first value is at <code>1,1</code> and not at <code>0,0</code>. The <code>for</code> is starting from <code>0</code>"},{"owner":{"account_id":27013032,"reputation":1,"user_id":20572355,"display_name":"Rosalie"},"score":0,"creation_date":1669145354,"post_id":74532929,"comment_id":131576625,"body_markdown":"There is nothing wrong with 1,1 and 0,0. But as @harold said, there was a problem with scitaj method. I added a for loop to fill in z and it works. Thank you.","body":"There is nothing wrong with 1,1 and 0,0. But as @harold said, there was a problem with scitaj method. I added a for loop to fill in z and it works. Thank you."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669387140,"post_id":74532929,"comment_id":131636630,"body_markdown":"What you have explained in your last answer reflects exactly what I was saying. The matrix was empty at `0,0` and you were trying to use a method over a null value, when getting it from `0,0`. By filling the matrix, what you did is added a value at `0,0`, therefore, it&#39;s not failing anymore","body":"What you have explained in your last answer reflects exactly what I was saying. The matrix was empty at <code>0,0</code> and you were trying to use a method over a null value, when getting it from <code>0,0</code>. By filling the matrix, what you did is added a value at <code>0,0</code>, therefore, it&#39;s not failing anymore"}],"owner":{"account_id":27013032,"reputation":1,"user_id":20572355,"display_name":"Rosalie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669124736,"creation_date":1669121521,"question_id":74532929,"body_markdown":"can anyone find me the mistake in the following code?\r\n\r\nThis is the multiplication of matrices that contain fractions. It shows me a NullPointerException and underscores the line with z[i][j].\r\nThe scitaj and vynasob methods are already tested and the error should not be there. I am attaching a picture. If you need to see a larger part of the code for understanding, tell me.\r\n\r\nThank you very much :)\r\n\r\n\r\nmatica - matrix\r\nzlomok - fraction\r\nnasobenie, vynasob - multiplication\r\nPocetRiadkov - number of rows\r\nPocetStlpcov - number of columns\r\nscitaj - + \r\n\r\n\r\n    public Matica nasobenie() {\r\n        Matica xs = new Matica(new Zlomok[][]\r\n        {\r\n            {new Zlomok(1, 1), new Zlomok(2, 1), new Zlomok(3, 1)},\r\n            {new Zlomok(4, 1), new Zlomok(5, 1), new Zlomok(6, 1)}\r\n        });\r\n            \r\n        Matica ys = new Matica(new Zlomok[][]\r\n            {\r\n                {new Zlomok(7, 1), new Zlomok(8, 1)},\r\n                {new Zlomok(9, 1), new Zlomok(10, 1)},\r\n                {new Zlomok(11, 1), new Zlomok(12, 1)}\r\n            });\r\n        \r\n        Zlomok [][] z = new Zlomok[xs.getPocetRiadkov()][ys.getPocetStlpcov()];\r\n        System.out.println(z);\r\n        for (int i = 0; i &lt; z.length; i++) {\r\n            for (int j = 0; j &lt; z[0].length; j++) {\r\n                for (int k = 0; k &lt; xs.getPocetStlpcov(); k++) {\r\n                    z[i][j] = z[i][j].scitaj(xs.getPrvok(i, k).vynasob(ys.getPrvok(k, j)));\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n        Matica vysledok = new Matica(z);\r\n        return vysledok;        \r\n    }\r\n\r\n","title":"Matrix multiplication in BlueJ (Java)","body":"<p>can anyone find me the mistake in the following code?</p>\n<p>This is the multiplication of matrices that contain fractions. It shows me a NullPointerException and underscores the line with z[i][j].\nThe scitaj and vynasob methods are already tested and the error should not be there. I am attaching a picture. If you need to see a larger part of the code for understanding, tell me.</p>\n<p>Thank you very much :)</p>\n<p>matica - matrix\nzlomok - fraction\nnasobenie, vynasob - multiplication\nPocetRiadkov - number of rows\nPocetStlpcov - number of columns\nscitaj - +</p>\n<pre><code>public Matica nasobenie() {\n    Matica xs = new Matica(new Zlomok[][]\n    {\n        {new Zlomok(1, 1), new Zlomok(2, 1), new Zlomok(3, 1)},\n        {new Zlomok(4, 1), new Zlomok(5, 1), new Zlomok(6, 1)}\n    });\n        \n    Matica ys = new Matica(new Zlomok[][]\n        {\n            {new Zlomok(7, 1), new Zlomok(8, 1)},\n            {new Zlomok(9, 1), new Zlomok(10, 1)},\n            {new Zlomok(11, 1), new Zlomok(12, 1)}\n        });\n    \n    Zlomok [][] z = new Zlomok[xs.getPocetRiadkov()][ys.getPocetStlpcov()];\n    System.out.println(z);\n    for (int i = 0; i &lt; z.length; i++) {\n        for (int j = 0; j &lt; z[0].length; j++) {\n            for (int k = 0; k &lt; xs.getPocetStlpcov(); k++) {\n                z[i][j] = z[i][j].scitaj(xs.getPrvok(i, k).vynasob(ys.getPrvok(k, j)));\n            }\n            System.out.println();\n        }\n    }\n    Matica vysledok = new Matica(z);\n    return vysledok;        \n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","javabeans","verifyerror"],"answers":[{"tags":[],"owner":{"account_id":21182136,"reputation":1,"user_id":15576314,"display_name":"Harshith Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669124630,"creation_date":1669124630,"answer_id":74533606,"question_id":74078091,"body_markdown":"Finally, I was able to get to the root of it.\r\n\r\nThis error was due to Double weaving of the code (1 which happens normally and 2 due to the newRelic instrumentation plugin which we used). This comes into the picture when our application uses &quot;AspectJ&quot; and tries to have spring version &gt; 4.2.\r\n\r\nWhen we were comparing the Local Vs Server config and the only difference we noticed was the Instrumentation plugins. We thought of removing these instrumentation plugins and seeing if that is helping us and when we removed the newRelic.jar we noticed that the application was up and running along with AspectJ code (Without Xverify In Place). \r\n\r\nUpon checking it looks like a long open issue with newRelic and their team is working to identify it\r\nhttps://github.com/newrelic/newrelic-java-agent/issues/347\r\n\r\nWe implemented the Option-3 from there by modifying our newRelic.yml to include the following piece\r\n\r\n    class_transformer:\r\n    com.newrelic.instrumentation.jax-rs-1.0:\r\n        enabled: false\r\n    com.newrelic.instrumentation.spring-4.3.0:\r\n        enabled: false\r\n\r\nPost this the app was up and running as expected. Hope this helps!","title":"Current frame&#39;s stack size doesn&#39;t match stackmap","body":"<p>Finally, I was able to get to the root of it.</p>\n<p>This error was due to Double weaving of the code (1 which happens normally and 2 due to the newRelic instrumentation plugin which we used). This comes into the picture when our application uses &quot;AspectJ&quot; and tries to have spring version &gt; 4.2.</p>\n<p>When we were comparing the Local Vs Server config and the only difference we noticed was the Instrumentation plugins. We thought of removing these instrumentation plugins and seeing if that is helping us and when we removed the newRelic.jar we noticed that the application was up and running along with AspectJ code (Without Xverify In Place).</p>\n<p>Upon checking it looks like a long open issue with newRelic and their team is working to identify it\n<a href=\"https://github.com/newrelic/newrelic-java-agent/issues/347\" rel=\"nofollow noreferrer\">https://github.com/newrelic/newrelic-java-agent/issues/347</a></p>\n<p>We implemented the Option-3 from there by modifying our newRelic.yml to include the following piece</p>\n<pre><code>class_transformer:\ncom.newrelic.instrumentation.jax-rs-1.0:\n    enabled: false\ncom.newrelic.instrumentation.spring-4.3.0:\n    enabled: false\n</code></pre>\n<p>Post this the app was up and running as expected. Hope this helps!</p>\n"}],"owner":{"account_id":21182136,"reputation":1,"user_id":15576314,"display_name":"Harshith Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74533606,"answer_count":1,"score":0,"last_activity_date":1669124630,"creation_date":1665824666,"question_id":74078091,"body_markdown":"We are upgrading spring from 4.3.20.Release to 5.3.20 and Hibernate version is 5.2.3.Final with Java 11 and Tomcat 9. All the changes are getting compiled and working well in local. But when deployed to server via jenkins they are failing with &quot;VerifyError&quot; during Bean Creation.\r\n\r\nI am aware of &quot;Xverify:none&quot; option to pass over this, but wanted to fix it without Xverify:none solution.\r\n\r\nStack Trace:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with \r\n    name &#39;appStatusController&#39;: Lookup method resolution failed; nested exception is \r\n    java.lang.IllegalStateException: Failed to introspect Class \r\n    [com.officehours.controller.AppStatusController] from ClassLoader \r\n    [ParallelWebappClassLoader\r\n         context: stage\r\n         delegate: false\r\n           ----------&gt; Parent Classloader:\r\n         java.net.URLClassLoader@2436ea2f] at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor \r\n         .determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n        ....\r\n        .....\r\n         \r\n      Caused by: java.lang.VerifyError: Inconsistent stackmap frames at branch target 1285\r\n      Exception Details:\r\n      Location:    com/officehours/controller/AppStatusController.appOk(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lorg/springframework/web/servlet/ModelAndView; @1282: goto\r\n  \r\n      Reason:\r\n         Current frame&#39;s stack size doesn&#39;t match stackmap.\r\n      Current Frame:\r\n         bci: @1282\r\n         flags: { }\r\n         locals: { &#39;com/officehours/controller/AppStatusController&#39;, \r\n               &#39;javax/servlet/http/HttpServletRequest&#39;, \r\n               &#39;javax/servlet/http/HttpServletResponse&#39;, \r\n               &#39;com/newrelic/agent/bridge/ExitTracer&#39;, integer, null, top, top, top, top, \r\n               top, top, &#39;javax/servlet/http/HttpServletResponse&#39;, \r\n               &#39;javax/servlet/http/HttpServletRequest&#39;, \r\n               &#39;com/officehours/controller/AppStatusController&#39;, integer, \r\n               &#39;org/springframework/web/servlet/ModelAndView&#39;, top, top, top, top, top, \r\n               &#39;java/lang/Throwable&#39;, &#39;javax/servlet/http/HttpServletResponse&#39;, \r\n               &#39;javax/servlet/http/HttpServletRequest&#39;, \r\n               &#39;com/officehours/controller/AppStatusController&#39;, &#39;java/io/File&#39;, \r\n               &#39;java/io/LineNumberReader&#39;, top, top, \r\n               &#39;org/springframework/web/servlet/ModelAndView&#39;, \r\n               &#39;org/springframework/web/servlet/ModelAndView&#39; }\r\n        stack: { &#39;org/springframework/web/servlet/ModelAndView&#39; }\r\n     Stackmap Frame:\r\n       bci: @1285\r\n       flags: { }\r\n       locals: { &#39;com/officehours/controller/AppStatusController&#39;, \r\n                  &#39;javax/servlet/http/HttpServletRequest&#39;, \r\n                   &#39;javax/servlet/http/HttpServletResponse&#39;, \r\n                  &#39;com/newrelic/agent/bridge/ExitTracer&#39;, integer, null, top, top, top, \r\n                   top, top, top, &#39;javax/servlet/http/HttpServletResponse&#39;, \r\n                   &#39;javax/servlet/http/HttpServletRequest&#39;, \r\n                   &#39;com/officehours/controller/AppStatusController&#39;, integer, \r\n                   &#39;org/springframework/web/servlet/ModelAndView&#39;, top, top, top, top, \r\n                   top, top, &#39;javax/servlet/http/HttpServletResponse&#39;, \r\n                   &#39;javax/servlet/http/HttpServletRequest&#39;, \r\n                   &#39;com/officehours/controller/AppStatusController&#39;, &#39;java/io/File&#39;, \r\n                   &#39;java/io/LineNumberReader&#39;, top, top, \r\n                   &#39;org/springframework/web/servlet/ModelAndView&#39;, \r\n                   &#39;org/springframework/web/servlet/ModelAndView&#39; }\r\n        stack: { &#39;org/springframework/web/servlet/ModelAndView&#39;,&#39;org/springframework/web/servlet/ModelAndView&#39; }\r\n\r\n\r\nAny suggestions on this would be highly appreciated as this is blocking me in moving further with other process (like production deployment)\r\n ","title":"Current frame&#39;s stack size doesn&#39;t match stackmap","body":"<p>We are upgrading spring from 4.3.20.Release to 5.3.20 and Hibernate version is 5.2.3.Final with Java 11 and Tomcat 9. All the changes are getting compiled and working well in local. But when deployed to server via jenkins they are failing with &quot;VerifyError&quot; during Bean Creation.</p>\n<p>I am aware of &quot;Xverify:none&quot; option to pass over this, but wanted to fix it without Xverify:none solution.</p>\n<p>Stack Trace:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with \nname 'appStatusController': Lookup method resolution failed; nested exception is \njava.lang.IllegalStateException: Failed to introspect Class \n[com.officehours.controller.AppStatusController] from ClassLoader \n[ParallelWebappClassLoader\n     context: stage\n     delegate: false\n       ----------&gt; Parent Classloader:\n     java.net.URLClassLoader@2436ea2f] at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor \n     .determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n    ....\n    .....\n     \n  Caused by: java.lang.VerifyError: Inconsistent stackmap frames at branch target 1285\n  Exception Details:\n  Location:    com/officehours/controller/AppStatusController.appOk(Ljavax/servlet/http/HttpServletRequest;Ljavax/servlet/http/HttpServletResponse;)Lorg/springframework/web/servlet/ModelAndView; @1282: goto\n\n  Reason:\n     Current frame's stack size doesn't match stackmap.\n  Current Frame:\n     bci: @1282\n     flags: { }\n     locals: { 'com/officehours/controller/AppStatusController', \n           'javax/servlet/http/HttpServletRequest', \n           'javax/servlet/http/HttpServletResponse', \n           'com/newrelic/agent/bridge/ExitTracer', integer, null, top, top, top, top, \n           top, top, 'javax/servlet/http/HttpServletResponse', \n           'javax/servlet/http/HttpServletRequest', \n           'com/officehours/controller/AppStatusController', integer, \n           'org/springframework/web/servlet/ModelAndView', top, top, top, top, top, \n           'java/lang/Throwable', 'javax/servlet/http/HttpServletResponse', \n           'javax/servlet/http/HttpServletRequest', \n           'com/officehours/controller/AppStatusController', 'java/io/File', \n           'java/io/LineNumberReader', top, top, \n           'org/springframework/web/servlet/ModelAndView', \n           'org/springframework/web/servlet/ModelAndView' }\n    stack: { 'org/springframework/web/servlet/ModelAndView' }\n Stackmap Frame:\n   bci: @1285\n   flags: { }\n   locals: { 'com/officehours/controller/AppStatusController', \n              'javax/servlet/http/HttpServletRequest', \n               'javax/servlet/http/HttpServletResponse', \n              'com/newrelic/agent/bridge/ExitTracer', integer, null, top, top, top, \n               top, top, top, 'javax/servlet/http/HttpServletResponse', \n               'javax/servlet/http/HttpServletRequest', \n               'com/officehours/controller/AppStatusController', integer, \n               'org/springframework/web/servlet/ModelAndView', top, top, top, top, \n               top, top, 'javax/servlet/http/HttpServletResponse', \n               'javax/servlet/http/HttpServletRequest', \n               'com/officehours/controller/AppStatusController', 'java/io/File', \n               'java/io/LineNumberReader', top, top, \n               'org/springframework/web/servlet/ModelAndView', \n               'org/springframework/web/servlet/ModelAndView' }\n    stack: { 'org/springframework/web/servlet/ModelAndView','org/springframework/web/servlet/ModelAndView' }\n</code></pre>\n<p>Any suggestions on this would be highly appreciated as this is blocking me in moving further with other process (like production deployment)</p>\n"},{"tags":["java","json","groovy"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":5,"creation_date":1444314140,"post_id":33018236,"comment_id":53860013,"body_markdown":"JSON is by definition an unordered collection. Why you need order?","body":"JSON is by definition an unordered collection. Why you need order?"},{"owner":{"account_id":3894409,"reputation":3340,"user_id":3223841,"accept_rate":65,"display_name":"AbuMariam"},"score":0,"creation_date":1444314520,"post_id":33018236,"comment_id":53860342,"body_markdown":"@Opal, I am printing this out in a report on the front end and they want to see the counts for grade &#39;A&#39; first.","body":"@Opal, I am printing this out in a report on the front end and they want to see the counts for grade &#39;A&#39; first."},{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":3,"creation_date":1444315017,"post_id":33018236,"comment_id":53860759,"body_markdown":"So just sort it by grades.","body":"So just sort it by grades."}],"answers":[{"comments":[{"owner":{"account_id":1207323,"reputation":984,"user_id":1176640,"accept_rate":100,"display_name":"XenoN"},"score":1,"creation_date":1446822247,"post_id":33019689,"comment_id":54917354,"body_markdown":"You can&#39;t reproduce it. because JsonSlurper orders it by asc. look at your example a b c ?","body":"You can&#39;t reproduce it. because JsonSlurper orders it by asc. look at your example a b c ?"},{"owner":{"account_id":3573521,"reputation":6174,"user_id":4892253,"display_name":"Giuseppe Ricupero"},"score":0,"creation_date":1446824438,"post_id":33019689,"comment_id":54918759,"body_markdown":"@XenoN: you&#39;re right, the input example i&#39;ve used is masking the JsonSlurper sorting behaviour, but the guy whose ask the question has the opposite problem: json ends to be not sorted alphabetically at the end. Using a LinkedHashMap we can then guarantee to maintain the sort order given by JsonSlurper","body":"@XenoN: you&#39;re right, the input example i&#39;ve used is masking the JsonSlurper sorting behaviour, but the guy whose ask the question has the opposite problem: json ends to be not sorted alphabetically at the end. Using a LinkedHashMap we can then guarantee to maintain the sort order given by JsonSlurper"},{"owner":{"account_id":1207323,"reputation":984,"user_id":1176640,"accept_rate":100,"display_name":"XenoN"},"score":0,"creation_date":1446825160,"post_id":33019689,"comment_id":54919227,"body_markdown":"Yep. But he uses dummy data as example and his real code is different i bet. He thinks map is messing up his order. Actually Slurper is. That&#39;s why you couldn&#39;t reproduce it again","body":"Yep. But he uses dummy data as example and his real code is different i bet. He thinks map is messing up his order. Actually Slurper is. That&#39;s why you couldn&#39;t reproduce it again"},{"owner":{"account_id":1207323,"reputation":984,"user_id":1176640,"accept_rate":100,"display_name":"XenoN"},"score":0,"creation_date":1446825393,"post_id":33019689,"comment_id":54919358,"body_markdown":"I did face exact same problem when i try to use mongodb $nearSphere with $maxDistance. In my case constraints should be exact same order in order to make correct result.","body":"I did face exact same problem when i try to use mongodb $nearSphere with $maxDistance. In my case constraints should be exact same order in order to make correct result."},{"owner":{"account_id":1207323,"reputation":984,"user_id":1176640,"accept_rate":100,"display_name":"XenoN"},"score":0,"creation_date":1446825429,"post_id":33019689,"comment_id":54919383,"body_markdown":"And i end up reordering map after parsing.","body":"And i end up reordering map after parsing."},{"owner":{"account_id":3573521,"reputation":6174,"user_id":4892253,"display_name":"Giuseppe Ricupero"},"score":1,"creation_date":1446825784,"post_id":33019689,"comment_id":54919619,"body_markdown":"@XenoN: i understand your point and you&#39;re right but in this case the letters of the examples are not fakes (user3223841 specify it in the comment under his question): they are actually grades, and the desired output is sorted alphabetically (as they are in the beginnings as he stated). He says the results has lost the alphabetical order somehow","body":"@XenoN: i understand your point and you&#39;re right but in this case the letters of the examples are not fakes (user3223841 specify it in the comment under his question): they are actually grades, and the desired output is sorted alphabetically (as they are in the beginnings as he stated). He says the results has lost the alphabetical order somehow"},{"owner":{"account_id":3573521,"reputation":6174,"user_id":4892253,"display_name":"Giuseppe Ricupero"},"score":0,"creation_date":1446825938,"post_id":33019689,"comment_id":54919704,"body_markdown":"@XenoN: thank you anyhow to pointing out that JsonSlurper sort the json alphabetically. It&#39;s a missing piece of the picture!","body":"@XenoN: thank you anyhow to pointing out that JsonSlurper sort the json alphabetically. It&#39;s a missing piece of the picture!"}],"tags":[],"owner":{"account_id":3573521,"reputation":6174,"user_id":4892253,"display_name":"Giuseppe Ricupero"},"comment_count":7,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1446828871,"creation_date":1444317087,"answer_id":33019689,"question_id":33018236,"body_markdown":"I can&#39;t reproduce your behaviour with groovy 2.4.5 but you can try using LinkedHashMap (allow to iterate over map keys maintaining the order in which the entries were inserted):\r\n\r\n    import groovy.json.*\r\n\r\n    def jsonText = &#39;&#39;&#39;\r\n    {&quot;A&quot;:0,&quot;B&quot;:0,&quot;C&quot;:2,&quot;D&quot;:0,&quot;F&quot;:5,&quot;G&quot;:7,&quot;H&quot;:9}\r\n    &#39;&#39;&#39;\r\n\r\n    LinkedHashMap json = new JsonSlurper().parseText(jsonText)\r\n    json.each{ entry -&gt;\r\n      println &quot;${entry.key}&quot;\r\n    }\r\n\r\n**NOTE**: as stated by @XenoN the JsonSlurper() sort the json keys during the parsing process so independently of the input order (ie. ``{&quot;H&quot;:0,&quot;B&quot;:0,&quot;A&quot;:2,&quot;D&quot;:0,&quot;G&quot;:5,&quot;F&quot;:7,&quot;C&quot;:9}``) the output of JsonSlurper will be always: ``{&quot;A&quot;:2,&quot;B&quot;:0,&quot;C&quot;:9,&quot;D&quot;:0,&quot;F&quot;:7,&quot;G&quot;:5,&quot;H&quot;:0}``.\r\n\r\nUsing the *LinkedHashMap* instead of a HashMap we preserve the order given by JsonSlurper.","title":"How to maintain JSON&#39;s order in Groovy&#39;s JsonSlurper?","body":"<p>I can't reproduce your behaviour with groovy 2.4.5 but you can try using LinkedHashMap (allow to iterate over map keys maintaining the order in which the entries were inserted):</p>\n\n<pre><code>import groovy.json.*\n\ndef jsonText = '''\n{\"A\":0,\"B\":0,\"C\":2,\"D\":0,\"F\":5,\"G\":7,\"H\":9}\n'''\n\nLinkedHashMap json = new JsonSlurper().parseText(jsonText)\njson.each{ entry -&gt;\n  println \"${entry.key}\"\n}\n</code></pre>\n\n<p><strong>NOTE</strong>: as stated by @XenoN the JsonSlurper() sort the json keys during the parsing process so independently of the input order (ie. <code>{\"H\":0,\"B\":0,\"A\":2,\"D\":0,\"G\":5,\"F\":7,\"C\":9}</code>) the output of JsonSlurper will be always: <code>{\"A\":2,\"B\":0,\"C\":9,\"D\":0,\"F\":7,\"G\":5,\"H\":0}</code>.</p>\n\n<p>Using the <em>LinkedHashMap</em> instead of a HashMap we preserve the order given by JsonSlurper.</p>\n"},{"comments":[{"owner":{"account_id":3573521,"reputation":6174,"user_id":4892253,"display_name":"Giuseppe Ricupero"},"score":0,"creation_date":1444321168,"post_id":33020527,"comment_id":53864887,"body_markdown":"Out of curiosity, i can&#39;t reproduce your behaviour no even shuffling the json (seems like JsonSlurper sort elements by default). What version of groovy do you use?","body":"Out of curiosity, i can&#39;t reproduce your behaviour no even shuffling the json (seems like JsonSlurper sort elements by default). What version of groovy do you use?"}],"tags":[],"owner":{"account_id":3894409,"reputation":3340,"user_id":3223841,"accept_rate":65,"display_name":"AbuMariam"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1444319593,"creation_date":1444319593,"answer_id":33020527,"question_id":33018236,"body_markdown":"So it was just a matter of sorting the keys after JsonSlurper built the Map, for that I just read into a TreeMap which sorts the keys by default..\r\n\r\n    TreeMap gradeDistributon = jsonSlurper.parseText(jsonString)","title":"How to maintain JSON&#39;s order in Groovy&#39;s JsonSlurper?","body":"<p>So it was just a matter of sorting the keys after JsonSlurper built the Map, for that I just read into a TreeMap which sorts the keys by default..</p>\n\n<pre><code>TreeMap gradeDistributon = jsonSlurper.parseText(jsonString)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77814,"reputation":3385,"user_id":221847,"accept_rate":57,"display_name":"Fu Cheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457690751,"creation_date":1457690751,"answer_id":35937246,"question_id":33018236,"body_markdown":"You can set JVM system property `jdk.map.althashing.threshold` to make `JsonSlurper` to use a `LinkedHashMap` instead of `TreeMap` as the internal `Map` implementation, e.g. `-Djdk.map.althashing.threshold=512`.\r\n\r\nThe reason is in [source code](https://github.com/groovy/groovy-core/blob/4993b10737881b2491c2daa01526fb15dd889ac5/subprojects/groovy-json/src/main/java/groovy/json/internal/LazyMap.java#L114) of `groovy.json.internal.LazyMap` used by `JsonSlurper`.\r\n\r\n    private static final String JDK_MAP_ALTHASHING_SYSPROP = System.getProperty(&quot;jdk.map.althashing.threshold&quot;);\r\n\r\n    private void buildIfNeeded() {  \r\n        if (map == null) {\r\n            /** added to avoid hash collision attack. */\r\n            if (Sys.is1_7OrLater() &amp;&amp; JDK_MAP_ALTHASHING_SYSPROP != null) {\r\n                map = new LinkedHashMap&lt;String, Object&gt;(size, 0.01f);\r\n            } else {\r\n                map = new TreeMap&lt;String, Object&gt;();\r\n            }\r\n        }\r\n    }\r\n\r\nPlease note this solution should be used as a hack as it depends on Groovy&#39;s internal implementation details. So this behavior may change in future version of Groovy.\r\n\r\nSee my [blog post](http://midgetontoes.com/properties-ordering-of-groovy-jsonslurper-parsing/) for details.","title":"How to maintain JSON&#39;s order in Groovy&#39;s JsonSlurper?","body":"<p>You can set JVM system property <code>jdk.map.althashing.threshold</code> to make <code>JsonSlurper</code> to use a <code>LinkedHashMap</code> instead of <code>TreeMap</code> as the internal <code>Map</code> implementation, e.g. <code>-Djdk.map.althashing.threshold=512</code>.</p>\n\n<p>The reason is in <a href=\"https://github.com/groovy/groovy-core/blob/4993b10737881b2491c2daa01526fb15dd889ac5/subprojects/groovy-json/src/main/java/groovy/json/internal/LazyMap.java#L114\" rel=\"nofollow\">source code</a> of <code>groovy.json.internal.LazyMap</code> used by <code>JsonSlurper</code>.</p>\n\n<pre><code>private static final String JDK_MAP_ALTHASHING_SYSPROP = System.getProperty(\"jdk.map.althashing.threshold\");\n\nprivate void buildIfNeeded() {  \n    if (map == null) {\n        /** added to avoid hash collision attack. */\n        if (Sys.is1_7OrLater() &amp;&amp; JDK_MAP_ALTHASHING_SYSPROP != null) {\n            map = new LinkedHashMap&lt;String, Object&gt;(size, 0.01f);\n        } else {\n            map = new TreeMap&lt;String, Object&gt;();\n        }\n    }\n}\n</code></pre>\n\n<p>Please note this solution should be used as a hack as it depends on Groovy's internal implementation details. So this behavior may change in future version of Groovy.</p>\n\n<p>See my <a href=\"http://midgetontoes.com/properties-ordering-of-groovy-jsonslurper-parsing/\" rel=\"nofollow\">blog post</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":1259542,"reputation":1140,"user_id":1218248,"display_name":"bkomac"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663228942,"creation_date":1663228942,"answer_id":73727556,"question_id":33018236,"body_markdown":"I run the same code on Groovy 2.4.x and on 3.0.x.\r\nOn 2.4 the order is preserved,but on 3.0 is sorted asc by default.","title":"How to maintain JSON&#39;s order in Groovy&#39;s JsonSlurper?","body":"<p>I run the same code on Groovy 2.4.x and on 3.0.x.\nOn 2.4 the order is preserved,but on 3.0 is sorted asc by default.</p>\n"},{"tags":[],"owner":{"account_id":13743000,"reputation":53,"user_id":9917541,"display_name":"Winssen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669124471,"creation_date":1669124471,"answer_id":74533575,"question_id":33018236,"body_markdown":"use the JsonSluperClassic().parse() instead it will preserve the order","title":"How to maintain JSON&#39;s order in Groovy&#39;s JsonSlurper?","body":"<p>use the JsonSluperClassic().parse() instead it will preserve the order</p>\n"}],"owner":{"account_id":3894409,"reputation":3340,"user_id":3223841,"accept_rate":65,"display_name":"AbuMariam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6570,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1669124471,"creation_date":1444313370,"question_id":33018236,"body_markdown":"I am reading a simple JSON....\r\n\r\n    {&quot;A&quot;:0,&quot;B&quot;:0,&quot;C&quot;:2,&quot;D&quot;:0,&quot;F&quot;:5}\r\n\r\ninto a map using JsonSlurper in Groovy...\r\n\r\n    Map gradeDistributon = jsonSlurper.parseText(jsonString)\r\n\r\nBut when iterating over this map with a closure..\r\n\r\n    gradeDistributon.each{ entry -&gt;   \r\n         println &quot;From map got key ${entry.key}&quot;\r\n\r\nI am seeing the keys are not in the order they were in the original JSON, for example &#39;C&#39; comes first. I think this is because Map does not maintain insertion order in Java. Is there a way I can keep the order of the original JSON? \r\n\r\nIf it means reading the JSON in a different way (instead of into a Map with JsonSlurper) then I am fine with that if you can show me how.","title":"How to maintain JSON&#39;s order in Groovy&#39;s JsonSlurper?","body":"<p>I am reading a simple JSON....</p>\n\n<pre><code>{\"A\":0,\"B\":0,\"C\":2,\"D\":0,\"F\":5}\n</code></pre>\n\n<p>into a map using JsonSlurper in Groovy...</p>\n\n<pre><code>Map gradeDistributon = jsonSlurper.parseText(jsonString)\n</code></pre>\n\n<p>But when iterating over this map with a closure..</p>\n\n<pre><code>gradeDistributon.each{ entry -&gt;   \n     println \"From map got key ${entry.key}\"\n</code></pre>\n\n<p>I am seeing the keys are not in the order they were in the original JSON, for example 'C' comes first. I think this is because Map does not maintain insertion order in Java. Is there a way I can keep the order of the original JSON? </p>\n\n<p>If it means reading the JSON in a different way (instead of into a Map with JsonSlurper) then I am fine with that if you can show me how.</p>\n"},{"tags":["java","shell","redis","pipelining"],"comments":[{"owner":{"account_id":2126282,"reputation":667,"user_id":1888360,"accept_rate":67,"display_name":"Aditya Peshave"},"score":1,"creation_date":1418093971,"post_id":27368074,"comment_id":43193005,"body_markdown":"Please specify reason and be courteous to others when you are going to downvote :)","body":"Please specify reason and be courteous to others when you are going to downvote :)"},{"owner":{"account_id":3206362,"reputation":7086,"user_id":2707363,"accept_rate":58,"display_name":"zenbeni"},"score":0,"creation_date":1418132139,"post_id":27368074,"comment_id":43209496,"body_markdown":"You don&#39;t use a redis client library? Like Jedis?","body":"You don&#39;t use a redis client library? Like Jedis?"},{"owner":{"account_id":2126282,"reputation":667,"user_id":1888360,"accept_rate":67,"display_name":"Aditya Peshave"},"score":1,"creation_date":1418139274,"post_id":27368074,"comment_id":43214149,"body_markdown":"I tried jedis, but the pipelining is not that efficient as it goes like a single command at a time.","body":"I tried jedis, but the pipelining is not that efficient as it goes like a single command at a time."}],"answers":[{"tags":[],"owner":{"account_id":13802251,"reputation":5240,"user_id":9962007,"display_name":"mirekphd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669114072,"creation_date":1669057551,"answer_id":74523767,"question_id":27368074,"body_markdown":"Looks like a simple off-by-one error in creating the RESP protocol string:) There are 21, not 22 characters in the `discountProgramOffers` hash name. \r\n\r\nIt worked for me (also with `printf` instead of `echo -e`), but only in Alpine&#39;s shell `ash` (see the [other answer][1] for details):\r\n```bash\r\n\r\n# inspect data\r\n$ cat redis-cmd-tst.txt \r\n*4\\r\\n$4\\r\\nHSET\\r\\n$21\\r\\ndiscountProgramOffers\\r\\n$5\\r\\nmykey\\r\\n$7\\r\\nmyvalue\\r\\n\r\n\r\n# transfer\r\n$ echo -e $(cat redis-cmd-tst.txt) | redis-cli --pipe -a $REDIS_PASSWORD\r\nWarning: Using a password with &#39;-a&#39; or &#39;-u&#39; option on the command line interface may not be safe.\r\nAll data transferred. Waiting for the last reply...\r\nLast reply received from server.\r\nerrors: 0, replies: 1\r\n\r\n# verify\r\n$ redis-cli -a $REDIS_PASSWORD hget discountProgramOffers mykey\r\nWarning: Using a password with &#39;-a&#39; or &#39;-u&#39; option on the command line interface may not be safe.\r\n&quot;myvalue&quot;\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74531227/9962007","title":"Redis Mass Insertion HSET command","body":"<p>Looks like a simple off-by-one error in creating the RESP protocol string:) There are 21, not 22 characters in the <code>discountProgramOffers</code> hash name.</p>\n<p>It worked for me (also with <code>printf</code> instead of <code>echo -e</code>), but only in Alpine's shell <code>ash</code> (see the <a href=\"https://stackoverflow.com/a/74531227/9962007\">other answer</a> for details):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\n# inspect data\n$ cat redis-cmd-tst.txt \n*4\\r\\n$4\\r\\nHSET\\r\\n$21\\r\\ndiscountProgramOffers\\r\\n$5\\r\\nmykey\\r\\n$7\\r\\nmyvalue\\r\\n\n\n# transfer\n$ echo -e $(cat redis-cmd-tst.txt) | redis-cli --pipe -a $REDIS_PASSWORD\nWarning: Using a password with '-a' or '-u' option on the command line interface may not be safe.\nAll data transferred. Waiting for the last reply...\nLast reply received from server.\nerrors: 0, replies: 1\n\n# verify\n$ redis-cli -a $REDIS_PASSWORD hget discountProgramOffers mykey\nWarning: Using a password with '-a' or '-u' option on the command line interface may not be safe.\n&quot;myvalue&quot;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13802251,"reputation":5240,"user_id":9962007,"display_name":"mirekphd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669123967,"creation_date":1669113451,"answer_id":74531227,"question_id":27368074,"body_markdown":"If you are doing everything right, but it still does not work, it may be your linux shell&#39;s fault and you may need to **switch the shell** (e.g. to `BusyBox` `ash` on Alpine, where Redis is usually conveniently installed, at least in containerized versions). \r\n\r\nCorrectly formed RESP strings should display in full (i.e. with each keyword and key or value name in separate line) when using either of these commands:\r\n\r\n```\r\n$ printf $(cat redis-cmd-tst.txt)\r\n*1\r\n$4\r\nHSET\r\n$21\r\ndiscountProgramOffers\r\n$6\r\nmykey1\r\n$8\r\nmyvalue1\r\n\r\n$ echo -e $(cat /tmp/tst/redis-cmd-tst.txt)\r\n*1\r\n$4\r\nHSET\r\n$21\r\ndiscountProgramOffers\r\n$6\r\nmykey1\r\n$8\r\nmyvalue1\r\n```\r\n\r\nCurrently I&#39;ve verified it works either in BusyBox `ash` (linked to `/bin/sh`) on Alpine:\r\n\r\n```\r\n$ echo $0\r\n/bin/ash\r\n\r\n$ /bin/ash --help\r\nBusyBox v1.35.0 (2022-08-01 15:14:44 UTC) multi-call binary.\r\n\r\nUsage: ash [-il] [-|+Cabefmnuvx] [-|+o OPT]... [-c &#39;SCRIPT&#39; [ARG0 ARGS] | FILE ARGS | -s ARGS]\r\n\r\nUnix shell interpreter\r\n\r\n$ cat /etc/os-release \r\nNAME=&quot;Alpine Linux&quot;\r\nID=alpine\r\nVERSION_ID=3.16.2\r\nPRETTY_NAME=&quot;Alpine Linux v3.16&quot;\r\n```\r\n\r\n... while it fails to print correctly RESP files in either shell preinstalled on Ubuntu (so both in `bash` and in `dash`, to which `sh` is linked on Ubuntu):\r\n```\r\n$ printf $(cat dict-to-redis-working.txt)\r\n$ echo -e $(cat dict-to-redis-working.txt)\r\n 31T3\r\n\r\n$ echo $0\r\n/bin/dash\r\n\r\n$ cat /etc/os-release\r\nNAME=&quot;Ubuntu&quot;\r\nVERSION=&quot;20.04.5 LTS (Focal Fossa)&quot;\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=&quot;Ubuntu 20.04.5 LTS&quot;\r\nVERSION_ID=&quot;20.04&quot;\r\nUBUNTU_CODENAME=focal\r\n```\r\n","title":"Redis Mass Insertion HSET command","body":"<p>If you are doing everything right, but it still does not work, it may be your linux shell's fault and you may need to <strong>switch the shell</strong> (e.g. to <code>BusyBox</code> <code>ash</code> on Alpine, where Redis is usually conveniently installed, at least in containerized versions).</p>\n<p>Correctly formed RESP strings should display in full (i.e. with each keyword and key or value name in separate line) when using either of these commands:</p>\n<pre><code>$ printf $(cat redis-cmd-tst.txt)\n*1\n$4\nHSET\n$21\ndiscountProgramOffers\n$6\nmykey1\n$8\nmyvalue1\n\n$ echo -e $(cat /tmp/tst/redis-cmd-tst.txt)\n*1\n$4\nHSET\n$21\ndiscountProgramOffers\n$6\nmykey1\n$8\nmyvalue1\n</code></pre>\n<p>Currently I've verified it works either in BusyBox <code>ash</code> (linked to <code>/bin/sh</code>) on Alpine:</p>\n<pre><code>$ echo $0\n/bin/ash\n\n$ /bin/ash --help\nBusyBox v1.35.0 (2022-08-01 15:14:44 UTC) multi-call binary.\n\nUsage: ash [-il] [-|+Cabefmnuvx] [-|+o OPT]... [-c 'SCRIPT' [ARG0 ARGS] | FILE ARGS | -s ARGS]\n\nUnix shell interpreter\n\n$ cat /etc/os-release \nNAME=&quot;Alpine Linux&quot;\nID=alpine\nVERSION_ID=3.16.2\nPRETTY_NAME=&quot;Alpine Linux v3.16&quot;\n</code></pre>\n<p>... while it fails to print correctly RESP files in either shell preinstalled on Ubuntu (so both in <code>bash</code> and in <code>dash</code>, to which <code>sh</code> is linked on Ubuntu):</p>\n<pre><code>$ printf $(cat dict-to-redis-working.txt)\n$ echo -e $(cat dict-to-redis-working.txt)\n 31T3\n\n$ echo $0\n/bin/dash\n\n$ cat /etc/os-release\nNAME=&quot;Ubuntu&quot;\nVERSION=&quot;20.04.5 LTS (Focal Fossa)&quot;\nID=ubuntu\nID_LIKE=debian\nPRETTY_NAME=&quot;Ubuntu 20.04.5 LTS&quot;\nVERSION_ID=&quot;20.04&quot;\nUBUNTU_CODENAME=focal\n</code></pre>\n"}],"owner":{"account_id":2126282,"reputation":667,"user_id":1888360,"accept_rate":67,"display_name":"Aditya Peshave"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1669123967,"creation_date":1418077259,"question_id":27368074,"body_markdown":"I have been looking all over SO for a working solution but no luck :/\r\n\r\nI want to perform the mass insertion using the `pipelining` feature of `redis-cli` but I am not able to do so.\r\n\r\nI have a JAVA code snippet which create a file containing all the commands to run.\r\n\r\n          String add = &quot;*4\\r\\n$4\\r\\nHSET\\r\\n$22\\r\\ndiscountProgramOffers\\r\\n$&quot; +\r\n    \t\t\tkey.getBytes().length + &quot;\\r\\n&quot; + key + &quot;\\r\\n$&quot; +\r\n    \t\t\tjson.getBytes().length + &quot;\\r\\n&quot; + json + &quot;\\r\\n&quot;;\r\n    \t\t\t\t\r\n    \t\t    System.out.println(add);\r\n\r\n\r\nIn the above code, I followed [mass insertion link][1] present at Redis Documentation site.\r\n\r\nAnd this is a demo String which is getting created.\r\n\r\n`*4\\r\\n$4\\r\\nHSET\\r\\n$22\\r\\ndiscountProgramOffers\\r\\n$5\\r\\nmykey\\r\\n$7\\r\\nmyvalue\\r\\n`\r\n\r\nWhen I run the file which is created by the snippet, sometimes I get nothing, and sometimes I get this error:\r\n\r\n    Error writing to the server: Connection reset by peer\r\n\r\n\r\n**EX:**\r\n\r\n    echo -e &quot;$(cat  massInsert.txt)&quot; | redis/src/redis-cli --pipe\r\n    Error writing to the server: Connection reset by peer\r\n\r\nAm I doing something wrong??\r\nPlease help.\r\n\r\nFYI: I referred to these questions:\r\n\r\n1. https://stackoverflow.com/questions/18870623/redis-mass-insertion\r\n2. https://stackoverflow.com/questions/18345242/redis-mass-inserts-and-counters\r\n\r\n\r\n  [1]: http://redis.io/topics/mass-insert","title":"Redis Mass Insertion HSET command","body":"<p>I have been looking all over SO for a working solution but no luck :/</p>\n\n<p>I want to perform the mass insertion using the <code>pipelining</code> feature of <code>redis-cli</code> but I am not able to do so.</p>\n\n<p>I have a JAVA code snippet which create a file containing all the commands to run.</p>\n\n<pre><code>      String add = \"*4\\r\\n$4\\r\\nHSET\\r\\n$22\\r\\ndiscountProgramOffers\\r\\n$\" +\n            key.getBytes().length + \"\\r\\n\" + key + \"\\r\\n$\" +\n            json.getBytes().length + \"\\r\\n\" + json + \"\\r\\n\";\n\n            System.out.println(add);\n</code></pre>\n\n<p>In the above code, I followed <a href=\"http://redis.io/topics/mass-insert\" rel=\"nofollow noreferrer\">mass insertion link</a> present at Redis Documentation site.</p>\n\n<p>And this is a demo String which is getting created.</p>\n\n<p><code>*4\\r\\n$4\\r\\nHSET\\r\\n$22\\r\\ndiscountProgramOffers\\r\\n$5\\r\\nmykey\\r\\n$7\\r\\nmyvalue\\r\\n</code></p>\n\n<p>When I run the file which is created by the snippet, sometimes I get nothing, and sometimes I get this error:</p>\n\n<pre><code>Error writing to the server: Connection reset by peer\n</code></pre>\n\n<p><strong>EX:</strong></p>\n\n<pre><code>echo -e \"$(cat  massInsert.txt)\" | redis/src/redis-cli --pipe\nError writing to the server: Connection reset by peer\n</code></pre>\n\n<p>Am I doing something wrong??\nPlease help.</p>\n\n<p>FYI: I referred to these questions:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/18870623/redis-mass-insertion\">Redis Mass Insertion</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18345242/redis-mass-inserts-and-counters\">redis - mass inserts and counters</a></li>\n</ol>\n"},{"tags":["java","performance","file-io","copy","reliability"],"comments":[{"owner":{"account_id":2876938,"reputation":960,"user_id":2468723,"accept_rate":65,"display_name":"TameHog"},"score":0,"creation_date":1435603097,"post_id":31123067,"comment_id":50258631,"body_markdown":"Note: approach one isn&#39;t really a file copy","body":"Note: approach one isn&#39;t really a file copy"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1435603383,"post_id":31123067,"comment_id":50258788,"body_markdown":"@TameHog, right. Fixed.","body":"@TameHog, right. Fixed."}],"answers":[{"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435604841,"post_id":31123360,"comment_id":50259630,"body_markdown":"That&#39;s not how one [writes a microbenchmark](http://stackoverflow.com/q/504103/4125191). I wouldn&#39;t trust that result.","body":"That&#39;s not how one <a href=\"http://stackoverflow.com/q/504103/4125191\">writes a microbenchmark</a>. I wouldn&#39;t trust that result."},{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":0,"creation_date":1435605237,"post_id":31123360,"comment_id":50259832,"body_markdown":"Ya I accept it.I quoted it from the webpage where the comparison is done","body":"Ya I accept it.I quoted it from the webpage where the comparison is done"}],"tags":[],"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435604085,"creation_date":1435604085,"answer_id":31123360,"question_id":31123067,"body_markdown":"It is already discussed enough [here][1] and the following is from [here][2]\r\n\r\nYour first approach is File rename that has nothing to do with File copy\r\n\r\n`java.io.File` class doesn’t have any shortcut method to copy file from source to destination.\r\n\r\n**1. Using Stream:** This is the conventional way of file copy in java, here we create two Files, source and destination. Then we create InputStream from source and write it to destination file using OutputStream.\r\n\r\n**2. Using java.nio.channels.FileChannel:** Java NIO classes were introduced in Java 1.4 and FileChannel can be used to copy file in java. According to transferFrom() method javadoc, this way of copy file is supposed to be faster than using Streams to copy files.\r\n\r\n**3. Using Apache Commons IO:** Apache Commons IO FileUtils.copyFile(File srcFile, File destFile) can be used to copy file in java. If you are already using Apache Commons IO in your project, it makes sense to use this for code simplicity. Internally it uses Java NIO FileChannel, so you can avoid this wrapper method if you are not already using it for other functions.\r\n\r\n**4. Java 7 Files class:** If you are working on Java 7, you can use Files class copy() method to copy file in java. It uses File System providers to copy the files.\r\n\r\n\r\nNow to see which one of these methods is more efficient we will copy a large file[1 GB] using each one of them in a simple program. To avoid any performance speedups from caching we are going to use four different source files and four different destination files.{Refer code in link}\r\n\r\n&gt; Time taken by FileStreams Copy = 127572360  \r\n Time taken by FileChannels Copy = 10449963   \r\nTime taken by Java7 Files Copy = 10808333   \r\nTime taken by Apache Commons IO Copy = 17971677\r\n\r\n \r\n\r\nFrom the output it’s clear that Stream Copy is the best way to copy File in Java. FileChannels is the best way to copy large files. If you work with even larger files you will notice a much bigger speed difference\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/106770/standard-concise-way-to-copy-a-file-in-java\r\n  [2]: http://examples.javacodegeeks.com/core-java/io/file/4-ways-to-copy-file-in-java/","title":"Copy and move files in Java, explanation and comparison of different approaches","body":"<p>It is already discussed enough <a href=\"https://stackoverflow.com/questions/106770/standard-concise-way-to-copy-a-file-in-java\">here</a> and the following is from <a href=\"http://examples.javacodegeeks.com/core-java/io/file/4-ways-to-copy-file-in-java/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Your first approach is File rename that has nothing to do with File copy</p>\n\n<p><code>java.io.File</code> class doesn’t have any shortcut method to copy file from source to destination.</p>\n\n<p><strong>1. Using Stream:</strong> This is the conventional way of file copy in java, here we create two Files, source and destination. Then we create InputStream from source and write it to destination file using OutputStream.</p>\n\n<p><strong>2. Using java.nio.channels.FileChannel:</strong> Java NIO classes were introduced in Java 1.4 and FileChannel can be used to copy file in java. According to transferFrom() method javadoc, this way of copy file is supposed to be faster than using Streams to copy files.</p>\n\n<p><strong>3. Using Apache Commons IO:</strong> Apache Commons IO FileUtils.copyFile(File srcFile, File destFile) can be used to copy file in java. If you are already using Apache Commons IO in your project, it makes sense to use this for code simplicity. Internally it uses Java NIO FileChannel, so you can avoid this wrapper method if you are not already using it for other functions.</p>\n\n<p><strong>4. Java 7 Files class:</strong> If you are working on Java 7, you can use Files class copy() method to copy file in java. It uses File System providers to copy the files.</p>\n\n<p>Now to see which one of these methods is more efficient we will copy a large file[1 GB] using each one of them in a simple program. To avoid any performance speedups from caching we are going to use four different source files and four different destination files.{Refer code in link}</p>\n\n<blockquote>\n  <p>Time taken by FileStreams Copy = 127572360<br>\n   Time taken by FileChannels Copy = 10449963<br>\n  Time taken by Java7 Files Copy = 10808333<br>\n  Time taken by Apache Commons IO Copy = 17971677</p>\n</blockquote>\n\n<p>From the output it’s clear that Stream Copy is the best way to copy File in Java. FileChannels is the best way to copy large files. If you work with even larger files you will notice a much bigger speed difference</p>\n"},{"comments":[{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1435612250,"post_id":31125028,"comment_id":50263687,"body_markdown":"thank you for the detailed explanation. From your explanation it leads that the best way to copy a file is `Files.copy();`, I would like to know about the comparison of `Files.copy();` vs. &#171;*approach #2*&#187;.","body":"thank you for the detailed explanation. From your explanation it leads that the best way to copy a file is <code>Files.copy();</code>, I would like to know about the comparison of <code>Files.copy();</code> vs. &#171;<i>approach #2</i>&#187;."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435638992,"post_id":31125028,"comment_id":50270925,"body_markdown":"If you mean from the point of view of performance, don&#39;t worry about it too much. They are the same order of magnitude, and you should not worry about a millisecond here or there unless in your particular project, after completing and writing, you find a bottleneck in this particular point. Readability, bug potential, and simplicity always trump performance when designing.","body":"If you mean from the point of view of performance, don&#39;t worry about it too much. They are the same order of magnitude, and you should not worry about a millisecond here or there unless in your particular project, after completing and writing, you find a bottleneck in this particular point. Readability, bug potential, and simplicity always trump performance when designing."}],"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435612025,"creation_date":1435609935,"answer_id":31125028,"question_id":31123067,"body_markdown":"We can divide your four approaches into two types:\r\n\r\n1. Use a built-in standard library method (such as `File.renameTo()` and `Files.move()`).\r\n2. Do the work ourselves - by copying bytes from source to target.\r\n\r\nFirst, note that `File` doesn&#39;t have a copy method, so you only have one option for built-in, standard library method when you&#39;re talking about copy.\r\n\r\nAlso note that &quot;do the work ourselves&quot; when renaming is going to be very bad - you&#39;re going to copy the entire file, then delete the old file. Not a good or efficient approach. In most cases, renaming/moving within the same filesystem requires just changing file metadata without actually touching the content, so it&#39;s really a lot better to use a standard library.\r\n\r\nSo you have two cases:\r\n\r\n**Renaming**\r\n\r\nThe options are really using either `File.renameTo()` or `Files.move()`. No point in using streams and copying data.\r\n\r\n`File` is an outdated class. It shouldn&#39;t really be used anymore. There is an excellent [explanation why](http://java7fs.wikia.com/wiki/Why_File_sucks), which sums up to the fact that `File` doesn&#39;t give you any information when any of its standard methods fail, whereas `Files` provides you with very accurate exceptions when that happens.\r\n\r\n**Copying**\r\n\r\nYou have two choices - either use `Files.copy()` or one of the &quot;do it yourself&quot; approaches.\r\n\r\nBy far, if what you are copying are actual files, your choice should be `Files.copy()`. There is no need to re-invent the wheel. It does exactly what you want, is well documented, you&#39;re not likely to introduce bugs accidentally. And yes, it&#39;s very efficient.\r\n\r\n`Files.copy()` relies on underlying &quot;providers&quot; for its operation. What it means is that there are specialized vendor (or operating system) specific classes that do the operation that is the most efficient for that filesystem. Whether it&#39;s a Linux filesystem or a Windows one, the copy will be optimized for it. There are even providers for specialized cases, such as zip files, so you can copy files inside a zip, jar or war file using `Files.copy()` - which is a lot more complicated if you try the &quot;do it yourself&quot; approach.\r\n\r\nBesides, `Files.copy()` checks lots of things that you might forget when you write &quot;your own&quot; copy. For example, did you remember to check that the file that you are reading from and the file you are writing to are not the same file? It could cause serious trouble. `Files.copy()` does it. It checks permissions, it checks if the target of the copy is a directory, and so on. So it&#39;s very reliable.\r\n\r\nSo why do you have the option to do &quot;your own&quot;? Because well, Java is a general-purpose language. You have the option to read from a file, the option to write to a file, so you *can* write your own &quot;copy&quot; method. That doesn&#39;t mean you should.\r\n\r\nNote that in your &quot;approach #3&quot;, the &quot;source&quot; file is not actually a file! It&#39;s produced from an Image URI, which means it could be a network source. When your source is not a file, but a stream or channel based on a socket, database BLOB, web server request etc., you can&#39;t really use `Files.copy()`. This is where you&#39;d need to write your own.\r\n\r\nActually, `Files` also has options for copying from a file to an `OutputStream` or from an `InputStream` to a file, so if one side of the copy is a stream and the other a file, you can use that. It will be readable, safe, and throw meaningful exceptions.\r\n\r\nSo write your own copy:\r\n\r\n* when you need to move data from sources to targets which are not files,\r\n* when you need to filter or process the data somehow rather than copy as-is from source to target,\r\n* when you are using old versions of Java, prior to 1.7. In this case, channels would probably be better than streams.","title":"Copy and move files in Java, explanation and comparison of different approaches","body":"<p>We can divide your four approaches into two types:</p>\n\n<ol>\n<li>Use a built-in standard library method (such as <code>File.renameTo()</code> and <code>Files.move()</code>).</li>\n<li>Do the work ourselves - by copying bytes from source to target.</li>\n</ol>\n\n<p>First, note that <code>File</code> doesn't have a copy method, so you only have one option for built-in, standard library method when you're talking about copy.</p>\n\n<p>Also note that \"do the work ourselves\" when renaming is going to be very bad - you're going to copy the entire file, then delete the old file. Not a good or efficient approach. In most cases, renaming/moving within the same filesystem requires just changing file metadata without actually touching the content, so it's really a lot better to use a standard library.</p>\n\n<p>So you have two cases:</p>\n\n<p><strong>Renaming</strong></p>\n\n<p>The options are really using either <code>File.renameTo()</code> or <code>Files.move()</code>. No point in using streams and copying data.</p>\n\n<p><code>File</code> is an outdated class. It shouldn't really be used anymore. There is an excellent <a href=\"http://java7fs.wikia.com/wiki/Why_File_sucks\" rel=\"nofollow\">explanation why</a>, which sums up to the fact that <code>File</code> doesn't give you any information when any of its standard methods fail, whereas <code>Files</code> provides you with very accurate exceptions when that happens.</p>\n\n<p><strong>Copying</strong></p>\n\n<p>You have two choices - either use <code>Files.copy()</code> or one of the \"do it yourself\" approaches.</p>\n\n<p>By far, if what you are copying are actual files, your choice should be <code>Files.copy()</code>. There is no need to re-invent the wheel. It does exactly what you want, is well documented, you're not likely to introduce bugs accidentally. And yes, it's very efficient.</p>\n\n<p><code>Files.copy()</code> relies on underlying \"providers\" for its operation. What it means is that there are specialized vendor (or operating system) specific classes that do the operation that is the most efficient for that filesystem. Whether it's a Linux filesystem or a Windows one, the copy will be optimized for it. There are even providers for specialized cases, such as zip files, so you can copy files inside a zip, jar or war file using <code>Files.copy()</code> - which is a lot more complicated if you try the \"do it yourself\" approach.</p>\n\n<p>Besides, <code>Files.copy()</code> checks lots of things that you might forget when you write \"your own\" copy. For example, did you remember to check that the file that you are reading from and the file you are writing to are not the same file? It could cause serious trouble. <code>Files.copy()</code> does it. It checks permissions, it checks if the target of the copy is a directory, and so on. So it's very reliable.</p>\n\n<p>So why do you have the option to do \"your own\"? Because well, Java is a general-purpose language. You have the option to read from a file, the option to write to a file, so you <em>can</em> write your own \"copy\" method. That doesn't mean you should.</p>\n\n<p>Note that in your \"approach #3\", the \"source\" file is not actually a file! It's produced from an Image URI, which means it could be a network source. When your source is not a file, but a stream or channel based on a socket, database BLOB, web server request etc., you can't really use <code>Files.copy()</code>. This is where you'd need to write your own.</p>\n\n<p>Actually, <code>Files</code> also has options for copying from a file to an <code>OutputStream</code> or from an <code>InputStream</code> to a file, so if one side of the copy is a stream and the other a file, you can use that. It will be readable, safe, and throw meaningful exceptions.</p>\n\n<p>So write your own copy:</p>\n\n<ul>\n<li>when you need to move data from sources to targets which are not files,</li>\n<li>when you need to filter or process the data somehow rather than copy as-is from source to target,</li>\n<li>when you are using old versions of Java, prior to 1.7. In this case, channels would probably be better than streams.</li>\n</ul>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31125028,"answer_count":2,"score":1,"last_activity_date":1669123800,"creation_date":1435603013,"question_id":31123067,"body_markdown":"I implement a file manipulation functionality, and I paid attention that Java provides multiple techniques to copy and move files. Below you can find code snippets, briefly describing these approaches:\r\n\r\n**Approach #1:**\r\n\r\n```java\r\nFile from = new File(src.getPath());\r\nFile to = new File(dst.getPath());\r\n\r\nfrom.renameTo(to);\r\n```\r\n\r\n---\r\n\r\n**Approach #2:**\r\n\r\n```java\r\nFileChannel inChannel = new FileInputStream(src).getChannel();\r\nFileChannel outChannel = new FileOutputStream(dst).getChannel();\r\n\r\ninChannel.transferTo(0, inChannel.size(), outChannel);\r\n```\r\n\r\n---\r\n\r\n**Approach #3:**\r\n\r\n```java\r\nInputStream in = getContentResolver().openInputStream(selectedImageUri);\r\nOutputStream out = new FileOutputStream(&quot;/sdcard/wallpapers/&quot; + wall);\r\n\r\nbyte[] buffer = new byte[1024];\r\nint read;\r\n\r\nwhile ((read = in.read(buffer)) != -1) {\r\n    out.write(buffer, 0, read);\r\n}\r\n```\r\n\r\n---\r\n\r\n**Approach #4:**\r\n\r\n```java\r\nimport static java.nio.file.StandardCopyOption.*;\r\n\r\nFiles.copy(source, target, REPLACE_EXISTING);\r\n```\r\n\r\n---\r\n\r\nAll these approaches work, but I can&#39;t grasp when should I use each of them? What are the pros and cons of each of these methods, especially from the performance and the reliability points of view? Is there any specific scenario when I have to prefer one technique over another?","title":"Copy and move files in Java, explanation and comparison of different approaches","body":"<p>I implement a file manipulation functionality, and I paid attention that Java provides multiple techniques to copy and move files. Below you can find code snippets, briefly describing these approaches:</p>\n<p><strong>Approach #1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>File from = new File(src.getPath());\nFile to = new File(dst.getPath());\n\nfrom.renameTo(to);\n</code></pre>\n<hr />\n<p><strong>Approach #2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>FileChannel inChannel = new FileInputStream(src).getChannel();\nFileChannel outChannel = new FileOutputStream(dst).getChannel();\n\ninChannel.transferTo(0, inChannel.size(), outChannel);\n</code></pre>\n<hr />\n<p><strong>Approach #3:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream in = getContentResolver().openInputStream(selectedImageUri);\nOutputStream out = new FileOutputStream(&quot;/sdcard/wallpapers/&quot; + wall);\n\nbyte[] buffer = new byte[1024];\nint read;\n\nwhile ((read = in.read(buffer)) != -1) {\n    out.write(buffer, 0, read);\n}\n</code></pre>\n<hr />\n<p><strong>Approach #4:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.nio.file.StandardCopyOption.*;\n\nFiles.copy(source, target, REPLACE_EXISTING);\n</code></pre>\n<hr />\n<p>All these approaches work, but I can't grasp when should I use each of them? What are the pros and cons of each of these methods, especially from the performance and the reliability points of view? Is there any specific scenario when I have to prefer one technique over another?</p>\n"},{"tags":["java","spring-boot","junit","awaitility"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1669124281,"post_id":74533419,"comment_id":131568611,"body_markdown":"Would there be a side-effect if that unwanted method was invoked?  If yes, check the side-effect does not exist.","body":"Would there be a side-effect if that unwanted method was invoked?  If yes, check the side-effect does not exist."},{"owner":{"account_id":27013407,"reputation":1,"user_id":20572671,"display_name":"JDMDevelopement"},"score":0,"creation_date":1669132036,"post_id":74533419,"comment_id":131571897,"body_markdown":"The someClass is actually a mock so there’s no side effect","body":"The someClass is actually a mock so there’s no side effect"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1669137727,"post_id":74533419,"comment_id":131574158,"body_markdown":"The mock could set a boolean `wasMethodWasInvoked` to true if the method was invoked, then could `await().atMost(10, TimeUnit.SECONDS).untilAsserted(() -&gt; !wasMethodWasInvoked)`. But the second example looks easier to read.","body":"The mock could set a boolean <code>wasMethodWasInvoked</code> to true if the method was invoked, then could <code>await().atMost(10, TimeUnit.SECONDS).untilAsserted(() -&gt; !wasMethodWasInvoked)</code>. But the second example looks easier to read."},{"owner":{"account_id":27013407,"reputation":1,"user_id":20572671,"display_name":"JDMDevelopement"},"score":1,"creation_date":1669288764,"post_id":74533419,"comment_id":131613263,"body_markdown":"There was actually an issue with the `await().atMost(10, TimeUnit.SECONDS)`, it doesnt wait unless it has .until(...) so my test was actually not testing anything. The cleanest alternative that i have found is not using Awailtillity, but just using Mockitio. `verify(someClass, after(8000).never()).someMethod()`","body":"There was actually an issue with the <code>await().atMost(10, TimeUnit.SECONDS)</code>, it doesnt wait unless it has .until(...) so my test was actually not testing anything. The cleanest alternative that i have found is not using Awailtillity, but just using Mockitio. <code>verify(someClass, after(8000).never()).someMethod()</code>"}],"owner":{"account_id":27013407,"reputation":1,"user_id":20572671,"display_name":"JDMDevelopement"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669123756,"creation_date":1669123756,"question_id":74533419,"body_markdown":"Is is possible to use awaitility to ensure a method wasn&#39;t called during the await?\r\n\r\nI have tried using\r\n\r\n```\r\n@Test\r\nvoid testThatSomeMethodWasntCalled(){\r\nawait().atMost(10, TimeUnit.SECONDS).untilAsserted(() -&gt; someClass.someMethod())\r\n}\r\n```\r\nBut there doesn&#39;t appear to be a negative version of untilAsserted().\r\n\r\nCurrently I am using \r\n\r\n```\r\n@Test\r\nvoid testThatSomeMethodWasntCalled(){\r\nawait().atMost(10, TimeUnit.SECONDS)\r\nverify(someClass, never()).someMethod()\r\n}\r\n```\r\n\r\nHowever the above feels like a glorfied Thread.sleep(...)\r\n\r\nAny help would be appricated!\r\nJonny","title":"Using Awaitility to verify a method wasn&#39;t called during duration","body":"<p>Is is possible to use awaitility to ensure a method wasn't called during the await?</p>\n<p>I have tried using</p>\n<pre><code>@Test\nvoid testThatSomeMethodWasntCalled(){\nawait().atMost(10, TimeUnit.SECONDS).untilAsserted(() -&gt; someClass.someMethod())\n}\n</code></pre>\n<p>But there doesn't appear to be a negative version of untilAsserted().</p>\n<p>Currently I am using</p>\n<pre><code>@Test\nvoid testThatSomeMethodWasntCalled(){\nawait().atMost(10, TimeUnit.SECONDS)\nverify(someClass, never()).someMethod()\n}\n</code></pre>\n<p>However the above feels like a glorfied Thread.sleep(...)</p>\n<p>Any help would be appricated!\nJonny</p>\n"},{"tags":["java","android","file-io","copy","android-external-storage"],"comments":[{"owner":{"account_id":4360638,"reputation":712,"user_id":3557842,"display_name":"Proxytype"},"score":0,"creation_date":1435443574,"post_id":31094071,"comment_id":50204619,"body_markdown":"maybe path problems?","body":"maybe path problems?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1435443877,"post_id":31094071,"comment_id":50204691,"body_markdown":"@Proxytype, regarding the path, I do it this way: `String dstPath = Environment.getExternalStorageDirectory() + File.separator + &quot;myapp&quot; + File.separator + &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;;\nFile dst = new File(dstPath);`. Should my destination path include the name of the file or just folder? Why `new FileOutputStream(dst).getChannel();` returns null even if `dst` is filled and there is free space on a storage?","body":"@Proxytype, regarding the path, I do it this way: <code>String dstPath = Environment.getExternalStorageDirectory() + File.separator + &quot;myapp&quot; + File.separator + &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;; File dst = new File(dstPath);</code>. Should my destination path include the name of the file or just folder? Why <code>new FileOutputStream(dst).getChannel();</code> returns null even if <code>dst</code> is filled and there is free space on a storage?"},{"owner":{"account_id":4360638,"reputation":712,"user_id":3557842,"display_name":"Proxytype"},"score":0,"creation_date":1435444099,"post_id":31094071,"comment_id":50204756,"body_markdown":"try to create the destination file before write to it, File dest = new File(path); check if it was created on the device... also give it name..  File to = new File(dst.getPath() + &quot;/myname&quot;);","body":"try to create the destination file before write to it, File dest = new File(path); check if it was created on the device... also give it name..  File to = new File(dst.getPath() + &quot;/myname&quot;);"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1435445172,"post_id":31094071,"comment_id":50205015,"body_markdown":"I already do it, and even more: `if (!dst.exists()) {isCreated = dst.mkdir();}`, after this code the variable `isCreated` is equal to `false`. It&#39;s strange, why I can create the initial file, but not copy it to another folder, even can&#39;t create a folder.","body":"I already do it, and even more: <code>if (!dst.exists()) {isCreated = dst.mkdir();}</code>, after this code the variable <code>isCreated</code> is equal to <code>false</code>. It&#39;s strange, why I can create the initial file, but not copy it to another folder, even can&#39;t create a folder."},{"owner":{"account_id":4360638,"reputation":712,"user_id":3557842,"display_name":"Proxytype"},"score":0,"creation_date":1435445579,"post_id":31094071,"comment_id":50205097,"body_markdown":"is the internal path include the data directory? follow this answer http://stackoverflow.com/questions/4751609/writing-to-the-internal-private-storage-in-android-updated-2-6-12","body":"is the internal path include the data directory? follow this answer <a href=\"http://stackoverflow.com/questions/4751609/writing-to-the-internal-private-storage-in-android-updated-2-6-12\" title=\"writing to the internal private storage in android updated 2 6 12\">stackoverflow.com/questions/4751609/&hellip;</a>"},{"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"score":0,"creation_date":1435468832,"post_id":31094071,"comment_id":50208962,"body_markdown":"I use approach 2, and get the destination path like this: `context.getExternalFilesDir(null).getPath()`  Presumably you could add directories onto that and call `mkdirs()`.  Have you called mkdirs on the output directory (not including filename)?  Do you end up with that directory and it&#39;s empty, or no directory, or what?","body":"I use approach 2, and get the destination path like this: <code>context.getExternalFilesDir(null).getPath()</code>  Presumably you could add directories onto that and call <code>mkdirs()</code>.  Have you called mkdirs on the output directory (not including filename)?  Do you end up with that directory and it&#39;s empty, or no directory, or what?"},{"owner":{"account_id":4736034,"reputation":562,"user_id":3861137,"accept_rate":100,"display_name":"Muhamed Huseinbašić"},"score":0,"creation_date":1435485754,"post_id":31094071,"comment_id":50212448,"body_markdown":"Are you taking picture with existing (bulit-in, Android default) camera app?","body":"Are you taking picture with existing (bulit-in, Android default) camera app?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1435496188,"post_id":31094071,"comment_id":50215373,"body_markdown":"@MuhamedHuseinbašić, I&#39;m not sure if it can be considered as using of the default camera app, but I&#39;m using the default `Camera` class-based object and call the `takePicture()` method in order to shot the image. How it can be related to the problem of file copy?","body":"@MuhamedHuseinbašić, I&#39;m not sure if it can be considered as using of the default camera app, but I&#39;m using the default <code>Camera</code> class-based object and call the <code>takePicture()</code> method in order to shot the image. How it can be related to the problem of file copy?"},{"owner":{"account_id":4736034,"reputation":562,"user_id":3861137,"accept_rate":100,"display_name":"Muhamed Huseinbašić"},"score":0,"creation_date":1435515356,"post_id":31094071,"comment_id":50221295,"body_markdown":"I wanted to reproduce the problem in the same environment. That is why I asked.","body":"I wanted to reproduce the problem in the same environment. That is why I asked."}],"answers":[{"comments":[{"owner":{"account_id":5423259,"reputation":3487,"user_id":4316327,"accept_rate":44,"display_name":"Harry T."},"score":0,"creation_date":1494306767,"post_id":31103300,"comment_id":74758424,"body_markdown":"Thanks. Your way is much faster than writing buffers.","body":"Thanks. Your way is much faster than writing buffers."}],"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1588851785,"creation_date":1435516263,"answer_id":31103300,"question_id":31094071,"body_markdown":"I solved my issue. The problem was in the destination path, in the original code:\r\n```java\r\nFile dst = new File(dstPath);\r\n```\r\nthe variable `dstPath` had the full destination path, including the name of the file, which is wrong. Here is the correct code fragment:\r\n```java\r\nString dstPath = Environment.getExternalStorageDirectory() + File.separator + &quot;myApp&quot; + File.separator;\r\nFile dst = new File(dstPath);\r\n\r\nexportFile(pictureFile, dst);\r\n```\r\n---\r\n```java\r\nprivate File exportFile(File src, File dst) throws IOException {\r\n\r\n\t//if folder does not exist\r\n\tif (!dst.exists()) {\r\n\t\tif (!dst.mkdir()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tString timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n\tFile expFile = new File(dst.getPath() + File.separator + &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;);\r\n\tFileChannel inChannel = null;\r\n\tFileChannel outChannel = null;\r\n\r\n\ttry {\r\n\t\tinChannel = new FileInputStream(src).getChannel();\r\n\t\toutChannel = new FileOutputStream(expFile).getChannel();\r\n\t} catch (FileNotFoundException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\ttry {\r\n\t\tinChannel.transferTo(0, inChannel.size(), outChannel);\r\n\t} finally {\r\n\t\tif (inChannel != null)\r\n\t\t\tinChannel.close();\r\n\t\tif (outChannel != null)\r\n\t\t\toutChannel.close();\r\n\t}\r\n\r\n\treturn expFile;\r\n}\r\n```\r\nThanks for the tips.","title":"Copy file from the internal to the external storage in Android","body":"<p>I solved my issue. The problem was in the destination path, in the original code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>File dst = new File(dstPath);\n</code></pre>\n\n<p>the variable <code>dstPath</code> had the full destination path, including the name of the file, which is wrong. Here is the correct code fragment:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String dstPath = Environment.getExternalStorageDirectory() + File.separator + \"myApp\" + File.separator;\nFile dst = new File(dstPath);\n\nexportFile(pictureFile, dst);\n</code></pre>\n\n<hr>\n\n<pre class=\"lang-java prettyprint-override\"><code>private File exportFile(File src, File dst) throws IOException {\n\n    //if folder does not exist\n    if (!dst.exists()) {\n        if (!dst.mkdir()) {\n            return null;\n        }\n    }\n\n    String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n    File expFile = new File(dst.getPath() + File.separator + \"IMG_\" + timeStamp + \".jpg\");\n    FileChannel inChannel = null;\n    FileChannel outChannel = null;\n\n    try {\n        inChannel = new FileInputStream(src).getChannel();\n        outChannel = new FileOutputStream(expFile).getChannel();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        inChannel.transferTo(0, inChannel.size(), outChannel);\n    } finally {\n        if (inChannel != null)\n            inChannel.close();\n        if (outChannel != null)\n            outChannel.close();\n    }\n\n    return expFile;\n}\n</code></pre>\n\n<p>Thanks for the tips.</p>\n"},{"comments":[{"owner":{"account_id":4160650,"reputation":632,"user_id":3410835,"display_name":"K Pradeep Kumar Reddy"},"score":0,"creation_date":1658846349,"post_id":57381057,"comment_id":129150374,"body_markdown":"Will this get stored under downloads ?","body":"Will this get stored under downloads ?"}],"tags":[],"owner":{"account_id":4724822,"reputation":387,"user_id":3821811,"display_name":"A.Y."},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668928039,"creation_date":1565111670,"answer_id":57381057,"question_id":31094071,"body_markdown":"Kotlin https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/copy-to.html\r\n&lt;!-- language-all: kotlin--&gt;\r\n \r\n        // video is some file in internal storage\r\n        val to = File(Environment.getExternalStorageDirectory().absolutePath + &quot;/destination.file&quot;)\r\n        if(to.exists().not()) {\r\n            to.createNewFile()\r\n        }\r\n        video.copyTo(to, true)","title":"Copy file from the internal to the external storage in Android","body":"<p>Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/copy-to.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/copy-to.html</a></p>\n\n<pre><code>    // video is some file in internal storage\n    val to = File(Environment.getExternalStorageDirectory().absolutePath + &quot;/destination.file&quot;)\n    if(to.exists().not()) {\n        to.createNewFile()\n    }\n    video.copyTo(to, true)\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25554,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":31103300,"answer_count":2,"score":12,"last_activity_date":1669123675,"creation_date":1435443316,"question_id":31094071,"body_markdown":"My app (*Android API 15*) makes a picture and stores it in the internal memory&#39;s folder. Now, I want to copy this file to another folder inside of the external storage, e.g. `/sdcard/myapp`. I tried the following approaches:\r\n\r\n**Approach #1:**\r\n\r\n```java\r\nprivate void copyFile(File src, File dst) throws IOException {\r\n\r\n\tFile from = new File(src.getPath());\r\n\tFile to = new File(dst.getPath());\r\n\tfrom.renameTo(to);\r\n}\r\n```\r\n\r\n---\r\n\r\n**Approach #2:**\r\n\r\n```java\r\nprivate void copyFile(File src, File dst) throws IOException {\r\n\r\n\tFileChannel inChannel = null;\r\n\tFileChannel outChannel = null;\r\n\r\n\ttry {\r\n\t\tinChannel = new FileInputStream(src).getChannel();\r\n\t\toutChannel = new FileOutputStream(dst).getChannel();\r\n\t} catch (FileNotFoundException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\ttry {\r\n\t\tinChannel.transferTo(0, inChannel.size(), outChannel);\r\n\t} finally {\r\n\t\tif (inChannel != null)\r\n\t\t\tinChannel.close();\r\n\t\tif (outChannel != null)\r\n\t\t\toutChannel.close();\r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\n**Approach #3:**\r\n\r\n```java\r\nprivate void copyFile(File src, File dst) throws IOException {\r\n\r\n\tFileInputStream inStream = new FileInputStream(src);\r\n\r\n\tif (!dst.exists()) {\r\n\t\tdst.mkdir();\r\n\t}\r\n\r\n\tif (!dst.canWrite()) {\r\n\t\tSystem.out.print(&quot;CAN&#39;T WRITE&quot;);\r\n\t\treturn;\r\n\t}\r\n\r\n\tFileOutputStream outStream = new FileOutputStream(dst);\r\n\tFileChannel inChannel = inStream.getChannel();\r\n\tFileChannel outChannel = outStream.getChannel();\r\n\tinChannel.transferTo(0, inChannel.size(), outChannel);\r\n\tinStream.close();\r\n\toutStream.close();\r\n}\r\n```\r\n\r\n---\r\n\r\nNone of these methods doesn&#39;t solve my task. In checked a number of related topics, and the only suggestion I found is to verify the persistence of \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nin `AndroidManifest.xml` and it does persist.\r\n\r\nThe ***approach #1*** finishes the execution, but no folder and files are copied.\r\n\r\nIn the ***approach #2***, the app fails with the exception `java.lang.NullPointerException` at `outChannel = new FileOutputStream(dst).getChannel();`, but the object dst is not a null.\r\n\r\nIn the ***approach #3***, I decided to verify if the destination object exists and it creates a folder if needed, but when I check if I can write, the check returns `false`.\r\n\r\nI tried a couple of additional approaches, which succeeded to create an empty folder, but no files are really copied.\r\n\r\nSince this is my very first step towards Android, I feel I miss some small thing. Please, point me, how to copy a file from one folder to another folder in Android, including file moving from internal to external memory.","title":"Copy file from the internal to the external storage in Android","body":"<p>My app (<em>Android API 15</em>) makes a picture and stores it in the internal memory's folder. Now, I want to copy this file to another folder inside of the external storage, e.g. <code>/sdcard/myapp</code>. I tried the following approaches:</p>\n<p><strong>Approach #1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void copyFile(File src, File dst) throws IOException {\n\n    File from = new File(src.getPath());\n    File to = new File(dst.getPath());\n    from.renameTo(to);\n}\n</code></pre>\n<hr />\n<p><strong>Approach #2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void copyFile(File src, File dst) throws IOException {\n\n    FileChannel inChannel = null;\n    FileChannel outChannel = null;\n\n    try {\n        inChannel = new FileInputStream(src).getChannel();\n        outChannel = new FileOutputStream(dst).getChannel();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        inChannel.transferTo(0, inChannel.size(), outChannel);\n    } finally {\n        if (inChannel != null)\n            inChannel.close();\n        if (outChannel != null)\n            outChannel.close();\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Approach #3:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void copyFile(File src, File dst) throws IOException {\n\n    FileInputStream inStream = new FileInputStream(src);\n\n    if (!dst.exists()) {\n        dst.mkdir();\n    }\n\n    if (!dst.canWrite()) {\n        System.out.print(&quot;CAN'T WRITE&quot;);\n        return;\n    }\n\n    FileOutputStream outStream = new FileOutputStream(dst);\n    FileChannel inChannel = inStream.getChannel();\n    FileChannel outChannel = outStream.getChannel();\n    inChannel.transferTo(0, inChannel.size(), outChannel);\n    inStream.close();\n    outStream.close();\n}\n</code></pre>\n<hr />\n<p>None of these methods doesn't solve my task. In checked a number of related topics, and the only suggestion I found is to verify the persistence of</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>in <code>AndroidManifest.xml</code> and it does persist.</p>\n<p>The <em><strong>approach #1</strong></em> finishes the execution, but no folder and files are copied.</p>\n<p>In the <em><strong>approach #2</strong></em>, the app fails with the exception <code>java.lang.NullPointerException</code> at <code>outChannel = new FileOutputStream(dst).getChannel();</code>, but the object dst is not a null.</p>\n<p>In the <em><strong>approach #3</strong></em>, I decided to verify if the destination object exists and it creates a folder if needed, but when I check if I can write, the check returns <code>false</code>.</p>\n<p>I tried a couple of additional approaches, which succeeded to create an empty folder, but no files are really copied.</p>\n<p>Since this is my very first step towards Android, I feel I miss some small thing. Please, point me, how to copy a file from one folder to another folder in Android, including file moving from internal to external memory.</p>\n"},{"tags":["java","constructor"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669123500,"post_id":74533324,"comment_id":131568320,"body_markdown":"Recompile your code and try again.","body":"Recompile your code and try again."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1669123503,"post_id":74533324,"comment_id":131568321,"body_markdown":"`NoSuchMethodError` almost always means that something that existed at compile time is missing at runtime. Have you re-compiled *everything*? Do you by chance have multiple versions of `Car.class` lying around on your classpath? I&#39;d suggest `mvn clean compile` or whatever the equivalent is where you build.","body":"<code>NoSuchMethodError</code> almost always means that something that existed at compile time is missing at runtime. Have you re-compiled <i>everything</i>? Do you by chance have multiple versions of <code>Car.class</code> lying around on your classpath? I&#39;d suggest <code>mvn clean compile</code> or whatever the equivalent is where you build."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669125385,"post_id":74533324,"comment_id":131569052,"body_markdown":"BTW, good job showing your code and the error, but it would be good to remember the &quot;minimal&quot; part of &quot;minimal reproducible example&quot;. Also, SO doesn&#39;t show line numbers, so it&#39;s a good practice to add comments indicating the lines to which the stack trace refers.","body":"BTW, good job showing your code and the error, but it would be good to remember the &quot;minimal&quot; part of &quot;minimal reproducible example&quot;. Also, SO doesn&#39;t show line numbers, so it&#39;s a good practice to add comments indicating the lines to which the stack trace refers."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669125496,"post_id":74533324,"comment_id":131569095,"body_markdown":"I can run this in an online IDE and it works fine, so as others have said, something&#39;s gone wrong in your compilation pipeline.","body":"I can run this in an online IDE and it works fine, so as others have said, something&#39;s gone wrong in your compilation pipeline."}],"owner":{"account_id":26628037,"reputation":1,"user_id":20245668,"display_name":"Pnc_Gamba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669123528,"creation_date":1669123304,"question_id":74533324,"body_markdown":"Everytime I run my code, I get this error below\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void Car.&lt;init&gt;(java.lang.String, java.lang.String, double, double, double)&#39;\r\n\tat DimaweaJeshuaAssignment11.setUpCars(DimaweaJeshuaAssignment11.java:48)\r\n\tat DimaweaJeshuaAssignment11.main(DimaweaJeshuaAssignment11.java:11)\r\n```\r\n\r\n\r\nI looked to see if my constructor in my Car class was correct, and it was, but I&#39;m stuck and can&#39;t figure out what the problem is. This is my code below\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\npublic class DimaweaJeshuaAssignment11 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// create an array of 5 Car objects\r\n\t\tCar[] cars = new Car[5];\r\n\t\t// set up the cars\r\n\t\tsetUpCars(cars);\r\n\t\t// output the car details to file\r\n\t\twriteCarDetailsToFile(cars);\r\n\t\t// display the cars at the start of simulation\r\n\t\tSystem.out.println(&quot;Cars at start of simulation&quot;);\r\n\t\tprintCars(cars);\r\n\t\t\r\n\t\tint milesTraveled = 0;\r\n\t\tboolean allCarsHaveGas = true;\r\n\t\t\r\n\t\t// loop that continues until at least one of the cars has run out of gas\r\n\t\twhile(allCarsHaveGas) {\r\n\t\t\tmilesTraveled++; // increment the miles traveled\r\n\t\t\t// loop to decrement the gallons after traveling 1 mile\r\n\t\t\tfor(int i=0;i&lt;cars.length;i++) {\r\n\t\t\t\tcars[i].updateFuel(1);\r\n\t\t\t\tif(cars[i].getFuelGauge().getGallons() == 0) { // check if any of cars have run out of gas, update allCarsHaveGas to false\r\n\t\t\t\tallCarsHaveGas = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// display the car details at the end of simulation\r\n\t\tSystem.out.println(&quot;Cars at end of simulation&quot;);\r\n\t\tprintCars(cars);\r\n\t\t// loop to display the first car that ran out of gas\r\n\t\tfor(int i = 0; i &lt; cars.length; i++) {\r\n\t\t\tif(cars[i].getFuelGauge().getGallons() == 0) {\r\n\t\t\t\tSystem.out.println(&quot;\\n&quot;+cars[i].getOwner()+&quot;&#39;s car ran out of has after &quot;+ milesTraveled +&quot; miles&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// method to set up the cars for the simulation based on the given information\r\n\tpublic static void setUpCars(Car[] cars) {\r\n\t\t\r\n\t\tcars[0] = new Car(&quot;Shrek&quot;, &quot;Toyota Tundra&quot;, 15, 6, 20000);\r\n\t\tcars[1] = new Car(&quot;Fiona&quot;, &quot;Audi Q7&quot;, 21, 10, 8270);\r\n\t\tcars[2] = new Car(&quot;Donkey&quot;, &quot;Jeep CJ5&quot;, 14, 5, 11800);\r\n\t\tcars[3] = new Car(&quot;Farquaad&quot;, &quot;Smart Car&quot;, 42, 4, 710);\r\n\t\tcars[4] = new Car(&quot;Dragon&quot;, &quot;Chevy Suburban&quot;, 12, 30, 10800);\r\n\t}\r\n\t\r\n\t// method to display the details of the car in the array\r\n\tpublic static void printCars(Car[] cars) {\r\n\t\tSystem.out.println(&quot;----------------------------------------------------------------------------------------&quot;);\r\n\t\tSystem.out.printf(&quot;%-20s%-20s%20s%20s\\n&quot;,&quot;Owner&quot;,&quot;Brand&quot;,&quot;MPG&quot;,&quot;Current Gallons&quot;, &quot;Mileage&quot;);\r\n\t\tSystem.out.println(&quot;----------------------------------------------------------------------------------------&quot;);\r\n\t\tfor(int i=0;i&lt;cars.length;i++)\r\n\t\tSystem.out.printf(&quot;%-20s%-20s%20.2f%20.2f\\n&quot;,cars[i].getOwner(),cars[i].getBrand(),cars[i].getFuelEconomy(),cars[i].getFuelGauge().getGallons(), cars[i].getMileage());\r\n\t\tSystem.out.println();\r\n\t}\r\n\t\r\n\t// method to display the details of cars in the array to file\r\n\tpublic static void writeCarDetailsToFile(Car[] cars) throws IOException {\r\n\t\t// setup the file reference variable to refer to the text file\r\n\t\tFile filename = new File(&quot;Assignment11.txt&quot;);\r\n\t\t\r\n\t\t// Create the file that the cars will be written to\r\n\t\tPrintWriter resultsFile = new PrintWriter(filename);\r\n\t\t\r\n\t\t// Write the details for each car to the file\r\n\t\tfor(int i=0;i&lt;cars.length;i++) {\r\n\t\t\tresultsFile.println(cars[i].getOwner());\r\n\t\t\tresultsFile.println(cars[i].getBrand());\r\n\t\t\tresultsFile.println(cars[i].getFuelEconomy());\r\n\t\t\tresultsFile.println(cars[i].getFuelGauge().getGallons());\r\n\t\t}\r\n\t\t\r\n\t\tresultsFile.close();\r\n\t}\r\n} \r\n\t\r\n\r\nclass Car {\r\n\r\n\t// attributes\r\n\tprivate String owner;\r\n\tprivate String brand;\r\n\tprivate double milesPerGallon;\r\n\tprivate FuelGauge fuelGauge;\r\n\tprivate double mileage;\r\n\t\r\n\t// constructor to initialize fields to specified values\r\n\tpublic Car(String owner, String brand, double milesPerGallon, double gallons, double mileage) {\r\n\t\tthis.owner = owner;\r\n\t\tthis.brand = brand;\r\n\t\tthis.milesPerGallon = milesPerGallon;\r\n\t\tfuelGauge = new FuelGauge();\r\n\t\tfuelGauge.setGallons(gallons);\r\n\t\tthis.mileage = mileage;\r\n\t}\r\n\t\r\n\t// getters\r\n\tpublic String getOwner() {\r\n\t\treturn owner;\r\n\t}\r\n\t\r\n\tpublic String getBrand() {\r\n\t\treturn brand;\r\n\t}\r\n\t\r\n\tpublic double getFuelEconomy() {\r\n\t\treturn milesPerGallon;\r\n\t}\r\n\t\r\n\tpublic FuelGauge getFuelGauge() {\r\n\t\treturn fuelGauge;\r\n\t}\r\n\t\r\n\tpublic double getMileage() {\r\n\t\treturn mileage;\r\n\t}\r\n\t\r\n\t// update the fuel of the car based on the miles traveled\r\n\tpublic void updateFuel(double milesTraveled) {\r\n\t\t\r\n\t\tdouble gallonsUsed = milesTraveled/milesPerGallon; // compute the gallons used for traveling milesTraveled\r\n\t\tfuelGauge.decrementGallons(gallonsUsed); // decrement the gallons used\r\n\t}\r\n\t\r\n} \r\n\r\n\r\nclass FuelGauge {\r\n\r\n\t// attribute\r\n\tprivate double gallons;\r\n\t\r\n\t// default constructor that initialize gallons to 0\r\n\tpublic FuelGauge() {\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t// setter\r\n\tpublic void setGallons(double gallons) {\r\n\t\t\r\n\t\tthis.gallons = gallons;\r\n\t}\r\n\t\t\r\n\t// getter\r\n\tpublic double getGallons() {\r\n\t\treturn gallons;\r\n\t}\r\n\t\r\n\t// method to decrement the gallons by gallons used\r\n\tpublic void decrementGallons(double gallonsUsed) {\r\n\t\tif(gallonsUsed &lt;= gallons) { // gallonsUsed &lt;= gallons, decrement gallonsUsed from gallons\r\n\t\t\tgallons -= gallonsUsed;\r\n\t\t} else // gallonsUsed &gt; gallons, set gallons to 0\r\n\t\t\tgallons = 0;\r\n\t}\r\n\t\r\n} \r\n\t\r\n```","title":"Why am I getting this &quot;NoSuchMethodError&quot; in my code?","body":"<p>Everytime I run my code, I get this error below</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void Car.&lt;init&gt;(java.lang.String, java.lang.String, double, double, double)'\n    at DimaweaJeshuaAssignment11.setUpCars(DimaweaJeshuaAssignment11.java:48)\n    at DimaweaJeshuaAssignment11.main(DimaweaJeshuaAssignment11.java:11)\n</code></pre>\n<p>I looked to see if my constructor in my Car class was correct, and it was, but I'm stuck and can't figure out what the problem is. This is my code below</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\npublic class DimaweaJeshuaAssignment11 {\n\n    public static void main(String[] args) throws IOException {\n        // create an array of 5 Car objects\n        Car[] cars = new Car[5];\n        // set up the cars\n        setUpCars(cars);\n        // output the car details to file\n        writeCarDetailsToFile(cars);\n        // display the cars at the start of simulation\n        System.out.println(&quot;Cars at start of simulation&quot;);\n        printCars(cars);\n        \n        int milesTraveled = 0;\n        boolean allCarsHaveGas = true;\n        \n        // loop that continues until at least one of the cars has run out of gas\n        while(allCarsHaveGas) {\n            milesTraveled++; // increment the miles traveled\n            // loop to decrement the gallons after traveling 1 mile\n            for(int i=0;i&lt;cars.length;i++) {\n                cars[i].updateFuel(1);\n                if(cars[i].getFuelGauge().getGallons() == 0) { // check if any of cars have run out of gas, update allCarsHaveGas to false\n                allCarsHaveGas = false;\n                }\n            }\n        }\n        \n        // display the car details at the end of simulation\n        System.out.println(&quot;Cars at end of simulation&quot;);\n        printCars(cars);\n        // loop to display the first car that ran out of gas\n        for(int i = 0; i &lt; cars.length; i++) {\n            if(cars[i].getFuelGauge().getGallons() == 0) {\n                System.out.println(&quot;\\n&quot;+cars[i].getOwner()+&quot;'s car ran out of has after &quot;+ milesTraveled +&quot; miles&quot;);\n                break;\n            }\n        }\n    }\n\n    // method to set up the cars for the simulation based on the given information\n    public static void setUpCars(Car[] cars) {\n        \n        cars[0] = new Car(&quot;Shrek&quot;, &quot;Toyota Tundra&quot;, 15, 6, 20000);\n        cars[1] = new Car(&quot;Fiona&quot;, &quot;Audi Q7&quot;, 21, 10, 8270);\n        cars[2] = new Car(&quot;Donkey&quot;, &quot;Jeep CJ5&quot;, 14, 5, 11800);\n        cars[3] = new Car(&quot;Farquaad&quot;, &quot;Smart Car&quot;, 42, 4, 710);\n        cars[4] = new Car(&quot;Dragon&quot;, &quot;Chevy Suburban&quot;, 12, 30, 10800);\n    }\n    \n    // method to display the details of the car in the array\n    public static void printCars(Car[] cars) {\n        System.out.println(&quot;----------------------------------------------------------------------------------------&quot;);\n        System.out.printf(&quot;%-20s%-20s%20s%20s\\n&quot;,&quot;Owner&quot;,&quot;Brand&quot;,&quot;MPG&quot;,&quot;Current Gallons&quot;, &quot;Mileage&quot;);\n        System.out.println(&quot;----------------------------------------------------------------------------------------&quot;);\n        for(int i=0;i&lt;cars.length;i++)\n        System.out.printf(&quot;%-20s%-20s%20.2f%20.2f\\n&quot;,cars[i].getOwner(),cars[i].getBrand(),cars[i].getFuelEconomy(),cars[i].getFuelGauge().getGallons(), cars[i].getMileage());\n        System.out.println();\n    }\n    \n    // method to display the details of cars in the array to file\n    public static void writeCarDetailsToFile(Car[] cars) throws IOException {\n        // setup the file reference variable to refer to the text file\n        File filename = new File(&quot;Assignment11.txt&quot;);\n        \n        // Create the file that the cars will be written to\n        PrintWriter resultsFile = new PrintWriter(filename);\n        \n        // Write the details for each car to the file\n        for(int i=0;i&lt;cars.length;i++) {\n            resultsFile.println(cars[i].getOwner());\n            resultsFile.println(cars[i].getBrand());\n            resultsFile.println(cars[i].getFuelEconomy());\n            resultsFile.println(cars[i].getFuelGauge().getGallons());\n        }\n        \n        resultsFile.close();\n    }\n} \n    \n\nclass Car {\n\n    // attributes\n    private String owner;\n    private String brand;\n    private double milesPerGallon;\n    private FuelGauge fuelGauge;\n    private double mileage;\n    \n    // constructor to initialize fields to specified values\n    public Car(String owner, String brand, double milesPerGallon, double gallons, double mileage) {\n        this.owner = owner;\n        this.brand = brand;\n        this.milesPerGallon = milesPerGallon;\n        fuelGauge = new FuelGauge();\n        fuelGauge.setGallons(gallons);\n        this.mileage = mileage;\n    }\n    \n    // getters\n    public String getOwner() {\n        return owner;\n    }\n    \n    public String getBrand() {\n        return brand;\n    }\n    \n    public double getFuelEconomy() {\n        return milesPerGallon;\n    }\n    \n    public FuelGauge getFuelGauge() {\n        return fuelGauge;\n    }\n    \n    public double getMileage() {\n        return mileage;\n    }\n    \n    // update the fuel of the car based on the miles traveled\n    public void updateFuel(double milesTraveled) {\n        \n        double gallonsUsed = milesTraveled/milesPerGallon; // compute the gallons used for traveling milesTraveled\n        fuelGauge.decrementGallons(gallonsUsed); // decrement the gallons used\n    }\n    \n} \n\n\nclass FuelGauge {\n\n    // attribute\n    private double gallons;\n    \n    // default constructor that initialize gallons to 0\n    public FuelGauge() {\n        \n    }\n    \n    \n    // setter\n    public void setGallons(double gallons) {\n        \n        this.gallons = gallons;\n    }\n        \n    // getter\n    public double getGallons() {\n        return gallons;\n    }\n    \n    // method to decrement the gallons by gallons used\n    public void decrementGallons(double gallonsUsed) {\n        if(gallonsUsed &lt;= gallons) { // gallonsUsed &lt;= gallons, decrement gallonsUsed from gallons\n            gallons -= gallonsUsed;\n        } else // gallonsUsed &gt; gallons, set gallons to 0\n            gallons = 0;\n    }\n    \n} \n    \n</code></pre>\n"},{"tags":["java","android","android-listview","retrofit2","android-notifications"],"comments":[{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1669114120,"post_id":74529353,"comment_id":131565089,"body_markdown":"i think i have to count results size from the server even it&#39;s not displyed in the listview like result.items.data.size() or result.items.data.count ?????. then if the results go ++, then the notification is displayed. What do you guys think about using a loop ( for .....) ?","body":"i think i have to count results size from the server even it&#39;s not displyed in the listview like result.items.data.size() or result.items.data.count ?????. then if the results go ++, then the notification is displayed. What do you guys think about using a loop ( for .....) ?"}],"answers":[{"comments":[{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1669119727,"post_id":74531776,"comment_id":131566946,"body_markdown":"what if i use result.items.data.size() rather than adapter.getCount() in for loop ?","body":"what if i use result.items.data.size() rather than adapter.getCount() in for loop ?"},{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1669183316,"post_id":74531776,"comment_id":131583960,"body_markdown":"Will it matter? No. If you need to create a single notification for new data availability then you can just compare the newly fetched data i.e retrofit API data with adapter data, using id or some distinct attribute.","body":"Will it matter? No. If you need to create a single notification for new data availability then you can just compare the newly fetched data i.e retrofit API data with adapter data, using id or some distinct attribute."},{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1669183538,"post_id":74531776,"comment_id":131584011,"body_markdown":"@LeyoussiLauriel please join the room, I will be able to assist you better https://chat.stackoverflow.com/rooms/249822/android-adapter-notification","body":"@LeyoussiLauriel please join the room, I will be able to assist you better <a href=\"https://chat.stackoverflow.com/rooms/249822/android-adapter-notification\">chat.stackoverflow.com/rooms/249822/&hellip;</a>"},{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1669192212,"post_id":74531776,"comment_id":131586086,"body_markdown":"ok thank you. i am getting the room.","body":"ok thank you. i am getting the room."},{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1669194389,"post_id":74531776,"comment_id":131586775,"body_markdown":"i can&#39;t get the chat room because reputation problem.","body":"i can&#39;t get the chat room because reputation problem."},{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1669197088,"post_id":74531776,"comment_id":131587749,"body_markdown":"Ooops. Can we get on a google meet call? Please schedule a meeting before 9 PM IST. I will be happy to help :) \nEmail id is in my profile https://stackoverflow.com/users/2070800/hardik9850?tab=profile","body":"Ooops. Can we get on a google meet call? Please schedule a meeting before 9 PM IST. I will be happy to help :)  Email id is in my profile <a href=\"https://stackoverflow.com/users/2070800/hardik9850?tab=profile\">stackoverflow.com/users/2070800/hardik9850?tab=profile</a>"},{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1669197998,"post_id":74531776,"comment_id":131588081,"body_markdown":"yes we cal get on google meet call.  marileonce@gmail.com. I sent you a mail","body":"yes we cal get on google meet call.  marileonce@gmail.com. I sent you a mail"},{"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"score":0,"creation_date":1669379435,"post_id":74531776,"comment_id":131634128,"body_markdown":"Thank you @hardik9580. you found the solutions, thank you again.","body":"Thank you @hardik9580. you found the solutions, thank you again."},{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1669531933,"post_id":74531776,"comment_id":131659311,"body_markdown":"Glad I could be of help :)","body":"Glad I could be of help :)"},{"owner":{"account_id":19223398,"reputation":200,"user_id":14046751,"display_name":"android dev"},"score":0,"creation_date":1690549560,"post_id":74531776,"comment_id":135373267,"body_markdown":"hi @hardik9850 could u please help me out here -&gt; https://stackoverflow.com/questions/76786965/facing-issue-while-validating-amongst-the-edittexts-in-recyclerview","body":"hi @hardik9850 could u please help me out here -&gt; <a href=\"https://stackoverflow.com/questions/76786965/facing-issue-while-validating-amongst-the-edittexts-in-recyclerview\" title=\"facing issue while validating amongst the edittexts in recyclerview\">stackoverflow.com/questions/76786965/&hellip;</a>"},{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":0,"creation_date":1690799628,"post_id":74531776,"comment_id":135398437,"body_markdown":"Hi @androiddev, sure","body":"Hi @androiddev, sure"}],"tags":[],"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669115854,"creation_date":1669115854,"answer_id":74531776,"question_id":74529353,"body_markdown":"I didn&#39;t understand the requirement clearly, but I can see that you are creating notifications in for loop which iterates for adapter.getCount times. You might want to move it outside of the for loop.\r\n\r\n","title":"How to make notification OnItemchange when a new item is displayed in the list","body":"<p>I didn't understand the requirement clearly, but I can see that you are creating notifications in for loop which iterates for adapter.getCount times. You might want to move it outside of the for loop.</p>\n"}],"owner":{"account_id":20655059,"reputation":15,"user_id":20477244,"display_name":"Leyoussi Lauriel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74531776,"answer_count":1,"score":1,"last_activity_date":1669123526,"creation_date":1669104714,"question_id":74529353,"body_markdown":"i made an app using java and retrofit2 to fetch datas from the server.My listview can only display 30 item. when a new item is displayed in the listView the last one is removed automatically and the new one is displayed on that listview. \r\nmy Event model :\r\n\r\n    public class Event {\r\n        public int id, user_id, device_id, position_id, alert_id;\r\n        // geofence_id\r\n        public String message;\r\n        public String address;\r\n        public float altitude;\r\n        // course\r\n        public float latitude, longitude;\r\n        // power\r\n        public float speed;\r\n        public String time;\r\n        // deleted\r\n    \r\n        public String device_name, geofence_name;\r\n    }\r\n\r\nmy Event Activity:\r\n\r\n    public class EventsActivity extends AppCompatActivity\r\n    {\r\n        @Bind(R.id.back) View back;\r\n        @Bind(R.id.list) ListView list;\r\n        @Bind(R.id.clearAllEvents) View clearAllEvents;\r\n        @Bind(R.id.content_layout) View content_layout;\r\n        @Bind(R.id.loading_layout) View loading_layout;\r\n        @Bind(R.id.nodata_layout) View nodata_layout;\r\n        @Bind(R.id.search) View search;\r\n        String searchtext;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_events);\r\n            ButterKnife.bind(this);\r\n    \r\n            final String api_key = (String) DataSaver.getInstance(EventsActivity.this).load(&quot;api_key&quot;);\r\n            final EventsAdapter adapter = new EventsAdapter(this);\r\n            list.setAdapter(adapter);\r\n    \r\n            loading_layout.setVisibility(View.VISIBLE);\r\n            API.getApiInterface(this).getEvents(api_key, getResources().getString(R.string.lang), 0, new Callback&lt;ApiInterface.GetEventsResult&gt;() {\r\n                @Override\r\n                public void success(ApiInterface.GetEventsResult result, Response response)\r\n                {\r\n                    adapter.setArray(result.items.data);\r\n    \r\n                    loading_layout.setVisibility(View.GONE);\r\n                    if(result.items.data.size() != 0)\r\n                        content_layout.setVisibility(View.VISIBLE);\r\n                    else\r\n                        nodata_layout.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n                @Override\r\n                public void failure(RetrofitError retrofitError) {\r\n                    Toast.makeText(EventsActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nmy EventAdapter :\r\n\r\n    public class EventsAdapter extends AwesomeAdapter&lt;Event&gt; {\r\n        public EventsAdapter(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        ArrayList&lt;Event&gt; original;\r\n        @Override\r\n        public void setArray(ArrayList&lt;Event&gt; array) {\r\n            super.setArray(array);\r\n            if(original == null)\r\n                original = array;\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            if(convertView == null)\r\n                convertView = getLayoutInflater().inflate(R.layout.adapter_events, null);\r\n    \r\n            Event item = getItem(position);\r\n            TextView device_name = (TextView) convertView.findViewById(R.id.device_name);\r\n            device_name.setText(item.device_name);\r\n            TextView date = (TextView) convertView.findViewById(R.id.date);\r\n            date.setText(item.time);\r\n            TextView message = (TextView) convertView.findViewById(R.id.message);\r\n            message.setText(item.message);\r\n            TextView geofence_name = (TextView) convertView.findViewById(R.id.geofence_name);\r\n            geofence_name.setText(item.geofence_name);\r\n    \r\n            return convertView;\r\n        }\r\n    \r\n    }\r\n\r\nThe problem is i would like to make a local notification when the new item is added in the server i can get a notification of the displayed item on the listview. i have tried to make something it&#39;s working but when starting my activity, the notifications don&#39;t stop coming. i don&#39;t know why, here is my example :\r\n\r\n    API.getApiInterface(this).getEvents(api_key, getResources().getString(R.string.lang), 0, new Callback&lt;ApiInterface.GetEventsResult&gt;() {\r\n                @SuppressLint(&quot;SetTextI18n&quot;)\r\n                @Override\r\n                public void success(ApiInterface.GetEventsResult result, Response response)\r\n                {\r\n                    adapter.setArray(result.items.data);\r\n                    if(result.items.data.size() != 0) {\r\n                        layout_evennements.setVisibility(View.VISIBLE);\r\n                        text_count.setText(&quot;Evennements recu:&quot; + listview_evennements.getAdapter().getCount());\r\n                        //to upload all list one to one together.\r\n                        for(int i = result.items.data.size(); i &lt;= result.items.data.size(); i++) {\r\n                                    int notificationId = new Random().nextInt(100);\r\n                                    String channelId = &quot;notification_channel_1&quot;;\r\n                                     Event item = new Event();\r\n                                    NotificationManager notificationManager =  (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n                                   if(i &gt; result.items.data.size()){\r\n                                       Intent intent = new Intent(MapActivity.this, EventActivity.class);\r\n                                       intent.putExtra(&quot;event&quot;, new Gson().toJson(listview_evennements.getItemAtPosition(0)));\r\n                                       startActivity(intent);\r\n                                       getIntent().addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                       @SuppressLint(&quot;UnspecifiedImmutableFlag&quot;) PendingIntent pendingIntent = PendingIntent.getActivity(getApplicationContext(),\r\n                                               0, intent,PendingIntent.FLAG_UPDATE_CURRENT);\r\n                                       NotificationCompat.Builder builder = new NotificationCompat.Builder(\r\n                                               getApplicationContext(), channelId\r\n                                       );\r\n    \r\n                                       builder.setSmallIcon(R.drawable.ic_notification_original);\r\n                                       builder.setDefaults(NotificationCompat.DEFAULT_ALL);\r\n                                       builder.setContentTitle(&quot;GPSTrackr&quot;);\r\n                                       builder.setContentText(&quot;Evenement&quot; + item.device_name);\r\n                                       builder.setContentIntent(pendingIntent);\r\n                                       builder.setAutoCancel(true);\r\n                                       builder.setPriority(NotificationCompat.PRIORITY_MAX);\r\n                                       if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\r\n                                           if(notificationManager != null &amp;&amp; notificationManager.getNotificationChannel(channelId) ==null){\r\n                                               NotificationChannel notificationChannel = new NotificationChannel(\r\n                                                       channelId, &quot;Notification channel 1&quot;, NotificationManager.IMPORTANCE_HIGH\r\n                                               );\r\n                                               notificationChannel.setDescription(&quot;Notificatoins evenements&quot;);\r\n                                               notificationChannel.enableLights(true);\r\n                                               notificationChannel.enableVibration(true);\r\n                                               notificationManager.createNotificationChannel(notificationChannel);\r\n                                           }\r\n                                       }\r\n                                       Notification notification = builder.build();\r\n                                       if (notificationManager != null) {\r\n                                           notificationManager.notify(notificationId, notification);\r\n                                       }\r\n                                   }else if(i == result.items.data.size()){\r\n                                       MotionToast.Companion.darkColorToast(MapActivity.this, &quot;Aucune Notification&quot;,\r\n                                               MotionToast.TOAST_INFO,\r\n                                               MotionToast.GRAVITY_CENTER,\r\n                                               MotionToast.SHORT_DURATION,\r\n                                               ResourcesCompat.getFont(MapActivity.this, R.font.helveticacompressed5871d14b6903a));\r\n                                   }\r\n                        }\r\n                    }else {\r\n                        rien_a_voir.setVisibility(View.VISIBLE);\r\n                    }\r\n                }\r\n                @Override\r\n                public void failure(RetrofitError retrofitError) {\r\n                    rien_a_voir.setVisibility(View.VISIBLE);\r\n                    layout_evennements.setVisibility(View.GONE);\r\n                }\r\n            });\r\n    \r\nmy APIInterface:\r\n\r\n    @GET(&quot;/get_events&quot;)\r\n        void getEvents(@Query(&quot;user_api_hash&quot;) String user_api_hash, @Query(&quot;lang&quot;) String lang, @Query(&quot;page&quot;) int page, Callback&lt;GetEventsResult&gt; cb);\r\n    \r\n        public static class GetEventsResult\r\n        {\r\n            public int status;\r\n            public GetEventsResultItems items;\r\n    \r\n            public class GetEventsResultItems\r\n            {\r\n                public int total, per_page, current_page, last_page, from, to;\r\n                public ArrayList&lt;Event&gt; data;\r\n            }\r\n    \r\n        }\r\n\r\nif you have any solution please i need you help. thank you in advance.\r\n","title":"How to make notification OnItemchange when a new item is displayed in the list","body":"<p>i made an app using java and retrofit2 to fetch datas from the server.My listview can only display 30 item. when a new item is displayed in the listView the last one is removed automatically and the new one is displayed on that listview.\nmy Event model :</p>\n<pre><code>public class Event {\n    public int id, user_id, device_id, position_id, alert_id;\n    // geofence_id\n    public String message;\n    public String address;\n    public float altitude;\n    // course\n    public float latitude, longitude;\n    // power\n    public float speed;\n    public String time;\n    // deleted\n\n    public String device_name, geofence_name;\n}\n</code></pre>\n<p>my Event Activity:</p>\n<pre><code>public class EventsActivity extends AppCompatActivity\n{\n    @Bind(R.id.back) View back;\n    @Bind(R.id.list) ListView list;\n    @Bind(R.id.clearAllEvents) View clearAllEvents;\n    @Bind(R.id.content_layout) View content_layout;\n    @Bind(R.id.loading_layout) View loading_layout;\n    @Bind(R.id.nodata_layout) View nodata_layout;\n    @Bind(R.id.search) View search;\n    String searchtext;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_events);\n        ButterKnife.bind(this);\n\n        final String api_key = (String) DataSaver.getInstance(EventsActivity.this).load(&quot;api_key&quot;);\n        final EventsAdapter adapter = new EventsAdapter(this);\n        list.setAdapter(adapter);\n\n        loading_layout.setVisibility(View.VISIBLE);\n        API.getApiInterface(this).getEvents(api_key, getResources().getString(R.string.lang), 0, new Callback&lt;ApiInterface.GetEventsResult&gt;() {\n            @Override\n            public void success(ApiInterface.GetEventsResult result, Response response)\n            {\n                adapter.setArray(result.items.data);\n\n                loading_layout.setVisibility(View.GONE);\n                if(result.items.data.size() != 0)\n                    content_layout.setVisibility(View.VISIBLE);\n                else\n                    nodata_layout.setVisibility(View.VISIBLE);\n            }\n\n            @Override\n            public void failure(RetrofitError retrofitError) {\n                Toast.makeText(EventsActivity.this, R.string.errorHappened, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>my EventAdapter :</p>\n<pre><code>public class EventsAdapter extends AwesomeAdapter&lt;Event&gt; {\n    public EventsAdapter(Context context) {\n        super(context);\n    }\n\n    ArrayList&lt;Event&gt; original;\n    @Override\n    public void setArray(ArrayList&lt;Event&gt; array) {\n        super.setArray(array);\n        if(original == null)\n            original = array;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        if(convertView == null)\n            convertView = getLayoutInflater().inflate(R.layout.adapter_events, null);\n\n        Event item = getItem(position);\n        TextView device_name = (TextView) convertView.findViewById(R.id.device_name);\n        device_name.setText(item.device_name);\n        TextView date = (TextView) convertView.findViewById(R.id.date);\n        date.setText(item.time);\n        TextView message = (TextView) convertView.findViewById(R.id.message);\n        message.setText(item.message);\n        TextView geofence_name = (TextView) convertView.findViewById(R.id.geofence_name);\n        geofence_name.setText(item.geofence_name);\n\n        return convertView;\n    }\n\n}\n</code></pre>\n<p>The problem is i would like to make a local notification when the new item is added in the server i can get a notification of the displayed item on the listview. i have tried to make something it's working but when starting my activity, the notifications don't stop coming. i don't know why, here is my example :</p>\n<pre><code>API.getApiInterface(this).getEvents(api_key, getResources().getString(R.string.lang), 0, new Callback&lt;ApiInterface.GetEventsResult&gt;() {\n            @SuppressLint(&quot;SetTextI18n&quot;)\n            @Override\n            public void success(ApiInterface.GetEventsResult result, Response response)\n            {\n                adapter.setArray(result.items.data);\n                if(result.items.data.size() != 0) {\n                    layout_evennements.setVisibility(View.VISIBLE);\n                    text_count.setText(&quot;Evennements recu:&quot; + listview_evennements.getAdapter().getCount());\n                    //to upload all list one to one together.\n                    for(int i = result.items.data.size(); i &lt;= result.items.data.size(); i++) {\n                                int notificationId = new Random().nextInt(100);\n                                String channelId = &quot;notification_channel_1&quot;;\n                                 Event item = new Event();\n                                NotificationManager notificationManager =  (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n                               if(i &gt; result.items.data.size()){\n                                   Intent intent = new Intent(MapActivity.this, EventActivity.class);\n                                   intent.putExtra(&quot;event&quot;, new Gson().toJson(listview_evennements.getItemAtPosition(0)));\n                                   startActivity(intent);\n                                   getIntent().addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                                   @SuppressLint(&quot;UnspecifiedImmutableFlag&quot;) PendingIntent pendingIntent = PendingIntent.getActivity(getApplicationContext(),\n                                           0, intent,PendingIntent.FLAG_UPDATE_CURRENT);\n                                   NotificationCompat.Builder builder = new NotificationCompat.Builder(\n                                           getApplicationContext(), channelId\n                                   );\n\n                                   builder.setSmallIcon(R.drawable.ic_notification_original);\n                                   builder.setDefaults(NotificationCompat.DEFAULT_ALL);\n                                   builder.setContentTitle(&quot;GPSTrackr&quot;);\n                                   builder.setContentText(&quot;Evenement&quot; + item.device_name);\n                                   builder.setContentIntent(pendingIntent);\n                                   builder.setAutoCancel(true);\n                                   builder.setPriority(NotificationCompat.PRIORITY_MAX);\n                                   if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n                                       if(notificationManager != null &amp;&amp; notificationManager.getNotificationChannel(channelId) ==null){\n                                           NotificationChannel notificationChannel = new NotificationChannel(\n                                                   channelId, &quot;Notification channel 1&quot;, NotificationManager.IMPORTANCE_HIGH\n                                           );\n                                           notificationChannel.setDescription(&quot;Notificatoins evenements&quot;);\n                                           notificationChannel.enableLights(true);\n                                           notificationChannel.enableVibration(true);\n                                           notificationManager.createNotificationChannel(notificationChannel);\n                                       }\n                                   }\n                                   Notification notification = builder.build();\n                                   if (notificationManager != null) {\n                                       notificationManager.notify(notificationId, notification);\n                                   }\n                               }else if(i == result.items.data.size()){\n                                   MotionToast.Companion.darkColorToast(MapActivity.this, &quot;Aucune Notification&quot;,\n                                           MotionToast.TOAST_INFO,\n                                           MotionToast.GRAVITY_CENTER,\n                                           MotionToast.SHORT_DURATION,\n                                           ResourcesCompat.getFont(MapActivity.this, R.font.helveticacompressed5871d14b6903a));\n                               }\n                    }\n                }else {\n                    rien_a_voir.setVisibility(View.VISIBLE);\n                }\n            }\n            @Override\n            public void failure(RetrofitError retrofitError) {\n                rien_a_voir.setVisibility(View.VISIBLE);\n                layout_evennements.setVisibility(View.GONE);\n            }\n        });\n</code></pre>\n<p>my APIInterface:</p>\n<pre><code>@GET(&quot;/get_events&quot;)\n    void getEvents(@Query(&quot;user_api_hash&quot;) String user_api_hash, @Query(&quot;lang&quot;) String lang, @Query(&quot;page&quot;) int page, Callback&lt;GetEventsResult&gt; cb);\n\n    public static class GetEventsResult\n    {\n        public int status;\n        public GetEventsResultItems items;\n\n        public class GetEventsResultItems\n        {\n            public int total, per_page, current_page, last_page, from, to;\n            public ArrayList&lt;Event&gt; data;\n        }\n\n    }\n</code></pre>\n<p>if you have any solution please i need you help. thank you in advance.</p>\n"},{"tags":["java","spring","mongodb","docker"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":1,"creation_date":1669122415,"post_id":74532982,"comment_id":131567915,"body_markdown":"I think is related more to the keep alive than the timeout. [Check this](https://stackoverflow.com/questions/65153899/how-to-set-keepalive-in-node-js-mongo-dboutbound-connection#:~:text=For%20implementing%20a%20keep%20alive,keepAlive%20on%20the%20TCP%20socket.)","body":"I think is related more to the keep alive than the timeout. <a href=\"https://stackoverflow.com/questions/65153899/how-to-set-keepalive-in-node-js-mongo-dboutbound-connection#:~:text=For%20implementing%20a%20keep%20alive,keepAlive%20on%20the%20TCP%20socket.\">Check this</a>"},{"owner":{"account_id":9888738,"reputation":35,"user_id":7322466,"display_name":"RoyalSausage"},"score":0,"creation_date":1669123681,"post_id":74532982,"comment_id":131568378,"body_markdown":"I&#39;ve set it now, I&#39;ll have to monitor this over the next 24 hours to see if the issue pops up again. Thank you!","body":"I&#39;ve set it now, I&#39;ll have to monitor this over the next 24 hours to see if the issue pops up again. Thank you!"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1669124129,"post_id":74532982,"comment_id":131568550,"body_markdown":"Sure thing. let me know how it goes. Also, I&#39;d suggest you to set the timeout to lower values","body":"Sure thing. let me know how it goes. Also, I&#39;d suggest you to set the timeout to lower values"}],"owner":{"account_id":9888738,"reputation":35,"user_id":7322466,"display_name":"RoyalSausage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669123498,"creation_date":1669121822,"question_id":74532982,"body_markdown":"I&#39;m using mongoDB(5.0.0) in a docker container with a spring backend, timeout set to 72 hours.\r\nWhen I try to do a save I will get the following error ONCE:\r\n\r\n```\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-11-22T12:16:46.986+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn477&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;10.0.17.9:53868&quot;,&quot;uuid&quot;:&quot;a5fb01f8-d7ba-42d1-bf37-d8d46207cd05&quot;,&quot;connectionId&quot;:477,&quot;connectionCount&quot;:2}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-11-22T12:16:46.985+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;-&quot;,        &quot;id&quot;:20883,   &quot;ctx&quot;:&quot;conn485&quot;,&quot;msg&quot;:&quot;Interrupted operation as its client disconnected&quot;,&quot;attr&quot;:{&quot;opId&quot;:35811620}}\r\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-11-22T12:16:46.985+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn485&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;10.0.17.9:55974&quot;,&quot;uuid&quot;:&quot;34870a6d-7017-4239-adaa-b4e17b87f814&quot;,&quot;connectionId&quot;:485,&quot;connectionCount&quot;:3}}\r\n```\r\n\r\nAfterwards I am able to continue as expected, save works and no errors until I leave it alone for a while and try again later, then I get the same error pop up. \r\n\r\nThis is our connection string: mongodb://&lt;username&gt;:&lt;password&gt;:27017/&lt;db name&gt;?serverSelectionTimeoutMS=2000&amp;connectTimeoutMS=2000&amp;maxIdleTimeMS=259200000\r\n\r\nAnything I&#39;m forgetting? Thanks! \r\n\r\n\r\n\r\n\r\n\r\n- Tried to increase timeout\r\n- Tried to move mongoDB in its own docker container","title":"First connection to MongoDB always fails","body":"<p>I'm using mongoDB(5.0.0) in a docker container with a spring backend, timeout set to 72 hours.\nWhen I try to do a save I will get the following error ONCE:</p>\n<pre><code>{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-11-22T12:16:46.986+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn477&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;10.0.17.9:53868&quot;,&quot;uuid&quot;:&quot;a5fb01f8-d7ba-42d1-bf37-d8d46207cd05&quot;,&quot;connectionId&quot;:477,&quot;connectionCount&quot;:2}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-11-22T12:16:46.985+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;-&quot;,        &quot;id&quot;:20883,   &quot;ctx&quot;:&quot;conn485&quot;,&quot;msg&quot;:&quot;Interrupted operation as its client disconnected&quot;,&quot;attr&quot;:{&quot;opId&quot;:35811620}}\n{&quot;t&quot;:{&quot;$date&quot;:&quot;2022-11-22T12:16:46.985+00:00&quot;},&quot;s&quot;:&quot;I&quot;,  &quot;c&quot;:&quot;NETWORK&quot;,  &quot;id&quot;:22944,   &quot;ctx&quot;:&quot;conn485&quot;,&quot;msg&quot;:&quot;Connection ended&quot;,&quot;attr&quot;:{&quot;remote&quot;:&quot;10.0.17.9:55974&quot;,&quot;uuid&quot;:&quot;34870a6d-7017-4239-adaa-b4e17b87f814&quot;,&quot;connectionId&quot;:485,&quot;connectionCount&quot;:3}}\n</code></pre>\n<p>Afterwards I am able to continue as expected, save works and no errors until I leave it alone for a while and try again later, then I get the same error pop up.</p>\n<p>This is our connection string: mongodb://::27017/?serverSelectionTimeoutMS=2000&amp;connectTimeoutMS=2000&amp;maxIdleTimeMS=259200000</p>\n<p>Anything I'm forgetting? Thanks!</p>\n<ul>\n<li>Tried to increase timeout</li>\n<li>Tried to move mongoDB in its own docker container</li>\n</ul>\n"},{"tags":["java","runtime-error","minecraft"],"comments":[{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1668974488,"post_id":74506965,"comment_id":131530929,"body_markdown":"Does it work if you temporarily get rid of OptiFine? If so, then you&#39;ll need to contact its authors for support.","body":"Does it work if you temporarily get rid of OptiFine? If so, then you&#39;ll need to contact its authors for support."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1669123733,"post_id":74506965,"comment_id":131568396,"body_markdown":"I fail to see how this is a Programming question. It seems to be purely about using an existing piece of software (and as such probably fits better on [SU]).","body":"I fail to see how this is a Programming question. It seems to be purely about using an existing piece of software (and as such probably fits better on <a href=\"https://superuser.com\">Super User</a>)."}],"owner":{"account_id":26990510,"reputation":1,"user_id":20553477,"display_name":"Pika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669123027,"creation_date":1668936811,"question_id":74506965,"body_markdown":"First, my problem was that the launcher set a wrong `/.minecraft/` directory as default and as expected there were none of the files that the process was expecting to find, so I selected the correct one and the problem didn&#39;t show any more.\r\n\r\nThen this error showed up and I don&#39;t know how to fix it. I read some forums about this, but I already checked if my mods folder was duplicated or if there was any mod that the process wasn&#39;t expecting, but the folder is empty as I don&#39;t use any.\r\n\r\nI use Optifine intended as a modified version of the game and not a mod. \r\n\r\nSee the error log below for more information:\r\n\r\n```log\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:14] [INFO] Load completed.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Starting launch sequence.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Java runtime is already downloaded, continuing with launch.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Downloading and verifying dependencies.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Found matching version for: FORGE-1.8.9!\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Downloading java runtime.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Executable path: /home/pika/.tecknixsoftware/tecknixclient/runtimes/jre-8u51/bin/java!\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Downloading and verifying natives.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Everything is valid and game is ready to launch!\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Building arguments.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Arguments have been set, ready to launch game.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Due to the operating system we ran chmod on the java executable.\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:06] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.FMLTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Using primary tweak class name net.minecraftforge.fml.common.launcher.FMLTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Loading tweak class name optifine.OptiFineForgeTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Loading tweak class name com.tecknix.v1_8.injection.tweaker.TecknixTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Forge Mod Loader version 11.15.1.2318 for Minecraft 1.8.9 loading\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Java is Java HotSpot(TM) 64-Bit Server VM, version 1.8.0_51, running on Linux:amd64:5.15.0-52-generic, installed at /home/pika/.tecknixsoftware/tecknixclient/runtimes/jre-8u51\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Calling tweak class optifine.OptiFineForgeTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineForgeTweaker:dbg:56]: OptiFineForgeTweaker: acceptOptions\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineForgeTweaker:dbg:56]: OptiFineForgeTweaker: injectIntoClassLoader\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineClassTransformer:dbg:242]: OptiFine ClassTransformer\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineClassTransformer:dbg:242]: OptiFine ZIP file: /home/pika/.tecknixsoftware/tecknixclient/versions/FORGE-1.8.9/dependencies/OptiFine_1.8.9_HD_U_M5.jar\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Calling tweak class com.tecknix.v1_8.injection.tweaker.TecknixTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.FMLInjectionAndSortingTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.FMLDeobfTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLInjectionAndSortingTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLInjectionAndSortingTweaker\r\n[10:17:08] [main/INFO]: Calling tweak class net.minecraftforge.fml.relauncher.CoreModManager$FMLPluginWrapper\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:11] [main/INFO]: Found valid fingerprint for Minecraft Forge. Certificate fingerprint e3c3d50c7c986df74c645c0ac54639741c90a557\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:13] [main/INFO]: Found valid fingerprint for Minecraft. Certificate fingerprint cd99959656f753dc28d863b46769f7f8fbaefcfc\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:13] [main/INFO]: Calling tweak class net.minecraftforge.fml.relauncher.CoreModManager$FMLPluginWrapper\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:13] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLDeobfTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.TerminalTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.TerminalTweaker\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: [optifine.OptiFineForgeTweaker:dbg:56]: OptiFineForgeTweaker: getLaunchArguments\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: Launching wrapped minecraft {net.minecraft.client.main.Main}\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:19] [main/INFO]: [net.minecraft.client.main.Main:main:57]: Completely ignored arguments: [mojang, ]\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/INFO]: Setting user: TecknixLaunch\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/ERROR]: Unable to launch\r\njava.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_51]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_51]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_51]\r\n\tat java.lang.reflect.Method.invoke(Method.java:497) ~[?:1.8.0_51]\r\n\tat net.minecraft.launchwrapper.Launch.launch(Launch.java:159) [launchwrapper-of-2.2.jar:2.2]\r\n\tat net.minecraft.launchwrapper.Launch.main(Launch.java:30) [launchwrapper-of-2.2.jar:2.2]\r\nCaused by: java.lang.NoClassDefFoundError: net/minecraftforge/fml/common/registry/RegistryDelegate\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.createRegistry(PersistentRegistryManager.java:85) ~[PersistentRegistryManager$PersistentRegistry.class:?]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.access$000(PersistentRegistryManager.java:46) ~[PersistentRegistryManager$PersistentRegistry.class:?]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager.createRegistry(PersistentRegistryManager.java:135) ~[PersistentRegistryManager.class:?]\r\n\tat net.minecraftforge.fml.common.registry.GameData.&lt;init&gt;(GameData.java:114) ~[GameData.class:?]\r\n\tat net.minecraftforge.fml.common.registry.GameData.&lt;clinit&gt;(GameData.java:40) ~[GameData.class:?]\r\n\tat net.minecraft.block.Block.&lt;clinit&gt;(Block.java:41) ~[afh.class:?]\r\n\tat net.minecraft.init.Bootstrap.func_151354_b(Bootstrap.java:512) ~[kb.class:?]\r\n\tat net.minecraft.client.Minecraft.&lt;init&gt;(Minecraft.java:320) ~[ave.class:?]\r\n\tat net.minecraft.client.main.Main.main(SourceFile:124) ~[Main.class:?]\r\n\t... 6 more\r\nCaused by: java.lang.ClassNotFoundException: net.minecraftforge.fml.common.registry.RegistryDelegate\r\n\tat net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:186) ~[launchwrapper-of-2.2.jar:2.2]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_51]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_51]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.createRegistry(PersistentRegistryManager.java:85) ~[PersistentRegistryManager$PersistentRegistry.class:?]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.access$000(PersistentRegistryManager.java:46) ~[PersistentRegistryManager$PersistentRegistry.class:?]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager.createRegistry(PersistentRegistryManager.java:135) ~[PersistentRegistryManager.class:?]\r\n\tat net.minecraftforge.fml.common.registry.GameData.&lt;init&gt;(GameData.java:114) ~[GameData.class:?]\r\n\tat net.minecraftforge.fml.common.registry.GameData.&lt;clinit&gt;(GameData.java:40) ~[GameData.class:?]\r\n\tat net.minecraft.block.Block.&lt;clinit&gt;(Block.java:41) ~[afh.class:?]\r\n\tat net.minecraft.init.Bootstrap.func_151354_b(Bootstrap.java:512) ~[kb.class:?]\r\n\tat net.minecraft.client.Minecraft.&lt;init&gt;(Minecraft.java:320) ~[ave.class:?]\r\n\tat net.minecraft.client.main.Main.main(SourceFile:124) ~[Main.class:?]\r\n\t... 6 more\r\nCaused by: java.lang.SecurityException: class &quot;net.minecraftforge.fml.common.registry.RegistryDelegate&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\tat java.lang.ClassLoader.checkCerts(ClassLoader.java:895) ~[?:1.8.0_51]\r\n\tat java.lang.ClassLoader.preDefineClass(ClassLoader.java:665) ~[?:1.8.0_51]\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:758) ~[?:1.8.0_51]\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_51]\r\n\tat net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:177) ~[launchwrapper-of-2.2.jar:2.2]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_51]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_51]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.createRegistry(PersistentRegistryManager.java:85) ~[PersistentRegistryManager$PersistentRegistry.class:?]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.access$000(PersistentRegistryManager.java:46) ~[PersistentRegistryManager$PersistentRegistry.class:?]\r\n\tat net.minecraftforge.fml.common.registry.PersistentRegistryManager.createRegistry(PersistentRegistryManager.java:135) ~[PersistentRegistryManager.class:?]\r\n\tat net.minecraftforge.fml.common.registry.GameData.&lt;init&gt;(GameData.java:114) ~[GameData.class:?]\r\n\tat net.minecraftforge.fml.common.registry.GameData.&lt;clinit&gt;(GameData.java:40) ~[GameData.class:?]\r\n\tat net.minecraft.block.Block.&lt;clinit&gt;(Block.java:41) ~[afh.class:?]\r\n\tat net.minecraft.init.Bootstrap.func_151354_b(Bootstrap.java:512) ~[kb.class:?]\r\n\tat net.minecraft.client.Minecraft.&lt;init&gt;(Minecraft.java:320) ~[ave.class:?]\r\n\tat net.minecraft.client.main.Main.main(SourceFile:124) ~[Main.class:?]\r\n\t... 6 more\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Exception in thread &quot;Client thread&quot; \r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: net.minecraftforge.fml.relauncher.FMLSecurityManager$ExitTrappedException\r\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: \tat net.minecraftforge.fml.relauncher.FMLSecurityManager.checkPermission(FMLSecurityManager.java:30)\r\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: \tat java.lang.SecurityManager.checkExit(SecurityManager.java:761)\r\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: \tat java.lang.Runtime.exit(Runtime.java:107)\r\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: \tat java.lang.System.exit(System.java:971)\r\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: \tat net.minecraft.launchwrapper.Launch.launch(Launch.java:162)\r\n\r\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: \tat net.minecraft.launchwrapper.Launch.main(Launch.java:30)\r\n```","title":"Got a problem launching Minecraft on Tecknix Launcher from Zorin OS. How can I solve?","body":"<p>First, my problem was that the launcher set a wrong <code>/.minecraft/</code> directory as default and as expected there were none of the files that the process was expecting to find, so I selected the correct one and the problem didn't show any more.</p>\n<p>Then this error showed up and I don't know how to fix it. I read some forums about this, but I already checked if my mods folder was duplicated or if there was any mod that the process wasn't expecting, but the folder is empty as I don't use any.</p>\n<p>I use Optifine intended as a modified version of the game and not a mod.</p>\n<p>See the error log below for more information:</p>\n<pre><code>[TECKNIX-LAUNCHER] [2022-10-0 10:14] [INFO] Load completed.\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Starting launch sequence.\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Java runtime is already downloaded, continuing with launch.\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Downloading and verifying dependencies.\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Found matching version for: FORGE-1.8.9!\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Downloading java runtime.\n[TECKNIX-LAUNCHER] [2022-10-0 10:16] [INFO] Executable path: /home/pika/.tecknixsoftware/tecknixclient/runtimes/jre-8u51/bin/java!\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Downloading and verifying natives.\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Everything is valid and game is ready to launch!\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Building arguments.\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Arguments have been set, ready to launch game.\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Due to the operating system we ran chmod on the java executable.\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:06] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.FMLTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Using primary tweak class name net.minecraftforge.fml.common.launcher.FMLTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Loading tweak class name optifine.OptiFineForgeTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Loading tweak class name com.tecknix.v1_8.injection.tweaker.TecknixTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Forge Mod Loader version 11.15.1.2318 for Minecraft 1.8.9 loading\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Java is Java HotSpot(TM) 64-Bit Server VM, version 1.8.0_51, running on Linux:amd64:5.15.0-52-generic, installed at /home/pika/.tecknixsoftware/tecknixclient/runtimes/jre-8u51\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Calling tweak class optifine.OptiFineForgeTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineForgeTweaker:dbg:56]: OptiFineForgeTweaker: acceptOptions\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineForgeTweaker:dbg:56]: OptiFineForgeTweaker: injectIntoClassLoader\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineClassTransformer:dbg:242]: OptiFine ClassTransformer\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: [optifine.OptiFineClassTransformer:dbg:242]: OptiFine ZIP file: /home/pika/.tecknixsoftware/tecknixclient/versions/FORGE-1.8.9/dependencies/OptiFine_1.8.9_HD_U_M5.jar\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:07] [main/INFO]: Calling tweak class com.tecknix.v1_8.injection.tweaker.TecknixTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.FMLInjectionAndSortingTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.FMLDeobfTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLInjectionAndSortingTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:08] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLInjectionAndSortingTweaker\n[10:17:08] [main/INFO]: Calling tweak class net.minecraftforge.fml.relauncher.CoreModManager$FMLPluginWrapper\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:11] [main/INFO]: Found valid fingerprint for Minecraft Forge. Certificate fingerprint e3c3d50c7c986df74c645c0ac54639741c90a557\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:13] [main/INFO]: Found valid fingerprint for Minecraft. Certificate fingerprint cd99959656f753dc28d863b46769f7f8fbaefcfc\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:13] [main/INFO]: Calling tweak class net.minecraftforge.fml.relauncher.CoreModManager$FMLPluginWrapper\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:13] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.FMLDeobfTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: Loading tweak class name net.minecraftforge.fml.common.launcher.TerminalTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: Calling tweak class net.minecraftforge.fml.common.launcher.TerminalTweaker\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: [optifine.OptiFineForgeTweaker:dbg:56]: OptiFineForgeTweaker: getLaunchArguments\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:14] [main/INFO]: Launching wrapped minecraft {net.minecraft.client.main.Main}\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:19] [main/INFO]: [net.minecraft.client.main.Main:main:57]: Completely ignored arguments: [mojang, ]\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/INFO]: Setting user: TecknixLaunch\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/ERROR]: Unable to launch\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_51]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_51]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_51]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[?:1.8.0_51]\n    at net.minecraft.launchwrapper.Launch.launch(Launch.java:159) [launchwrapper-of-2.2.jar:2.2]\n    at net.minecraft.launchwrapper.Launch.main(Launch.java:30) [launchwrapper-of-2.2.jar:2.2]\nCaused by: java.lang.NoClassDefFoundError: net/minecraftforge/fml/common/registry/RegistryDelegate\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.createRegistry(PersistentRegistryManager.java:85) ~[PersistentRegistryManager$PersistentRegistry.class:?]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.access$000(PersistentRegistryManager.java:46) ~[PersistentRegistryManager$PersistentRegistry.class:?]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager.createRegistry(PersistentRegistryManager.java:135) ~[PersistentRegistryManager.class:?]\n    at net.minecraftforge.fml.common.registry.GameData.&lt;init&gt;(GameData.java:114) ~[GameData.class:?]\n    at net.minecraftforge.fml.common.registry.GameData.&lt;clinit&gt;(GameData.java:40) ~[GameData.class:?]\n    at net.minecraft.block.Block.&lt;clinit&gt;(Block.java:41) ~[afh.class:?]\n    at net.minecraft.init.Bootstrap.func_151354_b(Bootstrap.java:512) ~[kb.class:?]\n    at net.minecraft.client.Minecraft.&lt;init&gt;(Minecraft.java:320) ~[ave.class:?]\n    at net.minecraft.client.main.Main.main(SourceFile:124) ~[Main.class:?]\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: net.minecraftforge.fml.common.registry.RegistryDelegate\n    at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:186) ~[launchwrapper-of-2.2.jar:2.2]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_51]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_51]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.createRegistry(PersistentRegistryManager.java:85) ~[PersistentRegistryManager$PersistentRegistry.class:?]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.access$000(PersistentRegistryManager.java:46) ~[PersistentRegistryManager$PersistentRegistry.class:?]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager.createRegistry(PersistentRegistryManager.java:135) ~[PersistentRegistryManager.class:?]\n    at net.minecraftforge.fml.common.registry.GameData.&lt;init&gt;(GameData.java:114) ~[GameData.class:?]\n    at net.minecraftforge.fml.common.registry.GameData.&lt;clinit&gt;(GameData.java:40) ~[GameData.class:?]\n    at net.minecraft.block.Block.&lt;clinit&gt;(Block.java:41) ~[afh.class:?]\n    at net.minecraft.init.Bootstrap.func_151354_b(Bootstrap.java:512) ~[kb.class:?]\n    at net.minecraft.client.Minecraft.&lt;init&gt;(Minecraft.java:320) ~[ave.class:?]\n    at net.minecraft.client.main.Main.main(SourceFile:124) ~[Main.class:?]\n    ... 6 more\nCaused by: java.lang.SecurityException: class &quot;net.minecraftforge.fml.common.registry.RegistryDelegate&quot;'s signer information does not match signer information of other classes in the same package\n    at java.lang.ClassLoader.checkCerts(ClassLoader.java:895) ~[?:1.8.0_51]\n    at java.lang.ClassLoader.preDefineClass(ClassLoader.java:665) ~[?:1.8.0_51]\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:758) ~[?:1.8.0_51]\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142) ~[?:1.8.0_51]\n    at net.minecraft.launchwrapper.LaunchClassLoader.findClass(LaunchClassLoader.java:177) ~[launchwrapper-of-2.2.jar:2.2]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[?:1.8.0_51]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[?:1.8.0_51]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.createRegistry(PersistentRegistryManager.java:85) ~[PersistentRegistryManager$PersistentRegistry.class:?]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager$PersistentRegistry.access$000(PersistentRegistryManager.java:46) ~[PersistentRegistryManager$PersistentRegistry.class:?]\n    at net.minecraftforge.fml.common.registry.PersistentRegistryManager.createRegistry(PersistentRegistryManager.java:135) ~[PersistentRegistryManager.class:?]\n    at net.minecraftforge.fml.common.registry.GameData.&lt;init&gt;(GameData.java:114) ~[GameData.class:?]\n    at net.minecraftforge.fml.common.registry.GameData.&lt;clinit&gt;(GameData.java:40) ~[GameData.class:?]\n    at net.minecraft.block.Block.&lt;clinit&gt;(Block.java:41) ~[afh.class:?]\n    at net.minecraft.init.Bootstrap.func_151354_b(Bootstrap.java:512) ~[kb.class:?]\n    at net.minecraft.client.Minecraft.&lt;init&gt;(Minecraft.java:320) ~[ave.class:?]\n    at net.minecraft.client.main.Main.main(SourceFile:124) ~[Main.class:?]\n    ... 6 more\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] Exception in thread &quot;Client thread&quot; \n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]: net.minecraftforge.fml.relauncher.FMLSecurityManager$ExitTrappedException\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]:    at net.minecraftforge.fml.relauncher.FMLSecurityManager.checkPermission(FMLSecurityManager.java:30)\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]:    at java.lang.SecurityManager.checkExit(SecurityManager.java:761)\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]:    at java.lang.Runtime.exit(Runtime.java:107)\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]:    at java.lang.System.exit(System.java:971)\n[10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]:    at net.minecraft.launchwrapper.Launch.launch(Launch.java:162)\n\n[TECKNIX-LAUNCHER] [2022-10-0 10:17] [INFO] [10:17:20] [Client thread/INFO]: [java.lang.ThreadGroup:uncaughtException:1052]:    at net.minecraft.launchwrapper.Launch.main(Launch.java:30)\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-layout"],"answers":[{"comments":[{"owner":{"account_id":15116500,"reputation":13,"user_id":10908690,"display_name":"Sarthak"},"score":0,"creation_date":1669377186,"post_id":74533261,"comment_id":131633424,"body_markdown":"Thanks It helped if you want to  add to it ,Please tell","body":"Thanks It helped if you want to  add to it ,Please tell"}],"tags":[],"owner":{"account_id":6418526,"reputation":283,"user_id":4975906,"display_name":"Kostek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669123021,"creation_date":1669123021,"answer_id":74533261,"question_id":74531819,"body_markdown":"Not sure what is your question, but I will try to answer with few possible ways.\r\n\r\n1) Full build flow\r\nYou can run &quot;Rebuild Project&quot; and your &quot;Build&quot; tab will display a full list of gradle tasks being run:\r\n[![Rebuild flow][1]][1]\r\n\r\n\r\n2) You have mentioned Android TV in the question title, so I assume you might have two modules (app and tv) and you wonder how they interact with each other. By default they do not. But if they would, you could see it in the build.gradle (at the module level) under dependencies. Otherwise, one does not run thecode of the other.\r\n\r\n[![Dependencies][2]][2]\r\n[![Modules][3]][3]\r\n\r\n3) Android Profiler\r\nYou could use the profiler tool to diagnose which methods are being run when the app is running, just head to &quot;Profiler&quot; tool, click on CPU, then Select CPU Profiling mode as &quot;Trace Java/Kotlin Method Trace&quot;, click &quot;Record&quot; and when you are done click &quot;Stop&quot;. Investigate from here.[![enter image description here][4]][4]\r\n\r\n4) At the start your Application class will be run (if you have extended the default one), then it runs the activity that has intent-filter set as main launcher in the AndroidManifest.xml file. From here you can set debug breakpoints and run the app in the debug mode or insert code that will log into console.\r\n\r\n  [1]: https://i.stack.imgur.com/Y2Tut.png\r\n  [2]: https://i.stack.imgur.com/RnTTL.png\r\n  [3]: https://i.stack.imgur.com/5SblM.png\r\n  [4]: https://i.stack.imgur.com/7tVcK.png","title":"how do i check the flow of Android Tv or full built Android App that is being used as Product","body":"<p>Not sure what is your question, but I will try to answer with few possible ways.</p>\n<ol>\n<li><p>Full build flow\nYou can run &quot;Rebuild Project&quot; and your &quot;Build&quot; tab will display a full list of gradle tasks being run:\n<a href=\"https://i.stack.imgur.com/Y2Tut.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y2Tut.png\" alt=\"Rebuild flow\" /></a></p>\n</li>\n<li><p>You have mentioned Android TV in the question title, so I assume you might have two modules (app and tv) and you wonder how they interact with each other. By default they do not. But if they would, you could see it in the build.gradle (at the module level) under dependencies. Otherwise, one does not run thecode of the other.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/RnTTL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RnTTL.png\" alt=\"Dependencies\" /></a>\n<a href=\"https://i.stack.imgur.com/5SblM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5SblM.png\" alt=\"Modules\" /></a></p>\n<ol start=\"3\">\n<li><p>Android Profiler\nYou could use the profiler tool to diagnose which methods are being run when the app is running, just head to &quot;Profiler&quot; tool, click on CPU, then Select CPU Profiling mode as &quot;Trace Java/Kotlin Method Trace&quot;, click &quot;Record&quot; and when you are done click &quot;Stop&quot;. Investigate from here.<a href=\"https://i.stack.imgur.com/7tVcK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7tVcK.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>At the start your Application class will be run (if you have extended the default one), then it runs the activity that has intent-filter set as main launcher in the AndroidManifest.xml file. From here you can set debug breakpoints and run the app in the debug mode or insert code that will log into console.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":15116500,"reputation":13,"user_id":10908690,"display_name":"Sarthak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74533261,"answer_count":1,"score":0,"last_activity_date":1669123021,"creation_date":1669116063,"question_id":74531819,"body_markdown":"We have an app that is used as product means that we customize the main app and depoly it according to client needs . It is a fully built product/ App i need to understand the flow of it .\r\n\r\nI started with checking Android Mainifest and then start checking Activities and their functions","title":"how do i check the flow of Android Tv or full built Android App that is being used as Product","body":"<p>We have an app that is used as product means that we customize the main app and depoly it according to client needs . It is a fully built product/ App i need to understand the flow of it .</p>\n<p>I started with checking Android Mainifest and then start checking Activities and their functions</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1399473253,"post_id":23520703,"comment_id":36077336,"body_markdown":"Your logic seems fine. Now you need to retrieve the results in another collection.","body":"Your logic seems fine. Now you need to retrieve the results in another collection."},{"owner":{"account_id":3619461,"reputation":141,"user_id":3018598,"accept_rate":38,"display_name":"PenguinProgrammer"},"score":0,"creation_date":1399473451,"post_id":23520703,"comment_id":36077486,"body_markdown":"Trying to make it effect the same collection","body":"Trying to make it effect the same collection"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1399473494,"post_id":23520703,"comment_id":36077518,"body_markdown":"@LuiggiMendoza Just curious, would `p -&gt; p = (long)Math.pow(p, 2)` have no effect because the variable reference would be passed by value so reassigning wouldn&#39;t have an effect? I don&#39;t have much experience with streams, so I very well might be wrong on this. I&#39;m imagining the lambda to be roughly equivalent to `void method(Long p) { p = (long)Math.pow(p, 2);}`. Is that right?","body":"@LuiggiMendoza Just curious, would <code>p -&gt; p = (long)Math.pow(p, 2)</code> have no effect because the variable reference would be passed by value so reassigning wouldn&#39;t have an effect? I don&#39;t have much experience with streams, so I very well might be wrong on this. I&#39;m imagining the lambda to be roughly equivalent to <code>void method(Long p) { p = (long)Math.pow(p, 2);}</code>. Is that right?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1399473643,"post_id":23520703,"comment_id":36077630,"body_markdown":"@user3580294 I only said the logic seems fine. I never said anything about the methods. Anyway, review here: http://stackoverflow.com/q/14830313/1065197 (can&#39;t provide an answer before testing it).","body":"@user3580294 I only said the logic seems fine. I never said anything about the methods. Anyway, review here: <a href=\"http://stackoverflow.com/q/14830313/1065197\">stackoverflow.com/q/14830313/1065197</a> (can&#39;t provide an answer before testing it)."},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1399473770,"post_id":23520703,"comment_id":36077710,"body_markdown":"@LuiggiMendoza Sorry, thought you might know.","body":"@LuiggiMendoza Sorry, thought you might know."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1399474766,"creation_date":1399473735,"answer_id":23520959,"question_id":23520703,"body_markdown":"You need to do something with the result, for example store it in an array. Also note that you don&#39;t need the initial list and can start with a stream directly:\r\n\r\n    long[] result = IntStream.range(0, 100000) //instead of your initial list\r\n        .filter(p -&gt; p % 2 == 0)               //filters\r\n        .mapToLong(p -&gt; (long) Math.pow(p, 2)) //&quot;replaces&quot; each number with its square\r\n        .toArray();                            //collect the results in an array\r\n\r\nOr you could decide to print the result:\r\n\r\n    IntStream.range(0, 100000)\r\n        .filter(p -&gt; p % 2 == 0)\r\n        .mapToLong(p -&gt; (long) Math.pow(p, 2))\r\n        .forEach(System.out::println);","title":"Squaring even numbers using lambda expressions","body":"<p>You need to do something with the result, for example store it in an array. Also note that you don't need the initial list and can start with a stream directly:</p>\n\n<pre><code>long[] result = IntStream.range(0, 100000) //instead of your initial list\n    .filter(p -&gt; p % 2 == 0)               //filters\n    .mapToLong(p -&gt; (long) Math.pow(p, 2)) //\"replaces\" each number with its square\n    .toArray();                            //collect the results in an array\n</code></pre>\n\n<p>Or you could decide to print the result:</p>\n\n<pre><code>IntStream.range(0, 100000)\n    .filter(p -&gt; p % 2 == 0)\n    .mapToLong(p -&gt; (long) Math.pow(p, 2))\n    .forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":3,"creation_date":1399476321,"post_id":23521048,"comment_id":36079714,"body_markdown":"you can remove &quot;p =&quot;.","body":"you can remove &quot;p =&quot;."}],"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399473952,"creation_date":1399473952,"answer_id":23521048,"question_id":23520703,"body_markdown":"An alternative solution would be mapping the results and collecting them into a `List` using `Collectors#toList`:\r\n\r\n    List&lt;Long&gt; results = nums2.stream()\r\n        .filter(p -&gt; p%2 == 0)\r\n        .map(p -&gt; p = (long)Math.pow(p, 2))\r\n        .collect(Collectors.toList());\r\n","title":"Squaring even numbers using lambda expressions","body":"<p>An alternative solution would be mapping the results and collecting them into a <code>List</code> using <code>Collectors#toList</code>:</p>\n\n<pre><code>List&lt;Long&gt; results = nums2.stream()\n    .filter(p -&gt; p%2 == 0)\n    .map(p -&gt; p = (long)Math.pow(p, 2))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5523011,"reputation":1,"user_id":4385431,"display_name":"Emil B&#230;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489075238,"creation_date":1489075238,"answer_id":42699963,"question_id":23520703,"body_markdown":"Normally java 8 lambdas are used as function without side-effects\r\n(not changing the original list), therefor I suggest that you just \r\nthe classic for-loops instead when you want to have in-place changes:\r\n\r\n        ArrayList&lt;Long&gt; nums2 = new ArrayList&lt;Long&gt;();\r\n\t\tfor(long i = 0; i &lt; 100000; ++i){ \r\n\t\t    nums2.add(i);\r\n\t\t}\r\n\t\tlong even=0; \r\n\t\tfor(int n=0;n&lt;nums2.size();++n){\r\n\t\t\tif((even=nums2.get(n))%2==0)\r\n\t\t\t\tnums2.set(n, even*even);\r\n\t\t}\r\n","title":"Squaring even numbers using lambda expressions","body":"<p>Normally java 8 lambdas are used as function without side-effects\n(not changing the original list), therefor I suggest that you just \nthe classic for-loops instead when you want to have in-place changes:</p>\n\n<pre><code>    ArrayList&lt;Long&gt; nums2 = new ArrayList&lt;Long&gt;();\n    for(long i = 0; i &lt; 100000; ++i){ \n        nums2.add(i);\n    }\n    long even=0; \n    for(int n=0;n&lt;nums2.size();++n){\n        if((even=nums2.get(n))%2==0)\n            nums2.set(n, even*even);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27013345,"reputation":1,"user_id":20572621,"display_name":"Gopal Beldar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669122627,"creation_date":1669122627,"answer_id":74533172,"question_id":23520703,"body_markdown":"Using the function and predicate you will easily get the output \r\nList&lt;Integer&gt; ls = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9,-12);\r\n\t\t\r\n\t\tList&lt;Double&gt; collect3 = ls.stream().filter(ele -&gt;ele%2==0).map(ele -&gt; Math.pow(ele, 2)).collect(Collectors.toList());\r\n\t\tSystem.out.println(&quot;Square of even  elements =&quot; + collect3);   \r\n\r\nO/p- Square of even  elements =[4.0, 16.0, 36.0, 64.0, 144.0]","title":"Squaring even numbers using lambda expressions","body":"<p>Using the function and predicate you will easily get the output\nList ls = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9,-12);</p>\n<pre><code>    List&lt;Double&gt; collect3 = ls.stream().filter(ele -&gt;ele%2==0).map(ele -&gt; Math.pow(ele, 2)).collect(Collectors.toList());\n    System.out.println(&quot;Square of even  elements =&quot; + collect3);   \n</code></pre>\n<p>O/p- Square of even  elements =[4.0, 16.0, 36.0, 64.0, 144.0]</p>\n"}],"owner":{"account_id":3619461,"reputation":141,"user_id":3018598,"accept_rate":38,"display_name":"PenguinProgrammer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1669122627,"creation_date":1399473135,"question_id":23520703,"body_markdown":"I&#39;m trying to take a list of numbers, filter out the even numbers and then square those even numbers so that the even numbers in the original list are squared. Here&#39;s my code:\r\n\r\n    ArrayList&lt;Long&gt; nums2 = new ArrayList&lt;Long&gt;();\r\n\tfor(long i = 0; i &lt; 100000; i++) \r\n\t\tnums2.add(i);\r\n    nums2.stream().filter(p -&gt; p%2 == 0).forEach(p -&gt; p = (long)Math.pow(p, 2));\r\n\r\nTried a couple other things, but this is where I&#39;m at so far","title":"Squaring even numbers using lambda expressions","body":"<p>I'm trying to take a list of numbers, filter out the even numbers and then square those even numbers so that the even numbers in the original list are squared. Here's my code:</p>\n\n<pre><code>ArrayList&lt;Long&gt; nums2 = new ArrayList&lt;Long&gt;();\nfor(long i = 0; i &lt; 100000; i++) \n    nums2.add(i);\nnums2.stream().filter(p -&gt; p%2 == 0).forEach(p -&gt; p = (long)Math.pow(p, 2));\n</code></pre>\n\n<p>Tried a couple other things, but this is where I'm at so far</p>\n"},{"tags":["java","transform","alfresco"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1669122658,"post_id":74520479,"comment_id":131568016,"body_markdown":"Seems that you screwed up the configuration of the service that is called by your code.","body":"Seems that you screwed up the configuration of the service that is called by your code."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1669123272,"post_id":74520479,"comment_id":131568229,"body_markdown":"the logs clearly mention &quot;Transformer &quot;name&quot; references the  **trasformOptions** (option_name) which do not exist. Read from resource ....&quot; so, have you checked that?","body":"the logs clearly mention &quot;Transformer &quot;name&quot; references the  <b>trasformOptions</b> (option_name) which do not exist. Read from resource ....&quot; so, have you checked that?"}],"owner":{"account_id":4221233,"reputation":11,"user_id":3455980,"display_name":"Marwen Naceur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669122604,"creation_date":1669040917,"question_id":74520479,"body_markdown":"I have this code which i dont know if it is the way to procees of no, my code should convert any document ( for now i am testing with docx) to pdf. \r\n\r\nHere is my code: \r\n\r\n\r\n```Java\r\n@Override\r\nprotected void executeImpl(Action action, NodeRef actionedUponNodeRef) {\r\n\tCopyService copyService =serviceRegistry.getCopyService();\r\n\tNodeService nodeService =serviceRegistry.getNodeService();\r\n\tRenditionService2 renditionService2 =serviceRegistry.getRenditionService2();\r\n\tNodeRef newUponNodeRef = copyService.copy(actionedUponNodeRef, nodeService.getPrimaryParent(actionedUponNodeRef).getParentRef(),nodeService.getPrimaryParent(actionedUponNodeRef).getTypeQName(),nodeService.getPrimaryParent(actionedUponNodeRef).getQName());\r\n\tTransformDefinition transformationDefinition = new TransformDefinition(Mimetype.MIMETYPE_PDF, null, null, null, null);\r\n\trenditionService2.render(newUponNodeRef, transformationDefinition);\r\n\t\t\r\n}\r\n```\r\n\r\nand here is my log:\r\n```\r\ndocker-cd-ged-mar-acs-1       |  2022-11-21 15:24:40,207  ERROR [content.transform.LocalTransformServiceRegistry] [QuartzScheduler_Worker-1] Transformer &quot;outlookMsgToLibreofficeViaText&quot; references the transformOptions (tikaOptions) which do not exist. Read from resource alfresco/transforms/0100-basePipelines.json\r\ndocker-cd-ged-mar-acs-1       |  2022-11-21 15:24:40,207  ERROR [content.transform.LocalTransformServiceRegistry] [QuartzScheduler_Worker-1] Transformer &quot;htmlToImageViaTXT&quot; references the transformOptions (pdfRendererOptions) which do not exist. Read from resource alfresco/transforms/0100-basePipelines.json\r\ndocker-cd-ged-mar-acs-1       |  2022-11-21 15:25:50,251  ERROR [content.transform.LocalTransformServiceRegistry] [QuartzScheduler_Worker-1] Transformer &quot;textToImageViaPdf&quot; references the transformOptions (pdfRendererOptions) which do not exist. Read from resource alfresco/transforms/0100-basePipelines.json\r\n```\r\n\r\nI was expecting a direct conversion to pdf via the code.","title":"Unable to convert any file to pdf via JAVA code although i am able o convert it via Alfresco PDF render via the adress : http://localhost:8090","body":"<p>I have this code which i dont know if it is the way to procees of no, my code should convert any document ( for now i am testing with docx) to pdf.</p>\n<p>Here is my code:</p>\n<pre><code>@Override\nprotected void executeImpl(Action action, NodeRef actionedUponNodeRef) {\n    CopyService copyService =serviceRegistry.getCopyService();\n    NodeService nodeService =serviceRegistry.getNodeService();\n    RenditionService2 renditionService2 =serviceRegistry.getRenditionService2();\n    NodeRef newUponNodeRef = copyService.copy(actionedUponNodeRef, nodeService.getPrimaryParent(actionedUponNodeRef).getParentRef(),nodeService.getPrimaryParent(actionedUponNodeRef).getTypeQName(),nodeService.getPrimaryParent(actionedUponNodeRef).getQName());\n    TransformDefinition transformationDefinition = new TransformDefinition(Mimetype.MIMETYPE_PDF, null, null, null, null);\n    renditionService2.render(newUponNodeRef, transformationDefinition);\n        \n}\n</code></pre>\n<p>and here is my log:</p>\n<pre><code>docker-cd-ged-mar-acs-1       |  2022-11-21 15:24:40,207  ERROR [content.transform.LocalTransformServiceRegistry] [QuartzScheduler_Worker-1] Transformer &quot;outlookMsgToLibreofficeViaText&quot; references the transformOptions (tikaOptions) which do not exist. Read from resource alfresco/transforms/0100-basePipelines.json\ndocker-cd-ged-mar-acs-1       |  2022-11-21 15:24:40,207  ERROR [content.transform.LocalTransformServiceRegistry] [QuartzScheduler_Worker-1] Transformer &quot;htmlToImageViaTXT&quot; references the transformOptions (pdfRendererOptions) which do not exist. Read from resource alfresco/transforms/0100-basePipelines.json\ndocker-cd-ged-mar-acs-1       |  2022-11-21 15:25:50,251  ERROR [content.transform.LocalTransformServiceRegistry] [QuartzScheduler_Worker-1] Transformer &quot;textToImageViaPdf&quot; references the transformOptions (pdfRendererOptions) which do not exist. Read from resource alfresco/transforms/0100-basePipelines.json\n</code></pre>\n<p>I was expecting a direct conversion to pdf via the code.</p>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1587476657,"post_id":61344880,"comment_id":108522386,"body_markdown":"Please show the code of your repo","body":"Please show the code of your repo"},{"owner":{"account_id":18156210,"reputation":33,"user_id":13208188,"display_name":"Kranas"},"score":0,"creation_date":1587478294,"post_id":61344880,"comment_id":108523424,"body_markdown":"Updated with repo code","body":"Updated with repo code"},{"owner":{"account_id":18994381,"reputation":146,"user_id":13862869,"display_name":"Kavishka Madhushan"},"score":0,"creation_date":1687490746,"post_id":61344880,"comment_id":134947327,"body_markdown":"Hi. I am facing the same issue. But I am using Reactive Programming in my Quarkus app and I want to return a Uni&lt;String&gt;. Do you know how to do that?","body":"Hi. I am facing the same issue. But I am using Reactive Programming in my Quarkus app and I want to return a Uni&lt;String&gt;. Do you know how to do that?"}],"answers":[{"comments":[{"owner":{"account_id":74473,"reputation":1561,"user_id":213984,"display_name":"allkenang"},"score":2,"creation_date":1631357712,"post_id":61346198,"comment_id":122203582,"body_markdown":"I think you could use Query Projections to achieve this","body":"I think you could use Query Projections to achieve this"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1587479895,"creation_date":1587479895,"answer_id":61346198,"question_id":61344880,"body_markdown":"This is a limitation of Panache.\r\n\r\nHave a look at the code https://github.com/quarkusio/quarkus/blob/master/extensions/panache/hibernate-orm-panache/runtime/src/main/java/io/quarkus/hibernate/orm/panache/PanacheRepositoryBase.java\r\n\r\nIt always returns a List of the entity.\r\n\r\nEither create a finder method in BrandAllRepo that returns a List of Strings or use an untyped list:\r\n\r\n    List list = brandAllRepo\r\n            .find(&quot;select DISTINCT(a.country) from TMdBrandAll a order by a.country&quot;)\r\n            .page(Page.ofSize(1000)).list();\r\n\r\nYou know that there will be Strings in the list.\r\n\r\nThe second option is not so nice. I would use the first option.","title":"Panache Query with distinct returns PanacheQuery&lt;Entity&gt; and not ArrayList&lt;String&gt;","body":"<p>This is a limitation of Panache.</p>\n\n<p>Have a look at the code <a href=\"https://github.com/quarkusio/quarkus/blob/master/extensions/panache/hibernate-orm-panache/runtime/src/main/java/io/quarkus/hibernate/orm/panache/PanacheRepositoryBase.java\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/blob/master/extensions/panache/hibernate-orm-panache/runtime/src/main/java/io/quarkus/hibernate/orm/panache/PanacheRepositoryBase.java</a></p>\n\n<p>It always returns a List of the entity.</p>\n\n<p>Either create a finder method in BrandAllRepo that returns a List of Strings or use an untyped list:</p>\n\n<pre><code>List list = brandAllRepo\n        .find(\"select DISTINCT(a.country) from TMdBrandAll a order by a.country\")\n        .page(Page.ofSize(1000)).list();\n</code></pre>\n\n<p>You know that there will be Strings in the list.</p>\n\n<p>The second option is not so nice. I would use the first option.</p>\n"},{"comments":[{"owner":{"account_id":8428380,"reputation":1057,"user_id":6324924,"accept_rate":100,"display_name":"Robert van der Spek"},"score":0,"creation_date":1671551621,"post_id":74533108,"comment_id":132121210,"body_markdown":"This answer solved my headache.","body":"This answer solved my headache."}],"tags":[],"owner":{"account_id":4480988,"reputation":71,"user_id":3645066,"display_name":"Ren&#233;"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669122378,"creation_date":1669122378,"answer_id":74533108,"question_id":61344880,"body_markdown":"I was running in the same problem, but I figured that it works if I use `.project(String.class)` and `GROUP BY` instead of `DISTINCT`:\r\n\r\n```java\r\nList&lt;String&gt; list = repo\r\n            .find(&quot;select a.country from TMdBrandAll a &quot; \r\n                   + &quot;group by a.country &quot;\r\n                   + &quot;order by a.country&quot;)\r\n            .project(String.class) \r\n            .page(Page.ofSize(1000)).list();\r\n```\r\n\r\nIt seems that Panache gets confused by the `DISTINCT` clause.","title":"Panache Query with distinct returns PanacheQuery&lt;Entity&gt; and not ArrayList&lt;String&gt;","body":"<p>I was running in the same problem, but I figured that it works if I use <code>.project(String.class)</code> and <code>GROUP BY</code> instead of <code>DISTINCT</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = repo\n            .find(&quot;select a.country from TMdBrandAll a &quot; \n                   + &quot;group by a.country &quot;\n                   + &quot;order by a.country&quot;)\n            .project(String.class) \n            .page(Page.ofSize(1000)).list();\n</code></pre>\n<p>It seems that Panache gets confused by the <code>DISTINCT</code> clause.</p>\n"}],"owner":{"account_id":18156210,"reputation":33,"user_id":13208188,"display_name":"Kranas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14384,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61346198,"answer_count":2,"score":3,"last_activity_date":1669122378,"creation_date":1587476114,"question_id":61344880,"body_markdown":"I&#39;m trying to get a distinct result of one Column from my Database with Panache+Hibernate. Normally in Hibernate you would get an `ArrayList&lt;String&gt;` back from the query.\r\n\r\n    List&lt;String&gt; list = repo\r\n                .find(&quot;select DISTINCT(a.country) from TMdBrandAll a order by a.country&quot;)\r\n                .page(Page.ofSize(1000)).list();\r\n\r\nBut if I try this Approach with Panache I get the ErrorMessage\r\n[Comiler Error Message][1]\r\n\r\nIf I change the variable &quot;list&quot; to the returnType `List&lt;TMdBrandAll&gt;` the compile error is gone.\r\n\r\n    List&lt;TMdBrandAll&gt; list = brandAllRepo\r\n                .find(&quot;select DISTINCT(a.country) from TMdBrandAll a order by a.country&quot;)\r\n                .page(Page.ofSize(1000)).list();\r\n\r\nWhen I now inspect the executed code in the debugger I get.\r\n[Debugger output][2]\r\n\r\nHow can I tell Panache that the outcome of the query will be an `ArrayList&lt;Strings&gt;` and not an `ArrayList&lt;PanacheEntity&gt;`?\r\n\r\nThanks for your answers\r\n\r\nEDIT:\r\nCode of Repo:\r\n\r\n    @RequestScoped\r\n    @Transactional\r\n    public class BrandAllRepo implements PanacheRepositoryBase&lt;TMdBrandAll, Long&gt; {\r\n    \r\n    \r\n        public void updateBrand(String brandName, String soundexCode, String countryCode, Long active, Long isNew, String user, Long brandAllId) {\r\n    \r\n            update(&quot;set brandName = ?1, soundexCode = soundex(pkg_util.f_escape_special_char1(?2)),&quot; +\r\n                    &quot; countryCode = ?3, active = ?4, isNew = ?5, modifiedAt = sysdate, modified_by = ?6 where brandAllId = ?7&quot;,\r\n                brandName, soundexCode, countryCode, active, isNew, user, brandAllId);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nWorking Code from Repo:\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n    public List&lt;String&gt; findCountries() {\r\n        List&lt;String&gt; qres = em\r\n            .createQuery(&quot;select DISTINCT(a.countryCode) from TMdBrandAll a order by a.countryCode&quot;, String.class)\r\n            .getResultList();\r\n\r\n        return new ArrayList&lt;&gt;(qres);\r\n    }\r\n\r\nWith injected EntityManager and standard hibernate query it works.\r\n\r\n  [1]: https://i.stack.imgur.com/Lk0uy.png\r\n  [2]: https://i.stack.imgur.com/Ff88E.png","title":"Panache Query with distinct returns PanacheQuery&lt;Entity&gt; and not ArrayList&lt;String&gt;","body":"<p>I'm trying to get a distinct result of one Column from my Database with Panache+Hibernate. Normally in Hibernate you would get an <code>ArrayList&lt;String&gt;</code> back from the query.</p>\n\n<pre><code>List&lt;String&gt; list = repo\n            .find(\"select DISTINCT(a.country) from TMdBrandAll a order by a.country\")\n            .page(Page.ofSize(1000)).list();\n</code></pre>\n\n<p>But if I try this Approach with Panache I get the ErrorMessage\n<a href=\"https://i.stack.imgur.com/Lk0uy.png\" rel=\"nofollow noreferrer\">Comiler Error Message</a></p>\n\n<p>If I change the variable \"list\" to the returnType <code>List&lt;TMdBrandAll&gt;</code> the compile error is gone.</p>\n\n<pre><code>List&lt;TMdBrandAll&gt; list = brandAllRepo\n            .find(\"select DISTINCT(a.country) from TMdBrandAll a order by a.country\")\n            .page(Page.ofSize(1000)).list();\n</code></pre>\n\n<p>When I now inspect the executed code in the debugger I get.\n<a href=\"https://i.stack.imgur.com/Ff88E.png\" rel=\"nofollow noreferrer\">Debugger output</a></p>\n\n<p>How can I tell Panache that the outcome of the query will be an <code>ArrayList&lt;Strings&gt;</code> and not an <code>ArrayList&lt;PanacheEntity&gt;</code>?</p>\n\n<p>Thanks for your answers</p>\n\n<p>EDIT:\nCode of Repo:</p>\n\n<pre><code>@RequestScoped\n@Transactional\npublic class BrandAllRepo implements PanacheRepositoryBase&lt;TMdBrandAll, Long&gt; {\n\n\n    public void updateBrand(String brandName, String soundexCode, String countryCode, Long active, Long isNew, String user, Long brandAllId) {\n\n        update(\"set brandName = ?1, soundexCode = soundex(pkg_util.f_escape_special_char1(?2)),\" +\n                \" countryCode = ?3, active = ?4, isNew = ?5, modifiedAt = sysdate, modified_by = ?6 where brandAllId = ?7\",\n            brandName, soundexCode, countryCode, active, isNew, user, brandAllId);\n\n    }\n\n}\n</code></pre>\n\n<p>Working Code from Repo:</p>\n\n<pre><code>@Inject\nEntityManager em;\n\npublic List&lt;String&gt; findCountries() {\n    List&lt;String&gt; qres = em\n        .createQuery(\"select DISTINCT(a.countryCode) from TMdBrandAll a order by a.countryCode\", String.class)\n        .getResultList();\n\n    return new ArrayList&lt;&gt;(qres);\n}\n</code></pre>\n\n<p>With injected EntityManager and standard hibernate query it works.</p>\n"},{"tags":["java","graphql","graphql-java"],"answers":[{"comments":[{"owner":{"account_id":9840854,"reputation":71,"user_id":7289897,"display_name":"alobar"},"score":0,"creation_date":1518788786,"post_id":48824050,"comment_id":84660003,"body_markdown":"When using execute(ExecutionInput.newExecutionInput() I&#39;m getting :\njava.lang.NoSuchMethodError: graphql.GraphQL.execute(Lgraphql/ExecutionInput;)Lgraphql/ExecutionResult;\n\nWhile execute(&quot;my query&quot;) returns the expected result.","body":"When using execute(ExecutionInput.newExecutionInput() I&#39;m getting : java.lang.NoSuchMethodError: graphql.GraphQL.execute(Lgraphql/ExecutionInput;)Lgraphql/Ex&zwnj;&#8203;ecutionResult;  While execute(&quot;my query&quot;) returns the expected result."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1518793120,"post_id":48824050,"comment_id":84662642,"body_markdown":"@alobar You must be using some older version of graphql-java then. In that case, just use the appropriate overload of the `execute` method that accepts a context. See the updated answer.","body":"@alobar You must be using some older version of graphql-java then. In that case, just use the appropriate overload of the <code>execute</code> method that accepts a context. See the updated answer."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1518957709,"post_id":48824050,"comment_id":84706918,"body_markdown":"@alobar Did that answer your question?","body":"@alobar Did that answer your question?"},{"owner":{"account_id":9840854,"reputation":71,"user_id":7289897,"display_name":"alobar"},"score":0,"creation_date":1519121326,"post_id":48824050,"comment_id":84769376,"body_markdown":"First of all thank for you valuable answers. Unfortunately when I try to run .execute(query, context) I &#39;m getting that this function is deprecated. The version of graphql-java I&#39;m using is 6.0","body":"First of all thank for you valuable answers. Unfortunately when I try to run .execute(query, context) I &#39;m getting that this function is deprecated. The version of graphql-java I&#39;m using is 6.0"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1519121766,"post_id":48824050,"comment_id":84769660,"body_markdown":"@alobar You have a dependency conflict then. You build with v6 and run with some other version. Analyse your dependency tree and figure it out. v6 definitely does have a method I exemplified first.","body":"@alobar You have a dependency conflict then. You build with v6 and run with some other version. Analyse your dependency tree and figure it out. v6 definitely does have a method I exemplified first."},{"owner":{"account_id":9840854,"reputation":71,"user_id":7289897,"display_name":"alobar"},"score":0,"creation_date":1519302714,"post_id":48824050,"comment_id":84861107,"body_markdown":"I am using this tutorial : [link] (https://www.howtographql.com/graphql-java/0-introduction/). \nSo I have a class with `@WebServlet` annotation that extends `SimpleGraphQLServlet`. This is where I bulid my schema that is defined though SDL. I have a Query class which implements `GraphQLRootResolver`. Inside the method that returns my data, along with other parameteres I added a final parameter `DataFetchingEnvironment environment` to the method signature and through that I was able to access `HttpServletRequest`.","body":"I am using this tutorial : [link] (<a href=\"https://www.howtographql.com/graphql-java/0-introduction/\" rel=\"nofollow noreferrer\">howtographql.com/graphql-java/0-introduction</a>).  So I have a class with <code>@WebServlet</code> annotation that extends <code>SimpleGraphQLServlet</code>. This is where I bulid my schema that is defined though SDL. I have a Query class which implements <code>GraphQLRootResolver</code>. Inside the method that returns my data, along with other parameteres I added a final parameter <code>DataFetchingEnvironment environment</code> to the method signature and through that I was able to access <code>HttpServletRequest</code>."},{"owner":{"account_id":6695866,"reputation":537,"user_id":5163898,"display_name":"chriszichrisz"},"score":0,"creation_date":1669069794,"post_id":48824050,"comment_id":131555397,"body_markdown":"how to replace the deprecated &#39;getContext()&#39; in a way that it works with custom context builders? &#39;getGraphQlContext()&#39; is not compatible with a custom context object.. or: if the custom context is not needed anymore , how to get the request from env.getGraphQlContext() ? Searched almost everywhere, didn&#39;t find a solution yet :-(","body":"how to replace the deprecated &#39;getContext()&#39; in a way that it works with custom context builders? &#39;getGraphQlContext()&#39; is not compatible with a custom context object.. or: if the custom context is not needed anymore , how to get the request from env.getGraphQlContext() ? Searched almost everywhere, didn&#39;t find a solution yet :-("},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":1,"creation_date":1669122125,"post_id":48824050,"comment_id":131567794,"body_markdown":"@chriszichrisz `GraphQLContext` is just a map, you can put anything you want in there.  It doesn&#39;t limit you in any way. E.g. `GraphQLContext ctx = GraphQLContext.newContext().of(ServletRequest.class, servletRequest).build()` I used a class as the key, but any object will work. Btw I updated the answer to reflect this.","body":"@chriszichrisz <code>GraphQLContext</code> is just a map, you can put anything you want in there.  It doesn&#39;t limit you in any way. E.g. <code>GraphQLContext ctx = GraphQLContext.newContext().of(ServletRequest.class, servletRequest).build()</code> I used a class as the key, but any object will work. Btw I updated the answer to reflect this."}],"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669122315,"creation_date":1518774697,"answer_id":48824050,"question_id":48804590,"body_markdown":"This is normally done using the shared context. When executing an operation, you can pass an arbitrary object that will be accessible to all the `Datafetcher`s (resolvers), via `DataFetchingEnvironment#getContext`.\r\n\r\nE.g.\r\n\r\n    GraphQLContext sharedContext = GraphQLContext.newContext()\r\n        //this is where you pass any object you need\r\n        //use other factory methods as needed\r\n        .of(HttpServletRequest.class, servletRequest)\r\n        .build();\r\n    \r\n    graphQL.execute(ExecutionInput.newExecutionInput()\r\n        .query(operation)\r\n        .context(sharedContext)\r\n        .build());\r\n\r\nFor older graphql-java versions:\r\n\r\n    graphQL.execute(query, context);\r\n\r\nand later in the `DataFetcher` of your query/mutation:\r\n\r\n    HttpServletRequest request = environment.getGraphQlContext().get(HttpServletRequest.class);\r\n\r\nThis is also the common way to perform authorization: you pass in the user object via the context.","title":"GraphQL access to HttpRequest on a mutation function","body":"<p>This is normally done using the shared context. When executing an operation, you can pass an arbitrary object that will be accessible to all the <code>Datafetcher</code>s (resolvers), via <code>DataFetchingEnvironment#getContext</code>.</p>\n<p>E.g.</p>\n<pre><code>GraphQLContext sharedContext = GraphQLContext.newContext()\n    //this is where you pass any object you need\n    //use other factory methods as needed\n    .of(HttpServletRequest.class, servletRequest)\n    .build();\n\ngraphQL.execute(ExecutionInput.newExecutionInput()\n    .query(operation)\n    .context(sharedContext)\n    .build());\n</code></pre>\n<p>For older graphql-java versions:</p>\n<pre><code>graphQL.execute(query, context);\n</code></pre>\n<p>and later in the <code>DataFetcher</code> of your query/mutation:</p>\n<pre><code>HttpServletRequest request = environment.getGraphQlContext().get(HttpServletRequest.class);\n</code></pre>\n<p>This is also the common way to perform authorization: you pass in the user object via the context.</p>\n"}],"owner":{"account_id":9840854,"reputation":71,"user_id":7289897,"display_name":"alobar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669122315,"creation_date":1518689428,"question_id":48804590,"body_markdown":"Hi I&#39;m new to GraphQL.\r\n\r\nI want to migrate an existing endpoint to a GraphQL endpoint (Java). \r\nIn oder to proceed with the application logic of the endpoint, I need the ```HttpServletRequest``` object.\r\n\r\nHow can I have access to ```HttpServletRequest``` object inside a mutation function?\r\nI try to pass it as a parameter but I have to declare a ```HttpServetRequest``` Type.\r\n\r\nIs there a way of having access to the above object inside a mutation? \r\nIs there a way of declaring Types of external libraries?\r\n\r\nThank you.","title":"GraphQL access to HttpRequest on a mutation function","body":"<p>Hi I'm new to GraphQL.</p>\n\n<p>I want to migrate an existing endpoint to a GraphQL endpoint (Java). \nIn oder to proceed with the application logic of the endpoint, I need the <code>HttpServletRequest</code> object.</p>\n\n<p>How can I have access to <code>HttpServletRequest</code> object inside a mutation function?\nI try to pass it as a parameter but I have to declare a <code>HttpServetRequest</code> Type.</p>\n\n<p>Is there a way of having access to the above object inside a mutation? \nIs there a way of declaring Types of external libraries?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1616604915,"post_id":66785686,"comment_id":118057032,"body_markdown":"I suggest reading entire lines, then splitting and parsing ints, as necessary","body":"I suggest reading entire lines, then splitting and parsing ints, as necessary"},{"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"score":2,"creation_date":1616605014,"post_id":66785686,"comment_id":118057082,"body_markdown":"Please read up on how to make a [MRE]","body":"Please read up on how to make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1616605134,"post_id":66785686,"comment_id":118057144,"body_markdown":"`new ArrayList[test]` creates an array of size `test`, that are all null. `array[j].add(anything)` therefore causes an NPE... No part of the question asks for an array of lists. Since you have defined sizes, you should use a 2D array","body":"<code>new ArrayList[test]</code> creates an array of size <code>test</code>, that are all null. <code>array[j].add(anything)</code> therefore causes an NPE... No part of the question asks for an array of lists. Since you have defined sizes, you should use a 2D array"},{"owner":{"account_id":20295829,"reputation":103,"user_id":14886384,"display_name":"Tirath Sharma"},"score":0,"creation_date":1616605409,"post_id":66785686,"comment_id":118057279,"body_markdown":"but how is it possible to achieve this from 2D array, this is an improved version of my code please see [link](https://stackoverflow.com/q/66783617/14886384)  In which someone gave me answer to do this with array and  i then explained him why i can&#39;t.","body":"but how is it possible to achieve this from 2D array, this is an improved version of my code please see <a href=\"https://stackoverflow.com/q/66783617/14886384\">link</a>  In which someone gave me answer to do this with array and  i then explained him why i can&#39;t."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1616606336,"post_id":66785686,"comment_id":118057721,"body_markdown":"You only need a 1D array (as the answer to your previous question said).","body":"You only need a 1D array (as the answer to your previous question said)."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1616606825,"post_id":66785686,"comment_id":118057960,"body_markdown":"What do monks have to do with this question? (see title)","body":"What do monks have to do with this question? (see title)"},{"owner":{"account_id":20295829,"reputation":103,"user_id":14886384,"display_name":"Tirath Sharma"},"score":0,"creation_date":1616607211,"post_id":66785686,"comment_id":118058142,"body_markdown":"monk and rotation is a question name. I already specified in comments in answer of \n previous question that why  that is not the correct answer.","body":"monk and rotation is a question name. I already specified in comments in answer of   previous question that why  that is not the correct answer."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1616608258,"post_id":66785686,"comment_id":118058628,"body_markdown":"If you&#39;re using an odd question title, this should be explained in the question body. One downvote.","body":"If you&#39;re using an odd question title, this should be explained in the question body. One downvote."},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1669122202,"post_id":66785686,"comment_id":131567818,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](https://meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"https://meta.stackexchange.com/q/5221\">How does deleting work?</a>"},{"owner":{"account_id":20295829,"reputation":103,"user_id":14886384,"display_name":"Tirath Sharma"},"score":0,"creation_date":1669122314,"post_id":66785686,"comment_id":131567870,"body_markdown":"@Adriaan Can you please upvote to delete this question. I am not able to delete it now. \nI asked this question so many times ago.","body":"@Adriaan Can you please upvote to delete this question. I am not able to delete it now.  I asked this question so many times ago."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616609872,"creation_date":1616609345,"answer_id":66786870,"question_id":66785686,"body_markdown":"`new ArrayList[test]` creates an array of size `test`, that are all `null`. `array[j].add(anything)` therefore causes an NPE\r\n\r\nIf you insist on using arraylist (which I don&#39;t think you need because each &quot;test&quot; iteration is an isolated problem, so you don&#39;t need to store historical/future test results), you must initialize each array index before you can ever add anything to each list\r\n\r\n    for(int j=0;j&lt;test;j++){\r\n        array[j] = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nHowever, as mentioned, you should do something like this\r\n\r\n```\r\nint tests;\r\n// read tests \r\nfor(int test = 0; test &lt; tests; test++) {\r\n    int N, K;\r\n    // read in N and K\r\n    int[] A = new int[N];\r\n    // read the line into elements of A \r\n    rotate(A, K); // rotate the array, K places \r\n    System.out.println(Arrays.toString(A));\r\n} \r\n```","title":"Monk and rotation","body":"<p><code>new ArrayList[test]</code> creates an array of size <code>test</code>, that are all <code>null</code>. <code>array[j].add(anything)</code> therefore causes an NPE</p>\n<p>If you insist on using arraylist (which I don't think you need because each &quot;test&quot; iteration is an isolated problem, so you don't need to store historical/future test results), you must initialize each array index before you can ever add anything to each list</p>\n<pre><code>for(int j=0;j&lt;test;j++){\n    array[j] = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>However, as mentioned, you should do something like this</p>\n<pre><code>int tests;\n// read tests \nfor(int test = 0; test &lt; tests; test++) {\n    int N, K;\n    // read in N and K\n    int[] A = new int[N];\n    // read the line into elements of A \n    rotate(A, K); // rotate the array, K places \n    System.out.println(Arrays.toString(A));\n} \n</code></pre>\n"}],"owner":{"account_id":20295829,"reputation":103,"user_id":14886384,"display_name":"Tirath Sharma"},"comment_count":10,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1616648534,"answer_count":1,"score":-4,"last_activity_date":1669122193,"creation_date":1616604728,"question_id":66785686,"body_markdown":"My program is showing null pointer exception, and\r\n```\r\n Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.ArrayList.add(Object)&quot; because &quot;&lt;local6&gt;[&lt;local7&gt;]&quot; is null\r\n        at ThisIsTestForNothing.main(ThisIsTestForNothing.java:27) \r\n```\r\n\r\nCan anyone find where is mistake in my program. I am trying to resolve it from last 4 hours.\r\nMy program is...\r\n\r\n```\r\n    import java.util.*;\r\n    \r\n    \r\n    class TestClass {\r\n        public static void main(String args[] ) throws Exception {\r\n           \r\n    \r\n            Scanner scan = new Scanner(System.in);\r\n            \r\n            int test=scan.nextInt();\r\n            scan.nextLine();\r\n            int size;\r\n            int steps;\r\n            int temp=0;\r\n            ArrayList&lt;Integer&gt; array[] = new ArrayList[test];\r\n    \r\n            for(int j=0;j&lt;test;j++){\r\n            \r\n            size = scan.nextInt();\r\n            steps = scan.nextInt();\r\n            scan.nextLine();\r\n            for(int i=0;i&lt;size;i++){\r\n    \r\n               array[j].add(scan.nextInt());\r\n            }\r\n            \r\n            \r\n            for(int i=0;i&lt;steps;i++){\r\n                temp = array[j].get(size-1);\r\n                array[j].remove(size-1);\r\n                array[j].add(0,temp);\r\n                \r\n            }\r\n    \r\n            if(j==test-1){\r\n                for(j=0;j&lt;test;j++){\r\n            for(int i=0;i&lt;size;i++){\r\n            System.out.print(array[j].get(i)+&quot; &quot;);\r\n            }\r\n            }\r\n            }\r\n    \r\n            }\r\n    \r\n            \r\n            \r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nInput:\r\nThe first line will consists of one integer T denoting the number of test cases.\r\nFor each test case:\r\n1) The first line consists of two integers N and K, N being the number of elements in the array and K denotes the number of steps of rotation.\r\n2) The next line consists of N space separated integers , denoting the elements of the array A.\r\nOutput:\r\nPrint the required array.","title":"Monk and rotation","body":"<p>My program is showing null pointer exception, and</p>\n<pre><code> Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.ArrayList.add(Object)&quot; because &quot;&lt;local6&gt;[&lt;local7&gt;]&quot; is null\n        at ThisIsTestForNothing.main(ThisIsTestForNothing.java:27) \n</code></pre>\n<p>Can anyone find where is mistake in my program. I am trying to resolve it from last 4 hours.\nMy program is...</p>\n<pre><code>    import java.util.*;\n    \n    \n    class TestClass {\n        public static void main(String args[] ) throws Exception {\n           \n    \n            Scanner scan = new Scanner(System.in);\n            \n            int test=scan.nextInt();\n            scan.nextLine();\n            int size;\n            int steps;\n            int temp=0;\n            ArrayList&lt;Integer&gt; array[] = new ArrayList[test];\n    \n            for(int j=0;j&lt;test;j++){\n            \n            size = scan.nextInt();\n            steps = scan.nextInt();\n            scan.nextLine();\n            for(int i=0;i&lt;size;i++){\n    \n               array[j].add(scan.nextInt());\n            }\n            \n            \n            for(int i=0;i&lt;steps;i++){\n                temp = array[j].get(size-1);\n                array[j].remove(size-1);\n                array[j].add(0,temp);\n                \n            }\n    \n            if(j==test-1){\n                for(j=0;j&lt;test;j++){\n            for(int i=0;i&lt;size;i++){\n            System.out.print(array[j].get(i)+&quot; &quot;);\n            }\n            }\n            }\n    \n            }\n    \n            \n            \n        }\n    }\n\n</code></pre>\n<p>Input:\nThe first line will consists of one integer T denoting the number of test cases.\nFor each test case:</p>\n<ol>\n<li>The first line consists of two integers N and K, N being the number of elements in the array and K denotes the number of steps of rotation.</li>\n<li>The next line consists of N space separated integers , denoting the elements of the array A.\nOutput:\nPrint the required array.</li>\n</ol>\n"},{"tags":["java","selenium","cucumber","parameterized"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669061175,"post_id":74523762,"comment_id":131553169,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669114110,"post_id":74523762,"comment_id":131565084,"body_markdown":"Provide the html structure so we can have more context. Inspect the page and copy the html structure.","body":"Provide the html structure so we can have more context. Inspect the page and copy the html structure."}],"owner":{"account_id":26234339,"reputation":1,"user_id":19909758,"display_name":"Sami Derin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669122083,"creation_date":1669057506,"question_id":74523762,"body_markdown":"I am using Seleninun+Java+Cucumber+Junit in my project. There is a feature that i need to automate it. It is about time setting. There is a time input box. User can type the time by manually in this format: &quot;22:00 pm&quot;. I used one parameterize step in my feature file. I send the time as String. But while it was written, the text is changing like that &quot;am :0022&quot;. And also this format is not stabil. it changes every time. That&#39;s why i am not able to assert the time. I don&#39;t know how can i handle tis issue?\r\n\r\nI tried to use String manipulation but it did not work\r\n\r\nThis is my scenario\r\n                                                                                              ```Then click and clear event start hour and type manually &quot;22:00 am&quot;```\r\n\r\nThis is my code\r\n                                                                      \r\n```public void click_and_clear_event_start_hour_and_type_manually(String hour) {\r\n\r\nActions actions = new Actions(Driver.getDriver());\r\n\r\nactions.clickAndHold(eventPage.startTime).moveToElement(eventPage.startDate).sendKeys(Keys.BACK_SPACE).perform();\r\n\r\nactions.sendKeys(hour).perform();\r\n}\r\n\r\n\r\nThis is html code:\r\n\r\n&lt;input id=&quot;feed_cal_event_from_timecal_3Jcl&quot; name=&quot;TIME_FROM_&quot; type=&quot;text&quot; value=&quot;&quot; size=&quot;6&quot; title=&quot;Select start date and time&quot; autocomplete=&quot;off&quot;&gt;\r\n\r\n&lt;script&gt;\r\n\t\tfunction bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback)\r\n\t\t{\r\n\t\t\t\t\t\tif (!window.JCClock &amp;&amp; !window.jsUtils)\r\n\t\t\t{\r\n\t\t\t\treturn setTimeout(function(){bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback);}, 50);\r\n\t\t\t}\r\n\r\n\t\t\tif (!window.JCClock)\r\n\t\t\t{\r\n\t\t\t\tif(!!window.bClockLoading)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn setTimeout(function(){bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback);}, 50);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\twindow.bClockLoading = true;\r\n\t\t\t\t\treturn BX.load(\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t&#39;/bitrix/js/main/clock.js?154877654922135&#39;,\r\n\t\t\t\t\t\t\t&#39;/bitrix/themes/.default/clock.css?15487765656522&#39;\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tfunction() {bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback)}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\twindow.bClockLoading = false;\r\n\r\n\t\t\tvar obId = &#39;bxClock_feed_cal_event_from_timecal_3Jcl&#39;;\r\n\r\n\t\t\twindow[obId] = new JCClock({\r\n\t\t\t\tstep: 5,\r\n\t\t\t\tinitTime: &#39;&#39;,\r\n\t\t\t\tshowIcon: false,\r\n\t\t\t\tinputId: &#39;feed_cal_event_from_timecal_3Jcl&#39;,\r\n\t\t\t\ticonId: &#39;feed_cal_event_from_timecal_3Jcl_icon&#39;,\r\n\t\t\t\tzIndex: 0,\r\n\t\t\t\tAmPmMode: false,\r\n\t\t\t\tMESS: {\r\n\t\t\t\t\tInsert: &#39;Set Time&#39;,\r\n\t\t\t\t\tClose: &#39;Close&#39;,\r\n\t\t\t\t\tHours: &#39;Hours&#39;,\r\n\t\t\t\t\tMinutes: &#39;Minutes&#39;,\r\n\t\t\t\t\tUp: &#39;Increase (Up)&#39;,\r\n\t\t\t\t\tDown: &#39;Decrease (Down)&#39;\r\n\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\treturn callback.apply(window, [window[obId]]);\r\n\t\t}\r\n\r\n\t\tfunction bxShowClock_feed_cal_event_from_timecal_3Jcl(id)\r\n\t\t{\r\n\t\t\tbxLoadClock_feed_cal_event_from_timecal_3Jcl(function(obClock)\r\n\t\t\t{\r\n\t\t\t\tobClock.Show(id);\r\n\t\t\t});\r\n\t\t}\r\n\t&lt;/script&gt;\r\n","title":"why the provided time text changes in cucumber java?","body":"<p>I am using Seleninun+Java+Cucumber+Junit in my project. There is a feature that i need to automate it. It is about time setting. There is a time input box. User can type the time by manually in this format: &quot;22:00 pm&quot;. I used one parameterize step in my feature file. I send the time as String. But while it was written, the text is changing like that &quot;am :0022&quot;. And also this format is not stabil. it changes every time. That's why i am not able to assert the time. I don't know how can i handle tis issue?</p>\n<p>I tried to use String manipulation but it did not work</p>\n<p>This is my scenario\n<code>Then click and clear event start hour and type manually &quot;22:00 am&quot;</code></p>\n<p>This is my code</p>\n<pre><code>\nActions actions = new Actions(Driver.getDriver());\n\nactions.clickAndHold(eventPage.startTime).moveToElement(eventPage.startDate).sendKeys(Keys.BACK_SPACE).perform();\n\nactions.sendKeys(hour).perform();\n}\n\n\nThis is html code:\n\n&lt;input id=&quot;feed_cal_event_from_timecal_3Jcl&quot; name=&quot;TIME_FROM_&quot; type=&quot;text&quot; value=&quot;&quot; size=&quot;6&quot; title=&quot;Select start date and time&quot; autocomplete=&quot;off&quot;&gt;\n\n&lt;script&gt;\n        function bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback)\n        {\n                        if (!window.JCClock &amp;&amp; !window.jsUtils)\n            {\n                return setTimeout(function(){bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback);}, 50);\n            }\n\n            if (!window.JCClock)\n            {\n                if(!!window.bClockLoading)\n                {\n                    return setTimeout(function(){bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback);}, 50);\n                }\n                else\n                {\n                    window.bClockLoading = true;\n                    return BX.load(\n                        [\n                            '/bitrix/js/main/clock.js?154877654922135',\n                            '/bitrix/themes/.default/clock.css?15487765656522'\n                        ],\n                        function() {bxLoadClock_feed_cal_event_from_timecal_3Jcl(callback)}\n                    );\n                }\n            }\n\n            window.bClockLoading = false;\n\n            var obId = 'bxClock_feed_cal_event_from_timecal_3Jcl';\n\n            window[obId] = new JCClock({\n                step: 5,\n                initTime: '',\n                showIcon: false,\n                inputId: 'feed_cal_event_from_timecal_3Jcl',\n                iconId: 'feed_cal_event_from_timecal_3Jcl_icon',\n                zIndex: 0,\n                AmPmMode: false,\n                MESS: {\n                    Insert: 'Set Time',\n                    Close: 'Close',\n                    Hours: 'Hours',\n                    Minutes: 'Minutes',\n                    Up: 'Increase (Up)',\n                    Down: 'Decrease (Down)'\n                }\n                });\n\n            return callback.apply(window, [window[obId]]);\n        }\n\n        function bxShowClock_feed_cal_event_from_timecal_3Jcl(id)\n        {\n            bxLoadClock_feed_cal_event_from_timecal_3Jcl(function(obClock)\n            {\n                obClock.Show(id);\n            });\n        }\n    &lt;/script&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1321206526,"post_id":8113260,"comment_id":9950578,"body_markdown":"show the imports on your entity class","body":"show the imports on your entity class"},{"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"score":0,"creation_date":1321208393,"post_id":8113260,"comment_id":9950871,"body_markdown":"@Bozho I updated my q with the imports. thanks!","body":"@Bozho I updated my q with the imports. thanks!"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1321208466,"creation_date":1321208466,"answer_id":8113641,"question_id":8113260,"body_markdown":"Use `javax.persistence.Entity` rather than `org.hibernate.annotations.Entity`.","title":"org.springframework.orm.hibernate3.HibernateSystemException: Unknown entity","body":"<p>Use <code>javax.persistence.Entity</code> rather than <code>org.hibernate.annotations.Entity</code>.</p>\n"},{"tags":[],"owner":{"account_id":4451833,"reputation":794,"user_id":3623457,"accept_rate":87,"display_name":"Manish Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514614176,"creation_date":1514614176,"answer_id":48031503,"question_id":8113260,"body_markdown":"Also use &quot;javax.persistence.Id&quot; @Id for your class identifier i.e primary key.\r\n","title":"org.springframework.orm.hibernate3.HibernateSystemException: Unknown entity","body":"<p>Also use \"javax.persistence.Id\" @Id for your class identifier i.e primary key.</p>\n"},{"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669498857,"post_id":74532995,"comment_id":131655561,"body_markdown":"Really consider using annotations","body":"Really consider using annotations"},{"owner":{"account_id":27013197,"reputation":1,"user_id":20572493,"display_name":"Himanshu Patel"},"score":0,"creation_date":1669614007,"post_id":74532995,"comment_id":131673373,"body_markdown":"Its just one alternative. Same can be done using java configuration as well. However both will have same effect.","body":"Its just one alternative. Same can be done using java configuration as well. However both will have same effect."}],"tags":[],"owner":{"account_id":27013197,"reputation":1,"user_id":20572493,"display_name":"Himanshu Patel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669121937,"creation_date":1669121880,"answer_id":74532995,"question_id":8113260,"body_markdown":"The hibernate template is unable to find the annotated entity class.\r\nIt happens when the entity class is not declared in the configuration setup.\r\nSo include it as:\r\n\r\n    &lt;annotatedClasses&gt;\r\n    &lt;list&gt;\r\n    &lt;value&gt;[packageName.className]&lt;/value&gt;\r\n    .\r\n    .\r\n    .\r\n    &lt;/list&gt;\r\n    &lt;/annotatedClasses&gt;","title":"org.springframework.orm.hibernate3.HibernateSystemException: Unknown entity","body":"<p>The hibernate template is unable to find the annotated entity class.\nIt happens when the entity class is not declared in the configuration setup.\nSo include it as:</p>\n<pre><code>&lt;annotatedClasses&gt;\n&lt;list&gt;\n&lt;value&gt;[packageName.className]&lt;/value&gt;\n.\n.\n.\n&lt;/list&gt;\n&lt;/annotatedClasses&gt;\n</code></pre>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8113641,"answer_count":3,"score":1,"last_activity_date":1669121937,"creation_date":1321204734,"question_id":8113260,"body_markdown":"This is a spring mvc application using IntelliJ.\r\n\r\nI&#39;m getting this error:\r\n\r\n    org.springframework.orm.hibernate3.HibernateSystemException: Unknown entity: com.testproj1.core.model.User; nested exception is org.hibernate.MappingException: Unknown entity: com.testproj1.core.model.User\r\n    \torg.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:679)\r\n    \torg.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:411)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:512)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:506)\r\n    \tcom.testproj1.core.doa.UserDaoImpl.get(UserDaoImpl.java:17)\r\n    \tcom.testproj1.core.service.UserServiceImpl.getUser(UserServiceImpl.java:22)\r\n    \tcom.testproj1.web.controllers.HomeController.index(HomeController.java:19)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:597)\r\n    \torg.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:574)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \r\n    root cause\r\n    \r\n    org.hibernate.MappingException: Unknown entity: com.testproj1.core.model.User\r\n    \torg.hibernate.impl.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:701)\r\n    \torg.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:92)\r\n    \torg.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1080)\r\n    \torg.hibernate.impl.SessionImpl.get(SessionImpl.java:997)\r\n    \torg.hibernate.impl.SessionImpl.get(SessionImpl.java:990)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate$1.doInHibernate(HibernateTemplate.java:519)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:512)\r\n    \torg.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:506)\r\n    \tcom.testproj1.core.doa.UserDaoImpl.get(UserDaoImpl.java:17)\r\n    \tcom.testproj1.core.service.UserServiceImpl.getUser(UserServiceImpl.java:22)\r\n    \tcom.testproj1.web.controllers.HomeController.index(HomeController.java:19)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:597)\r\n    \torg.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436)\r\n    \torg.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:574)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:617)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    testproj1\r\n\r\n\r\nHere is my setup, hibernate.cfg.xml:\r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n    \r\n            &lt;mapping package=&quot;com.testproj1.core.model&quot;/&gt;\r\n    \r\n            &lt;mapping class=&quot;com.testproj1.core.model.User&quot;/&gt;\r\n    \r\n    \r\n        &lt;/session-factory&gt;\r\n    \r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nMy servlet-context.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n    \r\n        &lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing infrastructure --&gt;\r\n    \r\n        &lt;!-- Scans within the base package of the application for @Components to configure as beans --&gt;\r\n        &lt;!-- @Controller, @Service, @Configuration, etc. --&gt;\r\n        &lt;context:component-scan base-package=&quot;com.testproj1&quot; /&gt;\r\n    \r\n        &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n        &lt;mvc:annotation-driven /&gt;\r\n    \r\n    \r\n    \r\n         &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n            &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost/testproj1&quot;/&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;123&quot;/&gt;\r\n            &lt;property name=&quot;maxActive&quot; value=&quot;100&quot;/&gt;\r\n            &lt;property name=&quot;maxIdle&quot; value=&quot;30&quot;/&gt;\r\n            &lt;property name=&quot;maxWait&quot; value=&quot;1000&quot;/&gt;\r\n            &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;removeAbandoned&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;removeAbandonedTimeout&quot; value=&quot;60&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n        &lt;!-- Hibernate SessionFactory --&gt;\r\n        &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n            &lt;!--&lt;property name=&quot;packagesToScan&quot; value=&quot;com.testproj1.core.model&quot;/&gt;--&gt;\r\n            &lt;property name=&quot;configLocation&quot; value=&quot;/WEB-INF/config/hibernate.cfg.xml&quot;/&gt;\r\n            &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n                &lt;value&gt;\r\n                    hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n                    hibernate.query.substitutions=true &#39;Y&#39;, false &#39;N&#39;\r\n                    hibernate.show_sql=true\r\n                &lt;/value&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;com.testproj1.core.model.User&lt;/value&gt;\r\n                &lt;/list&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Transaction manager for a single Hibernate SessionFactory (alternative to JTA) --&gt;\r\n    \r\n    \r\n        &lt;bean id=&quot;userDao&quot; class=&quot;com.testproj1.core.doa.UserDaoImpl&quot;&gt;\r\n            &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\nMy controller:\r\n\r\n    public class HomeController {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n        \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String index() {\r\n            System.out.println(&quot;hello, world!&quot;);\r\n    \r\n            User user = userService.getUser(1);\r\n    \r\n            System.out.println(&quot;Username is: &quot; + user.getUsername());\r\n    \r\n            return &quot;WEB-INF/views/home.jsp&quot;;\r\n        }\r\n    }\r\n\r\n\r\nUserServiceImpl:\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n        @Autowired\r\n        UserDao userDao;\r\n    \r\n        public User getUser(int id) {\r\n            return userDao.get(id);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nUserDaoImpl:\r\n\r\n    public class UserDaoImpl extends GenericDaoImpl&lt;User, Integer&gt; implements UserDao {\r\n    \r\n    \r\n    \r\n        public User get(int id) {\r\n            User user = super.getHibernateTemplate().get(User.class, id); \r\n           \r\n            \r\n            return user;\r\n        }\r\n    \r\n        public void addUser(User user)\r\n        {\r\n            super.getHibernateTemplate().save(user);\r\n        }\r\n        \r\n    }\r\n\r\n\r\nUser model:\r\n\r\n    package com.testproj1.core.model;\r\n\r\n    import org.hibernate.annotations.Entity;\r\n\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name=&quot;users&quot;)\r\n    public class User {\r\n    \r\n        protected Integer id;\r\n        protected String user_name;\r\n    \r\n        @Id\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        @Column\r\n        public String getUsername() {\r\n            return user_name;\r\n        }\r\n    \r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setUsername(String user_name) {\r\n            this.user_name = user_name;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nNow it is obvious it is not picking up my User model for some reason.\r\n\r\nWhat I&#39;m confused is, I did set it so spring would automatically scan the jar for this (at least I think) in the servlet-context.xml in the component-scan tag.\r\n\r\nI also have the annotatedClasses property in the sessionFactory bean tag.\r\n\r\nI commented out the packagesToScan in the sessionFactory bean tag as I was reading that this error could be because of circular references which I think means it is being wired up to many times?","title":"org.springframework.orm.hibernate3.HibernateSystemException: Unknown entity","body":"<p>This is a spring mvc application using IntelliJ.</p>\n\n<p>I'm getting this error:</p>\n\n<pre><code>org.springframework.orm.hibernate3.HibernateSystemException: Unknown entity: com.testproj1.core.model.User; nested exception is org.hibernate.MappingException: Unknown entity: com.testproj1.core.model.User\n    org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:679)\n    org.springframework.orm.hibernate3.HibernateAccessor.convertHibernateAccessException(HibernateAccessor.java:412)\n    org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:411)\n    org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\n    org.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:512)\n    org.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:506)\n    com.testproj1.core.doa.UserDaoImpl.get(UserDaoImpl.java:17)\n    com.testproj1.core.service.UserServiceImpl.getUser(UserServiceImpl.java:22)\n    com.testproj1.web.controllers.HomeController.index(HomeController.java:19)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    java.lang.reflect.Method.invoke(Method.java:597)\n    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:574)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n\nroot cause\n\norg.hibernate.MappingException: Unknown entity: com.testproj1.core.model.User\n    org.hibernate.impl.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:701)\n    org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:92)\n    org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1080)\n    org.hibernate.impl.SessionImpl.get(SessionImpl.java:997)\n    org.hibernate.impl.SessionImpl.get(SessionImpl.java:990)\n    org.springframework.orm.hibernate3.HibernateTemplate$1.doInHibernate(HibernateTemplate.java:519)\n    org.springframework.orm.hibernate3.HibernateTemplate.doExecute(HibernateTemplate.java:406)\n    org.springframework.orm.hibernate3.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:374)\n    org.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:512)\n    org.springframework.orm.hibernate3.HibernateTemplate.get(HibernateTemplate.java:506)\n    com.testproj1.core.doa.UserDaoImpl.get(UserDaoImpl.java:17)\n    com.testproj1.core.service.UserServiceImpl.getUser(UserServiceImpl.java:22)\n    com.testproj1.web.controllers.HomeController.index(HomeController.java:19)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    java.lang.reflect.Method.invoke(Method.java:597)\n    org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:436)\n    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:424)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:669)\n    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:574)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\ntestproj1\n</code></pre>\n\n<p>Here is my setup, hibernate.cfg.xml:</p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n        &lt;mapping package=\"com.testproj1.core.model\"/&gt;\n\n        &lt;mapping class=\"com.testproj1.core.model.User\"/&gt;\n\n\n    &lt;/session-factory&gt;\n\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>My servlet-context.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\"&gt;\n\n    &lt;!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure --&gt;\n\n    &lt;!-- Scans within the base package of the application for @Components to configure as beans --&gt;\n    &lt;!-- @Controller, @Service, @Configuration, etc. --&gt;\n    &lt;context:component-scan base-package=\"com.testproj1\" /&gt;\n\n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;mvc:annotation-driven /&gt;\n\n\n\n     &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost/testproj1\"/&gt;\n        &lt;property name=\"username\" value=\"root\"/&gt;\n        &lt;property name=\"password\" value=\"123\"/&gt;\n        &lt;property name=\"maxActive\" value=\"100\"/&gt;\n        &lt;property name=\"maxIdle\" value=\"30\"/&gt;\n        &lt;property name=\"maxWait\" value=\"1000\"/&gt;\n        &lt;property name=\"defaultAutoCommit\" value=\"true\"/&gt;\n        &lt;property name=\"removeAbandoned\" value=\"true\"/&gt;\n        &lt;property name=\"removeAbandonedTimeout\" value=\"60\"/&gt;\n    &lt;/bean&gt;\n\n\n    &lt;!-- Hibernate SessionFactory --&gt;\n    &lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;!--&lt;property name=\"packagesToScan\" value=\"com.testproj1.core.model\"/&gt;--&gt;\n        &lt;property name=\"configLocation\" value=\"/WEB-INF/config/hibernate.cfg.xml\"/&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;value&gt;\n                hibernate.dialect=org.hibernate.dialect.MySQLDialect\n                hibernate.query.substitutions=true 'Y', false 'N'\n                hibernate.show_sql=true\n            &lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"annotatedClasses\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.testproj1.core.model.User&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Transaction manager for a single Hibernate SessionFactory (alternative to JTA) --&gt;\n\n\n    &lt;bean id=\"userDao\" class=\"com.testproj1.core.doa.UserDaoImpl\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>public class HomeController {\n\n    @Autowired\n    private UserService userService;\n\n    @RequestMapping(\"/\")\n    public String index() {\n        System.out.println(\"hello, world!\");\n\n        User user = userService.getUser(1);\n\n        System.out.println(\"Username is: \" + user.getUsername());\n\n        return \"WEB-INF/views/home.jsp\";\n    }\n}\n</code></pre>\n\n<p>UserServiceImpl:</p>\n\n<pre><code>@Service\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    UserDao userDao;\n\n    public User getUser(int id) {\n        return userDao.get(id);\n    }\n\n}\n</code></pre>\n\n<p>UserDaoImpl:</p>\n\n<pre><code>public class UserDaoImpl extends GenericDaoImpl&lt;User, Integer&gt; implements UserDao {\n\n\n\n    public User get(int id) {\n        User user = super.getHibernateTemplate().get(User.class, id); \n\n\n        return user;\n    }\n\n    public void addUser(User user)\n    {\n        super.getHibernateTemplate().save(user);\n    }\n\n}\n</code></pre>\n\n<p>User model:</p>\n\n<pre><code>package com.testproj1.core.model;\n\nimport org.hibernate.annotations.Entity;\n\n\nimport javax.persistence.Column;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=\"users\")\npublic class User {\n\n    protected Integer id;\n    protected String user_name;\n\n    @Id\n    public Integer getId() {\n        return id;\n    }\n\n    @Column\n    public String getUsername() {\n        return user_name;\n    }\n\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public void setUsername(String user_name) {\n        this.user_name = user_name;\n    }\n\n}\n</code></pre>\n\n<p>Now it is obvious it is not picking up my User model for some reason.</p>\n\n<p>What I'm confused is, I did set it so spring would automatically scan the jar for this (at least I think) in the servlet-context.xml in the component-scan tag.</p>\n\n<p>I also have the annotatedClasses property in the sessionFactory bean tag.</p>\n\n<p>I commented out the packagesToScan in the sessionFactory bean tag as I was reading that this error could be because of circular references which I think means it is being wired up to many times?</p>\n"},{"tags":["java","list","collections","linked-list"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669121170,"post_id":74532688,"comment_id":131567442,"body_markdown":"Is there a special reason why it&#39;s `Accounts` and not `Account`?","body":"Is there a special reason why it&#39;s <code>Accounts</code> and not <code>Account</code>?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669120726,"creation_date":1669120726,"answer_id":74532764,"question_id":74532688,"body_markdown":"You need a common type that is shared by all elements of the bank. Trivially, `java.lang.Object` is common to them all, but perhaps you&#39;re being asked to make e.g. `public interface ElementOfBank`, so that you can then declare your Person class as `class Person implements ElementOfBank {}`. \r\n\r\nOnce you&#39;ve done that, you can declare your list to be of that element: `List&lt;ElementOfBank&gt; elements = ...;`, and you could call `.addAll(persons)` on such a list. After all, every person instance is also an ElementOfBank, that&#39;s what `class Person implements ElementOfBank` means.\r\n","title":"How to use addAll() with different types","body":"<p>You need a common type that is shared by all elements of the bank. Trivially, <code>java.lang.Object</code> is common to them all, but perhaps you're being asked to make e.g. <code>public interface ElementOfBank</code>, so that you can then declare your Person class as <code>class Person implements ElementOfBank {}</code>.</p>\n<p>Once you've done that, you can declare your list to be of that element: <code>List&lt;ElementOfBank&gt; elements = ...;</code>, and you could call <code>.addAll(persons)</code> on such a list. After all, every person instance is also an ElementOfBank, that's what <code>class Person implements ElementOfBank</code> means.</p>\n"},{"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1669123833,"post_id":74532840,"comment_id":131568429,"body_markdown":"Yes. ElementsOfTheBank could also be an interface","body":"Yes. ElementsOfTheBank could also be an interface"}],"tags":[],"owner":{"account_id":22371140,"reputation":137,"user_id":16586200,"display_name":"7evy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669121065,"creation_date":1669121065,"answer_id":74532840,"question_id":74532688,"body_markdown":"This is a kind of bad example, but your teacher probably wants you to use [inheritance][1].\r\n\r\nAs a person and an account are both &quot;elements of the bank&quot;, your classes can look like this:\r\n\r\n```\r\nclass ElementsOfTheBank {\r\n    // common variables between Person and Account\r\n}\r\n\r\nclass Person extends ElementsOfTheBank {\r\n    // ...\r\n}\r\n\r\nclass Account extends ElementsOfTheBank {\r\n    // ...\r\n}\r\n```\r\n\r\nThen you can add both types to your list:\r\n\r\n```\r\nList&lt;ElementsOfTheBank&gt; elements = new LinkedList&lt;&gt;();\r\nelements.addAll(persons);\r\nelements.addAll(accounts);\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)","title":"How to use addAll() with different types","body":"<p>This is a kind of bad example, but your teacher probably wants you to use <a href=\"https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)\" rel=\"nofollow noreferrer\">inheritance</a>.</p>\n<p>As a person and an account are both &quot;elements of the bank&quot;, your classes can look like this:</p>\n<pre><code>class ElementsOfTheBank {\n    // common variables between Person and Account\n}\n\nclass Person extends ElementsOfTheBank {\n    // ...\n}\n\nclass Account extends ElementsOfTheBank {\n    // ...\n}\n</code></pre>\n<p>Then you can add both types to your list:</p>\n<pre><code>List&lt;ElementsOfTheBank&gt; elements = new LinkedList&lt;&gt;();\nelements.addAll(persons);\nelements.addAll(accounts);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1669121918,"post_id":74532865,"comment_id":131567713,"body_markdown":"For a real life project, you are right. But this is an artificial exercise for newbies that should most probably learn inheritance and polymorphism through it. In that respect, your answer is wrong, or at least not helpful.","body":"For a real life project, you are right. But this is an artificial exercise for newbies that should most probably learn inheritance and polymorphism through it. In that respect, your answer is wrong, or at least not helpful."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1669122991,"post_id":74532865,"comment_id":131568131,"body_markdown":"@tquadrat The Answers on SO a meant to bring **Value** to the **Readers** (not only to OP). You&#39;ve admitted the logic is correct, how the answer is not helpful. Secondly, Collection-abuse is a very common antipattern among beginners, none can really understand OO, if they are not able to recognize that a set of properties should constitute an Object. That&#39;s an essential Class-design, not an enterprise development It seems like you&#39;ve missed the point, of what I was talking about. If I may, I would kindly suggest to avoid making opinionated comments (did you so OP&#39;s assignment requirements?).","body":"@tquadrat The Answers on SO a meant to bring <b>Value</b> to the <b>Readers</b> (not only to OP). You&#39;ve admitted the logic is correct, how the answer is not helpful. Secondly, Collection-abuse is a very common antipattern among beginners, none can really understand OO, if they are not able to recognize that a set of properties should constitute an Object. That&#39;s an essential Class-design, not an enterprise development It seems like you&#39;ve missed the point, of what I was talking about. If I may, I would kindly suggest to avoid making opinionated comments (did you so OP&#39;s assignment requirements?)."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":1,"creation_date":1669150302,"post_id":74532865,"comment_id":131578059,"body_markdown":"Nice to read about opinionated comments under an opinion based answer. Nobody would have complained about your &quot;answer&quot; if you really had provided an answer to question and *afterwards* came up with you sermon on proper design and collection-abuse (see the answer from  7evy on how this could look like). And by the way, that sermon is wasted to the questioner, because he just just forwarded the poorly designed question from his teacher/instructor/professor to us.","body":"Nice to read about opinionated comments under an opinion based answer. Nobody would have complained about your &quot;answer&quot; if you really had provided an answer to question and <i>afterwards</i> came up with you sermon on proper design and collection-abuse (see the answer from  7evy on how this could look like). And by the way, that sermon is wasted to the questioner, because he just just forwarded the poorly designed question from his teacher/instructor/professor to us."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1669150485,"post_id":74532865,"comment_id":131578112,"body_markdown":"So your vote should signify that this answer has no value? I would appreciate if you would provide a constructive criticism instead of talking on behalf OP.","body":"So your vote should signify that this answer has no value? I would appreciate if you would provide a constructive criticism instead of talking on behalf OP."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669121839,"creation_date":1669121185,"answer_id":74532865,"question_id":74532688,"body_markdown":"Don&#39;t use Collections just to combine correlated objects together.\r\n\r\nIt doesn&#39;t make much sense to create a `List&lt;Object&gt;` in order to `Person` and `Account` lists together. Introducing a common super of `Person` and `Account` doesn&#39;t seem to be a great idea as well. What is the advantage of binding through Inheritance a physical person and a bank account? I would rather suggest establishing the relationship between a person and their accounts through Composition (not Inheritance).\r\n\r\nThe better option would be to create a `class`, let&#39;s say `Bank`. That would encapsulate the two lists. I.e. you can introduce behavior for managing bank-clients and their accounts, and bank instance would become a single entry point for all operation you need to perform with them.\r\n\r\n    public class Bank {\r\n        private List&lt;Person&gt; persons= new LinkedList&lt;&gt;();\r\n        private List&lt;Accounts&gt; accounts= new LinkedList&lt;&gt;();\r\n    \r\n        // constructors, getters\r\n        \r\n        public boolean createAccount() {\r\n            // TO DO ...\r\n            return ...;\r\n        }\r\n    \r\n        public Person findPerson(SomeProperty id) {\r\n            // TO DO ...\r\n            return ...;\r\n        }\r\n    }","title":"How to use addAll() with different types","body":"<p>Don't use Collections just to combine correlated objects together.</p>\n<p>It doesn't make much sense to create a <code>List&lt;Object&gt;</code> in order to <code>Person</code> and <code>Account</code> lists together. Introducing a common super of <code>Person</code> and <code>Account</code> doesn't seem to be a great idea as well. What is the advantage of binding through Inheritance a physical person and a bank account? I would rather suggest establishing the relationship between a person and their accounts through Composition (not Inheritance).</p>\n<p>The better option would be to create a <code>class</code>, let's say <code>Bank</code>. That would encapsulate the two lists. I.e. you can introduce behavior for managing bank-clients and their accounts, and bank instance would become a single entry point for all operation you need to perform with them.</p>\n<pre><code>public class Bank {\n    private List&lt;Person&gt; persons= new LinkedList&lt;&gt;();\n    private List&lt;Accounts&gt; accounts= new LinkedList&lt;&gt;();\n\n    // constructors, getters\n    \n    public boolean createAccount() {\n        // TO DO ...\n        return ...;\n    }\n\n    public Person findPerson(SomeProperty id) {\n        // TO DO ...\n        return ...;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27012754,"reputation":13,"user_id":20572123,"display_name":"FranS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74532764,"answer_count":3,"score":1,"last_activity_date":1669121839,"creation_date":1669120372,"question_id":74532688,"body_markdown":"I have a course project and I am not able to solve the following problem:\r\n\r\nI need to create a linkedlist in which I can add a list of elements from a class called Person, and a list of elements from a class called Accounts using addAll()\r\n\r\n\r\n```\r\nList&lt;Person&gt; persons= new LinkedList&lt;Person&gt;();\r\n```\r\n\r\n```\r\nList&lt;Accounts&gt; accounts= new LinkedList&lt;Accounts&gt;();\r\n```\r\n\r\n\r\n```\r\nList&lt;???&gt; elements = new LinkedList&lt;&gt;();\r\n```\r\n\r\n```\r\nelements.addAll(persons);\r\nelements.addAll(accounts);\r\n\r\n```\r\n\r\n\r\nMy teacher ordered to make a class ElementsOfTheBank to fill the place with ???, but I couldn&#39;t understand how to make it work :(","title":"How to use addAll() with different types","body":"<p>I have a course project and I am not able to solve the following problem:</p>\n<p>I need to create a linkedlist in which I can add a list of elements from a class called Person, and a list of elements from a class called Accounts using addAll()</p>\n<pre><code>List&lt;Person&gt; persons= new LinkedList&lt;Person&gt;();\n</code></pre>\n<pre><code>List&lt;Accounts&gt; accounts= new LinkedList&lt;Accounts&gt;();\n</code></pre>\n<pre><code>List&lt;???&gt; elements = new LinkedList&lt;&gt;();\n</code></pre>\n<pre><code>elements.addAll(persons);\nelements.addAll(accounts);\n\n</code></pre>\n<p>My teacher ordered to make a class ElementsOfTheBank to fill the place with ???, but I couldn't understand how to make it work :(</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1554553382,"post_id":1142837,"comment_id":97799652,"body_markdown":"As an alternative to using mockito in these cases, you can consider creating a custom stub that extends the mockedObject&#39;s class, and overrides someMethodOnMockedObject to save the object for later comparison.","body":"As an alternative to using mockito in these cases, you can consider creating a custom stub that extends the mockedObject&#39;s class, and overrides someMethodOnMockedObject to save the object for later comparison."}],"answers":[{"comments":[{"owner":{"account_id":2154177,"reputation":2598,"user_id":1909798,"accept_rate":86,"display_name":"robsonrosa"},"score":2,"creation_date":1438794428,"post_id":7436872,"comment_id":51598998,"body_markdown":"if your method has more than one argument, you must use Matchers for all others arguments too. https://akcasoy.wordpress.com/tag/argumentcaptor/","body":"if your method has more than one argument, you must use Matchers for all others arguments too. <a href=\"https://akcasoy.wordpress.com/tag/argumentcaptor/\" rel=\"nofollow noreferrer\">akcasoy.wordpress.com/tag/argumentcaptor</a>"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":1,"creation_date":1487946315,"post_id":7436872,"comment_id":72025873,"body_markdown":"What if there are multiple arguments?  How you specify the exact one you are interested in?","body":"What if there are multiple arguments?  How you specify the exact one you are interested in?"},{"owner":{"account_id":468196,"reputation":1176,"user_id":874041,"accept_rate":83,"display_name":"GreenTurtle"},"score":2,"creation_date":1491564229,"post_id":7436872,"comment_id":73621535,"body_markdown":"@IgorGanapolsky Assuming a second String parameter for doSomething you need to do: verify(mock).doSomething(argument.capture(), anyString());","body":"@IgorGanapolsky Assuming a second String parameter for doSomething you need to do: verify(mock).doSomething(argument.capture(), anyString());"},{"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"score":0,"creation_date":1512156434,"post_id":7436872,"comment_id":82158899,"body_markdown":"the need to use matchers for all arguments is solely per standard all-or-none matcher usage spec.","body":"the need to use matchers for all arguments is solely per standard all-or-none matcher usage spec."}],"tags":[],"owner":{"account_id":136313,"reputation":11367,"user_id":339725,"accept_rate":82,"display_name":"iraSenthil"},"comment_count":4,"down_vote_count":1,"up_vote_count":665,"is_accepted":false,"score":664,"last_activity_date":1557916034,"creation_date":1316117379,"answer_id":7436872,"question_id":1142837,"body_markdown":"New feature added to Mockito makes this even easier,\r\n\r\n    ArgumentCaptor&lt;Person&gt; argument = ArgumentCaptor.forClass(Person.class);\r\n    verify(mock).doSomething(argument.capture());\r\n    assertEquals(&quot;John&quot;, argument.getValue().getName());\r\nTake a look at Mockito [documentation][1]\r\n\r\n\r\n  [1]: http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#15\r\n\r\n---\r\nIn case when there are more than one parameters, and capturing of only single param is desired, use other ArgumentMatchers to wrap the rest of the arguments:\r\n\r\n    verify(mock).doSomething(eq(someValue), eq(someOtherValue), argument.capture());\r\n    assertEquals(&quot;John&quot;, argument.getValue().getName());","title":"Verify object attribute value with mockito","body":"<p>New feature added to Mockito makes this even easier,</p>\n\n<pre><code>ArgumentCaptor&lt;Person&gt; argument = ArgumentCaptor.forClass(Person.class);\nverify(mock).doSomething(argument.capture());\nassertEquals(\"John\", argument.getValue().getName());\n</code></pre>\n\n<p>Take a look at Mockito <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#15\" rel=\"noreferrer\">documentation</a></p>\n\n<hr>\n\n<p>In case when there are more than one parameters, and capturing of only single param is desired, use other ArgumentMatchers to wrap the rest of the arguments:</p>\n\n<pre><code>verify(mock).doSomething(eq(someValue), eq(someOtherValue), argument.capture());\nassertEquals(\"John\", argument.getValue().getName());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3743722,"reputation":330,"user_id":3112916,"display_name":"buer"},"score":5,"creation_date":1516476980,"post_id":10392123,"comment_id":83707311,"body_markdown":"Sidenote: make sure the `Matchers` package is correct, as writing the same line of code with the `org.mockito.Matchers` class throws a misleading exception stating that the mock function&#39;s parameter simply doesn&#39;t match.","body":"Sidenote: make sure the <code>Matchers</code> package is correct, as writing the same line of code with the <code>org.mockito.Matchers</code> class throws a misleading exception stating that the mock function&#39;s parameter simply doesn&#39;t match."},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":5,"creation_date":1563373166,"post_id":10392123,"comment_id":100679337,"body_markdown":"Please note that in modern Mockito versions, it is `MockitoHamcrest.argThat()` and not `Mockito.argThat()`","body":"Please note that in modern Mockito versions, it is <code>MockitoHamcrest.argThat()</code> and not <code>Mockito.argThat()</code>"}],"tags":[],"owner":{"account_id":310616,"reputation":1699,"user_id":623698,"display_name":"charleyc"},"comment_count":2,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1584723933,"creation_date":1335831439,"answer_id":10392123,"question_id":1142837,"body_markdown":"One more possibility, if you don&#39;t want to use `ArgumentCaptor` (for example, because you&#39;re also using stubbing), is to use Hamcrest Matchers in combination with Mockito.\r\n\r\n    import org.mockito.Mockito\r\n    import org.hamcrest.Matchers\r\n    ...\r\n    \r\n    Mockito.verify(mockedObject).someMethodOnMockedObject(MockitoHamcrest.argThat(\r\n        Matchers.&lt;SomeObjectAsArgument&gt;hasProperty(&quot;propertyName&quot;, desiredValue)));","title":"Verify object attribute value with mockito","body":"<p>One more possibility, if you don't want to use <code>ArgumentCaptor</code> (for example, because you're also using stubbing), is to use Hamcrest Matchers in combination with Mockito.</p>\n\n<pre><code>import org.mockito.Mockito\nimport org.hamcrest.Matchers\n...\n\nMockito.verify(mockedObject).someMethodOnMockedObject(MockitoHamcrest.argThat(\n    Matchers.&lt;SomeObjectAsArgument&gt;hasProperty(\"propertyName\", desiredValue)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":1,"creation_date":1550157353,"post_id":23950354,"comment_id":96174713,"body_markdown":"that&#39;s a very elegant way but unfortunately org.mockito.Matchers is now deprecated","body":"that&#39;s a very elegant way but unfortunately org.mockito.Matchers is now deprecated"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":11,"creation_date":1556711334,"post_id":23950354,"comment_id":98524070,"body_markdown":"@ihebiheb It&#39;s moved to ArgumentMatchers","body":"@ihebiheb It&#39;s moved to ArgumentMatchers"},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1631097787,"post_id":23950354,"comment_id":122130011,"body_markdown":"Not seeing how this remotely answer the question of comparing fields:\n&quot;I want to check that argument object contains some particular fields&quot;","body":"Not seeing how this remotely answer the question of comparing fields: &quot;I want to check that argument object contains some particular fields&quot;"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1641494562,"post_id":23950354,"comment_id":124824639,"body_markdown":"This solution is useful _especially_ when you need to match arguments that do not implement `equals()`. I was trying to find a question/answer specifically about that usecase but didn’t find one, strangely. Yet I’m hesitant to post a self-answered question about this since I’m pretty sure there must be a duplicate somewhere…","body":"This solution is useful <i>especially</i> when you need to match arguments that do not implement <code>equals()</code>. I was trying to find a question/answer specifically about that usecase but didn’t find one, strangely. Yet I’m hesitant to post a self-answered question about this since I’m pretty sure there must be a duplicate somewhere…"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1641494716,"post_id":23950354,"comment_id":124824696,"body_markdown":"@oligofren `refEq` will check all fields through reflection, so it will cover the “_particular fields_” automatically. Moreover, if you do not need all of them, you can exclude some. The only cease it does not really cover is when your whitelist is shorter than your blacklist, e.g., you want only to test a few fields among many.","body":"@oligofren <code>refEq</code> will check all fields through reflection, so it will cover the “<i>particular fields</i>” automatically. Moreover, if you do not need all of them, you can exclude some. The only cease it does not really cover is when your whitelist is shorter than your blacklist, e.g., you want only to test a few fields among many."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1641538712,"post_id":23950354,"comment_id":124834588,"body_markdown":"Good comments. Might as well just update and expand this answer.","body":"Good comments. Might as well just update and expand this answer."}],"tags":[],"owner":{"account_id":2691426,"reputation":3360,"user_id":2324685,"accept_rate":70,"display_name":"John29"},"comment_count":6,"down_vote_count":1,"up_vote_count":87,"is_accepted":false,"score":86,"last_activity_date":1597230526,"creation_date":1401439131,"answer_id":23950354,"question_id":1142837,"body_markdown":"I think the easiest way for verifying an argument object is to use the `refEq` method:\r\n\r\n    Mockito.verify(mockedObject).someMethodOnMockedObject(ArgumentMatchers.refEq(objectToCompareWith));\r\n\r\nIt can be used even if the object doesn&#39;t implement `equals()`, because reflection is used. If you don&#39;t want to compare some fields, just add their names as arguments for `refEq`.\r\n","title":"Verify object attribute value with mockito","body":"<p>I think the easiest way for verifying an argument object is to use the <code>refEq</code> method:</p>\n<pre><code>Mockito.verify(mockedObject).someMethodOnMockedObject(ArgumentMatchers.refEq(objectToCompareWith));\n</code></pre>\n<p>It can be used even if the object doesn't implement <code>equals()</code>, because reflection is used. If you don't want to compare some fields, just add their names as arguments for <code>refEq</code>.</p>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1487946594,"post_id":29542266,"comment_id":72026055,"body_markdown":"This will only work for a single argument in params.","body":"This will only work for a single argument in params."},{"owner":{"account_id":538604,"reputation":6852,"user_id":906523,"accept_rate":78,"display_name":"Walery Strauch"},"score":0,"creation_date":1487947329,"post_id":29542266,"comment_id":72026548,"body_markdown":"You can use one captor for more than one argument. If you capture more than one argument you can list of all results with `captor.getAllValues()`. The method  `captor.getValue()` that is used in answer delivers last result.","body":"You can use one captor for more than one argument. If you capture more than one argument you can list of all results with <code>captor.getAllValues()</code>. The method  <code>captor.getValue()</code> that is used in answer delivers last result."}],"tags":[],"owner":{"account_id":538604,"reputation":6852,"user_id":906523,"accept_rate":78,"display_name":"Walery Strauch"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1467740574,"creation_date":1428592079,"answer_id":29542266,"question_id":1142837,"body_markdown":"This is answer based on [answer from iraSenthil][1] but with annotation ([Captor][2]). In my opinion it has some advantages:\r\n\r\n * it&#39;s shorter\r\n * it&#39;s easier to read\r\n * it can handle generics without warnings\r\n\r\nExample:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SomeTest{\r\n\r\n        @Captor\r\n        private ArgumentCaptor&lt;List&lt;SomeType&gt;&gt; captor;\r\n\r\n        //...\r\n\r\n        @Test \r\n        public void shouldTestArgsVals() {\r\n            //...\r\n            verify(mockedObject).someMethodOnMockedObject(captor.capture());\r\n\r\n            assertThat(captor.getValue().getXXX(), is(&quot;expected&quot;));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7436872/906523\r\n  [2]: http://site.mockito.org/mockito/docs/current/org/mockito/Captor.html\n","title":"Verify object attribute value with mockito","body":"<p>This is answer based on <a href=\"https://stackoverflow.com/a/7436872/906523\">answer from iraSenthil</a> but with annotation (<a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Captor.html\" rel=\"noreferrer\">Captor</a>). In my opinion it has some advantages:</p>\n\n<ul>\n<li>it's shorter</li>\n<li>it's easier to read</li>\n<li>it can handle generics without warnings</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class SomeTest{\n\n    @Captor\n    private ArgumentCaptor&lt;List&lt;SomeType&gt;&gt; captor;\n\n    //...\n\n    @Test \n    public void shouldTestArgsVals() {\n        //...\n        verify(mockedObject).someMethodOnMockedObject(captor.capture());\n\n        assertThat(captor.getValue().getXXX(), is(\"expected\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40168,"reputation":7421,"user_id":116301,"accept_rate":89,"display_name":"GuiSim"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1458244566,"creation_date":1458244566,"answer_id":36070480,"question_id":1142837,"body_markdown":"If you&#39;re using Java 8, you can use Lambda expressions to match.\r\n\r\n    import java.util.Optional;\r\n    import java.util.function.Predicate;\r\n    \r\n    import org.hamcrest.BaseMatcher;\r\n    import org.hamcrest.Description;\r\n    \r\n    public class LambdaMatcher&lt;T&gt; extends BaseMatcher&lt;T&gt;\r\n    {\r\n        private final Predicate&lt;T&gt; matcher;\r\n        private final Optional&lt;String&gt; description;\r\n    \r\n        public LambdaMatcher(Predicate&lt;T&gt; matcher)\r\n        {\r\n            this(matcher, null);\r\n        }\r\n    \r\n        public LambdaMatcher(Predicate&lt;T&gt; matcher, String description)\r\n        {\r\n            this.matcher = matcher;\r\n            this.description = Optional.ofNullable(description);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public boolean matches(Object argument)\r\n        {\r\n            return matcher.test((T) argument);\r\n        }\r\n    \r\n        @Override\r\n        public void describeTo(Description description)\r\n        {\r\n            this.description.ifPresent(description::appendText);\r\n        }\r\n    }\r\n\r\nExample call\r\n\r\n    @Test\r\n    public void canFindEmployee()\r\n    {\r\n        Employee employee = new Employee(&quot;John&quot;);\r\n        company.addEmployee(employee);\r\n    \r\n        verify(mockedDal).registerEmployee(argThat(new LambdaMatcher&lt;&gt;(e -&gt; e.getName()\r\n                                                                             .equals(employee.getName()))));\r\n    }\r\n\r\nMore info: http://source.coveo.com/2014/10/01/java8-mockito/","title":"Verify object attribute value with mockito","body":"<p>If you're using Java 8, you can use Lambda expressions to match.</p>\n\n<pre><code>import java.util.Optional;\nimport java.util.function.Predicate;\n\nimport org.hamcrest.BaseMatcher;\nimport org.hamcrest.Description;\n\npublic class LambdaMatcher&lt;T&gt; extends BaseMatcher&lt;T&gt;\n{\n    private final Predicate&lt;T&gt; matcher;\n    private final Optional&lt;String&gt; description;\n\n    public LambdaMatcher(Predicate&lt;T&gt; matcher)\n    {\n        this(matcher, null);\n    }\n\n    public LambdaMatcher(Predicate&lt;T&gt; matcher, String description)\n    {\n        this.matcher = matcher;\n        this.description = Optional.ofNullable(description);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public boolean matches(Object argument)\n    {\n        return matcher.test((T) argument);\n    }\n\n    @Override\n    public void describeTo(Description description)\n    {\n        this.description.ifPresent(description::appendText);\n    }\n}\n</code></pre>\n\n<p>Example call</p>\n\n<pre><code>@Test\npublic void canFindEmployee()\n{\n    Employee employee = new Employee(\"John\");\n    company.addEmployee(employee);\n\n    verify(mockedDal).registerEmployee(argThat(new LambdaMatcher&lt;&gt;(e -&gt; e.getName()\n                                                                         .equals(employee.getName()))));\n}\n</code></pre>\n\n<p>More info: <a href=\"http://source.coveo.com/2014/10/01/java8-mockito/\" rel=\"noreferrer\">http://source.coveo.com/2014/10/01/java8-mockito/</a></p>\n"},{"tags":[],"owner":{"account_id":9792455,"reputation":21,"user_id":7256627,"display_name":"zaid bepari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481115908,"creation_date":1481115908,"answer_id":41018303,"question_id":1142837,"body_markdown":"You can refer the following:\r\n\r\n    Mockito.verify(mockedObject).someMethodOnMockedObject(eq(desiredObject))\r\n\r\nThis will verify whether method of mockedObject is called with desiredObject as parameter.\r\n ","title":"Verify object attribute value with mockito","body":"<p>You can refer the following:</p>\n\n<pre><code>Mockito.verify(mockedObject).someMethodOnMockedObject(eq(desiredObject))\n</code></pre>\n\n<p>This will verify whether method of mockedObject is called with desiredObject as parameter.</p>\n"},{"tags":[],"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595307324,"creation_date":1488003173,"answer_id":42452642,"question_id":1142837,"body_markdown":"The javadoc for refEq mentioned that the equality check is shallow! You can find more details at the link below:\r\n\r\nhttps://static.javadoc.io/org.mockito/mockito-core/2.2.29/org/mockito/ArgumentMatchers.html#refEq(T,%20java.lang.String...)\r\n\r\n&quot;shallow equality&quot; issue cannot be controlled when you use other classes which don&#39;t implement .equals() method,&quot;DefaultMongoTypeMapper&quot; class is an example  where .equals() method is not implemented. \r\n\r\norg.springframework.beans.factory.support offers a method that can generate a bean definition instead of creating an instance of the object, and it can be used to git rid of Comparison Failure. \r\n\r\n     genericBeanDefinition(DefaultMongoTypeMapper.class)\r\n                            .setScope(SCOPE_SINGLETON)\r\n                            .setAutowireMode(AUTOWIRE_CONSTRUCTOR)\r\n                            .setLazyInit(false)\r\n                            .addConstructorArgValue(null)\r\n                            .getBeanDefinition()\r\n\r\n**&quot;The bean definition is only a description of the bean, not a bean itself. \r\nthe bean descriptions properly implement equals() and hashCode(), so rather than creating a new DefaultMongoTypeMapper() we provide a definition that tells spring how it should create one&quot;\r\n\r\nIn your example, you can do somethong like this \r\n\r\n    Mockito.verify(mockedObject)\r\n           .doSoething(genericBeanDefinition(YourClass.class).setA(&quot;a&quot;)\r\n           .getBeanDefinition());","title":"Verify object attribute value with mockito","body":"<p>The javadoc for refEq mentioned that the equality check is shallow! You can find more details at the link below:</p>\n<p><a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.2.29/org/mockito/ArgumentMatchers.html#refEq(T,%20java.lang.String...)\" rel=\"nofollow noreferrer\">https://static.javadoc.io/org.mockito/mockito-core/2.2.29/org/mockito/ArgumentMatchers.html#refEq(T,%20java.lang.String...)</a></p>\n<p>&quot;shallow equality&quot; issue cannot be controlled when you use other classes which don't implement .equals() method,&quot;DefaultMongoTypeMapper&quot; class is an example  where .equals() method is not implemented.</p>\n<p>org.springframework.beans.factory.support offers a method that can generate a bean definition instead of creating an instance of the object, and it can be used to git rid of Comparison Failure.</p>\n<pre><code> genericBeanDefinition(DefaultMongoTypeMapper.class)\n                        .setScope(SCOPE_SINGLETON)\n                        .setAutowireMode(AUTOWIRE_CONSTRUCTOR)\n                        .setLazyInit(false)\n                        .addConstructorArgValue(null)\n                        .getBeanDefinition()\n</code></pre>\n<p>**&quot;The bean definition is only a description of the bean, not a bean itself.\nthe bean descriptions properly implement equals() and hashCode(), so rather than creating a new DefaultMongoTypeMapper() we provide a definition that tells spring how it should create one&quot;</p>\n<p>In your example, you can do somethong like this</p>\n<pre><code>Mockito.verify(mockedObject)\n       .doSoething(genericBeanDefinition(YourClass.class).setA(&quot;a&quot;)\n       .getBeanDefinition());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1862982,"reputation":2053,"user_id":1687169,"display_name":"whizzle"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1510267308,"creation_date":1510267308,"answer_id":47212837,"question_id":1142837,"body_markdown":"The solutions above didn&#39;t really work in my case. I couldn&#39;t use ArgumentCaptor as the method was called several times and I needed to validate each one. A simple Matcher with &quot;argThat&quot; did the trick easily. \r\n\r\n\r\n**Custom Matcher**\r\n\r\n    // custom matcher\r\n    private class PolygonMatcher extends ArgumentMatcher&lt;PolygonOptions&gt; {\r\n        private int fillColor;\r\n        public PolygonMatcher(int fillColor) {\r\n            this.fillColor = fillColor;\r\n        }\r\n\r\n        @Override\r\n        public boolean matches(Object argument) {\r\n            if (!(argument instanceof PolygonOptions)) return false;\r\n            PolygonOptions arg = (PolygonOptions)argument;\r\n            return Color.red(arg.getFillColor()) == Color.red(fillColor)\r\n                    &amp;&amp; Color.green(arg.getFillColor()) == Color.green(fillColor)\r\n                    &amp;&amp; Color.blue(arg.getFillColor()) == Color.blue(fillColor);\r\n        }\r\n    }\r\n\r\n\r\n**Test Runner**\r\n\r\n    // do setup work setup\r\n    // 3 light green polygons\r\n    int green = getContext().getResources().getColor(R.color.dmb_rx_bucket1);\r\n    verify(map, times(3)).addPolygon(argThat(new PolygonMatcher(green)));\r\n\r\n    // 1 medium yellow polygons\r\n    int yellow = getContext().getResources().getColor(R.color.dmb_rx_bucket4);\r\n        verify(map, times(1)).addPolygon(argThat(new PolygonMatcher(yellow)));\r\n\r\n    // 3 red polygons\r\n    int orange = getContext().getResources().getColor(R.color.dmb_rx_bucket5);\r\n    verify(map, times(3)).addPolygon(argThat(new PolygonMatcher(orange)));\r\n\r\n    // 2 red polygons\r\n    int red = getContext().getResources().getColor(R.color.dmb_rx_bucket7);\r\n    verify(map, times(2)).addPolygon(argThat(new PolygonMatcher(red)));","title":"Verify object attribute value with mockito","body":"<p>The solutions above didn't really work in my case. I couldn't use ArgumentCaptor as the method was called several times and I needed to validate each one. A simple Matcher with \"argThat\" did the trick easily. </p>\n\n<p><strong>Custom Matcher</strong></p>\n\n<pre><code>// custom matcher\nprivate class PolygonMatcher extends ArgumentMatcher&lt;PolygonOptions&gt; {\n    private int fillColor;\n    public PolygonMatcher(int fillColor) {\n        this.fillColor = fillColor;\n    }\n\n    @Override\n    public boolean matches(Object argument) {\n        if (!(argument instanceof PolygonOptions)) return false;\n        PolygonOptions arg = (PolygonOptions)argument;\n        return Color.red(arg.getFillColor()) == Color.red(fillColor)\n                &amp;&amp; Color.green(arg.getFillColor()) == Color.green(fillColor)\n                &amp;&amp; Color.blue(arg.getFillColor()) == Color.blue(fillColor);\n    }\n}\n</code></pre>\n\n<p><strong>Test Runner</strong></p>\n\n<pre><code>// do setup work setup\n// 3 light green polygons\nint green = getContext().getResources().getColor(R.color.dmb_rx_bucket1);\nverify(map, times(3)).addPolygon(argThat(new PolygonMatcher(green)));\n\n// 1 medium yellow polygons\nint yellow = getContext().getResources().getColor(R.color.dmb_rx_bucket4);\n    verify(map, times(1)).addPolygon(argThat(new PolygonMatcher(yellow)));\n\n// 3 red polygons\nint orange = getContext().getResources().getColor(R.color.dmb_rx_bucket5);\nverify(map, times(3)).addPolygon(argThat(new PolygonMatcher(orange)));\n\n// 2 red polygons\nint red = getContext().getResources().getColor(R.color.dmb_rx_bucket7);\nverify(map, times(2)).addPolygon(argThat(new PolygonMatcher(red)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10166574,"reputation":4392,"user_id":7508302,"display_name":"Cililing"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1544094064,"creation_date":1544094064,"answer_id":53649939,"question_id":1142837,"body_markdown":"And very nice and clean solution in koltin from `com.nhaarman.mockito_kotlin`\r\n\r\n    verify(mock).execute(argThat {\r\n        this.param = expected\r\n    })","title":"Verify object attribute value with mockito","body":"<p>And very nice and clean solution in koltin from <code>com.nhaarman.mockito_kotlin</code></p>\n\n<pre><code>verify(mock).execute(argThat {\n    this.param = expected\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401324,"reputation":1590,"user_id":767823,"accept_rate":48,"display_name":"pierrefevrier"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1550073604,"creation_date":1550073604,"answer_id":54674430,"question_id":1142837,"body_markdown":"Another easy way to do so:\r\n\r\n    import org.mockito.BDDMockito;    \r\n    import static org.mockito.Matchers.argThat;\r\n    import org.mockito.ArgumentMatcher;\r\n\r\n    BDDMockito.verify(mockedObject)\r\n            .someMethodOnMockedObject(argThat(new ArgumentMatcher&lt;TypeOfMethodArg&gt;() {\r\n    \r\n                @Override\r\n                public boolean matches(Object argument) {\r\n                    final TypeOfMethodArg castedArg = (TypeOfMethodArg) argument;\r\n    \r\n                    // Make your verifications and return a boolean to say if it matches or not\r\n                    boolean isArgMarching = true;\r\n    \r\n                    return isArgMarching;\r\n                }\r\n            }));","title":"Verify object attribute value with mockito","body":"<p>Another easy way to do so:</p>\n\n<pre><code>import org.mockito.BDDMockito;    \nimport static org.mockito.Matchers.argThat;\nimport org.mockito.ArgumentMatcher;\n\nBDDMockito.verify(mockedObject)\n        .someMethodOnMockedObject(argThat(new ArgumentMatcher&lt;TypeOfMethodArg&gt;() {\n\n            @Override\n            public boolean matches(Object argument) {\n                final TypeOfMethodArg castedArg = (TypeOfMethodArg) argument;\n\n                // Make your verifications and return a boolean to say if it matches or not\n                boolean isArgMarching = true;\n\n                return isArgMarching;\n            }\n        }));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":61942,"reputation":2494,"user_id":184325,"accept_rate":64,"display_name":"Chris R"},"score":0,"creation_date":1619086525,"post_id":62467795,"comment_id":118800815,"body_markdown":"There&#39;s a missing closing bracket on this but I can&#39;t edit a single character change.","body":"There&#39;s a missing closing bracket on this but I can&#39;t edit a single character change."},{"owner":{"account_id":952010,"reputation":211,"user_id":4970460,"display_name":"murali mohan"},"score":1,"creation_date":1619104819,"post_id":62467795,"comment_id":118809412,"body_markdown":"I have added the missing bracket now","body":"I have added the missing bracket now"}],"tags":[],"owner":{"account_id":952010,"reputation":211,"user_id":4970460,"display_name":"murali mohan"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1619104799,"creation_date":1592560755,"answer_id":62467795,"question_id":1142837,"body_markdown":"A simplified solution, without creating a new Matcher implementation class and using lambda expression:\r\n\r\n```java\r\nverify(mockObject).someMockMethod(\r\n        argThat((SomeArgument arg) -&gt; arg.fieldToMatch.equals(expectedFieldValue)));\r\n```\r\n","title":"Verify object attribute value with mockito","body":"<p>A simplified solution, without creating a new Matcher implementation class and using lambda expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>verify(mockObject).someMockMethod(\n        argThat((SomeArgument arg) -&gt; arg.fieldToMatch.equals(expectedFieldValue)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669121465,"creation_date":1669121465,"answer_id":74532919,"question_id":1142837,"body_markdown":"I&#39;ve been working in a setup where we have instantized mocked service classes, with methods. And if I want to verify that a method has been called exactly 1 time, with an object parameter that contains a specific value in a field, here is how I would do it, for `class Service`, with method `updateMethod(UpdateObject updateObjectParam){}` :\r\n\r\n\r\n\r\n    @Mock\r\n    Service service;\r\n    \r\n    ...\r\n\r\n    Mockito.verify(service, times(1)).updateMethod(argThat(updateParamObject -&gt; updateParamObject.getField().equals(&quot;fieldValue&quot;)));\r\n\r\n","title":"Verify object attribute value with mockito","body":"<p>I've been working in a setup where we have instantized mocked service classes, with methods. And if I want to verify that a method has been called exactly 1 time, with an object parameter that contains a specific value in a field, here is how I would do it, for <code>class Service</code>, with method <code>updateMethod(UpdateObject updateObjectParam){}</code> :</p>\n<pre><code>@Mock\nService service;\n\n...\n\nMockito.verify(service, times(1)).updateMethod(argThat(updateParamObject -&gt; updateParamObject.getField().equals(&quot;fieldValue&quot;)));\n</code></pre>\n"}],"owner":{"account_id":23171,"reputation":14281,"user_id":57847,"accept_rate":76,"display_name":"Priyank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274934,"favorite_count":0,"down_vote_count":0,"up_vote_count":334,"answer_count":12,"score":334,"last_activity_date":1669121465,"creation_date":1247832057,"question_id":1142837,"body_markdown":"I have a method call which I want to mock with mockito. To start with I have created and injected an instance of an object on which the method will be called. My aim is to verify one of the object in method call.\r\n\r\nIs there a way that mockito allows you to assert or verify the object and it&#39;s attributes when the mock method is called?\r\n\r\nexample\r\n\r\n    Mockito.verify(mockedObject)\r\n           .someMethodOnMockedObject(\r\n                  Mockito.&lt;SomeObjectAsArgument&gt;anyObject())\r\n\r\nInstead of doing `anyObject()` i want to check that argument object contains some particular fields\r\n\r\n    Mockito.verify(mockedObject)\r\n           .someMethodOnMockedObject(\r\n                  Mockito.&lt;SomeObjectAsArgument&gt;**compareWithThisObject()**)\r\n\r\n","title":"Verify object attribute value with mockito","body":"<p>I have a method call which I want to mock with mockito. To start with I have created and injected an instance of an object on which the method will be called. My aim is to verify one of the object in method call.</p>\n\n<p>Is there a way that mockito allows you to assert or verify the object and it's attributes when the mock method is called?</p>\n\n<p>example</p>\n\n<pre><code>Mockito.verify(mockedObject)\n       .someMethodOnMockedObject(\n              Mockito.&lt;SomeObjectAsArgument&gt;anyObject())\n</code></pre>\n\n<p>Instead of doing <code>anyObject()</code> i want to check that argument object contains some particular fields</p>\n\n<pre><code>Mockito.verify(mockedObject)\n       .someMethodOnMockedObject(\n              Mockito.&lt;SomeObjectAsArgument&gt;**compareWithThisObject()**)\n</code></pre>\n"},{"tags":["java","jvm"],"answers":[{"comments":[{"owner":{"account_id":109303,"reputation":3464,"user_id":289684,"display_name":"Ha."},"score":8,"creation_date":1270634915,"post_id":2591122,"comment_id":2599071,"body_markdown":"It is ok for 1.5 but 1.6 is not precise as a floating point number.","body":"It is ok for 1.5 but 1.6 is not precise as a floating point number."},{"owner":{"account_id":73039,"reputation":386,"user_id":210563,"display_name":"Steven Mackenzie"},"score":1,"creation_date":1270637900,"post_id":2591122,"comment_id":2599379,"body_markdown":"FP precision aside, for the OP&#39;s needs the code provided should at least be (version &gt; 1.5), not &gt;=.\n\nTo the OP: if you use your current String comparison do you need to check below 1.5 too?","body":"FP precision aside, for the OP&#39;s needs the code provided should at least be (version &gt; 1.5), not &gt;=.  To the OP: if you use your current String comparison do you need to check below 1.5 too?"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1270644857,"post_id":2591122,"comment_id":2600158,"body_markdown":"@Ha: Maybe but `double version = 1.6` and `Double.parseDouble(&quot;1.6&quot;)` should still yield the same bit pattern, right? Since we don&#39;t do arithmetics on the number (only a simple compare), even == will work as expected.","body":"@Ha: Maybe but <code>double version = 1.6</code> and <code>Double.parseDouble(&quot;1.6&quot;)</code> should still yield the same bit pattern, right? Since we don&#39;t do arithmetics on the number (only a simple compare), even == will work as expected."},{"owner":{"account_id":113585,"reputation":2779,"user_id":299080,"accept_rate":90,"display_name":"ChaimKut"},"score":0,"creation_date":1417781954,"post_id":2591122,"comment_id":43091387,"body_markdown":"This code results in `java.lang.NumberFormatException: multiple points`. Instead you want `getVersion` to return the double substring of `version.substring(0, pos - 1)`. (Otherwise you&#39;re trying to create a double out of the string &quot;1.7.0&quot; which is not a proper double).","body":"This code results in <code>java.lang.NumberFormatException: multiple points</code>. Instead you want <code>getVersion</code> to return the double substring of <code>version.substring(0, pos - 1)</code>. (Otherwise you&#39;re trying to create a double out of the string &quot;1.7.0&quot; which is not a proper double)."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1417786203,"post_id":2591122,"comment_id":43093654,"body_markdown":"@ChaimKut: Thanks, fixed. Since the first part of the number is always 1, I&#39;m wondering if it doesn&#39;t make sense to skip that and instead return minor version + patch level.","body":"@ChaimKut: Thanks, fixed. Since the first part of the number is always 1, I&#39;m wondering if it doesn&#39;t make sense to skip that and instead return minor version + patch level."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1470310076,"post_id":2591122,"comment_id":64903424,"body_markdown":"but soon we will have version 1.1 again... or maybe instead of 1.10 we start with 2.0 [:-)","body":"but soon we will have version 1.1 again... or maybe instead of 1.10 we start with 2.0 [:-)"},{"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"score":10,"creation_date":1479752814,"post_id":2591122,"comment_id":68681038,"body_markdown":"In Java 9, there won&#39;t be &quot;1.&quot; in front. The string will start with &quot;9...&quot;","body":"In Java 9, there won&#39;t be &quot;1.&quot; in front. The string will start with &quot;9...&quot;"},{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":0,"creation_date":1607392742,"post_id":2591122,"comment_id":115252877,"body_markdown":"In leetcode REPL environment i am getting following exception when trying to run this code: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;java.version&quot; &quot;read&quot;)","body":"In leetcode REPL environment i am getting following exception when trying to run this code: java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;java.version&quot; &quot;read&quot;)"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1608131269,"post_id":2591122,"comment_id":115489427,"body_markdown":"@Tarun They probably have a `SecurityManager` installed. Check the documentation how to access system properties in leetcode REPL.","body":"@Tarun They probably have a <code>SecurityManager</code> installed. Check the documentation how to access system properties in leetcode REPL."}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":9,"down_vote_count":2,"up_vote_count":163,"is_accepted":false,"score":161,"last_activity_date":1556224131,"creation_date":1270631067,"answer_id":2591122,"question_id":2591083,"body_markdown":"`java.version` is a [system property](https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html) that exists in every JVM. There are two possible formats for it:\r\n\r\n - Java 8 or lower: `1.6.0_23`, `1.7.0`, `1.7.0_80`, `1.8.0_211`\r\n - Java 9 or higher: `9.0.1`, `11.0.4`, `12`, `12.0.1`\r\n\r\nHere is a trick to extract the major version: If it is a `1.x.y_z` version string, extract the character at index 2 of the string. If it is a `x.y.z` version string, cut the string to its first dot character, if one exists.\r\n\r\n```java\r\nprivate static int getVersion() {\r\n    String version = System.getProperty(&quot;java.version&quot;);\r\n    if(version.startsWith(&quot;1.&quot;)) {\r\n        version = version.substring(2, 3);\r\n    } else {\r\n        int dot = version.indexOf(&quot;.&quot;);\r\n        if(dot != -1) { version = version.substring(0, dot); }\r\n    } return Integer.parseInt(version);\r\n}\r\n```\r\n\r\nNow you can check the version much more comfortably:\r\n\r\n```java\r\nif(getVersion() &lt; 6) {\r\n    // ...\r\n}\r\n```","title":"Getting Java version at runtime","body":"<p><code>java.version</code> is a <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"noreferrer\">system property</a> that exists in every JVM. There are two possible formats for it:</p>\n\n<ul>\n<li>Java 8 or lower: <code>1.6.0_23</code>, <code>1.7.0</code>, <code>1.7.0_80</code>, <code>1.8.0_211</code></li>\n<li>Java 9 or higher: <code>9.0.1</code>, <code>11.0.4</code>, <code>12</code>, <code>12.0.1</code></li>\n</ul>\n\n<p>Here is a trick to extract the major version: If it is a <code>1.x.y_z</code> version string, extract the character at index 2 of the string. If it is a <code>x.y.z</code> version string, cut the string to its first dot character, if one exists.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static int getVersion() {\n    String version = System.getProperty(\"java.version\");\n    if(version.startsWith(\"1.\")) {\n        version = version.substring(2, 3);\n    } else {\n        int dot = version.indexOf(\".\");\n        if(dot != -1) { version = version.substring(0, dot); }\n    } return Integer.parseInt(version);\n}\n</code></pre>\n\n<p>Now you can check the version much more comfortably:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(getVersion() &lt; 6) {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270631243,"creation_date":1270631243,"answer_id":2591136,"question_id":2591083,"body_markdown":"Don&#39;t know another way of checking this, but this: &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()&quot;&gt;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()&quot;&lt;/a&gt; implies &quot;java.version&quot; is a standard system property so I&#39;d expect it to work with other JVMs.","title":"Getting Java version at runtime","body":"<p>Don't know another way of checking this, but this: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\"><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()</a>\"</a> implies \"java.version\" is a standard system property so I'd expect it to work with other JVMs.</p>\n"},{"comments":[{"owner":{"account_id":473962,"reputation":2738,"user_id":883354,"accept_rate":65,"display_name":"Joe C"},"score":1,"creation_date":1571531874,"post_id":2591141,"comment_id":103272463,"body_markdown":"Is there a way to obtain whether it&#39;s Oracle or Open?","body":"Is there a way to obtain whether it&#39;s Oracle or Open?"},{"owner":{"account_id":3818276,"reputation":783,"user_id":3167040,"display_name":"ReinstateMonica3167040"},"score":2,"creation_date":1631981810,"post_id":2591141,"comment_id":122372739,"body_markdown":"Now that the versioning syntax has changed beginning in Java 9, the other answers are more useful.","body":"Now that the versioning syntax has changed beginning in Java 9, the other answers are more useful."},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":1,"creation_date":1692117362,"post_id":2591141,"comment_id":135579668,"body_markdown":"To address @JoeC question some years later:  look at some of the other system properties, in particular these six:  `java.runtime.name`, `java.vendor`, `java.vm.{name,vendor}`, `java.vm.specification.{name,vendor}`  I believe the first two may be semi-standardized by the official JVM/JLS spec, and the rest may be sort of standard conventions by now.  Depending on what exactly the use case is in the application, often one or more of those properties can be the deciding factor.","body":"To address @JoeC question some years later:  look at some of the other system properties, in particular these six:  <code>java.runtime.name</code>, <code>java.vendor</code>, <code>java.vm.{name,vendor}</code>, <code>java.vm.specification.{name,vendor}</code>  I believe the first two may be semi-standardized by the official JVM/JLS spec, and the rest may be sort of standard conventions by now.  Depending on what exactly the use case is in the application, often one or more of those properties can be the deciding factor."}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":3,"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1372256186,"creation_date":1270631284,"answer_id":2591141,"question_id":2591083,"body_markdown":"These articles seem to suggest that checking for `1.5` or `1.6` prefix should work, as it follows proper version naming convention.\r\n\r\n### Sun Technical Articles \r\n\r\n* [J2SE SDK/JRE Version String Naming Convention](http://www.oracle.com/technetwork/java/javase/versioning-naming-139433.html)\r\n* [Version 1.5.0 or 5.0?](http://java.sun.com/j2se/1.5.0/docs/relnotes/version-5.0.html)\r\n   * &quot;J2SE also keeps the version number 1.5.0 (or 1.5) in some places that are visible only to developers, or where the version number is parsed by programs&quot;\r\n      * &quot;`java.version` system property&quot;\r\n* [Version 1.6.0 Used by Developers](http://java.sun.com/javase/6/webnotes/version-6.html)\r\n   * &quot;Java SE keeps the version number 1.6.0 (or 1.6) in some places that are visible only to developers, or where the version number is parsed by programs.&quot;\r\n      * &quot;`java.version` system property&quot;\r\n","title":"Getting Java version at runtime","body":"<p>These articles seem to suggest that checking for <code>1.5</code> or <code>1.6</code> prefix should work, as it follows proper version naming convention.</p>\n\n<h3>Sun Technical Articles</h3>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/versioning-naming-139433.html\" rel=\"noreferrer\">J2SE SDK/JRE Version String Naming Convention</a></li>\n<li><a href=\"http://java.sun.com/j2se/1.5.0/docs/relnotes/version-5.0.html\" rel=\"noreferrer\">Version 1.5.0 or 5.0?</a>\n\n<ul>\n<li>\"J2SE also keeps the version number 1.5.0 (or 1.5) in some places that are visible only to developers, or where the version number is parsed by programs\"\n\n<ul>\n<li>\"<code>java.version</code> system property\"</li>\n</ul></li>\n</ul></li>\n<li><a href=\"http://java.sun.com/javase/6/webnotes/version-6.html\" rel=\"noreferrer\">Version 1.6.0 Used by Developers</a>\n\n<ul>\n<li>\"Java SE keeps the version number 1.6.0 (or 1.6) in some places that are visible only to developers, or where the version number is parsed by programs.\"\n\n<ul>\n<li>\"<code>java.version</code> system property\"</li>\n</ul></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2047072,"reputation":89,"user_id":1826932,"display_name":"Alessandro"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1352990652,"creation_date":1352989391,"answer_id":13399464,"question_id":2591083,"body_markdown":"Does not work, need `--pos` to evaluate double:\r\n\r\n\r\n        String version = System.getProperty(&quot;java.version&quot;);\r\n        System.out.println(&quot;version:&quot; + version);\r\n        int pos = 0, count = 0;\r\n        for (; pos &lt; version.length() &amp;&amp; count &lt; 2; pos++) {\r\n            if (version.charAt(pos) == &#39;.&#39;) {\r\n                count++;\r\n            }\r\n        }\r\n\r\n        --pos; //EVALUATE double\r\n\r\n        double dversion = Double.parseDouble(version.substring(0, pos));\r\n        System.out.println(&quot;dversion:&quot; + dversion);\r\n        return dversion;\r\n    }\r\n","title":"Getting Java version at runtime","body":"<p>Does not work, need <code>--pos</code> to evaluate double:</p>\n\n<pre><code>    String version = System.getProperty(\"java.version\");\n    System.out.println(\"version:\" + version);\n    int pos = 0, count = 0;\n    for (; pos &lt; version.length() &amp;&amp; count &lt; 2; pos++) {\n        if (version.charAt(pos) == '.') {\n            count++;\n        }\n    }\n\n    --pos; //EVALUATE double\n\n    double dversion = Double.parseDouble(version.substring(0, pos));\n    System.out.println(\"dversion:\" + dversion);\n    return dversion;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":363030,"reputation":426,"user_id":706540,"display_name":"Wesley Hartford"},"score":11,"creation_date":1418247885,"post_id":21112531,"comment_id":43267109,"body_markdown":"Wow, that kind of blew my mind. Though in my case, all I wanted was the first two parts of the version so: `Runtime.class.getPackage().getSpecificationVersion()`","body":"Wow, that kind of blew my mind. Though in my case, all I wanted was the first two parts of the version so: <code>Runtime.class.getPackage().getSpecificationVersion()</code>"},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":12,"creation_date":1506612324,"post_id":21112531,"comment_id":79900788,"body_markdown":"`Runtime.class.getPackage().getImplementationVersion()` seems to return `null` on JDK9.","body":"<code>Runtime.class.getPackage().getImplementationVersion()</code> seems to return <code>null</code> on JDK9."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":2,"creation_date":1512743719,"post_id":21112531,"comment_id":82393042,"body_markdown":"Maybe this only works when it&#39;s defined in MANIFEST.MF?","body":"Maybe this only works when it&#39;s defined in MANIFEST.MF?"}],"tags":[],"owner":{"account_id":1317825,"reputation":12193,"user_id":1264321,"accept_rate":92,"display_name":"Stefan"},"comment_count":3,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1502469476,"creation_date":1389699240,"answer_id":21112531,"question_id":2591083,"body_markdown":"What about getting the version from the package meta infos:\r\n\r\n    String version = Runtime.class.getPackage().getImplementationVersion();\r\n\r\nPrints out something like:\r\n\r\n1.7.0_13","title":"Getting Java version at runtime","body":"<p>What about getting the version from the package meta infos:</p>\n\n<pre><code>String version = Runtime.class.getPackage().getImplementationVersion();\n</code></pre>\n\n<p>Prints out something like:</p>\n\n<p>1.7.0_13</p>\n"},{"comments":[{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1667731208,"post_id":23622873,"comment_id":131232204,"body_markdown":"your version with `java.runtime.version` is broken for Java 9 (`java.lang.ArrayIndexOutOfBoundsException`).","body":"your version with <code>java.runtime.version</code> is broken for Java 9 (<code>java.lang.ArrayIndexOutOfBoundsException</code>)."}],"tags":[],"owner":{"account_id":1253847,"reputation":1877,"user_id":1213722,"accept_rate":0,"display_name":"mvanle"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1467897297,"creation_date":1399955673,"answer_id":23622873,"question_id":2591083,"body_markdown":"The simplest way (**java.specification.version**):\r\n\r\n    double version = Double.parseDouble(System.getProperty(&quot;java.specification.version&quot;));\r\n\r\n    if (version == 1.5) {\r\n        // 1.5 specific code\r\n    } else {\r\n        // ...\r\n    }\r\n\r\nor something like (**java.version**):\r\n\r\n    String[] javaVersionElements = System.getProperty(&quot;java.version&quot;).split(&quot;\\\\.&quot;);\r\n    \r\n    int major = Integer.parseInt(javaVersionElements[1]);\r\n    \r\n    if (major == 5) {\r\n        // 1.5 specific code\r\n    } else {\r\n        // ...\r\n    }\r\n\r\nor if you want to break it all up (**java.runtime.version**):    \r\n\r\n    String discard, major, minor, update, build;\r\n    \r\n    String[] javaVersionElements = System.getProperty(&quot;java.runtime.version&quot;).split(&quot;\\\\.|_|-b&quot;);\r\n    \r\n    discard = javaVersionElements[0];\r\n    major   = javaVersionElements[1];\r\n    minor   = javaVersionElements[2];\r\n    update  = javaVersionElements[3];\r\n    build   = javaVersionElements[4];","title":"Getting Java version at runtime","body":"<p>The simplest way (<strong>java.specification.version</strong>):</p>\n\n<pre><code>double version = Double.parseDouble(System.getProperty(\"java.specification.version\"));\n\nif (version == 1.5) {\n    // 1.5 specific code\n} else {\n    // ...\n}\n</code></pre>\n\n<p>or something like (<strong>java.version</strong>):</p>\n\n<pre><code>String[] javaVersionElements = System.getProperty(\"java.version\").split(\"\\\\.\");\n\nint major = Integer.parseInt(javaVersionElements[1]);\n\nif (major == 5) {\n    // 1.5 specific code\n} else {\n    // ...\n}\n</code></pre>\n\n<p>or if you want to break it all up (<strong>java.runtime.version</strong>):    </p>\n\n<pre><code>String discard, major, minor, update, build;\n\nString[] javaVersionElements = System.getProperty(\"java.runtime.version\").split(\"\\\\.|_|-b\");\n\ndiscard = javaVersionElements[0];\nmajor   = javaVersionElements[1];\nminor   = javaVersionElements[2];\nupdate  = javaVersionElements[3];\nbuild   = javaVersionElements[4];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":1,"creation_date":1404461151,"post_id":23706899,"comment_id":38057234,"body_markdown":"`version &lt; 1.4f`... What happens when `version = 1.4f`?","body":"<code>version &lt; 1.4f</code>... What happens when <code>version = 1.4f</code>?"},{"owner":{"account_id":1253847,"reputation":1877,"user_id":1213722,"accept_rate":0,"display_name":"mvanle"},"score":0,"creation_date":1409712754,"post_id":23706899,"comment_id":40053680,"body_markdown":"Ah yes, you are right - 1.4f would not be captured in the above example. The example is only demonstrating Apache Commons Lang&#39;s constants as an alternative to Java&#39;s properties :)","body":"Ah yes, you are right - 1.4f would not be captured in the above example. The example is only demonstrating Apache Commons Lang&#39;s constants as an alternative to Java&#39;s properties :)"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1409713614,"post_id":23706899,"comment_id":40053866,"body_markdown":"You can edit the answer and change it to `version &lt;= 1.4f`.. Unfortunately `SystemUtils` does not provide a `isJavaVersionLessThan` method but then (fortunately) you could also put the legacy code in an `else` block, which is cleaner.","body":"You can edit the answer and change it to <code>version &lt;= 1.4f</code>.. Unfortunately <code>SystemUtils</code> does not provide a <code>isJavaVersionLessThan</code> method but then (fortunately) you could also put the legacy code in an <code>else</code> block, which is cleaner."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1409714890,"post_id":23706899,"comment_id":40054136,"body_markdown":"Err... *&quot;dodgy clause to catch 1.4&quot;*? Shouldn&#39;t `1.4f` fall back to legacy code?","body":"Err... <i>&quot;dodgy clause to catch 1.4&quot;</i>? Shouldn&#39;t <code>1.4f</code> fall back to legacy code?"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":2,"creation_date":1409715051,"post_id":23706899,"comment_id":40054167,"body_markdown":"I would suggest: `if (SystemUtils.IS_JAVA_1_5) { /* 1.5 specific code */ } else if (SystemUtils.isJavaVersionAtLeast(1.6f)) { /* modern code */ } else { /* fall back to legacy code */ }`. Specific code above, generic code below, fallback code at the very bottom.","body":"I would suggest: <code>if (SystemUtils.IS_JAVA_1_5) { &#47;* 1.5 specific code *&#47; } else if (SystemUtils.isJavaVersionAtLeast(1.6f)) { &#47;* modern code *&#47; } else { &#47;* fall back to legacy code *&#47; }</code>. Specific code above, generic code below, fallback code at the very bottom."},{"owner":{"account_id":1253847,"reputation":1877,"user_id":1213722,"accept_rate":0,"display_name":"mvanle"},"score":0,"creation_date":1415382278,"post_id":23706899,"comment_id":42186938,"body_markdown":"@ADTC: You are right. Your structure is better than mine. But the reason I want to keep my structure is because people can see that `SystemUtils.JAVA_VERSION_FLOAT` can and/or must be compared with a float literal. That&#39;s my only excuse :)","body":"@ADTC: You are right. Your structure is better than mine. But the reason I want to keep my structure is because people can see that <code>SystemUtils.JAVA_VERSION_FLOAT</code> can and/or must be compared with a float literal. That&#39;s my only excuse :)"}],"tags":[],"owner":{"account_id":1253847,"reputation":1877,"user_id":1213722,"accept_rate":0,"display_name":"mvanle"},"comment_count":6,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1409714057,"creation_date":1400291982,"answer_id":23706899,"question_id":2591083,"body_markdown":"Example for Apache Commons Lang:\r\n\r\n    import org.apache.commons.lang.SystemUtils;\r\n\r\n        Float version = SystemUtils.JAVA_VERSION_FLOAT;\r\n        \r\n        if (version &lt; 1.4f) { \r\n            // legacy\r\n        } else if (SystemUtils.IS_JAVA_1_5) {\r\n            // 1.5 specific code\r\n        } else if (SystemUtils.isJavaVersionAtLeast(1.6f)) {\r\n            // 1.6 compatible code\r\n        } else {\r\n            // dodgy clause to catch 1.4 :)\r\n        }","title":"Getting Java version at runtime","body":"<p>Example for Apache Commons Lang:</p>\n\n<pre><code>import org.apache.commons.lang.SystemUtils;\n\n    Float version = SystemUtils.JAVA_VERSION_FLOAT;\n\n    if (version &lt; 1.4f) { \n        // legacy\n    } else if (SystemUtils.IS_JAVA_1_5) {\n        // 1.5 specific code\n    } else if (SystemUtils.isJavaVersionAtLeast(1.6f)) {\n        // 1.6 compatible code\n    } else {\n        // dodgy clause to catch 1.4 :)\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3658600,"reputation":417,"user_id":3048996,"display_name":"judovana"},"score":1,"creation_date":1519725877,"post_id":45417933,"comment_id":85016375,"body_markdown":"echo &quot;System.err.print(Runtime.version().major())&quot; | $JDK/bin/jshell 2&gt;&amp;1 &gt; /dev/null","body":"echo &quot;System.err.print(Runtime.version().major())&quot; | $JDK/bin/jshell 2&gt;&amp;1 &gt; /dev/null"},{"owner":{"account_id":8598996,"reputation":171,"user_id":7178314,"display_name":"fidekild"},"score":7,"creation_date":1603378751,"post_id":45417933,"comment_id":114024309,"body_markdown":"@judovana Runtime.version().major() is deprecated since Java10, the equivalent is now Runtime.version().feature().","body":"@judovana Runtime.version().major() is deprecated since Java10, the equivalent is now Runtime.version().feature()."},{"owner":{"account_id":22656461,"reputation":2316,"user_id":16830299,"display_name":"Rajanboy"},"score":0,"creation_date":1654941965,"post_id":45417933,"comment_id":128215652,"body_markdown":"yes it doesnt works now","body":"yes it doesnt works now"}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":3,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1592937823,"creation_date":1501509446,"answer_id":45417933,"question_id":2591083,"body_markdown":"# `Runtime.version()`\r\n\r\nSince Java 9, you can use [`Runtime.version()`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Runtime.html#version()), which returns a [`Runtime.Version`](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Runtime.Version.html):\r\n\r\n    Runtime.Version version = Runtime.version();","title":"Getting Java version at runtime","body":"<h1><code>Runtime.version()</code></h1>\n<p>Since Java 9, you can use <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Runtime.html#version()\" rel=\"noreferrer\"><code>Runtime.version()</code></a>, which returns a <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Runtime.Version.html\" rel=\"noreferrer\"><code>Runtime.Version</code></a>:</p>\n<pre><code>Runtime.Version version = Runtime.version();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1506158322,"creation_date":1506158322,"answer_id":46377995,"question_id":2591083,"body_markdown":"Just a note that in Java 9 and above, the naming convention is different. `System.getProperty(&quot;java.version&quot;)` returns `&quot;9&quot;` rather than `&quot;1.9&quot;`.","title":"Getting Java version at runtime","body":"<p>Just a note that in Java 9 and above, the naming convention is different. <code>System.getProperty(\"java.version\")</code> returns <code>\"9\"</code> rather than <code>\"1.9\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":7312315,"reputation":71,"user_id":5571068,"display_name":"P.Kurek"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508768188,"creation_date":1508768188,"answer_id":46891599,"question_id":2591083,"body_markdown":"If you can have dependency to apache utils you can use org.apache.commons.lang3.SystemUtils.\r\n\r\n        System.out.println(&quot;Is Java version at least 1.8: &quot; + SystemUtils.isJavaVersionAtLeast(JavaVersion.JAVA_1_8));","title":"Getting Java version at runtime","body":"<p>If you can have dependency to apache utils you can use org.apache.commons.lang3.SystemUtils.</p>\n\n<pre><code>    System.out.println(\"Is Java version at least 1.8: \" + SystemUtils.isJavaVersionAtLeast(JavaVersion.JAVA_1_8));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266342,"reputation":7863,"user_id":553865,"accept_rate":67,"display_name":"Mike Slinn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511633191,"creation_date":1511633191,"answer_id":47489067,"question_id":2591083,"body_markdown":"Here is the answer from @mvanle, converted to Scala:\r\n```\r\nscala&gt; val Array(javaVerPrefix, javaVerMajor, javaVerMinor, _, _) = System.getProperty(&quot;java.runtime.version&quot;).split(&quot;\\\\.|_|-b&quot;)\r\njavaVerPrefix: String = 1\r\njavaVerMajor: String = 8\r\njavaVerMinor: String = 0\r\n```","title":"Getting Java version at runtime","body":"<p>Here is the answer from @mvanle, converted to Scala:\n<code>\nscala&gt; val Array(javaVerPrefix, javaVerMajor, javaVerMinor, _, _) = System.getProperty(\"java.runtime.version\").split(\"\\\\.|_|-b\")\njavaVerPrefix: String = 1\njavaVerMajor: String = 8\njavaVerMinor: String = 0\n</code></p>\n"},{"tags":[],"owner":{"account_id":71092,"reputation":3112,"user_id":205629,"display_name":"simon04"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1522152323,"creation_date":1522152323,"answer_id":49512420,"question_id":2591083,"body_markdown":"Here&#39;s the implementation in [JOSM](https://github.com/openstreetmap/josm/blob/a3a6e8a6b657cf4c5b4c64ea14d6e87be6280d65/src/org/openstreetmap/josm/tools/Utils.java#L1566-L1585):\r\n\r\n\r\n    /**\r\n     * Returns the Java version as an int value.\r\n     * @return the Java version as an int value (8, 9, etc.)\r\n     * @since 12130\r\n     */\r\n    public static int getJavaVersion() {\r\n        String version = System.getProperty(&quot;java.version&quot;);\r\n        if (version.startsWith(&quot;1.&quot;)) {\r\n            version = version.substring(2);\r\n        }\r\n        // Allow these formats:\r\n        // 1.8.0_72-ea\r\n        // 9-ea\r\n        // 9\r\n        // 9.0.1\r\n        int dotPos = version.indexOf(&#39;.&#39;);\r\n        int dashPos = version.indexOf(&#39;-&#39;);\r\n        return Integer.parseInt(version.substring(0,\r\n                dotPos &gt; -1 ? dotPos : dashPos &gt; -1 ? dashPos : 1));\r\n    }","title":"Getting Java version at runtime","body":"<p>Here's the implementation in <a href=\"https://github.com/openstreetmap/josm/blob/a3a6e8a6b657cf4c5b4c64ea14d6e87be6280d65/src/org/openstreetmap/josm/tools/Utils.java#L1566-L1585\" rel=\"noreferrer\">JOSM</a>:</p>\n\n<pre><code>/**\n * Returns the Java version as an int value.\n * @return the Java version as an int value (8, 9, etc.)\n * @since 12130\n */\npublic static int getJavaVersion() {\n    String version = System.getProperty(\"java.version\");\n    if (version.startsWith(\"1.\")) {\n        version = version.substring(2);\n    }\n    // Allow these formats:\n    // 1.8.0_72-ea\n    // 9-ea\n    // 9\n    // 9.0.1\n    int dotPos = version.indexOf('.');\n    int dashPos = version.indexOf('-');\n    return Integer.parseInt(version.substring(0,\n            dotPos &gt; -1 ? dotPos : dashPos &gt; -1 ? dashPos : 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634120037,"creation_date":1634120037,"answer_id":69553643,"question_id":2591083,"body_markdown":"In kotlin:\r\n\r\n```kotlin\r\n/**\r\n * Returns the major JVM version, e.g. 6 for Java 1.6, 8 for Java 8, 11 for Java 11 etc.\r\n */\r\npublic val jvmVersion: Int get() = System.getProperty(&quot;java.version&quot;).parseJvmVersion()\r\n\r\n/**\r\n * Returns the major JVM version, 1 for 1.1, 2 for 1.2, 3 for 1.3, 4 for 1.4, 5\r\n * for 1.5 etc.\r\n */\r\nfun String.parseJvmVersion(): Int {\r\n    val version: String = removePrefix(&quot;1.&quot;).takeWhile { it.isDigit() }\r\n    return version.toInt()\r\n}\r\n```","title":"Getting Java version at runtime","body":"<p>In kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * Returns the major JVM version, e.g. 6 for Java 1.6, 8 for Java 8, 11 for Java 11 etc.\n */\npublic val jvmVersion: Int get() = System.getProperty(&quot;java.version&quot;).parseJvmVersion()\n\n/**\n * Returns the major JVM version, 1 for 1.1, 2 for 1.2, 3 for 1.3, 4 for 1.4, 5\n * for 1.5 etc.\n */\nfun String.parseJvmVersion(): Int {\n    val version: String = removePrefix(&quot;1.&quot;).takeWhile { it.isDigit() }\n    return version.toInt()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1116662,"reputation":21,"user_id":1105847,"accept_rate":0,"display_name":"sch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669120943,"creation_date":1669120943,"answer_id":74532810,"question_id":2591083,"body_markdown":"https://docs.oracle.com/javase/9/docs/api/java/lang/Runtime.Version.html#version--\r\n   \r\n\r\n     Runtime.version().version()\r\n\r\nFor 17.0.1 it returns [17, 0, 1]\r\n One can use `Runtime.version().version().get(0)` to get the major java version.\r\n","title":"Getting Java version at runtime","body":"<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Runtime.Version.html#version--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/Runtime.Version.html#version--</a></p>\n<pre><code> Runtime.version().version()\n</code></pre>\n<p>For 17.0.1 it returns [17, 0, 1]\nOne can use <code>Runtime.version().version().get(0)</code> to get the major java version.</p>\n"}],"owner":{"account_id":602670,"reputation":1823,"user_id":310782,"display_name":"list"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193928,"favorite_count":0,"down_vote_count":0,"up_vote_count":182,"accepted_answer_id":2591141,"answer_count":14,"score":182,"last_activity_date":1669120943,"creation_date":1270630617,"question_id":2591083,"body_markdown":"I need to work around a Java bug in JDK 1.5 which was fixed in 1.6. I&#39;m using the following condition:\r\n\r\n\tif (System.getProperty(&quot;java.version&quot;).startsWith(&quot;1.5.&quot;)) {\r\n\t\t...\r\n\t} else {\r\n\t\t...\r\n\t}\r\n\r\nWill this work for other JVMs? Is there a better way to check this?","title":"Getting Java version at runtime","body":"<p>I need to work around a Java bug in JDK 1.5 which was fixed in 1.6. I'm using the following condition:</p>\n\n<pre><code>if (System.getProperty(\"java.version\").startsWith(\"1.5.\")) {\n    ...\n} else {\n    ...\n}\n</code></pre>\n\n<p>Will this work for other JVMs? Is there a better way to check this?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1669126106,"post_id":74532279,"comment_id":131569341,"body_markdown":"Your configuration looks correct; check the INFO log for the producer config to make sure the right serializer is being used; your project is too big to ask someone to help (needs mongodb etc). Create a stripped-down [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) so we can more easily see what&#39;s wrong.","body":"Your configuration looks correct; check the INFO log for the producer config to make sure the right serializer is being used; your project is too big to ask someone to help (needs mongodb etc). Create a stripped-down <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> so we can more easily see what&#39;s wrong."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669120579,"creation_date":1669120579,"answer_id":74532729,"question_id":74532279,"body_markdown":"You need to provide your own serializer that can serialize your `BookES` into byte array. Here is a class I use as generic Json serializer. It should handle your class just fine:\r\n\r\n    package ***;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.mgnt.utils.JsonUtils;\r\n    import org.apache.kafka.common.errors.SerializationException;\r\n    import org.apache.kafka.common.serialization.Serializer;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n        @Component\r\n        public class GenericJsonSerializer implements Serializer&lt;Object&gt; {\r\n            @Override\r\n            public byte[] serialize(String s, Object obj) {\r\n                byte[] result;\r\n                try {\r\n                    result = JsonUtils.writeObjectToJsonString(obj).getBytes(StandardCharsets.UTF_8);\r\n                } catch (JsonProcessingException e) {\r\n                    throw new SerializationException(&quot;Error occurred while serializing &quot; + obj.getClass().getCanonicalName() + &quot; to byte[]&quot;, e);\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n\r\nIn your properties you will need to register this class as your deserializer. Note that when you read your message back, if you want it to be read as `BookES` class you will need to provide deserializer class that would take byte array and convert it back into class `BookES`. (You will have to implement `org.apache.kafka.common.serialization.Deserializer` interface). In my example I used class `JsonUtils` that comes from Open Source Java library MgntUtils (written and maintained by me). You can easily replace it and just use `ObjectMapper` class from Json-Jackson library or use GSON library. But It might make it simpler to use `JsonUtils`. If you wish to use it here is the [Javadoc for JsonUtils class][1]. The MgntUtils library could be obtained as [Maven Artifact][2] or on The [Github][3]\r\n\r\n  \r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Error while sending a JSON object as message on kafka","body":"<p>You need to provide your own serializer that can serialize your <code>BookES</code> into byte array. Here is a class I use as generic Json serializer. It should handle your class just fine:</p>\n<pre><code>package ***;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.mgnt.utils.JsonUtils;\nimport org.apache.kafka.common.errors.SerializationException;\nimport org.apache.kafka.common.serialization.Serializer;\nimport org.springframework.stereotype.Component;\n\nimport java.nio.charset.StandardCharsets;\n\n    @Component\n    public class GenericJsonSerializer implements Serializer&lt;Object&gt; {\n        @Override\n        public byte[] serialize(String s, Object obj) {\n            byte[] result;\n            try {\n                result = JsonUtils.writeObjectToJsonString(obj).getBytes(StandardCharsets.UTF_8);\n            } catch (JsonProcessingException e) {\n                throw new SerializationException(&quot;Error occurred while serializing &quot; + obj.getClass().getCanonicalName() + &quot; to byte[]&quot;, e);\n            }\n            return result;\n        }\n    }\n</code></pre>\n<p>In your properties you will need to register this class as your deserializer. Note that when you read your message back, if you want it to be read as <code>BookES</code> class you will need to provide deserializer class that would take byte array and convert it back into class <code>BookES</code>. (You will have to implement <code>org.apache.kafka.common.serialization.Deserializer</code> interface). In my example I used class <code>JsonUtils</code> that comes from Open Source Java library MgntUtils (written and maintained by me). You can easily replace it and just use <code>ObjectMapper</code> class from Json-Jackson library or use GSON library. But It might make it simpler to use <code>JsonUtils</code>. If you wish to use it here is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc for JsonUtils class</a>. The MgntUtils library could be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven Artifact</a> or on The <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a></p>\n"}],"owner":{"account_id":23331009,"reputation":11,"user_id":17407393,"display_name":"chinmay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669120579,"creation_date":1669118295,"question_id":74532279,"body_markdown":"I am a student trying to learn about apache kafka.\r\nI am trying to send a JSON object as a message using kafka in spring boot using java. \r\nBut as I try to send it,it throws an error saying that my model class cannot be cast to a string even though i have mentioned the Json serializer in application.properties file.\r\nThe exception is:\r\n```\r\njava.lang.ClassCastException: class com.example.demo.model.BookES cannot be cast to class java.lang.String (com.example.demo.model.BookES is in unnamed module of loader &#39;app&#39;; java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\nMy application.properties file is \r\n```\r\nserver.port=8081\r\n\r\nspring.kafka.consumer.bootstrap-servers=localhost:9092\r\nspring.kafka.consumer.group-id=myGroup\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\n\r\nspring.kafka.producer.bootstrap-servers=localhost:9092\r\nspring.kafka.producer.key-serializer=org.apache.common.serialization.StringSerializer\r\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\nMy controller class where i am trying to send my message\r\n```\r\n@PostMapping(&quot;/publish&quot;)\r\n    public ResponseEntity&lt;String&gt; publish(@RequestBody BookES bookES){\r\n\t\tlogger.info(&quot;in publish method&quot;);\r\n        kafkaProducer.sendMessage(bookES);\r\n        return ResponseEntity.ok(&quot;Json message sent to kafka topic&quot;);\r\n    }\r\n```\r\n\r\nMy Kafka producer class which has the sendMessage method:\r\n\r\n\r\n```\r\npackage com.example.demo.kafka;\r\n\r\nimport org.apache.kafka.clients.admin.NewTopic;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.support.KafkaHeaders;\r\nimport org.springframework.messaging.Message;\r\nimport org.springframework.messaging.support.MessageBuilder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.example.demo.controller.BookController;\r\nimport com.example.demo.model.Book;\r\nimport com.example.demo.model.BookES;\r\n\r\n@Service\r\npublic class KafkaProducer {\r\n\t\r\n\t@Autowired\r\n\tprivate NewTopic topic;\r\n\t\r\n\tLogger logger = LoggerFactory.getLogger(KafkaProducer.class);\r\n\t\r\n\tprivate String topicName = &quot;bookmanagement&quot;;\r\n\t\r\n\t@Autowired\r\n\tprivate KafkaTemplate&lt;String, BookES&gt; kafkaTemplate;\r\n\r\n\t\r\n\t\r\n\tpublic void sendMessage(BookES bookES) {\r\n\t\t\r\n\t\tlogger.info(&quot;in sendMessage method&quot;);\r\n\t\tlogger.info(String.format(&quot;Message sent -&gt; %s&quot;,bookES.toString()));\r\n\t\t\r\n\t\tMessage&lt;BookES&gt; message = MessageBuilder.withPayload(bookES).setHeader(KafkaHeaders.TOPIC, topic.name()).build();\r\n\t\tkafkaTemplate.send(message);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nMy model class:\r\n```\r\n\r\n\r\npackage com.example.demo.model;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.elasticsearch.annotations.Document;\r\n\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Document(indexName=&quot;my-application&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class BookES{\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;BookES [bookId=&quot; + bookId + &quot;, bookName=&quot; + bookName + &quot;, description=&quot; + description + &quot;]&quot;;\r\n\t}\r\n\t@Id\r\n\tprivate String bookId;\r\n\tprivate String bookName;\r\n\tprivate String description;\r\n\tpublic String getBookId() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.bookId;\r\n\t}\r\n\tpublic String getBookName() {\r\n\t\treturn bookName;\r\n\t}\r\n\tpublic void setBookName(String bookName) {\r\n\t\tthis.bookName = bookName;\r\n\t}\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\tpublic void setBookId(String bookId) {\r\n\t\tthis.bookId = bookId;\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nmy project is on the github link: [github link](https://github.com/chinmaygd02/Spring_boot_microservice_communication/tree/master)\r\n\r\n\r\n\r\n\r\n\r\nI tried anotating my model class with with different annotations like @JsonSerializer,etc.. but with no success.\r\nThe response i got on postman on trying to post is:\r\n```\r\n\r\n\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-11-22T11:24:30.738+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;message&quot;: &quot;Can&#39;t convert value of class com.example.demo.model.BookES to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer&quot;,\r\n    &quot;path&quot;: &quot;/books/publish&quot;\r\n}\r\n```\r\n\r\n\r\n","title":"Error while sending a JSON object as message on kafka","body":"<p>I am a student trying to learn about apache kafka.\nI am trying to send a JSON object as a message using kafka in spring boot using java.\nBut as I try to send it,it throws an error saying that my model class cannot be cast to a string even though i have mentioned the Json serializer in application.properties file.\nThe exception is:</p>\n<pre><code>java.lang.ClassCastException: class com.example.demo.model.BookES cannot be cast to class java.lang.String (com.example.demo.model.BookES is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>My application.properties file is</p>\n<pre><code>server.port=8081\n\nspring.kafka.consumer.bootstrap-servers=localhost:9092\nspring.kafka.consumer.group-id=myGroup\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\n\nspring.kafka.producer.bootstrap-servers=localhost:9092\nspring.kafka.producer.key-serializer=org.apache.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>My controller class where i am trying to send my message</p>\n<pre><code>@PostMapping(&quot;/publish&quot;)\n    public ResponseEntity&lt;String&gt; publish(@RequestBody BookES bookES){\n        logger.info(&quot;in publish method&quot;);\n        kafkaProducer.sendMessage(bookES);\n        return ResponseEntity.ok(&quot;Json message sent to kafka topic&quot;);\n    }\n</code></pre>\n<p>My Kafka producer class which has the sendMessage method:</p>\n<pre><code>package com.example.demo.kafka;\n\nimport org.apache.kafka.clients.admin.NewTopic;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.KafkaHeaders;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.support.MessageBuilder;\nimport org.springframework.stereotype.Service;\n\nimport com.example.demo.controller.BookController;\nimport com.example.demo.model.Book;\nimport com.example.demo.model.BookES;\n\n@Service\npublic class KafkaProducer {\n    \n    @Autowired\n    private NewTopic topic;\n    \n    Logger logger = LoggerFactory.getLogger(KafkaProducer.class);\n    \n    private String topicName = &quot;bookmanagement&quot;;\n    \n    @Autowired\n    private KafkaTemplate&lt;String, BookES&gt; kafkaTemplate;\n\n    \n    \n    public void sendMessage(BookES bookES) {\n        \n        logger.info(&quot;in sendMessage method&quot;);\n        logger.info(String.format(&quot;Message sent -&gt; %s&quot;,bookES.toString()));\n        \n        Message&lt;BookES&gt; message = MessageBuilder.withPayload(bookES).setHeader(KafkaHeaders.TOPIC, topic.name()).build();\n        kafkaTemplate.send(message);\n        \n        \n        \n    }\n    \n    \n}\n</code></pre>\n<p>My model class:</p>\n<pre><code>\n\npackage com.example.demo.model;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.elasticsearch.annotations.Document;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Document(indexName=&quot;my-application&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class BookES{\n    @Override\n    public String toString() {\n        return &quot;BookES [bookId=&quot; + bookId + &quot;, bookName=&quot; + bookName + &quot;, description=&quot; + description + &quot;]&quot;;\n    }\n    @Id\n    private String bookId;\n    private String bookName;\n    private String description;\n    public String getBookId() {\n        // TODO Auto-generated method stub\n        return this.bookId;\n    }\n    public String getBookName() {\n        return bookName;\n    }\n    public void setBookName(String bookName) {\n        this.bookName = bookName;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public void setBookId(String bookId) {\n        this.bookId = bookId;\n    }\n\n    \n}\n\n</code></pre>\n<p>my project is on the github link: <a href=\"https://github.com/chinmaygd02/Spring_boot_microservice_communication/tree/master\" rel=\"nofollow noreferrer\">github link</a></p>\n<p>I tried anotating my model class with with different annotations like @JsonSerializer,etc.. but with no success.\nThe response i got on postman on trying to post is:</p>\n<pre><code>\n\n{\n    &quot;timestamp&quot;: &quot;2022-11-22T11:24:30.738+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;Can't convert value of class com.example.demo.model.BookES to class org.apache.kafka.common.serialization.StringSerializer specified in value.serializer&quot;,\n    &quot;path&quot;: &quot;/books/publish&quot;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669121355,"post_id":74532720,"comment_id":131567495,"body_markdown":"Does this result from a quick google search help? https://stackoverflow.com/questions/13165954/springutilities-cannot-be-resolved","body":"Does this result from a quick google search help? <a href=\"https://stackoverflow.com/questions/13165954/springutilities-cannot-be-resolved\" title=\"springutilities cannot be resolved\">stackoverflow.com/questions/13165954/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1669122117,"post_id":74532720,"comment_id":131567792,"body_markdown":"The problem is that you have a method call at a place where only a declaration is permitted.  (It doesn&#39;t help that you have neither imported the class or supplied the required argument for `SpringUtilities.makeGrid`.  You will get those errors when you fix the syntax error by putting the `nakeGrid` call inside some method or constructor.)","body":"The problem is that you have a method call at a place where only a declaration is permitted.  (It doesn&#39;t help that you have neither imported the class or supplied the required argument for <code>SpringUtilities.makeGrid</code>.  You will get those errors when you fix the syntax error by putting the <code>nakeGrid</code> call inside some method or constructor.)"}],"owner":{"account_id":27012855,"reputation":1,"user_id":20572209,"display_name":"mirkzx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669122217,"answer_count":0,"score":0,"last_activity_date":1669120542,"creation_date":1669120542,"question_id":74532720,"body_markdown":"I&#39;m trying to use SpringUtilities.makeGrid() in java, to create the interface of a Form, I&#39;ve read that it should be linked to the source that is in the Oracle documentation but online I haven&#39;t found anything, and it keeps returning the error &quot;Syntax error on token &quot;makeGrid&quot;&quot;, would anyone be able to help me?\r\n\r\n```\r\npackage FrontEnd.Panel;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport FrontEnd.Interface.setButton;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class FormPanel extends JPanel implements ActionListener, setButton {\r\n\r\n    JLabel labelForForm[];\r\n    JTextField textFieldForForm[];\r\n\r\n    public FormPanel() {\r\n\r\n        labelForForm = new JLabel[4];\r\n\r\n        textFieldForForm = new JTextField[3];\r\n\r\n        createFormElements();\r\n\r\n        setLayout(new SpringLayout());\r\n        setVisible(true);\r\n        setBorder(BorderFactory.createLineBorder(Color.RED));\r\n    }\r\n\r\n    SpringUtilities.makeGrid(\r\n        \r\n    );\r\n\r\n    public void createFormElements() {\r\n\r\n        String[] labelText = { &quot;Inserisci nome&quot;, &quot;Inserisci cognome&quot;, &quot;Inserisci data di nascita&quot;,\r\n                &quot;Seleziona reparto&quot; };\r\n\r\n        String titleForm = &quot;Digita i dati richiesti&quot;;\r\n\r\n        for (int i = 0; i &lt; labelForForm.length; i++) {\r\n\r\n            labelForForm[i] = new JLabel(labelText[i]);\r\n\r\n            if (i &lt; labelForForm.length - 1) {\r\n                textFieldForForm[i] = new JTextField(16);\r\n\r\n                add(textFieldForForm[i]);\r\n\r\n            } else {\r\n\r\n            }\r\n\r\n            add(labelForForm[i]);\r\n            \r\n        }\r\n\r\n        setFormElements();\r\n    }\r\n    \r\n    public void setFormElements() {\r\n    }\r\n        \r\n\r\n    @Override\r\n    public void setButton() {\r\n        // TODO Auto-generated method stub\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        // TODO Auto-generated method stub\r\n        \r\n    }\r\n    \r\n}\r\n\r\n```\r\n","title":"Errore con SpringUtilities","body":"<p>I'm trying to use SpringUtilities.makeGrid() in java, to create the interface of a Form, I've read that it should be linked to the source that is in the Oracle documentation but online I haven't found anything, and it keeps returning the error &quot;Syntax error on token &quot;makeGrid&quot;&quot;, would anyone be able to help me?</p>\n<pre><code>package FrontEnd.Panel;\n\nimport java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport FrontEnd.Interface.setButton;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class FormPanel extends JPanel implements ActionListener, setButton {\n\n    JLabel labelForForm[];\n    JTextField textFieldForForm[];\n\n    public FormPanel() {\n\n        labelForForm = new JLabel[4];\n\n        textFieldForForm = new JTextField[3];\n\n        createFormElements();\n\n        setLayout(new SpringLayout());\n        setVisible(true);\n        setBorder(BorderFactory.createLineBorder(Color.RED));\n    }\n\n    SpringUtilities.makeGrid(\n        \n    );\n\n    public void createFormElements() {\n\n        String[] labelText = { &quot;Inserisci nome&quot;, &quot;Inserisci cognome&quot;, &quot;Inserisci data di nascita&quot;,\n                &quot;Seleziona reparto&quot; };\n\n        String titleForm = &quot;Digita i dati richiesti&quot;;\n\n        for (int i = 0; i &lt; labelForForm.length; i++) {\n\n            labelForForm[i] = new JLabel(labelText[i]);\n\n            if (i &lt; labelForForm.length - 1) {\n                textFieldForForm[i] = new JTextField(16);\n\n                add(textFieldForForm[i]);\n\n            } else {\n\n            }\n\n            add(labelForForm[i]);\n            \n        }\n\n        setFormElements();\n    }\n    \n    public void setFormElements() {\n    }\n        \n\n    @Override\n    public void setButton() {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","spring","javabeans","code-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669120002,"post_id":74532443,"comment_id":131567019,"body_markdown":"Remove the `@ConfigurationProperties` and add `@Value(&quot;${client.port}` etc. to the fields. Either something is a configuration class or a properties holder, you are trying to shoehorn both into one class.","body":"Remove the <code>@ConfigurationProperties</code> and add <code>@Value(&quot;${client.port}</code> etc. to the fields. Either something is a configuration class or a properties holder, you are trying to shoehorn both into one class."},{"owner":{"account_id":3270955,"reputation":2069,"user_id":2754357,"accept_rate":75,"display_name":"Tim Long"},"score":0,"creation_date":1669210646,"post_id":74532443,"comment_id":131592514,"body_markdown":"The problem&#39;s got solved! The application.yml which wired to the test environment has missed the server property, which causes the error! application-test.yml has been referenced during the test!","body":"The problem&#39;s got solved! The application.yml which wired to the test environment has missed the server property, which causes the error! application-test.yml has been referenced during the test!"}],"answers":[{"comments":[{"owner":{"account_id":3270955,"reputation":2069,"user_id":2754357,"accept_rate":75,"display_name":"Tim Long"},"score":0,"creation_date":1669120306,"post_id":74532519,"comment_id":131567118,"body_markdown":"How would you use that Bean? I&#39;ve something like ApplicationContext context = new AnnotationApplictionContext(Config.class); Client client = context.getBean(&quot;client&quot;, Client.class).... It not works and show me the error, that address is not set!","body":"How would you use that Bean? I&#39;ve something like ApplicationContext context = new AnnotationApplictionContext(Config.class); Client client = context.getBean(&quot;client&quot;, Client.class).... It not works and show me the error, that address is not set!"},{"owner":{"account_id":5526820,"reputation":702,"user_id":4388064,"display_name":"ivospijker"},"score":0,"creation_date":1669120469,"post_id":74532519,"comment_id":131567180,"body_markdown":"Accessing beans should be done via Autowiring. \nAs you can see I&#39;ve added ClientProperties as a parameter in the `Config.getClient()` method. Spring will automatically inject the `ClientProperties` into that method.\n\nYou can then access the `Client` bean via autowiring as well: https://www.baeldung.com/spring-autowire","body":"Accessing beans should be done via Autowiring.  As you can see I&#39;ve added ClientProperties as a parameter in the <code>Config.getClient()</code> method. Spring will automatically inject the <code>ClientProperties</code> into that method.  You can then access the <code>Client</code> bean via autowiring as well: <a href=\"https://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">baeldung.com/spring-autowire</a>"},{"owner":{"account_id":3270955,"reputation":2069,"user_id":2754357,"accept_rate":75,"display_name":"Tim Long"},"score":0,"creation_date":1669121861,"post_id":74532519,"comment_id":131567688,"body_markdown":"After adding the 2 suggested classes, I still got the error, that &quot;address must not be null or empty&quot;...","body":"After adding the 2 suggested classes, I still got the error, that &quot;address must not be null or empty&quot;..."},{"owner":{"account_id":3270955,"reputation":2069,"user_id":2754357,"accept_rate":75,"display_name":"Tim Long"},"score":1,"creation_date":1669210638,"post_id":74532519,"comment_id":131592509,"body_markdown":"The problem&#39;s got solved! The application.yml which wired to the test environment has missed the server property, which causes the error! application-test.yml has been referenced during the test!","body":"The problem&#39;s got solved! The application.yml which wired to the test environment has missed the server property, which causes the error! application-test.yml has been referenced during the test!"}],"tags":[],"owner":{"account_id":5526820,"reputation":702,"user_id":4388064,"display_name":"ivospijker"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669120511,"creation_date":1669119520,"answer_id":74532519,"question_id":74532443,"body_markdown":"It looks like you haven&#39;t mapped the `application.yml` file to a Spring object yet.\r\n\r\nOne way to achieve this, is using `@ConfigurationProperties`. You can learn more about them here: https://www.baeldung.com/configuration-properties-in-spring-boot\r\n\r\nFor your example, I would propose the following:\r\n\r\n**New class to add:**\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;client&quot;)\r\n    public class ClientProperties {\r\n        \r\n        private int port;\r\n        private String address;\r\n    \r\n        // standard getters and setters\r\n    }\r\n\r\n**Autowire this as a parameter of your `getClient()` method**\r\n\r\n    @Configuration\r\n    public class Config {\r\n\r\n       @Bean\r\n       Client getClient(ClientProperties properties){\r\n          Client client = new Client();\r\n          client.setPortAddress(properties.getAddress(), properties.getPort());\r\n          return client;\r\n       }\r\n    } \r\n    ","title":"Spring Bean definition with value from application.yml","body":"<p>It looks like you haven't mapped the <code>application.yml</code> file to a Spring object yet.</p>\n<p>One way to achieve this, is using <code>@ConfigurationProperties</code>. You can learn more about them here: <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/configuration-properties-in-spring-boot</a></p>\n<p>For your example, I would propose the following:</p>\n<p><strong>New class to add:</strong></p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;client&quot;)\npublic class ClientProperties {\n    \n    private int port;\n    private String address;\n\n    // standard getters and setters\n}\n</code></pre>\n<p><strong>Autowire this as a parameter of your <code>getClient()</code> method</strong></p>\n<pre><code>@Configuration\npublic class Config {\n\n   @Bean\n   Client getClient(ClientProperties properties){\n      Client client = new Client();\n      client.setPortAddress(properties.getAddress(), properties.getPort());\n      return client;\n   }\n} \n</code></pre>\n"}],"owner":{"account_id":3270955,"reputation":2069,"user_id":2754357,"accept_rate":75,"display_name":"Tim Long"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669120511,"creation_date":1669119096,"question_id":74532443,"body_markdown":"I want to define a Bean which should be managed by Spring and having its properties being injected from application.yml. \r\n\r\n    application.yml //\r\n    client:\r\n       port: 80\r\n       address: &quot;xyz.net&quot;\r\n       timeout: 100\r\n\r\n\r\n\r\n    Client.java // this class is external, we cannot change it\r\n    public class Client {\r\n        private final int port;\r\n        private final String address;\r\n        public void setPortAddress(String address, int port) //\r\n        ...\r\n    }\r\n\r\nI did try using @Configuration but it&#39;s not working. The error is address is not set, while trying to access the client instance.\r\n\r\n    Service.java //\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix=&quot;client&quot;)\r\n    @ComponentScan(basePackageClasses=Service.class)\r\n    public class Config {\r\n       int port;\r\n       String address;\r\n    \r\n       @Bean\r\n       Client getClient(){\r\n          Client client = new Client();\r\n          client.setPortAddress(address, port);\r\n          return client;\r\n       }\r\n    } \r\n\r\nAny help is very thankful.\r\n\r\n","title":"Spring Bean definition with value from application.yml","body":"<p>I want to define a Bean which should be managed by Spring and having its properties being injected from application.yml.</p>\n<pre><code>application.yml //\nclient:\n   port: 80\n   address: &quot;xyz.net&quot;\n   timeout: 100\n\n\n\nClient.java // this class is external, we cannot change it\npublic class Client {\n    private final int port;\n    private final String address;\n    public void setPortAddress(String address, int port) //\n    ...\n}\n</code></pre>\n<p>I did try using @Configuration but it's not working. The error is address is not set, while trying to access the client instance.</p>\n<pre><code>Service.java //\n\n@Configuration\n@ConfigurationProperties(prefix=&quot;client&quot;)\n@ComponentScan(basePackageClasses=Service.class)\npublic class Config {\n   int port;\n   String address;\n\n   @Bean\n   Client getClient(){\n      Client client = new Client();\n      client.setPortAddress(address, port);\n      return client;\n   }\n} \n</code></pre>\n<p>Any help is very thankful.</p>\n"},{"tags":["java","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669108319,"post_id":74529755,"comment_id":131562854,"body_markdown":"Hibernate and Spring use the same validation so yes it occurs in both because it is the same. The problem is your RegExp not the validators nor Spring or Hibernate.","body":"Hibernate and Spring use the same validation so yes it occurs in both because it is the same. The problem is your RegExp not the validators nor Spring or Hibernate."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1669124746,"post_id":74529755,"comment_id":131568766,"body_markdown":"You just added another regex, but it will be complicated to handle a moving target here. Also for testing I would recommend that you focus on one problem / regex at a time - can you maybe set up a test for you that handles them individually? And if the first regex works but not the second, ask another question for that (with a reference to this question). If the first still makes troubles, of course you are welcome to add clarifying details to your question.","body":"You just added another regex, but it will be complicated to handle a moving target here. Also for testing I would recommend that you focus on one problem / regex at a time - can you maybe set up a test for you that handles them individually? And if the first regex works but not the second, ask another question for that (with a reference to this question). If the first still makes troubles, of course you are welcome to add clarifying details to your question."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669107568,"creation_date":1669107568,"answer_id":74529904,"question_id":74529755,"body_markdown":"Do you actually use the first group? `([a-zA-Z])`\r\n\r\nI don&#39;t think so, because otherwise you would have found out that it does not get filled with the letters up to the first non-letter character.\r\n\r\nYou probably want to put the `+` sign into the group:\r\n\r\n``` lang-none\r\n^([a-zA-Z]+)[-.&#39;\\\\s]?[-a-zA-Z]*$\r\n```\r\n\r\nor do not use a group at all, if you don&#39;t need that part as group (I think that it is probably not used in your annotation):\r\n``` lang-none\r\n^[a-zA-Z]+[-.&#39;\\\\s]?[-a-zA-Z]*$\r\n```","title":"java.util.regex.Pattern matcher causes high CPU usage","body":"<p>Do you actually use the first group? <code>([a-zA-Z])</code></p>\n<p>I don't think so, because otherwise you would have found out that it does not get filled with the letters up to the first non-letter character.</p>\n<p>You probably want to put the <code>+</code> sign into the group:</p>\n<pre class=\"lang-none prettyprint-override\"><code>^([a-zA-Z]+)[-.'\\\\s]?[-a-zA-Z]*$\n</code></pre>\n<p>or do not use a group at all, if you don't need that part as group (I think that it is probably not used in your annotation):</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[a-zA-Z]+[-.'\\\\s]?[-a-zA-Z]*$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669108567,"creation_date":1669108567,"answer_id":74530115,"question_id":74529755,"body_markdown":"The effect of repetitions in the form of backtracking makes regex unexpectedly costly.\r\n\r\nIn this case an optional interpunction between letters may take long, as in the empty case it might happen at any position.\r\n\r\nInstead of\r\n\r\n    &quot;^[a-zA-Z]+[-.&#39;\\\\s]?[-a-zA-Z]*$&quot;\r\n\r\ntry\r\n\r\n    &quot;^[a-zA-Z]+([-.&#39;\\\\s][-a-zA-Z]*)?$&quot;\r\n\r\nThis will enter the part starting with interpunction only when there is a match.\r\n\r\nIn general do a microbenchmark (with a benchmark library), as things might not be so clear.\r\n\r\nHowever regex will remain costly.\r\n","title":"java.util.regex.Pattern matcher causes high CPU usage","body":"<p>The effect of repetitions in the form of backtracking makes regex unexpectedly costly.</p>\n<p>In this case an optional interpunction between letters may take long, as in the empty case it might happen at any position.</p>\n<p>Instead of</p>\n<pre><code>&quot;^[a-zA-Z]+[-.'\\\\s]?[-a-zA-Z]*$&quot;\n</code></pre>\n<p>try</p>\n<pre><code>&quot;^[a-zA-Z]+([-.'\\\\s][-a-zA-Z]*)?$&quot;\n</code></pre>\n<p>This will enter the part starting with interpunction only when there is a match.</p>\n<p>In general do a microbenchmark (with a benchmark library), as things might not be so clear.</p>\n<p>However regex will remain costly.</p>\n"}],"owner":{"account_id":27010096,"reputation":11,"user_id":20569900,"display_name":"afsa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669120226,"creation_date":1669106868,"question_id":74529755,"body_markdown":"We are having issue with a regex validation using Pattern. It is happening in Spring framework and hibernate&#39;s validation.\r\n\r\nBelow snippet shows the request object being validated:\r\n\r\n```\r\n@PostMapping\r\npublic ResponseEntity create(@RequestBody RequestObj request) {\r\n  validationService.validate(request);\r\n  .....\r\n\r\n}\r\n```\r\nRegex pattern:\r\n\r\n```\r\npublic class RequestObj {\r\n\r\n  @Pattern(regexp = &quot;^([a-zA-Z])+[-.&#39;\\\\s]?[-a-zA-Z]*$&quot;, message = ValidationConstant.ERR_INVALID_FIRST_NAME)\r\n  @NotNull(message = ValidationConstant.ERR_FIRST_NAME_EMPTY)\r\n  @Size(max = 30, message = ValidationConstant.ERR_INVALID_NAME_SIZE)\r\n  private String firstName;\r\n\r\n  @Pattern(regexp = &quot;^[\\\\sa-zA-Z0-9]+([ a-zA-Z0-9,&#39;.?!\\\\-_&amp;]+)*$&quot;, message = ValidationConstant.ERR_INVALID_COMMENT)\r\n  @Size(max = 200, message = ValidationConstant.ERR_INVALID_COMMENT_SIZE)\r\n  private String comment;\r\n\r\n}\r\n\r\n```\r\n\r\nWhen this validation is called, at times the CPU usage of the thread shows 100%.(It works most of the time).\r\nThe thread dump shows that thread is stuck in Pattern class. \r\n\r\n    &quot;http-nio-8080-exec-4&quot; #53 daemon prio=5 os_prio=0 tid=0x00007fce45f0d000 nid=0x44 runnable [0x00007fcdb3af6000]\r\n       java.lang.Thread.State: RUNNABLE\r\n            at java.util.regex.Pattern$5.isSatisfiedBy(Pattern.java:5265)\r\n            at java.util.regex.Pattern$5.isSatisfiedBy(Pattern.java:5265)\r\n            at java.util.regex.Pattern$5.isSatisfiedBy(Pattern.java:5265)\r\n            at java.util.regex.Pattern$CharProperty.match(Pattern.java:3790)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4274)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\r\n            at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\r\n            at java.util.regex.Pattern$Loop.matchInit(Pattern.java:4818)\r\n            at java.util.regex.Pattern$Prolog.match(Pattern.java:4755)\r\n            at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\r\n            at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\r\n            at java.util.regex.Pattern$Begin.match(Pattern.java:3539)\r\n            at java.util.regex.Matcher.match(Matcher.java:1270)\r\n            at java.util.regex.Matcher.matches(Matcher.java:604)\r\n            at org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.isValid(PatternValidator.java:60)\r\n            at org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.isValid(PatternValidator.java:24)\r\n            at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:171)\r\n            at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:68)\r\n            at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:73)\r\n            at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:127)\r\n            at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:120)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:533)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:496)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:465)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:430)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:380)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedAnnotatedObjectForCurrentGroup(ValidatorImpl.java:605)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedConstraints(ValidatorImpl.java:568)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:389)\r\n            at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:169)\r\n\r\nIs there any issue in my regex?\r\n\r\n\r\nThe regex for first name validation which supports alphabets and few special chars `^([a-zA-Z])+[-.&#39;\\\\s]?[-a-zA-Z]*$` \r\n\r\nRegex for message box text `^[\\sa-zA-Z0-9]+([ a-zA-Z0-9,&#39;.?!\\-_&amp;]+)*$`\r\n\r\n","title":"java.util.regex.Pattern matcher causes high CPU usage","body":"<p>We are having issue with a regex validation using Pattern. It is happening in Spring framework and hibernate's validation.</p>\n<p>Below snippet shows the request object being validated:</p>\n<pre><code>@PostMapping\npublic ResponseEntity create(@RequestBody RequestObj request) {\n  validationService.validate(request);\n  .....\n\n}\n</code></pre>\n<p>Regex pattern:</p>\n<pre><code>public class RequestObj {\n\n  @Pattern(regexp = &quot;^([a-zA-Z])+[-.'\\\\s]?[-a-zA-Z]*$&quot;, message = ValidationConstant.ERR_INVALID_FIRST_NAME)\n  @NotNull(message = ValidationConstant.ERR_FIRST_NAME_EMPTY)\n  @Size(max = 30, message = ValidationConstant.ERR_INVALID_NAME_SIZE)\n  private String firstName;\n\n  @Pattern(regexp = &quot;^[\\\\sa-zA-Z0-9]+([ a-zA-Z0-9,'.?!\\\\-_&amp;]+)*$&quot;, message = ValidationConstant.ERR_INVALID_COMMENT)\n  @Size(max = 200, message = ValidationConstant.ERR_INVALID_COMMENT_SIZE)\n  private String comment;\n\n}\n\n</code></pre>\n<p>When this validation is called, at times the CPU usage of the thread shows 100%.(It works most of the time).\nThe thread dump shows that thread is stuck in Pattern class.</p>\n<pre><code>&quot;http-nio-8080-exec-4&quot; #53 daemon prio=5 os_prio=0 tid=0x00007fce45f0d000 nid=0x44 runnable [0x00007fcdb3af6000]\n   java.lang.Thread.State: RUNNABLE\n        at java.util.regex.Pattern$5.isSatisfiedBy(Pattern.java:5265)\n        at java.util.regex.Pattern$5.isSatisfiedBy(Pattern.java:5265)\n        at java.util.regex.Pattern$5.isSatisfiedBy(Pattern.java:5265)\n        at java.util.regex.Pattern$CharProperty.match(Pattern.java:3790)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4274)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.match(Pattern.java:4799)\n        at java.util.regex.Pattern$GroupTail.match(Pattern.java:4731)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$GroupHead.match(Pattern.java:4672)\n        at java.util.regex.Pattern$Loop.matchInit(Pattern.java:4818)\n        at java.util.regex.Pattern$Prolog.match(Pattern.java:4755)\n        at java.util.regex.Pattern$Curly.match0(Pattern.java:4286)\n        at java.util.regex.Pattern$Curly.match(Pattern.java:4248)\n        at java.util.regex.Pattern$Begin.match(Pattern.java:3539)\n        at java.util.regex.Matcher.match(Matcher.java:1270)\n        at java.util.regex.Matcher.matches(Matcher.java:604)\n        at org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.isValid(PatternValidator.java:60)\n        at org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.isValid(PatternValidator.java:24)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateSingleConstraint(ConstraintTree.java:171)\n        at org.hibernate.validator.internal.engine.constraintvalidation.SimpleConstraintTree.validateConstraints(SimpleConstraintTree.java:68)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:73)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:127)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:120)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:533)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForSingleDefaultGroupElement(ValidatorImpl.java:496)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:465)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:430)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:380)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedAnnotatedObjectForCurrentGroup(ValidatorImpl.java:605)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateCascadedConstraints(ValidatorImpl.java:568)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:389)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:169)\n</code></pre>\n<p>Is there any issue in my regex?</p>\n<p>The regex for first name validation which supports alphabets and few special chars <code>^([a-zA-Z])+[-.'\\\\s]?[-a-zA-Z]*$</code></p>\n<p>Regex for message box text <code>^[\\sa-zA-Z0-9]+([ a-zA-Z0-9,'.?!\\-_&amp;]+)*$</code></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1519093583,"post_id":48876964,"comment_id":84758017,"body_markdown":"What is the error, please?","body":"What is the error, please?"},{"owner":{"account_id":12421553,"reputation":13,"user_id":9048269,"display_name":"GiGi"},"score":0,"creation_date":1519093681,"post_id":48876964,"comment_id":84758035,"body_markdown":"error: incompatible types: double[] cannot be converted to double","body":"error: incompatible types: double[] cannot be converted to double"},{"owner":{"account_id":12488885,"reputation":1703,"user_id":9091154,"display_name":"Zachary"},"score":1,"creation_date":1519093881,"post_id":48876964,"comment_id":84758085,"body_markdown":"`m[row][col] = data;` m is a two dimensional array so m[row][col] would hold a double, not an array (data).","body":"<code>m[row][col] = data;</code> m is a two dimensional array so m[row][col] would hold a double, not an array (data)."},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1519094274,"post_id":48876964,"comment_id":84758155,"body_markdown":"HINT: `data` is a `double[]`; `m[row]` is also a `double[]`.  Does that suggest anything to you?","body":"HINT: <code>data</code> is a <code>double[]</code>; <code>m[row]</code> is also a <code>double[]</code>.  Does that suggest anything to you?"}],"answers":[{"comments":[{"owner":{"account_id":12421553,"reputation":13,"user_id":9048269,"display_name":"GiGi"},"score":0,"creation_date":1519344316,"post_id":48877052,"comment_id":84885474,"body_markdown":"Is it the same process to add a column?","body":"Is it the same process to add a column?"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1519094299,"creation_date":1519094299,"answer_id":48877052,"question_id":48876964,"body_markdown":"You are clobbering your input array `m` on the first line of your `insertRow`. Instead, create a new array of one more element in size. Then copy everything before the insertion point from the input. Then insert the new row. Then copy everything after that row from the input (shifted back one against the current index). And, I would make the method `static`. Like,\r\n\r\n\tpublic static double[][] insertRow(double[][] m, int r, double[] data) {\r\n\t\tdouble[][] out = new double[m.length + 1][];\r\n\t\tfor (int i = 0; i &lt; r; i++) {\r\n\t\t\tout[i] = m[i];\r\n\t\t}\r\n\t\tout[r] = data;\r\n\t\tfor (int i = r + 1; i &lt; out.length; i++) {\r\n\t\t\tout[i] = m[i - 1];\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\r\nThen to test it, \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tdouble[][] arr = { { 2.546, 3.664, 2.455 }, { 1.489, 4.458, 3.333 } };\r\n\t\tSystem.out.println(Arrays.deepToString(arr));\r\n\t\tarr = insertRow(arr, 1, new double[] { 4.222, 2.888, 7.111 });\r\n\t\tSystem.out.println(Arrays.deepToString(arr));\r\n\t}\r\n\r\nAnd I get (as expected)\r\n\r\n    [[2.546, 3.664, 2.455], [1.489, 4.458, 3.333]]\r\n    [[2.546, 3.664, 2.455], [4.222, 2.888, 7.111], [1.489, 4.458, 3.333]]\r\n","title":"How do I insert a row into a 2D array in java?","body":"<p>You are clobbering your input array <code>m</code> on the first line of your <code>insertRow</code>. Instead, create a new array of one more element in size. Then copy everything before the insertion point from the input. Then insert the new row. Then copy everything after that row from the input (shifted back one against the current index). And, I would make the method <code>static</code>. Like,</p>\n\n<pre><code>public static double[][] insertRow(double[][] m, int r, double[] data) {\n    double[][] out = new double[m.length + 1][];\n    for (int i = 0; i &lt; r; i++) {\n        out[i] = m[i];\n    }\n    out[r] = data;\n    for (int i = r + 1; i &lt; out.length; i++) {\n        out[i] = m[i - 1];\n    }\n    return out;\n}\n</code></pre>\n\n<p>Then to test it, </p>\n\n<pre><code>public static void main(String[] args) {\n    double[][] arr = { { 2.546, 3.664, 2.455 }, { 1.489, 4.458, 3.333 } };\n    System.out.println(Arrays.deepToString(arr));\n    arr = insertRow(arr, 1, new double[] { 4.222, 2.888, 7.111 });\n    System.out.println(Arrays.deepToString(arr));\n}\n</code></pre>\n\n<p>And I get (as expected)</p>\n\n<pre><code>[[2.546, 3.664, 2.455], [1.489, 4.458, 3.333]]\n[[2.546, 3.664, 2.455], [4.222, 2.888, 7.111], [1.489, 4.458, 3.333]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16834911,"reputation":304,"user_id":12171869,"display_name":"frankmurphy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669120073,"creation_date":1669120073,"answer_id":74532618,"question_id":48876964,"body_markdown":"Building on the answer of Elliot Frish, but now with `System.arraycopy`:\r\n\r\n```\r\n    private static String[][] insertRow(String[][] originalData, int numberOfRowWhereToInsertData, String[] dataToInsert) {\r\n        String[][] output = new String[originalData.length + 1][];\r\n\r\n        if (numberOfRowWhereToInsertData &gt;= 0){\r\n            System.arraycopy(originalData, 0, output, 0, numberOfRowWhereToInsertData);\r\n        }\r\n\r\n        output[numberOfRowWhereToInsertData] = dataToInsert;\r\n\r\n        if (output.length - (numberOfRowWhereToInsertData + 1) &gt;= 0){\r\n            System.arraycopy(originalData, numberOfRowWhereToInsertData + 1 - 1, output, numberOfRowWhereToInsertData + 1, output.length - (numberOfRowWhereToInsertData + 1));\r\n        }\r\n\r\n\r\n        return output;\r\n\r\n    }\r\n````\r\n\r\nAnd testing with:\r\n\r\n````\r\n    public static void main(String[] args) {\r\n        String[][] arr = { { &quot;Old&quot;, &quot;McDonald&quot;, &quot;had&quot; }, { &quot;And&quot;, &quot;on&quot;, &quot;his&quot; }, {&quot;some&quot;, &quot;cows&quot;, &quot;Ee i ee i oh&quot;} };\r\n        arr = insertRow(arr, 1, new String[] { &quot;a&quot;, &quot;farm&quot;, &quot;Ee i ee i o&quot; });\r\n        arr = insertRow(arr, 3, new String[] { &quot;farm&quot;, &quot;he&quot;, &quot;had&quot;,  });\r\n        System.out.println(Arrays.deepToString(arr));\r\n    }\r\n````\r\n\r\nGives:\r\n\r\n```\r\n[[Old, McDonald, had], [a, farm, Ee i ee i o], [And, on, his], [farm, he, had], [some, cows, Ee i ee i oh]]\r\n```","title":"How do I insert a row into a 2D array in java?","body":"<p>Building on the answer of Elliot Frish, but now with <code>System.arraycopy</code>:</p>\n<pre><code>    private static String[][] insertRow(String[][] originalData, int numberOfRowWhereToInsertData, String[] dataToInsert) {\n        String[][] output = new String[originalData.length + 1][];\n\n        if (numberOfRowWhereToInsertData &gt;= 0){\n            System.arraycopy(originalData, 0, output, 0, numberOfRowWhereToInsertData);\n        }\n\n        output[numberOfRowWhereToInsertData] = dataToInsert;\n\n        if (output.length - (numberOfRowWhereToInsertData + 1) &gt;= 0){\n            System.arraycopy(originalData, numberOfRowWhereToInsertData + 1 - 1, output, numberOfRowWhereToInsertData + 1, output.length - (numberOfRowWhereToInsertData + 1));\n        }\n\n\n        return output;\n\n    }\n</code></pre>\n<p>And testing with:</p>\n<pre><code>    public static void main(String[] args) {\n        String[][] arr = { { &quot;Old&quot;, &quot;McDonald&quot;, &quot;had&quot; }, { &quot;And&quot;, &quot;on&quot;, &quot;his&quot; }, {&quot;some&quot;, &quot;cows&quot;, &quot;Ee i ee i oh&quot;} };\n        arr = insertRow(arr, 1, new String[] { &quot;a&quot;, &quot;farm&quot;, &quot;Ee i ee i o&quot; });\n        arr = insertRow(arr, 3, new String[] { &quot;farm&quot;, &quot;he&quot;, &quot;had&quot;,  });\n        System.out.println(Arrays.deepToString(arr));\n    }\n</code></pre>\n<p>Gives:</p>\n<pre><code>[[Old, McDonald, had], [a, farm, Ee i ee i o], [And, on, his], [farm, he, had], [some, cows, Ee i ee i oh]]\n</code></pre>\n"}],"owner":{"account_id":12421553,"reputation":13,"user_id":9048269,"display_name":"GiGi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6303,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48877052,"answer_count":2,"score":0,"last_activity_date":1669120073,"creation_date":1519093407,"question_id":48876964,"body_markdown":"The user has to give an index of a row where they want to insert it, like this:\r\n\r\n    original:\r\n    2.546   3.664  2.455\r\n    1.489   4.458  3.333\r\n\r\n    insert an index row: 1\r\n    [4.222, 2.888, 7.111]\r\n\r\n    row inserted:\r\n    2.546   3.664  2.455\r\n    4.222   2.888  7.111\r\n    1.489   4.458  3.333\r\n\r\nhere is the code:\r\n\r\n\tpublic double[] getTheDataForRow( int len )\r\n\t{\r\n\t\tdouble [] num = new double [len];\r\n\t\treturn num;\r\n\r\n\t}\r\n\r\n\tpublic double[][] insertRow( double[][] m, int r, double[] data){\r\n        m = new double [data.length][3];\r\n\t\tfor(int row = 0; row&lt;m.length; row++){\r\n\t\tfor(int col = 0; col&lt;m[row].length;col++)\r\n\t\tif(m[row][col] == r){\r\n\t    m[row][col] = data;\r\n\t\t}\r\n        }\r\n\t\treturn m;\r\n\t}\r\n\r\n\tpublic void result(double[][] s){\r\n\t\tfor(int row=0; row&lt;s.length; row++){\r\n\t\t\tfor(int col=0; col&lt;s[0].length; c++)\r\n\t\t\t\tout.printf( &quot;%5.2f&quot;, s[row][col] );\r\n\t\t\tout.println();\r\n\t\t}\r\n\t\tout.println();\r\n\t}\r\n\r\nI keep having an error and I honestly do not know how to fix it. I would appreciate some help.\r\n\r\n\r\n\r\n\r\n    \r\n\r\n","title":"How do I insert a row into a 2D array in java?","body":"<p>The user has to give an index of a row where they want to insert it, like this:</p>\n\n<pre><code>original:\n2.546   3.664  2.455\n1.489   4.458  3.333\n\ninsert an index row: 1\n[4.222, 2.888, 7.111]\n\nrow inserted:\n2.546   3.664  2.455\n4.222   2.888  7.111\n1.489   4.458  3.333\n</code></pre>\n\n<p>here is the code:</p>\n\n<pre><code>public double[] getTheDataForRow( int len )\n{\n    double [] num = new double [len];\n    return num;\n\n}\n\npublic double[][] insertRow( double[][] m, int r, double[] data){\n    m = new double [data.length][3];\n    for(int row = 0; row&lt;m.length; row++){\n    for(int col = 0; col&lt;m[row].length;col++)\n    if(m[row][col] == r){\n    m[row][col] = data;\n    }\n    }\n    return m;\n}\n\npublic void result(double[][] s){\n    for(int row=0; row&lt;s.length; row++){\n        for(int col=0; col&lt;s[0].length; c++)\n            out.printf( \"%5.2f\", s[row][col] );\n        out.println();\n    }\n    out.println();\n}\n</code></pre>\n\n<p>I keep having an error and I honestly do not know how to fix it. I would appreciate some help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"score":0,"creation_date":1377142163,"post_id":2413552,"comment_id":26975413,"body_markdown":"For a linux-specific solution using JNI, see [here](http://stackoverflow.com/a/18371202/446591). You&#39;d just need to change `fileno(stderr)` to `fileno(stdin)`.","body":"For a linux-specific solution using JNI, see <a href=\"http://stackoverflow.com/a/18371202/446591\">here</a>. You&#39;d just need to change <code>fileno(stderr)</code> to <code>fileno(stdin)</code>."},{"owner":{"account_id":4200427,"reputation":2406,"user_id":3440666,"display_name":"Kristian Holdhus"},"score":1,"creation_date":1398995354,"post_id":2413552,"comment_id":35889152,"body_markdown":"possible duplicate of [How can I check if a Java program&#39;s input/output streams are connected to a terminal?](http://stackoverflow.com/questions/1403772/how-can-i-check-if-a-java-programs-input-output-streams-are-connected-to-a-term)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1403772/how-can-i-check-if-a-java-programs-input-output-streams-are-connected-to-a-term\">How can I check if a Java program&#39;s input/output streams are connected to a terminal?</a>"}],"answers":[{"comments":[{"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"score":1,"creation_date":1268180554,"post_id":2413580,"comment_id":2394940,"body_markdown":"That should work. It sounds like System.console() will return null if there is no console attached.\n\nhttp://java.sun.com/javase/6/docs/api/java/io/Console.html","body":"That should work. It sounds like System.console() will return null if there is no console attached.  <a href=\"http://java.sun.com/javase/6/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/io/Console.html</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1268181881,"post_id":2413580,"comment_id":2395046,"body_markdown":"The Console API works in one sense, but if the user wants the app&#39;s input from a (say) a file, then opening a new console stream subverts.  IMO, the Console API should only be used when it makes no sense (or is dangerous) for the application to read from a non-interactive stdin.","body":"The Console API works in one sense, but if the user wants the app&#39;s input from a (say) a file, then opening a new console stream subverts.  IMO, the Console API should only be used when it makes no sense (or is dangerous) for the application to read from a non-interactive stdin."},{"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"score":0,"creation_date":1268317115,"post_id":2413580,"comment_id":2408678,"body_markdown":"I wasn&#39;t thinking of opening a new console stream. I was just thinking you could check for a non-null return from System.console() to determine if you were attached to a console.","body":"I wasn&#39;t thinking of opening a new console stream. I was just thinking you could check for a non-null return from System.console() to determine if you were attached to a console."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1268343877,"post_id":2413580,"comment_id":2412641,"body_markdown":"@Andrew - but how does that help?  It does NOT tell you is System.in/out are attached to a console.","body":"@Andrew - but how does that help?  It does NOT tell you is System.in/out are attached to a console."},{"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"score":0,"creation_date":1268486819,"post_id":2413580,"comment_id":2423740,"body_markdown":"Yeah, you&#39;re right, I wasn&#39;t thinking. It only tells you if if java was started from a console, but obviously stdin/out could still be redirected.","body":"Yeah, you&#39;re right, I wasn&#39;t thinking. It only tells you if if java was started from a console, but obviously stdin/out could still be redirected."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635647533,"creation_date":1268179735,"answer_id":2413580,"question_id":2413552,"body_markdown":"AFAIK, there is no way to do this in pure Java, and even doing it in JNI / JNA would be complicated.\r\n\r\nAn alternative might be to use the new Console API introduced in JDK 1.6.  This allows you to try to get a reader/writer for the console.  If it succeeds, the result is guaranteed to be interactive ... in the sense that you mean.\r\n\r\nA second alternative would be to do the &quot;check for interactivity&quot; in the wrapper script that you use to launch your application, and pass the information to Java via the system properties.  For instance, on a GNU/Linux system the `tty(1)` command can be used to tell if stdin is a connected to a &quot;tty&quot; device.\r\n\r\n----------------\r\n\r\nNote that there are other ways to deal with a requirement to avoid unwanted prompts when running non-interactively:\r\n\r\n&gt; If System.out is redirected to a file I also do not want to prompt.\r\n\r\n&lt;sup&gt;(I think you might mean that `System.in` is redirected.  That is the normal way to non-interactively run an application that normally takes interactive input from the user ...)&lt;/sup&gt;\r\n\r\nThe alternatives include:\r\n\r\n - You could modify the program to write the prompts to (say) `System.err` and redirect that to a different place.\r\n\r\n - You could modify the program to have options that mean &quot;don&#39;t prompt&quot; or &quot;take input from a file&quot;.\r\n\r\n","title":"Is there a way to determine if Java System.in is &quot;interactive&quot;?","body":"<p>AFAIK, there is no way to do this in pure Java, and even doing it in JNI / JNA would be complicated.</p>\n<p>An alternative might be to use the new Console API introduced in JDK 1.6.  This allows you to try to get a reader/writer for the console.  If it succeeds, the result is guaranteed to be interactive ... in the sense that you mean.</p>\n<p>A second alternative would be to do the &quot;check for interactivity&quot; in the wrapper script that you use to launch your application, and pass the information to Java via the system properties.  For instance, on a GNU/Linux system the <code>tty(1)</code> command can be used to tell if stdin is a connected to a &quot;tty&quot; device.</p>\n<hr />\n<p>Note that there are other ways to deal with a requirement to avoid unwanted prompts when running non-interactively:</p>\n<blockquote>\n<p>If System.out is redirected to a file I also do not want to prompt.</p>\n</blockquote>\n<p><sup>(I think you might mean that <code>System.in</code> is redirected.  That is the normal way to non-interactively run an application that normally takes interactive input from the user ...)</sup></p>\n<p>The alternatives include:</p>\n<ul>\n<li><p>You could modify the program to write the prompts to (say) <code>System.err</code> and redirect that to a different place.</p>\n</li>\n<li><p>You could modify the program to have options that mean &quot;don't prompt&quot; or &quot;take input from a file&quot;.</p>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"score":0,"creation_date":1669133852,"post_id":74532602,"comment_id":131572643,"body_markdown":"See the previous discussion of System.console()","body":"See the previous discussion of System.console()"}],"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669119979,"creation_date":1669119979,"answer_id":74532602,"question_id":2413552,"body_markdown":"Since Java 6 there is the method [java.lang.System.console()][1]:\r\n\r\n&gt; Whether a virtual machine has a console is dependent upon the\r\n&gt; underlying platform and also upon the manner in which the virtual\r\n&gt; machine is invoked. If the virtual machine is started from an\r\n&gt; interactive command line without redirecting the standard input and\r\n&gt; output streams then its console will exist and will typically be\r\n&gt; connected to the keyboard and display from which the virtual machine\r\n&gt; was launched. If the virtual machine is started automatically, for\r\n&gt; example by a background job scheduler, then it will typically not have\r\n&gt; a console.\r\n&gt; \r\n&gt; If this virtual machine has a console then it is represented by a\r\n&gt; unique instance of this class which can be obtained by invoking the\r\n&gt; java.lang.System.console() method. If no console device is available\r\n&gt; then an invocation of that method will return null.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/io/Console.html","title":"Is there a way to determine if Java System.in is &quot;interactive&quot;?","body":"<p>Since Java 6 there is the method <a href=\"https://docs.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"nofollow noreferrer\">java.lang.System.console()</a>:</p>\n<blockquote>\n<p>Whether a virtual machine has a console is dependent upon the\nunderlying platform and also upon the manner in which the virtual\nmachine is invoked. If the virtual machine is started from an\ninteractive command line without redirecting the standard input and\noutput streams then its console will exist and will typically be\nconnected to the keyboard and display from which the virtual machine\nwas launched. If the virtual machine is started automatically, for\nexample by a background job scheduler, then it will typically not have\na console.</p>\n<p>If this virtual machine has a console then it is represented by a\nunique instance of this class which can be obtained by invoking the\njava.lang.System.console() method. If no console device is available\nthen an invocation of that method will return null.</p>\n</blockquote>\n"}],"owner":{"account_id":21620,"reputation":2451,"user_id":52687,"accept_rate":80,"display_name":"Andrew McKinlay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2689,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1669119979,"creation_date":1268179354,"question_id":2413552,"body_markdown":"If the input is interactive, i.e. from the console, I want to print a command prompt e.g. &quot;&gt;&quot;\r\n\r\nBut if it is redirected e.g. from a file, then I do not want to prompt.\r\n\r\nSystem.in is an abstract InputStream which does not appear to have any method for this.\r\n\r\nMaybe you could use instanceof if the concrete type is different?\r\n\r\nAs well, if System.out is redirected to a file I also do not want to prompt\r\n\r\n","title":"Is there a way to determine if Java System.in is &quot;interactive&quot;?","body":"<p>If the input is interactive, i.e. from the console, I want to print a command prompt e.g. \">\"</p>\n\n<p>But if it is redirected e.g. from a file, then I do not want to prompt.</p>\n\n<p>System.in is an abstract InputStream which does not appear to have any method for this.</p>\n\n<p>Maybe you could use instanceof if the concrete type is different?</p>\n\n<p>As well, if System.out is redirected to a file I also do not want to prompt</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"score":0,"creation_date":1669046294,"post_id":74521540,"comment_id":131548411,"body_markdown":"Yes - it should be possible.\nPlease include the part of your code where you create the entities.\nSeems your issue is not an actual `null` value, but some reference that is not yet persisted, i.e. you might be missing a call to `EntityManager.save` or some cascade on create on the entity.","body":"Yes - it should be possible. Please include the part of your code where you create the entities. Seems your issue is not an actual <code>null</code> value, but some reference that is not yet persisted, i.e. you might be missing a call to <code>EntityManager.save</code> or some cascade on create on the entity."},{"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"score":0,"creation_date":1669047143,"post_id":74521540,"comment_id":131548715,"body_markdown":"@Jochen Reinhardt I make just `positionRepository.save(position);` Im use Spring Data","body":"@Jochen Reinhardt I make just <code>positionRepository.save(position);</code> Im use Spring Data"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669119928,"creation_date":1669053004,"answer_id":74522981,"question_id":74521540,"body_markdown":"Yes. The problem is not the fact that the relationship is null.\r\nThe problem is that `parentUser` is set to an unmanaged object.\r\n\r\nYou need to show how you are creating the object `position`, but I bet somewhere, you are initializing `parentUser` and that&#39;s what&#39;s causing the exception.\r\n\r\nYou can quickly check by setting `parentUser` to null before saving the position:\r\n```\r\n...\r\nposition.setParentUser(null);\r\npositionRepository.save(position);\r\n```\r\n\r\nMake sure that when you create a new `Position` object, you are also not initializing the `parentUser`. ","title":"Insert null in @JoinColumn field","body":"<p>Yes. The problem is not the fact that the relationship is null.\nThe problem is that <code>parentUser</code> is set to an unmanaged object.</p>\n<p>You need to show how you are creating the object <code>position</code>, but I bet somewhere, you are initializing <code>parentUser</code> and that's what's causing the exception.</p>\n<p>You can quickly check by setting <code>parentUser</code> to null before saving the position:</p>\n<pre><code>...\nposition.setParentUser(null);\npositionRepository.save(position);\n</code></pre>\n<p>Make sure that when you create a new <code>Position</code> object, you are also not initializing the <code>parentUser</code>.</p>\n"}],"owner":{"account_id":9472564,"reputation":2041,"user_id":7548062,"accept_rate":76,"display_name":"Pavel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74522981,"answer_count":1,"score":0,"last_activity_date":1669119928,"creation_date":1669045859,"question_id":74521540,"body_markdown":"I have a tables\r\n\r\n    CREATE TABLE IF NOT EXISTS users\r\n    (\r\n        id                      BIGSERIAL PRIMARY KEY\r\n    );\r\n\r\n    CREATE TABLE IF NOT EXISTS positions\r\n    (\r\n        id                   BIGSERIAL PRIMARY KEY,\r\n        parent_user_id       BIGINT,  -- can be null its cause without REFERENCES users (id)\r\n        user_id              BIGINT REFERENCES users (id)\r\n    );\r\n\r\nAnd entity class\r\n\r\n    @Table(name = &quot;users&quot;)\r\n    @Entity\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ToString.Exclude\r\n        @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;Position&gt; positions;\r\n    }\r\n\r\n    @Table(name = &quot;positions&quot;)\r\n    @Entity\r\n    public class Position {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ToString.Exclude\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n    \r\n        @ToString.Exclude\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;parent_user_id&quot;, columnDefinition = &quot;BIGINT&quot;)\r\n        private User parentUser;\r\n    }\r\n\r\n\r\nAccordingly, business logic `parentUser` can be null but when I try to insert a new position get the error:\r\n\r\n&gt; 2022-11-21 18:24:21:934 ERROR i.n.c.impl.ErrorListenerLoggerImpl -\r\n&gt; exceptionOccurred, Connection: 207475, Exception:\r\n&gt; org.springframework.dao.InvalidDataAccessApiUsageException:\r\n&gt; org.hibernate.TransientPropertyValueException: object references an\r\n&gt; unsaved transient instance - save the transient instance before\r\n&gt; flushing : ltd.package.model.Position.parentUser -&gt;\r\n&gt; ltd.package.model.User; nested exception is\r\n&gt; java.lang.IllegalStateException:\r\n&gt; org.hibernate.TransientPropertyValueException: object references an\r\n&gt; unsaved transient instance - save the transient instance before\r\n&gt; flushing : ltd.package.model.Position.parentUser -&gt;\r\n&gt; ltd.package.model.User\r\n\r\n\r\nIs it possible to insert a new Position with null as `parentUser`?\r\n","title":"Insert null in @JoinColumn field","body":"<p>I have a tables</p>\n<pre><code>CREATE TABLE IF NOT EXISTS users\n(\n    id                      BIGSERIAL PRIMARY KEY\n);\n\nCREATE TABLE IF NOT EXISTS positions\n(\n    id                   BIGSERIAL PRIMARY KEY,\n    parent_user_id       BIGINT,  -- can be null its cause without REFERENCES users (id)\n    user_id              BIGINT REFERENCES users (id)\n);\n</code></pre>\n<p>And entity class</p>\n<pre><code>@Table(name = &quot;users&quot;)\n@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ToString.Exclude\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Position&gt; positions;\n}\n\n@Table(name = &quot;positions&quot;)\n@Entity\npublic class Position {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_user_id&quot;, columnDefinition = &quot;BIGINT&quot;)\n    private User parentUser;\n}\n</code></pre>\n<p>Accordingly, business logic <code>parentUser</code> can be null but when I try to insert a new position get the error:</p>\n<blockquote>\n<p>2022-11-21 18:24:21:934 ERROR i.n.c.impl.ErrorListenerLoggerImpl -\nexceptionOccurred, Connection: 207475, Exception:\norg.springframework.dao.InvalidDataAccessApiUsageException:\norg.hibernate.TransientPropertyValueException: object references an\nunsaved transient instance - save the transient instance before\nflushing : ltd.package.model.Position.parentUser -&gt;\nltd.package.model.User; nested exception is\njava.lang.IllegalStateException:\norg.hibernate.TransientPropertyValueException: object references an\nunsaved transient instance - save the transient instance before\nflushing : ltd.package.model.Position.parentUser -&gt;\nltd.package.model.User</p>\n</blockquote>\n<p>Is it possible to insert a new Position with null as <code>parentUser</code>?</p>\n"},{"tags":["java","webp"],"comments":[{"owner":{"account_id":252543,"reputation":1833,"user_id":530657,"display_name":"Jos&#233; Luis"},"score":0,"creation_date":1481898915,"post_id":41185807,"comment_id":69572974,"body_markdown":"http://stackoverflow.com/questions/17861601/webp-library-for-java","body":"<a href=\"http://stackoverflow.com/questions/17861601/webp-library-for-java\" title=\"webp library for java\">stackoverflow.com/questions/17861601/webp-library-for-java</a>"}],"answers":[{"comments":[{"owner":{"account_id":20791714,"reputation":561,"user_id":15269737,"display_name":"Enmanuel Rodr&#237;guez Paz"},"score":10,"creation_date":1615403711,"post_id":41192253,"comment_id":117682724,"body_markdown":"Seems like the repository has been deleted","body":"Seems like the repository has been deleted"},{"owner":{"account_id":3337989,"reputation":404,"user_id":2804966,"display_name":"lalo"},"score":2,"creation_date":1649191740,"post_id":41192253,"comment_id":126812648,"body_markdown":"Has anyone found any maintained alternative?","body":"Has anyone found any maintained alternative?"},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":1,"creation_date":1660745791,"post_id":41192253,"comment_id":129605655,"body_markdown":"Here is forked repository, maybe helps: https://github.com/sejda-pdf/webp-imageio","body":"Here is forked repository, maybe helps: <a href=\"https://github.com/sejda-pdf/webp-imageio\" rel=\"nofollow noreferrer\">github.com/sejda-pdf/webp-imageio</a>"}],"tags":[],"owner":{"account_id":8120889,"reputation":319,"user_id":6117700,"accept_rate":70,"display_name":"Reza"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1481921517,"creation_date":1481921517,"answer_id":41192253,"question_id":41185807,"body_markdown":"among all searches possible , this one was best and easiest :\r\n\r\nhttps://bitbucket.org/luciad/webp-imageio\r\n\r\nnot full java implemention , but very easy comparing to others","title":"Webp support for java","body":"<p>among all searches possible , this one was best and easiest :</p>\n\n<p><a href=\"https://bitbucket.org/luciad/webp-imageio\" rel=\"nofollow noreferrer\">https://bitbucket.org/luciad/webp-imageio</a></p>\n\n<p>not full java implemention , but very easy comparing to others</p>\n"},{"comments":[{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":0,"creation_date":1616541285,"post_id":65998284,"comment_id":118034169,"body_markdown":"There is a problem reading the output + error streams after the process terminated. If the stream buffer runs full your process will block. It is better to instantly stream the content of both streams while waiting or using a pipe.","body":"There is a problem reading the output + error streams after the process terminated. If the stream buffer runs full your process will block. It is better to instantly stream the content of both streams while waiting or using a pipe."},{"owner":{"account_id":6522954,"reputation":1831,"user_id":5046586,"display_name":"Aldo Canepa"},"score":0,"creation_date":1616633458,"post_id":65998284,"comment_id":118067295,"body_markdown":"Hmm, that sounds bad. Could you post some code on how to handle the streams the way you mention? Or elaborate a bit on how to reproduce the problem? I tried calling the method to convert to webp on a file that causes an error, did it 10.000  times and didn&#39;t see any problem.","body":"Hmm, that sounds bad. Could you post some code on how to handle the streams the way you mention? Or elaborate a bit on how to reproduce the problem? I tried calling the method to convert to webp on a file that causes an error, did it 10.000  times and didn&#39;t see any problem."},{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":0,"creation_date":1616841285,"post_id":65998284,"comment_id":118132934,"body_markdown":"You can create a batch file writing a lot of output and execute it as a process from within a Java app. The problem arises if you have a process that prints a lot of output. If your process does not do that you will be fine. It also depends on the OS / Java buffer for the output. I had this problem like 5 or so years ago. It might have been fixed but I doubt it (as there is no fix you can only push the boundary when the problem happens).","body":"You can create a batch file writing a lot of output and execute it as a process from within a Java app. The problem arises if you have a process that prints a lot of output. If your process does not do that you will be fine. It also depends on the OS / Java buffer for the output. I had this problem like 5 or so years ago. It might have been fixed but I doubt it (as there is no fix you can only push the boundary when the problem happens)."},{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":1,"creation_date":1616841372,"post_id":65998284,"comment_id":118132955,"body_markdown":"A solution is to not use process.waitFor but spin yourself on process.isAlive. When it is still running you can use both streams and ask if bytes are available and remove those from the stream and print them out (or whatever). This way these streams will never overflow.","body":"A solution is to not use process.waitFor but spin yourself on process.isAlive. When it is still running you can use both streams and ask if bytes are available and remove those from the stream and print them out (or whatever). This way these streams will never overflow."},{"owner":{"account_id":1024933,"reputation":703,"user_id":1034461,"display_name":"horvoje"},"score":0,"creation_date":1698689907,"post_id":65998284,"comment_id":136434696,"body_markdown":"That&#39;s really weird. I use `webp-imageio` in my project https://thevegcat.com to process photos for few years and never ever got any error.","body":"That&#39;s really weird. I use <code>webp-imageio</code> in my project <a href=\"https://thevegcat.com\" rel=\"nofollow noreferrer\">thevegcat.com</a> to process photos for few years and never ever got any error."},{"owner":{"account_id":6522954,"reputation":1831,"user_id":5046586,"display_name":"Aldo Canepa"},"score":0,"creation_date":1701250911,"post_id":65998284,"comment_id":136751305,"body_markdown":"In my case I process user uploaded pictures, so the variability is pretty high, maybe it can happen if a file has something invalid? :shrug","body":"In my case I process user uploaded pictures, so the variability is pretty high, maybe it can happen if a file has something invalid? :shrug"}],"tags":[],"owner":{"account_id":6522954,"reputation":1831,"user_id":5046586,"display_name":"Aldo Canepa"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612206149,"creation_date":1612204624,"answer_id":65998284,"question_id":41185807,"body_markdown":"The bitbucket link of the original answer is not available anymore, but forks from the original repository can be found, in example: https://github.com/sejda-pdf/webp-imageio\r\n\r\nI tried using the webp-imageio implementation from the mentioned github, but after 2 days of using it in production, I got a segmentation fault coming from the native library that crashed the whole server.\r\n\r\nI resorted to using the compiled tools provided by google here: https://developers.google.com/speed/webp/download and do a small wrapper class to call the binaries.\r\n\r\nIn my case, I needed to convert from other images formats to webp, so I needed the &quot;cwebp&quot; binary. The wrapper I wrote is:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintStream;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class ImageWebpLibraryWrapper {\r\n    \r\n      private static final String CWEBP_BIN_PATH = &quot;somepath/libwebp-1.1.0-linux-x86-64/bin/cwebp&quot;;\r\n    \r\n      public static boolean isWebPAvailable() {\r\n        if ( CWEBP_BIN_PATH == null ) {\r\n          return false;\r\n        }\r\n        return new File( CWEBP_BIN_PATH ).exists();\r\n      }\r\n    \r\n      public static boolean convertToWebP( File imageFile, File targetFile, int quality ) {\r\n        Process process;\r\n        try {\r\n          process = new ProcessBuilder( CWEBP_BIN_PATH, &quot;-q&quot;, &quot;&quot; + quality, imageFile.getAbsolutePath(), &quot;-o&quot;,\r\n              targetFile.getAbsolutePath() ).start();\r\n          process.waitFor( 10, TimeUnit.SECONDS );\r\n          if ( process.exitValue() == 0 ) {\r\n            // Success\r\n            printProcessOutput( process.getInputStream(), System.out );\r\n            return true;\r\n          } else {\r\n            printProcessOutput( process.getErrorStream(), System.err );\r\n            return false;\r\n          }\r\n        } catch ( Exception e ) {\r\n          e.printStackTrace();\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      private static void printProcessOutput( InputStream inputStream, PrintStream output ) throws IOException {\r\n        try ( InputStreamReader isr = new InputStreamReader( inputStream );\r\n            BufferedReader bufferedReader = new BufferedReader( isr ) ) {\r\n          String line;\r\n          while ( ( line = bufferedReader.readLine() ) != null ) {\r\n            output.println( line );\r\n          }\r\n        }\r\n      }\r\n\r\nAn implementation around ImageIO is nicer, but I couldn&#39;t have a segmentation fault crashing the production server.\r\n\r\nSample usage:\r\n\r\n    public static void main( String args[] ) {\r\n      if ( !isWebPAvailable() ) {\r\n        System.err.println( &quot;cwebp binary not found!&quot; );\r\n        return;\r\n      }\r\n      File file = new File( &quot;/home/xxx/Downloads/image_11.jpg&quot; );\r\n      File outputFile = new File( &quot;/home/xxx/Downloads/image_11-test.webp&quot; );\r\n      int quality = 80;\r\n      if ( convertToWebP( file, outputFile, quality ) ) {\r\n        System.out.println( &quot;SUCCESS&quot; );\r\n      } else {\r\n        System.err.println( &quot;FAIL&quot; );\r\n      }\r\n    }\r\n","title":"Webp support for java","body":"<p>The bitbucket link of the original answer is not available anymore, but forks from the original repository can be found, in example: <a href=\"https://github.com/sejda-pdf/webp-imageio\" rel=\"nofollow noreferrer\">https://github.com/sejda-pdf/webp-imageio</a></p>\n<p>I tried using the webp-imageio implementation from the mentioned github, but after 2 days of using it in production, I got a segmentation fault coming from the native library that crashed the whole server.</p>\n<p>I resorted to using the compiled tools provided by google here: <a href=\"https://developers.google.com/speed/webp/download\" rel=\"nofollow noreferrer\">https://developers.google.com/speed/webp/download</a> and do a small wrapper class to call the binaries.</p>\n<p>In my case, I needed to convert from other images formats to webp, so I needed the &quot;cwebp&quot; binary. The wrapper I wrote is:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintStream;\nimport java.util.concurrent.TimeUnit;\n\npublic class ImageWebpLibraryWrapper {\n\n  private static final String CWEBP_BIN_PATH = &quot;somepath/libwebp-1.1.0-linux-x86-64/bin/cwebp&quot;;\n\n  public static boolean isWebPAvailable() {\n    if ( CWEBP_BIN_PATH == null ) {\n      return false;\n    }\n    return new File( CWEBP_BIN_PATH ).exists();\n  }\n\n  public static boolean convertToWebP( File imageFile, File targetFile, int quality ) {\n    Process process;\n    try {\n      process = new ProcessBuilder( CWEBP_BIN_PATH, &quot;-q&quot;, &quot;&quot; + quality, imageFile.getAbsolutePath(), &quot;-o&quot;,\n          targetFile.getAbsolutePath() ).start();\n      process.waitFor( 10, TimeUnit.SECONDS );\n      if ( process.exitValue() == 0 ) {\n        // Success\n        printProcessOutput( process.getInputStream(), System.out );\n        return true;\n      } else {\n        printProcessOutput( process.getErrorStream(), System.err );\n        return false;\n      }\n    } catch ( Exception e ) {\n      e.printStackTrace();\n      return false;\n    }\n  }\n  \n  private static void printProcessOutput( InputStream inputStream, PrintStream output ) throws IOException {\n    try ( InputStreamReader isr = new InputStreamReader( inputStream );\n        BufferedReader bufferedReader = new BufferedReader( isr ) ) {\n      String line;\n      while ( ( line = bufferedReader.readLine() ) != null ) {\n        output.println( line );\n      }\n    }\n  }\n</code></pre>\n<p>An implementation around ImageIO is nicer, but I couldn't have a segmentation fault crashing the production server.</p>\n<p>Sample usage:</p>\n<pre><code>public static void main( String args[] ) {\n  if ( !isWebPAvailable() ) {\n    System.err.println( &quot;cwebp binary not found!&quot; );\n    return;\n  }\n  File file = new File( &quot;/home/xxx/Downloads/image_11.jpg&quot; );\n  File outputFile = new File( &quot;/home/xxx/Downloads/image_11-test.webp&quot; );\n  int quality = 80;\n  if ( convertToWebP( file, outputFile, quality ) ) {\n    System.out.println( &quot;SUCCESS&quot; );\n  } else {\n    System.err.println( &quot;FAIL&quot; );\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6267548,"reputation":319,"user_id":4872752,"display_name":"Dušan Salay"},"score":0,"creation_date":1626267698,"post_id":66772570,"comment_id":120846801,"body_markdown":"How did you link native libraries to your java project?","body":"How did you link native libraries to your java project?"}],"tags":[],"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616841395,"creation_date":1616541103,"answer_id":66772570,"question_id":41185807,"body_markdown":"Please use OpenCV. I use maven and org.openpnp:opencv:4.5.1-2. All it takes to encode an image that is stored in a Mat is:\r\n\r\n    public static byte [] encodeWebp(Mat image, int quality) {\r\n\t\tMatOfInt parameters = new MatOfInt(Imgcodecs.IMWRITE_WEBP_QUALITY, quality);\r\n\t\tMatOfByte output = new MatOfByte();\r\n\t\tif(Imgcodecs.imencode(&quot;.webp&quot;, image, output, parameters)) \r\n\t\t\treturn output.toArray();\r\n\t\telse\r\n\t\t\tthrow new IllegalStateException(&quot;Failed to encode the image as webp with quality &quot; + quality);\r\n\t}\r\n\r\nI am converting it to byte [] arrays since I store it mostly in S3 and DB and rather sheldom in the filesystem.","title":"Webp support for java","body":"<p>Please use OpenCV. I use maven and org.openpnp:opencv:4.5.1-2. All it takes to encode an image that is stored in a Mat is:</p>\n<pre><code>public static byte [] encodeWebp(Mat image, int quality) {\n    MatOfInt parameters = new MatOfInt(Imgcodecs.IMWRITE_WEBP_QUALITY, quality);\n    MatOfByte output = new MatOfByte();\n    if(Imgcodecs.imencode(&quot;.webp&quot;, image, output, parameters)) \n        return output.toArray();\n    else\n        throw new IllegalStateException(&quot;Failed to encode the image as webp with quality &quot; + quality);\n}\n</code></pre>\n<p>I am converting it to byte [] arrays since I store it mostly in S3 and DB and rather sheldom in the filesystem.</p>\n"},{"tags":[],"owner":{"account_id":6267548,"reputation":319,"user_id":4872752,"display_name":"Dušan Salay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624669863,"creation_date":1624669863,"answer_id":68138398,"question_id":41185807,"body_markdown":"Used OpenPnP OpenCV in kotlin:\r\n\r\n\r\n\r\n```koltin\r\nfun encodeToWebP(image: ByteArray): ByteArray {\r\n        val matImage = Imgcodecs.imdecode(MatOfByte(*image), Imgcodecs.IMREAD_UNCHANGED)\r\n        val parameters = MatOfInt(Imgcodecs.IMWRITE_WEBP_QUALITY, 100)\r\n        val output = MatOfByte()\r\n        if (Imgcodecs.imencode(&quot;.webp&quot;, matImage, output, parameters)) {\r\n            return output.toArray()\r\n        } else {\r\n            throw IllegalStateException(&quot;Failed to encode the image as webp&quot;)\r\n        }\r\n    }\r\n```\r\n","title":"Webp support for java","body":"<p>Used OpenPnP OpenCV in kotlin:</p>\n<pre><code>fun encodeToWebP(image: ByteArray): ByteArray {\n        val matImage = Imgcodecs.imdecode(MatOfByte(*image), Imgcodecs.IMREAD_UNCHANGED)\n        val parameters = MatOfInt(Imgcodecs.IMWRITE_WEBP_QUALITY, 100)\n        val output = MatOfByte()\n        if (Imgcodecs.imencode(&quot;.webp&quot;, matImage, output, parameters)) {\n            return output.toArray()\n        } else {\n            throw IllegalStateException(&quot;Failed to encode the image as webp&quot;)\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1414009,"reputation":128,"user_id":1340034,"display_name":"Ahmed Abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669119255,"creation_date":1669119255,"answer_id":74532472,"question_id":41185807,"body_markdown":"for java developers, who are coming from a search engine, I have converted @Dušan Salay answer to java:\r\n\r\n    private byte[] encodeToWebP(byte[] data) {\r\n        Mat matImage = Imgcodecs.imdecode(new MatOfByte(data), Imgcodecs.IMREAD_UNCHANGED);\r\n        MatOfInt parameters = new MatOfInt(Imgcodecs.IMWRITE_WEBP_QUALITY, 100);\r\n        MatOfByte output = new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.webp&quot;, matImage, output, parameters);\r\n        return output.toArray();\r\n    }\r\nI have used apache commons to readFileToByteArray. \r\nAlso you will need to load library first in static block\r\n\r\n    static {\r\n        OpenCV.loadLocally();\r\n    }","title":"Webp support for java","body":"<p>for java developers, who are coming from a search engine, I have converted @Dušan Salay answer to java:</p>\n<pre><code>private byte[] encodeToWebP(byte[] data) {\n    Mat matImage = Imgcodecs.imdecode(new MatOfByte(data), Imgcodecs.IMREAD_UNCHANGED);\n    MatOfInt parameters = new MatOfInt(Imgcodecs.IMWRITE_WEBP_QUALITY, 100);\n    MatOfByte output = new MatOfByte();\n    Imgcodecs.imencode(&quot;.webp&quot;, matImage, output, parameters);\n    return output.toArray();\n}\n</code></pre>\n<p>I have used apache commons to readFileToByteArray.\nAlso you will need to load library first in static block</p>\n<pre><code>static {\n    OpenCV.loadLocally();\n}\n</code></pre>\n"}],"owner":{"account_id":8120889,"reputation":319,"user_id":6117700,"accept_rate":70,"display_name":"Reza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15265,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":41192253,"answer_count":5,"score":13,"last_activity_date":1669119255,"creation_date":1481895881,"question_id":41185807,"body_markdown":"As our network based applications fall in love with webp image formats, I found my self in need of a method or a lib which can decode it,\r\n\r\nI have written this piece of code, but it only misses the native decoder(how ever I prefer it to be a jar lib) :\r\n\r\n    \r\n    public BufferedImage decodeWebP(byte[] encoded, int w, int h) {\r\n        int[] width = new int[]{w};\r\n        int[] height = new int[]{h};\r\n\r\n        byte[] decoded = decodeRGBAnative(encoded);  //here is the missing part , \r\n        if (decoded.length == 0) return null;\r\n\r\n        int[] pixels = new int[decoded.length / 4];\r\n        ByteBuffer.wrap(decoded).asIntBuffer().get(pixels);\r\n        \r\n        BufferedImage bufferedImage = new BufferedImage(width[0], height[0], BufferedImage.TYPE_INT_RGB);\r\n        \r\n        //  bufferedImage.setRGB(x, y, your_value);\r\n        \r\n        int BLOCK_SIZE = 3;\r\n        \r\n        for(int r=0; r&lt; height[0]; r++) {\r\n            for (int c = 0; c &lt; width[0]; c++) {\r\n                int index = r * width[0] * BLOCK_SIZE + c * BLOCK_SIZE;\r\n                int red = pixels[index] &amp; 0xFF;\r\n                int green = pixels[index + 1] &amp; 0xFF;\r\n                int blue = pixels[index + 2] &amp; 0xFF;\r\n                int rgb = (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue;\r\n                bufferedImage.setRGB(c, r, rgb);\r\n            }\r\n        }\r\n        return bufferedImage;\r\n    }","title":"Webp support for java","body":"<p>As our network based applications fall in love with webp image formats, I found my self in need of a method or a lib which can decode it,</p>\n\n<p>I have written this piece of code, but it only misses the native decoder(how ever I prefer it to be a jar lib) :</p>\n\n<pre><code>public BufferedImage decodeWebP(byte[] encoded, int w, int h) {\n    int[] width = new int[]{w};\n    int[] height = new int[]{h};\n\n    byte[] decoded = decodeRGBAnative(encoded);  //here is the missing part , \n    if (decoded.length == 0) return null;\n\n    int[] pixels = new int[decoded.length / 4];\n    ByteBuffer.wrap(decoded).asIntBuffer().get(pixels);\n\n    BufferedImage bufferedImage = new BufferedImage(width[0], height[0], BufferedImage.TYPE_INT_RGB);\n\n    //  bufferedImage.setRGB(x, y, your_value);\n\n    int BLOCK_SIZE = 3;\n\n    for(int r=0; r&lt; height[0]; r++) {\n        for (int c = 0; c &lt; width[0]; c++) {\n            int index = r * width[0] * BLOCK_SIZE + c * BLOCK_SIZE;\n            int red = pixels[index] &amp; 0xFF;\n            int green = pixels[index + 1] &amp; 0xFF;\n            int blue = pixels[index + 2] &amp; 0xFF;\n            int rgb = (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue;\n            bufferedImage.setRGB(c, r, rgb);\n        }\n    }\n    return bufferedImage;\n}\n</code></pre>\n"},{"tags":["java","terminal","command-prompt","ubuntu-22.04"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1669117251,"post_id":74532052,"comment_id":131566099,"body_markdown":"use a System.out.println(&quot;&quot;) statement","body":"use a System.out.println(&quot;&quot;) statement"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669117978,"post_id":74532052,"comment_id":131566374,"body_markdown":"don&#39;t put code in a comment. Edit your question","body":"don&#39;t put code in a comment. Edit your question"},{"owner":{"account_id":8371653,"reputation":612,"user_id":6286575,"display_name":"tfpf"},"score":0,"creation_date":1669118160,"post_id":74532052,"comment_id":131566429,"body_markdown":"`System.out.println` will do it, as another comment here says. You appear to have used `System.out.print` again instead.","body":"<code>System.out.println</code> will do it, as another comment here says. You appear to have used <code>System.out.print</code> again instead."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669118208,"post_id":74532052,"comment_id":131566440,"body_markdown":"don&#39;t put code in comments, formatted or otherwise, edit the original question. And no, you didn&#39;t add the line I suggested","body":"don&#39;t put code in comments, formatted or otherwise, edit the original question. And no, you didn&#39;t add the line I suggested"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1669118290,"post_id":74532052,"comment_id":131566458,"body_markdown":"One line program: `System.out.println(&quot;a-b c-d&quot;);`","body":"One line program: <code>System.out.println(&quot;a-b c-d&quot;);</code>"},{"owner":{"account_id":1775886,"reputation":1,"user_id":1619694,"display_name":"Sacha"},"score":0,"creation_date":1669118551,"post_id":74532052,"comment_id":131566553,"body_markdown":"@Stultuske thanks for the patience! It now works brilliantly.","body":"@Stultuske thanks for the patience! It now works brilliantly."}],"answers":[{"tags":[],"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669119091,"creation_date":1669119091,"answer_id":74532442,"question_id":74532052,"body_markdown":"Here is the code according to your question. Just change the last `System.out.print(&quot;&quot;);` statement to `System.out.println();`\r\n````\r\nclass Shuffle1 {\r\n    public static void main(String [] args) {\r\n\r\n        int x = 3;\r\n        while (x &gt; 0) {\r\n\r\n            if (x &gt; 2) {\r\n                System.out.print(&quot;a&quot;);\r\n            }\r\n            \r\n            x = x - 1;\r\n            System.out.print(&quot;-&quot;);\r\n            \r\n            if (x == 2) {\r\n                System.out.print(&quot;b c&quot;);\r\n            }\r\n            \r\n            if (x == 1) {\r\n                System.out.print(&quot;d&quot;);\r\n                x = x - 1;\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n````","title":"How do I get the prompt onto a new line after executing a java application","body":"<p>Here is the code according to your question. Just change the last <code>System.out.print(&quot;&quot;);</code> statement to <code>System.out.println();</code></p>\n<pre><code>class Shuffle1 {\n    public static void main(String [] args) {\n\n        int x = 3;\n        while (x &gt; 0) {\n\n            if (x &gt; 2) {\n                System.out.print(&quot;a&quot;);\n            }\n            \n            x = x - 1;\n            System.out.print(&quot;-&quot;);\n            \n            if (x == 2) {\n                System.out.print(&quot;b c&quot;);\n            }\n            \n            if (x == 1) {\n                System.out.print(&quot;d&quot;);\n                x = x - 1;\n            }\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1775886,"reputation":1,"user_id":1619694,"display_name":"Sacha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669119091,"creation_date":1669117188,"question_id":74532052,"body_markdown":"I&#39;m running Ubuntu version 22.04.\r\n\r\n```\r\nI&#39;ve got Java running and I&#39;m executing the following code:\r\n\r\nclass Shuffle1 {\r\n\tpublic static void main(String [] args)\t{\r\n\t\t\r\n\t\tint x = 3;\r\n\t\twhile (x &gt; 0)\t{\r\n\t\t\t\r\n\t\t\tif (x &gt; 2)\t{\r\n\t\t\t\tSystem.out.print(&quot;a&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tx = x - 1;\r\n\t\t\tSystem.out.print(&quot;-&quot;);\r\n\t\t\t\r\n\t\t\tif (x == 2)\t{\r\n\t\t\t\tSystem.out.print(&quot;b c&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (x == 1)\t{\r\n\t\t\t\tSystem.out.print(&quot;d&quot;);\r\n\t\t\t\tx = x - 1;\r\n\t\t\t}\r\n\t\t}\r\n        System.out.print(&quot;&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nWhen I execute this code in the terminal I get the following view:\r\n[link to screenshot](https://i.stack.imgur.com/2BYKo.png)\r\n\r\nMy question is: how do I get the prompt bit onto a new line?","title":"How do I get the prompt onto a new line after executing a java application","body":"<p>I'm running Ubuntu version 22.04.</p>\n<pre><code>I've got Java running and I'm executing the following code:\n\nclass Shuffle1 {\n    public static void main(String [] args) {\n        \n        int x = 3;\n        while (x &gt; 0)   {\n            \n            if (x &gt; 2)  {\n                System.out.print(&quot;a&quot;);\n            }\n            \n            x = x - 1;\n            System.out.print(&quot;-&quot;);\n            \n            if (x == 2) {\n                System.out.print(&quot;b c&quot;);\n            }\n            \n            if (x == 1) {\n                System.out.print(&quot;d&quot;);\n                x = x - 1;\n            }\n        }\n        System.out.print(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>When I execute this code in the terminal I get the following view:\n<a href=\"https://i.stack.imgur.com/2BYKo.png\" rel=\"nofollow noreferrer\">link to screenshot</a></p>\n<p>My question is: how do I get the prompt bit onto a new line?</p>\n"},{"tags":["java","selenium","automation","apache-poi"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1669124073,"post_id":74532431,"comment_id":131568523,"body_markdown":"Please share your code to be able to reproduce your issue.","body":"Please share your code to be able to reproduce your issue."},{"owner":{"account_id":27012710,"reputation":1,"user_id":20572081,"display_name":"Shyamala"},"score":0,"creation_date":1669287582,"post_id":74532431,"comment_id":131612876,"body_markdown":"@pburgr    CODE:\n\t\tString downloadPath = &quot;C:\\\\xyz.xlsx&quot;\n\t         File dir = new File(downloadPath);\n                  FileInputStream fis = new FileInputStream(dir);\n        XSSFWorkbook wb = new XSSFWorkbook(fis);\n        XSSFSheet sh = wb.getSheetAt(0);\n        XSSFRow rw= sh.getRow(1);\n        XSSFCell cl=rw.getCell(0,MissingCellPolicy.CREATE_NULL_AS_BLANK);\n  sh.getRow(1).getCell(0,MissingCellPolicy.CREATE_NULL_AS_BLANK).setCellValue(&quot;xyz&quot;;\n    FileOutputStream fos = new FileOutputStream(downloadPath);\n   wb.write(fos);\n  fis.close();","body":"@pburgr    CODE: \t\tString downloadPath = &quot;C:\\\\xyz.xlsx&quot; \t         File dir = new File(downloadPath);                   FileInputStream fis = new FileInputStream(dir);         XSSFWorkbook wb = new XSSFWorkbook(fis);         XSSFSheet sh = wb.getSheetAt(0);         XSSFRow rw= sh.getRow(1);         XSSFCell cl=rw.getCell(0,MissingCellPolicy.CREATE_NULL_AS_BLANK);   sh.getRow(1).getCell(0,MissingCellPolicy.CREATE_NULL_AS_BLAN&zwnj;&#8203;K).setCellValue(&quot;xyz&zwnj;&#8203;&quot;;     FileOutputStream fos = new FileOutputStream(downloadPath);    wb.write(fos);   fis.close();"}],"owner":{"account_id":27012710,"reputation":1,"user_id":20572081,"display_name":"Shyamala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669119006,"creation_date":1669119006,"question_id":74532431,"body_markdown":"I am using excel template as fileinput stream and then I am writing 1 row in that file after that I am generating a new excel file after wrting the cell values ,Now the issue is everytime i have to open and save the excel file then only my original file size(16kb) is coming up other wise it is showing 13 kb(am using apache poi)\r\n\r\nI used the SXXFWORKBOOK also it’s still the same","title":"Apache POI Generated excel file not saving","body":"<p>I am using excel template as fileinput stream and then I am writing 1 row in that file after that I am generating a new excel file after wrting the cell values ,Now the issue is everytime i have to open and save the excel file then only my original file size(16kb) is coming up other wise it is showing 13 kb(am using apache poi)</p>\n<p>I used the SXXFWORKBOOK also it’s still the same</p>\n"},{"tags":["java","json","xml","string","google-cloud-storage"],"comments":[{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1668807942,"post_id":74493182,"comment_id":131504281,"body_markdown":"Have you tried using `StandardCharsets.UTF_8` based on this [documentation](StandardCharsets.UTF_8)? Your code should appear like this: `String blobContent = new String(fileByteContent, StandardCharsets.UTF_8);`.","body":"Have you tried using <code>StandardCharsets.UTF_8</code> based on this [documentation](StandardCharsets.UTF_8)? Your code should appear like this: <code>String blobContent = new String(fileByteContent, StandardCharsets.UTF_8);</code>."},{"owner":{"account_id":12280100,"reputation":131,"user_id":8962015,"accept_rate":14,"display_name":"B-Brennan"},"score":0,"creation_date":1669028176,"post_id":74493182,"comment_id":131541648,"body_markdown":"Actually I am, I didn&#39;t include it but I am using `import static java.nio.charset.StandardCharsets.UTF_8` which is where I am getting the UTF_8 from.","body":"Actually I am, I didn&#39;t include it but I am using <code>import static java.nio.charset.StandardCharsets.UTF_8</code> which is where I am getting the UTF_8 from."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1669061251,"post_id":74493182,"comment_id":131553198,"body_markdown":"Apologies as I haven&#39;t included the link. Let me know if you find this link ([Encoding With Core Java](https://www.baeldung.com/java-string-encode-utf-8#core-java)) helpful.","body":"Apologies as I haven&#39;t included the link. Let me know if you find this link (<a href=\"https://www.baeldung.com/java-string-encode-utf-8#core-java\" rel=\"nofollow noreferrer\">Encoding With Core Java</a>) helpful."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669118736,"creation_date":1669118736,"answer_id":74532373,"question_id":74493182,"body_markdown":"It looks like your info that you read is partially lost (corrupted). I tried to restore it and the best I got was: \r\n\r\n    &#215;&#162;&#215; &#215;&#164;&#215;&#168;&#215;&#161;&#215;•&#215; &#215;“&#215;•&#215;—&#215;•&#215;&#170; &#215;&#168; // your data\r\n    &#215;ע&#215; &#215;פ&#215;ר&#215;ס&#215;•&#215; &#215;“&#215;•&#215;—&#215;•&#215;ת &#215;ר  // my attempt at extraction\r\n\r\ncomparing with what you expected in Hebrew:\r\n\r\n    עם פרסום דוחות רווח \r\n\r\nYou can see that some of the letters in Hebrew are restored in correct positions. But some are lost or at least I can not see the logic how to restore it. The way I did the check I converted your data to Unicode sequences and also the Hebrew string to Unicode sequences. Here is what I got:\r\n\r\n    &#215;&#162;&#215; &#215;&#164;&#215;&#168;&#215;&#161;&#215;•&#215; &#215;“&#215;•&#215;—&#215;•&#215;&#170; &#215;&#168;\r\n    \\u00d7\\u00a2\\u00d7\\u0020\\u00d7\\u00a4\\u00d7\\u00a8\\u00d7\\u00a1\\u00d7\\u2022\\u00d7\\u0020\\u00d7\\u201c\\u00d7\\u2022\\u00d7\\u2014\\u00d7\\u2022\\u00d7\\u00aa\\u0020\\u00d7\\u00a8\r\n    עם פרסום דוחות רווח\r\n    \\u05e2\\u05dd\\u0020\\u05e4\\u05e8\\u05e1\\u05d5\\u05dd\\u0020\\u05d3\\u05d5\\u05d7\\u05d5\\u05ea\\u0020\\u05e8\\u05d5\\u05d5\\u05d7\r\n\r\nI noticed that all the Hebrew letters that are encoded with &quot;05e*&quot; have corresponding code &quot;00a*&quot; (see the first letter &quot;ע&quot; code 05e2 for example corresponds to code 00a2). However all the Hebrew letters with codes 05d* seem to be lost. To do the conversions I used class `StringUnicodeEncoderDecoder` that comes from Open Source library MgntUtils written and maintained by me. Here is the code in case you would like to play with it more:\r\n\r\n            String testStr1 = &quot;&#215;&#162;&#215; &#215;&#164;&#215;&#168;&#215;&#161;&#215;•&#215; &#215;“&#215;•&#215;—&#215;•&#215;&#170; &#215;&#168;&quot;;\r\n    //        testStr1 = &quot;&#162; &#164;&#168;&#161;• “•—•&#170; &#168;&quot;;\r\n            String encoded1 = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(testStr1);\r\n    //        encoded1 = encoded1.replaceAll(&quot;0a&quot;, &quot;5e&quot;);\r\n            String restored = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(encoded1);\r\n            System.out.println(testStr1 + &quot;\\n&quot; + encoded1 + &quot;\\n&quot; + restored);\r\n            testStr1 = &quot;עם פרסום דוחות רווח&quot;;\r\n            encoded1 = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(testStr1);\r\n            restored = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(encoded1);\r\n            System.out.println(testStr1 + &quot;\\n&quot; + encoded1 + &quot;\\n&quot; + restored);\r\n\r\n Here is [Javadoc for StringUnicodeEncoderDecoder][1]. The MgntUtils library could be obtained as [Maven Artifact][2] or on The [Github][3]\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Converting an XML from GCS Blob storage to String not working for special characters","body":"<p>It looks like your info that you read is partially lost (corrupted). I tried to restore it and the best I got was:</p>\n<pre><code>×¢× ×¤×¨×¡×•× ×“×•×—×•×ª ×¨ // your data\n×ע× ×פ×ר×ס×•× ×“×•×—×•×ת ×ר  // my attempt at extraction\n</code></pre>\n<p>comparing with what you expected in Hebrew:</p>\n<pre><code>עם פרסום דוחות רווח \n</code></pre>\n<p>You can see that some of the letters in Hebrew are restored in correct positions. But some are lost or at least I can not see the logic how to restore it. The way I did the check I converted your data to Unicode sequences and also the Hebrew string to Unicode sequences. Here is what I got:</p>\n<pre><code>×¢× ×¤×¨×¡×•× ×“×•×—×•×ª ×¨\n\\u00d7\\u00a2\\u00d7\\u0020\\u00d7\\u00a4\\u00d7\\u00a8\\u00d7\\u00a1\\u00d7\\u2022\\u00d7\\u0020\\u00d7\\u201c\\u00d7\\u2022\\u00d7\\u2014\\u00d7\\u2022\\u00d7\\u00aa\\u0020\\u00d7\\u00a8\nעם פרסום דוחות רווח\n\\u05e2\\u05dd\\u0020\\u05e4\\u05e8\\u05e1\\u05d5\\u05dd\\u0020\\u05d3\\u05d5\\u05d7\\u05d5\\u05ea\\u0020\\u05e8\\u05d5\\u05d5\\u05d7\n</code></pre>\n<p>I noticed that all the Hebrew letters that are encoded with &quot;05e*&quot; have corresponding code &quot;00a*&quot; (see the first letter &quot;ע&quot; code 05e2 for example corresponds to code 00a2). However all the Hebrew letters with codes 05d* seem to be lost. To do the conversions I used class <code>StringUnicodeEncoderDecoder</code> that comes from Open Source library MgntUtils written and maintained by me. Here is the code in case you would like to play with it more:</p>\n<pre><code>        String testStr1 = &quot;×¢× ×¤×¨×¡×•× ×“×•×—×•×ª ×¨&quot;;\n//        testStr1 = &quot;¢ ¤¨¡• “•—•ª ¨&quot;;\n        String encoded1 = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(testStr1);\n//        encoded1 = encoded1.replaceAll(&quot;0a&quot;, &quot;5e&quot;);\n        String restored = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(encoded1);\n        System.out.println(testStr1 + &quot;\\n&quot; + encoded1 + &quot;\\n&quot; + restored);\n        testStr1 = &quot;עם פרסום דוחות רווח&quot;;\n        encoded1 = StringUnicodeEncoderDecoder.encodeStringToUnicodeSequence(testStr1);\n        restored = StringUnicodeEncoderDecoder.decodeUnicodeSequenceToString(encoded1);\n        System.out.println(testStr1 + &quot;\\n&quot; + encoded1 + &quot;\\n&quot; + restored);\n</code></pre>\n<p>Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/StringUnicodeEncoderDecoder.html\" rel=\"nofollow noreferrer\">Javadoc for StringUnicodeEncoderDecoder</a>. The MgntUtils library could be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven Artifact</a> or on The <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a></p>\n"}],"owner":{"account_id":12280100,"reputation":131,"user_id":8962015,"accept_rate":14,"display_name":"B-Brennan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669118736,"creation_date":1668791516,"question_id":74493182,"body_markdown":"I am trying to read the contents of a gcs bucket and parse the XML files that might be there.\r\nIt is working fine except that characters that are not Latin alphabet (Chinese, Japanese etc.) are being converted into various erroneous symbols.\r\n\r\nFirst I get my storage list :\r\n\r\n       Page&lt;Blob&gt; blobs = storage.list(\r\n                    bucketName,\r\n                    Storage.BlobListOption.prefix(bucketLocation),\r\n                    Storage.BlobListOption.currentDirectory()\r\n            );\r\n\r\nThen I iterate through the blobs and parse each that matches the type of file I am looking for (XML). In my parseXML method I do:\r\n\r\n     byte[] fileByteContent = blob.getContent();\r\n     String blobContent = new String(fileByteContent, StandardCharsets.UTF_8);\r\n     JSONObject json = XML.toJSONObject(blobContent);\r\n\r\nHowever my JSONObject will display nonsense for special characters, for example this field which is in hebrew:\r\n\r\n    Source:\r\n    עם פרסום דוחות רווח\r\n    Output:\r\n    &#215;&#162;&#215; &#215;&#164;&#215;&#168;&#215;&#161;&#215;•&#215; &#215;“&#215;•&#215;—&#215;•&#215;&#170; &#215;&#168;\r\n\r\n\r\nWhat am I missing? I have added the UTF_8 Charset definition in the string parsing, does it need to be considered somewhere else?\r\n","title":"Converting an XML from GCS Blob storage to String not working for special characters","body":"<p>I am trying to read the contents of a gcs bucket and parse the XML files that might be there.\nIt is working fine except that characters that are not Latin alphabet (Chinese, Japanese etc.) are being converted into various erroneous symbols.</p>\n<p>First I get my storage list :</p>\n<pre><code>   Page&lt;Blob&gt; blobs = storage.list(\n                bucketName,\n                Storage.BlobListOption.prefix(bucketLocation),\n                Storage.BlobListOption.currentDirectory()\n        );\n</code></pre>\n<p>Then I iterate through the blobs and parse each that matches the type of file I am looking for (XML). In my parseXML method I do:</p>\n<pre><code> byte[] fileByteContent = blob.getContent();\n String blobContent = new String(fileByteContent, StandardCharsets.UTF_8);\n JSONObject json = XML.toJSONObject(blobContent);\n</code></pre>\n<p>However my JSONObject will display nonsense for special characters, for example this field which is in hebrew:</p>\n<pre><code>Source:\nעם פרסום דוחות רווח\nOutput:\n×¢× ×¤×¨×¡×•× ×“×•×—×•×ª ×¨\n</code></pre>\n<p>What am I missing? I have added the UTF_8 Charset definition in the string parsing, does it need to be considered somewhere else?</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":7,"creation_date":1521029468,"post_id":49277478,"comment_id":85557217,"body_markdown":"afaik annotations can only work with constant values","body":"afaik annotations can only work with constant values"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1521029721,"post_id":49277478,"comment_id":85557398,"body_markdown":"I believe annotation values need to be compile-time constant numbers and strings.","body":"I believe annotation values need to be compile-time constant numbers and strings."}],"answers":[{"comments":[{"owner":{"account_id":1917072,"reputation":2291,"user_id":1729458,"display_name":"Strikegently"},"score":0,"creation_date":1521031721,"post_id":49277998,"comment_id":85558781,"body_markdown":"This is correct. To achieve what OP is trying to do, you can set the value you need at runtime via Reflection. You could store the method name and parameter in the Annotation, then replace some other value at runtime based on these attributes.","body":"This is correct. To achieve what OP is trying to do, you can set the value you need at runtime via Reflection. You could store the method name and parameter in the Annotation, then replace some other value at runtime based on these attributes."},{"owner":{"account_id":5393987,"reputation":967,"user_id":4295710,"accept_rate":29,"display_name":"Clinton Prakash"},"score":0,"creation_date":1521032983,"post_id":49277998,"comment_id":85559642,"body_markdown":"@Herr Derb Actually We need to display this content Resource.getWord(&quot;key&quot;) in client side. Is there any way to achieve this.","body":"@Herr Derb Actually We need to display this content Resource.getWord(&quot;key&quot;) in client side. Is there any way to achieve this."},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1530100542,"post_id":49277998,"comment_id":89114022,"body_markdown":"@ClintonPrakash You can set the value `key` to the field of the annotation and then evaluate `Resource.getWord(annotation.getValue()) ` during runtime.","body":"@ClintonPrakash You can set the value <code>key</code> to the field of the annotation and then evaluate <code>Resource.getWord(annotation.getValue()) </code> during runtime."},{"owner":{"account_id":9780715,"reputation":1250,"user_id":7595401,"display_name":"pavi2410"},"score":0,"creation_date":1561725422,"post_id":49277998,"comment_id":100168095,"body_markdown":"If we have `@Retention(RUNTIME)` on the annotation, wouldn&#39;t this work for &quot;non-compile-time&quot; variable?","body":"If we have <code>@Retention(RUNTIME)</code> on the annotation, wouldn&#39;t this work for &quot;non-compile-time&quot; variable?"}],"tags":[],"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619792713,"creation_date":1521031042,"answer_id":49277998,"question_id":49277478,"body_markdown":"An annotation only takes compile time constants (as they might be used during compile time), therefore you cannot make any calculation within the definition, as they are unknown during the compile time.\r\n\r\nAllowed constant types are (taken from [java-annotation-members](https://stackoverflow.com/questions/1458535/which-types-can-be-used-for-java-annotation-members)):\r\n\r\n - Primitive\r\n - String\r\n - Class\r\n - Enum\r\n - Another Annotation\r\n - An array of any of the above\r\n\r\n**Possible solution for your situation:**\r\n\r\nAs I understand you would like to localize the `@Description` content.\r\nAs this is only meant to be exposed to other developers anyway, you are safe to simply use English, in my opinion. Localization is for the end user, not the developer.","title":"Call method inside annotation in Java","body":"<p>An annotation only takes compile time constants (as they might be used during compile time), therefore you cannot make any calculation within the definition, as they are unknown during the compile time.</p>\n<p>Allowed constant types are (taken from <a href=\"https://stackoverflow.com/questions/1458535/which-types-can-be-used-for-java-annotation-members\">java-annotation-members</a>):</p>\n<ul>\n<li>Primitive</li>\n<li>String</li>\n<li>Class</li>\n<li>Enum</li>\n<li>Another Annotation</li>\n<li>An array of any of the above</li>\n</ul>\n<p><strong>Possible solution for your situation:</strong></p>\n<p>As I understand you would like to localize the <code>@Description</code> content.\nAs this is only meant to be exposed to other developers anyway, you are safe to simply use English, in my opinion. Localization is for the end user, not the developer.</p>\n"},{"tags":[],"owner":{"account_id":70456,"reputation":106,"user_id":204295,"display_name":"Ben Ketteridge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521031750,"creation_date":1521031750,"answer_id":49278205,"question_id":49277478,"body_markdown":"I can imagine an aspect being wired up to process methods annotated like this, where the &quot;key&quot; is in the annotation, and the aspect processing then uses the key at run time... but I&#39;m not sure this is what you&#39;re looking for.","title":"Call method inside annotation in Java","body":"<p>I can imagine an aspect being wired up to process methods annotated like this, where the \"key\" is in the annotation, and the aspect processing then uses the key at run time... but I'm not sure this is what you're looking for.</p>\n"}],"owner":{"account_id":5393987,"reputation":967,"user_id":4295710,"accept_rate":29,"display_name":"Clinton Prakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9584,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"closed_date":1521039143,"answer_count":2,"score":7,"last_activity_date":1669118655,"creation_date":1521029437,"question_id":49277478,"body_markdown":"Can I able to call a method which returns string inside an annotation.  \r\nIf so please guide me how to achieve this?\r\n\r\nI tried like this but this doesn&#39;t work for me.\r\n\r\n    @Description(value = Resource.getWord(&quot;key&quot;))","title":"Call method inside annotation in Java","body":"<p>Can I able to call a method which returns string inside an annotation.<br>\nIf so please guide me how to achieve this?</p>\n\n<p>I tried like this but this doesn't work for me.</p>\n\n<pre><code>@Description(value = Resource.getWord(\"key\"))\n</code></pre>\n"},{"tags":["java","file","recursion"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669070199,"post_id":74525485,"comment_id":131555493,"body_markdown":"Make it instance variable of the enclosing","body":"Make it instance variable of the enclosing"},{"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"score":0,"creation_date":1669070881,"post_id":74525485,"comment_id":131555664,"body_markdown":"@g00se The point is I want to use it out of this context/scope","body":"@g00se The point is I want to use it out of this context/scope"}],"answers":[{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669118471,"creation_date":1669118471,"answer_id":74532310,"question_id":74525485,"body_markdown":"Given the result is that you want to return a concatenation of all the contents in all the files, you might be better using a stream from Files.walk instead. From this you can then collect all lines and allows you the opportunity to filter file names and lines potentially providing other transforms.\r\n\r\n```java\r\ntry (var walker = Files.walk(Path.of(System.getProperty(&quot;user.home&quot;) + &quot;/UTP8dir&quot;))) {\r\n    var contents = walker\r\n        .filter(Files::isRegularFile)\r\n        .flatMap(f -&gt; {\r\n            try {\r\n                return Files.lines(f);\r\n            } catch (IOException ioe) {\r\n                throw new UncheckedIOException(ioe);\r\n            }\r\n        })\r\n        .collect(joining(&quot;\\n&quot;));\r\n}\r\n```\r\n\r\nI have done a lot of testing for performance characteristics on this in the past, see [this question][1] and [this Github project with tests][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2056221/recursively-list-files-in-java/24006711#24006711\r\n  [2]: https://github.com/brettryan/io-recurse-tests","title":"Java FileVisitor.preVisitDirectory() access variable from outer scope","body":"<p>Given the result is that you want to return a concatenation of all the contents in all the files, you might be better using a stream from Files.walk instead. From this you can then collect all lines and allows you the opportunity to filter file names and lines potentially providing other transforms.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var walker = Files.walk(Path.of(System.getProperty(&quot;user.home&quot;) + &quot;/UTP8dir&quot;))) {\n    var contents = walker\n        .filter(Files::isRegularFile)\n        .flatMap(f -&gt; {\n            try {\n                return Files.lines(f);\n            } catch (IOException ioe) {\n                throw new UncheckedIOException(ioe);\n            }\n        })\n        .collect(joining(&quot;\\n&quot;));\n}\n</code></pre>\n<p>I have done a lot of testing for performance characteristics on this in the past, see <a href=\"https://stackoverflow.com/questions/2056221/recursively-list-files-in-java/24006711#24006711\">this question</a> and <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"nofollow noreferrer\">this Github project with tests</a>.</p>\n"}],"owner":{"account_id":18180037,"reputation":169,"user_id":13228003,"display_name":"Javadkhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669118471,"creation_date":1669069133,"question_id":74525485,"body_markdown":"I&#39;m going through a file directory recursively using a `FileVisitor` object. I did override the `preVisitDirectory` method, but I want to assign its `dir` parameter to a String which is located in the outer scope of this overridden method and `FileVisitor` object. This is my code:\r\n```\r\n\t\tFileVisitor&lt;Path&gt; simpleFileVisitor = new SimpleFileVisitor&lt;Path&gt;() {\r\n\t\t      String cur_dir = &quot;&quot;;\r\n\t\t      FileVisitor&lt;Path&gt; simpleFileVisitor = new SimpleFileVisitor&lt;Path&gt;() {\r\n\t\t      @Override\r\n\t\t      public FileVisitResult preVisitDirectory(Path dir,BasicFileAttributes attrs)\r\n\t\t          throws IOException {\r\n//\t\t        System.out.println(&quot;DIRECTORY NAME:&quot;+ dir.getFileName() \r\n//\t\t                           + &quot; LOCATION:&quot;+ dir.toFile().getPath());\r\n\t\t        cur_dir  = dir.toFile().getPath();\r\n\t\t        System.out.println(&quot;cur_dir: &quot; + cur_dir);\r\n\t\t        return FileVisitResult.CONTINUE;\r\n\t\t      }\r\n\t\t       \r\n\t\t      @Override\r\n\t\t      public FileVisitResult visitFile(Path visitedFile,BasicFileAttributes fileAttributes)\r\n\t\t          throws IOException {\r\n\t\t        System.out.println(&quot;FILE NAME: &quot;+ visitedFile.getFileName());\r\n\t\t        return FileVisitResult.CONTINUE;\r\n\t\t      }\r\n\t\t    };\r\n\t\t    \r\n\t\t    FileSystem fileSystem = FileSystems.getDefault();\r\n\t\t    String path = System.getProperty(&quot;user.home&quot;)+&quot;/UTP8dir&quot;;\r\n\t\t    Path rootPath = fileSystem.getPath(path);\r\n\t\t    try {\r\n\t\t      Files.walkFileTree(rootPath, simpleFileVisitor);\r\n\t\t    } catch (IOException ioe) {\r\n\t\t      ioe.printStackTrace();\r\n\t\t    }\r\n```\r\nIt obviously gives me a compilation error about &quot;enclosing scope&quot;, I understand why this happens, but I don&#39;t know what&#39;s the way to do it though, how can I assign subdirectories&#39;s names to an outer-scope String for each directory?\r\n\r\nMy ultimate goal is to write the contents of all .txt files I find during this to some `String`.","title":"Java FileVisitor.preVisitDirectory() access variable from outer scope","body":"<p>I'm going through a file directory recursively using a <code>FileVisitor</code> object. I did override the <code>preVisitDirectory</code> method, but I want to assign its <code>dir</code> parameter to a String which is located in the outer scope of this overridden method and <code>FileVisitor</code> object. This is my code:</p>\n<pre><code>        FileVisitor&lt;Path&gt; simpleFileVisitor = new SimpleFileVisitor&lt;Path&gt;() {\n              String cur_dir = &quot;&quot;;\n              FileVisitor&lt;Path&gt; simpleFileVisitor = new SimpleFileVisitor&lt;Path&gt;() {\n              @Override\n              public FileVisitResult preVisitDirectory(Path dir,BasicFileAttributes attrs)\n                  throws IOException {\n//              System.out.println(&quot;DIRECTORY NAME:&quot;+ dir.getFileName() \n//                                 + &quot; LOCATION:&quot;+ dir.toFile().getPath());\n                cur_dir  = dir.toFile().getPath();\n                System.out.println(&quot;cur_dir: &quot; + cur_dir);\n                return FileVisitResult.CONTINUE;\n              }\n               \n              @Override\n              public FileVisitResult visitFile(Path visitedFile,BasicFileAttributes fileAttributes)\n                  throws IOException {\n                System.out.println(&quot;FILE NAME: &quot;+ visitedFile.getFileName());\n                return FileVisitResult.CONTINUE;\n              }\n            };\n            \n            FileSystem fileSystem = FileSystems.getDefault();\n            String path = System.getProperty(&quot;user.home&quot;)+&quot;/UTP8dir&quot;;\n            Path rootPath = fileSystem.getPath(path);\n            try {\n              Files.walkFileTree(rootPath, simpleFileVisitor);\n            } catch (IOException ioe) {\n              ioe.printStackTrace();\n            }\n</code></pre>\n<p>It obviously gives me a compilation error about &quot;enclosing scope&quot;, I understand why this happens, but I don't know what's the way to do it though, how can I assign subdirectories's names to an outer-scope String for each directory?</p>\n<p>My ultimate goal is to write the contents of all .txt files I find during this to some <code>String</code>.</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":25996340,"reputation":41,"user_id":19707654,"display_name":"Pp1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1669118469,"creation_date":1659811990,"question_id":73262474,"body_markdown":"** I&#39;m learning and I write some simple tests, just to know how it works. \r\nWhen I want to build a Gradle project I had this issue:\r\n**Rule violated for bundle java-gradle-examples: lines covered ratio is 0.0, but expected minimum is 0.5**\r\n\r\n Can anyone want to help me?**\r\n\r\n**GRADLE.BUILD:**\r\n```code```\r\n```\r\n    plugins {\r\n    id &#39;java&#39;\r\n    id &#39;jacoco&#39;}\r\n\r\ngroup = &#39;pl.something&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;16&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\n\r\ndependencies {\r\n    implementation group: &#39;ch.qos.logback&#39;, name: &#39;logback-classic&#39;, version: &#39;1.2.6&#39;\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-params&#39;, version:&#39;5.0.0-M4&#39;}\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n}\r\ntest {\r\n    useJUnitPlatform()\r\n    testLogging {\r\n        events &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    finalizedBy jacocoTestReport\r\n}\r\njacoco {\r\n    toolVersion = &quot;0.8.7&quot;\r\n}\r\njacocoTestReport {\r\n    dependsOn test\r\n    reports {\r\n        xml.required = false\r\n        csv.required = false\r\n        html.outputLocation = layout.buildDirectory.dir(&#39;jacocoReports&#39;)\r\n    }\r\n}\r\njacocoTestCoverageVerification {\r\n    violationRules {\r\n        rule {\r\n            limit {\r\n                counter = &#39;LINE&#39;\r\n                value = &#39;COVEREDRATIO&#39;\r\n                minimum = 0.5\r\n            }\r\n        }\r\n    }\r\n}\r\ncheck.dependsOn jacocoTestCoverageVerification\r\n\r\n\r\n\r\n```\r\n\r\n**My Test Class :**\r\n```code```\r\n```{\r\n\r\n    @Test\r\n     void add() {\r\n        int left = 2;\r\n        int right = 1;\r\n        int expected = 3;\r\n\r\n        Integer result = left + right;\r\n        Assertions.assertEquals(expected, result);\r\n    }\r\n\r\n    @Test\r\n    void subtract() {\r\n        int left = 2;\r\n        int right = 1;\r\n        int expected = 1;\r\n\r\n        Integer result = left - right;\r\n        Assertions.assertEquals(expected, result);\r\n    }\r\n\r\n    @Test\r\n    void multiply() {\r\n        int left = 2;\r\n        int right = 1;\r\n        int expected = 2;\r\n\r\n        Integer result = left * right;\r\n        Assertions.assertEquals(expected, result);\r\n    }\r\n\r\n    @Test\r\n    @Disabled(&quot;I disabled this test for example&quot;)\r\n    void divide() {\r\n        int left = 2;\r\n        int right = 1;\r\n        int expected = 2;\r\n\r\n        Integer result = left / right;\r\n        Assertions.assertEquals(expected, result);\r\n    }\r\n}\r\n```\r\n**And my Main.class:**\r\n```code```\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Calculator.add(1, 2));\r\n        Calculator calculator = new Calculator();\r\n        Calculator.substract(5, 3);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Rule violated for bundle java-gradle-examples: lines covered ratio is 0.0, but expected minimum is 0.5","body":"<p>** I'm learning and I write some simple tests, just to know how it works.\nWhen I want to build a Gradle project I had this issue:\n<strong>Rule violated for bundle java-gradle-examples: lines covered ratio is 0.0, but expected minimum is 0.5</strong></p>\n<p>Can anyone want to help me?**</p>\n<p><strong>GRADLE.BUILD:</strong>\n<code>code</code></p>\n<pre><code>    plugins {\n    id 'java'\n    id 'jacoco'}\n\ngroup = 'pl.something'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '16'\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    implementation group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.6'\n}\n\n\ndependencies {\n\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-params', version:'5.0.0-M4'}\n\n\ntest {\n    useJUnitPlatform()\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n    }\n}\ntest {\n    useJUnitPlatform()\n    testLogging {\n        events &quot;skipped&quot;, &quot;failed&quot;\n    }\n    finalizedBy jacocoTestReport\n}\njacoco {\n    toolVersion = &quot;0.8.7&quot;\n}\njacocoTestReport {\n    dependsOn test\n    reports {\n        xml.required = false\n        csv.required = false\n        html.outputLocation = layout.buildDirectory.dir('jacocoReports')\n    }\n}\njacocoTestCoverageVerification {\n    violationRules {\n        rule {\n            limit {\n                counter = 'LINE'\n                value = 'COVEREDRATIO'\n                minimum = 0.5\n            }\n        }\n    }\n}\ncheck.dependsOn jacocoTestCoverageVerification\n\n\n\n</code></pre>\n<p><strong>My Test Class :</strong>\n<code>code</code></p>\n<pre><code>\n    @Test\n     void add() {\n        int left = 2;\n        int right = 1;\n        int expected = 3;\n\n        Integer result = left + right;\n        Assertions.assertEquals(expected, result);\n    }\n\n    @Test\n    void subtract() {\n        int left = 2;\n        int right = 1;\n        int expected = 1;\n\n        Integer result = left - right;\n        Assertions.assertEquals(expected, result);\n    }\n\n    @Test\n    void multiply() {\n        int left = 2;\n        int right = 1;\n        int expected = 2;\n\n        Integer result = left * right;\n        Assertions.assertEquals(expected, result);\n    }\n\n    @Test\n    @Disabled(&quot;I disabled this test for example&quot;)\n    void divide() {\n        int left = 2;\n        int right = 1;\n        int expected = 2;\n\n        Integer result = left / right;\n        Assertions.assertEquals(expected, result);\n    }\n}\n</code></pre>\n<p><strong>And my Main.class:</strong>\n<code>code</code></p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        System.out.println(Calculator.add(1, 2));\n        Calculator calculator = new Calculator();\n        Calculator.substract(5, 3);\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","datetime","precision","date-arithmetic","date-difference"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":8,"creation_date":1402341653,"post_id":24127356,"comment_id":37225731,"body_markdown":"This 365 * 24 * 60 * 60 * 1000 is integer overflow.","body":"This 365 * 24 * 60 * 60 * 1000 is integer overflow."},{"owner":{"account_id":2554331,"reputation":1113,"user_id":2216670,"display_name":"Chill"},"score":1,"creation_date":1402341846,"post_id":24127356,"comment_id":37225842,"body_markdown":"To expand on that, if you want to do calculations in floats using constant values, you should have the constants explicitly set as floats. ie. `365f * 24f * 60f * 60f * 1000f`.","body":"To expand on that, if you want to do calculations in floats using constant values, you should have the constants explicitly set as floats. ie. <code>365f * 24f * 60f * 60f * 1000f</code>."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1402342445,"post_id":24127356,"comment_id":37226148,"body_markdown":"&#171;365f * 24f * 60f * 60f * 1000f&#187; fixed the issue.\nThanks!","body":"&#171;365f * 24f * 60f * 60f * 1000f&#187; fixed the issue. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1402341988,"creation_date":1402341988,"answer_id":24127475,"question_id":24127356,"body_markdown":"To expand on Sotirios&#39; comment: The integer literals `365`, `24`, `60`, and `1000` all have type `int`.  Therefore, multiplication will be performed using the `int` type.  Since the mathematical result is 31536000000, and the largest possible `int` is 2147483648, the result overflows and the result will wrap around.  The result will thus be the `int` whose value is equivalent to 31536000000 modulo 2&lt;sup&gt;32&lt;/sup&gt;, which is 1471228928.  Only then is it converted to a `float` to be divided into `dateDiff`.  Appending an `L` to the end of any of the integer literals will fix it, since now at least one of the multiplications will be performed using `long`.  But it might be clearer to change `365` to `365.0` (or `365f`).  (Actually, @Chill&#39;s suggestion to use `f` on all the constants appears best to me, although it&#39;s not really necessary.)","title":"Different results of different, but equal math operations on float in Java","body":"<p>To expand on Sotirios' comment: The integer literals <code>365</code>, <code>24</code>, <code>60</code>, and <code>1000</code> all have type <code>int</code>.  Therefore, multiplication will be performed using the <code>int</code> type.  Since the mathematical result is 31536000000, and the largest possible <code>int</code> is 2147483648, the result overflows and the result will wrap around.  The result will thus be the <code>int</code> whose value is equivalent to 31536000000 modulo 2<sup>32</sup>, which is 1471228928.  Only then is it converted to a <code>float</code> to be divided into <code>dateDiff</code>.  Appending an <code>L</code> to the end of any of the integer literals will fix it, since now at least one of the multiplications will be performed using <code>long</code>.  But it might be clearer to change <code>365</code> to <code>365.0</code> (or <code>365f</code>).  (Actually, @Chill's suggestion to use <code>f</code> on all the constants appears best to me, although it's not really necessary.)</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1402342044,"accepted_answer_id":24127475,"answer_count":1,"score":0,"last_activity_date":1669118431,"creation_date":1402341527,"question_id":24127356,"body_markdown":"Question about Java math operations on `float` and `int` data types.\r\n\r\nI have to calculate the date difference in years between two dates.\r\n\r\nThe code:\r\n\r\n```java\r\nSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\nObject date = obj.getInfoItem().getInfoValue();\r\n \r\nDate today = new Date();\r\nDate birthDate = null;\r\nfloat dateDiff;\r\nint age0, age1;\r\n \r\ntry {\r\n\t// unify the date format\r\n\tbirthDate = format.parse(date.toString());\r\n\ttoday = format.parse(format.format(today));\r\n} catch (ParseException e) {\r\n\te.printStackTrace();\r\n}\r\n \r\n// calculate the age in years with round    \r\ndateDiff = today.getTime() - birthDate.getTime();\r\nage0     = (int)((dateDiff / (24 * 60 * 60 * 1000)) / 365);\r\nage1     = (int)(dateDiff / (365 * 24 * 60 * 60 * 1000));\r\n```\r\n\r\nSince the date difference in Java is calculated in milliseconds, thus we have to do some housekeeping work after calculation and convert received result from milliseconds to years.\r\n\r\nAfter code execution, I got the following results in debugger:\r\n\r\n```\r\ndateDiff = 8.4896639E11  \r\nage0 = 26  \r\nage1 = 577\r\n```\r\n\r\n`age0` is a correct result.\r\n\r\nSince both operations on `age0` and `age1` are mathematically equal, why outcomes are different?\r\nWhy there is a difference between operations &#171;`(float / (a\\*b\\*c)) / d`&#187; and &#171;`(float / (a\\*b\\*c\\*d))`&#187;, where `a`, `b`, `c`, `d` are `int`.","title":"Different results of different, but equal math operations on float in Java","body":"<p>Question about Java math operations on <code>float</code> and <code>int</code> data types.</p>\n<p>I have to calculate the date difference in years between two dates.</p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nObject date = obj.getInfoItem().getInfoValue();\n \nDate today = new Date();\nDate birthDate = null;\nfloat dateDiff;\nint age0, age1;\n \ntry {\n    // unify the date format\n    birthDate = format.parse(date.toString());\n    today = format.parse(format.format(today));\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n \n// calculate the age in years with round    \ndateDiff = today.getTime() - birthDate.getTime();\nage0     = (int)((dateDiff / (24 * 60 * 60 * 1000)) / 365);\nage1     = (int)(dateDiff / (365 * 24 * 60 * 60 * 1000));\n</code></pre>\n<p>Since the date difference in Java is calculated in milliseconds, thus we have to do some housekeeping work after calculation and convert received result from milliseconds to years.</p>\n<p>After code execution, I got the following results in debugger:</p>\n<pre><code>dateDiff = 8.4896639E11  \nage0 = 26  \nage1 = 577\n</code></pre>\n<p><code>age0</code> is a correct result.</p>\n<p>Since both operations on <code>age0</code> and <code>age1</code> are mathematically equal, why outcomes are different?\nWhy there is a difference between operations «<code>(float / (a\\*b\\*c)) / d</code>» and «<code>(float / (a\\*b\\*c\\*d))</code>», where <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code> are <code>int</code>.</p>\n"},{"tags":["java","plugins","minecraft","bukkit","spigot"],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669118344,"creation_date":1669118344,"answer_id":74532292,"question_id":74530855,"body_markdown":"&gt; I am in the process of creating a spigot plugin (using Java and Bukkit language)\r\n\r\nBukkit is not a language; it&#39;s an API for Minecraft. Spigot is another API for Minecraft built on top of Bukkit.\r\n\r\nThe `@Override` line is an [annotation](https://docs.oracle.com/javase/tutorial/java/annotations/) and has no functional bearing on the code.\r\n\r\nFrom the [docs](https://docs.oracle.com/javase/tutorial/java/annotations/predefined.html):\r\n&gt; @Override annotation informs the compiler that the element is meant to override an element declared in a superclass.\r\n\r\nYou are overriding the `run()` method from [Runnable](https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html). The Runnable class is an interface, and the `run()` method is abstract, meaning it has no body. Therefore, its implementation must be defined by the subclass unless itself is abstract.\r\n\r\nThe code you are attempting to execute is dangerous as it will perform a File I/O operation every 20 ticks (1 second) on the main thread (sync). This will likely lead to lag spikes and harm the user&#39;s experience.\r\n\r\nSpigot does a decent [beginner&#39;s tutorial](https://www.spigotmc.org/wiki/spigot-plugin-development/), which you should read. In addition, there are plenty of other resources online to learn about Java programming, which you should utilise.","title":"Using Bukkit and Java to create a &#39;repeating task&#39; code on a Minecraft spigot plugin","body":"<blockquote>\n<p>I am in the process of creating a spigot plugin (using Java and Bukkit language)</p>\n</blockquote>\n<p>Bukkit is not a language; it's an API for Minecraft. Spigot is another API for Minecraft built on top of Bukkit.</p>\n<p>The <code>@Override</code> line is an <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/\" rel=\"nofollow noreferrer\">annotation</a> and has no functional bearing on the code.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/predefined.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>@Override annotation informs the compiler that the element is meant to override an element declared in a superclass.</p>\n</blockquote>\n<p>You are overriding the <code>run()</code> method from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a>. The Runnable class is an interface, and the <code>run()</code> method is abstract, meaning it has no body. Therefore, its implementation must be defined by the subclass unless itself is abstract.</p>\n<p>The code you are attempting to execute is dangerous as it will perform a File I/O operation every 20 ticks (1 second) on the main thread (sync). This will likely lead to lag spikes and harm the user's experience.</p>\n<p>Spigot does a decent <a href=\"https://www.spigotmc.org/wiki/spigot-plugin-development/\" rel=\"nofollow noreferrer\">beginner's tutorial</a>, which you should read. In addition, there are plenty of other resources online to learn about Java programming, which you should utilise.</p>\n"}],"owner":{"account_id":17872956,"reputation":727,"user_id":12985497,"display_name":"Caledonian26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74532292,"answer_count":1,"score":0,"last_activity_date":1669118344,"creation_date":1669111781,"question_id":74530855,"body_markdown":"I am in the process of creating a **spigot** plugin (using **Java** and **Bukkit** language) that will allow me to store the coordinates of players in **minecraft (Java edition)** in real time.\r\n\r\nI want to use a **&#39;scheduler&#39;** to do this with a  **&#39;repeating task&#39;** structure. \r\n\r\nI have the following code: \r\n\r\n```\r\nBukkit.getServer().getScheduler().scheduleSyncRepeatingTask((Plugin)this, (Runnable)new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if (main.this.stopRepeater) {\r\n                    main.this.logToFile(thePlayer, thePlayer.getLocation());\r\n                }\r\n            }\r\n        }, 0L, 20L);\r\n    }\r\n```\r\n\r\nHowever, I am not 100% sure what role the **&#39;@Override&#39;** and **&#39;new Runnable()&#39;** parts of the code are actually playing here. This is the first time I&#39;m using Java/Bukkit/Spigot for a project. \r\n\r\nI am aware that **&#39;new Runnable()&#39;** is used to create a new runnable thread of code, and that **&#39;@Override&#39;** method is used to override the parent class - but what is the **&#39;parent class&#39;** in this case above?\r\n\r\nI haven&#39;t been able to find a clear explanation for this as different sites say different things. \r\n\r\nI would be so grateful if somebody could clarify this for me!","title":"Using Bukkit and Java to create a &#39;repeating task&#39; code on a Minecraft spigot plugin","body":"<p>I am in the process of creating a <strong>spigot</strong> plugin (using <strong>Java</strong> and <strong>Bukkit</strong> language) that will allow me to store the coordinates of players in <strong>minecraft (Java edition)</strong> in real time.</p>\n<p>I want to use a <strong>'scheduler'</strong> to do this with a  <strong>'repeating task'</strong> structure.</p>\n<p>I have the following code:</p>\n<pre><code>Bukkit.getServer().getScheduler().scheduleSyncRepeatingTask((Plugin)this, (Runnable)new Runnable() {\n            @Override\n            public void run() {\n                if (main.this.stopRepeater) {\n                    main.this.logToFile(thePlayer, thePlayer.getLocation());\n                }\n            }\n        }, 0L, 20L);\n    }\n</code></pre>\n<p>However, I am not 100% sure what role the <strong>'@Override'</strong> and <strong>'new Runnable()'</strong> parts of the code are actually playing here. This is the first time I'm using Java/Bukkit/Spigot for a project.</p>\n<p>I am aware that <strong>'new Runnable()'</strong> is used to create a new runnable thread of code, and that <strong>'@Override'</strong> method is used to override the parent class - but what is the <strong>'parent class'</strong> in this case above?</p>\n<p>I haven't been able to find a clear explanation for this as different sites say different things.</p>\n<p>I would be so grateful if somebody could clarify this for me!</p>\n"},{"tags":["java","module","runtime","maven-plugin","openjdk-11"],"answers":[{"comments":[{"owner":{"account_id":519246,"reputation":227,"user_id":1006861,"accept_rate":60,"display_name":"alex"},"score":0,"creation_date":1605203711,"post_id":64801100,"comment_id":114585844,"body_markdown":"Project and test-classes are not configured as modules. They run fine under jdk8 with mvn clean install. Fail only when i change system jdk to openjdk11","body":"Project and test-classes are not configured as modules. They run fine under jdk8 with mvn clean install. Fail only when i change system jdk to openjdk11"},{"owner":{"account_id":17962835,"reputation":151,"user_id":13053600,"display_name":"motzmann"},"score":0,"creation_date":1605254091,"post_id":64801100,"comment_id":114599718,"body_markdown":"The whole codename Jigsaw module concept was introduced with Java 9 and overhauled in 11 (with additional fixes in 14). So there are at least three different scenarios: JDK 8 works fine, Java 9 shows warnings, Java 11 failes. It is still odd, that argLine has to be in properties. Something is wrong with your surefire-plugin setup. Did you check imported and parent poms?","body":"The whole codename Jigsaw module concept was introduced with Java 9 and overhauled in 11 (with additional fixes in 14). So there are at least three different scenarios: JDK 8 works fine, Java 9 shows warnings, Java 11 failes. It is still odd, that argLine has to be in properties. Something is wrong with your surefire-plugin setup. Did you check imported and parent poms?"}],"tags":[],"owner":{"account_id":17962835,"reputation":151,"user_id":13053600,"display_name":"motzmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605172835,"creation_date":1605172835,"answer_id":64801100,"question_id":64795344,"body_markdown":"I cross checked with surefire 3.0.0-M3 and -M5 and it should be absolutely sufficient to configure surefire with add-opens [Oracle&#39;s Migration Guide](https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-7BB28E4D-99B3-4078-BDC4-FC24180CE82B)\r\n\r\nAlso your format is absolutely correct: `--add-opens &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED`. In Combination with `--illegal-access=permit` it should work fine.\r\n\r\nI see only one more option: remove =ALL-UNNAMED from your opens-argument, this will crash the VM/ Surefire and proves your settings are active.\r\n\r\nBeyond that your test classes ought to be invoked through reflection by your favorite runner (test method package private/ without public-modifier). This requires the same opens-declaration for your test classes/ cause the same issues – unless the Maven project isn&#39;t a module itself.\r\n\r\nMaybe clarify this in your question.","title":"Adding module export to mvn test execution runtime","body":"<p>I cross checked with surefire 3.0.0-M3 and -M5 and it should be absolutely sufficient to configure surefire with add-opens <a href=\"https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-7BB28E4D-99B3-4078-BDC4-FC24180CE82B\" rel=\"nofollow noreferrer\">Oracle's Migration Guide</a></p>\n<p>Also your format is absolutely correct: <code>--add-opens &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED</code>. In Combination with <code>--illegal-access=permit</code> it should work fine.</p>\n<p>I see only one more option: remove =ALL-UNNAMED from your opens-argument, this will crash the VM/ Surefire and proves your settings are active.</p>\n<p>Beyond that your test classes ought to be invoked through reflection by your favorite runner (test method package private/ without public-modifier). This requires the same opens-declaration for your test classes/ cause the same issues – unless the Maven project isn't a module itself.</p>\n<p>Maybe clarify this in your question.</p>\n"},{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605206760,"creation_date":1605173821,"answer_id":64801350,"question_id":64795344,"body_markdown":"Many tutorials and guides publish the following workaround\r\n\r\n    &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n\r\nPlease do not use it!\r\n\r\nThe surefire subprocess is A MUST especially in JPMS.\r\n\r\nPlease do not apply the workaround with *forkCount=0* and rather report a bug in the [Apache JIRA][1] and communicate with the open source developers.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/projects/SUREFIRE","title":"Adding module export to mvn test execution runtime","body":"<p>Many tutorials and guides publish the following workaround</p>\n<pre><code>&lt;forkCount&gt;0&lt;/forkCount&gt;\n</code></pre>\n<p>Please do not use it!</p>\n<p>The surefire subprocess is A MUST especially in JPMS.</p>\n<p>Please do not apply the workaround with <em>forkCount=0</em> and rather report a bug in the <a href=\"https://issues.apache.org/jira/projects/SUREFIRE\" rel=\"nofollow noreferrer\">Apache JIRA</a> and communicate with the open source developers.</p>\n"},{"comments":[{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":1,"creation_date":1605256376,"post_id":64811835,"comment_id":114600457,"body_markdown":"The argLine is specific only to Surefire and Failsafe plugin. Not the compiler plugin. Everyting you put there would appear on the JVM process CLI arguments. There CLI arguments are eager. Personally i would fetch the absolute path to jacoco-agent.destfile and use it in argLine. The section systemPropertyVariables is not eager and sets the properties in Java code lately after the JVM has already started. This may be a problem for JaCoCo.","body":"The argLine is specific only to Surefire and Failsafe plugin. Not the compiler plugin. Everyting you put there would appear on the JVM process CLI arguments. There CLI arguments are eager. Personally i would fetch the absolute path to jacoco-agent.destfile and use it in argLine. The section systemPropertyVariables is not eager and sets the properties in Java code lately after the JVM has already started. This may be a problem for JaCoCo."}],"tags":[],"owner":{"account_id":519246,"reputation":227,"user_id":1006861,"accept_rate":60,"display_name":"alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669118063,"creation_date":1605215673,"answer_id":64811835,"question_id":64795344,"body_markdown":"Thank to the other answers, it helped me to dig deeper. I managed to solve it with the following changes in pom\r\n\r\n```xml\r\n&lt;properties&gt;\r\n        &lt;!-- Must be in pom&#39;s properties section. &lt;sonar.jacoco.reportPaths&gt;target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt; --&gt;\r\n        &lt;jacoco.version&gt;0.7.7.201606060606&lt;/jacoco.version&gt;\r\n&lt;!--         Used by surefire plugin run tests with openjdk11 --&gt;\r\n        &lt;argLine&gt;--add-modules java.base --add-opens java.base/jdk.internal.util=ALL-UNNAMED --illegal-access=permit&lt;/argLine&gt;\r\n    &lt;/properties&gt;\r\n.........\r\n &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.compiler.source}&lt;/source&gt;\r\n                    &lt;target&gt;${java.compiler.target}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n........\r\n&lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.2&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n```\r\nBasically i had to put the argline in properties. Compiler doesn&#39;t seem to need it because it&#39;s not picking it up from there. But surefire does, it&#39;s reading the argline from maven&#39;s properties.","title":"Adding module export to mvn test execution runtime","body":"<p>Thank to the other answers, it helped me to dig deeper. I managed to solve it with the following changes in pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;!-- Must be in pom's properties section. &lt;sonar.jacoco.reportPaths&gt;target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt; --&gt;\n        &lt;jacoco.version&gt;0.7.7.201606060606&lt;/jacoco.version&gt;\n&lt;!--         Used by surefire plugin run tests with openjdk11 --&gt;\n        &lt;argLine&gt;--add-modules java.base --add-opens java.base/jdk.internal.util=ALL-UNNAMED --illegal-access=permit&lt;/argLine&gt;\n    &lt;/properties&gt;\n.........\n &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${java.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n........\n&lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.22.2&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n</code></pre>\n<p>Basically i had to put the argline in properties. Compiler doesn't seem to need it because it's not picking it up from there. But surefire does, it's reading the argline from maven's properties.</p>\n"}],"owner":{"account_id":519246,"reputation":227,"user_id":1006861,"accept_rate":60,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5129,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64811835,"answer_count":3,"score":3,"last_activity_date":1669118063,"creation_date":1605135047,"question_id":64795344,"body_markdown":"Getting this error during tests:\r\n```\r\nclass javax.crypto.JceSecurity (in unnamed module @0x45da40ad) cannot access class jdk.internal.util.StaticProperty (in module java.base) because module java.base does not export jdk.internal.util to unnamed module @0x45da40ad\r\n```\r\nI&#39;ve tried creating jvm.config at the root, next to pom.xml as such\r\n```\r\n--add-modules ALL-SYSTEM\r\n--add-opens java.base/jdk.internal.util=ALL-UNNAMED\r\n--illegal-access=permit\r\n```\r\nThat doesn&#39;t change anything.\r\nSo i try to configure maven compiler plugin as such:\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;fork&gt;true&lt;/fork&gt;\r\n    &lt;compilerArgs&gt;\r\n      &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n      &lt;arg&gt;ALL-SYSTEM&lt;/arg&gt;\r\n      &lt;arg&gt;--add-opens&lt;/arg&gt;\r\n      &lt;arg&gt;java.base/jdk.internal.util=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;/compilerArgs&gt;\r\n\t&lt;argLine&gt;\r\n\t  --add-modules ALL-SYSTEM\r\n\t  --add-opens java.base/jdk.internal.util=ALL-UNNAMED\r\n\t  --illegal-access=permit\r\n\t&lt;/argLine&gt;\r\n    &lt;source&gt;${java.compiler.source}&lt;/source&gt;\r\n    &lt;target&gt;${java.compiler.target}&lt;/target&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nfor the record i even tried it so:\r\n```xml\r\n&lt;argLine&gt;\r\n  --add-modules ALL-SYSTEM\r\n  --add-opens java.base/jdk.internal.util=ALL-UNNAMED\r\n  --illegal-access=permit\r\n&lt;/argLine&gt;\r\n```\r\nNothing. Then i tried surefire plugin like so : \r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;forkCount&gt;0&lt;/forkCount&gt;\r\n\t&lt;argLine&gt;\r\n\t  --add-modules ALL-SYSTEM\r\n\t  --add-opens java.base/jdk.internal.util=ALL-UNNAMED\r\n\t  --illegal-access=permit\r\n\t&lt;/argLine&gt;\r\n    &lt;systemPropertyVariables&gt;\r\n      &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\r\n    &lt;/systemPropertyVariables&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nTwo days working on this and failing miserably. Please help. Using OpenJdk11","title":"Adding module export to mvn test execution runtime","body":"<p>Getting this error during tests:</p>\n<pre><code>class javax.crypto.JceSecurity (in unnamed module @0x45da40ad) cannot access class jdk.internal.util.StaticProperty (in module java.base) because module java.base does not export jdk.internal.util to unnamed module @0x45da40ad\n</code></pre>\n<p>I've tried creating jvm.config at the root, next to pom.xml as such</p>\n<pre><code>--add-modules ALL-SYSTEM\n--add-opens java.base/jdk.internal.util=ALL-UNNAMED\n--illegal-access=permit\n</code></pre>\n<p>That doesn't change anything.\nSo i try to configure maven compiler plugin as such:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;fork&gt;true&lt;/fork&gt;\n    &lt;compilerArgs&gt;\n      &lt;arg&gt;--add-modules&lt;/arg&gt;\n      &lt;arg&gt;ALL-SYSTEM&lt;/arg&gt;\n      &lt;arg&gt;--add-opens&lt;/arg&gt;\n      &lt;arg&gt;java.base/jdk.internal.util=ALL-UNNAMED&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n    &lt;argLine&gt;\n      --add-modules ALL-SYSTEM\n      --add-opens java.base/jdk.internal.util=ALL-UNNAMED\n      --illegal-access=permit\n    &lt;/argLine&gt;\n    &lt;source&gt;${java.compiler.source}&lt;/source&gt;\n    &lt;target&gt;${java.compiler.target}&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>for the record i even tried it so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;argLine&gt;\n  --add-modules ALL-SYSTEM\n  --add-opens java.base/jdk.internal.util=ALL-UNNAMED\n  --illegal-access=permit\n&lt;/argLine&gt;\n</code></pre>\n<p>Nothing. Then i tried surefire plugin like so :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;forkCount&gt;0&lt;/forkCount&gt;\n    &lt;argLine&gt;\n      --add-modules ALL-SYSTEM\n      --add-opens java.base/jdk.internal.util=ALL-UNNAMED\n      --illegal-access=permit\n    &lt;/argLine&gt;\n    &lt;systemPropertyVariables&gt;\n      &lt;jacoco-agent.destfile&gt;target/jacoco.exec&lt;/jacoco-agent.destfile&gt;\n    &lt;/systemPropertyVariables&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Two days working on this and failing miserably. Please help. Using OpenJdk11</p>\n"},{"tags":["java","algorithm","data-structures","linked-list","min-heap"],"answers":[{"comments":[{"owner":{"account_id":6313065,"reputation":1,"user_id":4903995,"display_name":"The Ack"},"score":0,"creation_date":1669721738,"post_id":74530359,"comment_id":131702356,"body_markdown":"Hi Could not understand that suppose head1 has (1,3) and head2 has (3,4)\nWhile I was trying to follow your steps when curr has (2,4) and \nlast.next = curr; runs\nHow does node having 3 is cut off as last will now have (1,2,4) which will get replicated in Head\nAs per your steps 3 should also be there","body":"Hi Could not understand that suppose head1 has (1,3) and head2 has (3,4) While I was trying to follow your steps when curr has (2,4) and  last.next = curr; runs How does node having 3 is cut off as last will now have (1,2,4) which will get replicated in Head As per your steps 3 should also be there"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669727719,"post_id":74530359,"comment_id":131704381,"body_markdown":"Sorry, I am rereading your comment over and over again, but I don&#39;t understand what you are saying. I thought your question was how `head` is being populated when `last` is changing, which I think I covered. You say when &quot;curr has (2,4)&quot;. But how could there be a value 2 when your initial two lists don&#39;t have that value??","body":"Sorry, I am rereading your comment over and over again, but I don&#39;t understand what you are saying. I thought your question was how <code>head</code> is being populated when <code>last</code> is changing, which I think I covered. You say when &quot;curr has (2,4)&quot;. But how could there be a value 2 when your initial two lists don&#39;t have that value??"},{"owner":{"account_id":6313065,"reputation":1,"user_id":4903995,"display_name":"The Ack"},"score":0,"creation_date":1669809222,"post_id":74530359,"comment_id":131726319,"body_markdown":"hi Sir \nConsidering there a two list like in Main there are three lists namely head1 , head2,head3 \nI have just shortened the search space \nSuppose there are two list head1 and head2 head1  has (1,3)  and head2 has (2,4)\nThis is what I was trying to say \nThough You have really explained well .\n\nI sincerely Appreciate your efforts .\n\nMay I know the tool that you have used to draw the linked list Boxes ?","body":"hi Sir  Considering there a two list like in Main there are three lists namely head1 , head2,head3  I have just shortened the search space  Suppose there are two list head1 and head2 head1  has (1,3)  and head2 has (2,4) This is what I was trying to say  Though You have really explained well .  I sincerely Appreciate your efforts .  May I know the tool that you have used to draw the linked list Boxes ?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669810364,"post_id":74530359,"comment_id":131726707,"body_markdown":"When `curr` references node 2, then `last` already references node 1, and `last.next = curr` will make the link from node 1 to node 2. Then `last` is made to reference node 2, which now is the last node in the result list. `curr.next` (which is node 4) added to the priority queue.","body":"When <code>curr</code> references node 2, then <code>last</code> already references node 1, and <code>last.next = curr</code> will make the link from node 1 to node 2. Then <code>last</code> is made to reference node 2, which now is the last node in the result list. <code>curr.next</code> (which is node 4) added to the priority queue."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1669810447,"post_id":74530359,"comment_id":131726733,"body_markdown":"I don&#39;t use a particular tool, I have these box characters and some complete boxes available in a notepad file from which I copy.","body":"I don&#39;t use a particular tool, I have these box characters and some complete boxes available in a notepad file from which I copy."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669109642,"creation_date":1669109642,"answer_id":74530359,"question_id":74529897,"body_markdown":"&gt; how is `head` being populated everytime `last` is changing.\r\n\r\nFirst we have this initialisation:\r\n\r\n```\r\nNode head = new Node(0);\r\nNode last = head;\r\n```\r\n\r\nThat means both variables reference the *same* (dummy) node. We can represent that as follows:\r\n\r\n```none\r\n head  last\r\n  ↓     ↓\r\n┌────────────┐\r\n│ data: 0    │\r\n│ next: null │\r\n└────────────┘\r\n```\r\n\r\nThen `queue` is populated with references to nodes. In  the `while` loop we get this:\r\n\r\n```\r\nNode curr = queue.poll();\r\n```\r\n\r\nSo `curr` references some node, let&#39;s say with value 42. We can imagine the state as follows:\r\n\r\n```none\r\n head  last          curr\r\n  ↓     ↓             ↓\r\n┌────────────┐    ┌────────────┐\r\n│ data: 0    │    │ data: 42   │\r\n│ next: null │    │ next: null │\r\n└────────────┘    └────────────┘\r\n```\r\n\r\nThen we get to the crucial step:\r\n\r\n```\r\nlast.next = curr;\r\n```\r\n\r\nThis establishes the link to the `curr` node:\r\n\r\n```none\r\n head  last          curr\r\n  ↓     ↓             ↓\r\n┌────────────┐    ┌────────────┐\r\n│ data: 0    │    │ data: 42   │\r\n│ next: ─────────►│ next: null │\r\n└────────────┘    └────────────┘\r\n```\r\n\r\nNote how this mutates the left node, which also `head` is referencing -- so it *does* influence what we see via `head`.\r\n\r\nAnd to complete this step, `last` is made to reference the newly appended node:\r\n\r\n```\r\nlast = last.next;\r\n```\r\n\r\nWhich can be pictured like this:\r\n\r\n```none\r\n head              last curr\r\n  ↓                 ↓    ↓\r\n┌────────────┐    ┌────────────┐\r\n│ data: 0    │    │ data: 42   │\r\n│ next: ─────────►│ next: null │\r\n└────────────┘    └────────────┘\r\n```\r\n\r\nIf the loop repeats, then more nodes will be added, so the list may evolve to something like this:\r\n\r\n```none\r\n head                                                  last curr\r\n  ↓                                                     ↓    ↓\r\n┌────────────┐    ┌────────────┐    ┌────────────┐    ┌────────────┐\r\n│ data: 0    │    │ data: 42   │    │ data: 50   │    │ data: 61   │\r\n│ next: ─────────►│ next: ─────────►│ next: ─────────►│ next: null │\r\n└────────────┘    └────────────┘    └────────────┘    └────────────┘\r\n```\r\n\r\nI hope this clarifies it.\r\n","title":"How the head is getting populated in below code of merging k sorted lists with min heap","body":"<blockquote>\n<p>how is <code>head</code> being populated everytime <code>last</code> is changing.</p>\n</blockquote>\n<p>First we have this initialisation:</p>\n<pre><code>Node head = new Node(0);\nNode last = head;\n</code></pre>\n<p>That means both variables reference the <em>same</em> (dummy) node. We can represent that as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head  last\n  ↓     ↓\n┌────────────┐\n│ data: 0    │\n│ next: null │\n└────────────┘\n</code></pre>\n<p>Then <code>queue</code> is populated with references to nodes. In  the <code>while</code> loop we get this:</p>\n<pre><code>Node curr = queue.poll();\n</code></pre>\n<p>So <code>curr</code> references some node, let's say with value 42. We can imagine the state as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head  last          curr\n  ↓     ↓             ↓\n┌────────────┐    ┌────────────┐\n│ data: 0    │    │ data: 42   │\n│ next: null │    │ next: null │\n└────────────┘    └────────────┘\n</code></pre>\n<p>Then we get to the crucial step:</p>\n<pre><code>last.next = curr;\n</code></pre>\n<p>This establishes the link to the <code>curr</code> node:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head  last          curr\n  ↓     ↓             ↓\n┌────────────┐    ┌────────────┐\n│ data: 0    │    │ data: 42   │\n│ next: ─────────►│ next: null │\n└────────────┘    └────────────┘\n</code></pre>\n<p>Note how this mutates the left node, which also <code>head</code> is referencing -- so it <em>does</em> influence what we see via <code>head</code>.</p>\n<p>And to complete this step, <code>last</code> is made to reference the newly appended node:</p>\n<pre><code>last = last.next;\n</code></pre>\n<p>Which can be pictured like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head              last curr\n  ↓                 ↓    ↓\n┌────────────┐    ┌────────────┐\n│ data: 0    │    │ data: 42   │\n│ next: ─────────►│ next: null │\n└────────────┘    └────────────┘\n</code></pre>\n<p>If the loop repeats, then more nodes will be added, so the list may evolve to something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code> head                                                  last curr\n  ↓                                                     ↓    ↓\n┌────────────┐    ┌────────────┐    ┌────────────┐    ┌────────────┐\n│ data: 0    │    │ data: 42   │    │ data: 50   │    │ data: 61   │\n│ next: ─────────►│ next: ─────────►│ next: ─────────►│ next: null │\n└────────────┘    └────────────┘    └────────────┘    └────────────┘\n</code></pre>\n<p>I hope this clarifies it.</p>\n"}],"owner":{"account_id":6313065,"reputation":1,"user_id":4903995,"display_name":"The Ack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669117868,"creation_date":1669107554,"question_id":74529897,"body_markdown":"The code is below uses a min heap along side linked list to store and manipulate. Here priority queue is being used and head is referenced to tail, but every time even though head is not populating value of last is being populated. The confusion is that the way **last** value is being populated in **head**.\r\n\r\n```\r\n// Java code for the above approach\r\n\r\nclass Node {\r\n\tint data;\r\n\tNode next;\r\n\r\n\tNode(int key)\r\n\t{\r\n\t\tdata = key;\r\n\t\tnext = null;\r\n\t}\r\n}\r\n\r\n// Class implements Comparator to compare Node data\r\nclass NodeComparator implements Comparator&lt;Node&gt; {\r\n\r\n\tpublic int compare(Node k1, Node k2)\r\n\t{\r\n\t\tif (k1.data &gt; k2.data)\r\n\t\t\treturn 1;\r\n\t\telse if (k1.data &lt; k2.data)\r\n\t\t\treturn -1;\r\n\t\treturn 0;\r\n\t}\r\n}\r\nclass GFG {\r\n\t// Function to merge k sorted linked lists\r\n\tstatic Node mergeKList(Node[] arr, int K)\r\n\t{\r\n\t\t// Priority_queue &#39;queue&#39; implemented\r\n\t\t// as min heap with the help of\r\n\t\t// &#39;compare&#39; function\r\n\t\tPriorityQueue&lt;Node&gt; queue\r\n\t\t\t= new PriorityQueue&lt;&gt;(new NodeComparator());\r\n\t\tNode at[] = new Node[K];\r\n\t\tNode head = new Node(0);\r\n\t\tNode last = head;\r\n\t\t// Push the head nodes of all\r\n\t\t// the k lists in &#39;queue&#39;\r\n\t\tfor (int i = 0; i &lt; K; i++) {\r\n\t\t\tif (arr[i] != null) {\r\n\t\t\t\tqueue.add(arr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Handles the case when k = 0\r\n\t\t// or lists have no elements in them\r\n\t\tif (queue.isEmpty())\r\n\t\t\treturn null;\r\n\t\t// Loop till &#39;queue&#39; is not empty\r\n\t\twhile (!queue.isEmpty()) {\r\n\t\t\t// Get the top element of &#39;queue&#39;\r\n\t\t\tNode curr = queue.poll();\r\n\r\n\t\t\t// Add the top element of &#39;queue&#39;\r\n\t\t\t// to the resultant merged list\r\n\t\t\tlast.next = curr;\r\n\t\t\tlast = last.next;\r\n\t\t\t// Check if there is a node\r\n\t\t\t// next to the &#39;top&#39; node\r\n\t\t\t// in the list of which &#39;top&#39;\r\n\t\t\t// node is a member\r\n\t\t\tif (curr.next != null) {\r\n\t\t\t\t// Push the next node of top node\r\n\t\t\t\t// in &#39;queue&#39;\r\n\t\t\t\tqueue.add(curr.next);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Address of head node of the required\r\n\t\t// merged list\r\n\t\treturn head.next;\r\n\t}\r\n\t// Print linked list\r\n\tpublic static void printList(Node node)\r\n\t{\r\n\t\twhile (node != null) {\r\n\t\t\tSystem.out.print(node.data + &quot; &quot;);\r\n\t\t\tnode = node.next;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint N = 3;\r\n\t\r\n\t\t// array to store head of linkedlist\r\n\t\tNode[] a = new Node[N];\r\n\t\r\n\t\t// Linkedlist1\r\n\t\tNode head1 = new Node(1);\r\n\t\ta[0] = head1;\r\n\t\thead1.next = new Node(3);\r\n\t\thead1.next.next = new Node(5);\r\n\t\thead1.next.next.next = new Node(7);\r\n\t\r\n\t\t// Limkedlist2\r\n\t\tNode head2 = new Node(2);\r\n\t\ta[1] = head2;\r\n\t\thead2.next = new Node(4);\r\n\t\thead2.next.next = new Node(6);\r\n\t\thead2.next.next.next = new Node(8);\r\n\t\r\n\t\t// Linkedlist3\r\n\t\tNode head3 = new Node(0);\r\n\t\ta[2] = head3;\r\n\t\thead3.next = new Node(9);\r\n\t\thead3.next.next = new Node(10);\r\n\t\thead3.next.next.next = new Node(11);\r\n\r\n\t\tNode res = mergeKList(a, N);\r\n\r\n\t\tif (res != null)\r\n\t\t\tprintList(res);\r\n\t\tSystem.out.println();\r\n\t}\r\n}\r\n```\r\n\r\nI tried to debug this, but I really was not able to understand how is **head** being populated every time **last** is changing.","title":"How the head is getting populated in below code of merging k sorted lists with min heap","body":"<p>The code is below uses a min heap along side linked list to store and manipulate. Here priority queue is being used and head is referenced to tail, but every time even though head is not populating value of last is being populated. The confusion is that the way <strong>last</strong> value is being populated in <strong>head</strong>.</p>\n<pre><code>// Java code for the above approach\n\nclass Node {\n    int data;\n    Node next;\n\n    Node(int key)\n    {\n        data = key;\n        next = null;\n    }\n}\n\n// Class implements Comparator to compare Node data\nclass NodeComparator implements Comparator&lt;Node&gt; {\n\n    public int compare(Node k1, Node k2)\n    {\n        if (k1.data &gt; k2.data)\n            return 1;\n        else if (k1.data &lt; k2.data)\n            return -1;\n        return 0;\n    }\n}\nclass GFG {\n    // Function to merge k sorted linked lists\n    static Node mergeKList(Node[] arr, int K)\n    {\n        // Priority_queue 'queue' implemented\n        // as min heap with the help of\n        // 'compare' function\n        PriorityQueue&lt;Node&gt; queue\n            = new PriorityQueue&lt;&gt;(new NodeComparator());\n        Node at[] = new Node[K];\n        Node head = new Node(0);\n        Node last = head;\n        // Push the head nodes of all\n        // the k lists in 'queue'\n        for (int i = 0; i &lt; K; i++) {\n            if (arr[i] != null) {\n                queue.add(arr[i]);\n            }\n        }\n        // Handles the case when k = 0\n        // or lists have no elements in them\n        if (queue.isEmpty())\n            return null;\n        // Loop till 'queue' is not empty\n        while (!queue.isEmpty()) {\n            // Get the top element of 'queue'\n            Node curr = queue.poll();\n\n            // Add the top element of 'queue'\n            // to the resultant merged list\n            last.next = curr;\n            last = last.next;\n            // Check if there is a node\n            // next to the 'top' node\n            // in the list of which 'top'\n            // node is a member\n            if (curr.next != null) {\n                // Push the next node of top node\n                // in 'queue'\n                queue.add(curr.next);\n            }\n        }\n        // Address of head node of the required\n        // merged list\n        return head.next;\n    }\n    // Print linked list\n    public static void printList(Node node)\n    {\n        while (node != null) {\n            System.out.print(node.data + &quot; &quot;);\n            node = node.next;\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        int N = 3;\n    \n        // array to store head of linkedlist\n        Node[] a = new Node[N];\n    \n        // Linkedlist1\n        Node head1 = new Node(1);\n        a[0] = head1;\n        head1.next = new Node(3);\n        head1.next.next = new Node(5);\n        head1.next.next.next = new Node(7);\n    \n        // Limkedlist2\n        Node head2 = new Node(2);\n        a[1] = head2;\n        head2.next = new Node(4);\n        head2.next.next = new Node(6);\n        head2.next.next.next = new Node(8);\n    \n        // Linkedlist3\n        Node head3 = new Node(0);\n        a[2] = head3;\n        head3.next = new Node(9);\n        head3.next.next = new Node(10);\n        head3.next.next.next = new Node(11);\n\n        Node res = mergeKList(a, N);\n\n        if (res != null)\n            printList(res);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>I tried to debug this, but I really was not able to understand how is <strong>head</strong> being populated every time <strong>last</strong> is changing.</p>\n"},{"tags":["java","android","colors","android-drawable","android-vectordrawable"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1479103291,"post_id":40582135,"comment_id":68400801,"body_markdown":"see http://stackoverflow.com/a/36907312/2252830","body":"see <a href=\"http://stackoverflow.com/a/36907312/2252830\">stackoverflow.com/a/36907312/2252830</a>"},{"owner":{"account_id":5643420,"reputation":3611,"user_id":4466399,"accept_rate":50,"display_name":"mikebertiean"},"score":0,"creation_date":1509125444,"post_id":40582135,"comment_id":80908493,"body_markdown":"here&#39;s a nice library for changing drawable colors https://github.com/mathiazhagan01/DrawableColorChange","body":"here&#39;s a nice library for changing drawable colors <a href=\"https://github.com/mathiazhagan01/DrawableColorChange\" rel=\"nofollow noreferrer\">github.com/mathiazhagan01/DrawableColorChange</a>"}],"answers":[{"comments":[{"owner":{"account_id":1866615,"reputation":4191,"user_id":1690017,"accept_rate":38,"display_name":"David"},"score":1,"creation_date":1500644359,"post_id":40582180,"comment_id":77444301,"body_markdown":"getColor() is deprecated","body":"getColor() is deprecated"},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1508405961,"post_id":40582180,"comment_id":80601280,"body_markdown":"Where is the drawable used in that line?","body":"Where is the drawable used in that line?"}],"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1500644534,"creation_date":1479099936,"answer_id":40582180,"question_id":40582135,"body_markdown":"Try this code :\r\n \r\n    imageView.setColorFilter(ContextCompat.getColor(context, R.color.black), PorterDuff.Mode.SRC_IN);\r\n\r\n","title":"How to change the color of vector drawable programatically in android","body":"<p>Try this code :</p>\n\n<pre><code>imageView.setColorFilter(ContextCompat.getColor(context, R.color.black), PorterDuff.Mode.SRC_IN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13596055,"reputation":186,"user_id":9808073,"display_name":"Sep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669117802,"creation_date":1669117802,"answer_id":74532170,"question_id":40582135,"body_markdown":"    public static Drawable updateDrawableVector(int resId, Context context, int color) {\r\n            Drawable drawable = context.getResources().getDrawable(resId);\r\n            drawable.setColorFilter(new PorterDuffColorFilter(color, PorterDuff.Mode.SRC_ATOP));\r\n            return drawable;\r\n        }\r\n\r\nif you want it to work for even API &lt; 21, this can help","title":"How to change the color of vector drawable programatically in android","body":"<pre><code>public static Drawable updateDrawableVector(int resId, Context context, int color) {\n        Drawable drawable = context.getResources().getDrawable(resId);\n        drawable.setColorFilter(new PorterDuffColorFilter(color, PorterDuff.Mode.SRC_ATOP));\n        return drawable;\n    }\n</code></pre>\n<p>if you want it to work for even API &lt; 21, this can help</p>\n"}],"owner":{"account_id":6697651,"reputation":5071,"user_id":5165230,"accept_rate":19,"display_name":"Prithniraj Nicyone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8837,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1669117802,"creation_date":1479099677,"question_id":40582135,"body_markdown":"I have created a vector drawable : \r\n\r\n**ic_item_overflow.xml**\r\n\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:width=&quot;24dp&quot;\r\n        android:height=&quot;24dp&quot;\r\n        android:viewportWidth=&quot;24.0&quot;\r\n        android:viewportHeight=&quot;24.0&quot;&gt;\r\n    &lt;path\r\n        android:fillColor=&quot;#8b8b8b&quot;\r\n        android:pathData=&quot;M12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,10c-1.1,0 -2,0.9 -2,2s0.9,2 2,2 2,-0.9 2,-2 -0.9,-2 -2,-2zM12,16c-1.1,0 -2,0.9 -2,2s0.9,2 2,2 2,-0.9 2,-2 -0.9,-2 -2,-2z&quot;/&gt;\r\n&lt;/vector&gt;\r\n\r\nI want to use this vector drawable in 2 colors: dark grey color code #8b8b8b and white color : #FFFFFF\r\n\r\nI&#39;ve used the dark grey color code in the vector drawable file so the drawable will be shown in this color by default.\r\nI&#39;ve changed the color of this vector drawable like below: \r\n\r\n        Drawable drawable = ContextCompat.getDrawable\r\n    (mContext, R.drawable.ic_item_overflow);\r\n    DrawableCompat.setTint(drawable, ContextCompat.getColor(mContext, R.color.white));\r\n\r\nThis is working fine in case of all lollipop and post lollipop devices but not working fine on prelollipop devices. What can I do to get this working in all version of android.\r\n\r\nPlease help if anyone know how to do this. Thanks a lot in advanced.","title":"How to change the color of vector drawable programatically in android","body":"<p>I have created a vector drawable : </p>\n\n<p><strong>ic_item_overflow.xml</strong></p>\n\n<pre><code>&lt;vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:width=\"24dp\"\n    android:height=\"24dp\"\n    android:viewportWidth=\"24.0\"\n    android:viewportHeight=\"24.0\"&gt;\n&lt;path\n    android:fillColor=\"#8b8b8b\"\n    android:pathData=\"M12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,10c-1.1,0 -2,0.9 -2,2s0.9,2 2,2 2,-0.9 2,-2 -0.9,-2 -2,-2zM12,16c-1.1,0 -2,0.9 -2,2s0.9,2 2,2 2,-0.9 2,-2 -0.9,-2 -2,-2z\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>I want to use this vector drawable in 2 colors: dark grey color code #8b8b8b and white color : #FFFFFF</p>\n\n<p>I've used the dark grey color code in the vector drawable file so the drawable will be shown in this color by default.\nI've changed the color of this vector drawable like below: </p>\n\n<pre><code>    Drawable drawable = ContextCompat.getDrawable\n(mContext, R.drawable.ic_item_overflow);\nDrawableCompat.setTint(drawable, ContextCompat.getColor(mContext, R.color.white));\n</code></pre>\n\n<p>This is working fine in case of all lollipop and post lollipop devices but not working fine on prelollipop devices. What can I do to get this working in all version of android.</p>\n\n<p>Please help if anyone know how to do this. Thanks a lot in advanced.</p>\n"},{"tags":["java","aem","sling"],"comments":[{"owner":{"account_id":3076547,"reputation":585,"user_id":2605718,"accept_rate":68,"display_name":"Sam Thadhani"},"score":1,"creation_date":1385722426,"post_id":20278236,"comment_id":30261207,"body_markdown":"are you saying when you go to siteadmin you don&#39;t see the content? If yes, does your package installation works fine when you upload your package? \nThe error looks as if CQ is looking for jar in your system and is unable to find so. Check if you have that jar, if not then do a build and if you are connected to net, maven will download the dependency if mentioned as a dependency in pom file.","body":"are you saying when you go to siteadmin you don&#39;t see the content? If yes, does your package installation works fine when you upload your package?  The error looks as if CQ is looking for jar in your system and is unable to find so. Check if you have that jar, if not then do a build and if you are connected to net, maven will download the dependency if mentioned as a dependency in pom file."}],"answers":[{"tags":[],"owner":{"account_id":75955,"reputation":6100,"user_id":217731,"display_name":"Bertrand Delacretaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1386067489,"creation_date":1386067489,"answer_id":20348948,"question_id":20278236,"body_markdown":"The error message means that the OSGi framework is unable to supply a version &gt;= 2.3 and &lt; 3 of the `org.apache.sling.api.resource` Java package for a bundle B that wants to import it. \r\n\r\nAs a result, bundle B cannot be activated, and parts of your system won&#39;t work.\r\n\r\nLooking at the webconsole (under `/system/console` by default in Sling and CQ) you can see that this package is provided by the `org.apache.sling.api bundle`, so either you have an old version of that bundle in your system, or you have installed incompatible bundles that require a newer version of that package.","title":"org.apache.sling.api.resource,version=[2.3,3) -- Cannot be resolved","body":"<p>The error message means that the OSGi framework is unable to supply a version >= 2.3 and &lt; 3 of the <code>org.apache.sling.api.resource</code> Java package for a bundle B that wants to import it. </p>\n\n<p>As a result, bundle B cannot be activated, and parts of your system won't work.</p>\n\n<p>Looking at the webconsole (under <code>/system/console</code> by default in Sling and CQ) you can see that this package is provided by the <code>org.apache.sling.api bundle</code>, so either you have an old version of that bundle in your system, or you have installed incompatible bundles that require a newer version of that package.</p>\n"},{"tags":[],"owner":{"account_id":13004250,"reputation":1,"user_id":9399316,"display_name":"Luis Felix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614560517,"creation_date":1614560517,"answer_id":66415437,"question_id":20278236,"body_markdown":"You can add the missing package by explicilty importring it. Accecess the pom.xml file in the core folder of your project  *core/pom.xml* and list the dependency under *Import-Package*\r\n```\r\n&lt;configuration&gt;\r\n    &lt;bnd&gt;&lt;![CDATA[\r\n        Import-Package: \r\n            javax.annotation;version=0.0.0,\r\n            org.apache.sling.api.servlets;version=&quot;[2.3,3)&quot;,*\r\n     ]]&gt;&lt;/bnd&gt;\r\n&lt;/configuration&gt;\r\n```","title":"org.apache.sling.api.resource,version=[2.3,3) -- Cannot be resolved","body":"<p>You can add the missing package by explicilty importring it. Accecess the pom.xml file in the core folder of your project  <em>core/pom.xml</em> and list the dependency under <em>Import-Package</em></p>\n<pre><code>&lt;configuration&gt;\n    &lt;bnd&gt;&lt;![CDATA[\n        Import-Package: \n            javax.annotation;version=0.0.0,\n            org.apache.sling.api.servlets;version=&quot;[2.3,3)&quot;,*\n     ]]&gt;&lt;/bnd&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9347215,"reputation":431,"user_id":6938132,"display_name":"srihitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669117672,"creation_date":1669117672,"answer_id":74532135,"question_id":20278236,"body_markdown":"Check version of org.apache.sling.api.resource in package-info.class file in org.apache.sling.api.resource package in uber-jar.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lhcvf.png\r\n\r\nYou might have version between 2.3 and 3. Try installing lower version uber-jar that has package version &lt;2.3","title":"org.apache.sling.api.resource,version=[2.3,3) -- Cannot be resolved","body":"<p>Check version of org.apache.sling.api.resource in package-info.class file in org.apache.sling.api.resource package in uber-jar.</p>\n<p><a href=\"https://i.stack.imgur.com/lhcvf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lhcvf.png\" alt=\"enter image description here\" /></a></p>\n<p>You might have version between 2.3 and 3. Try installing lower version uber-jar that has package version &lt;2.3</p>\n"}],"owner":{"account_id":2357292,"reputation":5009,"user_id":2064835,"accept_rate":72,"display_name":"ankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20348948,"answer_count":3,"score":2,"last_activity_date":1669117672,"creation_date":1385698159,"question_id":20278236,"body_markdown":"Hi I am not able to access content of my project, I have uploaded all the packages which are required to access content from CQ. Only thing I can see is \r\n\r\n&gt; org.apache.sling.api.resource,version=[2.3,3) -- Cannot be resolved\r\n\r\nCan this be the reason for exception and if yes please let me know how to resolve it.\r\n\r\nCQ version 5.6","title":"org.apache.sling.api.resource,version=[2.3,3) -- Cannot be resolved","body":"<p>Hi I am not able to access content of my project, I have uploaded all the packages which are required to access content from CQ. Only thing I can see is </p>\n\n<blockquote>\n  <p>org.apache.sling.api.resource,version=[2.3,3) -- Cannot be resolved</p>\n</blockquote>\n\n<p>Can this be the reason for exception and if yes please let me know how to resolve it.</p>\n\n<p>CQ version 5.6</p>\n"},{"tags":["java","design-patterns"],"answers":[{"comments":[{"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"score":0,"creation_date":1669195357,"post_id":74531941,"comment_id":131587096,"body_markdown":"Any relevant pattern names for such kind of offset management.","body":"Any relevant pattern names for such kind of offset management."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":1,"creation_date":1669271734,"post_id":74531941,"comment_id":131607687,"body_markdown":"Not one that&#39;s standing out at me. Thinking of patterns to solve a problem is the wrong way to approach software design, you should instead think of applying prior knowledge to solve a problem more naturally where patterns may emerge. Understand patterns, but don&#39;t think of them first.","body":"Not one that&#39;s standing out at me. Thinking of patterns to solve a problem is the wrong way to approach software design, you should instead think of applying prior knowledge to solve a problem more naturally where patterns may emerge. Understand patterns, but don&#39;t think of them first."}],"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669116634,"creation_date":1669116634,"answer_id":74531941,"question_id":74529028,"body_markdown":"With thread safety aside to simplify the solution, start by creating a holder for your sequence.\r\n\r\n```java\r\npublic record SerialItem(int serial, int sequence) { }\r\n```\r\n\r\nCreate a holder that maintains a sequence of these items with `scaleOut` and `scaleIn` methods to handle adding and removing of items\r\n\r\n```java\r\npublic class ScaleHolder {\r\n\r\n    private final LinkedList&lt;SerialItem&gt; items = new LinkedList&lt;&gt;();\r\n    private int serial;\r\n    private int sequence;\r\n\r\n    public ScaleHolder() {\r\n        scaleOut();\r\n    }\r\n\r\n    public List&lt;SerialItem&gt; scaleOut() {\r\n        items.add(new SerialItem(++serial, ++sequence));\r\n        return items();\r\n    }\r\n\r\n    public List&lt;SerialItem&gt; scaleIn() {\r\n        if (items.size() &gt; 1) {\r\n            items.removeLast();\r\n            serial++;\r\n        }\r\n        return items();\r\n    }\r\n\r\n    public List&lt;SerialItem&gt; items() {\r\n        return List.copyOf(items);\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can now use this as follows:\r\n\r\n```java\r\nvar h = new SerialHolder();\r\nh.items();    // [SerialItem[serial=1, sequence=1]]\r\nh.scaleOut(); // [SerialItem[serial=1, sequence=1], SerialItem[serial=2, sequence=2]]\r\nh.scaleIn();  // [SerialItem[serial=1, sequence=1]]\r\nh.scaleOut(); // [SerialItem[serial=1, sequence=1], SerialItem[serial=4, sequence=3]]\r\n```\r\n","title":"Offset management Java patten","body":"<p>With thread safety aside to simplify the solution, start by creating a holder for your sequence.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record SerialItem(int serial, int sequence) { }\n</code></pre>\n<p>Create a holder that maintains a sequence of these items with <code>scaleOut</code> and <code>scaleIn</code> methods to handle adding and removing of items</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScaleHolder {\n\n    private final LinkedList&lt;SerialItem&gt; items = new LinkedList&lt;&gt;();\n    private int serial;\n    private int sequence;\n\n    public ScaleHolder() {\n        scaleOut();\n    }\n\n    public List&lt;SerialItem&gt; scaleOut() {\n        items.add(new SerialItem(++serial, ++sequence));\n        return items();\n    }\n\n    public List&lt;SerialItem&gt; scaleIn() {\n        if (items.size() &gt; 1) {\n            items.removeLast();\n            serial++;\n        }\n        return items();\n    }\n\n    public List&lt;SerialItem&gt; items() {\n        return List.copyOf(items);\n    }\n\n}\n</code></pre>\n<p>You can now use this as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var h = new SerialHolder();\nh.items();    // [SerialItem[serial=1, sequence=1]]\nh.scaleOut(); // [SerialItem[serial=1, sequence=1], SerialItem[serial=2, sequence=2]]\nh.scaleIn();  // [SerialItem[serial=1, sequence=1]]\nh.scaleOut(); // [SerialItem[serial=1, sequence=1], SerialItem[serial=4, sequence=3]]\n</code></pre>\n"}],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74531941,"answer_count":1,"score":0,"last_activity_date":1669117370,"creation_date":1669103073,"question_id":74529028,"body_markdown":"Let&#39;s suppose I have some abstract entity in the system which created each time.\r\n\r\nEach of those entities should have two ID - Serial and Sequence.\r\n\r\n**UC**\r\n1. Initial state -  A(Serial=1, Sequence=1).\r\n2. Scale out - A(Serial=1, Sequence=1), A(Serial=2, Sequence=2)\r\n3. Scale in - A(Serial=1, Sequence=1)\r\n4. Scale out again -  A(Serial=1, Sequence=1), A(Serial=**4**, Sequence=**3**)\r\n\r\nMeaning that sequence id it is kind of offset that stored and previous versions is not used. \r\n\r\nIs there any patterns in Java that you would recommend to look, main aim of which is store those values in some generic data structure?","title":"Offset management Java patten","body":"<p>Let's suppose I have some abstract entity in the system which created each time.</p>\n<p>Each of those entities should have two ID - Serial and Sequence.</p>\n<p><strong>UC</strong></p>\n<ol>\n<li>Initial state -  A(Serial=1, Sequence=1).</li>\n<li>Scale out - A(Serial=1, Sequence=1), A(Serial=2, Sequence=2)</li>\n<li>Scale in - A(Serial=1, Sequence=1)</li>\n<li>Scale out again -  A(Serial=1, Sequence=1), A(Serial=<strong>4</strong>, Sequence=<strong>3</strong>)</li>\n</ol>\n<p>Meaning that sequence id it is kind of offset that stored and previous versions is not used.</p>\n<p>Is there any patterns in Java that you would recommend to look, main aim of which is store those values in some generic data structure?</p>\n"},{"tags":["java","excel","mongodb","spring-boot"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669113686,"post_id":74531256,"comment_id":131564893,"body_markdown":"&quot;Approx. ~ 15 lacs&quot; - note that not everyone might know what a &quot;lac&quot; is, better transform it into an international format.","body":"&quot;Approx. ~ 15 lacs&quot; - note that not everyone might know what a &quot;lac&quot; is, better transform it into an international format."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669113774,"post_id":74531256,"comment_id":131564927,"body_markdown":"If you get more data than a single excel file can contain (e.g. restricted by the number of rows) then you need to split it or use another format. If you need to use excel then one option might be to return a zip file with multiple excel files that each contain a portion of the data.","body":"If you get more data than a single excel file can contain (e.g. restricted by the number of rows) then you need to split it or use another format. If you need to use excel then one option might be to return a zip file with multiple excel files that each contain a portion of the data."},{"owner":{"account_id":5690969,"reputation":1,"user_id":4499059,"display_name":"Apurva Gupta"},"score":0,"creation_date":1669117461,"post_id":74531256,"comment_id":131566180,"body_markdown":"@Thomas thanks for pointing it out, I did change into an international format.\n\nComing to your suggestion - Is there any other option like streams/batch which can do the work instead of creating multiple excels and send it as zip because it will deviate from the client requirement.","body":"@Thomas thanks for pointing it out, I did change into an international format.  Coming to your suggestion - Is there any other option like streams/batch which can do the work instead of creating multiple excels and send it as zip because it will deviate from the client requirement."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669119979,"post_id":74531256,"comment_id":131567011,"body_markdown":"An excel file can only hold about [1 million rows] (https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3) so there&#39;s no sense in even trying to stream. If you have less rows and only memory is a problem then have a look at the streaming approaches [Apache POI](https://poi.apache.org/components/spreadsheet/) provides.","body":"An excel file can only hold about [1 million rows] (<a href=\"https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/office/&hellip;</a>) so there&#39;s no sense in even trying to stream. If you have less rows and only memory is a problem then have a look at the streaming approaches <a href=\"https://poi.apache.org/components/spreadsheet/\" rel=\"nofollow noreferrer\">Apache POI</a> provides."},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1669128863,"post_id":74531256,"comment_id":131570531,"body_markdown":"Also don&#39;t transform your entire result set into an array in memory. Open and iterate through your cursor to append entries to the sheet one at a time if the Excel API allows for it","body":"Also don&#39;t transform your entire result set into an array in memory. Open and iterate through your cursor to append entries to the sheet one at a time if the Excel API allows for it"}],"owner":{"account_id":5690969,"reputation":1,"user_id":4499059,"display_name":"Apurva Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669117342,"creation_date":1669113561,"question_id":74531256,"body_markdown":"I have a requirement where I need to read the huge data from Mongo db collection and based on some conditions populate it to the excel sheet so that end user can download and see the data (Approx. ~ 1.5 million). \r\n\r\nCurrently I am using mongoTemplate to access the collection and using pipeline to filter out the data. Something like- \r\n\r\n```\r\nList&lt;Document&gt; aggResponse = paReportingCollection.aggregate(pipeline).into(new ArrayList&lt;&gt;());\r\n```\r\n\r\nI need a way to write the data into excel without crashing the system.\r\n\r\nP.S. I have gone through few pagination blogs but doesn&#39;t seem a good option.\r\n","title":"Read huge data from Mongo db and exporting it to the excel","body":"<p>I have a requirement where I need to read the huge data from Mongo db collection and based on some conditions populate it to the excel sheet so that end user can download and see the data (Approx. ~ 1.5 million).</p>\n<p>Currently I am using mongoTemplate to access the collection and using pipeline to filter out the data. Something like-</p>\n<pre><code>List&lt;Document&gt; aggResponse = paReportingCollection.aggregate(pipeline).into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>I need a way to write the data into excel without crashing the system.</p>\n<p>P.S. I have gone through few pagination blogs but doesn't seem a good option.</p>\n"},{"tags":["java","spring-boot","performance-testing","gatling"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669120645,"post_id":74532083,"comment_id":131567240,"body_markdown":"You would need something to start the application before gatling is run. As you are using gradle that shouldn&#39;t be to hard (like adding a depends, or a custom task that first starts the app). Drawback is that you are now running the app **and** the tests on the same machine, which will impact the performance (and probably heavily).","body":"You would need something to start the application before gatling is run. As you are using gradle that shouldn&#39;t be to hard (like adding a depends, or a custom task that first starts the app). Drawback is that you are now running the app <b>and</b> the tests on the same machine, which will impact the performance (and probably heavily)."}],"owner":{"account_id":15028110,"reputation":93,"user_id":10847244,"display_name":"Taserface"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669117321,"creation_date":1669117321,"question_id":74532083,"body_markdown":"Is it possible to run Gatling as part of the Spring project? I am very used to the coding style of Spring (beans etc.) and I would like to use those to refactor the code in Gatling. Is it possible? \r\n\r\nI run my Gatling simulations with \r\n\r\n    gradle gatlingRun\r\n\r\nand it just looks for the simulation classes, sends the requests and creates report. It is very different from how the Spring application runs. Is there anyway to combine those? \r\n","title":"Use Spring Boot with Gatling","body":"<p>Is it possible to run Gatling as part of the Spring project? I am very used to the coding style of Spring (beans etc.) and I would like to use those to refactor the code in Gatling. Is it possible?</p>\n<p>I run my Gatling simulations with</p>\n<pre><code>gradle gatlingRun\n</code></pre>\n<p>and it just looks for the simulation classes, sends the requests and creates report. It is very different from how the Spring application runs. Is there anyway to combine those?</p>\n"},{"tags":["java","xml","soap","tags","jaxb"],"answers":[{"tags":[],"owner":{"account_id":27003670,"reputation":1,"user_id":20564541,"display_name":"ButerbrodWithButter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669046218,"creation_date":1669045718,"answer_id":74521517,"question_id":74521309,"body_markdown":"this is not possible with standard jaxbe.\r\nhttps://stackoverflow.com/questions/50417097/jaxb-namespace-on-each-xml-tag","title":"JAXB :Need Namespace Prefix to all the elements inside others","body":"<p>this is not possible with standard jaxbe.\n<a href=\"https://stackoverflow.com/questions/50417097/jaxb-namespace-on-each-xml-tag\">JAXB Namespace on each xml tag</a></p>\n"},{"tags":[],"owner":{"account_id":27004914,"reputation":1,"user_id":20565564,"display_name":"Mr.Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669053922,"creation_date":1669053922,"answer_id":74523148,"question_id":74521309,"body_markdown":"I had a similar problem and came to the conclusion that it is not solved","title":"JAXB :Need Namespace Prefix to all the elements inside others","body":"<p>I had a similar problem and came to the conclusion that it is not solved</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669276626,"post_id":74532070,"comment_id":131609021,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74532070/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27011739,"reputation":1,"user_id":20571274,"display_name":"Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669117267,"creation_date":1669117267,"answer_id":74532070,"question_id":74521309,"body_markdown":"Try rebooting ur project, it might help","title":"JAXB :Need Namespace Prefix to all the elements inside others","body":"<p>Try rebooting ur project, it might help</p>\n"}],"owner":{"account_id":27003354,"reputation":1,"user_id":20564272,"display_name":"Coolimpact"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669117267,"creation_date":1669044830,"question_id":74521309,"body_markdown":"jaxb groups all tags in one, I need each tag to have its own namespace.\r\n\r\nhave:\r\n\r\n\r\n\r\n```\r\n&lt;Request env=&quot;DEV&quot; xmlns=&quot;http://test1&quot; &quot;xmlns:ns2=&quot;urn://test2&quot;&gt;\r\n            &lt;ApplicationData&gt;\r\n                &lt;ns2:Application&gt;\r\n                     &lt;Square&gt;test&lt;/Square&gt;\r\n                &lt;/ns2:Application&gt;\r\n            &lt;/ApplicationData&gt;\r\n&lt;/Request&gt;\r\n```\r\nneed:\r\n\r\n```\r\n&lt;Request env=&quot;DEV&quot; xmlns=&quot;http://test1&quot;&gt;\r\n            &lt;ApplicationData&gt;\r\n                &lt;Application xmlns =&quot;urn://test2&quot;&gt;\r\n                     &lt;Square&gt;test&lt;/Square&gt;\r\n                &lt;/Application&gt;\r\n            &lt;/ApplicationData&gt;\r\n&lt;/Request&gt;\r\n```\r\n\r\n\r\nadding namespace into @XmlElement  didn&#39;t help\r\n\r\n```\r\n@XmlElement(\r\n        name = &quot;Application&quot;,\r\n        required = true,\r\n        namespace = &quot;urn://test2&quot;)\r\n```\r\npackage-info:\r\n\r\n```\r\n@javax.xml.bind.annotation.XmlSchema(\r\n        namespace = &quot;http://test1&quot;,\r\n        elementFormDefault = XmlNsForm.QUALIFIED,\r\n        xmlns = {\r\n            @XmlNs(prefix = &quot;&quot;, namespaceURI = &quot;http://test1&quot;)\r\n        })\r\n\r\n```\r\n\r\n","title":"JAXB :Need Namespace Prefix to all the elements inside others","body":"<p>jaxb groups all tags in one, I need each tag to have its own namespace.</p>\n<p>have:</p>\n<pre><code>&lt;Request env=&quot;DEV&quot; xmlns=&quot;http://test1&quot; &quot;xmlns:ns2=&quot;urn://test2&quot;&gt;\n            &lt;ApplicationData&gt;\n                &lt;ns2:Application&gt;\n                     &lt;Square&gt;test&lt;/Square&gt;\n                &lt;/ns2:Application&gt;\n            &lt;/ApplicationData&gt;\n&lt;/Request&gt;\n</code></pre>\n<p>need:</p>\n<pre><code>&lt;Request env=&quot;DEV&quot; xmlns=&quot;http://test1&quot;&gt;\n            &lt;ApplicationData&gt;\n                &lt;Application xmlns =&quot;urn://test2&quot;&gt;\n                     &lt;Square&gt;test&lt;/Square&gt;\n                &lt;/Application&gt;\n            &lt;/ApplicationData&gt;\n&lt;/Request&gt;\n</code></pre>\n<p>adding namespace into @XmlElement  didn't help</p>\n<pre><code>@XmlElement(\n        name = &quot;Application&quot;,\n        required = true,\n        namespace = &quot;urn://test2&quot;)\n</code></pre>\n<p>package-info:</p>\n<pre><code>@javax.xml.bind.annotation.XmlSchema(\n        namespace = &quot;http://test1&quot;,\n        elementFormDefault = XmlNsForm.QUALIFIED,\n        xmlns = {\n            @XmlNs(prefix = &quot;&quot;, namespaceURI = &quot;http://test1&quot;)\n        })\n\n</code></pre>\n"},{"tags":["java","oracle","ora-04088"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1669113906,"post_id":74531167,"comment_id":131564984,"body_markdown":"Please don&#39;t post the table descriptions as images; instead, post them as `CREATE TABLE` statements as formatted text that we can copy/paste as it makes it much easier to debug if we can easily re-create the problem.","body":"Please don&#39;t post the table descriptions as images; instead, post them as <code>CREATE TABLE</code> statements as formatted text that we can copy/paste as it makes it much easier to debug if we can easily re-create the problem."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1669114267,"post_id":74531167,"comment_id":131565129,"body_markdown":"What are the table names stored in `modules.mod_table`, and do all of those tables have an `int_id` column? The error suggests not - it&#39;s coming from the `execute immediate` call. (For a trigger, the line number in a PL/SQL error starts from the PL/SQL trigger body - so here `DECLARE` is line 1, not line 4 - which can be confusing.) If you add `dbms_output.put_line(SQLBody);` before that, and run your merge from a client that can show the output, you can see which table it&#39;s actually erroring on.","body":"What are the table names stored in <code>modules.mod_table</code>, and do all of those tables have an <code>int_id</code> column? The error suggests not - it&#39;s coming from the <code>execute immediate</code> call. (For a trigger, the line number in a PL/SQL error starts from the PL/SQL trigger body - so here <code>DECLARE</code> is line 1, not line 4 - which can be confusing.) If you add <code>dbms_output.put_line(SQLBody);</code> before that, and run your merge from a client that can show the output, you can see which table it&#39;s actually erroring on."},{"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"score":0,"creation_date":1669116470,"post_id":74531167,"comment_id":131565864,"body_markdown":"_&quot;DELETE INT_MODULES im&quot;_, I think the &#39;FROM&#39; keyword missing.  That is why it&#39;s not recognize &quot;INT_ID&quot; and shows the invalid identifier error.","body":"<i>&quot;DELETE INT_MODULES im&quot;</i>, I think the &#39;FROM&#39; keyword missing.  That is why it&#39;s not recognize &quot;INT_ID&quot; and shows the invalid identifier error."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1669123979,"post_id":74531167,"comment_id":131568487,"body_markdown":"@Sujay - the `FROM` isn&#39;t required - it&#39;s shown as an optional branch on [the syntax diagram](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/DELETE.html).","body":"@Sujay - the <code>FROM</code> isn&#39;t required - it&#39;s shown as an optional branch on <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/DELETE.html\" rel=\"nofollow noreferrer\">the syntax diagram</a>."}],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669117161,"creation_date":1669117161,"answer_id":74532047,"question_id":74531167,"body_markdown":"The problem isn&#39;t (directly) in the trigger code you posted; it&#39;s a run-time error that is coming from the dynamic SQL statement you are executing on line 21, which is where the error is reported (counting from the start of the PL/SQL trigger body, where `DECLARE` is line 1).\r\n\r\nThe issue is that your `modules` table has a row that is being included in the cursor query, but which has a `mod_table` value that refers to a table which does not have an `int_id` column.\r\n\r\nTo demonstrate if you have a row with `mod_table` set to `&#39;TABLE_A&#39;` and that table is defined as:\r\n\r\n```\r\ncreate table table_a (int_id number);\r\n```\r\n\r\nthen your code doesn&#39;t error; but if you change it to:\r\n\r\n```\r\ncreate table table_a (dummy number);\r\n```\r\n\r\nthen it throws exactly the error you see.\r\n\r\n[fiddle](https://dbfiddle.uk/umn6L1_8)\r\n\r\nYou either need to exclude tables which don&#39;t have that column form the query, or test for them before executing the delete. (Or revisit your logic...)","title":"Error ORA-04088 using triger before UPDATE","body":"<p>The problem isn't (directly) in the trigger code you posted; it's a run-time error that is coming from the dynamic SQL statement you are executing on line 21, which is where the error is reported (counting from the start of the PL/SQL trigger body, where <code>DECLARE</code> is line 1).</p>\n<p>The issue is that your <code>modules</code> table has a row that is being included in the cursor query, but which has a <code>mod_table</code> value that refers to a table which does not have an <code>int_id</code> column.</p>\n<p>To demonstrate if you have a row with <code>mod_table</code> set to <code>'TABLE_A'</code> and that table is defined as:</p>\n<pre><code>create table table_a (int_id number);\n</code></pre>\n<p>then your code doesn't error; but if you change it to:</p>\n<pre><code>create table table_a (dummy number);\n</code></pre>\n<p>then it throws exactly the error you see.</p>\n<p><a href=\"https://dbfiddle.uk/umn6L1_8\" rel=\"nofollow noreferrer\">fiddle</a></p>\n<p>You either need to exclude tables which don't have that column form the query, or test for them before executing the delete. (Or revisit your logic...)</p>\n"}],"owner":{"account_id":5565908,"reputation":183,"user_id":4413237,"accept_rate":0,"display_name":"vviston"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669117161,"creation_date":1669113109,"question_id":74531167,"body_markdown":"I ran into this error. I tried to explore other 04088 topics but I am still not able to fix it.\r\n\r\nMy trigger:\r\n\r\n    CREATE OR REPLACE TRIGGER &quot;TU_INTEGRATIONS&quot;\r\n      BEFORE UPDATE ON INTEGRATIONS\r\n      REFERENCING NEW AS NEW OLD AS OLD\r\n      FOR EACH ROW\r\n    DECLARE\r\n      bckId     INT;\r\n      SQLBody   VARCHAR2(500);\r\n      tableName VARCHAR2(100);\r\n    BEGIN\r\n      IF :OLD.BCK_ID &lt;&gt; :NEW.BCK_ID THEN\r\n        DELETE INT_MODULES im\r\n         WHERE im.INT_ID = :NEW.INT_ID\r\n           AND NOT EXISTS (SELECT 1\r\n                             FROM (SELECT BCKM_ID\r\n                                     FROM BACKENDS\r\n                                    WHERE BACKENDS.BCK_ID = :NEW.BCK_ID) b\r\n                             JOIN ROUTING_SEQUENCES rs\r\n                               ON rs.BCKM_ID = b.BCKM_ID);\r\n      END IF;\r\n    \r\n      FOR item IN (\r\n                   SELECT MOD_TABLE\r\n                     FROM MODULES m\r\n                    WHERE MOD_LEV_INTEGRATION = 1\r\n                      AND NOT EXISTS (SELECT 1\r\n                             FROM INT_MODULES imi\r\n                            WHERE imi.INT_ID = :NEW.INT_ID\r\n                              AND imi.MOD_ID = m.MOD_ID)\r\n                   ) \r\n      LOOP\r\n        SQLBody := &#39;DELETE &#39; || item.MOD_TABLE || &#39; WHERE INT_ID = &#39; ||TO_CHAR(:NEW.INT_ID);\r\n        EXECUTE IMMEDIATE SQLBody;  \r\n      END LOOP;\r\n    END &quot;TU_INTEGRATIONS&quot;;\r\n\r\nTables used:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nThe error is:\r\n\r\n&gt;     ORA-00904: &quot;INT_ID&quot;: invalid identifier ORA-06512: at &quot;TU_INTEGRATIONS&quot;,\r\n&gt;     line 21 ORA-06512: at &quot;TU_INTEGRATIONS&quot;, \r\n&gt;     line 21 ORA-04088: error during execution of trigger &#39;TU_INTEGRATIONS&#39;\r\n\r\nI call merge method from entityManager on Integration object where I change just the INT_NAME column.\r\n\r\n```\r\n@Override\r\n    public void createOrUpdate(T entity) {\r\n        if (entity instanceof TimeTracked) {\r\n            processAuditable((TimeTracked) entity);\r\n        }\r\n        T savedEntity = entityManager.merge(entity);\r\n        entity.setId(savedEntity.getId());\r\n    }\r\n```\r\n\r\nThank you for your tips!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a6sUr.jpg\r\n  [2]: https://i.stack.imgur.com/c4JjG.jpg\r\n  [3]: https://i.stack.imgur.com/psd4i.jpg\r\n\r\n","title":"Error ORA-04088 using triger before UPDATE","body":"<p>I ran into this error. I tried to explore other 04088 topics but I am still not able to fix it.</p>\n<p>My trigger:</p>\n<pre><code>CREATE OR REPLACE TRIGGER &quot;TU_INTEGRATIONS&quot;\n  BEFORE UPDATE ON INTEGRATIONS\n  REFERENCING NEW AS NEW OLD AS OLD\n  FOR EACH ROW\nDECLARE\n  bckId     INT;\n  SQLBody   VARCHAR2(500);\n  tableName VARCHAR2(100);\nBEGIN\n  IF :OLD.BCK_ID &lt;&gt; :NEW.BCK_ID THEN\n    DELETE INT_MODULES im\n     WHERE im.INT_ID = :NEW.INT_ID\n       AND NOT EXISTS (SELECT 1\n                         FROM (SELECT BCKM_ID\n                                 FROM BACKENDS\n                                WHERE BACKENDS.BCK_ID = :NEW.BCK_ID) b\n                         JOIN ROUTING_SEQUENCES rs\n                           ON rs.BCKM_ID = b.BCKM_ID);\n  END IF;\n\n  FOR item IN (\n               SELECT MOD_TABLE\n                 FROM MODULES m\n                WHERE MOD_LEV_INTEGRATION = 1\n                  AND NOT EXISTS (SELECT 1\n                         FROM INT_MODULES imi\n                        WHERE imi.INT_ID = :NEW.INT_ID\n                          AND imi.MOD_ID = m.MOD_ID)\n               ) \n  LOOP\n    SQLBody := 'DELETE ' || item.MOD_TABLE || ' WHERE INT_ID = ' ||TO_CHAR(:NEW.INT_ID);\n    EXECUTE IMMEDIATE SQLBody;  \n  END LOOP;\nEND &quot;TU_INTEGRATIONS&quot;;\n</code></pre>\n<p>Tables used:</p>\n<p><a href=\"https://i.stack.imgur.com/a6sUr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a6sUr.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/c4JjG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c4JjG.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/psd4i.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psd4i.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The error is:</p>\n<blockquote>\n<pre><code>ORA-00904: &quot;INT_ID&quot;: invalid identifier ORA-06512: at &quot;TU_INTEGRATIONS&quot;,\nline 21 ORA-06512: at &quot;TU_INTEGRATIONS&quot;, \nline 21 ORA-04088: error during execution of trigger 'TU_INTEGRATIONS'\n</code></pre>\n</blockquote>\n<p>I call merge method from entityManager on Integration object where I change just the INT_NAME column.</p>\n<pre><code>@Override\n    public void createOrUpdate(T entity) {\n        if (entity instanceof TimeTracked) {\n            processAuditable((TimeTracked) entity);\n        }\n        T savedEntity = entityManager.merge(entity);\n        entity.setId(savedEntity.getId());\n    }\n</code></pre>\n<p>Thank you for your tips!</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7513705,"reputation":41,"user_id":5707855,"display_name":"Yury Savchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669116918,"creation_date":1669116918,"answer_id":74531998,"question_id":74519580,"body_markdown":"Based on the following information it looks like it was a bug that was introduced in the version 5.6.11. This bug will be fixed in the 5.6.13 release:\r\nhttps://in.relation.to/2022/11/03/hibernate-orm-5613/","title":"Hibernate 5.6.12 calls setProprtyValue method for immutable CompositeUserType","body":"<p>Based on the following information it looks like it was a bug that was introduced in the version 5.6.11. This bug will be fixed in the 5.6.13 release:\n<a href=\"https://in.relation.to/2022/11/03/hibernate-orm-5613/\" rel=\"nofollow noreferrer\">https://in.relation.to/2022/11/03/hibernate-orm-5613/</a></p>\n"}],"owner":{"account_id":7513705,"reputation":41,"user_id":5707855,"display_name":"Yury Savchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669116918,"creation_date":1669036759,"question_id":74519580,"body_markdown":"I have the immutable implementation of CompositUserType.\r\n\r\nThe `setPropertyValue` method is overriden:\r\n```\r\n@Override\r\npublic void setPropertyValue(final Object component, final int property, final Object value)\r\n    throws HibernateException {\r\n  throw new HibernateException(&quot;Object is immutable.&quot;);\r\n}\r\n```\r\n\r\nThe `isMutable` methos id overriden as well:\r\n\r\n```\r\n@Override\r\npublic boolean isMutable() {\r\n  return false;\r\n}\r\n```\r\n\r\nBefore the version 5.6.12 of Hibernate everything work ok but after the update it looks like `setPropertyValue` methos is being called even though `isMutable` return false.\r\n\r\nDoes anyone know what was changed and what is the right way to use CompositeUserType with immutable classes in the updated versions?\r\n\r\nI tried to have a look at the change log but didn&#39;t find any reasonable explanation.","title":"Hibernate 5.6.12 calls setProprtyValue method for immutable CompositeUserType","body":"<p>I have the immutable implementation of CompositUserType.</p>\n<p>The <code>setPropertyValue</code> method is overriden:</p>\n<pre><code>@Override\npublic void setPropertyValue(final Object component, final int property, final Object value)\n    throws HibernateException {\n  throw new HibernateException(&quot;Object is immutable.&quot;);\n}\n</code></pre>\n<p>The <code>isMutable</code> methos id overriden as well:</p>\n<pre><code>@Override\npublic boolean isMutable() {\n  return false;\n}\n</code></pre>\n<p>Before the version 5.6.12 of Hibernate everything work ok but after the update it looks like <code>setPropertyValue</code> methos is being called even though <code>isMutable</code> return false.</p>\n<p>Does anyone know what was changed and what is the right way to use CompositeUserType with immutable classes in the updated versions?</p>\n<p>I tried to have a look at the change log but didn't find any reasonable explanation.</p>\n"},{"tags":["java","android","arrays","kotlin"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":2,"creation_date":1669112138,"post_id":74530814,"comment_id":131564285,"body_markdown":"post code examples of what you attempted, it&#39;s a pretty straight forward operation, 1. find all duplicate category id objects and put them in a separate list, 2. extract all the addons from list created in step 1 into a new list, 3. remove the duplicates from the original list, 4. insert a new object for that category id with the list of addons from step 2","body":"post code examples of what you attempted, it&#39;s a pretty straight forward operation, 1. find all duplicate category id objects and put them in a separate list, 2. extract all the addons from list created in step 1 into a new list, 3. remove the duplicates from the original list, 4. insert a new object for that category id with the list of addons from step 2"}],"answers":[{"comments":[{"owner":{"account_id":21413989,"reputation":23,"user_id":15773565,"display_name":"tahreem"},"score":0,"creation_date":1669116622,"post_id":74531284,"comment_id":131565911,"body_markdown":"MRF i want to merge the addons of items with same CategoryID. So in the above example, there should be only one object having a list of three addons. Hope this answers what I want to achieve. I will edit the question for clarification.","body":"MRF i want to merge the addons of items with same CategoryID. So in the above example, there should be only one object having a list of three addons. Hope this answers what I want to achieve. I will edit the question for clarification."}],"tags":[],"owner":{"account_id":26579939,"reputation":106,"user_id":20204744,"display_name":"MRF"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669113684,"creation_date":1669113684,"answer_id":74531284,"question_id":74530814,"body_markdown":"&gt; create one list of &quot;Addons&quot;\r\n\r\nYou already have that, your array is already a list of &quot;Addon&quot; entities.\r\n\r\nMerging all the Addon object having the same categoryId will result in having one single Addon (hence you will lose all data on the individual addon - addonId, addonIdentifier etc - but one).\r\n\r\nIf you want to treat your category as a different object you should define a  new &quot;category&quot; entity (with categoryId, categoryIdentifier etc). Then you can add new Addons having the categoryId field corresponding to the category it belongs to. \r\nHope this answer your question.","title":"Merge objects in an array based on key values","body":"<blockquote>\n<p>create one list of &quot;Addons&quot;</p>\n</blockquote>\n<p>You already have that, your array is already a list of &quot;Addon&quot; entities.</p>\n<p>Merging all the Addon object having the same categoryId will result in having one single Addon (hence you will lose all data on the individual addon - addonId, addonIdentifier etc - but one).</p>\n<p>If you want to treat your category as a different object you should define a  new &quot;category&quot; entity (with categoryId, categoryIdentifier etc). Then you can add new Addons having the categoryId field corresponding to the category it belongs to.\nHope this answer your question.</p>\n"},{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669116211,"creation_date":1669116211,"answer_id":74531855,"question_id":74530814,"body_markdown":"(Like Igor said, you should really post more code since it will make it easier for someone to respond to your question.  In this case to show you how it could work I had to recreate all your model classes.. so next time)\r\n\r\nYou also don&#39;t say what is your preferred way to parse JSON, there are several options in Kotlin, I have chosen Jackson for this illustration\r\n\r\n```\r\nimport com.fasterxml.jackson.core.type.TypeReference\r\nimport com.fasterxml.jackson.databind.json.JsonMapper\r\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\r\nimport java.math.BigDecimal\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    val mapper = JsonMapper.builder()\r\n        .addModule(KotlinModule(strictNullChecks = true))\r\n        .build()\r\n    val categories: List&lt;Category&gt; = mapper.readValue(\r\n        data,\r\n        object : TypeReference&lt;List&lt;Category&gt;&gt;() {}\r\n    )\r\n    println(categories)\r\n    val combinedCategories = categories\r\n        .groupingBy { it.categoryId }\r\n        .aggregate { key, accumulator: Category?, element: Category, first -&gt;\r\n            if(accumulator==null) {\r\n                element\r\n            }\r\n            else {\r\n                element.copy(\r\n                    addons = accumulator.addons.plus(element.addons)\r\n                )\r\n            }\r\n        }\r\n        .values.toList()\r\n    combinedCategories.forEach { category -&gt; println(category) }\r\n}\r\n\r\ndata class Category(\r\n    val addons: List&lt;AddOn&gt;,\r\n    val categoryId: String,\r\n    val categoryIdentifier: String,\r\n)\r\n\r\ndata class AddOn(\r\n    val addonId: String,\r\n    val addonIdentifier: String,\r\n    val addonQuantity: Int,\r\n    val subTotal: BigDecimal,\r\n    val addonType: String,\r\n)\r\n\r\nval data = &quot;&quot;&quot;\r\n    [\r\n      {\r\n        &quot;addons&quot;: [\r\n          {\r\n            &quot;addonId&quot;: &quot;Addon_5035fac357f446fb8b4fcff45d2e36e5&quot;,\r\n            &quot;addonIdentifier&quot;: &quot;Gherkin&quot;,\r\n            &quot;addonQuantity&quot;: 1,\r\n            &quot;subTotal&quot;: 0.99,\r\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n          }\r\n        ],\r\n        &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\r\n        &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\r\n      },\r\n      {\r\n        &quot;addons&quot;: [\r\n          {\r\n            &quot;addonId&quot;: &quot;Addon_700a1458fae54ba9b3e148da709eea4a&quot;,\r\n            &quot;addonIdentifier&quot;: &quot;Hash Brown&quot;,\r\n            &quot;addonQuantity&quot;: 1,\r\n            &quot;subTotal&quot;: 0.99,\r\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n          }\r\n        ],\r\n        &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\r\n        &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\r\n      },\r\n      {\r\n        &quot;addons&quot;: [\r\n          {\r\n            &quot;addonId&quot;: &quot;Addon_f4408295adb14723aa22a3a7e645a7a7&quot;,\r\n            &quot;addonIdentifier&quot;: &quot;Cheese&quot;,\r\n            &quot;addonQuantity&quot;: 1,\r\n            &quot;subTotal&quot;: 0.99,\r\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n          }\r\n        ],\r\n        &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\r\n        &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\r\n      },\r\n      {\r\n        &quot;addons&quot;: [\r\n          {\r\n            &quot;addonId&quot;: &quot;Addon_2222222&quot;,\r\n            &quot;addonIdentifier&quot;: &quot;Nuts&quot;,\r\n            &quot;addonQuantity&quot;: 10,\r\n            &quot;subTotal&quot;: 9.99,\r\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n          }\r\n        ],\r\n        &quot;categoryId&quot;: &quot;Addon_Cate_222222&quot;,\r\n        &quot;categoryIdentifier&quot;: &quot;Extra 2&quot;\r\n      }\r\n    ]\r\n&quot;&quot;&quot;.trimIndent()\r\n```\r\n\r\nSo the interesting bit is the `groupingBy` and `aggregate` methods.  The aggregate functions takes the element (the `Category`) and an accumulator which is another `Category` what it mutated to merge the `addons`.\r\n\r\nOutput is\r\n```\r\n[Category(addons=[AddOn(addonId=Addon_5035fac357f446fb8b4fcff45d2e36e5, addonIdentifier=Gherkin, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1), Category(addons=[AddOn(addonId=Addon_700a1458fae54ba9b3e148da709eea4a, addonIdentifier=Hash Brown, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1), Category(addons=[AddOn(addonId=Addon_f4408295adb14723aa22a3a7e645a7a7, addonIdentifier=Cheese, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1), Category(addons=[AddOn(addonId=Addon_2222222, addonIdentifier=Nuts, addonQuantity=10, subTotal=9.99, addonType=EXTRAS)], categoryId=Addon_Cate_222222, categoryIdentifier=Extra 2)]\r\nCategory(addons=[AddOn(addonId=Addon_5035fac357f446fb8b4fcff45d2e36e5, addonIdentifier=Gherkin, addonQuantity=1, subTotal=0.99, addonType=EXTRAS), AddOn(addonId=Addon_700a1458fae54ba9b3e148da709eea4a, addonIdentifier=Hash Brown, addonQuantity=1, subTotal=0.99, addonType=EXTRAS), AddOn(addonId=Addon_f4408295adb14723aa22a3a7e645a7a7, addonIdentifier=Cheese, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1)\r\nCategory(addons=[AddOn(addonId=Addon_2222222, addonIdentifier=Nuts, addonQuantity=10, subTotal=9.99, addonType=EXTRAS)], categoryId=Addon_Cate_222222, categoryIdentifier=Extra 2)\r\n```","title":"Merge objects in an array based on key values","body":"<p>(Like Igor said, you should really post more code since it will make it easier for someone to respond to your question.  In this case to show you how it could work I had to recreate all your model classes.. so next time)</p>\n<p>You also don't say what is your preferred way to parse JSON, there are several options in Kotlin, I have chosen Jackson for this illustration</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference\nimport com.fasterxml.jackson.databind.json.JsonMapper\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\nimport java.math.BigDecimal\n\nfun main(args: Array&lt;String&gt;) {\n    val mapper = JsonMapper.builder()\n        .addModule(KotlinModule(strictNullChecks = true))\n        .build()\n    val categories: List&lt;Category&gt; = mapper.readValue(\n        data,\n        object : TypeReference&lt;List&lt;Category&gt;&gt;() {}\n    )\n    println(categories)\n    val combinedCategories = categories\n        .groupingBy { it.categoryId }\n        .aggregate { key, accumulator: Category?, element: Category, first -&gt;\n            if(accumulator==null) {\n                element\n            }\n            else {\n                element.copy(\n                    addons = accumulator.addons.plus(element.addons)\n                )\n            }\n        }\n        .values.toList()\n    combinedCategories.forEach { category -&gt; println(category) }\n}\n\ndata class Category(\n    val addons: List&lt;AddOn&gt;,\n    val categoryId: String,\n    val categoryIdentifier: String,\n)\n\ndata class AddOn(\n    val addonId: String,\n    val addonIdentifier: String,\n    val addonQuantity: Int,\n    val subTotal: BigDecimal,\n    val addonType: String,\n)\n\nval data = &quot;&quot;&quot;\n    [\n      {\n        &quot;addons&quot;: [\n          {\n            &quot;addonId&quot;: &quot;Addon_5035fac357f446fb8b4fcff45d2e36e5&quot;,\n            &quot;addonIdentifier&quot;: &quot;Gherkin&quot;,\n            &quot;addonQuantity&quot;: 1,\n            &quot;subTotal&quot;: 0.99,\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\n          }\n        ],\n        &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\n        &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\n      },\n      {\n        &quot;addons&quot;: [\n          {\n            &quot;addonId&quot;: &quot;Addon_700a1458fae54ba9b3e148da709eea4a&quot;,\n            &quot;addonIdentifier&quot;: &quot;Hash Brown&quot;,\n            &quot;addonQuantity&quot;: 1,\n            &quot;subTotal&quot;: 0.99,\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\n          }\n        ],\n        &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\n        &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\n      },\n      {\n        &quot;addons&quot;: [\n          {\n            &quot;addonId&quot;: &quot;Addon_f4408295adb14723aa22a3a7e645a7a7&quot;,\n            &quot;addonIdentifier&quot;: &quot;Cheese&quot;,\n            &quot;addonQuantity&quot;: 1,\n            &quot;subTotal&quot;: 0.99,\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\n          }\n        ],\n        &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\n        &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\n      },\n      {\n        &quot;addons&quot;: [\n          {\n            &quot;addonId&quot;: &quot;Addon_2222222&quot;,\n            &quot;addonIdentifier&quot;: &quot;Nuts&quot;,\n            &quot;addonQuantity&quot;: 10,\n            &quot;subTotal&quot;: 9.99,\n            &quot;addonType&quot;: &quot;EXTRAS&quot;\n          }\n        ],\n        &quot;categoryId&quot;: &quot;Addon_Cate_222222&quot;,\n        &quot;categoryIdentifier&quot;: &quot;Extra 2&quot;\n      }\n    ]\n&quot;&quot;&quot;.trimIndent()\n</code></pre>\n<p>So the interesting bit is the <code>groupingBy</code> and <code>aggregate</code> methods.  The aggregate functions takes the element (the <code>Category</code>) and an accumulator which is another <code>Category</code> what it mutated to merge the <code>addons</code>.</p>\n<p>Output is</p>\n<pre><code>[Category(addons=[AddOn(addonId=Addon_5035fac357f446fb8b4fcff45d2e36e5, addonIdentifier=Gherkin, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1), Category(addons=[AddOn(addonId=Addon_700a1458fae54ba9b3e148da709eea4a, addonIdentifier=Hash Brown, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1), Category(addons=[AddOn(addonId=Addon_f4408295adb14723aa22a3a7e645a7a7, addonIdentifier=Cheese, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1), Category(addons=[AddOn(addonId=Addon_2222222, addonIdentifier=Nuts, addonQuantity=10, subTotal=9.99, addonType=EXTRAS)], categoryId=Addon_Cate_222222, categoryIdentifier=Extra 2)]\nCategory(addons=[AddOn(addonId=Addon_5035fac357f446fb8b4fcff45d2e36e5, addonIdentifier=Gherkin, addonQuantity=1, subTotal=0.99, addonType=EXTRAS), AddOn(addonId=Addon_700a1458fae54ba9b3e148da709eea4a, addonIdentifier=Hash Brown, addonQuantity=1, subTotal=0.99, addonType=EXTRAS), AddOn(addonId=Addon_f4408295adb14723aa22a3a7e645a7a7, addonIdentifier=Cheese, addonQuantity=1, subTotal=0.99, addonType=EXTRAS)], categoryId=Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303, categoryIdentifier=Extra 1)\nCategory(addons=[AddOn(addonId=Addon_2222222, addonIdentifier=Nuts, addonQuantity=10, subTotal=9.99, addonType=EXTRAS)], categoryId=Addon_Cate_222222, categoryIdentifier=Extra 2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669116345,"creation_date":1669116345,"answer_id":74531882,"question_id":74530814,"body_markdown":"If you have your data in, say, data classes that look like this:\r\n\r\n````\r\ndata class Item(\r\n    val addons: List&lt;Addon&gt;,\r\n    val categoryId: String,\r\n    val categoryIdentifier: String\r\n)\r\n````\r\n\r\nthen there&#39;s lots of ways you can group them. The tricky part is that you have a list of addons for each item, and you really want them to be separate. Here&#39;s a few ways you could do it:\r\n\r\n````\r\n// group as Id -&gt; List&lt;List&lt;Addon&gt;&gt;, then flatten those lists into a single List&lt;Addon&gt;\r\nitems.groupBy({it.categoryId}, {it.addons})\r\n    .mapValues { (_, addonLists) -&gt; addonLists.flatten() }\r\n````\r\n\r\n(I&#39;m using the `groupBy(keySelector, valueSelector)` function where you decide what gets stored, and what it&#39;s grouped by)\r\n\r\n````\r\n// turn each Item into a list of (Id, Addon) pairs then group those\r\nitems.flatMap { item -&gt;\r\n    item.addons.map { addon -&gt; item.categoryId to addon }\r\n}.groupBy({it.first}, {it.second})\r\n````\r\n\r\nThe above things give you immutable collections - you can do this for the below too, but just to keep it simple as an example\r\n\r\n````\r\n// just make your own map - you could just use a for loop and add to a map too\r\nitems.fold(mutableMapOf&lt;String, MutableList&lt;Addon&gt;&gt;()) { groups, item -&gt;\r\n    groups.apply {\r\n        getOrPut(item.categoryId) { mutableListOf() }\r\n        .addAll(item.addons)\r\n    }\r\n}\r\n````","title":"Merge objects in an array based on key values","body":"<p>If you have your data in, say, data classes that look like this:</p>\n<pre><code>data class Item(\n    val addons: List&lt;Addon&gt;,\n    val categoryId: String,\n    val categoryIdentifier: String\n)\n</code></pre>\n<p>then there's lots of ways you can group them. The tricky part is that you have a list of addons for each item, and you really want them to be separate. Here's a few ways you could do it:</p>\n<pre><code>// group as Id -&gt; List&lt;List&lt;Addon&gt;&gt;, then flatten those lists into a single List&lt;Addon&gt;\nitems.groupBy({it.categoryId}, {it.addons})\n    .mapValues { (_, addonLists) -&gt; addonLists.flatten() }\n</code></pre>\n<p>(I'm using the <code>groupBy(keySelector, valueSelector)</code> function where you decide what gets stored, and what it's grouped by)</p>\n<pre><code>// turn each Item into a list of (Id, Addon) pairs then group those\nitems.flatMap { item -&gt;\n    item.addons.map { addon -&gt; item.categoryId to addon }\n}.groupBy({it.first}, {it.second})\n</code></pre>\n<p>The above things give you immutable collections - you can do this for the below too, but just to keep it simple as an example</p>\n<pre><code>// just make your own map - you could just use a for loop and add to a map too\nitems.fold(mutableMapOf&lt;String, MutableList&lt;Addon&gt;&gt;()) { groups, item -&gt;\n    groups.apply {\n        getOrPut(item.categoryId) { mutableListOf() }\n        .addAll(item.addons)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21413989,"reputation":23,"user_id":15773565,"display_name":"tahreem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74531882,"answer_count":3,"score":0,"last_activity_date":1669116735,"creation_date":1669111561,"question_id":74530814,"body_markdown":"I have an array of objects whose ID is same but it contains the list of items which I want to merge in the same item. Below is the object I want the items of which to be merged on the basis of &quot;categoryID&quot;\r\n\r\n`\r\n```\r\n[\r\n  {\r\n    &quot;addons&quot;: [\r\n      {\r\n        &quot;addonId&quot;: &quot;Addon_5035fac357f446fb8b4fcff45d2e36e5&quot;,\r\n        &quot;addonIdentifier&quot;: &quot;Gherkin&quot;,\r\n        &quot;addonQuantity&quot;: 1,\r\n        &quot;subTotal&quot;: 0.99,\r\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n      }\r\n    ],\r\n    &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\r\n    &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\r\n  },\r\n  {\r\n    &quot;addons&quot;: [\r\n      {\r\n        &quot;addonId&quot;: &quot;Addon_700a1458fae54ba9b3e148da709eea4a&quot;,\r\n        &quot;addonIdentifier&quot;: &quot;Hash Brown&quot;,\r\n        &quot;addonQuantity&quot;: 1,\r\n        &quot;subTotal&quot;: 0.99,\r\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n      }\r\n    ],\r\n    &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\r\n    &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\r\n  },\r\n  {\r\n    &quot;addons&quot;: [\r\n      {\r\n        &quot;addonId&quot;: &quot;Addon_f4408295adb14723aa22a3a7e645a7a7&quot;,\r\n        &quot;addonIdentifier&quot;: &quot;Cheese&quot;,\r\n        &quot;addonQuantity&quot;: 1,\r\n        &quot;subTotal&quot;: 0.99,\r\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n      }\r\n    ],\r\n    &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\r\n    &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\r\n  }\r\n]\r\n```\r\nIn the Above example, as you can see that the categoryId of all the items is same, thus I want to merge all the items in one and create one list of &quot;Addons&quot;\r\n\r\nI have tried maps and group by but nothing has worked. Let me know if anything else is needed.\r\n\r\n\r\n\r\nWant to merge the list so that items with similar &quot;CategoryID&quot; be merged in single item while adding the list of &quot;Addons&quot; in that item.\r\n\r\nThe resulting JSON should look like\r\n\r\n    [{\r\n    &quot;addons&quot;: [\r\n      {\r\n        &quot;addonId&quot;: &quot;Addon_5035fac357f446fb8b4fcff45d2e36e5&quot;,\r\n        &quot;addonIdentifier&quot;: &quot;Gherkin&quot;,\r\n        &quot;addonQuantity&quot;: 1,\r\n        &quot;subTotal&quot;: 0.99,\r\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n      },\r\n      {\r\n        &quot;addonId&quot;: &quot;Addon_700a1458fae54ba9b3e148da709eea4a&quot;,\r\n        &quot;addonIdentifier&quot;: &quot;Hash Brown&quot;,\r\n        &quot;addonQuantity&quot;: 1,\r\n        &quot;subTotal&quot;: 0.99,\r\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n      },\r\n      {\r\n        &quot;addonId&quot;: &quot;Addon_f4408295adb14723aa22a3a7e645a7a7&quot;,\r\n        &quot;addonIdentifier&quot;: &quot;Cheese&quot;,\r\n        &quot;addonQuantity&quot;: 1,\r\n        &quot;subTotal&quot;: 0.99,\r\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\r\n      }\r\n    ],\r\n    &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\r\n    &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;}]","title":"Merge objects in an array based on key values","body":"<p>I have an array of objects whose ID is same but it contains the list of items which I want to merge in the same item. Below is the object I want the items of which to be merged on the basis of &quot;categoryID&quot;</p>\n<p>`</p>\n<pre><code>[\n  {\n    &quot;addons&quot;: [\n      {\n        &quot;addonId&quot;: &quot;Addon_5035fac357f446fb8b4fcff45d2e36e5&quot;,\n        &quot;addonIdentifier&quot;: &quot;Gherkin&quot;,\n        &quot;addonQuantity&quot;: 1,\n        &quot;subTotal&quot;: 0.99,\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\n      }\n    ],\n    &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\n    &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\n  },\n  {\n    &quot;addons&quot;: [\n      {\n        &quot;addonId&quot;: &quot;Addon_700a1458fae54ba9b3e148da709eea4a&quot;,\n        &quot;addonIdentifier&quot;: &quot;Hash Brown&quot;,\n        &quot;addonQuantity&quot;: 1,\n        &quot;subTotal&quot;: 0.99,\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\n      }\n    ],\n    &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\n    &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\n  },\n  {\n    &quot;addons&quot;: [\n      {\n        &quot;addonId&quot;: &quot;Addon_f4408295adb14723aa22a3a7e645a7a7&quot;,\n        &quot;addonIdentifier&quot;: &quot;Cheese&quot;,\n        &quot;addonQuantity&quot;: 1,\n        &quot;subTotal&quot;: 0.99,\n        &quot;addonType&quot;: &quot;EXTRAS&quot;\n      }\n    ],\n    &quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\n    &quot;categoryIdentifier&quot;: &quot;Extra 1&quot;\n  }\n]\n</code></pre>\n<p>In the Above example, as you can see that the categoryId of all the items is same, thus I want to merge all the items in one and create one list of &quot;Addons&quot;</p>\n<p>I have tried maps and group by but nothing has worked. Let me know if anything else is needed.</p>\n<p>Want to merge the list so that items with similar &quot;CategoryID&quot; be merged in single item while adding the list of &quot;Addons&quot; in that item.</p>\n<p>The resulting JSON should look like</p>\n<pre><code>[{\n&quot;addons&quot;: [\n  {\n    &quot;addonId&quot;: &quot;Addon_5035fac357f446fb8b4fcff45d2e36e5&quot;,\n    &quot;addonIdentifier&quot;: &quot;Gherkin&quot;,\n    &quot;addonQuantity&quot;: 1,\n    &quot;subTotal&quot;: 0.99,\n    &quot;addonType&quot;: &quot;EXTRAS&quot;\n  },\n  {\n    &quot;addonId&quot;: &quot;Addon_700a1458fae54ba9b3e148da709eea4a&quot;,\n    &quot;addonIdentifier&quot;: &quot;Hash Brown&quot;,\n    &quot;addonQuantity&quot;: 1,\n    &quot;subTotal&quot;: 0.99,\n    &quot;addonType&quot;: &quot;EXTRAS&quot;\n  },\n  {\n    &quot;addonId&quot;: &quot;Addon_f4408295adb14723aa22a3a7e645a7a7&quot;,\n    &quot;addonIdentifier&quot;: &quot;Cheese&quot;,\n    &quot;addonQuantity&quot;: 1,\n    &quot;subTotal&quot;: 0.99,\n    &quot;addonType&quot;: &quot;EXTRAS&quot;\n  }\n],\n&quot;categoryId&quot;: &quot;Addon_Cate_1a7bacd1a07b40ceb7d5d3a2229fb303&quot;,\n&quot;categoryIdentifier&quot;: &quot;Extra 1&quot;}]\n</code></pre>\n"},{"tags":["java","android","database","location","background-task"],"answers":[{"comments":[{"owner":{"account_id":17622301,"reputation":11,"user_id":12787982,"display_name":"Nicholas Girard"},"score":0,"creation_date":1668791368,"post_id":74492924,"comment_id":131499930,"body_markdown":"Looks good ill try this afternoon! thank you.","body":"Looks good ill try this afternoon! thank you."},{"owner":{"account_id":17622301,"reputation":11,"user_id":12787982,"display_name":"Nicholas Girard"},"score":0,"creation_date":1669036748,"post_id":74492924,"comment_id":131544665,"body_markdown":"Hello where does the NewGPSCoordinates go?","body":"Hello where does the NewGPSCoordinates go?"}],"tags":[],"owner":{"account_id":20917718,"reputation":56,"user_id":15367035,"display_name":"Boyan Iliev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668790379,"creation_date":1668790191,"answer_id":74492924,"question_id":74492631,"body_markdown":"you can use &quot;org.greenrobot:eventbus&quot; to send the current GPS position from foreground service to main activity.\r\n\r\nCustom event declaration in eventbus:\r\n\r\n    public static  class NewGPSCoordinates\r\n    {\r\n        public final Location mlocation;\r\n           \r\n        public NewGPSCoordinates(Location location)\r\n        {\r\n           this.mlocation = location;\r\n        }\r\n    }\r\n\r\nSending the GPS data from the foreground service:\r\n\r\n    EventBus.getDefault().post(new MessageEvents.NewGPSCoordinates(mLocation));\r\n\r\n\r\nReceiving the gps data in the main activity:\r\n\r\n    @Subscribe(threadMode = ThreadMode.MAIN)\r\n    public void onMessageEvent(MessageEvents.NewGPSCoordinates event)\r\n    {\r\n        Log.i(TAG, &quot;NewGPSCoordinates: &quot; + event.mlocation);\r\n    }\r\n\r\n\t\r\nBest regards,&lt;br&gt;\r\nBoyan Iliev\r\n","title":"What is the best way to go about making an Android App to show speed on UI and to save speed in real-time?","body":"<p>you can use &quot;org.greenrobot:eventbus&quot; to send the current GPS position from foreground service to main activity.</p>\n<p>Custom event declaration in eventbus:</p>\n<pre><code>public static  class NewGPSCoordinates\n{\n    public final Location mlocation;\n       \n    public NewGPSCoordinates(Location location)\n    {\n       this.mlocation = location;\n    }\n}\n</code></pre>\n<p>Sending the GPS data from the foreground service:</p>\n<pre><code>EventBus.getDefault().post(new MessageEvents.NewGPSCoordinates(mLocation));\n</code></pre>\n<p>Receiving the gps data in the main activity:</p>\n<pre><code>@Subscribe(threadMode = ThreadMode.MAIN)\npublic void onMessageEvent(MessageEvents.NewGPSCoordinates event)\n{\n    Log.i(TAG, &quot;NewGPSCoordinates: &quot; + event.mlocation);\n}\n</code></pre>\n<p>Best regards,<br>\nBoyan Iliev</p>\n"},{"comments":[{"owner":{"account_id":17622301,"reputation":11,"user_id":12787982,"display_name":"Nicholas Girard"},"score":0,"creation_date":1669988944,"post_id":74531950,"comment_id":131774442,"body_markdown":"Thank you, very interesting! I have solved it using EventBus. I&#39;ll check out the GPS Logger code.","body":"Thank you, very interesting! I have solved it using EventBus. I&#39;ll check out the GPS Logger code."},{"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"score":0,"creation_date":1670101933,"post_id":74531950,"comment_id":131796516,"body_markdown":"EventBus is a very good tool, we used it also into GPS Logger.","body":"EventBus is a very good tool, we used it also into GPS Logger."}],"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669116669,"creation_date":1669116669,"answer_id":74531950,"question_id":74492631,"body_markdown":"You could instantiate and manage all the GPS-related things (LocationManager, listeners, Locations etc.) into the main `Application` Class instead of an `Activity`.&lt;br&gt;&lt;br&gt;\r\nThen you can use the foreground service (that implements a partial `WAKE_LOCK`) only to keep active the app. The service should be bound by the Application class.&lt;br&gt;\r\nHere you can find how to implement a foreground service of this type: https://stackoverflow.com/questions/69346792/how-to-keep-internet-connection-alive-for-a-long-time-on-android/69347190#69347190 &lt;br&gt;&lt;br&gt;\r\nYou can browse a real working example of it (Instantaneous speed visualization and recording included) into the free and opensource GPS Logger: https://github.com/BasicAirData/GPSLogger &lt;br&gt;&lt;br&gt;\r\nThe app saves all data into the main Application class (`GPSApplication.java`), uses a service to keep active the location in foreground (`GPSService.java`), and uses EventBus to trigger the data update.","title":"What is the best way to go about making an Android App to show speed on UI and to save speed in real-time?","body":"<p>You could instantiate and manage all the GPS-related things (LocationManager, listeners, Locations etc.) into the main <code>Application</code> Class instead of an <code>Activity</code>.<br><br>\nThen you can use the foreground service (that implements a partial <code>WAKE_LOCK</code>) only to keep active the app. The service should be bound by the Application class.<br>\nHere you can find how to implement a foreground service of this type: <a href=\"https://stackoverflow.com/questions/69346792/how-to-keep-internet-connection-alive-for-a-long-time-on-android/69347190#69347190\">How to keep internet connection alive for a long time on android?</a> <br><br>\nYou can browse a real working example of it (Instantaneous speed visualization and recording included) into the free and opensource GPS Logger: <a href=\"https://github.com/BasicAirData/GPSLogger\" rel=\"nofollow noreferrer\">https://github.com/BasicAirData/GPSLogger</a> <br><br>\nThe app saves all data into the main Application class (<code>GPSApplication.java</code>), uses a service to keep active the location in foreground (<code>GPSService.java</code>), and uses EventBus to trigger the data update.</p>\n"}],"owner":{"account_id":17622301,"reputation":11,"user_id":12787982,"display_name":"Nicholas Girard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669116669,"creation_date":1668788793,"question_id":74492631,"body_markdown":"I need some guidance on what to use for a simple app that shows and saves speed.\r\n\r\nRight now I have an app with main activity and LocationService. It does the saving well but i can&#39;t find a way to update the UI continuously. I have made other apps with the location code in mainActivity but I want the transmission to continue when screen is closed, So i tried a service but it looks like ill have to implement location provider in mainActivity for the UI?\r\n\r\nIs there a functionality im missing?\r\n\r\nHow do I mkae this app?\r\n\r\nHere is my lattest version i CAN&#39;T send speed back to UI.\r\n\r\n**LocationService** \r\n\r\n    public class LocationService extends Service {\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    DatabaseReference myRef = database.getReference(Build.MANUFACTURER+&quot;   &quot;+Build.DEVICE);\r\n    DatabaseReference myLiveRef = myRef.child(&quot;LiveSpeed&quot;);\r\n    DatabaseReference myPastsRef = myRef.child(&quot;PastSpeeds&quot;);\r\n    FusedLocationProviderClient fusedLocationClient;\r\n    LocationRequest locationRequest;\r\n    LocationCallback locationCallback;\r\n    private float speed;\r\n\r\n    private final IBinder mBinder = new MyBinder();\r\n\r\n\r\n    class MyBinder extends Binder {\r\n        public LocationService getService(){\r\n            return LocationService.this;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onTaskRemoved(Intent rootIntent) {\r\n        super.onTaskRemoved(rootIntent);\r\n        stopSelf();\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        Log.d(&quot;TAGZ&quot;,&quot;onBInd&quot;);\r\n        return mBinder;\r\n    }\r\n\r\n    private void startLocationUpdates() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) createNotificationChanel() ;\r\n        else startForeground(\r\n                1,\r\n                new Notification()\r\n        );\r\n        locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 1000)\r\n                .setWaitForAccurateLocation(false)\r\n                .setMinUpdateIntervalMillis(500)\r\n                .setMaxUpdateDelayMillis(1500)\r\n                .build();\r\n\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                Location location =  locationResult.getLastLocation();\r\n\r\n                speed = location.getSpeed()*3.6f;\r\n\r\n                myLiveRef.setValue(speed);\r\n\r\n                DatabaseReference newPastRef = myPastsRef.push();\r\n                newPastRef.setValue(String.valueOf(Calendar.getInstance().getTime())+&quot; ||||||||  &quot;+ speed +&quot; KM/H&quot;);\r\n            }\r\n        };\r\n        startLocationUpdates();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        super.onStartCommand(intent, flags, startId);\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        fusedLocationClient.removeLocationUpdates(locationCallback);\r\n    }\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    private void createNotificationChanel() {\r\n        String notificationChannelId = &quot;Location channel id&quot;;\r\n        String channelName = &quot;Background Service&quot;;\r\n        NotificationChannel chan = new NotificationChannel(\r\n                notificationChannelId,\r\n                channelName,\r\n                NotificationManager.IMPORTANCE_NONE\r\n        );\r\n        chan.setLightColor(Color.BLUE);\r\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n        NotificationManager manager = getSystemService(NotificationManager.class);\r\n        manager.createNotificationChannel(chan);\r\n        NotificationCompat.Builder notificationBuilder =\r\n                new NotificationCompat.Builder(this, notificationChannelId);\r\n        Notification notification = notificationBuilder.setOngoing(true)\r\n                .setContentTitle(&quot;Location updates:&quot;)\r\n                .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                .setCategory(Notification.CATEGORY_SERVICE)\r\n                .build();\r\n        startForeground(2, notification);\r\n      }\r\n    }\r\n\r\n**MainActivity** \r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int MY_FINE_LOCATION_REQUEST = 99;\r\n    private static final int MY_BACKGROUND_LOCATION_REQUEST = 100;\r\n\r\n    TextView textView;\r\n    Intent mServiceIntent;\r\n    Button startServiceBtn, stopServiceBtn;\r\n\r\n    private LocationService mLocationService;\r\n\r\n    private boolean mBound;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        startServiceBtn = findViewById(R.id.start_service_btn);\r\n        stopServiceBtn = findViewById(R.id.stop_service_btn);\r\n        textView = findViewById(R.id.textView);\r\n        startServiceBtn.setOnClickListener( new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n\r\n                        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_BACKGROUND_LOCATION)\r\n                                != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                            AlertDialog alertDialog = new AlertDialog.Builder(MainActivity.this).create();\r\n                            alertDialog.setTitle(&quot;Background permission&quot;);\r\n                            alertDialog.setMessage(getString(R.string.background_location_permission_message));\r\n\r\n                            alertDialog.setButton(AlertDialog.BUTTON_POSITIVE, &quot;Start service anyway&quot;,\r\n                                    new DialogInterface.OnClickListener() {\r\n                                        public void onClick(DialogInterface dialog, int which) {\r\n                                            starServiceFunc();\r\n                                            dialog.dismiss();\r\n\r\n                                        }\r\n                                    });\r\n\r\n                            alertDialog.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;Grant background Permission&quot;,\r\n                                    new DialogInterface.OnClickListener() {\r\n                                        public void onClick(DialogInterface dialog, int which) {\r\n                                            requestBackgroundLocationPermission();\r\n                                            dialog.dismiss();\r\n                                        }\r\n                                    });\r\n\r\n                            alertDialog.show();\r\n\r\n                        }else if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_BACKGROUND_LOCATION)\r\n                                == PackageManager.PERMISSION_GRANTED){\r\n                            starServiceFunc();\r\n                        }\r\n                    }\r\n                    else{\r\n                        starServiceFunc();\r\n\r\n                    }\r\n\r\n                }else if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        != PackageManager.PERMISSION_GRANTED){\r\n                    if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n\r\n                        AlertDialog alertDialog = new AlertDialog.Builder(MainActivity.this).create();\r\n                        alertDialog.setTitle(&quot;ACCESS_FINE_LOCATION&quot;);\r\n                        alertDialog.setMessage(&quot;Location permission required&quot;);\r\n\r\n                        alertDialog.setButton(AlertDialog.BUTTON_POSITIVE, &quot;Ok&quot;,\r\n                                new DialogInterface.OnClickListener() {\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        requestFineLocationPermission();\r\n                                        dialog.dismiss();\r\n                                    }\r\n                                });\r\n                        alertDialog.show();\r\n                    } else {\r\n                        requestFineLocationPermission();\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n        stopServiceBtn.setOnClickListener( new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                stopServiceFunc();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n    }\r\n\r\n    private ServiceConnection connection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            LocationService.MyBinder binder = (LocationService.MyBinder) service;\r\n            mLocationService = binder.getService();\r\n            mBound = true;\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            mBound = false;\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        Toast.makeText(this, Integer.toString(requestCode), Toast.LENGTH_LONG).show();\r\n\r\n        if ( requestCode == MY_FINE_LOCATION_REQUEST){\r\n            if (grantResults.length !=0 /*grantResults.isNotEmpty()*/ &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n                    requestBackgroundLocationPermission();\r\n                }\r\n            } else {\r\n                Toast.makeText(this, &quot;ACCESS_FINE_LOCATION permission denied&quot;, Toast.LENGTH_LONG).show();\r\n                if (!ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                    startActivity(new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\r\n                            Uri.parse(&quot;lauchmodesdemo.youtube.codetutor.com.speedtest&quot;)\r\n                    ));\r\n                }\r\n            }\r\n        }else if (requestCode == MY_BACKGROUND_LOCATION_REQUEST){\r\n            if (grantResults.length!=0 /*grantResults.isNotEmpty()*/ &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n                    Toast.makeText(this, &quot;Background location Permission Granted&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            } else {\r\n                Toast.makeText(this, &quot;Background location permission denied&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private void starServiceFunc(){\r\n        mLocationService = new LocationService();\r\n        mServiceIntent = new Intent(this, mLocationService.getClass());\r\n        if (!Util.isMyServiceRunning(mLocationService.getClass(), this)) {\r\n\r\n            startService(mServiceIntent);\r\n            bindService(mServiceIntent,connection, Context.BIND_AUTO_CREATE);\r\n\r\n            Toast.makeText(this, getString(R.string.service_start_successfully), Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, getString(R.string.service_already_running), Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n    }\r\n\r\n    private void stopServiceFunc(){\r\n        if (Util.isMyServiceRunning(mLocationService.getClass(), this)) {\r\n            stopService(mServiceIntent);\r\n\r\n            Toast.makeText(this, &quot;Service stopped!!&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;Service is already stopped!!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    private void requestBackgroundLocationPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.ACCESS_BACKGROUND_LOCATION},\r\n                    MY_BACKGROUND_LOCATION_REQUEST);\r\n        }\r\n    }\r\n\r\n    private void requestFineLocationPermission() {\r\n        ActivityCompat.requestPermissions(this,  new String[]{Manifest.permission.ACCESS_FINE_LOCATION,}, MY_FINE_LOCATION_REQUEST);\r\n    }\r\n\r\n}\r\n```\r\n**Util** \r\n```\r\npublic class Util {\r\n    public static boolean isMyServiceRunning(Class&lt;?&gt; serviceClass, Activity mActivity) {\r\n        ActivityManager manager = (ActivityManager) mActivity.getSystemService(Context.ACTIVITY_SERVICE);\r\n        for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\r\n            if (serviceClass.getName().equals(service.service.getClassName())) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"What is the best way to go about making an Android App to show speed on UI and to save speed in real-time?","body":"<p>I need some guidance on what to use for a simple app that shows and saves speed.</p>\n<p>Right now I have an app with main activity and LocationService. It does the saving well but i can't find a way to update the UI continuously. I have made other apps with the location code in mainActivity but I want the transmission to continue when screen is closed, So i tried a service but it looks like ill have to implement location provider in mainActivity for the UI?</p>\n<p>Is there a functionality im missing?</p>\n<p>How do I mkae this app?</p>\n<p>Here is my lattest version i CAN'T send speed back to UI.</p>\n<p><strong>LocationService</strong></p>\n<pre><code>public class LocationService extends Service {\n\nFirebaseDatabase database = FirebaseDatabase.getInstance();\nDatabaseReference myRef = database.getReference(Build.MANUFACTURER+&quot;   &quot;+Build.DEVICE);\nDatabaseReference myLiveRef = myRef.child(&quot;LiveSpeed&quot;);\nDatabaseReference myPastsRef = myRef.child(&quot;PastSpeeds&quot;);\nFusedLocationProviderClient fusedLocationClient;\nLocationRequest locationRequest;\nLocationCallback locationCallback;\nprivate float speed;\n\nprivate final IBinder mBinder = new MyBinder();\n\n\nclass MyBinder extends Binder {\n    public LocationService getService(){\n        return LocationService.this;\n    }\n}\n\n@Override\npublic void onTaskRemoved(Intent rootIntent) {\n    super.onTaskRemoved(rootIntent);\n    stopSelf();\n}\n\n@Override\npublic IBinder onBind(Intent intent) {\n    Log.d(&quot;TAGZ&quot;,&quot;onBInd&quot;);\n    return mBinder;\n}\n\nprivate void startLocationUpdates() {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n    fusedLocationClient.requestLocationUpdates(locationRequest, locationCallback, Looper.getMainLooper());\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) createNotificationChanel() ;\n    else startForeground(\n            1,\n            new Notification()\n    );\n    locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 1000)\n            .setWaitForAccurateLocation(false)\n            .setMinUpdateIntervalMillis(500)\n            .setMaxUpdateDelayMillis(1500)\n            .build();\n\n    locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(@NonNull LocationResult locationResult) {\n            Location location =  locationResult.getLastLocation();\n\n            speed = location.getSpeed()*3.6f;\n\n            myLiveRef.setValue(speed);\n\n            DatabaseReference newPastRef = myPastsRef.push();\n            newPastRef.setValue(String.valueOf(Calendar.getInstance().getTime())+&quot; ||||||||  &quot;+ speed +&quot; KM/H&quot;);\n        }\n    };\n    startLocationUpdates();\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    super.onStartCommand(intent, flags, startId);\n    return START_STICKY;\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    fusedLocationClient.removeLocationUpdates(locationCallback);\n}\n@RequiresApi(api = Build.VERSION_CODES.O)\nprivate void createNotificationChanel() {\n    String notificationChannelId = &quot;Location channel id&quot;;\n    String channelName = &quot;Background Service&quot;;\n    NotificationChannel chan = new NotificationChannel(\n            notificationChannelId,\n            channelName,\n            NotificationManager.IMPORTANCE_NONE\n    );\n    chan.setLightColor(Color.BLUE);\n    chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n    NotificationManager manager = getSystemService(NotificationManager.class);\n    manager.createNotificationChannel(chan);\n    NotificationCompat.Builder notificationBuilder =\n            new NotificationCompat.Builder(this, notificationChannelId);\n    Notification notification = notificationBuilder.setOngoing(true)\n            .setContentTitle(&quot;Location updates:&quot;)\n            .setPriority(NotificationManager.IMPORTANCE_MIN)\n            .setCategory(Notification.CATEGORY_SERVICE)\n            .build();\n    startForeground(2, notification);\n  }\n}\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final int MY_FINE_LOCATION_REQUEST = 99;\n    private static final int MY_BACKGROUND_LOCATION_REQUEST = 100;\n\n    TextView textView;\n    Intent mServiceIntent;\n    Button startServiceBtn, stopServiceBtn;\n\n    private LocationService mLocationService;\n\n    private boolean mBound;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        startServiceBtn = findViewById(R.id.start_service_btn);\n        stopServiceBtn = findViewById(R.id.stop_service_btn);\n        textView = findViewById(R.id.textView);\n        startServiceBtn.setOnClickListener( new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)\n                        == PackageManager.PERMISSION_GRANTED) {\n\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n\n                        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_BACKGROUND_LOCATION)\n                                != PackageManager.PERMISSION_GRANTED) {\n\n                            AlertDialog alertDialog = new AlertDialog.Builder(MainActivity.this).create();\n                            alertDialog.setTitle(&quot;Background permission&quot;);\n                            alertDialog.setMessage(getString(R.string.background_location_permission_message));\n\n                            alertDialog.setButton(AlertDialog.BUTTON_POSITIVE, &quot;Start service anyway&quot;,\n                                    new DialogInterface.OnClickListener() {\n                                        public void onClick(DialogInterface dialog, int which) {\n                                            starServiceFunc();\n                                            dialog.dismiss();\n\n                                        }\n                                    });\n\n                            alertDialog.setButton(AlertDialog.BUTTON_NEGATIVE, &quot;Grant background Permission&quot;,\n                                    new DialogInterface.OnClickListener() {\n                                        public void onClick(DialogInterface dialog, int which) {\n                                            requestBackgroundLocationPermission();\n                                            dialog.dismiss();\n                                        }\n                                    });\n\n                            alertDialog.show();\n\n                        }else if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_BACKGROUND_LOCATION)\n                                == PackageManager.PERMISSION_GRANTED){\n                            starServiceFunc();\n                        }\n                    }\n                    else{\n                        starServiceFunc();\n\n                    }\n\n                }else if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)\n                        != PackageManager.PERMISSION_GRANTED){\n                    if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n                        AlertDialog alertDialog = new AlertDialog.Builder(MainActivity.this).create();\n                        alertDialog.setTitle(&quot;ACCESS_FINE_LOCATION&quot;);\n                        alertDialog.setMessage(&quot;Location permission required&quot;);\n\n                        alertDialog.setButton(AlertDialog.BUTTON_POSITIVE, &quot;Ok&quot;,\n                                new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog, int which) {\n                                        requestFineLocationPermission();\n                                        dialog.dismiss();\n                                    }\n                                });\n                        alertDialog.show();\n                    } else {\n                        requestFineLocationPermission();\n                    }\n                }\n\n            }\n\n        });\n        stopServiceBtn.setOnClickListener( new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                stopServiceFunc();\n            }\n        });\n    }\n\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n    }\n\n    private ServiceConnection connection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            LocationService.MyBinder binder = (LocationService.MyBinder) service;\n            mLocationService = binder.getService();\n            mBound = true;\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            mBound = false;\n        }\n    };\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        Toast.makeText(this, Integer.toString(requestCode), Toast.LENGTH_LONG).show();\n\n        if ( requestCode == MY_FINE_LOCATION_REQUEST){\n            if (grantResults.length !=0 /*grantResults.isNotEmpty()*/ &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                        == PackageManager.PERMISSION_GRANTED) {\n                    requestBackgroundLocationPermission();\n                }\n            } else {\n                Toast.makeText(this, &quot;ACCESS_FINE_LOCATION permission denied&quot;, Toast.LENGTH_LONG).show();\n                if (!ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                    startActivity(new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS,\n                            Uri.parse(&quot;lauchmodesdemo.youtube.codetutor.com.speedtest&quot;)\n                    ));\n                }\n            }\n        }else if (requestCode == MY_BACKGROUND_LOCATION_REQUEST){\n            if (grantResults.length!=0 /*grantResults.isNotEmpty()*/ &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                        == PackageManager.PERMISSION_GRANTED) {\n                    Toast.makeText(this, &quot;Background location Permission Granted&quot;, Toast.LENGTH_LONG).show();\n                }\n            } else {\n                Toast.makeText(this, &quot;Background location permission denied&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n\n    }\n\n    private void starServiceFunc(){\n        mLocationService = new LocationService();\n        mServiceIntent = new Intent(this, mLocationService.getClass());\n        if (!Util.isMyServiceRunning(mLocationService.getClass(), this)) {\n\n            startService(mServiceIntent);\n            bindService(mServiceIntent,connection, Context.BIND_AUTO_CREATE);\n\n            Toast.makeText(this, getString(R.string.service_start_successfully), Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, getString(R.string.service_already_running), Toast.LENGTH_SHORT).show();\n        }\n\n    }\n\n    private void stopServiceFunc(){\n        if (Util.isMyServiceRunning(mLocationService.getClass(), this)) {\n            stopService(mServiceIntent);\n\n            Toast.makeText(this, &quot;Service stopped!!&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Service is already stopped!!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    private void requestBackgroundLocationPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.ACCESS_BACKGROUND_LOCATION},\n                    MY_BACKGROUND_LOCATION_REQUEST);\n        }\n    }\n\n    private void requestFineLocationPermission() {\n        ActivityCompat.requestPermissions(this,  new String[]{Manifest.permission.ACCESS_FINE_LOCATION,}, MY_FINE_LOCATION_REQUEST);\n    }\n\n}\n</code></pre>\n<p><strong>Util</strong></p>\n<pre><code>public class Util {\n    public static boolean isMyServiceRunning(Class&lt;?&gt; serviceClass, Activity mActivity) {\n        ActivityManager manager = (ActivityManager) mActivity.getSystemService(Context.ACTIVITY_SERVICE);\n        for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\n            if (serviceClass.getName().equals(service.service.getClassName())) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","html","hashmap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669112979,"post_id":74530832,"comment_id":131564629,"body_markdown":"*This is generating normal headers that&#39;s fine,* That&#39;s strange, as your first two `put`s will do nothing as they will be overwritten by the next two","body":"<i>This is generating normal headers that&#39;s fine,</i> That&#39;s strange, as your first two <code>put</code>s will do nothing as they will be overwritten by the next two"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1669113221,"post_id":74530832,"comment_id":131564722,"body_markdown":"Note that a hashmap is a _data structure_ whereas what you want is a table/graphical representation. Those are 2 different things. - Also note that a hashmap is unordered, i.e. when iterating you might get &quot;country&quot;, &quot;tocity&quot;, &quot;city&quot;, &quot;tocountry&quot; or something else - What you &quot;might&quot; want to do is define the UI table in your html as you want and do a _lookup_ in the hashmap for each cell and using the cell&#39;s corresponding key.","body":"Note that a hashmap is a <i>data structure</i> whereas what you want is a table/graphical representation. Those are 2 different things. - Also note that a hashmap is unordered, i.e. when iterating you might get &quot;country&quot;, &quot;tocity&quot;, &quot;city&quot;, &quot;tocountry&quot; or something else - What you &quot;might&quot; want to do is define the UI table in your html as you want and do a <i>lookup</i> in the hashmap for each cell and using the cell&#39;s corresponding key."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669113331,"post_id":74530832,"comment_id":131564758,"body_markdown":"You&#39;re not telling us what this is -  a client-side app, a web app or what?","body":"You&#39;re not telling us what this is -  a client-side app, a web app or what?"},{"owner":{"account_id":27011451,"reputation":1,"user_id":20571032,"display_name":"Arslan Ilyas"},"score":0,"creation_date":1669113532,"post_id":74530832,"comment_id":131564827,"body_markdown":"It is a web-app","body":"It is a web-app"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669116087,"post_id":74530832,"comment_id":131565726,"body_markdown":"Well there could be many ways to put up a table with headers like that","body":"Well there could be many ways to put up a table with headers like that"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669116623,"creation_date":1669116129,"answer_id":74531832,"question_id":74530832,"body_markdown":"# Use the Power of Objects\r\n\r\n`HashMap` is not the proper way of storing the data in this case.\r\n\r\nCollections are containers of independent units of data, when you&#39;re trying to use a Collection in order to combine a set of properties together that&#39;s an indicator that you&#39;re misusing a collection and these correlated properties should constitute an Object.\r\n\r\nCreating custom objects gives several advantages:\r\n\r\n* Object provides a clear and transparant structure to the data;\r\n\r\n* Ability to use proper data types for each property;\r\n\r\n* Ability to introduce a custom behavior;\r\n\r\n* Less error-prone (with map, you can mess around with the keys).\r\n\r\nThat&#39;s how your data can be represented as a `class`:\r\n\r\n    public class Travel {\r\n        private String fromCountry;\r\n        private String fromCity;\r\n        private String toCountry;\r\n        private String toCity;\r\n        \r\n        // constructors, getters\r\n    }\r\n\r\nIf you&#39;re concerned about representing the data as a string formatted in a certain way. Then you easily customize string representation of your objects, as well serialization into formats JSON.","title":"Setting Table with irregular headers in has map in java","body":"<h1>Use the Power of Objects</h1>\n<p><code>HashMap</code> is not the proper way of storing the data in this case.</p>\n<p>Collections are containers of independent units of data, when you're trying to use a Collection in order to combine a set of properties together that's an indicator that you're misusing a collection and these correlated properties should constitute an Object.</p>\n<p>Creating custom objects gives several advantages:</p>\n<ul>\n<li><p>Object provides a clear and transparant structure to the data;</p>\n</li>\n<li><p>Ability to use proper data types for each property;</p>\n</li>\n<li><p>Ability to introduce a custom behavior;</p>\n</li>\n<li><p>Less error-prone (with map, you can mess around with the keys).</p>\n</li>\n</ul>\n<p>That's how your data can be represented as a <code>class</code>:</p>\n<pre><code>public class Travel {\n    private String fromCountry;\n    private String fromCity;\n    private String toCountry;\n    private String toCity;\n    \n    // constructors, getters\n}\n</code></pre>\n<p>If you're concerned about representing the data as a string formatted in a certain way. Then you easily customize string representation of your objects, as well serialization into formats JSON.</p>\n"}],"owner":{"account_id":27011451,"reputation":1,"user_id":20571032,"display_name":"Arslan Ilyas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669116623,"creation_date":1669111630,"question_id":74530832,"body_markdown":"I am new in java, i want to set table irregular headers in the hashmap. Till now, i can set normal headers and content of the table using hash map\r\n\r\n\r\n```\r\n//~~ Definig headers variable\r\nMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n\r\n//~~ Setting headers data\r\nheaders.put(&quot;country&quot;, &quot;From Country&quot;);\r\nheaders.put(&quot;city&quot;, &quot;From City&quot;);\r\n\r\nheaders.put(&quot;tocountry&quot;, &quot;To Country&quot;);\r\nheaders.put(&quot;tocity&quot;, &quot;To City&quot;);\r\n```\r\n\r\nThis is generating normal headers that&#39;s fine, but i want to add col-span = 2 i.e two headings should come under one main heading such as country and city heading should come From Place heading.\r\n\r\n\r\n\r\nthanks\r\n\r\n\r\n\r\n\r\nI am attaching the screenshot what i want.\r\n\r\n![desired table format](https://i.stack.imgur.com/0RybP.png)","title":"Setting Table with irregular headers in has map in java","body":"<p>I am new in java, i want to set table irregular headers in the hashmap. Till now, i can set normal headers and content of the table using hash map</p>\n<pre><code>//~~ Definig headers variable\nMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n\n//~~ Setting headers data\nheaders.put(&quot;country&quot;, &quot;From Country&quot;);\nheaders.put(&quot;city&quot;, &quot;From City&quot;);\n\nheaders.put(&quot;tocountry&quot;, &quot;To Country&quot;);\nheaders.put(&quot;tocity&quot;, &quot;To City&quot;);\n</code></pre>\n<p>This is generating normal headers that's fine, but i want to add col-span = 2 i.e two headings should come under one main heading such as country and city heading should come From Place heading.</p>\n<p>thanks</p>\n<p>I am attaching the screenshot what i want.</p>\n<p><img src=\"https://i.stack.imgur.com/0RybP.png\" alt=\"desired table format\" /></p>\n"},{"tags":["java","multithreading","serversocket","java-threads","java-server"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669027771,"post_id":74405956,"comment_id":131541524,"body_markdown":"This works fine for me. Why do you say it fails?","body":"This works fine for me. Why do you say it fails?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669028953,"post_id":74405956,"comment_id":131541890,"body_markdown":"Something you can do to make this better is to include a JMeter test plan. Eg. A `jmeter  xyz localhost:8080` that demostrates how the request fails. I wouldn&#39;t be surprised if JMeter will tell you when/why the request fails. Also, is it possible this is an OS issue? Maybe include the OS and JDK you&#39;re using. It works fine for me using Linux + JDK17. I used `wget` and made about 20 requests. They all returned with the text sample","body":"Something you can do to make this better is to include a JMeter test plan. Eg. A <code>jmeter  xyz localhost:8080</code> that demostrates how the request fails. I wouldn&#39;t be surprised if JMeter will tell you when/why the request fails. Also, is it possible this is an OS issue? Maybe include the OS and JDK you&#39;re using. It works fine for me using Linux + JDK17. I used <code>wget</code> and made about 20 requests. They all returned with the text sample"}],"answers":[{"comments":[{"owner":{"account_id":260782,"reputation":175,"user_id":544561,"accept_rate":29,"display_name":"Sabyrzhan"},"score":0,"creation_date":1669190962,"post_id":74517950,"comment_id":131585735,"body_markdown":"Thanks for you answer. Could you elaborate what is `cr_count` and why are you stopping reading at 2?","body":"Thanks for you answer. Could you elaborate what is <code>cr_count</code> and why are you stopping reading at 2?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1669191622,"post_id":74517950,"comment_id":131585920,"body_markdown":"@Sabyrzhan carriage return count, after 2 consecutive \\r\\n the request is complete. I couldnt find a spec for that though.","body":"@Sabyrzhan carriage return count, after 2 consecutive \\r\\n the request is complete. I couldnt find a spec for that though."},{"owner":{"account_id":260782,"reputation":175,"user_id":544561,"accept_rate":29,"display_name":"Sabyrzhan"},"score":0,"creation_date":1669192696,"post_id":74517950,"comment_id":131586200,"body_markdown":"Got it. But i am curious: is it a requirement that we have to read headers? Is it required to comply to keep-alive?","body":"Got it. But i am curious: is it a requirement that we have to read headers? Is it required to comply to keep-alive?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1669195255,"post_id":74517950,"comment_id":131587070,"body_markdown":"If you support http 1.1, yes. That is why changing to 1.0 also works. You have to at least read the request to know the response.","body":"If you support http 1.1, yes. That is why changing to 1.0 also works. You have to at least read the request to know the response."},{"owner":{"account_id":260782,"reputation":175,"user_id":544561,"accept_rate":29,"display_name":"Sabyrzhan"},"score":1,"creation_date":1669201483,"post_id":74517950,"comment_id":131589322,"body_markdown":"FYI I also found this link https://stackoverflow.com/a/21635476/544561 which also has more details explanations and more clear code. Anyway i am upvoting your answer since it solved my issue. Thank you.","body":"FYI I also found this link <a href=\"https://stackoverflow.com/a/21635476/544561\">stackoverflow.com/a/21635476/544561</a> which also has more details explanations and more clear code. Anyway i am upvoting your answer since it solved my issue. Thank you."}],"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669116460,"creation_date":1669028779,"answer_id":74517950,"question_id":74405956,"body_markdown":"Your first problem lies in your response.\r\n\r\n    &quot;HTTP/1.1 200 OK\\r\\n&quot;\r\n\r\nThat allows for keep-alive, which you&#39;re not handling. A basic JMeter sampler tries to use keep alive, that is why you always fail on the second attempt. \r\n\r\nYou can change it to\r\n\r\n    &quot;HTTP/1.0 200 OK\\r\\n&quot;\r\n\r\nThat does not support keep alive, so you&#39;ll get a lot more successes with your current code. For me I only get a couple 1000 responses before JMeter has another error, but I don&#39;t know what the error is.\r\n\r\nTo support keep alive, **I** need to parse the request. Here is an example. \r\n\r\n\r\n        int clients = 0;\r\n        while(true) {\r\n            try {\r\n                System.out.println(&quot;Waiting for client on port &quot; +\r\n                                serverSocket.getLocalPort() + &quot;...&quot;);\r\n                var server = serverSocket.accept();\r\n                final int client_no = clients++;\r\n                System.out.println(&quot;handling: &quot; + client_no);\r\n                executors.submit(() -&gt; {\r\n                    int sent = 0;\r\n                    try {\r\n                        var is = server.getInputStream();\r\n                        var os = server.getOutputStream();\r\n                        \r\n                        var text = &quot;sample&quot;;\r\n                        byte[] tb = text.getBytes(StandardCharsets.UTF_8);\r\n\r\n                        char[] buffer = new char[256];\r\n                        int cr_count = 0;\r\n                        while( true ){\r\n                            \r\n                            int i=0;\r\n                            int r = is.read();\r\n                            if(r == -1) break;\r\n                            \r\n                            while( r != -1 ){\r\n                                char c = (char)r;\r\n                                if( c == &#39;\\n&#39; ){\r\n                                    cr_count++;\r\n                                } else if( c != &#39;\\r&#39; ){\r\n                                    cr_count = 0;\r\n                                }\r\n                                buffer[i++] = c;\r\n                                if(cr_count == 2) break;\r\n                                r = is.read();\r\n                            }\r\n                            //System.out.println(&quot;request: &quot; + new String(buffer));\r\n                            var response = &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n                                        &quot;Content-Type: text/plain\\r\\n&quot; +\r\n                                        &quot;Content-Length: &quot; + tb.length + &quot;\\r\\n\\r\\n&quot;;\r\n                            os.write(response.getBytes(StandardCharsets.UTF_8));\r\n                            os.write(tb);\r\n                            os.flush();\r\n                            sent++;\r\n                        }\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Executor error:&quot; + e.toString());\r\n                        e.printStackTrace();\r\n                    } finally {\r\n                        try {\r\n                            System.out.println(&quot;Closing connection!&quot;);\r\n                            server.close();\r\n                        } catch (Exception e) {\r\n                            System.out.println(&quot;Executor error2: &quot;);\r\n                            e.printStackTrace();\r\n                        }\r\n                        System.out.println(&quot;sent &quot; + sent + &quot; responses to client &quot; + client_no);\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                break;\r\n            }\r\n        }\r\n\r\nThis will run a JMeter test for me. It can use either 1.0 or 1.1 and finish 10&#39;s of thousands of requests. If I use keep alive (1.1) each client handles many requests, if I don&#39;t use keep alive (1.0) each client handles 1 request. \r\n\r\nIf I dont read the request header, then the http 1.0 version will stop after a couple thousand requests.\r\n\r\nIt is also a separate issue from your original &quot;dies after the second request.&quot; which is because your are not actually using HTTP 1.1 !\r\n\r\n","title":"How to handle HTTP request using Java Socket?","body":"<p>Your first problem lies in your response.</p>\n<pre><code>&quot;HTTP/1.1 200 OK\\r\\n&quot;\n</code></pre>\n<p>That allows for keep-alive, which you're not handling. A basic JMeter sampler tries to use keep alive, that is why you always fail on the second attempt.</p>\n<p>You can change it to</p>\n<pre><code>&quot;HTTP/1.0 200 OK\\r\\n&quot;\n</code></pre>\n<p>That does not support keep alive, so you'll get a lot more successes with your current code. For me I only get a couple 1000 responses before JMeter has another error, but I don't know what the error is.</p>\n<p>To support keep alive, <strong>I</strong> need to parse the request. Here is an example.</p>\n<pre><code>    int clients = 0;\n    while(true) {\n        try {\n            System.out.println(&quot;Waiting for client on port &quot; +\n                            serverSocket.getLocalPort() + &quot;...&quot;);\n            var server = serverSocket.accept();\n            final int client_no = clients++;\n            System.out.println(&quot;handling: &quot; + client_no);\n            executors.submit(() -&gt; {\n                int sent = 0;\n                try {\n                    var is = server.getInputStream();\n                    var os = server.getOutputStream();\n                    \n                    var text = &quot;sample&quot;;\n                    byte[] tb = text.getBytes(StandardCharsets.UTF_8);\n\n                    char[] buffer = new char[256];\n                    int cr_count = 0;\n                    while( true ){\n                        \n                        int i=0;\n                        int r = is.read();\n                        if(r == -1) break;\n                        \n                        while( r != -1 ){\n                            char c = (char)r;\n                            if( c == '\\n' ){\n                                cr_count++;\n                            } else if( c != '\\r' ){\n                                cr_count = 0;\n                            }\n                            buffer[i++] = c;\n                            if(cr_count == 2) break;\n                            r = is.read();\n                        }\n                        //System.out.println(&quot;request: &quot; + new String(buffer));\n                        var response = &quot;HTTP/1.1 200 OK\\r\\n&quot; +\n                                    &quot;Content-Type: text/plain\\r\\n&quot; +\n                                    &quot;Content-Length: &quot; + tb.length + &quot;\\r\\n\\r\\n&quot;;\n                        os.write(response.getBytes(StandardCharsets.UTF_8));\n                        os.write(tb);\n                        os.flush();\n                        sent++;\n                    }\n                } catch (Exception e) {\n                    System.out.println(&quot;Executor error:&quot; + e.toString());\n                    e.printStackTrace();\n                } finally {\n                    try {\n                        System.out.println(&quot;Closing connection!&quot;);\n                        server.close();\n                    } catch (Exception e) {\n                        System.out.println(&quot;Executor error2: &quot;);\n                        e.printStackTrace();\n                    }\n                    System.out.println(&quot;sent &quot; + sent + &quot; responses to client &quot; + client_no);\n                }\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n            break;\n        }\n    }\n</code></pre>\n<p>This will run a JMeter test for me. It can use either 1.0 or 1.1 and finish 10's of thousands of requests. If I use keep alive (1.1) each client handles many requests, if I don't use keep alive (1.0) each client handles 1 request.</p>\n<p>If I dont read the request header, then the http 1.0 version will stop after a couple thousand requests.</p>\n<p>It is also a separate issue from your original &quot;dies after the second request.&quot; which is because your are not actually using HTTP 1.1 !</p>\n"}],"owner":{"account_id":260782,"reputation":175,"user_id":544561,"accept_rate":29,"display_name":"Sabyrzhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74517950,"answer_count":1,"score":0,"last_activity_date":1669116460,"creation_date":1668186580,"question_id":74405956,"body_markdown":"I am trying to implement sample HTTP server using Java socket and executor service for concurrency. However every 2nd request is failing when I run the test using JMeter with 2 or more requests  or browser for example.\r\n\r\nHow to properly handle the request? Here is the sample source code:\r\n\r\n```\r\npublic class Service {\r\n    public static void main(String[] args) throws Exception {\r\n        var serverSocket = new ServerSocket(8080);\r\n        var executors = Executors.newFixedThreadPool(4);\r\n        while(true) {\r\n            try {\r\n                var server = serverSocket.accept();\r\n\r\n                executors.submit(() -&gt; {\r\n                    try {\r\n                        var text = &quot;sample&quot;;\r\n                        System.out.println(&quot;Waiting for client on port &quot; +\r\n                                serverSocket.getLocalPort() + &quot;...&quot;);\r\n\r\n                        System.out.println(&quot;Getting empty request&quot;);\r\n                        var response = &quot;HTTP/1.1 200 OK\\r\\n&quot; +\r\n                                    &quot;Content-Type: text/plain\\r\\n&quot; +\r\n                                    &quot;Content-Length: &quot; + text.length() + &quot;\\r\\n\\r\\n&quot;\r\n                                    + text;\r\n                        server.getOutputStream().write(response.getBytes(StandardCharsets.UTF_8));\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Executor error:&quot; + e.toString());\r\n                        e.printStackTrace();\r\n                    } finally {\r\n                        try {\r\n                            System.out.println(&quot;Closing server&quot;);\r\n                            server.close();\r\n                        } catch (Exception e) {\r\n                            System.out.println(&quot;Executor error2: &quot;);\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                break;\r\n            }\r\n        }\r\n\r\n        serverSocket.close();\r\n    }\r\n}\r\n```","title":"How to handle HTTP request using Java Socket?","body":"<p>I am trying to implement sample HTTP server using Java socket and executor service for concurrency. However every 2nd request is failing when I run the test using JMeter with 2 or more requests  or browser for example.</p>\n<p>How to properly handle the request? Here is the sample source code:</p>\n<pre><code>public class Service {\n    public static void main(String[] args) throws Exception {\n        var serverSocket = new ServerSocket(8080);\n        var executors = Executors.newFixedThreadPool(4);\n        while(true) {\n            try {\n                var server = serverSocket.accept();\n\n                executors.submit(() -&gt; {\n                    try {\n                        var text = &quot;sample&quot;;\n                        System.out.println(&quot;Waiting for client on port &quot; +\n                                serverSocket.getLocalPort() + &quot;...&quot;);\n\n                        System.out.println(&quot;Getting empty request&quot;);\n                        var response = &quot;HTTP/1.1 200 OK\\r\\n&quot; +\n                                    &quot;Content-Type: text/plain\\r\\n&quot; +\n                                    &quot;Content-Length: &quot; + text.length() + &quot;\\r\\n\\r\\n&quot;\n                                    + text;\n                        server.getOutputStream().write(response.getBytes(StandardCharsets.UTF_8));\n                    } catch (Exception e) {\n                        System.out.println(&quot;Executor error:&quot; + e.toString());\n                        e.printStackTrace();\n                    } finally {\n                        try {\n                            System.out.println(&quot;Closing server&quot;);\n                            server.close();\n                        } catch (Exception e) {\n                            System.out.println(&quot;Executor error2: &quot;);\n                            e.printStackTrace();\n                        }\n                    }\n                });\n            } catch (Exception e) {\n                e.printStackTrace();\n                break;\n            }\n        }\n\n        serverSocket.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","macos","gradle"],"answers":[{"tags":[],"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450325854,"creation_date":1450325462,"answer_id":34326480,"question_id":34326437,"body_markdown":"I have added the following to my `.bash_profile` to help sort out issues such as this one.  This has the added benefit of being able to run `setjdk {version}` and switch java versions on the fly.\r\n\r\n    function setjdk() {\r\n      if [ $# -ne 0 ]; then\r\n       removeFromPath &#39;/System/Library/Frameworks/JavaVM.framework/Home/bin&#39;\r\n       if [ -n &quot;${JAVA_HOME+x}&quot; ]; then\r\n        removeFromPath $JAVA_HOME\r\n       fi\r\n       export JAVA_HOME=`/usr/libexec/java_home -v $@`\r\n       export PATH=$JAVA_HOME/bin:$PATH\r\n      fi\r\n    }\r\n    \r\n    function removeFromPath() {\r\n      export PATH=$(echo $PATH | sed -E -e &quot;s;:$1;;&quot; -e &quot;s;$1:?;;&quot;)\r\n    }\r\n    \r\n    #Default JDK to Java 8\r\n    setjdk 1.8","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>I have added the following to my <code>.bash_profile</code> to help sort out issues such as this one.  This has the added benefit of being able to run <code>setjdk {version}</code> and switch java versions on the fly.</p>\n\n<pre><code>function setjdk() {\n  if [ $# -ne 0 ]; then\n   removeFromPath '/System/Library/Frameworks/JavaVM.framework/Home/bin'\n   if [ -n \"${JAVA_HOME+x}\" ]; then\n    removeFromPath $JAVA_HOME\n   fi\n   export JAVA_HOME=`/usr/libexec/java_home -v $@`\n   export PATH=$JAVA_HOME/bin:$PATH\n  fi\n}\n\nfunction removeFromPath() {\n  export PATH=$(echo $PATH | sed -E -e \"s;:$1;;\" -e \"s;$1:?;;\")\n}\n\n#Default JDK to Java 8\nsetjdk 1.8\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"score":1,"creation_date":1645809983,"post_id":34326507,"comment_id":125976983,"body_markdown":"...and if it doesnt exist?","body":"...and if it doesnt exist?"}],"tags":[],"owner":{"account_id":1708207,"reputation":3658,"user_id":1566836,"display_name":"lodlock"},"comment_count":1,"down_vote_count":2,"up_vote_count":84,"is_accepted":false,"score":82,"last_activity_date":1450325633,"creation_date":1450325633,"answer_id":34326507,"question_id":34326437,"body_markdown":"Check if /usr/libexec/java_home exists. If it does then try running\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home`\r\n\r\nand rerunning your gradlew build. If it works then make it permanent with\r\n\r\n    echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>Check if /usr/libexec/java_home exists. If it does then try running</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home`\n</code></pre>\n\n<p>and rerunning your gradlew build. If it works then make it permanent with</p>\n\n<pre><code>echo export \"JAVA_HOME=\\$(/usr/libexec/java_home)\" &gt;&gt; ~/.bash_profile\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6133522,"reputation":377,"user_id":4783060,"accept_rate":89,"display_name":"Ade Firman Fauzi"},"score":4,"creation_date":1604769446,"post_id":63122001,"comment_id":114450495,"body_markdown":"Yup, perfectly worked fine! I notice the gradle already init the JAVA_HOME inside project directory (in my case, i used flutter), so I deleted the JAVA_HOME in .zhrc","body":"Yup, perfectly worked fine! I notice the gradle already init the JAVA_HOME inside project directory (in my case, i used flutter), so I deleted the JAVA_HOME in .zhrc"}],"tags":[],"owner":{"account_id":1504399,"reputation":1046,"user_id":1408156,"accept_rate":27,"display_name":"stk1234"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1595877143,"creation_date":1595877143,"answer_id":63122001,"question_id":34326437,"body_markdown":"For me, I got that error no matter what I tried. Deleting the JAVA_HOME var worked for me. ","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>For me, I got that error no matter what I tried. Deleting the JAVA_HOME var worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2255833,"reputation":2036,"user_id":1987045,"accept_rate":40,"display_name":"rahulrvp"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1628075205,"creation_date":1628075205,"answer_id":68650152,"question_id":34326437,"body_markdown":"If you see this message in 2021 after upgrading to [Android Studio Arctic Fox (2020.3.1) Stable][1], then the following answer should help to get yourself unblocked.\r\n\r\nOpen the &quot;Project Structure&quot; window from the &quot;File&quot; menu and you can see that the JDK location is now moved to the Gradle settings.\r\n[![enter image description here][2]][2]\r\n\r\nNow, click on the Gradle Settings link and you can see another window in which the current JDK location is specified.\r\n[![enter image description here][3]][3]\r\n\r\nNow you should edit your `~/.bashrc` OR `~/.zshrc` to update the value of JAVA_HOME env variable.\r\n\r\nThat&#39;s it!\r\n\r\nNow run the `source ~/.bashrc` OR `source ~/.zshrc` command or restart your terminal and enjoy running the `./gradlew` command in your project.\r\n\r\nCheers!\r\n\r\n\r\n  [1]: https://android-developers.googleblog.com/2021/07/android-studio-arctic-fox-202031-stable.html\r\n  [2]: https://i.stack.imgur.com/jd86r.png\r\n  [3]: https://i.stack.imgur.com/JR2sT.png","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>If you see this message in 2021 after upgrading to <a href=\"https://android-developers.googleblog.com/2021/07/android-studio-arctic-fox-202031-stable.html\" rel=\"noreferrer\">Android Studio Arctic Fox (2020.3.1) Stable</a>, then the following answer should help to get yourself unblocked.</p>\n<p>Open the &quot;Project Structure&quot; window from the &quot;File&quot; menu and you can see that the JDK location is now moved to the Gradle settings.\n<a href=\"https://i.stack.imgur.com/jd86r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jd86r.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, click on the Gradle Settings link and you can see another window in which the current JDK location is specified.\n<a href=\"https://i.stack.imgur.com/JR2sT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JR2sT.png\" alt=\"enter image description here\" /></a></p>\n<p>Now you should edit your <code>~/.bashrc</code> OR <code>~/.zshrc</code> to update the value of JAVA_HOME env variable.</p>\n<p>That's it!</p>\n<p>Now run the <code>source ~/.bashrc</code> OR <code>source ~/.zshrc</code> command or restart your terminal and enjoy running the <code>./gradlew</code> command in your project.</p>\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":5911043,"reputation":73,"user_id":5513030,"display_name":"Scott Wyman Neagle"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637017783,"creation_date":1637017783,"answer_id":69981975,"question_id":34326437,"body_markdown":"If anyone comes here using fish, adding the following line to `~/.config/fish/config.fish` solves the problem for me.\r\n```\r\nset JAVA_HOME (/usr/libexec/java_home -v (java --version | awk &#39;NR==1{print $2}&#39;))\r\n```","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>If anyone comes here using fish, adding the following line to <code>~/.config/fish/config.fish</code> solves the problem for me.</p>\n<pre><code>set JAVA_HOME (/usr/libexec/java_home -v (java --version | awk 'NR==1{print $2}'))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":328675,"reputation":1562,"user_id":651770,"accept_rate":67,"display_name":"Lubos Horacek"},"score":0,"creation_date":1643721879,"post_id":70940810,"comment_id":125410561,"body_markdown":"This does not look like JDK location, but Java plugin for Web location","body":"This does not look like JDK location, but Java plugin for Web location"},{"owner":{"account_id":328675,"reputation":1562,"user_id":651770,"accept_rate":67,"display_name":"Lubos Horacek"},"score":1,"creation_date":1643721903,"post_id":70940810,"comment_id":125410571,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70940810/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14924019,"reputation":11,"user_id":10775453,"display_name":"3Agamy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643719491,"creation_date":1643719491,"answer_id":70940810,"question_id":34326437,"body_markdown":"Try this instead form Mac os\r\n\r\n    export JAVA_HOME=&quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home&quot;","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>Try this instead form Mac os</p>\n<pre><code>export JAVA_HOME=&quot;/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27012310,"reputation":11,"user_id":20571743,"display_name":"slimeball"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669116337,"creation_date":1669116162,"answer_id":74531838,"question_id":34326437,"body_markdown":"In macOS, the JDK installation path is`/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home`. See [the official documentation][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350\r\n","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>In macOS, the JDK installation path is<code>/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home</code>. See <a href=\"https://docs.oracle.com/javase/10/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350\" rel=\"nofollow noreferrer\">the official documentation</a>.</p>\n"}],"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54152,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":7,"score":32,"last_activity_date":1669116337,"creation_date":1450325200,"question_id":34326437,"body_markdown":"I tried running `./gradlew` from an Android project directory, but I get an error of:\r\n\r\n&gt; ERROR: JAVA_HOME is set to an invalid directory:\r\n&gt; /Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home\r\n&gt; \r\n&gt; Please set the JAVA_HOME variable in your environment to match the\r\n&gt; location of your Java installation.\r\n\r\nThings I&#39;ve tried:\r\n------------------\r\n\r\n1. Navigated to `/Library/Java/JavaVirtualMachines`. `jdk1.8.0_11.jdk` exists, but so does `jdk1.7.0_79.jdk`\r\n\r\n2. `which java` prints out `/usr/bin/java`\r\n\r\n3. `printenv` prints\r\n\r\n&gt; ...\r\n&gt; \r\n&gt; JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home\r\n&gt; JDK_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home\r\n&gt; \r\n&gt; \r\n&gt; ...\r\n\r\n4. `javac -version` prints `javac 1.8.0_11`\r\n\r\n5. `which javac` prints `/usr/bin/javac`","title":"JAVA_HOME is set to an invalid directory while running ./gradlew on OSX","body":"<p>I tried running <code>./gradlew</code> from an Android project directory, but I get an error of:</p>\n\n<blockquote>\n  <p>ERROR: JAVA_HOME is set to an invalid directory:\n  /Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home</p>\n  \n  <p>Please set the JAVA_HOME variable in your environment to match the\n  location of your Java installation.</p>\n</blockquote>\n\n<h2>Things I've tried:</h2>\n\n<ol>\n<li><p>Navigated to <code>/Library/Java/JavaVirtualMachines</code>. <code>jdk1.8.0_11.jdk</code> exists, but so does <code>jdk1.7.0_79.jdk</code></p></li>\n<li><p><code>which java</code> prints out <code>/usr/bin/java</code></p></li>\n<li><p><code>printenv</code> prints</p></li>\n</ol>\n\n<blockquote>\n  <p>...</p>\n  \n  <p>JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home\n  JDK_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_11.jdk/Contents/Home</p>\n  \n  <p>...</p>\n</blockquote>\n\n<ol start=\"4\">\n<li><p><code>javac -version</code> prints <code>javac 1.8.0_11</code></p></li>\n<li><p><code>which javac</code> prints <code>/usr/bin/javac</code></p></li>\n</ol>\n"},{"tags":["java","android","android-studio","firebase-authentication","logcat"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633356660,"post_id":69436115,"comment_id":122731119,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **500 (five hundred)** lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>500 (five hundred)</b> lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."}],"answers":[{"comments":[{"owner":{"account_id":22449522,"reputation":11,"user_id":16653043,"display_name":"Youssef Amr"},"score":0,"creation_date":1633623515,"post_id":69437180,"comment_id":122815229,"body_markdown":"[Image](https://i.stack.imgur.com/eGbvB.png)","body":"<a href=\"https://i.stack.imgur.com/eGbvB.png\" rel=\"nofollow noreferrer\">Image</a>"},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1633658815,"post_id":69437180,"comment_id":122824420,"body_markdown":"is internet permission given in your manifest file?","body":"is internet permission given in your manifest file?"}],"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633355424,"creation_date":1633355424,"answer_id":69437180,"question_id":69436115,"body_markdown":"Everything seems ok on your code. And check if you have enabled the sign-in method under Authentication in firebase.\r\nand Please, follow the link below for more information.\r\n\r\n [https://stackoverflow.com/questions/64786602/firebase-captcha-check-fails-and-prevents-user-from-authenticating][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64786602/firebase-captcha-check-fails-and-prevents-user-from-authenticating","title":"SMS verification code request failed: unknown status code: 17020 null","body":"<p>Everything seems ok on your code. And check if you have enabled the sign-in method under Authentication in firebase.\nand Please, follow the link below for more information.</p>\n<p><a href=\"https://stackoverflow.com/questions/64786602/firebase-captcha-check-fails-and-prevents-user-from-authenticating\">Firebase captcha check fails and prevents user from authenticating</a></p>\n"},{"tags":[],"owner":{"account_id":7433594,"reputation":47,"user_id":5653732,"display_name":"M.vin"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1669116270,"creation_date":1669116270,"answer_id":74531864,"question_id":69436115,"body_markdown":"I had the same Issue.\r\nFor me the problem was that the device was not connected to Internet.","title":"SMS verification code request failed: unknown status code: 17020 null","body":"<p>I had the same Issue.\nFor me the problem was that the device was not connected to Internet.</p>\n"}],"owner":{"account_id":22449522,"reputation":11,"user_id":16653043,"display_name":"Youssef Amr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669116270,"creation_date":1633351112,"question_id":69436115,"body_markdown":"How can I solve these errors:\r\n\r\n    2021-10-04 13:53:00.422 8440-8440/com.example.firebase.sms.smsotp4 E/zzf: Problem retrieving SafetyNet Token: 7: \r\n\r\n    2021-10-04 13:53:00.618 8440-8802/com.example.firebase.sms.smsotp4 E/FirebaseAuth: [GetAuthDomainTask] IOException occurred: java.net.UnknownHostException: Unable to resolve host &quot;www.googleapis.com&quot;: No address associated with hostname\r\n\r\n    2021-10-04 13:53:00.725 8440-8440/com.example.firebase.sms.smsotp4 E/zzf: Failed to get reCAPTCHA token with error [An internal error has occurred.]- calling backend without app verification\r\n\r\n    2021-10-04 13:53:00.762 8440-8566/com.example.firebase.sms.smsotp4 E/FirebaseAuth: [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17020 null\r\n\r\nWhen I try to send an SMS OTP Verification, these errors appear\r\n\r\n**The Project is connected with firebase**\r\n****\r\n**The google-services.json file is added to the Project**\r\n****\r\n**The phone auth in firebase is enabled**\r\n****\r\n**Android Device Verification API in Google Cloud Console is enabled**\r\n\r\n\r\nMainActivity.java:\r\n\r\n    package com.example.firebase.sms.smsotp4;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        public static CustomVP viewPager;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            viewPager = findViewById(R.id.view_pager);\r\n    \r\n            VPAdapter adapter = new VPAdapter(getSupportFragmentManager());\r\n    \r\n            viewPager.setAdapter(adapter);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nSendOTPCode.java:\r\n\r\n    package com.example.firebase.sms.smsotp4;\r\n    \r\n    import android.app.Activity;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.firebase.FirebaseException;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.PhoneAuthCredential;\r\n    import com.google.firebase.auth.PhoneAuthOptions;\r\n    import com.google.firebase.auth.PhoneAuthProvider;\r\n    import com.google.firebase.auth.PhoneAuthProvider.OnVerificationStateChangedCallbacks;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class SendOTPCode{\r\n        public static boolean sended;\r\n    \r\n        public static boolean send(Activity activity, String phoneNum) {\r\n            // Whenever verification is triggered with the whitelisted number,\r\n            // provided it is not set for auto-retrieval, onCodeSent will be triggered.\r\n    \r\n            FirebaseAuth auth = FirebaseAuth.getInstance();\r\n            // Configure faking the auto-retrieval with the whitelisted numbers.\r\n            PhoneAuthOptions options = PhoneAuthOptions.newBuilder(auth)\r\n                    .setPhoneNumber(phoneNum)\r\n                    .setTimeout(1L, TimeUnit.SECONDS)\r\n                    .setActivity(activity)\r\n                    .setCallbacks(new OnVerificationStateChangedCallbacks() {\r\n                        @Override\r\n                        public void onCodeSent(String verificationId,\r\n                                               PhoneAuthProvider.ForceResendingToken forceResendingToken) {\r\n                            // Save the verification id somewhere\r\n                            // ...\r\n                            SendOTPFragment.verificationId.setValue(verificationId);\r\n                            SendOTPFragment.mBoolean = false;\r\n                            sended = true;\r\n                            Toast.makeText(activity.getApplicationContext(), verificationId,Toast.LENGTH_SHORT).show();\r\n                            // The corresponding whitelisted code above should be used to complete sign-in.\r\n                        }\r\n    \r\n    \r\n                        @Override\r\n                        public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\r\n                            // Sign in with the credential\r\n                            // ...\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onVerificationFailed(FirebaseException e) {\r\n                            // ...\r\n                            Toast.makeText(activity.getApplicationContext(), &quot;Something went wrong!!\\n Please, try again later&quot;,Toast.LENGTH_SHORT).show();\r\n                            SendOTPFragment.verificationId.setValue(&quot;null&quot;);\r\n                            SendOTPFragment.mBoolean = false;\r\n                        }\r\n                    })\r\n                    .build();\r\n            PhoneAuthProvider.verifyPhoneNumber(options);\r\n    \r\n            return sended;\r\n        }\r\n    \r\n    }\r\n\r\nSendOTPFragment.java:\r\n\r\n    package com.example.firebase.sms.smsotp4;\r\n    \r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.text.Editable;\r\n    import android.text.TextWatcher;\r\n    import android.view.KeyEvent;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.view.inputmethod.InputMethodManager;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.lifecycle.MutableLiveData;\r\n    import androidx.lifecycle.Observer;\r\n    \r\n    \r\n    public class SendOTPFragment extends Fragment {\r\n    \r\n        public static boolean mBoolean;\r\n        private static String mString;\r\n        public static MutableLiveData&lt;String&gt; verificationId = new MutableLiveData&lt;&gt;();\r\n        private LinearLayout phoneBox;\r\n        public static String phoneNumber;\r\n        private EditText phone;\r\n        private Button btnOTP;\r\n        private Toast toast;\r\n        private LinearLayout progress_layout;\r\n    \r\n        public SendOTPFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout.activity_send_otp, container, false);\r\n            phone = rootView.findViewById(R.id.phone_number);\r\n            phoneBox = rootView.findViewById(R.id.phoneBox);\r\n            btnOTP = rootView.findViewById(R.id.btnOTP);\r\n            progress_layout = rootView.findViewById(R.id.progress_layout);\r\n    \r\n            if(mString != null &amp;&amp; !mBoolean) {\r\n                phone.setText(mString);\r\n                phone.requestFocus();\r\n                phoneBox.setBackgroundResource(R.drawable.edit_text_back_color_focused);\r\n            }\r\n            if (!mBoolean) {\r\n    \r\n                phoneBox.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        phone.requestFocus();\r\n                        InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                        imm.showSoftInput(phone, InputMethodManager.SHOW_IMPLICIT);\r\n                    }\r\n                });\r\n                btnOTP.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        if (phone.getText().toString().trim().isEmpty()) {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please Enter Your Phone Number!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                        } else if (phone.getText().length() &lt; 10) {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                        } else if (phone.getText().toString().charAt(0) == &#39;1&#39;\r\n                                &amp;&amp; (phone.getText().toString().charAt(1) == &#39;0&#39;\r\n                                || phone.getText().toString().charAt(1) == &#39;1&#39;\r\n                                || phone.getText().toString().charAt(1) == &#39;2&#39;\r\n                                || phone.getText().toString().charAt(1) == &#39;5&#39;)) {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Done!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                            phone.setFocusable(false);\r\n                            SendOTP();\r\n                            phoneNumber = &quot;+20&quot; + phone.getText().toString().trim();\r\n                        } else {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                        }\r\n                    }\r\n                });\r\n    \r\n                phone.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n                    @Override\r\n                    public void onFocusChange(View view, boolean b) {\r\n                        if (b) {\r\n                            phoneBox.setBackgroundResource(R.drawable.edit_text_back_color_focused);\r\n                        } else {\r\n                            phoneBox.setBackgroundResource(R.drawable.edit_text_back_color);\r\n                        }\r\n                    }\r\n                });\r\n                phone.addTextChangedListener(new TextWatcher() {\r\n                    @Override\r\n                    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                        mString = charSequence.toString();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void afterTextChanged(Editable editable) {\r\n    \r\n                    }\r\n    \r\n    \r\n    \r\n                });\r\n    \r\n                phone.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n                    @Override\r\n                    public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {\r\n    \r\n                        if (phone.getText().toString().trim().isEmpty()) {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please Enter Your Phone Number!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                        } else if (phone.getText().length() &lt; 10) {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                        } else if (phone.getText().toString().charAt(0) == &#39;1&#39;\r\n                                &amp;&amp; (phone.getText().toString().charAt(1) == &#39;0&#39;\r\n                                || phone.getText().toString().charAt(1) == &#39;1&#39;\r\n                                || phone.getText().toString().charAt(1) == &#39;2&#39;\r\n                                || phone.getText().toString().charAt(1) == &#39;5&#39;)) {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Done!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                            phone.setFocusable(false);\r\n                            SendOTP();\r\n                            phoneNumber = &quot;+20&quot; + phone.getText().toString().trim();\r\n                        } else {\r\n                            if (toast != null) {\r\n                                toast.cancel();\r\n                            }\r\n                            toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\r\n                            toast.show();\r\n                        }\r\n    \r\n                        return false;\r\n                    }\r\n                });\r\n            } else {\r\n                SendOTP();\r\n            }\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        private void SendOTP() {\r\n            phoneNumber = &quot;+20&quot; + phone.getText().toString().trim();\r\n            phone.setText(mString);\r\n            InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(phone.getWindowToken(), 0);\r\n            btnOTP.setVisibility(View.GONE);\r\n            progress_layout.setVisibility(View.VISIBLE);\r\n            mBoolean = true;\r\n            if (SendOTPCode.send(getActivity() ,&quot;+20&quot; + phone.getText().toString())){\r\n                VerifyOTP();\r\n            }\r\n            else{\r\n                verificationId.observe(getActivity(), new Observer&lt;String&gt;() {\r\n                    @Override\r\n                    public void onChanged(@Nullable final String newIntValue) {\r\n                        // Update the UI, in this case, a TextView.\r\n                        if (verificationId.getValue()!=&quot;null&quot;) {\r\n                            VerifyOTP();\r\n                        }\r\n                        else {\r\n                            phone.setText(mString);\r\n                            InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                            imm.showSoftInput(phone, InputMethodManager.SHOW_IMPLICIT);\r\n                            btnOTP.setVisibility(View.VISIBLE);\r\n                            progress_layout.setVisibility(View.GONE);\r\n                            phone.setFocusable(true);\r\n                            phone.requestFocus();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        public void VerifyOTP(){\r\n    \r\n            MainActivity.viewPager.setCurrentItem(1);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            if (mBoolean){\r\n                phone.setText(mString);\r\n                InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                imm.hideSoftInputFromWindow(phone.getWindowToken(), 0);\r\n                btnOTP.setVisibility(View.GONE);\r\n                progress_layout.setVisibility(View.VISIBLE);\r\n            }\r\n            else{\r\n                progress_layout.setVisibility(View.GONE);\r\n                btnOTP.setVisibility(View.VISIBLE);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\nbuild.gradle (:app):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    \r\n    android {\r\n        compileSdk 31\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.firebase.sms.smsotp4&quot;\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n    }\r\n\r\nbuild.gradle(:project):\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n[Image(Phone Auth)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eGbvB.png","title":"SMS verification code request failed: unknown status code: 17020 null","body":"<p>How can I solve these errors:</p>\n<pre><code>2021-10-04 13:53:00.422 8440-8440/com.example.firebase.sms.smsotp4 E/zzf: Problem retrieving SafetyNet Token: 7: \n\n2021-10-04 13:53:00.618 8440-8802/com.example.firebase.sms.smsotp4 E/FirebaseAuth: [GetAuthDomainTask] IOException occurred: java.net.UnknownHostException: Unable to resolve host &quot;www.googleapis.com&quot;: No address associated with hostname\n\n2021-10-04 13:53:00.725 8440-8440/com.example.firebase.sms.smsotp4 E/zzf: Failed to get reCAPTCHA token with error [An internal error has occurred.]- calling backend without app verification\n\n2021-10-04 13:53:00.762 8440-8566/com.example.firebase.sms.smsotp4 E/FirebaseAuth: [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17020 null\n</code></pre>\n<p>When I try to send an SMS OTP Verification, these errors appear</p>\n<p><strong>The Project is connected with firebase</strong></p>\n<hr />\n<p><strong>The google-services.json file is added to the Project</strong></p>\n<hr />\n<p><strong>The phone auth in firebase is enabled</strong></p>\n<hr />\n<p><strong>Android Device Verification API in Google Cloud Console is enabled</strong></p>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.firebase.sms.smsotp4;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class MainActivity extends AppCompatActivity {\n    public static CustomVP viewPager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        viewPager = findViewById(R.id.view_pager);\n\n        VPAdapter adapter = new VPAdapter(getSupportFragmentManager());\n\n        viewPager.setAdapter(adapter);\n    }\n\n}\n</code></pre>\n<p>SendOTPCode.java:</p>\n<pre><code>package com.example.firebase.sms.smsotp4;\n\nimport android.app.Activity;\nimport android.widget.Toast;\n\nimport com.google.firebase.FirebaseException;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.PhoneAuthCredential;\nimport com.google.firebase.auth.PhoneAuthOptions;\nimport com.google.firebase.auth.PhoneAuthProvider;\nimport com.google.firebase.auth.PhoneAuthProvider.OnVerificationStateChangedCallbacks;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class SendOTPCode{\n    public static boolean sended;\n\n    public static boolean send(Activity activity, String phoneNum) {\n        // Whenever verification is triggered with the whitelisted number,\n        // provided it is not set for auto-retrieval, onCodeSent will be triggered.\n\n        FirebaseAuth auth = FirebaseAuth.getInstance();\n        // Configure faking the auto-retrieval with the whitelisted numbers.\n        PhoneAuthOptions options = PhoneAuthOptions.newBuilder(auth)\n                .setPhoneNumber(phoneNum)\n                .setTimeout(1L, TimeUnit.SECONDS)\n                .setActivity(activity)\n                .setCallbacks(new OnVerificationStateChangedCallbacks() {\n                    @Override\n                    public void onCodeSent(String verificationId,\n                                           PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n                        // Save the verification id somewhere\n                        // ...\n                        SendOTPFragment.verificationId.setValue(verificationId);\n                        SendOTPFragment.mBoolean = false;\n                        sended = true;\n                        Toast.makeText(activity.getApplicationContext(), verificationId,Toast.LENGTH_SHORT).show();\n                        // The corresponding whitelisted code above should be used to complete sign-in.\n                    }\n\n\n                    @Override\n                    public void onVerificationCompleted(PhoneAuthCredential phoneAuthCredential) {\n                        // Sign in with the credential\n                        // ...\n                    }\n\n                    @Override\n                    public void onVerificationFailed(FirebaseException e) {\n                        // ...\n                        Toast.makeText(activity.getApplicationContext(), &quot;Something went wrong!!\\n Please, try again later&quot;,Toast.LENGTH_SHORT).show();\n                        SendOTPFragment.verificationId.setValue(&quot;null&quot;);\n                        SendOTPFragment.mBoolean = false;\n                    }\n                })\n                .build();\n        PhoneAuthProvider.verifyPhoneNumber(options);\n\n        return sended;\n    }\n\n}\n</code></pre>\n<p>SendOTPFragment.java:</p>\n<pre><code>package com.example.firebase.sms.smsotp4;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.KeyEvent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.Observer;\n\n\npublic class SendOTPFragment extends Fragment {\n\n    public static boolean mBoolean;\n    private static String mString;\n    public static MutableLiveData&lt;String&gt; verificationId = new MutableLiveData&lt;&gt;();\n    private LinearLayout phoneBox;\n    public static String phoneNumber;\n    private EditText phone;\n    private Button btnOTP;\n    private Toast toast;\n    private LinearLayout progress_layout;\n\n    public SendOTPFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.activity_send_otp, container, false);\n        phone = rootView.findViewById(R.id.phone_number);\n        phoneBox = rootView.findViewById(R.id.phoneBox);\n        btnOTP = rootView.findViewById(R.id.btnOTP);\n        progress_layout = rootView.findViewById(R.id.progress_layout);\n\n        if(mString != null &amp;&amp; !mBoolean) {\n            phone.setText(mString);\n            phone.requestFocus();\n            phoneBox.setBackgroundResource(R.drawable.edit_text_back_color_focused);\n        }\n        if (!mBoolean) {\n\n            phoneBox.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    phone.requestFocus();\n                    InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n                    imm.showSoftInput(phone, InputMethodManager.SHOW_IMPLICIT);\n                }\n            });\n            btnOTP.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if (phone.getText().toString().trim().isEmpty()) {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please Enter Your Phone Number!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                    } else if (phone.getText().length() &lt; 10) {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                    } else if (phone.getText().toString().charAt(0) == '1'\n                            &amp;&amp; (phone.getText().toString().charAt(1) == '0'\n                            || phone.getText().toString().charAt(1) == '1'\n                            || phone.getText().toString().charAt(1) == '2'\n                            || phone.getText().toString().charAt(1) == '5')) {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Done!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                        phone.setFocusable(false);\n                        SendOTP();\n                        phoneNumber = &quot;+20&quot; + phone.getText().toString().trim();\n                    } else {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                    }\n                }\n            });\n\n            phone.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n                @Override\n                public void onFocusChange(View view, boolean b) {\n                    if (b) {\n                        phoneBox.setBackgroundResource(R.drawable.edit_text_back_color_focused);\n                    } else {\n                        phoneBox.setBackgroundResource(R.drawable.edit_text_back_color);\n                    }\n                }\n            });\n            phone.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n                }\n\n                @Override\n                public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                    mString = charSequence.toString();\n                }\n\n                @Override\n                public void afterTextChanged(Editable editable) {\n\n                }\n\n\n\n            });\n\n            phone.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n                @Override\n                public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {\n\n                    if (phone.getText().toString().trim().isEmpty()) {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please Enter Your Phone Number!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                    } else if (phone.getText().length() &lt; 10) {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                    } else if (phone.getText().toString().charAt(0) == '1'\n                            &amp;&amp; (phone.getText().toString().charAt(1) == '0'\n                            || phone.getText().toString().charAt(1) == '1'\n                            || phone.getText().toString().charAt(1) == '2'\n                            || phone.getText().toString().charAt(1) == '5')) {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Done!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                        phone.setFocusable(false);\n                        SendOTP();\n                        phoneNumber = &quot;+20&quot; + phone.getText().toString().trim();\n                    } else {\n                        if (toast != null) {\n                            toast.cancel();\n                        }\n                        toast = Toast.makeText(getActivity().getApplicationContext(), &quot;Please, Enter a valid phone number!&quot;, Toast.LENGTH_SHORT);\n                        toast.show();\n                    }\n\n                    return false;\n                }\n            });\n        } else {\n            SendOTP();\n        }\n\n        return rootView;\n    }\n\n    private void SendOTP() {\n        phoneNumber = &quot;+20&quot; + phone.getText().toString().trim();\n        phone.setText(mString);\n        InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(phone.getWindowToken(), 0);\n        btnOTP.setVisibility(View.GONE);\n        progress_layout.setVisibility(View.VISIBLE);\n        mBoolean = true;\n        if (SendOTPCode.send(getActivity() ,&quot;+20&quot; + phone.getText().toString())){\n            VerifyOTP();\n        }\n        else{\n            verificationId.observe(getActivity(), new Observer&lt;String&gt;() {\n                @Override\n                public void onChanged(@Nullable final String newIntValue) {\n                    // Update the UI, in this case, a TextView.\n                    if (verificationId.getValue()!=&quot;null&quot;) {\n                        VerifyOTP();\n                    }\n                    else {\n                        phone.setText(mString);\n                        InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n                        imm.showSoftInput(phone, InputMethodManager.SHOW_IMPLICIT);\n                        btnOTP.setVisibility(View.VISIBLE);\n                        progress_layout.setVisibility(View.GONE);\n                        phone.setFocusable(true);\n                        phone.requestFocus();\n                    }\n                }\n            });\n        }\n    }\n\n    public void VerifyOTP(){\n\n        MainActivity.viewPager.setCurrentItem(1);\n\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        if (mBoolean){\n            phone.setText(mString);\n            InputMethodManager imm = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(phone.getWindowToken(), 0);\n            btnOTP.setVisibility(View.GONE);\n            progress_layout.setVisibility(View.VISIBLE);\n        }\n        else{\n            progress_layout.setVisibility(View.GONE);\n            btnOTP.setVisibility(View.VISIBLE);\n        }\n\n    }\n}\n</code></pre>\n<p>build.gradle (:app):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.firebase.sms.smsotp4&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.3.1'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.1'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n<p>build.gradle(:project):</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:7.0.2&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/eGbvB.png\" rel=\"nofollow noreferrer\">Image(Phone Auth)</a></p>\n"},{"tags":["java","maven","pom.xml","dependency-management","maven-resources-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669113014,"post_id":74530921,"comment_id":131564643,"body_markdown":"In general you should not use different versions for different modules within a multi module build. It will make release process later harder.","body":"In general you should not use different versions for different modules within a multi module build. It will make release process later harder."},{"owner":{"account_id":25571905,"reputation":56,"user_id":19352128,"display_name":"Islam Khabibullin"},"score":0,"creation_date":1669116208,"post_id":74530921,"comment_id":131565768,"body_markdown":"In reality, I don&#39;t release different versions.  I just want to create a custom snapshot version of just one module which I will deploy and test.  If I update the version in the whole project, then there will be a lot of unnecessary artifacts in the repository","body":"In reality, I don&#39;t release different versions.  I just want to create a custom snapshot version of just one module which I will deploy and test.  If I update the version in the whole project, then there will be a lot of unnecessary artifacts in the repository"}],"owner":{"account_id":25571905,"reputation":56,"user_id":19352128,"display_name":"Islam Khabibullin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669115985,"creation_date":1669112018,"question_id":74530921,"body_markdown":"I have a project of this type:\r\n```\r\n.\r\n|--- pom.xml (A)\r\n     |--- pom.xml (B)\r\n     |    `--- pom.xml (C)\r\n     `--- pom.xml (D)\r\n```\r\n\r\nA:\r\n```\r\n&lt;artifactId&gt;A&lt;/artifactId&gt;\r\n&lt;version&gt;1.0&lt;/version&gt;\r\n```\r\n\r\nB:\r\n```\r\n&lt;parent&gt;\r\n  &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;artifactId&gt;B&lt;/artifactId&gt;\r\n&lt;version&gt;1.1&lt;/version&gt;\r\n\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;artifactId&gt;D&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    ...\r\n```\r\n\r\nC:\r\n\r\n```\r\n&lt;parent&gt;\r\n  &lt;artifactId&gt;B&lt;/artifactId&gt;\r\n  &lt;version&gt;1.1&lt;/version&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;artifactId&gt;C&lt;/artifactId&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;artifactId&gt;D&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n  ...\r\n```\r\n\r\nAnd I expect artifact D will be used version 1.0, because in B in dependencyManagement I specified the version ${project.parent.version} (1.0 for B). But in practice, artifact C uses D version 1.1, because for C ${project.parent.version} it&#39;s 1.1.\r\nSo how can I solve this problem so that the artifact is used exactly version 1.0, not 1.1.\r\nI would not like to resort to using a hardcode and specify specifically version 1.0. Maybe some plugin can help?\r\n\r\nI wanted to use the maven resources plugin to replace ${project.parent.version} in pom before the build, but attempts failed","title":"Maven replaces the properties dynamically during the build","body":"<p>I have a project of this type:</p>\n<pre><code>.\n|--- pom.xml (A)\n     |--- pom.xml (B)\n     |    `--- pom.xml (C)\n     `--- pom.xml (D)\n</code></pre>\n<p>A:</p>\n<pre><code>&lt;artifactId&gt;A&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n</code></pre>\n<p>B:</p>\n<pre><code>&lt;parent&gt;\n  &lt;artifactId&gt;A&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;B&lt;/artifactId&gt;\n&lt;version&gt;1.1&lt;/version&gt;\n\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;artifactId&gt;D&lt;/artifactId&gt;\n      &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n</code></pre>\n<p>C:</p>\n<pre><code>&lt;parent&gt;\n  &lt;artifactId&gt;B&lt;/artifactId&gt;\n  &lt;version&gt;1.1&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;C&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;artifactId&gt;D&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n  ...\n</code></pre>\n<p>And I expect artifact D will be used version 1.0, because in B in dependencyManagement I specified the version ${project.parent.version} (1.0 for B). But in practice, artifact C uses D version 1.1, because for C ${project.parent.version} it's 1.1.\nSo how can I solve this problem so that the artifact is used exactly version 1.0, not 1.1.\nI would not like to resort to using a hardcode and specify specifically version 1.0. Maybe some plugin can help?</p>\n<p>I wanted to use the maven resources plugin to replace ${project.parent.version} in pom before the build, but attempts failed</p>\n"},{"tags":["java","bytecode-manipulation"],"answers":[{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1289912819,"post_id":4194403,"comment_id":4533622,"body_markdown":"The &quot;deviant bytecode&quot; reference is a search link because available information changes continually.","body":"The &quot;deviant bytecode&quot; reference is a search link because available information changes continually."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289912714,"creation_date":1289912714,"answer_id":4194403,"question_id":4193689,"body_markdown":"The JVM verifies [bytecodes][1], but [deviant bytecode][2] may represent a security threat.\r\n\r\n[1]:http://en.wikipedia.org/wiki/Java_Virtual_Machine#Bytecode_verifier\r\n[2]:http://www.google.com/search?&amp;q=deviant+bytecode","title":"What are the dangers of bytecode manipulation (if any)?","body":"<p>The JVM verifies <a href=\"http://en.wikipedia.org/wiki/Java_Virtual_Machine#Bytecode_verifier\" rel=\"nofollow\">bytecodes</a>, but <a href=\"http://www.google.com/search?&amp;q=deviant+bytecode\" rel=\"nofollow\">deviant bytecode</a> may represent a security threat.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669115978,"creation_date":1289913147,"answer_id":4194465,"question_id":4193689,"body_markdown":"&gt; Are there any disadvantages to using it (other than the fact that functionality is added to classes that is not apparent from the source code)?\r\n\r\nOne thing is that bugs created by bytecode manipulation are likely to be more difficult to diagnose.  Examination of the source code, and source level debugging will be harder.\r\n\r\n&gt; Does it cause problems with security, \r\n\r\nThe verifier should (in theory) prevent the modified bytecode from breaking the core type system and corrupting the JVM.  (And it goes without saying that untrusted code shouldn&#39;t be allowed to do bytecode modification, so we can discount that scenario.)  However, in the past, some Java byte code verifiers have been less than thorough.\r\n\r\nFurthermore, bytecode modification :\r\n\r\n  - makes it harder to do a proper source code based security analysis, and\r\n  - could nullify the (limited)  security benefits of using a static analysis tool such as FindBugs.\r\n\r\n&gt; serialization, etc.?\r\n\r\nBytecode modification can do things that will make existing serialized objects unreadable by the modified class; e.g. by adding and removing fields, or by changing a classes superclass and interfaces.  However, you can do the same thing by changing the sourcecode.","title":"What are the dangers of bytecode manipulation (if any)?","body":"<blockquote>\n<p>Are there any disadvantages to using it (other than the fact that functionality is added to classes that is not apparent from the source code)?</p>\n</blockquote>\n<p>One thing is that bugs created by bytecode manipulation are likely to be more difficult to diagnose.  Examination of the source code, and source level debugging will be harder.</p>\n<blockquote>\n<p>Does it cause problems with security,</p>\n</blockquote>\n<p>The verifier should (in theory) prevent the modified bytecode from breaking the core type system and corrupting the JVM.  (And it goes without saying that untrusted code shouldn't be allowed to do bytecode modification, so we can discount that scenario.)  However, in the past, some Java byte code verifiers have been less than thorough.</p>\n<p>Furthermore, bytecode modification :</p>\n<ul>\n<li>makes it harder to do a proper source code based security analysis, and</li>\n<li>could nullify the (limited)  security benefits of using a static analysis tool such as FindBugs.</li>\n</ul>\n<blockquote>\n<p>serialization, etc.?</p>\n</blockquote>\n<p>Bytecode modification can do things that will make existing serialized objects unreadable by the modified class; e.g. by adding and removing fields, or by changing a classes superclass and interfaces.  However, you can do the same thing by changing the sourcecode.</p>\n"}],"owner":{"account_id":25928,"reputation":40525,"user_id":67063,"accept_rate":98,"display_name":"Tony the Pony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4194465,"answer_count":2,"score":3,"last_activity_date":1669115978,"creation_date":1289907398,"question_id":4193689,"body_markdown":"Bytecode enhancement seems like a very interesting Java technique, but it has the feel of a bit of &quot;black magic&quot; about it.  Are there any disadvantages to using it (other than the fact that functionality is added to classes that is not apparent from the source code)?\r\n\r\nDoes it cause problems with security, serialization, etc.?","title":"What are the dangers of bytecode manipulation (if any)?","body":"<p>Bytecode enhancement seems like a very interesting Java technique, but it has the feel of a bit of \"black magic\" about it.  Are there any disadvantages to using it (other than the fact that functionality is added to classes that is not apparent from the source code)?</p>\n\n<p>Does it cause problems with security, serialization, etc.?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22359857,"reputation":41,"user_id":17539030,"display_name":"Mike Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660118752,"creation_date":1660118752,"answer_id":73302816,"question_id":68730482,"body_markdown":"I have the same situation. This jackson config is working if you boot the application, but it not take effect if you just run test.","title":"Spring @JsonTest does not respect Jackson2ObjectMapperBuilderCustomizer customization bean","body":"<p>I have the same situation. This jackson config is working if you boot the application, but it not take effect if you just run test.</p>\n"},{"tags":[],"owner":{"account_id":8634,"reputation":8079,"user_id":15647,"accept_rate":92,"display_name":"wheleph"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669115937,"creation_date":1669115937,"answer_id":74531788,"question_id":68730482,"body_markdown":"The below approach works for me as of Spring Boot 2.5.12:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport org.springframework.boot.autoconfigure.jackson.Jackson2ObjectMapperBuilderCustomizer;\r\nimport org.springframework.boot.jackson.JsonComponent;\r\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\r\n\r\n/**\r\n * This customizer is annotated with @JsonComponent and hence is used both for production and @JsonTest tests.\r\n * More details &lt;a href=&quot;https://stackoverflow.com/questions/68730482/spring-jsontest-does-not-respect-jackson2objectmapperbuildercustomizer-customiz&quot;&gt;here&lt;/a&gt;\r\n */\r\n@JsonComponent\r\npublic class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\r\n    @Override\r\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n        jacksonObjectMapperBuilder.serializationInclusion(JsonInclude.Include.NON_NULL);\r\n    }\r\n}\r\n```\r\n\r\nAs much as I personally prefer to use `@Configuration` + `@Bean`, I had to refrain to `@JsonComponent` here because `@Import` seems to be more error-prone in the long run.","title":"Spring @JsonTest does not respect Jackson2ObjectMapperBuilderCustomizer customization bean","body":"<p>The below approach works for me as of Spring Boot 2.5.12:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport org.springframework.boot.autoconfigure.jackson.Jackson2ObjectMapperBuilderCustomizer;\nimport org.springframework.boot.jackson.JsonComponent;\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\n\n/**\n * This customizer is annotated with @JsonComponent and hence is used both for production and @JsonTest tests.\n * More details &lt;a href=&quot;https://stackoverflow.com/questions/68730482/spring-jsontest-does-not-respect-jackson2objectmapperbuildercustomizer-customiz&quot;&gt;here&lt;/a&gt;\n */\n@JsonComponent\npublic class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n        jacksonObjectMapperBuilder.serializationInclusion(JsonInclude.Include.NON_NULL);\n    }\n}\n</code></pre>\n<p>As much as I personally prefer to use <code>@Configuration</code> + <code>@Bean</code>, I had to refrain to <code>@JsonComponent</code> here because <code>@Import</code> seems to be more error-prone in the long run.</p>\n"}],"owner":{"account_id":6180382,"reputation":173,"user_id":4816074,"display_name":"Tomboyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74531788,"answer_count":2,"score":2,"last_activity_date":1669115937,"creation_date":1628613066,"question_id":68730482,"body_markdown":"I have a `@JsonTest` test case which doesn&#39;t find a `@Configuration` class containing a `Jackson2ObjectMapperBuilderCustomizer` bean, and so the test fails. I can fix this with an `@Import(...)`. Is there a way to make the `@JsonTest` find my configuration automatically, or is an `@Import` expected and the only way?\r\n\r\nContext:\r\n\r\nUsing Spring Boot Starter Parent v. 2.5.3.\r\n\r\nMy application needs to use ISO-8601 basic formatting for timestamps, which I have configured via Jackson2ObjectMapperBuilderCustomizer as follows:\r\n\r\n```java\r\n@Configuration\r\npublic class ObjectMapperConfig {\r\n  @Bean\r\n  public Jackson2ObjectMapperBuilderCustomizer jacksonCustomizer() {\r\n    return builder -&gt; {\r\n      builder.dateFormat(new StdDateFormat().withColonInTimeZone(false));\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nI wrote a small test to confirm that the `ObjectMapper` formats dates the expected way. However, `@JsonTest` does not discover my `@Configuration` with the customizations, so the test fails unless I explicitly `@Import(ObjectMapperConfig.class)`:\r\n\r\n```java\r\n@JsonTest\r\n@Import(ObjectMapperConfig.class) // This is required!\r\npublic class ObjectMapperConfigTest {\r\n\r\n  @Autowired ObjectMapper mapper;\r\n\r\n  @Test\r\n  public void dateFormat() throws Exception {\r\n    var input = Date.from(Instant.ofEpochMilli(0));\r\n\r\n    var actual = mapper.writeValueAsString(input);\r\n\r\n    // Write all dates in ISO-8601 Basic (not extended) format.\r\n    // Timezones should be formatted +0000 instead of +00:00\r\n    assertEquals(&quot;\\&quot;1970-01-01T00:00:00.000+0000\\&quot;&quot;, actual);\r\n  }\r\n}\r\n```\r\n\r\nMy understanding of `@JsonTest` is that it only discovers `@JsonComponent` annotations, so it would ignore normal `@Configuration`, which means (for me) it doesn&#39;t actually test the Json serialization layer. [This answer](https://stackoverflow.com/a/42854277/4816074) suggests what I am doing _should_ work, but that does not seem to be the case. Is using an `@Import` correct, or should I annotate my configuration otherwise? Based on the documentation, it seems inappropriate to use `@JsonComponent` instead of `@Configuration`, and the @JsonTest documentation doesn&#39;t seem to comment on my scenario. Advice is appreciated. Thanks!","title":"Spring @JsonTest does not respect Jackson2ObjectMapperBuilderCustomizer customization bean","body":"<p>I have a <code>@JsonTest</code> test case which doesn't find a <code>@Configuration</code> class containing a <code>Jackson2ObjectMapperBuilderCustomizer</code> bean, and so the test fails. I can fix this with an <code>@Import(...)</code>. Is there a way to make the <code>@JsonTest</code> find my configuration automatically, or is an <code>@Import</code> expected and the only way?</p>\n<p>Context:</p>\n<p>Using Spring Boot Starter Parent v. 2.5.3.</p>\n<p>My application needs to use ISO-8601 basic formatting for timestamps, which I have configured via Jackson2ObjectMapperBuilderCustomizer as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ObjectMapperConfig {\n  @Bean\n  public Jackson2ObjectMapperBuilderCustomizer jacksonCustomizer() {\n    return builder -&gt; {\n      builder.dateFormat(new StdDateFormat().withColonInTimeZone(false));\n    };\n  }\n}\n</code></pre>\n<p>I wrote a small test to confirm that the <code>ObjectMapper</code> formats dates the expected way. However, <code>@JsonTest</code> does not discover my <code>@Configuration</code> with the customizations, so the test fails unless I explicitly <code>@Import(ObjectMapperConfig.class)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTest\n@Import(ObjectMapperConfig.class) // This is required!\npublic class ObjectMapperConfigTest {\n\n  @Autowired ObjectMapper mapper;\n\n  @Test\n  public void dateFormat() throws Exception {\n    var input = Date.from(Instant.ofEpochMilli(0));\n\n    var actual = mapper.writeValueAsString(input);\n\n    // Write all dates in ISO-8601 Basic (not extended) format.\n    // Timezones should be formatted +0000 instead of +00:00\n    assertEquals(&quot;\\&quot;1970-01-01T00:00:00.000+0000\\&quot;&quot;, actual);\n  }\n}\n</code></pre>\n<p>My understanding of <code>@JsonTest</code> is that it only discovers <code>@JsonComponent</code> annotations, so it would ignore normal <code>@Configuration</code>, which means (for me) it doesn't actually test the Json serialization layer. <a href=\"https://stackoverflow.com/a/42854277/4816074\">This answer</a> suggests what I am doing <em>should</em> work, but that does not seem to be the case. Is using an <code>@Import</code> correct, or should I annotate my configuration otherwise? Based on the documentation, it seems inappropriate to use <code>@JsonComponent</code> instead of <code>@Configuration</code>, and the @JsonTest documentation doesn't seem to comment on my scenario. Advice is appreciated. Thanks!</p>\n"},{"tags":["java","rest","weblogic","java-web-start"],"answers":[{"comments":[{"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"score":0,"creation_date":1669116106,"post_id":74531693,"comment_id":131565736,"body_markdown":"For point number one, package is defined and included in ServletContainer in web.xml. For point 2, http://192.168.77.10:7001/address/webapi/myresource  gives error as 404","body":"For point number one, package is defined and included in ServletContainer in web.xml. For point 2, <a href=\"http://192.168.77.10:7001/address/webapi/myresource\" rel=\"nofollow noreferrer\">192.168.77.10:7001/address/webapi/myresource</a>  gives error as 404"},{"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"score":0,"creation_date":1669116363,"post_id":74531693,"comment_id":131565817,"body_markdown":"is there any mistake in web.xml file","body":"is there any mistake in web.xml file"},{"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"score":0,"creation_date":1669118046,"post_id":74531693,"comment_id":131566393,"body_markdown":"when I see the weblogic server, it shows http://desktop-2r433ks:7001/address/webapi/application.wadl as test point is that makes the issue","body":"when I see the weblogic server, it shows <a href=\"http://desktop-2r433ks:7001/address/webapi/application.wadl\" rel=\"nofollow noreferrer\">desktop-2r433ks:7001/address/webapi/application.wadl</a> as test point is that makes the issue"},{"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"score":0,"creation_date":1669285744,"post_id":74531693,"comment_id":131612211,"body_markdown":"I found jersey 3.1.0 has jakarta.ws.rs, Jakarta not support in Weblogic server 14C, when use jersey 1.8 it works fine","body":"I found jersey 3.1.0 has jakarta.ws.rs, Jakarta not support in Weblogic server 14C, when use jersey 1.8 it works fine"}],"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669115483,"creation_date":1669115483,"answer_id":74531693,"question_id":74531177,"body_markdown":"I see 2 potential issues:\r\n\r\n 1. Your class TestAddress has no package defined. If it&#39;s defined (but not displayed here), I think it should be &quot;com.vno.testaddress&quot; to comply with the init-param&gt; defined for your ServletContainer in web.xml\r\n 2. The value defined for your &quot;wls:context-root&quot; parameter is &quot;/address&quot;. So, to access your class and make it work, I think your URL should be &quot;http://192.168.77.10:7001/address/webapi/myresource &quot;\r\n\r\nLet me know","title":"URL path not working in when deployed in WebLogic server","body":"<p>I see 2 potential issues:</p>\n<ol>\n<li>Your class TestAddress has no package defined. If it's defined (but not displayed here), I think it should be &quot;com.vno.testaddress&quot; to comply with the init-param&gt; defined for your ServletContainer in web.xml</li>\n<li>The value defined for your &quot;wls:context-root&quot; parameter is &quot;/address&quot;. So, to access your class and make it work, I think your URL should be &quot;http://192.168.77.10:7001/address/webapi/myresource &quot;</li>\n</ol>\n<p>Let me know</p>\n"}],"owner":{"account_id":20669014,"reputation":31,"user_id":15175189,"display_name":"S Mugunthan kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669115483,"creation_date":1669113167,"question_id":74531177,"body_markdown":"type here\r\n\r\nI am trying to build REST API, I have created the web application project using maven and included jersey dependencies in pom.xml file. Also I have included web.xml file and weblogic.xml file in web-inf folder. when deployed and execute the URL path index.jsp is working fine. but other URL is not working it show the Not found. Unable to find what is wrong.\r\n\r\n**Web.xml file**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\r\n\t  &lt;display-name&gt;Rest service&lt;/display-name&gt;\r\n\t  &lt;servlet&gt;\r\n\t\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t\t&lt;init-param&gt;\r\n\t\t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n\t\t\t\t&lt;param-value&gt;com.vno.testaddress&lt;/param-value&gt;\r\n\t\t\t&lt;/init-param&gt;\r\n\t\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t\t&lt;/servlet&gt;\r\n\t\t&lt;servlet-mapping&gt;\r\n\t\t\t&lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\r\n\t\t&lt;/servlet-mapping&gt;\r\n\t&lt;/web-app&gt;\r\n\r\n**weblogic.xml**\r\n\r\n    \t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;wls:weblogic-web-app\r\n\t\txmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.9/weblogic-web-app.xsd&quot;&gt;\r\n\t\t&lt;wls:weblogic-version&gt;14.1.1.0&lt;/wls:weblogic-version&gt;\r\n\t\t&lt;wls:context-root&gt;/address&lt;/wls:context-root&gt;\r\n\t\t&lt;wls:container-descriptor&gt;\r\n\t\t\t&lt;prefer-web-inf-classes&gt;false&lt;/prefer-web-inf-classes&gt;\r\n\t\t\t&lt;wls:prefer-application-packages&gt;\r\n\t\t\t\t&lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\r\n\r\n\t\t\t\t&lt;wls:package-name&gt;org.glassfish.jersey.*&lt;/wls:package-name&gt;\r\n\t\t\t\t&lt;wls:package-name&gt;io.swagger.core.*&lt;/wls:package-name&gt;\r\n\t\t\t\t&lt;wls:package-name&gt;io.swagger.parser.*&lt;/wls:package-name&gt;\r\n\t\t\t&lt;/wls:prefer-application-packages&gt;\r\n\t\t&lt;/wls:container-descriptor&gt;\r\n\t&lt;/wls:weblogic-web-app&gt;\r\n\r\n**Java code:**\r\n\r\n    \timport jakarta.ws.rs.GET;\r\n\timport jakarta.ws.rs.Path;\r\n\timport jakarta.ws.rs.Produces;\r\n\timport jakarta.ws.rs.core.MediaType;\r\n\r\n\t/**\r\n\t * Hello world!\r\n\t *\r\n\t */\r\n\t@Path(&quot;myresource&quot;)\r\n\tpublic class Testaddress \r\n\t{\r\n\t\t @GET\r\n\t\t\t@Produces(MediaType.TEXT_PLAIN)\r\n\t\t\tpublic String getIt() {\r\n\t\t\t\treturn &quot;Hello world!&quot;;\r\n\t\t\t}\r\n\t}\r\n\r\n**Error:**\r\n\r\nI am trying to use this url :**http://192.168.77.10:7001/testaddress-0.0.1-SNAPSHOT/webapi/myresource**  and expecting the result as &quot;Hello World!&quot; but it shows not found.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yXlrO.png","title":"URL path not working in when deployed in WebLogic server","body":"<p>type here</p>\n<p>I am trying to build REST API, I have created the web application project using maven and included jersey dependencies in pom.xml file. Also I have included web.xml file and weblogic.xml file in web-inf folder. when deployed and execute the URL path index.jsp is working fine. but other URL is not working it show the Not found. Unable to find what is wrong.</p>\n<p><strong>Web.xml file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;Rest service&lt;/display-name&gt;\n  &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.vno.testaddress&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>weblogic.xml</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wls:weblogic-web-app\n    xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd http://xmlns.oracle.com/weblogic/weblogic-web-app http://xmlns.oracle.com/weblogic/weblogic-web-app/1.9/weblogic-web-app.xsd&quot;&gt;\n    &lt;wls:weblogic-version&gt;14.1.1.0&lt;/wls:weblogic-version&gt;\n    &lt;wls:context-root&gt;/address&lt;/wls:context-root&gt;\n    &lt;wls:container-descriptor&gt;\n        &lt;prefer-web-inf-classes&gt;false&lt;/prefer-web-inf-classes&gt;\n        &lt;wls:prefer-application-packages&gt;\n            &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\n\n            &lt;wls:package-name&gt;org.glassfish.jersey.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;io.swagger.core.*&lt;/wls:package-name&gt;\n            &lt;wls:package-name&gt;io.swagger.parser.*&lt;/wls:package-name&gt;\n        &lt;/wls:prefer-application-packages&gt;\n    &lt;/wls:container-descriptor&gt;\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n<p><strong>Java code:</strong></p>\n<pre><code>    import jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n/**\n * Hello world!\n *\n */\n@Path(&quot;myresource&quot;)\npublic class Testaddress \n{\n     @GET\n        @Produces(MediaType.TEXT_PLAIN)\n        public String getIt() {\n            return &quot;Hello world!&quot;;\n        }\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<p>I am trying to use this url :<strong><a href=\"http://192.168.77.10:7001/testaddress-0.0.1-SNAPSHOT/webapi/myresource\" rel=\"nofollow noreferrer\">http://192.168.77.10:7001/testaddress-0.0.1-SNAPSHOT/webapi/myresource</a></strong>  and expecting the result as &quot;Hello World!&quot; but it shows not found.\n<a href=\"https://i.stack.imgur.com/yXlrO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yXlrO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","redis","spring-webflux"],"owner":{"account_id":3030715,"reputation":11451,"user_id":2569793,"accept_rate":58,"display_name":"WISHY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669115474,"creation_date":1669115474,"question_id":74531690,"body_markdown":"Currently I am storing some value in redis\r\nAnd when I try to get the value I am getting `MonoNext`\r\n\r\n\r\nThis is the code \r\n\r\n    redisOps.opsForValue().set(sId + &quot;_&quot; + cId + &quot;_&quot; + sufix, true);\r\n\r\n    Mono&lt;String&gt; data =  redisOps.opsForValue().get(sId + &quot;_&quot; + cId + &quot;_&quot; + sufix);\r\n\r\nI am expecting it to be of `Mono&lt;String&gt;`.\r\n\r\nIs there something wrong here?\r\n\r\n","title":"Unable to get value from redis using webflux","body":"<p>Currently I am storing some value in redis\nAnd when I try to get the value I am getting <code>MonoNext</code></p>\n<p>This is the code</p>\n<pre><code>redisOps.opsForValue().set(sId + &quot;_&quot; + cId + &quot;_&quot; + sufix, true);\n\nMono&lt;String&gt; data =  redisOps.opsForValue().get(sId + &quot;_&quot; + cId + &quot;_&quot; + sufix);\n</code></pre>\n<p>I am expecting it to be of <code>Mono&lt;String&gt;</code>.</p>\n<p>Is there something wrong here?</p>\n"},{"tags":["java","android","file","permissions","google-drive-api"],"answers":[{"tags":[],"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669115294,"creation_date":1669115294,"answer_id":74531631,"question_id":74523471,"body_markdown":"Solved, permission was not properly set, should have used user and set the email address:\r\n\r\n                accessPermission.setEmailAddress(email);\r\n                accessPermission.setType(&quot;user&quot;);\r\n                accessPermission.setRole(&quot;reader&quot;);","title":"Java DriveAPI - how to add people to a shared file","body":"<p>Solved, permission was not properly set, should have used user and set the email address:</p>\n<pre><code>            accessPermission.setEmailAddress(email);\n            accessPermission.setType(&quot;user&quot;);\n            accessPermission.setRole(&quot;reader&quot;);\n</code></pre>\n"}],"owner":{"account_id":1336852,"reputation":1,"user_id":1279405,"display_name":"mekanix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669115294,"creation_date":1669055829,"question_id":74523471,"body_markdown":"I am uploading some files on google drive and make them public (anyone/reader) however, I need to add people to the files (like you would do in the Drive App) so I can later read those files from those accounts.\r\n\r\nBelow a code snippet I use - as you can see I am setting the file permissions\r\n\r\n\r\n\r\n```\r\npublic Task&lt;String&gt; uploadFileToGoogleDrive(String path) {\r\n\r\n    if (folderId.isEmpty()) {\r\n        Log.e(TAG, &quot;uploadFileToGoogleDrive: folder id not present&quot;);\r\n        isFolderPresent().addOnSuccessListener(id -&gt; folderId = id)\r\n                .addOnFailureListener(exception -&gt; Log.e(TAG, &quot;Couldn&#39;t create file.&quot;, exception));\r\n    }\r\n\r\n    return Tasks.call(mExecutor, () -&gt; {\r\n\r\n        java.io.File filePath = new java.io.File(path);\r\n\r\n        File fileMetadata = new File();\r\n        fileMetadata.setName(filePath.getName());\r\n        fileMetadata.setParents(Collections.singletonList(folderId));\r\n        fileMetadata.setMimeType(Utils.getFileMimeType(filePath));\r\n\r\n        FileContent mediaContent = new FileContent(Utils.getFileMimeType(filePath), filePath);\r\n        File file = mDriveService.files().create(fileMetadata, mediaContent)\r\n                .setFields(&quot;id&quot;)\r\n                .setIncludePermissionsForView(&quot;published&quot;)\r\n                .execute();\r\n        Log.i(TAG, &quot;uploadFileToGoogleDrive: &quot; + &quot; File ID: &quot; + file.getId());\r\n\r\n        File permissionsMetadata = new File();\r\n        permissionsMetadata.setShared(true);\r\n        Permission p = new Permission();\r\n        p.setType(&quot;anyone&quot;);\r\n        p.setRole(&quot;reader&quot;);\r\n        permissionsMetadata.setPermissions(Arrays.asList(new Permission[]{p}));\r\n        mDriveService.permissions().create(file.getId(),p).execute();\r\n\r\n        return file.getId();\r\n    });\r\n}\r\n```\r\n\r\n\r\nI tried adding people from Permissions somehow, or Metadata but did not find a way","title":"Java DriveAPI - how to add people to a shared file","body":"<p>I am uploading some files on google drive and make them public (anyone/reader) however, I need to add people to the files (like you would do in the Drive App) so I can later read those files from those accounts.</p>\n<p>Below a code snippet I use - as you can see I am setting the file permissions</p>\n<pre><code>public Task&lt;String&gt; uploadFileToGoogleDrive(String path) {\n\n    if (folderId.isEmpty()) {\n        Log.e(TAG, &quot;uploadFileToGoogleDrive: folder id not present&quot;);\n        isFolderPresent().addOnSuccessListener(id -&gt; folderId = id)\n                .addOnFailureListener(exception -&gt; Log.e(TAG, &quot;Couldn't create file.&quot;, exception));\n    }\n\n    return Tasks.call(mExecutor, () -&gt; {\n\n        java.io.File filePath = new java.io.File(path);\n\n        File fileMetadata = new File();\n        fileMetadata.setName(filePath.getName());\n        fileMetadata.setParents(Collections.singletonList(folderId));\n        fileMetadata.setMimeType(Utils.getFileMimeType(filePath));\n\n        FileContent mediaContent = new FileContent(Utils.getFileMimeType(filePath), filePath);\n        File file = mDriveService.files().create(fileMetadata, mediaContent)\n                .setFields(&quot;id&quot;)\n                .setIncludePermissionsForView(&quot;published&quot;)\n                .execute();\n        Log.i(TAG, &quot;uploadFileToGoogleDrive: &quot; + &quot; File ID: &quot; + file.getId());\n\n        File permissionsMetadata = new File();\n        permissionsMetadata.setShared(true);\n        Permission p = new Permission();\n        p.setType(&quot;anyone&quot;);\n        p.setRole(&quot;reader&quot;);\n        permissionsMetadata.setPermissions(Arrays.asList(new Permission[]{p}));\n        mDriveService.permissions().create(file.getId(),p).execute();\n\n        return file.getId();\n    });\n}\n</code></pre>\n<p>I tried adding people from Permissions somehow, or Metadata but did not find a way</p>\n"},{"tags":["java","jenkins"],"owner":{"account_id":25946793,"reputation":99,"user_id":19665422,"display_name":"Thorbj&#248;rn Andersen - UFST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669115225,"creation_date":1669115225,"question_id":74531615,"body_markdown":"A fellow team have a gradle build running in a Jenkins Agent in Kubernetes using `container(&quot;...)` where for some reason the `user.home` and `user.name` properties are set to question marks, causing library code trying to use files in the user home directory to get malformed file names.\r\n\r\n```\r\nuser.home: ?\r\nuser.language: en\r\nuser.name: ?\r\n```\r\n\r\nWhat set of circumstances could result in this?    Current user id not found in `/etc/passwd`?  Values overriden by Jenkins?  Permission problem in image?","title":"Why are user.home and user.name question marks in Jenkins agent build?","body":"<p>A fellow team have a gradle build running in a Jenkins Agent in Kubernetes using <code>container(&quot;...)</code> where for some reason the <code>user.home</code> and <code>user.name</code> properties are set to question marks, causing library code trying to use files in the user home directory to get malformed file names.</p>\n<pre><code>user.home: ?\nuser.language: en\nuser.name: ?\n</code></pre>\n<p>What set of circumstances could result in this?    Current user id not found in <code>/etc/passwd</code>?  Values overriden by Jenkins?  Permission problem in image?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668854983,"post_id":74490710,"comment_id":131510415,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":21366923,"reputation":3,"user_id":15734953,"display_name":"Vleis"},"score":0,"creation_date":1669276942,"post_id":74531578,"comment_id":131609104,"body_markdown":"Thank you laalto! I have attempted this but then I get a &quot;cannot resolve symbol &#39;Fragment&#39;&quot; error. So I tried adding &quot;implementation &#39;com.android.support:support-v4:18.0.0&#39;&quot; to my dependencies to address this but then I get another error: &quot;Version 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to the AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...&quot;.","body":"Thank you laalto! I have attempted this but then I get a &quot;cannot resolve symbol &#39;Fragment&#39;&quot; error. So I tried adding &quot;implementation &#39;com.android.support:support-v4:18.0.0&#39;&quot; to my dependencies to address this but then I get another error: &quot;Version 28 (intended for Android Pie and below) is the last version of the legacy support library, so we recommend that you migrate to the AndroidX libraries when using Android Q and moving forward. The IDE can help with this: Refactor &gt; Migrate to AndroidX...&quot;."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1669278001,"post_id":74531578,"comment_id":131609446,"body_markdown":"implementation &quot;androidx.fragment:fragment:1.5.4&quot;","body":"implementation &quot;androidx.fragment:fragment:1.5.4&quot;"},{"owner":{"account_id":21366923,"reputation":3,"user_id":15734953,"display_name":"Vleis"},"score":0,"creation_date":1669379785,"post_id":74531578,"comment_id":131634246,"body_markdown":"laalto you genius! Thank you so much for your help and your patience explaining it to me! To summarise for anyone else following, 3 things needed to be changed: 1) In MainActivity - I replaced &quot;import android.app.Fragment&quot; with &quot;import androidx.fragment.app.Fragment&quot;. 2) I deleted &quot;import.com.google.android.gms.maps.MapFragment&quot; 3) Under dependencies (in build.gradle(:app) - I added &quot;implementation &#39;androidx.fragment:fragment:1.5.4&#39;&quot;","body":"laalto you genius! Thank you so much for your help and your patience explaining it to me! To summarise for anyone else following, 3 things needed to be changed: 1) In MainActivity - I replaced &quot;import android.app.Fragment&quot; with &quot;import androidx.fragment.app.Fragment&quot;. 2) I deleted &quot;import.com.google.android.gms.maps.MapFragment&quot; 3) Under dependencies (in build.gradle(:app) - I added &quot;implementation &#39;androidx.fragment:fragment:1.5.4&#39;&quot;"}],"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669115039,"creation_date":1669115039,"answer_id":74531578,"question_id":74490710,"body_markdown":"You&#39;re mixing up old platform fragments (`android.app.Fragment`) with up-to-date AndroidX support library fragments (`androidx.fragment.app.Fragment`).\r\n\r\nIn your main activity, replace `import android.app.Fragment` with the corresponding androidx import. Also delete `import com.google.android.gms.maps.MapFragment` to use your own `MapFragment` instead.","title":"Android error in getSupportFragmentManager","body":"<p>You're mixing up old platform fragments (<code>android.app.Fragment</code>) with up-to-date AndroidX support library fragments (<code>androidx.fragment.app.Fragment</code>).</p>\n<p>In your main activity, replace <code>import android.app.Fragment</code> with the corresponding androidx import. Also delete <code>import com.google.android.gms.maps.MapFragment</code> to use your own <code>MapFragment</code> instead.</p>\n"}],"owner":{"account_id":21366923,"reputation":3,"user_id":15734953,"display_name":"Vleis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74531578,"answer_count":1,"score":0,"last_activity_date":1669115039,"creation_date":1668779640,"question_id":74490710,"body_markdown":"I am really new to Java and I am trying to create a Google Map in a fragment however I am receiving the error: &quot;&#39;replace(int, androidx.fragment.app.Fragment)&#39; in &#39;androidx.fragment.app.FragmentTransaction&#39; cannot be applied to &#39;(int, android.app.Fragment)&#39;&quot; when I try open the fragment in MainActivity. Does anyone know what my problem is?\r\n\r\n\r\nMy code for MainActivity.java is:\r\n\r\n```\r\npackage com.example.mapinfragment;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Fragment;\r\nimport android.os.Bundle;\r\n\r\nimport com.google.android.gms.maps.MapFragment;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //Initialise fragment\r\n        Fragment fragment = new MapFragment();\r\n\r\n        //Open fragment\r\n        getSupportFragmentManager()\r\n                .beginTransaction()\r\n                .replace(R.id.frame_layout,fragment)\r\n                .commit();\r\n    }\r\n}\r\n```\r\nAnd for activity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/frame_layout&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nAnd for fragment_map.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MapFragment&quot;&gt;\r\n    \r\n    &lt;fragment\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/google_map&quot;\r\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nAnd for MapFragment.java\r\n\r\n```\r\npackage com.example.mapinfragment;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\npublic class MapFragment extends Fragment {\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Initialise view\r\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\r\n\r\n        //Initialise map fragment\r\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\r\n                getChildFragmentManager().findFragmentById(R.id.google_map);\r\n\r\n        //Async map\r\n        supportMapFragment.getMapAsync(new OnMapReadyCallback() {\r\n            @Override\r\n            public void onMapReady(@NonNull GoogleMap googleMap) {\r\n                //When map is loaded\r\n                googleMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n                    @Override\r\n                    public void onMapClick(@NonNull LatLng latLng) {\r\n                        //When clicked on map\r\n                        //Initialise marker options\r\n                        MarkerOptions markerOptions = new MarkerOptions();\r\n                        //Set position of marker\r\n                        markerOptions.position(latLng);\r\n                        //Set title of marker\r\n                        markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\r\n                        //Remove all markers\r\n                        googleMap.clear();\r\n                        //Animating the zoom to marker\r\n                        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(\r\n                                latLng,10\r\n                        ));\r\n                        //Add marker on map\r\n                        googleMap.addMarker(markerOptions);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        //Return view\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Android error in getSupportFragmentManager","body":"<p>I am really new to Java and I am trying to create a Google Map in a fragment however I am receiving the error: &quot;'replace(int, androidx.fragment.app.Fragment)' in 'androidx.fragment.app.FragmentTransaction' cannot be applied to '(int, android.app.Fragment)'&quot; when I try open the fragment in MainActivity. Does anyone know what my problem is?</p>\n<p>My code for MainActivity.java is:</p>\n<pre><code>package com.example.mapinfragment;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Fragment;\nimport android.os.Bundle;\n\nimport com.google.android.gms.maps.MapFragment;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Initialise fragment\n        Fragment fragment = new MapFragment();\n\n        //Open fragment\n        getSupportFragmentManager()\n                .beginTransaction()\n                .replace(R.id.frame_layout,fragment)\n                .commit();\n    }\n}\n</code></pre>\n<p>And for activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/frame_layout&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And for fragment_map.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MapFragment&quot;&gt;\n    \n    &lt;fragment\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/google_map&quot;\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And for MapFragment.java</p>\n<pre><code>package com.example.mapinfragment;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\npublic class MapFragment extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Initialise view\n        View view = inflater.inflate(R.layout.fragment_map, container, false);\n\n        //Initialise map fragment\n        SupportMapFragment supportMapFragment = (SupportMapFragment)\n                getChildFragmentManager().findFragmentById(R.id.google_map);\n\n        //Async map\n        supportMapFragment.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(@NonNull GoogleMap googleMap) {\n                //When map is loaded\n                googleMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n                    @Override\n                    public void onMapClick(@NonNull LatLng latLng) {\n                        //When clicked on map\n                        //Initialise marker options\n                        MarkerOptions markerOptions = new MarkerOptions();\n                        //Set position of marker\n                        markerOptions.position(latLng);\n                        //Set title of marker\n                        markerOptions.title(latLng.latitude + &quot; : &quot; + latLng.longitude);\n                        //Remove all markers\n                        googleMap.clear();\n                        //Animating the zoom to marker\n                        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(\n                                latLng,10\n                        ));\n                        //Add marker on map\n                        googleMap.addMarker(markerOptions);\n                    }\n                });\n            }\n        });\n\n        //Return view\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669110468,"post_id":74530495,"comment_id":131563678,"body_markdown":"Please don&#39;t post screenshots of code, post the code as code-formatted text in the question itself. Also, please write a title that actually paraphrases your question. Don&#39;t use it as if it&#39;s the first paragraph of your question.","body":"Please don&#39;t post screenshots of code, post the code as code-formatted text in the question itself. Also, please write a title that actually paraphrases your question. Don&#39;t use it as if it&#39;s the first paragraph of your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669144748,"post_id":74530495,"comment_id":131576459,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":27011276,"reputation":1,"user_id":20570890,"display_name":"Muhammad Mubeen"},"score":0,"creation_date":1669117509,"post_id":74531549,"comment_id":131566204,"body_markdown":"it&#39;s giving error on bitmap","body":"it&#39;s giving error on bitmap"},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1669272557,"post_id":74531549,"comment_id":131607871,"body_markdown":"what is the error can you describe?","body":"what is the error can you describe?"},{"owner":{"account_id":27011276,"reputation":1,"user_id":20570890,"display_name":"Muhammad Mubeen"},"score":0,"creation_date":1669360347,"post_id":74531549,"comment_id":131628559,"body_markdown":"Its giving error on bitmap. That it is not initialized. Ask me to make a variable. I try it to make a Bitmap variable but that doesn&#39;t work to. And also the bitmap is not showing in imageview to.","body":"Its giving error on bitmap. That it is not initialized. Ask me to make a variable. I try it to make a Bitmap variable but that doesn&#39;t work to. And also the bitmap is not showing in imageview to."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1669634014,"post_id":74531549,"comment_id":131678931,"body_markdown":"but. its already works for me, even in Android S","body":"but. its already works for me, even in Android S"}],"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669114903,"creation_date":1669114903,"answer_id":74531549,"question_id":74530495,"body_markdown":"Here was an demo that can help with your project...\r\n\r\nOn Button Click...\r\n```java\r\n//photoFile is global variable File photoFile = null;\r\nIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\ntry {\r\n   photoFile = createImageFile();\r\n   if (photoFile != null) {\r\n       Uri photoURI = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, photoFile);\r\n       takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n       startActivityForResult(takePictureIntent, 501);\r\n   }\r\n} catch (Exception e) {\r\n     e.printStackTrace();\r\n}\r\n```\r\n\r\nPut this method in your class\r\n\r\n```java\r\nprivate File createImageFile() throws IOException {\r\n      long timeStamp = Calendar.getInstance().getTimeInMillis();\r\n      String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n      File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n      File image = File.createTempFile(\r\n              imageFileName,  /* prefix */\r\n              &quot;.jpg&quot;,   /* suffix */\r\n              storageDir      /* directory */\r\n      );\r\n      return image;\r\n  }\r\n```\r\n\r\nGet Result from camera\r\n\r\n```java\r\n@Override\r\n  protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n      if (resultCode == RESULT_OK) {\r\n          switch (requestCode) {\r\n              case 501:\r\n                  if (photoFile != null) {\r\n                      bitmap = BitmapFactory.decodeFile(photoFile.getAbsolutePath());\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  if (bitmap != null) {\r\n                          // you got bitmap here\r\n                      }\r\n                  }\r\n                  break;\r\n          }\r\n      }\r\n      super.onActivityResult(requestCode, resultCode, data);\r\n  }\r\n```","title":"I need a high quality image on my imageview, but I don&#39;t get any view in my imageview","body":"<p>Here was an demo that can help with your project...</p>\n<p>On Button Click...</p>\n<pre class=\"lang-java prettyprint-override\"><code>//photoFile is global variable File photoFile = null;\nIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\ntry {\n   photoFile = createImageFile();\n   if (photoFile != null) {\n       Uri photoURI = FileProvider.getUriForFile(this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, photoFile);\n       takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n       startActivityForResult(takePictureIntent, 501);\n   }\n} catch (Exception e) {\n     e.printStackTrace();\n}\n</code></pre>\n<p>Put this method in your class</p>\n<pre class=\"lang-java prettyprint-override\"><code>private File createImageFile() throws IOException {\n      long timeStamp = Calendar.getInstance().getTimeInMillis();\n      String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n      File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n      File image = File.createTempFile(\n              imageFileName,  /* prefix */\n              &quot;.jpg&quot;,   /* suffix */\n              storageDir      /* directory */\n      );\n      return image;\n  }\n</code></pre>\n<p>Get Result from camera</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n  protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n      if (resultCode == RESULT_OK) {\n          switch (requestCode) {\n              case 501:\n                  if (photoFile != null) {\n                      bitmap = BitmapFactory.decodeFile(photoFile.getAbsolutePath());\n                      \n                      if (bitmap != null) {\n                          // you got bitmap here\n                      }\n                  }\n                  break;\n          }\n      }\n      super.onActivityResult(requestCode, resultCode, data);\n  }\n</code></pre>\n"}],"owner":{"account_id":27011276,"reputation":1,"user_id":20570890,"display_name":"Muhammad Mubeen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669114903,"creation_date":1669110342,"question_id":74530495,"body_markdown":"This is my code for camera(i am using File Provider)\r\n**This is MainActivity[MainActivity.java](https://i.stack.imgur.com/XoYPU.png)** [MainActivity.java](https://i.stack.imgur.com/NOoIV.png)\r\n\r\n**This is my display Activity[DisplayActivity.java](https://i.stack.imgur.com/V0AEw.png)**\r\n\r\nPlz help i tried so may codes and make projects again and again.\r\n\r\n\r\nI am trying to get high quality image from the camera and display it on the imageview.","title":"I need a high quality image on my imageview, but I don&#39;t get any view in my imageview","body":"<p>This is my code for camera(i am using File Provider)\n<strong>This is MainActivity<a href=\"https://i.stack.imgur.com/XoYPU.png\" rel=\"nofollow noreferrer\">MainActivity.java</a></strong> <a href=\"https://i.stack.imgur.com/NOoIV.png\" rel=\"nofollow noreferrer\">MainActivity.java</a></p>\n<p><strong>This is my display Activity<a href=\"https://i.stack.imgur.com/V0AEw.png\" rel=\"nofollow noreferrer\">DisplayActivity.java</a></strong></p>\n<p>Plz help i tried so may codes and make projects again and again.</p>\n<p>I am trying to get high quality image from the camera and display it on the imageview.</p>\n"},{"tags":["java","arrays","validation","if-statement","exception"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669114687,"post_id":74531212,"comment_id":131565288,"body_markdown":"Wel, just get the list of children, get the value for key `&quot;type&quot;` and check that it&#39;s only `&quot;value&quot;` (`String.equalsIgnoreCase()` might be the method you want). If nested children need to be validated just make it a recursive call.","body":"Wel, just get the list of children, get the value for key <code>&quot;type&quot;</code> and check that it&#39;s only <code>&quot;value&quot;</code> (<code>String.equalsIgnoreCase()</code> might be the method you want). If nested children need to be validated just make it a recursive call."},{"owner":{"account_id":27010628,"reputation":1,"user_id":20570353,"display_name":"Rajesh "},"score":0,"creation_date":1669127758,"post_id":74531212,"comment_id":131570076,"body_markdown":"@Thomas Thank you for commenting. I tried to make recursive call but still I am not achieving this. may be I am missing something. If possible can you please share me the code for recursive call ? By modifying the existing code.","body":"@Thomas Thank you for commenting. I tried to make recursive call but still I am not achieving this. may be I am missing something. If possible can you please share me the code for recursive call ? By modifying the existing code."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669128132,"post_id":74531212,"comment_id":131570219,"body_markdown":"Well, just try to extract &quot;children&quot; again nd feed that list to another call of `validateSublist()`. Btw, `objectSet.contains(TYPE != &quot;value&quot;))` has 2 issues: 1) strings should not be compared using `==` or `!=` but rather via `equals()` and 2) this expression would result in `objectSet.contains(false)` (or even `contains(true)`) which is always `false` because the set doesn&#39;t contains booleans but strings.","body":"Well, just try to extract &quot;children&quot; again nd feed that list to another call of <code>validateSublist()</code>. Btw, <code>objectSet.contains(TYPE != &quot;value&quot;))</code> has 2 issues: 1) strings should not be compared using <code>==</code> or <code>!=</code> but rather via <code>equals()</code> and 2) this expression would result in <code>objectSet.contains(false)</code> (or even <code>contains(true)</code>) which is always <code>false</code> because the set doesn&#39;t contains booleans but strings."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669128182,"post_id":74531212,"comment_id":131570242,"body_markdown":"Btw, if you&#39;re struggling with recursion you might want to share your attempt as text (not as an image). You might also want to read [ask].","body":"Btw, if you&#39;re struggling with recursion you might want to share your attempt as text (not as an image). You might also want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":27010628,"reputation":1,"user_id":20570353,"display_name":"Rajesh "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669114302,"creation_date":1669113363,"question_id":74531212,"body_markdown":"![enter image description here][1]\r\n\r\nI have child array inside the parent array. In the child array &quot;type&quot; can be SUBLIST/VALUE. But I need to make a validation that &quot;type&quot; should be VALUE only and it should throw exception when we pass any other value than &quot;VALUE&quot;.\r\n```\r\n    {\r\n        &quot;id&quot;: &quot;con&quot;,\r\n        &quot;expanded&quot;: false,\r\n        &quot;canDrag&quot;: true,\r\n        &quot;canRemove&quot;: true,\r\n        &quot;description&quot;: &quot;desc&quot;,\r\n        &quot;canAdd&quot;: true,\r\n        &quot;version&quot;: &quot;1.0.0&quot;,\r\n        &quot;type&quot;: &quot;list&quot;,\r\n        &quot;listname&quot;: &quot;xxx&quot;,\r\n        &quot;hierarchallistUUID&quot;:&quot;53l-9803-4nld-9080-9m104&quot;,\r\n        &quot;code&quot;: &quot;xxx&quot;,\r\n        &quot;language&quot;: &quot;en-US&quot;,\r\n        &quot;children&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;cntient-eu-european&quot;,\r\n                &quot;expanded&quot;: false,            \r\n                &quot;canDrag&quot;: true,\r\n                &quot;canRemove&quot;: true,\r\n                &quot;canAdd&quot;: true,\r\n                &quot;type&quot;: &quot;sublist&quot;,\r\n                &quot;code&quot;: &quot;JT&quot;,\r\n                &quot;label&quot;: &quot;L&quot;,\r\n                &quot;uuid&quot;: &quot;o98-cq-42b0-a4e7-ddf6e55qbn&quot;,\r\n                &quot;startDate&quot;: &quot;2022-04-10&quot;,\r\n                &quot;endDate&quot;: &quot;2023-04-11&quot;,\r\n                &quot;isLock&quot;: &quot;false&quot;,\r\n                &quot;children&quot;: [\r\n                    {\r\n                        &quot;id&quot;: &quot;eurqean-be-belgium1212&quot;,\r\n                        &quot;expanded&quot;: false,\r\n                        &quot;canDrag&quot;: true,\r\n                        &quot;canRemove&quot;: true,\r\n                        &quot;canAdd&quot;: true,\r\n                        &quot;type&quot;: &quot;sublist&quot;,\r\n                        &quot;code&quot;: &quot;KB&quot;,\r\n                        &quot;label&quot;: &quot;Belgium&quot;,\r\n                        &quot;uuid&quot;: &quot;q75-0a9d-42b0-aqe7-kl55ab5b4&quot;,\r\n                        &quot;isLock&quot;: &quot;false&quot;\r\n                    }\r\n                ]\r\n                \r\n            }\r\n        \r\n        ]\r\n    }\r\n```\r\n\r\n\r\nI have converted jsonArray into List but I am not able to make a logic to set TYPE as VALUE only.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XStw9.png","title":"How to put validation in children array?","body":"<p><img src=\"https://i.stack.imgur.com/XStw9.png\" alt=\"enter image description here\" /></p>\n<p>I have child array inside the parent array. In the child array &quot;type&quot; can be SUBLIST/VALUE. But I need to make a validation that &quot;type&quot; should be VALUE only and it should throw exception when we pass any other value than &quot;VALUE&quot;.</p>\n<pre><code>    {\n        &quot;id&quot;: &quot;con&quot;,\n        &quot;expanded&quot;: false,\n        &quot;canDrag&quot;: true,\n        &quot;canRemove&quot;: true,\n        &quot;description&quot;: &quot;desc&quot;,\n        &quot;canAdd&quot;: true,\n        &quot;version&quot;: &quot;1.0.0&quot;,\n        &quot;type&quot;: &quot;list&quot;,\n        &quot;listname&quot;: &quot;xxx&quot;,\n        &quot;hierarchallistUUID&quot;:&quot;53l-9803-4nld-9080-9m104&quot;,\n        &quot;code&quot;: &quot;xxx&quot;,\n        &quot;language&quot;: &quot;en-US&quot;,\n        &quot;children&quot;: [\n            {\n                &quot;id&quot;: &quot;cntient-eu-european&quot;,\n                &quot;expanded&quot;: false,            \n                &quot;canDrag&quot;: true,\n                &quot;canRemove&quot;: true,\n                &quot;canAdd&quot;: true,\n                &quot;type&quot;: &quot;sublist&quot;,\n                &quot;code&quot;: &quot;JT&quot;,\n                &quot;label&quot;: &quot;L&quot;,\n                &quot;uuid&quot;: &quot;o98-cq-42b0-a4e7-ddf6e55qbn&quot;,\n                &quot;startDate&quot;: &quot;2022-04-10&quot;,\n                &quot;endDate&quot;: &quot;2023-04-11&quot;,\n                &quot;isLock&quot;: &quot;false&quot;,\n                &quot;children&quot;: [\n                    {\n                        &quot;id&quot;: &quot;eurqean-be-belgium1212&quot;,\n                        &quot;expanded&quot;: false,\n                        &quot;canDrag&quot;: true,\n                        &quot;canRemove&quot;: true,\n                        &quot;canAdd&quot;: true,\n                        &quot;type&quot;: &quot;sublist&quot;,\n                        &quot;code&quot;: &quot;KB&quot;,\n                        &quot;label&quot;: &quot;Belgium&quot;,\n                        &quot;uuid&quot;: &quot;q75-0a9d-42b0-aqe7-kl55ab5b4&quot;,\n                        &quot;isLock&quot;: &quot;false&quot;\n                    }\n                ]\n                \n            }\n        \n        ]\n    }\n</code></pre>\n<p>I have converted jsonArray into List but I am not able to make a logic to set TYPE as VALUE only.</p>\n"},{"tags":["java","arrays","multidimensional-array","foreach"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1668886482,"post_id":74503039,"comment_id":131517017,"body_markdown":"what do you think those for loops are doing?","body":"what do you think those for loops are doing?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668889189,"post_id":74503039,"comment_id":131517554,"body_markdown":"Did you consider [`Arrays.deepToString(j)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D))?","body":"Did you consider <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.deepToString(j)</code></a>?"}],"answers":[{"comments":[{"owner":{"account_id":19443210,"reputation":25,"user_id":14221265,"display_name":"Сonspicuous"},"score":0,"creation_date":1668888827,"post_id":74503079,"comment_id":131517482,"body_markdown":"thanks, but i know this way, so I want to know how using this type of loop, that I asked","body":"thanks, but i know this way, so I want to know how using this type of loop, that I asked"},{"owner":{"account_id":19443210,"reputation":25,"user_id":14221265,"display_name":"Сonspicuous"},"score":1,"creation_date":1668894393,"post_id":74503079,"comment_id":131518498,"body_markdown":"for (int[] i: array2){\n            for (int j: i){\n                System.out.println(j);\n            }\n        }\n\nthat&#39;s what I want to know","body":"for (int[] i: array2){             for (int j: i){                 System.out.println(j);             }         }  that&#39;s what I want to know"}],"tags":[],"owner":{"account_id":17672917,"reputation":186,"user_id":12828626,"display_name":"Timo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668886689,"creation_date":1668886689,"answer_id":74503079,"question_id":74503039,"body_markdown":"You have an array of arrays, so each index in `array2` contains another array that is an object itself. What you get back your way is the memory address of this object.\r\n\r\nAn easy way to print the array the way you want it would be the following:\r\n```java\r\nfor (int i = 0; i &lt; array.length; i++) {\r\n    for(int j = 0; i &lt; array.length; j++){\r\n        System.out.println(array[i][j]);\r\n    }\r\n};","title":"How can i output the multi-dimenstional array to console using for-each loop?","body":"<p>You have an array of arrays, so each index in <code>array2</code> contains another array that is an object itself. What you get back your way is the memory address of this object.</p>\n<p>An easy way to print the array the way you want it would be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; array.length; i++) {\n    for(int j = 0; i &lt; array.length; j++){\n        System.out.println(array[i][j]);\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6441975,"reputation":351,"user_id":4991722,"display_name":"Mahesh Biradar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668886703,"creation_date":1668886703,"answer_id":74503080,"question_id":74503039,"body_markdown":"This should help to print \r\n\r\n    for (int[] row : array2) {\r\n         System.out.println(Arrays.toString(row));\r\n    \t}\r\n\r\nOutput \r\n\r\n    [0, 0]\r\n    [0, 0]\r\n\r\n\r\n","title":"How can i output the multi-dimenstional array to console using for-each loop?","body":"<p>This should help to print</p>\n<pre><code>for (int[] row : array2) {\n     System.out.println(Arrays.toString(row));\n    }\n</code></pre>\n<p>Output</p>\n<pre><code>[0, 0]\n[0, 0]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668924335,"post_id":74503110,"comment_id":131521903,"body_markdown":"Thanks for wanting to contribute. I am unsure what you are trying to tell us, though. By *vs*, did you mean either one or the other? The OP is already using a foreach loop (even two of them). The answer by Mahesh Biradar uses one and works fine. I am curious what you meant to suggest that would solve the OP’s problem?","body":"Thanks for wanting to contribute. I am unsure what you are trying to tell us, though. By <i>vs</i>, did you mean either one or the other? The OP is already using a foreach loop (even two of them). The answer by Mahesh Biradar uses one and works fine. I am curious what you meant to suggest that would solve the OP’s problem?"}],"tags":[],"owner":{"account_id":6071486,"reputation":1,"user_id":4740171,"display_name":"j3270"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668886892,"creation_date":1668886892,"answer_id":74503110,"question_id":74503039,"body_markdown":"I believe you will have to use the length property of the array and an indexed var vs a foreach approach.\r\n\r\nhttps://www.softwaretestinghelp.com/multidimensional-arrays-in-java/","title":"How can i output the multi-dimenstional array to console using for-each loop?","body":"<p>I believe you will have to use the length property of the array and an indexed var vs a foreach approach.</p>\n<p><a href=\"https://www.softwaretestinghelp.com/multidimensional-arrays-in-java/\" rel=\"nofollow noreferrer\">https://www.softwaretestinghelp.com/multidimensional-arrays-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669114048,"creation_date":1669059296,"answer_id":74524070,"question_id":74503039,"body_markdown":"The OP, Conspicuous, reported in a comment:\r\n\r\n```\r\nint[][] array2 = new int[2][2];\r\nfor (int[] i : array2) {\r\n    for (int j : i) {\r\n        System.out.printf(&quot;%-2d&quot;, j);\r\n    }\r\n    System.out.println();\r\n}\r\n```\r\n\r\nThat&#39;s what I want to know.\r\n\r\nOutput:\r\n\r\n```\r\n0 0 \r\n0 0 \r\n```\r\n","title":"How can i output the multi-dimenstional array to console using for-each loop?","body":"<p>The OP, Conspicuous, reported in a comment:</p>\n<pre><code>int[][] array2 = new int[2][2];\nfor (int[] i : array2) {\n    for (int j : i) {\n        System.out.printf(&quot;%-2d&quot;, j);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>That's what I want to know.</p>\n<p>Output:</p>\n<pre><code>0 0 \n0 0 \n</code></pre>\n"}],"owner":{"account_id":19443210,"reputation":25,"user_id":14221265,"display_name":"Сonspicuous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"answer_count":4,"score":-1,"last_activity_date":1669114048,"creation_date":1668886264,"question_id":74503039,"body_markdown":"For example, I have the array\r\n\r\n```\r\nint [] array = new int[2];\r\n```\r\n\r\nusing code\r\n\r\n```\r\nfor (int i: array){\r\n    System.out.println(i);\r\n};\r\n```\r\n\r\nI see the output 0 and 0, it&#39;s expected\r\n\r\nbut what if I want to output the multi-array:\r\n\r\n```\r\nint [][] array2 = new int[2]\\[2];\r\n```\r\n\r\n```\r\nfor (int[] i : array2) {\r\n    for(int[] j : array2 ){\r\n        System.out.println(Arrays.toString(array2));\r\n    }\r\n    System.out.println(Arrays.toString(array2));\r\n};\r\n```\r\n\r\nI have strange output\r\n\r\n```\r\n[[I@7d4991ad, [I@28d93b30]\r\n[[I@7d4991ad, [I@28d93b30]\r\n[[I@7d4991ad, [I@28d93b30]\r\n[[I@7d4991ad, [I@28d93b30]\r\n[[I@7d4991ad, [I@28d93b30]\r\n[[I@7d4991ad, [I@28d93b30]\r\n```\r\n\r\nbut expected result for me is\r\n\r\n```\r\n0 0\r\n0 0\r\n```","title":"How can i output the multi-dimenstional array to console using for-each loop?","body":"<p>For example, I have the array</p>\n<pre><code>int [] array = new int[2];\n</code></pre>\n<p>using code</p>\n<pre><code>for (int i: array){\n    System.out.println(i);\n};\n</code></pre>\n<p>I see the output 0 and 0, it's expected</p>\n<p>but what if I want to output the multi-array:</p>\n<pre><code>int [][] array2 = new int[2]\\[2];\n</code></pre>\n<pre><code>for (int[] i : array2) {\n    for(int[] j : array2 ){\n        System.out.println(Arrays.toString(array2));\n    }\n    System.out.println(Arrays.toString(array2));\n};\n</code></pre>\n<p>I have strange output</p>\n<pre><code>[[I@7d4991ad, [I@28d93b30]\n[[I@7d4991ad, [I@28d93b30]\n[[I@7d4991ad, [I@28d93b30]\n[[I@7d4991ad, [I@28d93b30]\n[[I@7d4991ad, [I@28d93b30]\n[[I@7d4991ad, [I@28d93b30]\n</code></pre>\n<p>but expected result for me is</p>\n<pre><code>0 0\n0 0\n</code></pre>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669140872,"post_id":74531367,"comment_id":131575254,"body_markdown":"What kind of error are you seeing?","body":"What kind of error are you seeing?"},{"owner":{"account_id":22225077,"reputation":1,"user_id":16462157,"display_name":"Sumit"},"score":0,"creation_date":1669182023,"post_id":74531367,"comment_id":131583701,"body_markdown":"The error attached in that image, not showing any error message.","body":"The error attached in that image, not showing any error message."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669220155,"post_id":74531367,"comment_id":131596427,"body_markdown":"You&#39;d need to look at the logs. That&#39;s just a screen shot of Eclipse.","body":"You&#39;d need to look at the logs. That&#39;s just a screen shot of Eclipse."}],"owner":{"account_id":22225077,"reputation":1,"user_id":16462157,"display_name":"Sumit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669114035,"creation_date":1669114035,"question_id":74531367,"body_markdown":"[Server deployment][1]\r\n  [1]: https://i.stack.imgur.com/KpGLd.jpg\r\n\r\nWhile deploying war file continuously getting error symbol on the deployed JRA. There was no compilation issue, all the projects are building successfully. while publishing/incremental publish getting the above error message.\r\n\r\n","title":"Getting error while publishing WAR file into JBOSS","body":"<p>[Server deployment][1]\n[1]: https://i.stack.imgur.com/KpGLd.jpg</p>\n<p>While deploying war file continuously getting error symbol on the deployed JRA. There was no compilation issue, all the projects are building successfully. while publishing/incremental publish getting the above error message.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9358,"page":865,"page_size":100}
