{"items":[{"tags":["java","android","runnable","seekbar"],"answers":[{"tags":[],"owner":{"account_id":7217455,"reputation":61,"user_id":5509349,"display_name":"Krunal Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675196445,"creation_date":1468068599,"answer_id":38281982,"question_id":38281836,"body_markdown":"when next song is play that time set `seekBar.setProgress(0);`","title":"How to not have seekBar set to 0 when next song is played","body":"<p>when next song is play that time set <code>seekBar.setProgress(0);</code></p>\n"},{"tags":[],"owner":{"account_id":4016416,"reputation":17,"user_id":3308353,"accept_rate":100,"display_name":"user3308353"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1468082484,"creation_date":1468078390,"answer_id":38283409,"question_id":38281836,"body_markdown":"Just created a solution myself that involves creating an `Arraylist of mediaPlayers` instead of just making `one mediaPlayer`.\r\n\r\nHere is the working code if anyone needs it:\r\n\r\n    public void onCompletion(MediaPlayer mediaPlayer) {\r\n      for(int i = 0; i &lt; currentTrack; i++) {\r\n        trueSeek += mediaPlayers.get(i).getCurrentPosition();\r\n      }\r\n      currentTrack++;\r\n      if(currentTrack &gt;= mediaPlayers.size()){\r\n        currentTrack = 0;\r\n      }\r\n      handler.post(UpdateSongTime);\r\n      mediaPlayers.get(currentTrack).start();\r\n    }\r\n\r\nand the thread:\r\n\r\n    private Runnable UpdateSongTime = new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        if(currentTrack == 0){\r\n          trueSeek = mediaPlayers.get(currentTrack).getCurrentPosition();\r\n          startTime = trueSeek;\r\n        }\r\n        if(currentTrack &gt; 0){\r\n          int tempSeek = 0;\r\n          for(int i = 0; i &lt; currentTrack; i++){\r\n            tempSeek += mediaPlayers.get(i).getCurrentPosition();\r\n          }\r\n          trueSeek = mediaPlayers.get(currentTrack).getCurrentPosition() + tempSeek;\r\n          startTime = trueSeek;\r\n        }\r\n        seekBar.setMax(songEndTime);\r\n        int currentSongEndTime = songEndTime - trueSeek;\r\n        startTimeText.setText(convertSeekLength(startTime));\r\n        String endTime = &quot;-&quot; + convertSeekLength(currentSongEndTime);\r\n        songDisplay.setText(songArrayList.get(currentTrack).getTitle());\r\n        endTimeText.setText(endTime);\r\n        seekBar.setProgress(startTime);\r\n        handler.postDelayed(this, 100);\r\n      }\r\n    };","title":"How to not have seekBar set to 0 when next song is played","body":"<p>Just created a solution myself that involves creating an <code>Arraylist of mediaPlayers</code> instead of just making <code>one mediaPlayer</code>.</p>\n\n<p>Here is the working code if anyone needs it:</p>\n\n<pre><code>public void onCompletion(MediaPlayer mediaPlayer) {\n  for(int i = 0; i &lt; currentTrack; i++) {\n    trueSeek += mediaPlayers.get(i).getCurrentPosition();\n  }\n  currentTrack++;\n  if(currentTrack &gt;= mediaPlayers.size()){\n    currentTrack = 0;\n  }\n  handler.post(UpdateSongTime);\n  mediaPlayers.get(currentTrack).start();\n}\n</code></pre>\n\n<p>and the thread:</p>\n\n<pre><code>private Runnable UpdateSongTime = new Runnable() {\n  @Override\n  public void run() {\n    if(currentTrack == 0){\n      trueSeek = mediaPlayers.get(currentTrack).getCurrentPosition();\n      startTime = trueSeek;\n    }\n    if(currentTrack &gt; 0){\n      int tempSeek = 0;\n      for(int i = 0; i &lt; currentTrack; i++){\n        tempSeek += mediaPlayers.get(i).getCurrentPosition();\n      }\n      trueSeek = mediaPlayers.get(currentTrack).getCurrentPosition() + tempSeek;\n      startTime = trueSeek;\n    }\n    seekBar.setMax(songEndTime);\n    int currentSongEndTime = songEndTime - trueSeek;\n    startTimeText.setText(convertSeekLength(startTime));\n    String endTime = \"-\" + convertSeekLength(currentSongEndTime);\n    songDisplay.setText(songArrayList.get(currentTrack).getTitle());\n    endTimeText.setText(endTime);\n    seekBar.setProgress(startTime);\n    handler.postDelayed(this, 100);\n  }\n};\n</code></pre>\n"}],"owner":{"account_id":4016416,"reputation":17,"user_id":3308353,"accept_rate":100,"display_name":"user3308353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38283409,"answer_count":2,"score":0,"last_activity_date":1675196445,"creation_date":1468067578,"question_id":38281836,"body_markdown":"I would like to have the `mediaplayer` play the next song, and have the seekbar continuously go forward. However, right now the seekbar resets back to 0 when the next song is played. \r\n\r\nHow would I have the seekBar not reset back to 0 when the next song is played? \r\n\r\nHere is my `onCompletion` method:\r\n\r\n    @Override\r\n    public void onCompletion(MediaPlayer mediaPlayer) {\r\n      mp.release();\r\n      if(currentTrack &lt; tracks.length) {\r\n        currentTrack++;\r\n        if (currentTrack &gt;= 2) {\r\n          currentTrack = 0;\r\n        }\r\n        mp = MediaPlayer.create(this, tracks[currentTrack]);\r\n        mp.setOnCompletionListener(this);\r\n        if (currentTrack &gt; 0) {\r\n          mp.seekTo(tracks[currentTrack]);\r\n        }\r\n        handler.post(UpdateSongTime);\r\n        mp.start();\r\n      }\r\n    }\r\n\r\nHere is the thread that updates all of the positioning:\r\n\r\n    private Runnable UpdateSongTime = new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        if(mp.isPlaying()) {\r\n          startTime = mp.getCurrentPosition() / 1000;\r\n          seekBar.setMax(songEndTime);\r\n          int currentSongEndTime = songEndTime - mp.getCurrentPosition()/1000;\r\n          startTimeText.setText(convertSeekLength(startTime));\r\n          String endTime = &quot;-&quot; + convertSeekLength(currentSongEndTime);\r\n          songDisplay.setText(songArrayList.get(currentTrack).getTitle());\r\n          endTimeText.setText(endTime);\r\n          seekBar.setProgress(startTime);\r\n          handler.postDelayed(this, 100);\r\n        }\r\n      }\r\n    };","title":"How to not have seekBar set to 0 when next song is played","body":"<p>I would like to have the <code>mediaplayer</code> play the next song, and have the seekbar continuously go forward. However, right now the seekbar resets back to 0 when the next song is played. </p>\n\n<p>How would I have the seekBar not reset back to 0 when the next song is played? </p>\n\n<p>Here is my <code>onCompletion</code> method:</p>\n\n<pre><code>@Override\npublic void onCompletion(MediaPlayer mediaPlayer) {\n  mp.release();\n  if(currentTrack &lt; tracks.length) {\n    currentTrack++;\n    if (currentTrack &gt;= 2) {\n      currentTrack = 0;\n    }\n    mp = MediaPlayer.create(this, tracks[currentTrack]);\n    mp.setOnCompletionListener(this);\n    if (currentTrack &gt; 0) {\n      mp.seekTo(tracks[currentTrack]);\n    }\n    handler.post(UpdateSongTime);\n    mp.start();\n  }\n}\n</code></pre>\n\n<p>Here is the thread that updates all of the positioning:</p>\n\n<pre><code>private Runnable UpdateSongTime = new Runnable() {\n  @Override\n  public void run() {\n    if(mp.isPlaying()) {\n      startTime = mp.getCurrentPosition() / 1000;\n      seekBar.setMax(songEndTime);\n      int currentSongEndTime = songEndTime - mp.getCurrentPosition()/1000;\n      startTimeText.setText(convertSeekLength(startTime));\n      String endTime = \"-\" + convertSeekLength(currentSongEndTime);\n      songDisplay.setText(songArrayList.get(currentTrack).getTitle());\n      endTimeText.setText(endTime);\n      seekBar.setProgress(startTime);\n      handler.postDelayed(this, 100);\n    }\n  }\n};\n</code></pre>\n"},{"tags":["java","android","android-wake-lock"],"comments":[{"owner":{"account_id":6799234,"reputation":111,"user_id":5233184,"display_name":"Edward Alexander"},"score":0,"creation_date":1470246286,"post_id":38750271,"comment_id":64874593,"body_markdown":"I&#39;m trying to do the same, except I&#39;m using the NDK.","body":"I&#39;m trying to do the same, except I&#39;m using the NDK."},{"owner":{"account_id":2492939,"reputation":1583,"user_id":2170070,"accept_rate":100,"display_name":"yardie"},"score":0,"creation_date":1470246755,"post_id":38750271,"comment_id":64874855,"body_markdown":"Mhmm, I&#39;m sure this is possible some way or another. I will update you if I figure this out before an answer gets posted.","body":"Mhmm, I&#39;m sure this is possible some way or another. I will update you if I figure this out before an answer gets posted."}],"owner":{"account_id":2492939,"reputation":1583,"user_id":2170070,"accept_rate":100,"display_name":"yardie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675196371,"creation_date":1470245720,"question_id":38750271,"body_markdown":"I am trying to turn my device screen off while the device&#39;s CPU remains awake. I  have tried a few different things but I am unable to turn the screen completely off programmatically.\r\n\r\nI have done some research and saw that using `WakeLock` can dim the screen / leave room for the screen to be turned off while the CPU is still running and that seems to work:\r\n\r\n    PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\n    PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;My Tag&quot;);\r\n\r\nIn order to turn the screen off completely, I have tried to change the screen time-out, but that only dims the screen:\r\n\r\n    android.provider.Settings.System.putInt(getContentResolver(),\r\n                Settings.System.SCREEN_OFF_TIMEOUT, 1);\r\n\r\nIs there any other way that I can turn the screen off completely while the CPU is still running ?\r\n","title":"Android: Keep CPU running and shut screen off (Not dimmed)","body":"<p>I am trying to turn my device screen off while the device's CPU remains awake. I  have tried a few different things but I am unable to turn the screen completely off programmatically.</p>\n<p>I have done some research and saw that using <code>WakeLock</code> can dim the screen / leave room for the screen to be turned off while the CPU is still running and that seems to work:</p>\n<pre><code>PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nPowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, &quot;My Tag&quot;);\n</code></pre>\n<p>In order to turn the screen off completely, I have tried to change the screen time-out, but that only dims the screen:</p>\n<pre><code>android.provider.Settings.System.putInt(getContentResolver(),\n            Settings.System.SCREEN_OFF_TIMEOUT, 1);\n</code></pre>\n<p>Is there any other way that I can turn the screen off completely while the CPU is still running ?</p>\n"},{"tags":["java","android","android-livedata","mutablelivedata"],"answers":[{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675195650,"creation_date":1675195650,"answer_id":75302595,"question_id":75288136,"body_markdown":"if Source.Java has a listener, why not implement it in the activity GroupDescription? or make an instance of Source.java in your viewModel and set the listener interface there and postValue of your MutableLiveData() inside the listener interface and observe it in your activity? from there you can notify your recyclerView adapter. ","title":"How to update LiveData from another class?","body":"<p>if Source.Java has a listener, why not implement it in the activity GroupDescription? or make an instance of Source.java in your viewModel and set the listener interface there and postValue of your MutableLiveData() inside the listener interface and observe it in your activity? from there you can notify your recyclerView adapter.</p>\n"}],"owner":{"account_id":27659416,"reputation":1,"user_id":21112586,"display_name":"LoScarso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675195650,"creation_date":1675100320,"question_id":75288136,"body_markdown":"I have this on my GroupDescriptionActivity class:\r\n```\r\nGroupDescriptionViewModel mFavViewModel;\r\nArrayList&lt;String&gt; mFav;\r\n\r\nmFavViewModel = new ViewModelProvider(this).get(GroupDescriptionViewModel.class);\r\n        final Observer&lt;ArrayList&lt;String&gt;&gt; favsObserver = new Observer&lt;ArrayList&lt;String&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(@Nullable final ArrayList&lt;String&gt; updatedList) {\r\n                if (mFav == null) {\r\n                    mFav = updatedList;\r\n                    ArrayAdapter arrayAdapter = new ArrayAdapter(context, android.R.layout.simple_expandable_list_item_1, mFav);\r\n                    partecipants.setAdapter(arrayAdapter);\r\n                }\r\n            }\r\n        };\r\n```\r\n\r\nAnd in my GroupDescriptionViewModel:\r\n\r\n```\r\npublic class GroupDescriptionViewModel extends AndroidViewModel {\r\n    private static MutableLiveData&lt;ArrayList&lt;String&gt;&gt; mFavs;\r\n\r\n    public GroupDescriptionViewModel(@NonNull Application application) {\r\n        super(application);\r\n    }\r\n\r\n    public static MutableLiveData&lt;ArrayList&lt;String&gt;&gt; getFavs(ArrayList&lt;HashMap&gt; partecipants) {\r\n        if (mFavs == null) {\r\n            mFavs = new MutableLiveData&lt;&gt;();\r\n        }\r\n        loadFavs(partecipants);\r\n\r\n        return mFavs;\r\n    }\r\n\r\n    public static void loadFavs(ArrayList&lt;HashMap&gt; partecipants) {\r\n        ArrayList&lt;String&gt; newFavs = new ArrayList&lt;&gt;();\r\n\r\n        for (HashMap member : partecipants) {\r\n            newFavs.add(member.get(&quot;mail&quot;).toString());\r\n        }\r\n        mFavs.setValue(newFavs);\r\n    }\r\n\r\n}\r\n```\r\nI then have a firestore database change listener in the Source.java file. How can I update my ListView which is in the activity GroupDescription from Source.java?\r\n\r\nI tried in Source.java\r\n\r\n```\r\nGroupDescriptionViewModel.getFavs((ArrayList&lt;HashMap&gt;) ((HashMap) arr.get(2)).get(&quot;partecipants&quot;));\r\n```\r\nbut didn&#39;t work. `((ArrayList&lt;HashMap&gt;) ((HashMap) arr.get(2)).get(&quot;partecipants&quot;)` is my new array for the updates.\r\n\r\n\r\nSo I would like the new data to be entered from source via livedata, and my listview to update in real time","title":"How to update LiveData from another class?","body":"<p>I have this on my GroupDescriptionActivity class:</p>\n<pre><code>GroupDescriptionViewModel mFavViewModel;\nArrayList&lt;String&gt; mFav;\n\nmFavViewModel = new ViewModelProvider(this).get(GroupDescriptionViewModel.class);\n        final Observer&lt;ArrayList&lt;String&gt;&gt; favsObserver = new Observer&lt;ArrayList&lt;String&gt;&gt;() {\n            @Override\n            public void onChanged(@Nullable final ArrayList&lt;String&gt; updatedList) {\n                if (mFav == null) {\n                    mFav = updatedList;\n                    ArrayAdapter arrayAdapter = new ArrayAdapter(context, android.R.layout.simple_expandable_list_item_1, mFav);\n                    partecipants.setAdapter(arrayAdapter);\n                }\n            }\n        };\n</code></pre>\n<p>And in my GroupDescriptionViewModel:</p>\n<pre><code>public class GroupDescriptionViewModel extends AndroidViewModel {\n    private static MutableLiveData&lt;ArrayList&lt;String&gt;&gt; mFavs;\n\n    public GroupDescriptionViewModel(@NonNull Application application) {\n        super(application);\n    }\n\n    public static MutableLiveData&lt;ArrayList&lt;String&gt;&gt; getFavs(ArrayList&lt;HashMap&gt; partecipants) {\n        if (mFavs == null) {\n            mFavs = new MutableLiveData&lt;&gt;();\n        }\n        loadFavs(partecipants);\n\n        return mFavs;\n    }\n\n    public static void loadFavs(ArrayList&lt;HashMap&gt; partecipants) {\n        ArrayList&lt;String&gt; newFavs = new ArrayList&lt;&gt;();\n\n        for (HashMap member : partecipants) {\n            newFavs.add(member.get(&quot;mail&quot;).toString());\n        }\n        mFavs.setValue(newFavs);\n    }\n\n}\n</code></pre>\n<p>I then have a firestore database change listener in the Source.java file. How can I update my ListView which is in the activity GroupDescription from Source.java?</p>\n<p>I tried in Source.java</p>\n<pre><code>GroupDescriptionViewModel.getFavs((ArrayList&lt;HashMap&gt;) ((HashMap) arr.get(2)).get(&quot;partecipants&quot;));\n</code></pre>\n<p>but didn't work. <code>((ArrayList&lt;HashMap&gt;) ((HashMap) arr.get(2)).get(&quot;partecipants&quot;)</code> is my new array for the updates.</p>\n<p>So I would like the new data to be entered from source via livedata, and my listview to update in real time</p>\n"},{"tags":["java","puzzle","out-of-memory","sliding-tile-puzzle"],"comments":[{"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"score":3,"creation_date":1277223137,"post_id":3094925,"comment_id":3173196,"body_markdown":"What are you attempting to do? What do you think the issue is? What have you tried? StackOverflow is more for specific questions. Vague questions with a large code block don&#39;t get very good feedback.","body":"What are you attempting to do? What do you think the issue is? What have you tried? StackOverflow is more for specific questions. Vague questions with a large code block don&#39;t get very good feedback."},{"owner":{"account_id":47435,"reputation":2212,"user_id":140468,"display_name":"Lee"},"score":4,"creation_date":1277223152,"post_id":3094925,"comment_id":3173199,"body_markdown":"Yet another &quot;please do my homework for me&quot; question. It&#39;s getting to be like the spam of SO now.","body":"Yet another &quot;please do my homework for me&quot; question. It&#39;s getting to be like the spam of SO now."},{"owner":{"account_id":142002,"reputation":10373,"user_id":349415,"accept_rate":84,"display_name":"Jesse Jashinsky"},"score":2,"creation_date":1277223164,"post_id":3094925,"comment_id":3173201,"body_markdown":"You give us all this code and expect us to improve it for you without even any mention of where or why it runs out of memory?","body":"You give us all this code and expect us to improve it for you without even any mention of where or why it runs out of memory?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":1,"creation_date":1277234059,"post_id":3094925,"comment_id":3174830,"body_markdown":"Nooooooohhhhhh.... don&#39;t close it yet... the OP provided more details and I have the answer!!!! :&#39;( :&#39;(","body":"Nooooooohhhhhh.... don&#39;t close it yet... the OP provided more details and I have the answer!!!! :&#39;( :&#39;("}],"answers":[{"comments":[{"owner":{"account_id":156191,"reputation":95,"user_id":373332,"display_name":"gaijinco"},"score":0,"creation_date":1277224406,"post_id":3095101,"comment_id":3173379,"body_markdown":"I&#39;m sorry for not being more specific.\n\nI&#39;m trying to solve the 15 puzzle using the Manhattan Distance of all misplaced numbers as the heuristic.\n\nWith a board of dimensions 3 x 3 it runs OK. But with 4 x 4 it goes out of memory as it puts in the queue a lot of Nodes.\n\nWhat I wanted to ask is if there was a hack, trick or good observation on ways to improve the code, as to not enqueue some nodes, or putting some modifier to some attributes.\n\nThanks.","body":"I&#39;m sorry for not being more specific.  I&#39;m trying to solve the 15 puzzle using the Manhattan Distance of all misplaced numbers as the heuristic.  With a board of dimensions 3 x 3 it runs OK. But with 4 x 4 it goes out of memory as it puts in the queue a lot of Nodes.  What I wanted to ask is if there was a hack, trick or good observation on ways to improve the code, as to not enqueue some nodes, or putting some modifier to some attributes.  Thanks."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1277226991,"post_id":3095101,"comment_id":3173809,"body_markdown":"How do you create a 3x3 board. Every time I try it it says: 9 is not allowed","body":"How do you create a 3x3 board. Every time I try it it says: 9 is not allowed"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1277244108,"post_id":3095101,"comment_id":3176165,"body_markdown":"+1 for the effort you put into this answer ;-)","body":"+1 for the effort you put into this answer ;-)"},{"owner":{"account_id":109484,"reputation":15638,"user_id":290072,"accept_rate":97,"display_name":"Almo"},"score":1,"creation_date":1341953535,"post_id":3095101,"comment_id":15065922,"body_markdown":"Grats on the Reversal badge. That thing is super-rare!","body":"Grats on the Reversal badge. That thing is super-rare!"},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":1,"creation_date":1374899224,"post_id":3095101,"comment_id":26135111,"body_markdown":"In Java 7, interned strings are stored in the main Java heap instead of the PermGen space.","body":"In Java 7, interned strings are stored in the main Java heap instead of the PermGen space."}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":5,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1541108882,"creation_date":1277224040,"answer_id":3095101,"question_id":3094925,"body_markdown":"# The problem\n\nThe root cause is the tons of String objects you are creating and storing in the `toProcess` Queue and the `antecessor` Map. Why are you doing that?\n\nLook at your algorithm. See if you really need to store &gt;2 million nodes and 5 million strings in each. \n\n# The investigation\n\nThis was hard to spot because the program is complex. Actually, I didn&#39;t even try to understand all of the code. Instead, I used **[VisualVM][1]** – a Java profiler, sampler, and CPU/memory usage monitor.\n\nI launched it:\n\n[![][2]][2]\n\nAnd took a look at the memory usage. The first thing I noticed was the (obvious) fact that you&#39;re creating *tons* of objects. \n\nThis is an screenshot of the app:\n\n[![][3]][3]\n\nAs you can see, the amount of memory used is tremendous. In as few as 40 seconds, 2 GB were consumed and the entire heap was filled.\n\n## A dead end\n\nI initially thought the problem had something to do with the `Node` class, because even though it implements `Comparable`, it doesn&#39;t implement `equals`. So I provided the method:\n\n    public boolean equals( Object o ) {\n        if( o instanceof Node ) {\n            Node other = ( Node ) o;\n            return this.value == other.value &amp;&amp; this.moves == other.moves;\n        }\n        return false;\n    }\n\nBut that was not the problem. \n\nThe actual problem turned out to be the one stated at the top.\n\n# The workaround\n\nAs previously stated, the real solution is to rethink your algorithm. Whatever else can be done, in the meantime, will only delay the problem.\n\nBut workarounds can be useful. One is to reuse the strings you&#39;re generating. You&#39;re very intensively using the `TilePuzzle.toString()` method; this ends up creating duplicate strings quite often.\n\nSince you&#39;re generating string permutations, you may create many `12345ABCD` strings in matter of seconds. If they are the same string, there is no point in creating millions of instances with the same value.\n\nThe [**`String.intern()`**][4] method allows strings to be reused. The doc says:\n\n&gt; Returns a canonical representation for the string object.\n&gt;\n&gt; A pool of strings, initially empty, is maintained privately by the class String.\n&gt;\n&gt; When the intern method is invoked, if the pool already contains a string equal to this String object as determined by the equals() method, then the string from the pool is returned. Otherwise, this String object is added to the pool and a reference to this String object is returned.\n\nFor a regular application, using `String.intern()` could be a bad idea because it doesn&#39;t let instances be reclaimed by the GC. But in this case, since you&#39;re holding the references in your Map and Queue anyway, it makes sense.\n\nSo making this change:\n\n    public String toString() {\n        if (change) {\n            representation = asString();\n        }\n        return representation.intern(); // &lt;-- Use intern\n    }\n\nPretty much solves the memory problem.\n\nThis is a screenshot after the change:\n\n[![][5]][5]\n\nNow, the heap usage doesn&#39;t reach 100 MB even after a couple of minutes.\n\n# Extra remarks\n\n## Remark #1\n\nYou&#39;re using an exception to validate if the movement is valid or not, which is okay; but when you catch them, you&#39;re just ignoring them:\n\n    try {\n        t.move(i);\n    } catch(RuntimeException e) {\n        continue;\n    }\n\nIf you&#39;re not using them anyway, you can save a lot of computation by not creating the exceptions in the first place. Otherwise you&#39;re creating millions of unused exceptions.\n\nMake this change:\n\n    if (!areValidCoordinates(nx, ny)) {\n        // REMOVE THIS LINE:\n        // throw new IllegalArgumentException(&quot;(&quot; + nx + &quot;, &quot; + ny + &quot;)&quot;);\n\n        // ADD THIS LINE:\n        return;\n    }\n\nAnd use validation instead:\n\n    // REMOVE THESE LINES:\n    // try {\n    //     t.move(i);\n    // } catch(RuntimeException e) {\n    //     continue;\n    // }\n\n    // ADD THESE LINES:\n    if(t.isValidMovement(i)){\n        t.move(i);\n    } else {\n        continue;\n    }\n\n## Remark #2\n\nYou&#39;re creating a new `Random` object for every new `TilePuzzle` instance. It would be better if you used just one for the whole program. After all, you are only using a single thread.\n\n## Remark #3\n\nThe workaround solved the heap memory problem, but created another one involving PermGen. I simply increased the PermGen size, like this:\n\n&lt;!-- language: lang-none --&gt;\n\n    java -Xmx1g -Xms1g -XX:MaxPermSize=1g TilePuzzle\n\n## Remark #4\n\nThe output was sometimes 49 and sometimes 50. The matrices were printed like:\n\n&lt;!-- language: lang-none --&gt;\n\n    1 2 3 4 \n    5 6 7 8 \n    9 A B C \n    D E 0 F \n\n    1 2 3 4 \n    5 6 7 8 \n    9 A B C \n    D E F 0 \n\n... 50 times \n\n  [1]: https://visualvm.github.io/\n  [2]: https://i.stack.imgur.com/AjoMI.png\n  [3]: https://i.stack.imgur.com/OFysv.png\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#intern()\n  [5]: https://i.stack.imgur.com/o1EKm.png","title":"I am trying to solve &#39;15 puzzle&#39;, but I get &#39;OutOfMemoryError&#39;","body":"<h1>The problem</h1>\n<p>The root cause is the tons of String objects you are creating and storing in the <code>toProcess</code> Queue and the <code>antecessor</code> Map. Why are you doing that?</p>\n<p>Look at your algorithm. See if you really need to store &gt;2 million nodes and 5 million strings in each.</p>\n<h1>The investigation</h1>\n<p>This was hard to spot because the program is complex. Actually, I didn't even try to understand all of the code. Instead, I used <strong><a href=\"https://visualvm.github.io/\" rel=\"noreferrer\">VisualVM</a></strong> – a Java profiler, sampler, and CPU/memory usage monitor.</p>\n<p>I launched it:</p>\n<p><a href=\"https://i.stack.imgur.com/AjoMI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AjoMI.png\" alt=\"\" /></a></p>\n<p>And took a look at the memory usage. The first thing I noticed was the (obvious) fact that you're creating <em>tons</em> of objects.</p>\n<p>This is an screenshot of the app:</p>\n<p><a href=\"https://i.stack.imgur.com/OFysv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OFysv.png\" alt=\"\" /></a></p>\n<p>As you can see, the amount of memory used is tremendous. In as few as 40 seconds, 2 GB were consumed and the entire heap was filled.</p>\n<h2>A dead end</h2>\n<p>I initially thought the problem had something to do with the <code>Node</code> class, because even though it implements <code>Comparable</code>, it doesn't implement <code>equals</code>. So I provided the method:</p>\n<pre><code>public boolean equals( Object o ) {\n    if( o instanceof Node ) {\n        Node other = ( Node ) o;\n        return this.value == other.value &amp;&amp; this.moves == other.moves;\n    }\n    return false;\n}\n</code></pre>\n<p>But that was not the problem.</p>\n<p>The actual problem turned out to be the one stated at the top.</p>\n<h1>The workaround</h1>\n<p>As previously stated, the real solution is to rethink your algorithm. Whatever else can be done, in the meantime, will only delay the problem.</p>\n<p>But workarounds can be useful. One is to reuse the strings you're generating. You're very intensively using the <code>TilePuzzle.toString()</code> method; this ends up creating duplicate strings quite often.</p>\n<p>Since you're generating string permutations, you may create many <code>12345ABCD</code> strings in matter of seconds. If they are the same string, there is no point in creating millions of instances with the same value.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#intern()\" rel=\"noreferrer\"><strong><code>String.intern()</code></strong></a> method allows strings to be reused. The doc says:</p>\n<blockquote>\n<p>Returns a canonical representation for the string object.</p>\n<p>A pool of strings, initially empty, is maintained privately by the class String.</p>\n<p>When the intern method is invoked, if the pool already contains a string equal to this String object as determined by the equals() method, then the string from the pool is returned. Otherwise, this String object is added to the pool and a reference to this String object is returned.</p>\n</blockquote>\n<p>For a regular application, using <code>String.intern()</code> could be a bad idea because it doesn't let instances be reclaimed by the GC. But in this case, since you're holding the references in your Map and Queue anyway, it makes sense.</p>\n<p>So making this change:</p>\n<pre><code>public String toString() {\n    if (change) {\n        representation = asString();\n    }\n    return representation.intern(); // &lt;-- Use intern\n}\n</code></pre>\n<p>Pretty much solves the memory problem.</p>\n<p>This is a screenshot after the change:</p>\n<p><a href=\"https://i.stack.imgur.com/o1EKm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o1EKm.png\" alt=\"\" /></a></p>\n<p>Now, the heap usage doesn't reach 100 MB even after a couple of minutes.</p>\n<h1>Extra remarks</h1>\n<h2>Remark #1</h2>\n<p>You're using an exception to validate if the movement is valid or not, which is okay; but when you catch them, you're just ignoring them:</p>\n<pre><code>try {\n    t.move(i);\n} catch(RuntimeException e) {\n    continue;\n}\n</code></pre>\n<p>If you're not using them anyway, you can save a lot of computation by not creating the exceptions in the first place. Otherwise you're creating millions of unused exceptions.</p>\n<p>Make this change:</p>\n<pre><code>if (!areValidCoordinates(nx, ny)) {\n    // REMOVE THIS LINE:\n    // throw new IllegalArgumentException(&quot;(&quot; + nx + &quot;, &quot; + ny + &quot;)&quot;);\n\n    // ADD THIS LINE:\n    return;\n}\n</code></pre>\n<p>And use validation instead:</p>\n<pre><code>// REMOVE THESE LINES:\n// try {\n//     t.move(i);\n// } catch(RuntimeException e) {\n//     continue;\n// }\n\n// ADD THESE LINES:\nif(t.isValidMovement(i)){\n    t.move(i);\n} else {\n    continue;\n}\n</code></pre>\n<h2>Remark #2</h2>\n<p>You're creating a new <code>Random</code> object for every new <code>TilePuzzle</code> instance. It would be better if you used just one for the whole program. After all, you are only using a single thread.</p>\n<h2>Remark #3</h2>\n<p>The workaround solved the heap memory problem, but created another one involving PermGen. I simply increased the PermGen size, like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -Xmx1g -Xms1g -XX:MaxPermSize=1g TilePuzzle\n</code></pre>\n<h2>Remark #4</h2>\n<p>The output was sometimes 49 and sometimes 50. The matrices were printed like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 4 \n5 6 7 8 \n9 A B C \nD E 0 F \n\n1 2 3 4 \n5 6 7 8 \n9 A B C \nD E F 0 \n</code></pre>\n<p>... 50 times</p>\n"}],"owner":{"account_id":156191,"reputation":95,"user_id":373332,"display_name":"gaijinco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3209,"favorite_count":0,"down_vote_count":8,"up_vote_count":10,"closed_date":1277233695,"answer_count":1,"score":2,"last_activity_date":1675195484,"creation_date":1277222961,"question_id":3094925,"body_markdown":"Is there a way that I can optimize this code as to not run out of memory?\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.PriorityQueue;\r\n    import java.util.Random;\r\n    import java.util.Stack;\r\n\r\n    public class TilePuzzle {\r\n\r\n        private final static byte ROWS = 4;\r\n        private final static byte COLUMNS = 4;\r\n        private static String SOLUTION = &quot;123456789ABCDEF0&quot;;\r\n        private static byte RADIX = 16;\r\n\r\n        private char[][] board = new char[ROWS][COLUMNS];\r\n        private byte x; // Row of the space (&#39;0&#39;)\r\n        private byte y; // Column of the space (&#39;0&#39;) private String representation;\r\n        private boolean change = false; // Has the board changed after the last call to toString?\r\n\r\n        private TilePuzzle() {\r\n            this(SOLUTION);\r\n            int times = 1000;\r\n            Random rnd = new Random();\r\n            while(times-- &gt; 0) {\r\n                try {\r\n                    move((byte)rnd.nextInt(4));\r\n                }\r\n                catch(RuntimeException e) {\r\n                }\r\n            }\r\n            this.representation = asString();\r\n        }\r\n\r\n        public TilePuzzle(String representation) {\r\n            this.representation = representation;\r\n            final byte SIZE = (byte)SOLUTION.length();\r\n            if (representation.length() != SIZE) {\r\n                throw new IllegalArgumentException(&quot;The board must have &quot; + SIZE + &quot;numbers.&quot;);\r\n            }\r\n\r\n            boolean[] used = new boolean[SIZE];\r\n            byte idx = 0;\r\n            for (byte i = 0; i &lt; ROWS; ++i) {\r\n                for (byte j = 0; j &lt; COLUMNS; ++j) {\r\n                    char digit = representation.charAt(idx++);\r\n                    byte number = (byte)Character.digit(digit, RADIX);\r\n                    if (number &lt; 0 || number &gt;= SIZE) {\r\n                        throw new IllegalArgumentException(&quot;The character &quot; + digit + &quot; is not valid.&quot;);\r\n                    } else if(used[number]) {\r\n                        throw new IllegalArgumentException(&quot;The character &quot; + digit + &quot; is repeated.&quot;);\r\n                    }\r\n                    used[number] = true;\r\n                    board[i][j] = digit;\r\n                    if (digit == &#39;0&#39;) {\r\n                        x = i;\r\n                        y = j;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Swap position of the space (&#39;0&#39;) with the number that&#39;s up to it.\r\n         */\r\n        public void moveUp() {\r\n            try {\r\n                move((byte)(x - 1), y);\r\n            } catch(IllegalArgumentException e) {\r\n                throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Swap position of the space (&#39;0&#39;) with the number that&#39;s down to it.\r\n         */\r\n        public void moveDown() {\r\n            try {\r\n                move((byte)(x + 1), y);\r\n            } catch(IllegalArgumentException e) {\r\n                throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Swap position of the space (&#39;0&#39;) with the number that&#39;s left to it.\r\n         */\r\n        public void moveLeft() {\r\n            try {\r\n                move(x, (byte)(y - 1));\r\n            } catch(IllegalArgumentException e) {\r\n                throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Swap position of the space (&#39;0&#39;) with the number that&#39;s right to it.\r\n         */\r\n        public void moveRight() {\r\n            try {\r\n                move(x, (byte)(y + 1));\r\n            } catch(IllegalArgumentException e) {\r\n                throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\r\n            }\r\n        }\r\n\r\n        private void move(byte movement) {\r\n            switch(movement) {\r\n            case 0: moveUp(); break;\r\n            case 1: moveRight(); break;\r\n            case 2: moveDown(); break;\r\n            case 3: moveLeft(); break;\r\n            }\r\n        }\r\n\r\n        private boolean areValidCoordinates(byte x, byte y) {\r\n            return (x &gt;= 0 &amp;&amp; x &lt; ROWS &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; COLUMNS);\r\n        }\r\n\r\n        private void move(byte nx, byte ny) {\r\n            if (!areValidCoordinates(nx, ny)) {\r\n                throw new IllegalArgumentException(&quot;(&quot; + nx + &quot;, &quot; + ny + &quot;)&quot;);\r\n            }\r\n            board[x][y] = board[nx][ny];\r\n            board[nx][ny] = &#39;0&#39;;\r\n            x = nx;\r\n            y = ny;\r\n            change = true;\r\n        }\r\n\r\n        public String printableString() {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (byte i = 0; i &lt; ROWS; ++i) {\r\n                for (byte j = 0; j &lt; COLUMNS; ++j) {\r\n                    sb.append(board[i][j] + &quot; &quot;);\r\n                }\r\n                sb.append(&quot;\\r\\n&quot;);\r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\n        private String asString() {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (byte i = 0; i &lt; ROWS; ++i) {\r\n                for (byte j = 0; j &lt; COLUMNS; ++j) {\r\n                    sb.append(board[i][j]);\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\n        public String toString() {\r\n            if (change) {\r\n                representation = asString();\r\n            }\r\n            return representation;\r\n        }\r\n\r\n        private static byte[] whereShouldItBe(char digit) {\r\n            byte idx = (byte)SOLUTION.indexOf(digit);\r\n            return new byte[] { (byte)(idx / ROWS), (byte)(idx % ROWS) };\r\n        }\r\n\r\n        private static byte manhattanDistance(byte x, byte y, byte x2, byte y2) {\r\n            byte dx = (byte)Math.abs(x - x2);\r\n            byte dy = (byte)Math.abs(y - y2);\r\n            return (byte)(dx + dy);\r\n        }\r\n\r\n        private byte heuristic() {\r\n            byte total = 0;\r\n            for (byte i = 0; i &lt; ROWS; ++i) {\r\n                for (byte j = 0; j &lt; COLUMNS; ++j) {\r\n                    char digit = board[i][j];\r\n                    byte[] coordenates = whereShouldItBe(digit);\r\n                    byte distance = manhattanDistance(i, j, coordenates[0], coordenates[1]);\r\n                    total += distance;\r\n                }\r\n            }\r\n            return total;\r\n        }\r\n\r\n        private class Node implements Comparable&lt;Node&gt; {\r\n            private String puzzle;\r\n            private byte moves; // Number of moves from original configuration\r\n            private byte value; // The value of the heuristic for this configuration.\r\n            public Node(String puzzle, byte moves, byte value) {\r\n                this.puzzle = puzzle;\r\n                this.moves = moves;\r\n                this.value = value;\r\n            }\r\n            @Override\r\n            public int compareTo(Node o) {\r\n                return (value + moves) - (o.value + o.moves);\r\n            }\r\n        }\r\n\r\n        private void print(Map&lt;String, String&gt; antecessor) {\r\n            Stack toPrint = new Stack();\r\n            toPrint.add(SOLUTION);\r\n            String before = antecessor.get(SOLUTION);\r\n            while (!before.equals(&quot;&quot;)) {\r\n                toPrint.add(before);\r\n                before = antecessor.get(before);\r\n            }\r\n            while (!toPrint.isEmpty()) {\r\n                System.out.println(new TilePuzzle(toPrint.pop()).printableString());\r\n            }\r\n        }\r\n\r\n        private byte solve() {\r\n            if(toString().equals(SOLUTION)) {\r\n                return 0;\r\n            }\r\n\r\n            PriorityQueue&lt;Node&gt; toProcess = new PriorityQueue();\r\n            Node initial = new Node(toString(), (byte)0, heuristic());\r\n            toProcess.add(initial);\r\n\r\n            Map&lt;String, String&gt; antecessor = new HashMap&lt;String, String&gt;();\r\n            antecessor.put(toString(), &quot;&quot;);\r\n\r\n            while(!toProcess.isEmpty()) {\r\n                Node actual = toProcess.poll();\r\n                for (byte i = 0; i &lt; 4; ++i) {\r\n                    TilePuzzle t = new TilePuzzle(actual.puzzle);\r\n                    try {\r\n                        t.move(i);\r\n                    } catch(RuntimeException e) {\r\n                        continue;\r\n                    }\r\n                    if (t.toString().equals(SOLUTION)) {\r\n                        antecessor.put(SOLUTION, actual.puzzle);\r\n                        print(antecessor);\r\n                        return (byte)(actual.moves + 1);\r\n                    } else if (!antecessor.containsKey(t.toString())) {\r\n                        byte v = t.heuristic();\r\n                        Node neighbor = new Node(t.toString(), (byte)(actual.moves + 1), v);\r\n                        toProcess.add(neighbor);\r\n                        antecessor.put(t.toString(), actual.puzzle);\r\n                    }\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        public static void main(String... args) {\r\n            TilePuzzle puzzle = new TilePuzzle();\r\n            System.out.println(puzzle.solve());\r\n        }\r\n    }\r\n","title":"I am trying to solve &#39;15 puzzle&#39;, but I get &#39;OutOfMemoryError&#39;","body":"<p>Is there a way that I can optimize this code as to not run out of memory?</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.PriorityQueue;\nimport java.util.Random;\nimport java.util.Stack;\n\npublic class TilePuzzle {\n\n    private final static byte ROWS = 4;\n    private final static byte COLUMNS = 4;\n    private static String SOLUTION = &quot;123456789ABCDEF0&quot;;\n    private static byte RADIX = 16;\n\n    private char[][] board = new char[ROWS][COLUMNS];\n    private byte x; // Row of the space ('0')\n    private byte y; // Column of the space ('0') private String representation;\n    private boolean change = false; // Has the board changed after the last call to toString?\n\n    private TilePuzzle() {\n        this(SOLUTION);\n        int times = 1000;\n        Random rnd = new Random();\n        while(times-- &gt; 0) {\n            try {\n                move((byte)rnd.nextInt(4));\n            }\n            catch(RuntimeException e) {\n            }\n        }\n        this.representation = asString();\n    }\n\n    public TilePuzzle(String representation) {\n        this.representation = representation;\n        final byte SIZE = (byte)SOLUTION.length();\n        if (representation.length() != SIZE) {\n            throw new IllegalArgumentException(&quot;The board must have &quot; + SIZE + &quot;numbers.&quot;);\n        }\n\n        boolean[] used = new boolean[SIZE];\n        byte idx = 0;\n        for (byte i = 0; i &lt; ROWS; ++i) {\n            for (byte j = 0; j &lt; COLUMNS; ++j) {\n                char digit = representation.charAt(idx++);\n                byte number = (byte)Character.digit(digit, RADIX);\n                if (number &lt; 0 || number &gt;= SIZE) {\n                    throw new IllegalArgumentException(&quot;The character &quot; + digit + &quot; is not valid.&quot;);\n                } else if(used[number]) {\n                    throw new IllegalArgumentException(&quot;The character &quot; + digit + &quot; is repeated.&quot;);\n                }\n                used[number] = true;\n                board[i][j] = digit;\n                if (digit == '0') {\n                    x = i;\n                    y = j;\n                }\n            }\n        }\n    }\n\n    /**\n     * Swap position of the space ('0') with the number that's up to it.\n     */\n    public void moveUp() {\n        try {\n            move((byte)(x - 1), y);\n        } catch(IllegalArgumentException e) {\n            throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\n        }\n    }\n\n    /**\n     * Swap position of the space ('0') with the number that's down to it.\n     */\n    public void moveDown() {\n        try {\n            move((byte)(x + 1), y);\n        } catch(IllegalArgumentException e) {\n            throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\n        }\n    }\n\n    /**\n     * Swap position of the space ('0') with the number that's left to it.\n     */\n    public void moveLeft() {\n        try {\n            move(x, (byte)(y - 1));\n        } catch(IllegalArgumentException e) {\n            throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\n        }\n    }\n\n    /**\n     * Swap position of the space ('0') with the number that's right to it.\n     */\n    public void moveRight() {\n        try {\n            move(x, (byte)(y + 1));\n        } catch(IllegalArgumentException e) {\n            throw new RuntimeException(&quot;Move prohibited &quot; + e.getMessage());\n        }\n    }\n\n    private void move(byte movement) {\n        switch(movement) {\n        case 0: moveUp(); break;\n        case 1: moveRight(); break;\n        case 2: moveDown(); break;\n        case 3: moveLeft(); break;\n        }\n    }\n\n    private boolean areValidCoordinates(byte x, byte y) {\n        return (x &gt;= 0 &amp;&amp; x &lt; ROWS &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; COLUMNS);\n    }\n\n    private void move(byte nx, byte ny) {\n        if (!areValidCoordinates(nx, ny)) {\n            throw new IllegalArgumentException(&quot;(&quot; + nx + &quot;, &quot; + ny + &quot;)&quot;);\n        }\n        board[x][y] = board[nx][ny];\n        board[nx][ny] = '0';\n        x = nx;\n        y = ny;\n        change = true;\n    }\n\n    public String printableString() {\n        StringBuilder sb = new StringBuilder();\n        for (byte i = 0; i &lt; ROWS; ++i) {\n            for (byte j = 0; j &lt; COLUMNS; ++j) {\n                sb.append(board[i][j] + &quot; &quot;);\n            }\n            sb.append(&quot;\\r\\n&quot;);\n        }\n        return sb.toString();\n    }\n\n    private String asString() {\n        StringBuilder sb = new StringBuilder();\n        for (byte i = 0; i &lt; ROWS; ++i) {\n            for (byte j = 0; j &lt; COLUMNS; ++j) {\n                sb.append(board[i][j]);\n            }\n        }\n        return sb.toString();\n    }\n\n    public String toString() {\n        if (change) {\n            representation = asString();\n        }\n        return representation;\n    }\n\n    private static byte[] whereShouldItBe(char digit) {\n        byte idx = (byte)SOLUTION.indexOf(digit);\n        return new byte[] { (byte)(idx / ROWS), (byte)(idx % ROWS) };\n    }\n\n    private static byte manhattanDistance(byte x, byte y, byte x2, byte y2) {\n        byte dx = (byte)Math.abs(x - x2);\n        byte dy = (byte)Math.abs(y - y2);\n        return (byte)(dx + dy);\n    }\n\n    private byte heuristic() {\n        byte total = 0;\n        for (byte i = 0; i &lt; ROWS; ++i) {\n            for (byte j = 0; j &lt; COLUMNS; ++j) {\n                char digit = board[i][j];\n                byte[] coordenates = whereShouldItBe(digit);\n                byte distance = manhattanDistance(i, j, coordenates[0], coordenates[1]);\n                total += distance;\n            }\n        }\n        return total;\n    }\n\n    private class Node implements Comparable&lt;Node&gt; {\n        private String puzzle;\n        private byte moves; // Number of moves from original configuration\n        private byte value; // The value of the heuristic for this configuration.\n        public Node(String puzzle, byte moves, byte value) {\n            this.puzzle = puzzle;\n            this.moves = moves;\n            this.value = value;\n        }\n        @Override\n        public int compareTo(Node o) {\n            return (value + moves) - (o.value + o.moves);\n        }\n    }\n\n    private void print(Map&lt;String, String&gt; antecessor) {\n        Stack toPrint = new Stack();\n        toPrint.add(SOLUTION);\n        String before = antecessor.get(SOLUTION);\n        while (!before.equals(&quot;&quot;)) {\n            toPrint.add(before);\n            before = antecessor.get(before);\n        }\n        while (!toPrint.isEmpty()) {\n            System.out.println(new TilePuzzle(toPrint.pop()).printableString());\n        }\n    }\n\n    private byte solve() {\n        if(toString().equals(SOLUTION)) {\n            return 0;\n        }\n\n        PriorityQueue&lt;Node&gt; toProcess = new PriorityQueue();\n        Node initial = new Node(toString(), (byte)0, heuristic());\n        toProcess.add(initial);\n\n        Map&lt;String, String&gt; antecessor = new HashMap&lt;String, String&gt;();\n        antecessor.put(toString(), &quot;&quot;);\n\n        while(!toProcess.isEmpty()) {\n            Node actual = toProcess.poll();\n            for (byte i = 0; i &lt; 4; ++i) {\n                TilePuzzle t = new TilePuzzle(actual.puzzle);\n                try {\n                    t.move(i);\n                } catch(RuntimeException e) {\n                    continue;\n                }\n                if (t.toString().equals(SOLUTION)) {\n                    antecessor.put(SOLUTION, actual.puzzle);\n                    print(antecessor);\n                    return (byte)(actual.moves + 1);\n                } else if (!antecessor.containsKey(t.toString())) {\n                    byte v = t.heuristic();\n                    Node neighbor = new Node(t.toString(), (byte)(actual.moves + 1), v);\n                    toProcess.add(neighbor);\n                    antecessor.put(t.toString(), actual.puzzle);\n                }\n            }\n        }\n        return -1;\n    }\n\n    public static void main(String... args) {\n        TilePuzzle puzzle = new TilePuzzle();\n        System.out.println(puzzle.solve());\n    }\n}\n</code></pre>\n"},{"tags":["java","security","certificate","digital-signature","x509certificate"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1675196565,"post_id":75302020,"comment_id":132875767,"body_markdown":"Verifying a signature is not decrypting and signing is not encrypting; see (my) https://security.stackexchange.com/questions/159282/#159289 . And per below note that verifying the signature on a cert, although necessary, is not nearly enough to establish the cert can be trusted.","body":"Verifying a signature is not decrypting and signing is not encrypting; see (my) <a href=\"https://security.stackexchange.com/questions/159282/#159289\">security.stackexchange.com/questions/159282/#159289</a> . And per below note that verifying the signature on a cert, although necessary, is not nearly enough to establish the cert can be trusted."}],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1675196686,"post_id":75302562,"comment_id":132875805,"body_markdown":"Revocation can be checked with OCSP instead and nowadays often is; in fact CABforum no longer requires CAs provide CRLDP for EEs, although all I&#39;ve looked at do. And in addition to checking signature and revocation there are LOTS of other things you must check before trusting a cert; see rfc5280 section 6. In Java the best course is to use `CertPathBuilder` and/or `CertPathValidator` which already implement all this stuff _correctly_.","body":"Revocation can be checked with OCSP instead and nowadays often is; in fact CABforum no longer requires CAs provide CRLDP for EEs, although all I&#39;ve looked at do. And in addition to checking signature and revocation there are LOTS of other things you must check before trusting a cert; see rfc5280 section 6. In Java the best course is to use <code>CertPathBuilder</code> and/or <code>CertPathValidator</code> which already implement all this stuff <i>correctly</i>."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675195444,"creation_date":1675195444,"answer_id":75302562,"question_id":75302020,"body_markdown":"You can grab the public key from the certificate itself. After all, a certificate is a public key, some metadata and a signature.\r\n\r\nNow you still need a trusted source of certificates or public keys. And that is the application&#39;s truststore. This one is filled with certificates the application is allowed to trust (blindly). So any certificate contained in the truststore is trusted, but also any certificate that was signed by one of the trusted ones. With that, you can build a hierarchy and validate an enormous amount of certificates.\r\n\r\nOn top of just checking the signatures and trust chains, you will also want to contact the CAs for their certificate revocation list - just to ensure the certificate in question is not contained there.\r\n\r\nSee also\r\n- [Generating a KeyStore and TrustStore][1]\r\n- https://stackoverflow.com/questions/11143360/ssl-certificate-verification-in-java\r\n- [Certificate revocation list][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E19509-01/820-3503/6nf1il6er/index.html\r\n  [2]: https://en.wikipedia.org/wiki/Certificate_revocation_list","title":"How to verify digital signature is from CA in Java 8?","body":"<p>You can grab the public key from the certificate itself. After all, a certificate is a public key, some metadata and a signature.</p>\n<p>Now you still need a trusted source of certificates or public keys. And that is the application's truststore. This one is filled with certificates the application is allowed to trust (blindly). So any certificate contained in the truststore is trusted, but also any certificate that was signed by one of the trusted ones. With that, you can build a hierarchy and validate an enormous amount of certificates.</p>\n<p>On top of just checking the signatures and trust chains, you will also want to contact the CAs for their certificate revocation list - just to ensure the certificate in question is not contained there.</p>\n<p>See also</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/cd/E19509-01/820-3503/6nf1il6er/index.html\" rel=\"nofollow noreferrer\">Generating a KeyStore and TrustStore</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11143360/ssl-certificate-verification-in-java\">SSL Certificate Verification in Java</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Certificate_revocation_list\" rel=\"nofollow noreferrer\">Certificate revocation list</a></li>\n</ul>\n"}],"owner":{"account_id":10724628,"reputation":378,"user_id":7892562,"display_name":"Joe D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75302562,"answer_count":1,"score":0,"last_activity_date":1675195444,"creation_date":1675191991,"question_id":75302020,"body_markdown":"I&#39;ve spent the last few days trying to learn x509 certificates (issued by CAs) and I *think* I have a solid understanding of the principle of how they work. My understanding is that a digital certificate has an associated signature, and that signature should only be able to be decrypted with the public key of the CA that issued/signed it.\r\n\r\nWhat I&#39;m failing to understand is how to actually implement that verification logic in Java. Where do I retrieve that public key from to decrypt the signature and verify the digest? Is there a lookup table somewhere where you can provide a DN and get a public key back?\r\n\r\nI&#39;ve tried to use the `javax.security.cert.X509Certificate` class to load a certificate, and I notice the `verify` function that requires a public key. I just don&#39;t know where to get the public key. \r\n","title":"How to verify digital signature is from CA in Java 8?","body":"<p>I've spent the last few days trying to learn x509 certificates (issued by CAs) and I <em>think</em> I have a solid understanding of the principle of how they work. My understanding is that a digital certificate has an associated signature, and that signature should only be able to be decrypted with the public key of the CA that issued/signed it.</p>\n<p>What I'm failing to understand is how to actually implement that verification logic in Java. Where do I retrieve that public key from to decrypt the signature and verify the digest? Is there a lookup table somewhere where you can provide a DN and get a public key back?</p>\n<p>I've tried to use the <code>javax.security.cert.X509Certificate</code> class to load a certificate, and I notice the <code>verify</code> function that requires a public key. I just don't know where to get the public key.</p>\n"},{"tags":["javascript","java","react-native","expo"],"answers":[{"tags":[],"owner":{"account_id":2638302,"reputation":51,"user_id":2282485,"display_name":"kbrandwijk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675194881,"creation_date":1675194881,"answer_id":75302472,"question_id":75301797,"body_markdown":"Yes, there is a workaround, which is a two step progress:\r\n\r\n- Adjust the package name in your config to be a _valid_ Java name\r\n- Use a config plugin to set the applicationId in your build.gradle to your old package name\r\n\r\nThat way, your applicationId for Play Console stays the same, and the package name used in Java is valid for building.\r\n\r\nHere is a gist with an example config plugin, and how to add it to your app.json: \r\n\r\nhttps://gist.github.com/kbrandwijk/cef9e3b01cff91f8dfad8f47f02cb880\r\n\r\n","title":"Expo - Package &#39;com.xxx.native.xxx&#39; from AndroidManifest.xml is not a valid Java package name as &#39;native&#39; is a Java keyword","body":"<p>Yes, there is a workaround, which is a two step progress:</p>\n<ul>\n<li>Adjust the package name in your config to be a <em>valid</em> Java name</li>\n<li>Use a config plugin to set the applicationId in your build.gradle to your old package name</li>\n</ul>\n<p>That way, your applicationId for Play Console stays the same, and the package name used in Java is valid for building.</p>\n<p>Here is a gist with an example config plugin, and how to add it to your app.json:</p>\n<p><a href=\"https://gist.github.com/kbrandwijk/cef9e3b01cff91f8dfad8f47f02cb880\" rel=\"nofollow noreferrer\">https://gist.github.com/kbrandwijk/cef9e3b01cff91f8dfad8f47f02cb880</a></p>\n"}],"owner":{"account_id":7331808,"reputation":23,"user_id":5584431,"display_name":"Aamir J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675194881,"creation_date":1675190706,"question_id":75301797,"body_markdown":"I have used the pattern &#39;com.mycompanyname.native.appname&#39; to name the bundle Ids for my apps since years and have created many apps using the keyword &quot;native&quot; in the package name. I didn&#39;t get this error when using classic expo builds until I switched to EAS builds.\r\nNow, I have to upgrade a few of the live apps, can there be a workaround to overcome this error?","title":"Expo - Package &#39;com.xxx.native.xxx&#39; from AndroidManifest.xml is not a valid Java package name as &#39;native&#39; is a Java keyword","body":"<p>I have used the pattern 'com.mycompanyname.native.appname' to name the bundle Ids for my apps since years and have created many apps using the keyword &quot;native&quot; in the package name. I didn't get this error when using classic expo builds until I switched to EAS builds.\nNow, I have to upgrade a few of the live apps, can there be a workaround to overcome this error?</p>\n"},{"tags":["java","spring-boot","jpa","jdbc"],"comments":[{"owner":{"account_id":15087658,"reputation":84,"user_id":10888409,"display_name":"Turtle"},"score":0,"creation_date":1657833955,"post_id":72986724,"comment_id":128911053,"body_markdown":"I think the url is missing the port after localhost / invalid","body":"I think the url is missing the port after localhost / invalid"},{"owner":{"account_id":25793049,"reputation":23,"user_id":19536797,"display_name":"FacundoGB"},"score":0,"creation_date":1657836239,"post_id":72986724,"comment_id":128911547,"body_markdown":"I believe the server.port removes the need. But I&#39;ve tried it (be it removing it and adding it where you say or keeping both) and the problem persists.","body":"I believe the server.port removes the need. But I&#39;ve tried it (be it removing it and adding it where you say or keeping both) and the problem persists."}],"answers":[{"tags":[],"owner":{"account_id":25793049,"reputation":23,"user_id":19536797,"display_name":"FacundoGB"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657836946,"creation_date":1657836946,"answer_id":72987169,"question_id":72986724,"body_markdown":"I managed to fix it.\r\nThe actual problem was a typo, instead of: `spring.datasource.url=jdbc.mysql://localhost/webservice?useSSL=false`\r\nit shoud have been:\r\n`spring.datasource.url=jdbc:mysql://localhost/webservice?useSSL=false`\r\n\r\nTo take away the grey i followed the advise on https://intellij-support.jetbrains.com/hc/en-us/community/posts/206858715-Properties-editor-reporting-Unused-property-for-all-entries","title":"How can I avoid grayed-out properties in the &quot;application.properties&quot; file?","body":"<p>I managed to fix it.\nThe actual problem was a typo, instead of: <code>spring.datasource.url=jdbc.mysql://localhost/webservice?useSSL=false</code>\nit shoud have been:\n<code>spring.datasource.url=jdbc:mysql://localhost/webservice?useSSL=false</code></p>\n<p>To take away the grey i followed the advise on <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206858715-Properties-editor-reporting-Unused-property-for-all-entries\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/206858715-Properties-editor-reporting-Unused-property-for-all-entries</a></p>\n"}],"owner":{"account_id":25793049,"reputation":23,"user_id":19536797,"display_name":"FacundoGB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72987169,"answer_count":1,"score":0,"last_activity_date":1675194557,"creation_date":1657833190,"question_id":72986724,"body_markdown":"Working in Intellij. I&#39;m trying to see the data stored in my DB. When I go to my application.properties to configure the connection all &quot;**spring.(...)**&quot; lines are grayed out. My application.properties resource directory **is** marked as **resource root**\r\n\r\n    #GENERAL\r\n    server.port=8080\r\n    \r\n    #DATABASE\r\n    spring.datasource.url=jdbc.mysql://localhost/webservice?useSSL=false\r\n    spring.datasource.dbname=webservice\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nThis is my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.JavaWebSerice&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;WebService&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;WebService&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.20&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nI get the following error even tho the build is a success:\r\n\r\n        Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-07-14 17:59:57.628 ERROR 7960 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc.mysql://localhost/webservice?useSSL=false\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat com.JavaWebSerice.WebService.WebServiceApplication.main(WebServiceApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc.mysql://localhost/webservice?useSSL=false\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \t... 24 common frames omitted\r\n    Caused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc.mysql://localhost/webservice?useSSL=false\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:162) ~[spring-boot-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \t... 25 common frames omitted\r\n\r\n","title":"How can I avoid grayed-out properties in the &quot;application.properties&quot; file?","body":"<p>Working in Intellij. I'm trying to see the data stored in my DB. When I go to my application.properties to configure the connection all &quot;<strong>spring.(...)</strong>&quot; lines are grayed out. My application.properties resource directory <strong>is</strong> marked as <strong>resource root</strong></p>\n<pre><code>#GENERAL\nserver.port=8080\n\n#DATABASE\nspring.datasource.url=jdbc.mysql://localhost/webservice?useSSL=false\nspring.datasource.dbname=webservice\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.JavaWebSerice&lt;/groupId&gt;\n    &lt;artifactId&gt;WebService&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;WebService&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I get the following error even tho the build is a success:</p>\n<pre><code>    Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-14 17:59:57.628 ERROR 7960 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc.mysql://localhost/webservice?useSSL=false\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.JavaWebSerice.WebService.WebServiceApplication.main(WebServiceApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc.mysql://localhost/webservice?useSSL=false\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 24 common frames omitted\nCaused by: java.lang.RuntimeException: Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, jdbc.mysql://localhost/webservice?useSSL=false\n    at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:110) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) ~[spring-jdbc-5.3.21.jar:5.3.21]\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:162) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:143) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:103) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:95) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:132) ~[spring-boot-autoconfigure-2.7.1.jar:2.7.1]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 25 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","maven","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675194296,"creation_date":1675194296,"answer_id":75302384,"question_id":75284668,"body_markdown":"The `org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter` class comes from the [Spring Native experimental project][1]. Spring Native is only compatible with Spring Boot 2.7, and should not be used with Spring Boot 3.0. Spring Framework 6.0 and Spring Boot 3.0 have [GraalVM native executable capabilities][2] built in. \r\n\r\nRemove the Spring Native dependencies from your application and follow the Spring Boot 3 documentation. \r\n\r\n\r\n  [1]: https://github.com/spring-projects-experimental/spring-native\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image","title":"Spring Boot NativeImage compilation fails on: &quot;Could not find target method: private org.springframework.boot.Banner&quot;","body":"<p>The <code>org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter</code> class comes from the <a href=\"https://github.com/spring-projects-experimental/spring-native\" rel=\"nofollow noreferrer\">Spring Native experimental project</a>. Spring Native is only compatible with Spring Boot 2.7, and should not be used with Spring Boot 3.0. Spring Framework 6.0 and Spring Boot 3.0 have <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#native-image\" rel=\"nofollow noreferrer\">GraalVM native executable capabilities</a> built in.</p>\n<p>Remove the Spring Native dependencies from your application and follow the Spring Boot 3 documentation.</p>\n"}],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75302384,"answer_count":1,"score":0,"last_activity_date":1675194296,"creation_date":1675083154,"question_id":75284668,"body_markdown":"I have problem with compilation of my Spring boot application.\r\n\r\n**TL;DR: `Error: Could not find target method: private org.springframework.boot.Banner org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter.getImageBanner(org.springframework.core.env.Environment)`**\r\n\r\n\r\nI&#39;m using:\r\n- graalvm-ce-java17-linux-amd64-22.3.1\r\n- Spring Boot 3.0.2\r\n- Buildpack gcr.io/paketo-buildpacks/bellsoft-liberica:9.10.3\r\n\r\n`pom.xml` plugin configuration:\r\n```yml\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;buildpacks&gt;\r\n\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:9.10.3&lt;/buildpack&gt;\r\n\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\r\n\t\t\t\t\t\t&lt;/buildpacks&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\n`.gitlab-ci.yml`:\r\n```yaml\r\nstages:\r\n  - build\r\n\r\nbuild:\r\n  stage: build\r\n  image:\r\n    name: maven:3-eclipse-temurin-17-focal\r\n  before_script:\r\n    - set -e\r\n    - apt-get update\r\n    - apt-get -y install wget build-essential zlibc zlib1g zlib1g-dev upx-ucl \r\n    - wget -q https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.3.1/graalvm-ce-java17-linux-amd64-22.3.1.tar.gz\r\n    - tar xzf graalvm-ce-java17-linux-amd64-22.3.1.tar.gz\r\n    - mkdir -p /usr/lib/jvm\r\n    - mv graalvm-ce-java17-22.3.1 /usr/lib/jvm/graalvm\r\n    - export PATH=/usr/lib/jvm/graalvm/bin/:$PATH\r\n    - export JAVA_HOME=/usr/lib/jvm/graalvm\r\n    - gu install native-image\r\n    - java --version\r\n    - native-image --version\r\n  script:\r\n    - ./compile.sh\r\n  artifacts:\r\n    expire_in: 1 days\r\n    paths:\r\n     - ${CI_PROJECT_DIR}/target/app-0.0.1-SNAPSHOT.jar\r\n     - ${CI_PROJECT_DIR}/target/app\r\n```\r\n\r\nand `compile.sh`:\r\n```bash\r\n#!/bin/bash\r\n\r\nset -e\r\nmvn -Pnative spring-boot:build-image\r\n\r\nrm -rf target/native\r\nmkdir -p target/native\r\ncd target/native\r\njar -xvf ../app-0.0.1-SNAPSHOT.jar\r\ntouch META-INF/native-image/argfile\r\n\r\nnative-image -H:Name=app \\\r\n@META-INF/native-image/argfile \\\r\n-H:+ReportExceptionStackTraces \\\r\n-H:TraceClassInitialization=true \\\r\n-H:IncludeResources=&quot;.*&quot; \\\r\n--initialize-at-build-time=\\\r\ncom.fasterxml.jackson.annotation.JsonProperty\\\r\n,org.slf4j.impl.StaticLoggerBinder\\\r\n,org.slf4j.LoggerFactory\\\r\n,org.slf4j.simple.SimpleLogger\\\r\n,ch.qos.logback.classic.Logger\\\r\n,ch.qos.logback.core.spi.AppenderAttachableImpl\\\r\n,ch.qos.logback.core.status.StatusBase\\\r\n,ch.qos.logback.classic.Level\\\r\n,ch.qos.logback.core.status.InfoStatus\\\r\n,ch.qos.logback.classic.PatternLayout\\\r\n,ch.qos.logback.core.CoreConstants\\\r\n,ch.qos.logback.core.pattern.parser.Parser \\\r\n-cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr &#39;\\n&#39; &#39;:&#39;`\r\n\r\nmv app ../\r\n```\r\n\r\nThe application works fine when running from JAR. But compilation crashes on:\r\n```\r\nError: Could not find target method: private org.springframework.boot.Banner org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter.getImageBanner(org.springframework.core.env.Environment)\r\n```\r\n\r\nFull output:\r\n```\r\n[INFO]     [creator]     Paketo Buildpack for Native Image 5.8.0\r\n[INFO]     [creator]       https://github.com/paketo-buildpacks/native-image\r\n[INFO]     [creator]       Build Configuration:\r\n[INFO]     [creator]         $BP_BINARY_COMPRESSION_METHOD                Compression mechanism used to reduce binary size. Options: `none` (default), `upx` or `gzexe`\r\n[INFO]     [creator]         $BP_NATIVE_IMAGE                       true  enable native image build\r\n[INFO]     [creator]         $BP_NATIVE_IMAGE_BUILD_ARGUMENTS             arguments to pass to the native-image command\r\n[INFO]     [creator]         $BP_NATIVE_IMAGE_BUILD_ARGUMENTS_FILE        a file with arguments to pass to the native-image command\r\n[INFO]     [creator]         $BP_NATIVE_IMAGE_BUILT_ARTIFACT              the built application artifact explicitly, required if building from a JAR\r\n[INFO]     [creator]       Native Image: Contributing to layer\r\n[INFO]     [creator]         Executing native-image -H:+StaticExecutableWithDynamicLibC -H:Name=/layers/paketo-buildpacks_native-image/native-image/cloud.mwapp.app.appApplication -cp /workspace:/workspace/BOOT-INF/classes:/workspace/BOOT-INF/lib/logback-classic-1.4.5.jar:/workspace/BOOT-INF/lib/logback-core-1.4.5.jar:/workspace/BOOT-INF/lib/log4j-to-slf4j-2.19.0.jar:/workspace/BOOT-INF/lib/log4j-api-2.19.0.jar:/workspace/BOOT-INF/lib/jul-to-slf4j-2.0.6.jar:/workspace/BOOT-INF/lib/jakarta.annotation-api-2.1.1.jar:/workspace/BOOT-INF/lib/snakeyaml-1.33.jar:/workspace/BOOT-INF/lib/jackson-databind-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-annotations-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-core-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-datatype-jdk8-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-datatype-jsr310-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-module-parameter-names-2.14.1.jar:/workspace/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar:/workspace/BOOT-INF/lib/tomcat-embed-el-10.1.5.jar:/workspace/BOOT-INF/lib/tomcat-embed-websocket-10.1.5.jar:/workspace/BOOT-INF/lib/spring-web-6.0.4.jar:/workspace/BOOT-INF/lib/spring-beans-6.0.4.jar:/workspace/BOOT-INF/lib/micrometer-observation-1.10.3.jar:/workspace/BOOT-INF/lib/micrometer-commons-1.10.3.jar:/workspace/BOOT-INF/lib/spring-webmvc-6.0.4.jar:/workspace/BOOT-INF/lib/spring-aop-6.0.4.jar:/workspace/BOOT-INF/lib/spring-context-6.0.4.jar:/workspace/BOOT-INF/lib/spring-expression-6.0.4.jar:/workspace/BOOT-INF/lib/slf4j-api-2.0.6.jar:/workspace/BOOT-INF/lib/jakarta.xml.bind-api-4.0.0.jar:/workspace/BOOT-INF/lib/jakarta.activation-api-2.1.1.jar:/workspace/BOOT-INF/lib/spring-core-6.0.4.jar:/workspace/BOOT-INF/lib/spring-jcl-6.0.4.jar:/workspace/BOOT-INF/lib/spring-boot-3.0.2.jar:/workspace/BOOT-INF/lib/spring-boot-autoconfigure-3.0.2.jar:/workspace/BOOT-INF/lib/springdoc-openapi-starter-webmvc-ui-2.0.2.jar:/workspace/BOOT-INF/lib/springdoc-openapi-starter-webmvc-api-2.0.2.jar:/workspace/BOOT-INF/lib/springdoc-openapi-starter-common-2.0.2.jar:/workspace/BOOT-INF/lib/swagger-core-jakarta-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-annotations-jakarta-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-models-jakarta-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-ui-4.15.5.jar:/workspace/BOOT-INF/lib/webjars-locator-core-0.52.jar:/workspace/BOOT-INF/lib/classgraph-4.8.149.jar:/workspace/BOOT-INF/lib/springdoc-openapi-native-1.6.14.jar:/workspace/BOOT-INF/lib/springdoc-openapi-common-1.6.14.jar:/workspace/BOOT-INF/lib/swagger-core-2.2.7.jar:/workspace/BOOT-INF/lib/commons-lang3-3.12.0.jar:/workspace/BOOT-INF/lib/jackson-dataformat-yaml-2.14.1.jar:/workspace/BOOT-INF/lib/swagger-annotations-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-models-2.2.7.jar:/workspace/BOOT-INF/lib/jakarta.validation-api-3.0.2.jar:/workspace/BOOT-INF/lib/spring-native-0.12.1.jar:/workspace/BOOT-INF/lib/spring-boot-jarmode-layertools-3.0.2.jar cloud.mwapp.app.appApplication\r\n[INFO]     [creator]     ================================================================================\r\n[INFO]     [creator]     GraalVM Native Image: Generating &#39;/layers/paketo-buildpacks_native-image/native-image/cloud.mwapp.app.appApplication&#39; (static executable)...\r\n[INFO]     [creator]     ================================================================================\r\n[INFO]     [creator]     \r\n[INFO]     [creator]     [1/7] Initializing...                                            (0.0s @ 0.27GB)\r\n[INFO]     [creator]     Error: Could not find target method: private org.springframework.boot.Banner org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter.getImageBanner(org.springframework.core.env.Environment)\r\n[INFO]     [creator]     Error: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\r\n[INFO]     [creator]     --------------------------------------------------------------------------------\r\n[INFO]     [creator]          0.8s (5.5% of total time) in 8 GCs | Peak RSS: 0.62GB | CPU load: 1.91\r\n[INFO]     [creator]     ================================================================================\r\n[INFO]     [creator]     Failed generating &#39;/layers/paketo-buildpacks_native-image/native-image/cloud.mwapp.app.appApplication&#39; after 12.8s.\r\n[INFO]     [creator]     Error: Image build request failed with exit status 1\r\n[INFO]     [creator]     unable to invoke layer creator\r\n[INFO]     [creator]     unable to contribute native-image layer\r\n[INFO]     [creator]     error running build\r\n[INFO]     [creator]     exit status 1\r\n[INFO]     [creator]     ERROR: failed to build: exit status 1\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  02:23 min\r\n[INFO] Finished at: 2023-01-30T12:40:18Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:build-image (default-cli) on project app: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:build-image failed: Builder lifecycle &#39;creator&#39; failed with status code 51 -&gt; [Help 1]\r\n```\r\nI&#39;m stuck on this and can&#39;t figure it out. Can someone please advise me?","title":"Spring Boot NativeImage compilation fails on: &quot;Could not find target method: private org.springframework.boot.Banner&quot;","body":"<p>I have problem with compilation of my Spring boot application.</p>\n<p><strong>TL;DR: <code>Error: Could not find target method: private org.springframework.boot.Banner org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter.getImageBanner(org.springframework.core.env.Environment)</code></strong></p>\n<p>I'm using:</p>\n<ul>\n<li>graalvm-ce-java17-linux-amd64-22.3.1</li>\n<li>Spring Boot 3.0.2</li>\n<li>Buildpack gcr.io/paketo-buildpacks/bellsoft-liberica:9.10.3</li>\n</ul>\n<p><code>pom.xml</code> plugin configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;buildpacks&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:9.10.3&lt;/buildpack&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\n                        &lt;/buildpacks&gt;\n                    &lt;/image&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p><code>.gitlab-ci.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>stages:\n  - build\n\nbuild:\n  stage: build\n  image:\n    name: maven:3-eclipse-temurin-17-focal\n  before_script:\n    - set -e\n    - apt-get update\n    - apt-get -y install wget build-essential zlibc zlib1g zlib1g-dev upx-ucl \n    - wget -q https://github.com/graalvm/graalvm-ce-builds/releases/download/vm-22.3.1/graalvm-ce-java17-linux-amd64-22.3.1.tar.gz\n    - tar xzf graalvm-ce-java17-linux-amd64-22.3.1.tar.gz\n    - mkdir -p /usr/lib/jvm\n    - mv graalvm-ce-java17-22.3.1 /usr/lib/jvm/graalvm\n    - export PATH=/usr/lib/jvm/graalvm/bin/:$PATH\n    - export JAVA_HOME=/usr/lib/jvm/graalvm\n    - gu install native-image\n    - java --version\n    - native-image --version\n  script:\n    - ./compile.sh\n  artifacts:\n    expire_in: 1 days\n    paths:\n     - ${CI_PROJECT_DIR}/target/app-0.0.1-SNAPSHOT.jar\n     - ${CI_PROJECT_DIR}/target/app\n</code></pre>\n<p>and <code>compile.sh</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nset -e\nmvn -Pnative spring-boot:build-image\n\nrm -rf target/native\nmkdir -p target/native\ncd target/native\njar -xvf ../app-0.0.1-SNAPSHOT.jar\ntouch META-INF/native-image/argfile\n\nnative-image -H:Name=app \\\n@META-INF/native-image/argfile \\\n-H:+ReportExceptionStackTraces \\\n-H:TraceClassInitialization=true \\\n-H:IncludeResources=&quot;.*&quot; \\\n--initialize-at-build-time=\\\ncom.fasterxml.jackson.annotation.JsonProperty\\\n,org.slf4j.impl.StaticLoggerBinder\\\n,org.slf4j.LoggerFactory\\\n,org.slf4j.simple.SimpleLogger\\\n,ch.qos.logback.classic.Logger\\\n,ch.qos.logback.core.spi.AppenderAttachableImpl\\\n,ch.qos.logback.core.status.StatusBase\\\n,ch.qos.logback.classic.Level\\\n,ch.qos.logback.core.status.InfoStatus\\\n,ch.qos.logback.classic.PatternLayout\\\n,ch.qos.logback.core.CoreConstants\\\n,ch.qos.logback.core.pattern.parser.Parser \\\n-cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr '\\n' ':'`\n\nmv app ../\n</code></pre>\n<p>The application works fine when running from JAR. But compilation crashes on:</p>\n<pre><code>Error: Could not find target method: private org.springframework.boot.Banner org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter.getImageBanner(org.springframework.core.env.Environment)\n</code></pre>\n<p>Full output:</p>\n<pre><code>[INFO]     [creator]     Paketo Buildpack for Native Image 5.8.0\n[INFO]     [creator]       https://github.com/paketo-buildpacks/native-image\n[INFO]     [creator]       Build Configuration:\n[INFO]     [creator]         $BP_BINARY_COMPRESSION_METHOD                Compression mechanism used to reduce binary size. Options: `none` (default), `upx` or `gzexe`\n[INFO]     [creator]         $BP_NATIVE_IMAGE                       true  enable native image build\n[INFO]     [creator]         $BP_NATIVE_IMAGE_BUILD_ARGUMENTS             arguments to pass to the native-image command\n[INFO]     [creator]         $BP_NATIVE_IMAGE_BUILD_ARGUMENTS_FILE        a file with arguments to pass to the native-image command\n[INFO]     [creator]         $BP_NATIVE_IMAGE_BUILT_ARTIFACT              the built application artifact explicitly, required if building from a JAR\n[INFO]     [creator]       Native Image: Contributing to layer\n[INFO]     [creator]         Executing native-image -H:+StaticExecutableWithDynamicLibC -H:Name=/layers/paketo-buildpacks_native-image/native-image/cloud.mwapp.app.appApplication -cp /workspace:/workspace/BOOT-INF/classes:/workspace/BOOT-INF/lib/logback-classic-1.4.5.jar:/workspace/BOOT-INF/lib/logback-core-1.4.5.jar:/workspace/BOOT-INF/lib/log4j-to-slf4j-2.19.0.jar:/workspace/BOOT-INF/lib/log4j-api-2.19.0.jar:/workspace/BOOT-INF/lib/jul-to-slf4j-2.0.6.jar:/workspace/BOOT-INF/lib/jakarta.annotation-api-2.1.1.jar:/workspace/BOOT-INF/lib/snakeyaml-1.33.jar:/workspace/BOOT-INF/lib/jackson-databind-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-annotations-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-core-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-datatype-jdk8-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-datatype-jsr310-2.14.1.jar:/workspace/BOOT-INF/lib/jackson-module-parameter-names-2.14.1.jar:/workspace/BOOT-INF/lib/tomcat-embed-core-10.1.5.jar:/workspace/BOOT-INF/lib/tomcat-embed-el-10.1.5.jar:/workspace/BOOT-INF/lib/tomcat-embed-websocket-10.1.5.jar:/workspace/BOOT-INF/lib/spring-web-6.0.4.jar:/workspace/BOOT-INF/lib/spring-beans-6.0.4.jar:/workspace/BOOT-INF/lib/micrometer-observation-1.10.3.jar:/workspace/BOOT-INF/lib/micrometer-commons-1.10.3.jar:/workspace/BOOT-INF/lib/spring-webmvc-6.0.4.jar:/workspace/BOOT-INF/lib/spring-aop-6.0.4.jar:/workspace/BOOT-INF/lib/spring-context-6.0.4.jar:/workspace/BOOT-INF/lib/spring-expression-6.0.4.jar:/workspace/BOOT-INF/lib/slf4j-api-2.0.6.jar:/workspace/BOOT-INF/lib/jakarta.xml.bind-api-4.0.0.jar:/workspace/BOOT-INF/lib/jakarta.activation-api-2.1.1.jar:/workspace/BOOT-INF/lib/spring-core-6.0.4.jar:/workspace/BOOT-INF/lib/spring-jcl-6.0.4.jar:/workspace/BOOT-INF/lib/spring-boot-3.0.2.jar:/workspace/BOOT-INF/lib/spring-boot-autoconfigure-3.0.2.jar:/workspace/BOOT-INF/lib/springdoc-openapi-starter-webmvc-ui-2.0.2.jar:/workspace/BOOT-INF/lib/springdoc-openapi-starter-webmvc-api-2.0.2.jar:/workspace/BOOT-INF/lib/springdoc-openapi-starter-common-2.0.2.jar:/workspace/BOOT-INF/lib/swagger-core-jakarta-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-annotations-jakarta-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-models-jakarta-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-ui-4.15.5.jar:/workspace/BOOT-INF/lib/webjars-locator-core-0.52.jar:/workspace/BOOT-INF/lib/classgraph-4.8.149.jar:/workspace/BOOT-INF/lib/springdoc-openapi-native-1.6.14.jar:/workspace/BOOT-INF/lib/springdoc-openapi-common-1.6.14.jar:/workspace/BOOT-INF/lib/swagger-core-2.2.7.jar:/workspace/BOOT-INF/lib/commons-lang3-3.12.0.jar:/workspace/BOOT-INF/lib/jackson-dataformat-yaml-2.14.1.jar:/workspace/BOOT-INF/lib/swagger-annotations-2.2.7.jar:/workspace/BOOT-INF/lib/swagger-models-2.2.7.jar:/workspace/BOOT-INF/lib/jakarta.validation-api-3.0.2.jar:/workspace/BOOT-INF/lib/spring-native-0.12.1.jar:/workspace/BOOT-INF/lib/spring-boot-jarmode-layertools-3.0.2.jar cloud.mwapp.app.appApplication\n[INFO]     [creator]     ================================================================================\n[INFO]     [creator]     GraalVM Native Image: Generating '/layers/paketo-buildpacks_native-image/native-image/cloud.mwapp.app.appApplication' (static executable)...\n[INFO]     [creator]     ================================================================================\n[INFO]     [creator]     \n[INFO]     [creator]     [1/7] Initializing...                                            (0.0s @ 0.27GB)\n[INFO]     [creator]     Error: Could not find target method: private org.springframework.boot.Banner org.springframework.nativex.substitutions.boot.Target_SpringApplicationBannerPrinter.getImageBanner(org.springframework.core.env.Environment)\n[INFO]     [creator]     Error: Use -H:+ReportExceptionStackTraces to print stacktrace of underlying exception\n[INFO]     [creator]     --------------------------------------------------------------------------------\n[INFO]     [creator]          0.8s (5.5% of total time) in 8 GCs | Peak RSS: 0.62GB | CPU load: 1.91\n[INFO]     [creator]     ================================================================================\n[INFO]     [creator]     Failed generating '/layers/paketo-buildpacks_native-image/native-image/cloud.mwapp.app.appApplication' after 12.8s.\n[INFO]     [creator]     Error: Image build request failed with exit status 1\n[INFO]     [creator]     unable to invoke layer creator\n[INFO]     [creator]     unable to contribute native-image layer\n[INFO]     [creator]     error running build\n[INFO]     [creator]     exit status 1\n[INFO]     [creator]     ERROR: failed to build: exit status 1\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  02:23 min\n[INFO] Finished at: 2023-01-30T12:40:18Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:build-image (default-cli) on project app: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:build-image failed: Builder lifecycle 'creator' failed with status code 51 -&gt; [Help 1]\n</code></pre>\n<p>I'm stuck on this and can't figure it out. Can someone please advise me?</p>\n"},{"tags":["java","spring","oracle","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675194186,"creation_date":1675194186,"answer_id":75302360,"question_id":75302282,"body_markdown":"What you are saying is not (entirely) true. Table name certainly isn&#39;t `user`:\r\n\r\n    SQL&gt; create table user (id number);\r\n    create table user (id number)\r\n                 *\r\n    ERROR at line 1:\r\n    ORA-00903: invalid table name\r\n    \r\nWhy? Because it is *reserved* for function that returns currently logged user:\r\n    \r\n    SQL&gt; select user from dual;\r\n    \r\n    USER\r\n    --------------------------------------------------------------------------------\r\n    SCOTT\r\n    \r\n    SQL&gt;\r\n\r\nTherefore, table name is *something else*; or, if it *is* `user`, then you must have created it by enclosing its name into double quotes, but then you have to use double quotes every time, matching letter case every time:\r\n\r\n    SQL&gt; create table &quot;user&quot; (id number);\r\n    \r\n    Table created.\r\n    \r\nPresuming that this is what you have, then:\r\n\r\n    SQL&gt; alter table &quot;user&quot; add imported varchar2(1);\r\n    \r\n    Table altered.\r\n    \r\n    SQL&gt;\r\n\r\n-----------\r\n\r\nFurthermore, error you specified is\r\n\r\n&gt; ORA-00904: invalid identifier\r\n\r\nIf you got it when inserting a row into a table, it means that there&#39;s no such column in that table. Possible causes: \r\n\r\n  - you misspelled its name\r\n  - there&#39;s really no such column there\r\n  - double quotes and letter case matching issue\r\n\r\nPresuming that column exists (see above `alter table`), `insert` also works:\r\n\r\n    SQL&gt; insert into &quot;user&quot; (id, imported) values (1, 0);\r\n    \r\n    1 row created.\r\n    \r\n    SQL&gt; select * from &quot;user&quot;;\r\n    \r\n            ID IMPORTED\r\n    ---------- ----------\r\n             1 0\r\n    \r\n    SQL&gt;","title":"How to resolve &quot;ORA-00904: Invalid identifier insert statement&quot;","body":"<p>What you are saying is not (entirely) true. Table name certainly isn't <code>user</code>:</p>\n<pre><code>SQL&gt; create table user (id number);\ncreate table user (id number)\n             *\nERROR at line 1:\nORA-00903: invalid table name\n</code></pre>\n<p>Why? Because it is <em>reserved</em> for function that returns currently logged user:</p>\n<pre><code>SQL&gt; select user from dual;\n\nUSER\n--------------------------------------------------------------------------------\nSCOTT\n\nSQL&gt;\n</code></pre>\n<p>Therefore, table name is <em>something else</em>; or, if it <em>is</em> <code>user</code>, then you must have created it by enclosing its name into double quotes, but then you have to use double quotes every time, matching letter case every time:</p>\n<pre><code>SQL&gt; create table &quot;user&quot; (id number);\n\nTable created.\n</code></pre>\n<p>Presuming that this is what you have, then:</p>\n<pre><code>SQL&gt; alter table &quot;user&quot; add imported varchar2(1);\n\nTable altered.\n\nSQL&gt;\n</code></pre>\n<hr />\n<p>Furthermore, error you specified is</p>\n<blockquote>\n<p>ORA-00904: invalid identifier</p>\n</blockquote>\n<p>If you got it when inserting a row into a table, it means that there's no such column in that table. Possible causes:</p>\n<ul>\n<li>you misspelled its name</li>\n<li>there's really no such column there</li>\n<li>double quotes and letter case matching issue</li>\n</ul>\n<p>Presuming that column exists (see above <code>alter table</code>), <code>insert</code> also works:</p>\n<pre><code>SQL&gt; insert into &quot;user&quot; (id, imported) values (1, 0);\n\n1 row created.\n\nSQL&gt; select * from &quot;user&quot;;\n\n        ID IMPORTED\n---------- ----------\n         1 0\n\nSQL&gt;\n</code></pre>\n"}],"owner":{"account_id":24548379,"reputation":11,"user_id":18457853,"display_name":"Marcos Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675256460,"answer_count":1,"score":-1,"last_activity_date":1675194193,"creation_date":1675193681,"question_id":75302282,"body_markdown":"I&#39;m trying to add a column to my users table but I get an error every time I try to create a new user I end up getting the error &quot;java.sql.SQLSyntaxErrorException: ORA-00904: &quot;IMPORTED&quot;: invalid identifier&quot;.\r\nIn the database my column is created but I still get an error when i try to create a user.\r\n\r\nI&#39;m trying to create a column that receives true or false in my user table.\r\nWhen I try to create a new user by jpa I end up getting an error\r\n\r\nMy Model:\r\n\r\n    @Column(name = &quot;IMPORTED&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    private Eboolean imported;\r\n    \r\nMy query:\r\n\r\n    alter table USER add IMPORTED VARCHAR2(1);","title":"How to resolve &quot;ORA-00904: Invalid identifier insert statement&quot;","body":"<p>I'm trying to add a column to my users table but I get an error every time I try to create a new user I end up getting the error &quot;java.sql.SQLSyntaxErrorException: ORA-00904: &quot;IMPORTED&quot;: invalid identifier&quot;.\nIn the database my column is created but I still get an error when i try to create a user.</p>\n<p>I'm trying to create a column that receives true or false in my user table.\nWhen I try to create a new user by jpa I end up getting an error</p>\n<p>My Model:</p>\n<pre><code>@Column(name = &quot;IMPORTED&quot;)\n@Enumerated(EnumType.STRING)\nprivate Eboolean imported;\n</code></pre>\n<p>My query:</p>\n<pre><code>alter table USER add IMPORTED VARCHAR2(1);\n</code></pre>\n"},{"tags":["java","installation","syntax"],"owner":{"account_id":19726925,"reputation":35,"user_id":14443291,"display_name":"kerryp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675193759,"creation_date":1675193759,"question_id":75302292,"body_markdown":"I&#39;m following installation instructions on https://snp-pipeline.readthedocs.io/en/latest/installation.html, which state the following:\r\n\r\n&gt; Define the CLASSPATH environment variable to specify the location of\r\n&gt; the Picard, VarScan, and GATK jar files. Add the following lines (or\r\n&gt; something similar) to your .bashrc file:\r\n&gt; \r\n&gt; export CLASSPATH=~/software/varscan.v2.3.9/VarScan.jar:$CLASSPATH\r\n&gt; export CLASSPATH=~/software/picard/picard.jar:$CLASSPATH export\r\n&gt; CLASSPATH=~/software/GenomeAnalysisTK-3.8-1-0-gf15c1c3ef/GenomeAnalysisTK.jar:$CLASSPATH\r\n\r\nMy downloaded executable jar files are named:\r\nVarScan.v2.3.9, \r\npicard, and \r\ngatk-package-4.3.0.0-local.jar\r\n\r\nHow should I edit these lines appropriately, with regards the filename?\r\n\r\n\r\n","title":"installing cfsan-snp-pipeline (Define the CLASSPATH environment variable to specify the location of the Picard, VarScan, and GATK jar files)","body":"<p>I'm following installation instructions on <a href=\"https://snp-pipeline.readthedocs.io/en/latest/installation.html\" rel=\"nofollow noreferrer\">https://snp-pipeline.readthedocs.io/en/latest/installation.html</a>, which state the following:</p>\n<blockquote>\n<p>Define the CLASSPATH environment variable to specify the location of\nthe Picard, VarScan, and GATK jar files. Add the following lines (or\nsomething similar) to your .bashrc file:</p>\n<p>export CLASSPATH=~/software/varscan.v2.3.9/VarScan.jar:$CLASSPATH\nexport CLASSPATH=~/software/picard/picard.jar:$CLASSPATH export\nCLASSPATH=~/software/GenomeAnalysisTK-3.8-1-0-gf15c1c3ef/GenomeAnalysisTK.jar:$CLASSPATH</p>\n</blockquote>\n<p>My downloaded executable jar files are named:\nVarScan.v2.3.9,\npicard, and\ngatk-package-4.3.0.0-local.jar</p>\n<p>How should I edit these lines appropriately, with regards the filename?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1675184451,"post_id":75299857,"comment_id":132872332,"body_markdown":"nothing off the shelf, afaik","body":"nothing off the shelf, afaik"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675187631,"post_id":75299857,"comment_id":132873330,"body_markdown":"What&#39;s the concern about &quot;scaling to many tables&quot;? Is it just the amount of code? It isn&#39;t too hard to factor the listeners on the selection models into a separate class and make a straightforward method call to set up the &quot;multiway select&quot;.","body":"What&#39;s the concern about &quot;scaling to many tables&quot;? Is it just the amount of code? It isn&#39;t too hard to factor the listeners on the selection models into a separate class and make a straightforward method call to set up the &quot;multiway select&quot;."},{"owner":{"account_id":95570,"reputation":131,"user_id":260203,"display_name":"Brad K."},"score":0,"creation_date":1675190932,"post_id":75299857,"comment_id":132874288,"body_markdown":"The fact that the programmer creating each of those listeners would have to ensure that they abide by the soft &quot;contract&quot; to not manipulate any selection models when another selection model is executing.","body":"The fact that the programmer creating each of those listeners would have to ensure that they abide by the soft &quot;contract&quot; to not manipulate any selection models when another selection model is executing."}],"answers":[{"comments":[{"owner":{"account_id":95570,"reputation":131,"user_id":260203,"display_name":"Brad K."},"score":0,"creation_date":1675194591,"post_id":75302205,"comment_id":132875241,"body_markdown":"That&#39;s the kind of thing I was looking for ... some mechanism to extract (a) the building of the bi-way &quot;binding&quot; mechanism and (b) extracting the &quot;shared selection handler&quot;. Thanks!","body":"That&#39;s the kind of thing I was looking for ... some mechanism to extract (a) the building of the bi-way &quot;binding&quot; mechanism and (b) extracting the &quot;shared selection handler&quot;. Thanks!"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675193149,"creation_date":1675193149,"answer_id":75302205,"question_id":75299857,"body_markdown":"I don&#39;t think there is a fundamentally simpler way of doing what you&#39;re already doing. You can refactor this though in a way that might be more &quot;scalable&quot;:\r\n\r\n    public class SelectionManager {\r\n        private boolean selecting ;\r\n        private &lt;S,T&gt; void setUpMultiSelection(TableView&lt;S&gt; firstTable, TableView&lt;T&gt; secondTable, BiPredicate&lt;S,T&gt; shouldSelect) {\r\n            firstTable.getSelectionModel().getSelectedItems().addListener((Change&lt;? extends S&gt; c) -&gt; {\r\n                if (selecting) return;\r\n                selecting = true ;\r\n                secondTable.getSelectionModel().clearSelection();\r\n                for (T t : secondTable.getItems()) {\r\n                    for (S s : firstTable.getSelectionModel().getSelectedItems()) {\r\n                        if (shouldSelect.test(s, t)) {\r\n                            secondTable.getSelectionModel().select(t);\r\n                        }\r\n                    }\r\n                }\r\n                selecting = false;\r\n            });\r\n            secondTable.getSelectionModel().getSelectedItems().addListener((Change&lt;? extends T&gt; c) -&gt; {\r\n                if (selecting) return ;\r\n                selecting = true;\r\n                firstTable.getSelectionModel().clearSelection();\r\n                for (S s : firstTable.getItems()) {\r\n                    for (T t : secondTable.getSelectionModel().getSelectedItems()) {\r\n                        if (shouldSelect.test(s, t)) {\r\n                            firstTable.getSelectionModel().select(s);\r\n                        }\r\n                    }\r\n                }\r\n                selecting = false;\r\n            });\r\n        }\r\n    }\r\n\r\nand then\r\n\r\n        private Region buildView() {\r\n            TableView&lt;Part&gt; partsTable = setupPartsTableView();\r\n            TableView&lt;Assembly&gt; assembliesTable = setupAssembliesTableView();\r\n    //        assembliesTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Assembly&gt;() {\r\n    //            @Override\r\n    //            public void onChanged(Change&lt;? extends Assembly&gt; c) {\r\n    //                if (!selecting) {\r\n    //                    selecting = true;\r\n    //\r\n    //                    TableViewSelectionModel&lt;Part&gt; sm = partsTable.getSelectionModel();\r\n    //                    sm.clearSelection();\r\n    //                    for (Assembly a : c.getList()) {\r\n    //                        for (Part p : a.partsProperty()) {\r\n    //                            sm.select(p);\r\n    //                        }\r\n    //                    }\r\n    //                    selecting = false;\r\n    //                }\r\n    //\r\n    //            }\r\n    //        });\r\n    //\r\n    //        partsTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Part&gt;() {\r\n    //            @Override\r\n    //            public void onChanged(Change&lt;? extends Part&gt; c) {\r\n    //                if (!selecting) {\r\n    //                    selecting = true;\r\n    //                    TableViewSelectionModel&lt;Assembly&gt; sm = assembliesTable.getSelectionModel();\r\n    //                    sm.clearSelection();\r\n    //                    for (Part p : c.getList()) {\r\n    //                        for (Assembly a : assemblies) {\r\n    //                            if (a.partsProperty().contains(p)) {\r\n    //                                sm.select(a);\r\n    //                            }\r\n    //                        }\r\n    //                    }\r\n    //                    selecting = false;\r\n    //                }\r\n    //            }\r\n    //        });\r\n            SelectionManager selectionManager = new SelectionManager();\r\n            selectionManager.setUpMultiSelection(assembliesTable, partsTable,\r\n                    (assembly, part) -&gt; assembly.partsProperty().contains(part)\r\n            );\r\n    \r\n            return new SplitPane(assembliesTable, partsTable);\r\n        }\r\n\r\nThe point to note here is that if you use the same instance of `SelectionManager` for multiple &quot;multi-selections&quot;, it will use the same mutex. On the other hand, a different `SelectionManager` instance will have its own mutex. This (or some variation on it) should enable you to fairly easily configure this over many tables in any way you need.","title":"Is there a more idiomatic way to perform mutual, multi-way selection using TableViews?","body":"<p>I don't think there is a fundamentally simpler way of doing what you're already doing. You can refactor this though in a way that might be more &quot;scalable&quot;:</p>\n<pre><code>public class SelectionManager {\n    private boolean selecting ;\n    private &lt;S,T&gt; void setUpMultiSelection(TableView&lt;S&gt; firstTable, TableView&lt;T&gt; secondTable, BiPredicate&lt;S,T&gt; shouldSelect) {\n        firstTable.getSelectionModel().getSelectedItems().addListener((Change&lt;? extends S&gt; c) -&gt; {\n            if (selecting) return;\n            selecting = true ;\n            secondTable.getSelectionModel().clearSelection();\n            for (T t : secondTable.getItems()) {\n                for (S s : firstTable.getSelectionModel().getSelectedItems()) {\n                    if (shouldSelect.test(s, t)) {\n                        secondTable.getSelectionModel().select(t);\n                    }\n                }\n            }\n            selecting = false;\n        });\n        secondTable.getSelectionModel().getSelectedItems().addListener((Change&lt;? extends T&gt; c) -&gt; {\n            if (selecting) return ;\n            selecting = true;\n            firstTable.getSelectionModel().clearSelection();\n            for (S s : firstTable.getItems()) {\n                for (T t : secondTable.getSelectionModel().getSelectedItems()) {\n                    if (shouldSelect.test(s, t)) {\n                        firstTable.getSelectionModel().select(s);\n                    }\n                }\n            }\n            selecting = false;\n        });\n    }\n}\n</code></pre>\n<p>and then</p>\n<pre><code>    private Region buildView() {\n        TableView&lt;Part&gt; partsTable = setupPartsTableView();\n        TableView&lt;Assembly&gt; assembliesTable = setupAssembliesTableView();\n//        assembliesTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Assembly&gt;() {\n//            @Override\n//            public void onChanged(Change&lt;? extends Assembly&gt; c) {\n//                if (!selecting) {\n//                    selecting = true;\n//\n//                    TableViewSelectionModel&lt;Part&gt; sm = partsTable.getSelectionModel();\n//                    sm.clearSelection();\n//                    for (Assembly a : c.getList()) {\n//                        for (Part p : a.partsProperty()) {\n//                            sm.select(p);\n//                        }\n//                    }\n//                    selecting = false;\n//                }\n//\n//            }\n//        });\n//\n//        partsTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Part&gt;() {\n//            @Override\n//            public void onChanged(Change&lt;? extends Part&gt; c) {\n//                if (!selecting) {\n//                    selecting = true;\n//                    TableViewSelectionModel&lt;Assembly&gt; sm = assembliesTable.getSelectionModel();\n//                    sm.clearSelection();\n//                    for (Part p : c.getList()) {\n//                        for (Assembly a : assemblies) {\n//                            if (a.partsProperty().contains(p)) {\n//                                sm.select(a);\n//                            }\n//                        }\n//                    }\n//                    selecting = false;\n//                }\n//            }\n//        });\n        SelectionManager selectionManager = new SelectionManager();\n        selectionManager.setUpMultiSelection(assembliesTable, partsTable,\n                (assembly, part) -&gt; assembly.partsProperty().contains(part)\n        );\n\n        return new SplitPane(assembliesTable, partsTable);\n    }\n</code></pre>\n<p>The point to note here is that if you use the same instance of <code>SelectionManager</code> for multiple &quot;multi-selections&quot;, it will use the same mutex. On the other hand, a different <code>SelectionManager</code> instance will have its own mutex. This (or some variation on it) should enable you to fairly easily configure this over many tables in any way you need.</p>\n"}],"owner":{"account_id":95570,"reputation":131,"user_id":260203,"display_name":"Brad K."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75302205,"answer_count":1,"score":4,"last_activity_date":1675193149,"creation_date":1675181046,"question_id":75299857,"body_markdown":"I need to perform a multiway selection among multiple JavaFX `TableView`s such that when selecting one or more rows in one `TableView`, all other `TableView`s with related information will also be selected/highlighted (actually, highlighting is more appropriate, but selection is built-in, so...)\r\n\r\nI&#39;ve come up with a slighly janky method, but it doesn&#39;t really scale very well to many `TableView`s.\r\n\r\n```\r\npackage multiwayselect;\r\n\r\nimport javafx.application.*;\r\nimport javafx.beans.property.*;\r\nimport javafx.collections.ListChangeListener.Change;\r\nimport javafx.collections.*;\r\nimport javafx.scene.*;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.TableView.TableViewSelectionModel;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.*;\r\n\r\npublic class MultiwaySelectDemo extends Application {\r\n\r\n    private final ObservableList&lt;Part&gt; parts = FXCollections.observableArrayList();\r\n    private final ObservableList&lt;Assembly&gt; assemblies = FXCollections.observableArrayList();\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        buildModel();\r\n        stage.setTitle(&quot;multi-way selection demo&quot;);\r\n        final Region root = buildView();\r\n        stage.setScene(new Scene(root));\r\n        stage.show();\r\n    }\r\n\r\n    private void buildModel() {\r\n        Part cpu = new Part(1, &quot;CPU Ryzen 5&quot;);\r\n        Part ram8 = new Part(2, &quot;RAM 8GB DDR4 (1x8GB)&quot;);\r\n        Part ram16 = new Part(5, &quot;RAM 16GB DDR4 (2x8GB)&quot;);\r\n        Part mobo1 = new Part(3, &quot;MOBO ATX B550&quot;);\r\n        Part mobo2 = new Part(7, &quot;MOBO ATX X570 RGB&quot;);\r\n        Part chassis = new Part(4, &quot;CASE Standard ATX Case&quot;);\r\n        Part chassis1 = new Part(8, &quot;CASE Gamer ATX Case w/RGB&quot;);\r\n        Assembly basicBox = new Assembly(1, &quot;Basic AMD Box&quot;, cpu, ram8, mobo1, chassis);\r\n        Assembly gamerBox = new Assembly(2, &quot;Gamer AMD Box&quot;, cpu, ram16, mobo2, chassis1);\r\n        assemblies.addAll(basicBox, gamerBox);\r\n        for (Assembly a : assemblies) {\r\n            for (Part p : a.parts) {\r\n                if (!parts.contains(p)) {\r\n                    parts.add(p);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private boolean selecting = false;\r\n\r\n    private Region buildView() {\r\n        TableView&lt;Part&gt; partsTable = setupPartsTableView();\r\n        TableView&lt;Assembly&gt; assembliesTable = setupAssembliesTableView();\r\n        assembliesTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Assembly&gt;() {\r\n            @Override\r\n            public void onChanged(Change&lt;? extends Assembly&gt; c) {\r\n                if (!selecting) {\r\n                    selecting = true;\r\n\r\n                    TableViewSelectionModel&lt;Part&gt; sm = partsTable.getSelectionModel();\r\n                    sm.clearSelection();\r\n                    for (Assembly a : c.getList()) {\r\n                        for (Part p : a.partsProperty()) {\r\n                            sm.select(p);\r\n                        }\r\n                    }\r\n                    selecting = false;\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        partsTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Part&gt;() {\r\n            @Override\r\n            public void onChanged(Change&lt;? extends Part&gt; c) {\r\n                if (!selecting) {\r\n                    selecting = true;\r\n                    TableViewSelectionModel&lt;Assembly&gt; sm = assembliesTable.getSelectionModel();\r\n                    sm.clearSelection();\r\n                    for (Part p : c.getList()) {\r\n                        for (Assembly a : assemblies) {\r\n                            if (a.partsProperty().contains(p)) {\r\n                                sm.select(a);\r\n                            }\r\n                        }\r\n                    }\r\n                    selecting = false;\r\n                }\r\n            }\r\n        });\r\n        return new SplitPane(assembliesTable, partsTable);\r\n    }\r\n\r\n    private TableView setupAssembliesTableView() {\r\n        final TableView tableView = new TableView(assemblies);\r\n        tableView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n\r\n        final TableColumn&lt;Assembly, Integer&gt; idColumn = new TableColumn&lt;&gt;(&quot;id&quot;);\r\n        idColumn.setCellValueFactory(cell -&gt; cell.getValue().idProperty());\r\n\r\n        final TableColumn&lt;Assembly, String&gt; nameColumn = new TableColumn&lt;&gt;(&quot;name&quot;);\r\n        nameColumn.setCellValueFactory(cell -&gt; cell.getValue().nameProperty());\r\n\r\n        tableView.getColumns().addAll(idColumn, nameColumn);\r\n        return tableView;\r\n    }\r\n\r\n    private TableView setupPartsTableView() {\r\n        final TableView tableView = new TableView(parts);\r\n        tableView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\r\n\r\n        final TableColumn&lt;Part, Integer&gt; idColumn = new TableColumn&lt;&gt;(&quot;id&quot;);\r\n        idColumn.setCellValueFactory(cell -&gt; cell.getValue().idProperty());\r\n\r\n        final TableColumn&lt;Part, String&gt; nameColumn = new TableColumn&lt;&gt;(&quot;name&quot;);\r\n        nameColumn.setCellValueFactory(cell -&gt; cell.getValue().nameProperty());\r\n\r\n        tableView.getColumns().addAll(idColumn, nameColumn);\r\n\r\n        return tableView;\r\n    }\r\n\r\n    public static class Part {\r\n\r\n        private ObjectProperty&lt;Integer&gt; id;\r\n        private StringProperty name;\r\n\r\n        public Part(int newId, String newName) {\r\n            this.id = new SimpleObjectProperty&lt;&gt;();\r\n            this.name = new SimpleStringProperty();\r\n            setId(newId);\r\n            setName(newName);\r\n        }\r\n\r\n        public final ObjectProperty&lt;Integer&gt; idProperty() {\r\n            return this.id;\r\n        }\r\n\r\n        public final void setId(int newValue) {\r\n            idProperty().set(newValue);\r\n        }\r\n\r\n        public final int getId() {\r\n            return idProperty().get();\r\n        }\r\n\r\n        public final StringProperty nameProperty() {\r\n            return this.name;\r\n        }\r\n\r\n        public final void setName(String newValue) {\r\n            nameProperty().set(newValue);\r\n        }\r\n\r\n        public final String getName() {\r\n            return nameProperty().get();\r\n        }\r\n    }\r\n\r\n    public static class Assembly {\r\n\r\n        private ObjectProperty&lt;Integer&gt; id;\r\n        private StringProperty name;\r\n        private ObservableList&lt;Part&gt; parts;\r\n\r\n        public Assembly(int newId, String newName, Part... newParts) {\r\n            id = new SimpleObjectProperty&lt;&gt;();\r\n            name = new SimpleStringProperty();\r\n            parts = FXCollections.observableArrayList();\r\n            setId(newId);\r\n            setName(newName);\r\n            parts.setAll(newParts);\r\n        }\r\n\r\n        public final ObjectProperty&lt;Integer&gt; idProperty() {\r\n            return id;\r\n        }\r\n\r\n        public final void setId(int newId) {\r\n            idProperty().set(newId);\r\n        }\r\n\r\n        public final int getId() {\r\n            return idProperty().get();\r\n        }\r\n\r\n        public final StringProperty nameProperty() {\r\n            return name;\r\n        }\r\n\r\n        public final void setName(String newValue) {\r\n            nameProperty().set(newValue);\r\n        }\r\n\r\n        public final String getName() {\r\n            return nameProperty().get();\r\n        }\r\n\r\n        public final ObservableList&lt;Part&gt; partsProperty() {\r\n            return parts;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nBasically `selecting` puts up an &quot;in selection mode&quot; mutex; without it, the two listeners eat up the stack.\r\n\r\nWhat&#39;s a better way to do this that (a) scales out to many `TableView`s and/or (b) is more idiomatic of JavaFX or (c) is just plain better? (Note: currently working with Java 8/JavaFX 8 but will take solutions in higher versions.) Also, will take any feedback on different ways to represent the data that better fits the JavaFX idiom.","title":"Is there a more idiomatic way to perform mutual, multi-way selection using TableViews?","body":"<p>I need to perform a multiway selection among multiple JavaFX <code>TableView</code>s such that when selecting one or more rows in one <code>TableView</code>, all other <code>TableView</code>s with related information will also be selected/highlighted (actually, highlighting is more appropriate, but selection is built-in, so...)</p>\n<p>I've come up with a slighly janky method, but it doesn't really scale very well to many <code>TableView</code>s.</p>\n<pre><code>package multiwayselect;\n\nimport javafx.application.*;\nimport javafx.beans.property.*;\nimport javafx.collections.ListChangeListener.Change;\nimport javafx.collections.*;\nimport javafx.scene.*;\nimport javafx.scene.control.*;\nimport javafx.scene.control.TableView.TableViewSelectionModel;\nimport javafx.scene.layout.*;\nimport javafx.stage.*;\n\npublic class MultiwaySelectDemo extends Application {\n\n    private final ObservableList&lt;Part&gt; parts = FXCollections.observableArrayList();\n    private final ObservableList&lt;Assembly&gt; assemblies = FXCollections.observableArrayList();\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        buildModel();\n        stage.setTitle(&quot;multi-way selection demo&quot;);\n        final Region root = buildView();\n        stage.setScene(new Scene(root));\n        stage.show();\n    }\n\n    private void buildModel() {\n        Part cpu = new Part(1, &quot;CPU Ryzen 5&quot;);\n        Part ram8 = new Part(2, &quot;RAM 8GB DDR4 (1x8GB)&quot;);\n        Part ram16 = new Part(5, &quot;RAM 16GB DDR4 (2x8GB)&quot;);\n        Part mobo1 = new Part(3, &quot;MOBO ATX B550&quot;);\n        Part mobo2 = new Part(7, &quot;MOBO ATX X570 RGB&quot;);\n        Part chassis = new Part(4, &quot;CASE Standard ATX Case&quot;);\n        Part chassis1 = new Part(8, &quot;CASE Gamer ATX Case w/RGB&quot;);\n        Assembly basicBox = new Assembly(1, &quot;Basic AMD Box&quot;, cpu, ram8, mobo1, chassis);\n        Assembly gamerBox = new Assembly(2, &quot;Gamer AMD Box&quot;, cpu, ram16, mobo2, chassis1);\n        assemblies.addAll(basicBox, gamerBox);\n        for (Assembly a : assemblies) {\n            for (Part p : a.parts) {\n                if (!parts.contains(p)) {\n                    parts.add(p);\n                }\n            }\n        }\n    }\n\n    private boolean selecting = false;\n\n    private Region buildView() {\n        TableView&lt;Part&gt; partsTable = setupPartsTableView();\n        TableView&lt;Assembly&gt; assembliesTable = setupAssembliesTableView();\n        assembliesTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Assembly&gt;() {\n            @Override\n            public void onChanged(Change&lt;? extends Assembly&gt; c) {\n                if (!selecting) {\n                    selecting = true;\n\n                    TableViewSelectionModel&lt;Part&gt; sm = partsTable.getSelectionModel();\n                    sm.clearSelection();\n                    for (Assembly a : c.getList()) {\n                        for (Part p : a.partsProperty()) {\n                            sm.select(p);\n                        }\n                    }\n                    selecting = false;\n                }\n\n            }\n        });\n\n        partsTable.getSelectionModel().getSelectedItems().addListener(new ListChangeListener&lt;Part&gt;() {\n            @Override\n            public void onChanged(Change&lt;? extends Part&gt; c) {\n                if (!selecting) {\n                    selecting = true;\n                    TableViewSelectionModel&lt;Assembly&gt; sm = assembliesTable.getSelectionModel();\n                    sm.clearSelection();\n                    for (Part p : c.getList()) {\n                        for (Assembly a : assemblies) {\n                            if (a.partsProperty().contains(p)) {\n                                sm.select(a);\n                            }\n                        }\n                    }\n                    selecting = false;\n                }\n            }\n        });\n        return new SplitPane(assembliesTable, partsTable);\n    }\n\n    private TableView setupAssembliesTableView() {\n        final TableView tableView = new TableView(assemblies);\n        tableView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n\n        final TableColumn&lt;Assembly, Integer&gt; idColumn = new TableColumn&lt;&gt;(&quot;id&quot;);\n        idColumn.setCellValueFactory(cell -&gt; cell.getValue().idProperty());\n\n        final TableColumn&lt;Assembly, String&gt; nameColumn = new TableColumn&lt;&gt;(&quot;name&quot;);\n        nameColumn.setCellValueFactory(cell -&gt; cell.getValue().nameProperty());\n\n        tableView.getColumns().addAll(idColumn, nameColumn);\n        return tableView;\n    }\n\n    private TableView setupPartsTableView() {\n        final TableView tableView = new TableView(parts);\n        tableView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n\n        final TableColumn&lt;Part, Integer&gt; idColumn = new TableColumn&lt;&gt;(&quot;id&quot;);\n        idColumn.setCellValueFactory(cell -&gt; cell.getValue().idProperty());\n\n        final TableColumn&lt;Part, String&gt; nameColumn = new TableColumn&lt;&gt;(&quot;name&quot;);\n        nameColumn.setCellValueFactory(cell -&gt; cell.getValue().nameProperty());\n\n        tableView.getColumns().addAll(idColumn, nameColumn);\n\n        return tableView;\n    }\n\n    public static class Part {\n\n        private ObjectProperty&lt;Integer&gt; id;\n        private StringProperty name;\n\n        public Part(int newId, String newName) {\n            this.id = new SimpleObjectProperty&lt;&gt;();\n            this.name = new SimpleStringProperty();\n            setId(newId);\n            setName(newName);\n        }\n\n        public final ObjectProperty&lt;Integer&gt; idProperty() {\n            return this.id;\n        }\n\n        public final void setId(int newValue) {\n            idProperty().set(newValue);\n        }\n\n        public final int getId() {\n            return idProperty().get();\n        }\n\n        public final StringProperty nameProperty() {\n            return this.name;\n        }\n\n        public final void setName(String newValue) {\n            nameProperty().set(newValue);\n        }\n\n        public final String getName() {\n            return nameProperty().get();\n        }\n    }\n\n    public static class Assembly {\n\n        private ObjectProperty&lt;Integer&gt; id;\n        private StringProperty name;\n        private ObservableList&lt;Part&gt; parts;\n\n        public Assembly(int newId, String newName, Part... newParts) {\n            id = new SimpleObjectProperty&lt;&gt;();\n            name = new SimpleStringProperty();\n            parts = FXCollections.observableArrayList();\n            setId(newId);\n            setName(newName);\n            parts.setAll(newParts);\n        }\n\n        public final ObjectProperty&lt;Integer&gt; idProperty() {\n            return id;\n        }\n\n        public final void setId(int newId) {\n            idProperty().set(newId);\n        }\n\n        public final int getId() {\n            return idProperty().get();\n        }\n\n        public final StringProperty nameProperty() {\n            return name;\n        }\n\n        public final void setName(String newValue) {\n            nameProperty().set(newValue);\n        }\n\n        public final String getName() {\n            return nameProperty().get();\n        }\n\n        public final ObservableList&lt;Part&gt; partsProperty() {\n            return parts;\n        }\n    }\n\n}\n</code></pre>\n<p>Basically <code>selecting</code> puts up an &quot;in selection mode&quot; mutex; without it, the two listeners eat up the stack.</p>\n<p>What's a better way to do this that (a) scales out to many <code>TableView</code>s and/or (b) is more idiomatic of JavaFX or (c) is just plain better? (Note: currently working with Java 8/JavaFX 8 but will take solutions in higher versions.) Also, will take any feedback on different ways to represent the data that better fits the JavaFX idiom.</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data","spring-data-mongodb"],"answers":[{"comments":[{"owner":{"account_id":23999668,"reputation":25,"user_id":17984751,"display_name":"matpel42"},"score":0,"creation_date":1675423869,"post_id":75302156,"comment_id":132930785,"body_markdown":"Actually it didn&#39;t need the `exclude(_id)`  for some reason, but it worked. Thank you!","body":"Actually it didn&#39;t need the <code>exclude(_id)</code>  for some reason, but it worked. Thank you!"}],"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675192875,"creation_date":1675192875,"answer_id":75302156,"question_id":75298762,"body_markdown":"I think the problem can be the result can&#39;t be serialized into your `OrganizationDTO` so you can try to add a `$project` stage into aggregation, something like this (not tested):\r\n\r\n```java\r\nProjectionOperation project = Aggregation.project().andExclude(&quot;_id&quot;).and(&quot;organizationId&quot;).nested(Fields.fields(&quot;_id.organizationId&quot;)).and(&quot;organizationName&quot;).nested(Fields.fields(&quot;_id.organizationName&quot;));\r\nAggregation aggregation = Aggregation.newAggregation(match, group, project);\r\n```\r\n\r\nAnd now the result is like the DTO and can be mapped so now should not be empty objects.","title":"Distinct query but selecting multiple fields on Spring MongoDB","body":"<p>I think the problem can be the result can't be serialized into your <code>OrganizationDTO</code> so you can try to add a <code>$project</code> stage into aggregation, something like this (not tested):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProjectionOperation project = Aggregation.project().andExclude(&quot;_id&quot;).and(&quot;organizationId&quot;).nested(Fields.fields(&quot;_id.organizationId&quot;)).and(&quot;organizationName&quot;).nested(Fields.fields(&quot;_id.organizationName&quot;));\nAggregation aggregation = Aggregation.newAggregation(match, group, project);\n</code></pre>\n<p>And now the result is like the DTO and can be mapped so now should not be empty objects.</p>\n"}],"owner":{"account_id":23999668,"reputation":25,"user_id":17984751,"display_name":"matpel42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75302156,"answer_count":1,"score":1,"last_activity_date":1675192875,"creation_date":1675175850,"question_id":75298762,"body_markdown":"I have a `User` model on a Mongo collection that looks like this:\r\n\r\n**User.class**\r\n```\r\n@Id\r\nprivate String userId;\r\nprivate String userName;\r\nprivate String organizationId;\r\nprivate String organizationName;\r\nprivate String status\r\n```\r\n\r\nI need to get a list of `OrganizationDTO` to send as a response to the frontend. The DTO is shaped as below:\r\n\r\n**OrganizationDTO.class**\r\n```\r\nprivate String organizationId;\r\nprivate String organizationName;\r\n```\r\nBut in the collection is obviously possible that different Users have the same organizationId and organizationName, so I want to list them only once.\r\nThe list of OrganizationDTO should contain every distinct organizationId/Name that has a status included in a set I choose.\r\n\r\n\r\n\r\nI&#39;ll be glad to add everything that could be helpful if needed.\r\n\r\nI tried using `mongoTemplate.findDistinct()` but it clearly isn&#39;t the solution I&#39;m looking for.\r\nThe over-complicated &quot;solution&quot; I found is this:\r\n\r\n```\r\nQuery orgIdListQuery = new Query().addCriteria(\r\n  Criteria.where(&quot;status&quot;).in(statusList)\r\n);\r\n\r\nList&lt;String&gt; organizationIdList = mongoTemplate.findDistinct(orgIdListQuery, &quot;organizationId&quot;, User.class, String.class);\r\n\r\nList&lt;String&gt; organizationNameList = mongoTemplate.findDistinct(orgIdListQuery, &quot;organizationName&quot;, User.class, String.class);\r\n\r\n// Map the two lists to get a single one with both fields, obtaining a list of OrganizationDTO\r\n```\r\nbut I didn&#39;t like it at all, so I tried with aggregations:\r\n\r\n```\r\nMatchOperation match = new MatchOperation(getCriteria(statusList));  //getCriteria returns the Criteria as above\r\nGroupOperation group = new GroupOperation(Fields.fields(&quot;organizationId&quot;, &quot;organizationName&quot;));\r\nAggregation aggregation = Aggregation.newAggregation(match, group);\r\nAggregationResults&lt;OrganizationDTO&gt; results = mongoTemplate.aggregate(aggregation, User.class, OrganizationDTO.class);\r\nreturn results.getMappedResults();\r\n```\r\nIt seems that I&#39;m near the right implementation, but at the moment the result is a List with some empty objects. Is this the right solution once the aggregation is correct? Or maybe there&#39;s something better?","title":"Distinct query but selecting multiple fields on Spring MongoDB","body":"<p>I have a <code>User</code> model on a Mongo collection that looks like this:</p>\n<p><strong>User.class</strong></p>\n<pre><code>@Id\nprivate String userId;\nprivate String userName;\nprivate String organizationId;\nprivate String organizationName;\nprivate String status\n</code></pre>\n<p>I need to get a list of <code>OrganizationDTO</code> to send as a response to the frontend. The DTO is shaped as below:</p>\n<p><strong>OrganizationDTO.class</strong></p>\n<pre><code>private String organizationId;\nprivate String organizationName;\n</code></pre>\n<p>But in the collection is obviously possible that different Users have the same organizationId and organizationName, so I want to list them only once.\nThe list of OrganizationDTO should contain every distinct organizationId/Name that has a status included in a set I choose.</p>\n<p>I'll be glad to add everything that could be helpful if needed.</p>\n<p>I tried using <code>mongoTemplate.findDistinct()</code> but it clearly isn't the solution I'm looking for.\nThe over-complicated &quot;solution&quot; I found is this:</p>\n<pre><code>Query orgIdListQuery = new Query().addCriteria(\n  Criteria.where(&quot;status&quot;).in(statusList)\n);\n\nList&lt;String&gt; organizationIdList = mongoTemplate.findDistinct(orgIdListQuery, &quot;organizationId&quot;, User.class, String.class);\n\nList&lt;String&gt; organizationNameList = mongoTemplate.findDistinct(orgIdListQuery, &quot;organizationName&quot;, User.class, String.class);\n\n// Map the two lists to get a single one with both fields, obtaining a list of OrganizationDTO\n</code></pre>\n<p>but I didn't like it at all, so I tried with aggregations:</p>\n<pre><code>MatchOperation match = new MatchOperation(getCriteria(statusList));  //getCriteria returns the Criteria as above\nGroupOperation group = new GroupOperation(Fields.fields(&quot;organizationId&quot;, &quot;organizationName&quot;));\nAggregation aggregation = Aggregation.newAggregation(match, group);\nAggregationResults&lt;OrganizationDTO&gt; results = mongoTemplate.aggregate(aggregation, User.class, OrganizationDTO.class);\nreturn results.getMappedResults();\n</code></pre>\n<p>It seems that I'm near the right implementation, but at the moment the result is a List with some empty objects. Is this the right solution once the aggregation is correct? Or maybe there's something better?</p>\n"},{"tags":["java","time-complexity","big-o","discrete-mathematics"],"comments":[{"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"score":0,"creation_date":1675191033,"post_id":75301656,"comment_id":132874321,"body_markdown":"When you say you want to determine T(n), does that mean you want to calculate time complexity of the given code?","body":"When you say you want to determine T(n), does that mean you want to calculate time complexity of the given code?"},{"owner":{"account_id":27669054,"reputation":3,"user_id":21120285,"display_name":"Joseph Decker"},"score":0,"creation_date":1675191825,"post_id":75301656,"comment_id":132874522,"body_markdown":"Yes, sorry for not clarifying in the post. I think that&#39;s what the question is looking for. @AleksaMajkic","body":"Yes, sorry for not clarifying in the post. I think that&#39;s what the question is looking for. @AleksaMajkic"}],"answers":[{"tags":[],"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675192315,"creation_date":1675192315,"answer_id":75302070,"question_id":75301656,"body_markdown":"Here is how you can approach this problem: \r\n```\r\nsum = 0;                 // 1 - O(1)\r\nfor (i=0; i&lt;3; i++)      // This will run 3x times - O(3)\r\n    for (j=0; j&lt;n; j++)  // This will run n times (O(n)), meaning the sum will be increased n times \r\n        sum++;\r\n```\r\nThen you can write `T(n)=1+3*(1+n+2n)≈1+3n`. This means that the time complexity for this code is O(n).\r\n\r\nGenerally, when looking at the simple `for` loop, like the one here, you can determine its complexity by looking at the condition statement. For `j&lt;n` the complexity will be O(n), and for `i&lt;3` the complexity will be O(3).","title":"How do you calculate T(n) in an equation from a code fragment?","body":"<p>Here is how you can approach this problem:</p>\n<pre><code>sum = 0;                 // 1 - O(1)\nfor (i=0; i&lt;3; i++)      // This will run 3x times - O(3)\n    for (j=0; j&lt;n; j++)  // This will run n times (O(n)), meaning the sum will be increased n times \n        sum++;\n</code></pre>\n<p>Then you can write <code>T(n)=1+3*(1+n+2n)≈1+3n</code>. This means that the time complexity for this code is O(n).</p>\n<p>Generally, when looking at the simple <code>for</code> loop, like the one here, you can determine its complexity by looking at the condition statement. For <code>j&lt;n</code> the complexity will be O(n), and for <code>i&lt;3</code> the complexity will be O(3).</p>\n"}],"owner":{"account_id":27669054,"reputation":3,"user_id":21120285,"display_name":"Joseph Decker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75302070,"answer_count":1,"score":0,"last_activity_date":1675192552,"creation_date":1675189986,"question_id":75301656,"body_markdown":"I&#39;m having trouble converting code fragments into equations that figure out T(n) of said equation. An example code fragment is this:\r\n\r\na = b + c;\r\nd = a + e;\r\n\r\n\r\nThis specific questions asks to determine T(n). How would I go about doing that? Another example code given is as follows:\r\n\r\n\r\n    sum = 0;\r\n    for (i=0; i&lt;3; i++)\r\n        for (j=0; j&lt;n; j++)\r\n            sum++;\r\n\r\nI&#39;ve attempted to follow instruction and examples from other questions that are similar, but am getting stuck on how the equation is found exactly. Here&#39;s an example and result that I know of so far:\r\n\r\nCode:\r\n    \r\n    sum = 0;\r\n    i = 1;\r\n    while (i &lt;= N)\r\n    {\r\n        sum = sum + 1;\r\n        i++;\r\n    }\r\n\r\nWith the result being this:\r\nT(N) = 2 + (Σ with N on top and i+1 on bottom) * 2\r\nand that ends up simplifying to 2+2N\r\nI&#39;m unsure of how this result is found though.","title":"How do you calculate T(n) in an equation from a code fragment?","body":"<p>I'm having trouble converting code fragments into equations that figure out T(n) of said equation. An example code fragment is this:</p>\n<p>a = b + c;\nd = a + e;</p>\n<p>This specific questions asks to determine T(n). How would I go about doing that? Another example code given is as follows:</p>\n<pre><code>sum = 0;\nfor (i=0; i&lt;3; i++)\n    for (j=0; j&lt;n; j++)\n        sum++;\n</code></pre>\n<p>I've attempted to follow instruction and examples from other questions that are similar, but am getting stuck on how the equation is found exactly. Here's an example and result that I know of so far:</p>\n<p>Code:</p>\n<pre><code>sum = 0;\ni = 1;\nwhile (i &lt;= N)\n{\n    sum = sum + 1;\n    i++;\n}\n</code></pre>\n<p>With the result being this:\nT(N) = 2 + (Σ with N on top and i+1 on bottom) * 2\nand that ends up simplifying to 2+2N\nI'm unsure of how this result is found though.</p>\n"},{"tags":["java","tizen","tizen-studio"],"answers":[{"comments":[{"owner":{"account_id":27214902,"reputation":3,"user_id":20745085,"display_name":"Swee from Swee Studios."},"score":0,"creation_date":1670900227,"post_id":74779028,"comment_id":131975156,"body_markdown":"Thank you so much! I thought it was a bug in all versions of windows! are there any workarounds for it so far?","body":"Thank you so much! I thought it was a bug in all versions of windows! are there any workarounds for it so far?"},{"owner":{"account_id":27214902,"reputation":3,"user_id":20745085,"display_name":"Swee from Swee Studios."},"score":0,"creation_date":1670984218,"post_id":74779028,"comment_id":131997594,"body_markdown":"edit: please remind me when the update comes out for win11 support.","body":"edit: please remind me when the update comes out for win11 support."},{"owner":{"account_id":5331352,"reputation":131,"user_id":4251836,"display_name":"Jura Herber"},"score":0,"creation_date":1673528313,"post_id":74779028,"comment_id":132522471,"body_markdown":"There is also some Java issue with the package manager. When I try to install Extras-&gt;TV Extensions 6.5-&gt;Emulator this error is logged:\n`org.tizen.manager.exception.UMException: Cannot install the Tizen Studio package.\n\tat org.tizen.manager.core.InstallController.wrapExceptionWithGeneralInstallException(InstallController.java:583) ~[PackageManagerV2-cli.jar:2.1.6]...`","body":"There is also some Java issue with the package manager. When I try to install Extras-&gt;TV Extensions 6.5-&gt;Emulator this error is logged: <code>org.tizen.manager.exception.UMException: Cannot install the Tizen Studio package. \tat org.tizen.manager.core.InstallController.wrapExceptionWithGe&zwnj;&#8203;neralInstallExceptio&zwnj;&#8203;n(InstallController.&zwnj;&#8203;java:583) ~[PackageManagerV2-cli.jar:2.1.6]...</code>"}],"tags":[],"owner":{"account_id":19279347,"reputation":139,"user_id":14091655,"display_name":"Sangwook Lee"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670894382,"creation_date":1670894382,"answer_id":74779028,"question_id":74757679,"body_markdown":"Thank you very much for asking it.\r\nWe have not supported windows11 on TizenStudio officially till now\r\nBut we will check the issue as soon as possible, and then, once we find out something, we will update it again.\r\nThanks\r\n","title":"Tizen Studio Fails to install","body":"<p>Thank you very much for asking it.\nWe have not supported windows11 on TizenStudio officially till now\nBut we will check the issue as soon as possible, and then, once we find out something, we will update it again.\nThanks</p>\n"}],"owner":{"account_id":27214902,"reputation":3,"user_id":20745085,"display_name":"Swee from Swee Studios."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74779028,"answer_count":1,"score":0,"last_activity_date":1675192376,"creation_date":1670720746,"question_id":74757679,"body_markdown":"I tried to install Tizen Studio 5.0 on my Windows 11 PC. I noticed the installer shows up but when it says &quot;the installation process is starting...&quot; it disappears.\r\n\r\nI tried looking into the temporary files and ran installer.jar using\r\n\r\n```\r\njava -jar installer.jar\r\n```\r\nbut I got an error saying:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\nCaused by: org.tizen.installer.exception.IMFatalException: Cannot find the config file.\r\n        at org.tizen.installer.core.Config.&lt;init&gt;(Config.java:138)\r\n        at org.tizen.installer.util.Log.getLogger(Log.java:144)\r\n        at org.tizen.installer.ui.wizard.WizardUIMain.&lt;clinit&gt;(WizardUIMain.java:68)\r\n```\r\n","title":"Tizen Studio Fails to install","body":"<p>I tried to install Tizen Studio 5.0 on my Windows 11 PC. I noticed the installer shows up but when it says &quot;the installation process is starting...&quot; it disappears.</p>\n<p>I tried looking into the temporary files and ran installer.jar using</p>\n<pre><code>java -jar installer.jar\n</code></pre>\n<p>but I got an error saying:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nCaused by: org.tizen.installer.exception.IMFatalException: Cannot find the config file.\n        at org.tizen.installer.core.Config.&lt;init&gt;(Config.java:138)\n        at org.tizen.installer.util.Log.getLogger(Log.java:144)\n        at org.tizen.installer.ui.wizard.WizardUIMain.&lt;clinit&gt;(WizardUIMain.java:68)\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675188085,"post_id":75301211,"comment_id":132873455,"body_markdown":"What is the package of Neo4jConnectionFactory? What is the package of the class containing \\@SpringBootApplication and what does the \\@SpringBootApplication annotation look like?","body":"What is the package of Neo4jConnectionFactory? What is the package of the class containing \\@SpringBootApplication and what does the \\@SpringBootApplication annotation look like?"}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675192050,"creation_date":1675192050,"answer_id":75302030,"question_id":75301211,"body_markdown":"I think this automatically prepends the prefix `neo4j`\r\n```Java\r\n@Configuration(&quot;neo4j&quot;)\r\n```\r\nSo your `@Value` statments should omit the prefix, like this:\r\n```Java\r\n    @Value(&quot;${url}&quot;)\r\n    private String url;\r\n\r\n    @Value(&quot;${user}&quot;)\r\n    private String user;\r\n\r\n    @Value(&quot;${password}&quot;)\r\n    private String password;\r\n```","title":"Values not getting picked up from application.properties","body":"<p>I think this automatically prepends the prefix <code>neo4j</code></p>\n<pre><code>@Configuration(&quot;neo4j&quot;)\n</code></pre>\n<p>So your <code>@Value</code> statments should omit the prefix, like this:</p>\n<pre><code>    @Value(&quot;${url}&quot;)\n    private String url;\n\n    @Value(&quot;${user}&quot;)\n    private String user;\n\n    @Value(&quot;${password}&quot;)\n    private String password;\n</code></pre>\n"}],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675192050,"creation_date":1675187801,"question_id":75301211,"body_markdown":"I&#39;m trying to access values from my application.properties file in the Neo4jConnectionFactory class. I am able to access the properties within my Setup beans class. But, I want to be able to access them from Neo4jConnectionFactory. When I try to do so I get null values. Is this possible? \r\n\r\nApplications.properties\r\n```java\r\nneo4j.url = bolt://localhost:7687\r\nneo4j.user = neo4j\r\nneo4j.password = neo4j\r\n```\r\n\r\nSetupBeans.java\r\n```java\r\n@Component\r\npublic class SetupBeans {\r\n    @Bean\r\n    public Neo4jClient neo4jClient() {\r\n        return new Neo4jConnectionFactory().build();\r\n    }\r\n}\r\n```\r\n\r\nNeo4jConnectionFactory.java\r\n```java\r\n@Configuration(&quot;neo4j&quot;)\r\npublic class Neo4jConnectionFactory {\r\n\r\n    @Value(&quot;${neo4j.url}&quot;)\r\n    private String url;\r\n\r\n    @Value(&quot;${neo4j.user}&quot;)\r\n    private String user;\r\n\r\n    @Value(&quot;${neo4j.password}&quot;)\r\n    private String password;\r\n\r\n    public Neo4jClient build() {\r\n        return new Neo4jClient(getUrl(), getUser(), getPassword());\r\n    }\r\n}\r\n```\r\n\r\nMyApplication.java\r\n```java\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n}\r\n```","title":"Values not getting picked up from application.properties","body":"<p>I'm trying to access values from my application.properties file in the Neo4jConnectionFactory class. I am able to access the properties within my Setup beans class. But, I want to be able to access them from Neo4jConnectionFactory. When I try to do so I get null values. Is this possible?</p>\n<p>Applications.properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>neo4j.url = bolt://localhost:7687\nneo4j.user = neo4j\nneo4j.password = neo4j\n</code></pre>\n<p>SetupBeans.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SetupBeans {\n    @Bean\n    public Neo4jClient neo4jClient() {\n        return new Neo4jConnectionFactory().build();\n    }\n}\n</code></pre>\n<p>Neo4jConnectionFactory.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration(&quot;neo4j&quot;)\npublic class Neo4jConnectionFactory {\n\n    @Value(&quot;${neo4j.url}&quot;)\n    private String url;\n\n    @Value(&quot;${neo4j.user}&quot;)\n    private String user;\n\n    @Value(&quot;${neo4j.password}&quot;)\n    private String password;\n\n    public Neo4jClient build() {\n        return new Neo4jClient(getUrl(), getUser(), getPassword());\n    }\n}\n</code></pre>\n<p>MyApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","jvm","ssl-certificate","java-17"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1675191212,"post_id":74431240,"comment_id":132874363,"body_markdown":"[This](https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html) can be helpful.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html\" rel=\"nofollow noreferrer\">This</a> can be helpful."}],"answers":[{"tags":[],"owner":{"account_id":27669132,"reputation":66,"user_id":21120344,"display_name":"Sam Lane"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675191512,"creation_date":1675189803,"answer_id":75301625,"question_id":74431240,"body_markdown":"Try `%JAVA_HOME/lib/security/cacerts`","title":"How to add SSL certificate into the jvm for java 17","body":"<p>Try <code>%JAVA_HOME/lib/security/cacerts</code></p>\n"}],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7224,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75301625,"answer_count":1,"score":3,"last_activity_date":1675191512,"creation_date":1668426904,"question_id":74431240,"body_markdown":"I need to add my SSL certificate file to the JVM trust store. I have java oracle 8 and java adoptium 17 installed. \r\n\r\nFollowing this [link][1] I have successfully added the certificate for java 8 and can communicate using the certificate. Here is the command\r\n```\r\nkeytool -importcert -alias startssl -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file ca.crt\r\n```\r\n\r\nBut now I need to add this to java 17 as well. With the same command, I could not add the certificate. I found out that for java 17 the `JAVA_HOME` does not have directory `jre/lib/security` , rather it has `conf/security` directory. So i changed my command to this\r\n```\r\nkeytool -importcert -alias startssl -keystore $JAVA_HOME/conf/security/cacerts -storepass changeit -file ca.crt\r\n```\r\n\r\nThis command generates the `cacerts` file under the `security` folder, but still, I am getting error. This same error i was getting in java 8 before adding certificate. Where I am supposed to put this `cacerts` file for java 17?\r\n\r\n```\r\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371) ~[na:na]\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309) ~[na:na]\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357) ~[na:na]\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232) ~[na:na]\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175) ~[na:na]\r\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\r\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277) ~[na:na]\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264) ~[na:na]\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\r\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209) ~[na:na]\r\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.doRunTask(SSLIOSession.java:288) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.doHandshake(SSLIOSession.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.isAppInputReady(SSLIOSession.java:547) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:120) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n        ... 1 common frames omitted\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) ~[na:na]\r\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306) ~[na:na]\r\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264) ~[na:na]\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:285) ~[na:na]\r\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:144) ~[na:na]\r\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1335) ~[na:na]\r\n        ... 19 common frames omitted\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141) ~[na:na]\r\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126) ~[na:na]\r\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297) ~[na:na]\r\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434) ~[na:na]\r\n        ... 24 common frames omitted\r\n\r\n```\r\n\r\n\r\n\r\n  [1]: https://connect2id.com/blog/importing-ca-root-cert-into-jvm-trust-store","title":"How to add SSL certificate into the jvm for java 17","body":"<p>I need to add my SSL certificate file to the JVM trust store. I have java oracle 8 and java adoptium 17 installed.</p>\n<p>Following this <a href=\"https://connect2id.com/blog/importing-ca-root-cert-into-jvm-trust-store\" rel=\"nofollow noreferrer\">link</a> I have successfully added the certificate for java 8 and can communicate using the certificate. Here is the command</p>\n<pre><code>keytool -importcert -alias startssl -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file ca.crt\n</code></pre>\n<p>But now I need to add this to java 17 as well. With the same command, I could not add the certificate. I found out that for java 17 the <code>JAVA_HOME</code> does not have directory <code>jre/lib/security</code> , rather it has <code>conf/security</code> directory. So i changed my command to this</p>\n<pre><code>keytool -importcert -alias startssl -keystore $JAVA_HOME/conf/security/cacerts -storepass changeit -file ca.crt\n</code></pre>\n<p>This command generates the <code>cacerts</code> file under the <code>security</code> folder, but still, I am getting error. This same error i was getting in java 8 before adding certificate. Where I am supposed to put this <code>cacerts</code> file for java 17?</p>\n<pre><code>Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314) ~[na:na]\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175) ~[na:na]\n        at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396) ~[na:na]\n        at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480) ~[na:na]\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1277) ~[na:na]\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1264) ~[na:na]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:712) ~[na:na]\n        at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1209) ~[na:na]\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.doRunTask(SSLIOSession.java:288) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.doHandshake(SSLIOSession.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.isAppInputReady(SSLIOSession.java:547) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:120) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\n        ... 1 common frames omitted\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439) ~[na:na]\n        at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306) ~[na:na]\n        at java.base/sun.security.validator.Validator.validate(Validator.java:264) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:285) ~[na:na]\n        at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:144) ~[na:na]\n        at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1335) ~[na:na]\n        ... 19 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141) ~[na:na]\n        at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126) ~[na:na]\n        at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297) ~[na:na]\n        at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434) ~[na:na]\n        ... 24 common frames omitted\n\n</code></pre>\n"},{"tags":["java","ssl","ssl-certificate","self-signed-certificate","java-http-client"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1675196454,"post_id":75301918,"comment_id":132875732,"body_markdown":"There is another chance to reproduce the issue - if you have control on the server: Self-sign a new certificate and install it on the server side.","body":"There is another chance to reproduce the issue - if you have control on the server: Self-sign a new certificate and install it on the server side."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1675196586,"post_id":75301918,"comment_id":132875774,"body_markdown":"Startup your application with command line options pointing to another truststore. You could even create an empty one to start with.","body":"Startup your application with command line options pointing to another truststore. You could even create an empty one to start with."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1675263263,"post_id":75301918,"comment_id":132891122,"body_markdown":"You should probably avoid modifying `cacerts`. [This discussion](https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-32CF3420-56E8-4BC5-8D3B-1F6B4692A290) explains some better options, including create your own file of trusted certificates.","body":"You should probably avoid modifying <code>cacerts</code>. <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-32CF3420-56E8-4BC5-8D3B-1F6B4692A290\" rel=\"nofollow noreferrer\">This discussion</a> explains some better options, including create your own file of trusted certificates."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1675263465,"post_id":75301918,"comment_id":132891176,"body_markdown":"You can use `keytool` to examine the `cacerts` file, or an applicate like KeyStore Explorer. Just taking a wild guess here but the problem may be that your platform has multiple JDKs installed, and you modified the cacerts file of one of these but then tried to remove it from a different one, or you ran the program the first time using one JDK but ran it the second time using a different JDK. I would try running it using the full absolute pathname to the `java` executable to help diagnose the issue.","body":"You can use <code>keytool</code> to examine the <code>cacerts</code> file, or an applicate like KeyStore Explorer. Just taking a wild guess here but the problem may be that your platform has multiple JDKs installed, and you modified the cacerts file of one of these but then tried to remove it from a different one, or you ran the program the first time using one JDK but ran it the second time using a different JDK. I would try running it using the full absolute pathname to the <code>java</code> executable to help diagnose the issue."}],"owner":{"account_id":385654,"reputation":275,"user_id":742925,"accept_rate":43,"display_name":"user742925"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675191463,"creation_date":1675191463,"question_id":75301918,"body_markdown":"I am running a Java 11 SDK program through IntelliJ IDEA (on Widows 10) which is using the Java 11 Httpclient to send a simple GET request to a site that has a self-signed certificate. \r\n```\r\nfinal HttpClient httpClient = HttpClient.newBuilder()\r\n        .version(HttpClient.Version.HTTP_1_1)\r\n        .connectTimeout(Duration.ofSeconds(10))\r\n        .build();\r\n\r\nHttpRequest request = HttpRequest.newBuilder()\r\n            .uri(new URI(url))\r\n            .GET()\r\n            .build();\r\n\r\nHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nThis was initially resulting in a &quot;pkix path building failed&quot; error, which I solved by adding the site&#39;s certificate to the local truststore `C:\\Users\\[username]\\.jdks\\azul-11.0.16.1\\lib\\security\\cacerts`\r\n\r\nProblem solved. Except now I need to reproduce that issue again, so I went to remove that certificate from the cacerts file and restarted the whole PC for good measure.\r\n\r\nHowever, even with the certificate removed from cacerts, there are no errors and the request is still going through as if the certificate was still trusted. I thought any possible caching might be eliminated by restarting the machine.\r\n\r\nI am out of ideas and problems with removing a previously added certificate is not a very hot topic for googling. What could be going on here that I&#39;m missing?","title":"Java Httpclient request to a site with self-signed certificate passes even after removing certificate from truststore","body":"<p>I am running a Java 11 SDK program through IntelliJ IDEA (on Widows 10) which is using the Java 11 Httpclient to send a simple GET request to a site that has a self-signed certificate.</p>\n<pre><code>final HttpClient httpClient = HttpClient.newBuilder()\n        .version(HttpClient.Version.HTTP_1_1)\n        .connectTimeout(Duration.ofSeconds(10))\n        .build();\n\nHttpRequest request = HttpRequest.newBuilder()\n            .uri(new URI(url))\n            .GET()\n            .build();\n\nHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>This was initially resulting in a &quot;pkix path building failed&quot; error, which I solved by adding the site's certificate to the local truststore <code>C:\\Users\\[username]\\.jdks\\azul-11.0.16.1\\lib\\security\\cacerts</code></p>\n<p>Problem solved. Except now I need to reproduce that issue again, so I went to remove that certificate from the cacerts file and restarted the whole PC for good measure.</p>\n<p>However, even with the certificate removed from cacerts, there are no errors and the request is still going through as if the certificate was still trusted. I thought any possible caching might be eliminated by restarting the machine.</p>\n<p>I am out of ideas and problems with removing a previously added certificate is not a very hot topic for googling. What could be going on here that I'm missing?</p>\n"},{"tags":["java","synchronization","locking"],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675191385,"creation_date":1675191385,"answer_id":75301903,"question_id":75285432,"body_markdown":"### How to deal with the problem of waiting for the answer ?###\r\n\r\nUsing **while(true)** can create issues because you are blocking the thread and opening sub thread and multi streams will make it more complex. There is easy way called  reactive programming which handles this kind of multi-threaded issues easily, [quarkus async solution](https://stackoverflow.com/a/71232766/175554) and [spring](https://stackoverflow.com/a/55573852/175554), if you still want to manage your sockets from java code you can use [akka](https://doc.akka.io/docs/akka/current/stream/stream-io.html)\r\n\r\n### How can I make sure that there will be no problems when more than 2 clients send requests at the same time. ###\r\n\r\nThat can be done by not blocking the main thread and If you manage to use reactive and/or async approach you will not have that problem.\r\n\r\nReference \r\n- https://quarkus.io/guides/getting-started-reactive\r\n- https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html","title":"synchronize between multiple clients in a server","body":"<h3>How to deal with the problem of waiting for the answer ?###</h3>\n<p>Using <strong>while(true)</strong> can create issues because you are blocking the thread and opening sub thread and multi streams will make it more complex. There is easy way called  reactive programming which handles this kind of multi-threaded issues easily, <a href=\"https://stackoverflow.com/a/71232766/175554\">quarkus async solution</a> and <a href=\"https://stackoverflow.com/a/55573852/175554\">spring</a>, if you still want to manage your sockets from java code you can use <a href=\"https://doc.akka.io/docs/akka/current/stream/stream-io.html\" rel=\"nofollow noreferrer\">akka</a></p>\n<h3>How can I make sure that there will be no problems when more than 2 clients send requests at the same time.</h3>\n<p>That can be done by not blocking the main thread and If you manage to use reactive and/or async approach you will not have that problem.</p>\n<p>Reference</p>\n<ul>\n<li><a href=\"https://quarkus.io/guides/getting-started-reactive\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-reactive</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html</a></li>\n</ul>\n"}],"owner":{"account_id":15032752,"reputation":29,"user_id":10850275,"display_name":"N.Omar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675191385,"creation_date":1675086999,"question_id":75285432,"body_markdown":"I have a Server that can receive multiple request at the same time.\r\n\r\nIn my Server, I have to make some traitement and wait for response. This traitmenet is done by externe library so I don&#39;t how much should I wait.\r\n\r\nSo the Server looks like :\r\n\r\n    public class MyServer{\r\n\r\n\r\n    @Override\r\n    //method from the library\r\n    public void workonRequest(){\r\n       //---\r\n       response=[...] \r\n       \r\n    }\r\n\r\n        public void listenRequest() {\r\n            new Thread(() -&gt; {\r\n                while (true) {\r\n                    try {\r\n                        socket = server.accept();\r\n                        ObjectInputStream input = new ObjectInputStream(socket.getInputStream());\r\n                        ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\r\n                        socket.setTcpNoDelay(true); //TODO : Not sure !\r\n                        new Thread(() -&gt; {\r\n                            try {\r\n                                handleRequest(input, output);\r\n                            } catch (IOException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }).start();\r\n                    } catch (IOException ex) {\r\n                        System.out.println(ex.getMessage());\r\n                    }\r\n                }\r\n            }).start();\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nAnd the handle request method is :\r\n\r\n\r\n        public void handleRequest(ObjectInputStream input, ObjectOutputStream output) throws IOException {\r\n            try {\r\n                while (true) {\r\n                //forward the request to the library\r\n                //work on it [means using the library and waiting]\r\n                // return response \r\n               }\r\n    }\r\n    \r\n    }\r\n\r\n\r\nThe response object is the result that I want return to the client\r\n\r\n1. How to deal with the problem of waiting for the answer?\r\n2. How can I make sure that there will be no problems when more than 2 clients send requests at the same time.\r\n\r\nThanks in advance\r\n\r\n","title":"synchronize between multiple clients in a server","body":"<p>I have a Server that can receive multiple request at the same time.</p>\n<p>In my Server, I have to make some traitement and wait for response. This traitmenet is done by externe library so I don't how much should I wait.</p>\n<p>So the Server looks like :</p>\n<pre><code>public class MyServer{\n\n\n@Override\n//method from the library\npublic void workonRequest(){\n   //---\n   response=[...] \n   \n}\n\n    public void listenRequest() {\n        new Thread(() -&gt; {\n            while (true) {\n                try {\n                    socket = server.accept();\n                    ObjectInputStream input = new ObjectInputStream(socket.getInputStream());\n                    ObjectOutputStream output = new ObjectOutputStream(socket.getOutputStream());\n                    socket.setTcpNoDelay(true); //TODO : Not sure !\n                    new Thread(() -&gt; {\n                        try {\n                            handleRequest(input, output);\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }).start();\n                } catch (IOException ex) {\n                    System.out.println(ex.getMessage());\n                }\n            }\n        }).start();\n    }\n</code></pre>\n<p>And the handle request method is :</p>\n<pre><code>    public void handleRequest(ObjectInputStream input, ObjectOutputStream output) throws IOException {\n        try {\n            while (true) {\n            //forward the request to the library\n            //work on it [means using the library and waiting]\n            // return response \n           }\n}\n\n}\n</code></pre>\n<p>The response object is the result that I want return to the client</p>\n<ol>\n<li>How to deal with the problem of waiting for the answer?</li>\n<li>How can I make sure that there will be no problems when more than 2 clients send requests at the same time.</li>\n</ol>\n<p>Thanks in advance</p>\n"},{"tags":["java","ant","jacoco"],"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1438256234,"post_id":31720139,"comment_id":51381731,"body_markdown":"Add how executiondata (`${jacocoexec.filename}`) is generated? There should be separate target which executes `jacoco:coverage` task. Put this target to question as well.","body":"Add how executiondata (<code>${jacocoexec.filename}</code>) is generated? There should be separate target which executes <code>jacoco:coverage</code> task. Put this target to question as well."},{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":0,"creation_date":1438258003,"post_id":31720139,"comment_id":51382947,"body_markdown":"by adding -javaagent parameter while running test case: -javaagent:JaCoCoProject/lib/jacocoagent.jar=destfile=JaCoCoProject/jacoco.exec,output=file","body":"by adding -javaagent parameter while running test case: -javaagent:JaCoCoProject/lib/jacocoagent.jar=destfile=JaCoCo&zwnj;&#8203;Project/jacoco.exec,&zwnj;&#8203;output=file"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":1,"creation_date":1439051419,"post_id":31720139,"comment_id":51707600,"body_markdown":"please share the full build file.  All that error is saying is you instrumented a jar, ran tests- Those classes are not from &quot;./jar/abc.jar&quot;- It is not enough to match the classes by name. they must match the &quot;classID&quot; seen by jacoco- which means even if you recompile, the classes are different.","body":"please share the full build file.  All that error is saying is you instrumented a jar, ran tests- Those classes are not from &quot;./jar/abc.jar&quot;- It is not enough to match the classes by name. they must match the &quot;classID&quot; seen by jacoco- which means even if you recompile, the classes are different."},{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":0,"creation_date":1439198397,"post_id":31720139,"comment_id":51744534,"body_markdown":"@Jayan : Does recompiling on same code may change the content in jar ?","body":"@Jayan : Does recompiling on same code may change the content in jar ?"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1439198634,"post_id":31720139,"comment_id":51744692,"body_markdown":"Yes- from jacoco&#39;s point of view. It computes has hash from binary- this is different each time you compile- probably due to timestamps.","body":"Yes- from jacoco&#39;s point of view. It computes has hash from binary- this is different each time you compile- probably due to timestamps."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1439198788,"post_id":31720139,"comment_id":51744795,"body_markdown":"@Nishu: you are offering a bounty- The OP however did not add enough details to the qustion- do you have access to smaple build.xml used by OP(or whatever the question leads to?)","body":"@Nishu: you are offering a bounty- The OP however did not add enough details to the qustion- do you have access to smaple build.xml used by OP(or whatever the question leads to?)"},{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":0,"creation_date":1439199086,"post_id":31720139,"comment_id":51744973,"body_markdown":"@Jayan: Nope... actually i am getting such errors while generating code coverage in my project and that&#39;s why set a bounty to this one. Your comment looked a bit convincing and that&#39;s why asked you","body":"@Jayan: Nope... actually i am getting such errors while generating code coverage in my project and that&#39;s why set a bounty to this one. Your comment looked a bit convincing and that&#39;s why asked you"},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1439200977,"post_id":31720139,"comment_id":51746058,"body_markdown":"@Nishu : So you can edit question with your additional details :). Please see my answers - which is a shameless copy from JaCoCo Site.","body":"@Nishu : So you can edit question with your additional details :). Please see my answers - which is a shameless copy from JaCoCo Site."}],"answers":[{"tags":[],"owner":{"account_id":2238971,"reputation":379,"user_id":1974522,"accept_rate":67,"display_name":"kkmonlee"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1439177123,"creation_date":1439177123,"answer_id":31911218,"question_id":31720139,"body_markdown":"JaCoCo needs the exact same class files for report generation that used at execution time. Due to different compilers and/or other tools modifying the classes, the classes might be different.","title":"jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;","body":"<p>JaCoCo needs the exact same class files for report generation that used at execution time. Due to different compilers and/or other tools modifying the classes, the classes might be different.</p>\n"},{"comments":[{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":3,"creation_date":1439202626,"post_id":31916686,"comment_id":51747089,"body_markdown":"Thanks for adding this answer. its quite helpful in understanding the jacoco framework and associated concepts.","body":"Thanks for adding this answer. its quite helpful in understanding the jacoco framework and associated concepts."},{"owner":{"account_id":2023447,"reputation":2411,"user_id":1809096,"accept_rate":57,"display_name":"Sagar Trehan"},"score":4,"creation_date":1487749246,"post_id":31916686,"comment_id":71919127,"body_markdown":"@Jayan: Your answer is correct but very difficult to understand what exactly I have to do to fix the issue. If you can provide some code snippet then it will be very easier for me. You have written the answer considering that the person who will read this have good understanding of how Jacoco works.","body":"@Jayan: Your answer is correct but very difficult to understand what exactly I have to do to fix the issue. If you can provide some code snippet then it will be very easier for me. You have written the answer considering that the person who will read this have good understanding of how Jacoco works."},{"owner":{"account_id":2023447,"reputation":2411,"user_id":1809096,"accept_rate":57,"display_name":"Sagar Trehan"},"score":1,"creation_date":1487749659,"post_id":31916686,"comment_id":71919365,"body_markdown":"@Jayan: Edited your answer and added a task that I used for offline  instrumentation. Please review.","body":"@Jayan: Edited your answer and added a task that I used for offline  instrumentation. Please review."},{"owner":{"account_id":156039,"reputation":2677,"user_id":373091,"accept_rate":74,"display_name":"Carmageddon"},"score":0,"creation_date":1516902183,"post_id":31916686,"comment_id":83890391,"body_markdown":"I get error `  build file &#39;C:\\Projects\\projname\\subdir\\build.gradle&#39;: 45: expecting &#39;&#39;&#39;, found &#39;\\r&#39; @ line 45, column 51.\n     : &#39;org/jacoco/ant/antlib.xml&#39;,`\nAny idea what is this?","body":"I get error `  build file &#39;C:\\Projects\\projname\\subdir\\build.gradle&#39;: 45: expecting &#39;&#39;&#39;, found &#39;\\r&#39; @ line 45, column 51.      : &#39;org/jacoco/ant/antlib.xml&#39;,` Any idea what is this?"},{"owner":{"account_id":1320652,"reputation":803,"user_id":1266556,"accept_rate":60,"display_name":"Freedom"},"score":0,"creation_date":1609149782,"post_id":31916686,"comment_id":115758468,"body_markdown":"Could not get unknown property &#39;classesDir&#39; for main classes of type org.gradle.api.internal.tasks.DefaultSourceSetOutput.","body":"Could not get unknown property &#39;classesDir&#39; for main classes of type org.gradle.api.internal.tasks.DefaultSourceSetOutput."}],"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"comment_count":5,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1487751766,"creation_date":1439200900,"answer_id":31916686,"question_id":31720139,"body_markdown":"You are getting the error related to classID. This is a concept described in detail at JaCoCo docs-site. http://www.eclemma.org/jacoco/trunk/doc/classids.html.  This is a key step for supporting multiple versions of class (an appserver for example) in same JVM.\r\n\r\nCopying part some part of it here for visibility. \r\n \r\n\r\n**What are class ids and how are they created?**\r\n    \r\n    \r\n\r\n&gt; Class ids are 64-bit integer values, for example 0x638e104737889183 in\r\n&gt; hex notation. Their calculation is considered an implementation detail\r\n&gt; of JaCoCo. Currently ids are created with a CRC64 checksum of the raw\r\n&gt; class file.\r\n\r\n\r\n\r\n**What can cause different class ids?**\r\n\r\n&gt; Class ids are identical for the exact same class file only\r\n&gt; (byte-by-byte). There is a couple of reasons why you might get\r\n&gt; different class files. First compiling Java source files will result\r\n&gt; in different class files if you use a different tool chain:\r\n\r\n    \r\n\r\n - Different compiler vendor (e.g. Eclipse vs. Oracle JDK)\r\n\r\n - Different compiler versions\r\n\r\n - Different compiler settings (e.g. debug vs. non-debug)\r\n\r\nAlso post-processing class files (obfuscation, AspectJ, etc.) will typically change the class files. JaCoCo will work well if you simply use the same class files for runtime as well as for analysis. So the tool chain to create these class files does not matter.\r\n\r\nEven if the class files on the file system are the same there is possible that classes seen by the JaCoCo runtime agent are different anyways. This typically happens when another Java agent is configured before the JaCoCo agent or special class loaders pre-process the class files. Typical candidates are:\r\n\r\n- Mocking frameworks\r\n- Application servers\r\n- Persistence frameworks\r\n\r\nThe same page covers possible solutions. \r\n\r\n**What workarounds exist to deal with runtime-modified classes?**\r\n\r\nIf classes get modified at runtime in your setup there are some workarounds to make JaCoCo work anyways:\r\n\r\n- If you use another Java agent make sure the JaCoCo agent is specified at first in the command line. This way the JaCoCo agent should see the original class files.\r\n- Specify the classdumpdir option of the JaCoCo agent and use the dumped classes at report generation. Note that only loaded classes will be dumped, i.e. classes not executed at all will not show-up in your report as not covered.\r\n- Use offline instrumentation before you run your tests. This way classes get instrumented by JaCoCo before any runtime modification can take place. Note that in this case the report has to be generated with the original classes, not with instrumented ones.\r\n\r\n**Edited on 22-02-2017**\r\n\r\n**How to use Offline Instrumentation:**\r\nUse below task provided by [Daniel Atallah][1].\r\n\r\n    //Additional SourceSets can be added to the jacocoOfflineSourceSets as needed by \r\n    project.ext.jacocoOfflineSourceSets = [ &#39;main&#39; ]\r\n    task doJacocoOfflineInstrumentation(dependsOn: [ classes, project.configurations.jacocoAnt ]) {\r\n        inputs.files classes.outputs.files\r\n        File outputDir = new File(project.buildDir, &#39;instrumentedClasses&#39;)\r\n        outputs.dir outputDir\r\n        doFirst {\r\n            project.delete(outputDir)\r\n            ant.taskdef(\r\n                resource: &#39;org/jacoco/ant/antlib.xml&#39;,\r\n                classpath: project.configurations.jacocoAnt.asPath,\r\n                uri: &#39;jacoco&#39;\r\n            )\r\n            def instrumented = false\r\n            jacocoOfflineSourceSets.each { sourceSetName -&gt;\r\n                if (file(sourceSets[sourceSetName].output.classesDir).exists()) {\r\n                    def instrumentedClassedDir = &quot;${outputDir}/${sourceSetName}&quot;\r\n                    ant.&#39;jacoco:instrument&#39;(destdir: instrumentedClassedDir) {\r\n                        fileset(dir: sourceSets[sourceSetName].output.classesDir, includes: &#39;**/*.class&#39;)\r\n                    }\r\n                    //Replace the classes dir in the test classpath with the instrumented one\r\n                    sourceSets.test.runtimeClasspath -= files(sourceSets[sourceSetName].output.classesDir)\r\n                    sourceSets.test.runtimeClasspath += files(instrumentedClassedDir)\r\n                    instrumented = true\r\n                }\r\n            }\r\n            if (instrumented) {\r\n                //Disable class verification based on https://github.com/jayway/powermock/issues/375\r\n                test.jvmArgs += &#39;-noverify&#39;\r\n            }\r\n        }\r\n    }\r\n    test.dependsOn doJacocoOfflineInstrumentation\r\n\r\nNow generate report using `&quot;gradlew test jacocoTestReport&quot;` command.\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/jacoco-offline-instrumentation-in-gradle/9996/2","title":"jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;","body":"<p>You are getting the error related to classID. This is a concept described in detail at JaCoCo docs-site. <a href=\"http://www.eclemma.org/jacoco/trunk/doc/classids.html\" rel=\"noreferrer\">http://www.eclemma.org/jacoco/trunk/doc/classids.html</a>.  This is a key step for supporting multiple versions of class (an appserver for example) in same JVM.</p>\n\n<p>Copying part some part of it here for visibility. </p>\n\n<p><strong>What are class ids and how are they created?</strong></p>\n\n<blockquote>\n  <p>Class ids are 64-bit integer values, for example 0x638e104737889183 in\n  hex notation. Their calculation is considered an implementation detail\n  of JaCoCo. Currently ids are created with a CRC64 checksum of the raw\n  class file.</p>\n</blockquote>\n\n<p><strong>What can cause different class ids?</strong></p>\n\n<blockquote>\n  <p>Class ids are identical for the exact same class file only\n  (byte-by-byte). There is a couple of reasons why you might get\n  different class files. First compiling Java source files will result\n  in different class files if you use a different tool chain:</p>\n</blockquote>\n\n<ul>\n<li><p>Different compiler vendor (e.g. Eclipse vs. Oracle JDK)</p></li>\n<li><p>Different compiler versions</p></li>\n<li><p>Different compiler settings (e.g. debug vs. non-debug)</p></li>\n</ul>\n\n<p>Also post-processing class files (obfuscation, AspectJ, etc.) will typically change the class files. JaCoCo will work well if you simply use the same class files for runtime as well as for analysis. So the tool chain to create these class files does not matter.</p>\n\n<p>Even if the class files on the file system are the same there is possible that classes seen by the JaCoCo runtime agent are different anyways. This typically happens when another Java agent is configured before the JaCoCo agent or special class loaders pre-process the class files. Typical candidates are:</p>\n\n<ul>\n<li>Mocking frameworks</li>\n<li>Application servers</li>\n<li>Persistence frameworks</li>\n</ul>\n\n<p>The same page covers possible solutions. </p>\n\n<p><strong>What workarounds exist to deal with runtime-modified classes?</strong></p>\n\n<p>If classes get modified at runtime in your setup there are some workarounds to make JaCoCo work anyways:</p>\n\n<ul>\n<li>If you use another Java agent make sure the JaCoCo agent is specified at first in the command line. This way the JaCoCo agent should see the original class files.</li>\n<li>Specify the classdumpdir option of the JaCoCo agent and use the dumped classes at report generation. Note that only loaded classes will be dumped, i.e. classes not executed at all will not show-up in your report as not covered.</li>\n<li>Use offline instrumentation before you run your tests. This way classes get instrumented by JaCoCo before any runtime modification can take place. Note that in this case the report has to be generated with the original classes, not with instrumented ones.</li>\n</ul>\n\n<p><strong>Edited on 22-02-2017</strong></p>\n\n<p><strong>How to use Offline Instrumentation:</strong>\nUse below task provided by <a href=\"https://discuss.gradle.org/t/jacoco-offline-instrumentation-in-gradle/9996/2\" rel=\"noreferrer\">Daniel Atallah</a>.</p>\n\n<pre><code>//Additional SourceSets can be added to the jacocoOfflineSourceSets as needed by \nproject.ext.jacocoOfflineSourceSets = [ 'main' ]\ntask doJacocoOfflineInstrumentation(dependsOn: [ classes, project.configurations.jacocoAnt ]) {\n    inputs.files classes.outputs.files\n    File outputDir = new File(project.buildDir, 'instrumentedClasses')\n    outputs.dir outputDir\n    doFirst {\n        project.delete(outputDir)\n        ant.taskdef(\n            resource: 'org/jacoco/ant/antlib.xml',\n            classpath: project.configurations.jacocoAnt.asPath,\n            uri: 'jacoco'\n        )\n        def instrumented = false\n        jacocoOfflineSourceSets.each { sourceSetName -&gt;\n            if (file(sourceSets[sourceSetName].output.classesDir).exists()) {\n                def instrumentedClassedDir = \"${outputDir}/${sourceSetName}\"\n                ant.'jacoco:instrument'(destdir: instrumentedClassedDir) {\n                    fileset(dir: sourceSets[sourceSetName].output.classesDir, includes: '**/*.class')\n                }\n                //Replace the classes dir in the test classpath with the instrumented one\n                sourceSets.test.runtimeClasspath -= files(sourceSets[sourceSetName].output.classesDir)\n                sourceSets.test.runtimeClasspath += files(instrumentedClassedDir)\n                instrumented = true\n            }\n        }\n        if (instrumented) {\n            //Disable class verification based on https://github.com/jayway/powermock/issues/375\n            test.jvmArgs += '-noverify'\n        }\n    }\n}\ntest.dependsOn doJacocoOfflineInstrumentation\n</code></pre>\n\n<p>Now generate report using <code>\"gradlew test jacocoTestReport\"</code> command.</p>\n"},{"comments":[{"owner":{"account_id":4888356,"reputation":2983,"user_id":3940133,"accept_rate":100,"display_name":"HendraWD"},"score":0,"creation_date":1618914489,"post_id":65588594,"comment_id":118741427,"body_markdown":"I have the same problem with PowerMock. I&#39;m not using that annotation, but with \n`@RunWith(PowerMockRunner::class)` and `@PrepareForTest(TestedClass::class)`\n(kotlin)","body":"I have the same problem with PowerMock. I&#39;m not using that annotation, but with  <code>@RunWith(PowerMockRunner::class)</code> and <code>@PrepareForTest(TestedClass::class)</code> (kotlin)"},{"owner":{"account_id":17494310,"reputation":377,"user_id":12685812,"display_name":"RCB"},"score":0,"creation_date":1634662925,"post_id":65588594,"comment_id":123084072,"body_markdown":"@HendraWD did you ever figure out a fix? I&#39;m encountering the same issue","body":"@HendraWD did you ever figure out a fix? I&#39;m encountering the same issue"}],"tags":[],"owner":{"account_id":3062063,"reputation":1352,"user_id":2594494,"accept_rate":27,"display_name":"Calicoder"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1609893390,"creation_date":1609893390,"answer_id":65588594,"question_id":31720139,"body_markdown":"I have noticed that this happens if a class you want to report code coverage for has its static initialization suppressed by Mockito with PowerMockito in your JUnit test. For example, if your test class looks like:\r\n\r\n\r\n    @SuppressStaticInitializationFor(\r\n            {&quot;com.yourpkg.A&quot;,\r\n            &quot;com.yourpkg.B&quot;})\r\n    public class Test {\r\n         @Test\r\n         public void Test() { }\r\n    }\r\n\r\n\r\nThe error when you test will be something like:\r\n\r\n\r\n    Classes in bundle &#39;yourProject&#39; do not match with execution data. \r\n    For report generation the same class files must be used as at runtime. \r\n    Execution data for class com/yourpkg/A does not match. \r\n    Execution data for class com/yourpkg/B does not match.","title":"jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;","body":"<p>I have noticed that this happens if a class you want to report code coverage for has its static initialization suppressed by Mockito with PowerMockito in your JUnit test. For example, if your test class looks like:</p>\n<pre><code>@SuppressStaticInitializationFor(\n        {&quot;com.yourpkg.A&quot;,\n        &quot;com.yourpkg.B&quot;})\npublic class Test {\n     @Test\n     public void Test() { }\n}\n</code></pre>\n<p>The error when you test will be something like:</p>\n<pre><code>Classes in bundle 'yourProject' do not match with execution data. \nFor report generation the same class files must be used as at runtime. \nExecution data for class com/yourpkg/A does not match. \nExecution data for class com/yourpkg/B does not match.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1172561,"reputation":5924,"user_id":1149398,"accept_rate":100,"display_name":"sud007"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637594910,"creation_date":1637594910,"answer_id":70068263,"question_id":31720139,"body_markdown":"Various answers with deep insights, but still I will share what worked for me after 2 days of fiddling with the setup.\r\n- I am using Azure Devops for git.\r\n\r\nSo as per the code setup guideline, it says that you need to run the analysis task after your build task. And this was the step I was completely missing.\r\n\r\nHere is how my task sequence looked before\r\n\r\n     - task: Gradle@2\r\n        inputs:\r\n          gradleWrapperFile: &#39;gradlew&#39;\r\n          tasks: &#39;--build-cache jacocoTestReport SonarQube&#39;\r\n          options: &#39;-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -Porg.gradle.parallel=true&#39;\r\n          publishJUnitResults: true\r\n          testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n          javaHomeOption: &#39;JDKVersion&#39;\r\n          jdkVersionOption: &#39;1.11&#39;\r\n          gradleOptions: &#39;-Xmx4096m&#39;\r\n          sonarQubeRunAnalysis: false\r\n        continueOnError: true\r\n        displayName: &quot;Run Quality Scan and upload&quot;\r\n        env:\r\n          SONAR_LOGIN: $(sonar-login)\r\n          BRANCH_NAME: $(Build.SourceBranchName)\r\n          \r\n      - task: Gradle@2\r\n        condition: in(variables[&#39;Build.SourceBranchName&#39;], &#39;develop&#39;)\r\n        inputs:\r\n          gradleWrapperFile: &#39;gradlew&#39;\r\n          tasks: &#39;--build-cache build publishAllPublicationsToMyDigitalRepository&#39;\r\n          options: &#39;-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -PsecureSign&#39;\r\n          publishJUnitResults: true\r\n          testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n          javaHomeOption: &#39;JDKVersion&#39;\r\n          jdkVersionOption: &#39;1.11&#39;\r\n          gradleOptions: &#39;-Xmx4096m&#39;\r\n          sonarQubeRunAnalysis: false\r\n        env:\r\n          SDK_NAME: &#39;iphoneos&#39;\r\n        continueOnError: false\r\n        displayName: &quot;Build &amp; publish library&quot;\r\n\r\nAnd here is how it looked after the repositioning\r\n\r\n      - task: Gradle@2\r\n        condition: in(variables[&#39;Build.SourceBranchName&#39;], &#39;develop&#39;)\r\n        inputs:\r\n          gradleWrapperFile: &#39;gradlew&#39;\r\n          tasks: &#39;--build-cache build publishAllPublicationsToMyDigitalRepository&#39;\r\n          options: &#39;-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -PsecureSign&#39;\r\n          publishJUnitResults: true\r\n          testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n          javaHomeOption: &#39;JDKVersion&#39;\r\n          jdkVersionOption: &#39;1.11&#39;\r\n          gradleOptions: &#39;-Xmx4096m&#39;\r\n          sonarQubeRunAnalysis: false\r\n        env:\r\n          SDK_NAME: &#39;iphoneos&#39;\r\n        continueOnError: false\r\n        displayName: &quot;Build &amp; publish library&quot;\r\n    \r\n      - task: Gradle@2\r\n        inputs:\r\n          gradleWrapperFile: &#39;gradlew&#39;\r\n          tasks: &#39;--build-cache jacocoTestReport SonarQube&#39;\r\n          options: &#39;-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -Porg.gradle.parallel=true&#39;\r\n          publishJUnitResults: true\r\n          testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n          javaHomeOption: &#39;JDKVersion&#39;\r\n          jdkVersionOption: &#39;1.11&#39;\r\n          gradleOptions: &#39;-Xmx4096m&#39;\r\n          sonarQubeRunAnalysis: false\r\n        continueOnError: true\r\n        displayName: &quot;Run Quality Scan and upload&quot;\r\n        env:\r\n          SONAR_LOGIN: $(sonar-login)\r\n          BRANCH_NAME: $(Build.SourceBranchName)\r\n\r\nSo in essence I learned a few things, out of context here but most important one was.\r\n- right order of tasks\r\n- and for Sonar to correctly find those files was, to have that build available.","title":"jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;","body":"<p>Various answers with deep insights, but still I will share what worked for me after 2 days of fiddling with the setup.</p>\n<ul>\n<li>I am using Azure Devops for git.</li>\n</ul>\n<p>So as per the code setup guideline, it says that you need to run the analysis task after your build task. And this was the step I was completely missing.</p>\n<p>Here is how my task sequence looked before</p>\n<pre><code> - task: Gradle@2\n    inputs:\n      gradleWrapperFile: 'gradlew'\n      tasks: '--build-cache jacocoTestReport SonarQube'\n      options: '-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -Porg.gradle.parallel=true'\n      publishJUnitResults: true\n      testResultsFiles: '**/TEST-*.xml'\n      javaHomeOption: 'JDKVersion'\n      jdkVersionOption: '1.11'\n      gradleOptions: '-Xmx4096m'\n      sonarQubeRunAnalysis: false\n    continueOnError: true\n    displayName: &quot;Run Quality Scan and upload&quot;\n    env:\n      SONAR_LOGIN: $(sonar-login)\n      BRANCH_NAME: $(Build.SourceBranchName)\n      \n  - task: Gradle@2\n    condition: in(variables['Build.SourceBranchName'], 'develop')\n    inputs:\n      gradleWrapperFile: 'gradlew'\n      tasks: '--build-cache build publishAllPublicationsToMyDigitalRepository'\n      options: '-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -PsecureSign'\n      publishJUnitResults: true\n      testResultsFiles: '**/TEST-*.xml'\n      javaHomeOption: 'JDKVersion'\n      jdkVersionOption: '1.11'\n      gradleOptions: '-Xmx4096m'\n      sonarQubeRunAnalysis: false\n    env:\n      SDK_NAME: 'iphoneos'\n    continueOnError: false\n    displayName: &quot;Build &amp; publish library&quot;\n</code></pre>\n<p>And here is how it looked after the repositioning</p>\n<pre><code>  - task: Gradle@2\n    condition: in(variables['Build.SourceBranchName'], 'develop')\n    inputs:\n      gradleWrapperFile: 'gradlew'\n      tasks: '--build-cache build publishAllPublicationsToMyDigitalRepository'\n      options: '-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -PsecureSign'\n      publishJUnitResults: true\n      testResultsFiles: '**/TEST-*.xml'\n      javaHomeOption: 'JDKVersion'\n      jdkVersionOption: '1.11'\n      gradleOptions: '-Xmx4096m'\n      sonarQubeRunAnalysis: false\n    env:\n      SDK_NAME: 'iphoneos'\n    continueOnError: false\n    displayName: &quot;Build &amp; publish library&quot;\n\n  - task: Gradle@2\n    inputs:\n      gradleWrapperFile: 'gradlew'\n      tasks: '--build-cache jacocoTestReport SonarQube'\n      options: '-PversionName=$(Build.BuildNumber) -PversionCode=$(Build.BuildId) -Porg.gradle.parallel=true'\n      publishJUnitResults: true\n      testResultsFiles: '**/TEST-*.xml'\n      javaHomeOption: 'JDKVersion'\n      jdkVersionOption: '1.11'\n      gradleOptions: '-Xmx4096m'\n      sonarQubeRunAnalysis: false\n    continueOnError: true\n    displayName: &quot;Run Quality Scan and upload&quot;\n    env:\n      SONAR_LOGIN: $(sonar-login)\n      BRANCH_NAME: $(Build.SourceBranchName)\n</code></pre>\n<p>So in essence I learned a few things, out of context here but most important one was.</p>\n<ul>\n<li>right order of tasks</li>\n<li>and for Sonar to correctly find those files was, to have that build available.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26863437,"reputation":1,"user_id":20446541,"display_name":"Josh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667888101,"creation_date":1667888082,"answer_id":74356391,"question_id":31720139,"body_markdown":"After adding offline instrumentation, coverage was proper but I started getting **class is already instrumented** message. Adding this in build.gradle helps.\r\n\r\n````\r\ntest {\r\n    jacoco {\r\n        excludes = [&#39;{package_path}&#39;]     //package_path like &#39;*com/**&#39;\r\n    }\r\n}\r\n````","title":"jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;","body":"<p>After adding offline instrumentation, coverage was proper but I started getting <strong>class is already instrumented</strong> message. Adding this in build.gradle helps.</p>\n<pre><code>test {\n    jacoco {\n        excludes = ['{package_path}']     //package_path like '*com/**'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41006,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":5,"score":37,"last_activity_date":1675191228,"creation_date":1438248930,"question_id":31720139,"body_markdown":"I am generating jacoco report by using jacoco:report tag.\r\nI am getting errors like : \r\n\r\n    [jacoco:report] Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data. For report generation the same class files must be used as at runtime.\r\n    [jacoco:report] Execution data for class xxxxx does not match.\r\n    [jacoco:report] Execution data for class yyyyy does not match.\r\n\r\nThe ant report target looks like : \r\n\r\n    &lt;target name=&quot;report&quot;&gt;\r\n                    &lt;jacoco:report&gt;\r\n                            &lt;executiondata&gt;\r\n                                    &lt;file file=&quot;${jacocoexec.dir}/${jacocoexec.filename}&quot;/&gt;\r\n                            &lt;/executiondata&gt;\r\n                            &lt;!-- the class files and optional source files ... --&gt;\r\n                            &lt;structure name=&quot;Code Coverage Report&quot;&gt;\r\n                                    &lt;classfiles&gt;\r\n                                            &lt;fileset file=&quot;./jar/abc.jar&quot;/&gt;\r\n                                    &lt;/classfiles&gt;\r\n                                    &lt;sourcefiles&gt;\r\n                                   \t      &lt;fileset dir=&quot;./code/src&quot;/&gt;\r\n                                    &lt;/sourcefiles&gt;\r\n                            &lt;/structure&gt;\r\n                            &lt;!-- to produce reports in different formats. --&gt;\r\n                            &lt;html destdir=&quot;${jacoco.report.dir}&quot;/&gt;\r\n                    &lt;/jacoco:report&gt;\r\n            &lt;/target&gt;\r\n\r\nThe `abc.jar` so generated is by using `./code/src` only. Then why is it giving such errors. Any idea?","title":"jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;","body":"<p>I am generating jacoco report by using jacoco:report tag.\nI am getting errors like : </p>\n\n<pre><code>[jacoco:report] Classes in bundle 'Code Coverage Report' do no match with execution data. For report generation the same class files must be used as at runtime.\n[jacoco:report] Execution data for class xxxxx does not match.\n[jacoco:report] Execution data for class yyyyy does not match.\n</code></pre>\n\n<p>The ant report target looks like : </p>\n\n<pre><code>&lt;target name=\"report\"&gt;\n                &lt;jacoco:report&gt;\n                        &lt;executiondata&gt;\n                                &lt;file file=\"${jacocoexec.dir}/${jacocoexec.filename}\"/&gt;\n                        &lt;/executiondata&gt;\n                        &lt;!-- the class files and optional source files ... --&gt;\n                        &lt;structure name=\"Code Coverage Report\"&gt;\n                                &lt;classfiles&gt;\n                                        &lt;fileset file=\"./jar/abc.jar\"/&gt;\n                                &lt;/classfiles&gt;\n                                &lt;sourcefiles&gt;\n                                      &lt;fileset dir=\"./code/src\"/&gt;\n                                &lt;/sourcefiles&gt;\n                        &lt;/structure&gt;\n                        &lt;!-- to produce reports in different formats. --&gt;\n                        &lt;html destdir=\"${jacoco.report.dir}\"/&gt;\n                &lt;/jacoco:report&gt;\n        &lt;/target&gt;\n</code></pre>\n\n<p>The <code>abc.jar</code> so generated is by using <code>./code/src</code> only. Then why is it giving such errors. Any idea?</p>\n"},{"tags":["java","netbeans","glassfish","build-impl.xml"],"comments":[{"owner":{"account_id":8269753,"reputation":21,"user_id":6217820,"display_name":"Vitor Cardoso"},"score":0,"creation_date":1462635633,"post_id":37084844,"comment_id":61724597,"body_markdown":"Problem resolved, i included a servlet-mapping in WEB.XML but don&#39;t included the servelet-class reference.","body":"Problem resolved, i included a servlet-mapping in WEB.XML but don&#39;t included the servelet-class reference."}],"answers":[{"tags":[],"owner":{"account_id":7813124,"reputation":715,"user_id":5908729,"accept_rate":48,"display_name":"sql_dummy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525500795,"creation_date":1525500795,"answer_id":50186341,"question_id":37084844,"body_markdown":"This could also happen if you do not properly configure servlets in deployment descriptor \r\n\r\nExample: notice servlet names are different\r\n\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;abcd&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;xxx&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt; \r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/xxx&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n","title":"build-impl.xml:1045: The module has not been deployed","body":"<p>This could also happen if you do not properly configure servlets in deployment descriptor </p>\n\n<p>Example: notice servlet names are different</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;abcd&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;xxx&lt;/servlet-class&gt;\n&lt;/servlet&gt; \n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/xxx&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":8269753,"reputation":21,"user_id":6217820,"display_name":"Vitor Cardoso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675191062,"creation_date":1462598764,"question_id":37084844,"body_markdown":"I&#39;ve a problem on Netbeans, after any sucessfully deploys, they show me this msg:\r\n\r\nbuild-impl.xml:1045: The module has not been deployed.\r\n\r\nI&#39;been restart netbeans any times and change debugmode to TRUE but the problem continue.\r\n\r\nIt&#39;s the line 1045 by build-impl.xml:\r\n\r\n    1044 &lt;target if=&quot;netbeans.home&quot; name=&quot;-run-deploy-nb&quot;&gt;\r\n    1045        &lt;nbdeploy clientUrlPart=&quot;${client.urlPart}&quot; debugmode=&quot;true&quot; forceRedeploy=&quot;${forceRedeploy}&quot;/&gt;\r\n    1046    &lt;/target&gt;\r\n\r\nHelp me, Thanks!!\r\n","title":"build-impl.xml:1045: The module has not been deployed","body":"<p>I've a problem on Netbeans, after any sucessfully deploys, they show me this msg:</p>\n\n<p>build-impl.xml:1045: The module has not been deployed.</p>\n\n<p>I'been restart netbeans any times and change debugmode to TRUE but the problem continue.</p>\n\n<p>It's the line 1045 by build-impl.xml:</p>\n\n<pre><code>1044 &lt;target if=\"netbeans.home\" name=\"-run-deploy-nb\"&gt;\n1045        &lt;nbdeploy clientUrlPart=\"${client.urlPart}\" debugmode=\"true\" forceRedeploy=\"${forceRedeploy}\"/&gt;\n1046    &lt;/target&gt;\n</code></pre>\n\n<p>Help me, Thanks!!</p>\n"},{"tags":["java","inkscape","batik"],"owner":{"account_id":2142244,"reputation":2287,"user_id":1900620,"accept_rate":41,"display_name":"Thiago Say&#227;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675190853,"creation_date":1675190853,"question_id":75301814,"body_markdown":"I am using Inkscape with the &quot;Flow into frame&quot; feature - it fits the text into a frame:\r\n\r\n[![InkScape][1]][1]\r\n\r\nThe plan is to have an poster where the text is batch-editable. I want to open the `.svg` file, set the text on the limited area and save into pdf (the pdf save process is working).\r\n\r\nThe problem is Inkscape calculates the breaks (`&lt;tspan&gt;`) and saves it on the file:\r\n\r\n    &lt;g\r\n         inkscape:label=&quot;Layer 1&quot;\r\n         inkscape:groupmode=&quot;layer&quot;\r\n         id=&quot;layer1&quot;&gt;\r\n        &lt;rect\r\n           style=&quot;fill:#000000;fill-opacity:0;stroke-width:1.18454&quot;\r\n           id=&quot;rect234&quot;\r\n           width=&quot;142.12402&quot;\r\n           height=&quot;49.014164&quot;\r\n           x=&quot;12.008593&quot;\r\n           y=&quot;22.947208&quot; /&gt;\r\n        &lt;text\r\n           xml:space=&quot;preserve&quot;\r\n           style=&quot;font-size:19.7556px;font-family:sans-serif;-inkscape-font-specification:&#39;sans-serif, Normal&#39;;text-align:center;white-space:pre;shape-inside:url(#rect234);fill:#000000;fill-opacity:1;stroke-width:0.264583&quot;\r\n           x=&quot;108.87433&quot;\r\n           y=&quot;36.942204&quot;\r\n           id=&quot;text290&quot;&gt;&lt;tspan\r\n             x=&quot;20.441781&quot;\r\n             y=&quot;40.426341&quot;\r\n             id=&quot;tspan473&quot;&gt;Text that will &lt;/tspan&gt;&lt;tspan\r\n             x=&quot;59.340441&quot;\r\n             y=&quot;65.120841&quot;\r\n             id=&quot;tspan475&quot;&gt;span&lt;/tspan&gt;&lt;/text&gt;\r\n      &lt;/g&gt; \r\n\r\nSo it&#39;s not possible just to replace the text and render to a pdf.\r\n\r\n\r\n    String parser = XMLResourceDescriptor.getXMLParserClassName();\r\n    SAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\r\n    Document doc = f.createDocument(&quot;test.svg&quot;);\r\n    Element element = doc.getElementById(&quot;id&quot;);\r\n    \r\n    ...\r\n    \r\n    Transcoder transcoder = new PDFTranscoder();\r\n    var transcoderInput = new TranscoderInput(doc);\r\n    var transcoderOutput = new TranscoderOutput(new FileOutputStream(&quot;out.pdf&quot;));\r\n    transcoder.transcode(transcoderInput, transcoderOutput);\r\n\r\nIs there a way with Batik to define the bounds and auto-span the text?\r\n\r\n  [1]: https://i.stack.imgur.com/EYQTJ.png\r\n\r\n\r\n","title":"Batik: How to edit text and keep it inside an area with spans?","body":"<p>I am using Inkscape with the &quot;Flow into frame&quot; feature - it fits the text into a frame:</p>\n<p><a href=\"https://i.stack.imgur.com/EYQTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EYQTJ.png\" alt=\"InkScape\" /></a></p>\n<p>The plan is to have an poster where the text is batch-editable. I want to open the <code>.svg</code> file, set the text on the limited area and save into pdf (the pdf save process is working).</p>\n<p>The problem is Inkscape calculates the breaks (<code>&lt;tspan&gt;</code>) and saves it on the file:</p>\n<pre><code>&lt;g\n     inkscape:label=&quot;Layer 1&quot;\n     inkscape:groupmode=&quot;layer&quot;\n     id=&quot;layer1&quot;&gt;\n    &lt;rect\n       style=&quot;fill:#000000;fill-opacity:0;stroke-width:1.18454&quot;\n       id=&quot;rect234&quot;\n       width=&quot;142.12402&quot;\n       height=&quot;49.014164&quot;\n       x=&quot;12.008593&quot;\n       y=&quot;22.947208&quot; /&gt;\n    &lt;text\n       xml:space=&quot;preserve&quot;\n       style=&quot;font-size:19.7556px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';text-align:center;white-space:pre;shape-inside:url(#rect234);fill:#000000;fill-opacity:1;stroke-width:0.264583&quot;\n       x=&quot;108.87433&quot;\n       y=&quot;36.942204&quot;\n       id=&quot;text290&quot;&gt;&lt;tspan\n         x=&quot;20.441781&quot;\n         y=&quot;40.426341&quot;\n         id=&quot;tspan473&quot;&gt;Text that will &lt;/tspan&gt;&lt;tspan\n         x=&quot;59.340441&quot;\n         y=&quot;65.120841&quot;\n         id=&quot;tspan475&quot;&gt;span&lt;/tspan&gt;&lt;/text&gt;\n  &lt;/g&gt; \n</code></pre>\n<p>So it's not possible just to replace the text and render to a pdf.</p>\n<pre><code>String parser = XMLResourceDescriptor.getXMLParserClassName();\nSAXSVGDocumentFactory f = new SAXSVGDocumentFactory(parser);\nDocument doc = f.createDocument(&quot;test.svg&quot;);\nElement element = doc.getElementById(&quot;id&quot;);\n\n...\n\nTranscoder transcoder = new PDFTranscoder();\nvar transcoderInput = new TranscoderInput(doc);\nvar transcoderOutput = new TranscoderOutput(new FileOutputStream(&quot;out.pdf&quot;));\ntranscoder.transcode(transcoderInput, transcoderOutput);\n</code></pre>\n<p>Is there a way with Batik to define the bounds and auto-span the text?</p>\n"},{"tags":["java","ant","bytecode","interpreter","jacoco"],"comments":[{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":2,"creation_date":1499438292,"post_id":44776226,"comment_id":76921955,"body_markdown":"Hi, I rolled back your edit because it&#39;s a completely different question and invalidates the answer you received. You should ask a new question, ideally including a [MCVE](https://stackoverflow.com/help/mcve)","body":"Hi, I rolled back your edit because it&#39;s a completely different question and invalidates the answer you received. You should ask a new question, ideally including a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>"}],"answers":[{"comments":[{"owner":{"account_id":9654692,"reputation":404,"user_id":8095733,"display_name":"xmacz"},"score":0,"creation_date":1499143669,"post_id":44850229,"comment_id":76771928,"body_markdown":"I just checked the classes not being added to the Test bundle and it turns out that they are all interfaces. Since interfaces aren&#39;t considered for code coverage, (http://www.jacoco.org/jacoco/trunk/doc/faq.html)  \n\nCould this difference in the number of instrumented classes(614) and classes in the test bundle(566) now really matter? \nThis wouldn&#39;t be the cause of the error &quot;Execution data mismatch&quot; right?","body":"I just checked the classes not being added to the Test bundle and it turns out that they are all interfaces. Since interfaces aren&#39;t considered for code coverage, (<a href=\"http://www.jacoco.org/jacoco/trunk/doc/faq.html\" rel=\"nofollow noreferrer\">jacoco.org/jacoco/trunk/doc/faq.html</a>)    Could this difference in the number of instrumented classes(614) and classes in the test bundle(566) now really matter?  This wouldn&#39;t be the cause of the error &quot;Execution data mismatch&quot; right?"},{"owner":{"account_id":9654692,"reputation":404,"user_id":8095733,"display_name":"xmacz"},"score":0,"creation_date":1499153322,"post_id":44850229,"comment_id":76776625,"body_markdown":"I have access to the .class as well as the src files(whose code-cov I want). These .class files have been compiled on Eclipse working on the jdk 1.8.0_111 &amp; I&#39;m running the jacoco coverage on these .class files. There are also some jars in the classpath which contain some basic dependencies for the code.These jars contain only the .class files which have been compiled on Eclipse ( jdk 1.8.0_101) Is this mismatch a result because the classes have been compiled on eclipse whereas the jacoco coverage test is being run via the oracle jdk(on cmd)?","body":"I have access to the .class as well as the src files(whose code-cov I want). These .class files have been compiled on Eclipse working on the jdk 1.8.0_111 &amp; I&#39;m running the jacoco coverage on these .class files. There are also some jars in the classpath which contain some basic dependencies for the code.These jars contain only the .class files which have been compiled on Eclipse ( jdk 1.8.0_101) Is this mismatch a result because the classes have been compiled on eclipse whereas the jacoco coverage test is being run via the oracle jdk(on cmd)?"},{"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"score":0,"creation_date":1499153549,"post_id":44850229,"comment_id":76776789,"body_markdown":"@xmacz If you accidentally mix compilation by Eclipse with compilation by JDK, then classes won&#39;t match. If not, then you should be safe, but why not try compiling everything with JDK to check?\n\nDuring instrumentation number of classes on disk is shown, during generation of report number of classes in report is shown, so yes - interfaces without executable code do not show up in second case.","body":"@xmacz If you accidentally mix compilation by Eclipse with compilation by JDK, then classes won&#39;t match. If not, then you should be safe, but why not try compiling everything with JDK to check?  During instrumentation number of classes on disk is shown, during generation of report number of classes in report is shown, so yes - interfaces without executable code do not show up in second case."},{"owner":{"account_id":9654692,"reputation":404,"user_id":8095733,"display_name":"xmacz"},"score":0,"creation_date":1499418256,"post_id":44850229,"comment_id":76908445,"body_markdown":"Yeah it worked after I compiled it all via JDK. Although now I&#39;m trying to run multiple junit tests together to find their coverage. I&#39;ve been able to run all junit tests within a single folder. How can I run junits test classes from different folders? I&#39;m updating the question for a more clearer picture.","body":"Yeah it worked after I compiled it all via JDK. Although now I&#39;m trying to run multiple junit tests together to find their coverage. I&#39;ve been able to run all junit tests within a single folder. How can I run junits test classes from different folders? I&#39;m updating the question for a more clearer picture."},{"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"score":0,"creation_date":1499435203,"post_id":44850229,"comment_id":76919595,"body_markdown":"@xmacz Question about JUnit is completely unrelated to initial topic of &quot;missmatch&quot; and unrelated to JaCoCo. StackOverflow posts should contain one well defined question and not endless discussion - https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post Moreover was already said that question lacks a Minimal, Complete, and Verifiable example (https://stackoverflow.com/help/mcve). Since you didn&#39;t upvoted the answer that addresses initial question, not even talking about marking it as accepted, I&#39;m going to stop this discussion. Thank you for your understanding.","body":"@xmacz Question about JUnit is completely unrelated to initial topic of &quot;missmatch&quot; and unrelated to JaCoCo. StackOverflow posts should contain one well defined question and not endless discussion - <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\" title=\"can i ask only one question per post\">meta.stackexchange.com/questions/222735/&hellip;</a> Moreover was already said that question lacks a Minimal, Complete, and Verifiable example (<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>). Since you didn&#39;t upvoted the answer that addresses initial question, not even talking about marking it as accepted, I&#39;m going to stop this discussion. Thank you for your understanding."},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":1,"creation_date":1499437965,"post_id":44850229,"comment_id":76921713,"body_markdown":"@xmacz it seems that Godin has answered your original question. Your update is a completely different question. And it invalidates existing answers, so it&#39;s unfair to answerers. You should remove that update and ask a new question instead, ideally including a [MCVE](https://stackoverflow.com/help/mcve) as Godin suggested.","body":"@xmacz it seems that Godin has answered your original question. Your update is a completely different question. And it invalidates existing answers, so it&#39;s unfair to answerers. You should remove that update and ask a new question instead, ideally including a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> as Godin suggested."}],"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1498837425,"creation_date":1498837063,"answer_id":44850229,"question_id":44776226,"body_markdown":"&gt; Will there be any difference in the bytecode generated by compilers based on jdk 1.8.0_101 and jdk 1.8.0_111? Can incremental updates change bytecode? Or is the difference only significant during major version updates?\r\n\r\nYes - in general any different versions (without exceptions) of compilers can generate different bits of bytecode.\r\n\r\n&gt; Why am I still getting this error even after offline instrumentation has been implemented? Am I missing out on any declaration in the code?\r\n\r\nThe message itself is already perfectly explained in SO question to which you refer: https://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c\r\n\r\nMore precise answers require a Minimal, **Complete**, and **Verifiable** example (https://stackoverflow.com/help/mcve) to be provided by you, and unfortunately in my opinion just excerpt of `build.xml` with some comments is not **Complete** and **Verifiable** example. And not clear which role Eclipse is playing here in addition to JDK. By the way Eclipse has and uses its own Eclipse Java Compiler.\r\n\r\n&gt; I&#39;ve also noticed that the number of classes being instrumented(614) differs from the number of classes being added to the Test bundle (566) when both contain the same classpaths. Could that be of any consequence?\r\n\r\nYes - consequence is that what was instrumented is not the same as what was analyzed for generation of report. Which also correlates with messages about mismatch.\r\n","title":"Execution data for class does not match + Jacoco","body":"<blockquote>\n  <p>Will there be any difference in the bytecode generated by compilers based on jdk 1.8.0_101 and jdk 1.8.0_111? Can incremental updates change bytecode? Or is the difference only significant during major version updates?</p>\n</blockquote>\n\n<p>Yes - in general any different versions (without exceptions) of compilers can generate different bits of bytecode.</p>\n\n<blockquote>\n  <p>Why am I still getting this error even after offline instrumentation has been implemented? Am I missing out on any declaration in the code?</p>\n</blockquote>\n\n<p>The message itself is already perfectly explained in SO question to which you refer: <a href=\"https://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c\">jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;</a></p>\n\n<p>More precise answers require a Minimal, <strong>Complete</strong>, and <strong>Verifiable</strong> example (<a href=\"https://stackoverflow.com/help/mcve\">https://stackoverflow.com/help/mcve</a>) to be provided by you, and unfortunately in my opinion just excerpt of <code>build.xml</code> with some comments is not <strong>Complete</strong> and <strong>Verifiable</strong> example. And not clear which role Eclipse is playing here in addition to JDK. By the way Eclipse has and uses its own Eclipse Java Compiler.</p>\n\n<blockquote>\n  <p>I've also noticed that the number of classes being instrumented(614) differs from the number of classes being added to the Test bundle (566) when both contain the same classpaths. Could that be of any consequence?</p>\n</blockquote>\n\n<p>Yes - consequence is that what was instrumented is not the same as what was analyzed for generation of report. Which also correlates with messages about mismatch.</p>\n"},{"tags":[],"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556225633,"creation_date":1556225633,"answer_id":55857472,"question_id":44776226,"body_markdown":"&gt; 2.Why am I still getting this error even after offline instrumentation has been implemented? Am I missing out on any declaration in the code? I&#39;ve tried to keep the format of the code as similar to that of the example provided in the jacoco documentation here.\r\n\r\nI&#39;ve noticed this when the class under test is added to [PrepareForTest annotation][1] in it&#39;s test class.\r\n\r\nE.g. in following situation, Foo.java will have 0 coverage with error `Execution data for class Foo does not match.`.\r\n\r\n    @PrepareForTest({ Foo.class })\r\n    public class FooTest {\r\n      \r\n      @Test\r\n      public void test1() {\r\n        Foo f = new Foo();\r\n        String result = f.doSomething();\r\n        assertEquals(expectedResult, result);\r\n      }\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://static.javadoc.io/org.powermock/powermock-core/1.6.5/org/powermock/core/classloader/annotations/PrepareForTest.html","title":"Execution data for class does not match + Jacoco","body":"<blockquote>\n  <p>2.Why am I still getting this error even after offline instrumentation has been implemented? Am I missing out on any declaration in the code? I've tried to keep the format of the code as similar to that of the example provided in the jacoco documentation here.</p>\n</blockquote>\n\n<p>I've noticed this when the class under test is added to <a href=\"https://static.javadoc.io/org.powermock/powermock-core/1.6.5/org/powermock/core/classloader/annotations/PrepareForTest.html\" rel=\"noreferrer\">PrepareForTest annotation</a> in it's test class.</p>\n\n<p>E.g. in following situation, Foo.java will have 0 coverage with error <code>Execution data for class Foo does not match.</code>.</p>\n\n<pre><code>@PrepareForTest({ Foo.class })\npublic class FooTest {\n\n  @Test\n  public void test1() {\n    Foo f = new Foo();\n    String result = f.doSomething();\n    assertEquals(expectedResult, result);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9095918,"reputation":14433,"user_id":6769908,"accept_rate":91,"display_name":"Amir Ziarati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675190826,"creation_date":1675190826,"answer_id":75301811,"question_id":44776226,"body_markdown":"Basically any difference between the bytecodes that tests were run against vs the bytecodes jacoco picks up to calculate coverage with, would cause this. some examples are **minifying and obfuscation**, using **different jvms for different steps** and any type of **bytecode level manipulation**. \r\n\r\nin my case firebase was doing some bytecode manipulation. there is a ticket filed [here][1].\r\n\r\n\r\n  [1]: https://github.com/firebase/firebase-android-sdk/issues/3948\r\n\r\nyou will need to downgrade to a version of firebase + AGP that does not have this issue.","title":"Execution data for class does not match + Jacoco","body":"<p>Basically any difference between the bytecodes that tests were run against vs the bytecodes jacoco picks up to calculate coverage with, would cause this. some examples are <strong>minifying and obfuscation</strong>, using <strong>different jvms for different steps</strong> and any type of <strong>bytecode level manipulation</strong>.</p>\n<p>in my case firebase was doing some bytecode manipulation. there is a ticket filed <a href=\"https://github.com/firebase/firebase-android-sdk/issues/3948\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>you will need to downgrade to a version of firebase + AGP that does not have this issue.</p>\n"}],"owner":{"account_id":9654692,"reputation":404,"user_id":8095733,"display_name":"xmacz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39793,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":44850229,"answer_count":3,"score":18,"last_activity_date":1675190826,"creation_date":1498554284,"question_id":44776226,"body_markdown":"I&#39;m using **Jacoco** to find the code coverage of unit tests with **ANT** but the report isn&#39;t generated and I get this error sequence:\r\n\r\n    [jacoco:report] Loading execution data file C:\\JUnit\\apache-ant-1.10.1\\jacoco.ex\r\n    ec\r\n    \r\n    [jacoco:report] Writing bundle &#39;Test&#39; with 566 classes\r\n    \r\n    [jacoco:report] Classes in bundle &#39;Test&#39; do no match with execution data. For report generation the same class files must be used as at runtime.\r\n    \r\n    [jacoco:report] Execution data for class com/!!/AccountDetails does not match.\r\n    \r\n    [jacoco:report] Execution data for class com/!!/DataExtractorHelper does not match.\r\n    \r\n    [jacoco:report] Execution data for class com/!!/WelcomeLetter does not match.\r\n    \r\n    [jacoco:report] Execution data for class com/!!/WelcomeLetterABCD does not match.\r\n\r\n\r\n**I&#39;ve read these answers but none seemed to help me solve the problem.**\r\n\r\nhttps://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c\r\n\r\nhttps://stackoverflow.com/questions/33517805/jacoco-for-report-generation-the-same-class-files-must-be-used-as-at-runtime\r\n\r\nI compiled all classes on Eclipse and used the ANT build tool to perform code coverage on these classes. I do make use of some external jars due to some dependencies and they&#39;ve been compiled on jdk 1.8.0_101 and I&#39;m using jdk 1.8.0_111 (I tried solving this error by using jdk 1.8.0_101 but I got the same errors) \r\n\r\nIt has been mentioned that the class ID might change in Eclipse vs Oracle JDK compilation. Therefore I also checked this case by compiling some basic classes on Eclipse and used the jdk + ANT to find the code coverage. It worked in this case. There is no compilation taking place in the code coverage task. The .class files just need to be checked for coverage. \r\n\r\nAll the classes mentioned in the errors have been compiled on eclipse before testing for the code coverage.\r\n\r\nI&#39;ve **tried using the offline instrumentation** tool as a workaround to the persistence framework being used but it still gives me these errors.\r\n**All the classes mentioned above in the errors are present in the Instrumented classes folder.** ${dest.dir}\r\n\r\nThis is my build.xml at the moment.\r\n\r\n    &lt;target name=&quot;instrument&quot;&gt;\r\n    \t&lt;delete dir=&quot;${dest.dir}&quot;/&gt;\r\n    \t&lt;mkdir dir=&quot;${dest.dir}&quot;/&gt;\r\n    \t&lt;jacoco:instrument destdir=&quot;${dest.dir}&quot;&gt;\r\n    \t\t&lt;fileset file=&quot;D:/NEON/HW/!!/module/!!/bin&quot; includes=&quot;**/*.class&quot;/&gt;\r\n    \t\t&lt;fileset file=&quot;D:/NEON/HW/!!/testprojects/!!/bin&quot; includes=&quot;**/*.class&quot;/&gt;\r\n    \t&lt;/jacoco:instrument&gt;\r\n    &lt;/target&gt;\r\n    \r\n    \r\n    &lt;target name=&quot;cov-test&quot; depends=&quot;instrument&quot;&gt;\r\n    \t&lt;mkdir dir=&quot;${report.dir}&quot;/&gt;\t\r\n    \t&lt;jacoco:coverage&gt;\r\n    \t\t&lt;junit fork=&quot;true&quot; forkmode=&quot;once&quot; showoutput=&quot;true&quot; printsummary=&quot;on&quot; enabletestlistenerevents=&quot;true&quot;&gt;\r\n    \r\n    \t\t\t&lt;classpath&gt;\r\n    \t\t\t\t&lt;path refid=&quot;ALL.jars&quot;/&gt;\r\n    \t\t\t\t&lt;path refid=&quot;classpath&quot;/&gt;\r\n    \t\t\t\t&lt;pathelement location=&quot;C:/JUnit/jacoco-0.7.9/lib/jacocoagent.jar&quot;/&gt;\r\n    \t\t\t\t&lt;pathelement location=&quot;C:/JUnit/JARS/!!/config/&quot;/&gt;\r\n    \t\t\t\t&lt;pathelement path=&quot;C:/JUnit/apache-ant-1.10.1/InstrClasses&quot;/&gt;\r\n    \t\t\t&lt;/classpath&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;sysproperty key=&quot;jacoco-agent.destfile&quot; file=&quot;jacoco.exec&quot;/&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t&lt;test name=&quot;Fully qualified classname&quot;/&gt;\r\n    \r\n    \t\t\t&lt;formatter type=&quot;plain&quot;/&gt;\r\n    \t\t\t&lt;formatter type=&quot;plain&quot; usefile=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;batchtest fork=&quot;yes&quot; todir=&quot;${report.dir}&quot;&gt;\r\n    \t\t\t\t&lt;fileset dir=&quot;${src.dir}&quot; includes=&quot;Fully qualified classname.java&quot;/&gt;\r\n    \t\t\t&lt;/batchtest&gt;\r\n    \t\t&lt;/junit&gt;\r\n    \t&lt;/jacoco:coverage&gt;\r\n    &lt;/target&gt;\r\n    \r\n    \r\n    &lt;target name=&quot;cov-report&quot; depends=&quot;cov-test&quot;&gt;\r\n    \t&lt;jacoco:report&gt;\r\n    \t\t&lt;executiondata&gt;\r\n    \t\t\t&lt;file file=&quot;jacoco.exec&quot; /&gt;\r\n    \t\t&lt;/executiondata&gt;\r\n    \t\t&lt;structure name=&quot;Test&quot;&gt;\r\n    \t\t\t&lt;classfiles&gt;\r\n    \t\t\t\t&lt;fileset dir=&quot;D:/NEON/HW/!!/module/!!/bin&quot;/&gt;\r\n    \t\t\t\t&lt;fileset dir=&quot;D:/NEON/HW/!!/testprojects/!!/bin&quot;/&gt;\r\n    \t\t\t&lt;/classfiles&gt;\r\n    \t\t\t&lt;sourcefiles&gt;\r\n    \t\t\t\t&lt;fileset dir=&quot;D:/NEON/HW/!!/module/!!/src&quot;/&gt;\r\n    \t\t\t\t&lt;fileset dir=&quot;D:/NEON/HW/!!/testprojects/!!/src&quot;/&gt;\r\n    \t\t\t&lt;/sourcefiles&gt;\t\t\r\n    \t\t&lt;/structure&gt;\r\n    \t\t&lt;csv destfile=&quot;${report.dir}/report.csv&quot; /&gt;\r\n    \t&lt;/jacoco:report&gt;\r\n    \r\n    &lt;/target&gt;\r\n\r\n**Questions:**\r\n1.Will there be any difference in the bytecode generated by compilers based on jdk 1.8.0_101 and jdk 1.8.0_111? Can incremental updates change bytecode? Or is the difference only significant during major version updates?\r\n\r\n2.Why am I still getting this error even after offline instrumentation has been implemented? Am I missing out on any declaration in the code? I&#39;ve tried to keep the format of the code as similar to that of the example provided in the jacoco documentation [here][1].\r\n\r\n3. I&#39;ve also noticed that the number of classes being instrumented(614) differs from the number of classes being added to the Test bundle (566) when both contain the same classpaths. Could that be of any consequence?\r\n\r\n\r\n  [1]: http://www.jacoco.org/jacoco/trunk/doc/examples/build/build-offline.xml","title":"Execution data for class does not match + Jacoco","body":"<p>I'm using <strong>Jacoco</strong> to find the code coverage of unit tests with <strong>ANT</strong> but the report isn't generated and I get this error sequence:</p>\n\n<pre><code>[jacoco:report] Loading execution data file C:\\JUnit\\apache-ant-1.10.1\\jacoco.ex\nec\n\n[jacoco:report] Writing bundle 'Test' with 566 classes\n\n[jacoco:report] Classes in bundle 'Test' do no match with execution data. For report generation the same class files must be used as at runtime.\n\n[jacoco:report] Execution data for class com/!!/AccountDetails does not match.\n\n[jacoco:report] Execution data for class com/!!/DataExtractorHelper does not match.\n\n[jacoco:report] Execution data for class com/!!/WelcomeLetter does not match.\n\n[jacoco:report] Execution data for class com/!!/WelcomeLetterABCD does not match.\n</code></pre>\n\n<p><strong>I've read these answers but none seemed to help me solve the problem.</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/31720139/jacoco-code-coverage-report-generator-showing-error-classes-in-bundle-code-c\">jacoco code coverage report generator showing error : &quot;Classes in bundle &#39;Code Coverage Report&#39; do no match with execution data&quot;</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33517805/jacoco-for-report-generation-the-same-class-files-must-be-used-as-at-runtime\">jacoco: For report generation the same class files must be used as at runtime</a></p>\n\n<p>I compiled all classes on Eclipse and used the ANT build tool to perform code coverage on these classes. I do make use of some external jars due to some dependencies and they've been compiled on jdk 1.8.0_101 and I'm using jdk 1.8.0_111 (I tried solving this error by using jdk 1.8.0_101 but I got the same errors) </p>\n\n<p>It has been mentioned that the class ID might change in Eclipse vs Oracle JDK compilation. Therefore I also checked this case by compiling some basic classes on Eclipse and used the jdk + ANT to find the code coverage. It worked in this case. There is no compilation taking place in the code coverage task. The .class files just need to be checked for coverage. </p>\n\n<p>All the classes mentioned in the errors have been compiled on eclipse before testing for the code coverage.</p>\n\n<p>I've <strong>tried using the offline instrumentation</strong> tool as a workaround to the persistence framework being used but it still gives me these errors.\n<strong>All the classes mentioned above in the errors are present in the Instrumented classes folder.</strong> ${dest.dir}</p>\n\n<p>This is my build.xml at the moment.</p>\n\n<pre><code>&lt;target name=\"instrument\"&gt;\n    &lt;delete dir=\"${dest.dir}\"/&gt;\n    &lt;mkdir dir=\"${dest.dir}\"/&gt;\n    &lt;jacoco:instrument destdir=\"${dest.dir}\"&gt;\n        &lt;fileset file=\"D:/NEON/HW/!!/module/!!/bin\" includes=\"**/*.class\"/&gt;\n        &lt;fileset file=\"D:/NEON/HW/!!/testprojects/!!/bin\" includes=\"**/*.class\"/&gt;\n    &lt;/jacoco:instrument&gt;\n&lt;/target&gt;\n\n\n&lt;target name=\"cov-test\" depends=\"instrument\"&gt;\n    &lt;mkdir dir=\"${report.dir}\"/&gt;    \n    &lt;jacoco:coverage&gt;\n        &lt;junit fork=\"true\" forkmode=\"once\" showoutput=\"true\" printsummary=\"on\" enabletestlistenerevents=\"true\"&gt;\n\n            &lt;classpath&gt;\n                &lt;path refid=\"ALL.jars\"/&gt;\n                &lt;path refid=\"classpath\"/&gt;\n                &lt;pathelement location=\"C:/JUnit/jacoco-0.7.9/lib/jacocoagent.jar\"/&gt;\n                &lt;pathelement location=\"C:/JUnit/JARS/!!/config/\"/&gt;\n                &lt;pathelement path=\"C:/JUnit/apache-ant-1.10.1/InstrClasses\"/&gt;\n            &lt;/classpath&gt;\n\n            &lt;sysproperty key=\"jacoco-agent.destfile\" file=\"jacoco.exec\"/&gt;\n\n\n\n            &lt;test name=\"Fully qualified classname\"/&gt;\n\n            &lt;formatter type=\"plain\"/&gt;\n            &lt;formatter type=\"plain\" usefile=\"false\" /&gt;\n            &lt;batchtest fork=\"yes\" todir=\"${report.dir}\"&gt;\n                &lt;fileset dir=\"${src.dir}\" includes=\"Fully qualified classname.java\"/&gt;\n            &lt;/batchtest&gt;\n        &lt;/junit&gt;\n    &lt;/jacoco:coverage&gt;\n&lt;/target&gt;\n\n\n&lt;target name=\"cov-report\" depends=\"cov-test\"&gt;\n    &lt;jacoco:report&gt;\n        &lt;executiondata&gt;\n            &lt;file file=\"jacoco.exec\" /&gt;\n        &lt;/executiondata&gt;\n        &lt;structure name=\"Test\"&gt;\n            &lt;classfiles&gt;\n                &lt;fileset dir=\"D:/NEON/HW/!!/module/!!/bin\"/&gt;\n                &lt;fileset dir=\"D:/NEON/HW/!!/testprojects/!!/bin\"/&gt;\n            &lt;/classfiles&gt;\n            &lt;sourcefiles&gt;\n                &lt;fileset dir=\"D:/NEON/HW/!!/module/!!/src\"/&gt;\n                &lt;fileset dir=\"D:/NEON/HW/!!/testprojects/!!/src\"/&gt;\n            &lt;/sourcefiles&gt;      \n        &lt;/structure&gt;\n        &lt;csv destfile=\"${report.dir}/report.csv\" /&gt;\n    &lt;/jacoco:report&gt;\n\n&lt;/target&gt;\n</code></pre>\n\n<p><strong>Questions:</strong>\n1.Will there be any difference in the bytecode generated by compilers based on jdk 1.8.0_101 and jdk 1.8.0_111? Can incremental updates change bytecode? Or is the difference only significant during major version updates?</p>\n\n<p>2.Why am I still getting this error even after offline instrumentation has been implemented? Am I missing out on any declaration in the code? I've tried to keep the format of the code as similar to that of the example provided in the jacoco documentation <a href=\"http://www.jacoco.org/jacoco/trunk/doc/examples/build/build-offline.xml\" rel=\"noreferrer\">here</a>.</p>\n\n<ol start=\"3\">\n<li>I've also noticed that the number of classes being instrumented(614) differs from the number of classes being added to the Test bundle (566) when both contain the same classpaths. Could that be of any consequence?</li>\n</ol>\n"},{"tags":["java","spring","dependency-injection","spring-bean"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1675191417,"post_id":75301788,"comment_id":132874419,"body_markdown":"Why is the `@Bean` annotated method also `static` ?  And does the `AppEnvironmentHelper` class really implement the correct `com.amazon.coral.spring.EnvironmentHelper` ?","body":"Why is the <code>@Bean</code> annotated method also <code>static</code> ?  And does the <code>AppEnvironmentHelper</code> class really implement the correct <code>com.amazon.coral.spring.EnvironmentHelper</code> ?"},{"owner":{"account_id":15342508,"reputation":396,"user_id":11069078,"display_name":"Mylies"},"score":0,"creation_date":1675265882,"post_id":75301788,"comment_id":132892078,"body_markdown":"@cyberbrain The Bean is static because the EnvironmentHelper is based off of `BeanFactoryPostProcessor` which means it has to be static from my understanding. And yes it implements the correct `com.amazon.coral.spring.EnvironmentHelper`","body":"@cyberbrain The Bean is static because the EnvironmentHelper is based off of <code>BeanFactoryPostProcessor</code> which means it has to be static from my understanding. And yes it implements the correct <code>com.amazon.coral.spring.EnvironmentHelper</code>"}],"owner":{"account_id":15342508,"reputation":396,"user_id":11069078,"display_name":"Mylies"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675190634,"creation_date":1675190634,"question_id":75301788,"body_markdown":"I upgraded my package from Spring 4.3 to Spring 5.3 which has caused a issue I am completely to solve, for some reason a Bean that is created and works under 4.3 is being created, but not wired in. The bean is being created, and the configuration has not changed, yet it doesn&#39;t work? \r\n\r\nBean Creation:\r\n```\r\n@Configuration\r\n@SuppressWarnings(&quot;checkstyle:HideUtilityClassConstructor&quot;)\r\n@Slf4j\r\npublic class EnvironmentConfig {\r\n\r\n    @Bean\r\n    public static AppEnvironmentHelper environmentHelper() throws IOException {\r\n        final AppEnvironmentHelper.Config config = new AppConfigEnvironmentHelper.Confg()\r\n        // Config object is configured\r\n\r\n        \r\n        return new AppEnvironmentHelper(config);\r\n    }\r\n}\r\n```\r\n\r\nAttempted Injection of Bean:\r\n```\r\n@Configuration\r\n@Slf4j\r\npublic class OtherConfig {\r\n\r\n    @Value(&quot;${role}&quot;)\r\n    private String someRole;\r\n\r\n    @Value(&quot;${port}&quot;)\r\n    private String somePort;\r\n\r\n    @Autowired\r\n    private EnvironmentHelper environmentHelper;\r\n\r\n   .......\r\n}\r\n```\r\n\r\nThe class path for the bean is in the configuration, and when launching the service I see logs that indicate that EnviromentConfig is created before OtherConfig\r\n\r\n`org.springframework.beans.factory.support.DefaultListableBeanFactory: Finished creating instance of bean &#39;environmentHelper&#39;`\r\n\r\nBut I always get\r\n\r\n`UnsatisfiedDependencyException: Error creating bean with name &#39;OtherConfig&#39;: Unsatisfied dependency expressed through field &#39;environmentHelper&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.amazon.coral.spring.EnvironmentHelper&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n\r\nAfter it errors spring goes to clean up the beans with \r\n\r\n`Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@40db2a24: defining beans [.....,EnvironmentConfig, environmentHelper ]`\r\n\r\nWhich seems to indicate to me that it is finding the bean, its creating the bean, but then when it comes to wire in enviromentHelper it doesnt find it. Ive tried naming the bean using qualifiers but that did nothing. And I wrapped the EnviromentHelper and added logs during creation of the bean and destruction, so I know the bean isnt being destroyed prematurely. Im not certain what else to try to troubleshoot further. ","title":"Bean is no longer being autowired after Spring 5.3 Upgrade","body":"<p>I upgraded my package from Spring 4.3 to Spring 5.3 which has caused a issue I am completely to solve, for some reason a Bean that is created and works under 4.3 is being created, but not wired in. The bean is being created, and the configuration has not changed, yet it doesn't work?</p>\n<p>Bean Creation:</p>\n<pre><code>@Configuration\n@SuppressWarnings(&quot;checkstyle:HideUtilityClassConstructor&quot;)\n@Slf4j\npublic class EnvironmentConfig {\n\n    @Bean\n    public static AppEnvironmentHelper environmentHelper() throws IOException {\n        final AppEnvironmentHelper.Config config = new AppConfigEnvironmentHelper.Confg()\n        // Config object is configured\n\n        \n        return new AppEnvironmentHelper(config);\n    }\n}\n</code></pre>\n<p>Attempted Injection of Bean:</p>\n<pre><code>@Configuration\n@Slf4j\npublic class OtherConfig {\n\n    @Value(&quot;${role}&quot;)\n    private String someRole;\n\n    @Value(&quot;${port}&quot;)\n    private String somePort;\n\n    @Autowired\n    private EnvironmentHelper environmentHelper;\n\n   .......\n}\n</code></pre>\n<p>The class path for the bean is in the configuration, and when launching the service I see logs that indicate that EnviromentConfig is created before OtherConfig</p>\n<p><code>org.springframework.beans.factory.support.DefaultListableBeanFactory: Finished creating instance of bean 'environmentHelper'</code></p>\n<p>But I always get</p>\n<p><code>UnsatisfiedDependencyException: Error creating bean with name 'OtherConfig': Unsatisfied dependency expressed through field 'environmentHelper'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.amazon.coral.spring.EnvironmentHelper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code></p>\n<p>After it errors spring goes to clean up the beans with</p>\n<p><code>Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@40db2a24: defining beans [.....,EnvironmentConfig, environmentHelper ]</code></p>\n<p>Which seems to indicate to me that it is finding the bean, its creating the bean, but then when it comes to wire in enviromentHelper it doesnt find it. Ive tried naming the bean using qualifiers but that did nothing. And I wrapped the EnviromentHelper and added logs during creation of the bean and destruction, so I know the bean isnt being destroyed prematurely. Im not certain what else to try to troubleshoot further.</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1675192439,"post_id":75301192,"comment_id":132874654,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/table.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675190418,"creation_date":1675190418,"answer_id":75301746,"question_id":75301192,"body_markdown":"    //j = new JTable(sortedModel);\r\n\r\nDon&#39;t create a new JTable. \r\n\r\nJust reset the model of the existing table:\r\n\r\n    j.setModel( sortedModel );","title":"How to set an existing JTable equal to a new JTable in JSwing?","body":"<pre><code>//j = new JTable(sortedModel);\n</code></pre>\n<p>Don't create a new JTable.</p>\n<p>Just reset the model of the existing table:</p>\n<pre><code>j.setModel( sortedModel );\n</code></pre>\n"}],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75301746,"answer_count":1,"score":-1,"last_activity_date":1675190418,"creation_date":1675187686,"question_id":75301192,"body_markdown":"So I have an existing JTable that is created upon creating the app and that has values in it. When a button is clicked to sort it, I then create a copy of all the values on the JTable and then sort it and put the sorted array in a 2D array. My existing JTable is called `j` and my existing model is called `model`. I created a new table model called `sortedModel` and now I want to set that equal to `j` so that it can display the updated sorted table on the screen. \r\n\r\nI&#39;ve tried this so far but it doesn&#39;t update it on to the screen so I&#39;m assuming I&#39;m doing something wrong in terms of setting it equal to `j` (my existed JTable).\r\n\r\nHere is my code:\r\n\r\n        // Converting 2D arraylist to normal 2D array for JTable\r\n        String[][] sortedData = tempUsersToAList.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\r\n\r\n    \r\n        DefaultTableModel sortedModel = new DefaultTableModel(sortedData, columnNames);\r\n        j = new JTable(sortedModel);","title":"How to set an existing JTable equal to a new JTable in JSwing?","body":"<p>So I have an existing JTable that is created upon creating the app and that has values in it. When a button is clicked to sort it, I then create a copy of all the values on the JTable and then sort it and put the sorted array in a 2D array. My existing JTable is called <code>j</code> and my existing model is called <code>model</code>. I created a new table model called <code>sortedModel</code> and now I want to set that equal to <code>j</code> so that it can display the updated sorted table on the screen.</p>\n<p>I've tried this so far but it doesn't update it on to the screen so I'm assuming I'm doing something wrong in terms of setting it equal to <code>j</code> (my existed JTable).</p>\n<p>Here is my code:</p>\n<pre><code>    // Converting 2D arraylist to normal 2D array for JTable\n    String[][] sortedData = tempUsersToAList.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\n\n\n    DefaultTableModel sortedModel = new DefaultTableModel(sortedData, columnNames);\n    j = new JTable(sortedModel);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675189738,"post_id":75301584,"comment_id":132873951,"body_markdown":"What does `current.disconnectPred();` do?  You&#39;re calling it directly before the call to `getPred()`.","body":"What does <code>current.disconnectPred();</code> do?  You&#39;re calling it directly before the call to <code>getPred()</code>."},{"owner":{"account_id":25570478,"reputation":1,"user_id":19350934,"display_name":"King_Khalil"},"score":0,"creation_date":1675189929,"post_id":75301584,"comment_id":132874009,"body_markdown":"public void disconnectSucc()\n    {\n        if ( hasSucc() ) \n        {\n            succ.pred = null;\n            succ = null;\n        }\n    }","body":"public void disconnectSucc()     {         if ( hasSucc() )          {             succ.pred = null;             succ = null;         }     }"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1675189970,"post_id":75301584,"comment_id":132874017,"body_markdown":"what exactly do you mean by &quot;flip&quot; ? reverse the order?","body":"what exactly do you mean by &quot;flip&quot; ? reverse the order?"},{"owner":{"account_id":25570478,"reputation":1,"user_id":19350934,"display_name":"King_Khalil"},"score":0,"creation_date":1675189974,"post_id":75301584,"comment_id":132874019,"body_markdown":"public void connectAsSucc( Element e)\n    {\n        disconnectSucc();\n        succ = e;\n        if ( e != null ) \n        {\n            e.disconnectPred();\n            e.pred = this;\n        }\n    }","body":"public void connectAsSucc( Element e)     {         disconnectSucc();         succ = e;         if ( e != null )          {             e.disconnectPred();             e.pred = this;         }     }"},{"owner":{"account_id":25570478,"reputation":1,"user_id":19350934,"display_name":"King_Khalil"},"score":0,"creation_date":1675190009,"post_id":75301584,"comment_id":132874034,"body_markdown":"I want to put the &quot;old&quot; List in reverse into the &quot;new&quot; List","body":"I want to put the &quot;old&quot; List in reverse into the &quot;new&quot; List"}],"answers":[{"comments":[{"owner":{"account_id":25570478,"reputation":1,"user_id":19350934,"display_name":"King_Khalil"},"score":0,"creation_date":1675190322,"post_id":75301710,"comment_id":132874124,"body_markdown":"Thank you very much for that answear, but i wanted to write a method for it and not use a import, to solve the problem","body":"Thank you very much for that answear, but i wanted to write a method for it and not use a import, to solve the problem"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1675190874,"post_id":75301710,"comment_id":132874269,"body_markdown":"It is always recommendable to use existing methods instead of reinventing the wheel - especially if the methods are part of the standard Java SDK. If it is absolutely necessary that this is part of the class `DoublyLinkedList` you could use the described algorithm inside a method and just return the result. Or have at least a look at the code of the `reverse` method to get inspiration.","body":"It is always recommendable to use existing methods instead of reinventing the wheel - especially if the methods are part of the standard Java SDK. If it is absolutely necessary that this is part of the class <code>DoublyLinkedList</code> you could use the described algorithm inside a method and just return the result. Or have at least a look at the code of the <code>reverse</code> method to get inspiration."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1675191615,"post_id":75301710,"comment_id":132874472,"body_markdown":"You still can have a look at the sourcecode of the method in the JDK, then implement it, and then start to optimize it for your implementation of the list - and btw. I did not downvote you...","body":"You still can have a look at the sourcecode of the method in the JDK, then implement it, and then start to optimize it for your implementation of the list - and btw. I did not downvote you..."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675190223,"creation_date":1675190223,"answer_id":75301710,"question_id":75301584,"body_markdown":"If your `DoublyLinkedList` implements the interface `java.util.List` I would first ensure that you can copy it (e.g. with a copy-constructor that initializes it with any other `Collection` or `List` - don&#39;t implement the `clone` method, too much hassle with that!).\r\n\r\nThen simply use the method `java.util.Collections.reverse(List&lt;?&gt;)` on a 1:1 copy of your original list.","title":"How to Flip a Double Linked List in java and put it into a new List","body":"<p>If your <code>DoublyLinkedList</code> implements the interface <code>java.util.List</code> I would first ensure that you can copy it (e.g. with a copy-constructor that initializes it with any other <code>Collection</code> or <code>List</code> - don't implement the <code>clone</code> method, too much hassle with that!).</p>\n<p>Then simply use the method <code>java.util.Collections.reverse(List&lt;?&gt;)</code> on a 1:1 copy of your original list.</p>\n"}],"owner":{"account_id":25570478,"reputation":1,"user_id":19350934,"display_name":"King_Khalil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75301710,"answer_count":1,"score":-1,"last_activity_date":1675190223,"creation_date":1675189571,"question_id":75301584,"body_markdown":"I wanted to flip a Double Linked List and put it into a new List. But I don&#39;t know how to solve the Problem. My Code looks like this and I think it makes sense, but it doesn&#39;t work at all.\r\n\r\n*getPred = previous\r\ngetSucc = next*\r\n\r\n```\r\n    public DoublyLinkedList fliping()\r\n    {\r\n        DoublyLinkedList newList = new DoublyLinkedList();\r\n        Element current = last;\r\n        Element toInsert = newList.first;\r\n        while(current != null)\r\n        {\r\n            current.disconnectPred();\r\n            Element temp = current.getPred();\r\n            Element temp2 = current.getPred().getPred();\r\n            if(toInsert == newList.first)\r\n            {\r\n                temp.connectAsSucc(temp2);\r\n                temp2.connectAsPred(temp);\r\n                toInsert.connectAsSucc(temp);\r\n                newList.size++;\r\n            }\r\n            if(temp2 == null)\r\n            {\r\n                temp.connectAsSucc(temp2);\r\n                toInsert.connectAsSucc(temp);\r\n                newList.size++;\r\n            }\r\n            temp.connectAsSucc(temp2);\r\n            temp2.connectAsPred(temp);\r\n            toInsert.connectAsSucc(temp);\r\n            toInsert.connectAsPred(temp2);\r\n            toInsert = toInsert.getSucc();\r\n            current = current.getPred();\r\n            newList.size++;\r\n            size--;\r\n        }\r\n        return newList;\r\n    }\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Element.getPred()&quot; because the return value of &quot;Element.getPred()&quot; is null\r\n\tat DoublyLinkedList.fliping(DoublyLinkedList.java:282)\r\n\tat Testumgebung.testDoublyLinkedList(Testumgebung.java:35)\r\n\tat Testumgebung.main(Testumgebung.java:7)\r\n```\r\n\r\n\r\n\r\nI tried to disconnect the last element and the second last element. Than i tried to connect them to each other and put them togeter, as the first and second element into the new List","title":"How to Flip a Double Linked List in java and put it into a new List","body":"<p>I wanted to flip a Double Linked List and put it into a new List. But I don't know how to solve the Problem. My Code looks like this and I think it makes sense, but it doesn't work at all.</p>\n<p><em>getPred = previous\ngetSucc = next</em></p>\n<pre><code>    public DoublyLinkedList fliping()\n    {\n        DoublyLinkedList newList = new DoublyLinkedList();\n        Element current = last;\n        Element toInsert = newList.first;\n        while(current != null)\n        {\n            current.disconnectPred();\n            Element temp = current.getPred();\n            Element temp2 = current.getPred().getPred();\n            if(toInsert == newList.first)\n            {\n                temp.connectAsSucc(temp2);\n                temp2.connectAsPred(temp);\n                toInsert.connectAsSucc(temp);\n                newList.size++;\n            }\n            if(temp2 == null)\n            {\n                temp.connectAsSucc(temp2);\n                toInsert.connectAsSucc(temp);\n                newList.size++;\n            }\n            temp.connectAsSucc(temp2);\n            temp2.connectAsPred(temp);\n            toInsert.connectAsSucc(temp);\n            toInsert.connectAsPred(temp2);\n            toInsert = toInsert.getSucc();\n            current = current.getPred();\n            newList.size++;\n            size--;\n        }\n        return newList;\n    }\n\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;Element.getPred()&quot; because the return value of &quot;Element.getPred()&quot; is null\n    at DoublyLinkedList.fliping(DoublyLinkedList.java:282)\n    at Testumgebung.testDoublyLinkedList(Testumgebung.java:35)\n    at Testumgebung.main(Testumgebung.java:7)\n</code></pre>\n<p>I tried to disconnect the last element and the second last element. Than i tried to connect them to each other and put them togeter, as the first and second element into the new List</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1675189594,"post_id":75301544,"comment_id":132873908,"body_markdown":"Please tag the programming language you are asking about.","body":"Please tag the programming language you are asking about."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1675189879,"post_id":75301544,"comment_id":132873993,"body_markdown":"you have to store the last error answer you gave and then check at the next answer if it would be the same. If yes, you can either pick again a random one or just take the &quot;next&quot; one.","body":"you have to store the last error answer you gave and then check at the next answer if it would be the same. If yes, you can either pick again a random one or just take the &quot;next&quot; one."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1675190161,"post_id":75301544,"comment_id":132874073,"body_markdown":"Should it use every answer once before using any of them again? Or does it only need to avoid giving the same answer twice in a row? Aside from that - how would you solve the problem with pencil and paper?","body":"Should it use every answer once before using any of them again? Or does it only need to avoid giving the same answer twice in a row? Aside from that - how would you solve the problem with pencil and paper?"},{"owner":{"account_id":22766627,"reputation":1,"user_id":16924564,"display_name":"jepa"},"score":0,"creation_date":1675190368,"post_id":75301544,"comment_id":132874139,"body_markdown":"It just needs to avoid giving the same error response twice in a row.","body":"It just needs to avoid giving the same error response twice in a row."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1675190957,"post_id":75301544,"comment_id":132874297,"body_markdown":"Does https://stackoverflow.com/questions/16265890 answer your question?","body":"Does <a href=\"https://stackoverflow.com/questions/16265890\">stackoverflow.com/questions/16265890</a> answer your question?"},{"owner":{"account_id":22766627,"reputation":1,"user_id":16924564,"display_name":"jepa"},"score":0,"creation_date":1675195844,"post_id":75301544,"comment_id":132875582,"body_markdown":"It doesn&#39;t seem to be helping","body":"It doesn&#39;t seem to be helping"}],"owner":{"account_id":22766627,"reputation":1,"user_id":16924564,"display_name":"jepa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675190060,"creation_date":1675189379,"question_id":75301544,"body_markdown":"I have a program that emulates a small translation program and I&#39;m trying to figure out how would I go about making the error responses not repeat itself twice in a row (e.g the response &quot;I don&#39;t know this word, sorry.&quot; can be explicitly stated right after when there is a failure to translate a word).\r\n\r\n```\r\npublic void fillErrorResponses() {\r\n\t\t// Adding responses to be used if no translation was found.\r\n\t\terrorResponses.add(&quot;I am sorry but I do not know how to translate this.&quot;);\r\n\t\terrorResponses.add(&quot;I don&#39;t know this word, sorry.&quot;);\r\n\t\terrorResponses.add(&quot;Are you sure that this is a word?&quot;);\r\n\t\terrorResponses.add(&quot;This cannot be translated.&quot;);\r\n\t}\r\n\r\n\tpublic String getErrorResponse() {\r\n\r\n        // Pick a random number for the index in the error response list.\r\n\t\t// The number will be between 0 (inclusive) and the size of the list (exclusive).\r\n\t\tint idx = rnd.nextInt(errorResponses.size());\r\n\t\treturn errorResponses.get(idx);\r\n```\r\nAt the moment, when a word that a user inputs cannot be translated, it will provide a random error response but still allows for that same error response to be displayed directly after it being used, for example:\r\n\r\n```\r\nPlease, type in a single word to translate it.\r\n&gt; gah\r\nI don&#39;t know this word, sorry.\r\n&gt; gah\r\nI am sorry but I do not know how to translate this.\r\n&gt; gah\r\nI am sorry but I do not know how to translate this.\r\n\r\n```\r\n\r\nHow do i make it so that it doesn&#39;t show the same response twice in a row when a user inputs word that cannot be translated?","title":"How do I ensure that the same error response is never repeated twice in a row","body":"<p>I have a program that emulates a small translation program and I'm trying to figure out how would I go about making the error responses not repeat itself twice in a row (e.g the response &quot;I don't know this word, sorry.&quot; can be explicitly stated right after when there is a failure to translate a word).</p>\n<pre><code>public void fillErrorResponses() {\n        // Adding responses to be used if no translation was found.\n        errorResponses.add(&quot;I am sorry but I do not know how to translate this.&quot;);\n        errorResponses.add(&quot;I don't know this word, sorry.&quot;);\n        errorResponses.add(&quot;Are you sure that this is a word?&quot;);\n        errorResponses.add(&quot;This cannot be translated.&quot;);\n    }\n\n    public String getErrorResponse() {\n\n        // Pick a random number for the index in the error response list.\n        // The number will be between 0 (inclusive) and the size of the list (exclusive).\n        int idx = rnd.nextInt(errorResponses.size());\n        return errorResponses.get(idx);\n</code></pre>\n<p>At the moment, when a word that a user inputs cannot be translated, it will provide a random error response but still allows for that same error response to be displayed directly after it being used, for example:</p>\n<pre><code>Please, type in a single word to translate it.\n&gt; gah\nI don't know this word, sorry.\n&gt; gah\nI am sorry but I do not know how to translate this.\n&gt; gah\nI am sorry but I do not know how to translate this.\n\n</code></pre>\n<p>How do i make it so that it doesn't show the same response twice in a row when a user inputs word that cannot be translated?</p>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":9458732,"reputation":306,"user_id":7033181,"display_name":"Dash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675189996,"creation_date":1675189996,"answer_id":75301659,"question_id":75300417,"body_markdown":"Found a solution to use `ArgumentCaptor` to capture the initialized observer in the view model when `viewModelDataSource.setObserver(observer);` is called.\r\n\r\nIn my unit test:\r\n\r\n```\r\nArgumentCaptor&lt;ViewModelDataSource.DataSourceObserver&gt; capturedObserver = ArgumentCaptor.forClass(ViewModelDataSource.DataSourceObserver.class);\r\nSampleViewModel viewModel = new SimpleViewModel( ...);\r\nassertNotNull(capturedObserver);\r\n```","title":"How to unit test observer called from a private method?","body":"<p>Found a solution to use <code>ArgumentCaptor</code> to capture the initialized observer in the view model when <code>viewModelDataSource.setObserver(observer);</code> is called.</p>\n<p>In my unit test:</p>\n<pre><code>ArgumentCaptor&lt;ViewModelDataSource.DataSourceObserver&gt; capturedObserver = ArgumentCaptor.forClass(ViewModelDataSource.DataSourceObserver.class);\nSampleViewModel viewModel = new SimpleViewModel( ...);\nassertNotNull(capturedObserver);\n</code></pre>\n"}],"owner":{"account_id":9458732,"reputation":306,"user_id":7033181,"display_name":"Dash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675189996,"creation_date":1675183727,"question_id":75300417,"body_markdown":"I have a view model class, `SampleViewModel`, that has an observer, `DataSourceObserver`, whose event&#39;s (e.g. `onDataUpdated`) are triggered from a private method of the view model&#39;s data source class.\r\n\r\nI am trying to add a unit test for how the view model&#39;s observer handles the `onDataUpdated`.\r\n\r\n```\r\n@HiltViewModel\r\npublic class SampleViewModel extends ViewModel {\r\n\r\n  private final @NonNull ViewModelDataSource viewModelDataSource;\r\n\r\n  private final @NonNull ViewModelDataSource.DataSourceObserver observer = new ViewModelDataSource.DataSourceObserver() {\r\n    @Overrode\r\n    public void onDataUpdated(){\r\n      // some sort of handling\r\n    }\r\n  };\r\n\r\n  @Inject\r\n  public SampleViewModel(final @NonNull ViewModelDataSource dataSource){\r\n    viewModelDataSource = dataSource;\r\n    viewModelDataSource.setObserver(observer);\r\n  }\r\n}\r\n\r\npublic class ViewModelDataSource{\r\n  public interface DataSourceObserver {\r\n    void onDataUpdated();\r\n  }\r\n\r\n  private final ContactObservers.Observer contactObserver = new ContactObservers.Observer(){\r\n    @Override\r\n    public void onContactUpdated(){\r\n      if (myObserver != null){\r\n        myObserver.onDataUpdated();\r\n      }\r\n    }\r\n  };\r\n\r\n  private @Nullable DataSourceObserver myObserver;\r\n  \r\n  @Inject\r\n  public ViewModelDataSource(){\r\n    // other initialization here\r\n  }\r\n\r\n  public void setObserver(DataSourceObserver observer){\r\n    myObserver = observer;\r\n  }\r\n}\r\n```\r\n\r\nI have Mockito for mocking/stubbing objects, but I have no idea how to approach such a problem so that I can at least trigger something like `observer.onDataUpdated` and verify the method calls within the handling of `onDataUpdated`","title":"How to unit test observer called from a private method?","body":"<p>I have a view model class, <code>SampleViewModel</code>, that has an observer, <code>DataSourceObserver</code>, whose event's (e.g. <code>onDataUpdated</code>) are triggered from a private method of the view model's data source class.</p>\n<p>I am trying to add a unit test for how the view model's observer handles the <code>onDataUpdated</code>.</p>\n<pre><code>@HiltViewModel\npublic class SampleViewModel extends ViewModel {\n\n  private final @NonNull ViewModelDataSource viewModelDataSource;\n\n  private final @NonNull ViewModelDataSource.DataSourceObserver observer = new ViewModelDataSource.DataSourceObserver() {\n    @Overrode\n    public void onDataUpdated(){\n      // some sort of handling\n    }\n  };\n\n  @Inject\n  public SampleViewModel(final @NonNull ViewModelDataSource dataSource){\n    viewModelDataSource = dataSource;\n    viewModelDataSource.setObserver(observer);\n  }\n}\n\npublic class ViewModelDataSource{\n  public interface DataSourceObserver {\n    void onDataUpdated();\n  }\n\n  private final ContactObservers.Observer contactObserver = new ContactObservers.Observer(){\n    @Override\n    public void onContactUpdated(){\n      if (myObserver != null){\n        myObserver.onDataUpdated();\n      }\n    }\n  };\n\n  private @Nullable DataSourceObserver myObserver;\n  \n  @Inject\n  public ViewModelDataSource(){\n    // other initialization here\n  }\n\n  public void setObserver(DataSourceObserver observer){\n    myObserver = observer;\n  }\n}\n</code></pre>\n<p>I have Mockito for mocking/stubbing objects, but I have no idea how to approach such a problem so that I can at least trigger something like <code>observer.onDataUpdated</code> and verify the method calls within the handling of <code>onDataUpdated</code></p>\n"},{"tags":["java","flutter","error-handling","setup-project"],"owner":{"account_id":27627560,"reputation":1,"user_id":21087248,"display_name":"Sangeeta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675189753,"creation_date":1675189653,"question_id":75301597,"body_markdown":"I have recently set flutter in my laptop along with Android studio setup. When executed **flutter doctor**i got a continuous error under android studio      *Unable to find bundled java version*\r\n\r\n\r\n I tried using commands that changes the file jbr to jvr nd vice versa! \r\n\r\nAlso tried uninstalling the files of java! And set the requirements yet this is not resolved.\r\n\r\nUpdating the android studio also not helped..\r\n\r\n&gt; Unable to find bundled java version","title":"How to fix the errror &quot;unable to find bundled java version &quot; in flutter doctor command?","body":"<p>I have recently set flutter in my laptop along with Android studio setup. When executed <strong>flutter doctor</strong>i got a continuous error under android studio      <em>Unable to find bundled java version</em></p>\n<p>I tried using commands that changes the file jbr to jvr nd vice versa!</p>\n<p>Also tried uninstalling the files of java! And set the requirements yet this is not resolved.</p>\n<p>Updating the android studio also not helped..</p>\n<blockquote>\n<p>Unable to find bundled java version</p>\n</blockquote>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1429178515,"post_id":29670463,"comment_id":47480536,"body_markdown":"There would be by creating a custom argument matcher. I know it is possible, however I have never done that so I can&#39;t help further, sorry :( (edit: [link](http://docs.mockito.googlecode.com/hg/latest/org/mockito/Matchers.html))","body":"There would be by creating a custom argument matcher. I know it is possible, however I have never done that so I can&#39;t help further, sorry :( (edit: <a href=\"http://docs.mockito.googlecode.com/hg/latest/org/mockito/Matchers.html\" rel=\"nofollow noreferrer\">link</a>)"},{"owner":{"account_id":192292,"reputation":7779,"user_id":433348,"accept_rate":88,"display_name":"Kevin Welker"},"score":0,"creation_date":1429718713,"post_id":29670463,"comment_id":47734066,"body_markdown":"FYI, always replace `any(String.class)` with `anyString()`, and similarly for `anyInt()`, `anyFloat()`, etc...  It&#39;s simpler, more concise, easire on the eyes, and not subject to type-erasure.","body":"FYI, always replace <code>any(String.class)</code> with <code>anyString()</code>, and similarly for <code>anyInt()</code>, <code>anyFloat()</code>, etc...  It&#39;s simpler, more concise, easire on the eyes, and not subject to type-erasure."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1675189329,"creation_date":1429200772,"answer_id":29680408,"question_id":29670463,"body_markdown":"Mockito isn&#39;t good at matching generics itself, but your solution is much easier than the general case.\r\n\r\nReplace your:\r\n\r\n    Matchers.&lt;ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;&gt;any())\r\n\r\nwith:\r\n\r\n    eq(new ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;() {}))\r\n\r\n---\r\n\r\nFirst of all, `Matchers.any()` doesn&#39;t match type. In Mockito 1.x, `any(Foo.class)` doesn&#39;t even match type: `any()` matches [all values, including null and including incorrect types][any].\r\n\r\n&gt; Matches any object, including nulls\r\n&gt;\r\n&gt;This method doesn&#39;t do type checks with the given parameter, it is only there to avoid casting in your code. This might however change (type checks could be added) in a future major release.\r\n\r\n(Side note: In Mockito 2 and beyond, `any(Foo.class)` has English-like &quot;any Foo&quot; semantics, making it behave much more like `isA(Foo.class)`.)\r\n\r\nThe generics are helpful to get the right parameter for `exchange` and `thenReturn`, but because of [type erasure][] none of that type information makes it into the CLASS file, let alone the JVM. The only Matcher that asserts the type of its argument is [`isA`][isA], which takes a class literal and won&#39;t help you for parameterized types.\r\n\r\nYou could write a custom Matcher that inspects an argument&#39;s type and type parameters, if they aren&#39;t subject to erasure, but for your specific case that&#39;s not necessary.\r\n    \r\nType erasure is the whole reason [ParameterizedTypeReference][] exists: It captures the generics information into a subclass, where the parameterized type _will not_ be erased. This same pattern is used for [TypeToken][] in Guava or [TypeLiteral][] in Guice. All of these implementations _describe a parameterized type as an instance_.\r\n\r\nImportantly, all of them—including [ParameterizedTypeReference][]—support `equals` and `hashCode`, so `new ParameterizedTypeReference&lt;A&lt;B&gt;&gt;(){}` equals `new ParameterizedTypeReference&lt;A&lt;B&gt;&gt;(){}` even though the instances are different. [(See the code here.)][ptr-code]\r\n\r\nBecause references to the same parameterized type are equal, use Mockito&#39;s `eq` matcher with a different reference, and things should be fine.\r\n\r\n[any]: http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#any(java.lang.Class)\r\n[any-change]: https://stackoverflow.com/questions/33904877/mockito-when-doesnt-differentiate-between-child-classes#comment55631479_33904939\r\n[type erasure]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n[isA]: https://mockito.googlecode.com/svn/branches/1.6/javadoc/org/mockito/Matchers.html#isA(java.lang.Class)\r\n[ParameterizedTypeReference]: http://docs.spring.io/autorepo/docs/spring/3.2.3.RELEASE/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\r\n[TypeToken]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/reflect/TypeToken.html\r\n[TypeLiteral]: http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/TypeLiteral.html\r\n[ptr-code]: https://github.com/spring-projects/spring-framework/blob/16937c7ce5aa43b495cc04587855da670219eb7a/spring-core/src/main/java/org/springframework/core/ParameterizedTypeReference.java#L71","title":"Match generics with Mockito","body":"<p>Mockito isn't good at matching generics itself, but your solution is much easier than the general case.</p>\n<p>Replace your:</p>\n<pre><code>Matchers.&lt;ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;&gt;any())\n</code></pre>\n<p>with:</p>\n<pre><code>eq(new ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;() {}))\n</code></pre>\n<hr />\n<p>First of all, <code>Matchers.any()</code> doesn't match type. In Mockito 1.x, <code>any(Foo.class)</code> doesn't even match type: <code>any()</code> matches <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html#any(java.lang.Class)\" rel=\"nofollow noreferrer\">all values, including null and including incorrect types</a>.</p>\n<blockquote>\n<p>Matches any object, including nulls</p>\n<p>This method doesn't do type checks with the given parameter, it is only there to avoid casting in your code. This might however change (type checks could be added) in a future major release.</p>\n</blockquote>\n<p>(Side note: In Mockito 2 and beyond, <code>any(Foo.class)</code> has English-like &quot;any Foo&quot; semantics, making it behave much more like <code>isA(Foo.class)</code>.)</p>\n<p>The generics are helpful to get the right parameter for <code>exchange</code> and <code>thenReturn</code>, but because of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a> none of that type information makes it into the CLASS file, let alone the JVM. The only Matcher that asserts the type of its argument is <a href=\"https://mockito.googlecode.com/svn/branches/1.6/javadoc/org/mockito/Matchers.html#isA(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>isA</code></a>, which takes a class literal and won't help you for parameterized types.</p>\n<p>You could write a custom Matcher that inspects an argument's type and type parameters, if they aren't subject to erasure, but for your specific case that's not necessary.</p>\n<p>Type erasure is the whole reason <a href=\"http://docs.spring.io/autorepo/docs/spring/3.2.3.RELEASE/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\" rel=\"nofollow noreferrer\">ParameterizedTypeReference</a> exists: It captures the generics information into a subclass, where the parameterized type <em>will not</em> be erased. This same pattern is used for <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/reflect/TypeToken.html\" rel=\"nofollow noreferrer\">TypeToken</a> in Guava or <a href=\"http://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/TypeLiteral.html\" rel=\"nofollow noreferrer\">TypeLiteral</a> in Guice. All of these implementations <em>describe a parameterized type as an instance</em>.</p>\n<p>Importantly, all of them—including <a href=\"http://docs.spring.io/autorepo/docs/spring/3.2.3.RELEASE/javadoc-api/org/springframework/core/ParameterizedTypeReference.html\" rel=\"nofollow noreferrer\">ParameterizedTypeReference</a>—support <code>equals</code> and <code>hashCode</code>, so <code>new ParameterizedTypeReference&lt;A&lt;B&gt;&gt;(){}</code> equals <code>new ParameterizedTypeReference&lt;A&lt;B&gt;&gt;(){}</code> even though the instances are different. <a href=\"https://github.com/spring-projects/spring-framework/blob/16937c7ce5aa43b495cc04587855da670219eb7a/spring-core/src/main/java/org/springframework/core/ParameterizedTypeReference.java#L71\" rel=\"nofollow noreferrer\">(See the code here.)</a></p>\n<p>Because references to the same parameterized type are equal, use Mockito's <code>eq</code> matcher with a different reference, and things should be fine.</p>\n"}],"owner":{"account_id":286519,"reputation":1001,"user_id":585814,"accept_rate":80,"display_name":"Dario Zamuner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15638,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":29680408,"answer_count":1,"score":18,"last_activity_date":1675189329,"creation_date":1429176152,"question_id":29670463,"body_markdown":"I&#39;m trying to mock the `restTemplate.exchange` method of Spring Rest.\r\n\r\nIn the same test I have multiple calls which differ only by the return type.\r\n\r\nHere are the methods with the mocks I created\r\n\r\nFirst\r\n\r\n    // Original method\r\n    restTemplate.exchange(UrlMap.SEARCH + &#39;?&#39; + searchDocsForm.toQueryParams(),\r\n\t\t\t\tHttpMethod.GET, null, new ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;() {\r\n\t\t\t\t})\r\n    // Mock\r\n    when(restTemplate.exchange(any(String.class), any(HttpMethod.class), any(), Matchers.&lt;ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;&gt;any())).thenReturn(\r\n\t\t\t\tnew ResponseEntity&lt;&gt;(searchResultsDTO, HttpStatus.OK));\r\n\r\nSecond\r\n\r\n    // Original method\r\n    restTemplate.exchange(UrlMap.ALL_DOCUS_TOPICS,\r\n\t\t\t\tHttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;SelectItem&gt;&gt;() {\r\n\t\t\t\t}).getBody();\r\n    // Mock\r\n    when(restTemplate.exchange(any(String.class), any(HttpMethod.class), any(), Matchers.&lt;ParameterizedTypeReference&lt;List&lt;SelectItem&gt;&gt;&gt;any())).thenReturn(\r\n\t\t\t\tnew ResponseEntity&lt;&gt;(selectItems, HttpStatus.OK));\r\n\r\nThe generic parameters of `ParameterizedTypeReference` are not considered by the mock, and the last defined mock wins over the former.\r\n\r\nIs there any way to make it work?","title":"Match generics with Mockito","body":"<p>I'm trying to mock the <code>restTemplate.exchange</code> method of Spring Rest.</p>\n\n<p>In the same test I have multiple calls which differ only by the return type.</p>\n\n<p>Here are the methods with the mocks I created</p>\n\n<p>First</p>\n\n<pre><code>// Original method\nrestTemplate.exchange(UrlMap.SEARCH + '?' + searchDocsForm.toQueryParams(),\n            HttpMethod.GET, null, new ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;() {\n            })\n// Mock\nwhen(restTemplate.exchange(any(String.class), any(HttpMethod.class), any(), Matchers.&lt;ParameterizedTypeReference&lt;SearchResultsDTO&lt;SolrDocumentDTO&gt;&gt;&gt;any())).thenReturn(\n            new ResponseEntity&lt;&gt;(searchResultsDTO, HttpStatus.OK));\n</code></pre>\n\n<p>Second</p>\n\n<pre><code>// Original method\nrestTemplate.exchange(UrlMap.ALL_DOCUS_TOPICS,\n            HttpMethod.GET, null, new ParameterizedTypeReference&lt;List&lt;SelectItem&gt;&gt;() {\n            }).getBody();\n// Mock\nwhen(restTemplate.exchange(any(String.class), any(HttpMethod.class), any(), Matchers.&lt;ParameterizedTypeReference&lt;List&lt;SelectItem&gt;&gt;&gt;any())).thenReturn(\n            new ResponseEntity&lt;&gt;(selectItems, HttpStatus.OK));\n</code></pre>\n\n<p>The generic parameters of <code>ParameterizedTypeReference</code> are not considered by the mock, and the last defined mock wins over the former.</p>\n\n<p>Is there any way to make it work?</p>\n"},{"tags":["java","spring","spring-jdbc","lombok"],"answers":[{"tags":[],"owner":{"account_id":27668500,"reputation":1,"user_id":21119820,"display_name":"cakimax113 "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675189232,"creation_date":1675189232,"answer_id":75301518,"question_id":75301259,"body_markdown":"I&#39;m answering my own question but its very specific to this project\r\n\r\nIn the end I found a class up the inheritance and used the injection functionality there and passed it in to the static class\r\n\r\nI don&#39;t know if that is the best way but it seems to be working \r\n\r\nI&#39;m open to comments on how i can improve this code solution","title":"Can you @autowire a field in static child class from spring boot 1.5.9","body":"<p>I'm answering my own question but its very specific to this project</p>\n<p>In the end I found a class up the inheritance and used the injection functionality there and passed it in to the static class</p>\n<p>I don't know if that is the best way but it seems to be working</p>\n<p>I'm open to comments on how i can improve this code solution</p>\n"}],"owner":{"account_id":27668500,"reputation":1,"user_id":21119820,"display_name":"cakimax113 "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1675189232,"creation_date":1675187976,"question_id":75301259,"body_markdown":"I was given a really REALLY old project at work\r\n\r\nI usually don&#39;t have a problem google cant figure out for me\r\n\r\nThis is a massive code base and I&#39;m in charge of fixing it\r\n\r\nThe original author created a class and inside that class created a static child class\r\n\r\nexample\r\n```\r\npublic class parent {\r\n   public static class child {\r\n   }\r\n}\r\n```\r\ninside that static child class I am hoping to @Autowire a repo already created and working fine\r\n\r\nI am the first to admit I don&#39;t know everything but from what i understand\r\n\r\nIf the spring framework can find the component \r\n\r\nIt should be able to inject it&#39;s dependency\r\n\r\n\r\nFor example:\r\n```\r\n@component\r\npublic class parent {\r\n\r\n   @component\r\n   public static class child {\r\n\r\n        @autowired\r\n        private SomeRepo repo;\r\n   }\r\n}\r\n```\r\nBut clearly I&#39;m wrong about that\r\n\r\nI&#39;m really really trying to avoid using jdbctemplate because from what I&#39;m reading so far\r\nit bypasses and duplicates a connection that should be managed by Spring\r\n\r\nBut I am struggling to autowire this repo for accessing the database\r\n\r\nPlease help \r\n\r\n\r\nI have tried attaching the @component, @entity, JDBCTemplate Im hoping to avoid\r\nI have also tried Autowiring up the channel that calls it and sending it in the function of the static class that needs it\r\n\r\nI have been reading and cant find an answer yet","title":"Can you @autowire a field in static child class from spring boot 1.5.9","body":"<p>I was given a really REALLY old project at work</p>\n<p>I usually don't have a problem google cant figure out for me</p>\n<p>This is a massive code base and I'm in charge of fixing it</p>\n<p>The original author created a class and inside that class created a static child class</p>\n<p>example</p>\n<pre><code>public class parent {\n   public static class child {\n   }\n}\n</code></pre>\n<p>inside that static child class I am hoping to @Autowire a repo already created and working fine</p>\n<p>I am the first to admit I don't know everything but from what i understand</p>\n<p>If the spring framework can find the component</p>\n<p>It should be able to inject it's dependency</p>\n<p>For example:</p>\n<pre><code>@component\npublic class parent {\n\n   @component\n   public static class child {\n\n        @autowired\n        private SomeRepo repo;\n   }\n}\n</code></pre>\n<p>But clearly I'm wrong about that</p>\n<p>I'm really really trying to avoid using jdbctemplate because from what I'm reading so far\nit bypasses and duplicates a connection that should be managed by Spring</p>\n<p>But I am struggling to autowire this repo for accessing the database</p>\n<p>Please help</p>\n<p>I have tried attaching the @component, @entity, JDBCTemplate Im hoping to avoid\nI have also tried Autowiring up the channel that calls it and sending it in the function of the static class that needs it</p>\n<p>I have been reading and cant find an answer yet</p>\n"},{"tags":["java","android","ios","flutter","mobile-application"],"answers":[{"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1675195214,"post_id":75301497,"comment_id":132875432,"body_markdown":"Almost none of them use a WebView.  They&#39;re almost all native in my experience.  It will be a custom component crafter to get data from a server, but display it natively.  WebViews are kept at arms length for a variety of reasons, especially if there&#39;s personalized content there.  I&#39;ve never seen one used for front page or sale listings in major apps.","body":"Almost none of them use a WebView.  They&#39;re almost all native in my experience.  It will be a custom component crafter to get data from a server, but display it natively.  WebViews are kept at arms length for a variety of reasons, especially if there&#39;s personalized content there.  I&#39;ve never seen one used for front page or sale listings in major apps."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1675189134,"creation_date":1675189134,"answer_id":75301497,"question_id":75301434,"body_markdown":"It&#39;s been a few years since I did any Android development, but I suspect most apps you&#39;re referring to probably use a [WebView][1] as their primary component, enabling them to serve mobile-friendly HTML/JavaScript/CSS content for the app to render.\r\n\r\nSome apps probably mix static UI components with WebViews for portions they need to be dynamic and change frequently.\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/layout/webapps/webview","title":"Frequently changing UI in mobile applications","body":"<p>It's been a few years since I did any Android development, but I suspect most apps you're referring to probably use a <a href=\"https://developer.android.com/develop/ui/views/layout/webapps/webview\" rel=\"nofollow noreferrer\">WebView</a> as their primary component, enabling them to serve mobile-friendly HTML/JavaScript/CSS content for the app to render.</p>\n<p>Some apps probably mix static UI components with WebViews for portions they need to be dynamic and change frequently.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675257106,"accepted_answer_id":75301497,"answer_count":1,"score":-3,"last_activity_date":1675189134,"creation_date":1675188833,"question_id":75301434,"body_markdown":"I have been working on Mobile Applications and developing several types of UIs. But I frequently face a question regarding dynamic UIs.  \r\nIn **E-Commerce apps or Food Delivery Apps**, we generally see that the UI changes quite often (with new offers, items, festival sales, etc. shown and removed) and is not static (**like we generally code a UI with different views/widgets, which show dynamic data**). So, my question is how the UI is made dynamic in this sense without pushing new updates to the apps?  \r\nAlso, how we can develop such a UI in **Flutter?**","title":"Frequently changing UI in mobile applications","body":"<p>I have been working on Mobile Applications and developing several types of UIs. But I frequently face a question regarding dynamic UIs.<br />\nIn <strong>E-Commerce apps or Food Delivery Apps</strong>, we generally see that the UI changes quite often (with new offers, items, festival sales, etc. shown and removed) and is not static (<strong>like we generally code a UI with different views/widgets, which show dynamic data</strong>). So, my question is how the UI is made dynamic in this sense without pushing new updates to the apps?<br />\nAlso, how we can develop such a UI in <strong>Flutter?</strong></p>\n"},{"tags":["java","multithreading","db2"],"answers":[{"comments":[{"owner":{"account_id":4709043,"reputation":227,"user_id":3810175,"display_name":"Ramin Safar Manesh"},"score":0,"creation_date":1675189257,"post_id":75301483,"comment_id":132873797,"body_markdown":"Thank you fo the answer. I build a temp function which writes the record into DB and it seems that the problem is solved.","body":"Thank you fo the answer. I build a temp function which writes the record into DB and it seems that the problem is solved."}],"tags":[],"owner":{"account_id":24847247,"reputation":1,"user_id":18724649,"display_name":"Sara.es"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675189083,"creation_date":1675189083,"answer_id":75301483,"question_id":75301349,"body_markdown":"According to IBM documentation: \r\n\r\n&gt; The page or row lock on the page or subpage identified by the NAME resource-name value in message DSNT500I or DSNT501I caused the total number of page or row locks concurrently held to reach the installation maximum number of page or row locks (NUMLKUS) allowed for a single agent in the system\r\n\r\nI assume that you have to reduce the number of dirty pages or in another word uncommitted changes into DB. Alternatively you can also commit your changes during the process to reduce the number uncommitted changes.","title":"com.ibm.db2.jcc.am.SqlException: UNSUCCESSFUL EXECUTION CAUSED BY AN UNAVAILABLE RESOURCE. REASON 00C90096","body":"<p>According to IBM documentation:</p>\n<blockquote>\n<p>The page or row lock on the page or subpage identified by the NAME resource-name value in message DSNT500I or DSNT501I caused the total number of page or row locks concurrently held to reach the installation maximum number of page or row locks (NUMLKUS) allowed for a single agent in the system</p>\n</blockquote>\n<p>I assume that you have to reduce the number of dirty pages or in another word uncommitted changes into DB. Alternatively you can also commit your changes during the process to reduce the number uncommitted changes.</p>\n"}],"owner":{"account_id":4709043,"reputation":227,"user_id":3810175,"display_name":"Ramin Safar Manesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675189083,"creation_date":1675188399,"question_id":75301349,"body_markdown":"I want to insert multiple records in a multi-thread function into DB and after inserting a specific amount of records i become always the following exception:\r\n```\r\nOutermost stacktrace: com.ibm.db2.jcc.am.SqlException: UNSUCCESSFUL EXECUTION CAUSED BY AN UNAVAILABLE RESOURCE. REASON 00C90096, TYPE OF RESOURCE 00000304, AND RESOURCE NAME X&#39;0005AB8C&#39;.X&#39;02&#39;. SQLCODE=-904, SQLSTATE=57011, DRIVER=4.31.10\r\n\tat com.ibm.db2.jcc.am.b7.a(b7.java:815)\r\n\tat com.ibm.db2.jcc.am.b7.a(b7.java:66)\r\n\tat com.ibm.db2.jcc.am.b7.a(b7.java:140)\r\n\tat com.ibm.db2.jcc.am.k_.b(k_.java:2491)\r\n\tat com.ibm.db2.jcc.am.k_.c(k_.java:2472)\r\n\tat com.ibm.db2.jcc.t4.ab.n(ab.java:917)\r\n\tat com.ibm.db2.jcc.t4.ab.a(ab.java:118)\r\n\tat com.ibm.db2.jcc.t4.p.a(p.java:50)\r\n\tat com.ibm.db2.jcc.t4.aw.b(aw.java:220)\r\n\tat com.ibm.db2.jcc.am.la.bm(la.java:3632)\r\n\tat com.ibm.db2.jcc.am.la.a(la.java:4677)\r\n\tat com.ibm.db2.jcc.am.la.b(la.java:4215)\r\n\tat com.ibm.db2.jcc.am.la.be(la.java:832)\r\n```\r\n\r\n\r\nIs that somthing because i tried to write into DB via multiple threads? What is the reason?","title":"com.ibm.db2.jcc.am.SqlException: UNSUCCESSFUL EXECUTION CAUSED BY AN UNAVAILABLE RESOURCE. REASON 00C90096","body":"<p>I want to insert multiple records in a multi-thread function into DB and after inserting a specific amount of records i become always the following exception:</p>\n<pre><code>Outermost stacktrace: com.ibm.db2.jcc.am.SqlException: UNSUCCESSFUL EXECUTION CAUSED BY AN UNAVAILABLE RESOURCE. REASON 00C90096, TYPE OF RESOURCE 00000304, AND RESOURCE NAME X'0005AB8C'.X'02'. SQLCODE=-904, SQLSTATE=57011, DRIVER=4.31.10\n    at com.ibm.db2.jcc.am.b7.a(b7.java:815)\n    at com.ibm.db2.jcc.am.b7.a(b7.java:66)\n    at com.ibm.db2.jcc.am.b7.a(b7.java:140)\n    at com.ibm.db2.jcc.am.k_.b(k_.java:2491)\n    at com.ibm.db2.jcc.am.k_.c(k_.java:2472)\n    at com.ibm.db2.jcc.t4.ab.n(ab.java:917)\n    at com.ibm.db2.jcc.t4.ab.a(ab.java:118)\n    at com.ibm.db2.jcc.t4.p.a(p.java:50)\n    at com.ibm.db2.jcc.t4.aw.b(aw.java:220)\n    at com.ibm.db2.jcc.am.la.bm(la.java:3632)\n    at com.ibm.db2.jcc.am.la.a(la.java:4677)\n    at com.ibm.db2.jcc.am.la.b(la.java:4215)\n    at com.ibm.db2.jcc.am.la.be(la.java:832)\n</code></pre>\n<p>Is that somthing because i tried to write into DB via multiple threads? What is the reason?</p>\n"},{"tags":["java","interpolation","argb"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1675118975,"post_id":75290730,"comment_id":132856636,"body_markdown":"this algorithm is basically multiplying the colors by 256, that is, the value is shifted 8 bits left - since using `int` the 4th byte is lost - you can use `long` in the calculation (mask and factors) to avoid that","body":"this algorithm is basically multiplying the colors by 256, that is, the value is shifted 8 bits left - since using <code>int</code> the 4th byte is lost - you can use <code>long</code> in the calculation (mask and factors) to avoid that"},{"owner":{"account_id":24724028,"reputation":1,"user_id":19482999,"display_name":"MJSD"},"score":0,"creation_date":1675132493,"post_id":75290730,"comment_id":132858717,"body_markdown":"Thank you @user16320675! That did the trick! I can&#39;t believe I didn&#39;t think of that... Guess I was just blinded by the binary arithmetic that I can&#39;t justify in my head. Unfortunately, I don&#39;t know how to credit you, as your answer is just a comment.","body":"Thank you @user16320675! That did the trick! I can&#39;t believe I didn&#39;t think of that... Guess I was just blinded by the binary arithmetic that I can&#39;t justify in my head. Unfortunately, I don&#39;t know how to credit you, as your answer is just a comment."}],"answers":[{"comments":[{"owner":{"account_id":24724028,"reputation":1,"user_id":19482999,"display_name":"MJSD"},"score":0,"creation_date":1675188855,"post_id":75292153,"comment_id":132873661,"body_markdown":"@user16320675, Oh. Yeah, I didn&#39;t properly convert the literals. Thanks for paying this level of attention. Much appreciated.","body":"@user16320675, Oh. Yeah, I didn&#39;t properly convert the literals. Thanks for paying this level of attention. Much appreciated."}],"tags":[],"owner":{"account_id":24724028,"reputation":1,"user_id":19482999,"display_name":"MJSD"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675188965,"creation_date":1675132085,"answer_id":75292153,"question_id":75290730,"body_markdown":"&gt; &quot;...since using int the 4th byte is lost - you can use long in the calculation (mask and factors) to avoid that&quot; - user16320675\r\n\r\nThank you! I should have thought of that, but I guess that&#39;s what they all say.\r\nHere are the updated functions for 32bit integer ARGB color values:\r\n\r\n```\r\npublic static int mixColors(int a, int b){\r\n    long mask1 = 0x00ff00ffL;\r\n    long mask2 = 0xff00ff00L;\r\n\r\n    return (int)((((((a &amp; mask1) + (b &amp; mask1)) * 128) &gt;&gt; 8) &amp; mask1) \r\n               | (((((a &amp; mask2) + (b &amp; mask2)) * 128) &gt;&gt; 8) &amp; mask2));\r\n}\r\n\r\npublic static int mixColors(int a, int b, float fractionB){\r\n    long mask1 = 0x00ff00ffL;\r\n    long mask2 = 0xff00ff00L;\r\n\r\n    short f2 = (short)(256 * fractionB),\r\n          f1 = (short)(256 - f2);\r\n          \r\n    return (int)((((((a &amp; mask1) * f1) + ((b &amp; mask1) * f2)) &gt;&gt; 8) &amp; mask1) \r\n               | (((((a &amp; mask2) * f1) + ((b &amp; mask2) * f2)) &gt;&gt; 8) &amp; mask2));\r\n}\r\n```","title":"How to do ARGB color interpolation without separating components?","body":"<blockquote>\n<p>&quot;...since using int the 4th byte is lost - you can use long in the calculation (mask and factors) to avoid that&quot; - user16320675</p>\n</blockquote>\n<p>Thank you! I should have thought of that, but I guess that's what they all say.\nHere are the updated functions for 32bit integer ARGB color values:</p>\n<pre><code>public static int mixColors(int a, int b){\n    long mask1 = 0x00ff00ffL;\n    long mask2 = 0xff00ff00L;\n\n    return (int)((((((a &amp; mask1) + (b &amp; mask1)) * 128) &gt;&gt; 8) &amp; mask1) \n               | (((((a &amp; mask2) + (b &amp; mask2)) * 128) &gt;&gt; 8) &amp; mask2));\n}\n\npublic static int mixColors(int a, int b, float fractionB){\n    long mask1 = 0x00ff00ffL;\n    long mask2 = 0xff00ff00L;\n\n    short f2 = (short)(256 * fractionB),\n          f1 = (short)(256 - f2);\n          \n    return (int)((((((a &amp; mask1) * f1) + ((b &amp; mask1) * f2)) &gt;&gt; 8) &amp; mask1) \n               | (((((a &amp; mask2) * f1) + ((b &amp; mask2) * f2)) &gt;&gt; 8) &amp; mask2));\n}\n</code></pre>\n"}],"owner":{"account_id":24724028,"reputation":1,"user_id":19482999,"display_name":"MJSD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75292153,"answer_count":1,"score":0,"last_activity_date":1675188965,"creation_date":1675116906,"question_id":75290730,"body_markdown":"After trying and failing to figure this out myself, I have scavenged some code which should combine two colors (integers) by a specified fraction from [another thread](https://stackoverflow.com/questions/2630925/whats-the-most-effective-way-to-interpolate-between-two-colors-pseudocode-and), but I am just simply not crafty enough to get it working with ARGB integers.\r\nDoes anyone know how to convert this function from combining RGB to combining ARGB?\r\n\r\n```\r\npublic static int mixColors(int a, int b, float fractionB){ \r\n   int mask1 = 0xff00ff; \r\n   int mask2 = 0x00ff00; \r\n    \r\n   int f2 = (int)(256 * fractionB);\r\n   int f1 = 256 - f2;\r\n   \r\n   return   ((((( a &amp; mask1 ) * f1 ) + ( ( b &amp; mask1 ) * f2 )) &gt;&gt;&gt; 8 ) &amp; mask1 ) \r\n          | ((((( a &amp; mask2 ) * f1 ) + ( ( b &amp; mask2 ) * f2 )) &gt;&gt;&gt; 8 ) &amp; mask2 );\r\n}\r\n```\r\n\r\nI have tried setting the masks to `mask1 = 0x00ff00ff; mask2 = 0xff00ff00;` but the function still only outputs a 3 byte number.","title":"How to do ARGB color interpolation without separating components?","body":"<p>After trying and failing to figure this out myself, I have scavenged some code which should combine two colors (integers) by a specified fraction from <a href=\"https://stackoverflow.com/questions/2630925/whats-the-most-effective-way-to-interpolate-between-two-colors-pseudocode-and\">another thread</a>, but I am just simply not crafty enough to get it working with ARGB integers.\nDoes anyone know how to convert this function from combining RGB to combining ARGB?</p>\n<pre><code>public static int mixColors(int a, int b, float fractionB){ \n   int mask1 = 0xff00ff; \n   int mask2 = 0x00ff00; \n    \n   int f2 = (int)(256 * fractionB);\n   int f1 = 256 - f2;\n   \n   return   ((((( a &amp; mask1 ) * f1 ) + ( ( b &amp; mask1 ) * f2 )) &gt;&gt;&gt; 8 ) &amp; mask1 ) \n          | ((((( a &amp; mask2 ) * f1 ) + ( ( b &amp; mask2 ) * f2 )) &gt;&gt;&gt; 8 ) &amp; mask2 );\n}\n</code></pre>\n<p>I have tried setting the masks to <code>mask1 = 0x00ff00ff; mask2 = 0xff00ff00;</code> but the function still only outputs a 3 byte number.</p>\n"},{"tags":["java","jackson","jackson-databind","apache-johnzon"],"owner":{"account_id":13342410,"reputation":33,"user_id":9630238,"display_name":"Francesco Rosso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675188567,"creation_date":1675186631,"question_id":75300987,"body_markdown":"In Apache Johnzon, is there a way to hava a generic field that contains dynamic JSON data, not mappable to a pre-defined POJO?\r\nIn Jackson you can simply use ObjectNode as a generic container, have some JSON processing on it, and then write the whole object in JSON format.\r\n\r\nIn Jackson it works as expected using ObjectNode, here is my code:\r\n```\r\npublic class JsonTest {\r\n  private String myStaticKey = &quot;foo&quot;;\r\n  private ObjectNode jsonData;\r\n\r\n  //code to initialize ObjectNode + getters + setters\r\n\r\n  @JsonIgnore\r\n  public void addValue(String key, String value) {\r\n    jsonData.put(key, value);\r\n  }\r\n\r\n  @JsonIgnore\r\n  public String toJson() {\r\n    return new ObjectMapper().writeValueAsString(this);\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class MainTest {\r\n  public static void main(String[] args) {\r\n    JsonTest t = new JsonTest();\r\n    t.addValue(&quot;myDynamicKey&quot;, &quot;bar&quot;);\r\n    System.out.println(t.toJson());\r\n  }\r\n}\r\n```\r\n\r\nExpected result:\r\n```\r\n{\r\n  &quot;myStaticKey&quot;: &quot;foo&quot;,\r\n  &quot;jsonData&quot;: {\r\n    &quot;myDynamicKey&quot;: &quot;bar&quot;\r\n  }\r\n}\r\n```\r\n","title":"Johnzon sub dynamic json tree mapping","body":"<p>In Apache Johnzon, is there a way to hava a generic field that contains dynamic JSON data, not mappable to a pre-defined POJO?\nIn Jackson you can simply use ObjectNode as a generic container, have some JSON processing on it, and then write the whole object in JSON format.</p>\n<p>In Jackson it works as expected using ObjectNode, here is my code:</p>\n<pre><code>public class JsonTest {\n  private String myStaticKey = &quot;foo&quot;;\n  private ObjectNode jsonData;\n\n  //code to initialize ObjectNode + getters + setters\n\n  @JsonIgnore\n  public void addValue(String key, String value) {\n    jsonData.put(key, value);\n  }\n\n  @JsonIgnore\n  public String toJson() {\n    return new ObjectMapper().writeValueAsString(this);\n  }\n}\n\n</code></pre>\n<pre><code>public class MainTest {\n  public static void main(String[] args) {\n    JsonTest t = new JsonTest();\n    t.addValue(&quot;myDynamicKey&quot;, &quot;bar&quot;);\n    System.out.println(t.toJson());\n  }\n}\n</code></pre>\n<p>Expected result:</p>\n<pre><code>{\n  &quot;myStaticKey&quot;: &quot;foo&quot;,\n  &quot;jsonData&quot;: {\n    &quot;myDynamicKey&quot;: &quot;bar&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","dependency-injection","constructor-injection"],"comments":[{"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"score":0,"creation_date":1675189304,"post_id":75301373,"comment_id":132873814,"body_markdown":"Why don&#39;t you inject `JwtUtils` to `AuthTokenFilter`? creating a new instance breaks the purpose of having `@Component` in it.","body":"Why don&#39;t you inject <code>JwtUtils</code> to <code>AuthTokenFilter</code>? creating a new instance breaks the purpose of having <code>@Component</code> in it."},{"owner":{"account_id":8698932,"reputation":342,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"score":1,"creation_date":1675239785,"post_id":75301373,"comment_id":132883420,"body_markdown":"so you&#39;re telling me to autowire JwtUtils inside WebTokenConfig class and injecting the autowried field to AuthTokenFilter. Ok, it makes sense. Also, since I&#39;m creating a new bean for AuthTokenFilter, it is ok to do a new for it cause it&#39;s a new bean, but for its dependencies probably makes sense to inject the autowired field instead of doing a new, cause it is already a bean in the context. Makes totally sense :) Sorry, still learning spring&#39;s mechanisms ^^","body":"so you&#39;re telling me to autowire JwtUtils inside WebTokenConfig class and injecting the autowried field to AuthTokenFilter. Ok, it makes sense. Also, since I&#39;m creating a new bean for AuthTokenFilter, it is ok to do a new for it cause it&#39;s a new bean, but for its dependencies probably makes sense to inject the autowired field instead of doing a new, cause it is already a bean in the context. Makes totally sense :) Sorry, still learning spring&#39;s mechanisms ^^"}],"owner":{"account_id":8698932,"reputation":342,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675188530,"creation_date":1675188530,"question_id":75301373,"body_markdown":"I have my JWT utils class:\r\n\r\n    @Component\r\n    public class JwtUtils {\r\n        private final String jwtSecret;\r\n        private final int jwtExpirationMs;\r\n    \r\n        public JwtUtils(@Value(&quot;${app.jwtSecret}&quot;) String jwtSecret, @Value(&quot;${app.jwtExpirationMs}&quot;) String jwtExpirationMs)){\r\n    this.jwtSecret = jwtSecret;\r\n    this.jwtExpirationMs = jwtExpirationMs;\r\n        }\r\n    ...\r\n    }\r\n\r\nand inside my WebTokenConfig I need to initialize it for my AuthTokenFilter:\r\n\r\n    @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilter() {\r\n            return new AuthTokenFilter(new JwtUtils(..., ...), ...);\r\n        }\r\n\r\nSo basically, JwtUtils needs 2 parameters, but those parameters should be set from properties&#39; context. How to handle the constructor&#39;s injection? \r\n\r\nPlus, I&#39;m trying to test JwtUtils class with a junit test with mockito. \r\nUsing @Autowired on fields (and not on constructor) and then instantiating the bean with new JwtUtils(), those parameters are not being init&#39;d, staying null and 0 (even with @TestPropertySource, System.setProperties, ...). That&#39;s why I&#39;m trying with constructor injection (which as I read is always the best option). This way I just have to pass the parameters through the new JwtUtils() and that&#39;s it. \r\n\r\nBut when done inside other beans (no test), it just makes no sense to me to pass them since they should be retrieved from context and not be passed. \r\nI&#39;m probably missing something. ","title":"How to manage Spring @Value parameters&#39; constuctor injection when explicitly instantiating a new bean?","body":"<p>I have my JWT utils class:</p>\n<pre><code>@Component\npublic class JwtUtils {\n    private final String jwtSecret;\n    private final int jwtExpirationMs;\n\n    public JwtUtils(@Value(&quot;${app.jwtSecret}&quot;) String jwtSecret, @Value(&quot;${app.jwtExpirationMs}&quot;) String jwtExpirationMs)){\nthis.jwtSecret = jwtSecret;\nthis.jwtExpirationMs = jwtExpirationMs;\n    }\n...\n}\n</code></pre>\n<p>and inside my WebTokenConfig I need to initialize it for my AuthTokenFilter:</p>\n<pre><code>@Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter(new JwtUtils(..., ...), ...);\n    }\n</code></pre>\n<p>So basically, JwtUtils needs 2 parameters, but those parameters should be set from properties' context. How to handle the constructor's injection?</p>\n<p>Plus, I'm trying to test JwtUtils class with a junit test with mockito.\nUsing @Autowired on fields (and not on constructor) and then instantiating the bean with new JwtUtils(), those parameters are not being init'd, staying null and 0 (even with @TestPropertySource, System.setProperties, ...). That's why I'm trying with constructor injection (which as I read is always the best option). This way I just have to pass the parameters through the new JwtUtils() and that's it.</p>\n<p>But when done inside other beans (no test), it just makes no sense to me to pass them since they should be retrieved from context and not be passed.\nI'm probably missing something.</p>\n"},{"tags":["java","if-statement","coding-style"],"comments":[{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":1,"creation_date":1440485535,"post_id":4887212,"comment_id":52279350,"body_markdown":"With _&quot;I cannot view all code of a method in one screen&quot;_, did you mean that they&#39;ve if-elsed so much so the code has become indented so much so that it gets outside the right edge of the screen? Or that if-else takes a bit more space so the method is longer (taller) than what it needs to be? B.t.w. I like guard clauses.","body":"With <i>&quot;I cannot view all code of a method in one screen&quot;</i>, did you mean that they&#39;ve if-elsed so much so the code has become indented so much so that it gets outside the right edge of the screen? Or that if-else takes a bit more space so the method is longer (taller) than what it needs to be? B.t.w. I like guard clauses."},{"owner":{"account_id":128896,"reputation":11693,"user_id":327074,"accept_rate":86,"display_name":"icc97"},"score":0,"creation_date":1441269544,"post_id":4887212,"comment_id":52613134,"body_markdown":"*&quot;even if there is only one comment line in the else block&quot;* - one source for this comes from the book Code Complete. It sounds like they are being too dogmatic about applying it though.","body":"<i>&quot;even if there is only one comment line in the else block&quot;</i> - one source for this comes from the book Code Complete. It sounds like they are being too dogmatic about applying it though."}],"answers":[{"comments":[{"owner":{"account_id":6828959,"reputation":307,"user_id":5253746,"accept_rate":82,"display_name":"HelloWorldNoMore"},"score":0,"creation_date":1463443474,"post_id":4887272,"comment_id":62056889,"body_markdown":"There is too much to read  in that article. Can you please mention the essential idea ?","body":"There is too much to read  in that article. Can you please mention the essential idea ?"},{"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":1,"creation_date":1463448234,"post_id":4887272,"comment_id":62058073,"body_markdown":"@HelloWorldNoMore The principle of single exits from control structures was adopted on principle, not observational data.  But observational data says that allowing multiple ways of exiting control structures makes certain problems easier to solve accurately, and does not hurt readability.  Disallowing it makes code harder and more likely to be buggy.  This holds across a wide variety of programmers, from students to textbook writers.  Therefore we should allow and use multiple exits where appropriate.","body":"@HelloWorldNoMore The principle of single exits from control structures was adopted on principle, not observational data.  But observational data says that allowing multiple ways of exiting control structures makes certain problems easier to solve accurately, and does not hurt readability.  Disallowing it makes code harder and more likely to be buggy.  This holds across a wide variety of programmers, from students to textbook writers.  Therefore we should allow and use multiple exits where appropriate."},{"owner":{"account_id":1489317,"reputation":9140,"user_id":1396822,"accept_rate":82,"display_name":"aka.nice"},"score":0,"creation_date":1527874762,"post_id":4887272,"comment_id":88307718,"body_markdown":"Style matters: there are several ways of swimming, but at the end, the front crawl wins for some reasons...","body":"Style matters: there are several ways of swimming, but at the end, the front crawl wins for some reasons..."}],"tags":[],"owner":{"account_id":286249,"reputation":43961,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1469676293,"creation_date":1296742813,"answer_id":4887272,"question_id":4887212,"body_markdown":"Have them read http://www.cis.temple.edu/~ingargio/cis71/software/roberts/documents/loopexit.txt and see if it will change their minds.  (There is history to their idea, but I side with you.)\r\n\r\n*Edit:* Here are the critical points from the article.  The principle of single exits from control structures was adopted on principle, not observational data. But observational data says that allowing multiple ways of exiting control structures makes certain problems easier to solve accurately, and does not hurt readability. Disallowing it makes code harder and more likely to be buggy. This holds across a wide variety of programmers, from students to textbook writers. Therefore we should allow and use multiple exits where appropriate.","title":"Shall I use guard clause, and try to avoid else clause?","body":"<p>Have them read <a href=\"http://www.cis.temple.edu/~ingargio/cis71/software/roberts/documents/loopexit.txt\" rel=\"nofollow\">http://www.cis.temple.edu/~ingargio/cis71/software/roberts/documents/loopexit.txt</a> and see if it will change their minds.  (There is history to their idea, but I side with you.)</p>\n\n<p><em>Edit:</em> Here are the critical points from the article.  The principle of single exits from control structures was adopted on principle, not observational data. But observational data says that allowing multiple ways of exiting control structures makes certain problems easier to solve accurately, and does not hurt readability. Disallowing it makes code harder and more likely to be buggy. This holds across a wide variety of programmers, from students to textbook writers. Therefore we should allow and use multiple exits where appropriate.</p>\n"},{"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":4,"creation_date":1296743254,"post_id":4887280,"comment_id":5436538,"body_markdown":"If my memory serves me right, another reason for avoiding early returns (or breaks from loops) was that it was easier to theoretically prove that your code was correct. (a.k.a formal verification)","body":"If my memory serves me right, another reason for avoiding early returns (or breaks from loops) was that it was easier to theoretically prove that your code was correct. (a.k.a formal verification)"},{"owner":{"account_id":170117,"reputation":17037,"user_id":396618,"accept_rate":100,"display_name":"Joeri Hendrickx"},"score":16,"creation_date":1296746394,"post_id":4887280,"comment_id":5437446,"body_markdown":"+1 for pointing out it&#39;s arguable.  I prefer early return, too, for readability.","body":"+1 for pointing out it&#39;s arguable.  I prefer early return, too, for readability."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1515102753,"post_id":4887280,"comment_id":83183813,"body_markdown":"I prefer early return, too, as long as it roughly takes the form of guard clauses, and do not result in numerous hazy `return` statements. Breaking out of a for loop, for instance, is perfectly fine. `for (Object o : objects) { if (someCondition) { return o; }}`","body":"I prefer early return, too, as long as it roughly takes the form of guard clauses, and do not result in numerous hazy <code>return</code> statements. Breaking out of a for loop, for instance, is perfectly fine. <code>for (Object o : objects) { if (someCondition) { return o; }}</code>"},{"owner":{"account_id":1401732,"reputation":7544,"user_id":1330381,"accept_rate":68,"display_name":"jxramos"},"score":0,"creation_date":1570122275,"post_id":4887280,"comment_id":102822858,"body_markdown":"I&#39;d say it&#39;s more than purely aesthetic, I would argue it keeps our _mental stack_ shallow and thereby lowers cognitive load.","body":"I&#39;d say it&#39;s more than purely aesthetic, I would argue it keeps our <i>mental stack</i> shallow and thereby lowers cognitive load."},{"owner":{"account_id":2139684,"reputation":8710,"user_id":2019549,"accept_rate":62,"display_name":"cambunctious"},"score":2,"creation_date":1600889907,"post_id":4887280,"comment_id":113234953,"body_markdown":"It&#39;s entirely subjective, but people who prefer nesting conditions are wrong.","body":"It&#39;s entirely subjective, but people who prefer nesting conditions are wrong."}],"tags":[],"owner":{"account_id":14956,"reputation":30470,"user_id":31141,"accept_rate":79,"display_name":"Marko"},"comment_count":5,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1314693415,"creation_date":1296742851,"answer_id":4887280,"question_id":4887212,"body_markdown":"This is arguable and pure aesthetic question.\r\n\r\nEarly return has been historically avoided in C and similar languages since it was possible to miss resource cleanup which is usually placed at the end of the function in case of early return.\r\n\r\nGiven that Java have exceptions and try, catch, finally, there&#39;s no need to fear early returns.\r\n\r\nPersonaly, I agree with you, since I do early return often - that usually means less code and simpler code flow with less if/else nesting.","title":"Shall I use guard clause, and try to avoid else clause?","body":"<p>This is arguable and pure aesthetic question.</p>\n\n<p>Early return has been historically avoided in C and similar languages since it was possible to miss resource cleanup which is usually placed at the end of the function in case of early return.</p>\n\n<p>Given that Java have exceptions and try, catch, finally, there's no need to fear early returns.</p>\n\n<p>Personaly, I agree with you, since I do early return often - that usually means less code and simpler code flow with less if/else nesting.</p>\n"},{"tags":[],"owner":{"account_id":6664,"reputation":85927,"user_id":11296,"display_name":"Bert F"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1296744544,"creation_date":1296744544,"answer_id":4887611,"question_id":4887212,"body_markdown":"I&#39;m in the multiple-return/return-early camp and I would lobby to convince other engineers of this. You can have great arguments and cite great sources, but in the end, all you can do is make your pitch, suggest compromises, come to a decision, and then work as a team, which ever way it works out. (Although revisiting of the topic from time to time isn&#39;t out of the question either.)\r\n\r\nThis really just comes down to style and, in the grand scheme of things, a relatively minor one.  Overall, you&#39;re a more effective developer if you can adapt to either style.  If this really &quot;makes it difficult ... to follow their coding style&quot;, then I suggest you work on it, because in the end, you&#39;ll end up the better engineer.\r\n\r\nI had an engineer once come to me and insist he be given dispensation to follow his own coding style (and we had a pretty minimal set of guidelines).  He said the established coding style hurt his eyes and made it difficult for him to concentrate (I think he may have even said &quot;nauseous&quot;.)  I told him that if he was going to work on a lot of people&#39;s code, not just code he wrote, and vice versa. If he couldn&#39;t adapt to work with the agreed upon style, I couldn&#39;t use him and that maybe this type of collaborative project wasn&#39;t the right place for him.  Coincidentally, it was less of an issue after that (although every code review was still a battle).","title":"Shall I use guard clause, and try to avoid else clause?","body":"<p>I'm in the multiple-return/return-early camp and I would lobby to convince other engineers of this. You can have great arguments and cite great sources, but in the end, all you can do is make your pitch, suggest compromises, come to a decision, and then work as a team, which ever way it works out. (Although revisiting of the topic from time to time isn't out of the question either.)</p>\n\n<p>This really just comes down to style and, in the grand scheme of things, a relatively minor one.  Overall, you're a more effective developer if you can adapt to either style.  If this really \"makes it difficult ... to follow their coding style\", then I suggest you work on it, because in the end, you'll end up the better engineer.</p>\n\n<p>I had an engineer once come to me and insist he be given dispensation to follow his own coding style (and we had a pretty minimal set of guidelines).  He said the established coding style hurt his eyes and made it difficult for him to concentrate (I think he may have even said \"nauseous\".)  I told him that if he was going to work on a lot of people's code, not just code he wrote, and vice versa. If he couldn't adapt to work with the agreed upon style, I couldn't use him and that maybe this type of collaborative project wasn't the right place for him.  Coincidentally, it was less of an issue after that (although every code review was still a battle).</p>\n"},{"tags":[],"owner":{"account_id":2634317,"reputation":10972,"user_id":2279448,"display_name":"Zoran Horvat"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1436953638,"creation_date":1436953638,"answer_id":31426956,"question_id":4887212,"body_markdown":"Guard clause is a good idea because it clearly indicates that current method is not interested in certain cases. When you clear up at the very beginning of the method that it doesn&#39;t deal with some cases (e.g. when some value is less than zero), then the rest of the method is pure implementation of its responsibility.\r\n\r\nThere is one stronger case of guard clauses - statements that validate input and throw exceptions when some argument is unacceptable, e.g. null. In that case you don&#39;t want to proceed with execution but wish to throw at the very beginning of the method. That is where guard clauses are the best solution because you don&#39;t want to mix exception throwing logic with the core of the method you&#39;re implementing.\r\n\r\nWhen talking about guard clauses that throw exceptions, here is one article about how you can simplify them in C# using extension methods: [How to Reduce Cyclomatic Complexity: Guard Clause][1]. Though that method is not available in Java, it is useful in C#.\r\n\r\n\r\n  [1]: http://www.codinghelmet.com/?path=howto/reduce-cyclomatic-complexity-guard-clause","title":"Shall I use guard clause, and try to avoid else clause?","body":"<p>Guard clause is a good idea because it clearly indicates that current method is not interested in certain cases. When you clear up at the very beginning of the method that it doesn't deal with some cases (e.g. when some value is less than zero), then the rest of the method is pure implementation of its responsibility.</p>\n\n<p>There is one stronger case of guard clauses - statements that validate input and throw exceptions when some argument is unacceptable, e.g. null. In that case you don't want to proceed with execution but wish to throw at the very beginning of the method. That is where guard clauses are the best solution because you don't want to mix exception throwing logic with the core of the method you're implementing.</p>\n\n<p>When talking about guard clauses that throw exceptions, here is one article about how you can simplify them in C# using extension methods: <a href=\"http://www.codinghelmet.com/?path=howto/reduce-cyclomatic-complexity-guard-clause\" rel=\"noreferrer\">How to Reduce Cyclomatic Complexity: Guard Clause</a>. Though that method is not available in Java, it is useful in C#.</p>\n"},{"comments":[{"owner":{"account_id":260039,"reputation":6377,"user_id":543362,"accept_rate":82,"display_name":"chance"},"score":0,"creation_date":1678439320,"post_id":75301355,"comment_id":133536246,"body_markdown":"Write short method.","body":"Write short method."}],"tags":[],"owner":{"account_id":20632722,"reputation":11,"user_id":15147200,"display_name":"Corey B."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675188414,"creation_date":1675188414,"answer_id":75301355,"question_id":4887212,"body_markdown":"My issue with guard clauses is that 1) they can be easily dispersed through code and be easy to miss (this has happened to me on multiple occasions) and 2) I have to remember which code has been &quot;ejected&quot; as I trace code blocks which can become complex and 3) by setting code within if/else you have a contained set of code that you know executes for a given set of criteria. With guard conditions, the criteria is EVERYTHING minus what the guard has ejected. It is much more difficult for me to get my head around that.","title":"Shall I use guard clause, and try to avoid else clause?","body":"<p>My issue with guard clauses is that 1) they can be easily dispersed through code and be easy to miss (this has happened to me on multiple occasions) and 2) I have to remember which code has been &quot;ejected&quot; as I trace code blocks which can become complex and 3) by setting code within if/else you have a contained set of code that you know executes for a given set of criteria. With guard conditions, the criteria is EVERYTHING minus what the guard has ejected. It is much more difficult for me to get my head around that.</p>\n"}],"owner":{"account_id":260039,"reputation":6377,"user_id":543362,"accept_rate":82,"display_name":"chance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20532,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":4887280,"answer_count":5,"score":32,"last_activity_date":1675188414,"creation_date":1296742531,"question_id":4887212,"body_markdown":"I&#39;ve read (e.g. from Martin Fowler) that we should use guard clause instead of single return in a (short) method in OOP. I&#39;ve also read (from somewhere I don&#39;t remember) that else clause should be avoided when possible.\r\n\r\nBut my colleagues (I work in a small team with only 3 guys)  force me not to use multiple returns in a method, and to use else clause as much as possible, even if there is only one comment line in the else block.\r\n\r\nThis makes it difficult for me to follow their coding style, because for example, I cannot view all code of a method in one screen. And when I code, I have to write guard clause first, and then try to convert it into the form with out multiple returns.\r\n\r\nAm I wrong or what should I do with it?\r\n","title":"Shall I use guard clause, and try to avoid else clause?","body":"<p>I've read (e.g. from Martin Fowler) that we should use guard clause instead of single return in a (short) method in OOP. I've also read (from somewhere I don't remember) that else clause should be avoided when possible.</p>\n\n<p>But my colleagues (I work in a small team with only 3 guys)  force me not to use multiple returns in a method, and to use else clause as much as possible, even if there is only one comment line in the else block.</p>\n\n<p>This makes it difficult for me to follow their coding style, because for example, I cannot view all code of a method in one screen. And when I code, I have to write guard clause first, and then try to convert it into the form with out multiple returns.</p>\n\n<p>Am I wrong or what should I do with it?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675177907,"post_id":75299152,"comment_id":132869949,"body_markdown":"You might be happier switching to the Project view via the selector above the tree. Right now, it looks like you are on the Android view.","body":"You might be happier switching to the Project view via the selector above the tree. Right now, it looks like you are on the Android view."}],"answers":[{"tags":[],"owner":{"account_id":19896142,"reputation":167,"user_id":14577209,"display_name":"Maleesha97"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675187274,"creation_date":1675187274,"answer_id":75301121,"question_id":75299152,"body_markdown":"If you are not happy with switching the project view,\r\n\r\nYou can right click on the directory that you need to hide and select, \r\n\r\n`Mark Directory as -&gt; excluded`\r\n\r\nif you want to include a directory back, find the path of your excluded directory and,\r\n\r\n`right click -&gt; Mark Directory as -&gt; Cancel Exclusion`\r\n","title":"How to hide generated folders in android studio","body":"<p>If you are not happy with switching the project view,</p>\n<p>You can right click on the directory that you need to hide and select,</p>\n<p><code>Mark Directory as -&gt; excluded</code></p>\n<p>if you want to include a directory back, find the path of your excluded directory and,</p>\n<p><code>right click -&gt; Mark Directory as -&gt; Cancel Exclusion</code></p>\n"},{"tags":[],"owner":{"account_id":24120944,"reputation":21,"user_id":18090127,"display_name":"Khubaib Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675187617,"creation_date":1675187617,"answer_id":75301180,"question_id":75299152,"body_markdown":"**To hide generated folders in Android Studio:**\r\n\r\nGo to **&quot;File&quot; &gt; &quot;Settings&quot;**.\r\nNavigate to **&quot;Editor&quot; &gt; &quot;File Types&quot;**.\r\nScroll down to **&quot;Ignore files and folders&quot;**.\r\nAdd the folders you want to hide, such as **&quot;build&quot;, &quot;gen&quot;,** and **&quot;out&quot;**.\r\nClick **&quot;Apply&quot;** and **&quot;OK&quot;.**","title":"How to hide generated folders in android studio","body":"<p><strong>To hide generated folders in Android Studio:</strong></p>\n<p>Go to <strong>&quot;File&quot; &gt; &quot;Settings&quot;</strong>.\nNavigate to <strong>&quot;Editor&quot; &gt; &quot;File Types&quot;</strong>.\nScroll down to <strong>&quot;Ignore files and folders&quot;</strong>.\nAdd the folders you want to hide, such as <strong>&quot;build&quot;, &quot;gen&quot;,</strong> and <strong>&quot;out&quot;</strong>.\nClick <strong>&quot;Apply&quot;</strong> and <strong>&quot;OK&quot;.</strong></p>\n"}],"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1675187617,"creation_date":1675177751,"question_id":75299152,"body_markdown":"I am working on an android project but I see some of the auto-generated code from my file tree as you can see in the picture\r\n\r\nHow can I hide them (the ones with green color)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QHTIP.png","title":"How to hide generated folders in android studio","body":"<p>I am working on an android project but I see some of the auto-generated code from my file tree as you can see in the picture</p>\n<p>How can I hide them (the ones with green color)</p>\n<p><a href=\"https://i.stack.imgur.com/QHTIP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QHTIP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1675236274,"post_id":75301172,"comment_id":132882514,"body_markdown":"I think there is not much you can do, the actual query will also take much time.","body":"I think there is not much you can do, the actual query will also take much time."}],"owner":{"account_id":15979059,"reputation":1072,"user_id":11531156,"display_name":"RCT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675187574,"creation_date":1675187574,"question_id":75301172,"body_markdown":"Using the latest java sync SDK, I would like to log operation execution details only for operations taking longer than expected time. For example, I have a find operation for which I would like to collect execution details when the operation takes longer than 10 ms.\r\n\r\n```Document doc = collection.find(query).explain();```","title":"How to selectively log execution details of MongoDB operations?","body":"<p>Using the latest java sync SDK, I would like to log operation execution details only for operations taking longer than expected time. For example, I have a find operation for which I would like to collect execution details when the operation takes longer than 10 ms.</p>\n<p><code>Document doc = collection.find(query).explain();</code></p>\n"},{"tags":["java","jgit"],"answers":[{"tags":[],"owner":{"account_id":4225459,"reputation":352,"user_id":3459089,"accept_rate":62,"display_name":"Augier"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1395743694,"creation_date":1395743694,"answer_id":22631875,"question_id":22631261,"body_markdown":"Ok, never mind, after hours searching for the answer, I find it right before asking it there...\r\n\r\nSo, the answer is in the [CookBook][1] :\r\n\r\n    Collection&lt;Ref&gt; refs = Git.lsRemoteRepository()\r\n                .setHeads(true)\r\n                .setTags(true)\r\n                .setRemote(REMOTE_URL)\r\n                .call();\r\n\r\n\r\n  [1]: https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ListRemoteRepository.java","title":"List branches of a git remote repo without cloning it","body":"<p>Ok, never mind, after hours searching for the answer, I find it right before asking it there...</p>\n\n<p>So, the answer is in the <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ListRemoteRepository.java\" rel=\"noreferrer\">CookBook</a> :</p>\n\n<pre><code>Collection&lt;Ref&gt; refs = Git.lsRemoteRepository()\n            .setHeads(true)\n            .setTags(true)\n            .setRemote(REMOTE_URL)\n            .call();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4225459,"reputation":352,"user_id":3459089,"accept_rate":62,"display_name":"Augier"},"score":0,"creation_date":1397485821,"post_id":22632027,"comment_id":35242194,"body_markdown":"Doesn&#39;t cloning the repo to local represent a problem when the distant repo is very large ?","body":"Doesn&#39;t cloning the repo to local represent a problem when the distant repo is very large ?"},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1397510632,"post_id":22632027,"comment_id":35256995,"body_markdown":"@user3459089: There is no need to clone the remote repository. Just an empty local repository (as can be created with `Git.init()`) is necessary for certain transport protocols to work.","body":"@user3459089: There is no need to clone the remote repository. Just an empty local repository (as can be created with <code>Git.init()</code>) is necessary for certain transport protocols to work."},{"owner":{"account_id":4225459,"reputation":352,"user_id":3459089,"accept_rate":62,"display_name":"Augier"},"score":0,"creation_date":1397548895,"post_id":22632027,"comment_id":35269724,"body_markdown":"Ok, thank you for the answer. I have to admit that I never did researches in that way since it seemed pretty logic to me that you had to clone the repo to do these sort of commands.","body":"Ok, thank you for the answer. I have to admit that I never did researches in that way since it seemed pretty logic to me that you had to clone the repo to do these sort of commands."}],"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675187306,"creation_date":1395744066,"answer_id":22632027,"question_id":22631261,"body_markdown":"There is the `LsRemoteCommand` to list the branches of a remote repository. To obtain the command, use either\r\n\r\n    Git.wrap(repo).lsRemote()\r\nor\r\n\r\n    Git.lsRemoteRepository()\r\nThe statically created `LsRemoteCommand` has its limitations. For certain transport protocols, a local repository is necessary to obtain configuration settings. Therefore I usually create an empty temporary local repository with `Git.init()` and then use the first approach.\r\n\r\nIf you want to avoid creating the extra repository, you can test with `Transport.open()` if it succeeds without a repository. It throws a `NotSupportedException` otherwise.","title":"List branches of a git remote repo without cloning it","body":"<p>There is the <code>LsRemoteCommand</code> to list the branches of a remote repository. To obtain the command, use either</p>\n<pre><code>Git.wrap(repo).lsRemote()\n</code></pre>\n<p>or</p>\n<pre><code>Git.lsRemoteRepository()\n</code></pre>\n<p>The statically created <code>LsRemoteCommand</code> has its limitations. For certain transport protocols, a local repository is necessary to obtain configuration settings. Therefore I usually create an empty temporary local repository with <code>Git.init()</code> and then use the first approach.</p>\n<p>If you want to avoid creating the extra repository, you can test with <code>Transport.open()</code> if it succeeds without a repository. It throws a <code>NotSupportedException</code> otherwise.</p>\n"}],"owner":{"account_id":4225459,"reputation":352,"user_id":3459089,"accept_rate":62,"display_name":"Augier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":22632027,"answer_count":2,"score":8,"last_activity_date":1675187306,"creation_date":1395742102,"question_id":22631261,"body_markdown":"I was wondering hows it would be possible to list all the branches of a remote Git repo with jgit but without cloning it.\r\n\r\nWhile going through the jgit&#39;s javadoc, I found the [ListBranchCommand][1] but that only seem to work with an already opened Repository object. But I was not able to find how to create a Repository object over HTTP without cloning it in local.\r\n\r\nIs it possible ?\r\nThanks\r\n\r\n  [1]: http://download.eclipse.org/jgit/docs/latest/apidocs/org/eclipse/jgit/api/ListBranchCommand.html","title":"List branches of a git remote repo without cloning it","body":"<p>I was wondering hows it would be possible to list all the branches of a remote Git repo with jgit but without cloning it.</p>\n\n<p>While going through the jgit's javadoc, I found the <a href=\"http://download.eclipse.org/jgit/docs/latest/apidocs/org/eclipse/jgit/api/ListBranchCommand.html\">ListBranchCommand</a> but that only seem to work with an already opened Repository object. But I was not able to find how to create a Repository object over HTTP without cloning it in local.</p>\n\n<p>Is it possible ?\nThanks</p>\n"},{"tags":["java","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":16022447,"reputation":108,"user_id":11563594,"display_name":"M.Shahzad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675187025,"creation_date":1675187025,"answer_id":75301064,"question_id":75300983,"body_markdown":"Spring WS supports Java 8 and above, so it should work with Java 17. You can build a SOAP service project using Spring WS in Java 17.","title":"Spring WS(SOAP) in Java 17","body":"<p>Spring WS supports Java 8 and above, so it should work with Java 17. You can build a SOAP service project using Spring WS in Java 17.</p>\n"}],"owner":{"account_id":16543239,"reputation":1,"user_id":11953459,"display_name":"Ali Baizhanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1675187025,"creation_date":1675186616,"question_id":75300983,"body_markdown":"Can I use Spring WS module in Java 17 or Spring WS does not support Java 17 yet? \r\n\r\nI need realize how can I build project SOAP service use Spring WS in Java 17","title":"Spring WS(SOAP) in Java 17","body":"<p>Can I use Spring WS module in Java 17 or Spring WS does not support Java 17 yet?</p>\n<p>I need realize how can I build project SOAP service use Spring WS in Java 17</p>\n"},{"tags":["java","spring","spring-boot","datasource","jdbctemplate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1497956232,"post_id":44651076,"comment_id":76287136,"body_markdown":"Can you check if the configuration is used?","body":"Can you check if the configuration is used?"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497956340,"post_id":44651076,"comment_id":76287224,"body_markdown":"@Jens How can I do so?","body":"@Jens How can I do so?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1497956373,"post_id":44651076,"comment_id":76287247,"body_markdown":"Add a breakpoint  and run the code in a Debugger or add some logging statements","body":"Add a breakpoint  and run the code in a Debugger or add some logging statements"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497956416,"post_id":44651076,"comment_id":76287280,"body_markdown":"Is configuration I provided is correct?","body":"Is configuration I provided is correct?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1497956433,"post_id":44651076,"comment_id":76287298,"body_markdown":"Looks ok for me","body":"Looks ok for me"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497956451,"post_id":44651076,"comment_id":76287311,"body_markdown":"I am getting this error then No qualifying bean of type &#39;org.springframework.jdbc.core.JdbcTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=msMysqlJdbcTemplate)}","body":"I am getting this error then No qualifying bean of type &#39;org.springframework.jdbc.core.JdbcTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=true), @org.springframework.beans.factory.annotation.Qualifier(valu&zwnj;&#8203;e=msMysqlJdbcTemplat&zwnj;&#8203;e)}"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1497956504,"post_id":44651076,"comment_id":76287352,"body_markdown":"Yes i see. But you get it also if the configuration is never readed, because of wrong anotation scan path","body":"Yes i see. But you get it also if the configuration is never readed, because of wrong anotation scan path"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497956602,"post_id":44651076,"comment_id":76287430,"body_markdown":"In that case let me add my application.properties file code and boot file code","body":"In that case let me add my application.properties file code and boot file code"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1497956643,"post_id":44651076,"comment_id":76287460,"body_markdown":"Why you not simply use a Debugger?","body":"Why you not simply use a Debugger?"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497956992,"post_id":44651076,"comment_id":76287697,"body_markdown":"I just debug the code and found that it is giving the same error and not even logging or reading any configuration.","body":"I just debug the code and found that it is giving the same error and not even logging or reading any configuration."},{"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"score":0,"creation_date":1497957043,"post_id":44651076,"comment_id":76287741,"body_markdown":"where you have imported configuration class MultipleDBConfig  ? also have you added","body":"where you have imported configuration class MultipleDBConfig  ? also have you added"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497957143,"post_id":44651076,"comment_id":76287821,"body_markdown":"Its in the separate package from main class annotated with @Configuration","body":"Its in the separate package from main class annotated with @Configuration"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1497957484,"post_id":44651076,"comment_id":76288088,"body_markdown":"Is the package with the configuration class nested below the package that contains the `@SpringBootApplication` annotated class?","body":"Is the package with the configuration class nested below the package that contains the <code>@SpringBootApplication</code> annotated class?"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497957546,"post_id":44651076,"comment_id":76288129,"body_markdown":"Yes. its like, com.example contains spring boot class and below that com.example.config contains configuration class","body":"Yes. its like, com.example contains spring boot class and below that com.example.config contains configuration class"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1497957808,"post_id":44651076,"comment_id":76288333,"body_markdown":"@mahendrakawde Can you please add the package declaration to your classes?","body":"@mahendrakawde Can you please add the package declaration to your classes?"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497958137,"post_id":44651076,"comment_id":76288583,"body_markdown":"I just edited question with package declaration added in it.","body":"I just edited question with package declaration added in it."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1497958571,"post_id":44651076,"comment_id":76288925,"body_markdown":"@mahendrakawde in a comment you wrot *com.example.config contains configuration class*  in the question the package is *com.example*? Also have you tried to clean and rebuild your Project?","body":"@mahendrakawde in a comment you wrot <i>com.example.config contains configuration class</i>  in the question the package is <i>com.example</i>? Also have you tried to clean and rebuild your Project?"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497960210,"post_id":44651076,"comment_id":76290192,"body_markdown":"Now I just move config class into com.example package where @springBootApplication class is reside. So errors now resolved. But my service class is not getting called explicitly. I dont have any controller in my app. How I can call my service class method.","body":"Now I just move config class into com.example package where @springBootApplication class is reside. So errors now resolved. But my service class is not getting called explicitly. I dont have any controller in my app. How I can call my service class method."},{"owner":{"account_id":4629221,"reputation":2621,"user_id":3752185,"display_name":"Janar"},"score":0,"creation_date":1497960485,"post_id":44651076,"comment_id":76290389,"body_markdown":"how are you trying to call it? You just need to autowire your service and call from there","body":"how are you trying to call it? You just need to autowire your service and call from there"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497960619,"post_id":44651076,"comment_id":76290483,"body_markdown":"There is nothing in my @ SpringBootApplication class except main() method. And then there is @ Component class in which I am trying to read property files value and pass it onto the method which in turn calling @Service class which is using JdbcTemplate to connect to the database and excute SELECT query there.","body":"There is nothing in my @ SpringBootApplication class except main() method. And then there is @ Component class in which I am trying to read property files value and pass it onto the method which in turn calling @Service class which is using JdbcTemplate to connect to the database and excute SELECT query there."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1497960793,"post_id":44651076,"comment_id":76290595,"body_markdown":"@Jens I have updated question with added code please see","body":"@Jens I have updated question with added code please see"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1497962329,"post_id":44651076,"comment_id":76291732,"body_markdown":"@mahendrakawde Sorry do not get your actual question","body":"@mahendrakawde Sorry do not get your actual question"}],"answers":[{"tags":[],"owner":{"account_id":7023705,"reputation":138,"user_id":5381990,"display_name":"vishal paalakurthi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497963453,"creation_date":1497963453,"answer_id":44653719,"question_id":44651076,"body_markdown":"I think issue is with declaring **driver class name** in application.properties   \r\n\r\n    logging.config=./conf/log4j.xml\r\n    \r\n    spring.ds_master_mysql.url = jdbc:mysql://&lt;host&gt;:3306\r\n    spring.ds_master_mysql.username = username\r\n    spring.ds_master_mysql.password = password\r\n    spring.ds_master_mysql.driverClassName=com.mysql.jdbc.Driver\r\n    \r\n     master.db_name=fdmsus_demo\r\n     master.table_name=vitalstats\r\n\r\n**Use below application.properties**:\r\n\r\n     logging.config=./conf/log4j.xml\r\n        \r\n        spring.ds_master_mysql.url = jdbc:mysql://&lt;host&gt;:3306\r\n        spring.ds_master_mysql.username = username\r\n        spring.ds_master_mysql.password = password\r\n        spring.ds_master_mysql.driver-class-name=com.mysql.jdbc.Driver\r\n        \r\n         master.db_name=fdmsus_demo\r\n         master.table_name=vitalstats","title":"Spring boot multiple datasource configuration","body":"<p>I think issue is with declaring <strong>driver class name</strong> in application.properties   </p>\n\n<pre><code>logging.config=./conf/log4j.xml\n\nspring.ds_master_mysql.url = jdbc:mysql://&lt;host&gt;:3306\nspring.ds_master_mysql.username = username\nspring.ds_master_mysql.password = password\nspring.ds_master_mysql.driverClassName=com.mysql.jdbc.Driver\n\n master.db_name=fdmsus_demo\n master.table_name=vitalstats\n</code></pre>\n\n<p><strong>Use below application.properties</strong>:</p>\n\n<pre><code> logging.config=./conf/log4j.xml\n\n    spring.ds_master_mysql.url = jdbc:mysql://&lt;host&gt;:3306\n    spring.ds_master_mysql.username = username\n    spring.ds_master_mysql.password = password\n    spring.ds_master_mysql.driver-class-name=com.mysql.jdbc.Driver\n\n     master.db_name=fdmsus_demo\n     master.table_name=vitalstats\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18531683,"reputation":1,"user_id":13502312,"display_name":"Johan Moncada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588984153,"creation_date":1588984153,"answer_id":61690238,"question_id":44651076,"body_markdown":"SpringBoot configuration multiple datasource: \r\n\r\napplication.properties\r\n```\r\n#spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.database=default\r\nlogging.level.org.springframework = info\r\nspring.jpa.show-sql=true\r\nspring.jpa.open-in-view=true\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\n# Connection properties of Data Source A\r\nspring.datasource.a.url=jdbc:mysql://localhost:3306/demo1?serverTimezone=UTC\r\nspring.datasource.a.jdbcUrl=${spring.datasource.a.url}\r\nspring.datasource.a.username = root\r\nspring.datasource.a.password =\r\nspring.datasource.a.driverClassName=com.mysql.cj.jdbc.Driver\r\nspring.datasource.a.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n\r\n\r\n# Connection properties of Data Source B\r\nspring.datasource.b.url=jdbc:mysql://localhost:3306/demo2?serverTimezone=UTC\r\nspring.datasource.b.jdbcUrl=${spring.datasource.b.url}\r\nspring.datasource.b.username = root\r\nspring.datasource.b.password =\r\nspring.datasource.b.driverClassName=com.mysql.cj.jdbc.Driver\r\nspring.datasource.b.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n```\r\n\r\nConfigA.java\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = {&quot;api.a.repo&quot;})\r\npublic class ConfigA {\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t\r\n    @Primary\r\n    @Bean(name = &quot;dataSourceA&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.a&quot;)\r\n    public DataSource dataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;entityManagerFactoryA&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                       @Qualifier(&quot;dataSourceA&quot;) DataSource dataSource) {\r\n        \r\n    \tMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n\t\tproperties.put(&quot;hibernate.show-sql&quot;, env.getProperty(&quot;spring.datasource.a.jpa.show-sql&quot;));\r\n\t\tproperties.put(&quot;spring.jpa.hibernate.ddl-auto&quot;, env.getProperty(&quot;spring.datasource.a.hibernate.dialect&quot;));\r\n\t\tproperties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.datasource.a.hibernate.dialect&quot;));\r\n\t\t\r\n    \treturn builder\r\n            .dataSource(dataSource)\r\n            .properties(properties)\r\n            .packages(&quot;api.a.model&quot;)\r\n            .persistenceUnit(&quot;datasourceA&quot;)\r\n            .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;transactionManagerA&quot;)\r\n    public PlatformTransactionManager transactionManager(@Qualifier(&quot;entityManagerFactoryA&quot;) EntityManagerFactory entityManagerFactory) {\r\n        return new JpaTransactionManager(entityManagerFactory);\r\n    }\r\n}\r\n```\r\nConfigB.java\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = {&quot;api.b.repo&quot;})\r\npublic class ConfigB {\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\t\r\n    @Bean(name = &quot;dataSourceB&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.b&quot;)\r\n    public DataSource dataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;entityManagerFactoryB&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                       @Qualifier(&quot;dataSourceB&quot;) DataSource dataSource) {\r\n    \tMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n\t\tproperties.put(&quot;hibernate.show-sql&quot;, env.getProperty(&quot;spring.datasource.b.jpa.show-sql&quot;));\r\n\t\tproperties.put(&quot;spring.jpa.hibernate.ddl-auto&quot;, env.getProperty(&quot;spring.datasource.b.hibernate.dialect&quot;));\r\n\t\tproperties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;spring.datasource.b.hibernate.dialect&quot;));\r\n\t\t\r\n    \treturn builder\r\n            .dataSource(dataSource)\r\n            .packages(&quot;api.b.model&quot;)\r\n            .persistenceUnit(&quot;datasourceB&quot;)\r\n            .build();\r\n    }\r\n\r\n\r\n    @Bean(name = &quot;transactionManagerB&quot;)\r\n    public PlatformTransactionManager transactionManager(@Qualifier(&quot;entityManagerFactoryB&quot;) EntityManagerFactory entityManagerFactory) {\r\n        return new JpaTransactionManager(entityManagerFactory);\r\n    }\r\n}\r\n```\r\n\r\nvisit : [https://github.com/johanmoncada/OpenWork][1]\r\n\r\n\r\n  [1]: https://github.com/johanmoncada/OpenWork","title":"Spring boot multiple datasource configuration","body":"<p>SpringBoot configuration multiple datasource: </p>\n\n<p>application.properties</p>\n\n<pre><code>#spring.jpa.hibernate.naming-strategy = org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.generate-ddl=true\nspring.jpa.database=default\nlogging.level.org.springframework = info\nspring.jpa.show-sql=true\nspring.jpa.open-in-view=true\nspring.jpa.hibernate.ddl-auto=create-drop\n\n# Connection properties of Data Source A\nspring.datasource.a.url=jdbc:mysql://localhost:3306/demo1?serverTimezone=UTC\nspring.datasource.a.jdbcUrl=${spring.datasource.a.url}\nspring.datasource.a.username = root\nspring.datasource.a.password =\nspring.datasource.a.driverClassName=com.mysql.cj.jdbc.Driver\nspring.datasource.a.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n\n\n# Connection properties of Data Source B\nspring.datasource.b.url=jdbc:mysql://localhost:3306/demo2?serverTimezone=UTC\nspring.datasource.b.jdbcUrl=${spring.datasource.b.url}\nspring.datasource.b.username = root\nspring.datasource.b.password =\nspring.datasource.b.driverClassName=com.mysql.cj.jdbc.Driver\nspring.datasource.b.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n\n<p>ConfigA.java</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = {\"api.a.repo\"})\npublic class ConfigA {\n    @Autowired\n    private Environment env;\n\n    @Primary\n    @Bean(name = \"dataSourceA\")\n    @ConfigurationProperties(prefix = \"spring.datasource.a\")\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = \"entityManagerFactoryA\")\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                       @Qualifier(\"dataSourceA\") DataSource dataSource) {\n\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(\"hibernate.show-sql\", env.getProperty(\"spring.datasource.a.jpa.show-sql\"));\n        properties.put(\"spring.jpa.hibernate.ddl-auto\", env.getProperty(\"spring.datasource.a.hibernate.dialect\"));\n        properties.put(\"hibernate.dialect\", env.getProperty(\"spring.datasource.a.hibernate.dialect\"));\n\n        return builder\n            .dataSource(dataSource)\n            .properties(properties)\n            .packages(\"api.a.model\")\n            .persistenceUnit(\"datasourceA\")\n            .build();\n    }\n\n    @Primary\n    @Bean(name = \"transactionManagerA\")\n    public PlatformTransactionManager transactionManager(@Qualifier(\"entityManagerFactoryA\") EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n}\n</code></pre>\n\n<p>ConfigB.java</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = {\"api.b.repo\"})\npublic class ConfigB {\n\n    @Autowired\n    private Environment env;\n\n    @Bean(name = \"dataSourceB\")\n    @ConfigurationProperties(prefix = \"spring.datasource.b\")\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = \"entityManagerFactoryB\")\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                       @Qualifier(\"dataSourceB\") DataSource dataSource) {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(\"hibernate.show-sql\", env.getProperty(\"spring.datasource.b.jpa.show-sql\"));\n        properties.put(\"spring.jpa.hibernate.ddl-auto\", env.getProperty(\"spring.datasource.b.hibernate.dialect\"));\n        properties.put(\"hibernate.dialect\", env.getProperty(\"spring.datasource.b.hibernate.dialect\"));\n\n        return builder\n            .dataSource(dataSource)\n            .packages(\"api.b.model\")\n            .persistenceUnit(\"datasourceB\")\n            .build();\n    }\n\n\n    @Bean(name = \"transactionManagerB\")\n    public PlatformTransactionManager transactionManager(@Qualifier(\"entityManagerFactoryB\") EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n}\n</code></pre>\n\n<p>visit : <a href=\"https://github.com/johanmoncada/OpenWork\" rel=\"nofollow noreferrer\">https://github.com/johanmoncada/OpenWork</a></p>\n"},{"tags":[],"owner":{"account_id":9792389,"reputation":1,"user_id":7256579,"display_name":"MDHZAMIR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675187020,"creation_date":1675186079,"answer_id":75300869,"question_id":44651076,"body_markdown":"I faced the same issue a few days back and solved it. I&#39;m using **spring boot version 3.0.1** and **java version 19**. Here is the source code\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    **for oracle db**\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    **for postgresql db**\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**application.properties**\r\n\r\n    #first DB MYSQL\r\n    first.db.datasource.jdbc-url: jdbc:mysql://localhost:3306/test_db\r\n    first.db.datasource.username: \r\n    first.db.datasource.password: \r\n    first.db.datasource.driverClassName: com.mysql.jdbc.Driver\r\n    #second DB mysql ...\r\n    second.db.datasource.jdbc-url: jdbc:mysql://localhost:3308/test_db_2\r\n    second.db.datasource.username: \r\n    second.db.datasource.password: \r\n    second.db.datasource.driverClassName: com.mysql.jdbc.Driver\r\n\r\nConfig Class for the first datasource\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;firstDBEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;firstDBTransactionManager&quot;,\r\n        basePackages = {&quot;com.*.*.repository&quot;})\r\npublic class FirstDbConfig {\r\n    @Primary\r\n    @Bean(name = &quot;firstDBDataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;first.db.datasource&quot;)\r\n    public DataSource firstDataSource() {\r\n\t\treturn DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;firstDBEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                       @Qualifier(&quot;firstDBDataSource&quot;) DataSource dataSource) {\r\n        return builder.dataSource(dataSource).packages(&quot;com.*.*.entity&quot;)\r\n                .persistenceUnit(&quot;db1&quot;).build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;firstDBTransactionManager&quot;)\r\n    public PlatformTransactionManager firstDBTransactionManager(@Qualifier(&quot;firstDBEntityManagerFactory&quot;) EntityManagerFactory firstDBEntityManagerFactory) {\r\n        return new JpaTransactionManager(firstDBEntityManagerFactory);\r\n    }\r\n}\r\n```\r\n\r\nConfig Class for the second datasource\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;secondDBEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;secondDBTransactionManager&quot;,\r\n        basePackages = {&quot;com.*.*.seconddb.repository&quot;})\r\npublic class SecondDbConfig {\r\n\r\n    @Bean(name = &quot;secondDBDataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;second.db.datasource&quot;)\r\n    public DataSource secondDataSource() {\r\n\t\treturn DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;secondDBEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean secondDBEntityManagerFactory(EntityManagerFactoryBuilder builder, @Qualifier(&quot;secondDBDataSource&quot;) DataSource dataSource) {\r\n        return builder.dataSource(dataSource)\r\n                .packages(&quot;com.*.*.seconddb.entity&quot;)\r\n                .persistenceUnit(&quot;db2&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;secondDBTransactionManager&quot;)\r\n    public PlatformTransactionManager secondDBTransactionManager(@Qualifier(&quot;secondDBEntityManagerFactory&quot;) EntityManagerFactory secondDBEntityManagerFactory) {\r\n        return new JpaTransactionManager(secondDBEntityManagerFactory);\r\n    }\r\n}\r\n```\r\n\r\n ","title":"Spring boot multiple datasource configuration","body":"<p>I faced the same issue a few days back and solved it. I'm using <strong>spring boot version 3.0.1</strong> and <strong>java version 19</strong>. Here is the source code</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n**for oracle db**\n&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n**for postgresql db**\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>#first DB MYSQL\nfirst.db.datasource.jdbc-url: jdbc:mysql://localhost:3306/test_db\nfirst.db.datasource.username: \nfirst.db.datasource.password: \nfirst.db.datasource.driverClassName: com.mysql.jdbc.Driver\n#second DB mysql ...\nsecond.db.datasource.jdbc-url: jdbc:mysql://localhost:3308/test_db_2\nsecond.db.datasource.username: \nsecond.db.datasource.password: \nsecond.db.datasource.driverClassName: com.mysql.jdbc.Driver\n</code></pre>\n<p>Config Class for the first datasource</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;firstDBEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;firstDBTransactionManager&quot;,\n        basePackages = {&quot;com.*.*.repository&quot;})\npublic class FirstDbConfig {\n    @Primary\n    @Bean(name = &quot;firstDBDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;first.db.datasource&quot;)\n    public DataSource firstDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = &quot;firstDBEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                       @Qualifier(&quot;firstDBDataSource&quot;) DataSource dataSource) {\n        return builder.dataSource(dataSource).packages(&quot;com.*.*.entity&quot;)\n                .persistenceUnit(&quot;db1&quot;).build();\n    }\n\n    @Primary\n    @Bean(name = &quot;firstDBTransactionManager&quot;)\n    public PlatformTransactionManager firstDBTransactionManager(@Qualifier(&quot;firstDBEntityManagerFactory&quot;) EntityManagerFactory firstDBEntityManagerFactory) {\n        return new JpaTransactionManager(firstDBEntityManagerFactory);\n    }\n}\n</code></pre>\n<p>Config Class for the second datasource</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(entityManagerFactoryRef = &quot;secondDBEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;secondDBTransactionManager&quot;,\n        basePackages = {&quot;com.*.*.seconddb.repository&quot;})\npublic class SecondDbConfig {\n\n    @Bean(name = &quot;secondDBDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;second.db.datasource&quot;)\n    public DataSource secondDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;secondDBEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean secondDBEntityManagerFactory(EntityManagerFactoryBuilder builder, @Qualifier(&quot;secondDBDataSource&quot;) DataSource dataSource) {\n        return builder.dataSource(dataSource)\n                .packages(&quot;com.*.*.seconddb.entity&quot;)\n                .persistenceUnit(&quot;db2&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;secondDBTransactionManager&quot;)\n    public PlatformTransactionManager secondDBTransactionManager(@Qualifier(&quot;secondDBEntityManagerFactory&quot;) EntityManagerFactory secondDBEntityManagerFactory) {\n        return new JpaTransactionManager(secondDBEntityManagerFactory);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675187020,"creation_date":1497955988,"question_id":44651076,"body_markdown":"I am trying to configure multiple data sources in spring boot app. But I am getting following error when application is about to boot.\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mySQLReplicationStatusService&#39;: Unsatisfied dependency expressed through field &#39;jdbcTemplate&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.jdbc.core.JdbcTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=msMysqlJdbcTemplate)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.jdbc.core.JdbcTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=msMysqlJdbcTemplate)}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n\r\n\r\nHere is my configuration class looks like:\r\n\r\n    package com.example;\r\n        @Configuration\r\n        public class MultipleDBConfig {\r\n        \r\n        \t\r\n        \t@Bean(name = &quot;masterMysqlDb&quot;)\r\n        \t@Primary\r\n        \t@ConfigurationProperties(prefix = &quot;spring.ds_master_mysql&quot;)\r\n        \tpublic DataSource masterMysqlDataSource() {\r\n        \t\treturn DataSourceBuilder.create().build();\r\n        \t}\r\n        \t\r\n        \t@Bean(name = &quot;msMysqlJdbcTemplate&quot;)\r\n        \tpublic JdbcTemplate masterJdbcTemplate(@Qualifier(&quot;masterMysqlDb&quot;) DataSource masterMysqlDb) {\r\n        \t\treturn new JdbcTemplate(masterMysqlDb);\r\n        \t}\r\n        \t\r\n        \t@Bean(name = &quot;slaveMysqlDb&quot;)\r\n        \t@ConfigurationProperties(prefix = &quot;spring.ds_slave_mysql&quot;)\r\n        \tpublic DataSource slaveMysqlDataSource() {\r\n        \t\treturn DataSourceBuilder.create().build();\r\n        \t}\r\n        \t\r\n        \t@Bean(name = &quot;slaveMysqlJdbcTemplate&quot;)\r\n        \tpublic JdbcTemplate slaveJdbcTemplate(@Qualifier(&quot;slaveMysqlDb&quot;) DataSource dsSlaveMySQL) {\r\n        \t\treturn new JdbcTemplate(dsSlaveMySQL);\r\n        \t}\r\n        }\r\n\r\nHere is my service class:\r\n\r\n        package com.example.replication.service;\r\n           @Service\r\n    public class MySQLReplicationStatusService {\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;msMysqlJdbcTemplate&quot;)\r\n    \tprivate JdbcTemplate jdbcTemplate;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;slaveMysqlJdbcTemplate&quot;)\r\n    \tprivate JdbcTemplate slaveJdbcTemplate;\r\n    \t\r\n    \tpublic void checkReplicationStatus(String dbName, String tableName){\r\n    \t\tSystem.out.println(&quot;In checkReplicationStatus&quot;);\r\n    \t\tConnection conn_master = null;\r\n    \t\tStatement stmt_master = null;\r\n    \t\tStringBuilder sbSql_master = null;\r\n    \t\tResultSet rs_master = null;\r\n    \t\t\r\n    \t\tConnection conn_slave = null;\r\n    \t\tStatement stmt_slave = null;\r\n    \t\tStringBuilder sbSql_slave = null;\r\n    \t\tResultSet rs_slave = null;\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\tconn_master = jdbcTemplate.getDataSource().getConnection();\r\n    \t\t\tstmt_master = conn_master.createStatement();\r\n    \t\t\tsbSql_master = new StringBuilder();\r\n    \t\t\tsbSql_master.append(&quot;SELECT COLUMN_NAME&quot;);\r\n    \t\t\tsbSql_master.append(&quot;FROM information_schema.COLUMNS&quot;);\r\n    \t\t\tsbSql_master.append(&quot;WHERE (TABLE_SCHEMA = &quot; + dbName + &quot;)&quot;);\r\n    \t\t\tsbSql_master.append(&quot;AND (TABLE_NAME = &quot; + tableName + &quot;)&quot;);\r\n    \t\t\tsbSql_master.append(&quot;AND (COLUMN_KEY = &#39;PRI&#39;) &quot;);\r\n    \t\t\t\r\n    \t\t\trs_master = stmt_master.executeQuery(sbSql_master.toString());\r\n    \t\t\t\r\n    \t\t\t/*conn_slave = slaveJdbcTemplate.getDataSource().getConnection();\r\n    \t\t\tstmt_slave = conn_slave.createStatement();\r\n    \t\t\tsbSql_slave = new StringBuilder();\r\n    \t\t\tsbSql_slave.append(&quot;SELECT * FROM &quot;).append(dbName).append(&quot;.&quot;).append(tableName);\r\n    \t\t\trs_slave = stmt_slave.executeQuery(sbSql_slave.toString());*/\r\n    \t\t\t\r\n    \t\t\tif(rs_master != null){\r\n    \t\t\t\twhile(!rs_master.isLast()){\r\n    \t\t\t\t\trs_master.next();\r\n    \t\t\t\t\tObject obj = rs_master.getObject(1);\r\n    \t\t\t\t\tObject obj2 = rs_master.getObject(2);\r\n    \t\t\t\t\tString key = null;\r\n    \t\t\t\t\tString val = null;\r\n    \t\t\t\t\tif(obj != null){\r\n    \t\t\t\t\t\tkey = obj.toString();\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Key = &quot; + key);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tif(obj2 != null){\r\n    \t\t\t\t\t\tval = obj2.toString();\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Value = &quot; + val);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch(SQLException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHere is component class:\r\n\r\n    @Component\r\n    public class MySQLReplicationStatusCheck {\r\n    \tfinal static Logger logger = Logger.getLogger(MySQLReplicationStatusCheck.class);\r\n    \t\r\n    \t@Autowired\r\n    \tprivate MySQLReplicationStatusService mysqlReplicationStatusService = null;\r\n    \t\r\n    \t@Value(&quot;${master.db_name}&quot;)\r\n        private  String databaseName;\r\n    \t\r\n    \t@Value(&quot;${master.table_name}&quot;)\r\n        private  String tableName;\r\n    \t\r\n    \tpublic void replicationEvent(){\r\n    \t\tlogger.info(&quot;Inside replicationEvent method&quot;);\r\n    \t\tSystem.out.println(&quot;Inside replicationEvent method&quot;);\r\n    \t\tmysqlReplicationStatusService.checkReplicationStatus(databaseName, tableName);\r\n    \t}\r\n    }\r\n\r\nHere is my application.properties:\r\n\r\n    logging.config=./conf/log4j.xml\r\n    \r\n    spring.ds_master_mysql.url = jdbc:mysql://&lt;host&gt;:3306\r\n    spring.ds_master_mysql.username = username\r\n    spring.ds_master_mysql.password = password\r\n    spring.ds_master_mysql.driverClassName=com.mysql.jdbc.Driver\r\n\r\n     master.db_name=fdmsus_demo\r\n     master.table_name=vitalstats\r\n\r\nHere is Spring boot class:\r\n\r\n    package com.example;\r\n        @SpringBootApplication\r\n        public class FdmsMysqlReplicationApplication {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSpringApplication.run(FdmsMysqlReplicationApplication.class, args);\r\n        \t}\r\n        }\r\n\r\nHowever I am not able to figure out where is I am missing something. Can anyone please help me get this done.\r\n\r\nThanks.\r\n\r\n\r\n","title":"Spring boot multiple datasource configuration","body":"<p>I am trying to configure multiple data sources in spring boot app. But I am getting following error when application is about to boot.</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mySQLReplicationStatusService': Unsatisfied dependency expressed through field 'jdbcTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.jdbc.core.JdbcTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=msMysqlJdbcTemplate)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.jdbc.core.JdbcTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=msMysqlJdbcTemplate)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:47)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\n</code></pre>\n\n<p>Here is my configuration class looks like:</p>\n\n<pre><code>package com.example;\n    @Configuration\n    public class MultipleDBConfig {\n\n\n        @Bean(name = \"masterMysqlDb\")\n        @Primary\n        @ConfigurationProperties(prefix = \"spring.ds_master_mysql\")\n        public DataSource masterMysqlDataSource() {\n            return DataSourceBuilder.create().build();\n        }\n\n        @Bean(name = \"msMysqlJdbcTemplate\")\n        public JdbcTemplate masterJdbcTemplate(@Qualifier(\"masterMysqlDb\") DataSource masterMysqlDb) {\n            return new JdbcTemplate(masterMysqlDb);\n        }\n\n        @Bean(name = \"slaveMysqlDb\")\n        @ConfigurationProperties(prefix = \"spring.ds_slave_mysql\")\n        public DataSource slaveMysqlDataSource() {\n            return DataSourceBuilder.create().build();\n        }\n\n        @Bean(name = \"slaveMysqlJdbcTemplate\")\n        public JdbcTemplate slaveJdbcTemplate(@Qualifier(\"slaveMysqlDb\") DataSource dsSlaveMySQL) {\n            return new JdbcTemplate(dsSlaveMySQL);\n        }\n    }\n</code></pre>\n\n<p>Here is my service class:</p>\n\n<pre><code>    package com.example.replication.service;\n       @Service\npublic class MySQLReplicationStatusService {\n\n    @Autowired\n    @Qualifier(\"msMysqlJdbcTemplate\")\n    private JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    @Qualifier(\"slaveMysqlJdbcTemplate\")\n    private JdbcTemplate slaveJdbcTemplate;\n\n    public void checkReplicationStatus(String dbName, String tableName){\n        System.out.println(\"In checkReplicationStatus\");\n        Connection conn_master = null;\n        Statement stmt_master = null;\n        StringBuilder sbSql_master = null;\n        ResultSet rs_master = null;\n\n        Connection conn_slave = null;\n        Statement stmt_slave = null;\n        StringBuilder sbSql_slave = null;\n        ResultSet rs_slave = null;\n\n        try{\n            conn_master = jdbcTemplate.getDataSource().getConnection();\n            stmt_master = conn_master.createStatement();\n            sbSql_master = new StringBuilder();\n            sbSql_master.append(\"SELECT COLUMN_NAME\");\n            sbSql_master.append(\"FROM information_schema.COLUMNS\");\n            sbSql_master.append(\"WHERE (TABLE_SCHEMA = \" + dbName + \")\");\n            sbSql_master.append(\"AND (TABLE_NAME = \" + tableName + \")\");\n            sbSql_master.append(\"AND (COLUMN_KEY = 'PRI') \");\n\n            rs_master = stmt_master.executeQuery(sbSql_master.toString());\n\n            /*conn_slave = slaveJdbcTemplate.getDataSource().getConnection();\n            stmt_slave = conn_slave.createStatement();\n            sbSql_slave = new StringBuilder();\n            sbSql_slave.append(\"SELECT * FROM \").append(dbName).append(\".\").append(tableName);\n            rs_slave = stmt_slave.executeQuery(sbSql_slave.toString());*/\n\n            if(rs_master != null){\n                while(!rs_master.isLast()){\n                    rs_master.next();\n                    Object obj = rs_master.getObject(1);\n                    Object obj2 = rs_master.getObject(2);\n                    String key = null;\n                    String val = null;\n                    if(obj != null){\n                        key = obj.toString();\n                        System.out.println(\"Key = \" + key);\n                    }\n                    if(obj2 != null){\n                        val = obj2.toString();\n                        System.out.println(\"Value = \" + val);\n                    }\n                }\n            }\n        }\n        catch(SQLException e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Here is component class:</p>\n\n<pre><code>@Component\npublic class MySQLReplicationStatusCheck {\n    final static Logger logger = Logger.getLogger(MySQLReplicationStatusCheck.class);\n\n    @Autowired\n    private MySQLReplicationStatusService mysqlReplicationStatusService = null;\n\n    @Value(\"${master.db_name}\")\n    private  String databaseName;\n\n    @Value(\"${master.table_name}\")\n    private  String tableName;\n\n    public void replicationEvent(){\n        logger.info(\"Inside replicationEvent method\");\n        System.out.println(\"Inside replicationEvent method\");\n        mysqlReplicationStatusService.checkReplicationStatus(databaseName, tableName);\n    }\n}\n</code></pre>\n\n<p>Here is my application.properties:</p>\n\n<pre><code>logging.config=./conf/log4j.xml\n\nspring.ds_master_mysql.url = jdbc:mysql://&lt;host&gt;:3306\nspring.ds_master_mysql.username = username\nspring.ds_master_mysql.password = password\nspring.ds_master_mysql.driverClassName=com.mysql.jdbc.Driver\n\n master.db_name=fdmsus_demo\n master.table_name=vitalstats\n</code></pre>\n\n<p>Here is Spring boot class:</p>\n\n<pre><code>package com.example;\n    @SpringBootApplication\n    public class FdmsMysqlReplicationApplication {\n\n        public static void main(String[] args) {\n            SpringApplication.run(FdmsMysqlReplicationApplication.class, args);\n        }\n    }\n</code></pre>\n\n<p>However I am not able to figure out where is I am missing something. Can anyone please help me get this done.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","annotations","java-17","java-annotations","java-record"],"comments":[{"owner":{"account_id":945600,"reputation":3040,"user_id":972912,"accept_rate":46,"display_name":"Cl&#233;ment MATHIEU"},"score":0,"creation_date":1675149084,"post_id":75290864,"comment_id":132860863,"body_markdown":"Thanks @brian-goetz. I did not mention record-builder in the title because unless I&#39;m mistaken, all code paths leading to observed behavior are in JDK and could be reproduced without record-builder.","body":"Thanks @brian-goetz. I did not mention record-builder in the title because unless I&#39;m mistaken, all code paths leading to observed behavior are in JDK and could be reproduced without record-builder."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675162892,"post_id":75290864,"comment_id":132864815,"body_markdown":"Sounds like there might be a bug (or two) in the JDK’s code. But what I don’t understand: the record is built by this record-builder from the annotated interface. So it knows the record components even before the source code has been generated. Why does it require the compiler feedback from the generated source code at all? That’s almost as weird as a compiler that parses its generated class files to find out what it has generated…","body":"Sounds like there might be a bug (or two) in the JDK’s code. But what I don’t understand: the record is built by this record-builder from the annotated interface. So it knows the record components even before the source code has been generated. Why does it require the compiler feedback from the generated source code at all? That’s almost as weird as a compiler that parses its generated class files to find out what it has generated…"},{"owner":{"account_id":945600,"reputation":3040,"user_id":972912,"accept_rate":46,"display_name":"Cl&#233;ment MATHIEU"},"score":0,"creation_date":1675181395,"post_id":75290864,"comment_id":132871263,"body_markdown":"I&#39;m still looking for a minimal reproducer. My current understanding is that issue doesn&#39;t occurs on fresh builds. It seems to occur after an initial build created ConfRecord source and class files and a file including ConfRecord is modified. I guess javac first parses the class from previous build (stacktrace #1), then annotation processor parses the source file (stacktrace #2). It&#39;s unclear to me if this is expected.","body":"I&#39;m still looking for a minimal reproducer. My current understanding is that issue doesn&#39;t occurs on fresh builds. It seems to occur after an initial build created ConfRecord source and class files and a file including ConfRecord is modified. I guess javac first parses the class from previous build (stacktrace #1), then annotation processor parses the source file (stacktrace #2). It&#39;s unclear to me if this is expected."},{"owner":{"account_id":945600,"reputation":3040,"user_id":972912,"accept_rate":46,"display_name":"Cl&#233;ment MATHIEU"},"score":0,"creation_date":1675186783,"post_id":75290864,"comment_id":132873065,"body_markdown":"@Holger I just updated the question to add a link to a reproducer. Any insight from someone more knowledgeable than me on this topic would be very much appreciated.","body":"@Holger I just updated the question to add a link to a reproducer. Any insight from someone more knowledgeable than me on this topic would be very much appreciated."},{"owner":{"account_id":2335634,"reputation":2907,"user_id":2048051,"display_name":"Randgalt"},"score":0,"creation_date":1678619481,"post_id":75290864,"comment_id":133565292,"body_markdown":"Author of RecordBuilder here... I&#39;ve been able to reproduce this in IntelliJ by compiling a single class. There seems to be a bug in javac with processing an annotated class generated by an annotation processor, though the docs say this should work. I have yet to refine it further however.","body":"Author of RecordBuilder here... I&#39;ve been able to reproduce this in IntelliJ by compiling a single class. There seems to be a bug in javac with processing an annotated class generated by an annotation processor, though the docs say this should work. I have yet to refine it further however."},{"owner":{"account_id":2335634,"reputation":2907,"user_id":2048051,"display_name":"Randgalt"},"score":0,"creation_date":1678626615,"post_id":75290864,"comment_id":133566282,"body_markdown":"Further down the rabbit hole... in my case, the existence of a .class file of the generated record in the output path causes the problem. If I delete it prior to generating the record the exception doesn&#39;t happen.","body":"Further down the rabbit hole... in my case, the existence of a .class file of the generated record in the output path causes the problem. If I delete it prior to generating the record the exception doesn&#39;t happen."}],"owner":{"account_id":945600,"reputation":3040,"user_id":972912,"accept_rate":46,"display_name":"Cl&#233;ment MATHIEU"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675186565,"creation_date":1675118026,"question_id":75290864,"body_markdown":"While trying to troubleshoot &amp; fix [this issue](https://github.com/Randgalt/record-builder/issues/139) from record-builder (a Java annotation processor), I observed that `TypeElement.getRecordComponents()` returns two entries for the same record component. I&#39;m trying to understand if this behavior is expected from the JDK or a bug. \r\n\r\nrecord-builder has a feature allowing you to generate a record from an interface. Following interface definition\r\n\r\n```java\r\n@RecordInterface\r\ninterface Conf {\r\n\r\n    int maxConcurrency( );\r\n}\r\n```\r\n\r\ngenerates following code \r\n\r\n```java\r\n@Generated(&quot;io.soabase.recordbuilder.core.RecordInterface&quot;)\r\n@RecordBuilder\r\npublic record ConfRecord(int maxConcurrency) implements Conf, ConfRecordBuilder.With {}\r\n```\r\n\r\nI was able to observe that when `ConfRecord` class file already exists on disk; `TypeElement.getRecordComponents()` returns two `maxConcurrency` entries. One with (name: maxConcurrency, pos: 1, accessor: null), and another one with (name: maxConcurrency, pos: 387, accessor: &amp;lt;value&gt;)\r\n\r\nThe first entry is set from `setRecordComponents` when existing class file is parsed (triggered by an import statement).\r\n\r\n```\r\nsetRecordComponents:1542, Symbol$ClassSymbol (com.sun.tools.javac.code)\r\nread:1224, ClassReader$26 (com.sun.tools.javac.jvm)\r\nreadAttrs:1373, ClassReader (com.sun.tools.javac.jvm)\r\nreadClassAttrs:1387, ClassReader (com.sun.tools.javac.jvm)\r\nreadClass:2527, ClassReader (com.sun.tools.javac.jvm)\r\nreadClassBuffer:2644, ClassReader (com.sun.tools.javac.jvm)\r\nreadClassFile:2658, ClassReader (com.sun.tools.javac.jvm)\r\nfillIn:361, ClassFinder (com.sun.tools.javac.code)\r\ncomplete:291, ClassFinder (com.sun.tools.javac.code)\r\ncomplete:-1, ClassFinder$$Lambda$95/0x0000000801254af8 (com.sun.tools.javac.code)\r\ncomplete:682, Symbol (com.sun.tools.javac.code)\r\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\r\nloadClass:434, ClassFinder (com.sun.tools.javac.code)\r\nloadClass:2052, Resolve (com.sun.tools.javac.comp)\r\nfindIdentInPackageInternal:2450, Resolve (com.sun.tools.javac.comp)\r\nfindIdentInPackage:2438, Resolve (com.sun.tools.javac.comp)\r\nselectSym:4412, Attr (com.sun.tools.javac.comp)\r\nvisitSelect:4297, Attr (com.sun.tools.javac.comp)\r\naccept:2450, JCTree$JCFieldAccess (com.sun.tools.javac.tree)\r\nattribTree:677, Attr (com.sun.tools.javac.comp)\r\nattribType:743, Attr (com.sun.tools.javac.comp)\r\nattribType:736, Attr (com.sun.tools.javac.comp)\r\nattribImportType:447, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\r\ndoImport:430, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\r\nresolveImports:370, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\r\nrunPhase:327, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\r\ndoCompleteEnvs:288, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:257, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncomplete:204, TypeEnter (com.sun.tools.javac.comp)\r\ncomplete:682, Symbol (com.sun.tools.javac.code)\r\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\r\nflags:1331, Symbol$ClassSymbol (com.sun.tools.javac.code)\r\nisAccessible:327, Resolve (com.sun.tools.javac.comp)\r\nisAccessible:310, Resolve (com.sun.tools.javac.comp)\r\nloadClass:2053, Resolve (com.sun.tools.javac.comp)\r\nfindGlobalType:2299, Resolve (com.sun.tools.javac.comp)\r\nfindType:2373, Resolve (com.sun.tools.javac.comp)\r\nfindIdentInternal:2416, Resolve (com.sun.tools.javac.comp)\r\nfindIdent:2402, Resolve (com.sun.tools.javac.comp)\r\nresolveIdent:2685, Resolve (com.sun.tools.javac.comp)\r\nvisitIdent:4184, Attr (com.sun.tools.javac.comp)\r\naccept:2584, JCTree$JCIdent (com.sun.tools.javac.tree)\r\nattribTree:677, Attr (com.sun.tools.javac.comp)\r\nattribType:743, Attr (com.sun.tools.javac.comp)\r\nattribType:736, Attr (com.sun.tools.javac.comp)\r\nsignature:116, MemberEnter (com.sun.tools.javac.comp)\r\nvisitMethodDef:193, MemberEnter (com.sun.tools.javac.comp)\r\naccept:921, JCTree$JCMethodDecl (com.sun.tools.javac.tree)\r\nmemberEnter:163, MemberEnter (com.sun.tools.javac.comp)\r\nmemberEnter:175, MemberEnter (com.sun.tools.javac.comp)\r\nfinishClass:1075, TypeEnter$MembersPhase (com.sun.tools.javac.comp)\r\nrunPhase:1019, TypeEnter$MembersPhase (com.sun.tools.javac.comp)\r\ndoCompleteEnvs:288, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ndoCompleteEnvs:928, TypeEnter$AbstractMembersPhase (com.sun.tools.javac.comp)\r\ncompleteEnvs:257, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncomplete:204, TypeEnter (com.sun.tools.javac.comp)\r\ncomplete:682, Symbol (com.sun.tools.javac.code)\r\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\r\ncomplete:610, Enter (com.sun.tools.javac.comp)\r\nmain:587, Enter (com.sun.tools.javac.comp)\r\nenterTrees:1042, JavaCompiler (com.sun.tools.javac.main)\r\ncompile:917, JavaCompiler (com.sun.tools.javac.main)\r\nlambda$doCall$0:104, JavacTaskImpl (com.sun.tools.javac.api)\r\ncall:-1, JavacTaskImpl$$Lambda$89/0x00000008012368e0 (com.sun.tools.javac.api)\r\ninvocationHelper:152, JavacTaskImpl (com.sun.tools.javac.api)\r\ndoCall:100, JavacTaskImpl (com.sun.tools.javac.api)\r\ncall:94, JavacTaskImpl (com.sun.tools.javac.api)\r\ncompileInProcess:136, JavaxToolsCompiler (org.codehaus.plexus.compiler.javac)\r\nperformCompile:182, JavacCompiler (org.codehaus.plexus.compiler.javac)\r\nexecute:1209, AbstractCompilerMojo (org.apache.maven.plugin.compiler)\r\nexecute:198, CompilerMojo (org.apache.maven.plugin.compiler)\r\nexecuteMojo:137, DefaultBuildPluginManager (org.apache.maven.plugin)\r\ndoExecute2:370, MojoExecutor (org.apache.maven.lifecycle.internal)\r\ndoExecute:351, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nexecute:215, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nexecute:171, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nexecute:163, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nbuildProject:117, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\r\nbuildProject:81, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\r\nbuild:56, SingleThreadedBuilder (org.apache.maven.lifecycle.internal.builder.singlethreaded)\r\nexecute:128, LifecycleStarter (org.apache.maven.lifecycle.internal)\r\ndoExecute:294, DefaultMaven (org.apache.maven)\r\ndoExecute:192, DefaultMaven (org.apache.maven)\r\nexecute:105, DefaultMaven (org.apache.maven)\r\nexecute:960, MavenCli (org.apache.maven.cli)\r\ndoMain:293, MavenCli (org.apache.maven.cli)\r\nmain:196, MavenCli (org.apache.maven.cli)\r\ninvoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\r\ninvoke:77, NativeMethodAccessorImpl (jdk.internal.reflect)\r\ninvoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\r\ninvoke:568, Method (java.lang.reflect)\r\nlaunchEnhanced:282, Launcher (org.codehaus.plexus.classworlds.launcher)\r\nlaunch:225, Launcher (org.codehaus.plexus.classworlds.launcher)\r\nmainWithExitCode:406, Launcher (org.codehaus.plexus.classworlds.launcher)\r\nmain:347, Launcher (org.codehaus.plexus.classworlds.launcher)\r\n```\r\n\r\nThe second one is set by the annotation processor while reading generated code\r\n\r\n```\r\ngetRecordComponent:1524, Symbol$ClassSymbol (com.sun.tools.javac.code)\r\nrunPhase:968, TypeEnter$RecordPhase (com.sun.tools.javac.comp)\r\ndoCompleteEnvs:288, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ndoCompleteEnvs:928, TypeEnter$AbstractMembersPhase (com.sun.tools.javac.comp)\r\ncompleteEnvs:257, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\r\ncomplete:204, TypeEnter (com.sun.tools.javac.comp)\r\ncomplete:682, Symbol (com.sun.tools.javac.code)\r\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\r\ncomplete:610, Enter (com.sun.tools.javac.comp)\r\nmain:587, Enter (com.sun.tools.javac.comp)\r\nenterTrees:1042, JavaCompiler (com.sun.tools.javac.main)\r\nenterTrees:1247, JavacProcessingEnvironment$Round (com.sun.tools.javac.processing)\r\n&lt;init&gt;:1133, JavacProcessingEnvironment$Round (com.sun.tools.javac.processing)\r\nnext:1153, JavacProcessingEnvironment$Round (com.sun.tools.javac.processing)\r\ndoProcessing:1393, JavacProcessingEnvironment (com.sun.tools.javac.processing)\r\nprocessAnnotations:1234, JavaCompiler (com.sun.tools.javac.main)\r\ncompile:916, JavaCompiler (com.sun.tools.javac.main)\r\nlambda$doCall$0:104, JavacTaskImpl (com.sun.tools.javac.api)\r\ncall:-1, JavacTaskImpl$$Lambda$89/0x00000008012368e0 (com.sun.tools.javac.api)\r\ninvocationHelper:152, JavacTaskImpl (com.sun.tools.javac.api)\r\ndoCall:100, JavacTaskImpl (com.sun.tools.javac.api)\r\ncall:94, JavacTaskImpl (com.sun.tools.javac.api)\r\ncompileInProcess:136, JavaxToolsCompiler (org.codehaus.plexus.compiler.javac)\r\nperformCompile:182, JavacCompiler (org.codehaus.plexus.compiler.javac)\r\nexecute:1209, AbstractCompilerMojo (org.apache.maven.plugin.compiler)\r\nexecute:198, CompilerMojo (org.apache.maven.plugin.compiler)\r\nexecuteMojo:137, DefaultBuildPluginManager (org.apache.maven.plugin)\r\ndoExecute2:370, MojoExecutor (org.apache.maven.lifecycle.internal)\r\ndoExecute:351, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nexecute:215, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nexecute:171, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nexecute:163, MojoExecutor (org.apache.maven.lifecycle.internal)\r\nbuildProject:117, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\r\nbuildProject:81, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\r\nbuild:56, SingleThreadedBuilder (org.apache.maven.lifecycle.internal.builder.singlethreaded)\r\nexecute:128, LifecycleStarter (org.apache.maven.lifecycle.internal)\r\ndoExecute:294, DefaultMaven (org.apache.maven)\r\ndoExecute:192, DefaultMaven (org.apache.maven)\r\nexecute:105, DefaultMaven (org.apache.maven)\r\nexecute:960, MavenCli (org.apache.maven.cli)\r\ndoMain:293, MavenCli (org.apache.maven.cli)\r\nmain:196, MavenCli (org.apache.maven.cli)\r\ninvoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\r\ninvoke:77, NativeMethodAccessorImpl (jdk.internal.reflect)\r\ninvoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\r\ninvoke:568, Method (java.lang.reflect)\r\nlaunchEnhanced:282, Launcher (org.codehaus.plexus.classworlds.launcher)\r\nlaunch:225, Launcher (org.codehaus.plexus.classworlds.launcher)\r\nmainWithExitCode:406, Launcher (org.codehaus.plexus.classworlds.launcher)\r\nmain:347, Launcher (org.codehaus.plexus.classworlds.launcher)\r\n```\r\n\r\n`Symbol#getRecordCompoment` has some logic to avoid duplicate components\r\n\r\n```java\r\n       public RecordComponent getRecordComponent(JCVariableDecl var, boolean addIfMissing, List&lt;JCAnnotation&gt; annotations) {\r\n            RecordComponent toRemove = null;\r\n            for (RecordComponent rc : recordComponents) {\r\n                /* it could be that a record erroneously declares two record components with the same name, in that\r\n                 * case we need to use the position to disambiguate\r\n                 */\r\n                if (rc.name == var.name &amp;&amp; var.pos == rc.pos) {\r\n                    if (rc.type.hasTag(TypeTag.ERROR) &amp;&amp; !var.sym.type.hasTag(TypeTag.ERROR)) {\r\n                        // Found a record component with an erroneous type: save it so that it can be removed later.\r\n                        // If the class type of the record component is generated by annotation processor, it should\r\n                        // use the new actual class type and symbol instead of the old dummy ErrorType.\r\n                        toRemove = rc;\r\n                    } else {\r\n                        // Found a good record component: just return.\r\n                        return rc;\r\n                    }\r\n                }\r\n            }\r\n            RecordComponent rc = null;\r\n            if (toRemove != null) {\r\n                // Found a record component with an erroneous type: remove it and create a new one\r\n                recordComponents = List.filter(recordComponents, toRemove);\r\n                recordComponents = recordComponents.append(rc = new RecordComponent(var.sym, annotations));\r\n            } else if (addIfMissing) {\r\n                // Didn&#39;t find the record component: create one.\r\n                recordComponents = recordComponents.append(rc = new RecordComponent(var.sym, annotations));\r\n            }\r\n            return rc;\r\n        }\r\n``` \r\n\r\nWe can see that de-duplication is done by name AND position. However, position reported from class file and source parsing differs; leading to two entries. And even more bizarre, a record component with a null accessor.\r\n\r\n1. Is it expected that `TypeElement#getRecordComponents` returns two record component entries for the same record component? \r\n2. Is it expected that `RecordComponent#getAccessor` returns null?\r\n3. Is it a JDK bug or should the annotation processor ignore RecordComponents with no accessor? \r\n\r\nNotes:\r\n\r\n* TypeElement&#39;s Javadoc is unclear to me.\r\n* Java 17.0.5, 19.0.2, 21.ea.7 behave the same way.\r\n* I think it is related to the interface defining what is an accessor to the record. Running `javap -v` on the record shows `Record:\\n  int maxConcurrency;\r\n    \\n\\ndescriptor: I`\r\n* Providing a reproducer is doable but requires some efforts. I think that knowlegeable persons are unlikely to require a working repoducer to explain the behavior. \r\n\r\nUpdate 1: Published a reproducer here: https://github.com/cykl/record-builder-139-reproducer\r\n","title":"record-builder: TypeElement.getRecordComponents() returns duplicated record component (one without accessor)","body":"<p>While trying to troubleshoot &amp; fix <a href=\"https://github.com/Randgalt/record-builder/issues/139\" rel=\"nofollow noreferrer\">this issue</a> from record-builder (a Java annotation processor), I observed that <code>TypeElement.getRecordComponents()</code> returns two entries for the same record component. I'm trying to understand if this behavior is expected from the JDK or a bug.</p>\n<p>record-builder has a feature allowing you to generate a record from an interface. Following interface definition</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RecordInterface\ninterface Conf {\n\n    int maxConcurrency( );\n}\n</code></pre>\n<p>generates following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(&quot;io.soabase.recordbuilder.core.RecordInterface&quot;)\n@RecordBuilder\npublic record ConfRecord(int maxConcurrency) implements Conf, ConfRecordBuilder.With {}\n</code></pre>\n<p>I was able to observe that when <code>ConfRecord</code> class file already exists on disk; <code>TypeElement.getRecordComponents()</code> returns two <code>maxConcurrency</code> entries. One with (name: maxConcurrency, pos: 1, accessor: null), and another one with (name: maxConcurrency, pos: 387, accessor: &lt;value&gt;)</p>\n<p>The first entry is set from <code>setRecordComponents</code> when existing class file is parsed (triggered by an import statement).</p>\n<pre><code>setRecordComponents:1542, Symbol$ClassSymbol (com.sun.tools.javac.code)\nread:1224, ClassReader$26 (com.sun.tools.javac.jvm)\nreadAttrs:1373, ClassReader (com.sun.tools.javac.jvm)\nreadClassAttrs:1387, ClassReader (com.sun.tools.javac.jvm)\nreadClass:2527, ClassReader (com.sun.tools.javac.jvm)\nreadClassBuffer:2644, ClassReader (com.sun.tools.javac.jvm)\nreadClassFile:2658, ClassReader (com.sun.tools.javac.jvm)\nfillIn:361, ClassFinder (com.sun.tools.javac.code)\ncomplete:291, ClassFinder (com.sun.tools.javac.code)\ncomplete:-1, ClassFinder$$Lambda$95/0x0000000801254af8 (com.sun.tools.javac.code)\ncomplete:682, Symbol (com.sun.tools.javac.code)\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\nloadClass:434, ClassFinder (com.sun.tools.javac.code)\nloadClass:2052, Resolve (com.sun.tools.javac.comp)\nfindIdentInPackageInternal:2450, Resolve (com.sun.tools.javac.comp)\nfindIdentInPackage:2438, Resolve (com.sun.tools.javac.comp)\nselectSym:4412, Attr (com.sun.tools.javac.comp)\nvisitSelect:4297, Attr (com.sun.tools.javac.comp)\naccept:2450, JCTree$JCFieldAccess (com.sun.tools.javac.tree)\nattribTree:677, Attr (com.sun.tools.javac.comp)\nattribType:743, Attr (com.sun.tools.javac.comp)\nattribType:736, Attr (com.sun.tools.javac.comp)\nattribImportType:447, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\ndoImport:430, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\nresolveImports:370, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\nrunPhase:327, TypeEnter$ImportsPhase (com.sun.tools.javac.comp)\ndoCompleteEnvs:288, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:257, TypeEnter$Phase (com.sun.tools.javac.comp)\ncomplete:204, TypeEnter (com.sun.tools.javac.comp)\ncomplete:682, Symbol (com.sun.tools.javac.code)\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\nflags:1331, Symbol$ClassSymbol (com.sun.tools.javac.code)\nisAccessible:327, Resolve (com.sun.tools.javac.comp)\nisAccessible:310, Resolve (com.sun.tools.javac.comp)\nloadClass:2053, Resolve (com.sun.tools.javac.comp)\nfindGlobalType:2299, Resolve (com.sun.tools.javac.comp)\nfindType:2373, Resolve (com.sun.tools.javac.comp)\nfindIdentInternal:2416, Resolve (com.sun.tools.javac.comp)\nfindIdent:2402, Resolve (com.sun.tools.javac.comp)\nresolveIdent:2685, Resolve (com.sun.tools.javac.comp)\nvisitIdent:4184, Attr (com.sun.tools.javac.comp)\naccept:2584, JCTree$JCIdent (com.sun.tools.javac.tree)\nattribTree:677, Attr (com.sun.tools.javac.comp)\nattribType:743, Attr (com.sun.tools.javac.comp)\nattribType:736, Attr (com.sun.tools.javac.comp)\nsignature:116, MemberEnter (com.sun.tools.javac.comp)\nvisitMethodDef:193, MemberEnter (com.sun.tools.javac.comp)\naccept:921, JCTree$JCMethodDecl (com.sun.tools.javac.tree)\nmemberEnter:163, MemberEnter (com.sun.tools.javac.comp)\nmemberEnter:175, MemberEnter (com.sun.tools.javac.comp)\nfinishClass:1075, TypeEnter$MembersPhase (com.sun.tools.javac.comp)\nrunPhase:1019, TypeEnter$MembersPhase (com.sun.tools.javac.comp)\ndoCompleteEnvs:288, TypeEnter$Phase (com.sun.tools.javac.comp)\ndoCompleteEnvs:928, TypeEnter$AbstractMembersPhase (com.sun.tools.javac.comp)\ncompleteEnvs:257, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncomplete:204, TypeEnter (com.sun.tools.javac.comp)\ncomplete:682, Symbol (com.sun.tools.javac.code)\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\ncomplete:610, Enter (com.sun.tools.javac.comp)\nmain:587, Enter (com.sun.tools.javac.comp)\nenterTrees:1042, JavaCompiler (com.sun.tools.javac.main)\ncompile:917, JavaCompiler (com.sun.tools.javac.main)\nlambda$doCall$0:104, JavacTaskImpl (com.sun.tools.javac.api)\ncall:-1, JavacTaskImpl$$Lambda$89/0x00000008012368e0 (com.sun.tools.javac.api)\ninvocationHelper:152, JavacTaskImpl (com.sun.tools.javac.api)\ndoCall:100, JavacTaskImpl (com.sun.tools.javac.api)\ncall:94, JavacTaskImpl (com.sun.tools.javac.api)\ncompileInProcess:136, JavaxToolsCompiler (org.codehaus.plexus.compiler.javac)\nperformCompile:182, JavacCompiler (org.codehaus.plexus.compiler.javac)\nexecute:1209, AbstractCompilerMojo (org.apache.maven.plugin.compiler)\nexecute:198, CompilerMojo (org.apache.maven.plugin.compiler)\nexecuteMojo:137, DefaultBuildPluginManager (org.apache.maven.plugin)\ndoExecute2:370, MojoExecutor (org.apache.maven.lifecycle.internal)\ndoExecute:351, MojoExecutor (org.apache.maven.lifecycle.internal)\nexecute:215, MojoExecutor (org.apache.maven.lifecycle.internal)\nexecute:171, MojoExecutor (org.apache.maven.lifecycle.internal)\nexecute:163, MojoExecutor (org.apache.maven.lifecycle.internal)\nbuildProject:117, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\nbuildProject:81, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\nbuild:56, SingleThreadedBuilder (org.apache.maven.lifecycle.internal.builder.singlethreaded)\nexecute:128, LifecycleStarter (org.apache.maven.lifecycle.internal)\ndoExecute:294, DefaultMaven (org.apache.maven)\ndoExecute:192, DefaultMaven (org.apache.maven)\nexecute:105, DefaultMaven (org.apache.maven)\nexecute:960, MavenCli (org.apache.maven.cli)\ndoMain:293, MavenCli (org.apache.maven.cli)\nmain:196, MavenCli (org.apache.maven.cli)\ninvoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:77, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\ninvoke:568, Method (java.lang.reflect)\nlaunchEnhanced:282, Launcher (org.codehaus.plexus.classworlds.launcher)\nlaunch:225, Launcher (org.codehaus.plexus.classworlds.launcher)\nmainWithExitCode:406, Launcher (org.codehaus.plexus.classworlds.launcher)\nmain:347, Launcher (org.codehaus.plexus.classworlds.launcher)\n</code></pre>\n<p>The second one is set by the annotation processor while reading generated code</p>\n<pre><code>getRecordComponent:1524, Symbol$ClassSymbol (com.sun.tools.javac.code)\nrunPhase:968, TypeEnter$RecordPhase (com.sun.tools.javac.comp)\ndoCompleteEnvs:288, TypeEnter$Phase (com.sun.tools.javac.comp)\ndoCompleteEnvs:928, TypeEnter$AbstractMembersPhase (com.sun.tools.javac.comp)\ncompleteEnvs:257, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncompleteEnvs:272, TypeEnter$Phase (com.sun.tools.javac.comp)\ncomplete:204, TypeEnter (com.sun.tools.javac.comp)\ncomplete:682, Symbol (com.sun.tools.javac.code)\ncomplete:1410, Symbol$ClassSymbol (com.sun.tools.javac.code)\ncomplete:610, Enter (com.sun.tools.javac.comp)\nmain:587, Enter (com.sun.tools.javac.comp)\nenterTrees:1042, JavaCompiler (com.sun.tools.javac.main)\nenterTrees:1247, JavacProcessingEnvironment$Round (com.sun.tools.javac.processing)\n&lt;init&gt;:1133, JavacProcessingEnvironment$Round (com.sun.tools.javac.processing)\nnext:1153, JavacProcessingEnvironment$Round (com.sun.tools.javac.processing)\ndoProcessing:1393, JavacProcessingEnvironment (com.sun.tools.javac.processing)\nprocessAnnotations:1234, JavaCompiler (com.sun.tools.javac.main)\ncompile:916, JavaCompiler (com.sun.tools.javac.main)\nlambda$doCall$0:104, JavacTaskImpl (com.sun.tools.javac.api)\ncall:-1, JavacTaskImpl$$Lambda$89/0x00000008012368e0 (com.sun.tools.javac.api)\ninvocationHelper:152, JavacTaskImpl (com.sun.tools.javac.api)\ndoCall:100, JavacTaskImpl (com.sun.tools.javac.api)\ncall:94, JavacTaskImpl (com.sun.tools.javac.api)\ncompileInProcess:136, JavaxToolsCompiler (org.codehaus.plexus.compiler.javac)\nperformCompile:182, JavacCompiler (org.codehaus.plexus.compiler.javac)\nexecute:1209, AbstractCompilerMojo (org.apache.maven.plugin.compiler)\nexecute:198, CompilerMojo (org.apache.maven.plugin.compiler)\nexecuteMojo:137, DefaultBuildPluginManager (org.apache.maven.plugin)\ndoExecute2:370, MojoExecutor (org.apache.maven.lifecycle.internal)\ndoExecute:351, MojoExecutor (org.apache.maven.lifecycle.internal)\nexecute:215, MojoExecutor (org.apache.maven.lifecycle.internal)\nexecute:171, MojoExecutor (org.apache.maven.lifecycle.internal)\nexecute:163, MojoExecutor (org.apache.maven.lifecycle.internal)\nbuildProject:117, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\nbuildProject:81, LifecycleModuleBuilder (org.apache.maven.lifecycle.internal)\nbuild:56, SingleThreadedBuilder (org.apache.maven.lifecycle.internal.builder.singlethreaded)\nexecute:128, LifecycleStarter (org.apache.maven.lifecycle.internal)\ndoExecute:294, DefaultMaven (org.apache.maven)\ndoExecute:192, DefaultMaven (org.apache.maven)\nexecute:105, DefaultMaven (org.apache.maven)\nexecute:960, MavenCli (org.apache.maven.cli)\ndoMain:293, MavenCli (org.apache.maven.cli)\nmain:196, MavenCli (org.apache.maven.cli)\ninvoke0:-1, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:77, NativeMethodAccessorImpl (jdk.internal.reflect)\ninvoke:43, DelegatingMethodAccessorImpl (jdk.internal.reflect)\ninvoke:568, Method (java.lang.reflect)\nlaunchEnhanced:282, Launcher (org.codehaus.plexus.classworlds.launcher)\nlaunch:225, Launcher (org.codehaus.plexus.classworlds.launcher)\nmainWithExitCode:406, Launcher (org.codehaus.plexus.classworlds.launcher)\nmain:347, Launcher (org.codehaus.plexus.classworlds.launcher)\n</code></pre>\n<p><code>Symbol#getRecordCompoment</code> has some logic to avoid duplicate components</p>\n<pre class=\"lang-java prettyprint-override\"><code>       public RecordComponent getRecordComponent(JCVariableDecl var, boolean addIfMissing, List&lt;JCAnnotation&gt; annotations) {\n            RecordComponent toRemove = null;\n            for (RecordComponent rc : recordComponents) {\n                /* it could be that a record erroneously declares two record components with the same name, in that\n                 * case we need to use the position to disambiguate\n                 */\n                if (rc.name == var.name &amp;&amp; var.pos == rc.pos) {\n                    if (rc.type.hasTag(TypeTag.ERROR) &amp;&amp; !var.sym.type.hasTag(TypeTag.ERROR)) {\n                        // Found a record component with an erroneous type: save it so that it can be removed later.\n                        // If the class type of the record component is generated by annotation processor, it should\n                        // use the new actual class type and symbol instead of the old dummy ErrorType.\n                        toRemove = rc;\n                    } else {\n                        // Found a good record component: just return.\n                        return rc;\n                    }\n                }\n            }\n            RecordComponent rc = null;\n            if (toRemove != null) {\n                // Found a record component with an erroneous type: remove it and create a new one\n                recordComponents = List.filter(recordComponents, toRemove);\n                recordComponents = recordComponents.append(rc = new RecordComponent(var.sym, annotations));\n            } else if (addIfMissing) {\n                // Didn't find the record component: create one.\n                recordComponents = recordComponents.append(rc = new RecordComponent(var.sym, annotations));\n            }\n            return rc;\n        }\n</code></pre>\n<p>We can see that de-duplication is done by name AND position. However, position reported from class file and source parsing differs; leading to two entries. And even more bizarre, a record component with a null accessor.</p>\n<ol>\n<li>Is it expected that <code>TypeElement#getRecordComponents</code> returns two record component entries for the same record component?</li>\n<li>Is it expected that <code>RecordComponent#getAccessor</code> returns null?</li>\n<li>Is it a JDK bug or should the annotation processor ignore RecordComponents with no accessor?</li>\n</ol>\n<p>Notes:</p>\n<ul>\n<li>TypeElement's Javadoc is unclear to me.</li>\n<li>Java 17.0.5, 19.0.2, 21.ea.7 behave the same way.</li>\n<li>I think it is related to the interface defining what is an accessor to the record. Running <code>javap -v</code> on the record shows <code>Record:\\n  int maxConcurrency; \\n\\ndescriptor: I</code></li>\n<li>Providing a reproducer is doable but requires some efforts. I think that knowlegeable persons are unlikely to require a working repoducer to explain the behavior.</li>\n</ul>\n<p>Update 1: Published a reproducer here: <a href=\"https://github.com/cykl/record-builder-139-reproducer\" rel=\"nofollow noreferrer\">https://github.com/cykl/record-builder-139-reproducer</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675186833,"post_id":75300895,"comment_id":132873081,"body_markdown":"if you want to have current date object then you can simply take it like ```new Date()``` instead of ```Time.from(Instant.now())```\n\nFYI , regarding timezone of date object then you can refer this answer \n\nhttps://stackoverflow.com/a/308689/5696047","body":"if you want to have current date object then you can simply take it like <code>new Date()</code> instead of <code>Time.from(Instant.now())</code>  FYI , regarding timezone of date object then you can refer this answer   <a href=\"https://stackoverflow.com/a/308689/5696047\">stackoverflow.com/a/308689/5696047</a>"}],"owner":{"account_id":18110309,"reputation":13,"user_id":13167397,"display_name":"Fazza Bajwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675186249,"creation_date":1675186249,"question_id":75300895,"body_markdown":"I am attempting to create an app using android studio and when trying to run the app I seem to have an issue with one of the fields for my database. \r\n\r\n     public void setTime(){\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                this.time = Time.from(Instant.now());\r\n            }\r\n     }\r\n         \r\n\r\nI keep getting error: Cannot find setter for field. private Date time;\r\nIf i remove the if statement about build version I get the same issue but android studio also underlines the this.time = Time.from(Instant.now()); statement and advises me to surround it with the if statement. How do I fix this?","title":"Issue with &#39;cannot find setter error&#39; with a date field","body":"<p>I am attempting to create an app using android studio and when trying to run the app I seem to have an issue with one of the fields for my database.</p>\n<pre><code> public void setTime(){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            this.time = Time.from(Instant.now());\n        }\n }\n     \n</code></pre>\n<p>I keep getting error: Cannot find setter for field. private Date time;\nIf i remove the if statement about build version I get the same issue but android studio also underlines the this.time = Time.from(Instant.now()); statement and advises me to surround it with the if statement. How do I fix this?</p>\n"},{"tags":["java","android","android-snackbar"],"answers":[{"comments":[{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1667579378,"post_id":74279343,"comment_id":131207558,"body_markdown":"Thanks Anshul for your answer. It helped :-). I accepted and upvoted it.","body":"Thanks Anshul for your answer. It helped :-). I accepted and upvoted it."}],"tags":[],"owner":{"account_id":12977606,"reputation":71,"user_id":9381163,"display_name":"Anshul Khattar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667322136,"creation_date":1667322136,"answer_id":74279343,"question_id":74251521,"body_markdown":"You can access the snacker textview by doing - \r\n\r\n     val textView =\r\n                    sbView.findViewById&lt;TextView&gt;(R.id.snackbar_text)\r\n\r\nThen set whatever properties you want, to this textview","title":"How to format the text of a Snackbar in Android","body":"<p>You can access the snacker textview by doing -</p>\n<pre><code> val textView =\n                sbView.findViewById&lt;TextView&gt;(R.id.snackbar_text)\n</code></pre>\n<p>Then set whatever properties you want, to this textview</p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74279343,"answer_count":1,"score":0,"last_activity_date":1675186238,"creation_date":1667118345,"question_id":74251521,"body_markdown":"I have a method that displays snackbars which is called from many different fragments. Here is the code of this method:\r\n\r\n    public static void showSnackBar(Activity activity, String message, View root) {\r\n    \r\n        int duration = 5000;\r\n        Snackbar currentSnackBar = Snackbar.make( activity, root, message, Snackbar.LENGTH_INDEFINITE).setDuration(duration);\r\n    \r\n        View sbView = currentSnackBar.getView();\r\n        sbView.setBackgroundColor(ContextCompat.getColor(activity, R.color.colorBlue));\r\n\r\n        FrameLayout.LayoutParams params =(FrameLayout.LayoutParams)sbView.getLayoutParams();\r\n        params.gravity = Gravity.TOP | Gravity.CENTER_HORIZONTAL;\r\n    \r\n        sbView.setLayoutParams(params);\r\n        currentSnackBar.setAnimationMode(BaseTransientBottomBar.ANIMATION_MODE_FADE);\r\n        currentSnackBar.show();\r\n    }\r\n\r\nCurrently it shows the snackbar at the top center of the display. I would like to have the following formatting modifications:\r\n\r\n1. The textsize should be bigger\r\n2. The text should be aligned in the center. At the moment it is aligned to the left.\r\n\r\n**Reminder**: do you know how I can do this?","title":"How to format the text of a Snackbar in Android","body":"<p>I have a method that displays snackbars which is called from many different fragments. Here is the code of this method:</p>\n<pre><code>public static void showSnackBar(Activity activity, String message, View root) {\n\n    int duration = 5000;\n    Snackbar currentSnackBar = Snackbar.make( activity, root, message, Snackbar.LENGTH_INDEFINITE).setDuration(duration);\n\n    View sbView = currentSnackBar.getView();\n    sbView.setBackgroundColor(ContextCompat.getColor(activity, R.color.colorBlue));\n\n    FrameLayout.LayoutParams params =(FrameLayout.LayoutParams)sbView.getLayoutParams();\n    params.gravity = Gravity.TOP | Gravity.CENTER_HORIZONTAL;\n\n    sbView.setLayoutParams(params);\n    currentSnackBar.setAnimationMode(BaseTransientBottomBar.ANIMATION_MODE_FADE);\n    currentSnackBar.show();\n}\n</code></pre>\n<p>Currently it shows the snackbar at the top center of the display. I would like to have the following formatting modifications:</p>\n<ol>\n<li>The textsize should be bigger</li>\n<li>The text should be aligned in the center. At the moment it is aligned to the left.</li>\n</ol>\n<p><strong>Reminder</strong>: do you know how I can do this?</p>\n"},{"tags":["java","spring-boot","lombok","default-value"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675177651,"post_id":75298926,"comment_id":132869838,"body_markdown":"&quot;Any alternative?&quot; No, put it on every field.","body":"&quot;Any alternative?&quot; No, put it on every field."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675177742,"post_id":75298926,"comment_id":132869882,"body_markdown":"Please ask 1 question per question. I edited out the second one. You can ask separately about that","body":"Please ask 1 question per question. I edited out the second one. You can ask separately about that"}],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675186106,"creation_date":1675186106,"answer_id":75300876,"question_id":75298926,"body_markdown":"As [Michael](https://stackoverflow.com/users/1898563/michael) pointed out, you don&#39;t have many other options. If you&#39;ve added the `@Builder` annotation, you must use `@Builder.Default` for each field in order to utilize the fluent builder API.\r\n```java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class Audi extends Car {\r\n\r\n    private String name;\r\n    private String headquarter;\r\n    @Builder.Default\r\n    private BigDecimal revenue = BigDecimal.ZERO;\r\n    @Builder.Default\r\n    private BigDecimal totalAssets = BigDecimal.ZERO;\r\n}\r\n\r\n```\r\nUsage:\r\n```java\r\nAudi audi = Audi.builder()\r\n    .name(&quot;Audi A3&quot;)\r\n    .headquarter(&quot;Germany&quot;)\r\n    .build();\r\nSystem.out.println(audi);\r\n```\r\nOutput:\r\n```\r\nAudi(name=Audi A3, headquarter=Germany, revenue=0, totalAssets=0)\r\n```\r\n\r\nIf builder functionality is not needed, objects can be instantiated in the traditional `Java` way using a constructor. However, in this case, the `@Builder` annotation should be removed and default values must be set directly in the constructor or during declaration.\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class Audi extends Car {\r\n    @NonNull\r\n    private String name;\r\n    @NonNull\r\n    private String headquarter;\r\n    private BigDecimal revenue = BigDecimal.ZERO;\r\n    private BigDecimal totalAssets = BigDecimal.ZERO;\r\n}\r\n```\r\n\r\nUsage:\r\n```java\r\nfinal Audi audi = new Audi(&quot;Audi A3&quot;, &quot;Germany&quot;);\r\nSystem.out.println(audi);\r\n```\r\n\r\nOutput:\r\n```\r\nAudi(name=Audi A3, headquarter=Germany, revenue=0, totalAssets=0)\r\n```","title":"Default Value for BigDecimal using Lombok Builder","body":"<p>As <a href=\"https://stackoverflow.com/users/1898563/michael\">Michael</a> pointed out, you don't have many other options. If you've added the <code>@Builder</code> annotation, you must use <code>@Builder.Default</code> for each field in order to utilize the fluent builder API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\npublic class Audi extends Car {\n\n    private String name;\n    private String headquarter;\n    @Builder.Default\n    private BigDecimal revenue = BigDecimal.ZERO;\n    @Builder.Default\n    private BigDecimal totalAssets = BigDecimal.ZERO;\n}\n\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Audi audi = Audi.builder()\n    .name(&quot;Audi A3&quot;)\n    .headquarter(&quot;Germany&quot;)\n    .build();\nSystem.out.println(audi);\n</code></pre>\n<p>Output:</p>\n<pre><code>Audi(name=Audi A3, headquarter=Germany, revenue=0, totalAssets=0)\n</code></pre>\n<p>If builder functionality is not needed, objects can be instantiated in the traditional <code>Java</code> way using a constructor. However, in this case, the <code>@Builder</code> annotation should be removed and default values must be set directly in the constructor or during declaration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@RequiredArgsConstructor\n@EqualsAndHashCode(callSuper = true)\npublic class Audi extends Car {\n    @NonNull\n    private String name;\n    @NonNull\n    private String headquarter;\n    private BigDecimal revenue = BigDecimal.ZERO;\n    private BigDecimal totalAssets = BigDecimal.ZERO;\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Audi audi = new Audi(&quot;Audi A3&quot;, &quot;Germany&quot;);\nSystem.out.println(audi);\n</code></pre>\n<p>Output:</p>\n<pre><code>Audi(name=Audi A3, headquarter=Germany, revenue=0, totalAssets=0)\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75300876,"answer_count":1,"score":0,"last_activity_date":1675186106,"creation_date":1675176668,"question_id":75298926,"body_markdown":"Let&#39;s consider the following Entity:\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class Audi extends Car {\r\n    \r\n        private String name;\r\n        \r\n        private String headquarter;\r\n        \r\n        private BigDecimal revenue = BigDecimal.ZERO;\r\n    \r\n        private BigDecimal totalAssets = BigDecimal.ZERO;\r\n\r\n    }\r\n\r\nI want to have all BigDecimal variables with BigDecimal.ZERO as default value.\r\nIf I initialize it immediately after declaration, \r\n\r\nI got this warning:\r\n\r\n&gt; @Builder will ignore the initializing expression entirely. If you want\r\n&gt; the initializing expression to serve as default, add @Builder.Default.\r\n&gt; If it is not supposed to be settable during building, make the field\r\n&gt; final.\r\n\r\nFor an Entity with 10/15 BigDecimal, it&#39;s not so beautiful to have this annotation on each field.\r\n\r\nAny alternative?","title":"Default Value for BigDecimal using Lombok Builder","body":"<p>Let's consider the following Entity:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\npublic class Audi extends Car {\n\n    private String name;\n    \n    private String headquarter;\n    \n    private BigDecimal revenue = BigDecimal.ZERO;\n\n    private BigDecimal totalAssets = BigDecimal.ZERO;\n\n}\n</code></pre>\n<p>I want to have all BigDecimal variables with BigDecimal.ZERO as default value.\nIf I initialize it immediately after declaration,</p>\n<p>I got this warning:</p>\n<blockquote>\n<p>@Builder will ignore the initializing expression entirely. If you want\nthe initializing expression to serve as default, add @Builder.Default.\nIf it is not supposed to be settable during building, make the field\nfinal.</p>\n</blockquote>\n<p>For an Entity with 10/15 BigDecimal, it's not so beautiful to have this annotation on each field.</p>\n<p>Any alternative?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1563528908,"post_id":57103518,"comment_id":100738717,"body_markdown":"You said &quot;When I run the application, there is no need to send a csrf token in the POST request.&quot;, how did you try this? A CSRF token is required for all POST requests unless explicitly disabled using `.csrf(csrf -&gt; csrf.disable())` in your security configuration. The sample project tests are all for GET requests, so they don&#39;t require a CSRF token.","body":"You said &quot;When I run the application, there is no need to send a csrf token in the POST request.&quot;, how did you try this? A CSRF token is required for all POST requests unless explicitly disabled using <code>.csrf(csrf -&gt; csrf.disable())</code> in your security configuration. The sample project tests are all for GET requests, so they don&#39;t require a CSRF token."},{"owner":{"account_id":4279495,"reputation":528,"user_id":3499320,"accept_rate":100,"display_name":"henriquels"},"score":0,"creation_date":1563544586,"post_id":57103518,"comment_id":100746732,"body_markdown":"Actually, the CSRF token is not required in runtime. When I run the following command: `curl -v -H &quot;Authorization: Bearer $TOKEN&quot; -d &quot;my message&quot; -X POST localhost:8080/message` I receive a 200 status. As far as I understand, the CSRF filter only checks the token if there is no Bearer token.","body":"Actually, the CSRF token is not required in runtime. When I run the following command: <code>curl -v -H &quot;Authorization: Bearer $TOKEN&quot; -d &quot;my message&quot; -X POST localhost:8080&#47;message</code> I receive a 200 status. As far as I understand, the CSRF filter only checks the token if there is no Bearer token."},{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1563553027,"post_id":57103518,"comment_id":100751122,"body_markdown":"My mistake, you are correct that the CSRF token is not needed if there is a Bearer token. The issue with the test that only includes the `jwt` post processor is that while this creates the security context containing the JWT, it does not create a Bearer token in the request (which is what the CSRF filter is looking for).","body":"My mistake, you are correct that the CSRF token is not needed if there is a Bearer token. The issue with the test that only includes the <code>jwt</code> post processor is that while this creates the security context containing the JWT, it does not create a Bearer token in the request (which is what the CSRF filter is looking for)."}],"answers":[{"comments":[{"owner":{"account_id":4279495,"reputation":528,"user_id":3499320,"accept_rate":100,"display_name":"henriquels"},"score":0,"creation_date":1563556601,"post_id":57116667,"comment_id":100752578,"body_markdown":"it worked, thanks! But wouldn&#39;t it be possible to use the JwtRequestPostProcessor in the POST request? The code for testing the GET method is cleaner.","body":"it worked, thanks! But wouldn&#39;t it be possible to use the JwtRequestPostProcessor in the POST request? The code for testing the GET method is cleaner."},{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1563718435,"post_id":57116667,"comment_id":100783910,"body_markdown":"@henriquels The `JwtRequestPostProcessor` doesn&#39;t add the header that is needed by the CSRF filter. You could write a custom post processor, similar to [this one](https://github.com/spring-projects/spring-security/blob/b93528138e2b2f7ad34d10a040e6b7ac50fc587a/samples/boot/oauth2resourceserver-static/src/integration-test/java/sample/OAuth2ResourceServerApplicationITests.java).","body":"@henriquels The <code>JwtRequestPostProcessor</code> doesn&#39;t add the header that is needed by the CSRF filter. You could write a custom post processor, similar to <a href=\"https://github.com/spring-projects/spring-security/blob/b93528138e2b2f7ad34d10a040e6b7ac50fc587a/samples/boot/oauth2resourceserver-static/src/integration-test/java/sample/OAuth2ResourceServerApplicationITests.java\" rel=\"nofollow noreferrer\">this one</a>."}],"tags":[],"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1563554936,"creation_date":1563554936,"answer_id":57116667,"question_id":57103518,"body_markdown":"In order for the CSRF filter to detect that you are using a JWT token, you will need to include the JWT token in your request as an `Authorization` header, or as a request parameter.  \r\nThe tests that you have mentioned have a mock `JwtDecoder`, which means you can use any string as your token and mock the decoded value.  \r\nYour test would then become:\r\n```\r\nJwt jwt = Jwt.withTokenValue(&quot;token&quot;)\r\n\t\t.header(&quot;alg&quot;, &quot;none&quot;)\r\n\t\t.claim(&quot;scope&quot;, &quot;message:read&quot;)\r\n\t\t.build();\r\nwhen(jwtDecoder.decode(anyString())).thenReturn(jwt);\r\nmockMvc.perform(post(&quot;/message&quot;)\r\n\t\t.content(&quot;Hello message&quot;)\r\n\t\t.header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt.getTokenValue()))\r\n\t\t.andExpect(status().isOk())\r\n\t\t.andExpect(content().string(is(&quot;Message was created. Content: Hello message&quot;)));\r\n```\r\nIf you are not mocking the `JwtDecoder` then you would need to retrieve a valid bearer token and pass that in the `Authorization` header.","title":"Spring security - oauth2 resource server tests","body":"<p>In order for the CSRF filter to detect that you are using a JWT token, you will need to include the JWT token in your request as an <code>Authorization</code> header, or as a request parameter.<br>\nThe tests that you have mentioned have a mock <code>JwtDecoder</code>, which means you can use any string as your token and mock the decoded value.<br>\nYour test would then become:</p>\n\n<pre><code>Jwt jwt = Jwt.withTokenValue(\"token\")\n        .header(\"alg\", \"none\")\n        .claim(\"scope\", \"message:read\")\n        .build();\nwhen(jwtDecoder.decode(anyString())).thenReturn(jwt);\nmockMvc.perform(post(\"/message\")\n        .content(\"Hello message\")\n        .header(\"Authorization\", \"Bearer \" + jwt.getTokenValue()))\n        .andExpect(status().isOk())\n        .andExpect(content().string(is(\"Message was created. Content: Hello message\")));\n</code></pre>\n\n<p>If you are not mocking the <code>JwtDecoder</code> then you would need to retrieve a valid bearer token and pass that in the <code>Authorization</code> header.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675186025,"creation_date":1675186025,"answer_id":75300857,"question_id":57103518,"body_markdown":"First with Bearer access-token, you might be able to disable sessions (STATELESS session-management), and, as so, CSRF protection (CSRF attack vector is session).\r\n\r\nSecond there is a `.csrf()` MockMvc request post-processor which would simulate the CSRF token if you want to keep cessions (and CSRF protection).\r\n\r\nLast, what `jwt()` request post-processor does is configuring directly the security context with a `JwtAuthenticationToken` instance, not creating a valid JWT token set as Bearer access-token. With MockMvc, Authorization header is not decoded nor converted to an Authentication instance. =&gt; What you should set before MockMvc request execution for your test to pass are authorities, not scope claim:\r\n\r\n```java\r\n.with(jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_message:read&quot;)))))\r\n```\r\n\r\nNote that you could also simply decorate your test function with:\r\n```java\r\n@WithMockJwtAuth(&quot;SCOPE_message:read&quot;)\r\n```\r\nFrom [this lib][1] I maintain \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons","title":"Spring security - oauth2 resource server tests","body":"<p>First with Bearer access-token, you might be able to disable sessions (STATELESS session-management), and, as so, CSRF protection (CSRF attack vector is session).</p>\n<p>Second there is a <code>.csrf()</code> MockMvc request post-processor which would simulate the CSRF token if you want to keep cessions (and CSRF protection).</p>\n<p>Last, what <code>jwt()</code> request post-processor does is configuring directly the security context with a <code>JwtAuthenticationToken</code> instance, not creating a valid JWT token set as Bearer access-token. With MockMvc, Authorization header is not decoded nor converted to an Authentication instance. =&gt; What you should set before MockMvc request execution for your test to pass are authorities, not scope claim:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.with(jwt(jwt -&gt; jwt.authorities(List.of(new SimpleGrantedAuthority(&quot;SCOPE_message:read&quot;)))))\n</code></pre>\n<p>Note that you could also simply decorate your test function with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WithMockJwtAuth(&quot;SCOPE_message:read&quot;)\n</code></pre>\n<p>From <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">this lib</a> I maintain</p>\n"}],"owner":{"account_id":4279495,"reputation":528,"user_id":3499320,"accept_rate":100,"display_name":"henriquels"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4069,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57116667,"answer_count":2,"score":6,"last_activity_date":1675186025,"creation_date":1563490036,"question_id":57103518,"body_markdown":"I am having some problems when testing an oauth2 resource server using @WebMvcTest and the POST HTTP method.\r\n\r\nI always receive a 403 status code when I don&#39;t send the csrf token, even though the token is not required when I am using a bearer token.  \r\n\r\nHere is the POST method that I want to test.\r\n```\r\n@PostMapping(&quot;/message&quot;)\r\npublic String createMessage(@RequestBody String message) {\r\n    return String.format(&quot;Message was created. Content: %s&quot;, message);\r\n}\r\n\r\n```\r\n\r\nHere is my security config:\r\n```\r\nhttp.authorizeRequests(authorizeRequests -&gt; authorizeRequests\t\t\r\n   .antMatchers(&quot;/message/**&quot;)\r\n   .hasAuthority(&quot;SCOPE_message:read&quot;)\r\n   .anyRequest().authenticated()\r\n).oauth2ResourceServer(oauth2ResourceServer -&gt;\t\t\t\t \r\n    oauth2ResourceServer\r\n\t.jwt(withDefaults())\r\n);\r\n```\r\nI am following the tests provided in the samples of [spring-security](https://github.com/spring-projects/spring-security/blob/master/samples/boot/oauth2resourceserver/src/test/java/sample/OAuth2ResourceServerControllerTests.java).\r\n\r\nThe following test was supposed to pass but it fails because the csrf token is not sent in the request.\r\n\r\n```\r\nmockMvc.perform(post(&quot;/message&quot;).content(&quot;Hello message&quot;)\r\n    .with(jwt(jwt -&gt; jwt.claim(&quot;scope&quot;, &quot;message:read&quot;)))\r\n    .andExpect(status().isOk())\r\n    .andExpect(content().string(is(&quot;Message was created. Content: Hello message&quot;)));\r\n```\r\n\r\nWhen I add the csrf token to the request, the test passes:\r\n```\r\nmockMvc.perform(post(&quot;/message&quot;).content(&quot;Hello message&quot;)\r\n    .with(jwt(jwt -&gt; jwt.claim(&quot;scope&quot;, &quot;message:read&quot;)))\r\n    .with(csrf()))\r\n    .andExpect(status().isOk())\r\n    .andExpect(content().string(is(&quot;Message was created. Content: Hello message&quot;)));\r\n```\r\n\r\nWhen I run the application, there is no need to send a csrf token in the POST request.\r\n\r\nI have forked the Spring Security GitHub repository and the project with this failing test is available at this [link](https://github.com/henriquels25/spring-security/blob/integration_tests_post_resource_server/samples/boot/oauth2resourceserver/src/test/java/sample/OAuth2ResourceServerControllerTests.java).\r\n\r\nIs there a way for me to configure my tests so I don&#39;t need to send the csrf token in the POST request?","title":"Spring security - oauth2 resource server tests","body":"<p>I am having some problems when testing an oauth2 resource server using @WebMvcTest and the POST HTTP method.</p>\n\n<p>I always receive a 403 status code when I don't send the csrf token, even though the token is not required when I am using a bearer token.  </p>\n\n<p>Here is the POST method that I want to test.</p>\n\n<pre><code>@PostMapping(\"/message\")\npublic String createMessage(@RequestBody String message) {\n    return String.format(\"Message was created. Content: %s\", message);\n}\n\n</code></pre>\n\n<p>Here is my security config:</p>\n\n<pre><code>http.authorizeRequests(authorizeRequests -&gt; authorizeRequests       \n   .antMatchers(\"/message/**\")\n   .hasAuthority(\"SCOPE_message:read\")\n   .anyRequest().authenticated()\n).oauth2ResourceServer(oauth2ResourceServer -&gt;               \n    oauth2ResourceServer\n    .jwt(withDefaults())\n);\n</code></pre>\n\n<p>I am following the tests provided in the samples of <a href=\"https://github.com/spring-projects/spring-security/blob/master/samples/boot/oauth2resourceserver/src/test/java/sample/OAuth2ResourceServerControllerTests.java\" rel=\"noreferrer\">spring-security</a>.</p>\n\n<p>The following test was supposed to pass but it fails because the csrf token is not sent in the request.</p>\n\n<pre><code>mockMvc.perform(post(\"/message\").content(\"Hello message\")\n    .with(jwt(jwt -&gt; jwt.claim(\"scope\", \"message:read\")))\n    .andExpect(status().isOk())\n    .andExpect(content().string(is(\"Message was created. Content: Hello message\")));\n</code></pre>\n\n<p>When I add the csrf token to the request, the test passes:</p>\n\n<pre><code>mockMvc.perform(post(\"/message\").content(\"Hello message\")\n    .with(jwt(jwt -&gt; jwt.claim(\"scope\", \"message:read\")))\n    .with(csrf()))\n    .andExpect(status().isOk())\n    .andExpect(content().string(is(\"Message was created. Content: Hello message\")));\n</code></pre>\n\n<p>When I run the application, there is no need to send a csrf token in the POST request.</p>\n\n<p>I have forked the Spring Security GitHub repository and the project with this failing test is available at this <a href=\"https://github.com/henriquels25/spring-security/blob/integration_tests_post_resource_server/samples/boot/oauth2resourceserver/src/test/java/sample/OAuth2ResourceServerControllerTests.java\" rel=\"noreferrer\">link</a>.</p>\n\n<p>Is there a way for me to configure my tests so I don't need to send the csrf token in the POST request?</p>\n"},{"tags":["java","groovy","soapui"],"comments":[{"owner":{"account_id":6685637,"reputation":739,"user_id":5156999,"display_name":"Santosh b"},"score":0,"creation_date":1675186309,"post_id":75300813,"comment_id":132872903,"body_markdown":"Check if this urlDB certificate is expired","body":"Check if this urlDB certificate is expired"},{"owner":{"account_id":16724784,"reputation":29,"user_id":12088615,"display_name":"pridhvimallikharjun"},"score":0,"creation_date":1675219586,"post_id":75300813,"comment_id":132880161,"body_markdown":"It has validity","body":"It has validity"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1675464788,"post_id":75300813,"comment_id":132942291,"body_markdown":"1) Are you using this at an employer that uses packet inspection for their security? 2) Are you running this from within SoapUI, or elsewhere? What version of SoapUI?","body":"1) Are you using this at an employer that uses packet inspection for their security? 2) Are you running this from within SoapUI, or elsewhere? What version of SoapUI?"}],"owner":{"account_id":16724784,"reputation":29,"user_id":12088615,"display_name":"pridhvimallikharjun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675185784,"creation_date":1675185784,"question_id":75300813,"body_markdown":"I&#39;m trying to connect the Cosmo DB and query database through the Groovy script. However, I&#39;m seeing the below exception Please help to resolve the issue\r\n\r\n  **Exception**\r\n\r\n      java.lang.IllegalStateException: com.microsoft.azure.documentdb.DocumentClientException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target error at line: 52\r\n\r\n***code***\r\n\r\n    \r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import com.microsoft.azure.cosmosdb.spark.*\r\n    import com.microsoft.azure.*\r\n    import com.microsoft.azure.cosmosdb.*\r\n    import com.microsoft.azure.documentdb.ConnectionPolicy;\r\n    import com.microsoft.azure.documentdb.ConsistencyLevel;\r\n    import com.microsoft.azure.documentdb.DataType;\r\n    import com.microsoft.azure.documentdb.Database;\r\n    import com.microsoft.azure.documentdb.DocumentClient;\r\n    import com.microsoft.azure.documentdb.DocumentClientException;\r\n    import com.microsoft.azure.documentdb.DocumentCollection;\r\n    import com.microsoft.azure.documentdb.Index;\r\n    import com.microsoft.azure.documentdb.IndexingPolicy;\r\n    import com.microsoft.azure.documentdb.RangeIndex;\r\n    import com.microsoft.azure.documentdb.RequestOptions;\r\n    import com.microsoft.azure.documentdb.*\r\n    import com.eviware.soapui.model.testsuite.TestRunner.*\r\n    \r\n    \r\n    \r\n    DocumentClient client;\r\n    \r\n    // Get the database configuration\r\n    urlDB = testRunner.testCase.testSuite.project.getPropertyValue( &quot;envCosmoURL&quot; );\r\n    keyDB = testRunner.testCase.testSuite.project.getPropertyValue( &quot;envCosmoKey&quot; );\r\n    \r\n    // Making the connection with COSMos DB account\r\n    client = new DocumentClient(&quot;${urlDB}&quot;,\r\n                    &quot;${keyDB}&quot;,\r\n                    new ConnectionPolicy(), ConsistencyLevel.Session);\r\n    \r\n    //Defining the options for retrieving data.\r\n    feedOptions = new FeedOptions();\r\n    feedOptions.setEmitVerboseTracesInQuery(false);\r\n    \r\n    // In this section we are accessing to the studydefinition table\r\n    DB = client.queryDatabases(\r\n            &quot;SELECT * FROM root r WHERE r.id=&#39;StudyDefinition&#39;&quot;, null)\r\n          .getQueryIterable()\r\n          .toList();\r\n     \r\n    StudyDefDB = DB[0]\r\n\r\n\r\n\r\nPlease help how to resolve the issue","title":"SoapUI : : javax.net.ssl.SSLHandshakeException: PKIX path building failed:","body":"<p>I'm trying to connect the Cosmo DB and query database through the Groovy script. However, I'm seeing the below exception Please help to resolve the issue</p>\n<p><strong>Exception</strong></p>\n<pre><code>  java.lang.IllegalStateException: com.microsoft.azure.documentdb.DocumentClientException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target error at line: 52\n</code></pre>\n<p><em><strong>code</strong></em></p>\n<pre><code>import java.io.FileReader;\nimport java.io.IOException;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport com.microsoft.azure.cosmosdb.spark.*\nimport com.microsoft.azure.*\nimport com.microsoft.azure.cosmosdb.*\nimport com.microsoft.azure.documentdb.ConnectionPolicy;\nimport com.microsoft.azure.documentdb.ConsistencyLevel;\nimport com.microsoft.azure.documentdb.DataType;\nimport com.microsoft.azure.documentdb.Database;\nimport com.microsoft.azure.documentdb.DocumentClient;\nimport com.microsoft.azure.documentdb.DocumentClientException;\nimport com.microsoft.azure.documentdb.DocumentCollection;\nimport com.microsoft.azure.documentdb.Index;\nimport com.microsoft.azure.documentdb.IndexingPolicy;\nimport com.microsoft.azure.documentdb.RangeIndex;\nimport com.microsoft.azure.documentdb.RequestOptions;\nimport com.microsoft.azure.documentdb.*\nimport com.eviware.soapui.model.testsuite.TestRunner.*\n\n\n\nDocumentClient client;\n\n// Get the database configuration\nurlDB = testRunner.testCase.testSuite.project.getPropertyValue( &quot;envCosmoURL&quot; );\nkeyDB = testRunner.testCase.testSuite.project.getPropertyValue( &quot;envCosmoKey&quot; );\n\n// Making the connection with COSMos DB account\nclient = new DocumentClient(&quot;${urlDB}&quot;,\n                &quot;${keyDB}&quot;,\n                new ConnectionPolicy(), ConsistencyLevel.Session);\n\n//Defining the options for retrieving data.\nfeedOptions = new FeedOptions();\nfeedOptions.setEmitVerboseTracesInQuery(false);\n\n// In this section we are accessing to the studydefinition table\nDB = client.queryDatabases(\n        &quot;SELECT * FROM root r WHERE r.id='StudyDefinition'&quot;, null)\n      .getQueryIterable()\n      .toList();\n \nStudyDefDB = DB[0]\n</code></pre>\n<p>Please help how to resolve the issue</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":5,"creation_date":1675180030,"post_id":75299534,"comment_id":132870782,"body_markdown":"You do realize that your input &quot;json&quot; isn&#39;t really JSON, right? Why not have a talk with your backend team about it?","body":"You do realize that your input &quot;json&quot; isn&#39;t really JSON, right? Why not have a talk with your backend team about it?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675180255,"post_id":75299534,"comment_id":132870852,"body_markdown":"What you are showing us is _almost_ valid JSON so maybe you are actually handling valid JSON. We can&#39;t be sure. Asking for library recommendations is [off-topic](https://stackoverflow.com/help/on-topic) for Stack Overflow, but you can take a look at [How to parse JSON in Java](https://stackoverflow.com/q/2591098/12567365) as a starting point.","body":"What you are showing us is <i>almost</i> valid JSON so maybe you are actually handling valid JSON. We can&#39;t be sure. Asking for library recommendations is <a href=\"https://stackoverflow.com/help/on-topic\">off-topic</a> for Stack Overflow, but you can take a look at <a href=\"https://stackoverflow.com/q/2591098/12567365\">How to parse JSON in Java</a> as a starting point."},{"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"score":0,"creation_date":1675180326,"post_id":75299534,"comment_id":132870879,"body_markdown":"@Shark,\nWhile copying the excerpt from the original Json the &#39;data&#39; key got added.\nEdited the input json to be valid.","body":"@Shark, While copying the excerpt from the original Json the &#39;data&#39; key got added. Edited the input json to be valid."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1675180859,"post_id":75299534,"comment_id":132871076,"body_markdown":"@Arthur it&#39;s still not valid JSON though. It&#39;s a JSON Array, called &quot;Employee&quot; which has elements that represent different field of the imaginary parent employee. And then, the second employee starts in the middle of it.\n\nIt would make more sense if it were a json array of json arrays - meaning, `Employees [ Employee: [ &lt;employee 1 items&gt; ], Employee: [ &lt;employee 2 items&gt; ] ... ]`\n\nThe way it currently sits, there is no common POJO class to use for it, since it could be a &lt;String, String&gt; mapping, or a &lt;String, Integer&gt; mapping. Looks like you could use a SAX parser for this &quot;json&quot;.","body":"@Arthur it&#39;s still not valid JSON though. It&#39;s a JSON Array, called &quot;Employee&quot; which has elements that represent different field of the imaginary parent employee. And then, the second employee starts in the middle of it.  It would make more sense if it were a json array of json arrays - meaning, <code>Employees [ Employee: [ &lt;employee 1 items&gt; ], Employee: [ &lt;employee 2 items&gt; ] ... ]</code>  The way it currently sits, there is no common POJO class to use for it, since it could be a &lt;String, String&gt; mapping, or a &lt;String, Integer&gt; mapping. Looks like you could use a SAX parser for this &quot;json&quot;."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675182992,"post_id":75299534,"comment_id":132871857,"body_markdown":"@Shark: the current input described here is absolutely valid JSON. It&#39;s not &quot;nice&quot; JSON or &quot;well-designed&quot; JSON, but it&#39;s JSON.","body":"@Shark: the current input described here is absolutely valid JSON. It&#39;s not &quot;nice&quot; JSON or &quot;well-designed&quot; JSON, but it&#39;s JSON."},{"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"score":0,"creation_date":1675182998,"post_id":75299534,"comment_id":132871859,"body_markdown":"@Shark,\nUnfortunately, I don&#39;t have the control over the incoming json data.","body":"@Shark, Unfortunately, I don&#39;t have the control over the incoming json data."}],"answers":[{"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1675182571,"post_id":75299960,"comment_id":132871722,"body_markdown":"Should be fixed at the source, if the source is under control, if not - this seems like a great solution for the convoluted data source.","body":"Should be fixed at the source, if the source is under control, if not - this seems like a great solution for the convoluted data source."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675181503,"creation_date":1675181503,"answer_id":75299960,"question_id":75299534,"body_markdown":"The comments about the input format being &quot;weird&quot; (to put it politely) are spot-on: This is a convoluted way to represent simple hierarchical data.\r\n\r\nBut sometimes we have to deal with sub-optimal input formats, that&#39;s why we can fix them like this:\r\n\r\n```\r\n  private static JSONObject arrayToStructure(JSONArray inputArray) {\r\n    JSONObject output = new JSONObject();\r\n    for (Object o : inputArray) {\r\n      assert o instanceof JSONObject;\r\n      JSONObject jso = (JSONObject) o;\r\n      assert jso.length() == 1;\r\n      String key = jso.keys().next();\r\n      Object value = jso.get(key);\r\n      setJsonPath(output, key, value);\r\n    }\r\n    return output;\r\n  }\r\n\r\n  private static void setJsonPath(JSONObject target, String key, Object value) {\r\n    String[] keyParts = key.split(&quot;\\\\.&quot;);\r\n    JSONObject parent = target;\r\n    for (int i = 0; i &lt; keyParts.length - 1; i++) {\r\n      String keyPart = keyParts[i];\r\n      if (parent.has(keyPart)) {\r\n        parent = parent.getJSONObject(keyPart);\r\n      } else {\r\n        JSONObject child = new JSONObject();\r\n        parent.put(keyPart, child);\r\n        parent = child;\r\n      }\r\n    }\r\n    assert !parent.has(keyParts[keyParts.length - 1]);\r\n    parent.put(keyParts[keyParts.length - 1], value);\r\n  }\r\n```\r\n\r\nThis code uses [JSON-Java][1], probably better known as `org.json:json`.\r\n\r\nAnd it can be used like this:\r\n\r\n```\r\n  public static void main(String[] args) {\r\n    String input = &quot;&quot;&quot;\r\n        [\r\n          {\r\n            &quot;employee1.id&quot;: 1\r\n          },\r\n          {\r\n            &quot;employee1.name&quot;: &quot;John&quot;\r\n          },\r\n          {\r\n            &quot;employee1.address.street&quot;: &quot;main street&quot;\r\n          },\r\n          {\r\n            &quot;employee1.address.pin&quot;: &quot;123456&quot;\r\n          },\r\n          {\r\n            &quot;employee2.id&quot;: 2\r\n          },\r\n          {\r\n            &quot;employee2.name&quot;: &quot;Mike&quot;\r\n          },\r\n          {\r\n            &quot;employee2.address.street&quot;: &quot;51 street&quot;\r\n          },\r\n          {\r\n            &quot;employee2.address.pin&quot;: &quot;234543&quot;\r\n          }\r\n        ]&quot;&quot;&quot;;\r\n    JSONArray inputArray = new JSONArray(input);\r\n    JSONObject structure = arrayToStructure(inputArray);\r\n    System.out.println(structure.toString(2));\r\n  }\r\n```\r\n\r\nNote that this code is lacking proper sanity checks (some of which I&#39;ve hinted at using `assert`) and the nature of this &quot;protocol&quot; means that you can get misleading, ambiguous or straight up malicious inputs. For example nothing stops the input from having both `&quot;employee1.id&quot;: 1` and `&quot;employee1.id&quot;: 2` in there. How that is to be interpreted is up to the parser and such ambiguity is a great source of bugs and potential security issues.\r\n\r\n\r\n  [1]: https://stleary.github.io/JSON-java/","title":"Json manipulation and conversion in Java","body":"<p>The comments about the input format being &quot;weird&quot; (to put it politely) are spot-on: This is a convoluted way to represent simple hierarchical data.</p>\n<p>But sometimes we have to deal with sub-optimal input formats, that's why we can fix them like this:</p>\n<pre><code>  private static JSONObject arrayToStructure(JSONArray inputArray) {\n    JSONObject output = new JSONObject();\n    for (Object o : inputArray) {\n      assert o instanceof JSONObject;\n      JSONObject jso = (JSONObject) o;\n      assert jso.length() == 1;\n      String key = jso.keys().next();\n      Object value = jso.get(key);\n      setJsonPath(output, key, value);\n    }\n    return output;\n  }\n\n  private static void setJsonPath(JSONObject target, String key, Object value) {\n    String[] keyParts = key.split(&quot;\\\\.&quot;);\n    JSONObject parent = target;\n    for (int i = 0; i &lt; keyParts.length - 1; i++) {\n      String keyPart = keyParts[i];\n      if (parent.has(keyPart)) {\n        parent = parent.getJSONObject(keyPart);\n      } else {\n        JSONObject child = new JSONObject();\n        parent.put(keyPart, child);\n        parent = child;\n      }\n    }\n    assert !parent.has(keyParts[keyParts.length - 1]);\n    parent.put(keyParts[keyParts.length - 1], value);\n  }\n</code></pre>\n<p>This code uses <a href=\"https://stleary.github.io/JSON-java/\" rel=\"nofollow noreferrer\">JSON-Java</a>, probably better known as <code>org.json:json</code>.</p>\n<p>And it can be used like this:</p>\n<pre><code>  public static void main(String[] args) {\n    String input = &quot;&quot;&quot;\n        [\n          {\n            &quot;employee1.id&quot;: 1\n          },\n          {\n            &quot;employee1.name&quot;: &quot;John&quot;\n          },\n          {\n            &quot;employee1.address.street&quot;: &quot;main street&quot;\n          },\n          {\n            &quot;employee1.address.pin&quot;: &quot;123456&quot;\n          },\n          {\n            &quot;employee2.id&quot;: 2\n          },\n          {\n            &quot;employee2.name&quot;: &quot;Mike&quot;\n          },\n          {\n            &quot;employee2.address.street&quot;: &quot;51 street&quot;\n          },\n          {\n            &quot;employee2.address.pin&quot;: &quot;234543&quot;\n          }\n        ]&quot;&quot;&quot;;\n    JSONArray inputArray = new JSONArray(input);\n    JSONObject structure = arrayToStructure(inputArray);\n    System.out.println(structure.toString(2));\n  }\n</code></pre>\n<p>Note that this code is lacking proper sanity checks (some of which I've hinted at using <code>assert</code>) and the nature of this &quot;protocol&quot; means that you can get misleading, ambiguous or straight up malicious inputs. For example nothing stops the input from having both <code>&quot;employee1.id&quot;: 1</code> and <code>&quot;employee1.id&quot;: 2</code> in there. How that is to be interpreted is up to the parser and such ambiguity is a great source of bugs and potential security issues.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675185353,"creation_date":1675185353,"answer_id":75300733,"question_id":75299534,"body_markdown":"Library _Josson_ can do the transformation by one expression.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;Employee\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee1.id\\&quot;: 1&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee1.name\\&quot;: \\&quot;John\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee1.address.street\\&quot;: \\&quot;main street\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee1.address.pin\\&quot;: \\&quot;123456\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee2.id\\&quot;: 2&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee2.name\\&quot;: \\&quot;Mike\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee2.address.street\\&quot;: \\&quot;51 street\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;employee2.address.pin\\&quot;: \\&quot;234543\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;Employee.mergeObjects().unflatten(&#39;.&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;employee1&quot; : {\r\n        &quot;id&quot; : 1,\r\n        &quot;name&quot; : &quot;John&quot;,\r\n        &quot;address&quot; : {\r\n          &quot;street&quot; : &quot;main street&quot;,\r\n          &quot;pin&quot; : &quot;123456&quot;\r\n        }\r\n      },\r\n      &quot;employee2&quot; : {\r\n        &quot;id&quot; : 2,\r\n        &quot;name&quot; : &quot;Mike&quot;,\r\n        &quot;address&quot; : {\r\n          &quot;street&quot; : &quot;51 street&quot;,\r\n          &quot;pin&quot; : &quot;234543&quot;\r\n        }\r\n      }\r\n    }\r\n","title":"Json manipulation and conversion in Java","body":"<p>Library <em>Josson</em> can do the transformation by one expression.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;Employee\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee1.id\\&quot;: 1&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee1.name\\&quot;: \\&quot;John\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee1.address.street\\&quot;: \\&quot;main street\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee1.address.pin\\&quot;: \\&quot;123456\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee2.id\\&quot;: 2&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee2.name\\&quot;: \\&quot;Mike\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee2.address.street\\&quot;: \\&quot;51 street\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;employee2.address.pin\\&quot;: \\&quot;234543\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;Employee.mergeObjects().unflatten('.')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;employee1&quot; : {\n    &quot;id&quot; : 1,\n    &quot;name&quot; : &quot;John&quot;,\n    &quot;address&quot; : {\n      &quot;street&quot; : &quot;main street&quot;,\n      &quot;pin&quot; : &quot;123456&quot;\n    }\n  },\n  &quot;employee2&quot; : {\n    &quot;id&quot; : 2,\n    &quot;name&quot; : &quot;Mike&quot;,\n    &quot;address&quot; : {\n      &quot;street&quot; : &quot;51 street&quot;,\n      &quot;pin&quot; : &quot;234543&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75299960,"answer_count":2,"score":0,"last_activity_date":1675185353,"creation_date":1675179604,"question_id":75299534,"body_markdown":"I have an input json like:\r\n\r\n    {\r\n        &quot;Employee&quot;: [\r\n          {\r\n            &quot;employee1.id&quot;: 1\r\n          },\r\n          {\r\n            &quot;employee1.name&quot;: &quot;John&quot;\r\n          },\r\n          {\r\n            &quot;employee1.address.street&quot;: &quot;main street&quot;\r\n          },\r\n          {\r\n            &quot;employee1.address.pin&quot;: &quot;123456&quot;\r\n          },\r\n    \t  {\r\n            &quot;employee2.id&quot;: 2\r\n          },\r\n          {\r\n            &quot;employee2.name&quot;: &quot;Mike&quot;\r\n          },\r\n          {\r\n            &quot;employee2.address.street&quot;: &quot;51 street&quot;\r\n          },\r\n          {\r\n            &quot;employee2.address.pin&quot;: &quot;234543&quot;\r\n          }\r\n    \t]\r\n    }\r\n\r\nAnd I am trying to convert it into:\r\n\r\n    {\r\n    \t&quot;employee1&quot;:{\r\n    \t\t&quot;id&quot;: 1,\r\n    \t\t&quot;name&quot;: &quot;John&quot;,\r\n    \t\t&quot;address&quot;: {\r\n    \t\t\t&quot;street&quot;: &quot;main street&quot;,\r\n    \t\t\t&quot;pin&quot;: &quot;123456&quot;\r\n    \t\t}\r\n    \t},\r\n    \t\t&quot;employee2&quot;:{\r\n    \t\t&quot;id&quot;: 2,\r\n    \t\t&quot;name&quot;: &quot;Mike&quot;,\r\n    \t\t&quot;address&quot;: {\r\n    \t\t\t&quot;street&quot;: &quot;51 street&quot;,\r\n    \t\t\t&quot;pin&quot;: &quot;234543&quot;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI tried to split the key from input json with dot i.e. &#39;**.**&#39; and tried to iterate over to construct a map: Map&lt;String, Object&gt;\r\nBut the problem is the input json key depth can go beyond 2 i.e. in future the input key can be like:\r\n\r\n    {\r\n        &quot;employee1.address.tempAddress.street&quot;: &quot;main street&quot;\r\n    },\r\n    {\r\n        &quot;employee1.address.permanentAddress.street&quot;: &quot;main street&quot;\r\n    }\r\n\r\nSo, is there any library available to achieve this, or anything closely related to this using which I can achieve this?","title":"Json manipulation and conversion in Java","body":"<p>I have an input json like:</p>\n<pre><code>{\n    &quot;Employee&quot;: [\n      {\n        &quot;employee1.id&quot;: 1\n      },\n      {\n        &quot;employee1.name&quot;: &quot;John&quot;\n      },\n      {\n        &quot;employee1.address.street&quot;: &quot;main street&quot;\n      },\n      {\n        &quot;employee1.address.pin&quot;: &quot;123456&quot;\n      },\n      {\n        &quot;employee2.id&quot;: 2\n      },\n      {\n        &quot;employee2.name&quot;: &quot;Mike&quot;\n      },\n      {\n        &quot;employee2.address.street&quot;: &quot;51 street&quot;\n      },\n      {\n        &quot;employee2.address.pin&quot;: &quot;234543&quot;\n      }\n    ]\n}\n</code></pre>\n<p>And I am trying to convert it into:</p>\n<pre><code>{\n    &quot;employee1&quot;:{\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;John&quot;,\n        &quot;address&quot;: {\n            &quot;street&quot;: &quot;main street&quot;,\n            &quot;pin&quot;: &quot;123456&quot;\n        }\n    },\n        &quot;employee2&quot;:{\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Mike&quot;,\n        &quot;address&quot;: {\n            &quot;street&quot;: &quot;51 street&quot;,\n            &quot;pin&quot;: &quot;234543&quot;\n        }\n    }\n}\n</code></pre>\n<p>I tried to split the key from input json with dot i.e. '<strong>.</strong>' and tried to iterate over to construct a map: Map&lt;String, Object&gt;\nBut the problem is the input json key depth can go beyond 2 i.e. in future the input key can be like:</p>\n<pre><code>{\n    &quot;employee1.address.tempAddress.street&quot;: &quot;main street&quot;\n},\n{\n    &quot;employee1.address.permanentAddress.street&quot;: &quot;main street&quot;\n}\n</code></pre>\n<p>So, is there any library available to achieve this, or anything closely related to this using which I can achieve this?</p>\n"},{"tags":["java","spring","jpa","dependencies","mapper"],"comments":[{"owner":{"account_id":8316417,"reputation":565,"user_id":6249539,"accept_rate":83,"display_name":"yashpandey8055"},"score":0,"creation_date":1675172532,"post_id":75297952,"comment_id":132867966,"body_markdown":"I believe this line &quot;.map(UserMapper::toUser)&quot; is your problem , You have method reference to the same method which will indeed result in stackoverflow error","body":"I believe this line &quot;.map(UserMapper::toUser)&quot; is your problem , You have method reference to the same method which will indeed result in stackoverflow error"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1675175272,"post_id":75297952,"comment_id":132868976,"body_markdown":"Snip: editing out a misunderstanding of the data. Somewhere there needs to be some logic which checks &quot;this user is already mapped before&quot;.","body":"Snip: editing out a misunderstanding of the data. Somewhere there needs to be some logic which checks &quot;this user is already mapped before&quot;."},{"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"score":0,"creation_date":1675177277,"post_id":75297952,"comment_id":132869713,"body_markdown":"@Gimby could i see an example please?","body":"@Gimby could i see an example please?"},{"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"score":0,"creation_date":1675179578,"post_id":75297952,"comment_id":132870607,"body_markdown":"I need a hint to solve this","body":"I need a hint to solve this"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675173453,"creation_date":1675172602,"answer_id":75298072,"question_id":75297952,"body_markdown":"One way to resolve this is to model the &#39;follows&#39; relationship as a separate entity:\r\n\r\n    @Table(name=&quot;user_followers&quot;)\r\n    public class Follows {\r\n\r\n       @Id\r\n       @GeneratedValue\r\n       private Long id;\r\n\r\n       @NotNull\r\n       @Column(name = &quot;follower_Id&quot;)\r\n       private User follower;\r\n\r\n       @NotNull\r\n       @Column(name = &quot;user_id&quot;)\r\n       private User user;\r\n    }\r\n\r\nThen you could give your user two one-to-many lists of these entities:\r\n\r\n    public class User {\r\n    \r\n       @Id\r\n       @GeneratedValue\r\n       private Long id;       \r\n    \r\n       @OneToMany(mappedBy = &quot;user_id&quot;)\r\n       private List&lt;Follows&gt; followers;       \r\n\r\n       @OneToMany(mappedBy = &quot;follower_Id&quot;)\r\n       private List&lt;Follows&gt; following;\r\n\r\n    }\r\n\r\nEDIT: instead of the id field in Follows you could use the user_id and follower_id as a composite primary key using @Embeddable. Omitted here for brevity. See here for more details: https://www.baeldung.com/jpa-many-to-many","title":"Mapping DTO with circular self dependency","body":"<p>One way to resolve this is to model the 'follows' relationship as a separate entity:</p>\n<pre><code>@Table(name=&quot;user_followers&quot;)\npublic class Follows {\n\n   @Id\n   @GeneratedValue\n   private Long id;\n\n   @NotNull\n   @Column(name = &quot;follower_Id&quot;)\n   private User follower;\n\n   @NotNull\n   @Column(name = &quot;user_id&quot;)\n   private User user;\n}\n</code></pre>\n<p>Then you could give your user two one-to-many lists of these entities:</p>\n<pre><code>public class User {\n\n   @Id\n   @GeneratedValue\n   private Long id;       \n\n   @OneToMany(mappedBy = &quot;user_id&quot;)\n   private List&lt;Follows&gt; followers;       \n\n   @OneToMany(mappedBy = &quot;follower_Id&quot;)\n   private List&lt;Follows&gt; following;\n\n}\n</code></pre>\n<p>EDIT: instead of the id field in Follows you could use the user_id and follower_id as a composite primary key using @Embeddable. Omitted here for brevity. See here for more details: <a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-many-to-many</a></p>\n"},{"tags":[],"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675177928,"creation_date":1675173015,"answer_id":75298159,"question_id":75297952,"body_markdown":"Since you already have a DTO of `UserResponse`, you are on the right path towards a correct solution. My suggestion would be to avoid `@ManyToMany` on an entity level, and manage followers on a service level.\r\n\r\nThis means you will have to split relation ManyToMany join column into a separate entity, such as `UserFollowsEntity` with fields `userId` and `followsUserId`. Then remove `followers` and `following` lists from your User entity entirely.\r\n\r\nNow when creating `UserResponse` in a service, you will have to\r\n\r\n1. Select the actual user from repository – `userRepository.findById(userId)`\r\n2. Select followers – `userFollowsRepository.findByFollowsUserId(userId)`\r\n3. Select following – `userFollowsRepository.findByUserId(userId)`\r\n\r\nIt is a good practice to try and avoid bidirectional in entities relationships entirely if possible.\r\n\r\nEDIT: This will give you two lists: followers and following. You will probably want to know their user names, so what you can do is to merge followers and following lists into one, then extract all user ids from that list. Then query user repository with a list of those IDs, and just attach the required user information to your response model.\r\n\r\nYes it does sound like a bit more work compared to the seeming simplicity of utilizing JPA annotations, but this is the best way to avoid circular dependency as well as decouple the Follower functionality from your user entity.","title":"Mapping DTO with circular self dependency","body":"<p>Since you already have a DTO of <code>UserResponse</code>, you are on the right path towards a correct solution. My suggestion would be to avoid <code>@ManyToMany</code> on an entity level, and manage followers on a service level.</p>\n<p>This means you will have to split relation ManyToMany join column into a separate entity, such as <code>UserFollowsEntity</code> with fields <code>userId</code> and <code>followsUserId</code>. Then remove <code>followers</code> and <code>following</code> lists from your User entity entirely.</p>\n<p>Now when creating <code>UserResponse</code> in a service, you will have to</p>\n<ol>\n<li>Select the actual user from repository – <code>userRepository.findById(userId)</code></li>\n<li>Select followers – <code>userFollowsRepository.findByFollowsUserId(userId)</code></li>\n<li>Select following – <code>userFollowsRepository.findByUserId(userId)</code></li>\n</ol>\n<p>It is a good practice to try and avoid bidirectional in entities relationships entirely if possible.</p>\n<p>EDIT: This will give you two lists: followers and following. You will probably want to know their user names, so what you can do is to merge followers and following lists into one, then extract all user ids from that list. Then query user repository with a list of those IDs, and just attach the required user information to your response model.</p>\n<p>Yes it does sound like a bit more work compared to the seeming simplicity of utilizing JPA annotations, but this is the best way to avoid circular dependency as well as decouple the Follower functionality from your user entity.</p>\n"}],"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675184770,"creation_date":1675171998,"question_id":75297952,"body_markdown":"I have a entity user with self dependency. When i Map this entity to DTO I have the problem of circular dependency. .\r\nUser.class:\r\n\r\n ```\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    @NotNull\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    @NotNull\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @JsonBackReference\r\n    @ManyToMany(\r\n    private List&lt;User&gt; friedns_of = new ArrayList&lt;&gt;();\r\n\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL,\r\n            mappedBy = &quot;followers&quot;)\r\n    private List&lt;User&gt; friends = new ArrayList&lt;&gt;();\r\n```\r\n\r\n\r\nUserMapper method in UserMapper:\r\n```\r\n\r\n\r\n    public static UserResponse toUser(User user) {\r\n        UserResponse userResponse = new UserResponse();\r\n        userResponse.setId(user.getId());\r\n        userResponse.setFollowers(user.getFollowers().stream().map(UserMapper::toUser).toList());\r\n        userResponse.setFollowing(user.getFollowing().stream().map(UserMapper::toUser).toList());\r\n        return userResponse;\r\n    }\r\n```\r\nWhen i run the method toUser() I get stackOverFlowError exception caused by the infinite circular dependency. Any advise how to solve this?\r\n\r\n\r\n","title":"Mapping DTO with circular self dependency","body":"<p>I have a entity user with self dependency. When i Map this entity to DTO I have the problem of circular dependency. .\nUser.class:</p>\n<pre><code>public class User {\n\n   @Id\n   @GeneratedValue\n   private Long id;\n   @NotNull\n   @Column(name = &quot;first_name&quot;)\n   private String firstName;\n   @NotNull\n   @Column(name = &quot;last_name&quot;)\n   private String lastName;\n\n   @JsonBackReference\n   @ManyToMany(\n   private List&lt;User&gt; friedns_of = new ArrayList&lt;&gt;();\n\n\n   @ManyToMany(cascade = CascadeType.ALL,\n           mappedBy = &quot;followers&quot;)\n   private List&lt;User&gt; friends = new ArrayList&lt;&gt;();\n</code></pre>\n<p>UserMapper method in UserMapper:</p>\n<pre><code>\n\n    public static UserResponse toUser(User user) {\n        UserResponse userResponse = new UserResponse();\n        userResponse.setId(user.getId());\n        userResponse.setFollowers(user.getFollowers().stream().map(UserMapper::toUser).toList());\n        userResponse.setFollowing(user.getFollowing().stream().map(UserMapper::toUser).toList());\n        return userResponse;\n    }\n</code></pre>\n<p>When i run the method toUser() I get stackOverFlowError exception caused by the infinite circular dependency. Any advise how to solve this?</p>\n"},{"tags":["java","json","algorithm","treeview"],"answers":[{"comments":[{"owner":{"account_id":7513807,"reputation":237,"user_id":5707925,"accept_rate":33,"display_name":"WebNoob"},"score":0,"creation_date":1675170253,"post_id":75297522,"comment_id":132867185,"body_markdown":"Yes, I already have similar structure above in EmpTree class which will be my final JSON tree that I need to create.","body":"Yes, I already have similar structure above in EmpTree class which will be my final JSON tree that I need to create."},{"owner":{"account_id":22871786,"reputation":3,"user_id":17014713,"display_name":"JAlways"},"score":0,"creation_date":1675174231,"post_id":75297522,"comment_id":132868553,"body_markdown":"Ahh yes, sorry mate, somehow I did not see that. But here https://www.baeldung.com/java-generate-class-from-json , this is maybe usefull.","body":"Ahh yes, sorry mate, somehow I did not see that. But here <a href=\"https://www.baeldung.com/java-generate-class-from-json\" rel=\"nofollow noreferrer\">baeldung.com/java-generate-class-from-json</a> , this is maybe usefull."},{"owner":{"account_id":7513807,"reputation":237,"user_id":5707925,"accept_rate":33,"display_name":"WebNoob"},"score":0,"creation_date":1675176821,"post_id":75297522,"comment_id":132869544,"body_markdown":"This is different, its for JSON to Java which I have already done above while mapping sample JSON to Java classes [ Employee and EmpLevels]. Thanks though.","body":"This is different, its for JSON to Java which I have already done above while mapping sample JSON to Java classes [ Employee and EmpLevels]. Thanks though."}],"tags":[],"owner":{"account_id":22871786,"reputation":3,"user_id":17014713,"display_name":"JAlways"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675169878,"creation_date":1675169878,"answer_id":75297522,"question_id":75297188,"body_markdown":"When I look at your JSON, what first comes to my mind would be:\r\n```\r\n    public class Employee {\r\n    private Integer empId;\r\n    private String empName;\r\n    private Integer empGroupId;\r\n    private List&lt;Employee&gt; children;\r\n    }\r\n```\r\n\r\nIf thats not it, maybe their is a way to generate an Object from your JSON with Jackson/ObjectMapper and find an idea their? But I don&#39;t know if Jackson can do this without a given class, but maybe it helps you while looking for a solution.","title":"Java JSON tree structure creation from existing data","body":"<p>When I look at your JSON, what first comes to my mind would be:</p>\n<pre><code>    public class Employee {\n    private Integer empId;\n    private String empName;\n    private Integer empGroupId;\n    private List&lt;Employee&gt; children;\n    }\n</code></pre>\n<p>If thats not it, maybe their is a way to generate an Object from your JSON with Jackson/ObjectMapper and find an idea their? But I don't know if Jackson can do this without a given class, but maybe it helps you while looking for a solution.</p>\n"},{"comments":[{"owner":{"account_id":7513807,"reputation":237,"user_id":5707925,"accept_rate":33,"display_name":"WebNoob"},"score":0,"creation_date":1675277912,"post_id":75300592,"comment_id":132896261,"body_markdown":"Thanks a lot Raymond. This seems to be exactly what I needed. I am about to put this logic in my main project and test it out. Will keep you posted of the outcome. Thanks again.","body":"Thanks a lot Raymond. This seems to be exactly what I needed. I am about to put this logic in my main project and test it out. Will keep you posted of the outcome. Thanks again."},{"owner":{"account_id":7513807,"reputation":237,"user_id":5707925,"accept_rate":33,"display_name":"WebNoob"},"score":0,"creation_date":1675770846,"post_id":75300592,"comment_id":132996234,"body_markdown":"Sorry for the delay Raymond, got busy in testing, your solution worked as expected. Marking as answer, thanks again.","body":"Sorry for the delay Raymond, got busy in testing, your solution worked as expected. Marking as answer, thanks again."}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675184658,"creation_date":1675184658,"answer_id":75300592,"question_id":75297188,"body_markdown":"It is a matter of algorithm. Libraries or Java feature can&#39;t help you.\r\n\r\nFirst of all, `EmpTree.children` should be type of `List&lt;EmpTree&gt;`.\r\n\r\n    @Data\r\n    public class EmpTree {\r\n        private Integer empId;\r\n        private String empName;\r\n        private Integer empLevel;\r\n        private List&lt;EmpTree&gt; children;\r\n    }\r\n\r\nHere is a recursive function that build a `EmpTree`.\r\n\r\n    public EmpTree buildTree(List&lt;Employee&gt; employees, int empId, int empLevel) {\r\n        List&lt;Employee&gt; parent = employees.stream()\r\n            .filter(employee -&gt; empId == employee.getEmpId())\r\n            .collect(Collectors.toList());\r\n        List&lt;Integer&gt; groups = parent.stream()\r\n            .map(Employee::getEmpGroupId)\r\n            .collect(Collectors.toList());\r\n        List&lt;EmpTree&gt; childTree = employees.stream()\r\n            .filter(child -&gt; child.getEmpLevel() == empLevel + 1 &amp;&amp; groups.contains(child.getEmpGroupId()))\r\n            .map(Employee::getEmpId)\r\n            .distinct()\r\n            .map(childEmpId -&gt; buildTree(employees, childEmpId, empLevel + 1))\r\n            .collect(Collectors.toList());\r\n        return new EmpTree(empId, parent.get(0).getEmpName(), parent.get(0).getEmpLevel(), childTree.isEmpty() ? null : childTree);\r\n    }\r\n\r\nUse this statement to call the function.\r\n\r\n    EmpTree root = buildTree(employees, 1, 0);\r\n","title":"Java JSON tree structure creation from existing data","body":"<p>It is a matter of algorithm. Libraries or Java feature can't help you.</p>\n<p>First of all, <code>EmpTree.children</code> should be type of <code>List&lt;EmpTree&gt;</code>.</p>\n<pre><code>@Data\npublic class EmpTree {\n    private Integer empId;\n    private String empName;\n    private Integer empLevel;\n    private List&lt;EmpTree&gt; children;\n}\n</code></pre>\n<p>Here is a recursive function that build a <code>EmpTree</code>.</p>\n<pre><code>public EmpTree buildTree(List&lt;Employee&gt; employees, int empId, int empLevel) {\n    List&lt;Employee&gt; parent = employees.stream()\n        .filter(employee -&gt; empId == employee.getEmpId())\n        .collect(Collectors.toList());\n    List&lt;Integer&gt; groups = parent.stream()\n        .map(Employee::getEmpGroupId)\n        .collect(Collectors.toList());\n    List&lt;EmpTree&gt; childTree = employees.stream()\n        .filter(child -&gt; child.getEmpLevel() == empLevel + 1 &amp;&amp; groups.contains(child.getEmpGroupId()))\n        .map(Employee::getEmpId)\n        .distinct()\n        .map(childEmpId -&gt; buildTree(employees, childEmpId, empLevel + 1))\n        .collect(Collectors.toList());\n    return new EmpTree(empId, parent.get(0).getEmpName(), parent.get(0).getEmpLevel(), childTree.isEmpty() ? null : childTree);\n}\n</code></pre>\n<p>Use this statement to call the function.</p>\n<pre><code>EmpTree root = buildTree(employees, 1, 0);\n</code></pre>\n"}],"owner":{"account_id":7513807,"reputation":237,"user_id":5707925,"accept_rate":33,"display_name":"WebNoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75300592,"answer_count":2,"score":0,"last_activity_date":1675184658,"creation_date":1675168315,"question_id":75297188,"body_markdown":"Need your help with creating a JSON tree structure from available data. This is what is available with me right now,\r\n\r\n[![Data in DB][2]][2]\r\n\r\nThe same data in json format is as below,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n    &quot;employees&quot;: [\r\n      {\r\n        &quot;empId&quot;: 1,\r\n        &quot;empName&quot;: &quot;Alex&quot;,\r\n        &quot;empGroupId&quot;: 3,\r\n        &quot;empLevel&quot;: 0\r\n      },\r\n      {\r\n        &quot;empId&quot;: 42,\r\n        &quot;empName&quot;: &quot;Sam&quot;,\r\n        &quot;empGroupId&quot;: 3,\r\n        &quot;empLevel&quot;: 1\r\n      },\r\n      {\r\n        &quot;empId&quot;: 22,\r\n        &quot;empName&quot;: &quot;Max&quot;,\r\n        &quot;empGroupId&quot;: 3,\r\n        &quot;empLevel&quot;: 2\r\n      },\r\n      {\r\n        &quot;empId&quot;: 54,\r\n        &quot;empName&quot;: &quot;Ervin&quot;,\r\n        &quot;empGroupId&quot;: 3,\r\n        &quot;empLevel&quot;: 3\r\n      },\r\n      {\r\n        &quot;empId&quot;: 1,\r\n        &quot;empName&quot;: &quot;Alex&quot;,\r\n        &quot;empGroupId&quot;: 5,\r\n        &quot;empLevel&quot;: 0\r\n      },\r\n      {\r\n        &quot;empId&quot;: 42,\r\n        &quot;empName&quot;: &quot;Sam&quot;,\r\n        &quot;empGroupId&quot;: 5,\r\n        &quot;empLevel&quot;: 1\r\n      },\r\n      {\r\n        &quot;empId&quot;: 22,\r\n        &quot;empName&quot;: &quot;Max&quot;,\r\n        &quot;empGroupId&quot;: 5,\r\n        &quot;empLevel&quot;: 2\r\n      },\r\n      {\r\n        &quot;empId&quot;: 68,\r\n        &quot;empName&quot;: &quot;Jack&quot;,\r\n        &quot;empGroupId&quot;: 5,\r\n        &quot;empLevel&quot;: 3\r\n      },\r\n      {\r\n        &quot;empId&quot;: 1,\r\n        &quot;empName&quot;: &quot;Alex&quot;,\r\n        &quot;empGroupId&quot;: 7,\r\n        &quot;empLevel&quot;: 0\r\n      },\r\n      {\r\n        &quot;empId&quot;: 38,\r\n        &quot;empName&quot;: &quot;Mark&quot;,\r\n        &quot;empGroupId&quot;: 7,\r\n        &quot;empLevel&quot;: 7\r\n      },\r\n      {\r\n        &quot;empId&quot;: 12,\r\n        &quot;empName&quot;: &quot;Danny&quot;,\r\n        &quot;empGroupId&quot;: 7,\r\n        &quot;empLevel&quot;: 2\r\n      },\r\n      {\r\n        &quot;empId&quot;: 1,\r\n        &quot;empName&quot;: &quot;Alex&quot;,\r\n        &quot;empGroupId&quot;: 4,\r\n        &quot;empLevel&quot;: 0\r\n      },\r\n      {\r\n        &quot;empId&quot;: 38,\r\n        &quot;empName&quot;: &quot;Mark&quot;,\r\n        &quot;empGroupId&quot;: 4,\r\n        &quot;empLevel&quot;: 1\r\n      },\r\n      {\r\n        &quot;empId&quot;: 55,\r\n        &quot;empName&quot;: &quot;Kate&quot;,\r\n        &quot;empGroupId&quot;: 4,\r\n        &quot;empLevel&quot;: 2\r\n      }\r\n    ]\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI want to create a JSON tree structure which will map all the employees in hierarchical manner. Such that all the common employees will appear only once and according to their levels.\r\n\r\nSo basically, empName will have a unique empId associated with it. Multiple employees can be part of employee group [indicated by empGroupId]. The empLevel indicates level of employee, 0 being top person, then 1, and so on...\r\n\r\nFor e.g, if we consider first 8 rows in table above, it contains 2 empGroupIds, 3 &amp; 5. Alex, Sam and Max are the employees common in both groups with levels 0,1,2 respectively. Ervin and Jack are the last level at 3. And since their top 3 members are same, the final structure will have: Alex -&gt; Sam -&gt; Max -&gt; [Ervin, Jack]\r\n\r\nSo below is what I want to generate,\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    [{\r\n      &quot;empName&quot;:&quot;Alex&quot;,\r\n      &quot;empId&quot; : 1,\r\n      &quot;empLevel&quot; : 0,\r\n      &quot;children&quot; :[{\r\n        &quot;empName&quot;:&quot;Sam&quot;,\r\n        &quot;empId&quot; : 42,\r\n        &quot;empLevel&quot; : 1,\r\n        &quot;children&quot; : [{\r\n            &quot;empName&quot;:&quot;Max&quot;,\r\n            &quot;empId&quot; : 22,\r\n            &quot;empLevel&quot; : 2,\r\n            &quot;children&quot;: [{\r\n                &quot;empName&quot;:&quot;Ervin&quot;,\r\n                &quot;empId&quot; : 54,\r\n                &quot;empLevel&quot; : 3            \r\n                },{\r\n                &quot;empName&quot;:&quot;Jack&quot;,\r\n                &quot;empId&quot; : 68,\r\n                &quot;empLevel&quot; : 3 \r\n            }]\r\n        }]\r\n      },\r\n      {\r\n        &quot;empName&quot;:&quot;Mark&quot;,\r\n        &quot;empId&quot; : 38,\r\n        &quot;empLevel&quot; : 1,\r\n        &quot;children&quot;:[{\r\n            &quot;empName&quot;:&quot;Danny&quot;,\r\n            &quot;empId&quot; : 12,\r\n            &quot;empLevel&quot; : 2\r\n            },{\r\n            &quot;empName&quot;:&quot;Kate&quot;,\r\n            &quot;empId&quot; : 55,\r\n            &quot;empLevel&quot; : 2      \r\n        }]\r\n      }]\r\n    }]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo far I have created a sample program to read the JSON file and mapped the employees. However not sure how to approach the design for this tree structure. This is what I have right now,\r\n\r\n    @Data\r\n    public class Employee {\r\n        private Integer empId;\r\n        private String empName;\r\n        private Integer empGroupId;\r\n        private Integer empLevel;\r\n    }\r\n    \r\n    @Data\r\n    public class EmpLevels {\r\n        private List&lt;Employee&gt; employees;\r\n    }\r\n    \r\n    @Data\r\n    public class EmpTree {\r\n        private Integer empId;\r\n        private String empName;\r\n        private Integer empLevel;\r\n        private List&lt;Employee&gt; children;\r\n    }\r\n\r\nMy main method contains below stuff so far, regarding reading JSON and mapping employees,\r\n\r\n    EmpLevels empLevels = mapper.readValue(Paths.get(&quot;emp.json&quot;).toFile(), EmpLevels.class);\r\n    List&lt;Employee&gt; employees = empLevels.getEmployees();\r\n    System.out.println(&quot;Employees : &quot;+employees);\r\n\r\nHow to go ahead with building the logic to generate the JSON tree structure? Do we have any libraries that can help here? Or any latest Java release feature that can help generate this one?\r\n\r\n  [2]: https://i.stack.imgur.com/ifL3x.png","title":"Java JSON tree structure creation from existing data","body":"<p>Need your help with creating a JSON tree structure from available data. This is what is available with me right now,</p>\n<p><a href=\"https://i.stack.imgur.com/ifL3x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ifL3x.png\" alt=\"Data in DB\" /></a></p>\n<p>The same data in json format is as below,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\n\"employees\": [\n  {\n    \"empId\": 1,\n    \"empName\": \"Alex\",\n    \"empGroupId\": 3,\n    \"empLevel\": 0\n  },\n  {\n    \"empId\": 42,\n    \"empName\": \"Sam\",\n    \"empGroupId\": 3,\n    \"empLevel\": 1\n  },\n  {\n    \"empId\": 22,\n    \"empName\": \"Max\",\n    \"empGroupId\": 3,\n    \"empLevel\": 2\n  },\n  {\n    \"empId\": 54,\n    \"empName\": \"Ervin\",\n    \"empGroupId\": 3,\n    \"empLevel\": 3\n  },\n  {\n    \"empId\": 1,\n    \"empName\": \"Alex\",\n    \"empGroupId\": 5,\n    \"empLevel\": 0\n  },\n  {\n    \"empId\": 42,\n    \"empName\": \"Sam\",\n    \"empGroupId\": 5,\n    \"empLevel\": 1\n  },\n  {\n    \"empId\": 22,\n    \"empName\": \"Max\",\n    \"empGroupId\": 5,\n    \"empLevel\": 2\n  },\n  {\n    \"empId\": 68,\n    \"empName\": \"Jack\",\n    \"empGroupId\": 5,\n    \"empLevel\": 3\n  },\n  {\n    \"empId\": 1,\n    \"empName\": \"Alex\",\n    \"empGroupId\": 7,\n    \"empLevel\": 0\n  },\n  {\n    \"empId\": 38,\n    \"empName\": \"Mark\",\n    \"empGroupId\": 7,\n    \"empLevel\": 7\n  },\n  {\n    \"empId\": 12,\n    \"empName\": \"Danny\",\n    \"empGroupId\": 7,\n    \"empLevel\": 2\n  },\n  {\n    \"empId\": 1,\n    \"empName\": \"Alex\",\n    \"empGroupId\": 4,\n    \"empLevel\": 0\n  },\n  {\n    \"empId\": 38,\n    \"empName\": \"Mark\",\n    \"empGroupId\": 4,\n    \"empLevel\": 1\n  },\n  {\n    \"empId\": 55,\n    \"empName\": \"Kate\",\n    \"empGroupId\": 4,\n    \"empLevel\": 2\n  }\n]\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I want to create a JSON tree structure which will map all the employees in hierarchical manner. Such that all the common employees will appear only once and according to their levels.</p>\n<p>So basically, empName will have a unique empId associated with it. Multiple employees can be part of employee group [indicated by empGroupId]. The empLevel indicates level of employee, 0 being top person, then 1, and so on...</p>\n<p>For e.g, if we consider first 8 rows in table above, it contains 2 empGroupIds, 3 &amp; 5. Alex, Sam and Max are the employees common in both groups with levels 0,1,2 respectively. Ervin and Jack are the last level at 3. And since their top 3 members are same, the final structure will have: Alex -&gt; Sam -&gt; Max -&gt; [Ervin, Jack]</p>\n<p>So below is what I want to generate,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>[{\n  \"empName\":\"Alex\",\n  \"empId\" : 1,\n  \"empLevel\" : 0,\n  \"children\" :[{\n    \"empName\":\"Sam\",\n    \"empId\" : 42,\n    \"empLevel\" : 1,\n    \"children\" : [{\n        \"empName\":\"Max\",\n        \"empId\" : 22,\n        \"empLevel\" : 2,\n        \"children\": [{\n            \"empName\":\"Ervin\",\n            \"empId\" : 54,\n            \"empLevel\" : 3            \n            },{\n            \"empName\":\"Jack\",\n            \"empId\" : 68,\n            \"empLevel\" : 3 \n        }]\n    }]\n  },\n  {\n    \"empName\":\"Mark\",\n    \"empId\" : 38,\n    \"empLevel\" : 1,\n    \"children\":[{\n        \"empName\":\"Danny\",\n        \"empId\" : 12,\n        \"empLevel\" : 2\n        },{\n        \"empName\":\"Kate\",\n        \"empId\" : 55,\n        \"empLevel\" : 2      \n    }]\n  }]\n}]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So far I have created a sample program to read the JSON file and mapped the employees. However not sure how to approach the design for this tree structure. This is what I have right now,</p>\n<pre><code>@Data\npublic class Employee {\n    private Integer empId;\n    private String empName;\n    private Integer empGroupId;\n    private Integer empLevel;\n}\n\n@Data\npublic class EmpLevels {\n    private List&lt;Employee&gt; employees;\n}\n\n@Data\npublic class EmpTree {\n    private Integer empId;\n    private String empName;\n    private Integer empLevel;\n    private List&lt;Employee&gt; children;\n}\n</code></pre>\n<p>My main method contains below stuff so far, regarding reading JSON and mapping employees,</p>\n<pre><code>EmpLevels empLevels = mapper.readValue(Paths.get(&quot;emp.json&quot;).toFile(), EmpLevels.class);\nList&lt;Employee&gt; employees = empLevels.getEmployees();\nSystem.out.println(&quot;Employees : &quot;+employees);\n</code></pre>\n<p>How to go ahead with building the logic to generate the JSON tree structure? Do we have any libraries that can help here? Or any latest Java release feature that can help generate this one?</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1675243538,"post_id":75298861,"comment_id":132884576,"body_markdown":"can you provide the REST endpoint that is receiving this JSON payload","body":"can you provide the REST endpoint that is receiving this JSON payload"}],"answers":[{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675183483,"creation_date":1675183483,"answer_id":75300365,"question_id":75298861,"body_markdown":"You do not need a Data class because **data** field in your json is not an object - it is an array of objects, in your case it is an array of **Coin** objects.\r\n\r\nChange it the next way: \r\n\r\n```\r\npublic class MainDTO{\r\n    @JsonProperty(&quot;status&quot;)\r\n    private Status status;\r\n    @JsonProperty(&quot;data&quot;)\r\n    private List&lt;Coin&gt; data;\r\n}\r\n```","title":"How to map JSON array to Java class in Spring Boot","body":"<p>You do not need a Data class because <strong>data</strong> field in your json is not an object - it is an array of objects, in your case it is an array of <strong>Coin</strong> objects.</p>\n<p>Change it the next way:</p>\n<pre><code>public class MainDTO{\n    @JsonProperty(&quot;status&quot;)\n    private Status status;\n    @JsonProperty(&quot;data&quot;)\n    private List&lt;Coin&gt; data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675184433,"creation_date":1675184433,"answer_id":75300556,"question_id":75298861,"body_markdown":"It&#39;s worth mentioning that the JSON in your example is incorrect due to extra commas. I presume the correct form should look like this:\r\n```json\r\n{\r\n    &quot;status&quot;: {\r\n        &quot;timestamp&quot;: &quot;2023-01-31T14:06:45.210Z&quot;,\r\n        &quot;error_code&quot;: 0,\r\n        &quot;error_message&quot;: null\r\n    },\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: 7982,\r\n            &quot;name&quot;: &quot;wc4qtz6py1i&quot;,\r\n            &quot;tags&quot;: [\r\n                &quot;40rcevshzab&quot;,\r\n                &quot;3ja25pufu0z&quot;\r\n            ],\r\n            &quot;quote&quot;: {\r\n                &quot;USD&quot;: {\r\n                    &quot;price&quot;: 0.2\r\n                },\r\n                &quot;BTC&quot;: {\r\n                    &quot;price&quot;: 7159\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: 8742,\r\n            &quot;name&quot;: &quot;uhso98ca&quot;,\r\n            &quot;tags&quot;: [\r\n                &quot;84jsjsaesxx&quot;,\r\n                &quot;sasdd5dda76&quot;\r\n            ],\r\n            &quot;quote&quot;: {\r\n                &quot;USD&quot;: {\r\n                    &quot;price&quot;: 6\r\n                },\r\n                &quot;BTC&quot;: {\r\n                    &quot;price&quot;: 1230\r\n                }\r\n            }\r\n        }\r\n     ]\r\n }\r\n```\r\n\r\nAs for classes I would suggest you the next:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class MainDTO {\r\n    @JsonProperty(&quot;status&quot;)\r\n    private Status status;\r\n    @JsonProperty(&quot;data&quot;)\r\n    private List&lt;Coin&gt; coins;\r\n}\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Status {\r\n    @JsonProperty(&quot;timestamp&quot;)\r\n    private String timestamp;\r\n    @JsonProperty(&quot;error_code&quot;)\r\n    private Integer errorCode;\r\n    @JsonProperty(&quot;error_message&quot;)\r\n    private String errorMessage;\r\n}\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Coin {\r\n    @JsonProperty(&quot;id&quot;)\r\n    private Integer id;\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name;\r\n    @JsonProperty(&quot;tags&quot;)\r\n    private List&lt;String&gt; tags;\r\n    @JsonProperty(&quot;quote&quot;)\r\n    private Map&lt;String, Quote&gt; quote;\r\n}\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Quote {\r\n    @JsonProperty(&quot;price&quot;)\r\n    private Double price;\r\n}\r\n```\r\n\r\nThe &quot;data&quot; array in the `JSON` response is an array of coins, so the coins property in the `MainDTO` class should be of type `List&lt;Coin&gt;`.","title":"How to map JSON array to Java class in Spring Boot","body":"<p>It's worth mentioning that the JSON in your example is incorrect due to extra commas. I presume the correct form should look like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: {\n        &quot;timestamp&quot;: &quot;2023-01-31T14:06:45.210Z&quot;,\n        &quot;error_code&quot;: 0,\n        &quot;error_message&quot;: null\n    },\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 7982,\n            &quot;name&quot;: &quot;wc4qtz6py1i&quot;,\n            &quot;tags&quot;: [\n                &quot;40rcevshzab&quot;,\n                &quot;3ja25pufu0z&quot;\n            ],\n            &quot;quote&quot;: {\n                &quot;USD&quot;: {\n                    &quot;price&quot;: 0.2\n                },\n                &quot;BTC&quot;: {\n                    &quot;price&quot;: 7159\n                }\n            }\n        },\n        {\n            &quot;id&quot;: 8742,\n            &quot;name&quot;: &quot;uhso98ca&quot;,\n            &quot;tags&quot;: [\n                &quot;84jsjsaesxx&quot;,\n                &quot;sasdd5dda76&quot;\n            ],\n            &quot;quote&quot;: {\n                &quot;USD&quot;: {\n                    &quot;price&quot;: 6\n                },\n                &quot;BTC&quot;: {\n                    &quot;price&quot;: 1230\n                }\n            }\n        }\n     ]\n }\n</code></pre>\n<p>As for classes I would suggest you the next:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class MainDTO {\n    @JsonProperty(&quot;status&quot;)\n    private Status status;\n    @JsonProperty(&quot;data&quot;)\n    private List&lt;Coin&gt; coins;\n}\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Status {\n    @JsonProperty(&quot;timestamp&quot;)\n    private String timestamp;\n    @JsonProperty(&quot;error_code&quot;)\n    private Integer errorCode;\n    @JsonProperty(&quot;error_message&quot;)\n    private String errorMessage;\n}\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Coin {\n    @JsonProperty(&quot;id&quot;)\n    private Integer id;\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n    @JsonProperty(&quot;tags&quot;)\n    private List&lt;String&gt; tags;\n    @JsonProperty(&quot;quote&quot;)\n    private Map&lt;String, Quote&gt; quote;\n}\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Quote {\n    @JsonProperty(&quot;price&quot;)\n    private Double price;\n}\n</code></pre>\n<p>The &quot;data&quot; array in the <code>JSON</code> response is an array of coins, so the coins property in the <code>MainDTO</code> class should be of type <code>List&lt;Coin&gt;</code>.</p>\n"}],"owner":{"account_id":9614104,"reputation":47,"user_id":10960565,"display_name":"Даниил "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75300365,"answer_count":2,"score":3,"last_activity_date":1675184433,"creation_date":1675176344,"question_id":75298861,"body_markdown":"I&#39;m trying to get responce from another API  convert it to Java clases and then sent to the front end using Spring Boot\r\nI have JSON response from external API like this\r\n```\r\n{\r\n    &quot;status&quot;: {\r\n        &quot;timestamp&quot;: &quot;2023-01-31T14:06:45.210Z&quot;,\r\n        &quot;error_code&quot;: 0,\r\n        &quot;error_message&quot;: null,\r\n    },\r\n    &quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: 7982,\r\n            &quot;name&quot;: &quot;wc4qtz6py1i&quot;,\r\n            &quot;tags&quot;: [\r\n                &quot;40rcevshzab&quot;,\r\n                &quot;3ja25pufu0z&quot;\r\n            ],\r\n            &quot;quote&quot;: {\r\n                &quot;USD&quot;: {\r\n                    &quot;price&quot;: 0.2,\r\n                },\r\n                &quot;BTC&quot;: {\r\n                    &quot;price&quot;: 7159,\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;id&quot;: 8742,\r\n            &quot;name&quot;: &quot;uhso98ca&quot;,\r\n            &quot;tags&quot;: [\r\n                &quot;84jsjsaesxx&quot;,\r\n                &quot;sasdd5dda76&quot;\r\n            ],\r\n            &quot;quote&quot;: {\r\n                &quot;USD&quot;: {\r\n                    &quot;price&quot;: 6,\r\n                },\r\n                &quot;BTC&quot;: {\r\n                    &quot;price&quot;: 1230,\r\n                }\r\n            }\r\n        }\r\n     ]\r\n }\r\n```\r\nI need to convert all of this to classes using Spring Boot. But how I should organize it?\r\nThe most question is about &quot;Data&quot; array.\r\nFor now I have something like this.\r\n\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class MainDTO{\r\n    @JsonProperty(&quot;status&quot;)\r\n    private Status status;\r\n    @JsonProperty(&quot;data&quot;)\r\n    private Data data;\r\n}\r\n```\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Data {\r\n    Coin[] coins;\r\n}\r\n```\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Coin{\r\n    @JsonProperty(&quot;id&quot;)\r\n    private Integer id;\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name;\r\n    private Map&lt;String, Coin&gt; quote;\r\n}\r\n```\r\nBut it doesn&#39;t work. I have error:\r\n```\r\nI have error\r\nTue Jan 31 16:13:45 EET 2023\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nError while extracting response for type [class com.example.myCoolApp.entity.MainDTO] and content type [application/json;charset=utf-8]\r\norg.springframework.web.client.RestClientException: Error while extracting response for type [class com.example.myCoolApp.entity.CryptoDTO] and content type [application/json;charset=utf-8]\r\n```\r\n","title":"How to map JSON array to Java class in Spring Boot","body":"<p>I'm trying to get responce from another API  convert it to Java clases and then sent to the front end using Spring Boot\nI have JSON response from external API like this</p>\n<pre><code>{\n    &quot;status&quot;: {\n        &quot;timestamp&quot;: &quot;2023-01-31T14:06:45.210Z&quot;,\n        &quot;error_code&quot;: 0,\n        &quot;error_message&quot;: null,\n    },\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 7982,\n            &quot;name&quot;: &quot;wc4qtz6py1i&quot;,\n            &quot;tags&quot;: [\n                &quot;40rcevshzab&quot;,\n                &quot;3ja25pufu0z&quot;\n            ],\n            &quot;quote&quot;: {\n                &quot;USD&quot;: {\n                    &quot;price&quot;: 0.2,\n                },\n                &quot;BTC&quot;: {\n                    &quot;price&quot;: 7159,\n                }\n            }\n        },\n        {\n            &quot;id&quot;: 8742,\n            &quot;name&quot;: &quot;uhso98ca&quot;,\n            &quot;tags&quot;: [\n                &quot;84jsjsaesxx&quot;,\n                &quot;sasdd5dda76&quot;\n            ],\n            &quot;quote&quot;: {\n                &quot;USD&quot;: {\n                    &quot;price&quot;: 6,\n                },\n                &quot;BTC&quot;: {\n                    &quot;price&quot;: 1230,\n                }\n            }\n        }\n     ]\n }\n</code></pre>\n<p>I need to convert all of this to classes using Spring Boot. But how I should organize it?\nThe most question is about &quot;Data&quot; array.\nFor now I have something like this.</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class MainDTO{\n    @JsonProperty(&quot;status&quot;)\n    private Status status;\n    @JsonProperty(&quot;data&quot;)\n    private Data data;\n}\n</code></pre>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Data {\n    Coin[] coins;\n}\n</code></pre>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Coin{\n    @JsonProperty(&quot;id&quot;)\n    private Integer id;\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n    private Map&lt;String, Coin&gt; quote;\n}\n</code></pre>\n<p>But it doesn't work. I have error:</p>\n<pre><code>I have error\nTue Jan 31 16:13:45 EET 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nError while extracting response for type [class com.example.myCoolApp.entity.MainDTO] and content type [application/json;charset=utf-8]\norg.springframework.web.client.RestClientException: Error while extracting response for type [class com.example.myCoolApp.entity.CryptoDTO] and content type [application/json;charset=utf-8]\n</code></pre>\n"},{"tags":["java","file","object"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675183805,"post_id":75300399,"comment_id":132872124,"body_markdown":"Serialize &#39;testArray&#39; after adding your objects to it. Add an empty constructor to `test` (which should start with a capital as should all class names)","body":"Serialize &#39;testArray&#39; after adding your objects to it. Add an empty constructor to <code>test</code> (which should start with a capital as should all class names)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1675184470,"post_id":75300399,"comment_id":132872338,"body_markdown":"Open the stream, and only close it once you&#39;ve written all objects.","body":"Open the stream, and only close it once you&#39;ve written all objects."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675184906,"post_id":75300399,"comment_id":132872469,"body_markdown":"your `output` method overwrites any existing file. If you call it twice, the second call will overwrite the file from the first call.","body":"your <code>output</code> method overwrites any existing file. If you call it twice, the second call will overwrite the file from the first call."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675189728,"post_id":75300399,"comment_id":132873947,"body_markdown":"`new FileOutputStream(&quot;open.ses&quot;)` ← That immediately wipes out any existing file.  I suggest checking if any of the [constructors of FileOutputStream](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileOutputStream.html#constructor-summary) can append to a file instead of overwriting it.","body":"<code>new FileOutputStream(&quot;open.ses&quot;)</code> ← That immediately wipes out any existing file.  I suggest checking if any of the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileOutputStream.html#constructor-summary\" rel=\"nofollow noreferrer\">constructors of FileOutputStream</a> can append to a file instead of overwriting it."}],"owner":{"account_id":20679840,"reputation":13,"user_id":15183681,"display_name":"aren talb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675184255,"creation_date":1675183630,"question_id":75300399,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n    static ArrayList&lt;test&gt; testArrey = new ArrayList&lt;test&gt;();\r\n    public static void main(String[] args) {\r\n        output(new test(18, &quot;aren&quot;));\r\n        output(new test(22, &quot;ahmad&quot;));\r\n        input();\r\n        read();\r\n    }\r\n\r\n    public static void read() {\r\n        for (test a : testArrey) {\r\n            System.out.println(a.age);\r\n        }\r\n    }\r\n    public static void input() {\r\n        try {\r\n            FileInputStream fileInput = new FileInputStream(&quot;open.ses&quot;);\r\n            ObjectInputStream ObjectInput = new ObjectInputStream(fileInput);\r\n\r\n            Object a1 = ObjectInput.readObject();\r\n            test b1 = (test) a1;\r\n            testArrey.add(b1);\r\n\r\n            Object a2 = ObjectInput.readObject();\r\n            test b2 = (test) a2;\r\n            testArrey.add(b2);\r\n\r\n            ObjectInput.close();\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;input error&quot;);\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n    public static void output(test a) {\r\n        try {\r\n            FileOutputStream  fileOut = new FileOutputStream(&quot;open.ses&quot;);\r\n            ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\r\n\r\n            objectOut.writeObject(a);\r\n\r\n            objectOut.close();\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;output error&quot;);\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public static class test implements Serializable {\r\n        int age ;\r\n        String  name ;\r\n\r\n        public test(int age , String name ) {\r\n            this.age = age;\r\n            this.name = name;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nas you can see a called output() method two time with new to object of (test)as argument ,and it must write two object on (open.ses)file but when i want to call (.readobject)two times it gives me an error that says one object is saved ............\r\n\r\nhow to write more than one object with the help of method like the one i wrote ??","title":"i can not write more than one object on a file in java","body":"<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class Main {\n    static ArrayList&lt;test&gt; testArrey = new ArrayList&lt;test&gt;();\n    public static void main(String[] args) {\n        output(new test(18, &quot;aren&quot;));\n        output(new test(22, &quot;ahmad&quot;));\n        input();\n        read();\n    }\n\n    public static void read() {\n        for (test a : testArrey) {\n            System.out.println(a.age);\n        }\n    }\n    public static void input() {\n        try {\n            FileInputStream fileInput = new FileInputStream(&quot;open.ses&quot;);\n            ObjectInputStream ObjectInput = new ObjectInputStream(fileInput);\n\n            Object a1 = ObjectInput.readObject();\n            test b1 = (test) a1;\n            testArrey.add(b1);\n\n            Object a2 = ObjectInput.readObject();\n            test b2 = (test) a2;\n            testArrey.add(b2);\n\n            ObjectInput.close();\n        } catch (Exception ex) {\n            System.out.println(&quot;input error&quot;);\n            ex.printStackTrace();\n        }\n    }\n    public static void output(test a) {\n        try {\n            FileOutputStream  fileOut = new FileOutputStream(&quot;open.ses&quot;);\n            ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\n\n            objectOut.writeObject(a);\n\n            objectOut.close();\n        } catch (Exception ex) {\n            System.out.println(&quot;output error&quot;);\n            ex.printStackTrace();\n        }\n    }\n\n\n    public static class test implements Serializable {\n        int age ;\n        String  name ;\n\n        public test(int age , String name ) {\n            this.age = age;\n            this.name = name;\n        }\n    }\n}\n</code></pre>\n<p>as you can see a called output() method two time with new to object of (test)as argument ,and it must write two object on (open.ses)file but when i want to call (.readobject)two times it gives me an error that says one object is saved ............</p>\n<p>how to write more than one object with the help of method like the one i wrote ??</p>\n"},{"tags":["java","multithreading","apache-spark","salesforce","java-threads"],"owner":{"account_id":27163151,"reputation":1,"user_id":20701012,"display_name":"maheshbaliga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675183838,"creation_date":1675183838,"question_id":75300442,"body_markdown":"Even after the job completed its execution, the spark driver continuous to run (for almost 5 minutes) since there are few threads that are waiting. Below is a thread dump of the waiting threads. The application (job) connects to an instance of Salesforce API to get some data, does some transformation and completes. This waiting thread issue is with a particular Salesforce instance. If the application is connected to another instance, threads complete as soon as the job completes. It looks like these threads are not spun. Can you spot the issue? Or any method/tool to debug and find what the issue might be? \r\n\r\n```\r\nTo analyse thread dump - https://fastthread.io/ft-index.jsp\r\n\r\nFull thread dump OpenJDK 64-Bit Server VM (25.352-b08 mixed mode):\r\n\r\n&quot;Attach Listener&quot; #144 daemon prio=9 os_prio=0 tid=0x00007f0f98001000 nid=0x4afd1 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;DestroyJavaVM&quot; #141 prio=5 os_prio=0 tid=0x00007f0fe001d000 nid=0x3e3d4 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;OkHttp something.my.salesforce.com Writer&quot; #90 prio=5 os_prio=0 tid=0x00007f0f70002800 nid=0x4260f waiting on condition [0x00007f0ec9ffe000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &lt;0x00000000d29322d0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\r\n\tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n\r\n&quot;OkHttp ConnectionPool&quot; #88 daemon prio=5 os_prio=0 tid=0x00007f0fe181e000 nid=0x425cd in Object.wait() [0x00007f0fc39f8000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.lang.Object.wait(Object.java:460)\r\n\tat okhttp3.ConnectionPool$1.run(ConnectionPool.java:67)\r\n\t- locked &lt;0x00000000d29601a8&gt; (a okhttp3.ConnectionPool)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n\r\n&quot;OkHttp something.my.salesforce.com&quot; #87 prio=5 os_prio=0 tid=0x00007f0fe181d800 nid=0x425cc runnable [0x00007f0fb96db000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464)\r\n\tat sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\r\n\tat sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1346)\r\n\tat sun.security.ssl.SSLSocketImpl.access$300(SSLSocketImpl.java:73)\r\n\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:962)\r\n\tat okio.Okio$2.read(Okio.java:140)\r\n\tat okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\r\n\tat okio.RealBufferedSource.request(RealBufferedSource.java:68)\r\n\tat okio.RealBufferedSource.require(RealBufferedSource.java:61)\r\n\tat okhttp3.internal.http2.Http2Reader.nextFrame(Http2Reader.java:95)\r\n\tat okhttp3.internal.http2.Http2Connection$ReaderRunnable.execute(Http2Connection.java:609)\r\n\tat okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n\r\n&quot;Abandoned connection cleanup thread&quot; #31 daemon prio=5 os_prio=0 tid=0x00007f0fe36f0800 nid=0x3eb9c in Object.wait() [0x00007f0fc16ce000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\r\n\t- locked &lt;0x00000000d0608350&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:43)\r\n\r\n&quot;org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner&quot; #29 daemon prio=5 os_prio=0 tid=0x00007f0fe2f90000 nid=0x3eb5e in Object.wait() [0x00007f0fc1bcf000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\t- waiting on &lt;0x00000000d0608380&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\r\n\t- locked &lt;0x00000000d0608380&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)\r\n\tat org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner.run(FileSystem.java:3762)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n\r\n&quot;Service Thread&quot; #12 daemon prio=9 os_prio=0 tid=0x00007f0fe0100000 nid=0x3eabd runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C1 CompilerThread3&quot; #11 daemon prio=9 os_prio=0 tid=0x00007f0fe00fc800 nid=0x3eabc waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread2&quot; #10 daemon prio=9 os_prio=0 tid=0x00007f0fe00fa000 nid=0x3eabb waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread1&quot; #9 daemon prio=9 os_prio=0 tid=0x00007f0fe00f8800 nid=0x3eaba waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread0&quot; #8 daemon prio=9 os_prio=0 tid=0x00007f0fe00f5800 nid=0x3eab9 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;JDWP Command Reader&quot; #7 daemon prio=10 os_prio=0 tid=0x00007f0f8c001800 nid=0x3eab7 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;JDWP Event Helper Thread&quot; #6 daemon prio=10 os_prio=0 tid=0x00007f0fe00ef800 nid=0x3e3e7 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;JDWP Transport Listener: dt_socket&quot; #5 daemon prio=10 os_prio=0 tid=0x00007f0fe00eb000 nid=0x3e3e6 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007f0fe00d0800 nid=0x3e3e4 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007f0fe00a1800 nid=0x3e3e1 in Object.wait() [0x00007f0fca9e8000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\r\n\t- locked &lt;0x00000000d0013fc8&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n\tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)\r\n\tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:188)\r\n\r\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007f0fe009d000 nid=0x3e3e0 in Object.wait() [0x00007f0fcaae9000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\tat java.lang.Object.wait(Native Method)\r\n\tat java.lang.Object.wait(Object.java:502)\r\n\tat java.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n\t- locked &lt;0x00000000d0004bb0&gt; (a java.lang.ref.Reference$Lock)\r\n\tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n\r\n&quot;VM Thread&quot; os_prio=0 tid=0x00007f0fe0093000 nid=0x3e3df runnable \r\n\r\n&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0032000 nid=0x3e3d5 runnable \r\n\r\n&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0034000 nid=0x3e3d6 runnable \r\n\r\n&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0035800 nid=0x3e3d7 runnable \r\n\r\n&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0037800 nid=0x3e3d8 runnable \r\n\r\n&quot;GC task thread#4 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0039000 nid=0x3e3d9 runnable \r\n\r\n&quot;GC task thread#5 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe003b000 nid=0x3e3da runnable \r\n\r\n&quot;GC task thread#6 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe003c800 nid=0x3e3db runnable \r\n\r\n&quot;GC task thread#7 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe003e800 nid=0x3e3dc runnable \r\n\r\n&quot;VM Periodic Task Thread&quot; os_prio=0 tid=0x00007f0fe0102800 nid=0x3eabe waiting on condition \r\n\r\nJNI global references: 19237\r\n```\r\n\r\n\r\nI am expecting to find out why these threads are spun only when I connect to one particular instance of Salesforce and not others. Using Jprofiler, I figured out that these are the threads that are waiting due to which the spark driver continuous to run for about 5 minutes. The application completes within 30 seconds. Not able to figure out what is so different about that salesforce instance. The API call to Salesforce is returned within 25 seconds with status 200 OK. \r\n\r\nThese threads are spun when the load method is called from the below code and the same threads continue to run for 5 minutes:\r\n\r\n```\r\ndataframe = sqlContext.read().format(&quot;com.springml.spark.salesforce&quot;).\r\n option(&quot;sessionId&quot;, &lt;bearerToken&gt;).\r\n option(&quot;login&quot;, &lt;instanceUrl&gt;).\r\n option(&quot;soql&quot;, &lt;query&gt;).\r\n option(&quot;version&quot;, &quot;54.0&quot;).\r\n load();\r\n```","title":"Apache Spark multithreading issue with a particular Salesforce instance","body":"<p>Even after the job completed its execution, the spark driver continuous to run (for almost 5 minutes) since there are few threads that are waiting. Below is a thread dump of the waiting threads. The application (job) connects to an instance of Salesforce API to get some data, does some transformation and completes. This waiting thread issue is with a particular Salesforce instance. If the application is connected to another instance, threads complete as soon as the job completes. It looks like these threads are not spun. Can you spot the issue? Or any method/tool to debug and find what the issue might be?</p>\n<pre><code>To analyse thread dump - https://fastthread.io/ft-index.jsp\n\nFull thread dump OpenJDK 64-Bit Server VM (25.352-b08 mixed mode):\n\n&quot;Attach Listener&quot; #144 daemon prio=9 os_prio=0 tid=0x00007f0f98001000 nid=0x4afd1 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;DestroyJavaVM&quot; #141 prio=5 os_prio=0 tid=0x00007f0fe001d000 nid=0x3e3d4 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;OkHttp something.my.salesforce.com Writer&quot; #90 prio=5 os_prio=0 tid=0x00007f0f70002800 nid=0x4260f waiting on condition [0x00007f0ec9ffe000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000d29322d0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\n\n&quot;OkHttp ConnectionPool&quot; #88 daemon prio=5 os_prio=0 tid=0x00007f0fe181e000 nid=0x425cd in Object.wait() [0x00007f0fc39f8000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.Object.wait(Object.java:460)\n    at okhttp3.ConnectionPool$1.run(ConnectionPool.java:67)\n    - locked &lt;0x00000000d29601a8&gt; (a okhttp3.ConnectionPool)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\n\n&quot;OkHttp something.my.salesforce.com&quot; #87 prio=5 os_prio=0 tid=0x00007f0fe181d800 nid=0x425cc runnable [0x00007f0fb96db000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464)\n    at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68)\n    at sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1346)\n    at sun.security.ssl.SSLSocketImpl.access$300(SSLSocketImpl.java:73)\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:962)\n    at okio.Okio$2.read(Okio.java:140)\n    at okio.AsyncTimeout$2.read(AsyncTimeout.java:237)\n    at okio.RealBufferedSource.request(RealBufferedSource.java:68)\n    at okio.RealBufferedSource.require(RealBufferedSource.java:61)\n    at okhttp3.internal.http2.Http2Reader.nextFrame(Http2Reader.java:95)\n    at okhttp3.internal.http2.Http2Connection$ReaderRunnable.execute(Http2Connection.java:609)\n    at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n    at java.lang.Thread.run(Thread.java:750)\n\n&quot;Abandoned connection cleanup thread&quot; #31 daemon prio=5 os_prio=0 tid=0x00007f0fe36f0800 nid=0x3eb9c in Object.wait() [0x00007f0fc16ce000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n    - locked &lt;0x00000000d0608350&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at com.mysql.jdbc.AbandonedConnectionCleanupThread.run(AbandonedConnectionCleanupThread.java:43)\n\n&quot;org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner&quot; #29 daemon prio=5 os_prio=0 tid=0x00007f0fe2f90000 nid=0x3eb5e in Object.wait() [0x00007f0fc1bcf000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d0608380&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n    - locked &lt;0x00000000d0608380&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)\n    at org.apache.hadoop.fs.FileSystem$Statistics$StatisticsDataReferenceCleaner.run(FileSystem.java:3762)\n    at java.lang.Thread.run(Thread.java:750)\n\n&quot;Service Thread&quot; #12 daemon prio=9 os_prio=0 tid=0x00007f0fe0100000 nid=0x3eabd runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C1 CompilerThread3&quot; #11 daemon prio=9 os_prio=0 tid=0x00007f0fe00fc800 nid=0x3eabc waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread2&quot; #10 daemon prio=9 os_prio=0 tid=0x00007f0fe00fa000 nid=0x3eabb waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread1&quot; #9 daemon prio=9 os_prio=0 tid=0x00007f0fe00f8800 nid=0x3eaba waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #8 daemon prio=9 os_prio=0 tid=0x00007f0fe00f5800 nid=0x3eab9 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;JDWP Command Reader&quot; #7 daemon prio=10 os_prio=0 tid=0x00007f0f8c001800 nid=0x3eab7 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;JDWP Event Helper Thread&quot; #6 daemon prio=10 os_prio=0 tid=0x00007f0fe00ef800 nid=0x3e3e7 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;JDWP Transport Listener: dt_socket&quot; #5 daemon prio=10 os_prio=0 tid=0x00007f0fe00eb000 nid=0x3e3e6 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007f0fe00d0800 nid=0x3e3e4 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007f0fe00a1800 nid=0x3e3e1 in Object.wait() [0x00007f0fca9e8000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144)\n    - locked &lt;0x00000000d0013fc8&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165)\n    at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:188)\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007f0fe009d000 nid=0x3e3e0 in Object.wait() [0x00007f0fcaae9000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at java.lang.Object.wait(Object.java:502)\n    at java.lang.ref.Reference.tryHandlePending(Reference.java:191)\n    - locked &lt;0x00000000d0004bb0&gt; (a java.lang.ref.Reference$Lock)\n    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\n\n&quot;VM Thread&quot; os_prio=0 tid=0x00007f0fe0093000 nid=0x3e3df runnable \n\n&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0032000 nid=0x3e3d5 runnable \n\n&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0034000 nid=0x3e3d6 runnable \n\n&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0035800 nid=0x3e3d7 runnable \n\n&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0037800 nid=0x3e3d8 runnable \n\n&quot;GC task thread#4 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe0039000 nid=0x3e3d9 runnable \n\n&quot;GC task thread#5 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe003b000 nid=0x3e3da runnable \n\n&quot;GC task thread#6 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe003c800 nid=0x3e3db runnable \n\n&quot;GC task thread#7 (ParallelGC)&quot; os_prio=0 tid=0x00007f0fe003e800 nid=0x3e3dc runnable \n\n&quot;VM Periodic Task Thread&quot; os_prio=0 tid=0x00007f0fe0102800 nid=0x3eabe waiting on condition \n\nJNI global references: 19237\n</code></pre>\n<p>I am expecting to find out why these threads are spun only when I connect to one particular instance of Salesforce and not others. Using Jprofiler, I figured out that these are the threads that are waiting due to which the spark driver continuous to run for about 5 minutes. The application completes within 30 seconds. Not able to figure out what is so different about that salesforce instance. The API call to Salesforce is returned within 25 seconds with status 200 OK.</p>\n<p>These threads are spun when the load method is called from the below code and the same threads continue to run for 5 minutes:</p>\n<pre><code>dataframe = sqlContext.read().format(&quot;com.springml.spark.salesforce&quot;).\n option(&quot;sessionId&quot;, &lt;bearerToken&gt;).\n option(&quot;login&quot;, &lt;instanceUrl&gt;).\n option(&quot;soql&quot;, &lt;query&gt;).\n option(&quot;version&quot;, &quot;54.0&quot;).\n load();\n</code></pre>\n"},{"tags":["java","time","timezone"],"answers":[{"comments":[{"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"score":0,"creation_date":1306525481,"post_id":5968927,"comment_id":7152627,"body_markdown":"I know `Calendar` instance is particularly expensive to create. Do you think `Joda Time` is better in term of performance and resources?","body":"I know <code>Calendar</code> instance is particularly expensive to create. Do you think <code>Joda Time</code> is better in term of performance and resources?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1306525575,"post_id":5968927,"comment_id":7152649,"body_markdown":"@Harry: Could be - but when you say it&#39;s &quot;particularly expensive&quot; do you mean you&#39;ve profiled/benchmarked your application and checked whether this is actually a performance problem, before worrying about it? (Joda Time may well be faster, admittedly. I&#39;d use it for being a better API though...)","body":"@Harry: Could be - but when you say it&#39;s &quot;particularly expensive&quot; do you mean you&#39;ve profiled/benchmarked your application and checked whether this is actually a performance problem, before worrying about it? (Joda Time may well be faster, admittedly. I&#39;d use it for being a better API though...)"},{"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"score":0,"creation_date":1306526245,"post_id":5968927,"comment_id":7152799,"body_markdown":"I am reading `Effective Java by Bloch`, and in `item 5`, Bloch mention about `Calendar` being particularly expensive, therefore, Bloch recommend change the variable from `local` to `static final` field to avoid object creation. So I was just wondering how Joda Time compare to Calendar. That all","body":"I am reading <code>Effective Java by Bloch</code>, and in <code>item 5</code>, Bloch mention about <code>Calendar</code> being particularly expensive, therefore, Bloch recommend change the variable from <code>local</code> to <code>static final</code> field to avoid object creation. So I was just wondering how Joda Time compare to Calendar. That all"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1305139160,"creation_date":1305138850,"answer_id":5968927,"question_id":5968842,"body_markdown":"I would *definitely* do this in [Joda Time][1] instead. If you *really* want to do this with the built-in API, you need to use `Calendar` to find the local time in a particular time zone - but Joda would make it much simpler.\r\n\r\nYou&#39;d use a [`DateTime`][2] which is in a specific time zone, and possibly take the `LocalTime` from that to compare with some `LocalTime`s you&#39;ve hard-coded (or read from a configuration file etc).\r\n\r\n\r\n  [1]: http://joda-time.sf.net\r\n  [2]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html","title":"Compare the current EST to 2PM EST? How?","body":"<p>I would <em>definitely</em> do this in <a href=\"http://joda-time.sf.net\" rel=\"nofollow\">Joda Time</a> instead. If you <em>really</em> want to do this with the built-in API, you need to use <code>Calendar</code> to find the local time in a particular time zone - but Joda would make it much simpler.</p>\n\n<p>You'd use a <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow\"><code>DateTime</code></a> which is in a specific time zone, and possibly take the <code>LocalTime</code> from that to compare with some <code>LocalTime</code>s you've hard-coded (or read from a configuration file etc).</p>\n"},{"tags":[],"owner":{"account_id":383085,"reputation":3075,"user_id":738711,"display_name":"VirtualTroll"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305138879,"creation_date":1305138879,"answer_id":5968932,"question_id":5968842,"body_markdown":"You should use the date object instead of using a string. To compare use the method date.after and date.before. ","title":"Compare the current EST to 2PM EST? How?","body":"<p>You should use the date object instead of using a string. To compare use the method date.after and date.before. </p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675183738,"creation_date":1675182784,"answer_id":75300220,"question_id":5968842,"body_markdown":"java.time\r\n--\r\n\r\nThe question uses the `java.util` date-time API which was the right thing to do using the Java standard library in 2011. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) was released as part of the **Java 8 standard library** which supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nAlso, notice the following message on the Home-Page of [Joda-Time](https://www.joda.org/joda-time/):\r\n\r\n&gt; **Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this\r\n&gt; project.**\r\n\r\nSolution using `java.time`\r\n--\r\n\r\nYou can use [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) to specify date-time along with its `ZoneId`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;));\r\n            ZonedDateTime then = now.withHour(14).truncatedTo(ChronoUnit.HOURS);\r\n            System.out.println(now);\r\n            System.out.println(then);\r\n    \r\n            // Compare\r\n            if (now.isBefore(then))\r\n                System.out.println(now + &quot; is before &quot; + then);\r\n            else if (now.isEqual(then))\r\n                System.out.println(now + &quot; is equal to &quot; + then);\r\n            else\r\n                System.out.println(now + &quot; is after &quot; + then);\r\n    \r\n            // Another ways to compare\r\n            if (!now.isAfter(then))\r\n                System.out.println(now + &quot; is either before or at &quot; + then);\r\n        }\r\n    }\r\n\r\n**Output as of now**:\r\n\r\n    2023-01-31T11:48:40.191880-05:00[America/New_York]\r\n    2023-01-31T14:00-05:00[America/New_York]\r\n    2023-01-31T11:48:40.191880-05:00[America/New_York] is before 2023-01-31T14:00-05:00[America/New_York]\r\n    2023-01-31T11:48:40.191880-05:00[America/New_York] is either before or at 2023-01-31T14:00-05:00[America/New_York]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/ydhPnE)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n**Do not use three-letter timezone ID**: Note from the Java 7 `Timezone` [documentation](https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html):\r\n\r\n&gt; ### Three-letter time zone IDs\r\n&gt;For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\r\n&gt; also supported. However, **their use is deprecated** because the same\r\n&gt; abbreviation is often used for multiple time zones (for example, &quot;CST&quot;\r\n&gt; could be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\r\n&gt; the Java platform can then only recognize one of them.\r\n\r\n","title":"Compare the current EST to 2PM EST? How?","body":"<h2>java.time</h2>\n<p>The question uses the <code>java.util</code> date-time API which was the right thing to do using the Java standard library in 2011. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> was released as part of the <strong>Java 8 standard library</strong> which supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<p>Also, notice the following message on the Home-Page of <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>:</p>\n<blockquote>\n<p><strong>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this\nproject.</strong></p>\n</blockquote>\n<h2>Solution using <code>java.time</code></h2>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to specify date-time along with its <code>ZoneId</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.temporal.ChronoUnit;\n\nclass Main {\n    public static void main(String[] args) {\n        ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;));\n        ZonedDateTime then = now.withHour(14).truncatedTo(ChronoUnit.HOURS);\n        System.out.println(now);\n        System.out.println(then);\n\n        // Compare\n        if (now.isBefore(then))\n            System.out.println(now + &quot; is before &quot; + then);\n        else if (now.isEqual(then))\n            System.out.println(now + &quot; is equal to &quot; + then);\n        else\n            System.out.println(now + &quot; is after &quot; + then);\n\n        // Another ways to compare\n        if (!now.isAfter(then))\n            System.out.println(now + &quot; is either before or at &quot; + then);\n    }\n}\n</code></pre>\n<p><strong>Output as of now</strong>:</p>\n<pre><code>2023-01-31T11:48:40.191880-05:00[America/New_York]\n2023-01-31T14:00-05:00[America/New_York]\n2023-01-31T11:48:40.191880-05:00[America/New_York] is before 2023-01-31T14:00-05:00[America/New_York]\n2023-01-31T11:48:40.191880-05:00[America/New_York] is either before or at 2023-01-31T14:00-05:00[America/New_York]\n</code></pre>\n<p><a href=\"https://ideone.com/ydhPnE\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<p><strong>Do not use three-letter timezone ID</strong>: Note from the Java 7 <code>Timezone</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<h3>Three-letter time zone IDs</h3>\n<p>For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\nalso supported. However, <strong>their use is deprecated</strong> because the same\nabbreviation is often used for multiple time zones (for example, &quot;CST&quot;\ncould be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\nthe Java platform can then only recognize one of them.</p>\n</blockquote>\n"}],"owner":{"account_id":86417,"reputation":38255,"user_id":240337,"accept_rate":78,"display_name":"Thang Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5968927,"answer_count":3,"score":1,"last_activity_date":1675183738,"creation_date":1305138434,"question_id":5968842,"body_markdown":"So I have this piece of code that would return the current EST\r\n\r\n    Date easternTime = new Date();\r\n    DateFormat format = new SimpleDateFormat(&quot;h:mm a&quot;);\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;EST&quot;));\r\n    return format.format(easternTime);\r\n\r\nlet say it return `x = 12:15PM`\r\n\r\nI want to compare `x` to 3:00PM EST to see if x before or after 3:00PM EST, and/or is x between 3:00PM - 6:00PM EST. Is there a way to do this.\r\n\r\nWe dont have to use `java.util.date`. I take solution with `calendar` as well","title":"Compare the current EST to 2PM EST? How?","body":"<p>So I have this piece of code that would return the current EST</p>\n\n<pre><code>Date easternTime = new Date();\nDateFormat format = new SimpleDateFormat(\"h:mm a\");\nformat.setTimeZone(TimeZone.getTimeZone(\"EST\"));\nreturn format.format(easternTime);\n</code></pre>\n\n<p>let say it return <code>x = 12:15PM</code></p>\n\n<p>I want to compare <code>x</code> to 3:00PM EST to see if x before or after 3:00PM EST, and/or is x between 3:00PM - 6:00PM EST. Is there a way to do this.</p>\n\n<p>We dont have to use <code>java.util.date</code>. I take solution with <code>calendar</code> as well</p>\n"},{"tags":["java","macos","editor","java-9","jshell"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1513594623,"post_id":47866775,"comment_id":82698852,"body_markdown":"Plus one for the specific editors. Just try(assuming you have Atom installed) `/set editor atom` or `/set editor vi` these shall work.","body":"Plus one for the specific editors. Just try(assuming you have Atom installed) <code>&#47;set editor atom</code> or <code>&#47;set editor vi</code> these shall work."},{"owner":{"account_id":1521730,"reputation":5152,"user_id":1421222,"display_name":"Bless"},"score":0,"creation_date":1513594846,"post_id":47866775,"comment_id":82698979,"body_markdown":"Try `/set editor &quot;/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl&quot;`\nor \n`/set editor subl` if `subl` is already in the `PATH`","body":"Try <code>&#47;set editor &quot;&#47;Applications&#47;Sublime Text.app&#47;Contents&#47;SharedSupport&#47;bin&#47;subl&quot;</code> or  <code>&#47;set editor subl</code> if <code>subl</code> is already in the <code>PATH</code>"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1513595085,"post_id":47866775,"comment_id":82699148,"body_markdown":"@Bless For me at least, these result in the same error as in the question.","body":"@Bless For me at least, these result in the same error as in the question."},{"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"score":0,"creation_date":1513597632,"post_id":47866775,"comment_id":82700559,"body_markdown":"@nullpointer even it did not worked for atom... Editing the question for the same.","body":"@nullpointer even it did not worked for atom... Editing the question for the same."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1513598080,"post_id":47866775,"comment_id":82700805,"body_markdown":"@KayV Editing the question with operating system tag, I am though pretty sure this is not java-9, jshell specific. I&#39;ve seem similar issues previously with git as well. Its the application recognition within your OS. for e.g if I simply type `atom` on my terminal, Atom opens up but the same doesn&#39;t work for Sublime. That seems to me the cause of why jshell is not able to open the Sublime editor for me at least. And you didn&#39;t come back with vim editor result, does that work fine?","body":"@KayV Editing the question with operating system tag, I am though pretty sure this is not java-9, jshell specific. I&#39;ve seem similar issues previously with git as well. Its the application recognition within your OS. for e.g if I simply type <code>atom</code> on my terminal, Atom opens up but the same doesn&#39;t work for Sublime. That seems to me the cause of why jshell is not able to open the Sublime editor for me at least. And you didn&#39;t come back with vim editor result, does that work fine?"},{"owner":{"account_id":1521730,"reputation":5152,"user_id":1421222,"display_name":"Bless"},"score":0,"creation_date":1513610481,"post_id":47866775,"comment_id":82708181,"body_markdown":"@nullpointer @KayV Just tried on my mac. Can confirm that `/set editor subl -w` works for me.\nCan you check if `sublime` or `subl` is in the `PATH`?\nAlso, does running `&quot;/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl&quot;` directly on the terminal start Sublime Text?","body":"@nullpointer @KayV Just tried on my mac. Can confirm that <code>&#47;set editor subl -w</code> works for me. Can you check if <code>sublime</code> or <code>subl</code> is in the <code>PATH</code>? Also, does running <code>&quot;&#47;Applications&#47;Sublime Text.app&#47;Contents&#47;SharedSupport&#47;bin&#47;subl&quot;</code> directly on the terminal start Sublime Text?"}],"answers":[{"tags":[],"owner":{"account_id":12532816,"reputation":1,"user_id":9120451,"display_name":"crdzanzicas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513730809,"creation_date":1513730809,"answer_id":47897309,"question_id":47866775,"body_markdown":"It worked for me by supplying the full path to the sublime executable.  E.g on Windows.\r\n\r\n`jshell&gt; /set editor c:\\sublime3\\sublime_text.exe`\r\n","title":"How to set sublime as an external editor for jshell?","body":"<p>It worked for me by supplying the full path to the sublime executable.  E.g on Windows.</p>\n\n<p><code>jshell&gt; /set editor c:\\sublime3\\sublime_text.exe</code></p>\n"},{"comments":[{"owner":{"account_id":740853,"reputation":5144,"user_id":718515,"display_name":"Rafal Borowiec"},"score":0,"creation_date":1580579841,"post_id":47910567,"comment_id":106147047,"body_markdown":"The same applies to `Visual Studio Code`. The same `-w` flag is supported.","body":"The same applies to <code>Visual Studio Code</code>. The same <code>-w</code> flag is supported."}],"tags":[],"owner":{"account_id":1521730,"reputation":5152,"user_id":1421222,"display_name":"Bless"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513787567,"creation_date":1513787567,"answer_id":47910567,"question_id":47866775,"body_markdown":"Mightn&#39;t have worked for the OP. But worked for me. So, posting it here hoping it helps someone.\r\n\r\nIf you can type `subl` on a terminal and if Sublime Text opens (means `subl` is in `PATH`), try:\r\n\r\n    /set editor subl -w\r\n\r\nIf Sublime Text doesn&#39;t open on typing `subl` on terminal, but running `&quot;/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl&quot;` does open Sublime Text (means `subl` is not in `PATH`), try:\r\n\r\n    /set editor &quot;/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl&quot; -w\r\n\r\n`-w` flag is to wait for the files to be closed in Sublime Text before returning.","title":"How to set sublime as an external editor for jshell?","body":"<p>Mightn't have worked for the OP. But worked for me. So, posting it here hoping it helps someone.</p>\n\n<p>If you can type <code>subl</code> on a terminal and if Sublime Text opens (means <code>subl</code> is in <code>PATH</code>), try:</p>\n\n<pre><code>/set editor subl -w\n</code></pre>\n\n<p>If Sublime Text doesn't open on typing <code>subl</code> on terminal, but running <code>\"/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl\"</code> does open Sublime Text (means <code>subl</code> is not in <code>PATH</code>), try:</p>\n\n<pre><code>/set editor \"/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl\" -w\n</code></pre>\n\n<p><code>-w</code> flag is to wait for the files to be closed in Sublime Text before returning.</p>\n"},{"tags":[],"owner":{"account_id":1913170,"reputation":19646,"user_id":1726413,"accept_rate":50,"display_name":"MagGGG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547923492,"creation_date":1547923492,"answer_id":54270265,"question_id":47866775,"body_markdown":"You can specify jshell editor via JSHELLEDITOR user/system variable ","title":"How to set sublime as an external editor for jshell?","body":"<p>You can specify jshell editor via JSHELLEDITOR user/system variable </p>\n"},{"comments":[{"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"score":0,"creation_date":1675093343,"post_id":56544789,"comment_id":132849035,"body_markdown":"This will work in MacOs","body":"This will work in MacOs"}],"tags":[],"owner":{"account_id":12220961,"reputation":1,"user_id":8920031,"display_name":"Adit chandel"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1560259419,"creation_date":1560259419,"answer_id":56544789,"question_id":47866775,"body_markdown":"Even i faced same problem as i was giving command \r\n\r\njshell &gt; /set editor &quot;/Applications/Sublime Text.app&quot; \r\n\r\nbut what&#39;s missing is the exact path to bin directory in content folder of sublime.\r\n\r\n**Solution:** \r\n\r\njshell &gt; \r\n**/set editor &quot;/Applications/SublimeText.app/Contents/SharedSupport/bin/subl&quot;**\r\n\r\nTry this it will work 100%.","title":"How to set sublime as an external editor for jshell?","body":"<p>Even i faced same problem as i was giving command </p>\n\n<p>jshell > /set editor \"/Applications/Sublime Text.app\" </p>\n\n<p>but what's missing is the exact path to bin directory in content folder of sublime.</p>\n\n<p><strong>Solution:</strong> </p>\n\n<p>jshell > \n<strong>/set editor \"/Applications/SublimeText.app/Contents/SharedSupport/bin/subl\"</strong></p>\n\n<p>Try this it will work 100%.</p>\n"},{"tags":[],"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675183430,"creation_date":1675093288,"answer_id":75286737,"question_id":47866775,"body_markdown":"In Windows set full path:\r\n```\r\n   jshell&gt; /set editor C:\\Program Files\\Notepad++\\notepad++.exe\r\n```\r\nPlease do not include inverted commas(&quot; &quot;) in path\r\nIn MacOs use inverted commas with path.\r\n\r\n","title":"How to set sublime as an external editor for jshell?","body":"<p>In Windows set full path:</p>\n<pre><code>   jshell&gt; /set editor C:\\Program Files\\Notepad++\\notepad++.exe\n</code></pre>\n<p>Please do not include inverted commas(&quot; &quot;) in path\nIn MacOs use inverted commas with path.</p>\n"}],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":47910567,"answer_count":5,"score":3,"last_activity_date":1675183430,"creation_date":1513593934,"question_id":47866775,"body_markdown":"According to the jshell documentation:\r\n\r\n&gt; An alternative to editing at the command prompt is to use an external editor. This editor can be used to edit and create snippets, and is especially helpful for multiline snippets. You can configure JShell to use the editor of your choice.\r\n\r\nSo to implement this, i use the following commands:\r\n\r\n    jshell&gt; /set editor sublime\r\n    |  Editor set to: sublime\r\n\r\nAnd then, i tried to edit a snippet as follows:\r\n\r\n    jshell&gt; /edit printName\r\n    |  Edit Error: process IO failure: Cannot run program &quot;subllime&quot;: error=2, No such file or directory\r\n\r\nBut, i got the above error.\r\nSo is it the right way to set editor or something else is required?\r\nI also tried to set Microsoft Word as the editor and specified the exact application path from the Application folder of Mac as follows:\r\n\r\n    jshell&gt; /set editor /Users/karan.verma/Applications/Microsoft Word.app\r\n    |  Editor set to: /Users/karan.verma/Applications/Microsoft Word.app\r\n\r\nEven, when i set the editor as &quot;atom&quot;, i got the same results:\r\n\r\n    jshell&gt; /set editor atom\r\n    |  Editor set to: atom\r\n\r\nBut still it shows the same error. Any help?\r\n\r\n","title":"How to set sublime as an external editor for jshell?","body":"<p>According to the jshell documentation:</p>\n\n<blockquote>\n  <p>An alternative to editing at the command prompt is to use an external editor. This editor can be used to edit and create snippets, and is especially helpful for multiline snippets. You can configure JShell to use the editor of your choice.</p>\n</blockquote>\n\n<p>So to implement this, i use the following commands:</p>\n\n<pre><code>jshell&gt; /set editor sublime\n|  Editor set to: sublime\n</code></pre>\n\n<p>And then, i tried to edit a snippet as follows:</p>\n\n<pre><code>jshell&gt; /edit printName\n|  Edit Error: process IO failure: Cannot run program \"subllime\": error=2, No such file or directory\n</code></pre>\n\n<p>But, i got the above error.\nSo is it the right way to set editor or something else is required?\nI also tried to set Microsoft Word as the editor and specified the exact application path from the Application folder of Mac as follows:</p>\n\n<pre><code>jshell&gt; /set editor /Users/karan.verma/Applications/Microsoft Word.app\n|  Editor set to: /Users/karan.verma/Applications/Microsoft Word.app\n</code></pre>\n\n<p>Even, when i set the editor as \"atom\", i got the same results:</p>\n\n<pre><code>jshell&gt; /set editor atom\n|  Editor set to: atom\n</code></pre>\n\n<p>But still it shows the same error. Any help?</p>\n"},{"tags":["java","json","google-bigquery","google-cloud-dataflow","apache-beam"],"answers":[{"comments":[{"owner":{"account_id":86475,"reputation":1165,"user_id":240441,"accept_rate":62,"display_name":"Rich"},"score":0,"creation_date":1675280705,"post_id":75300321,"comment_id":132897009,"body_markdown":"I had a problem with this approach and the Beam template not compiling. The error was a very vague stack overflow that appeared to be whatever the JavaBeanSchema does to figure out the schema. It might have something to do with my real data class having a lot more going on than my example. In fairness I didn&#39;t dig too deep in this direction, it might be a solvable problem.","body":"I had a problem with this approach and the Beam template not compiling. The error was a very vague stack overflow that appeared to be whatever the JavaBeanSchema does to figure out the schema. It might have something to do with my real data class having a lot more going on than my example. In fairness I didn&#39;t dig too deep in this direction, it might be a solvable problem."}],"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675183204,"creation_date":1675183204,"answer_id":75300321,"question_id":75299400,"body_markdown":"Consider avoiding a list of lists by introducing an intermediate type to hold the inner list:\r\n\r\n```\r\n@DefaultSchema(JavaBeanSchema.class)\r\npublic class MyIntermediateType implements Serializable {\r\n  List&lt;String&gt; innerField;\r\n}\r\n\r\n@DefaultSchema(JavaBeanSchema.class)\r\n// also lombok annotations for getters, setters, builder, constructors, etc.\r\npublic class DataClass implements Serializable {\r\n  String field1;\r\n  List&lt;String&gt; field2;\r\n  List&lt;MyIntermediateType&gt; field3;\r\n}\r\n```\r\n\r\nBigQuery will be able to represent this without further processing (`field3` becomes a repeated `STRUCT` that has one field that is a repeated `STRING`). I hope that Elasticsearch would also be able to interpret this structure, but I don&#39;t know details of Elasticsearch ingestion.","title":"How to best model an &quot;Array of collection&quot; for Apache Beam @JavaBeanSchema and BigQuery?","body":"<p>Consider avoiding a list of lists by introducing an intermediate type to hold the inner list:</p>\n<pre><code>@DefaultSchema(JavaBeanSchema.class)\npublic class MyIntermediateType implements Serializable {\n  List&lt;String&gt; innerField;\n}\n\n@DefaultSchema(JavaBeanSchema.class)\n// also lombok annotations for getters, setters, builder, constructors, etc.\npublic class DataClass implements Serializable {\n  String field1;\n  List&lt;String&gt; field2;\n  List&lt;MyIntermediateType&gt; field3;\n}\n</code></pre>\n<p>BigQuery will be able to represent this without further processing (<code>field3</code> becomes a repeated <code>STRUCT</code> that has one field that is a repeated <code>STRING</code>). I hope that Elasticsearch would also be able to interpret this structure, but I don't know details of Elasticsearch ingestion.</p>\n"}],"owner":{"account_id":86475,"reputation":1165,"user_id":240441,"accept_rate":62,"display_name":"Rich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675183204,"creation_date":1675178971,"question_id":75299400,"body_markdown":"I have a Java class that models data meant for writing to both BigQuery and Elasticsearch. It looks something like this:\r\n```java\r\n@DefaultSchema(JavaBeanSchema.class)\r\n// also lombok annotations for getters, setters, builder, constructors, etc.\r\npublic class DataClass implements Serializable {\r\n  String field1;\r\n  List&lt;String&gt; field2;\r\n  List&lt;List&lt;String&gt;&gt; field3; // this one gives the compiler error below\r\n}\r\n```\r\n\r\nWe try to always use JavaBeanSchema.class for its nice compatibility with org.apache.beam.sdk.values.Row, com.google.api.services.bigquery.model.TableRow, and the org.apache.beam.sdk.io.gcp.bigquery.ToTableRow format function with org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO. Combining these things means we can use BigQueryIO.Write without any explicit schema or coders, minimal boilerplate code.\r\n\r\nCompiling the above class into a Beam template results in an IllegalArgumentException &quot;Array of collection is not supported in BigQuery.&quot; OK - fine, but we still need this class to model the data for Elasticsearch where this schema works fine in JSON.\r\n\r\nI am looking for the simplest way I can do some version of what I need to with minimal code. The solution I currently have is creating a separate class `DataClassForBigQuery` that is essentially a copy of this one except `field3` is just a `List&lt;String&gt;` type, along with a `PTransform&lt;DataClass, DataClassForBigQuery&gt;` to serialize `field3` as a JSON string when they are created. This is a relatively small amount of code, a fairly isolated, but:\r\n\r\n- I don&#39;t love the two classes to model the same data, just means more tests and maintenance\r\n- BQ has a native JSON field type, with some support for querying the values. Since technically the BQ field type of `field3` is STRING, there&#39;s no good way to query/access that data without converting it to something else first. It would be nice if there was a way to annotate &quot;this is a java String type, but interpret it as JSON&quot;.\r\n- I tried modeling the POJO with more complex types to refactor/wrap the nested Lists into a List of Objects and each Object contained a List of Strings. I think this works for Big Query, but Beam wasn&#39;t able to build the template. I believe the error was a stack overflow trying to build the schema.\r\n- If I could use the POJO class as-is, and somehow modify the schema on the fly to change the type of `field3`, and provide a function to format it but still leverage ToTableRow for the rest of it (the real class is large, 20+ fields), I&#39;d try that. But I don&#39;t really want to extend org.apache.beam code to this, that would end up being more work.\r\n\r\nAny ideas?","title":"How to best model an &quot;Array of collection&quot; for Apache Beam @JavaBeanSchema and BigQuery?","body":"<p>I have a Java class that models data meant for writing to both BigQuery and Elasticsearch. It looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DefaultSchema(JavaBeanSchema.class)\n// also lombok annotations for getters, setters, builder, constructors, etc.\npublic class DataClass implements Serializable {\n  String field1;\n  List&lt;String&gt; field2;\n  List&lt;List&lt;String&gt;&gt; field3; // this one gives the compiler error below\n}\n</code></pre>\n<p>We try to always use JavaBeanSchema.class for its nice compatibility with org.apache.beam.sdk.values.Row, com.google.api.services.bigquery.model.TableRow, and the org.apache.beam.sdk.io.gcp.bigquery.ToTableRow format function with org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO. Combining these things means we can use BigQueryIO.Write without any explicit schema or coders, minimal boilerplate code.</p>\n<p>Compiling the above class into a Beam template results in an IllegalArgumentException &quot;Array of collection is not supported in BigQuery.&quot; OK - fine, but we still need this class to model the data for Elasticsearch where this schema works fine in JSON.</p>\n<p>I am looking for the simplest way I can do some version of what I need to with minimal code. The solution I currently have is creating a separate class <code>DataClassForBigQuery</code> that is essentially a copy of this one except <code>field3</code> is just a <code>List&lt;String&gt;</code> type, along with a <code>PTransform&lt;DataClass, DataClassForBigQuery&gt;</code> to serialize <code>field3</code> as a JSON string when they are created. This is a relatively small amount of code, a fairly isolated, but:</p>\n<ul>\n<li>I don't love the two classes to model the same data, just means more tests and maintenance</li>\n<li>BQ has a native JSON field type, with some support for querying the values. Since technically the BQ field type of <code>field3</code> is STRING, there's no good way to query/access that data without converting it to something else first. It would be nice if there was a way to annotate &quot;this is a java String type, but interpret it as JSON&quot;.</li>\n<li>I tried modeling the POJO with more complex types to refactor/wrap the nested Lists into a List of Objects and each Object contained a List of Strings. I think this works for Big Query, but Beam wasn't able to build the template. I believe the error was a stack overflow trying to build the schema.</li>\n<li>If I could use the POJO class as-is, and somehow modify the schema on the fly to change the type of <code>field3</code>, and provide a function to format it but still leverage ToTableRow for the rest of it (the real class is large, 20+ fields), I'd try that. But I don't really want to extend org.apache.beam code to this, that would end up being more work.</li>\n</ul>\n<p>Any ideas?</p>\n"},{"tags":["java","maven","intellij-idea","web-applications","sdk"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1675763331,"post_id":75300315,"comment_id":132993796,"body_markdown":"Show screenshots of your File | Project Structure | **Project** and **Modules** → **Dependencies** settings.","body":"Show screenshots of your File | Project Structure | <b>Project</b> and <b>Modules</b> → <b>Dependencies</b> settings."}],"owner":{"account_id":15898635,"reputation":11,"user_id":11471682,"display_name":"Bugra Yildiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675183179,"creation_date":1675183179,"question_id":75300315,"body_markdown":"I have Maven project that I am working on Intellij. I set up the project with Java 14 SDK but when I try to run, I get an error that says &quot;Module server SDK 14 is not compatible with the source version 17.\r\n\r\n\r\n\r\nUpgrade Module SDK in project settings to 17 or higher.&quot;. When I change the SDK of the project from the project structure, it says &quot;Module XX is imported from Maven. Any changes made in its configuration might be lost after reimporting.&quot;. Then I clicked apply and ran it again. Now I got this error, &quot;java: Cannot run program &quot;/Users/bugrayildiz/Library/Java/JavaVirtualMachines/openjdk-19.0.2/Contents/Home/bin/java&quot; (in directory &quot;/Users/bugrayildiz/Library/Caches/JetBrains/IntelliJIdea2022.3/compile-server&quot;): error=2, No such file or directory&quot;. (Besides that, in my pom.xml file, it shows my java version 17). How can I fix this?","title":"Getting &quot;Java needs to be upgraded&quot; error when I try to run my Maven project on Intellij","body":"<p>I have Maven project that I am working on Intellij. I set up the project with Java 14 SDK but when I try to run, I get an error that says &quot;Module server SDK 14 is not compatible with the source version 17.</p>\n<p>Upgrade Module SDK in project settings to 17 or higher.&quot;. When I change the SDK of the project from the project structure, it says &quot;Module XX is imported from Maven. Any changes made in its configuration might be lost after reimporting.&quot;. Then I clicked apply and ran it again. Now I got this error, &quot;java: Cannot run program &quot;/Users/bugrayildiz/Library/Java/JavaVirtualMachines/openjdk-19.0.2/Contents/Home/bin/java&quot; (in directory &quot;/Users/bugrayildiz/Library/Caches/JetBrains/IntelliJIdea2022.3/compile-server&quot;): error=2, No such file or directory&quot;. (Besides that, in my pom.xml file, it shows my java version 17). How can I fix this?</p>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1675157748,"post_id":75295103,"comment_id":132863184,"body_markdown":"`return Flux.fromArray((Object[]) result);`? (Also, use `if (result instanceof Object[])` as the condition)","body":"<code>return Flux.fromArray((Object[]) result);</code>? (Also, use <code>if (result instanceof Object[])</code> as the condition)"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1675158210,"post_id":75295103,"comment_id":132863348,"body_markdown":"in my case, result is int[], it will throw class cast exception: ` class [I cannot be cast to class [Ljava.lang.Object; ([I and [Ljava.lang.Object; are in module java.base of loader &#39;bootstrap&#39;)`","body":"in my case, result is int[], it will throw class cast exception: ` class [I cannot be cast to class [Ljava.lang.Object; ([I and [Ljava.lang.Object; are in module java.base of loader &#39;bootstrap&#39;)`"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1675158459,"post_id":75295103,"comment_id":132863433,"body_markdown":"but the result is not only int[], it may be Integer[], Dto[], long[] etc","body":"but the result is not only int[], it may be Integer[], Dto[], long[] etc"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1675159423,"post_id":75295103,"comment_id":132863730,"body_markdown":"[`Flux.fromArray`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromArray-T:A-) doesn&#39;t have primitive array overloads, so it wouldn&#39;t work for an `int[]` anyway.","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromArray-T:A-\" rel=\"nofollow noreferrer\"><code>Flux.fromArray</code></a> doesn&#39;t have primitive array overloads, so it wouldn&#39;t work for an <code>int[]</code> anyway."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1675159663,"post_id":75295103,"comment_id":132863799,"body_markdown":"thanks, could you help to summarize to separate answer?","body":"thanks, could you help to summarize to separate answer?"}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1675181796,"post_id":75298406,"comment_id":132871408,"body_markdown":"Note `array instanceof boolean[]` is easier than `array.getClass().equals(boolean[].class)` (etc).","body":"Note <code>array instanceof boolean[]</code> is easier than <code>array.getClass().equals(boolean[].class)</code> (etc)."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675182866,"post_id":75298406,"comment_id":132871812,"body_markdown":"edited my answer since instanceOf is really easier and more readable","body":"edited my answer since instanceOf is really easier and more readable"}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675182822,"creation_date":1675174174,"answer_id":75298406,"question_id":75295103,"body_markdown":"Flux does not work with primitive types, so if you want to use, for example `Flux.fromArray()`, then you should convert your array of primitives to array of objects.\r\n\r\nTo simplify converting there is `ArrayUtils.toObject()` method from `org.apache.commons.lang3.ArrayUtils`, but it has multiple implementations depending on the primitive type: `long`, `byte`, `int` and etc.\r\n\r\nHowever, in your case you have to somehow determine the actual type of values within the array. It is possible, but not really good solution, it is because you honestly have not a good design.\r\n\r\nThe method to achieve this would look like this:\r\n\r\n    public Object[] convert(Object array) {\r\n        Class&lt;?&gt; componentType = array.getClass().getComponentType();\r\n        if (componentType.isPrimitive()) {\r\n            if (array instanceof boolean[]) {\r\n                return ArrayUtils.toObject((boolean[]) array);\r\n\r\n            } else if (array instanceof int[]) {\r\n                return ArrayUtils.toObject((int[]) array);\r\n\r\n            } else if (array instanceof long[]) {\r\n                return ArrayUtils.toObject((long[]) array);\r\n\r\n            } else if (array instanceof short[]) {\r\n                return ArrayUtils.toObject((short[]) array);\r\n\r\n            } else if (array instanceof double[]) {\r\n                return ArrayUtils.toObject((double[]) array);\r\n\r\n            } else if (array instanceof char[]) {\r\n                return ArrayUtils.toObject((char[]) array);\r\n\r\n            } else if (array instanceof byte[]) {\r\n                return ArrayUtils.toObject((byte[]) array);\r\n\r\n            } else if (array instanceof float[]) {\r\n                return ArrayUtils.toObject((float[]) array);\r\n            }\r\n        }\r\n        return (Object[]) array;\r\n    }\r\n\r\nAnd your piece of code :\r\n\r\n    if(result.getClass().isArray()) {\r\n        return Flux.fromArray(convert(result));\r\n    }\r\n\r\nIt would work the way you expected, however, as I said it looks like a bad design.","title":"java how to cast unknown object to an array","body":"<p>Flux does not work with primitive types, so if you want to use, for example <code>Flux.fromArray()</code>, then you should convert your array of primitives to array of objects.</p>\n<p>To simplify converting there is <code>ArrayUtils.toObject()</code> method from <code>org.apache.commons.lang3.ArrayUtils</code>, but it has multiple implementations depending on the primitive type: <code>long</code>, <code>byte</code>, <code>int</code> and etc.</p>\n<p>However, in your case you have to somehow determine the actual type of values within the array. It is possible, but not really good solution, it is because you honestly have not a good design.</p>\n<p>The method to achieve this would look like this:</p>\n<pre><code>public Object[] convert(Object array) {\n    Class&lt;?&gt; componentType = array.getClass().getComponentType();\n    if (componentType.isPrimitive()) {\n        if (array instanceof boolean[]) {\n            return ArrayUtils.toObject((boolean[]) array);\n\n        } else if (array instanceof int[]) {\n            return ArrayUtils.toObject((int[]) array);\n\n        } else if (array instanceof long[]) {\n            return ArrayUtils.toObject((long[]) array);\n\n        } else if (array instanceof short[]) {\n            return ArrayUtils.toObject((short[]) array);\n\n        } else if (array instanceof double[]) {\n            return ArrayUtils.toObject((double[]) array);\n\n        } else if (array instanceof char[]) {\n            return ArrayUtils.toObject((char[]) array);\n\n        } else if (array instanceof byte[]) {\n            return ArrayUtils.toObject((byte[]) array);\n\n        } else if (array instanceof float[]) {\n            return ArrayUtils.toObject((float[]) array);\n        }\n    }\n    return (Object[]) array;\n}\n</code></pre>\n<p>And your piece of code :</p>\n<pre><code>if(result.getClass().isArray()) {\n    return Flux.fromArray(convert(result));\n}\n</code></pre>\n<p>It would work the way you expected, however, as I said it looks like a bad design.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75298406,"answer_count":1,"score":1,"last_activity_date":1675182822,"creation_date":1675157578,"question_id":75295103,"body_markdown":"I have following code:\r\n\r\n    Object result = joinPoint.proceed();\r\n\r\n    if(result instanceof Publisher) {\r\n      return (Publisher&lt;?&gt;)result;\r\n    }\r\n\r\n    if(result instanceof Iterable&lt;?&gt;) {\r\n      return Flux.fromIterable((Iterable&lt;?&gt;)result);\r\n    }\r\n\r\n    if(result.getClass().isArray()) {\r\n      //ERROR HERE: no instance(s) of type variable(s) T exist so that Object conforms to T[]\r\n      return Flux.fromArray(result);\r\n    }\r\nI want to pass the `result` as an array to `Flux.fromArray` but I don&#39;t know how to cast it to an array? Or any better solution? I want to return a Publisher","title":"java how to cast unknown object to an array","body":"<p>I have following code:</p>\n<pre><code>Object result = joinPoint.proceed();\n\nif(result instanceof Publisher) {\n  return (Publisher&lt;?&gt;)result;\n}\n\nif(result instanceof Iterable&lt;?&gt;) {\n  return Flux.fromIterable((Iterable&lt;?&gt;)result);\n}\n\nif(result.getClass().isArray()) {\n  //ERROR HERE: no instance(s) of type variable(s) T exist so that Object conforms to T[]\n  return Flux.fromArray(result);\n}\n</code></pre>\n<p>I want to pass the <code>result</code> as an array to <code>Flux.fromArray</code> but I don't know how to cast it to an array? Or any better solution? I want to return a Publisher</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","avro"],"comments":[{"owner":{"account_id":52748,"reputation":14581,"user_id":157672,"accept_rate":86,"display_name":"Michael Lloyd Lee mlk"},"score":1,"creation_date":1451238172,"post_id":33899417,"comment_id":56708083,"body_markdown":"Down voter, can you please explain why the down vote?","body":"Down voter, can you please explain why the down vote?"},{"owner":{"account_id":2247163,"reputation":4471,"user_id":7417402,"display_name":"Devstr"},"score":1,"creation_date":1519057035,"post_id":33899417,"comment_id":84743945,"body_markdown":"Please see my answer to https://stackoverflow.com/questions/48828067/how-to-convert-nested-avro-genericrecord-to-row/48828303#48828303","body":"Please see my answer to <a href=\"https://stackoverflow.com/questions/48828067/how-to-convert-nested-avro-genericrecord-to-row/48828303#48828303\" title=\"how to convert nested avro genericrecord to row\">stackoverflow.com/questions/48828067/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":97791,"reputation":324387,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1448406105,"creation_date":1448406105,"answer_id":33905532,"question_id":33899417,"body_markdown":"__Disclaimer__:  It&#39;s kind of a dirty hack. It depends on a few things:\r\n\r\n- Python provides a [lightweight Avro processing library](https://pypi.python.org/pypi/avro/1.7.7) and due to its dynamism it doesn&#39;t require typed writers\r\n- an empty Avro file is still a valid document\r\n- Spark schema can be converted to and from JSON\r\n\r\nFollowing code reads an Avro schema file, creates an empty Avro file with given schema, reads it using `spark-csv` and outputs Spark schema as a JSON file.\r\n\r\n&lt;!-- language: python --&gt;\r\n\r\n\r\n    import argparse\r\n    import tempfile\r\n    \r\n    import avro.schema\r\n    from avro.datafile import DataFileWriter\r\n    from avro.io import DatumWriter\r\n    \r\n    from pyspark import SparkContext\r\n    from pyspark.sql import SQLContext\r\n    \r\n    def parse_schema(schema):\r\n        with open(schema) as fr:\r\n            return avro.schema.parse(open(schema).read())\r\n    \r\n    def write_dummy(schema):\r\n        tmp = tempfile.mktemp(suffix=&#39;.avro&#39;)\r\n        with open(tmp, &quot;w&quot;) as fw:\r\n            writer = DataFileWriter(fw, DatumWriter(), schema)\r\n            writer.close()\r\n        return tmp\r\n    \r\n    def write_spark_schema(path, schema):\r\n        with open(path, &#39;w&#39;) as fw:\r\n            fw.write(schema.json())\r\n    \r\n    \r\n    def main():\r\n        parser = argparse.ArgumentParser(description=&#39;Avro schema converter&#39;)\r\n        parser.add_argument(&#39;--schema&#39;)\r\n        parser.add_argument(&#39;--output&#39;)\r\n        args = parser.parse_args()\r\n    \r\n        sc = SparkContext(&#39;local[1]&#39;, &#39;Avro schema converter&#39;)\r\n        sqlContext = SQLContext(sc)\r\n    \r\n        df = (sqlContext.read.format(&#39;com.databricks.spark.avro&#39;)\r\n                .load(write_dummy(parse_schema(args.schema))))\r\n    \r\n        write_spark_schema(args.output, df.schema)\r\n        sc.stop()\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        main()\r\n\r\nUsage:\r\n\r\n    bin/spark-submit --packages com.databricks:spark-avro_2.10:2.0.1 \\ \r\n       avro_to_spark_schema.py \\\r\n       --schema path_to_avro_schema.avsc \\\r\n       --output path_to_spark_schema.json\r\n\r\n\r\nRead schema:\r\n\r\n    import scala.io.Source\r\n    import org.apache.spark.sql.types.{DataType, StructType}\r\n\r\n    val json: String = Source.fromFile(&quot;schema.json&quot;).getLines.toList.head\r\n    val schema: StructType = DataType.fromJson(json).asInstanceOf[StructType]\r\n\r\n\r\n","title":"Avro Schema to spark StructType","body":"<p><strong>Disclaimer</strong>:  It's kind of a dirty hack. It depends on a few things:</p>\n\n<ul>\n<li>Python provides a <a href=\"https://pypi.python.org/pypi/avro/1.7.7\" rel=\"noreferrer\">lightweight Avro processing library</a> and due to its dynamism it doesn't require typed writers</li>\n<li>an empty Avro file is still a valid document</li>\n<li>Spark schema can be converted to and from JSON</li>\n</ul>\n\n<p>Following code reads an Avro schema file, creates an empty Avro file with given schema, reads it using <code>spark-csv</code> and outputs Spark schema as a JSON file.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import argparse\nimport tempfile\n\nimport avro.schema\nfrom avro.datafile import DataFileWriter\nfrom avro.io import DatumWriter\n\nfrom pyspark import SparkContext\nfrom pyspark.sql import SQLContext\n\ndef parse_schema(schema):\n    with open(schema) as fr:\n        return avro.schema.parse(open(schema).read())\n\ndef write_dummy(schema):\n    tmp = tempfile.mktemp(suffix='.avro')\n    with open(tmp, \"w\") as fw:\n        writer = DataFileWriter(fw, DatumWriter(), schema)\n        writer.close()\n    return tmp\n\ndef write_spark_schema(path, schema):\n    with open(path, 'w') as fw:\n        fw.write(schema.json())\n\n\ndef main():\n    parser = argparse.ArgumentParser(description='Avro schema converter')\n    parser.add_argument('--schema')\n    parser.add_argument('--output')\n    args = parser.parse_args()\n\n    sc = SparkContext('local[1]', 'Avro schema converter')\n    sqlContext = SQLContext(sc)\n\n    df = (sqlContext.read.format('com.databricks.spark.avro')\n            .load(write_dummy(parse_schema(args.schema))))\n\n    write_spark_schema(args.output, df.schema)\n    sc.stop()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>bin/spark-submit --packages com.databricks:spark-avro_2.10:2.0.1 \\ \n   avro_to_spark_schema.py \\\n   --schema path_to_avro_schema.avsc \\\n   --output path_to_spark_schema.json\n</code></pre>\n\n<p>Read schema:</p>\n\n<pre><code>import scala.io.Source\nimport org.apache.spark.sql.types.{DataType, StructType}\n\nval json: String = Source.fromFile(\"schema.json\").getLines.toList.head\nval schema: StructType = DataType.fromJson(json).asInstanceOf[StructType]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8792696,"reputation":93,"user_id":6571854,"display_name":"hadooper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527922164,"creation_date":1469912731,"answer_id":38678493,"question_id":33899417,"body_markdown":"pls see if this helps, although little late. I was trying this hard for my current work. I have used schemaconverter from Databricks. I suppose, you were trying to read the avro file with the given schema.\r\n\r\n     val schemaObj = new Schema.Parser().parse(new File(avscfilepath));\r\n     var sparkSchema : StructType = new StructType\r\n     import scala.collection.JavaConversions._     \r\n     for(field &lt;- schemaObj.getFields()){\r\n      sparkSchema = sparkSchema.add(field.name, SchemaConverters.toSqlType(field.schema).dataType)\r\n     }\r\n     sparkSchema","title":"Avro Schema to spark StructType","body":"<p>pls see if this helps, although little late. I was trying this hard for my current work. I have used schemaconverter from Databricks. I suppose, you were trying to read the avro file with the given schema.</p>\n\n<pre><code> val schemaObj = new Schema.Parser().parse(new File(avscfilepath));\n var sparkSchema : StructType = new StructType\n import scala.collection.JavaConversions._     \n for(field &lt;- schemaObj.getFields()){\n  sparkSchema = sparkSchema.add(field.name, SchemaConverters.toSqlType(field.schema).dataType)\n }\n sparkSchema\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7826967,"reputation":985,"user_id":6413835,"display_name":"lbcommer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675182664,"creation_date":1675182664,"answer_id":75300194,"question_id":33899417,"body_markdown":"Using PySpark:\r\n    \r\n    with open(&#39;path/to/avro/file&#39;,&#39;r&#39;) as avro_file:\r\n            avro_scheme = avro_file.read()\r\n        \r\n        df = spark\\\r\n            .read\\\r\n            .format(&quot;avro&quot;)\\\r\n            .option(&quot;avroSchema&quot;, avro_scheme)\\\r\n            .load()\r\n        \r\n        df.schema","title":"Avro Schema to spark StructType","body":"<p>Using PySpark:</p>\n<pre><code>with open('path/to/avro/file','r') as avro_file:\n        avro_scheme = avro_file.read()\n    \n    df = spark\\\n        .read\\\n        .format(&quot;avro&quot;)\\\n        .option(&quot;avroSchema&quot;, avro_scheme)\\\n        .load()\n    \n    df.schema\n</code></pre>\n"}],"owner":{"account_id":52748,"reputation":14581,"user_id":157672,"accept_rate":86,"display_name":"Michael Lloyd Lee mlk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14618,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":3,"score":9,"last_activity_date":1675182664,"creation_date":1448383973,"question_id":33899417,"body_markdown":"This is effectively the same as my [previous question][1], but using Avro rather than JSON as the data format.\r\n\r\nI&#39;m working with a Spark dataframe which could be loading data from one of a few different schema versions:\r\n\r\n    // Version One\r\n    {&quot;namespace&quot;: &quot;com.example.avro&quot;,\r\n     &quot;type&quot;: &quot;record&quot;,\r\n     &quot;name&quot;: &quot;MeObject&quot;,\r\n     &quot;fields&quot;: [\r\n         {&quot;name&quot;: &quot;A&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;int&quot;], &quot;default&quot;: null}\r\n     ]\r\n    }\r\n\r\n    // Version Two\r\n    {&quot;namespace&quot;: &quot;com.example.avro&quot;,\r\n     &quot;type&quot;: &quot;record&quot;,\r\n     &quot;name&quot;: &quot;MeObject&quot;,\r\n     &quot;fields&quot;: [\r\n         {&quot;name&quot;: &quot;A&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;int&quot;], &quot;default&quot;: null},\r\n         {&quot;name&quot;: &quot;B&quot;, &quot;type&quot;: [&quot;null&quot;, &quot;int&quot;], &quot;default&quot;: null}\r\n     ]\r\n    }\r\n\r\nI&#39;m using [Spark Avro][2] to load the data.\r\n\r\n    DataFrame df = context.read()\r\n      .format(&quot;com.databricks.spark.avro&quot;)\r\n      .load(&quot;path/to/avro/file&quot;);\r\n\r\n\r\nwhich may be a Version One file or Version Two file. However I&#39;d like to be able to process it in an identical manner, with the unknown values set to &quot;null&quot;. The recommendation in my previous question was to set the schema, however I do not want to repeat myself writing the schema in both a `.avro` file and as sparks `StructType` and friends. How can I convert the avro schema (either text file or the generated `MeObject.getClassSchema()`) into sparks `StructType`?\r\n\r\nSpark Avro has a [`SchemaConverters`][3], but it is all private and  returns some strange internal object.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33807145/evolving-a-schema-with-spark-dataframe/\r\n  [2]: https://github.com/databricks/spark-avro\r\n  [3]: https://github.com/databricks/spark-avro/blob/master/src/main/scala/com/databricks/spark/avro/SchemaConverters.scala","title":"Avro Schema to spark StructType","body":"<p>This is effectively the same as my <a href=\"https://stackoverflow.com/questions/33807145/evolving-a-schema-with-spark-dataframe/\">previous question</a>, but using Avro rather than JSON as the data format.</p>\n\n<p>I'm working with a Spark dataframe which could be loading data from one of a few different schema versions:</p>\n\n<pre><code>// Version One\n{\"namespace\": \"com.example.avro\",\n \"type\": \"record\",\n \"name\": \"MeObject\",\n \"fields\": [\n     {\"name\": \"A\", \"type\": [\"null\", \"int\"], \"default\": null}\n ]\n}\n\n// Version Two\n{\"namespace\": \"com.example.avro\",\n \"type\": \"record\",\n \"name\": \"MeObject\",\n \"fields\": [\n     {\"name\": \"A\", \"type\": [\"null\", \"int\"], \"default\": null},\n     {\"name\": \"B\", \"type\": [\"null\", \"int\"], \"default\": null}\n ]\n}\n</code></pre>\n\n<p>I'm using <a href=\"https://github.com/databricks/spark-avro\" rel=\"noreferrer\">Spark Avro</a> to load the data.</p>\n\n<pre><code>DataFrame df = context.read()\n  .format(\"com.databricks.spark.avro\")\n  .load(\"path/to/avro/file\");\n</code></pre>\n\n<p>which may be a Version One file or Version Two file. However I'd like to be able to process it in an identical manner, with the unknown values set to \"null\". The recommendation in my previous question was to set the schema, however I do not want to repeat myself writing the schema in both a <code>.avro</code> file and as sparks <code>StructType</code> and friends. How can I convert the avro schema (either text file or the generated <code>MeObject.getClassSchema()</code>) into sparks <code>StructType</code>?</p>\n\n<p>Spark Avro has a <a href=\"https://github.com/databricks/spark-avro/blob/master/src/main/scala/com/databricks/spark/avro/SchemaConverters.scala\" rel=\"noreferrer\"><code>SchemaConverters</code></a>, but it is all private and  returns some strange internal object.</p>\n"},{"tags":["javascript","java","html","css","strapi"],"answers":[{"comments":[{"owner":{"account_id":15191819,"reputation":3481,"user_id":10962364,"display_name":"MagnusEffect"},"score":0,"creation_date":1652449561,"post_id":72230313,"comment_id":127615912,"body_markdown":"I already worked with chrome. Do I need to change browser or try with chrome again,???","body":"I already worked with chrome. Do I need to change browser or try with chrome again,???"}],"tags":[],"owner":{"account_id":6665469,"reputation":412,"user_id":5143231,"display_name":"Paul Corbeau"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1652448285,"creation_date":1652448285,"answer_id":72230313,"question_id":72185760,"body_markdown":"I&#39;ve got the same issue with Strapi. This is due to your brower.\r\nTry again with Chrome it will work.","title":"Not able to create a new collection-type in Strapi Dashboard","body":"<p>I've got the same issue with Strapi. This is due to your brower.\nTry again with Chrome it will work.</p>\n"},{"tags":[],"owner":{"account_id":7594538,"reputation":409,"user_id":5761080,"display_name":"Leffa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658992822,"creation_date":1658992822,"answer_id":73148751,"question_id":72185760,"body_markdown":"`User` collection cannot be edited by default. You only can to add new fields.\r\n\r\nFor the other problems, remove the folder &#39;`node_modules`&#39;, after run `npm install`, in CLI, in root directory, and then `npm run develop`.","title":"Not able to create a new collection-type in Strapi Dashboard","body":"<p><code>User</code> collection cannot be edited by default. You only can to add new fields.</p>\n<p>For the other problems, remove the folder '<code>node_modules</code>', after run <code>npm install</code>, in CLI, in root directory, and then <code>npm run develop</code>.</p>\n"},{"comments":[{"owner":{"account_id":13267027,"reputation":111,"user_id":9579443,"display_name":"Zeeshan Ali Khan"},"score":0,"creation_date":1671905680,"post_id":74179612,"comment_id":132195817,"body_markdown":"in case you are using npm try =&gt; npm run develop","body":"in case you are using npm try =&gt; npm run develop"}],"tags":[],"owner":{"account_id":17314494,"reputation":735,"user_id":12541301,"display_name":"Shakil- The Coding monster"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666606374,"creation_date":1666606374,"answer_id":74179612,"question_id":72185760,"body_markdown":"I have faced the same issue. Use yarn develop instead of npm start. In my case this solved the issue. Thanks","title":"Not able to create a new collection-type in Strapi Dashboard","body":"<p>I have faced the same issue. Use yarn develop instead of npm start. In my case this solved the issue. Thanks</p>\n"},{"tags":[],"owner":{"account_id":24262845,"reputation":11,"user_id":18212188,"display_name":"Muhammad Haseeb Ali Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675182389,"creation_date":1675182283,"answer_id":75300115,"question_id":72185760,"body_markdown":"If you are running the &quot;start&quot; script so you cannot do it whit this.\r\nPlease run it with the &quot;npm run develop&quot; command or you can use yarn as well instead of npm.","title":"Not able to create a new collection-type in Strapi Dashboard","body":"<p>If you are running the &quot;start&quot; script so you cannot do it whit this.\nPlease run it with the &quot;npm run develop&quot; command or you can use yarn as well instead of npm.</p>\n"}],"owner":{"account_id":15191819,"reputation":3481,"user_id":10962364,"display_name":"MagnusEffect"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2209,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74179612,"answer_count":4,"score":4,"last_activity_date":1675182389,"creation_date":1652183247,"question_id":72185760,"body_markdown":"I had just created a STRAPI project using , find docs [here][1]\r\n\r\n\r\n``` \r\nnpx create-strapi-app@latest my-shop1\r\n```\r\n\r\nAnd then sign up to the admin portal. After signing up, I reached `dashboard&gt;&gt;content-Type Builder` . Then as soon as I click on `create new collection type`, the create collection modal is not showing up. Even clicking many times does not help me. Also, I checked whether my mode is development or not, but it is `development`  which is correct. \r\n\r\n\r\n\r\n[![err2][3]][3]\r\n\r\nAlso, I am unable to edit the default `User` collection. On Clicking User above I am getting this in the URL\r\n\r\n```\r\nhttp://localhost:1337/admin/plugins/content-type-builder/content-types/plugin::users-permissions.user\r\n```\r\n\r\n[![err3][2]][2]\r\n\r\nI want to know why I am not able to create any collection? Please help\r\n\r\n\r\n  [1]: https://docs.strapi.io/developer-docs/latest/getting-started/quick-start.html#_1-install-strapi-and-create-a-new-project\r\n  [2]: https://i.stack.imgur.com/csfY3.png\r\n  [3]: https://i.stack.imgur.com/ND5FT.png","title":"Not able to create a new collection-type in Strapi Dashboard","body":"<p>I had just created a STRAPI project using , find docs <a href=\"https://docs.strapi.io/developer-docs/latest/getting-started/quick-start.html#_1-install-strapi-and-create-a-new-project\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>npx create-strapi-app@latest my-shop1\n</code></pre>\n<p>And then sign up to the admin portal. After signing up, I reached <code>dashboard&gt;&gt;content-Type Builder</code> . Then as soon as I click on <code>create new collection type</code>, the create collection modal is not showing up. Even clicking many times does not help me. Also, I checked whether my mode is development or not, but it is <code>development</code>  which is correct.</p>\n<p><a href=\"https://i.stack.imgur.com/ND5FT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ND5FT.png\" alt=\"err2\" /></a></p>\n<p>Also, I am unable to edit the default <code>User</code> collection. On Clicking User above I am getting this in the URL</p>\n<pre><code>http://localhost:1337/admin/plugins/content-type-builder/content-types/plugin::users-permissions.user\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/csfY3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csfY3.png\" alt=\"err3\" /></a></p>\n<p>I want to know why I am not able to create any collection? Please help</p>\n"},{"tags":["python","java","encryption","rsa","jwe"],"answers":[{"comments":[{"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"score":0,"creation_date":1675161489,"post_id":75286110,"comment_id":132864372,"body_markdown":"Thanks for the detailed response! I still have a one questions, and I think it&#39;s the reason that prevented me from using the example in JWCrypto documentation in the first place. My question is, isn&#39;t the code I sent does asymmetric encryption while you code is symmetric since there is no private key? or did I miss where the private key came into play.\nAnd the second question is how did you know that the key I sent is a public key?","body":"Thanks for the detailed response! I still have a one questions, and I think it&#39;s the reason that prevented me from using the example in JWCrypto documentation in the first place. My question is, isn&#39;t the code I sent does asymmetric encryption while you code is symmetric since there is no private key? or did I miss where the private key came into play. And the second question is how did you know that the key I sent is a public key?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1675172556,"post_id":75286110,"comment_id":132867976,"body_markdown":"@EmaIl - The encrypted token contains in the header the information how it has been encrypted, so besides the algorithms it is also specified exactly which keys are used for what. Please see the edit section of my answer for a more detailed explanation.","body":"@EmaIl - The encrypted token contains in the header the information how it has been encrypted, so besides the algorithms it is also specified exactly which keys are used for what. Please see the edit section of my answer for a more detailed explanation."},{"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"score":0,"creation_date":1675179722,"post_id":75286110,"comment_id":132870680,"body_markdown":"Thank you very much for the amazing response! it&#39;s so much clearer now!!","body":"Thank you very much for the amazing response! it&#39;s so much clearer now!!"},{"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"score":0,"creation_date":1675248327,"post_id":75286110,"comment_id":132886154,"body_markdown":"@Topcao - I just read again your edited response and another question came into my mind.\nYou wrote that the private key is not associated at all during the encryption, only during the decryption. but then later on when you explained on how to decrypt it you wrote to use &quot;private RSA key (which must be associated with the public key that was used for encryption)&quot;. So my question is, how can a private key be associated with the public key if we don&#39;t mention the private key at all during the encryption?","body":"@Topcao - I just read again your edited response and another question came into my mind. You wrote that the private key is not associated at all during the encryption, only during the decryption. but then later on when you explained on how to decrypt it you wrote to use &quot;private RSA key (which must be associated with the public key that was used for encryption)&quot;. So my question is, how can a private key be associated with the public key if we don&#39;t mention the private key at all during the encryption?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1675256747,"post_id":75286110,"comment_id":132888738,"body_markdown":"@EmaIl - Remember [RSA key distribution](https://en.wikipedia.org/wiki/RSA_(cryptosystem)#Key_distribution): Before encryption with RSA can take place, the decrypting side generates a key pair (*priv*, *pub*) and sends *pub* to the encrypting side. Only after this key distribution encryption and decryption are performed. The encrypting side encrypts with *pub*, the decrypting side decrypts with *priv*. From this it follows trivially that *priv* and *pub* are associated.","body":"@EmaIl - Remember <a href=\"https://en.wikipedia.org/wiki/RSA_(cryptosystem)#Key_distribution\" rel=\"nofollow noreferrer\">RSA key distribution</a>: Before encryption with RSA can take place, the decrypting side generates a key pair (<i>priv</i>, <i>pub</i>) and sends <i>pub</i> to the encrypting side. Only after this key distribution encryption and decryption are performed. The encrypting side encrypts with <i>pub</i>, the decrypting side decrypts with <i>priv</i>. From this it follows trivially that <i>priv</i> and <i>pub</i> are associated."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675181913,"creation_date":1675090427,"answer_id":75286110,"question_id":75284207,"body_markdown":"In the JWCrypto documentation you can find [examples][1] for the encryption with JWCrypto. You basically only need to insert your values:\r\n\r\n```py\r\nfrom jwcrypto import jwk, jwe\r\nimport json\r\n\r\nspki_pem = &#39;&#39;&#39;-----BEGIN PUBLIC KEY-----\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA9JJaeFiDdB+dGvi3jUzK\r\nUMU73kG6vvc/P+jwZXRKKpJSwf8PU4SapMyFPFFoHwca6Z8vZogF4ghEJ18JipNy\r\nF3BLnfCt1EHuZ15FG1Aywvpi+xw7F0UoJ9DWItBM1SodKXIh1be44/9SiLrpcyRO\r\nKId349zWMOl3IVVxekLPKWTHsy2Iowp7JsjNEK3t9RdV+PAtUzp1ACyqHD/MDYSm\r\npJuEOR9AbmBayaFIWVP+52q1ir7ea88zocmklDg0SGjiRNXq1tUAljWezpKstKQN\r\nz/IZN1kMLQ8SknrlpZL0vjjAnHFlgtLfcwPbESt76surRshfGwwfx8T9AOfXMgEL\r\nNQIDAQAB\r\n-----END PUBLIC KEY-----&#39;&#39;&#39;\r\ndata = {&quot;value&quot;: &quot;Object Encryption&quot;}\r\n\r\npublic_key = jwk.JWK.from_pem(spki_pem.encode(&#39;utf-8&#39;))\r\npayload = json.dumps(data).encode(&#39;utf-8&#39;)\r\nprotected_header = {\r\n    &quot;alg&quot;: &quot;RSA-OAEP-256&quot;,\r\n    &quot;enc&quot;: &quot;A256GCM&quot;,\r\n    &quot;kid&quot;: &quot;a4d4039e-a8c7-4d06-98c8-2bda90ab169c&quot;,\r\n}\r\njwetoken = jwe.JWE(payload, recipient=public_key, protected=protected_header)\r\njewcompact = jwetoken.serialize(True)\r\n\r\nprint(jewcompact)\r\n```\r\n\r\nPossible output:\r\n\r\n```none\r\neyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYTRkNDAzOWUtYThjNy00ZDA2LTk4YzgtMmJkYTkwYWIxNjljIn0.DstnMY6WkdCGA1NC0S4JIU3CNVFuUNQSghQyqkh8RpmUyBvnEelvkmWTTf3AApj4jNflnYL_bp8vbeu8PO6CyF1Pi_gUZ1vE1PHHcLD8VZ2eMiIdG08Qq9L7uDlqTIaM6qX0n_uctsm4Y0rflWXrSbr5iwXHxgOQ5XDgLCgg870tObS3RbK2RzrjYRnQs-_hK4R8LRJgCEKeV__fzmU6nx5jA4qXXs_U3y9Uxs3_4OE-xSelPT_yY5xCMs8fAHvaua92mrRCMSu9cp9iAYW8qu3bYdUFjnWqifOQIUB2HljqMH85tCxS02tBuVPs52b8pgNUckqa_v43BvxTbnwuJg.RWtp5j38l8mz_qoJ.2VBsxt1zyk5rAmSvg3k0eMLzIAPo9ttn-7dLB2nP.k4k9ZnCRRA1im2sbvMLlbQ\r\n```\r\n\r\nAn encrypted token consists of 5 parts, the header, the encrypted key, the IV/nonce, the actual ciphertext and the tag, each separated by `.` and Base64url encoded. Since AES generates a different key and IV/nonce for each encryption and RSA encryption is non-deterministic, a different encrypted token is generated for each encryption except for the first part. So you should not expect that the code generates the same encrypted token that you posted.  \r\nThe generated token can be decrypted using the private key associated with the posted public key and the decryption code of the linked post. This is also the right way for a test. \r\n\r\n-----------\r\n\r\n**Edit:**  \r\nRegarding the first part of your question from the comment: If the header \r\n\r\n```none\r\neyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYTRkNDAzOWUtYThjNy00ZDA2LTk4YzgtMmJkYTkwYWIxNjljIn0\r\n```\r\n\r\nof the encrypted token is Base64url encoded, you get:\r\n\r\n```none\r\n{&quot;alg&quot;:&quot;RSA-OAEP-256&quot;,&quot;enc&quot;:&quot;A256GCM&quot;,&quot;kid&quot;:&quot;a4d4039e-a8c7-4d06-98c8-2bda90ab169c&quot;}\r\n```\r\n\r\nHere *A256GCM* as *enc* means that the plaintext is encrypted with AES-256 in GCM mode (symmetric encryption), with a random key being generated for the AES encryption.  \r\n*RSA-OAEP-256* as *alg* means that this AES key is encrypted with RSA and with OAEP/SHA256 as padding (asymmetric encryption).  \r\nBear in mind that RSA encryption *always* uses the public key (of the recipient).\r\n\r\nSo both cryptography types (symmetric and asymmetric) are involved, which is also called hybrid encryption.  \r\nThe private RSA key does not come into play at all during encryption, but only during decryption, as you can verify in the [linked post][3]. There, the encrypted token is decrypted with the private RSA key (which must be associated with the public key that was used for encryption), meaning more precisely that the symmetric AES key is decrypted with RSA (using the private RSA key), which is then used to decrypt the actual ciphertext.\r\n\r\nRegarding the second part: The format and type of the key can be determined with an ASN.1 parser, e.g. https://lapo.it/asn1js/.  \r\nThe key you posted is an ASN.1/DER encoded public RSA key in X.509/SPKI format that is Base64 encoded. A public RSA key essentially contains modulus and public exponent. A private key also contains the private fields and also uses other formats.\r\n  \r\n[1]: https://jwcrypto.readthedocs.io/en/latest/jwe.html#asymmetric-keys\r\n[3]: https://stackoverflow.com/a/71939454/9014097\r\n","title":"Encrypting java JWEObject with RSA in python","body":"<p>In the JWCrypto documentation you can find <a href=\"https://jwcrypto.readthedocs.io/en/latest/jwe.html#asymmetric-keys\" rel=\"nofollow noreferrer\">examples</a> for the encryption with JWCrypto. You basically only need to insert your values:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from jwcrypto import jwk, jwe\nimport json\n\nspki_pem = '''-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA9JJaeFiDdB+dGvi3jUzK\nUMU73kG6vvc/P+jwZXRKKpJSwf8PU4SapMyFPFFoHwca6Z8vZogF4ghEJ18JipNy\nF3BLnfCt1EHuZ15FG1Aywvpi+xw7F0UoJ9DWItBM1SodKXIh1be44/9SiLrpcyRO\nKId349zWMOl3IVVxekLPKWTHsy2Iowp7JsjNEK3t9RdV+PAtUzp1ACyqHD/MDYSm\npJuEOR9AbmBayaFIWVP+52q1ir7ea88zocmklDg0SGjiRNXq1tUAljWezpKstKQN\nz/IZN1kMLQ8SknrlpZL0vjjAnHFlgtLfcwPbESt76surRshfGwwfx8T9AOfXMgEL\nNQIDAQAB\n-----END PUBLIC KEY-----'''\ndata = {&quot;value&quot;: &quot;Object Encryption&quot;}\n\npublic_key = jwk.JWK.from_pem(spki_pem.encode('utf-8'))\npayload = json.dumps(data).encode('utf-8')\nprotected_header = {\n    &quot;alg&quot;: &quot;RSA-OAEP-256&quot;,\n    &quot;enc&quot;: &quot;A256GCM&quot;,\n    &quot;kid&quot;: &quot;a4d4039e-a8c7-4d06-98c8-2bda90ab169c&quot;,\n}\njwetoken = jwe.JWE(payload, recipient=public_key, protected=protected_header)\njewcompact = jwetoken.serialize(True)\n\nprint(jewcompact)\n</code></pre>\n<p>Possible output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYTRkNDAzOWUtYThjNy00ZDA2LTk4YzgtMmJkYTkwYWIxNjljIn0.DstnMY6WkdCGA1NC0S4JIU3CNVFuUNQSghQyqkh8RpmUyBvnEelvkmWTTf3AApj4jNflnYL_bp8vbeu8PO6CyF1Pi_gUZ1vE1PHHcLD8VZ2eMiIdG08Qq9L7uDlqTIaM6qX0n_uctsm4Y0rflWXrSbr5iwXHxgOQ5XDgLCgg870tObS3RbK2RzrjYRnQs-_hK4R8LRJgCEKeV__fzmU6nx5jA4qXXs_U3y9Uxs3_4OE-xSelPT_yY5xCMs8fAHvaua92mrRCMSu9cp9iAYW8qu3bYdUFjnWqifOQIUB2HljqMH85tCxS02tBuVPs52b8pgNUckqa_v43BvxTbnwuJg.RWtp5j38l8mz_qoJ.2VBsxt1zyk5rAmSvg3k0eMLzIAPo9ttn-7dLB2nP.k4k9ZnCRRA1im2sbvMLlbQ\n</code></pre>\n<p>An encrypted token consists of 5 parts, the header, the encrypted key, the IV/nonce, the actual ciphertext and the tag, each separated by <code>.</code> and Base64url encoded. Since AES generates a different key and IV/nonce for each encryption and RSA encryption is non-deterministic, a different encrypted token is generated for each encryption except for the first part. So you should not expect that the code generates the same encrypted token that you posted.<br />\nThe generated token can be decrypted using the private key associated with the posted public key and the decryption code of the linked post. This is also the right way for a test.</p>\n<hr />\n<p><strong>Edit:</strong><br />\nRegarding the first part of your question from the comment: If the header</p>\n<pre class=\"lang-none prettyprint-override\"><code>eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYTRkNDAzOWUtYThjNy00ZDA2LTk4YzgtMmJkYTkwYWIxNjljIn0\n</code></pre>\n<p>of the encrypted token is Base64url encoded, you get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;alg&quot;:&quot;RSA-OAEP-256&quot;,&quot;enc&quot;:&quot;A256GCM&quot;,&quot;kid&quot;:&quot;a4d4039e-a8c7-4d06-98c8-2bda90ab169c&quot;}\n</code></pre>\n<p>Here <em>A256GCM</em> as <em>enc</em> means that the plaintext is encrypted with AES-256 in GCM mode (symmetric encryption), with a random key being generated for the AES encryption.<br />\n<em>RSA-OAEP-256</em> as <em>alg</em> means that this AES key is encrypted with RSA and with OAEP/SHA256 as padding (asymmetric encryption).<br />\nBear in mind that RSA encryption <em>always</em> uses the public key (of the recipient).</p>\n<p>So both cryptography types (symmetric and asymmetric) are involved, which is also called hybrid encryption.<br />\nThe private RSA key does not come into play at all during encryption, but only during decryption, as you can verify in the <a href=\"https://stackoverflow.com/a/71939454/9014097\">linked post</a>. There, the encrypted token is decrypted with the private RSA key (which must be associated with the public key that was used for encryption), meaning more precisely that the symmetric AES key is decrypted with RSA (using the private RSA key), which is then used to decrypt the actual ciphertext.</p>\n<p>Regarding the second part: The format and type of the key can be determined with an ASN.1 parser, e.g. <a href=\"https://lapo.it/asn1js/\" rel=\"nofollow noreferrer\">https://lapo.it/asn1js/</a>.<br />\nThe key you posted is an ASN.1/DER encoded public RSA key in X.509/SPKI format that is Base64 encoded. A public RSA key essentially contains modulus and public exponent. A private key also contains the private fields and also uses other formats.</p>\n"}],"owner":{"account_id":20979436,"reputation":325,"user_id":15414616,"display_name":"Ema Il"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75286110,"answer_count":1,"score":0,"last_activity_date":1675181913,"creation_date":1675080664,"question_id":75284207,"body_markdown":"I asked a while ago how to do something similar: https://stackoverflow.com/questions/71928580/decrypting-and-encrypting-java-jweobject-with-algorithm-rsa-oaep-256-on-python\r\nNow I have a different encryption key and that code is not working for me anymore.\r\n\r\nI need to be able to encrypt my data: `{&quot;value&quot;: &quot;Object Encryption&quot;}` with JWE using RSA.\r\n\r\nI have this key id: `a4d4039e-a8c7-4d06-98c8-2bda90ab169c` \r\nand this encryption key: \r\n```\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA9JJaeFiDdB+dGvi3jUzKUMU73kG6vvc/P+jwZXRKKpJSwf8PU4SapMyFPFFoHwca6Z8vZogF4ghEJ18JipNyF3BLnfCt1EHuZ15FG1Aywvpi+xw7F0UoJ9DWItBM1SodKXIh1be44/9SiLrpcyROKId349zWMOl3IVVxekLPKWTHsy2Iowp7JsjNEK3t9RdV+PAtUzp1ACyqHD/MDYSmpJuEOR9AbmBayaFIWVP+52q1ir7ea88zocmklDg0SGjiRNXq1tUAljWezpKstKQNz/IZN1kMLQ8SknrlpZL0vjjAnHFlgtLfcwPbESt76surRshfGwwfx8T9AOfXMgELNQIDAQAB\r\n```\r\nand I should get this:\r\n```\r\neyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYTRkNDAzOWUtYThjNy00ZDA2LTk4YzgtMmJkYTkwYWIxNjljIn0.2hGqQVSbgZ9-9Hiz8VZizORpWRR2yioHb8vK6R9tQCpxr0jxBGehNL0K36XfJWJC5KxcxDdD9byeI_YTtB_hYTgsuMTHS5p-4aJ4nLk43Ya5yR8p8nn4s11wbkfSj0jbqSFb_1IOCMgX0Xu8lmnVe7Tjc4vACwBoaM6VpudEsLHpyQ9OxNaa1apbRp-BX3DEVM3l7ltHhMIh_DCRWbC4-LbS51L4RqLWxmihqRA97FYX4HX38Vbt3O__2tq5KfSjq78UEOffEFe_CRg8mXZ1CHgyH4YPMNmjS-jAI4m07Coja4zLXgv7ctFaFQePISLaZLgdp3a0a-Sht5cwwZfAhg.mc7_YA9mg3l7VV5B.ZOnYjkiXx1YSxDIILjcHUXluwW8jqsSO5NuIkto.9KtJGJRS9QevrqZPYYlcTQ\r\n```\r\nThat&#39;s the java code I&#39;m trying to rewrite in python: \r\n```\r\n  private RSAPublicKey getObjectEncryptionKey()\r\n      throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    logger.debug(&quot;Getting object encryption key&quot;);\r\n    if (Objects.isNull(objectEncryptionKey)) {\r\n      objectEncryptionKey = getActiveKey(Algorithm.RSA);\r\n    }\r\n    byte[] encryptionKey = base64Decode(String.valueOf(objectEncryptionKey.getEncryptionKeyValue()).getBytes());\r\n\r\n    KeyFactory keyFactory = getInstance(Algorithm.RSA.name());\r\n    return (RSAPublicKey) keyFactory.generatePublic(new X509EncodedKeySpec(encryptionKey));\r\n  }\r\n\r\n\r\n  public String encryptObject(Object object) {\r\n    logger.debug(&quot;Encrypting object with keyId: {}&quot;, getObjectEncryptionKeyId());\r\n    JsonWebEncryption encryptedObject = getJWEObject(object);\r\n\r\n    try {\r\n      return encryptedObject.getCompactSerialization();\r\n    } catch (JoseException e) {\r\n      throw new CryptoException(&quot;Could not encrypt object/event&quot;, e);\r\n    }\r\n  }\r\n\r\n  private JsonWebEncryption getJWEObject(Object object) {\r\n    JsonWebEncryption jwe = new JsonWebEncryption();\r\n\r\n    try {\r\n      jwe.setAlgorithmHeaderValue(KeyManagementAlgorithmIdentifiers.RSA_OAEP_256);\r\n      jwe.setEncryptionMethodHeaderParameter(ContentEncryptionAlgorithmIdentifiers.AES_256_GCM);\r\n      jwe.setKey(getObjectEncryptionKey());\r\n      jwe.setKeyIdHeaderValue(getObjectEncryptionKeyId());\r\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\r\n      throw new CryptoException(&quot;Could not create JsonWebEncryption&quot;, e);\r\n    }\r\n  }\r\n```\r\nHow is it different from my previous question and what is the correct way to do it in python?\r\n\r\nI tried doing something like that:\r\n```\r\ndef grouper(iterable, n, fillvalue=&#39;&#39;):\r\n    args = [iter(iterable)] * n\r\n    return zip_longest(*args, fillvalue=fillvalue)\r\n\r\n\r\ndef decryption_key_to_pem(decryption_key: str) -&gt; bytes:\r\n    pem = [&#39;-----BEGIN PRIVATE KEY-----&#39;]\r\n    for group in grouper(decryption_key, 64):\r\n        pem.append(&#39;&#39;.join(group))\r\n    pem.append(&#39;-----END PRIVATE KEY-----&#39;)\r\n    return str.encode(&#39;\\n&#39;.join(pem))\r\n\r\n\r\njwk.JWK.from_pem(decryption_key_to_pem(key))\r\n```\r\nbut I get this exception: \r\n```\r\nValueError: (&#39;Could not deserialize key data. The data may be in an incorrect format, it may be encrypted with an unsupported algorithm, or it may be an unsupported key type (e.g. EC curves with explicit parameters).&#39;, [_OpenSSLErrorWithText(code=503841036, lib=60, reason=524556, reason_text=b&#39;error:1E08010C:DECODER routines::unsupported&#39;), _OpenSSLErrorWithText(code=109052072, lib=13, reason=168, reason_text=b&#39;error:068000A8:asn1 encoding routines::wrong tag&#39;), _OpenSSLErrorWithText(code=109576458, lib=13, reason=524554, reason_text=b&#39;error:0688010A:asn1 encoding routines::nested asn1 error&#39;), _OpenSSLErrorWithText(code=109576458, lib=13, reason=524554, reason_text=b&#39;error:0688010A:asn1 encoding routines::nested asn1 error&#39;)])\r\n```\r\nAlso tried something like: \r\n```\r\ndef get_jwe_key(data, encryption_key, encryption_key_id):\r\n    jwe = jwcrypto.jwe.JWE()\r\n    jwe.plaintext = json.dumps(data).encode(&#39;utf-8&#39;)\r\n    jwe.alg = &#39;RSA-OAEP-256&#39;\r\n    jwe.enc = &#39;A256GCM&#39;\r\n    jwe.recipient = encryption_key\r\n    jwe.header = {&#39;kid&#39;: encryption_key_id}\r\n    return jwe\r\n\r\n\r\njwe_key = get_jwe_key(decrypted_data, key, key_id)\r\njwe_key.serialize()\r\n```\r\n\r\nand I get: `jwcrypto.common.InvalidJWEOperation: No available ciphertext`","title":"Encrypting java JWEObject with RSA in python","body":"<p>I asked a while ago how to do something similar: <a href=\"https://stackoverflow.com/questions/71928580/decrypting-and-encrypting-java-jweobject-with-algorithm-rsa-oaep-256-on-python\">Decrypting and encrypting java JWEObject with algorithm RSA-OAEP-256 on python</a>\nNow I have a different encryption key and that code is not working for me anymore.</p>\n<p>I need to be able to encrypt my data: <code>{&quot;value&quot;: &quot;Object Encryption&quot;}</code> with JWE using RSA.</p>\n<p>I have this key id: <code>a4d4039e-a8c7-4d06-98c8-2bda90ab169c</code>\nand this encryption key:</p>\n<pre><code>MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA9JJaeFiDdB+dGvi3jUzKUMU73kG6vvc/P+jwZXRKKpJSwf8PU4SapMyFPFFoHwca6Z8vZogF4ghEJ18JipNyF3BLnfCt1EHuZ15FG1Aywvpi+xw7F0UoJ9DWItBM1SodKXIh1be44/9SiLrpcyROKId349zWMOl3IVVxekLPKWTHsy2Iowp7JsjNEK3t9RdV+PAtUzp1ACyqHD/MDYSmpJuEOR9AbmBayaFIWVP+52q1ir7ea88zocmklDg0SGjiRNXq1tUAljWezpKstKQNz/IZN1kMLQ8SknrlpZL0vjjAnHFlgtLfcwPbESt76surRshfGwwfx8T9AOfXMgELNQIDAQAB\n</code></pre>\n<p>and I should get this:</p>\n<pre><code>eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwia2lkIjoiYTRkNDAzOWUtYThjNy00ZDA2LTk4YzgtMmJkYTkwYWIxNjljIn0.2hGqQVSbgZ9-9Hiz8VZizORpWRR2yioHb8vK6R9tQCpxr0jxBGehNL0K36XfJWJC5KxcxDdD9byeI_YTtB_hYTgsuMTHS5p-4aJ4nLk43Ya5yR8p8nn4s11wbkfSj0jbqSFb_1IOCMgX0Xu8lmnVe7Tjc4vACwBoaM6VpudEsLHpyQ9OxNaa1apbRp-BX3DEVM3l7ltHhMIh_DCRWbC4-LbS51L4RqLWxmihqRA97FYX4HX38Vbt3O__2tq5KfSjq78UEOffEFe_CRg8mXZ1CHgyH4YPMNmjS-jAI4m07Coja4zLXgv7ctFaFQePISLaZLgdp3a0a-Sht5cwwZfAhg.mc7_YA9mg3l7VV5B.ZOnYjkiXx1YSxDIILjcHUXluwW8jqsSO5NuIkto.9KtJGJRS9QevrqZPYYlcTQ\n</code></pre>\n<p>That's the java code I'm trying to rewrite in python:</p>\n<pre><code>  private RSAPublicKey getObjectEncryptionKey()\n      throws NoSuchAlgorithmException, InvalidKeySpecException {\n    logger.debug(&quot;Getting object encryption key&quot;);\n    if (Objects.isNull(objectEncryptionKey)) {\n      objectEncryptionKey = getActiveKey(Algorithm.RSA);\n    }\n    byte[] encryptionKey = base64Decode(String.valueOf(objectEncryptionKey.getEncryptionKeyValue()).getBytes());\n\n    KeyFactory keyFactory = getInstance(Algorithm.RSA.name());\n    return (RSAPublicKey) keyFactory.generatePublic(new X509EncodedKeySpec(encryptionKey));\n  }\n\n\n  public String encryptObject(Object object) {\n    logger.debug(&quot;Encrypting object with keyId: {}&quot;, getObjectEncryptionKeyId());\n    JsonWebEncryption encryptedObject = getJWEObject(object);\n\n    try {\n      return encryptedObject.getCompactSerialization();\n    } catch (JoseException e) {\n      throw new CryptoException(&quot;Could not encrypt object/event&quot;, e);\n    }\n  }\n\n  private JsonWebEncryption getJWEObject(Object object) {\n    JsonWebEncryption jwe = new JsonWebEncryption();\n\n    try {\n      jwe.setAlgorithmHeaderValue(KeyManagementAlgorithmIdentifiers.RSA_OAEP_256);\n      jwe.setEncryptionMethodHeaderParameter(ContentEncryptionAlgorithmIdentifiers.AES_256_GCM);\n      jwe.setKey(getObjectEncryptionKey());\n      jwe.setKeyIdHeaderValue(getObjectEncryptionKeyId());\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException e) {\n      throw new CryptoException(&quot;Could not create JsonWebEncryption&quot;, e);\n    }\n  }\n</code></pre>\n<p>How is it different from my previous question and what is the correct way to do it in python?</p>\n<p>I tried doing something like that:</p>\n<pre><code>def grouper(iterable, n, fillvalue=''):\n    args = [iter(iterable)] * n\n    return zip_longest(*args, fillvalue=fillvalue)\n\n\ndef decryption_key_to_pem(decryption_key: str) -&gt; bytes:\n    pem = ['-----BEGIN PRIVATE KEY-----']\n    for group in grouper(decryption_key, 64):\n        pem.append(''.join(group))\n    pem.append('-----END PRIVATE KEY-----')\n    return str.encode('\\n'.join(pem))\n\n\njwk.JWK.from_pem(decryption_key_to_pem(key))\n</code></pre>\n<p>but I get this exception:</p>\n<pre><code>ValueError: ('Could not deserialize key data. The data may be in an incorrect format, it may be encrypted with an unsupported algorithm, or it may be an unsupported key type (e.g. EC curves with explicit parameters).', [_OpenSSLErrorWithText(code=503841036, lib=60, reason=524556, reason_text=b'error:1E08010C:DECODER routines::unsupported'), _OpenSSLErrorWithText(code=109052072, lib=13, reason=168, reason_text=b'error:068000A8:asn1 encoding routines::wrong tag'), _OpenSSLErrorWithText(code=109576458, lib=13, reason=524554, reason_text=b'error:0688010A:asn1 encoding routines::nested asn1 error'), _OpenSSLErrorWithText(code=109576458, lib=13, reason=524554, reason_text=b'error:0688010A:asn1 encoding routines::nested asn1 error')])\n</code></pre>\n<p>Also tried something like:</p>\n<pre><code>def get_jwe_key(data, encryption_key, encryption_key_id):\n    jwe = jwcrypto.jwe.JWE()\n    jwe.plaintext = json.dumps(data).encode('utf-8')\n    jwe.alg = 'RSA-OAEP-256'\n    jwe.enc = 'A256GCM'\n    jwe.recipient = encryption_key\n    jwe.header = {'kid': encryption_key_id}\n    return jwe\n\n\njwe_key = get_jwe_key(decrypted_data, key, key_id)\njwe_key.serialize()\n</code></pre>\n<p>and I get: <code>jwcrypto.common.InvalidJWEOperation: No available ciphertext</code></p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":10743713,"reputation":61,"user_id":7905840,"display_name":"Nikul Brahmbhatt"},"score":0,"creation_date":1492894197,"post_id":43559962,"comment_id":74179663,"body_markdown":"Thank you much for youe suggetion but i have already maintained &lt;executable&gt;${perl.path}&lt;/executable&gt; in &lt;configuration&gt; tag of last &lt;plugin&gt; tag","body":"Thank you much for youe suggetion but i have already maintained &lt;executable&gt;${perl.path}&lt;/executable&gt; in &lt;configuration&gt; tag of last &lt;plugin&gt; tag"},{"owner":{"account_id":7207915,"reputation":1518,"user_id":5502970,"accept_rate":43,"display_name":"sovas"},"score":0,"creation_date":1492928347,"post_id":43559962,"comment_id":74186238,"body_markdown":"I see. But did you specify value of perl.path variable?","body":"I see. But did you specify value of perl.path variable?"},{"owner":{"account_id":10743713,"reputation":61,"user_id":7905840,"display_name":"Nikul Brahmbhatt"},"score":0,"creation_date":1493002340,"post_id":43559962,"comment_id":74207798,"body_markdown":"i have specified the value of perl.path variable in System Variables &quot;C:\\Program Files\\strawberry\\perl\\bin&quot;.","body":"i have specified the value of perl.path variable in System Variables &quot;C:\\Program Files\\strawberry\\perl\\bin&quot;."}],"tags":[],"owner":{"account_id":7207915,"reputation":1518,"user_id":5502970,"accept_rate":43,"display_name":"sovas"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492868592,"creation_date":1492868592,"answer_id":43559962,"question_id":43559949,"body_markdown":"You forgot to specify `perl.path` variable in `&lt;executable&gt;` tag.\r\n\r\n    &lt;executable&gt;${perl.path}&lt;/executable&gt;\r\n\r\nAdd this to your pom parent:\r\n\r\n    &lt;properties&gt;\r\n        &lt;perl.path&gt;path/to/perl&lt;/perl.path&gt;       \r\n    &lt;/properties&gt;","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter &#39;executable&#39; is missing or invalid","body":"<p>You forgot to specify <code>perl.path</code> variable in <code>&lt;executable&gt;</code> tag.</p>\n\n<pre><code>&lt;executable&gt;${perl.path}&lt;/executable&gt;\n</code></pre>\n\n<p>Add this to your pom parent:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;perl.path&gt;path/to/perl&lt;/perl.path&gt;       \n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52566,"reputation":2246,"user_id":968231,"display_name":"Hod"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512702016,"creation_date":1512702016,"answer_id":47707057,"question_id":43559949,"body_markdown":"As of `exec-maven-plugin` version 1.6.0, it appears `&lt;configuration&gt;` sections within `&lt;execution&gt;` blocks are ignored unless you specify an id.\r\n\r\nTry changing your command line, substituting **exec:exec@foo** for **exec:exec** with the plugin block changed to include an id **foo** as follows:\r\n\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n              &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                      &lt;id&gt;foo&lt;/id&gt;\r\n                      &lt;phase&gt;package&lt;/phase&gt;\r\n                      &lt;goals&gt;&lt;goal&gt;exec&lt;/goal&gt;&lt;/goals&gt;\r\n                      &lt;configuration&gt;\r\n              &lt;executable&gt;${perl.path}&lt;/executable&gt;\r\n                          &lt;arguments&gt;\r\n                              &lt;argument&gt;../tools/scripts/createScript.pl&lt;/argument&gt;\r\n                              &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\r\n                              &lt;argument&gt;ors&lt;/argument&gt;\r\n                              &lt;argument&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/argument&gt;\r\n                              &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\r\n                              &lt;argument&gt;orsadmin&lt;/argument&gt;\r\n                              &lt;argument&gt;org.marketcetera.ors.security.ORSAdminCLI&lt;/argument&gt;\r\n                          &lt;/arguments&gt;\r\n                      &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter &#39;executable&#39; is missing or invalid","body":"<p>As of <code>exec-maven-plugin</code> version 1.6.0, it appears <code>&lt;configuration&gt;</code> sections within <code>&lt;execution&gt;</code> blocks are ignored unless you specify an id.</p>\n\n<p>Try changing your command line, substituting <strong>exec:exec@foo</strong> for <strong>exec:exec</strong> with the plugin block changed to include an id <strong>foo</strong> as follows:</p>\n\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;id&gt;foo&lt;/id&gt;\n                  &lt;phase&gt;package&lt;/phase&gt;\n                  &lt;goals&gt;&lt;goal&gt;exec&lt;/goal&gt;&lt;/goals&gt;\n                  &lt;configuration&gt;\n          &lt;executable&gt;${perl.path}&lt;/executable&gt;\n                      &lt;arguments&gt;\n                          &lt;argument&gt;../tools/scripts/createScript.pl&lt;/argument&gt;\n                          &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\n                          &lt;argument&gt;ors&lt;/argument&gt;\n                          &lt;argument&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/argument&gt;\n                          &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\n                          &lt;argument&gt;orsadmin&lt;/argument&gt;\n                          &lt;argument&gt;org.marketcetera.ors.security.ORSAdminCLI&lt;/argument&gt;\n                      &lt;/arguments&gt;\n                  &lt;/configuration&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17543100,"reputation":129,"user_id":12724927,"display_name":"Mohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639031496,"creation_date":1639031496,"answer_id":70285594,"question_id":43559949,"body_markdown":"I resolved this error by specifying the required plugin in pom.xml as follows\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;-classpath&lt;/argument&gt;\r\n\t\t\t\t\t\t\t&lt;classpath /&gt;\r\n\t\t\t\t\t\t\t&lt;argument&gt;com.ocloud.Alarm.App&lt;/argument&gt;\r\n\t\t\t\t\t\t&lt;/arguments&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter &#39;executable&#39; is missing or invalid","body":"<p>I resolved this error by specifying the required plugin in pom.xml as follows</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath /&gt;\n                        &lt;argument&gt;com.ocloud.Alarm.App&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15890902,"reputation":1,"user_id":11466055,"display_name":"Ahmed Arby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652637989,"creation_date":1652637989,"answer_id":72250960,"question_id":43559949,"body_markdown":"Just compile before execution\r\n\r\n```console\r\nclean compiler:compile exec:java\r\n```","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter &#39;executable&#39; is missing or invalid","body":"<p>Just compile before execution</p>\n<pre><code>clean compiler:compile exec:java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5950528,"reputation":2878,"user_id":4678661,"display_name":"Fabich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675181605,"creation_date":1675181605,"answer_id":75299981,"question_id":43559949,"body_markdown":"This error `The parameter &#39;executable&#39; is missing or invalid` can also happen if the `exec-maven-plugin` plugin is configured in a child maven module and you run the command from the parent directory.\r\n\r\nTo fix that, simple change your working directory to where the plugin is used. ","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter &#39;executable&#39; is missing or invalid","body":"<p>This error <code>The parameter 'executable' is missing or invalid</code> can also happen if the <code>exec-maven-plugin</code> plugin is configured in a child maven module and you run the command from the parent directory.</p>\n<p>To fix that, simple change your working directory to where the plugin is used.</p>\n"}],"owner":{"account_id":10743713,"reputation":61,"user_id":7905840,"display_name":"Nikul Brahmbhatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19420,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1675181605,"creation_date":1492868513,"question_id":43559949,"body_markdown":"When i am trying to execute **mvn -DskipTests=true -Passembly assembly:directory exec:exec** command to make binary i am getting \r\n **Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter &#39;executable&#39; is missing or invalid** error. i have also applied **Source Target 1.8** inside configuration but still i am getting the same error.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    &lt;profile&gt;\r\n          &lt;id&gt;execute&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t\t  &lt;mainClass&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/mainClass&gt;\r\n    \t\t  &lt;systemProperties&gt;\r\n    \t\t      &lt;systemProperty&gt;\r\n    \t\t          &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\r\n    \t\t          &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\r\n    \t\t      &lt;/systemProperty&gt;\r\n    \t\t  &lt;/systemProperties&gt;\r\n    \t\t  &lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n    \t      &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;!-- Command-line execution of the ORS (with DB initialization). --&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;executeDBInit&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t\t&lt;mainClass&gt;org.marketcetera.ors.DBInit&lt;/mainClass&gt;\r\n    \t\t&lt;arguments&gt;\r\n    \t\t  &lt;argument&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/argument&gt;\r\n    \t\t&lt;/arguments&gt;\r\n    \t\t&lt;systemProperties&gt;\r\n    \t\t  &lt;systemProperty&gt;\r\n    \t\t    &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\r\n    \t\t    &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\r\n    \t\t  &lt;/systemProperty&gt;\r\n    \t\t&lt;/systemProperties&gt;\r\n    \t\t&lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n    \t      &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;!-- Command-line execution of the miniscule exchange. --&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;exchange&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t\t&lt;mainClass&gt;org.marketcetera.ors.exchange.Main&lt;/mainClass&gt;\r\n    \t\t&lt;arguments&gt;\r\n    \t\t  &lt;argument&gt;exchange.xml&lt;/argument&gt;\r\n    \t\t&lt;/arguments&gt;\r\n    \t\t&lt;systemProperties&gt;\r\n    \t\t  &lt;systemProperty&gt;\r\n    \t\t    &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\r\n    \t\t    &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\r\n    \t\t  &lt;/systemProperty&gt;\r\n    \t\t&lt;/systemProperties&gt;\r\n    \t\t&lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n    \t      &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;!-- Security administration utility. --&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;cli&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t\t&lt;mainClass&gt;org.marketcetera.ors.security.ORSAdminCLI&lt;/mainClass&gt;\r\n    \t\t&lt;!-- -Dexec.args=&quot;-u admin ...&quot; --&gt;\r\n    \t\t&lt;systemProperties&gt;\r\n    \t\t  &lt;systemProperty&gt;\r\n    \t\t    &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\r\n    \t\t    &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\r\n    \t\t  &lt;/systemProperty&gt;\r\n    \t\t&lt;/systemProperties&gt;\r\n    \t\t&lt;classpathScope&gt;test&lt;/classpathScope&gt;\r\n    \t      &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;!-- Assembly. --&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;assembly&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                  &lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;phase&gt;package&lt;/phase&gt;\r\n                          &lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;\r\n                          &lt;configuration&gt;\r\n                              &lt;formats&gt;&lt;format&gt;dir&lt;/format&gt;&lt;/formats&gt;\r\n                              &lt;descriptors&gt;\r\n                                  &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\r\n                              &lt;/descriptors&gt;\r\n                          &lt;/configuration&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;executions&gt;\r\n                      &lt;execution&gt;\r\n                          &lt;phase&gt;package&lt;/phase&gt;\r\n                          &lt;goals&gt;&lt;goal&gt;exec&lt;/goal&gt;&lt;/goals&gt;\r\n                          &lt;configuration&gt;\r\n      \t\t\t  &lt;executable&gt;${perl.path}&lt;/executable&gt;\r\n                              &lt;arguments&gt;\r\n                                  &lt;argument&gt;../tools/scripts/createScript.pl&lt;/argument&gt;\r\n                                  &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\r\n                                  &lt;argument&gt;ors&lt;/argument&gt;\r\n                                  &lt;argument&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/argument&gt;\r\n                                  &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\r\n                                  &lt;argument&gt;orsadmin&lt;/argument&gt;\r\n                                  &lt;argument&gt;org.marketcetera.ors.security.ORSAdminCLI&lt;/argument&gt;\r\n                              &lt;/arguments&gt;\r\n                          &lt;/configuration&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n","title":"Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter &#39;executable&#39; is missing or invalid","body":"<p>When i am trying to execute <strong>mvn -DskipTests=true -Passembly assembly:directory exec:exec</strong> command to make binary i am getting \n <strong>Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:exec (default) on project ors: The parameter 'executable' is missing or invalid</strong> error. i have also applied <strong>Source Target 1.8</strong> inside configuration but still i am getting the same error.</p>\n\n<pre><code>&lt;profile&gt;\n      &lt;id&gt;execute&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;configuration&gt;\n          &lt;mainClass&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/mainClass&gt;\n          &lt;systemProperties&gt;\n              &lt;systemProperty&gt;\n                  &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\n                  &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\n              &lt;/systemProperty&gt;\n          &lt;/systemProperties&gt;\n          &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n          &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n\n    &lt;!-- Command-line execution of the ORS (with DB initialization). --&gt;\n    &lt;profile&gt;\n      &lt;id&gt;executeDBInit&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;configuration&gt;\n        &lt;mainClass&gt;org.marketcetera.ors.DBInit&lt;/mainClass&gt;\n        &lt;arguments&gt;\n          &lt;argument&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/argument&gt;\n        &lt;/arguments&gt;\n        &lt;systemProperties&gt;\n          &lt;systemProperty&gt;\n            &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\n            &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\n          &lt;/systemProperty&gt;\n        &lt;/systemProperties&gt;\n        &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n          &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n\n    &lt;!-- Command-line execution of the miniscule exchange. --&gt;\n    &lt;profile&gt;\n      &lt;id&gt;exchange&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;configuration&gt;\n        &lt;mainClass&gt;org.marketcetera.ors.exchange.Main&lt;/mainClass&gt;\n        &lt;arguments&gt;\n          &lt;argument&gt;exchange.xml&lt;/argument&gt;\n        &lt;/arguments&gt;\n        &lt;systemProperties&gt;\n          &lt;systemProperty&gt;\n            &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\n            &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\n          &lt;/systemProperty&gt;\n        &lt;/systemProperties&gt;\n        &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n          &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n\n    &lt;!-- Security administration utility. --&gt;\n    &lt;profile&gt;\n      &lt;id&gt;cli&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;goals&gt;&lt;goal&gt;java&lt;/goal&gt;&lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;configuration&gt;\n        &lt;mainClass&gt;org.marketcetera.ors.security.ORSAdminCLI&lt;/mainClass&gt;\n        &lt;!-- -Dexec.args=\"-u admin ...\" --&gt;\n        &lt;systemProperties&gt;\n          &lt;systemProperty&gt;\n            &lt;key&gt;org.marketcetera.appDir&lt;/key&gt;\n            &lt;value&gt;src/test/cmd_exec&lt;/value&gt;\n          &lt;/systemProperty&gt;\n        &lt;/systemProperties&gt;\n        &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n          &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n\n    &lt;!-- Assembly. --&gt;\n    &lt;profile&gt;\n      &lt;id&gt;assembly&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;phase&gt;package&lt;/phase&gt;\n                      &lt;goals&gt;&lt;goal&gt;single&lt;/goal&gt;&lt;/goals&gt;\n                      &lt;configuration&gt;\n                          &lt;formats&gt;&lt;format&gt;dir&lt;/format&gt;&lt;/formats&gt;\n                          &lt;descriptors&gt;\n                              &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\n                          &lt;/descriptors&gt;\n                      &lt;/configuration&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n              &lt;executions&gt;\n                  &lt;execution&gt;\n                      &lt;phase&gt;package&lt;/phase&gt;\n                      &lt;goals&gt;&lt;goal&gt;exec&lt;/goal&gt;&lt;/goals&gt;\n                      &lt;configuration&gt;\n              &lt;executable&gt;${perl.path}&lt;/executable&gt;\n                          &lt;arguments&gt;\n                              &lt;argument&gt;../tools/scripts/createScript.pl&lt;/argument&gt;\n                              &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\n                              &lt;argument&gt;ors&lt;/argument&gt;\n                              &lt;argument&gt;org.marketcetera.ors.OrderRoutingSystem&lt;/argument&gt;\n                              &lt;argument&gt;${project.build.directory}/${project.artifactId}&lt;/argument&gt;\n                              &lt;argument&gt;orsadmin&lt;/argument&gt;\n                              &lt;argument&gt;org.marketcetera.ors.security.ORSAdminCLI&lt;/argument&gt;\n                          &lt;/arguments&gt;\n                      &lt;/configuration&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n"},{"tags":["java","compilation","ant","javac","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675181538,"creation_date":1675181538,"answer_id":75299969,"question_id":75296213,"body_markdown":"I solved with some other attributes to javac element:\r\n\r\n    &lt;javac fork=&quot;true&quot; executable=&quot;C:\\Program Files\\Java\\jdk1.8.0_202\\bin\\javac&quot; includeantruntime=&quot;false&quot; ... /&gt;","title":"Ant cannot compile with cross-release process","body":"<p>I solved with some other attributes to javac element:</p>\n<pre><code>&lt;javac fork=&quot;true&quot; executable=&quot;C:\\Program Files\\Java\\jdk1.8.0_202\\bin\\javac&quot; includeantruntime=&quot;false&quot; ... /&gt;\n</code></pre>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675181538,"creation_date":1675163286,"question_id":75296213,"body_markdown":"I have a ant process to compile a java 1.8 application. Ant is lauched from Eclipse IDE  in Windows running with java 1.17.\r\nIf I try to run Ant process using a separate JDK (1.8), different from the workspace one, I got this error:\r\n[![enter image description here][1]][1]\r\n\r\nI tried to run Ant with the same version of Eclipse (1.17), I had to add these attributes to `&lt;javac&gt;` element:\r\n\r\n    target=&quot;8&quot; source=&quot;8&quot; release=&quot;8&quot;\r\n\r\nThe compilation starts, but it fails with this error:\r\n\r\n     java.lang.IllegalAccessError: class org.adrianwalker.multilinestring.JavacMultilineProcessor (in unnamed module @0x4778ea49) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x4778ea49\r\n\r\nThe failing class (JavacMultilineProcessor) is a annotation processor class.\r\n(http://www.adrianwalker.org/2011/12/java-multiline-string.html)\r\n\r\nDo you have any idea what happened?\r\n\r\n  [1]: https://i.stack.imgur.com/Nkzyy.png","title":"Ant cannot compile with cross-release process","body":"<p>I have a ant process to compile a java 1.8 application. Ant is lauched from Eclipse IDE  in Windows running with java 1.17.\nIf I try to run Ant process using a separate JDK (1.8), different from the workspace one, I got this error:\n<a href=\"https://i.stack.imgur.com/Nkzyy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nkzyy.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to run Ant with the same version of Eclipse (1.17), I had to add these attributes to <code>&lt;javac&gt;</code> element:</p>\n<pre><code>target=&quot;8&quot; source=&quot;8&quot; release=&quot;8&quot;\n</code></pre>\n<p>The compilation starts, but it fails with this error:</p>\n<pre><code> java.lang.IllegalAccessError: class org.adrianwalker.multilinestring.JavacMultilineProcessor (in unnamed module @0x4778ea49) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x4778ea49\n</code></pre>\n<p>The failing class (JavacMultilineProcessor) is a annotation processor class.\n(<a href=\"http://www.adrianwalker.org/2011/12/java-multiline-string.html\" rel=\"nofollow noreferrer\">http://www.adrianwalker.org/2011/12/java-multiline-string.html</a>)</p>\n<p>Do you have any idea what happened?</p>\n"},{"tags":["java","spring-boot","thymeleaf","localdate"],"comments":[{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675082928,"post_id":75284097,"comment_id":132845344,"body_markdown":"Do you have the `thymeleaf-extras-java8time` package too? \nhttps://www.baeldung.com/dates-in-thymeleaf","body":"Do you have the <code>thymeleaf-extras-java8time</code> package too?  <a href=\"https://www.baeldung.com/dates-in-thymeleaf\" rel=\"nofollow noreferrer\">baeldung.com/dates-in-thymeleaf</a>"},{"owner":{"account_id":4131672,"reputation":1,"user_id":3389425,"display_name":"user3389425"},"score":0,"creation_date":1675083355,"post_id":75284097,"comment_id":132845501,"body_markdown":"Yes, i put!\n`\n&lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n\t\t    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n\t\t    &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\n\t\t    &lt;!-- &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;  --&gt;\n\t\t&lt;/dependency&gt;\n`","body":"Yes, i put! ` &lt;dependency&gt;             &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;             &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;         &lt;/dependency&gt;          &lt;dependency&gt;             &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;             &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;         &lt;/dependency&gt;                  &lt;dependency&gt; \t\t    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt; \t\t    &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt; \t\t    &lt;!-- &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;  --&gt; \t\t&lt;/dependency&gt; `"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1675085659,"post_id":75284097,"comment_id":132846282,"body_markdown":"Can you update your question with the entire HTML with the form tag and the controller code?","body":"Can you update your question with the entire HTML with the form tag and the controller code?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1675158477,"post_id":75284097,"comment_id":132863441,"body_markdown":"I do not see `data` used anywhere, except declaration, in your code.","body":"I do not see <code>data</code> used anywhere, except declaration, in your code."},{"owner":{"account_id":4131672,"reputation":1,"user_id":3389425,"display_name":"user3389425"},"score":0,"creation_date":1675172528,"post_id":75284097,"comment_id":132867964,"body_markdown":"@ArvindKumarAvinash changed info, thanks","body":"@ArvindKumarAvinash changed info, thanks"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675172541,"post_id":75284097,"comment_id":132867970,"body_markdown":"And where is that data declared? Your current code hints at that you placed in the controller, which is the wrong place. In your dependencies you don&#39;t need the additional thymeleaf dependencies they are part of the starter, also which version of Spring Boot are you using?","body":"And where is that data declared? Your current code hints at that you placed in the controller, which is the wrong place. In your dependencies you don&#39;t need the additional thymeleaf dependencies they are part of the starter, also which version of Spring Boot are you using?"},{"owner":{"account_id":4131672,"reputation":1,"user_id":3389425,"display_name":"user3389425"},"score":0,"creation_date":1675184198,"post_id":75284097,"comment_id":132872253,"body_markdown":"Excuse, I don&#39;t put the full information .. but now I formated with the class &quot;Prova&quot;.\n&lt;version&gt;2.7.2&lt;/version&gt;","body":"Excuse, I don&#39;t put the full information .. but now I formated with the class &quot;Prova&quot;. &lt;version&gt;2.7.2&lt;/version&gt;"},{"owner":{"account_id":4131672,"reputation":1,"user_id":3389425,"display_name":"user3389425"},"score":0,"creation_date":1675244003,"post_id":75284097,"comment_id":132884728,"body_markdown":"If I change to th:value=&quot;*{dataProva}&quot; show in the view ... but  Controller don&#39;t receive","body":"If I change to th:value=&quot;*{dataProva}&quot; show in the view ... but  Controller don&#39;t receive"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675172411,"post_id":75295209,"comment_id":132867939,"body_markdown":"Don&#39;t add additional information as an answer, instead edit your question.","body":"Don&#39;t add additional information as an answer, instead edit your question."}],"tags":[],"owner":{"account_id":4131672,"reputation":1,"user_id":3389425,"display_name":"user3389425"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675158109,"creation_date":1675158109,"answer_id":75295209,"question_id":75284097,"body_markdown":"here my form:\r\n\r\n        &lt;form th:action=&quot;@{/listaProvas/salvar}&quot; method=&quot;post&quot; th:object=&quot;${prova}&quot; class=&quot;form-row espaco-form&quot; &gt;&lt;!-- card-body --&gt;\r\n\t\t\t\t&lt;input th:field=&quot;*{id}&quot; type=&quot;hidden&quot; id=&quot;id&quot;&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;div class=&quot;col-md-12&quot;&gt;\r\n\t\t\t\t\t&lt;label for=&quot;nome&quot;&gt;Nome&lt;/label&gt;\r\n\t\t\t\t\t&lt;input id=&quot;nome&quot; th:field=&quot;*{nome}&quot; th:errorclass=&quot;is-invalid&quot; class=&quot;form-control&quot; placeholder=&quot;Nome da Prova&quot;\r\n\t\t\t\t\t\tonkeyup=&quot;this.value = this.value.toUpperCase()&quot;&gt;\r\n\t\t\t\t\t&lt;p class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors(&#39;nome&#39;)}&quot; th:errors=&quot;*{nome}&quot;&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;col-md-12&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&lt;div class=&quot;col-md-4 mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;label for=&quot;dataProva&quot;&gt;Data Realiza&#231;&#227;o&lt;/label&gt;\r\n\t\t\t\t\t\t\t&lt;div class=&quot;input-group date&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;input type=&quot;date&quot; class=&quot;form-control&quot; id=&quot;dataProva&quot; th:field=&quot;*{dataProva}&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;p class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors(&#39;dataProva&#39;)}&quot; th:errors=&quot;*{dataProva}&quot;&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;col-md-12&quot; style=&quot;margin-top: 5em;&quot;&gt;\r\n\t\t\t\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t\t\t\t&lt;div class=&quot;col-md-6 mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;a class=&quot;btn btn-danger btn-lg btn-block&quot; th:href=&quot;@{&#39;/listaProvas&#39;}&quot; role=&quot;button&quot;&gt;Voltar&lt;/a&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t\t\t\t\t&lt;div class=&quot;col-md-6 mb-3&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;button class=&quot;btn btn-primary btn-lg btn-block&quot; id=&quot;button-submit&quot; type=&quot;submit&quot; role=&quot;button&quot;&gt;Salvar&lt;/button&gt;\r\n\t\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t\t&lt;/div&gt;\t\r\n\t\t\t\t&lt;/div&gt;\t\r\n\t\t\t&lt;/form&gt;","title":"Thymeleaf input date don&#39;t show and don&#39;t receive value with LocalDate","body":"<p>here my form:</p>\n<pre><code>    &lt;form th:action=&quot;@{/listaProvas/salvar}&quot; method=&quot;post&quot; th:object=&quot;${prova}&quot; class=&quot;form-row espaco-form&quot; &gt;&lt;!-- card-body --&gt;\n            &lt;input th:field=&quot;*{id}&quot; type=&quot;hidden&quot; id=&quot;id&quot;&gt;\n            \n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;label for=&quot;nome&quot;&gt;Nome&lt;/label&gt;\n                &lt;input id=&quot;nome&quot; th:field=&quot;*{nome}&quot; th:errorclass=&quot;is-invalid&quot; class=&quot;form-control&quot; placeholder=&quot;Nome da Prova&quot;\n                    onkeyup=&quot;this.value = this.value.toUpperCase()&quot;&gt;\n                &lt;p class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors('nome')}&quot; th:errors=&quot;*{nome}&quot;&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    \n                    &lt;div class=&quot;col-md-4 mb-3&quot;&gt;\n                        &lt;label for=&quot;dataProva&quot;&gt;Data Realização&lt;/label&gt;\n                        &lt;div class=&quot;input-group date&quot;&gt;\n                            &lt;input type=&quot;date&quot; class=&quot;form-control&quot; id=&quot;dataProva&quot; th:field=&quot;*{dataProva}&quot;/&gt;\n                        &lt;/div&gt;\n                        &lt;p class=&quot;alert alert-danger&quot; th:if=&quot;${#fields.hasErrors('dataProva')}&quot; th:errors=&quot;*{dataProva}&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col-md-12&quot; style=&quot;margin-top: 5em;&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;div class=&quot;col-md-6 mb-3&quot;&gt;\n                        &lt;a class=&quot;btn btn-danger btn-lg btn-block&quot; th:href=&quot;@{'/listaProvas'}&quot; role=&quot;button&quot;&gt;Voltar&lt;/a&gt;\n                    &lt;/div&gt;\n    \n                    &lt;div class=&quot;col-md-6 mb-3&quot;&gt;\n                        &lt;button class=&quot;btn btn-primary btn-lg btn-block&quot; id=&quot;button-submit&quot; type=&quot;submit&quot; role=&quot;button&quot;&gt;Salvar&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;  \n            &lt;/div&gt;  \n        &lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":4131672,"reputation":1,"user_id":3389425,"display_name":"user3389425"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675181511,"creation_date":1675079993,"question_id":75284097,"body_markdown":"I have in my form any inputs with date value, but don&#39;t show value. If I input the date when sent to backend don&#39;t receive this information. I use LocalDate\r\n\r\nI&#39;m use this dependencies:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\r\n\t\t    &lt;!-- &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;  --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nClass\r\n\r\n    public class Prova {\r\n       @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n       private LocalDate dataProva;\r\n}\r\n\r\n    \r\n\r\nController\r\n\r\n    @PostMapping(&quot;/salvar&quot;)\r\n\tpublic ModelAndView salvarProva(@ModelAttribute Prova prova, BindingResult result) {\r\n\t\ttry {\r\n\t\t\tif (result.hasErrors()) {\r\n\t\t\t\tLOGGER.error(&quot;ERRO EM CAMPOS AO SALVAR PROVA {}&quot;, result.getAllErrors());\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\tif(prova.getId() != null) {\r\n\t\t\t\tprovaService.alterar(prova);\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tif(provaService.existeProvaDataSituacao(prova.getDataProva(), SituacaoRealizacaoProvaEnum.ABERTA)) {\r\n\t\t\t\t\tthrow new ValidacaoDadosException(String.format(&quot;J&#193; EXISTE UMA PROVA EM ABERTO PARA A DATA {}&quot;, prova.getDataProva()));\r\n\t\t\t\t}\r\n\t\t\t\tprovaService.adicinar(prova);\r\n\t\t\t}\r\n\t\t\treturn listarProvas();\r\n\t\t} catch (ValidacaoDadosException e) {\r\n\t\t\tLOGGER.error(&quot;ERRO AO ADICIONAR/ALTERAR A PROVA &quot;, e);\r\n\t\t\tModelAndView mv = new ModelAndView(&quot;/admin/prova/form&quot;);\r\n\t\t\tmv.addObject(&quot;status&quot;, &quot;501&quot;);\r\n\t\t\tmv.addObject(&quot;message&quot;, &quot;Ocorreu o seguinte erro &quot; + e);\r\n\t\t\treturn mv;\r\n\t\t}\r\n\t\t\r\n\t}","title":"Thymeleaf input date don&#39;t show and don&#39;t receive value with LocalDate","body":"<p>I have in my form any inputs with date value, but don't show value. If I input the date when sent to backend don't receive this information. I use LocalDate</p>\n<p>I'm use this dependencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\n        &lt;!-- &lt;version&gt;3.0.1.RELEASE&lt;/version&gt;  --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Class</p>\n<pre><code>public class Prova {\n   @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\n   private LocalDate dataProva;\n</code></pre>\n<p>}</p>\n<p>Controller</p>\n<pre><code>@PostMapping(&quot;/salvar&quot;)\npublic ModelAndView salvarProva(@ModelAttribute Prova prova, BindingResult result) {\n    try {\n        if (result.hasErrors()) {\n            LOGGER.error(&quot;ERRO EM CAMPOS AO SALVAR PROVA {}&quot;, result.getAllErrors());\n        }\n                    \n        if(prova.getId() != null) {\n            provaService.alterar(prova);\n        } else {\n            \n            if(provaService.existeProvaDataSituacao(prova.getDataProva(), SituacaoRealizacaoProvaEnum.ABERTA)) {\n                throw new ValidacaoDadosException(String.format(&quot;JÁ EXISTE UMA PROVA EM ABERTO PARA A DATA {}&quot;, prova.getDataProva()));\n            }\n            provaService.adicinar(prova);\n        }\n        return listarProvas();\n    } catch (ValidacaoDadosException e) {\n        LOGGER.error(&quot;ERRO AO ADICIONAR/ALTERAR A PROVA &quot;, e);\n        ModelAndView mv = new ModelAndView(&quot;/admin/prova/form&quot;);\n        mv.addObject(&quot;status&quot;, &quot;501&quot;);\n        mv.addObject(&quot;message&quot;, &quot;Ocorreu o seguinte erro &quot; + e);\n        return mv;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":0,"creation_date":1666613362,"post_id":42007841,"comment_id":130971294,"body_markdown":"See https://www.baeldung.com/java-mono-list-to-flux","body":"See <a href=\"https://www.baeldung.com/java-mono-list-to-flux\" rel=\"nofollow noreferrer\">baeldung.com/java-mono-list-to-flux</a>"}],"answers":[{"comments":[{"owner":{"account_id":7146897,"reputation":1723,"user_id":5462308,"display_name":"RJ.Hwang"},"score":2,"creation_date":1521530685,"post_id":42009589,"comment_id":85757476,"body_markdown":"The return value of method [Mono.flatMap](https://github.com/reactor/reactor-core/blob/v3.1.5.RELEASE/reactor-core/src/main/java/reactor/core/publisher/Mono.java#L2071) is Mono, not Flux.","body":"The return value of method <a href=\"https://github.com/reactor/reactor-core/blob/v3.1.5.RELEASE/reactor-core/src/main/java/reactor/core/publisher/Mono.java#L2071\" rel=\"nofollow noreferrer\">Mono.flatMap</a> is Mono, not Flux."},{"owner":{"account_id":2657731,"reputation":542,"user_id":2298063,"display_name":"rhozet"},"score":0,"creation_date":1574332378,"post_id":42009589,"comment_id":104199124,"body_markdown":"@SimonBasl&#233; why does the member reference operator does not work in kotlin?\n` Mono.just(listOfElements).flatMapMany(Flux::fromIterable)`\n //this does not work `\nI have to write code like the one below\n\n\n`Mono.just(listOfElements).flatMapMany{ ` Flux.fromIterable(it)  } `","body":"@SimonBasl&#233; why does the member reference operator does not work in kotlin? ` Mono.just(listOfElements).flatMapMany(Flux::fromIterable)`  //this does not work ` I have to write code like the one below   <code>Mono.just(listOfElements).flatMapMany{ </code> Flux.fromIterable(it)  } `"},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":0,"creation_date":1574424786,"post_id":42009589,"comment_id":104238431,"body_markdown":"@rhozet no idea, that works in Java AFAIK so... question for kotlin compiler specialists?","body":"@rhozet no idea, that works in Java AFAIK so... question for kotlin compiler specialists?"},{"owner":{"account_id":2657731,"reputation":542,"user_id":2298063,"display_name":"rhozet"},"score":0,"creation_date":1575198520,"post_id":42009589,"comment_id":104478502,"body_markdown":"yes it works in Java, probably question for compiler specialists :)","body":"yes it works in Java, probably question for compiler specialists :)"},{"owner":{"account_id":2322684,"reputation":451,"user_id":2037965,"accept_rate":80,"display_name":"lxdr"},"score":0,"creation_date":1586551205,"post_id":42009589,"comment_id":108177451,"body_markdown":"I believe https://youtrack.jetbrains.com/issue/KT-13003 is why the function reference doesn&#39;t work in Kotlin","body":"I believe <a href=\"https://youtrack.jetbrains.com/issue/KT-13003\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-13003</a> is why the function reference doesn&#39;t work in Kotlin"}],"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"comment_count":5,"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1521531811,"creation_date":1486059748,"answer_id":42009589,"question_id":42007841,"body_markdown":"In Reactor 3, the `from` operator has been specialized into a few variants, depending on the original source (array, iterable, etc...).\r\n\r\nUse `yourMono.flatMapMany(Flux::fromIterable)` in your case.","title":"How to convert Mono&lt;List&lt;String&gt;&gt; into Flux&lt;String&gt;","body":"<p>In Reactor 3, the <code>from</code> operator has been specialized into a few variants, depending on the original source (array, iterable, etc...).</p>\n\n<p>Use <code>yourMono.flatMapMany(Flux::fromIterable)</code> in your case.</p>\n"},{"tags":[],"owner":{"account_id":5995486,"reputation":616,"user_id":4710245,"display_name":"Anthony Pi&#241;ero"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533074724,"creation_date":1533074724,"answer_id":51622762,"question_id":42007841,"body_markdown":"Thanks Simon, I implemented something like this:\r\n\r\n    List&lt;Object&gt; dbObjects = ListObjectsBD();\r\n        List&lt;Dao&gt; daos = mapperObjToDao(dbObjects);\r\n        Flux&lt;Dao&gt; daoFlux = Mono.just(daos).flatMapMany(Flux::fromIterable);","title":"How to convert Mono&lt;List&lt;String&gt;&gt; into Flux&lt;String&gt;","body":"<p>Thanks Simon, I implemented something like this:</p>\n\n<pre><code>List&lt;Object&gt; dbObjects = ListObjectsBD();\n    List&lt;Dao&gt; daos = mapperObjToDao(dbObjects);\n    Flux&lt;Dao&gt; daoFlux = Mono.just(daos).flatMapMany(Flux::fromIterable);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":129800,"reputation":3816,"user_id":328616,"accept_rate":64,"display_name":"Pin"},"score":0,"creation_date":1589654899,"post_id":51629537,"comment_id":109381917,"body_markdown":"Note that `Flux.mergeSequential` subscribes to each source sequentially without waiting for completion in between. If you strictly need the next `Mono` to happen after the previous one has finished (e.g. you&#39;re publishing to an event queue and order matters), you should use `Flux.concat(monos)`.","body":"Note that <code>Flux.mergeSequential</code> subscribes to each source sequentially without waiting for completion in between. If you strictly need the next <code>Mono</code> to happen after the previous one has finished (e.g. you&#39;re publishing to an event queue and order matters), you should use <code>Flux.concat(monos)</code>."}],"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1533114904,"creation_date":1533114904,"answer_id":51629537,"question_id":42007841,"body_markdown":"I think that probably `Flux::mergeSequential` static factory fits better here:\r\n\r\n     Iterable&lt;Mono&lt;String&gt;&gt; monos = ...\r\n     Flux&lt;String&gt; f = Flux.mergeSequential(monos);\r\n\r\nThis kind of merge (sequential) will maintain the ordering inside given source iterable, and will also subscribe/request eagerly from all participating sources (so more parallelization expected while computing mono results).","title":"How to convert Mono&lt;List&lt;String&gt;&gt; into Flux&lt;String&gt;","body":"<p>I think that probably <code>Flux::mergeSequential</code> static factory fits better here:</p>\n\n<pre><code> Iterable&lt;Mono&lt;String&gt;&gt; monos = ...\n Flux&lt;String&gt; f = Flux.mergeSequential(monos);\n</code></pre>\n\n<p>This kind of merge (sequential) will maintain the ordering inside given source iterable, and will also subscribe/request eagerly from all participating sources (so more parallelization expected while computing mono results).</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675181200,"creation_date":1675180256,"answer_id":75299668,"question_id":42007841,"body_markdown":"Another way would be using [flatMapIterable()][1]\r\n\r\n&gt; Transform the item emitted by this Mono into Iterable, then forward\r\n&gt; its elements into the returned Flux.\r\n\r\nSo it looks like this:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    strings.add(&quot;hello&quot;);\r\n    strings.add(&quot;world&quot;);\r\n    strings.add(&quot;!&quot;);\r\n\r\n    Mono&lt;List&lt;String&gt;&gt; monoList = Mono.just(strings);\r\n\r\n    Flux&lt;String&gt; flux = monoList.flatMapIterable(list -&gt; list);\r\n\r\nOr replace lambda `list -&gt; list` with `Function.identity()`\r\n\r\n    Flux&lt;String&gt; flux = monoList.flatMapIterable(Function.identity());\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMapIterable-java.util.function.Function-","title":"How to convert Mono&lt;List&lt;String&gt;&gt; into Flux&lt;String&gt;","body":"<p>Another way would be using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#flatMapIterable-java.util.function.Function-\" rel=\"nofollow noreferrer\">flatMapIterable()</a></p>\n<blockquote>\n<p>Transform the item emitted by this Mono into Iterable, then forward\nits elements into the returned Flux.</p>\n</blockquote>\n<p>So it looks like this:</p>\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\nstrings.add(&quot;hello&quot;);\nstrings.add(&quot;world&quot;);\nstrings.add(&quot;!&quot;);\n\nMono&lt;List&lt;String&gt;&gt; monoList = Mono.just(strings);\n\nFlux&lt;String&gt; flux = monoList.flatMapIterable(list -&gt; list);\n</code></pre>\n<p>Or replace lambda <code>list -&gt; list</code> with <code>Function.identity()</code></p>\n<pre><code>Flux&lt;String&gt; flux = monoList.flatMapIterable(Function.identity());\n</code></pre>\n"}],"owner":{"account_id":2362473,"reputation":595,"user_id":2068867,"accept_rate":75,"display_name":"Mavo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55962,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":42009589,"answer_count":4,"score":43,"last_activity_date":1675181200,"creation_date":1486054201,"question_id":42007841,"body_markdown":"I&#39;m converting small project written in RxJava 1.x to Reactor 3.x. All is good, except that I could not find out how to replace `flatMap(Observable::from)` with an appropriate counterpart. I have `Mono&lt;List&lt;String&gt;&gt;` and I need to convert it to `Flux&lt;String&gt;`.","title":"How to convert Mono&lt;List&lt;String&gt;&gt; into Flux&lt;String&gt;","body":"<p>I'm converting small project written in RxJava 1.x to Reactor 3.x. All is good, except that I could not find out how to replace <code>flatMap(Observable::from)</code> with an appropriate counterpart. I have <code>Mono&lt;List&lt;String&gt;&gt;</code> and I need to convert it to <code>Flux&lt;String&gt;</code>.</p>\n"},{"tags":["java","image-processing","imagej","fiji"],"owner":{"account_id":27667952,"reputation":11,"user_id":21119387,"display_name":"MxIhsaan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675181184,"creation_date":1675181184,"question_id":75299897,"body_markdown":"The idea of my program is similar to the adjust brightness/contrast built-in plugin. I want to have the image in one window where you can see it with varying b/c values. \r\n\r\nThe original image should be saved before I make any changes to it so that I can go back to the original and make more changes to that instead of the new image created after using the setDisplayRange(), which revert the b/c settings back to how they were in the original. This should all happen in the same window. I don&#39;t want to create a new window each time to display the changes I make.\r\n\r\n\r\n\r\n```\r\nImagePlus imp = WindowManager.getCurrentImage();                                             \r\nImageProcessor ip = imp.getProcessor();                         \r\nip.snapshot();                                                                               \r\nimp.setDisplayRange(10, 30);                                                                 \r\nThread.sleep(1000);                                                                          \r\nip.reset();\r\n```\r\n\r\nReading the API, I believe this should work and do what I want but it only changes the b/c without going back to what the original image was. I looked at the b/c code and this is seems to be what they did there too so I&#39;m not sure what&#39;s really wrong here unless I am making a stupid mistake, misunderstanding what the snapshot and reset methods do?\r\n\r\nAny help would be appreciated, thank you in advance.","title":"How can I save an image, change the contrast/brightness, display the change then restore the original image, displaying those all in the same window?","body":"<p>The idea of my program is similar to the adjust brightness/contrast built-in plugin. I want to have the image in one window where you can see it with varying b/c values.</p>\n<p>The original image should be saved before I make any changes to it so that I can go back to the original and make more changes to that instead of the new image created after using the setDisplayRange(), which revert the b/c settings back to how they were in the original. This should all happen in the same window. I don't want to create a new window each time to display the changes I make.</p>\n<pre><code>ImagePlus imp = WindowManager.getCurrentImage();                                             \nImageProcessor ip = imp.getProcessor();                         \nip.snapshot();                                                                               \nimp.setDisplayRange(10, 30);                                                                 \nThread.sleep(1000);                                                                          \nip.reset();\n</code></pre>\n<p>Reading the API, I believe this should work and do what I want but it only changes the b/c without going back to what the original image was. I looked at the b/c code and this is seems to be what they did there too so I'm not sure what's really wrong here unless I am making a stupid mistake, misunderstanding what the snapshot and reset methods do?</p>\n<p>Any help would be appreciated, thank you in advance.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1675177889,"post_id":75297682,"comment_id":132869944,"body_markdown":"any reason you&#39;re using 2.4.4 when the current latest is 3.3.1? could be due to any number of bugs that have been fixed.","body":"any reason you&#39;re using 2.4.4 when the current latest is 3.3.1? could be due to any number of bugs that have been fixed."},{"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"score":0,"creation_date":1675178675,"post_id":75297682,"comment_id":132870248,"body_markdown":"I using CDP version 7.1.X","body":"I using CDP version 7.1.X"}],"answers":[{"comments":[{"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"score":0,"creation_date":1675241223,"post_id":75299892,"comment_id":132883831,"body_markdown":"1) As i said i can&#39;t change the order. This is over simplified example to present the problem.","body":"1) As i said i can&#39;t change the order. This is over simplified example to present the problem."},{"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1675266564,"post_id":75299892,"comment_id":132892363,"body_markdown":"@maximeG hope #2 works for you then..","body":"@maximeG hope #2 works for you then.."}],"tags":[],"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675181171,"creation_date":1675181171,"answer_id":75299892,"question_id":75297682,"body_markdown":"Couldn&#39;t find it [in docs][1], but AFAIK `persist()` is a lazy operation, so just like `where` or `select` etc it won&#39;t execute/do anything, it just adds onto the execution plan. It&#39;ll execute only when you trigger some action like `count` or `write`.\r\n\r\nAssuming you have a valid usecase for duplicating data in `folder1` (as baffling as it is) by reading from it and writing back to it. I would have more more confidence in following options:\r\n1. Change the order. Write back to `folder1` last.\r\n\r\n```python\r\ndf = spark.read.csv(&#39;folder1&#39;)\r\n# changed order folder2 then 1\r\ndf.write.mode(SaveMode.Overwrite).csv(&#39;folder2&#39;)\r\ndf.write.mode(SaveMode.Append).csv(&#39;folder1&#39;)\r\n```\r\n\r\n\r\n\r\n2. Make a copy of `folder1` (instead of `persist()`) and use that as source for all subsequent reads.\r\n\r\n```python\r\nshutils.copy(&#39;folder1&#39;, &#39;folder1_copy&#39;)\r\n# OR spark.read.csv(&#39;folder1&#39;).write.csv(&#39;folder1_copy&#39;)\r\ndf = spark.read.csv(&#39;folder1_copy&#39;)\r\n# original order folder1 then 2\r\ndf.write.mode(SaveMode.Append).csv(&#39;folder1&#39;)\r\ndf.write.mode(SaveMode.Overwrite).csv(&#39;folder2&#39;)\r\n```\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/2.4.4/api/python/pyspark.sql.html#pyspark.sql.DataFrame.persist","title":"How to insert exactly same dataFrame in multiple target including root datasource using Spark function?","body":"<p>Couldn't find it <a href=\"https://spark.apache.org/docs/2.4.4/api/python/pyspark.sql.html#pyspark.sql.DataFrame.persist\" rel=\"nofollow noreferrer\">in docs</a>, but AFAIK <code>persist()</code> is a lazy operation, so just like <code>where</code> or <code>select</code> etc it won't execute/do anything, it just adds onto the execution plan. It'll execute only when you trigger some action like <code>count</code> or <code>write</code>.</p>\n<p>Assuming you have a valid usecase for duplicating data in <code>folder1</code> (as baffling as it is) by reading from it and writing back to it. I would have more more confidence in following options:</p>\n<ol>\n<li>Change the order. Write back to <code>folder1</code> last.</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>df = spark.read.csv('folder1')\n# changed order folder2 then 1\ndf.write.mode(SaveMode.Overwrite).csv('folder2')\ndf.write.mode(SaveMode.Append).csv('folder1')\n</code></pre>\n<ol start=\"2\">\n<li>Make a copy of <code>folder1</code> (instead of <code>persist()</code>) and use that as source for all subsequent reads.</li>\n</ol>\n<pre class=\"lang-py prettyprint-override\"><code>shutils.copy('folder1', 'folder1_copy')\n# OR spark.read.csv('folder1').write.csv('folder1_copy')\ndf = spark.read.csv('folder1_copy')\n# original order folder1 then 2\ndf.write.mode(SaveMode.Append).csv('folder1')\ndf.write.mode(SaveMode.Overwrite).csv('folder2')\n</code></pre>\n"}],"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675181171,"creation_date":1675170621,"question_id":75297682,"body_markdown":"I want to read data from a single source, then write it back to same source then write to another source.\r\n\r\nSource can be different: HDFS, Mongo, Kafka ... \r\n\r\nWith local testing, I have a weird behaviour.\r\n\r\nThis is my first test: I persist the data on disk to not recompute the data from original source:\r\n\r\n```java\r\nDataset&lt;Row&gt; rootDataframe = sparkSession\r\n        .read()\r\n        .option(&quot;header&quot;, true)\r\n        .csv(&quot;folder1&quot;);\r\n\r\nDataset&lt;Row&gt; cachedDataFrame = rootDataframe.persist(StorageLevel.DISK_ONLY());\r\n\r\ncachedDataFrame\r\n        .write()\r\n        .option(&quot;header&quot;, true)\r\n        .mode(SaveMode.Append)\r\n        .csv(&quot;folder1&quot;);\r\n\r\ncachedDataFrame\r\n        .write()\r\n        .option(&quot;header&quot;, true)\r\n        .mode(SaveMode.Overwrite)\r\n        .csv(&quot;folder2&quot;);\r\n\r\ncachedDataFrame.unpersist();\r\n```\r\n\r\nThis doesn&#39;t work as I intended, because of persist function. The cached data is invalidated by my first write that writes it back to original source. In my folder2, I get duplicated data (the original one and the one written by my first operation). This JIRA ticket looks like my problem: https://issues.apache.org/jira/browse/SPARK-24596.\r\n\r\nBut if I don&#39;t use persist, this work as I want, my second write operation isn&#39;t affected by my first one. I think this is because the cache isn&#39;t invalidated and metadata stay unchanged. \r\n\r\nIf you take a look at physical plan, I think that `InMemoryFileIndex` isn&#39;t recalculated even if I clean cache manually.  \r\n\r\n```none\r\n== Physical Plan ==\r\n*(1) FileScan csv [COUNTRY#10,CITY#11] Batched: false, Format: CSV, Location: InMemoryFileIndex[file:/D:/dev/Intellij-project/folder1, PartitionFilters: [], PushedFilters: [], ReadSchema: struct&lt;COUNTRY:string,CITY:string&gt;\r\n```\r\n```java\r\nDataset&lt;Row&gt; rootDataframe = sparkSession\r\n        .read()\r\n        .option(&quot;header&quot;, true)\r\n        .csv(&quot;folder1&quot;);\r\n\r\nDataset&lt;Row&gt; cachedDataFrame = rootDataframe\r\ncachedDataFrame.explain(true);\r\n\r\ncachedDataFrame\r\n        .write()\r\n        .option(&quot;header&quot;, true)\r\n        .mode(SaveMode.Append)\r\n        .csv(&quot;folder1&quot;);\r\n\r\nsparkSession.sharedState().cacheManager().clearCache();\r\n\r\ncachedDataFrame\r\n        .write()\r\n        .option(&quot;header&quot;, true)\r\n        .mode(SaveMode.Overwrite)\r\n        .csv(&quot;folder2&quot;);\r\n```\r\n\r\nBut this behaviour is different with other data sources, for example with MongoDB, if I don&#39;t persist the data, the data is, as intended duplicated, because the second write operation will read the data from the first write. \r\n\r\nIs there a way to insert the same data in multiple data sources, potentially including root data source in different target using only Spark? \r\n\r\nThis seems to be impossible using dataframe persisting. Maybe with dataframe checkpointing?  Or should I use external data storage as an intermediate data store? Dirty coding to break the lineage? Of course, I can&#39;t reverse write order, this is a simplified example, I can have multiple source that write to same multiple target. \r\n\r\nSpark: 2.4.4 \\\r\nJava 8 ","title":"How to insert exactly same dataFrame in multiple target including root datasource using Spark function?","body":"<p>I want to read data from a single source, then write it back to same source then write to another source.</p>\n<p>Source can be different: HDFS, Mongo, Kafka ...</p>\n<p>With local testing, I have a weird behaviour.</p>\n<p>This is my first test: I persist the data on disk to not recompute the data from original source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Dataset&lt;Row&gt; rootDataframe = sparkSession\n        .read()\n        .option(&quot;header&quot;, true)\n        .csv(&quot;folder1&quot;);\n\nDataset&lt;Row&gt; cachedDataFrame = rootDataframe.persist(StorageLevel.DISK_ONLY());\n\ncachedDataFrame\n        .write()\n        .option(&quot;header&quot;, true)\n        .mode(SaveMode.Append)\n        .csv(&quot;folder1&quot;);\n\ncachedDataFrame\n        .write()\n        .option(&quot;header&quot;, true)\n        .mode(SaveMode.Overwrite)\n        .csv(&quot;folder2&quot;);\n\ncachedDataFrame.unpersist();\n</code></pre>\n<p>This doesn't work as I intended, because of persist function. The cached data is invalidated by my first write that writes it back to original source. In my folder2, I get duplicated data (the original one and the one written by my first operation). This JIRA ticket looks like my problem: <a href=\"https://issues.apache.org/jira/browse/SPARK-24596\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/SPARK-24596</a>.</p>\n<p>But if I don't use persist, this work as I want, my second write operation isn't affected by my first one. I think this is because the cache isn't invalidated and metadata stay unchanged.</p>\n<p>If you take a look at physical plan, I think that <code>InMemoryFileIndex</code> isn't recalculated even if I clean cache manually.</p>\n<pre class=\"lang-none prettyprint-override\"><code>== Physical Plan ==\n*(1) FileScan csv [COUNTRY#10,CITY#11] Batched: false, Format: CSV, Location: InMemoryFileIndex[file:/D:/dev/Intellij-project/folder1, PartitionFilters: [], PushedFilters: [], ReadSchema: struct&lt;COUNTRY:string,CITY:string&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Dataset&lt;Row&gt; rootDataframe = sparkSession\n        .read()\n        .option(&quot;header&quot;, true)\n        .csv(&quot;folder1&quot;);\n\nDataset&lt;Row&gt; cachedDataFrame = rootDataframe\ncachedDataFrame.explain(true);\n\ncachedDataFrame\n        .write()\n        .option(&quot;header&quot;, true)\n        .mode(SaveMode.Append)\n        .csv(&quot;folder1&quot;);\n\nsparkSession.sharedState().cacheManager().clearCache();\n\ncachedDataFrame\n        .write()\n        .option(&quot;header&quot;, true)\n        .mode(SaveMode.Overwrite)\n        .csv(&quot;folder2&quot;);\n</code></pre>\n<p>But this behaviour is different with other data sources, for example with MongoDB, if I don't persist the data, the data is, as intended duplicated, because the second write operation will read the data from the first write.</p>\n<p>Is there a way to insert the same data in multiple data sources, potentially including root data source in different target using only Spark?</p>\n<p>This seems to be impossible using dataframe persisting. Maybe with dataframe checkpointing?  Or should I use external data storage as an intermediate data store? Dirty coding to break the lineage? Of course, I can't reverse write order, this is a simplified example, I can have multiple source that write to same multiple target.</p>\n<p>Spark: 2.4.4 <br />\nJava 8</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":4048322,"reputation":3,"user_id":3415658,"display_name":"higornucci"},"score":0,"creation_date":1471533333,"post_id":39021667,"comment_id":65394088,"body_markdown":"I already tried that same post and did \n`@AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasDespesa&quot;))` \nbut it do not change the name of the attribute _parcelas_ and the error persists","body":"I already tried that same post and did  <code>@AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasDespesa&quot;))</code>  but it do not change the name of the attribute <i>parcelas</i> and the error persists"},{"owner":{"account_id":1779831,"reputation":1317,"user_id":1622858,"accept_rate":57,"display_name":"Michael Platt"},"score":0,"creation_date":1471533455,"post_id":39021667,"comment_id":65394182,"body_markdown":"Did you use that line of code over each of the embedded objects?  I believe they actually need to reference different physical columns in the database.  So it would need to look something more like this (assuming I&#39;m understand this correctly):\n\n`@Embedded`\n`@AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasDeReceita&quot;))`\n `private CronogramaDeDesembolso cronogramaDeReceita;`\n`@Embedded`\n`@AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasDespesa&quot;))`\n`private CronogramaDeDesembolso cronogramaDeDespesa;`","body":"Did you use that line of code over each of the embedded objects?  I believe they actually need to reference different physical columns in the database.  So it would need to look something more like this (assuming I&#39;m understand this correctly):  <code>@Embedded</code> <code>@AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasDeReceita&quot;))</code>  <code>private CronogramaDeDesembolso cronogramaDeReceita;</code> <code>@Embedded</code> <code>@AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasDespesa&quot;))</code> <code>private CronogramaDeDesembolso cronogramaDeDespesa;</code>"},{"owner":{"account_id":4048322,"reputation":3,"user_id":3415658,"display_name":"higornucci"},"score":0,"creation_date":1471534110,"post_id":39021667,"comment_id":65394697,"body_markdown":"I made the changes you suggested and it still do not worked =[","body":"I made the changes you suggested and it still do not worked =["},{"owner":{"account_id":1779831,"reputation":1317,"user_id":1622858,"accept_rate":57,"display_name":"Michael Platt"},"score":0,"creation_date":1471534301,"post_id":39021667,"comment_id":65394843,"body_markdown":"Hmm.  Ok I will continue doing some research to see what I can find to help out.  In the mean time, have you tried doing an embeddable class that only has strings and ints?  I&#39;m wondering if maybe the fact that you have a list of objects (also annotated or no?) is causing part of this problem.","body":"Hmm.  Ok I will continue doing some research to see what I can find to help out.  In the mean time, have you tried doing an embeddable class that only has strings and ints?  I&#39;m wondering if maybe the fact that you have a list of objects (also annotated or no?) is causing part of this problem."},{"owner":{"account_id":4048322,"reputation":3,"user_id":3415658,"display_name":"higornucci"},"score":0,"creation_date":1471540148,"post_id":39021667,"comment_id":65398488,"body_markdown":"Thank you very much. I will try your suggestion and see where it leads me.","body":"Thank you very much. I will try your suggestion and see where it leads me."}],"tags":[],"owner":{"account_id":1779831,"reputation":1317,"user_id":1622858,"accept_rate":57,"display_name":"Michael Platt"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471532812,"creation_date":1471532812,"answer_id":39021667,"question_id":39021411,"body_markdown":"A quick search on Google turned up this in StackOverflow:\r\n\r\nhttps://stackoverflow.com/questions/331744/jpa-multiple-embedded-fields\r\n\r\nIt would seem as though you have to do some explicit annotation overriding over the fields within the embeddable class.  There are some code examples in the linked answer as well that should give you a good idea of where to go.\r\n\r\n\r\nCheers,","title":"jpa - Multiple @ElementCollection in two different @Embeddable classes","body":"<p>A quick search on Google turned up this in StackOverflow:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/331744/jpa-multiple-embedded-fields\">JPA Multiple Embedded fields</a></p>\n\n<p>It would seem as though you have to do some explicit annotation overriding over the fields within the embeddable class.  There are some code examples in the linked answer as well that should give you a good idea of where to go.</p>\n\n<p>Cheers,</p>\n"},{"tags":[],"owner":{"account_id":6291092,"reputation":31,"user_id":4888768,"display_name":"Andrew B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471551865,"creation_date":1471551865,"answer_id":39026892,"question_id":39021411,"body_markdown":"Is there any reason why you have decided to use this structure ? Typically when converting an object to an RDBMS you would need to model the relationships. When you use an embeddable it will add the column (or columns) associated with it to the table. So when you do this normally (not collections) it is fine. \r\n\r\nWhen you do a collection it runs into issues. Mainly there is no way to represent a collection in a single row (since this is an entity you could have many of them so effectively for each object you only have one row) &amp; one column. So when you represent a collection you actually have to have a second table with a column referencing it back to the first. It&#39;s really the opposite thinking of a normal object. The collection entries need to know what collection they were associated with instead of the collection being knowledgeable of its entries.\r\n\r\nSo in some POJO you could have and these....\r\n\r\n     MyListObject {\r\n         //Some implementation of things you want to collect\r\n     }\r\n\r\n\r\n     MyClass {\r\n         List&lt;MyListObject&gt; myListObject;\r\n    }\r\n\r\nBut to model this in JPA you would need to have these represented by two tables.\r\n\r\nYour object that will be in the list. \r\n\r\n    @Entity\r\n    MyListObject {\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;MY_CLASS_KEY&quot;)\r\n        private MyClass myClass;\r\n    }\r\n\r\n\r\nYour object/entity that will have the list. \r\n\r\n    @Entity\r\n    MyClass {\r\n\r\n        @Id\r\n        @Column(name = &quot;MY_CLASS_KEY&quot;)\r\n        private Long myClassKey;\r\n  \r\n        @OneToMany(mappedBy = &quot;myClass&quot;)\r\n        private List&lt;MyListObject&gt; myString;\r\n    }\r\n\r\n\r\nI hope this helps. ","title":"jpa - Multiple @ElementCollection in two different @Embeddable classes","body":"<p>Is there any reason why you have decided to use this structure ? Typically when converting an object to an RDBMS you would need to model the relationships. When you use an embeddable it will add the column (or columns) associated with it to the table. So when you do this normally (not collections) it is fine. </p>\n\n<p>When you do a collection it runs into issues. Mainly there is no way to represent a collection in a single row (since this is an entity you could have many of them so effectively for each object you only have one row) &amp; one column. So when you represent a collection you actually have to have a second table with a column referencing it back to the first. It's really the opposite thinking of a normal object. The collection entries need to know what collection they were associated with instead of the collection being knowledgeable of its entries.</p>\n\n<p>So in some POJO you could have and these....</p>\n\n<pre><code> MyListObject {\n     //Some implementation of things you want to collect\n }\n\n\n MyClass {\n     List&lt;MyListObject&gt; myListObject;\n}\n</code></pre>\n\n<p>But to model this in JPA you would need to have these represented by two tables.</p>\n\n<p>Your object that will be in the list. </p>\n\n<pre><code>@Entity\nMyListObject {\n\n    @ManyToOne\n    @JoinColumn(name = \"MY_CLASS_KEY\")\n    private MyClass myClass;\n}\n</code></pre>\n\n<p>Your object/entity that will have the list. </p>\n\n<pre><code>@Entity\nMyClass {\n\n    @Id\n    @Column(name = \"MY_CLASS_KEY\")\n    private Long myClassKey;\n\n    @OneToMany(mappedBy = \"myClass\")\n    private List&lt;MyListObject&gt; myString;\n}\n</code></pre>\n\n<p>I hope this helps. </p>\n"}],"owner":{"account_id":4048322,"reputation":3,"user_id":3415658,"display_name":"higornucci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675181156,"creation_date":1471532106,"question_id":39021411,"body_markdown":"I have an entity with two `Embedded` classes of the same type and which one has an `ElementCollection` of the same type two. The business logic is apparently correct, but I am experiencing some problems with lack of knowledge in JPA, I guess.\r\n\r\nLet&#39;s check my classes:\r\n\r\n    @Entity\r\n    public class Etapa extends EntidadeBase {\r\n    \r\n        @Embedded\r\n        private CronogramaDeDesembolso cronogramaDeReceita;\r\n    \r\n        @Embedded\r\n        private CronogramaDeDesembolso cronogramaDeDespesa;\r\n    }\r\n\r\n    @Embeddable\r\n    public class CronogramaDeDesembolso {\r\n    \r\n    \t@ElementCollection\r\n    \tprivate List&lt;Parcela&gt; parcelas;\r\n    }\r\n\r\nI am receiving the following error log.\r\n\r\n    \r\n\r\n&gt; Caused by: org.hibernate.HibernateException: Found shared references\r\n&gt; to a collection:\r\n&gt; nexxus.convenioestadual.dominio.planodetrabalho.etapa.Etapa.cronogramaDeReceita.parcelas\r\n\r\nDo you guys have any clue of what is wrong and how can I fix it?\r\n\r\n**EDIT:**\r\n\r\nDue comments I did this edit and it do not worked too\r\n\r\n    @Entity\r\n    public class Etapa extends EntidadeBase {\r\n    \r\n        @Embedded\r\n        @AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasReceita&quot;))\r\n        private CronogramaDeDesembolso cronogramaDeReceita;\r\n    \r\n        @Embedded\r\n        @AttributeOverride(name = &quot;parcelas&quot;, column = @Column(name = &quot;parcelasDespesa&quot;))\r\n        private CronogramaDeDesembolso cronogramaDeDespesa;\r\n    }","title":"jpa - Multiple @ElementCollection in two different @Embeddable classes","body":"<p>I have an entity with two <code>Embedded</code> classes of the same type and which one has an <code>ElementCollection</code> of the same type two. The business logic is apparently correct, but I am experiencing some problems with lack of knowledge in JPA, I guess.</p>\n\n<p>Let's check my classes:</p>\n\n<pre><code>@Entity\npublic class Etapa extends EntidadeBase {\n\n    @Embedded\n    private CronogramaDeDesembolso cronogramaDeReceita;\n\n    @Embedded\n    private CronogramaDeDesembolso cronogramaDeDespesa;\n}\n\n@Embeddable\npublic class CronogramaDeDesembolso {\n\n    @ElementCollection\n    private List&lt;Parcela&gt; parcelas;\n}\n</code></pre>\n\n<p>I am receiving the following error log.</p>\n\n<blockquote>\n  <p>Caused by: org.hibernate.HibernateException: Found shared references\n  to a collection:\n  nexxus.convenioestadual.dominio.planodetrabalho.etapa.Etapa.cronogramaDeReceita.parcelas</p>\n</blockquote>\n\n<p>Do you guys have any clue of what is wrong and how can I fix it?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Due comments I did this edit and it do not worked too</p>\n\n<pre><code>@Entity\npublic class Etapa extends EntidadeBase {\n\n    @Embedded\n    @AttributeOverride(name = \"parcelas\", column = @Column(name = \"parcelasReceita\"))\n    private CronogramaDeDesembolso cronogramaDeReceita;\n\n    @Embedded\n    @AttributeOverride(name = \"parcelas\", column = @Column(name = \"parcelasDespesa\"))\n    private CronogramaDeDesembolso cronogramaDeDespesa;\n}\n</code></pre>\n"},{"tags":["java","android","virtual"],"answers":[{"comments":[{"owner":{"account_id":26990477,"reputation":13,"user_id":20553445,"display_name":"ada_underwood"},"score":0,"creation_date":1668937336,"post_id":74507003,"comment_id":131523451,"body_markdown":"If I really can&#39;t find a similar open source project, I plan to use SpaceCore, which is much cheaper than VirtualApp. But I&#39;m still trying to find open source projects, after all I don&#39;t have much money.","body":"If I really can&#39;t find a similar open source project, I plan to use SpaceCore, which is much cheaper than VirtualApp. But I&#39;m still trying to find open source projects, after all I don&#39;t have much money."}],"tags":[],"owner":{"account_id":26990477,"reputation":13,"user_id":20553445,"display_name":"ada_underwood"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668937189,"creation_date":1668937189,"answer_id":74507003,"question_id":74371413,"body_markdown":"I was looking for the same open source project, VirtualAPP has stopped being open source and stopped updating, and the commercial version of it is expensive, up to 300,000 RMB a year license and 200,000 RMB/year technical support fees.","title":"how can i integrate virtual app in android application","body":"<p>I was looking for the same open source project, VirtualAPP has stopped being open source and stopped updating, and the commercial version of it is expensive, up to 300,000 RMB a year license and 200,000 RMB/year technical support fees.</p>\n"},{"comments":[{"owner":{"account_id":6597297,"reputation":761,"user_id":5096638,"display_name":"PalFS"},"score":0,"creation_date":1675231414,"post_id":75299886,"comment_id":132881601,"body_markdown":"Thanks for this but the code is not available in this repo. The author removed the code, only readme is available in which this issue has been listed. Do you have a cloned version?","body":"Thanks for this but the code is not available in this repo. The author removed the code, only readme is available in which this issue has been listed. Do you have a cloned version?"},{"owner":{"account_id":1630941,"reputation":814,"user_id":1505492,"display_name":"kat"},"score":0,"creation_date":1675341801,"post_id":75299886,"comment_id":132910650,"body_markdown":"Archived release tag still seems to work - https://github.com/FBlackBox/BlackBox/archive/refs/tags/2.1.0.tar.gz","body":"Archived release tag still seems to work - <a href=\"https://github.com/FBlackBox/BlackBox/archive/refs/tags/2.1.0.tar.gz\" rel=\"nofollow noreferrer\">github.com/FBlackBox/BlackBox/archive/refs/tags/2.1.0.tar.gz</a>"}],"tags":[],"owner":{"account_id":1630941,"reputation":814,"user_id":1505492,"display_name":"kat"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675181148,"creation_date":1675181148,"answer_id":75299886,"question_id":74371413,"body_markdown":"Recent open code is available at https://github.com/FBlackBox/BlackBox. VirtulApp authors apparently bullied the project to close. The source code is still accessible on github as of posting of this comment, though.","title":"how can i integrate virtual app in android application","body":"<p>Recent open code is available at <a href=\"https://github.com/FBlackBox/BlackBox\" rel=\"nofollow noreferrer\">https://github.com/FBlackBox/BlackBox</a>. VirtulApp authors apparently bullied the project to close. The source code is still accessible on github as of posting of this comment, though.</p>\n"}],"owner":{"account_id":6597297,"reputation":761,"user_id":5096638,"display_name":"PalFS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75299886,"answer_count":2,"score":0,"last_activity_date":1675181148,"creation_date":1667979918,"question_id":74371413,"body_markdown":"I need to integrate [VirtualApp][1] in the android application but the problem is that is has not been updated since 6 yrs except the docs, which are for commercial version. I tried to integrate it in my app following the [guide][2] but it is raising errors. Can anyone help me integrate it or suggest my any alternative solution for this?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/asLody/VirtualApp\r\n  [2]: https://github.com/asLody/VirtualApp/blob/master/doc/VADev_eng.md","title":"how can i integrate virtual app in android application","body":"<p>I need to integrate <a href=\"https://github.com/asLody/VirtualApp\" rel=\"nofollow noreferrer\">VirtualApp</a> in the android application but the problem is that is has not been updated since 6 yrs except the docs, which are for commercial version. I tried to integrate it in my app following the <a href=\"https://github.com/asLody/VirtualApp/blob/master/doc/VADev_eng.md\" rel=\"nofollow noreferrer\">guide</a> but it is raising errors. Can anyone help me integrate it or suggest my any alternative solution for this?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","http-headers","android-videoview"],"owner":{"account_id":16009611,"reputation":1,"user_id":11554194,"display_name":"alex05"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675181112,"creation_date":1674825193,"question_id":75258594,"body_markdown":"I am trying to implement a VideoView that receives its content from a server. To get the content from the server, I need to set a custom header.\r\nWhen trying to use the following function, with uri being the url and headers a hashmap containing my header (&quot;testHeader&quot;, &quot;testValue&quot;):\r\n```java\r\nvideoView.setVideoURI(uri, headers);\r\n```\r\n\r\nit is not working as intended.\r\nWhen I check the server, I can see that the headers are not set and I am unsure what the problem is.\r\n\r\nDo the headers have to be in some kind of specific format?\r\nOr any other ideas?\r\n\r\nI already tried various formats for the hashmap values but in no case the header even appeared at the server. \r\n\r\nI also saw [this post](https://stackoverflow.com/questions/7630484/videoview-with-cookies-or-headers/28120347#28120347) but since you now can use \r\n```\r\nvideoView.setVideoURI(Uri uri, Map&lt;String, String&gt; headers)\r\n```\r\nI found that answer to be outdated.\r\n\r\nEdit: While doing further research, I found out that everything works as intended when I use my app on an Emulator running Android 11. \r\nThe issue only occurs when used from one particular device.","title":"Android VideoView add custom header","body":"<p>I am trying to implement a VideoView that receives its content from a server. To get the content from the server, I need to set a custom header.\nWhen trying to use the following function, with uri being the url and headers a hashmap containing my header (&quot;testHeader&quot;, &quot;testValue&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>videoView.setVideoURI(uri, headers);\n</code></pre>\n<p>it is not working as intended.\nWhen I check the server, I can see that the headers are not set and I am unsure what the problem is.</p>\n<p>Do the headers have to be in some kind of specific format?\nOr any other ideas?</p>\n<p>I already tried various formats for the hashmap values but in no case the header even appeared at the server.</p>\n<p>I also saw <a href=\"https://stackoverflow.com/questions/7630484/videoview-with-cookies-or-headers/28120347#28120347\">this post</a> but since you now can use</p>\n<pre><code>videoView.setVideoURI(Uri uri, Map&lt;String, String&gt; headers)\n</code></pre>\n<p>I found that answer to be outdated.</p>\n<p>Edit: While doing further research, I found out that everything works as intended when I use my app on an Emulator running Android 11.\nThe issue only occurs when used from one particular device.</p>\n"},{"tags":["java","arrays","sql-server","jdbc","resultset"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1675174158,"post_id":75298374,"comment_id":132868530,"body_markdown":"Please fix the formatting of your code block, all those backticks do not belong there.","body":"Please fix the formatting of your code block, all those backticks do not belong there."},{"owner":{"account_id":24663134,"reputation":15,"user_id":18559144,"display_name":"Bob Kraemer"},"score":0,"creation_date":1675180248,"post_id":75298374,"comment_id":132870850,"body_markdown":"I will (and did) try.  First time poster - and the instruction for properly marking code seemed unclear at best.","body":"I will (and did) try.  First time poster - and the instruction for properly marking code seemed unclear at best."}],"answers":[{"comments":[{"owner":{"account_id":24663134,"reputation":15,"user_id":18559144,"display_name":"Bob Kraemer"},"score":0,"creation_date":1675183347,"post_id":75299216,"comment_id":132871978,"body_markdown":"Running &#39;as-is&#39;, Eclipse deems the try{} to amount to an unhandled exception.  I found it necessary to exchange the finally{} in your suggestion with a catch (SQLException e) {e.printStackTrace();}  After doing so, executing the code seems to produce the desired result.  Thank you.","body":"Running &#39;as-is&#39;, Eclipse deems the try{} to amount to an unhandled exception.  I found it necessary to exchange the finally{} in your suggestion with a catch (SQLException e) {e.printStackTrace();}  After doing so, executing the code seems to produce the desired result.  Thank you."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675178062,"creation_date":1675178062,"answer_id":75299216,"question_id":75298374,"body_markdown":"Try the following. You may also have introduced an issue with resultSet.getIndex() indexing from 1 rather that 0.\r\n\r\n\r\n\t\tList&lt;int[]&gt; orderedTruthTableList = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tConnection conn = DriverManager.getConnection(url, &quot;SANITIZED&quot;, &quot;SANITIZED&quot;); // Establish Connection Object\r\n\t\t\tStatement statement = conn.createStatement();\r\n\t\t\t// Create a SQL statement object to send to the database\r\n\t\t\tResultSet resultSet = statement.executeQuery(&quot;select * from SANITIZED&quot;); // Execute the statement object\r\n\r\n\t\t\t// Process the result\r\n\t\t\twhile (resultSet.next()) {\r\n\r\n\t\t\t\torderedTruthTableList.add(new int[] {resultSet.getInt(1), resultSet.getInt(2), resultSet.getInt(3), resultSet.getInt(4)});\r\n\r\n\t\t\t}\r\n\t\t} finally {\r\n\r\n\t\t}\r\n\r\n\t\tint[][] truthTable = orderedTruthTableList.toArray(new int[0][0]);\r\n","title":"How to use jdbc ResultSet of a SQL &#39;select *&#39; query to create and populate a 2 dimensional array as a truth table","body":"<p>Try the following. You may also have introduced an issue with resultSet.getIndex() indexing from 1 rather that 0.</p>\n<pre><code>    List&lt;int[]&gt; orderedTruthTableList = new ArrayList&lt;&gt;();\n    try {\n        Connection conn = DriverManager.getConnection(url, &quot;SANITIZED&quot;, &quot;SANITIZED&quot;); // Establish Connection Object\n        Statement statement = conn.createStatement();\n        // Create a SQL statement object to send to the database\n        ResultSet resultSet = statement.executeQuery(&quot;select * from SANITIZED&quot;); // Execute the statement object\n\n        // Process the result\n        while (resultSet.next()) {\n\n            orderedTruthTableList.add(new int[] {resultSet.getInt(1), resultSet.getInt(2), resultSet.getInt(3), resultSet.getInt(4)});\n\n        }\n    } finally {\n\n    }\n\n    int[][] truthTable = orderedTruthTableList.toArray(new int[0][0]);\n</code></pre>\n"}],"owner":{"account_id":24663134,"reputation":15,"user_id":18559144,"display_name":"Bob Kraemer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75299216,"answer_count":1,"score":0,"last_activity_date":1675180637,"creation_date":1675174036,"question_id":75298374,"body_markdown":"I am trying to select the entire contents of a MSSQL Server table populated with int values to serve as a &#39;truth table&#39;.  The goal is to select the entire SQL table, and populate it in Java as a 2 dimensional array.  Here is a token source table I am working with (with the table name SANITIZED):\r\n[SQLServerTable](https://i.stack.imgur.com/i8ODN.png)\r\nI may have a variable number of rows, but the number of columns will be fixed (so the array will not be a jagged array).  The table is seeded with token values to represent row-then-column for ease of troubleshooting (13 being row 1, column 3, 24 being row 2, column 4...)\r\n\r\nHere is the code I have tried (SANITIZED for anonymity):\r\n\r\n```\r\npublic class SANITIZED {\r\n\r\nprivate static String url = &quot;jdbc:sqlserver://SANITIZED:SANITIZED;DatabaseName=SANITIZED;encrypt=true;trustServerCertificate=true&quot;;\r\n\t\r\npublic static void main(String[] args) {\r\n\r\nint numRows = 0;\r\n\t\t\t\t\r\ntry {\r\nConnection conn = DriverManager.getConnection(url, &quot;SANITIZED&quot;, &quot;SANITIZED&quot;);\r\n//  Establish Connection Object\r\nStatement statement = conn.createStatement();\r\n//  Create a SQL statement object to send to the database\r\nResultSet resultSet = statement.executeQuery(&quot;select count (*) from SANITIZED&quot;);  //  Execute the statement object\r\n//  Process the result\r\nif (resultSet.next()) { // just in case\r\nnumRows = resultSet.getInt(1); // note that indexes are one-based\r\n}\r\n} catch (SQLException e) {\r\ne.printStackTrace();\r\n}\r\n\r\nint[][] truthTable = new int[numRows][27];\r\n\t\t\r\ntry {\r\nConnection conn = DriverManager.getConnection(url, &quot;SANITIZED&quot;, &quot;SANITIZED&quot;);  //  Establish Connection Object\r\nStatement statement = conn.createStatement();\r\n//  Create a SQL statement object to send to the database\r\nResultSet resultSet = statement.executeQuery(&quot;select * from SANITIZED&quot;);  //  Execute the statement object\r\n//  Process the result\r\nwhile(resultSet.next()) {\r\n\r\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(1)));\r\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(2)));\r\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(3)));\r\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(4)));\r\n\t\t\t\r\ntruthTable[numRows - 2][0] = resultSet.getInt(1);\r\ntruthTable[numRows - 2][1] = resultSet.getInt(2);\r\ntruthTable[numRows - 2][2] = resultSet.getInt(3);\r\ntruthTable[numRows - 2][3] = resultSet.getInt(4);\r\n}\r\n\r\n```\r\n\r\nThe output from the println statements is:\r\nresultSet: 11\r\nresultSet: 12\r\nresultSet: 13\r\nresultSet: 14\r\nresultSet: 21\r\nresultSet: 22\r\nresultSet: 23\r\nresultSet: 24\r\n\r\nBut when I try to populate a 2 dimensional array, the Eclipse debugger is showing the SECOND row of the SQL table populating into the FIRST row of the array despite the columnIndex of the getInt() method being passed as 1.  This is true even if I comment the println statements out.  Here is the debugger output:\r\n`truthTable\t(id=24)`\r\n`[0]\t(id=27)`\r\n`[0]\t21`\r\n`[1]\t22`\r\n`[2]\t23`\r\n`[3]\t24`\r\n`[4]\t0`\r\n\r\nThe code above hard codes the row of the array ([numRows - 2]) for simplicity - but ideally, the goal is to iterate over the ResultSet as necessary in hopes that a single SQL &#39;select *&#39; query that returns only int values from the DB (having a specific number of columns but a variable number of rows) can be used to create and populate an array of a fixed number of columns with a variable number of rows.  My thanks to the community for any assistance in understanding how this may be accomplished.  \r\n\r\nThe println statements for a given index prints values from the first row of the SQL table.  \r\nThe attempt to use the same indexes to populate an array (in the absence of the println statements) populates the values from the second row of the array.  Why would it print the first DB row, but store the second DB row when the same index is being used?  ","title":"How to use jdbc ResultSet of a SQL &#39;select *&#39; query to create and populate a 2 dimensional array as a truth table","body":"<p>I am trying to select the entire contents of a MSSQL Server table populated with int values to serve as a 'truth table'.  The goal is to select the entire SQL table, and populate it in Java as a 2 dimensional array.  Here is a token source table I am working with (with the table name SANITIZED):\n<a href=\"https://i.stack.imgur.com/i8ODN.png\" rel=\"nofollow noreferrer\">SQLServerTable</a>\nI may have a variable number of rows, but the number of columns will be fixed (so the array will not be a jagged array).  The table is seeded with token values to represent row-then-column for ease of troubleshooting (13 being row 1, column 3, 24 being row 2, column 4...)</p>\n<p>Here is the code I have tried (SANITIZED for anonymity):</p>\n<pre><code>public class SANITIZED {\n\nprivate static String url = &quot;jdbc:sqlserver://SANITIZED:SANITIZED;DatabaseName=SANITIZED;encrypt=true;trustServerCertificate=true&quot;;\n    \npublic static void main(String[] args) {\n\nint numRows = 0;\n                \ntry {\nConnection conn = DriverManager.getConnection(url, &quot;SANITIZED&quot;, &quot;SANITIZED&quot;);\n//  Establish Connection Object\nStatement statement = conn.createStatement();\n//  Create a SQL statement object to send to the database\nResultSet resultSet = statement.executeQuery(&quot;select count (*) from SANITIZED&quot;);  //  Execute the statement object\n//  Process the result\nif (resultSet.next()) { // just in case\nnumRows = resultSet.getInt(1); // note that indexes are one-based\n}\n} catch (SQLException e) {\ne.printStackTrace();\n}\n\nint[][] truthTable = new int[numRows][27];\n        \ntry {\nConnection conn = DriverManager.getConnection(url, &quot;SANITIZED&quot;, &quot;SANITIZED&quot;);  //  Establish Connection Object\nStatement statement = conn.createStatement();\n//  Create a SQL statement object to send to the database\nResultSet resultSet = statement.executeQuery(&quot;select * from SANITIZED&quot;);  //  Execute the statement object\n//  Process the result\nwhile(resultSet.next()) {\n\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(1)));\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(2)));\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(3)));\nSystem.out.println(&quot;resultSet: &quot; + (resultSet.getInt(4)));\n            \ntruthTable[numRows - 2][0] = resultSet.getInt(1);\ntruthTable[numRows - 2][1] = resultSet.getInt(2);\ntruthTable[numRows - 2][2] = resultSet.getInt(3);\ntruthTable[numRows - 2][3] = resultSet.getInt(4);\n}\n\n</code></pre>\n<p>The output from the println statements is:\nresultSet: 11\nresultSet: 12\nresultSet: 13\nresultSet: 14\nresultSet: 21\nresultSet: 22\nresultSet: 23\nresultSet: 24</p>\n<p>But when I try to populate a 2 dimensional array, the Eclipse debugger is showing the SECOND row of the SQL table populating into the FIRST row of the array despite the columnIndex of the getInt() method being passed as 1.  This is true even if I comment the println statements out.  Here is the debugger output:\n<code>truthTable (id=24)</code>\n<code>[0]    (id=27)</code>\n<code>[0]    21</code>\n<code>[1]    22</code>\n<code>[2]    23</code>\n<code>[3]    24</code>\n<code>[4]    0</code></p>\n<p>The code above hard codes the row of the array ([numRows - 2]) for simplicity - but ideally, the goal is to iterate over the ResultSet as necessary in hopes that a single SQL 'select *' query that returns only int values from the DB (having a specific number of columns but a variable number of rows) can be used to create and populate an array of a fixed number of columns with a variable number of rows.  My thanks to the community for any assistance in understanding how this may be accomplished.</p>\n<p>The println statements for a given index prints values from the first row of the SQL table.<br />\nThe attempt to use the same indexes to populate an array (in the absence of the println statements) populates the values from the second row of the array.  Why would it print the first DB row, but store the second DB row when the same index is being used?</p>\n"},{"tags":["java","intellij-idea","formatting"],"comments":[{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":1,"creation_date":1675164547,"post_id":75296142,"comment_id":132865306,"body_markdown":"It would help if you indicate (tags) which language you&#39;re trying to format, as IntelliJ has settings that are specific per language.","body":"It would help if you indicate (tags) which language you&#39;re trying to format, as IntelliJ has settings that are specific per language."},{"owner":{"account_id":3019275,"reputation":4542,"user_id":2560685,"accept_rate":70,"display_name":"sab"},"score":1,"creation_date":1675169724,"post_id":75296142,"comment_id":132866988,"body_markdown":"It&#39;s java code, I need the name of the rules who manage that","body":"It&#39;s java code, I need the name of the rules who manage that"}],"answers":[{"tags":[],"owner":{"account_id":27610436,"reputation":1,"user_id":21073689,"display_name":"Frontier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675163474,"creation_date":1675163474,"answer_id":75296251,"question_id":75296142,"body_markdown":"This is almost certainly down to the settings in Intellij&#39;s Editor preferences.\r\n\r\nOpen the settings panel and search for code format or open the Editor &gt; Code Style &gt; Java options.\r\n\r\n[Code Formatting page][1]\r\n\r\nIn here you&#39;ll options to change pretty much every part of your code layout.\r\n\r\nYou can also import and export schemes, which can keep things consistent across your company. More information on how to do that can be found on the [jetbrains][2] site.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v30Ix.png\r\n  [2]: https://www.jetbrains.com/help/idea/configuring-code-style.html#import-export-schemes","title":"intellij formating inconsistant","body":"<p>This is almost certainly down to the settings in Intellij's Editor preferences.</p>\n<p>Open the settings panel and search for code format or open the Editor &gt; Code Style &gt; Java options.</p>\n<p><a href=\"https://i.stack.imgur.com/v30Ix.png\" rel=\"nofollow noreferrer\">Code Formatting page</a></p>\n<p>In here you'll options to change pretty much every part of your code layout.</p>\n<p>You can also import and export schemes, which can keep things consistent across your company. More information on how to do that can be found on the <a href=\"https://www.jetbrains.com/help/idea/configuring-code-style.html#import-export-schemes\" rel=\"nofollow noreferrer\">jetbrains</a> site.</p>\n"},{"tags":[],"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675164896,"creation_date":1675164896,"answer_id":75296529,"question_id":75296142,"body_markdown":"As already indicated, Intellij-IDEA (and all its variants) have a Code Style per language (and even per-project).\r\n\r\n[![Intellij IDEA settings for Code Style][1]][1]\r\n\r\nThe preview on the right side is live-updated, so if you change settings on the left, they will be reflected on the right. \r\n\r\nPlease note that *not all options are available for all languages* and it&#39;s often a matter of playing a bit with it.\r\n\r\nAn alternative is that your coworkers can EXPORT the settings they are using and you can import them.\r\n\r\nThey would export it by tapping the &quot;gear&quot; (?) next to the Scheme:\r\n\r\n\r\n[![Image of a Menu popup showing export options for the code style settings][2]][2]\r\n\r\nYou can then Import them by using the &quot;import Scheme&quot; option ;)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hwbCU.png\r\n  [2]: https://i.stack.imgur.com/d3bge.png","title":"intellij formating inconsistant","body":"<p>As already indicated, Intellij-IDEA (and all its variants) have a Code Style per language (and even per-project).</p>\n<p><a href=\"https://i.stack.imgur.com/hwbCU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hwbCU.png\" alt=\"Intellij IDEA settings for Code Style\" /></a></p>\n<p>The preview on the right side is live-updated, so if you change settings on the left, they will be reflected on the right.</p>\n<p>Please note that <em>not all options are available for all languages</em> and it's often a matter of playing a bit with it.</p>\n<p>An alternative is that your coworkers can EXPORT the settings they are using and you can import them.</p>\n<p>They would export it by tapping the &quot;gear&quot; (?) next to the Scheme:</p>\n<p><a href=\"https://i.stack.imgur.com/d3bge.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d3bge.png\" alt=\"Image of a Menu popup showing export options for the code style settings\" /></a></p>\n<p>You can then Import them by using the &quot;import Scheme&quot; option ;)</p>\n"}],"owner":{"account_id":3019275,"reputation":4542,"user_id":2560685,"accept_rate":70,"display_name":"sab"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675180442,"creation_date":1675162831,"question_id":75296142,"body_markdown":"Hy, it&#39;s not a big issue, but anyway :\r\n\r\nAll my other coworker code is auto-formated like that :\r\n\r\n            output = output.update(\r\n                    par1,\r\n                    par2\r\n            );\r\n\r\n\r\nmine is autoformated  like that:\r\n\r\n\r\n           output = output.update(\r\n                par1,\r\n                par2\r\n            );\r\n\r\n\r\nmore specificaly : the tabulation for their parameters method have 2x 4 space, mine have 1x4 spaces\r\n\r\nany idea which how to change this codestyle rules? We use a common formater file, but somehow, I don&#39;t have the same things than everyone else.\r\n\r\nEdit : It&#39;s java code,\r\nI need the name of the rules who manage that","title":"intellij formating inconsistant","body":"<p>Hy, it's not a big issue, but anyway :</p>\n<p>All my other coworker code is auto-formated like that :</p>\n<pre><code>        output = output.update(\n                par1,\n                par2\n        );\n</code></pre>\n<p>mine is autoformated  like that:</p>\n<pre><code>       output = output.update(\n            par1,\n            par2\n        );\n</code></pre>\n<p>more specificaly : the tabulation for their parameters method have 2x 4 space, mine have 1x4 spaces</p>\n<p>any idea which how to change this codestyle rules? We use a common formater file, but somehow, I don't have the same things than everyone else.</p>\n<p>Edit : It's java code,\nI need the name of the rules who manage that</p>\n"},{"tags":["java","android","android-layout","user-input"],"comments":[{"owner":{"account_id":7880454,"reputation":2730,"user_id":5954635,"display_name":"Man"},"score":0,"creation_date":1532199943,"post_id":51459228,"comment_id":89887878,"body_markdown":"In which file are you getting that error??in styles??","body":"In which file are you getting that error??in styles??"},{"owner":{"account_id":8944678,"reputation":2098,"user_id":6672577,"display_name":"Shahzad Afridi"},"score":0,"creation_date":1532200047,"post_id":51459228,"comment_id":89887909,"body_markdown":"where is the error :/","body":"where is the error :/"}],"answers":[{"tags":[],"owner":{"account_id":10502386,"reputation":1112,"user_id":7740742,"display_name":"Anuj Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1544766375,"creation_date":1532367261,"answer_id":51484376,"question_id":51459228,"body_markdown":"This is an android studio bug with dependencies of support library. I also faced same problem few days ago. &lt;Br&gt;\n\n \n - Go to build.gradle file (inside app folder).\n \n \n - Then change the version of dependencies of support library -- replace `28.0.1-alpha3` to `28.0.1-alpha1`\n \n - Then go to styles.xml file (at app/res/values folder) and add this item in your style named AppTheme.&lt;br&gt;\r\n`&lt;item name=&quot;textInputStyle&quot;&gt;@style/Widget.Design.TextInputLayout&lt;/item&gt;`","title":"Failed to find style &#39;textInputStyle&#39; in current theme","body":"<p>This is an android studio bug with dependencies of support library. I also faced same problem few days ago. <Br></p>\n\n<ul>\n<li><p>Go to build.gradle file (inside app folder).</p></li>\n<li><p>Then change the version of dependencies of support library -- replace <code>28.0.1-alpha3</code> to <code>28.0.1-alpha1</code></p></li>\n<li><p>Then go to styles.xml file (at app/res/values folder) and add this item in your style named AppTheme.<br>\n<code>&lt;item name=\"textInputStyle\"&gt;@style/Widget.Design.TextInputLayout&lt;/item&gt;</code></p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10502386,"reputation":1112,"user_id":7740742,"display_name":"Anuj Kumar"},"score":0,"creation_date":1544936954,"post_id":52439687,"comment_id":94448476,"body_markdown":"Adding + to gradle dependency will lead to check new version one time within each 24 hrs.","body":"Adding + to gradle dependency will lead to check new version one time within each 24 hrs."}],"tags":[],"owner":{"account_id":6283998,"reputation":198,"user_id":4883950,"display_name":"Gulbala Salamov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675180350,"creation_date":1537518660,"answer_id":52439687,"question_id":51459228,"body_markdown":"In addition to above users answer, if you are unsure about how to determine which certain version of the support library you should upgrade or downgrade, let Android Studio choose that best applies to you. Simply target it by putting **.+** symbol right after the main version of the library, which works pretty well for me. \r\n\r\nGo to **Gradle Scripts**, open **build.gradle(Module:app)**, replace the version of **support library** **dependencies** as following:\r\n\r\n    dependencies {\r\n        implementation &#39;com.android.support:appcompat-v7:28.+&#39;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand then go to **styles.xml** file located at **app/res/values folder** and add this item     \r\n`&lt;item name=&quot;textInputStyle&quot;&gt;@style/Widget.Design.TextInputLayout&lt;/item&gt;`in your style named AppTheme. . \r\n\r\n    &lt;resources&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n\r\n        &lt;item name=&quot;textInputStyle&quot;&gt;@style/Widget.Design.TextInputLayout&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHope it helps to others, too. Let me know\r\n\r\n  [1]: https://i.stack.imgur.com/n3eij.png\r\n  [2]: https://i.stack.imgur.com/pnbmQ.png","title":"Failed to find style &#39;textInputStyle&#39; in current theme","body":"<p>In addition to above users answer, if you are unsure about how to determine which certain version of the support library you should upgrade or downgrade, let Android Studio choose that best applies to you. Simply target it by putting <strong>.+</strong> symbol right after the main version of the library, which works pretty well for me.</p>\n<p>Go to <strong>Gradle Scripts</strong>, open <strong>build.gradle(Module:app)</strong>, replace the version of <strong>support library</strong> <strong>dependencies</strong> as following:</p>\n<pre><code>dependencies {\n    implementation 'com.android.support:appcompat-v7:28.+'\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/n3eij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n3eij.png\" alt=\"enter image description here\" /></a></p>\n<p>and then go to <strong>styles.xml</strong> file located at <strong>app/res/values folder</strong> and add this item<br />\n<code>&lt;item name=&quot;textInputStyle&quot;&gt;@style/Widget.Design.TextInputLayout&lt;/item&gt;</code>in your style named AppTheme. .</p>\n<pre><code>&lt;resources&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n\n    &lt;item name=&quot;textInputStyle&quot;&gt;@style/Widget.Design.TextInputLayout&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pnbmQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pnbmQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope it helps to others, too. Let me know</p>\n"},{"tags":[],"owner":{"account_id":14943891,"reputation":1727,"user_id":10789722,"display_name":"MEGHA RAMOLIYA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615579593,"creation_date":1615567397,"answer_id":66603857,"question_id":51459228,"body_markdown":"First if you create themes in res file so, locate it in manifest file with  `android:theme=&quot;@style/Theme.xyz&quot;` and in the layout design you have to check the same theme is applied there or not. ","title":"Failed to find style &#39;textInputStyle&#39; in current theme","body":"<p>First if you create themes in res file so, locate it in manifest file with  <code>android:theme=&quot;@style/Theme.xyz&quot;</code> and in the layout design you have to check the same theme is applied there or not.</p>\n"}],"owner":{"account_id":10369341,"reputation":13,"user_id":7647477,"display_name":"Myles Jeremiah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51484376,"answer_count":3,"score":1,"last_activity_date":1675180350,"creation_date":1532199742,"question_id":51459228,"body_markdown":"I am very new to android develop &amp; Android Studio. I was trying to create a simple app with a text input field so that that user can input text. (Again very new to this and just messing around with android development/studio).\r\n\r\nAnyway, when I&#39;ve added the &#39;TextInputLayout&#39; and then a input text field from the palette, I get the above error.\r\n\r\nI have tried to refresh as hinted to me. Also tried uninstalling Android Studio, different APKs. I have tried some solutions from another post on stack-overflow by looking through the manifest file and the style.xml files and haven&#39;t had any luck.\r\n\r\nWas wondering if anyone could help me resolve this issue again I am extremely new to android development and Programming in general, so it may be an easy fix but I&#39;ve ran out of ideas LOL.\r\n\r\nBelow is the code I currently have my &#39;activity_main.xml&#39; file.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;android.support.design.widget.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;@string/input_text&quot;\r\n            android:inputType=&quot;text&quot; /&gt;\r\n     \r\n    &lt;/android.support.design.widget.TextInputLayout&gt;\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n","title":"Failed to find style &#39;textInputStyle&#39; in current theme","body":"<p>I am very new to android develop &amp; Android Studio. I was trying to create a simple app with a text input field so that that user can input text. (Again very new to this and just messing around with android development/studio).</p>\n\n<p>Anyway, when I've added the 'TextInputLayout' and then a input text field from the palette, I get the above error.</p>\n\n<p>I have tried to refresh as hinted to me. Also tried uninstalling Android Studio, different APKs. I have tried some solutions from another post on stack-overflow by looking through the manifest file and the style.xml files and haven't had any luck.</p>\n\n<p>Was wondering if anyone could help me resolve this issue again I am extremely new to android development and Programming in general, so it may be an easy fix but I've ran out of ideas LOL.</p>\n\n<p>Below is the code I currently have my 'activity_main.xml' file.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\"&gt;\n\n&lt;android.support.design.widget.TextInputLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:ems=\"10\"\n        android:hint=\"@string/input_text\"\n        android:inputType=\"text\" /&gt;\n\n&lt;/android.support.design.widget.TextInputLayout&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","http","amazon-s3","io"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1675178394,"post_id":75298635,"comment_id":132870123,"body_markdown":"What do you mean by &quot;ready to use&quot;? Is there some external factor that makes it ready?","body":"What do you mean by &quot;ready to use&quot;? Is there some external factor that makes it ready?"},{"owner":{"account_id":25902085,"reputation":35,"user_id":19627792,"display_name":"VegetaSan"},"score":0,"creation_date":1675236697,"post_id":75298635,"comment_id":132882628,"body_markdown":"@Jorn , Yes, the URL contains image from Wi-Fi camera, my program calls camera API to take snap and return URL with it, but response time of the URL from that API is like 1500ms, so if I try download image faster than that - it will threw the mentioned error","body":"@Jorn , Yes, the URL contains image from Wi-Fi camera, my program calls camera API to take snap and return URL with it, but response time of the URL from that API is like 1500ms, so if I try download image faster than that - it will threw the mentioned error"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675179985,"creation_date":1675179985,"answer_id":75299610,"question_id":75298635,"body_markdown":"I would write the method something like this:\r\n\r\n    create and configure HttpURLConnection for GET requests\r\n    for retries in 0 ... N:\r\n        try:\r\n            connect\r\n            if status code == 200:\r\n                open and read connection input stream\r\n                return\r\n            else:\r\n                if status code not retriable:\r\n                    fail\r\n        catch FileNotFound:\r\n            // noop\r\n        catch IOException:\r\n            fail\r\n        sleep S seconds\r\n    fail\r\n         \r\nThere some key differences between this and your approach.\r\n\r\n  - This doesn&#39;t do a HEAD.  That requires an extra round trip to the server.  Just do a GET each time.\r\n  - This doesn&#39;t retry for all status codes.  For example, if you got a 403 you shouldn&#39;t retry.  \r\n  - This retries for a FileNotFound exception which you will get for a 404 response; see the javadoc.  It shoulkdn&#39;t retry for other IO exceptions ... unless they are likely to succeed on retry.\r\n  - The max number of retries and delay between retries should be tuned.\r\n        ","title":"How to wait until URL is ready in Java?","body":"<p>I would write the method something like this:</p>\n<pre><code>create and configure HttpURLConnection for GET requests\nfor retries in 0 ... N:\n    try:\n        connect\n        if status code == 200:\n            open and read connection input stream\n            return\n        else:\n            if status code not retriable:\n                fail\n    catch FileNotFound:\n        // noop\n    catch IOException:\n        fail\n    sleep S seconds\nfail\n     \n</code></pre>\n<p>There some key differences between this and your approach.</p>\n<ul>\n<li>This doesn't do a HEAD.  That requires an extra round trip to the server.  Just do a GET each time.</li>\n<li>This doesn't retry for all status codes.  For example, if you got a 403 you shouldn't retry.</li>\n<li>This retries for a FileNotFound exception which you will get for a 404 response; see the javadoc.  It shoulkdn't retry for other IO exceptions ... unless they are likely to succeed on retry.</li>\n<li>The max number of retries and delay between retries should be tuned.</li>\n</ul>\n"}],"owner":{"account_id":25902085,"reputation":35,"user_id":19627792,"display_name":"VegetaSan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675179985,"creation_date":1675175215,"question_id":75298635,"body_markdown":"I created method that reads bytes from an URL with image and writes it to the S3 bukcet.\r\n\r\n    public void saveFileToStorage(String url, Long timestamp, Integer vehicleId) {\r\n        try {\r\n            URL link = new URL(url);\r\n            Thread.sleep(1500);//wait until URL is ready for download\r\n            byte[] contentBytes = IOUtils.toByteArray(link);\r\n            Long contentLength = (long) contentBytes.length;\r\n            repository.uploadFile(timestamp + &quot;.jpg&quot;, link.openStream(), vehicleId.toString() + &quot;/&quot;, contentLength);\r\n        } catch (IOException | InterruptedException e) {\r\n            log.error(e.getMessage() + &quot; - check thread sleep time!&quot;);\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\nRepository:\r\n\r\n    public void uploadFile(String keyName, InputStream file, String folder, Long contentLength) {\r\n        ObjectMetadata folderMetadata = new ObjectMetadata();\r\n        folderMetadata.setContentLength(0);\r\n        ObjectMetadata fileMetadata = new ObjectMetadata();\r\n        fileMetadata.setContentLength(contentLength);\r\n        s3client.putObject(bucketName, folder, new ByteArrayInputStream(new byte[0]), folderMetadata);\r\n        s3client.putObject(new PutObjectRequest(bucketName, folder + keyName, file, fileMetadata));\r\n    }\r\n\r\n\r\nMy main problem with this method was the time of URL readiness, when I run the app it always threw a RuntimeException because the URL wasn&#39;t ready to read. After some tests where I was looking at the URL response time, I added Thread.sleep and after that the apps work fine, but the response time can vary and I still get these errors from time to time. What is the best way to check if a URL is ready? I&#39;m trying to use the code below to check for readiness, but I can&#39;t figure out how to &quot;wait&quot; until the URL is ready to use\r\n\r\n     public static boolean check(String URLName){\r\n        try {\r\n            HttpURLConnection.setFollowRedirects(false);\r\n            HttpURLConnection con = (HttpURLConnection) new URL(URLName).openConnection();\r\n            con.setRequestMethod(&quot;HEAD&quot;);\r\n            return (con.getResponseCode() == HttpURLConnection.HTTP_OK);\r\n        }\r\n        catch (Exception e) {\r\n           return false;\r\n        }","title":"How to wait until URL is ready in Java?","body":"<p>I created method that reads bytes from an URL with image and writes it to the S3 bukcet.</p>\n<pre><code>public void saveFileToStorage(String url, Long timestamp, Integer vehicleId) {\n    try {\n        URL link = new URL(url);\n        Thread.sleep(1500);//wait until URL is ready for download\n        byte[] contentBytes = IOUtils.toByteArray(link);\n        Long contentLength = (long) contentBytes.length;\n        repository.uploadFile(timestamp + &quot;.jpg&quot;, link.openStream(), vehicleId.toString() + &quot;/&quot;, contentLength);\n    } catch (IOException | InterruptedException e) {\n        log.error(e.getMessage() + &quot; - check thread sleep time!&quot;);\n        throw new RuntimeException(e);\n    }\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public void uploadFile(String keyName, InputStream file, String folder, Long contentLength) {\n    ObjectMetadata folderMetadata = new ObjectMetadata();\n    folderMetadata.setContentLength(0);\n    ObjectMetadata fileMetadata = new ObjectMetadata();\n    fileMetadata.setContentLength(contentLength);\n    s3client.putObject(bucketName, folder, new ByteArrayInputStream(new byte[0]), folderMetadata);\n    s3client.putObject(new PutObjectRequest(bucketName, folder + keyName, file, fileMetadata));\n}\n</code></pre>\n<p>My main problem with this method was the time of URL readiness, when I run the app it always threw a RuntimeException because the URL wasn't ready to read. After some tests where I was looking at the URL response time, I added Thread.sleep and after that the apps work fine, but the response time can vary and I still get these errors from time to time. What is the best way to check if a URL is ready? I'm trying to use the code below to check for readiness, but I can't figure out how to &quot;wait&quot; until the URL is ready to use</p>\n<pre><code> public static boolean check(String URLName){\n    try {\n        HttpURLConnection.setFollowRedirects(false);\n        HttpURLConnection con = (HttpURLConnection) new URL(URLName).openConnection();\n        con.setRequestMethod(&quot;HEAD&quot;);\n        return (con.getResponseCode() == HttpURLConnection.HTTP_OK);\n    }\n    catch (Exception e) {\n       return false;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","integration-testing"],"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675179936,"creation_date":1675179936,"question_id":75299599,"body_markdown":"I initiate an api call to an extenral service in a class constractor annoated with ```@Component```\r\n```@Primary``` . \r\n\r\n```\r\npackage com.omar.pay.bill\r\n\r\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\r\nimport com.fasterxml.jackson.module.kotlin.readValue\r\nimport okhttp3.FormBody\r\nimport okhttp3.OkHttpClient\r\nimport okhttp3.Request\r\nimport okhttp3.Response\r\nimport org.slf4j.LoggerFactory\r\nimport org.springframework.beans.factory.annotation.Value\r\nimport org.springframework.context.annotation.Primary\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\n@Primary\r\nclass x(\r\n  @Value(&quot;\\${client-id}&quot;) val clientId: String,\r\n  @Value(&quot;\\${client-secret}&quot;) val clientSecret: String,\r\n  @Value(&quot;\\${token-uri}&quot;) val tokenUrl: String\r\n) : x {\r\n  private val grantType = &quot;dude&quot;\r\n  private val client: OkHttpClient = OkHttpClient()\r\n    .newBuilder()\r\n    .build()\r\n\r\n  private val log =\r\n    LoggerFactory.getLogger(x::class.java)\r\n\r\n  private var currentAccessToken: OResponse = fetchApiResponse()\r\n\r\n \r\n  }\r\n\r\n  private fun fetchApiResponse(): OResponse {\r\n\r\n    val request: Request = Request.Builder()\r\n      .url(tokenUrl)\r\n      .post(\r\n        FormBody.Builder()\r\n          .add(&quot;grant_type&quot;, grantType)\r\n          .add(&quot;client_id&quot;, clientId)\r\n          .add(&quot;client_secret&quot;, clientSecret)\r\n          .build()\r\n      )\r\n      .build()\r\n\r\n    val response: Response = client.newCall(request).execute()\r\n    val token: OResponse =\r\n      jacksonObjectMapper().readValue(response.body()!!.byteStream())\r\n    log.info(&quot;Fetched token: $response&quot;)\r\n\r\n    return response\r\n  }\r\n}\r\n```\r\n\r\n\r\nThe integration test fails to start with error as the spring boot context intiate the bean before the wiremock start and stub the calls . It throws the error below \r\n\r\n&gt; Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.omar.pay.bill.x]: Constructor threw exception; nested exception is java.net.ConnectException: Failed to connect to /127.0.0.1:9999.\r\n\r\n\r\nI have went throught some [reference][1] tells how to mock the beans are annoated as ```Primary``` and sounds the issue has been solved for the unit test part , but I couldn&#39;t find solid solution for the integration test . \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68808026/how-to-override-primary-bean-in-spring-boot-junit-test-cases","title":"Spring boot : Unable to stub api call called from bean marked as @Primary","body":"<p>I initiate an api call to an extenral service in a class constractor annoated with <code>@Component</code>\n<code>@Primary</code> .</p>\n<pre><code>package com.omar.pay.bill\n\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\nimport com.fasterxml.jackson.module.kotlin.readValue\nimport okhttp3.FormBody\nimport okhttp3.OkHttpClient\nimport okhttp3.Request\nimport okhttp3.Response\nimport org.slf4j.LoggerFactory\nimport org.springframework.beans.factory.annotation.Value\nimport org.springframework.context.annotation.Primary\nimport org.springframework.stereotype.Component\n\n@Component\n@Primary\nclass x(\n  @Value(&quot;\\${client-id}&quot;) val clientId: String,\n  @Value(&quot;\\${client-secret}&quot;) val clientSecret: String,\n  @Value(&quot;\\${token-uri}&quot;) val tokenUrl: String\n) : x {\n  private val grantType = &quot;dude&quot;\n  private val client: OkHttpClient = OkHttpClient()\n    .newBuilder()\n    .build()\n\n  private val log =\n    LoggerFactory.getLogger(x::class.java)\n\n  private var currentAccessToken: OResponse = fetchApiResponse()\n\n \n  }\n\n  private fun fetchApiResponse(): OResponse {\n\n    val request: Request = Request.Builder()\n      .url(tokenUrl)\n      .post(\n        FormBody.Builder()\n          .add(&quot;grant_type&quot;, grantType)\n          .add(&quot;client_id&quot;, clientId)\n          .add(&quot;client_secret&quot;, clientSecret)\n          .build()\n      )\n      .build()\n\n    val response: Response = client.newCall(request).execute()\n    val token: OResponse =\n      jacksonObjectMapper().readValue(response.body()!!.byteStream())\n    log.info(&quot;Fetched token: $response&quot;)\n\n    return response\n  }\n}\n</code></pre>\n<p>The integration test fails to start with error as the spring boot context intiate the bean before the wiremock start and stub the calls . It throws the error below</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.omar.pay.bill.x]: Constructor threw exception; nested exception is java.net.ConnectException: Failed to connect to /127.0.0.1:9999.</p>\n</blockquote>\n<p>I have went throught some <a href=\"https://stackoverflow.com/questions/68808026/how-to-override-primary-bean-in-spring-boot-junit-test-cases\">reference</a> tells how to mock the beans are annoated as <code>Primary</code> and sounds the issue has been solved for the unit test part , but I couldn't find solid solution for the integration test .</p>\n"},{"tags":["java","exception","throws"],"answers":[{"comments":[{"owner":{"account_id":1235553,"reputation":2461,"user_id":1199194,"accept_rate":100,"display_name":"Cody"},"score":2,"creation_date":1396377083,"post_id":4392526,"comment_id":34756721,"body_markdown":"Should unchecked exceptions also be declared in the method signature with a &#39;throws&#39;, or is it practice to only use &#39;throws&#39; for checked exceptions?","body":"Should unchecked exceptions also be declared in the method signature with a &#39;throws&#39;, or is it practice to only use &#39;throws&#39; for checked exceptions?"},{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":0,"creation_date":1526505278,"post_id":4392526,"comment_id":87776210,"body_markdown":"This answer does not directly address the central aspect of the question: The use of the `throws` keyword.","body":"This answer does not directly address the central aspect of the question: The use of the <code>throws</code> keyword."},{"owner":{"account_id":5088460,"reputation":644,"user_id":4472665,"accept_rate":18,"display_name":"Manoj"},"score":0,"creation_date":1534830964,"post_id":4392526,"comment_id":90834265,"body_markdown":"@hvgotcodes What happens if I catch an exception and do nothing?","body":"@hvgotcodes What happens if I catch an exception and do nothing?"},{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":0,"creation_date":1534946490,"post_id":4392526,"comment_id":90887494,"body_markdown":"@manoj you risk things breaking and not being able to figure it out because crucial information is lost.  There are times (not necessarily java) where it is ok to catch an exception and do nothing, but those should be documented.  For example, in javascript you can try to invoke functionality which might not exist depending on a browser.  That&#39;s not necessarily an error that needs attention.","body":"@manoj you risk things breaking and not being able to figure it out because crucial information is lost.  There are times (not necessarily java) where it is ok to catch an exception and do nothing, but those should be documented.  For example, in javascript you can try to invoke functionality which might not exist depending on a browser.  That&#39;s not necessarily an error that needs attention."}],"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":4,"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1394384212,"creation_date":1291843618,"answer_id":4392526,"question_id":4392446,"body_markdown":"If you are catching an exception type, you do not need to throw it, unless you are going to rethrow it.  In the example you post, the developer should have done one or another, not both.\r\n\r\nTypically, if you are not going to do anything with the exception, you should not catch it.  \r\n\r\nThe most dangerous thing you can do is catch an exception and not do anything with it.\r\n\r\nA good discussion of when it is appropriate to throw exceptions is here\r\n\r\nhttps://stackoverflow.com/questions/77127/when-to-throw-an-exception","title":"When to use throws in a Java method declaration?","body":"<p>If you are catching an exception type, you do not need to throw it, unless you are going to rethrow it.  In the example you post, the developer should have done one or another, not both.</p>\n\n<p>Typically, if you are not going to do anything with the exception, you should not catch it.  </p>\n\n<p>The most dangerous thing you can do is catch an exception and not do anything with it.</p>\n\n<p>A good discussion of when it is appropriate to throw exceptions is here</p>\n\n<p><a href=\"https://stackoverflow.com/questions/77127/when-to-throw-an-exception\">When to throw an exception?</a></p>\n"},{"tags":[],"owner":{"account_id":159625,"reputation":307,"user_id":379156,"display_name":"RevBingo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291843767,"creation_date":1291843767,"answer_id":4392560,"question_id":4392446,"body_markdown":"You&#39;re correct, in that example the `throws` is superfluous.  It&#39;s possible that it was left there from some previous implementation - perhaps the exception was originally thrown instead of caught in the catch block.","title":"When to use throws in a Java method declaration?","body":"<p>You're correct, in that example the <code>throws</code> is superfluous.  It's possible that it was left there from some previous implementation - perhaps the exception was originally thrown instead of caught in the catch block.</p>\n"},{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291843888,"creation_date":1291843888,"answer_id":4392583,"question_id":4392446,"body_markdown":"In the example you gave, the method will never throw an IOException, therefore the declaration is wrong (but valid).  My guess is that the original method threw the IOException, but it was then updated to handle the exception within but the declaration was not changed.","title":"When to use throws in a Java method declaration?","body":"<p>In the example you gave, the method will never throw an IOException, therefore the declaration is wrong (but valid).  My guess is that the original method threw the IOException, but it was then updated to handle the exception within but the declaration was not changed.</p>\n"},{"tags":[],"owner":{"account_id":94709,"reputation":1048,"user_id":258424,"display_name":"Shane Bell"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1291843928,"creation_date":1291843928,"answer_id":4392588,"question_id":4392446,"body_markdown":"You only need to include a throws clause on a method if the method throws a checked exception. If the method throws a runtime exception then there is no need to do so.\r\n\r\nSee here for some background on checked vs unchecked exceptions: http://download.oracle.com/javase/tutorial/essential/exceptions/runtime.html\r\n\r\nIf the method catches the exception and deals with it internally (as in your second example) then there is no need to include a throws clause.","title":"When to use throws in a Java method declaration?","body":"<p>You only need to include a throws clause on a method if the method throws a checked exception. If the method throws a runtime exception then there is no need to do so.</p>\n\n<p>See here for some background on checked vs unchecked exceptions: <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"noreferrer\">http://download.oracle.com/javase/tutorial/essential/exceptions/runtime.html</a></p>\n\n<p>If the method catches the exception and deals with it internally (as in your second example) then there is no need to include a throws clause.</p>\n"},{"tags":[],"owner":{"account_id":2143,"reputation":11430,"user_id":2955,"accept_rate":66,"display_name":"Damo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1291843941,"creation_date":1291843941,"answer_id":4392591,"question_id":4392446,"body_markdown":"The code that you looked at is not ideal. You should either:\r\n\r\n 1. Catch the exception and handle it;\r\n    in which case the `throws` is\r\n    unnecesary.\r\n    \r\n 1. Remove the `try/catch`; in which case\r\n    the Exception will be handled by a\r\n    calling method.\r\n    \r\n 1. Catch the exception, possibly\r\n    perform some action and then rethrow\r\n    the exception (not just the message)\r\n\r\n","title":"When to use throws in a Java method declaration?","body":"<p>The code that you looked at is not ideal. You should either:</p>\n\n<ol>\n<li><p>Catch the exception and handle it;\nin which case the <code>throws</code> is\nunnecesary.</p></li>\n<li><p>Remove the <code>try/catch</code>; in which case\nthe Exception will be handled by a\ncalling method.</p></li>\n<li><p>Catch the exception, possibly\nperform some action and then rethrow\nthe exception (not just the message)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1818501,"reputation":159,"user_id":1653102,"display_name":"wizardInCloud"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675179935,"creation_date":1350602348,"answer_id":12965192,"question_id":4392446,"body_markdown":"The code you posted is wrong, it should throw an Exception if is catching a specific exception in order to handler IOException but throwing not catched exceptions.\r\n\r\nSomething like:\r\n\r\n    public void method() throws Exception {\r\n       try {\r\n               BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n       } catch(IOException e) {\r\n               System.out.println(e.getMessage());\r\n       }\r\n    }\r\n\r\nor\r\n\r\n    public void method() {\r\n       try {\r\n               BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n       } catch(IOException e) {\r\n               System.out.println(&quot;Catching IOException&quot;);\r\n               System.out.println(e.getMessage());\r\n       } catch(Exception e) {\r\n               System.out.println(&quot;Catching any other Exceptions like NullPontException, FileNotFoundExceptioon, etc.&quot;);\r\n               System.out.println(e.getMessage());\r\n       }\r\n    }","title":"When to use throws in a Java method declaration?","body":"<p>The code you posted is wrong, it should throw an Exception if is catching a specific exception in order to handler IOException but throwing not catched exceptions.</p>\n<p>Something like:</p>\n<pre><code>public void method() throws Exception {\n   try {\n           BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\n   } catch(IOException e) {\n           System.out.println(e.getMessage());\n   }\n}\n</code></pre>\n<p>or</p>\n<pre><code>public void method() {\n   try {\n           BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\n   } catch(IOException e) {\n           System.out.println(&quot;Catching IOException&quot;);\n           System.out.println(e.getMessage());\n   } catch(Exception e) {\n           System.out.println(&quot;Catching any other Exceptions like NullPontException, FileNotFoundExceptioon, etc.&quot;);\n           System.out.println(e.getMessage());\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":0,"creation_date":1526504918,"post_id":47577401,"comment_id":87776075,"body_markdown":"The compiler does a surprisingly sophisticated static analysis to decide whether or not the `throws` is required.","body":"The compiler does a surprisingly sophisticated static analysis to decide whether or not the <code>throws</code> is required."}],"tags":[],"owner":{"account_id":1904786,"reputation":4277,"user_id":1719877,"display_name":"agelbess"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512057098,"creation_date":1512057098,"answer_id":47577401,"question_id":4392446,"body_markdown":"This is not an answer, but a comment, but I could not write a comment with a formatted code, so here is the comment.\r\n\r\nLets say there is\r\n\r\n    public static void main(String[] args) {\r\n      try {\r\n        // do nothing or throw a RuntimeException\r\n        throw new RuntimeException(&quot;test&quot;);\r\n      } catch (Exception e) {\r\n        System.out.println(e.getMessage());\r\n        throw e;\r\n      }\r\n    }\r\n\r\nThe output is \r\n\r\n    test\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: test\r\n    \tat MyClass.main(MyClass.java:10)\r\n\r\nThat method does not declare any &quot;throws&quot; Exceptions, but throws them!\r\nThe trick is that the thrown exceptions are RuntimeExceptions (unchecked) that are not needed to be declared on the method.\r\nIt is a bit misleading for the reader of the method, since all she sees is a &quot;throw e;&quot; statement but no declaration of the throws exception\r\n\r\nNow, if we have\r\n\r\n    public static void main(String[] args) throws Exception {\r\n      try {\r\n        throw new Exception(&quot;test&quot;);\r\n      } catch (Exception e) {\r\n        System.out.println(e.getMessage());\r\n        throw e;\r\n      }\r\n    }\r\n\r\nWe MUST declare the &quot;throws&quot; exceptions in the method otherwise we get a compiler error.\r\n\r\n","title":"When to use throws in a Java method declaration?","body":"<p>This is not an answer, but a comment, but I could not write a comment with a formatted code, so here is the comment.</p>\n\n<p>Lets say there is</p>\n\n<pre><code>public static void main(String[] args) {\n  try {\n    // do nothing or throw a RuntimeException\n    throw new RuntimeException(\"test\");\n  } catch (Exception e) {\n    System.out.println(e.getMessage());\n    throw e;\n  }\n}\n</code></pre>\n\n<p>The output is </p>\n\n<pre><code>test\nException in thread \"main\" java.lang.RuntimeException: test\n    at MyClass.main(MyClass.java:10)\n</code></pre>\n\n<p>That method does not declare any \"throws\" Exceptions, but throws them!\nThe trick is that the thrown exceptions are RuntimeExceptions (unchecked) that are not needed to be declared on the method.\nIt is a bit misleading for the reader of the method, since all she sees is a \"throw e;\" statement but no declaration of the throws exception</p>\n\n<p>Now, if we have</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n  try {\n    throw new Exception(\"test\");\n  } catch (Exception e) {\n    System.out.println(e.getMessage());\n    throw e;\n  }\n}\n</code></pre>\n\n<p>We MUST declare the \"throws\" exceptions in the method otherwise we get a compiler error.</p>\n"}],"owner":{"account_id":255495,"reputation":5919,"user_id":535590,"accept_rate":80,"display_name":"jbranchaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132745,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":4392526,"answer_count":7,"score":90,"last_activity_date":1675179935,"creation_date":1291843118,"question_id":4392446,"body_markdown":"So I thought I had a good basic understanding of exception-handling in Java, but I was recently reading some code that gave me some confusion and doubts. My main doubt that I want to address here is when should a person use throws in a Java method declaration like the following:\r\n&lt;pre&gt;&lt;code&gt;    public void method() throws SomeException\r\n    {\r\n         // method body here\r\n    }\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nFrom reading some similar posts I gather that &lt;b&gt;throws&lt;/b&gt; is used as a sort of declaration that &lt;em&gt;SomeException&lt;/em&gt; could be thrown during the execution of the method.\r\n\r\nMy confusion comes from some code that looked like this:\r\n&lt;pre&gt;&lt;code&gt;     public void method() throws IOException\r\n     {\r\n          try\r\n          {\r\n               BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n          }\r\n          catch(IOException e)\r\n          {\r\n               System.out.println(e.getMessage());\r\n          }\r\n     }&lt;/code&gt;&lt;/pre&gt;\r\n\r\nIs there any reason that you would want to use a &lt;b&gt;throws&lt;/b&gt; in this example? It seems that if you are just doing basic exception-handling of something like an IOException that you would simply need the try/catch block and that&#39;s it.","title":"When to use throws in a Java method declaration?","body":"<p>So I thought I had a good basic understanding of exception-handling in Java, but I was recently reading some code that gave me some confusion and doubts. My main doubt that I want to address here is when should a person use throws in a Java method declaration like the following:</p>\n\n<pre><code>    public void method() throws SomeException\n    {\n         // method body here\n    }\n</code></pre>\n\n<p>From reading some similar posts I gather that <b>throws</b> is used as a sort of declaration that <em>SomeException</em> could be thrown during the execution of the method.</p>\n\n<p>My confusion comes from some code that looked like this:</p>\n\n<pre><code>     public void method() throws IOException\n     {\n          try\n          {\n               BufferedReader br = new BufferedReader(new FileReader(\"file.txt\"));\n          }\n          catch(IOException e)\n          {\n               System.out.println(e.getMessage());\n          }\n     }</code></pre>\n\n<p>Is there any reason that you would want to use a <b>throws</b> in this example? It seems that if you are just doing basic exception-handling of something like an IOException that you would simply need the try/catch block and that's it.</p>\n"},{"tags":["java","junit","mariadb","h2","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675179293,"creation_date":1675179293,"answer_id":75299464,"question_id":75285122,"body_markdown":"This is an open ended question with no obvious, &quot;correct&quot; answer. jOOQ&#39;s official take here is that you may want to re-consider using alternative RDBMS for testing what you could be doing [with your target RDBMS directly, specifically using testcontainers][1].\r\n\r\nYou could [combine this approach with jOOQ&#39;s code generation][2] for a more streamlined development process.\r\n\r\nIn short, jOOQ&#39;s recommendation is to use:\r\n\r\n- Flyway or Liquibase for database change management\r\n- Testcontainers for code generation\r\n- Testcontainers for integration testing\r\n\r\nOther, equivalent products are obviously also possible.\r\n\r\n\r\n  [1]: https://blog.jooq.org/using-h2-as-a-test-database-product/\r\n  [2]: https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/","title":"Use dummy H2 DB for testing with Jooq","body":"<p>This is an open ended question with no obvious, &quot;correct&quot; answer. jOOQ's official take here is that you may want to re-consider using alternative RDBMS for testing what you could be doing <a href=\"https://blog.jooq.org/using-h2-as-a-test-database-product/\" rel=\"nofollow noreferrer\">with your target RDBMS directly, specifically using testcontainers</a>.</p>\n<p>You could <a href=\"https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/\" rel=\"nofollow noreferrer\">combine this approach with jOOQ's code generation</a> for a more streamlined development process.</p>\n<p>In short, jOOQ's recommendation is to use:</p>\n<ul>\n<li>Flyway or Liquibase for database change management</li>\n<li>Testcontainers for code generation</li>\n<li>Testcontainers for integration testing</li>\n</ul>\n<p>Other, equivalent products are obviously also possible.</p>\n"}],"owner":{"account_id":12616725,"reputation":1228,"user_id":9614332,"display_name":"Stefano Bossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75299464,"answer_count":1,"score":1,"last_activity_date":1675179293,"creation_date":1675085409,"question_id":75285122,"body_markdown":"I would like to find a reliable way to test my Maria DB schema with Jooq. \r\nThis is what I have now:\r\n* let Jooq with Gradle to extract an XML schema from the real DB (i.e. Maria instance) via `org.jooq.codegen.XMLGenerator`, this step will generate a `maria_information_schema.xml`;\r\n* use this schema to generate all the Java Classes.\r\n\r\nTo test all the classes I will write I have develop a technique:\r\n* fire a H2 embedded in ram database;\r\n* build a java `InitDatabase.java` class which ***manually*** set a DB schema as similar as possible with the MariaDB one;\r\n* preform all the test on the in ram DB.\r\n\r\nThis procedure works perfectly as far as I don&#39;t change something on the real DB and I forgot to do the same on the `InitDatabase.java` class.\r\n\r\nMy question is: is there a way to use the XML schema or the generated java classes to create an H2 Database with the same schema as the MariaDb one without writing manually all the create table statement? \r\n\r\nThanks","title":"Use dummy H2 DB for testing with Jooq","body":"<p>I would like to find a reliable way to test my Maria DB schema with Jooq.\nThis is what I have now:</p>\n<ul>\n<li>let Jooq with Gradle to extract an XML schema from the real DB (i.e. Maria instance) via <code>org.jooq.codegen.XMLGenerator</code>, this step will generate a <code>maria_information_schema.xml</code>;</li>\n<li>use this schema to generate all the Java Classes.</li>\n</ul>\n<p>To test all the classes I will write I have develop a technique:</p>\n<ul>\n<li>fire a H2 embedded in ram database;</li>\n<li>build a java <code>InitDatabase.java</code> class which <em><strong>manually</strong></em> set a DB schema as similar as possible with the MariaDB one;</li>\n<li>preform all the test on the in ram DB.</li>\n</ul>\n<p>This procedure works perfectly as far as I don't change something on the real DB and I forgot to do the same on the <code>InitDatabase.java</code> class.</p>\n<p>My question is: is there a way to use the XML schema or the generated java classes to create an H2 Database with the same schema as the MariaDb one without writing manually all the create table statement?</p>\n<p>Thanks</p>\n"},{"tags":["java","sql-server","h2","jooq"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1675078180,"post_id":75283762,"comment_id":132843894,"body_markdown":"Different (R)DBMS use (very) different dialects of SQL. This is expected behaviour, as it&#39;s unlikely that the syntax for one (R)DBMS&#39;s dialect will be compatible with another (sometimes even *very* simple queries aren&#39;t transferable without a small amount of translation).","body":"Different (R)DBMS use (very) different dialects of SQL. This is expected behaviour, as it&#39;s unlikely that the syntax for one (R)DBMS&#39;s dialect will be compatible with another (sometimes even <i>very</i> simple queries aren&#39;t transferable without a small amount of translation)."},{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":0,"creation_date":1675086954,"post_id":75283762,"comment_id":132846779,"body_markdown":"But if you use H2 with prepared statements then no extra select is needed for the automatically generated ID. I can just use a insert with returning generated key and thats it","body":"But if you use H2 with prepared statements then no extra select is needed for the automatically generated ID. I can just use a insert with returning generated key and thats it"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675178866,"creation_date":1675178866,"answer_id":75299386,"question_id":75283762,"body_markdown":"The expectation of jOOQ (or any ORM) producing the exact same SQL for different SQL dialects is wrong. The whole point of abstracting over SQL is, in parts, to be able to generate SQL that &quot;does the job&quot;.\r\n\r\nIn this case, it seems you&#39;re running some sort of statement that tries to implement `RETURNING` behaviour, where generated keys are to be fetched from the RDBMS after insertion. Both H2 and SQL Server have means to do this:\r\n\r\n- H2 implements the standard SQL data change delta table (`FINAL TABLE (...)`)\r\n- SQL Server has an `OUTPUT` clause, but it has some limitations, including not being able to produce trigger generated values, so jOOQ generates a statement batch which fetches results into a in-memory temporary table.\r\n\r\nYou can find more details about this topic in this blog post about [the many ways of returning data from SQL DML statements, on the jOOQ blog][1], which explains what jOOQ does behind the scenes, and why.\r\n\r\nYour question &quot;What are my options to solve this?&quot; is harder to answer, because I&#39;m not convinced your motivation here is reasonable: That of expecting identical SQL for both RDBMS.\r\n\r\nPerhaps a much better question is: [Do you really need H2 (as a test database product)? Here&#39;s jOOQ&#39;s take on this][2].\r\n\r\n\r\n  [1]: https://blog.jooq.org/the-many-ways-to-return-data-from-sql-dml/\r\n  [2]: https://blog.jooq.org/using-h2-as-a-test-database-product/","title":"Storing a record with JOOQ shows different behavior on insert in h2 and MSSQL","body":"<p>The expectation of jOOQ (or any ORM) producing the exact same SQL for different SQL dialects is wrong. The whole point of abstracting over SQL is, in parts, to be able to generate SQL that &quot;does the job&quot;.</p>\n<p>In this case, it seems you're running some sort of statement that tries to implement <code>RETURNING</code> behaviour, where generated keys are to be fetched from the RDBMS after insertion. Both H2 and SQL Server have means to do this:</p>\n<ul>\n<li>H2 implements the standard SQL data change delta table (<code>FINAL TABLE (...)</code>)</li>\n<li>SQL Server has an <code>OUTPUT</code> clause, but it has some limitations, including not being able to produce trigger generated values, so jOOQ generates a statement batch which fetches results into a in-memory temporary table.</li>\n</ul>\n<p>You can find more details about this topic in this blog post about <a href=\"https://blog.jooq.org/the-many-ways-to-return-data-from-sql-dml/\" rel=\"nofollow noreferrer\">the many ways of returning data from SQL DML statements, on the jOOQ blog</a>, which explains what jOOQ does behind the scenes, and why.</p>\n<p>Your question &quot;What are my options to solve this?&quot; is harder to answer, because I'm not convinced your motivation here is reasonable: That of expecting identical SQL for both RDBMS.</p>\n<p>Perhaps a much better question is: <a href=\"https://blog.jooq.org/using-h2-as-a-test-database-product/\" rel=\"nofollow noreferrer\">Do you really need H2 (as a test database product)? Here's jOOQ's take on this</a>.</p>\n"}],"owner":{"account_id":27635205,"reputation":11,"user_id":21093276,"display_name":"user21093276"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675178866,"creation_date":1675078070,"question_id":75283762,"body_markdown":"When storing a record with jooq it generates different SQL for h2 and MSSQL, which makes it impossible to use quickperfs @ExpectInsert/@ExpectSelect annotations in test, since it counts differently. The generated SQL looks for H2 like:\r\n&gt; select &quot;ID&quot; from final table (insert into...\r\n\r\nand for MSSQL:\r\n&gt; declare @result table ([ID] bigint); insert into ...\r\n\r\nso in the first case quickperf does not count an insert but an select. So, why is the generated SQL so different? What are my options to solve this?  Any hints are much appreciated.\r\n\r\nI used the jooq store() method and insertInto() with no difference in the generated SQL.","title":"Storing a record with JOOQ shows different behavior on insert in h2 and MSSQL","body":"<p>When storing a record with jooq it generates different SQL for h2 and MSSQL, which makes it impossible to use quickperfs @ExpectInsert/@ExpectSelect annotations in test, since it counts differently. The generated SQL looks for H2 like:</p>\n<blockquote>\n<p>select &quot;ID&quot; from final table (insert into...</p>\n</blockquote>\n<p>and for MSSQL:</p>\n<blockquote>\n<p>declare @result table ([ID] bigint); insert into ...</p>\n</blockquote>\n<p>so in the first case quickperf does not count an insert but an select. So, why is the generated SQL so different? What are my options to solve this?  Any hints are much appreciated.</p>\n<p>I used the jooq store() method and insertInto() with no difference in the generated SQL.</p>\n"},{"tags":["java","android","android-studio","accelerometer"],"comments":[{"owner":{"account_id":10805772,"reputation":1669,"user_id":7948109,"display_name":"Rahul Gaur"},"score":0,"creation_date":1579930664,"post_id":59906444,"comment_id":105939623,"body_markdown":"Does this answer your question? [How to detect shake event with android?](https://stackoverflow.com/questions/5271448/how-to-detect-shake-event-with-android)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5271448/how-to-detect-shake-event-with-android\">How to detect shake event with android?</a>"},{"owner":{"account_id":16990748,"reputation":75,"user_id":12290411,"display_name":"Manoj H M"},"score":0,"creation_date":1580809218,"post_id":59906444,"comment_id":106210645,"body_markdown":"No sir... I want text to be toasted exactly after shaking the phone for 3 times","body":"No sir... I want text to be toasted exactly after shaking the phone for 3 times"},{"owner":{"account_id":10805772,"reputation":1669,"user_id":7948109,"display_name":"Rahul Gaur"},"score":0,"creation_date":1580817062,"post_id":59906444,"comment_id":106214899,"body_markdown":"You can add a counter to detect every 3rd shake","body":"You can add a counter to detect every 3rd shake"},{"owner":{"account_id":16990748,"reputation":75,"user_id":12290411,"display_name":"Manoj H M"},"score":0,"creation_date":1580825609,"post_id":59906444,"comment_id":106219650,"body_markdown":"I did everything as I could&#39;ve done sir... But I didn&#39;t get any result I added count variable, changed values too.. but didn&#39;t get output","body":"I did everything as I could&#39;ve done sir... But I didn&#39;t get any result I added count variable, changed values too.. but didn&#39;t get output"}],"answers":[{"tags":[],"owner":{"account_id":10805772,"reputation":1669,"user_id":7948109,"display_name":"Rahul Gaur"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580875300,"creation_date":1580875300,"answer_id":60068847,"question_id":59906444,"body_markdown":"Add this as `Global Var`\r\n\r\n```\r\nprivate static int counter = 0;\r\n```\r\n\r\nnow add these lines in your `onSensorChanged`\r\n\r\n\r\n    if (shake &gt; 12) {\r\n        counter++;\r\n    }\r\n\r\n    if (counter &gt;= 3) {\r\n        counter = 0;\r\n        Toast t = Toast.makeText(getApplicationContext(), &quot;Don&#39;t Shake phone&quot;, Toast.LENGTH_LONG);\r\n        t.show();\r\n    }\r\n\r\nThis will show toast every 3rd time user shakes the phone, I also suggest to change `Toast` length to `LENGTH_SHORT`\r\n\r\nHope this will help!","title":"How to detect shake and toast a message after shaking the phone 3 times in android","body":"<p>Add this as <code>Global Var</code></p>\n\n<pre><code>private static int counter = 0;\n</code></pre>\n\n<p>now add these lines in your <code>onSensorChanged</code></p>\n\n<pre><code>if (shake &gt; 12) {\n    counter++;\n}\n\nif (counter &gt;= 3) {\n    counter = 0;\n    Toast t = Toast.makeText(getApplicationContext(), \"Don't Shake phone\", Toast.LENGTH_LONG);\n    t.show();\n}\n</code></pre>\n\n<p>This will show toast every 3rd time user shakes the phone, I also suggest to change <code>Toast</code> length to <code>LENGTH_SHORT</code></p>\n\n<p>Hope this will help!</p>\n"}],"owner":{"account_id":16990748,"reputation":75,"user_id":12290411,"display_name":"Manoj H M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60068847,"answer_count":1,"score":1,"last_activity_date":1675178808,"creation_date":1579928208,"question_id":59906444,"body_markdown":"    package com.example.womenssafety;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Context;\r\n    import android.hardware.Sensor;\r\n    import android.hardware.SensorEvent;\r\n    import android.hardware.SensorEventListener;\r\n    import android.hardware.SensorManager;\r\n    import android.os.Bundle;\r\n    import android.widget.Toast;\r\n    public class MainActivity extends AppCompatActivity {\r\n    private SensorManager sm;\r\n    private float acelVal,acelLast,shake;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            sm=(SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n            sm.registerListener(sensorListener,sm.getDefaultSensor(Sensor.TYPE_ACCELEROMETER), SensorManager.SENSOR_DELAY_NORMAL);\r\n    \r\n            acelVal=SensorManager.GRAVITY_EARTH;\r\n            acelLast=SensorManager.GRAVITY_EARTH;\r\n            shake=0.00f;\r\n        }\r\n    private final SensorEventListener sensorListener = new SensorEventListener() {\r\n        @Override\r\n        public void onSensorChanged(SensorEvent event) {\r\n            float x =event.values[0];\r\n            float y =event.values[1];\r\n            float z =event.values[2];\r\n            acelLast=acelVal;\r\n            acelVal=(float) Math.sqrt((double) (x*x)+(y*y)+(z*z));\r\n            float delta= acelVal-acelLast;\r\n            shake =shake*0.9f+delta;\r\n    \r\n    \r\n            if(shake&gt;12){\r\n                Toast t =Toast.makeText(getApplicationContext(), &quot;Dont Shake phone&quot;,Toast.LENGTH_LONG);\r\n                t.show();\r\n            }\r\n        }\r\n        @Override\r\n        public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n        }\r\n    };\r\n    }\r\n\r\nIn this code it&#39;s toasting the message after shaking the phone 1 time. But I want to get the toast message after shaking the phone 3 times.\r\n \r\nHow can I do this?","title":"How to detect shake and toast a message after shaking the phone 3 times in android","body":"<pre><code>package com.example.womenssafety;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Context;\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\nimport android.hardware.SensorManager;\nimport android.os.Bundle;\nimport android.widget.Toast;\npublic class MainActivity extends AppCompatActivity {\nprivate SensorManager sm;\nprivate float acelVal,acelLast,shake;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        sm=(SensorManager) getSystemService(Context.SENSOR_SERVICE);\n        sm.registerListener(sensorListener,sm.getDefaultSensor(Sensor.TYPE_ACCELEROMETER), SensorManager.SENSOR_DELAY_NORMAL);\n\n        acelVal=SensorManager.GRAVITY_EARTH;\n        acelLast=SensorManager.GRAVITY_EARTH;\n        shake=0.00f;\n    }\nprivate final SensorEventListener sensorListener = new SensorEventListener() {\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n        float x =event.values[0];\n        float y =event.values[1];\n        float z =event.values[2];\n        acelLast=acelVal;\n        acelVal=(float) Math.sqrt((double) (x*x)+(y*y)+(z*z));\n        float delta= acelVal-acelLast;\n        shake =shake*0.9f+delta;\n\n\n        if(shake&gt;12){\n            Toast t =Toast.makeText(getApplicationContext(), &quot;Dont Shake phone&quot;,Toast.LENGTH_LONG);\n            t.show();\n        }\n    }\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n    }\n};\n}\n</code></pre>\n<p>In this code it's toasting the message after shaking the phone 1 time. But I want to get the toast message after shaking the phone 3 times.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","swing","animation","animated-gif"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675178534,"post_id":75297752,"comment_id":132870187,"body_markdown":"It is not easy to extract images for a gif. An easier approach would be to create images that you load separately and then add the images to a JLabel and add the label to a panel.  You can use a Swing Timer for the animation. After you add each label to the panel you need to revalidate() the panel.","body":"It is not easy to extract images for a gif. An easier approach would be to create images that you load separately and then add the images to a JLabel and add the label to a panel.  You can use a Swing Timer for the animation. After you add each label to the panel you need to revalidate() the panel."},{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1675179482,"post_id":75297752,"comment_id":132870562,"body_markdown":"You can use [PowerPoint online](https://www.microsoft.com/en-us/microsoft-365/powerpoint).  Just click on the link on the page that says &quot;Looking for PowerPoint on the web?&quot;.  You&#39;ll need to have a Microsoft account, though only a free one.","body":"You can use <a href=\"https://www.microsoft.com/en-us/microsoft-365/powerpoint\" rel=\"nofollow noreferrer\">PowerPoint online</a>.  Just click on the link on the page that says &quot;Looking for PowerPoint on the web?&quot;.  You&#39;ll need to have a Microsoft account, though only a free one."},{"owner":{"account_id":27666414,"reputation":1,"user_id":21118155,"display_name":"parul chauhan"},"score":0,"creation_date":1675194285,"post_id":75297752,"comment_id":132875143,"body_markdown":"@camickr, Is there another way to use them as separate images into animation because I&#39;m working on URCaps (a jar kind of file extension for UI of UR cobots) and there I can&#39;t access JPanel each time I&#39;m hitting actionlistener of any type (A JButton in this case).","body":"@camickr, Is there another way to use them as separate images into animation because I&#39;m working on URCaps (a jar kind of file extension for UI of UR cobots) and there I can&#39;t access JPanel each time I&#39;m hitting actionlistener of any type (A JButton in this case)."},{"owner":{"account_id":27666414,"reputation":1,"user_id":21118155,"display_name":"parul chauhan"},"score":0,"creation_date":1675194379,"post_id":75297752,"comment_id":132875183,"body_markdown":"@BentheCoder , I&#39;m using an online version of power point but to save any file there as a gif option is not available in online version.","body":"@BentheCoder , I&#39;m using an online version of power point but to save any file there as a gif option is not available in online version."},{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1675217306,"post_id":75297752,"comment_id":132879881,"body_markdown":"Oh yeah, sorry! I didn&#39;t realize that.  I use PowerPoint (the pay, desktop version) so thought the free version could do that too.","body":"Oh yeah, sorry! I didn&#39;t realize that.  I use PowerPoint (the pay, desktop version) so thought the free version could do that too."}],"owner":{"account_id":27666414,"reputation":1,"user_id":21118155,"display_name":"parul chauhan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675178420,"creation_date":1675170982,"question_id":75297752,"body_markdown":"I&#39;m trying to build a swing application that shows images side by side one after another on click of a button. I&#39;m using gif for animation since it&#39;s very easy but I could not find a way to custom gif in such a way that shows images stacked side by side with little time difference. \r\n\r\nThere&#39;s a way to do so in power point but I don&#39;t have it in my office&#39;s laptop.  \r\nThe animated- gif I&#39;m using currently shows the images on the same frame on top of each other but I need it to be side by side and one after another with a little time difference.  \r\n  \r\nI&#39;m new in UI programming, please suggest any solution.","title":"How to animate image by stacking them side by side in a row","body":"<p>I'm trying to build a swing application that shows images side by side one after another on click of a button. I'm using gif for animation since it's very easy but I could not find a way to custom gif in such a way that shows images stacked side by side with little time difference.</p>\n<p>There's a way to do so in power point but I don't have it in my office's laptop.<br />\nThe animated- gif I'm using currently shows the images on the same frame on top of each other but I need it to be side by side and one after another with a little time difference.</p>\n<p>I'm new in UI programming, please suggest any solution.</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675170181,"post_id":75297551,"comment_id":132867162,"body_markdown":"Just to be clear: Even in your CLI interface you want to run *some JavaFX* parts. Is that accurate?","body":"Just to be clear: Even in your CLI interface you want to run <i>some JavaFX</i> parts. Is that accurate?"},{"owner":{"account_id":27666309,"reputation":1,"user_id":21118068,"display_name":"Matteo"},"score":0,"creation_date":1675170306,"post_id":75297551,"comment_id":132867198,"body_markdown":"@JoachimSauer yes, i need to run a class that loads a new Stage with an fxml in my cli","body":"@JoachimSauer yes, i need to run a class that loads a new Stage with an fxml in my cli"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675170604,"post_id":75297551,"comment_id":132867292,"body_markdown":"[This question](https://stackoverflow.com/questions/59541555/how-to-achieve-javafx-and-non-javafx-interaction) and the `Platform.startup()` method and/or `JFXPanel` class mentioned in there seems relevant. Note that this is a fairly unusual thing to do, so expect some issues.","body":"<a href=\"https://stackoverflow.com/questions/59541555/how-to-achieve-javafx-and-non-javafx-interaction\">This question</a> and the <code>Platform.startup()</code> method and/or <code>JFXPanel</code> class mentioned in there seems relevant. Note that this is a fairly unusual thing to do, so expect some issues."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675171921,"post_id":75297551,"comment_id":132867741,"body_markdown":"If your &quot;CLI&quot; needs to open a JavaFX Stage, then it&#39;s not a CLI, it&#39;s a JavaFX application. Subclass `Application` as usual. If you don&#39;t need to show a window immediately, start a new Thread from `start()` and implement the CLI portion from there, then open a new stage on the FX Application Thread when you need. You can also use `Platform.startup()` etc. as described above, but note you can only call `startup()` once and must not do so from the FX Application Thread. You&#39;re basically reimplementing the lifecycle that `Application` implements for you at that stage.","body":"If your &quot;CLI&quot; needs to open a JavaFX Stage, then it&#39;s not a CLI, it&#39;s a JavaFX application. Subclass <code>Application</code> as usual. If you don&#39;t need to show a window immediately, start a new Thread from <code>start()</code> and implement the CLI portion from there, then open a new stage on the FX Application Thread when you need. You can also use <code>Platform.startup()</code> etc. as described above, but note you can only call <code>startup()</code> once and must not do so from the FX Application Thread. You&#39;re basically reimplementing the lifecycle that <code>Application</code> implements for you at that stage."},{"owner":{"account_id":27666309,"reputation":1,"user_id":21118068,"display_name":"Matteo"},"score":0,"creation_date":1675172132,"post_id":75297551,"comment_id":132867836,"body_markdown":"@James_D ye i know, but as my project final i must only change graphic controllers and the implementation of controllers and model must remain the same. i implemented this method payment during javaFX and i did not think about this problem i am witnessing now. by the way, i think your solution will solve my issue. ill keep this post updates","body":"@James_D ye i know, but as my project final i must only change graphic controllers and the implementation of controllers and model must remain the same. i implemented this method payment during javaFX and i did not think about this problem i am witnessing now. by the way, i think your solution will solve my issue. ill keep this post updates"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1675177349,"post_id":75297551,"comment_id":132869741,"body_markdown":"See the [wumpus app for some info](https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java/24320562#24320562).","body":"See the <a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java/24320562#24320562\">wumpus app for some info</a>."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675178368,"creation_date":1675174235,"answer_id":75298419,"question_id":75297551,"body_markdown":"If your &quot;CLI&quot; shows a JavaFX window, then it is a JavaFX application. Subclass `Application` in the usual way.\r\n\r\nYour application does not need to show the primary stage if it&#39;s not ready to during the start method. You can launch your CLI and let the user interact with it.\r\n\r\nNote that whatever approach you use here, you have to manage two threads: the JavaFX Application Thread and the thread on which the CLI runs. Since the CLI is going to block for user input, it **must not** run on the FX Application Thread.\r\n\r\nIf you launch the CLI from `Application.start()`, since `Application.start()` is executed on the FX Application Thread, you need to create a new thread for it.\r\n\r\nUse all the usual multithreading precautions for sharing data between the two threads.\r\n\r\nHere is a quick example. Here&#39;s a very basic CLI class with a method that runs a simple REPL. There are only two commands: `&quot;login&quot;` shows a login screen using JavaFX and retrieves some data from it. `&quot;exit&quot;` exits the application.\r\n\r\n    import javafx.application.Platform;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    import java.util.concurrent.FutureTask;\r\n    \r\n    public class CommandLineInterpreter {\r\n    \r\n        public void runCli() {\r\n            try (Scanner scanner = new Scanner(System.in)) {\r\n                boolean done = false;\r\n                while (! done) {\r\n                    System.out.println(&quot;Enter login to log in, or exit to quit:&quot;);\r\n                    String input = scanner.nextLine();\r\n                    if (&quot;login&quot;.equalsIgnoreCase(input)) {\r\n                        String user = getLoginData();\r\n                        System.out.println(&quot;Welcome &quot;+user);\r\n                    } else if (input.equalsIgnoreCase(&quot;exit&quot;)) {\r\n                        Platform.exit();\r\n                        done = true ;\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private String getLoginData() throws Exception{\r\n            FutureTask&lt;String&gt; loginWithUITask = new FutureTask&lt;&gt;(this::getUserFromUI);\r\n            Platform.runLater(loginWithUITask);\r\n            return loginWithUITask.get();\r\n        }\r\n    \r\n        private String getUserFromUI() throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Login.fxml&quot;));\r\n            Parent root = loader.load();\r\n            LoginController controller = loader.getController();\r\n            Scene scene = new Scene(root);\r\n            Stage stage = new Stage();\r\n            stage.setScene(scene);\r\n            stage.setOnShown(e -&gt; stage.toFront());\r\n            stage.showAndWait();\r\n            return controller.getUser();\r\n        }\r\n    }\r\n\r\nHere&#39;s a basic application class that starts the CLI above in a background thread. Note that we have to call `Platform.setImplicitExit(false)` to make sure the FX platform doesn&#39;t close down when the last window is closed.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Platform.setImplicitExit(false);\r\n            CommandLineInterpreter cli = new CommandLineInterpreter();\r\n            Thread cliThread = new Thread(cli::runCli);\r\n            cliThread.start();\r\n        }\r\n\r\n        @Override\r\n        public void stop() {\r\n            // Cleanup code...\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nAnd for completeness the FXML and controller class, which are nothing special:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import java.lang.*?&gt;\r\n    &lt;?import java.util.*?&gt;\r\n    &lt;?import javafx.scene.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;GridPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n              xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n              fx:controller=&quot;org.jamesd.examples.cli.LoginController&quot;\r\n              hgap=&quot;5&quot; vgap=&quot;5&quot;&gt;\r\n    \r\n        &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints halignment=&quot;RIGHT&quot; hgrow=&quot;NEVER&quot;/&gt;\r\n            &lt;ColumnConstraints halignment=&quot;LEFT&quot; hgrow=&quot;ALWAYS&quot;/&gt;\r\n        &lt;/columnConstraints&gt;\r\n    \r\n        &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;5&quot;/&gt;&lt;/padding&gt;\r\n    \r\n        &lt;Label text=&quot;User Name:&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;0&quot;/&gt;\r\n        &lt;TextField fx:id=&quot;userField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;0&quot;/&gt;\r\n        &lt;Label text=&quot;Password&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;1&quot;/&gt;\r\n        &lt;PasswordField GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;/&gt;\r\n        &lt;Button text=&quot;OK&quot; onAction=&quot;#login&quot;\r\n                GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;2&quot;\r\n                GridPane.columnSpan=&quot;2&quot; GridPane.halignment=&quot;CENTER&quot;/&gt;\r\n    &lt;/GridPane&gt;\r\n\r\n&lt;!-- --&gt;\r\n\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class LoginController {\r\n        @FXML\r\n        private TextField userField ;\r\n    \r\n        @FXML\r\n        private void login() {\r\n            userField.getScene().getWindow().hide();\r\n        }\r\n    \r\n        public String getUser() {\r\n            return userField.getText();\r\n        }\r\n    }\r\n\r\n---\r\n\r\nOther approaches are possible, e.g. you might use `Platform.startup()` in a non-JavaFX thread to &quot;manually&quot; start the FX platform, bypassing the usual application lifecycle structure. For example, you can replace the `HelloApplication` class above with this implementation:\r\n\r\n\r\n    import javafx.application.Platform;\r\n    \r\n    public class HelloApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            Platform.startup(() -&gt; Platform.setImplicitExit(false));\r\n            CommandLineInterpreter cli = new CommandLineInterpreter();\r\n            cli.runCli();\r\n        }\r\n    }\r\n\r\nNote that with this approach you don&#39;t have a `stop()` method to perform any cleanup code, as you do with the previous approach.","title":"How to open a stage in a command line interface in java","body":"<p>If your &quot;CLI&quot; shows a JavaFX window, then it is a JavaFX application. Subclass <code>Application</code> in the usual way.</p>\n<p>Your application does not need to show the primary stage if it's not ready to during the start method. You can launch your CLI and let the user interact with it.</p>\n<p>Note that whatever approach you use here, you have to manage two threads: the JavaFX Application Thread and the thread on which the CLI runs. Since the CLI is going to block for user input, it <strong>must not</strong> run on the FX Application Thread.</p>\n<p>If you launch the CLI from <code>Application.start()</code>, since <code>Application.start()</code> is executed on the FX Application Thread, you need to create a new thread for it.</p>\n<p>Use all the usual multithreading precautions for sharing data between the two threads.</p>\n<p>Here is a quick example. Here's a very basic CLI class with a method that runs a simple REPL. There are only two commands: <code>&quot;login&quot;</code> shows a login screen using JavaFX and retrieves some data from it. <code>&quot;exit&quot;</code> exits the application.</p>\n<pre><code>import javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Scanner;\nimport java.util.concurrent.FutureTask;\n\npublic class CommandLineInterpreter {\n\n    public void runCli() {\n        try (Scanner scanner = new Scanner(System.in)) {\n            boolean done = false;\n            while (! done) {\n                System.out.println(&quot;Enter login to log in, or exit to quit:&quot;);\n                String input = scanner.nextLine();\n                if (&quot;login&quot;.equalsIgnoreCase(input)) {\n                    String user = getLoginData();\n                    System.out.println(&quot;Welcome &quot;+user);\n                } else if (input.equalsIgnoreCase(&quot;exit&quot;)) {\n                    Platform.exit();\n                    done = true ;\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private String getLoginData() throws Exception{\n        FutureTask&lt;String&gt; loginWithUITask = new FutureTask&lt;&gt;(this::getUserFromUI);\n        Platform.runLater(loginWithUITask);\n        return loginWithUITask.get();\n    }\n\n    private String getUserFromUI() throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Login.fxml&quot;));\n        Parent root = loader.load();\n        LoginController controller = loader.getController();\n        Scene scene = new Scene(root);\n        Stage stage = new Stage();\n        stage.setScene(scene);\n        stage.setOnShown(e -&gt; stage.toFront());\n        stage.showAndWait();\n        return controller.getUser();\n    }\n}\n</code></pre>\n<p>Here's a basic application class that starts the CLI above in a background thread. Note that we have to call <code>Platform.setImplicitExit(false)</code> to make sure the FX platform doesn't close down when the last window is closed.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Platform.setImplicitExit(false);\n        CommandLineInterpreter cli = new CommandLineInterpreter();\n        Thread cliThread = new Thread(cli::runCli);\n        cliThread.start();\n    }\n\n    @Override\n    public void stop() {\n        // Cleanup code...\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>And for completeness the FXML and controller class, which are nothing special:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;GridPane xmlns=&quot;http://javafx.com/javafx&quot;\n          xmlns:fx=&quot;http://javafx.com/fxml&quot;\n          fx:controller=&quot;org.jamesd.examples.cli.LoginController&quot;\n          hgap=&quot;5&quot; vgap=&quot;5&quot;&gt;\n\n    &lt;columnConstraints&gt;\n        &lt;ColumnConstraints halignment=&quot;RIGHT&quot; hgrow=&quot;NEVER&quot;/&gt;\n        &lt;ColumnConstraints halignment=&quot;LEFT&quot; hgrow=&quot;ALWAYS&quot;/&gt;\n    &lt;/columnConstraints&gt;\n\n    &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;5&quot;/&gt;&lt;/padding&gt;\n\n    &lt;Label text=&quot;User Name:&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;0&quot;/&gt;\n    &lt;TextField fx:id=&quot;userField&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;0&quot;/&gt;\n    &lt;Label text=&quot;Password&quot; GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;1&quot;/&gt;\n    &lt;PasswordField GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot;/&gt;\n    &lt;Button text=&quot;OK&quot; onAction=&quot;#login&quot;\n            GridPane.columnIndex=&quot;0&quot; GridPane.rowIndex=&quot;2&quot;\n            GridPane.columnSpan=&quot;2&quot; GridPane.halignment=&quot;CENTER&quot;/&gt;\n&lt;/GridPane&gt;\n</code></pre>\n\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.control.TextField;\n\npublic class LoginController {\n    @FXML\n    private TextField userField ;\n\n    @FXML\n    private void login() {\n        userField.getScene().getWindow().hide();\n    }\n\n    public String getUser() {\n        return userField.getText();\n    }\n}\n</code></pre>\n<hr />\n<p>Other approaches are possible, e.g. you might use <code>Platform.startup()</code> in a non-JavaFX thread to &quot;manually&quot; start the FX platform, bypassing the usual application lifecycle structure. For example, you can replace the <code>HelloApplication</code> class above with this implementation:</p>\n<pre><code>import javafx.application.Platform;\n\npublic class HelloApplication {\n\n    public static void main(String[] args) {\n        Platform.startup(() -&gt; Platform.setImplicitExit(false));\n        CommandLineInterpreter cli = new CommandLineInterpreter();\n        cli.runCli();\n    }\n}\n</code></pre>\n<p>Note that with this approach you don't have a <code>stop()</code> method to perform any cleanup code, as you do with the previous approach.</p>\n"}],"owner":{"account_id":27666309,"reputation":1,"user_id":21118068,"display_name":"Matteo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675178368,"creation_date":1675169991,"question_id":75297551,"body_markdown":"I am developing an applications that can run on 2 different interfaces: one is JavaFX, the other is CLI. During the usage of the applications, i have to run a new stage that implements some sort of fake payment loading a new stage with a new FXML... in the JavaFX run everything runs just fine, but in the CLI i get this error: &quot;This operation is permitted on the event thread only; currentThread = main&quot; which i think is caused because my main doesn&#39;t extend &quot;Applications&quot; and cannot load a stage. This is the CLI main (pretty simple).                                    \r\n```\r\npublic static void main(String[] args){\r\n        LoginControllerG2 loginControllerG2 = new LoginControllerG2();\r\n        loginControllerG2.getRole();\r\n} \r\n```\r\nI need to load the stage with my CLI interface.","title":"How to open a stage in a command line interface in java","body":"<p>I am developing an applications that can run on 2 different interfaces: one is JavaFX, the other is CLI. During the usage of the applications, i have to run a new stage that implements some sort of fake payment loading a new stage with a new FXML... in the JavaFX run everything runs just fine, but in the CLI i get this error: &quot;This operation is permitted on the event thread only; currentThread = main&quot; which i think is caused because my main doesn't extend &quot;Applications&quot; and cannot load a stage. This is the CLI main (pretty simple).</p>\n<pre><code>public static void main(String[] args){\n        LoginControllerG2 loginControllerG2 = new LoginControllerG2();\n        loginControllerG2.getRole();\n} \n</code></pre>\n<p>I need to load the stage with my CLI interface.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1675179782,"post_id":75299177,"comment_id":132870705,"body_markdown":"try making a docx the way you want it and print it out to see what the structure is.","body":"try making a docx the way you want it and print it out to see what the structure is."},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1675237064,"post_id":75299177,"comment_id":132882728,"body_markdown":"when I open the docx there is no TOC","body":"when I open the docx there is no TOC"},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1683657023,"post_id":75299177,"comment_id":134399417,"body_markdown":"@K.Nicholas if I check a working document with TOC structure it prints it with all of the content of the TOC already. so it&#39;s not helping me to create one, only how it should look like after it updates","body":"@K.Nicholas if I check a working document with TOC structure it prints it with all of the content of the TOC already. so it&#39;s not helping me to create one, only how it should look like after it updates"}],"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675178157,"creation_date":1675177850,"question_id":75299177,"body_markdown":"How can I add TOC to my .docx with Apache POI 5.2.3? I&#39;m using Linux and LibreOffice Writer if it is not the same as Microsoft Word for TOC. I tried the code from those questions: [question1][1] [question2][2], but it didn&#39;t work.\r\n\r\nMy code:\r\n```java\r\naddCustomHeadingStyle(doc, &quot;Heading 1&quot;, 1);\r\naddCustomHeadingStyle(doc, &quot;Heading 2&quot;, 2);\r\naddCustomHeadingStyle(doc, &quot;Heading 3&quot;, 3);\r\n\r\nXWPFParagraph paragraph = doc.createParagraph();\r\nXWPFRun run=paragraph.createRun();\r\ndoc.createTOC();\r\nCTP ctP = paragraph.getCTP();\r\nCTSimpleField toc = ctP.addNewFldSimple();\r\ntoc.setInstr(&quot;TOC \\\\h&quot;);\r\ntoc.setDirty(true);\r\nrun.addBreak(BreakType.PAGE);\r\n\r\nparagraph = doc.createParagraph();\r\nrun=paragraph.createRun();\r\nrun.setText(&quot;The Body:&quot;);\r\n\r\nparagraph = doc.createParagraph();\r\nrun=paragraph.createRun();\r\nrun.setText(&quot;Heading 1&quot;);\r\nparagraph.setStyle(&quot;Heading 1&quot;);\r\n\r\nparagraph = doc.createParagraph();\r\nrun=paragraph.createRun();\r\nrun.setText(&quot;Heading 1&quot;);\r\nparagraph.setStyle(&quot;Heading 1&quot;);\r\n\r\nparagraph = doc.createParagraph();\r\nrun=paragraph.createRun();\r\nrun.addBreak(BreakType.PAGE);\r\nrun.setText(&quot;Heading 2&quot;);\r\nparagraph.setStyle(&quot;Heading 2&quot;);\r\n\r\nparagraph = doc.createParagraph();\r\nrun = paragraph.createRun();\r\nrun.addBreak(BreakType.PAGE);\r\nrun.setText(&quot;Heading 3&quot;);\r\nparagraph.setStyle(&quot;Heading 3&quot;);\r\n```\r\n\r\n`toc.setInstr(&quot;TOC \\\\h&quot;);` just adds an empty line with nothing in it and `doc.createTOC();` create the header: &quot;Table of Contents&quot; and not a TOC.\r\n\r\nWhen I put this code at the end of the function, after the creation of the paragraphs, it generates a TOC with &quot;Error: Reference source not found&quot;.\r\n\r\n```java\r\nCTSdtBlock block = doc.getDocument().getBody().addNewSdt();\r\nTOC toc = new TOC(block);\r\nfor (XWPFParagraph par : doc.getParagraphs()) {\r\n\tString parStyle = par.getStyle();\r\n\tif (parStyle != null &amp;&amp; parStyle.startsWith(&quot;Heading &quot;)) {\r\n\t\ttry {\r\n\t\t\tint level = Integer.parseInt(parStyle.substring(&quot;Heading &quot;.length()));\r\n\t\t\ttoc.addRow(level, par.getText(), 1, &quot;112723803&quot;);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nHow can I create a TOC that automatically updates when a new paragraph that is header is added to the file? Do I need to set the paragraphs as bookmark?\r\n\r\n  [1]: https://stackoverflow.com/questions/43291213/how-to-create-table-of-content-in-java-using-apache-poi\r\n  [2]: https://stackoverflow.com/questions/40235909/creating-a-table-of-contents-for-a-xwpfdocument-with-page-numbers-indication","title":"How can I add a TOC to my .docx with Apache POI","body":"<p>How can I add TOC to my .docx with Apache POI 5.2.3? I'm using Linux and LibreOffice Writer if it is not the same as Microsoft Word for TOC. I tried the code from those questions: <a href=\"https://stackoverflow.com/questions/43291213/how-to-create-table-of-content-in-java-using-apache-poi\">question1</a> <a href=\"https://stackoverflow.com/questions/40235909/creating-a-table-of-contents-for-a-xwpfdocument-with-page-numbers-indication\">question2</a>, but it didn't work.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>addCustomHeadingStyle(doc, &quot;Heading 1&quot;, 1);\naddCustomHeadingStyle(doc, &quot;Heading 2&quot;, 2);\naddCustomHeadingStyle(doc, &quot;Heading 3&quot;, 3);\n\nXWPFParagraph paragraph = doc.createParagraph();\nXWPFRun run=paragraph.createRun();\ndoc.createTOC();\nCTP ctP = paragraph.getCTP();\nCTSimpleField toc = ctP.addNewFldSimple();\ntoc.setInstr(&quot;TOC \\\\h&quot;);\ntoc.setDirty(true);\nrun.addBreak(BreakType.PAGE);\n\nparagraph = doc.createParagraph();\nrun=paragraph.createRun();\nrun.setText(&quot;The Body:&quot;);\n\nparagraph = doc.createParagraph();\nrun=paragraph.createRun();\nrun.setText(&quot;Heading 1&quot;);\nparagraph.setStyle(&quot;Heading 1&quot;);\n\nparagraph = doc.createParagraph();\nrun=paragraph.createRun();\nrun.setText(&quot;Heading 1&quot;);\nparagraph.setStyle(&quot;Heading 1&quot;);\n\nparagraph = doc.createParagraph();\nrun=paragraph.createRun();\nrun.addBreak(BreakType.PAGE);\nrun.setText(&quot;Heading 2&quot;);\nparagraph.setStyle(&quot;Heading 2&quot;);\n\nparagraph = doc.createParagraph();\nrun = paragraph.createRun();\nrun.addBreak(BreakType.PAGE);\nrun.setText(&quot;Heading 3&quot;);\nparagraph.setStyle(&quot;Heading 3&quot;);\n</code></pre>\n<p><code>toc.setInstr(&quot;TOC \\\\h&quot;);</code> just adds an empty line with nothing in it and <code>doc.createTOC();</code> create the header: &quot;Table of Contents&quot; and not a TOC.</p>\n<p>When I put this code at the end of the function, after the creation of the paragraphs, it generates a TOC with &quot;Error: Reference source not found&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CTSdtBlock block = doc.getDocument().getBody().addNewSdt();\nTOC toc = new TOC(block);\nfor (XWPFParagraph par : doc.getParagraphs()) {\n    String parStyle = par.getStyle();\n    if (parStyle != null &amp;&amp; parStyle.startsWith(&quot;Heading &quot;)) {\n        try {\n            int level = Integer.parseInt(parStyle.substring(&quot;Heading &quot;.length()));\n            toc.addRow(level, par.getText(), 1, &quot;112723803&quot;);\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>How can I create a TOC that automatically updates when a new paragraph that is header is added to the file? Do I need to set the paragraphs as bookmark?</p>\n"},{"tags":["java","spring","spring-boot","client-server","server-sent-events"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675178013,"post_id":75288671,"comment_id":132869982,"body_markdown":"_&quot;my issue is that I can&#39;t store these SseEmitter Objects in-memory, in a production grade code&quot;_ Why?","body":"<i>&quot;my issue is that I can&#39;t store these SseEmitter Objects in-memory, in a production grade code&quot;</i> Why?"}],"answers":[{"comments":[{"owner":{"account_id":27319698,"reputation":21,"user_id":20833631,"display_name":"Akshay Thakur"},"score":0,"creation_date":1675245151,"post_id":75290122,"comment_id":132885110,"body_markdown":"The challenge is that the service will be running in multiple kubernetes pods and different pods might not be sharing context of the SseEmitter Object.","body":"The challenge is that the service will be running in multiple kubernetes pods and different pods might not be sharing context of the SseEmitter Object."},{"owner":{"account_id":13982700,"reputation":696,"user_id":10263616,"display_name":"Viktor Baert"},"score":0,"creation_date":1675288478,"post_id":75290122,"comment_id":132899237,"body_markdown":"Most developers solve that problem by introducing a micro-service that has the single responsibility of emitting events from a queue or topic to the client.\n\nThis queue or topic consumes events from different contexts.\n(An example of such a queue/topic is ActiveMQ, Kafka, google pub sub,...) \n\nThis way you can even scale up multiple pods of the SSE instance if you ever reach the limits of a single instance.","body":"Most developers solve that problem by introducing a micro-service that has the single responsibility of emitting events from a queue or topic to the client.  This queue or topic consumes events from different contexts. (An example of such a queue/topic is ActiveMQ, Kafka, google pub sub,...)   This way you can even scale up multiple pods of the SSE instance if you ever reach the limits of a single instance."}],"tags":[],"owner":{"account_id":13982700,"reputation":696,"user_id":10263616,"display_name":"Viktor Baert"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675155585,"creation_date":1675112640,"answer_id":75290122,"question_id":75288671,"body_markdown":"&gt; However my issue is that I can&#39;t be storing these SseEmitter Objects\r\n&gt; in-memory, in a production grade code\r\n\r\nThere is nothing inherently bad about storing these SSE sessions in a hashmap mapping id key to the emitter as value. (Make sure to handle disconnection / hashmap clean up). \r\n\r\nI don&#39;t think it&#39;s possible to even persist these sessions for your intended purpose. It&#39;s not possible with SSE for the server to initiate the connection with the client.","title":"How to persist a Server Sent Event object into my database?","body":"<blockquote>\n<p>However my issue is that I can't be storing these SseEmitter Objects\nin-memory, in a production grade code</p>\n</blockquote>\n<p>There is nothing inherently bad about storing these SSE sessions in a hashmap mapping id key to the emitter as value. (Make sure to handle disconnection / hashmap clean up).</p>\n<p>I don't think it's possible to even persist these sessions for your intended purpose. It's not possible with SSE for the server to initiate the connection with the client.</p>\n"}],"owner":{"account_id":27319698,"reputation":21,"user_id":20833631,"display_name":"Akshay Thakur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675177990,"creation_date":1675103516,"question_id":75288671,"body_markdown":"I am trying to build a notification system where-in my back-end, upon receiving a webhook from a third party, will notify the front-end of a particular status, and have decided to go ahead with the Server Sent Events implementation in Spring Boot. Having gone through 10s of implementations of the same, I found that the common way of doing it is:\r\n 1. having your client hit a subscription API on your back-end\r\n 2. Create an object of SseEmitter class and store it in an in-memory HashMap or ArrayList\r\n 3. Fetch the events stored in your memory, to send notification when the desired event occurs \r\n\r\nHowever, my issue is that I can&#39;t store these SseEmitter Objects in-memory, in a production grade code. I have tried serializing the object, but upon deserialization a new object of SseEmitter is created and the connection to client is lost. How do I do this gracefully?\r\n\r\n```java\r\n@RestController\r\npublic class EventController {\r\n\r\n  Map&lt;String, SseEmitter&gt; sseEmitters = new ConcurrentHashMap&lt;&gt;();\r\n\r\n  @Autowired\r\n  SerializerUtils serializerUtils;\r\n\r\n  String sseEmitterSerialized = null;\r\n\r\n  @CrossOrigin\r\n  @GetMapping(value=&quot;/subscribe&quot;, consumes = MediaType.ALL_VALUE)\r\n  public SseEmitter subscribe(@RequestParam(value = &quot;tokenId&quot;) String tokenId) throws IOException {\r\n\r\n    DefaultSseEmitter sseEmitter = new DefaultSseEmitter(Long.MAX_VALUE);\r\n    sseEmitter.send(SseEmitter.event().name(&quot;latestEvent&quot;).data(&quot;INITIALIZED&quot;));\r\n    sseEmitter.onCompletion(() -&gt; sseEmitters.remove(sseEmitter));\r\n\r\n    sseEmitters.put(tokenId, sseEmitter);\r\n    return sseEmitter;\r\n  }\r\n\r\n  @CrossOrigin\r\n  @PostMapping(value=&quot;/dispatchEvent&quot;, produces = MediaType.ALL_VALUE)\r\n  public void dispatchToClients(@RequestParam (value = &quot;freshEvent&quot;) String freshEvent, @RequestParam(value = &quot;tokenId&quot;) String tokenId)\r\n      throws IOException, ClassNotFoundException {\r\n\r\n    sseEmitters.get(tokenId).send(SseEmitter.event().name(&quot;latestEvent&quot;).data(freshEvent));\r\n  }\r\n```\r\n\r\nI have tried serializing and conversion to JSON. None of that stuff works. ","title":"How to persist a Server Sent Event object into my database?","body":"<p>I am trying to build a notification system where-in my back-end, upon receiving a webhook from a third party, will notify the front-end of a particular status, and have decided to go ahead with the Server Sent Events implementation in Spring Boot. Having gone through 10s of implementations of the same, I found that the common way of doing it is:</p>\n<ol>\n<li>having your client hit a subscription API on your back-end</li>\n<li>Create an object of SseEmitter class and store it in an in-memory HashMap or ArrayList</li>\n<li>Fetch the events stored in your memory, to send notification when the desired event occurs</li>\n</ol>\n<p>However, my issue is that I can't store these SseEmitter Objects in-memory, in a production grade code. I have tried serializing the object, but upon deserialization a new object of SseEmitter is created and the connection to client is lost. How do I do this gracefully?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class EventController {\n\n  Map&lt;String, SseEmitter&gt; sseEmitters = new ConcurrentHashMap&lt;&gt;();\n\n  @Autowired\n  SerializerUtils serializerUtils;\n\n  String sseEmitterSerialized = null;\n\n  @CrossOrigin\n  @GetMapping(value=&quot;/subscribe&quot;, consumes = MediaType.ALL_VALUE)\n  public SseEmitter subscribe(@RequestParam(value = &quot;tokenId&quot;) String tokenId) throws IOException {\n\n    DefaultSseEmitter sseEmitter = new DefaultSseEmitter(Long.MAX_VALUE);\n    sseEmitter.send(SseEmitter.event().name(&quot;latestEvent&quot;).data(&quot;INITIALIZED&quot;));\n    sseEmitter.onCompletion(() -&gt; sseEmitters.remove(sseEmitter));\n\n    sseEmitters.put(tokenId, sseEmitter);\n    return sseEmitter;\n  }\n\n  @CrossOrigin\n  @PostMapping(value=&quot;/dispatchEvent&quot;, produces = MediaType.ALL_VALUE)\n  public void dispatchToClients(@RequestParam (value = &quot;freshEvent&quot;) String freshEvent, @RequestParam(value = &quot;tokenId&quot;) String tokenId)\n      throws IOException, ClassNotFoundException {\n\n    sseEmitters.get(tokenId).send(SseEmitter.event().name(&quot;latestEvent&quot;).data(freshEvent));\n  }\n</code></pre>\n<p>I have tried serializing and conversion to JSON. None of that stuff works.</p>\n"},{"tags":["java","azure","outlook","microsoft-graph-api"],"comments":[{"owner":{"account_id":18314651,"reputation":8673,"user_id":13336683,"display_name":"Carl Zhao"},"score":0,"creation_date":1612338724,"post_id":65845115,"comment_id":116732181,"body_markdown":"Use https://jwt.ms/ to parse your access token and provide screenshots.","body":"Use <a href=\"https://jwt.ms/\" rel=\"nofollow noreferrer\">jwt.ms</a> to parse your access token and provide screenshots."}],"answers":[{"tags":[],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675177582,"creation_date":1613720239,"answer_id":66273470,"question_id":65845115,"body_markdown":"I have solved this problem by adding `Calendars.ReadWrite` scope in AuthorizationRequestUrlParameters\r\n\r\n---\r\n\r\nIn the below string `updatedScopes` I had passed null so it&#39;s consider default scope of Microsoft and not asked calendar permission.\r\n\r\n\r\n```\r\nString updatedScopes = scope == null ? &quot;Calendars.ReadWrite&quot; : scope;\r\n\t\t\r\nPublicClientApplication pca = PublicClientApplication.builder(clientId).authority(authority).build();\r\nAuthorizationRequestUrlParameters parameters = AuthorizationRequestUrlParameters\r\n.builder(redirectURL,Collections.singleton(updatedScopes))\r\n.responseMode(ResponseMode.QUERY)\r\n.prompt(Prompt.SELECT_ACCOUNT).state(state).nonce(nonce)\r\n.claimsChallenge(claims).build();\r\n\r\n```","title":"How to grant the client application access to the requested scope in microsoft azure","body":"<p>I have solved this problem by adding <code>Calendars.ReadWrite</code> scope in AuthorizationRequestUrlParameters</p>\n<hr />\n<p>In the below string <code>updatedScopes</code> I had passed null so it's consider default scope of Microsoft and not asked calendar permission.</p>\n<pre><code>String updatedScopes = scope == null ? &quot;Calendars.ReadWrite&quot; : scope;\n        \nPublicClientApplication pca = PublicClientApplication.builder(clientId).authority(authority).build();\nAuthorizationRequestUrlParameters parameters = AuthorizationRequestUrlParameters\n.builder(redirectURL,Collections.singleton(updatedScopes))\n.responseMode(ResponseMode.QUERY)\n.prompt(Prompt.SELECT_ACCOUNT).state(state).nonce(nonce)\n.claimsChallenge(claims).build();\n\n</code></pre>\n"}],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2726,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66273470,"answer_count":1,"score":2,"last_activity_date":1675177986,"creation_date":1611318159,"question_id":65845115,"body_markdown":"I&#39;m getting this error\r\n\r\n&gt; com.microsoft.aad.msal4j.MsalInteractionRequiredException:  \r\n&gt;AADSTS70000: The request was denied because one or more scopes requested are unauthorized or expired. The user must first sign in and grant the client application access to the requested scope.\r\n&gt;\r\n&gt; Trace ID: add5eedb-86d5-41bc-bad3-129298e3ca00  \r\n&gt; Correlation ID: 1d2ab508-8ec6-49d7-abaa-d1b8feaedda8\r\n\r\nI register app in Accounts in any organizational directory (Any Azure AD directory - Multitenant) and personal Microsoft accounts (e.g. Skype, Xbox) azure account\r\n\r\n**API permission:**\r\n\r\n  Delegated:\r\n   \r\n - Calendars.Read \r\n - Calendars.ReadWrite\r\n - offline_access \r\n - openid    \r\n - profile         \r\n - User.Read \r\n - User.Read.All\r\n - email \r\n - Mail.Read\r\n \r\nApplication:\r\n  \r\n  - Calendars.Read \r\n  - Calendars.ReadWrite\r\n\r\nI give the required permission and scope (Expose an API) in azure portal still I&#39;m getting this error. I tried to solve this error for more then a days I don&#39;t understand What am I doing wrong?\r\n\r\nIt was not asked calendar&#39;s permission when user login.\r\n\r\nI have used msal4j version 1.6.1 dependency\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I solve this error?\r\n\r\n  [1]: https://i.stack.imgur.com/UT2nf.jpg","title":"How to grant the client application access to the requested scope in microsoft azure","body":"<p>I'm getting this error</p>\n<blockquote>\n<p>com.microsoft.aad.msal4j.MsalInteractionRequiredException:<br />\nAADSTS70000: The request was denied because one or more scopes requested are unauthorized or expired. The user must first sign in and grant the client application access to the requested scope.</p>\n<p>Trace ID: add5eedb-86d5-41bc-bad3-129298e3ca00<br />\nCorrelation ID: 1d2ab508-8ec6-49d7-abaa-d1b8feaedda8</p>\n</blockquote>\n<p>I register app in Accounts in any organizational directory (Any Azure AD directory - Multitenant) and personal Microsoft accounts (e.g. Skype, Xbox) azure account</p>\n<p><strong>API permission:</strong></p>\n<p>Delegated:</p>\n<ul>\n<li>Calendars.Read</li>\n<li>Calendars.ReadWrite</li>\n<li>offline_access</li>\n<li>openid</li>\n<li>profile</li>\n<li>User.Read</li>\n<li>User.Read.All</li>\n<li>email</li>\n<li>Mail.Read</li>\n</ul>\n<p>Application:</p>\n<ul>\n<li>Calendars.Read</li>\n<li>Calendars.ReadWrite</li>\n</ul>\n<p>I give the required permission and scope (Expose an API) in azure portal still I'm getting this error. I tried to solve this error for more then a days I don't understand What am I doing wrong?</p>\n<p>It was not asked calendar's permission when user login.</p>\n<p>I have used msal4j version 1.6.1 dependency</p>\n<p><a href=\"https://i.stack.imgur.com/UT2nf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UT2nf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve this error?</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":27667397,"reputation":11,"user_id":21118949,"display_name":"tepetrol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675177004,"creation_date":1675177004,"answer_id":75298997,"question_id":75221106,"body_markdown":"Keycloak just moved this UserStorageProvider into legacy model. However, the legacy model \r\n\r\n&gt; remains the default store in Keycloak 19. \r\n\r\naccording to this [source][1]. \r\nYou can import this legacy model manually like [here][2] and add this dependency. This should solve your imports issue.\r\n\r\n\r\n  [1]: https://www.keycloak.org/2022/07/storage-map\r\n  [2]: https://mvnrepository.com/artifact/org.keycloak/keycloak-model-legacy/19.0.3","title":"Keycloak - Deprecated imports in the User Storage SPI","body":"<p>Keycloak just moved this UserStorageProvider into legacy model. However, the legacy model</p>\n<blockquote>\n<p>remains the default store in Keycloak 19.</p>\n</blockquote>\n<p>according to this <a href=\"https://www.keycloak.org/2022/07/storage-map\" rel=\"nofollow noreferrer\">source</a>.\nYou can import this legacy model manually like <a href=\"https://mvnrepository.com/artifact/org.keycloak/keycloak-model-legacy/19.0.3\" rel=\"nofollow noreferrer\">here</a> and add this dependency. This should solve your imports issue.</p>\n"}],"owner":{"account_id":18761189,"reputation":655,"user_id":17089665,"display_name":"S. Dre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675177004,"creation_date":1674561215,"question_id":75221106,"body_markdown":"It seems that KeyCloak has changed quite a good amount last year.\r\n\r\nI am trying to import the `UserStorageProvider` interface in the latest version (20.0.3) but since more or less version 19.0.0 the project doesn&#39;t seem to compile since it is not able to find it.\r\n\r\nI have made quite a research and after taking a good look I am not able to realise what happens. \r\n\r\nThe interface does appear in the official Doc for the latest version: https://www.keycloak.org/docs-api/20.0.3/javadocs/org/keycloak/storage/UserStorageProvider.html\r\n\r\nI was wondering what I am doing wrong since my import line does not work: \r\n\r\n`import org.keycloak.storage.UserStorageProvider;` ","title":"Keycloak - Deprecated imports in the User Storage SPI","body":"<p>It seems that KeyCloak has changed quite a good amount last year.</p>\n<p>I am trying to import the <code>UserStorageProvider</code> interface in the latest version (20.0.3) but since more or less version 19.0.0 the project doesn't seem to compile since it is not able to find it.</p>\n<p>I have made quite a research and after taking a good look I am not able to realise what happens.</p>\n<p>The interface does appear in the official Doc for the latest version: <a href=\"https://www.keycloak.org/docs-api/20.0.3/javadocs/org/keycloak/storage/UserStorageProvider.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/20.0.3/javadocs/org/keycloak/storage/UserStorageProvider.html</a></p>\n<p>I was wondering what I am doing wrong since my import line does not work:</p>\n<p><code>import org.keycloak.storage.UserStorageProvider;</code></p>\n"},{"tags":["java","android","lambda"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1674932882,"post_id":75270120,"comment_id":132821141,"body_markdown":"[Lambda Expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expressions</a>"}],"answers":[{"tags":[],"owner":{"account_id":27435209,"reputation":544,"user_id":20931211,"display_name":"taiyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674935987,"creation_date":1674935448,"answer_id":75270431,"question_id":75270120,"body_markdown":"The second parameter of the `observe` method is a functional interface, thats why you can put a lambda in it. Most likely it will be `Consumer&lt;T&gt;` from the  [java.util.function][1] package because it takes just one argument `beacons`. If you want that lambda removed (i guess you mean replaced) you would need to define a class which implements this functional interface, like:\r\n\r\n    class Helper implements Consumer&lt;Beacon[]&gt; {\r\n        @Override\r\n        public void accept​(Beacon[] beacons) {\r\n            // lambda body here\r\n        }\r\n    }\r\n\r\nand give an instance of the class to `observe`:\r\n\r\n    beaconManager.getRegionViewModel(myRegion).getRangedBeacons().observe(this, new Helper());\r\n\r\nYou could also do it in a more inline fashion with anonymous interface implementations, like so:\r\n\r\n    beaconManager.getRegionViewModel(myRegion).getRangedBeacons().observe(this, new Consumer&lt;Beacon[]&gt;() {\r\n        public void accept(Beacon[] beacons) {\r\n            // lambda body here\r\n        }\r\n    });\r\n\r\nBut now you see there is no point in going this detour if not forced (read Java &lt;8).\r\nJust learn a bit lambda syntax which is basically `() -&gt; {}` and it does all the hassle for you.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/package-summary.html","title":"Remove lambda expression","body":"<p>The second parameter of the <code>observe</code> method is a functional interface, thats why you can put a lambda in it. Most likely it will be <code>Consumer&lt;T&gt;</code> from the  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">java.util.function</a> package because it takes just one argument <code>beacons</code>. If you want that lambda removed (i guess you mean replaced) you would need to define a class which implements this functional interface, like:</p>\n<pre><code>class Helper implements Consumer&lt;Beacon[]&gt; {\n    @Override\n    public void accept​(Beacon[] beacons) {\n        // lambda body here\n    }\n}\n</code></pre>\n<p>and give an instance of the class to <code>observe</code>:</p>\n<pre><code>beaconManager.getRegionViewModel(myRegion).getRangedBeacons().observe(this, new Helper());\n</code></pre>\n<p>You could also do it in a more inline fashion with anonymous interface implementations, like so:</p>\n<pre><code>beaconManager.getRegionViewModel(myRegion).getRangedBeacons().observe(this, new Consumer&lt;Beacon[]&gt;() {\n    public void accept(Beacon[] beacons) {\n        // lambda body here\n    }\n});\n</code></pre>\n<p>But now you see there is no point in going this detour if not forced (read Java &lt;8).\nJust learn a bit lambda syntax which is basically <code>() -&gt; {}</code> and it does all the hassle for you.</p>\n"}],"owner":{"account_id":19678378,"reputation":661,"user_id":14405992,"display_name":"Chris Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675176756,"accepted_answer_id":75270431,"answer_count":1,"score":-1,"last_activity_date":1675176717,"creation_date":1674932233,"question_id":75270120,"body_markdown":"I am new to lambda expressions and I have this code to scan Eddystone beacons and I want to remove the lambda expression from it. I don&#39;t know exactly how they work. Can anyone help?\r\n\r\n```java\r\nbeaconManager.getRegionViewModel(myRegion).getRangedBeacons().observe(this, beacons -&gt; {\r\n    noBeacons.setText(String.valueOf(beacons.size()));\r\n\r\n    for (Beacon beacon : beacons) {\r\n        if (uuids.contains(beacon))\r\n            continue;\r\n        uuids.add(beacon);\r\n        if (beacon.getServiceUuid() == 0xfeaa &amp;&amp; beacon.getBeaconTypeCode() == 0x00) {\r\n            // This is a Eddystone-UID frame\r\n            Identifier namespaceId = beacon.getId1();\r\n            Identifier instanceId = beacon.getId2();\r\n            logthis(&quot;I see a beacon transmitting namespace id: &quot; + namespaceId +\r\n                    &quot; and instance id: &quot; + instanceId +\r\n                    &quot; approximately &quot; + beacon.getDistance() + &quot; meters away.&quot;);\r\n        }\r\n    }\r\n});\r\n```","title":"Remove lambda expression","body":"<p>I am new to lambda expressions and I have this code to scan Eddystone beacons and I want to remove the lambda expression from it. I don't know exactly how they work. Can anyone help?</p>\n<pre class=\"lang-java prettyprint-override\"><code>beaconManager.getRegionViewModel(myRegion).getRangedBeacons().observe(this, beacons -&gt; {\n    noBeacons.setText(String.valueOf(beacons.size()));\n\n    for (Beacon beacon : beacons) {\n        if (uuids.contains(beacon))\n            continue;\n        uuids.add(beacon);\n        if (beacon.getServiceUuid() == 0xfeaa &amp;&amp; beacon.getBeaconTypeCode() == 0x00) {\n            // This is a Eddystone-UID frame\n            Identifier namespaceId = beacon.getId1();\n            Identifier instanceId = beacon.getId2();\n            logthis(&quot;I see a beacon transmitting namespace id: &quot; + namespaceId +\n                    &quot; and instance id: &quot; + instanceId +\n                    &quot; approximately &quot; + beacon.getDistance() + &quot; meters away.&quot;);\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa","hikaricp"],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675176303,"creation_date":1675176303,"question_id":75298854,"body_markdown":"I am using Hikari Connection Pool with Spring boot. I am using hikari connection pool and postgres with default configs. \r\n\r\nI am seeing lot of warning like below\r\n\r\n    2023-01-31T06:07:54.4313140Z 2023-01-31 06:07:30.439  WARN [supplier,b516974ba1065b35,b516974ba1065b35] 12300 --- [ault-executor-1] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@7d38668e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n    2023-01-31T06:07:54.4313939Z 2023-01-31 06:07:30.440  WARN [supplier,b516974ba1065b35,b516974ba1065b35] 12300 --- [ault-executor-1] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@7a88b46b (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n\r\nI tried the below things as mentioned [here][1]. Both did not help\r\n\r\n 1. `hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;,\r\n    hikariConfig.getMaxLifetime() + TimeUnit.SECONDS.toMillis(1));`\r\n 2. `hikariConfig.addDataSourceProperty(&quot;idle_session_timeout&quot;,\r\n    hikariConfig.getMaxLifetime() + TimeUnit.SECONDS.toMillis(1));` - With postgres 14.6\r\n\r\nVersion \r\n\r\n - HikariCP - 4.0.3\r\n - Spring Boot - 2.5.8\r\n - Postgres - 10.7\r\n - org.postgresql:postgresql  - 42.5.1\r\n\r\nI also tried upgrading postgres to the latest 14.6 and spring boot to 2.6.8. But still the same problem.\r\n\r\nCan someone let me know what could be the problem &amp; how to get around this warning? \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70664694/785523","title":"Hikari CP, Postgres - Warning Logs &quot;Possibly consider using a shorter maxLifetime value&quot;","body":"<p>I am using Hikari Connection Pool with Spring boot. I am using hikari connection pool and postgres with default configs.</p>\n<p>I am seeing lot of warning like below</p>\n<pre><code>2023-01-31T06:07:54.4313140Z 2023-01-31 06:07:30.439  WARN [supplier,b516974ba1065b35,b516974ba1065b35] 12300 --- [ault-executor-1] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@7d38668e (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n2023-01-31T06:07:54.4313939Z 2023-01-31 06:07:30.440  WARN [supplier,b516974ba1065b35,b516974ba1065b35] 12300 --- [ault-executor-1] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@7a88b46b (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n</code></pre>\n<p>I tried the below things as mentioned <a href=\"https://stackoverflow.com/a/70664694/785523\">here</a>. Both did not help</p>\n<ol>\n<li><code>hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, hikariConfig.getMaxLifetime() + TimeUnit.SECONDS.toMillis(1));</code></li>\n<li><code>hikariConfig.addDataSourceProperty(&quot;idle_session_timeout&quot;, hikariConfig.getMaxLifetime() + TimeUnit.SECONDS.toMillis(1));</code> - With postgres 14.6</li>\n</ol>\n<p>Version</p>\n<ul>\n<li>HikariCP - 4.0.3</li>\n<li>Spring Boot - 2.5.8</li>\n<li>Postgres - 10.7</li>\n<li>org.postgresql:postgresql  - 42.5.1</li>\n</ul>\n<p>I also tried upgrading postgres to the latest 14.6 and spring boot to 2.6.8. But still the same problem.</p>\n<p>Can someone let me know what could be the problem &amp; how to get around this warning?</p>\n"},{"tags":["java","unit-testing","mockito"],"owner":{"account_id":2121852,"reputation":1019,"user_id":1884937,"accept_rate":52,"display_name":"henrycharles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675175736,"creation_date":1675175736,"question_id":75298741,"body_markdown":"I am trying to write junit for existing class which i can&#39;t modify but there are two method for which i need to write junit both are using restTemplate but for some reason rest template is not mocking if i  mock it  within a mock static context in junit .\r\n\r\nBut if i Mock globally then getRestTemplateInstance().exchange returning null. Could you please someone correct or point out problem so my test case can achieve 100% coverage\r\n\r\nClass:\r\n  \r\n\r\n        @Service\r\n    public class LocationRestTemplate {\r\n    \r\n        private static final int READ_TIME_OUT = 5000;\r\n    \r\n        private RestTemplate restTemplate;\r\n    \r\n        @Value(&quot;${external-services.api}&quot;)\r\n        private String fallBackApiUrl;\r\n    \r\n    \r\n    \r\n        RestTemplate getRestTemplateInstance() {\r\n            if (this.restTemplate == null) {\r\n                SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\r\n                this.restTemplate = new RestTemplate(clientHttpRequestFactory());\r\n                restTemplate.setRequestFactory(factory);\r\n                List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverterList = restTemplate.getMessageConverters();\r\n                // Set HTTP Message converter using a JSON implementation.\r\n                MappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\r\n                // Add supported media type\r\n                List&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\r\n                supportedMediaTypes.add(new MediaType(&quot;text&quot;, &quot;plain&quot;));\r\n                supportedMediaTypes.add(new MediaType(&quot;application&quot;, &quot;json&quot;));\r\n                jsonMessageConverter.setSupportedMediaTypes(supportedMediaTypes);\r\n                messageConverterList.add(jsonMessageConverter);\r\n                restTemplate.setMessageConverters(messageConverterList);\r\n            }\r\n            return restTemplate;\r\n        }\r\n    \r\n        public ExternalSkuInfo getSkuInfoFromExternalService(String store, List&lt;String&gt; skuList) {\r\n            java.net.URI builtUrl = null;\r\n            try {\r\n    \r\n                UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(fallBackApiUrl + &quot;/bays/store/&quot;)\r\n                        .pathSegment(store).path(&quot;/sku&quot;).pathSegment(String.join(&quot;,&quot;, skuList));\r\n                builtUrl = builder.build().encode().toUri();\r\n                ResponseEntity&lt;ExternalSkuInfo&gt; response = getRestTemplateInstance().exchange(builtUrl, HttpMethod.GET,\r\n                        getRequestEntity(), ExternalSkuInfo.class);\r\n                if (response.getStatusCode() == HttpStatus.OK) {\r\n                    return response.getBody();\r\n                }\r\n            } catch (RestClientException e) {\r\n    \r\n            } catch (Exception exception) {\r\n    \r\n            }\r\n            return null;\r\n        }\r\n    \r\n        private ClientHttpRequestFactory clientHttpRequestFactory() {\r\n            HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n            factory.setReadTimeout(READ_TIME_OUT);\r\n            factory.setConnectTimeout(READ_TIME_OUT);\r\n            return factory;\r\n        }\r\n    \r\n         HttpEntity&lt;Object&gt; getRequestEntity() {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setAccept(Lists.newArrayList(MediaType.APPLICATION_JSON, MediaType.TEXT_PLAIN));\r\n            return new HttpEntity&lt;&gt;(headers);\r\n        }\r\n    \r\n    }\r\n\r\nTest Class \r\n\r\n        public class LocationRestTemplateTest {\r\n    \r\n      @InjectMocks\r\n      private LocationRestTemplate cut;\r\n    \r\n    \r\n      @Before\r\n      public void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n      }\r\n    \r\n      @Test\r\n      public void testGetRestTemplateInstance() {\r\n        RestTemplate restTemplate = cut.getRestTemplateInstance();\r\n        Assert.assertNotNull(restTemplate);\r\n      }\r\n    \r\n      @Test(expected = Exception.class)\r\n      public void testGetSkuInfoFromExternalService() {\r\n        RestTemplate restTemplate1 = Mockito.mock(RestTemplate.class);\r\n        try (MockedStatic&lt;UriComponentsBuilder&gt; uriComponentsBuilderMockedStatic = Mockito\r\n          .mockStatic(UriComponentsBuilder.class)) {\r\n          List&lt;String&gt; sku = new ArrayList&lt;&gt;();\r\n          sku.add(&quot;01234&quot;);\r\n          ReflectionTestUtils.setField(cut, &quot;fallBackApiUrl&quot;, &quot;test&quot;);\r\n          UriComponentsBuilder uriComponentsBuilder = Mockito.mock(UriComponentsBuilder.class);\r\n          UriComponents uriComponents = Mockito.mock(UriComponents.class);\r\n          URI uri = Mockito.mock(URI.class);\r\n          RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\r\n          ResponseEntity responseEntity = Mockito.mock(ResponseEntity.class);\r\n          uriComponentsBuilderMockedStatic.when(() -&gt; UriComponentsBuilder.fromHttpUrl(&quot;test/bays/store/&quot;))\r\n            .thenReturn(uriComponentsBuilder);\r\n          Mockito.doReturn(uriComponentsBuilder).when(uriComponentsBuilder).pathSegment(&quot;0123&quot;);\r\n          Mockito.doReturn(uriComponentsBuilder).when(uriComponentsBuilder).path(&quot;/sku&quot;);\r\n          Mockito.doReturn(uriComponentsBuilder).when(uriComponentsBuilder).pathSegment(String.join(&quot;,&quot;, sku));\r\n          Mockito.doReturn(uriComponents).when(uriComponentsBuilder).build();\r\n          Mockito.doReturn(uriComponents).when(uriComponents).encode();\r\n          Mockito.doReturn(uri).when(uriComponents).toUri();\r\n          Mockito.doReturn(responseEntity).when(restTemplate)\r\n            .exchange(uri, HttpMethod.GET, getRequestEntity(), ExternalSkuInfo.class);\r\n          cut.getSkuInfoFromExternalService(&quot;0123&quot;, sku);\r\n        }\r\n      }\r\n    \r\n      HttpEntity&lt;Object&gt; getRequestEntity() {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Lists.newArrayList(MediaType.APPLICATION_JSON, MediaType.TEXT_PLAIN));\r\n        return new HttpEntity&lt;&gt;(headers);\r\n      }\r\n    \r\n    \r\n    }\r\n\r\n","title":"Rest Template dependency not mocked in case of static mock block due to which exchange method returning null","body":"<p>I am trying to write junit for existing class which i can't modify but there are two method for which i need to write junit both are using restTemplate but for some reason rest template is not mocking if i  mock it  within a mock static context in junit .</p>\n<p>But if i Mock globally then getRestTemplateInstance().exchange returning null. Could you please someone correct or point out problem so my test case can achieve 100% coverage</p>\n<p>Class:</p>\n<pre><code>    @Service\npublic class LocationRestTemplate {\n\n    private static final int READ_TIME_OUT = 5000;\n\n    private RestTemplate restTemplate;\n\n    @Value(&quot;${external-services.api}&quot;)\n    private String fallBackApiUrl;\n\n\n\n    RestTemplate getRestTemplateInstance() {\n        if (this.restTemplate == null) {\n            SimpleClientHttpRequestFactory factory = new SimpleClientHttpRequestFactory();\n            this.restTemplate = new RestTemplate(clientHttpRequestFactory());\n            restTemplate.setRequestFactory(factory);\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverterList = restTemplate.getMessageConverters();\n            // Set HTTP Message converter using a JSON implementation.\n            MappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\n            // Add supported media type\n            List&lt;MediaType&gt; supportedMediaTypes = new ArrayList&lt;&gt;();\n            supportedMediaTypes.add(new MediaType(&quot;text&quot;, &quot;plain&quot;));\n            supportedMediaTypes.add(new MediaType(&quot;application&quot;, &quot;json&quot;));\n            jsonMessageConverter.setSupportedMediaTypes(supportedMediaTypes);\n            messageConverterList.add(jsonMessageConverter);\n            restTemplate.setMessageConverters(messageConverterList);\n        }\n        return restTemplate;\n    }\n\n    public ExternalSkuInfo getSkuInfoFromExternalService(String store, List&lt;String&gt; skuList) {\n        java.net.URI builtUrl = null;\n        try {\n\n            UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(fallBackApiUrl + &quot;/bays/store/&quot;)\n                    .pathSegment(store).path(&quot;/sku&quot;).pathSegment(String.join(&quot;,&quot;, skuList));\n            builtUrl = builder.build().encode().toUri();\n            ResponseEntity&lt;ExternalSkuInfo&gt; response = getRestTemplateInstance().exchange(builtUrl, HttpMethod.GET,\n                    getRequestEntity(), ExternalSkuInfo.class);\n            if (response.getStatusCode() == HttpStatus.OK) {\n                return response.getBody();\n            }\n        } catch (RestClientException e) {\n\n        } catch (Exception exception) {\n\n        }\n        return null;\n    }\n\n    private ClientHttpRequestFactory clientHttpRequestFactory() {\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n        factory.setReadTimeout(READ_TIME_OUT);\n        factory.setConnectTimeout(READ_TIME_OUT);\n        return factory;\n    }\n\n     HttpEntity&lt;Object&gt; getRequestEntity() {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Lists.newArrayList(MediaType.APPLICATION_JSON, MediaType.TEXT_PLAIN));\n        return new HttpEntity&lt;&gt;(headers);\n    }\n\n}\n</code></pre>\n<p>Test Class</p>\n<pre><code>    public class LocationRestTemplateTest {\n\n  @InjectMocks\n  private LocationRestTemplate cut;\n\n\n  @Before\n  public void setUp() {\n    MockitoAnnotations.openMocks(this);\n  }\n\n  @Test\n  public void testGetRestTemplateInstance() {\n    RestTemplate restTemplate = cut.getRestTemplateInstance();\n    Assert.assertNotNull(restTemplate);\n  }\n\n  @Test(expected = Exception.class)\n  public void testGetSkuInfoFromExternalService() {\n    RestTemplate restTemplate1 = Mockito.mock(RestTemplate.class);\n    try (MockedStatic&lt;UriComponentsBuilder&gt; uriComponentsBuilderMockedStatic = Mockito\n      .mockStatic(UriComponentsBuilder.class)) {\n      List&lt;String&gt; sku = new ArrayList&lt;&gt;();\n      sku.add(&quot;01234&quot;);\n      ReflectionTestUtils.setField(cut, &quot;fallBackApiUrl&quot;, &quot;test&quot;);\n      UriComponentsBuilder uriComponentsBuilder = Mockito.mock(UriComponentsBuilder.class);\n      UriComponents uriComponents = Mockito.mock(UriComponents.class);\n      URI uri = Mockito.mock(URI.class);\n      RestTemplate restTemplate = Mockito.mock(RestTemplate.class);\n      ResponseEntity responseEntity = Mockito.mock(ResponseEntity.class);\n      uriComponentsBuilderMockedStatic.when(() -&gt; UriComponentsBuilder.fromHttpUrl(&quot;test/bays/store/&quot;))\n        .thenReturn(uriComponentsBuilder);\n      Mockito.doReturn(uriComponentsBuilder).when(uriComponentsBuilder).pathSegment(&quot;0123&quot;);\n      Mockito.doReturn(uriComponentsBuilder).when(uriComponentsBuilder).path(&quot;/sku&quot;);\n      Mockito.doReturn(uriComponentsBuilder).when(uriComponentsBuilder).pathSegment(String.join(&quot;,&quot;, sku));\n      Mockito.doReturn(uriComponents).when(uriComponentsBuilder).build();\n      Mockito.doReturn(uriComponents).when(uriComponents).encode();\n      Mockito.doReturn(uri).when(uriComponents).toUri();\n      Mockito.doReturn(responseEntity).when(restTemplate)\n        .exchange(uri, HttpMethod.GET, getRequestEntity(), ExternalSkuInfo.class);\n      cut.getSkuInfoFromExternalService(&quot;0123&quot;, sku);\n    }\n  }\n\n  HttpEntity&lt;Object&gt; getRequestEntity() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setAccept(Lists.newArrayList(MediaType.APPLICATION_JSON, MediaType.TEXT_PLAIN));\n    return new HttpEntity&lt;&gt;(headers);\n  }\n\n\n}\n</code></pre>\n"},{"tags":["java","web-services","jakarta-ee","jax-ws"],"answers":[{"comments":[{"owner":{"account_id":10190,"reputation":3578,"user_id":19136,"accept_rate":65,"display_name":"German"},"score":1,"creation_date":1313539722,"post_id":7071421,"comment_id":8482762,"body_markdown":"The Web Service has been working for quite some time and adding security was just a matter of adding a single annotation (@RolesAllowed) to a single class, I don&#39;t think there would be something simpler than that, specially when I look at tons and tons of configurations needed by CXF. Besides that, changing frameworks just because the client can&#39;t send (yet) one header is not worth it.","body":"The Web Service has been working for quite some time and adding security was just a matter of adding a single annotation (@RolesAllowed) to a single class, I don&#39;t think there would be something simpler than that, specially when I look at tons and tons of configurations needed by CXF. Besides that, changing frameworks just because the client can&#39;t send (yet) one header is not worth it."},{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":0,"creation_date":1313543176,"post_id":7071421,"comment_id":8483194,"body_markdown":"@German.  Was not clear from your question that you were using *any* framework in your client. Looks like your own answer is a winner.","body":"@German.  Was not clear from your question that you were using <i>any</i> framework in your client. Looks like your own answer is a winner."},{"owner":{"account_id":10190,"reputation":3578,"user_id":19136,"accept_rate":65,"display_name":"German"},"score":0,"creation_date":1313675770,"post_id":7071421,"comment_id":8514659,"body_markdown":"Yeah, maybe it was not clear the framework that I use, and the thing is that we don&#39;t have any jar or dependency or anything referring a specific implementation, but I suppose that if we are using Glassfish, then we are using Metro.","body":"Yeah, maybe it was not clear the framework that I use, and the thing is that we don&#39;t have any jar or dependency or anything referring a specific implementation, but I suppose that if we are using Glassfish, then we are using Metro."}],"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313446332,"creation_date":1313446332,"answer_id":7071421,"question_id":7071366,"body_markdown":"To make your life *simpler*, you may want to consider using JAX-WS framework such as Apache CXF or Apache Axis2.\r\n\r\nHere is the link that describes how to setup WS-Security for Apache CXF -&gt; http://cxf.apache.org/docs/ws-security.html\r\n\r\n**EDIT**\r\nBy the way, the `Authorization` field just uses simple Base64 encoding.\r\nAccording to this ( http://www.motobit.com/util/base64-decoder-encoder.asp ), the decoded value is `german:german`.","title":"Java Web Service client basic authentication","body":"<p>To make your life <em>simpler</em>, you may want to consider using JAX-WS framework such as Apache CXF or Apache Axis2.</p>\n\n<p>Here is the link that describes how to setup WS-Security for Apache CXF -> <a href=\"http://cxf.apache.org/docs/ws-security.html\" rel=\"nofollow\">http://cxf.apache.org/docs/ws-security.html</a></p>\n\n<p><strong>EDIT</strong>\nBy the way, the <code>Authorization</code> field just uses simple Base64 encoding.\nAccording to this ( <a href=\"http://www.motobit.com/util/base64-decoder-encoder.asp\" rel=\"nofollow\">http://www.motobit.com/util/base64-decoder-encoder.asp</a> ), the decoded value is <code>german:german</code>.</p>\n"},{"comments":[{"owner":{"account_id":10190,"reputation":3578,"user_id":19136,"accept_rate":65,"display_name":"German"},"score":0,"creation_date":1313539312,"post_id":7084179,"comment_id":8482704,"body_markdown":"This can be useful to manually add arbitrary headers and set arbitrary values (by manually calculating the base64 encoding of the credentials), but there are more standard options","body":"This can be useful to manually add arbitrary headers and set arbitrary values (by manually calculating the base64 encoding of the credentials), but there are more standard options"}],"tags":[],"owner":{"account_id":211184,"reputation":4921,"user_id":463202,"accept_rate":92,"display_name":"Gonzalo Garcia Lasurtegui"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313524487,"creation_date":1313524487,"answer_id":7084179,"question_id":7071366,"body_markdown":"If you are using a JAX-WS implementation for your client, such as Metro Web Services, the following code shows how to pass username and password in the HTTP headers:\r\n\r\n     MyService port = new MyService();\r\n     MyServiceWS service = port.getMyServicePort();\r\n        \r\n     Map&lt;String, List&lt;String&gt;&gt; credentials = new HashMap&lt;String,List&lt;String&gt;&gt;();\r\n        \r\n     credentials.put(&quot;username&quot;, Collections.singletonList(&quot;username&quot;));\r\n     credentials.put(&quot;password&quot;, Collections.singletonList(&quot;password&quot;));\r\n        \r\n     ((BindingProvider)service).getRequestContext().put(MessageContext.HTTP_REQUEST_HEADERS, credentials);\r\n\r\nThen subsequent calls to the service will be authenticated. Beware that the password is only encoded using Base64, so I encourage you to use other additional mechanism like client certificates to increase security.","title":"Java Web Service client basic authentication","body":"<p>If you are using a JAX-WS implementation for your client, such as Metro Web Services, the following code shows how to pass username and password in the HTTP headers:</p>\n\n<pre><code> MyService port = new MyService();\n MyServiceWS service = port.getMyServicePort();\n\n Map&lt;String, List&lt;String&gt;&gt; credentials = new HashMap&lt;String,List&lt;String&gt;&gt;();\n\n credentials.put(\"username\", Collections.singletonList(\"username\"));\n credentials.put(\"password\", Collections.singletonList(\"password\"));\n\n ((BindingProvider)service).getRequestContext().put(MessageContext.HTTP_REQUEST_HEADERS, credentials);\n</code></pre>\n\n<p>Then subsequent calls to the service will be authenticated. Beware that the password is only encoded using Base64, so I encourage you to use other additional mechanism like client certificates to increase security.</p>\n"},{"comments":[{"owner":{"account_id":22150,"reputation":1853,"user_id":54378,"accept_rate":100,"display_name":"Thomas Upton"},"score":19,"creation_date":1330033205,"post_id":7086636,"comment_id":11910517,"body_markdown":"Please note that `Authenticator#setDefault` is not thread safe, and this is not a good solution if your service consumer is hitting multiple endpoints.","body":"Please note that <code>Authenticator#setDefault</code> is not thread safe, and this is not a good solution if your service consumer is hitting multiple endpoints."},{"owner":{"account_id":8271,"reputation":2534,"user_id":14811,"accept_rate":33,"display_name":"Jonathan Barbero"},"score":0,"creation_date":1343657359,"post_id":7086636,"comment_id":15553684,"body_markdown":"Is there any thread safe alternative that allows multiple endpoints?","body":"Is there any thread safe alternative that allows multiple endpoints?"},{"owner":{"account_id":8271,"reputation":2534,"user_id":14811,"accept_rate":33,"display_name":"Jonathan Barbero"},"score":0,"creation_date":1346694888,"post_id":7086636,"comment_id":16424778,"body_markdown":"Authenticator is usefull for any kind of security protocol, but the JAX-WS way to provide the credentials do not require this method.","body":"Authenticator is usefull for any kind of security protocol, but the JAX-WS way to provide the credentials do not require this method."},{"owner":{"account_id":117431,"reputation":5211,"user_id":307525,"accept_rate":44,"display_name":"Hubbitus"},"score":1,"creation_date":1408030800,"post_id":7086636,"comment_id":39453938,"body_markdown":"Unfortunately this solution will not work if your username in unicode and not from Latin1 :(","body":"Unfortunately this solution will not work if your username in unicode and not from Latin1 :("},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":3,"creation_date":1424696116,"post_id":7086636,"comment_id":45641841,"body_markdown":"If you want to programmatically change the credentials later, you may face [this](http://stackoverflow.com/questions/480895/reset-the-authenticator-credentials) problem related to [this](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6626700) bug/deficiency. If only the service port is protected with basic authentication, the easiest solution is (once again) Jonathan&#39;s answer. If the WSDL itself is protected, there are only the ugly workarounds described in the other thread.","body":"If you want to programmatically change the credentials later, you may face <a href=\"http://stackoverflow.com/questions/480895/reset-the-authenticator-credentials\">this</a> problem related to <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6626700\" rel=\"nofollow noreferrer\">this</a> bug/deficiency. If only the service port is protected with basic authentication, the easiest solution is (once again) Jonathan&#39;s answer. If the WSDL itself is protected, there are only the ugly workarounds described in the other thread."},{"owner":{"account_id":8278447,"reputation":368,"user_id":6223839,"display_name":"Humza"},"score":0,"creation_date":1538568816,"post_id":7086636,"comment_id":92186802,"body_markdown":"@HeinBl&#246;d if the WSDL is protected how can I access the service? Authenticator is not working","body":"@HeinBl&#246;d if the WSDL is protected how can I access the service? Authenticator is not working"},{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1538590003,"post_id":7086636,"comment_id":92199628,"body_markdown":"@Humza I&#39;m afraid I can&#39;t help you anymore, I&#39;ve been out of touch with this subject ever since. But I&#39;d assume that [this](https://stackoverflow.com/questions/480895/reset-the-authenticator-credentials/487979#487979) accepted answer should work, or one of the others on that thread (?).","body":"@Humza I&#39;m afraid I can&#39;t help you anymore, I&#39;ve been out of touch with this subject ever since. But I&#39;d assume that <a href=\"https://stackoverflow.com/questions/480895/reset-the-authenticator-credentials/487979#487979\">this</a> accepted answer should work, or one of the others on that thread (?)."}],"tags":[],"owner":{"account_id":10190,"reputation":3578,"user_id":19136,"accept_rate":65,"display_name":"German"},"comment_count":7,"down_vote_count":3,"up_vote_count":54,"is_accepted":true,"score":51,"last_activity_date":1313540043,"creation_date":1313540043,"answer_id":7086636,"question_id":7071366,"body_markdown":"It turned out that there&#39;s a simple, standard way to achieve what I wanted:\r\n\r\n    import java.net.Authenticator;\r\n    import java.net.PasswordAuthentication;\r\n\r\n    Authenticator myAuth = new Authenticator() \r\n    {\r\n        @Override\r\n        protected PasswordAuthentication getPasswordAuthentication()\r\n        {\r\n            return new PasswordAuthentication(&quot;german&quot;, &quot;german&quot;.toCharArray());\r\n        }\r\n    };\r\n                \r\n    Authenticator.setDefault(myAuth);\r\n\r\nNo custom &quot;sun&quot; classes or external dependencies, and no manually encode anything.\r\n\r\nI&#39;m aware that BASIC security is not, well, secure, but we are also using HTTPS.\r\n","title":"Java Web Service client basic authentication","body":"<p>It turned out that there's a simple, standard way to achieve what I wanted:</p>\n\n<pre><code>import java.net.Authenticator;\nimport java.net.PasswordAuthentication;\n\nAuthenticator myAuth = new Authenticator() \n{\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication()\n    {\n        return new PasswordAuthentication(\"german\", \"german\".toCharArray());\n    }\n};\n\nAuthenticator.setDefault(myAuth);\n</code></pre>\n\n<p>No custom \"sun\" classes or external dependencies, and no manually encode anything.</p>\n\n<p>I'm aware that BASIC security is not, well, secure, but we are also using HTTPS.</p>\n"},{"comments":[{"owner":{"account_id":2249398,"reputation":1885,"user_id":1981978,"accept_rate":68,"display_name":"Casey Perkins"},"score":0,"creation_date":1452119731,"post_id":9277408,"comment_id":57034161,"body_markdown":"I had to change the line authSchemes.add(Authenticator.BASIC); to authSchemes.add(HttpTransportProperties.Authenticator.BASIC); to get it to compile.","body":"I had to change the line authSchemes.add(Authenticator.BASIC); to authSchemes.add(HttpTransportProperties.Authenticator.BASIC)&zwnj;&#8203;; to get it to compile."},{"owner":{"account_id":15151222,"reputation":142,"user_id":10933498,"display_name":"Saravana Kumar"},"score":0,"creation_date":1593363006,"post_id":9277408,"comment_id":110748046,"body_markdown":"Hi Avil, My Axis2 client does not have a Stub class present in it. Sorry, I&#39;m a beginner. I&#39;m consuming a commercial vendor&#39;s service and the client is provided by the vendor. I did wsimport, but there&#39;s no stub classes present. And so I can&#39;t `_getServiceClient().getOptions()` do this part. Do I need to add any additional attributes while doing `wsimport`? Please help me. Appreciate your help.","body":"Hi Avil, My Axis2 client does not have a Stub class present in it. Sorry, I&#39;m a beginner. I&#39;m consuming a commercial vendor&#39;s service and the client is provided by the vendor. I did wsimport, but there&#39;s no stub classes present. And so I can&#39;t <code>_getServiceClient().getOptions()</code> do this part. Do I need to add any additional attributes while doing <code>wsimport</code>? Please help me. Appreciate your help."}],"tags":[],"owner":{"account_id":309056,"reputation":453,"user_id":621302,"display_name":"Avil"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1329224931,"creation_date":1329224931,"answer_id":9277408,"question_id":7071366,"body_markdown":"for `Axis2` client this may be helpful\r\n    \r\n    ...\r\n    serviceStub = new TestBeanServiceStub(&quot;&lt;WEB SERVICE URL&gt;&quot;); // Set your value\r\n    HttpTransportProperties.Authenticator basicAuthenticator = new HttpTransportProperties.Authenticator();\r\n    List&lt;String&gt; authSchemes = new ArrayList&lt;String&gt;();\r\n    authSchemes.add(Authenticator.BASIC);\r\n    basicAuthenticator.setAuthSchemes(authSchemes); \r\n    basicAuthenticator.setUsername(&quot;&lt;UserName&gt;&quot;); // Set your value\r\n    basicAuthenticator.setPassword(&quot;&lt;Password&gt;&quot;); // Set your value\r\n    basicAuthenticator.setPreemptiveAuthentication(true);\r\n    serviceStub._getServiceClient().getOptions().setProperty(org.apache.axis2.transport.http.HTTPConstants.AUTHENTICATE, basicAuthenticator);\r\n    serviceStub._getServiceClient().getOptions().setProperty(org.apache.axis2.transport.http.HTTPConstants.CHUNKED, &quot;false&quot;);\r\n    ...\r\n","title":"Java Web Service client basic authentication","body":"<p>for <code>Axis2</code> client this may be helpful</p>\n\n<pre><code>...\nserviceStub = new TestBeanServiceStub(\"&lt;WEB SERVICE URL&gt;\"); // Set your value\nHttpTransportProperties.Authenticator basicAuthenticator = new HttpTransportProperties.Authenticator();\nList&lt;String&gt; authSchemes = new ArrayList&lt;String&gt;();\nauthSchemes.add(Authenticator.BASIC);\nbasicAuthenticator.setAuthSchemes(authSchemes); \nbasicAuthenticator.setUsername(\"&lt;UserName&gt;\"); // Set your value\nbasicAuthenticator.setPassword(\"&lt;Password&gt;\"); // Set your value\nbasicAuthenticator.setPreemptiveAuthentication(true);\nserviceStub._getServiceClient().getOptions().setProperty(org.apache.axis2.transport.http.HTTPConstants.AUTHENTICATE, basicAuthenticator);\nserviceStub._getServiceClient().getOptions().setProperty(org.apache.axis2.transport.http.HTTPConstants.CHUNKED, \"false\");\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":218174,"reputation":2090,"user_id":474365,"accept_rate":57,"display_name":"Geert Schuring"},"score":1,"creation_date":1366028686,"post_id":12252282,"comment_id":22841470,"body_markdown":"Thanks from me too! Would have taken me a *long* time to figure this out.","body":"Thanks from me too! Would have taken me a <i>long</i> time to figure this out."},{"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"score":1,"creation_date":1505310185,"post_id":12252282,"comment_id":79360982,"body_markdown":"for those who are 1.5 level, you will need to add this dependency for `BindingProvider`: \n\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml/webservices-api --&gt;\n\t\t\t&lt;dependency&gt;\n\t\t\t    &lt;groupId&gt;javax.xml&lt;/groupId&gt;\n\t\t\t    &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n\t\t\t    &lt;version&gt;1.5&lt;/version&gt;\n\t\t\t&lt;/dependency&gt;","body":"for those who are 1.5 level, you will need to add this dependency for <code>BindingProvider</code>:   \t\t\t&lt;!-- <a href=\"https://mvnrepository.com/artifact/javax.xml/webservices-api\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.xml/webservices-api</a> --&gt; \t\t\t&lt;dependency&gt; \t\t\t    &lt;groupId&gt;javax.xml&lt;/groupId&gt; \t\t\t    &lt;artifactId&gt;webservices-api&lt;/artifactId&gt; \t\t\t    &lt;version&gt;1.5&lt;/version&gt; \t\t\t&lt;/dependency&gt;"},{"owner":{"account_id":8323743,"reputation":1749,"user_id":6254435,"display_name":"Dan Ortega"},"score":1,"creation_date":1586978592,"post_id":12252282,"comment_id":108332711,"body_markdown":"Great answer. Thank you very much.","body":"Great answer. Thank you very much."}],"tags":[],"owner":{"account_id":8271,"reputation":2534,"user_id":14811,"accept_rate":33,"display_name":"Jonathan Barbero"},"comment_count":3,"down_vote_count":2,"up_vote_count":92,"is_accepted":false,"score":90,"last_activity_date":1346695047,"creation_date":1346695047,"answer_id":12252282,"question_id":7071366,"body_markdown":"The JAX-WS way for basic authentication is\r\n\r\n\r\n    Service s = new Service();\r\n    Port port = s.getPort();\r\n    \r\n    BindingProvider prov = (BindingProvider)port;\r\n    prov.getRequestContext().put(BindingProvider.USERNAME_PROPERTY, &quot;myusername&quot;);\r\n    prov.getRequestContext().put(BindingProvider.PASSWORD_PROPERTY, &quot;mypassword&quot;);\r\n    \r\n    port.call();\r\n    ","title":"Java Web Service client basic authentication","body":"<p>The JAX-WS way for basic authentication is</p>\n\n<pre><code>Service s = new Service();\nPort port = s.getPort();\n\nBindingProvider prov = (BindingProvider)port;\nprov.getRequestContext().put(BindingProvider.USERNAME_PROPERTY, \"myusername\");\nprov.getRequestContext().put(BindingProvider.PASSWORD_PROPERTY, \"mypassword\");\n\nport.call();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3136309,"reputation":9850,"user_id":2652759,"accept_rate":100,"display_name":"quirimmo"},"score":4,"creation_date":1495931066,"post_id":44222637,"comment_id":75455911,"body_markdown":"Please use English","body":"Please use English"}],"tags":[],"owner":{"account_id":10992545,"reputation":51,"user_id":8075955,"display_name":"Rolando F."},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537799161,"creation_date":1495929823,"answer_id":44222637,"question_id":7071366,"body_markdown":"This worked for me:\r\n\r\n     BindingProvider bp = (BindingProvider) port;\r\n     Map&lt;String, Object&gt; map = bp.getRequestContext();\r\n     map.put(BindingProvider.USERNAME_PROPERTY, &quot;aspbbo&quot;);\r\n     map.put(BindingProvider.PASSWORD_PROPERTY, &quot;9FFFN6P&quot;);","title":"Java Web Service client basic authentication","body":"<p>This worked for me:</p>\n\n<pre><code> BindingProvider bp = (BindingProvider) port;\n Map&lt;String, Object&gt; map = bp.getRequestContext();\n map.put(BindingProvider.USERNAME_PROPERTY, \"aspbbo\");\n map.put(BindingProvider.PASSWORD_PROPERTY, \"9FFFN6P\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10209126,"reputation":126,"user_id":7536862,"display_name":"Jos&#233; Luis Gonz&#225;lez Vergara"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1499813936,"creation_date":1499813936,"answer_id":45045757,"question_id":7071366,"body_markdown":"Some context additional about basic authentication, it consists in a header which contains the key/value pair:\r\n\r\n***Authorization: Basic Z2VybWFuOmdlcm1hbg==***\r\n\r\nwhere &quot;***Authorization***&quot; is the headers key,\r\nand the headers value has a string ( &quot;***Basic***&quot; word plus ***blank space***) concatenated to &quot;***Z2VybWFuOmdlcm1hbg==***&quot;, which are the *user and password in base 64 joint by double dot*\r\n\r\n    String name = &quot;username&quot;;\r\n    String password = &quot;secret&quot;;\r\n    String authString = name + &quot;:&quot; + password;\r\n    String authStringEnc = new BASE64Encoder().encode(authString.getBytes());\r\n    ...\r\n    objectXXX.header(&quot;Authorization&quot;, &quot;Basic &quot; + authStringEnc);\r\n\r\n\r\n\r\n","title":"Java Web Service client basic authentication","body":"<p>Some context additional about basic authentication, it consists in a header which contains the key/value pair:</p>\n\n<p><strong><em>Authorization: Basic Z2VybWFuOmdlcm1hbg==</em></strong></p>\n\n<p>where \"<strong><em>Authorization</em></strong>\" is the headers key,\nand the headers value has a string ( \"<strong><em>Basic</em></strong>\" word plus <strong><em>blank space</em></strong>) concatenated to \"<strong><em>Z2VybWFuOmdlcm1hbg==</em></strong>\", which are the <em>user and password in base 64 joint by double dot</em></p>\n\n<pre><code>String name = \"username\";\nString password = \"secret\";\nString authString = name + \":\" + password;\nString authStringEnc = new BASE64Encoder().encode(authString.getBytes());\n...\nobjectXXX.header(\"Authorization\", \"Basic \" + authStringEnc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448682,"reputation":355,"user_id":1366329,"display_name":"Winter MC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566517686,"creation_date":1566517686,"answer_id":57618252,"question_id":7071366,"body_markdown":"If you use JAX-WS, the following works for me:\r\n\r\n        //Get Web service Port\r\n\t\tWSTestService wsService = new WSTestService();\r\n\t\tWSTest wsPort = wsService.getWSTestPort();\r\n\t\t\t\r\n\t\t// Add username and password for Basic Authentication\r\n\t\tMap&lt;String, Object&gt; reqContext = ((BindingProvider) \r\n             wsPort).getRequestContext();\r\n\t\treqContext.put(BindingProvider.USERNAME_PROPERTY, &quot;username&quot;);\r\n\t\t\treqContext.put(BindingProvider.PASSWORD_PROPERTY, &quot;password&quot;);\r\n","title":"Java Web Service client basic authentication","body":"<p>If you use JAX-WS, the following works for me:</p>\n\n<pre><code>    //Get Web service Port\n    WSTestService wsService = new WSTestService();\n    WSTest wsPort = wsService.getWSTestPort();\n\n    // Add username and password for Basic Authentication\n    Map&lt;String, Object&gt; reqContext = ((BindingProvider) \n         wsPort).getRequestContext();\n    reqContext.put(BindingProvider.USERNAME_PROPERTY, \"username\");\n        reqContext.put(BindingProvider.PASSWORD_PROPERTY, \"password\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16854551,"reputation":1,"user_id":12186681,"display_name":"Krishnam Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573127529,"creation_date":1573125178,"answer_id":58747549,"question_id":7071366,"body_markdown":"The easiest option to get this working is to include Username and Password under &lt;wsse:Security&gt; of request. See sample below. \r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    \txmlns:typ=&quot;http://xml.demo.com/types&quot; xmlns:ser=&quot;http://xml.demo.com/location/services&quot;\r\n    \txmlns:typ1=&quot;http://xml.demo.com/location/types&quot;&gt;\r\n    \t&lt;soapenv:Header&gt;\r\n    \t\t&lt;typ:requestHeader&gt;\r\n    \t\t\t&lt;typ:timestamp&gt;?&lt;/typ:timestamp&gt;\r\n    \t\t\t&lt;typ:sourceSystemId&gt;TEST&lt;/typ:sourceSystemId&gt;\r\n    \t\t\t&lt;!--Optional: --&gt;\r\n    \t\t\t&lt;typ:sourceSystemUserId&gt;1&lt;/typ:sourceSystemUserId&gt;\r\n    \t\t\t&lt;typ:sourceServerId&gt;1&lt;/typ:sourceServerId&gt;\r\n    \t\t\t&lt;typ:trackingId&gt;HYD-12345&lt;/typ:trackingId&gt;\r\n    \t\t&lt;/typ:requestHeader&gt;\r\n    \r\n    \t\t&lt;wsse:Security soapenv:mustUnderstand=&quot;1&quot;\r\n    \t\t\txmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;&gt;\r\n    \t\t\t&lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-emmprepaid&quot;\r\n    \t\t\t\txmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n    \t\t\t\t&lt;wsse:Username&gt;your-username&lt;/wsse:Username&gt;\r\n    \t\t\t\t&lt;wsse:Password\r\n    \t\t\t\t\tType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;your-password&lt;/wsse:Password&gt;\r\n    \t\t\t&lt;/wsse:UsernameToken&gt;\r\n    \t\t&lt;/wsse:Security&gt;\r\n    \t&lt;/soapenv:Header&gt;\r\n    \t&lt;soapenv:Body&gt;\r\n    \t\t&lt;ser:getLocation&gt;\r\n    \t\t\t&lt;!--Optional: --&gt;\r\n    \t\t\t&lt;ser:GetLocation&gt;\r\n    \t\t\t\t&lt;typ1:locationID&gt;HYD-GoldenTulipsEstates&lt;/typ1:locationID&gt;\r\n    \t\t\t&lt;/ser:GetLocation&gt;\r\n    \t\t&lt;/ser:getLocation&gt;\r\n    \t&lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;","title":"Java Web Service client basic authentication","body":"<p>The easiest option to get this working is to include Username and Password under  of request. See sample below. </p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\n    xmlns:typ=\"http://xml.demo.com/types\" xmlns:ser=\"http://xml.demo.com/location/services\"\n    xmlns:typ1=\"http://xml.demo.com/location/types\"&gt;\n    &lt;soapenv:Header&gt;\n        &lt;typ:requestHeader&gt;\n            &lt;typ:timestamp&gt;?&lt;/typ:timestamp&gt;\n            &lt;typ:sourceSystemId&gt;TEST&lt;/typ:sourceSystemId&gt;\n            &lt;!--Optional: --&gt;\n            &lt;typ:sourceSystemUserId&gt;1&lt;/typ:sourceSystemUserId&gt;\n            &lt;typ:sourceServerId&gt;1&lt;/typ:sourceServerId&gt;\n            &lt;typ:trackingId&gt;HYD-12345&lt;/typ:trackingId&gt;\n        &lt;/typ:requestHeader&gt;\n\n        &lt;wsse:Security soapenv:mustUnderstand=\"1\"\n            xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;\n            &lt;wsse:UsernameToken wsu:Id=\"UsernameToken-emmprepaid\"\n                xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n                &lt;wsse:Username&gt;your-username&lt;/wsse:Username&gt;\n                &lt;wsse:Password\n                    Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;your-password&lt;/wsse:Password&gt;\n            &lt;/wsse:UsernameToken&gt;\n        &lt;/wsse:Security&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;ser:getLocation&gt;\n            &lt;!--Optional: --&gt;\n            &lt;ser:GetLocation&gt;\n                &lt;typ1:locationID&gt;HYD-GoldenTulipsEstates&lt;/typ1:locationID&gt;\n            &lt;/ser:GetLocation&gt;\n        &lt;/ser:getLocation&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7938451,"reputation":652,"user_id":5993488,"display_name":"Radhakrishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675175548,"creation_date":1675175548,"answer_id":75298702,"question_id":7071366,"body_markdown":"For me below code works\r\n\r\n            Map&lt;String, Object&gt; requestContext = ((BindingProvider)port).getRequestContext();\r\n            Map&lt;String, List&lt;String&gt;&gt; requestHeaders = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n            String authString = &quot;&lt;Userid&gt;&quot; + &quot;:&quot; + &quot;&lt;Pwd&gt;&quot;;\r\n            String authorization =  Base64.getEncoder().encodeToString(authString.getBytes());\r\n            requestHeaders.put(&quot;Authorization&quot;, Collections.singletonList(&quot;Basic &quot; + authorization));\r\n            requestContext.put(MessageContext.HTTP_REQUEST_HEADERS, requestHeaders);","title":"Java Web Service client basic authentication","body":"<p>For me below code works</p>\n<pre><code>        Map&lt;String, Object&gt; requestContext = ((BindingProvider)port).getRequestContext();\n        Map&lt;String, List&lt;String&gt;&gt; requestHeaders = new HashMap&lt;String, List&lt;String&gt;&gt;();\n        String authString = &quot;&lt;Userid&gt;&quot; + &quot;:&quot; + &quot;&lt;Pwd&gt;&quot;;\n        String authorization =  Base64.getEncoder().encodeToString(authString.getBytes());\n        requestHeaders.put(&quot;Authorization&quot;, Collections.singletonList(&quot;Basic &quot; + authorization));\n        requestContext.put(MessageContext.HTTP_REQUEST_HEADERS, requestHeaders);\n</code></pre>\n"}],"owner":{"account_id":10190,"reputation":3578,"user_id":19136,"accept_rate":65,"display_name":"German"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235711,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":7086636,"answer_count":10,"score":55,"last_activity_date":1675175548,"creation_date":1313445915,"question_id":7071366,"body_markdown":"I have created a JAX-WS Web Service on top of Glassfish which requires basic HTTP authentication.\r\n\r\nNow I want to create a standalone java application client for that Web Service but I don&#39;t have a clue of how to pass the username and password.\r\n\r\nIt works with Eclipse&#39;s Web Service explorer, and examining the wire I found this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    POST /SnaProvisioning/SnaProvisioningV1_0 HTTP/1.1\r\n    Host: localhost:8080\r\n    Content-Type: text/xml; charset=utf-8\r\n    Content-Length: 311\r\n    Accept: application/soap+xml, application/dime, multipart/related, text/*\r\n    User-Agent: IBM Web Services Explorer\r\n    Cache-Control: no-cache\r\n    Pragma: no-cache\r\n    SOAPAction: &quot;&quot;\r\n    Authorization: Basic Z2VybWFuOmdlcm1hbg==\r\n    Connection: close\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:q0=&quot;http://ngin.ericsson.com/sna/types/v1.0&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;soapenv:Body&gt;\r\n        &lt;q0:listServiceScripts/&gt;\r\n      &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n\r\nHow do I pass the username and password in this &quot;Authorization&quot; header using java code? Is it hashed or something like that? What is the algorithm?\r\n\r\nWithout security involved I have a working standalone java client:\r\n\r\n    SnaProvisioning myPort = new SnaProvisioning_Service().getSnaProvisioningV10Port();\r\n    myPort.listServiceScripts();","title":"Java Web Service client basic authentication","body":"<p>I have created a JAX-WS Web Service on top of Glassfish which requires basic HTTP authentication.</p>\n\n<p>Now I want to create a standalone java application client for that Web Service but I don't have a clue of how to pass the username and password.</p>\n\n<p>It works with Eclipse's Web Service explorer, and examining the wire I found this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>POST /SnaProvisioning/SnaProvisioningV1_0 HTTP/1.1\nHost: localhost:8080\nContent-Type: text/xml; charset=utf-8\nContent-Length: 311\nAccept: application/soap+xml, application/dime, multipart/related, text/*\nUser-Agent: IBM Web Services Explorer\nCache-Control: no-cache\nPragma: no-cache\nSOAPAction: \"\"\nAuthorization: Basic Z2VybWFuOmdlcm1hbg==\nConnection: close\n\n&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:q0=\"http://ngin.ericsson.com/sna/types/v1.0\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;soapenv:Body&gt;\n    &lt;q0:listServiceScripts/&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>How do I pass the username and password in this \"Authorization\" header using java code? Is it hashed or something like that? What is the algorithm?</p>\n\n<p>Without security involved I have a working standalone java client:</p>\n\n<pre><code>SnaProvisioning myPort = new SnaProvisioning_Service().getSnaProvisioningV10Port();\nmyPort.listServiceScripts();\n</code></pre>\n"},{"tags":["java","windows","gradle","build.gradle","system-properties"],"answers":[{"comments":[{"owner":{"account_id":10703126,"reputation":562,"user_id":7877771,"display_name":"sachyy"},"score":0,"creation_date":1675245468,"post_id":75298573,"comment_id":132885205,"body_markdown":"Thank you for the comment, but the problem is System is getting as null.\nAny thoughts?","body":"Thank you for the comment, but the problem is System is getting as null. Any thoughts?"}],"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675174934,"creation_date":1675174934,"answer_id":75298573,"question_id":75293761,"body_markdown":"To read an env var in gradle, \r\n\r\n - `var myvar = &quot;$System.env.myvar&quot;` \r\n - `System.getenv(&quot;myvar&quot;)`\r\n\r\nAlso, try to avoid special characters such as `.` in env prop names.\r\n\r\nIf you really want to get the domain name, consider executing a windows command and store the output in a string.\r\n&gt; https://stackoverflow.com/questions/11093223/how-to-use-exec-output-in-gradle\r\n\r\nOther options could be...\r\n\r\nCreating `.local` file with no content, adding it to `.gitignore`, and then checking its existence.  It could be created in the local dev machines, but be missing from other places.\r\n\r\nAdding something to the `~/.gradle/gradle.properties` file.  Because this is picked up on the local machine, you can test for it.  But, in other places where it is not set, you wouldn&#39;t see it.","title":"How to get windows domain name in gradle taks?","body":"<p>To read an env var in gradle,</p>\n<ul>\n<li><code>var myvar = &quot;$System.env.myvar&quot;</code></li>\n<li><code>System.getenv(&quot;myvar&quot;)</code></li>\n</ul>\n<p>Also, try to avoid special characters such as <code>.</code> in env prop names.</p>\n<p>If you really want to get the domain name, consider executing a windows command and store the output in a string.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/11093223/how-to-use-exec-output-in-gradle\">How to use exec() output in gradle</a></p>\n</blockquote>\n<p>Other options could be...</p>\n<p>Creating <code>.local</code> file with no content, adding it to <code>.gitignore</code>, and then checking its existence.  It could be created in the local dev machines, but be missing from other places.</p>\n<p>Adding something to the <code>~/.gradle/gradle.properties</code> file.  Because this is picked up on the local machine, you can test for it.  But, in other places where it is not set, you wouldn't see it.</p>\n"}],"owner":{"account_id":10703126,"reputation":562,"user_id":7877771,"display_name":"sachyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675174934,"creation_date":1675149329,"question_id":75293761,"body_markdown":"I am to switch between DB localhost or a dev server DB depending on the system I am running the code.\r\n\r\nin the build.gradle \r\n\r\n&gt; System.getenv()\r\n\r\n&gt;System.getProperty(&quot;test.property&quot;)\r\nbut this one comes as null.\r\n\r\n2 possible solutions,\r\n     1) set the System varibale\r\n     2) Try some other way to get the domain\r\n\r\nAppreciate your answers \r\n\r\nExpecting a way to get the domain so that i can decide which DB and other scripts to be used.","title":"How to get windows domain name in gradle taks?","body":"<p>I am to switch between DB localhost or a dev server DB depending on the system I am running the code.</p>\n<p>in the build.gradle</p>\n<blockquote>\n<p>System.getenv()</p>\n</blockquote>\n<blockquote>\n<p>System.getProperty(&quot;test.property&quot;)\nbut this one comes as null.</p>\n</blockquote>\n<p>2 possible solutions,\n1) set the System varibale\n2) Try some other way to get the domain</p>\n<p>Appreciate your answers</p>\n<p>Expecting a way to get the domain so that i can decide which DB and other scripts to be used.</p>\n"},{"tags":["java","xml"],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675172319,"post_id":75297808,"comment_id":132867894,"body_markdown":"Can I ask you to change the question title to &quot;Get specific value of node by attribute value&quot;","body":"Can I ask you to change the question title to &quot;Get specific value of node by attribute value&quot;"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675171250,"creation_date":1675171250,"answer_id":75297808,"question_id":75296060,"body_markdown":"You can use xpath as follows to read elements by an attribute value:\r\n\r\n\t\tXPath xPath =  XPathFactory.newInstance().newXPath();\r\n\r\n\t\tString expressionJackpotID = &quot;//column[@name=&#39;Jackpot ID&#39;]/text()&quot;;\r\n\t\tString expressionJackpotName = &quot;//column[@name=&#39;Jackpot Name&#39;]/text()&quot;;\r\n\t\t// etc\r\n\t\tString expressionCurrency = &quot;//column[@name=&#39;Currency&#39;]/text()&quot;;\r\n\r\n\t\tXPathExpression compiledExpressionJackpotID = xPath.compile(expressionJackpotID);\r\n\t\tXPathExpression compiledExpressionJackpotName = xPath.compile(expressionJackpotName);\r\n\t\t//etc\r\n\t\tXPathExpression compiledExpressionCurrency = xPath.compile(expressionCurrency);\r\n\r\n\t\tNodeList nodeList = doc.getElementsByTagName(&quot;row&quot;);\r\n\r\n\r\n\t\tfor (int itr = 0; itr &lt; nodeList.getLength(); itr++) {\r\n\t\t\tNode node = nodeList.item(itr);\r\n\r\n\t\t\tList&lt;String&gt; tabInfo = new ArrayList&lt;&gt;();\r\n\t\t\tif (node.getNodeType() == Node.ELEMENT_NODE) {\r\n\t\t\t\tString jackpotId = (String) compiledExpressionJackpotID.evaluate(node, XPathConstants.STRING);\r\n\t\t\t\tString jackpotName = (String) compiledExpressionJackpotName.evaluate(node, XPathConstants.STRING);\r\n\t\t\t\t// etc\r\n\t\t\t\tString currency = (String) compiledExpressionCurrency.evaluate(node, XPathConstants.STRING);\r\n\t\t\t}\r\n\t\t}\r\n","title":"Get specific value of node by attribute value","body":"<p>You can use xpath as follows to read elements by an attribute value:</p>\n<pre><code>    XPath xPath =  XPathFactory.newInstance().newXPath();\n\n    String expressionJackpotID = &quot;//column[@name='Jackpot ID']/text()&quot;;\n    String expressionJackpotName = &quot;//column[@name='Jackpot Name']/text()&quot;;\n    // etc\n    String expressionCurrency = &quot;//column[@name='Currency']/text()&quot;;\n\n    XPathExpression compiledExpressionJackpotID = xPath.compile(expressionJackpotID);\n    XPathExpression compiledExpressionJackpotName = xPath.compile(expressionJackpotName);\n    //etc\n    XPathExpression compiledExpressionCurrency = xPath.compile(expressionCurrency);\n\n    NodeList nodeList = doc.getElementsByTagName(&quot;row&quot;);\n\n\n    for (int itr = 0; itr &lt; nodeList.getLength(); itr++) {\n        Node node = nodeList.item(itr);\n\n        List&lt;String&gt; tabInfo = new ArrayList&lt;&gt;();\n        if (node.getNodeType() == Node.ELEMENT_NODE) {\n            String jackpotId = (String) compiledExpressionJackpotID.evaluate(node, XPathConstants.STRING);\n            String jackpotName = (String) compiledExpressionJackpotName.evaluate(node, XPathConstants.STRING);\n            // etc\n            String currency = (String) compiledExpressionCurrency.evaluate(node, XPathConstants.STRING);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4111326,"reputation":47,"user_id":3422485,"display_name":"user3422485"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75297808,"answer_count":1,"score":0,"last_activity_date":1675174585,"creation_date":1675162388,"question_id":75296060,"body_markdown":"    &lt;row id=&quot;1&quot;&gt;\r\n     &lt;column name=&quot;Date&quot;&gt;30.01.2029 00:00:00 +02:00&lt;/column&gt;\r\n     &lt;column name=&quot;Jackpot ID&quot;&gt;sol_3430_32488&lt;/column&gt;\r\n     &lt;column name=&quot;Jackpot Name&quot;&gt;Level1&lt;/column&gt;\r\n     &lt;column name=&quot;Jackpot Value&quot;&gt;0&lt;/column&gt;\r\n     &lt;column name=&quot;Casino Seed&quot;&gt;87.5&lt;/column&gt;\r\n     &lt;column name=&quot;Currency&quot;&gt;USD&lt;/column&gt;\r\n    &lt;/row&gt;\r\n \r\n\r\nI wrote this code which get it, and I think calling with index is not good idea, sometimes xml doesnt contains currency and it fails\r\n\r\n    DocumentBuilderFactory f = DocumentBuilderFactory.newInstance();\r\n\t\tf.setNamespaceAware(false);\r\n\t\tf.setValidating(false);\r\n\t\tDocumentBuilder b = f.newDocumentBuilder();\r\n\t\tURLConnection urlConnection = new URL(url).openConnection();\r\n\t\turlConnection.addRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n\t\tDocument doc = b.parse(urlConnection.getInputStream());\r\n\t\tdoc.getDocumentElement().normalize();\r\n\t\tNodeList nodeList = doc.getElementsByTagName(&quot;row&quot;);\r\n\r\n\r\n\t\tfor (int itr = 0; itr &lt; nodeList.getLength(); itr++) {\r\n\t\t\tNode node = nodeList.item(itr);\r\n\r\n\r\n\t\t\tArrayList&lt;String&gt; tabInfo = new ArrayList&lt;&gt;();\r\n\t\t\tif (node.getNodeType() ==Node.ELEMENT_NODE) {\r\n\t\t\t\tElement eElement = (Element) node;\r\n\r\n\t\t\t\tString data = eElement.getElementsByTagName(&quot;column&quot;).item(0).getTextContent();\r\n\t\t\t\tString jpId = eElement.getElementsByTagName(&quot;column&quot;).item(1).getTextContent();\r\n\t\t\t\tString jpValue = eElement.getElementsByTagName(&quot;column&quot;).item(2).getTextContent();\r\n\t\t\t\tString casinoName = eElement.getElementsByTagName(&quot;column&quot;).item(3).getTextContent();\r\n\t\t\t\tString casinoSeed = eElement.getElementsByTagName(&quot;column&quot;).item(4).getTextContent();\r\n\t\t\t\tString casinoCurrency = eElement.getElementsByTagName(&quot;column&quot;).item(5).getTextContent();\r\n\r\n\r\nis there a way to interact by attributes? if there is Data,jackpot,etc. return it","title":"Get specific value of node by attribute value","body":"<pre><code>&lt;row id=&quot;1&quot;&gt;\n &lt;column name=&quot;Date&quot;&gt;30.01.2029 00:00:00 +02:00&lt;/column&gt;\n &lt;column name=&quot;Jackpot ID&quot;&gt;sol_3430_32488&lt;/column&gt;\n &lt;column name=&quot;Jackpot Name&quot;&gt;Level1&lt;/column&gt;\n &lt;column name=&quot;Jackpot Value&quot;&gt;0&lt;/column&gt;\n &lt;column name=&quot;Casino Seed&quot;&gt;87.5&lt;/column&gt;\n &lt;column name=&quot;Currency&quot;&gt;USD&lt;/column&gt;\n&lt;/row&gt;\n</code></pre>\n<p>I wrote this code which get it, and I think calling with index is not good idea, sometimes xml doesnt contains currency and it fails</p>\n<pre><code>DocumentBuilderFactory f = DocumentBuilderFactory.newInstance();\n    f.setNamespaceAware(false);\n    f.setValidating(false);\n    DocumentBuilder b = f.newDocumentBuilder();\n    URLConnection urlConnection = new URL(url).openConnection();\n    urlConnection.addRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\n    Document doc = b.parse(urlConnection.getInputStream());\n    doc.getDocumentElement().normalize();\n    NodeList nodeList = doc.getElementsByTagName(&quot;row&quot;);\n\n\n    for (int itr = 0; itr &lt; nodeList.getLength(); itr++) {\n        Node node = nodeList.item(itr);\n\n\n        ArrayList&lt;String&gt; tabInfo = new ArrayList&lt;&gt;();\n        if (node.getNodeType() ==Node.ELEMENT_NODE) {\n            Element eElement = (Element) node;\n\n            String data = eElement.getElementsByTagName(&quot;column&quot;).item(0).getTextContent();\n            String jpId = eElement.getElementsByTagName(&quot;column&quot;).item(1).getTextContent();\n            String jpValue = eElement.getElementsByTagName(&quot;column&quot;).item(2).getTextContent();\n            String casinoName = eElement.getElementsByTagName(&quot;column&quot;).item(3).getTextContent();\n            String casinoSeed = eElement.getElementsByTagName(&quot;column&quot;).item(4).getTextContent();\n            String casinoCurrency = eElement.getElementsByTagName(&quot;column&quot;).item(5).getTextContent();\n</code></pre>\n<p>is there a way to interact by attributes? if there is Data,jackpot,etc. return it</p>\n"},{"tags":["java","mysql","spring-boot","mybatis","mybatis-mapper"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1675145115,"post_id":75292324,"comment_id":132860213,"body_markdown":"Please add the full stack trace to the question. And what does &quot;The SQL query has null values set&quot; mean? Does it mean that there are null columns in the result set?","body":"Please add the full stack trace to the question. And what does &quot;The SQL query has null values set&quot; mean? Does it mean that there are null columns in the result set?"},{"owner":{"account_id":13242807,"reputation":1,"user_id":9562775,"display_name":"ip1234"},"score":0,"creation_date":1675174753,"post_id":75292324,"comment_id":132868769,"body_markdown":"@ave  Hi, I have added the stack trace, and yes, it has columns with null values -thanks!","body":"@ave  Hi, I have added the stack trace, and yes, it has columns with null values -thanks!"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1675175512,"post_id":75292324,"comment_id":132869074,"body_markdown":"Is that the entire stack trace? Stack trace usually includes the call stack (class name, method name, line number, etc.). And the SQL in the stack trace is different from the one that you posted (it starts with `WITH ROTATIONS ...`). It might be better if you create and share a small demo project (like [these](https://github.com/harawata/mybatis-issues)) that allows us to reproduce the  exception you are experiencing.","body":"Is that the entire stack trace? Stack trace usually includes the call stack (class name, method name, line number, etc.). And the SQL in the stack trace is different from the one that you posted (it starts with <code>WITH ROTATIONS ...</code>). It might be better if you create and share a small demo project (like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a>) that allows us to reproduce the  exception you are experiencing."}],"owner":{"account_id":13242807,"reputation":1,"user_id":9562775,"display_name":"ip1234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675174390,"creation_date":1675134336,"question_id":75292324,"body_markdown":"I&#39;m getting the following error\r\n\r\n&gt; Error Querying database. cannot invoke &quot;Object.hashCode()&quot; because &quot;key&quot; is null\r\n\r\n 1. stack trace: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    org.mybatis.spring.MyBatisSyste Exception: nested\r\n        exception is org.apache.ibatis.exceptions.Pers istenceException:\r\n        ### Error querying database. Cause: java.lang. NullPointerException: Cannot invoke &quot;Object.hashCode()&quot; because &quot;key&quot; is null\r\n        ### The error may exist in class path resource [SbmtMapper.xml]\r\n        ### The error may involve com.delta.crew.dao.mapper.Subm itMapperlfc.getRotnAndLegs\r\n        ### The error occurred while handling results\r\n        ### SQL: WITH ROTATIONS AS (SELECT OP.EMPL ID AS usrld. &#39;SBMT&#39; AS opType, OVER NB AS version\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    UNION ALL SELECT RTN.*\r\n    FROM ROTATIONS RTN\r\n    ### Cause: java.lang.NullPointerException: Cannot invoke &quot;Obiect.hashCode(&quot; because &quot;key&quot; is null\r\n    at com.delta.crew .dao .SubmitDaolmp-getRotnAndLegs(SubmitDaolmp.java:52) ~[main/:?]\r\n    at com delta.crew da SubmitDaolmp$$FastClassBySpringCGLIB$Sd3034a58,.invoke(&lt;generated&gt;)~[main/:?]\r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)~[spring-core-5.3.10.jar:5.3.101\r\n    at\r\n    org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n    ~[spring-aop-5.3.10.jar:5.3.101\r\n    at org.springframework.aop.framework.ReflectiveMethodinvocation.proceed(ReflectiveMethodinvocation.java:163)~\r\n    [spring-aop-5.3.10.jar:5.3.101\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)~\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThe error may exist in some mybatis mapper.xml and the error occurred while handling the results of the below SQL query. The SQL query has null values set.\r\n\r\nExample :\r\n\r\nMapper\r\n\r\n```\r\n&lt;resultMap id = &quot;rotsMap&quot; type = SubmitPojo&quot;&gt;\r\n&lt;result column=&quot;ROTATION_ID&quot; property = &quot;rots_id&quot; /&gt;\r\n&lt;result column=&quot;ARRIVAL_TIME&quot; property = &quot;arrTime&quot; /&gt;\r\n&lt;result column=&quot;SBMT_ID&quot; property =&quot;sbmt_id&gt;\r\n```\r\n\r\nSelect statement\r\n\r\n```\r\n&lt;select id=&quot;getRots&quot; resultMap=&quot;rotsMap&quot;&gt;\r\nSELECT NULL AS ROTATION_ID\r\nNULL AS ARRIVAL_TIME\r\nOP.SBMT_ID AS SBMT_ID\r\nFROM ROTATION OP;\r\n&lt;/select&gt;\r\n```\r\n\r\nI tried setting all the mappings correctly. I&#39;m not sure what went wrong","title":"Error querying database. cannot invoke &quot;Object.hashCode()&quot; because &quot;key&quot; is null","body":"<p>I'm getting the following error</p>\n<blockquote>\n<p>Error Querying database. cannot invoke &quot;Object.hashCode()&quot; because &quot;key&quot; is null</p>\n</blockquote>\n<ol>\n<li>stack trace:</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>org.mybatis.spring.MyBatisSyste Exception: nested\n    exception is org.apache.ibatis.exceptions.Pers istenceException:\n    ### Error querying database. Cause: java.lang. NullPointerException: Cannot invoke \"Object.hashCode()\" because \"key\" is null\n    ### The error may exist in class path resource [SbmtMapper.xml]\n    ### The error may involve com.delta.crew.dao.mapper.Subm itMapperlfc.getRotnAndLegs\n    ### The error occurred while handling results\n    ### SQL: WITH ROTATIONS AS (SELECT OP.EMPL ID AS usrld. 'SBMT' AS opType, OVER NB AS version</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>UNION ALL SELECT RTN.*\nFROM ROTATIONS RTN\n### Cause: java.lang.NullPointerException: Cannot invoke \"Obiect.hashCode(\" because \"key\" is null\nat com.delta.crew .dao .SubmitDaolmp-getRotnAndLegs(SubmitDaolmp.java:52) ~[main/:?]\nat com delta.crew da SubmitDaolmp$$FastClassBySpringCGLIB$Sd3034a58,.invoke(&lt;generated&gt;)~[main/:?]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)~[spring-core-5.3.10.jar:5.3.101\nat\norg.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n~[spring-aop-5.3.10.jar:5.3.101\nat org.springframework.aop.framework.ReflectiveMethodinvocation.proceed(ReflectiveMethodinvocation.java:163)~\n[spring-aop-5.3.10.jar:5.3.101\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)~</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>The error may exist in some mybatis mapper.xml and the error occurred while handling the results of the below SQL query. The SQL query has null values set.</p>\n<p>Example :</p>\n<p>Mapper</p>\n<pre><code>&lt;resultMap id = &quot;rotsMap&quot; type = SubmitPojo&quot;&gt;\n&lt;result column=&quot;ROTATION_ID&quot; property = &quot;rots_id&quot; /&gt;\n&lt;result column=&quot;ARRIVAL_TIME&quot; property = &quot;arrTime&quot; /&gt;\n&lt;result column=&quot;SBMT_ID&quot; property =&quot;sbmt_id&gt;\n</code></pre>\n<p>Select statement</p>\n<pre><code>&lt;select id=&quot;getRots&quot; resultMap=&quot;rotsMap&quot;&gt;\nSELECT NULL AS ROTATION_ID\nNULL AS ARRIVAL_TIME\nOP.SBMT_ID AS SBMT_ID\nFROM ROTATION OP;\n&lt;/select&gt;\n</code></pre>\n<p>I tried setting all the mappings correctly. I'm not sure what went wrong</p>\n"},{"tags":["java","mysql","querydsl"],"comments":[{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1675172120,"post_id":75297656,"comment_id":132867825,"body_markdown":"I found this comment on stack overflow, can someone expand upon it?\nMariaDB: I had to register the function like this: `registerFunction(&quot;add_years&quot;, new SQLFunctionTemplate(StandardBasicTypes.DATE, &quot;DATE_ADD(?1, INTERVAL ?2 YEAR)&quot;));`","body":"I found this comment on stack overflow, can someone expand upon it? MariaDB: I had to register the function like this: <code>registerFunction(&quot;add_years&quot;, new SQLFunctionTemplate(StandardBasicTypes.DATE, &quot;DATE_ADD(?1, INTERVAL ?2 YEAR)&quot;));</code>"}],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675174176,"creation_date":1675170445,"question_id":75297656,"body_markdown":"Working with queryDSL and mySQL:\r\n\r\nI have a field `from` in the `time_check` table to which I want to add `timetrackAutoStop` from the `location` table as hours and then compare it with the current time.\r\n\r\nWe managed to get queryDSL to understand the following code: \r\n\r\n\tif (data.getAutostopTimeExceeded() != null) {   \r\n\t\tQLocationEntity location = QLocationEntity.locationEntity;   \r\n\t\tquery.join(TIME_CHECK.location, location);   \r\n\t\tExpression&lt;LocalDateTime&gt; currentTimeExpr = Expressions.asDateTime(LocalDateTime.now());   \r\n\t\t\tTIME_CHECK.from, Expressions.asNumber(location.timetrackAutoStop));   \r\n\t\tpredicates.add(\r\n\t\t\tExpressions.predicate(Ops.GT, \r\n\t\t\t\tcurrentTimeExpr, \r\n\t\t\t\tExpressions.dateTimeOperation(LocalDateTime.class, \r\n\t\t\t\t\tOps.DateTimeOps.ADD_HOURS, \r\n\t\t\t\t\tTIME_CHECK.from, \r\n\t\t\t\t\tExpressions.asNumber(location.timetrackAutoStop)\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n\r\nHowever it then generates SQL which causes the mySQL database to complain that the `ADD_HOURS` function doesn&#39;t exist.\r\n\r\nIs there are way to get what I&#39;m looking for? I.E. all `time_check_records` older than `now()` minus `timeTrackAutoStop` ? \r\n\r\nUpdate:\r\n\r\nWe tried the following, but get an error message stating: expecting CLOSE, found `locationEntity`:\r\n\r\n\tQLocationEntity qLocationEntity = QLocationEntity.locationEntity;\r\n\tquery.join(TIME_CHECK.location, qLocationEntity);\r\n\tExpression&lt;LocalDateTime&gt; currentTimeExpr = Expressions.asDateTime(LocalDateTime.now());\r\n\tExpression&lt;LocalDateTime&gt; subExpr = Expressions.template(LocalDateTime.class,      \r\n\t\t&quot;DATE_ADD({0}, INTERVAL {1} HOUR)&quot;, \r\n\t\tTIME_CHECK.from, \r\n\t\tqLocationEntity.timetrackAutoStop\r\n\t\t);\r\n\tpredicates.add(Expressions.predicate(Ops.GT, currentTimeExpr, subExpr));\r\n","title":"Comparing a datetime in the database plus an offset with now() in queryDSL","body":"<p>Working with queryDSL and mySQL:</p>\n<p>I have a field <code>from</code> in the <code>time_check</code> table to which I want to add <code>timetrackAutoStop</code> from the <code>location</code> table as hours and then compare it with the current time.</p>\n<p>We managed to get queryDSL to understand the following code:</p>\n<pre><code>if (data.getAutostopTimeExceeded() != null) {   \n    QLocationEntity location = QLocationEntity.locationEntity;   \n    query.join(TIME_CHECK.location, location);   \n    Expression&lt;LocalDateTime&gt; currentTimeExpr = Expressions.asDateTime(LocalDateTime.now());   \n        TIME_CHECK.from, Expressions.asNumber(location.timetrackAutoStop));   \n    predicates.add(\n        Expressions.predicate(Ops.GT, \n            currentTimeExpr, \n            Expressions.dateTimeOperation(LocalDateTime.class, \n                Ops.DateTimeOps.ADD_HOURS, \n                TIME_CHECK.from, \n                Expressions.asNumber(location.timetrackAutoStop)\n            )\n        )\n    );\n}\n</code></pre>\n<p>However it then generates SQL which causes the mySQL database to complain that the <code>ADD_HOURS</code> function doesn't exist.</p>\n<p>Is there are way to get what I'm looking for? I.E. all <code>time_check_records</code> older than <code>now()</code> minus <code>timeTrackAutoStop</code> ?</p>\n<p>Update:</p>\n<p>We tried the following, but get an error message stating: expecting CLOSE, found <code>locationEntity</code>:</p>\n<pre><code>QLocationEntity qLocationEntity = QLocationEntity.locationEntity;\nquery.join(TIME_CHECK.location, qLocationEntity);\nExpression&lt;LocalDateTime&gt; currentTimeExpr = Expressions.asDateTime(LocalDateTime.now());\nExpression&lt;LocalDateTime&gt; subExpr = Expressions.template(LocalDateTime.class,      \n    &quot;DATE_ADD({0}, INTERVAL {1} HOUR)&quot;, \n    TIME_CHECK.from, \n    qLocationEntity.timetrackAutoStop\n    );\npredicates.add(Expressions.predicate(Ops.GT, currentTimeExpr, subExpr));\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1492614023,"post_id":43499266,"comment_id":74053024,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/21136212/what-are-the-chrome-command-line-switches-parameters#21136213","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21136212/what-are-the-chrome-command-line-switches-parameters#21136213\" title=\"what are the chrome command line switches parameters%2321136213\">stackoverflow.com/questions/21136212/&hellip;</a>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1492621201,"post_id":43499266,"comment_id":74058017,"body_markdown":"Possible duplicate of [What are the Chrome command line switches / parameters?](http://stackoverflow.com/questions/21136212/what-are-the-chrome-command-line-switches-parameters)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/21136212/what-are-the-chrome-command-line-switches-parameters\">What are the Chrome command line switches / parameters?</a>"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1492623091,"post_id":43499266,"comment_id":74059187,"body_markdown":"I can provide you the list I normally work with but as a good practice you should be using the options as per your requirement to keep your code minimum and simple. Moreover​ options class parameters are different for Chrome, Firefox &amp; IE.  Can you let me know your exact requirement to achieve through options class?","body":"I can provide you the list I normally work with but as a good practice you should be using the options as per your requirement to keep your code minimum and simple. Moreover​ options class parameters are different for Chrome, Firefox &amp; IE.  Can you let me know your exact requirement to achieve through options class?"}],"answers":[{"comments":[{"owner":{"account_id":298220,"reputation":1087,"user_id":604131,"display_name":"Mark Lapierre"},"score":0,"creation_date":1492620233,"post_id":43499877,"comment_id":74057338,"body_markdown":"That&#39;s a list from July 12, 2015.","body":"That&#39;s a list from July 12, 2015."},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1492623388,"post_id":43499877,"comment_id":74059356,"body_markdown":"@MarkLapierre Is there a possibility that some of the supported options be dropped in the recent releases?","body":"@MarkLapierre Is there a possibility that some of the supported options be dropped in the recent releases?"},{"owner":{"account_id":298220,"reputation":1087,"user_id":604131,"display_name":"Mark Lapierre"},"score":0,"creation_date":1492623556,"post_id":43499877,"comment_id":74059476,"body_markdown":"@Dev The chrome team probably wouldn&#39;t want to remove options, although it&#39;s possible, but new ones might be added.","body":"@Dev The chrome team probably wouldn&#39;t want to remove options, although it&#39;s possible, but new ones might be added."}],"tags":[],"owner":{"account_id":2427689,"reputation":664,"user_id":2119289,"accept_rate":20,"display_name":"Chandra Shekhar"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492615286,"creation_date":1492615286,"answer_id":43499877,"question_id":43499266,"body_markdown":"For the complete list of Chrome Driver arguments, Refer  http://www.assertselenium.com/java/list-of-chrome-driver-command-line-arguments/","title":"Can someone share the complete list of arguments that one can pass in options.addArguments()?","body":"<p>For the complete list of Chrome Driver arguments, Refer  <a href=\"http://www.assertselenium.com/java/list-of-chrome-driver-command-line-arguments/\" rel=\"nofollow noreferrer\">http://www.assertselenium.com/java/list-of-chrome-driver-command-line-arguments/</a></p>\n"},{"tags":[],"owner":{"account_id":8184772,"reputation":331,"user_id":6160894,"accept_rate":78,"display_name":"Indrajit "},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675174166,"creation_date":1675174166,"answer_id":75298402,"question_id":43499266,"body_markdown":"Here is the list of commands for chrome\r\nhttps://peter.sh/experiments/chromium-command-line-switches/","title":"Can someone share the complete list of arguments that one can pass in options.addArguments()?","body":"<p>Here is the list of commands for chrome\n<a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></p>\n"}],"owner":{"account_id":8184772,"reputation":331,"user_id":6160894,"accept_rate":78,"display_name":"Indrajit "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2082,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75298402,"answer_count":2,"score":4,"last_activity_date":1675174166,"creation_date":1492613709,"question_id":43499266,"body_markdown":"I have used the following based upon issues/requirements faced:\r\n\r\n**ChromeOptions options = new ChromeOptions();**\r\n\r\n \r\n  \r\n    \r\n\r\n           1. options.addArguments(&quot;--**start-maximized**&quot;);\r\n           2.options.addArguments(&quot;--**disable-web-security**&quot;);\r\n           3. options.addArguments(&quot;--**no-proxy-server**&quot;);\r\n           4. options.addArguments(&quot;--**disable-extensions**&quot;);\r\n           5.options.addArguments(&quot;--**disable-infobars**&quot;);\r\n\r\nSo i want to know what else arguments we can pass? \r\n","title":"Can someone share the complete list of arguments that one can pass in options.addArguments()?","body":"<p>I have used the following based upon issues/requirements faced:</p>\n\n<p><strong>ChromeOptions options = new ChromeOptions();</strong></p>\n\n<pre><code>       1. options.addArguments(\"--**start-maximized**\");\n       2.options.addArguments(\"--**disable-web-security**\");\n       3. options.addArguments(\"--**no-proxy-server**\");\n       4. options.addArguments(\"--**disable-extensions**\");\n       5.options.addArguments(\"--**disable-infobars**\");\n</code></pre>\n\n<p>So i want to know what else arguments we can pass? </p>\n"},{"tags":["java","environment-variables","talend"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":3,"creation_date":1668061115,"post_id":74384824,"comment_id":131316763,"body_markdown":"SUGGESTION: Create a .bat file for running Talend.  It will set the correct Windows environment variables (including both %JAVA_HOME% and %PATH%) that point your Java 18 JRE. NOTE: It&#39;s the *JRE* that matters; not the JDK.","body":"SUGGESTION: Create a .bat file for running Talend.  It will set the correct Windows environment variables (including both %JAVA_HOME% and %PATH%) that point your Java 18 JRE. NOTE: It&#39;s the <i>JRE</i> that matters; not the JDK."}],"answers":[{"tags":[],"owner":{"account_id":27666904,"reputation":31,"user_id":21118557,"display_name":"Yomane"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675173807,"creation_date":1675173807,"answer_id":75298327,"question_id":74384824,"body_markdown":"Edit the .ini file in talend installation directory and change first line from -vm to -vmargs\r\nC:/path/to/java/bin\r\nReplace above path to latest version","title":"Unable to run Talend Open Studio for Data Integration 8.0.1 due to older JAVA_HOME","body":"<p>Edit the .ini file in talend installation directory and change first line from -vm to -vmargs\nC:/path/to/java/bin\nReplace above path to latest version</p>\n"}],"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675173807,"creation_date":1668060779,"question_id":74384824,"body_markdown":"I wanted to run &quot;Talend Open Studio for Data Integration 8.0.1&quot; which giving following error.\r\n[![enter image description here](https://i.stack.imgur.com/ltgTX.jpg)](https://i.stack.imgur.com/ltgTX.jpg)\r\n\r\nI have configured JDK 8 in JAVA_HOME with is my windows level variable. \r\n**I wanted to configure talend to run on latest JDK 18 from local path and not from JAVA_HOME.** \r\n\r\nIs there any way to run talend with other than JAVA_HOME environment variable reference? \r\n\r\n\r\nTried with -vm parameter similar to Eclipse IDE we run with specified Java Path. \r\n\r\n","title":"Unable to run Talend Open Studio for Data Integration 8.0.1 due to older JAVA_HOME","body":"<p>I wanted to run &quot;Talend Open Studio for Data Integration 8.0.1&quot; which giving following error.\n<a href=\"https://i.stack.imgur.com/ltgTX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ltgTX.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have configured JDK 8 in JAVA_HOME with is my windows level variable.\n<strong>I wanted to configure talend to run on latest JDK 18 from local path and not from JAVA_HOME.</strong></p>\n<p>Is there any way to run talend with other than JAVA_HOME environment variable reference?</p>\n<p>Tried with -vm parameter similar to Eclipse IDE we run with specified Java Path.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675171904,"post_id":75297846,"comment_id":132867737,"body_markdown":"That query isn&#39;t even correct as it wouldn&#39;t bind the parameter. Your other method isn&#39;t correct either as your patient field is named `patientId` not `patient` so the query would need to be named `findByPatientId_Id`. But why first retrieve the patient, something like `findByPatientIdNin` as a method in your `MedicalHistoryRepository` should work, without needing to retrieve the patient.","body":"That query isn&#39;t even correct as it wouldn&#39;t bind the parameter. Your other method isn&#39;t correct either as your patient field is named <code>patientId</code> not <code>patient</code> so the query would need to be named <code>findByPatientId_Id</code>. But why first retrieve the patient, something like <code>findByPatientIdNin</code> as a method in your <code>MedicalHistoryRepository</code> should work, without needing to retrieve the patient."},{"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"score":0,"creation_date":1675172859,"post_id":75297846,"comment_id":132868069,"body_markdown":"@M.Deinum I tried findByPatientId_Id but the JPA doesn&#39;t recognize the Id part !!","body":"@M.Deinum I tried findByPatientId_Id but the JPA doesn&#39;t recognize the Id part !!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675173477,"post_id":75297846,"comment_id":132868291,"body_markdown":"I don&#39;t really get that comment. But as stated you probably should be using the `findByPatientIdNin` method instead of retrieving the `patient` just for the `id`.","body":"I don&#39;t really get that comment. But as stated you probably should be using the <code>findByPatientIdNin</code> method instead of retrieving the <code>patient</code> just for the <code>id</code>."}],"answers":[{"tags":[],"owner":{"account_id":3740663,"reputation":515,"user_id":3110505,"accept_rate":61,"display_name":"cadmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675172514,"creation_date":1675172039,"answer_id":75297959,"question_id":75297846,"body_markdown":"Now you are requesting &quot;give me medical_history where id = patient_id&quot; and getting only one result row.\r\n\r\nYou need to add a colon to the query to set a parameter to fix a result\r\n\r\n    value = &quot;SELECT * FROM medical_history WHERE patient_id = :id&quot;\r\n","title":"I&#39;m receiving one object using findAllBy in springBoot","body":"<p>Now you are requesting &quot;give me medical_history where id = patient_id&quot; and getting only one result row.</p>\n<p>You need to add a colon to the query to set a parameter to fix a result</p>\n<pre><code>value = &quot;SELECT * FROM medical_history WHERE patient_id = :id&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18216249,"reputation":105,"user_id":13257885,"display_name":"Matthieu Rioual"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675173403,"creation_date":1675172898,"answer_id":75298133,"question_id":75297846,"body_markdown":"Look for JPQL, it&#39;s java persistancy query language and spring is automatically turning your @query into it. Spring is also supporting spEL you can also have a look to it here : https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query.spel-expressions where you can see than you can grab your parameters ever with ?number or with :name or putting @Param(&quot;name&quot;) into your parameters definition. As said before there is multiple ways to receive a parameter in you query but certainly not like you previously did. \r\nThat&#39;s why you don&#39;t receive anything.","title":"I&#39;m receiving one object using findAllBy in springBoot","body":"<p>Look for JPQL, it's java persistancy query language and spring is automatically turning your @query into it. Spring is also supporting spEL you can also have a look to it here : <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query.spel-expressions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query.spel-expressions</a> where you can see than you can grab your parameters ever with ?number or with :name or putting @Param(&quot;name&quot;) into your parameters definition. As said before there is multiple ways to receive a parameter in you query but certainly not like you previously did.\nThat's why you don't receive anything.</p>\n"}],"owner":{"account_id":26952196,"reputation":23,"user_id":20521229,"display_name":"TechNewPy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675173403,"creation_date":1675171419,"question_id":75297846,"body_markdown":"I&#39;m trying to fetch all rows that have the same patient_id, so I&#39;m doing findAllByPatientId. But I&#39;m always receiving one object in the Listinstead of all the rows.\r\n\r\n```java\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n\r\npublic class MedicalHistory extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n@ManyToOne\r\n@JoinColumn(name = &quot;operator_id&quot;)\r\nprivate MedicalOperator medicalOperatorId;\r\n\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;illness_id&quot;)\r\nprivate Illness illnessId;\r\n\r\n@ManyToOne\r\n@JoinColumn(name= &quot;patientId&quot;)\r\nprivate Patient patientId;\r\n}\r\n```\r\n\r\n```java\r\npublic List&lt;MedicalHistory&gt; getPatientMedicalRecords(PatientDto patientDto) {\r\n\r\n    Optional&lt;Patient&gt; getPatient = patientRepository.findByNin(patientDto.getNin());\r\n    Long patientId = getPatient.get().getPatientId();\r\n\r\n    return medicalHistoryRepository.findAllByPatientId(patientId);\r\n}\r\n```\r\n\r\nI want to receive multiple rows using the patient_id but instead, I&#39;m always getting one !!.\r\nI tried native query and hibernate but nothing is working.\r\n\r\n```java\r\npublic interface MedicalHistoryRepository extends JpaRepository&lt;MedicalHistory, Long&gt; {\r\n\r\n    //     List&lt;MedicalHistory&gt; findAllByPatientId(Long id);\r\n  ArrayList&lt;MedicalHistory&gt; findMedicalHistoriesByPatientId(Long id);\r\n\r\n\r\n  @Query(value = &quot;SELECT * FROM medical_history WHERE patient_id = id&quot;,nativeQuery = true)\r\n  List&lt;MedicalHistory&gt; findAllByPatientId(Long id);\r\n}\r\n```\r\n\r\n\r\n","title":"I&#39;m receiving one object using findAllBy in springBoot","body":"<p>I'm trying to fetch all rows that have the same patient_id, so I'm doing findAllByPatientId. But I'm always receiving one object in the Listinstead of all the rows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Getter\n@Setter\n\npublic class MedicalHistory extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n@ManyToOne\n@JoinColumn(name = &quot;operator_id&quot;)\nprivate MedicalOperator medicalOperatorId;\n\n\n@ManyToOne\n@JoinColumn(name = &quot;illness_id&quot;)\nprivate Illness illnessId;\n\n@ManyToOne\n@JoinColumn(name= &quot;patientId&quot;)\nprivate Patient patientId;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;MedicalHistory&gt; getPatientMedicalRecords(PatientDto patientDto) {\n\n    Optional&lt;Patient&gt; getPatient = patientRepository.findByNin(patientDto.getNin());\n    Long patientId = getPatient.get().getPatientId();\n\n    return medicalHistoryRepository.findAllByPatientId(patientId);\n}\n</code></pre>\n<p>I want to receive multiple rows using the patient_id but instead, I'm always getting one !!.\nI tried native query and hibernate but nothing is working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MedicalHistoryRepository extends JpaRepository&lt;MedicalHistory, Long&gt; {\n\n    //     List&lt;MedicalHistory&gt; findAllByPatientId(Long id);\n  ArrayList&lt;MedicalHistory&gt; findMedicalHistoriesByPatientId(Long id);\n\n\n  @Query(value = &quot;SELECT * FROM medical_history WHERE patient_id = id&quot;,nativeQuery = true)\n  List&lt;MedicalHistory&gt; findAllByPatientId(Long id);\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","exception"],"comments":[{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":1,"creation_date":1675174620,"post_id":75298240,"comment_id":132868711,"body_markdown":"Can you share how are you creating the mongo client? I mean the connection string etc. Also would be good to check if the mongo cluster is working or not. Please ensure if you are using SSL connection, you have certificate, username password added correctly while creating the mongo client","body":"Can you share how are you creating the mongo client? I mean the connection string etc. Also would be good to check if the mongo cluster is working or not. Please ensure if you are using SSL connection, you have certificate, username password added correctly while creating the mongo client"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1675175074,"post_id":75298240,"comment_id":132868895,"body_markdown":"Did you initiate the replica set?","body":"Did you initiate the replica set?"}],"owner":{"account_id":26686412,"reputation":41,"user_id":20295668,"display_name":"wonka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675173378,"creation_date":1675173378,"question_id":75298240,"body_markdown":"I get this error \r\n\r\n&gt; com.mongodb.MongoTimeoutException: Timed out after 30000 ms while\r\n&gt; waiting for a server that matches PrimaryServerSelector. Client view\r\n&gt; of cluster state is { type=UNKNOWN, state=CONNECTING,\r\n&gt; exception={com.mongodb.MongoSocketOpenException: Exception opening\r\n&gt; socket}, caused by {java.net.ConnectException: Connection refused:\r\n&gt; connect}}]\r\n\r\n after third line of below code\r\n\r\n     MongoCollection&lt;Document&gt; grid = mongodb.getCollection(&quot;grid&quot;);\r\n     Document doc = Document.parse(json);\r\n     grid.insertOne(doc);\r\n\r\nHow can I resolve it?","title":"MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches PrimaryServerSelector","body":"<p>I get this error</p>\n<blockquote>\n<p>com.mongodb.MongoTimeoutException: Timed out after 30000 ms while\nwaiting for a server that matches PrimaryServerSelector. Client view\nof cluster state is { type=UNKNOWN, state=CONNECTING,\nexception={com.mongodb.MongoSocketOpenException: Exception opening\nsocket}, caused by {java.net.ConnectException: Connection refused:\nconnect}}]</p>\n</blockquote>\n<p>after third line of below code</p>\n<pre><code> MongoCollection&lt;Document&gt; grid = mongodb.getCollection(&quot;grid&quot;);\n Document doc = Document.parse(json);\n grid.insertOne(doc);\n</code></pre>\n<p>How can I resolve it?</p>\n"},{"tags":["java","lambda","logic","fibonacci"],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675146027,"creation_date":1675146027,"answer_id":75293335,"question_id":75293086,"body_markdown":"Stream `iterate` takes 2 parameters, the seed, which is the first value and unary operator which defines how to generate the next value based on the previous one. The seed in the case is an array of two elements 0 and 1. The operator takes the second value puts in into the first place and sums the first and second to the second place, so `0, 1` -&gt; `1, 1`, `1,1` -&gt; `1, 2`, `1, 2` -&gt; `2, 3` and so on. The `map` function then takes the first value from each array which results in the fibonacci sequence. ","title":"I need an explanation for the Fibonacci Sequence in a lambda expression","body":"<p>Stream <code>iterate</code> takes 2 parameters, the seed, which is the first value and unary operator which defines how to generate the next value based on the previous one. The seed in the case is an array of two elements 0 and 1. The operator takes the second value puts in into the first place and sums the first and second to the second place, so <code>0, 1</code> -&gt; <code>1, 1</code>, <code>1,1</code> -&gt; <code>1, 2</code>, <code>1, 2</code> -&gt; <code>2, 3</code> and so on. The <code>map</code> function then takes the first value from each array which results in the fibonacci sequence.</p>\n"},{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675146211,"creation_date":1675146211,"answer_id":75293364,"question_id":75293086,"body_markdown":"Stream::iterate is a method which generates values based on the initial condition (the first parameter) and UnaryOperator (the second parameter). So to break it down:\r\n\r\n`new Long[] {0L, 1L}` is your initial value. These are the first two elements of the fibonacci sequence. The first element emitted from the stream is this value, i.e. a list containing two elements.\r\n\r\n`p -&gt; new Long[] {p[1], p[0]+p[1]}` is the function which is applied to your initial value at the first iteration, then applied to the following elements on later iterations. This follows the fibonacci sequence two values at a time, which is convenient as the next element is the sum of the previous two elements.\r\n\r\n`.map(p -&gt; p[0])` only serves to extract the first element from the value emitted by the Stream::iterate method.","title":"I need an explanation for the Fibonacci Sequence in a lambda expression","body":"<p>Stream::iterate is a method which generates values based on the initial condition (the first parameter) and UnaryOperator (the second parameter). So to break it down:</p>\n<p><code>new Long[] {0L, 1L}</code> is your initial value. These are the first two elements of the fibonacci sequence. The first element emitted from the stream is this value, i.e. a list containing two elements.</p>\n<p><code>p -&gt; new Long[] {p[1], p[0]+p[1]}</code> is the function which is applied to your initial value at the first iteration, then applied to the following elements on later iterations. This follows the fibonacci sequence two values at a time, which is convenient as the next element is the sum of the previous two elements.</p>\n<p><code>.map(p -&gt; p[0])</code> only serves to extract the first element from the value emitted by the Stream::iterate method.</p>\n"},{"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675146569,"creation_date":1675146569,"answer_id":75293395,"question_id":75293086,"body_markdown":"`Stream.iterate` is used to generate an infinite stream, from which you can request any number of values.\r\nIt generates the stream using two parameters, an initial seed and a generator function that uses the previous element of the stream to create the next element.\r\n\r\nSo looking at your expression:\r\n```java\r\nStream.iterate(new Long[] {0L, 1L}, p -&gt; new Long[] {p[1], p[0]+p[1]}).map(p -&gt; p[0]);\r\n```\r\n\r\nThe seed value, and first value emitted from this stream, is `new Long[] {0L, 1L}`, an array of the first two values of the Fibonacci sequence.\r\n\r\nThe generator function, which operates on the previous value of the stream and produces the next value, is `p -&gt; new Long[] {p[1], p[0]+p[1]}`. This is doing the Fibonacci calculation. It takes the previous array `p` and creates a new one, where the second item in `p` becomes the new first value, and the new second value is the sum of the 2 previous values.\r\n\r\nIt is necessary to store both values because the Fibonacci sequence depends on two previous values, so the generator function needs both to be able to calculate the next value. However, it seems that the user of this stream is only interested in the next Fibonacci number, not an array of two values. Thus, the `map` call, `.map(p -&gt; p[0])`, which is taking the stream of arrays and turning it into a stream of just a single number.\r\n\r\nThe first couple of iterations would go something like the following. When the  first value is requested from the stream, the iterator stream returns the seed, `{0, 1}`, which is then mapped to just first value of the array, so the whole stream emits `0`.\r\n\r\nAfter this, we use the generator function to produce the next values. So when the second number is requested, the iterator stream calls the generator on the seed value, which results in `{1, 1}`. After `map`ping, the stream then emits `1`.\r\n\r\nSimilarly, the third number emitted is produced by calling the generator on the second value, which yields `{1, 2}`, and then `map`s to the first element, `1`.\r\nThe fourth iterated value is `{2, 3}`, `map`ping to the first element results in `2`, and so on...\r\n","title":"I need an explanation for the Fibonacci Sequence in a lambda expression","body":"<p><code>Stream.iterate</code> is used to generate an infinite stream, from which you can request any number of values.\nIt generates the stream using two parameters, an initial seed and a generator function that uses the previous element of the stream to create the next element.</p>\n<p>So looking at your expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.iterate(new Long[] {0L, 1L}, p -&gt; new Long[] {p[1], p[0]+p[1]}).map(p -&gt; p[0]);\n</code></pre>\n<p>The seed value, and first value emitted from this stream, is <code>new Long[] {0L, 1L}</code>, an array of the first two values of the Fibonacci sequence.</p>\n<p>The generator function, which operates on the previous value of the stream and produces the next value, is <code>p -&gt; new Long[] {p[1], p[0]+p[1]}</code>. This is doing the Fibonacci calculation. It takes the previous array <code>p</code> and creates a new one, where the second item in <code>p</code> becomes the new first value, and the new second value is the sum of the 2 previous values.</p>\n<p>It is necessary to store both values because the Fibonacci sequence depends on two previous values, so the generator function needs both to be able to calculate the next value. However, it seems that the user of this stream is only interested in the next Fibonacci number, not an array of two values. Thus, the <code>map</code> call, <code>.map(p -&gt; p[0])</code>, which is taking the stream of arrays and turning it into a stream of just a single number.</p>\n<p>The first couple of iterations would go something like the following. When the  first value is requested from the stream, the iterator stream returns the seed, <code>{0, 1}</code>, which is then mapped to just first value of the array, so the whole stream emits <code>0</code>.</p>\n<p>After this, we use the generator function to produce the next values. So when the second number is requested, the iterator stream calls the generator on the seed value, which results in <code>{1, 1}</code>. After <code>map</code>ping, the stream then emits <code>1</code>.</p>\n<p>Similarly, the third number emitted is produced by calling the generator on the second value, which yields <code>{1, 2}</code>, and then <code>map</code>s to the first element, <code>1</code>.\nThe fourth iterated value is <code>{2, 3}</code>, <code>map</code>ping to the first element results in <code>2</code>, and so on...</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675173291,"creation_date":1675172087,"answer_id":75297970,"question_id":75293086,"body_markdown":"[Stream.iterate()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.UnaryOperator)) takes an initial seed (here, the long array of `{0,1}`) and a [UnaryOperator](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/UnaryOperator.html).\r\n\r\nAfter setting the seed to the long array of `{0,1}`, each subsequent iterative invocation of the `UnaryOperator` creates a `new long array` using the values of the previous array as follows:\r\n- sets *new* `p[0]` to *previous* `p[1]`.\r\n- and  sets *new* `p[1]` to sum of *previous* `p[0]` + *previous* `p[1]`.\r\n- it then maps to `p[0]` to get that value as the desired term\r\n\r\nIf you run the following you can see how it prints the successive creations of the array and the mapped value.\r\n```\r\nStream.iterate(new Long[]{0L,1L}, p -&gt; new Long[]{p[1],p[0] + p[1]})\r\n       .limit(10)\r\n       .peek(arr -&gt; System.out.print(&quot;p=&quot;+Arrays.toString(arr) + &quot; --&gt; &quot;))\r\n       .map(p -&gt; &quot;p[0] = &quot;+p[0]).forEach(System.out::println);\r\n```\r\nprints\r\n```\r\np=[0, 1] --&gt; p[0] = 0\r\np=[1, 1] --&gt; p[0] = 1\r\np=[1, 2] --&gt; p[0] = 1\r\np=[2, 3] --&gt; p[0] = 2\r\np=[3, 5] --&gt; p[0] = 3\r\np=[5, 8] --&gt; p[0] = 5\r\np=[8, 13] --&gt; p[0] = 8\r\np=[13, 21] --&gt; p[0] = 13\r\np=[21, 34] --&gt; p[0] = 21\r\np=[34, 55] --&gt; p[0] = 34\r\n\r\n","title":"I need an explanation for the Fibonacci Sequence in a lambda expression","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#iterate(T,java.util.function.UnaryOperator)\" rel=\"nofollow noreferrer\">Stream.iterate()</a> takes an initial seed (here, the long array of <code>{0,1}</code>) and a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\">UnaryOperator</a>.</p>\n<p>After setting the seed to the long array of <code>{0,1}</code>, each subsequent iterative invocation of the <code>UnaryOperator</code> creates a <code>new long array</code> using the values of the previous array as follows:</p>\n<ul>\n<li>sets <em>new</em> <code>p[0]</code> to <em>previous</em> <code>p[1]</code>.</li>\n<li>and  sets <em>new</em> <code>p[1]</code> to sum of <em>previous</em> <code>p[0]</code> + <em>previous</em> <code>p[1]</code>.</li>\n<li>it then maps to <code>p[0]</code> to get that value as the desired term</li>\n</ul>\n<p>If you run the following you can see how it prints the successive creations of the array and the mapped value.</p>\n<pre><code>Stream.iterate(new Long[]{0L,1L}, p -&gt; new Long[]{p[1],p[0] + p[1]})\n       .limit(10)\n       .peek(arr -&gt; System.out.print(&quot;p=&quot;+Arrays.toString(arr) + &quot; --&gt; &quot;))\n       .map(p -&gt; &quot;p[0] = &quot;+p[0]).forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>p=[0, 1] --&gt; p[0] = 0\np=[1, 1] --&gt; p[0] = 1\np=[1, 2] --&gt; p[0] = 1\np=[2, 3] --&gt; p[0] = 2\np=[3, 5] --&gt; p[0] = 3\np=[5, 8] --&gt; p[0] = 5\np=[8, 13] --&gt; p[0] = 8\np=[13, 21] --&gt; p[0] = 13\np=[21, 34] --&gt; p[0] = 21\np=[34, 55] --&gt; p[0] = 34\n\n</code></pre>\n"}],"owner":{"account_id":24485103,"reputation":1,"user_id":18402907,"display_name":"Jo&#227;o Victor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1675173291,"creation_date":1675143670,"question_id":75293086,"body_markdown":"```\r\nStream.iterate(new Long[] {0L, 1L}, p -&gt; new Long[] {p[1], p[0]+p[1]}).map(p -&gt; p[0]);\r\n```\r\nCan someone explain the logic of this lambda expression to me?\r\n\r\n\r\nI&#39;m trying to mentally debug the Fibonacci Sequence in a lambda expression but I&#39;m really not getting it. There&#39;s no useful reason, I really just want to understand for my own learning, I&#39;m learning lambda expressions in college (I wrote this code by myself and I still don&#39;t understand it)\r\n\r\n\r\nI know there are better ways to do this, but I want to understand the logic that I accidentally did and it worked","title":"I need an explanation for the Fibonacci Sequence in a lambda expression","body":"<pre><code>Stream.iterate(new Long[] {0L, 1L}, p -&gt; new Long[] {p[1], p[0]+p[1]}).map(p -&gt; p[0]);\n</code></pre>\n<p>Can someone explain the logic of this lambda expression to me?</p>\n<p>I'm trying to mentally debug the Fibonacci Sequence in a lambda expression but I'm really not getting it. There's no useful reason, I really just want to understand for my own learning, I'm learning lambda expressions in college (I wrote this code by myself and I still don't understand it)</p>\n<p>I know there are better ways to do this, but I want to understand the logic that I accidentally did and it worked</p>\n"},{"tags":["java","html","jsoup"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1675171979,"post_id":75297893,"comment_id":132867756,"body_markdown":"JSoup&#39;s `Element` lets you [rename](https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#tagName(java.lang.String)) the tag. Have you attempted anything yet?","body":"JSoup&#39;s <code>Element</code> lets you <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Element.html#tagName(java.lang.String)\" rel=\"nofollow noreferrer\">rename</a> the tag. Have you attempted anything yet?"}],"answers":[{"tags":[],"owner":{"account_id":9325262,"reputation":125,"user_id":6922785,"display_name":"xerxes01"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675172926,"creation_date":1675172926,"answer_id":75298142,"question_id":75297893,"body_markdown":"Damn, Didn&#39;t know about the replace functionality earlier in jsoup. Here&#39;s how easy it is: \r\n\r\n    Document examString111 = Jsoup.parse(examString);\r\n    Elements elements = examString111.select(&quot;h1, h2, h3, h4, h5, h6&quot;);\r\n    elements.tagName(&quot;h4&quot;);\r\n\t\t\t\t\t\t","title":"Replace all header tags with h4 in java using Jsoup","body":"<p>Damn, Didn't know about the replace functionality earlier in jsoup. Here's how easy it is:</p>\n<pre><code>Document examString111 = Jsoup.parse(examString);\nElements elements = examString111.select(&quot;h1, h2, h3, h4, h5, h6&quot;);\nelements.tagName(&quot;h4&quot;);\n                    \n</code></pre>\n"}],"owner":{"account_id":9325262,"reputation":125,"user_id":6922785,"display_name":"xerxes01"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1675173809,"answer_count":1,"score":-3,"last_activity_date":1675172926,"creation_date":1675171631,"question_id":75297893,"body_markdown":"I have the following html : \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;h2&gt; heading here &lt;/h2&gt;\r\n    &lt;p&gt;This is a paragraph.&lt;/p&gt;\r\n    &lt;p&gt;This is another paragraph.&lt;/p&gt;\r\n    &lt;h3&gt; heading here again &lt;/h3&gt;\r\n    &lt;p&gt;This is another another paragraph.&lt;/p&gt;\r\n    &lt;h4&gt; heading here again &lt;/h4&gt;\r\n    \r\n    \r\n    \r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nHow can I replace all the h tags with h4 tags using Jsoup? I don&#39;t wish to use regex for this. ","title":"Replace all header tags with h4 in java using Jsoup","body":"<p>I have the following html :</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n&lt;h2&gt; heading here &lt;/h2&gt;\n&lt;p&gt;This is a paragraph.&lt;/p&gt;\n&lt;p&gt;This is another paragraph.&lt;/p&gt;\n&lt;h3&gt; heading here again &lt;/h3&gt;\n&lt;p&gt;This is another another paragraph.&lt;/p&gt;\n&lt;h4&gt; heading here again &lt;/h4&gt;\n\n\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>How can I replace all the h tags with h4 tags using Jsoup? I don't wish to use regex for this.</p>\n"},{"tags":["java","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":6419592,"reputation":313,"user_id":4976651,"display_name":"Mr.Ko&#231;ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675172891,"creation_date":1675172891,"answer_id":75298130,"question_id":51367025,"body_markdown":"Did you try this?\r\n\r\n    @Where(clause = &quot;IS_DELETED = 0&quot;)\r\nor\r\n\r\n    @Where(clause = &quot;isDeleted = 0&quot;)\r\n\r\n?","title":"Hibernate define @Where annotation in super class","body":"<p>Did you try this?</p>\n<pre><code>@Where(clause = &quot;IS_DELETED = 0&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>@Where(clause = &quot;isDeleted = 0&quot;)\n</code></pre>\n<p>?</p>\n"}],"owner":{"account_id":9946268,"reputation":1893,"user_id":7360870,"accept_rate":75,"display_name":"Ron Badur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1675172891,"creation_date":1531761437,"question_id":51367025,"body_markdown":"I am trying to implement soft delete in my spring - hibernate project.\r\nMy plan is to override the delete method with the `@SQLDelete` annotation and filter the logical deleted entities with hibernate `@Where` annotation in my queries.\r\n\r\nI experience some difficulties when I try to define the `@Where` clause in the super class, It&#39;s seems that the entities dont inherit the `@Where` clause from the abstract base class.\r\n\r\n**Note:** If I move the `@Where` annotation to the entity class everything work as expected\r\n\r\n\r\n**The base entity class:**\r\n\r\n    @MappedSuperclass\r\n    @Where(clause = &quot; IS_DELETED = false&quot;)\r\n    public abstract class BaseEntity {\r\n\r\n       @Column(name = &quot;IS_DELETED&quot;)\r\n       private boolean isDeleted;\r\n\r\n       public BaseEntity() {\r\n       }\r\n\r\n       public boolean getIsDeleted() {\r\n          return this.isDeleted;\r\n       }\r\n\r\n       public void setIsDeleted(boolean isDeleted) {\r\n          this.isDeleted = isDeleted;\r\n       }\r\n     }\r\n\r\n**The entity class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;Events&quot;)\r\n    @SQLDelete(sql =&quot;UPDATE events &quot; +\r\n                    &quot;SET IS_DELETED = true &quot; +\r\n                    &quot;WHERE id = ?&quot;)\r\n    public class Event extends BaseEntity {\r\n\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.AUTO)\r\n       @Column(name = &quot;ID&quot;)\r\n       private Long id;\r\n\r\n       @Column(name = &quot;NAME&quot;)\r\n       private String name;\r\n\r\n       public Event() {\r\n       }\r\n\r\n       public Long getId() {\r\n          return id;\r\n       }\r\n\r\n       public void setId(Long id) {\r\n          this.id = id;\r\n       }\r\n\r\n       public String getName() {\r\n          return name;\r\n       }\r\n\r\n       public void setName(String name) {\r\n          this.name = name;\r\n       }\r\n    }\r\n\r\nThanks for any kind of help :)","title":"Hibernate define @Where annotation in super class","body":"<p>I am trying to implement soft delete in my spring - hibernate project.\nMy plan is to override the delete method with the <code>@SQLDelete</code> annotation and filter the logical deleted entities with hibernate <code>@Where</code> annotation in my queries.</p>\n\n<p>I experience some difficulties when I try to define the <code>@Where</code> clause in the super class, It's seems that the entities dont inherit the <code>@Where</code> clause from the abstract base class.</p>\n\n<p><strong>Note:</strong> If I move the <code>@Where</code> annotation to the entity class everything work as expected</p>\n\n<p><strong>The base entity class:</strong></p>\n\n<pre><code>@MappedSuperclass\n@Where(clause = \" IS_DELETED = false\")\npublic abstract class BaseEntity {\n\n   @Column(name = \"IS_DELETED\")\n   private boolean isDeleted;\n\n   public BaseEntity() {\n   }\n\n   public boolean getIsDeleted() {\n      return this.isDeleted;\n   }\n\n   public void setIsDeleted(boolean isDeleted) {\n      this.isDeleted = isDeleted;\n   }\n }\n</code></pre>\n\n<p><strong>The entity class:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"Events\")\n@SQLDelete(sql =\"UPDATE events \" +\n                \"SET IS_DELETED = true \" +\n                \"WHERE id = ?\")\npublic class Event extends BaseEntity {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   @Column(name = \"ID\")\n   private Long id;\n\n   @Column(name = \"NAME\")\n   private String name;\n\n   public Event() {\n   }\n\n   public Long getId() {\n      return id;\n   }\n\n   public void setId(Long id) {\n      this.id = id;\n   }\n\n   public String getName() {\n      return name;\n   }\n\n   public void setName(String name) {\n      this.name = name;\n   }\n}\n</code></pre>\n\n<p>Thanks for any kind of help :)</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9536,"page":687,"page_size":100}
