{"items":[{"tags":["java","maven","gradle","pmd"],"answers":[{"comments":[{"owner":{"account_id":1204405,"reputation":9409,"user_id":1174414,"accept_rate":100,"display_name":"Raja Nadar"},"score":0,"creation_date":1549800924,"post_id":54614393,"comment_id":96025508,"body_markdown":"xerx593, did you mean to add the &#39;phase&#39; tags in the above answer OR a different goal? Without that, both the executions look to be the same.","body":"xerx593, did you mean to add the &#39;phase&#39; tags in the above answer OR a different goal? Without that, both the executions look to be the same."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1549809630,"post_id":54614393,"comment_id":96027772,"body_markdown":"...&quot;i think&quot; `phase` is optional. of course you would have to adjust and test both configs: inside configutation - my answer is just an outline..","body":"...&quot;i think&quot; <code>phase</code> is optional. of course you would have to adjust and test both configs: inside configutation - my answer is just an outline.."},{"owner":{"account_id":168550,"reputation":1164,"user_id":394071,"accept_rate":53,"display_name":"eerriicc"},"score":1,"creation_date":1597839983,"post_id":54614393,"comment_id":112263671,"body_markdown":"If you use the plugin goal `pmd`, `&lt;includeTests&gt;true&lt;/includeTests&gt;` should also be added to the second execution or profile.","body":"If you use the plugin goal <code>pmd</code>, <code>&lt;includeTests&gt;true&lt;&#47;includeTests&gt;</code> should also be added to the second execution or profile."},{"owner":{"account_id":4800739,"reputation":802,"user_id":3877441,"display_name":"Ezra"},"score":1,"creation_date":1675110396,"post_id":54614393,"comment_id":132854454,"body_markdown":"Why is it &quot;rather unconventional&quot; to run PMD on tests? PMD has rules that are specifically for test files (like the one that ensures there is an assert in every test - https://pmd.sourceforge.io/pmd-6.53.0/pmd_rules_java_bestpractices.html#junittestsshouldincludeassert).","body":"Why is it &quot;rather unconventional&quot; to run PMD on tests? PMD has rules that are specifically for test files (like the one that ensures there is an assert in every test - <a href=\"https://pmd.sourceforge.io/pmd-6.53.0/pmd_rules_java_bestpractices.html#junittestsshouldincludeassert\" rel=\"nofollow noreferrer\">pmd.sourceforge.io/pmd-6.53.0/&hellip;</a>)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1675111179,"post_id":54614393,"comment_id":132854698,"body_markdown":"because (i.m.o) doing statical *code* analysis (pmd) on &quot;meta code&quot; (which test code is) is &quot;nit-picking&quot; or &quot;being more catholic than the pope&quot;!  (but then also interesting: why different rulesets??;) ..empiricial: this question is by far less popular than (e.g.) [this](https://stackoverflow.com/q/46728525/592355), @Ezra","body":"because (i.m.o) doing statical <i>code</i> analysis (pmd) on &quot;meta code&quot; (which test code is) is &quot;nit-picking&quot; or &quot;being more catholic than the pope&quot;!  (but then also interesting: why different rulesets??;) ..empiricial: this question is by far less popular than (e.g.) <a href=\"https://stackoverflow.com/q/46728525/592355\">this</a>, @Ezra"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1675176965,"post_id":54614393,"comment_id":132869596,"body_markdown":"the existence of this and test related rules implies, that pmd works also on test code (which is also &quot;code&quot; by its means:)... but then again (if being more catholic than the pope): why different rule sets? (the test rules don&#39;t hurt/slow much &quot;prod code analsys&quot;) ..and if it was &quot;rather conventional&quot;, then why would the [maven-pmd people default this setting to `false`](https://maven.apache.org/plugins/maven-pmd-plugin/pmd-mojo.html#includeTests)!?","body":"the existence of this and test related rules implies, that pmd works also on test code (which is also &quot;code&quot; by its means:)... but then again (if being more catholic than the pope): why different rule sets? (the test rules don&#39;t hurt/slow much &quot;prod code analsys&quot;) ..and if it was &quot;rather conventional&quot;, then why would the <a href=\"https://maven.apache.org/plugins/maven-pmd-plugin/pmd-mojo.html#includeTests\" rel=\"nofollow noreferrer\">maven-pmd people default this setting to <code>false</code></a>!?"},{"owner":{"account_id":4800739,"reputation":802,"user_id":3877441,"display_name":"Ezra"},"score":0,"creation_date":1675379932,"post_id":54614393,"comment_id":132922549,"body_markdown":"@xerx593 I see your point. I think the desire for 2 rulesets is exactly what some are looking for because of the test code being &quot;meta code&quot; as you describe. People want the ability to have more relaxed rules for test/meta code. FWIW, you also have two rulesets; it just happens to be that the ruleset you apply to test/meta code happens to be empty. :)","body":"@xerx593 I see your point. I think the desire for 2 rulesets is exactly what some are looking for because of the test code being &quot;meta code&quot; as you describe. People want the ability to have more relaxed rules for test/meta code. FWIW, you also have two rulesets; it just happens to be that the ruleset you apply to test/meta code happens to be empty. :)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675381229,"creation_date":1549784588,"answer_id":54614393,"question_id":54613445,"body_markdown":"It is &quot;rather unconventional&quot; to pmd over test sources, but that is not part of the question. :)\r\n\r\nUsing the [executions][1] tag and utilizing [maven-pmd-plugin][2], you can do this with maven.\r\n\r\n\r\n----------\r\n&gt;**EDIT:** In short &amp; applied to the given input (and maybe more than you wanted/need), it enables/forces you to make **both checks in every build**:\r\n\r\n    &lt;project&gt;&lt;build&gt;&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt; &lt;!-- latest up-to-date --&gt;\r\n        &lt;executions&gt;\r\n           &lt;execution&gt;\r\n               &lt;id&gt;pmd-execution&lt;/id&gt;\r\n               &lt;goals&gt;\r\n                   &lt;goal&gt;check&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n               &lt;configuration&gt;\r\n                   &lt;rulesets&gt;\r\n                       &lt;ruleset&gt;/path/to/.../src-pmd-rulesets.xml&lt;/ruleset&gt;\r\n                   &lt;/rulesets&gt;\r\n               &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n               &lt;id&gt;pmd-test-execution&lt;/id&gt;\r\n               &lt;goals&gt;\r\n                  &lt;goal&gt;check&lt;/goal&gt;\r\n               &lt;/goals&gt;\r\n               &lt;configuration&gt;\r\n                   &lt;includeTests&gt;true&lt;/includeTests&gt; &lt;!-- this defaults to false! --&gt;\r\n                   &lt;rulesets&gt;\r\n                       &lt;ruleset&gt;/path/to/.../test-pmd-rulesets.xml&lt;/ruleset&gt;\r\n                   &lt;/rulesets&gt;\r\n               &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    ...\r\n\r\nSee also: https://stackoverflow.com/q/16540808/592355\r\n\r\n\r\n----------\r\n&gt;**EDIT 2**: If you indeed don&#39;t need &quot;both executions&quot; (in 1 build), but only **&quot;two configurations&quot; for &quot;different builds&quot;**, then:\r\n[Maven Profiles][3] fits your needs (with profiles ... your &quot;possibilities converge to infinity&quot;) !\r\n\r\nYou would introduce profiles like:\r\n\r\n     &lt;project&gt;\r\n     ...\r\n     &lt;profiles&gt;\r\n       &lt;profile&gt;\r\n         &lt;id&gt;pmdMain&lt;/id&gt;\r\n         &lt;properties&gt;\r\n             &lt;myPmdRuleSetLocation&gt;/path/to/.../src-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\r\n             &lt;myPmdTestsInclude&gt;false&lt;/myPmdTestsInclude&gt;\r\n         &lt;/properties&gt;\r\n       &lt;/profile&gt; \r\n       &lt;profile&gt;\r\n         &lt;id&gt;pmdTest&lt;/id&gt;\r\n         &lt;properties&gt;\r\n             &lt;myPmdRuleSetLocation&gt;/path/to/.../test-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\r\n             &lt;myPmdTestsInclude&gt;true&lt;/myPmdTestsInclude&gt;\r\n         &lt;/properties&gt;\r\n       &lt;/profile&gt; \r\n     &lt;profiles&gt;\r\n     ...\r\n     &lt;/project&gt;\r\n\r\nAnd use it in your (single execution) pmd-plugin configuration:\r\n    \r\n    ...\r\n      &lt;ruleset&gt;${myPmdRuleSetLocation}&lt;/ruleset&gt;\r\n      &lt;includeTests&gt;${myPmdTestsInclude}&lt;/includeTests&gt;\r\n    ...\r\n\r\nPlease [read further][3] on profiles and their activation.\r\n\r\n(additionally `&lt;profile/&gt;` can contain &amp; override `&lt;build/&gt;` tag!)\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_executions_Tag\r\n  [2]: https://maven.apache.org/plugins/maven-pmd-plugin/examples/usingRuleSets.html\r\n  [3]: https://maven.apache.org/guides/introduction/introduction-to-profiles.html\r\n","title":"How can we have different PMD rulesets in Maven for the main and test java code sets?","body":"<p>It is &quot;rather unconventional&quot; to pmd over test sources, but that is not part of the question. :)</p>\n<p>Using the <a href=\"https://maven.apache.org/guides/mini/guide-configuring-plugins.html#Using_the_executions_Tag\" rel=\"nofollow noreferrer\">executions</a> tag and utilizing <a href=\"https://maven.apache.org/plugins/maven-pmd-plugin/examples/usingRuleSets.html\" rel=\"nofollow noreferrer\">maven-pmd-plugin</a>, you can do this with maven.</p>\n<hr />\n<blockquote>\n<p><strong>EDIT:</strong> In short &amp; applied to the given input (and maybe more than you wanted/need), it enables/forces you to make <strong>both checks in every build</strong>:</p>\n</blockquote>\n<pre><code>&lt;project&gt;&lt;build&gt;&lt;plugins&gt;\n&lt;plugin&gt;\n    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt; &lt;!-- latest up-to-date --&gt;\n    &lt;executions&gt;\n       &lt;execution&gt;\n           &lt;id&gt;pmd-execution&lt;/id&gt;\n           &lt;goals&gt;\n               &lt;goal&gt;check&lt;/goal&gt;\n           &lt;/goals&gt;\n           &lt;configuration&gt;\n               &lt;rulesets&gt;\n                   &lt;ruleset&gt;/path/to/.../src-pmd-rulesets.xml&lt;/ruleset&gt;\n               &lt;/rulesets&gt;\n           &lt;/configuration&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n           &lt;id&gt;pmd-test-execution&lt;/id&gt;\n           &lt;goals&gt;\n              &lt;goal&gt;check&lt;/goal&gt;\n           &lt;/goals&gt;\n           &lt;configuration&gt;\n               &lt;includeTests&gt;true&lt;/includeTests&gt; &lt;!-- this defaults to false! --&gt;\n               &lt;rulesets&gt;\n                   &lt;ruleset&gt;/path/to/.../test-pmd-rulesets.xml&lt;/ruleset&gt;\n               &lt;/rulesets&gt;\n           &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n...\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/q/16540808/592355\">Can I configure multiple plugin executions in pluginManagement, and choose from them in my child POM?</a></p>\n<hr />\n<blockquote>\n<p><strong>EDIT 2</strong>: If you indeed don't need &quot;both executions&quot; (in 1 build), but only <strong>&quot;two configurations&quot; for &quot;different builds&quot;</strong>, then:\n<a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">Maven Profiles</a> fits your needs (with profiles ... your &quot;possibilities converge to infinity&quot;) !</p>\n</blockquote>\n<p>You would introduce profiles like:</p>\n<pre><code> &lt;project&gt;\n ...\n &lt;profiles&gt;\n   &lt;profile&gt;\n     &lt;id&gt;pmdMain&lt;/id&gt;\n     &lt;properties&gt;\n         &lt;myPmdRuleSetLocation&gt;/path/to/.../src-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\n         &lt;myPmdTestsInclude&gt;false&lt;/myPmdTestsInclude&gt;\n     &lt;/properties&gt;\n   &lt;/profile&gt; \n   &lt;profile&gt;\n     &lt;id&gt;pmdTest&lt;/id&gt;\n     &lt;properties&gt;\n         &lt;myPmdRuleSetLocation&gt;/path/to/.../test-pmd-rulesets.xml&lt;/myPmdRuleSetLocation&gt;\n         &lt;myPmdTestsInclude&gt;true&lt;/myPmdTestsInclude&gt;\n     &lt;/properties&gt;\n   &lt;/profile&gt; \n &lt;profiles&gt;\n ...\n &lt;/project&gt;\n</code></pre>\n<p>And use it in your (single execution) pmd-plugin configuration:</p>\n<pre><code>...\n  &lt;ruleset&gt;${myPmdRuleSetLocation}&lt;/ruleset&gt;\n  &lt;includeTests&gt;${myPmdTestsInclude}&lt;/includeTests&gt;\n...\n</code></pre>\n<p>Please <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">read further</a> on profiles and their activation.</p>\n<p>(additionally <code>&lt;profile/&gt;</code> can contain &amp; override <code>&lt;build/&gt;</code> tag!)</p>\n"}],"owner":{"account_id":1204405,"reputation":9409,"user_id":1174414,"accept_rate":100,"display_name":"Raja Nadar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54614393,"answer_count":1,"score":1,"last_activity_date":1675381229,"creation_date":1549774156,"question_id":54613445,"body_markdown":"In Gradle, we can specify different PMD configurations (including different rulesets) for the pmdMain and pmdTest source sets. e.g.\r\n\r\n    pmdMain {\r\n        ruleSetFiles = files(&quot;$javaBuildSystemRoot/src-pmd-rulesets.xml&quot;)\r\n    }\r\n    \r\n    pmdTest {\r\n        ruleSetFiles = files(&quot;$javaBuildSystemRoot/test-pmd-rulesets.xml&quot;)\r\n    }\r\n\r\nWe want to be less stringent on test code than main code.\r\n\r\nThere is a separate maven based project, where we cannot use gradle currently.But for now, we would like to at least apply the 2 different rulesets based on main vs test. It is a single module single project, using the maven PMD plugin.\r\n\r\nHow do we do this in the Maven pom file?","title":"How can we have different PMD rulesets in Maven for the main and test java code sets?","body":"<p>In Gradle, we can specify different PMD configurations (including different rulesets) for the pmdMain and pmdTest source sets. e.g.</p>\n\n<pre><code>pmdMain {\n    ruleSetFiles = files(\"$javaBuildSystemRoot/src-pmd-rulesets.xml\")\n}\n\npmdTest {\n    ruleSetFiles = files(\"$javaBuildSystemRoot/test-pmd-rulesets.xml\")\n}\n</code></pre>\n\n<p>We want to be less stringent on test code than main code.</p>\n\n<p>There is a separate maven based project, where we cannot use gradle currently.But for now, we would like to at least apply the 2 different rulesets based on main vs test. It is a single module single project, using the maven PMD plugin.</p>\n\n<p>How do we do this in the Maven pom file?</p>\n"},{"tags":["java","web-services","rest","quickbooks"],"answers":[{"tags":[],"owner":{"account_id":2455089,"reputation":5300,"user_id":2140489,"accept_rate":50,"display_name":"Manas Mukherjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675380201,"creation_date":1412198254,"answer_id":26150820,"question_id":26123728,"body_markdown":"401 suggests &#39;authentication&#39; error. \r\n\r\nPlease refer this post, where I&#39;ve mentioned how to call QBO V3 endpoints, using any standard Restclient.\r\n\r\nhttps://stackoverflow.com/questions/22587647/invalidtokenexception-unauthorized-401\r\n\r\nIf you see a 401 exception again, then please generate a new set of accessToken and accessSecret using [OAuthPlayground][1] tool and use those in Java devkit.\r\n\r\n  [1]: https://appcenter.intuit.com/Playground/OAuth/IA","title":"Quickbooks authentication error - Java SDK Quickbooks v3.0","body":"<p>401 suggests 'authentication' error.</p>\n<p>Please refer this post, where I've mentioned how to call QBO V3 endpoints, using any standard Restclient.</p>\n<p><a href=\"https://stackoverflow.com/questions/22587647/invalidtokenexception-unauthorized-401\">InvalidTokenException: Unauthorized-401</a></p>\n<p>If you see a 401 exception again, then please generate a new set of accessToken and accessSecret using <a href=\"https://appcenter.intuit.com/Playground/OAuth/IA\" rel=\"nofollow noreferrer\">OAuthPlayground</a> tool and use those in Java devkit.</p>\n"},{"comments":[{"owner":{"account_id":9226393,"reputation":315,"user_id":6854069,"display_name":"Raghuram Kasyap"},"score":0,"creation_date":1529353309,"post_id":29121307,"comment_id":88833806,"body_markdown":"Given URL is not working. I changed it to [https://sandbox-quickbooks.api.intuit.com/v3/company](https://sandbox-quickbooks.api.intuit.com/v3/company) and it worked for me.","body":"Given URL is not working. I changed it to <a href=\"https://sandbox-quickbooks.api.intuit.com/v3/company\" rel=\"nofollow noreferrer\">https://sandbox-quickbooks.api.intuit.com/v3/company</a> and it worked for me."}],"tags":[],"owner":{"account_id":5959491,"reputation":31,"user_id":4685083,"display_name":"GowriShankar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426681388,"creation_date":1426679496,"answer_id":29121307,"question_id":26123728,"body_markdown":"Please add the below property:\r\n\r\n    Config.setProperty(Config.BASE_URL_QBO,&quot;https://sandboxquickbooks.api.intuit.com/v3/company&quot;);\r\n\r\nbefore:\r\n\r\n    DataService service = new DataService(context);\r\n\r\nThis worked for me.","title":"Quickbooks authentication error - Java SDK Quickbooks v3.0","body":"<p>Please add the below property:</p>\n\n<pre><code>Config.setProperty(Config.BASE_URL_QBO,\"https://sandboxquickbooks.api.intuit.com/v3/company\");\n</code></pre>\n\n<p>before:</p>\n\n<pre><code>DataService service = new DataService(context);\n</code></pre>\n\n<p>This worked for me.</p>\n"}],"owner":{"account_id":4140526,"reputation":349,"user_id":3396009,"accept_rate":44,"display_name":"Akg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675380275,"creation_date":1412088386,"question_id":26123728,"body_markdown":"This is my first attempt to work with [Quickbooks][1] API. To get started with it I wanted to try few API calls. \r\n\r\nI have already created account on Quickbooks and got the following credentials -\r\n\r\n    consumerKey\r\n    consumerSecret\r\n    accessToken\r\n    accessTokenSecret\r\n    appToken\r\n    companyId\r\n\r\nDownloaded [IPP java sdk for QuickBooks v3.0][2] and the from the downloaded package, I am currently using the following jar files -\r\n\r\n    ipp-v3-java-devkit-2.3.2-jar-with-dependencies.jar\r\n    ipp-java-qbapihelper-1.2.0-jar-with-dependencies.jar\r\n\r\n\r\nHere is the code which I am executing.\r\n\r\n\r\n    import com.intuit.ipp.core.Context;\r\n    import com.intuit.ipp.core.ServiceType;\r\n    import com.intuit.ipp.data.Customer;\r\n    import com.intuit.ipp.exception.FMSException;\r\n    import com.intuit.ipp.security.OAuthAuthorizer;\r\n    import com.intuit.ipp.services.DataService;\r\n\r\n     public class TestQuickBooks {\r\n      public static void main(String[] args) \r\n       throws FMSException \r\n       {\r\n        // following credentials are replaced with my original credential\r\n        // when executing the code \r\n        String consumerKey = &quot;...&quot;;\r\n        String consumerSecret = &quot;...&quot;;\r\n        String accessToken = &quot;...&quot;;\r\n        String accessTokenSecret = &quot;...&quot;;\r\n        String appToken = &quot;...&quot;;\r\n        String companyId = &quot;...&quot;;\r\n    \r\n        try {\r\n          OAuthAuthorizer oauth = new OAuthAuthorizer(consumerKey,\r\n                                                      consumerSecret,\r\n                                                      accessToken,\r\n                                                      accessTokenSecret);\r\n          Context context = new Context(oauth,\r\n                                        appToken,\r\n                                        ServiceType.QBO,\r\n                                        companyId);\r\n          DataService service = new DataService(context);\r\n    \r\n          Customer customer1 = new Customer();\r\n          customer1.setDisplayName(&quot;ABCD&quot;);\r\n\r\n          // this is the line which is throwing exception\r\n          Customer resultCustomer = service.add(customer1);\r\n    \r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\ncopying the exception message here --\r\n\r\n    com.intuit.ipp.exception.AuthenticationException: ERROR CODE:3200, ERROR MESSAGE:message=ApplicationAuthenticationFailed; errorCode=003200; statusCode=401, ERROR DETAIL:null  \r\n\r\n\r\nI am checking Quickbooks documentation but can&#39;t figure out what is causing this authentication exception. As for the credentials, I have double checked it and those are correct. \r\n\r\nI found that Quickbooks has an [API playground][3] but no luck with this as well.\r\n\r\nTried this API call -\r\n\r\n    https://appcenter.intuit.com/api/v1/PingSecure\r\n\r\nI provided my credentials and specified format as JSON and no url parameter.\r\nit is returning the following message -\r\n\r\n    {\r\n    \t&quot;ErrorMessage&quot;: &quot;This API requires Authorization.&quot;,\r\n    \t&quot;ErrorCode&quot;: 22,\r\n    \t&quot;ServerTime&quot;: &quot;/Date(1412166272838)/&quot;\r\n    }\r\n\r\nMy hope was api playground shouldn&#39;t return authentication error since my credentials were correct. However the only way I can see api calls is when I log in to the [API explorer][4] \r\n\r\nI am not really sure what is missing here - can&#39;t make an API call from API playground and also programmatically using Java SDK.\r\n\r\n  [1]: http://quickbooks.intuit.com/\r\n  [2]: https://developer.intuit.com/docs/0025_quickbooksapi/0055_devkits/0201_ipp_java_devkit_3.0\r\n  [3]: https://appcenter.intuit.com/Playground/API\r\n  [4]: https://developer.intuit.com/apiexplorer","title":"Quickbooks authentication error - Java SDK Quickbooks v3.0","body":"<p>This is my first attempt to work with <a href=\"http://quickbooks.intuit.com/\" rel=\"nofollow noreferrer\">Quickbooks</a> API. To get started with it I wanted to try few API calls.</p>\n<p>I have already created account on Quickbooks and got the following credentials -</p>\n<pre><code>consumerKey\nconsumerSecret\naccessToken\naccessTokenSecret\nappToken\ncompanyId\n</code></pre>\n<p>Downloaded <a href=\"https://developer.intuit.com/docs/0025_quickbooksapi/0055_devkits/0201_ipp_java_devkit_3.0\" rel=\"nofollow noreferrer\">IPP java sdk for QuickBooks v3.0</a> and the from the downloaded package, I am currently using the following jar files -</p>\n<pre><code>ipp-v3-java-devkit-2.3.2-jar-with-dependencies.jar\nipp-java-qbapihelper-1.2.0-jar-with-dependencies.jar\n</code></pre>\n<p>Here is the code which I am executing.</p>\n<pre><code>import com.intuit.ipp.core.Context;\nimport com.intuit.ipp.core.ServiceType;\nimport com.intuit.ipp.data.Customer;\nimport com.intuit.ipp.exception.FMSException;\nimport com.intuit.ipp.security.OAuthAuthorizer;\nimport com.intuit.ipp.services.DataService;\n\n public class TestQuickBooks {\n  public static void main(String[] args) \n   throws FMSException \n   {\n    // following credentials are replaced with my original credential\n    // when executing the code \n    String consumerKey = &quot;...&quot;;\n    String consumerSecret = &quot;...&quot;;\n    String accessToken = &quot;...&quot;;\n    String accessTokenSecret = &quot;...&quot;;\n    String appToken = &quot;...&quot;;\n    String companyId = &quot;...&quot;;\n\n    try {\n      OAuthAuthorizer oauth = new OAuthAuthorizer(consumerKey,\n                                                  consumerSecret,\n                                                  accessToken,\n                                                  accessTokenSecret);\n      Context context = new Context(oauth,\n                                    appToken,\n                                    ServiceType.QBO,\n                                    companyId);\n      DataService service = new DataService(context);\n\n      Customer customer1 = new Customer();\n      customer1.setDisplayName(&quot;ABCD&quot;);\n\n      // this is the line which is throwing exception\n      Customer resultCustomer = service.add(customer1);\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>copying the exception message here --</p>\n<pre><code>com.intuit.ipp.exception.AuthenticationException: ERROR CODE:3200, ERROR MESSAGE:message=ApplicationAuthenticationFailed; errorCode=003200; statusCode=401, ERROR DETAIL:null  \n</code></pre>\n<p>I am checking Quickbooks documentation but can't figure out what is causing this authentication exception. As for the credentials, I have double checked it and those are correct.</p>\n<p>I found that Quickbooks has an <a href=\"https://appcenter.intuit.com/Playground/API\" rel=\"nofollow noreferrer\">API playground</a> but no luck with this as well.</p>\n<p>Tried this API call -</p>\n<pre><code>https://appcenter.intuit.com/api/v1/PingSecure\n</code></pre>\n<p>I provided my credentials and specified format as JSON and no url parameter.\nit is returning the following message -</p>\n<pre><code>{\n    &quot;ErrorMessage&quot;: &quot;This API requires Authorization.&quot;,\n    &quot;ErrorCode&quot;: 22,\n    &quot;ServerTime&quot;: &quot;/Date(1412166272838)/&quot;\n}\n</code></pre>\n<p>My hope was api playground shouldn't return authentication error since my credentials were correct. However the only way I can see api calls is when I log in to the <a href=\"https://developer.intuit.com/apiexplorer\" rel=\"nofollow noreferrer\">API explorer</a></p>\n<p>I am not really sure what is missing here - can't make an API call from API playground and also programmatically using Java SDK.</p>\n"},{"tags":["java","google-app-engine","jakarta-ee"],"answers":[{"comments":[{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1413231981,"post_id":26348001,"comment_id":41357509,"body_markdown":"do you have any idea about the common way used to upload files with jsf on GAE ?","body":"do you have any idea about the common way used to upload files with jsf on GAE ?"},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1413232051,"post_id":26348001,"comment_id":41357544,"body_markdown":"this issue happens when i am trying to upload file to server","body":"this issue happens when i am trying to upload file to server"},{"owner":{"account_id":280699,"reputation":12264,"user_id":576549,"accept_rate":74,"display_name":"Eugene Loy"},"score":0,"creation_date":1413232431,"post_id":26348001,"comment_id":41357734,"body_markdown":"@MahmoudS Nope, have not dealt with file uploads in GAE.","body":"@MahmoudS Nope, have not dealt with file uploads in GAE."}],"tags":[],"owner":{"account_id":280699,"reputation":12264,"user_id":576549,"accept_rate":74,"display_name":"Eugene Loy"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1413231353,"creation_date":1413230578,"answer_id":26348001,"question_id":26347952,"body_markdown":"&gt; why i am getting this exception\r\n\r\nGAE environment is sandboxed for a number of reasons. This means that you cannot do a lot of things you could normally do on your local machine.\r\n\r\nThis also includes write access to the file system.\r\n\r\n&gt; how to fix it\r\n\r\nFind another way to persist your data (database, for example).\r\n\r\nYou can read a little bit more on sandbox restrictions [here][1].\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/java/#Java_The_sandbox","title":"java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;) on GAE","body":"<blockquote>\n  <p>why i am getting this exception</p>\n</blockquote>\n\n<p>GAE environment is sandboxed for a number of reasons. This means that you cannot do a lot of things you could normally do on your local machine.</p>\n\n<p>This also includes write access to the file system.</p>\n\n<blockquote>\n  <p>how to fix it</p>\n</blockquote>\n\n<p>Find another way to persist your data (database, for example).</p>\n\n<p>You can read a little bit more on sandbox restrictions <a href=\"https://cloud.google.com/appengine/docs/java/#Java_The_sandbox\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1406,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":26348001,"answer_count":1,"score":-1,"last_activity_date":1675380096,"creation_date":1413230357,"question_id":26347952,"body_markdown":"I am migrating my application from Tomcat to Google App Engine (1.9.1). I am running jsf 2.2 on servlet 2.5 and I am facing an issue with reading files from file system. I have code that creates a file on the file system as follows:\r\n\r\n    File file = new File(&quot;C:\\\\tempFolder&quot;);\r\n    if(file.isDirectory()){\r\n      // do writing stuff here\r\n    }\r\n\r\nOn Tomcat I was not getting any exceptions on the above code, but on Google App Engine I am getting the following exception:\r\n\r\n    Caused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;)\r\n    \tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:372)\r\n    \tat java.security.AccessController.checkPermission(AccessController.java:559)\r\n    \tat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n    \tat com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:429)\r\n\r\nWhy am I getting this exception, and how to fix it?\r\n","title":"java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;) on GAE","body":"<p>I am migrating my application from Tomcat to Google App Engine (1.9.1). I am running jsf 2.2 on servlet 2.5 and I am facing an issue with reading files from file system. I have code that creates a file on the file system as follows:</p>\n<pre><code>File file = new File(&quot;C:\\\\tempFolder&quot;);\nif(file.isDirectory()){\n  // do writing stuff here\n}\n</code></pre>\n<p>On Tomcat I was not getting any exceptions on the above code, but on Google App Engine I am getting the following exception:</p>\n<pre><code>Caused by: java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;C:\\tempFolder&quot; &quot;read&quot;)\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:372)\n    at java.security.AccessController.checkPermission(AccessController.java:559)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:429)\n</code></pre>\n<p>Why am I getting this exception, and how to fix it?</p>\n"},{"tags":["java","visual-studio"],"comments":[{"owner":{"account_id":15264538,"reputation":522,"user_id":11013589,"display_name":"CootMoon"},"score":0,"creation_date":1675382994,"post_id":75329798,"comment_id":132923065,"body_markdown":"If you found my answer helpful, it would  be greatly appropriated if you selected it as the correct answer for your question.","body":"If you found my answer helpful, it would  be greatly appropriated if you selected it as the correct answer for your question."}],"answers":[{"tags":[],"owner":{"account_id":15264538,"reputation":522,"user_id":11013589,"display_name":"CootMoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675379797,"creation_date":1675379419,"answer_id":75329854,"question_id":75329798,"body_markdown":"Visual Studio Code might be an option if it works https://apps.microsoft.com/store/detail/visual-studio-code/XP9KHM4BK9FZ7Q, but your best bet would be the following:\r\n\r\nYou can use an online tool called GitHub Codespaces: https://github.com/features/codespaces\r\n\r\nCodespaces runs a VSCode environment in your browser. You will run a java project just as you would if you where using VSCode. How to use GitHub Dev https://github.com/github/dev\r\n\r\nCheck out this link if you want to know more about advanced use of Java in a Codespace: https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-java-project-for-codespaces","title":"Coding with tools only downloadable in Microsoft Store","body":"<p>Visual Studio Code might be an option if it works <a href=\"https://apps.microsoft.com/store/detail/visual-studio-code/XP9KHM4BK9FZ7Q\" rel=\"nofollow noreferrer\">https://apps.microsoft.com/store/detail/visual-studio-code/XP9KHM4BK9FZ7Q</a>, but your best bet would be the following:</p>\n<p>You can use an online tool called GitHub Codespaces: <a href=\"https://github.com/features/codespaces\" rel=\"nofollow noreferrer\">https://github.com/features/codespaces</a></p>\n<p>Codespaces runs a VSCode environment in your browser. You will run a java project just as you would if you where using VSCode. How to use GitHub Dev <a href=\"https://github.com/github/dev\" rel=\"nofollow noreferrer\">https://github.com/github/dev</a></p>\n<p>Check out this link if you want to know more about advanced use of Java in a Codespace: <a href=\"https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-java-project-for-codespaces\" rel=\"nofollow noreferrer\">https://docs.github.com/en/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-java-project-for-codespaces</a></p>\n"}],"owner":{"account_id":17494929,"reputation":13,"user_id":12686314,"display_name":"Humi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75329854,"answer_count":1,"score":1,"last_activity_date":1675379797,"creation_date":1675378936,"question_id":75329798,"body_markdown":"My laptop is broken and is at the service right now so I got a borrowed laptop from school. Unfortunately we have no administrator rights on these laptops and a lot of stuff is limited by the administrator. The only way to download tools/applications is through the Microsoft Store. (It is not in s-mode or something, really restricted.) So I want to program and write projects in Java. Normally I use IntelliJ, but that was not in the MS store. I downloaded Visual Studio but am unable to download the JDK. \r\n\r\nMy question to you: Is it at all possible to create and run java projects with Microsoft Store as the only download store? (Windows 10 Enterprise 21H1)\r\n\r\nThanks in advance!\r\n\r\n- Tried visual studio but can not run because JDK is missing\r\n- Tried a browser IDE, but they work terrible and not really suitable for writing projects\r\n\r\n","title":"Coding with tools only downloadable in Microsoft Store","body":"<p>My laptop is broken and is at the service right now so I got a borrowed laptop from school. Unfortunately we have no administrator rights on these laptops and a lot of stuff is limited by the administrator. The only way to download tools/applications is through the Microsoft Store. (It is not in s-mode or something, really restricted.) So I want to program and write projects in Java. Normally I use IntelliJ, but that was not in the MS store. I downloaded Visual Studio but am unable to download the JDK.</p>\n<p>My question to you: Is it at all possible to create and run java projects with Microsoft Store as the only download store? (Windows 10 Enterprise 21H1)</p>\n<p>Thanks in advance!</p>\n<ul>\n<li>Tried visual studio but can not run because JDK is missing</li>\n<li>Tried a browser IDE, but they work terrible and not really suitable for writing projects</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc","hibernate-validator","spring-validator"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1444479552,"post_id":33053553,"comment_id":53927891,"body_markdown":"Some other implementations: http://stackoverflow.com/questions/1384968/is-there-an-implementation-of-jsr-303-bean-validation-available and the spec itself: http://beanvalidation.org/1.0/spec/","body":"Some other implementations: <a href=\"http://stackoverflow.com/questions/1384968/is-there-an-implementation-of-jsr-303-bean-validation-available\" title=\"is there an implementation of jsr 303 bean validation available\">stackoverflow.com/questions/1384968/&hellip;</a> and the spec itself: <a href=\"http://beanvalidation.org/1.0/spec/\" rel=\"nofollow noreferrer\">beanvalidation.org/1.0/spec</a>"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1470925806,"post_id":33053553,"comment_id":65157222,"body_markdown":"http://stackoverflow.com/q/38716703/4723795 it looks to be well answered","body":"<a href=\"http://stackoverflow.com/q/38716703/4723795\">stackoverflow.com/q/38716703/4723795</a> it looks to be well answered"}],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444479820,"creation_date":1444479330,"answer_id":33053871,"question_id":33053553,"body_markdown":"&gt; what exactly is the difference from the 2 used library\r\n&gt; javax.validation and org.hibernate.validator?\r\n\r\nBean Validation is a Java **specification** which lets you express constraints on object models via annotations, lets you write custom constraints in an extensible way. ***It&#39;s just a specification with no implementation at all***.\r\nHibernate Validator is an implementation of this specification. Hibernate Validator implements Bean Validation completely, also it has some features that&#39;s unique to hibernate. Put simply, `javax.validation` is the spec part and `org.hibernate.validator` are the hibernate unique features.\r\n\r\n&gt; Can I do the same thing using only the hibernate validator library? (I\r\n&gt; think that I can specify the valid lenght of a string using the\r\n&gt; Hibernate validator, or not)?\r\n\r\nYes, you can but it&#39;s better to stick with `javax.validation` namespace and only use the unique features by vendor specific namespace such as `org.hibernate.validator`. The benefit of this approach is that you can switch Bean Validation implementation form Hibernate Validator to something else ***with minimum change***.\r\n\r\n&gt; Why in the tutorial use both?\r\n\r\nBecause `@NotBlank` constraint is not availalbe in Bean Validation spec and only provided by Hibernate Validator.\r\n\r\n&gt; It take this object as input parameter: @Valid User user. Who pass to\r\n&gt; it? I think that it could depend by the fact that in the form I\r\n&gt; specified commandName=&quot;user&quot; so Spring automatically do it. Is it\r\n&gt; correct?\r\n\r\nProbably you have `GET` controller for `login` url which returns an empty `User` object, that in turn binds with spring tags such as `&lt;form:input type=&quot;text&quot; path=&quot;username&quot; name=&quot;username&quot; /&gt;`. When a user fills the form and submit it, spring collects those tag values and create an instance of `User` and passes it to controller.\r\n\r\n&gt; Why this @Valid annotation is related only to the javax.validation\r\n&gt; library and not also to the Hibernate validator (so this @Valid\r\n&gt; annotation validate also the field annotated with Hibernate validator\r\n&gt; annotation? why?)\r\n\r\nAlready explained, Spec/Impl story!\r\n","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<blockquote>\n  <p>what exactly is the difference from the 2 used library\n  javax.validation and org.hibernate.validator?</p>\n</blockquote>\n\n<p>Bean Validation is a Java <strong>specification</strong> which lets you express constraints on object models via annotations, lets you write custom constraints in an extensible way. <strong><em>It's just a specification with no implementation at all</em></strong>.\nHibernate Validator is an implementation of this specification. Hibernate Validator implements Bean Validation completely, also it has some features that's unique to hibernate. Put simply, <code>javax.validation</code> is the spec part and <code>org.hibernate.validator</code> are the hibernate unique features.</p>\n\n<blockquote>\n  <p>Can I do the same thing using only the hibernate validator library? (I\n  think that I can specify the valid lenght of a string using the\n  Hibernate validator, or not)?</p>\n</blockquote>\n\n<p>Yes, you can but it's better to stick with <code>javax.validation</code> namespace and only use the unique features by vendor specific namespace such as <code>org.hibernate.validator</code>. The benefit of this approach is that you can switch Bean Validation implementation form Hibernate Validator to something else <strong><em>with minimum change</em></strong>.</p>\n\n<blockquote>\n  <p>Why in the tutorial use both?</p>\n</blockquote>\n\n<p>Because <code>@NotBlank</code> constraint is not availalbe in Bean Validation spec and only provided by Hibernate Validator.</p>\n\n<blockquote>\n  <p>It take this object as input parameter: @Valid User user. Who pass to\n  it? I think that it could depend by the fact that in the form I\n  specified commandName=\"user\" so Spring automatically do it. Is it\n  correct?</p>\n</blockquote>\n\n<p>Probably you have <code>GET</code> controller for <code>login</code> url which returns an empty <code>User</code> object, that in turn binds with spring tags such as <code>&lt;form:input type=\"text\" path=\"username\" name=\"username\" /&gt;</code>. When a user fills the form and submit it, spring collects those tag values and create an instance of <code>User</code> and passes it to controller.</p>\n\n<blockquote>\n  <p>Why this @Valid annotation is related only to the javax.validation\n  library and not also to the Hibernate validator (so this @Valid\n  annotation validate also the field annotated with Hibernate validator\n  annotation? why?)</p>\n</blockquote>\n\n<p>Already explained, Spec/Impl story!</p>\n"},{"comments":[{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1444554371,"post_id":33053919,"comment_id":53945588,"body_markdown":"Tnx so much. Perfect explaination. Only another question. Where can I found deep framework explaination as this? Are there some valid book in addition to the official online documentation?","body":"Tnx so much. Perfect explaination. Only another question. Where can I found deep framework explaination as this? Are there some valid book in addition to the official online documentation?"},{"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"score":1,"creation_date":1444554784,"post_id":33053919,"comment_id":53945696,"body_markdown":"@AndreaNobili I&#39;m afraid the the official documentation does not contain deep explanation of these low level concepts. The way I learn it is by going through the framework code (either &quot;statically&quot; or stepping through it using debugger) and reading the JavaDocs of the components.","body":"@AndreaNobili I&#39;m afraid the the official documentation does not contain deep explanation of these low level concepts. The way I learn it is by going through the framework code (either &quot;statically&quot; or stepping through it using debugger) and reading the JavaDocs of the components."},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1444554898,"post_id":33053919,"comment_id":53945727,"body_markdown":"So I think that I will follow your suggestion...in my spare time...because at work I am always to busy to can do something like this :-(","body":"So I think that I will follow your suggestion...in my spare time...because at work I am always to busy to can do something like this :-("}],"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1444489687,"creation_date":1444479646,"answer_id":33053919,"question_id":33053553,"body_markdown":"&gt; And here the first doubt: what exactly is the difference between the 2 used libraries `javax.validation` and `org.hibernate.validator`?\r\n\r\n`javax.validation` comes from the JSR-303 API. You can look at the API classes for instance in [this Maven dependency][1].\r\n\r\n[_Hibernate validator_][2] is one of the implementations of JSR 303 (reference implementation actually), so it implements all of the API, but adds its own extensions, for instance the `@NotBlank` annotation you mention. Other implementation of JSR 303 is for instance [_Apache BVal_][3].\r\n\r\n---\r\n\r\n&gt; It takes this object as input parameter: `@Valid User user`. Who passes it to the handler method?\r\n\r\nValues to handler methods in Spring MVC are provided by implementations of interface [`HandlerMethodArgumentResolver`][4]. In your case the implementation that will be called to resolve `User` parameter will probably be [`ServletModelAttributeMethodProcessor`][5]. You can view source code and JavaDocs of these classes to see how they work internally.\r\n\r\n---\r\n\r\n&gt; The `@Valid` annotation will automatically call the validation process. How does this happend? Does it use AOP? Why this `@Valid` annotation is related only to the `javax.validation` library and not also to the Hibernate validator (so this `@Valid` annotation validate also the field annotated with Hibernate validator annotation?)\r\n\r\nThe validation process is invoked by [`ModelAttributeMethodProcessor`][6], which is what previously mentioned class `ServletModelAttributeMethodProcessor` inherits from. It contains following method:\r\n\r\n    protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\r\n    \tAnnotation[] annotations = parameter.getParameterAnnotations();\r\n    \tfor (Annotation ann : annotations) {\r\n    \t\tif (ann.annotationType().getSimpleName().startsWith(&quot;Valid&quot;)) {\r\n    \t\t\tObject hints = AnnotationUtils.getValue(ann);\r\n    \t\t\tbinder.validate(hints instanceof Object[] ? (Object[]) hints : new Object[] {hints});\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIf you look closely, you will see condition for the following expression:\r\n\r\n    ann.annotationType().getSimpleName().startsWith(&quot;Valid&quot;)\r\n\r\nThis means that Spring will invoke the validation if the parameter has *any annotation* which starts with `Valid`. It might be JSR 303&#39;s `@Valid` or Spring&#39;s [`@Validated`][7] which supports validation groups. It could even be your custom annotation, as long as its name starts with `Valid`.\r\n\r\n---\r\n\r\n&gt; From what I have understand if the user inserts wrong values into the login form I can obtain this error from the `BindingResult` handler parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the User model object. How exactly works?\r\n\r\nLet&#39;s go back to the `ModelAttributeMethodProcessor` class. There is following code in its `resolveArgument` method:\r\n\r\n    WebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name);\r\n\r\nThis creates instance of `WebDataBinder` on which the validation is invoked in the previously mentioned `validateIfApplicable` method. The validation itself populates the `BindingResult` which is then provided to the controller handler method via `ErrorsMethodArgumentResolver` class, which once again implements `HandlerMethodArgumentResolver`.\r\n\r\n---\r\n\r\n**TLDR**: A lot of the thing you ask about in this question can be traced to various implementation of `HandlerMethodArgumentResolver`. I suggest to go through these classes and step through them using debugger to gain better understanding of them.\r\n\r\n  [1]: http://mvnrepository.com/artifact/javax.validation/validation-api/1.1.0.Final\r\n  [2]: http://hibernate.org/validator/\r\n  [3]: http://bval.apache.org/\r\n  [4]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\r\n  [5]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ServletModelAttributeMethodProcessor.html\r\n  [6]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.html\r\n  [7]: http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/validation/annotation/Validated.html","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<blockquote>\n  <p>And here the first doubt: what exactly is the difference between the 2 used libraries <code>javax.validation</code> and <code>org.hibernate.validator</code>?</p>\n</blockquote>\n\n<p><code>javax.validation</code> comes from the JSR-303 API. You can look at the API classes for instance in <a href=\"http://mvnrepository.com/artifact/javax.validation/validation-api/1.1.0.Final\" rel=\"nofollow\">this Maven dependency</a>.</p>\n\n<p><a href=\"http://hibernate.org/validator/\" rel=\"nofollow\"><em>Hibernate validator</em></a> is one of the implementations of JSR 303 (reference implementation actually), so it implements all of the API, but adds its own extensions, for instance the <code>@NotBlank</code> annotation you mention. Other implementation of JSR 303 is for instance <a href=\"http://bval.apache.org/\" rel=\"nofollow\"><em>Apache BVal</em></a>.</p>\n\n<hr>\n\n<blockquote>\n  <p>It takes this object as input parameter: <code>@Valid User user</code>. Who passes it to the handler method?</p>\n</blockquote>\n\n<p>Values to handler methods in Spring MVC are provided by implementations of interface <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\" rel=\"nofollow\"><code>HandlerMethodArgumentResolver</code></a>. In your case the implementation that will be called to resolve <code>User</code> parameter will probably be <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ServletModelAttributeMethodProcessor.html\" rel=\"nofollow\"><code>ServletModelAttributeMethodProcessor</code></a>. You can view source code and JavaDocs of these classes to see how they work internally.</p>\n\n<hr>\n\n<blockquote>\n  <p>The <code>@Valid</code> annotation will automatically call the validation process. How does this happend? Does it use AOP? Why this <code>@Valid</code> annotation is related only to the <code>javax.validation</code> library and not also to the Hibernate validator (so this <code>@Valid</code> annotation validate also the field annotated with Hibernate validator annotation?)</p>\n</blockquote>\n\n<p>The validation process is invoked by <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/method/annotation/ModelAttributeMethodProcessor.html\" rel=\"nofollow\"><code>ModelAttributeMethodProcessor</code></a>, which is what previously mentioned class <code>ServletModelAttributeMethodProcessor</code> inherits from. It contains following method:</p>\n\n<pre><code>protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\n    Annotation[] annotations = parameter.getParameterAnnotations();\n    for (Annotation ann : annotations) {\n        if (ann.annotationType().getSimpleName().startsWith(\"Valid\")) {\n            Object hints = AnnotationUtils.getValue(ann);\n            binder.validate(hints instanceof Object[] ? (Object[]) hints : new Object[] {hints});\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>If you look closely, you will see condition for the following expression:</p>\n\n<pre><code>ann.annotationType().getSimpleName().startsWith(\"Valid\")\n</code></pre>\n\n<p>This means that Spring will invoke the validation if the parameter has <em>any annotation</em> which starts with <code>Valid</code>. It might be JSR 303's <code>@Valid</code> or Spring's <a href=\"http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/validation/annotation/Validated.html\" rel=\"nofollow\"><code>@Validated</code></a> which supports validation groups. It could even be your custom annotation, as long as its name starts with <code>Valid</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>From what I have understand if the user inserts wrong values into the login form I can obtain this error from the <code>BindingResult</code> handler parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the User model object. How exactly works?</p>\n</blockquote>\n\n<p>Let's go back to the <code>ModelAttributeMethodProcessor</code> class. There is following code in its <code>resolveArgument</code> method:</p>\n\n<pre><code>WebDataBinder binder = binderFactory.createBinder(webRequest, attribute, name);\n</code></pre>\n\n<p>This creates instance of <code>WebDataBinder</code> on which the validation is invoked in the previously mentioned <code>validateIfApplicable</code> method. The validation itself populates the <code>BindingResult</code> which is then provided to the controller handler method via <code>ErrorsMethodArgumentResolver</code> class, which once again implements <code>HandlerMethodArgumentResolver</code>.</p>\n\n<hr>\n\n<p><strong>TLDR</strong>: A lot of the thing you ask about in this question can be traced to various implementation of <code>HandlerMethodArgumentResolver</code>. I suggest to go through these classes and step through them using debugger to gain better understanding of them.</p>\n"},{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1444480025,"creation_date":1444480025,"answer_id":33053976,"question_id":33053553,"body_markdown":"1. Correct, called properties binding \r\n2. Spring 3+ supports `JSR303`Bean validation via `@Valid`annotation, if any JSR 303 validator framework on the classpath. Hibernate Validator is one of the JSR 303 reference implementation\r\n\r\n3. Any constraint violations will be exposed as errors in the BindingResult object, thus you&#39;ve to can check for the violations in the controller’s method like what you have\r\n\r\n    if(br.getAllErrors().size() &gt; 0){\r\n            System.out.println(&quot;Server side validation takes place....&quot;);\r\n        }\r\n\r\nSummary, Spring MVC will validate the model object annotated by the `@Valid` annotation after `binding its properties`with inputs from JSP form that uses Spring’s form tags. Any constraint violations will be exposed as errors in the `BindingResult` object\r\n[here is a good post][1]\r\n\r\n\r\n  [1]: http://www.codejava.net/frameworks/spring/spring-mvc-form-validation-example-with-bean-validation-api","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<ol>\n<li>Correct, called properties binding </li>\n<li><p>Spring 3+ supports <code>JSR303</code>Bean validation via <code>@Valid</code>annotation, if any JSR 303 validator framework on the classpath. Hibernate Validator is one of the JSR 303 reference implementation</p></li>\n<li><p>Any constraint violations will be exposed as errors in the BindingResult object, thus you've to can check for the violations in the controller’s method like what you have</p>\n\n<p>if(br.getAllErrors().size() > 0){\n        System.out.println(\"Server side validation takes place....\");\n    }</p></li>\n</ol>\n\n<p>Summary, Spring MVC will validate the model object annotated by the <code>@Valid</code> annotation after <code>binding its properties</code>with inputs from JSP form that uses Spring’s form tags. Any constraint violations will be exposed as errors in the <code>BindingResult</code> object\n<a href=\"http://www.codejava.net/frameworks/spring/spring-mvc-form-validation-example-with-bean-validation-api\" rel=\"nofollow\">here is a good post</a></p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2510,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33053919,"answer_count":3,"score":3,"last_activity_date":1675378916,"creation_date":1444477119,"question_id":33053553,"body_markdown":"I am pretty new in Spring MVC and I have imported a tutorial project related to server side validation and I have some doubt about how exactly it works.\r\n\r\nSo I have this login page named **login.jsp** that contain this login form:\r\n\r\n\t&lt;form:form action=&quot;${pageContext.request.contextPath}/login&quot; commandName=&quot;user&quot; method=&quot;post&quot;&gt;\r\n\r\n\t\t&lt;table&gt;\r\n\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;label&gt;Enter Username : &lt;/label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input type=&quot;text&quot; path=&quot;username&quot; name=&quot;username&quot; /&gt;\r\n\t\t\t\t\t&lt;br&gt; &lt;form:errors path=&quot;username&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;label&gt;Enter Password : &lt;/label&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;&lt;form:input type=&quot;password&quot; path=&quot;password&quot; name=&quot;password&quot; /&gt;\r\n\t\t\t\t\t&lt;br&gt; &lt;form:errors path=&quot;password&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&amp;nbsp&lt;/td&gt;\r\n\t\t\t\t&lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Login&quot; /&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\r\n\t\t&lt;/table&gt;\r\n\r\n\t&lt;/form:form&gt;\r\n\r\nthat I think use the object specified by the **commandName=&quot;user&quot;** attribute retrieved from the model (correct me if I am wrong) to store the username and password inserted by the user.\r\n\r\nThis **commandName=&quot;user&quot;** is an instance of this **User** class:\r\n\r\n    import javax.validation.constraints.Size;\r\n    import org.hibernate.validator.constraints.NotBlank;\r\n    \r\n    public class User {\r\n    \r\n    \t@NotBlank(message=&quot;Username can not be blank&quot;)\r\n    \tprivate String username;\r\n    \t\r\n    \t@Size(min=6,message=&quot;Password must be atleast 6 characters long&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \tprivate String gender;\r\n    \tprivate String vehicle;\r\n    \tprivate String country;\r\n    \tprivate String image;\r\n    \r\n        ...............................................\r\n        ...............................................\r\n        GETTER AND SETTER METHODS\r\n        ...............................................\r\n        ...............................................\r\n    }\r\n\r\nSo as you can see there are the **@NotBlank** and **@Size** validation annotation declared on the **username** and **password** fields.\r\n\r\nAnd here the first doubt: what exactly is the difference from the 2 used library **javax.validation** and **org.hibernate.validator** ? \r\n\r\nWhy in the tutorial use both? Can I do the same thing using only the hibernate validator library? (I think that I can specify the valid length of a string using the Hibernate validator, or not)?\r\n\r\nSo then when the login form is submitted it generate and HttpRequest toward the **/login** resource that is handled by this method declared into a controller class:\r\n\r\n\t@RequestMapping(value=&quot;/login&quot; , method=RequestMethod.POST)\r\n\tpublic String do_login(HttpServletRequest req , Model md , HttpSession session , @Valid User user, BindingResult br)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//System.out.println(br.getAllErrors().size());\r\n\t\t\t\r\n\t\t\tString username = req.getParameter(&quot;username&quot;);\r\n\t\t\tString password = req.getParameter(&quot;password&quot;);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Username and pasword are : &quot;+username +&quot;  &quot;+ password);\r\n\t\t\tif(br.getAllErrors().size() &gt; 0){\r\n\t\t\t\tSystem.out.println(&quot;Server side validation takes place....&quot;);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\tLogin_Model lm = new Login_Model();\r\n\t\t\tString message = lm.do_login_process(username, password);\r\n\t\t\t\r\n\t\t\tif(message.equals(&quot;login success&quot;))\r\n\t\t\t{\r\n\t\t\t\tsession.setAttribute(&quot;username&quot;, username);\r\n\t\t\t\treturn &quot;redirect:/myprofile&quot;;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmd.addAttribute(&quot;error_msg&quot;, message);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn &quot;login&quot;;\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\treturn &quot;login&quot;;\r\n\t\t}\r\n\t}\r\n\r\nOK, and now I have the following doubts about this method:\r\n\r\n1) It take this object as input parameter: **@Valid User user**.\r\nWho pass to it? I think that it could depend by the fact that in the form I specified **commandName=&quot;user&quot;** so Spring automatically do it. Is it correct?\r\n\r\n2) From what I have understand the **@Valid** annotation automatically call the validation process. How it happen? is something related to the **AOP** feature provided by Spring? or what? Why this **@Valid** annotation is related only to the **javax.validation** library and not also to the Hibernate validator (so this **@Valid** annotation validate also the field annotated with Hibernate validator annotation? why?)\r\n\r\n3) From what I have understand if the user insert wrong values into the login form I can obtain this error by the **BindingResult br** input parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the **User** model object. How exactly does this work?\r\n","title":"How does Spring MVC resolve and validate handler method parameters?","body":"<p>I am pretty new in Spring MVC and I have imported a tutorial project related to server side validation and I have some doubt about how exactly it works.</p>\n<p>So I have this login page named <strong>login.jsp</strong> that contain this login form:</p>\n<pre><code>&lt;form:form action=&quot;${pageContext.request.contextPath}/login&quot; commandName=&quot;user&quot; method=&quot;post&quot;&gt;\n\n    &lt;table&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;&lt;label&gt;Enter Username : &lt;/label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input type=&quot;text&quot; path=&quot;username&quot; name=&quot;username&quot; /&gt;\n                &lt;br&gt; &lt;form:errors path=&quot;username&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;&lt;label&gt;Enter Password : &lt;/label&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;form:input type=&quot;password&quot; path=&quot;password&quot; name=&quot;password&quot; /&gt;\n                &lt;br&gt; &lt;form:errors path=&quot;password&quot; style=&quot;color:red;&quot;&gt;&lt;/form:errors&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td&gt;&amp;nbsp&lt;/td&gt;\n            &lt;td align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Login&quot; /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    &lt;/table&gt;\n\n&lt;/form:form&gt;\n</code></pre>\n<p>that I think use the object specified by the <strong>commandName=&quot;user&quot;</strong> attribute retrieved from the model (correct me if I am wrong) to store the username and password inserted by the user.</p>\n<p>This <strong>commandName=&quot;user&quot;</strong> is an instance of this <strong>User</strong> class:</p>\n<pre><code>import javax.validation.constraints.Size;\nimport org.hibernate.validator.constraints.NotBlank;\n\npublic class User {\n\n    @NotBlank(message=&quot;Username can not be blank&quot;)\n    private String username;\n    \n    @Size(min=6,message=&quot;Password must be atleast 6 characters long&quot;)\n    private String password;\n    \n    private String gender;\n    private String vehicle;\n    private String country;\n    private String image;\n\n    ...............................................\n    ...............................................\n    GETTER AND SETTER METHODS\n    ...............................................\n    ...............................................\n}\n</code></pre>\n<p>So as you can see there are the <strong>@NotBlank</strong> and <strong>@Size</strong> validation annotation declared on the <strong>username</strong> and <strong>password</strong> fields.</p>\n<p>And here the first doubt: what exactly is the difference from the 2 used library <strong>javax.validation</strong> and <strong>org.hibernate.validator</strong> ?</p>\n<p>Why in the tutorial use both? Can I do the same thing using only the hibernate validator library? (I think that I can specify the valid length of a string using the Hibernate validator, or not)?</p>\n<p>So then when the login form is submitted it generate and HttpRequest toward the <strong>/login</strong> resource that is handled by this method declared into a controller class:</p>\n<pre><code>@RequestMapping(value=&quot;/login&quot; , method=RequestMethod.POST)\npublic String do_login(HttpServletRequest req , Model md , HttpSession session , @Valid User user, BindingResult br)\n{\n    try\n    {\n        //System.out.println(br.getAllErrors().size());\n        \n        String username = req.getParameter(&quot;username&quot;);\n        String password = req.getParameter(&quot;password&quot;);\n        \n        System.out.println(&quot;Username and pasword are : &quot;+username +&quot;  &quot;+ password);\n        if(br.getAllErrors().size() &gt; 0){\n            System.out.println(&quot;Server side validation takes place....&quot;);\n        }\n        else{\n        Login_Model lm = new Login_Model();\n        String message = lm.do_login_process(username, password);\n        \n        if(message.equals(&quot;login success&quot;))\n        {\n            session.setAttribute(&quot;username&quot;, username);\n            return &quot;redirect:/myprofile&quot;;\n        }\n        else\n        {\n            md.addAttribute(&quot;error_msg&quot;, message);\n        }\n        }\n        return &quot;login&quot;;\n    }\n    catch(Exception e)\n    {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>OK, and now I have the following doubts about this method:</p>\n<ol>\n<li><p>It take this object as input parameter: <strong>@Valid User user</strong>.\nWho pass to it? I think that it could depend by the fact that in the form I specified <strong>commandName=&quot;user&quot;</strong> so Spring automatically do it. Is it correct?</p>\n</li>\n<li><p>From what I have understand the <strong>@Valid</strong> annotation automatically call the validation process. How it happen? is something related to the <strong>AOP</strong> feature provided by Spring? or what? Why this <strong>@Valid</strong> annotation is related only to the <strong>javax.validation</strong> library and not also to the Hibernate validator (so this <strong>@Valid</strong> annotation validate also the field annotated with Hibernate validator annotation? why?)</p>\n</li>\n<li><p>From what I have understand if the user insert wrong values into the login form I can obtain this error by the <strong>BindingResult br</strong> input parameter. Using the debugger I can see that this object contain the error message defined by the annotation defined into the <strong>User</strong> model object. How exactly does this work?</p>\n</li>\n</ol>\n"},{"tags":["java","android","json","firebase","kotlin"],"comments":[{"owner":{"account_id":1340381,"reputation":7826,"user_id":1282166,"accept_rate":66,"display_name":"Shudy"},"score":0,"creation_date":1479127374,"post_id":40587521,"comment_id":68413283,"body_markdown":"Maybe I&#39;m mixing some concepts? :/","body":"Maybe I&#39;m mixing some concepts? :/"},{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":1,"creation_date":1479146107,"post_id":40587521,"comment_id":68425375,"body_markdown":"Inspect the `google-services.json` files to confirm they have contain the correct package names, as described in [the documentation](https://developers.google.com/android/guides/google-services-plugin#processing_the_json_file).","body":"Inspect the <code>google-services.json</code> files to confirm they have contain the correct package names, as described in <a href=\"https://developers.google.com/android/guides/google-services-plugin#processing_the_json_file\" rel=\"nofollow noreferrer\">the documentation</a>."}],"answers":[{"comments":[{"owner":{"account_id":3989972,"reputation":416,"user_id":3289257,"display_name":"shaheer_"},"score":0,"creation_date":1604301145,"post_id":45854607,"comment_id":114295174,"body_markdown":"I had multiple build variants in my project &amp; all had their respective google-services.json files, but somehow this issue was still showing up. So I tried connecting it using firebase tools in the android studio and that problem got resolved. Thanks!","body":"I had multiple build variants in my project &amp; all had their respective google-services.json files, but somehow this issue was still showing up. So I tried connecting it using firebase tools in the android studio and that problem got resolved. Thanks!"},{"owner":{"account_id":14362248,"reputation":184,"user_id":10374260,"display_name":"Michele Rava"},"score":1,"creation_date":1608157741,"post_id":45854607,"comment_id":115500745,"body_markdown":"simple yet exactly what I needed! Thank you.","body":"simple yet exactly what I needed! Thank you."}],"tags":[],"owner":{"account_id":7418776,"reputation":473,"user_id":5643951,"display_name":"Taulant Loshi"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1507017385,"creation_date":1503556896,"answer_id":45854607,"question_id":40587521,"body_markdown":"I had the same problem, so using Android Studio **2.3.3** I used the menu \r\n**Tools**&gt; **Firebase** - on the right side of the window click **Notifications** and then **Recieve notifications on your app**,finally click **Connect to Firebase**, after this you will see a dialog saying **This app is already connected to a project** but just click **Sync**, then firebase will sync automatically all your app clients and it will fix this issue,by the way I know it&#39;s too late to respond but it might help someone.","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>I had the same problem, so using Android Studio <strong>2.3.3</strong> I used the menu \n<strong>Tools</strong>> <strong>Firebase</strong> - on the right side of the window click <strong>Notifications</strong> and then <strong>Recieve notifications on your app</strong>,finally click <strong>Connect to Firebase</strong>, after this you will see a dialog saying <strong>This app is already connected to a project</strong> but just click <strong>Sync</strong>, then firebase will sync automatically all your app clients and it will fix this issue,by the way I know it's too late to respond but it might help someone.</p>\n"},{"tags":[],"owner":{"account_id":6302144,"reputation":384,"user_id":4896439,"display_name":"Carlos Jesus Arancibia Taborga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555792827,"creation_date":1555792827,"answer_id":55777555,"question_id":40587521,"body_markdown":"Check your Gradle app level applicationId, it should be same as firebase package name, then it works like a charm","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>Check your Gradle app level applicationId, it should be same as firebase package name, then it works like a charm</p>\n"},{"comments":[{"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"score":0,"creation_date":1610528605,"post_id":59603700,"comment_id":116159417,"body_markdown":"Does this affect to analysis data?","body":"Does this affect to analysis data?"}],"tags":[],"owner":{"account_id":17460052,"reputation":411,"user_id":12657952,"display_name":"Habibi"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1578265967,"creation_date":1578254360,"answer_id":59603700,"question_id":40587521,"body_markdown":" 1. Just go to the google-services.json \r\n 2. change the package-name to the name of your package \r\n\r\n```json\r\n{\r\n  &quot;client_info&quot;: {\r\n    &quot;mobilesdk_app_id&quot;: &quot;1:113908578702:android:a0a98decfd9f22466f4cdf&quot;,\r\n    &quot;android_client_info&quot;: {\r\n      &quot;package_name&quot;: &quot;com.example.Appname&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n 3. sync your project, it&#39;ll be solved","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<ol>\n<li>Just go to the google-services.json </li>\n<li>change the package-name to the name of your package </li>\n</ol>\n\n<pre><code>{\n  \"client_info\": {\n    \"mobilesdk_app_id\": \"1:113908578702:android:a0a98decfd9f22466f4cdf\",\n    \"android_client_info\": {\n      \"package_name\": \"com.example.Appname\"\n    }\n  }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>sync your project, it'll be solved</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5626087,"reputation":171,"user_id":4454477,"display_name":"Dildarkhan Pathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585839111,"creation_date":1585839111,"answer_id":60994450,"question_id":40587521,"body_markdown":"Update your applicationId inside defaultConfig of app level gradle file. With your package name.","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>Update your applicationId inside defaultConfig of app level gradle file. With your package name.</p>\n"},{"tags":[],"owner":{"account_id":9771447,"reputation":2307,"user_id":7243174,"display_name":"Abdul Basit Rishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588370413,"creation_date":1588370413,"answer_id":61551445,"question_id":40587521,"body_markdown":"&gt; Try to download the latest **google-services.json** file\r\n\r\n\r\n","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<blockquote>\n  <p>Try to download the latest <strong>google-services.json</strong> file</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13996046,"reputation":189,"user_id":10108803,"display_name":"Dhruvisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1651603082,"creation_date":1593276873,"answer_id":62612930,"question_id":40587521,"body_markdown":"If you have added **google-service.json** file \r\ncheck build.gradle(: app) **package_name** and in google-service.json file **package_name** is the same  \r\nAlso if you have added **productFlavors** make sure you have added that package in firebase for creating JSON file","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>If you have added <strong>google-service.json</strong> file\ncheck build.gradle(: app) <strong>package_name</strong> and in google-service.json file <strong>package_name</strong> is the same<br />\nAlso if you have added <strong>productFlavors</strong> make sure you have added that package in firebase for creating JSON file</p>\n"},{"tags":[],"owner":{"account_id":18402298,"reputation":21,"user_id":13417568,"display_name":"Muji Tech"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598412131,"creation_date":1598289633,"answer_id":63565794,"question_id":40587521,"body_markdown":"*Go to build.gradle and change the package name with same as AndroidManifest.xml and sync again   *\r\n[1][In this image show package name  in AndroidManifest same as  build.gradle] \r\n  [1]: https://i.stack.imgur.com/T4cqz.png\r\n[Below image show package name in build.gradle same as AndroidManifest]\r\n  [2]: https://i.stack.imgur.com/ModHS.png\r\n[package name in build.gradle][2]\r\n\r\nAlso check firebase and  download recent .json file.\r\n\r\n","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>*Go to build.gradle and change the package name with same as AndroidManifest.xml and sync again   *\n[1][In this image show package name  in AndroidManifest same as  build.gradle]\n[1]: https://i.stack.imgur.com/T4cqz.png\n[Below image show package name in build.gradle same as AndroidManifest]\n[2]: https://i.stack.imgur.com/ModHS.png\n[package name in build.gradle][2]</p>\n<p>Also check firebase and  download recent .json file.</p>\n"},{"comments":[{"owner":{"account_id":1129600,"reputation":1292,"user_id":1115989,"accept_rate":67,"display_name":"user2234"},"score":0,"creation_date":1602666748,"post_id":64183702,"comment_id":113790209,"body_markdown":"could you please elaborate a bit? I am having some issues with it. Did you mean that when you have a product flavour we should not add it in the app folder?","body":"could you please elaborate a bit? I am having some issues with it. Did you mean that when you have a product flavour we should not add it in the app folder?"},{"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"score":0,"creation_date":1602823899,"post_id":64183702,"comment_id":113847055,"body_markdown":"No. We should add it in app/src/your_flv directory","body":"No. We should add it in app/src/your_flv directory"},{"owner":{"account_id":897319,"reputation":669,"user_id":934297,"display_name":"Harun"},"score":11,"creation_date":1603334899,"post_id":64183702,"comment_id":114006561,"body_markdown":"This is true when I use com.google.gms:google-services:4.3.4. However, it didn&#39;t happen to com.google.gms:google-services:4.3.3. It looks at flavors dir first.","body":"This is true when I use com.google.gms:google-services:4.3.4. However, it didn&#39;t happen to com.google.gms:google-services:4.3.3. It looks at flavors dir first."},{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":2,"creation_date":1603896966,"post_id":64183702,"comment_id":114182154,"body_markdown":"It looks like a bug, there&#39;s nothing in the release-note. I&#39;ve added details to a bug-tracker here (though its in the wrong component): https://issuetracker.google.com/issues/170657977","body":"It looks like a bug, there&#39;s nothing in the release-note. I&#39;ve added details to a bug-tracker here (though its in the wrong component): <a href=\"https://issuetracker.google.com/issues/170657977\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/170657977</a>"},{"owner":{"account_id":6740690,"reputation":326,"user_id":5194031,"display_name":"datiKaa"},"score":1,"creation_date":1605863756,"post_id":64183702,"comment_id":114788458,"body_markdown":"Exactly same issue, deleting from app directory worked like a charm. Thanks!","body":"Exactly same issue, deleting from app directory worked like a charm. Thanks!"},{"owner":{"account_id":2077994,"reputation":799,"user_id":1850782,"display_name":"Thomas Wood"},"score":0,"creation_date":1615935902,"post_id":64183702,"comment_id":117846007,"body_markdown":"This is fixed with [google-services:4.3.5](https://firebase.google.com/support/release-notes/android#google-services_plugin_v4-3-5)","body":"This is fixed with <a href=\"https://firebase.google.com/support/release-notes/android#google-services_plugin_v4-3-5\" rel=\"nofollow noreferrer\">google-services:4.3.5</a>"}],"tags":[],"owner":{"account_id":6097613,"reputation":1,"user_id":9640177,"display_name":"Mayank Kumar Chaudhari"},"comment_count":6,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1627532523,"creation_date":1601724487,"answer_id":64183702,"question_id":40587521,"body_markdown":"I was facing the same error. I am using multiple flavors. Therefore, I put the `google-services.json` in `app/src/{flv}` directory.\r\n\r\nIt worked well for one flavor but did not work for others. The issue was that I have also placed `google-services.json` corresponding to flavor for which it was working in app directory also. \r\n\r\n**Google will search for sub-directories / flavor directories only if it did not find the `google-services.json` in the app directory.**\r\n\r\nSo, make sure you don&#39;t put `google-services.json` in app directory in case you have separate `google-services.json` for multiple flavors.\r\n\r\nPlease see [this article][1] for mode details on Android product flavors.\r\n\r\n\r\n  [1]: https://medium.com/@droid.dev/how-to-build-multiple-apps-with-a-single-android-project-2021-android-productivity-hack-4e0b94e622b4","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>I was facing the same error. I am using multiple flavors. Therefore, I put the <code>google-services.json</code> in <code>app/src/{flv}</code> directory.</p>\n<p>It worked well for one flavor but did not work for others. The issue was that I have also placed <code>google-services.json</code> corresponding to flavor for which it was working in app directory also.</p>\n<p><strong>Google will search for sub-directories / flavor directories only if it did not find the <code>google-services.json</code> in the app directory.</strong></p>\n<p>So, make sure you don't put <code>google-services.json</code> in app directory in case you have separate <code>google-services.json</code> for multiple flavors.</p>\n<p>Please see <a href=\"https://medium.com/@droid.dev/how-to-build-multiple-apps-with-a-single-android-project-2021-android-productivity-hack-4e0b94e622b4\" rel=\"nofollow noreferrer\">this article</a> for mode details on Android product flavors.</p>\n"},{"tags":[],"owner":{"account_id":17574915,"reputation":41,"user_id":12749881,"display_name":"Payam Karamvandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646821902,"creation_date":1646816021,"answer_id":71406627,"question_id":40587521,"body_markdown":"it&#39;s a bit late, but maybe it could help someone like me with the same situation. I defined another app in the Firebase console at project settings with a different package name equal to my other flavor build. and then I downloaded the new google-services.json file and used it.it worked like a charm for me","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>it's a bit late, but maybe it could help someone like me with the same situation. I defined another app in the Firebase console at project settings with a different package name equal to my other flavor build. and then I downloaded the new google-services.json file and used it.it worked like a charm for me</p>\n"}],"owner":{"account_id":1340381,"reputation":7826,"user_id":1282166,"accept_rate":66,"display_name":"Shudy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53646,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":9,"score":27,"last_activity_date":1675378902,"creation_date":1479122349,"question_id":40587521,"body_markdown":"I want to implement push notification.\r\nI added to project level:\r\n\r\n    dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.2.2&#39;\r\n            classpath &#39;com.google.gms:google-services:3.0.0&#39;\r\n    }\r\n\r\nand to app level:(at the bottom of the file)\r\n\r\n       ....\r\n       compile &#39;com.squareup.okhttp3:okhttp:3.3.0&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nThen I added google-services.json file to project in app level\r\n\r\nBut, when I syncro gradle, it launch the error:\r\n\r\n    No matching client found for package name &quot;....&quot; \r\n\r\nIn gradle I have 2 different build variants , and look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nManifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n              package=&quot;es.xxx.awsomeapp&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.realm.XXXXXX&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher_chv&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity\r\n     \r\n\r\nAnd finally the gradle:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;realm-android&#39;\r\n    \r\n    repositories {\r\n        maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        maven { url &quot;https://s3.amazonaws.com/repo.commonsware.com&quot; }\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        maven { url &#39;http://dl.bintray.com/amulyakhare/maven&#39; }\r\n        mavenCentral()\r\n    }\r\n    android {\r\n        compileSdkVersion 24\r\n        buildToolsVersion &quot;24.0.2&quot;\r\n        defaultConfig {\r\n            minSdkVersion 16\r\n            targetSdkVersion 24\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        productFlavors {\r\n            vanilla {\r\n                applicationId &quot;es.xxx.awsomeApp&quot;\r\n                resValue &#39;string&#39;, &#39;app_name&#39;, &quot;Awsome&quot;\r\n            }\r\n            chv {\r\n                applicationId &quot;es.xxx.awsomeApp.chv&quot;\r\n                resValue &#39;string&#39;, &#39;app_name&#39;, &quot;Awsome CHV&quot;\r\n                signingConfig signingConfigs.chv_release\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        testOptions {\r\n            unitTests.returnDefaultValues = true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        //Auxiliar libraries\r\n        compile &#39;org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2&#39;\r\n        //Auxiliar libraries\r\n        compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        compile &#39;org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2&#39;\r\n        compile &#39;org.igniterealtime.smack:smack-tcp:4.2.0-beta2&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.0-beta2&#39;\r\n        compile &#39;com.android.support:design:24.2.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:24.2.1&#39;\r\n        compile &#39;com.orhanobut:logger:1.15&#39;\r\n        compile &#39;com.amulyakhare:com.amulyakhare.textdrawable:1.0.1&#39;\r\n        compile &#39;com.github.Slyce-Inc:SlyceMessaging:1.1.2&#39;\r\n        compile &#39;io.realm:android-adapters:1.4.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.6.2&#39;\r\n        compile &#39;com.android.support:cardview-v7:24.2.1&#39;\r\n        compile &#39;com.rengwuxian.materialedittext:library:1.8.3&#39;\r\n        compile &#39;com.android.volley:volley:1.0.0&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.3.0&#39;\r\n        compile &#39;com.google.firebase:firebase-messaging:9.8.0&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        testCompile &#39;org.robolectric:robolectric:3.0&#39;\r\n        testCompile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        testCompile &#39;org.igniterealtime.smack:smack-tcp:4.2.0-beta2&#39;\r\n        testCompile &#39;com.android.support.constraint:constraint-layout:1.0.0-beta2&#39;\r\n        testCompile &#39;com.android.support:design:24.2.1&#39;\r\n        testCompile &#39;com.orhanobut:logger:1.15&#39;\r\n        testCompile &#39;com.amulyakhare:com.amulyakhare.textdrawable:1.0.1&#39;\r\n        testCompile &#39;com.github.Slyce-Inc:SlyceMessaging:1.1.2&#39;\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n\r\nAnd the firebase console.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHow can I solve it?\r\n\r\nNote, that json files are each one of their project. \r\n\r\n  [1]: https://i.stack.imgur.com/fGVzC.png\r\n  [2]: https://i.stack.imgur.com/jw45V.png","title":"No matching client found for package name &quot;....&quot; with different buildvariant","body":"<p>I want to implement push notification.\nI added to project level:</p>\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.2'\n        classpath 'com.google.gms:google-services:3.0.0'\n}\n</code></pre>\n<p>and to app level:(at the bottom of the file)</p>\n<pre><code>   ....\n   compile 'com.squareup.okhttp3:okhttp:3.3.0'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>Then I added google-services.json file to project in app level</p>\n<p>But, when I syncro gradle, it launch the error:</p>\n<pre><code>No matching client found for package name &quot;....&quot; \n</code></pre>\n<p>In gradle I have 2 different build variants , and look like:</p>\n<p><a href=\"https://i.stack.imgur.com/fGVzC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGVzC.png\" alt=\"enter image description here\" /></a></p>\n<p>Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n          package=&quot;es.xxx.awsomeapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n    &lt;application\n        android:name=&quot;.realm.XXXXXX&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher_chv&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity\n \n</code></pre>\n<p>And finally the gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'realm-android'\n\nrepositories {\n    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n    maven { url &quot;https://s3.amazonaws.com/repo.commonsware.com&quot; }\n    maven { url &quot;https://jitpack.io&quot; }\n    maven { url 'http://dl.bintray.com/amulyakhare/maven' }\n    mavenCentral()\n}\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion &quot;24.0.2&quot;\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 24\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    productFlavors {\n        vanilla {\n            applicationId &quot;es.xxx.awsomeApp&quot;\n            resValue 'string', 'app_name', &quot;Awsome&quot;\n        }\n        chv {\n            applicationId &quot;es.xxx.awsomeApp.chv&quot;\n            resValue 'string', 'app_name', &quot;Awsome CHV&quot;\n            signingConfig signingConfigs.chv_release\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    testOptions {\n        unitTests.returnDefaultValues = true\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    //Auxiliar libraries\n    compile 'org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2'\n    //Auxiliar libraries\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    compile 'org.igniterealtime.smack:smack-android-extensions:4.2.0-beta2'\n    compile 'org.igniterealtime.smack:smack-tcp:4.2.0-beta2'\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-beta2'\n    compile 'com.android.support:design:24.2.1'\n    compile 'com.android.support:recyclerview-v7:24.2.1'\n    compile 'com.orhanobut:logger:1.15'\n    compile 'com.amulyakhare:com.amulyakhare.textdrawable:1.0.1'\n    compile 'com.github.Slyce-Inc:SlyceMessaging:1.1.2'\n    compile 'io.realm:android-adapters:1.4.0'\n    compile 'com.google.code.gson:gson:2.6.2'\n    compile 'com.android.support:cardview-v7:24.2.1'\n    compile 'com.rengwuxian.materialedittext:library:1.8.3'\n    compile 'com.android.volley:volley:1.0.0'\n    compile 'com.squareup.okhttp3:okhttp:3.3.0'\n    compile 'com.google.firebase:firebase-messaging:9.8.0'\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.robolectric:robolectric:3.0'\n    testCompile 'com.android.support:appcompat-v7:24.2.1'\n    testCompile 'org.igniterealtime.smack:smack-tcp:4.2.0-beta2'\n    testCompile 'com.android.support.constraint:constraint-layout:1.0.0-beta2'\n    testCompile 'com.android.support:design:24.2.1'\n    testCompile 'com.orhanobut:logger:1.15'\n    testCompile 'com.amulyakhare:com.amulyakhare.textdrawable:1.0.1'\n    testCompile 'com.github.Slyce-Inc:SlyceMessaging:1.1.2'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>And the firebase console.</p>\n<p><a href=\"https://i.stack.imgur.com/jw45V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jw45V.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I solve it?</p>\n<p>Note, that json files are each one of their project.</p>\n"},{"tags":["java","android","kotlin","bitmap"],"comments":[{"owner":{"account_id":2527008,"reputation":3174,"user_id":2196176,"display_name":"Sunny"},"score":0,"creation_date":1556885609,"post_id":55969484,"comment_id":98589763,"body_markdown":"Can you Verify that onActivityResult is working fine? If imgThumb has the image the you can use that bitmap directly for the byte array.","body":"Can you Verify that onActivityResult is working fine? If imgThumb has the image the you can use that bitmap directly for the byte array."},{"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"score":0,"creation_date":1556926736,"post_id":55969484,"comment_id":98606769,"body_markdown":"@Sunny yes it loads to thumb only does not display but load. How can I fix this?","body":"@Sunny yes it loads to thumb only does not display but load. How can I fix this?"},{"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"score":0,"creation_date":1556932375,"post_id":55969484,"comment_id":98607518,"body_markdown":"@Sunny I added the method that I use to take the images from the gallery if I can check it I would be grateful.","body":"@Sunny I added the method that I use to take the images from the gallery if I can check it I would be grateful."},{"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"score":0,"creation_date":1557082398,"post_id":55969484,"comment_id":98637905,"body_markdown":"Also try to use as much as relevant labels you can. So don&#39;t miss the android label to get more attentions from android guys","body":"Also try to use as much as relevant labels you can. So don&#39;t miss the android label to get more attentions from android guys"}],"answers":[{"comments":[{"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"score":0,"creation_date":1557173081,"post_id":55995279,"comment_id":98668485,"body_markdown":"hi, apparently it is trying to load the image but I get this msg, xml / path is correct what could be wrong?\n\nW/System.err: java.io.FileNotFoundException: /map.map.fileprovider/intent_images/JPEG_20190506_195537_4956550318512812108.jpg (No such file or directory)","body":"hi, apparently it is trying to load the image but I get this msg, xml / path is correct what could be wrong?  W/System.err: java.io.FileNotFoundException: /map.map.fileprovider/intent_images/JPEG_20190506_195537_495&zwnj;&#8203;6550318512812108.jpg (No such file or directory)"},{"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"score":0,"creation_date":1557253799,"post_id":55995279,"comment_id":98700612,"body_markdown":"I created a new post with more details about the problem, sorry bother you https://stackoverflow.com/questions/56028367/i-am-getting-this-msg-speech-that-did-not-find-no-such-file-or-directory","body":"I created a new post with more details about the problem, sorry bother you <a href=\"https://stackoverflow.com/questions/56028367/i-am-getting-this-msg-speech-that-did-not-find-no-such-file-or-directory\" title=\"i am getting this msg speech that did not find no such file or directory\">stackoverflow.com/questions/56028367/&hellip;</a>"},{"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"score":0,"creation_date":1557263801,"post_id":55995279,"comment_id":98704722,"body_markdown":"Hi Dave, no problem at all! Sorry I tried multiple times to respond but was too busy. Now  that you&#39;ve created a new post I&#39;d take a look","body":"Hi Dave, no problem at all! Sorry I tried multiple times to respond but was too busy. Now  that you&#39;ve created a new post I&#39;d take a look"}],"tags":[],"owner":{"account_id":3013496,"reputation":1803,"user_id":2556354,"accept_rate":62,"display_name":"madz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557082765,"creation_date":1557082166,"answer_id":55995279,"question_id":55969484,"body_markdown":"I bet that `MediaStore.Images.Media.getBitmap` does not get the bitmap properly and returns null.\r\n\r\nSo if you remove the `?` in `MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?` you will get a runtime exception as your previous question asserts.\r\n\r\nSo change the cast to:\r\n\r\n    MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap\r\n\r\nTo make sure you never get a null bitmap then com back to investigate `getBitmap` method\r\n\r\nI have no idea what does the `createImageFile` method do, but I suggest you to simply do the following to test if it is working:\r\n\r\n    MediaStore.Images.Media.getBitmap(this.getContentResolver(), Uri.parse(&quot;file://&quot;+uri));\r\n\r\nFinally I advice against of using of `MediaStore.Images.Media.getBitmap` at all. \r\n\r\nSee [Its deprecated][1]. switch to image loading libraries or use [ ImageDecoder#createSource(ContentResolver, Uri)][2] \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/MediaStore.Images.Media.html#getBitmap(android.content.ContentResolver,%20android.net.Uri)\r\n  [2]: https://developer.android.com/reference/android/graphics/ImageDecoder.html#createSource(android.content.ContentResolver,%20android.net.Uri)\r\n\r\nThere are guides in the mentioned link. Like this one:\r\n\r\n    public static Bitmap decodeBitmap (ImageDecoder.Source src)\r\n\r\nAlso make sure to do these kin of stuff in a worker thread.","title":"method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)","body":"<p>I bet that <code>MediaStore.Images.Media.getBitmap</code> does not get the bitmap properly and returns null.</p>\n\n<p>So if you remove the <code>?</code> in <code>MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?</code> you will get a runtime exception as your previous question asserts.</p>\n\n<p>So change the cast to:</p>\n\n<pre><code>MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap\n</code></pre>\n\n<p>To make sure you never get a null bitmap then com back to investigate <code>getBitmap</code> method</p>\n\n<p>I have no idea what does the <code>createImageFile</code> method do, but I suggest you to simply do the following to test if it is working:</p>\n\n<pre><code>MediaStore.Images.Media.getBitmap(this.getContentResolver(), Uri.parse(\"file://\"+uri));\n</code></pre>\n\n<p>Finally I advice against of using of <code>MediaStore.Images.Media.getBitmap</code> at all. </p>\n\n<p>See <a href=\"https://developer.android.com/reference/android/provider/MediaStore.Images.Media.html#getBitmap(android.content.ContentResolver,%20android.net.Uri)\" rel=\"nofollow noreferrer\">Its deprecated</a>. switch to image loading libraries or use <a href=\"https://developer.android.com/reference/android/graphics/ImageDecoder.html#createSource(android.content.ContentResolver,%20android.net.Uri)\" rel=\"nofollow noreferrer\"> ImageDecoder#createSource(ContentResolver, Uri)</a> </p>\n\n<p>There are guides in the mentioned link. Like this one:</p>\n\n<pre><code>public static Bitmap decodeBitmap (ImageDecoder.Source src)\n</code></pre>\n\n<p>Also make sure to do these kin of stuff in a worker thread.</p>\n"}],"owner":{"account_id":9085371,"reputation":67,"user_id":6763592,"display_name":"Davi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55995279,"answer_count":1,"score":0,"last_activity_date":1675378767,"creation_date":1556885264,"question_id":55969484,"body_markdown":"I am having this error in my code, someone informs me how to solve it? Thank you to everyone who can help.\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)&#39; on a null object reference\r\n            at map.app.fragments.ReportFragment.putImgToBytearray(ReportFragment.kt:177)\r\n\r\n\r\nline error\r\n\r\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\r\n\r\ncode\r\n\r\n    private fun putImgToBytearray(): ByteArray {\r\n        val stream = ByteArrayOutputStream()\r\n        val drawable = this.imgThumb!!.drawable as BitmapDrawable\r\n        val bitmap = drawable.bitmap\r\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\r\n        return stream.toByteArray()\r\n    }\r\n\r\n\r\nonActivityResult code\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (requestCode == IMAGE_PICK_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n    \r\n    \r\n            try {\r\n    \r\n                //Getting the Bitmap from Gallery\r\n                val bitmap = MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?\r\n                this.imgThumb!!.setImageBitmap(bitmap)\r\n                this.pictureTaken = true\r\n            } catch (e:IOException) {\r\n                e.printStackTrace()\r\n            }\r\n        } else {\r\n            Toast.makeText(context, &quot;Error loading image&quot;, Toast.LENGTH_LONG)\r\n        }\r\n    }\r\n\r\n\r\n\r\nmethod for select image from gallery. it&#39;s just an adaptation\r\n\r\n\r\n\r\n\r\n\r\n    fun openCamera() {\r\n        try {\r\n            val imageFile = createImageFile()\r\n            val callCameraIntent =  Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            if(callCameraIntent.resolveActivity(activity.packageManager) != null) {\r\n                val authorities = activity.packageName + &quot;.fileprovider&quot;\r\n                this.imageUri = FileProvider.getUriForFile(context, authorities, imageFile)\r\n                callCameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\r\n                startActivityForResult(callCameraIntent, IMAGE_PICK_CODE)\r\n            }\r\n        } catch (e: IOException) {\r\n            Toast.makeText(context, &quot;Could not create file!&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }","title":"method &#39;boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)","body":"<p>I am having this error in my code, someone informs me how to solve it? Thank you to everyone who can help.</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.graphics.Bitmap.compress(android.graphics.Bitmap$CompressFormat, int, java.io.OutputStream)' on a null object reference\n        at map.app.fragments.ReportFragment.putImgToBytearray(ReportFragment.kt:177)\n</code></pre>\n\n<p>line error</p>\n\n<pre><code>bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\n</code></pre>\n\n<p>code</p>\n\n<pre><code>private fun putImgToBytearray(): ByteArray {\n    val stream = ByteArrayOutputStream()\n    val drawable = this.imgThumb!!.drawable as BitmapDrawable\n    val bitmap = drawable.bitmap\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 70, stream)\n    return stream.toByteArray()\n}\n</code></pre>\n\n<p>onActivityResult code</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == IMAGE_PICK_CODE &amp;&amp; resultCode == RESULT_OK) {\n\n\n        try {\n\n            //Getting the Bitmap from Gallery\n            val bitmap = MediaStore.Images.Media.getBitmap(context.contentResolver, this.imageUri) as Bitmap?\n            this.imgThumb!!.setImageBitmap(bitmap)\n            this.pictureTaken = true\n        } catch (e:IOException) {\n            e.printStackTrace()\n        }\n    } else {\n        Toast.makeText(context, \"Error loading image\", Toast.LENGTH_LONG)\n    }\n}\n</code></pre>\n\n<p>method for select image from gallery. it's just an adaptation</p>\n\n<pre><code>fun openCamera() {\n    try {\n        val imageFile = createImageFile()\n        val callCameraIntent =  Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        if(callCameraIntent.resolveActivity(activity.packageManager) != null) {\n            val authorities = activity.packageName + \".fileprovider\"\n            this.imageUri = FileProvider.getUriForFile(context, authorities, imageFile)\n            callCameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri)\n            startActivityForResult(callCameraIntent, IMAGE_PICK_CODE)\n        }\n    } catch (e: IOException) {\n        Toast.makeText(context, \"Could not create file!\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","animation"],"owner":{"account_id":27689735,"reputation":1,"user_id":21136684,"display_name":"Shon Haskaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675378807,"answer_count":0,"score":0,"last_activity_date":1675378596,"creation_date":1675378596,"question_id":75329765,"body_markdown":"The problems are happening in the getPlayerImage method in the first line of the try-catch. So the panel pops up and runs, if the user presses w,a,s,d the filled square goes left,right,down,up accordingly, then I set up the logic for switching between png files etc so that I could swap out the white square for an actual character image. but once it gets to the getPlayerImage() method it&#39;s not able to find the images in my device I guess?? I think the problem has to do with how I&#39;ve set up my src folder and java files, I want to so I have a source folder called src and one called res, but I&#39;m not sure if I implemented res correctly, The png files are stored in a package on the res source folder, and the get player image method is within the src source folder, so maybe it has something to do with that. I&#39;ve linked the image of how I&#39;ve set it up ... \r\n\r\n[enter image description here](https://i.stack.imgur.com/JO6mX.jpg)\r\n\r\n^^^^^^^^^^^^^^^^^^^^^^\r\n\r\n    package entity;\r\n    \r\n    import main.GamePanel;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics2D;\r\n    import java.io.IOException;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import main.KeyHandler;\r\n    \r\n    public class Player extends Entity{\r\n    \r\n        GamePanel gp;\r\n        KeyHandler keyH;\r\n    \r\n        public Player(GamePanel gp, KeyHandler keyH){\r\n            this.gp = gp;\r\n            this.keyH = keyH;\r\n         \r\n            setDefaultValues();\r\n            getPlayerImage(); \r\n        }\r\n        public void setDefaultValues(){\r\n    \r\n            x = 100;\r\n            y= 100;\r\n            speed = 4;\r\n            direction = &quot;down&quot;; \r\n        }\r\n        public void getPlayerImage(){\r\n            try {\r\n                up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\r\n                up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\r\n                down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\r\n                down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\r\n                left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\r\n                left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\r\n                right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\r\n                right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right _2.png&quot;)); \r\n            \r\n            } catch (IOException e) {\r\n               e.printStackTrace();\r\n            } \r\n        }\r\n        public void update(){\r\n    \r\n            if(keyH.upPressed){\r\n                direction = &quot;up&quot;;\r\n                y -= speed;\r\n            }\r\n            else if(keyH.downPressed){\r\n                direction = &quot;down&quot;;\r\n                y += speed;\r\n            }\r\n            else if(keyH.leftPressed){\r\n                direction = &quot;left&quot;;\r\n                x -= speed;\r\n            }\r\n            else if(keyH.rightPressed){\r\n                direction = &quot;right&quot;;\r\n                x += speed;\r\n            }\r\n         }\r\n        public void draw(Graphics2D g2){ \r\n            // g2.setColor(Color.white);\r\n            // g2.fillRect(x, y, gp.tileSize, gp.tileSize);\r\n    \r\n            BufferedImage image = null;\r\n    \r\n            switch(direction){\r\n                case&quot;up&quot;:\r\n                    image = up1;\r\n                    break;\r\n                case&quot;down&quot;:\r\n                    image = down1;\r\n                    break;    \r\n                case&quot;left&quot;:\r\n                    image = left1;\r\n                    break;\r\n                case&quot;right&quot;:\r\n                    image = right1;\r\n                    break;        }\r\n            g2.drawImage(image, x, y, gp.tileSize, gp.tileSize, null);\r\n             \r\n        }\r\n    }\r\n\r\nI&#39;ve tryed importing every javax swing and awt utility, but it didn&#39;t work, and Ive tryed different ways of formating my src folders but I&#39;m still clueless.","title":"Can&#39;t read images for a 2D animation in VSCode - (JAVA)","body":"<p>The problems are happening in the getPlayerImage method in the first line of the try-catch. So the panel pops up and runs, if the user presses w,a,s,d the filled square goes left,right,down,up accordingly, then I set up the logic for switching between png files etc so that I could swap out the white square for an actual character image. but once it gets to the getPlayerImage() method it's not able to find the images in my device I guess?? I think the problem has to do with how I've set up my src folder and java files, I want to so I have a source folder called src and one called res, but I'm not sure if I implemented res correctly, The png files are stored in a package on the res source folder, and the get player image method is within the src source folder, so maybe it has something to do with that. I've linked the image of how I've set it up ...</p>\n<p><a href=\"https://i.stack.imgur.com/JO6mX.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>^^^^^^^^^^^^^^^^^^^^^^</p>\n<pre><code>package entity;\n\nimport main.GamePanel;\nimport java.awt.*;\nimport javax.swing.*;\n\nimport java.awt.image.BufferedImage;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport main.KeyHandler;\n\npublic class Player extends Entity{\n\n    GamePanel gp;\n    KeyHandler keyH;\n\n    public Player(GamePanel gp, KeyHandler keyH){\n        this.gp = gp;\n        this.keyH = keyH;\n     \n        setDefaultValues();\n        getPlayerImage(); \n    }\n    public void setDefaultValues(){\n\n        x = 100;\n        y= 100;\n        speed = 4;\n        direction = &quot;down&quot;; \n    }\n    public void getPlayerImage(){\n        try {\n            up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\n            up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\n            down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\n            down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\n            left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\n            left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\n            right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\n            right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right _2.png&quot;)); \n        \n        } catch (IOException e) {\n           e.printStackTrace();\n        } \n    }\n    public void update(){\n\n        if(keyH.upPressed){\n            direction = &quot;up&quot;;\n            y -= speed;\n        }\n        else if(keyH.downPressed){\n            direction = &quot;down&quot;;\n            y += speed;\n        }\n        else if(keyH.leftPressed){\n            direction = &quot;left&quot;;\n            x -= speed;\n        }\n        else if(keyH.rightPressed){\n            direction = &quot;right&quot;;\n            x += speed;\n        }\n     }\n    public void draw(Graphics2D g2){ \n        // g2.setColor(Color.white);\n        // g2.fillRect(x, y, gp.tileSize, gp.tileSize);\n\n        BufferedImage image = null;\n\n        switch(direction){\n            case&quot;up&quot;:\n                image = up1;\n                break;\n            case&quot;down&quot;:\n                image = down1;\n                break;    \n            case&quot;left&quot;:\n                image = left1;\n                break;\n            case&quot;right&quot;:\n                image = right1;\n                break;        }\n        g2.drawImage(image, x, y, gp.tileSize, gp.tileSize, null);\n         \n    }\n}\n</code></pre>\n<p>I've tryed importing every javax swing and awt utility, but it didn't work, and Ive tryed different ways of formating my src folders but I'm still clueless.</p>\n"},{"tags":["java","eclipse","compiler-warnings","suppress-warnings","bonecp"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1373726916,"post_id":17631199,"comment_id":25670452,"body_markdown":"Do you have the Javadoc for BoneCp ?","body":"Do you have the Javadoc for BoneCp ?"},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":0,"creation_date":1373727544,"post_id":17631199,"comment_id":25670582,"body_markdown":"I&#39;ve did the same thing but I cannot reproduce it.","body":"I&#39;ve did the same thing but I cannot reproduce it."}],"answers":[{"comments":[{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":1,"creation_date":1373727044,"post_id":17631212,"comment_id":25670479,"body_markdown":"[BoneCP](http://jolbox.com/bonecp/downloads/site/apidocs/com/jolbox/bonecp/BoneCP.html) didn&#39;t implements those interfaces.","body":"<a href=\"http://jolbox.com/bonecp/downloads/site/apidocs/com/jolbox/bonecp/BoneCP.html\" rel=\"nofollow noreferrer\">BoneCP</a> didn&#39;t implements those interfaces."},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1373727047,"post_id":17631212,"comment_id":25670480,"body_markdown":"But [BoneCP](http://jolbox.com/bonecp/downloads/site/apidocs/index.html) doesn&#39;t implement either of them ?","body":"But <a href=\"http://jolbox.com/bonecp/downloads/site/apidocs/index.html\" rel=\"nofollow noreferrer\">BoneCP</a> doesn&#39;t implement either of them ?"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1373727282,"post_id":17631212,"comment_id":25670525,"body_markdown":"what about `Connection`  interface  ???It has a method close()..how about that  ???","body":"what about <code>Connection</code>  interface  ???It has a method close()..how about that  ???"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":1,"creation_date":1373727318,"post_id":17631212,"comment_id":25670533,"body_markdown":"...but the warning is on the `BoneCP` instance (the connection pool), not the `java.sql.Connection` instance!","body":"...but the warning is on the <code>BoneCP</code> instance (the connection pool), not the <code>java.sql.Connection</code> instance!"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1373727892,"post_id":17631212,"comment_id":25670663,"body_markdown":"@Baadshah Read the following line there : *If a method returns a resource to its caller, it is not responsible for closing; **no problem is reported.*** :)","body":"@Baadshah Read the following line there : <i>If a method returns a resource to its caller, it is not responsible for closing; <b>no problem is reported.</i></b> :)"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1373728023,"post_id":17631212,"comment_id":25670686,"body_markdown":"Edited my post with possible reason.Please feel free to edit or even vote to delete if you think this is not case OP is facing the issue.","body":"Edited my post with possible reason.Please feel free to edit or even vote to delete if you think this is not case OP is facing the issue."},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1373728097,"post_id":17631212,"comment_id":25670706,"body_markdown":"@Baadshah You mean to say if a class implements `Serializable` , then it can potentially give this sort of warning ?","body":"@Baadshah You mean to say if a class implements <code>Serializable</code> , then it can potentially give this sort of warning ?"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1373729336,"post_id":17631212,"comment_id":25671016,"body_markdown":"I understood in such way from that last paragraph..let me know if i am wrong . :)","body":"I understood in such way from that last paragraph..let me know if i am wrong . :)"}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":8,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1373727791,"creation_date":1373726571,"answer_id":17631212,"question_id":17631199,"body_markdown":"    How does Eclipse know anything about a BoneCP object, \n                                      and how does it know that it must be closed?\n\n[Docs of eclipse says][1]\n\n&gt;&gt;Classes implementing the interface java.io.Closeable (since JDK 1.5) and java.lang.AutoCloseable (since JDK 1.7) are considered to represent external resources, which should be closed using method close(), when they are no longer needed.\n&gt;\n&gt;The Eclipse Java compiler is able to analyze whether code using such types adheres to this policy.  \n&gt;\n&gt;objects do not directly represent an operating system resource. If the wrapped resource is closed, the wrapper doesn&#39;t need closing. Conversely, if a wrapper is closed this will include closing of the wrapped resource. The analysis has a second white list for detecting wrapper resources, and will recognize whether the underlying actual resource will be closed directly or indirectly via the wrapper. Either one suffices to silence warnings regarding resource leaks. **The white list contains classes from java.io**, java.util.zip, java.security, java.beans and java.sound.sampled.\n\nYour BoneCP classe implements the interface **java.io.Serializable** ,this might be the reason.\n\n  [1]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm","title":"How to make a custom compiler warning in Eclipse?","body":"<pre><code>How does Eclipse know anything about a BoneCP object, \n                                  and how does it know that it must be closed?\n</code></pre>\n<p><a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/task-avoiding_resource_leaks.htm\" rel=\"nofollow noreferrer\">Docs of eclipse says</a></p>\n<blockquote>\n<blockquote>\n<p>Classes implementing the interface java.io.Closeable (since JDK 1.5) and java.lang.AutoCloseable (since JDK 1.7) are considered to represent external resources, which should be closed using method close(), when they are no longer needed.</p>\n</blockquote>\n<p>The Eclipse Java compiler is able to analyze whether code using such types adheres to this policy.</p>\n<p>objects do not directly represent an operating system resource. If the wrapped resource is closed, the wrapper doesn't need closing. Conversely, if a wrapper is closed this will include closing of the wrapped resource. The analysis has a second white list for detecting wrapper resources, and will recognize whether the underlying actual resource will be closed directly or indirectly via the wrapper. Either one suffices to silence warnings regarding resource leaks. <strong>The white list contains classes from java.io</strong>, java.util.zip, java.security, java.beans and java.sound.sampled.</p>\n</blockquote>\n<p>Your BoneCP classe implements the interface <strong>java.io.Serializable</strong> ,this might be the reason.</p>\n"},{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1373733298,"creation_date":1373733298,"answer_id":17632104,"question_id":17631199,"body_markdown":"The warning is caused by this statement:\r\n\r\n    connection = connectionPool.getConnection();\r\n\r\nThe method `getConnection()` returns a object of type [java.sql.Connection][1] which implements [java.lang.AutoCloseable][2] since Java 7. Eclipse generates this warning when it can not determine whether a resource which implements either `java.io.Closeable` or `java.lang.AutoCloseable` gets closed by all possible code paths. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html","title":"How to make a custom compiler warning in Eclipse?","body":"<p>The warning is caused by this statement:</p>\n\n<pre><code>connection = connectionPool.getConnection();\n</code></pre>\n\n<p>The method <code>getConnection()</code> returns a object of type <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html\" rel=\"nofollow\">java.sql.Connection</a> which implements <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow\">java.lang.AutoCloseable</a> since Java 7. Eclipse generates this warning when it can not determine whether a resource which implements either <code>java.io.Closeable</code> or <code>java.lang.AutoCloseable</code> gets closed by all possible code paths. </p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":996,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":17632104,"answer_count":2,"score":3,"last_activity_date":1675378551,"creation_date":1373726441,"question_id":17631199,"body_markdown":"I am experimenting with [BoneCP](http://jolbox.com) as a connection pooling alternative to DBCP.  I added the `bonecp-0.8.0rc-1.jar` to my runtime classpath, and copy-n-pasted the code from their example page into my test driver:\r\n\r\n    Connection connection = null;\r\n    BoneCP connectionPool;\r\n    try {\r\n        Class.forName(config.getDatabaseLogger().getJDBCDriver());\r\n    \r\n        BoneCPConfig boneConfig = configureBoneCP(config);\r\n    \r\n        connectionPool = new BoneCP(boneConfig);\r\n    \r\n        connection = connectionPool.getConnection(); \t// fetch a connection\r\n    } catch (SQLException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    } catch (ClassNotFoundException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nOn the line that reads:\r\n\r\n    connectionPool = new BoneCP(boneConfig);\r\n\r\nEclipse (Juno) is giving me a compiler warning:\r\n\r\n&gt; Resource leak: &#39;connectionPool&#39; is never closed\r\n\r\nIt then gives me an option to &quot;*Add @SuppressWarnings &#39;resource&#39; to newConnectionManager*&quot; (`newConnectionManager()` references the class this is contained in).\r\n\r\n**How is this possible?** How does Eclipse know anything about a `BoneCP` object, and how does it know that it must be closed? Is this some kind of &quot;custom warning&quot; that ships with the BoneCP library? If so, how could I add/annotate code to my own projects to help warn downstream developers that they aren&#39;t using my libraries correctly? \r\n","title":"How to make a custom compiler warning in Eclipse?","body":"<p>I am experimenting with <a href=\"http://jolbox.com\" rel=\"nofollow noreferrer\">BoneCP</a> as a connection pooling alternative to DBCP.  I added the <code>bonecp-0.8.0rc-1.jar</code> to my runtime classpath, and copy-n-pasted the code from their example page into my test driver:</p>\n<pre><code>Connection connection = null;\nBoneCP connectionPool;\ntry {\n    Class.forName(config.getDatabaseLogger().getJDBCDriver());\n\n    BoneCPConfig boneConfig = configureBoneCP(config);\n\n    connectionPool = new BoneCP(boneConfig);\n\n    connection = connectionPool.getConnection();    // fetch a connection\n} catch (SQLException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (ClassNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>On the line that reads:</p>\n<pre><code>connectionPool = new BoneCP(boneConfig);\n</code></pre>\n<p>Eclipse (Juno) is giving me a compiler warning:</p>\n<blockquote>\n<p>Resource leak: 'connectionPool' is never closed</p>\n</blockquote>\n<p>It then gives me an option to &quot;<em>Add @SuppressWarnings 'resource' to newConnectionManager</em>&quot; (<code>newConnectionManager()</code> references the class this is contained in).</p>\n<p><strong>How is this possible?</strong> How does Eclipse know anything about a <code>BoneCP</code> object, and how does it know that it must be closed? Is this some kind of &quot;custom warning&quot; that ships with the BoneCP library? If so, how could I add/annotate code to my own projects to help warn downstream developers that they aren't using my libraries correctly?</p>\n"},{"tags":["java","timer","timeout","threadpool","java-threads"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1629346267,"post_id":68835781,"comment_id":121663810,"body_markdown":"You want a million tasks to suddenly execute all at once after waiting 10 hours? Is that your goal?","body":"You want a million tasks to suddenly execute all at once after waiting 10 hours? Is that your goal?"}],"answers":[{"comments":[{"owner":{"account_id":19047941,"reputation":39,"user_id":13906745,"display_name":"Aniket Gupta"},"score":0,"creation_date":1629444291,"post_id":68836597,"comment_id":121693141,"body_markdown":"Thank you! also Is this background thread blocking?","body":"Thank you! also Is this background thread blocking?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1629467954,"post_id":68836597,"comment_id":121702092,"body_markdown":"@AniketGupta what do you mean with &quot;blocking&quot;? It is a single thread, so it doesn&#39;t block anything explicitly. But being a single thread means that all your tasks a executed sequentially, one after the other.","body":"@AniketGupta what do you mean with &quot;blocking&quot;? It is a single thread, so it doesn&#39;t block anything explicitly. But being a single thread means that all your tasks a executed sequentially, one after the other."},{"owner":{"account_id":19047941,"reputation":39,"user_id":13906745,"display_name":"Aniket Gupta"},"score":0,"creation_date":1675362893,"post_id":68836597,"comment_id":132918274,"body_markdown":"If I have scheduled tasks to execute after 1 hour, then the timer thread will be taking resources &amp; running in background to check if it needs to start executing. @thomas-kl&#228;ger","body":"If I have scheduled tasks to execute after 1 hour, then the timer thread will be taking resources &amp; running in background to check if it needs to start executing. @thomas-kl&#228;ger"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675378569,"post_id":68836597,"comment_id":132922264,"body_markdown":"No, it is not &quot;running in the background&quot;. The timer thread uses `Object.sleep(long)` to sleep until the next `TimerTask` should start executing. Extended the answer accordingly.","body":"No, it is not &quot;running in the background&quot;. The timer thread uses <code>Object.sleep(long)</code> to sleep until the next <code>TimerTask</code> should start executing. Extended the answer accordingly."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675378495,"creation_date":1629306319,"answer_id":68836597,"question_id":68835781,"body_markdown":"In theory you can schedule an unlimited amount of `TimerTask`s - the `Timer` stores the tasks in a `TimerTask` array that is doubled in size if it fills up (https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/master/jdk/src/share/classes/java/util/Timer.java#L596).\r\n\r\nBut note that a `Timer` uses only one background thread to execute all scheduled tasks (https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html):\r\n\r\n&gt; Corresponding to each Timer object is a single background thread that is used to execute all of the timer&#39;s tasks, sequentially.\r\n\r\nSo if you schedule thousands of tasks to run at the same time they are executed sequentially.\r\n\r\n----\r\nNote that the thread is sleeping (not busy waiting until the next schedule time arrives). That means that a `Timer` with 1_000_000 `TimerTask`s scheduled in 10 hours won&#39;t need any CPU resources until the 10 hours have elapsed (it will use 1 Thread but that thread is blocked for those 10 hours, and it will necessarily require some memory to store references to those 1_000_000 `TimerTask` instances).\r\n\r\nThis fact is also mentioned in the documentation:\r\n\r\n&gt; This class does not offer real-time guarantees: it schedules tasks using the `Object.wait(long)` method.\r\n\r\nAdditional note: adding a `TimerTask` to a `Timer` necessarily wakes up the timer thread because the task that was just added could be the next to execute and therefore the timeout value for the `Object.wait(long)` method needs to be recomputed.\r\n\r\nScheduling 1_000_000 TimerTasks will therefore necessarily wake up that thread up to 1_000_000 times (it can be less because it is possible that the task creating and adding `TimerTask` instance adds more than one `TimerTask` to the queue before the timer thread wakes up and inspects the queue).","title":"What is pool size of timer.schedule() queue in java.util.Timer","body":"<p>In theory you can schedule an unlimited amount of <code>TimerTask</code>s - the <code>Timer</code> stores the tasks in a <code>TimerTask</code> array that is doubled in size if it fills up (<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/master/jdk/src/share/classes/java/util/Timer.java#L596\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/master/jdk/src/share/classes/java/util/Timer.java#L596</a>).</p>\n<p>But note that a <code>Timer</code> uses only one background thread to execute all scheduled tasks (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Timer.html</a>):</p>\n<blockquote>\n<p>Corresponding to each Timer object is a single background thread that is used to execute all of the timer's tasks, sequentially.</p>\n</blockquote>\n<p>So if you schedule thousands of tasks to run at the same time they are executed sequentially.</p>\n<hr />\n<p>Note that the thread is sleeping (not busy waiting until the next schedule time arrives). That means that a <code>Timer</code> with 1_000_000 <code>TimerTask</code>s scheduled in 10 hours won't need any CPU resources until the 10 hours have elapsed (it will use 1 Thread but that thread is blocked for those 10 hours, and it will necessarily require some memory to store references to those 1_000_000 <code>TimerTask</code> instances).</p>\n<p>This fact is also mentioned in the documentation:</p>\n<blockquote>\n<p>This class does not offer real-time guarantees: it schedules tasks using the <code>Object.wait(long)</code> method.</p>\n</blockquote>\n<p>Additional note: adding a <code>TimerTask</code> to a <code>Timer</code> necessarily wakes up the timer thread because the task that was just added could be the next to execute and therefore the timeout value for the <code>Object.wait(long)</code> method needs to be recomputed.</p>\n<p>Scheduling 1_000_000 TimerTasks will therefore necessarily wake up that thread up to 1_000_000 times (it can be less because it is possible that the task creating and adding <code>TimerTask</code> instance adds more than one <code>TimerTask</code> to the queue before the timer thread wakes up and inspects the queue).</p>\n"}],"owner":{"account_id":19047941,"reputation":39,"user_id":13906745,"display_name":"Aniket Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68836597,"answer_count":1,"score":0,"last_activity_date":1675378495,"creation_date":1629302674,"question_id":68835781,"body_markdown":"How many tasks can be scheduled to call later on &amp; is there any limit on that? I can&#39;t see any max limit specified anywhere. \r\nExample: Can I schedule 1000000 tasks to execute after 10 hour. I will be scheduling them  just to give delay before execution of the tasks by adding them in queue.","title":"What is pool size of timer.schedule() queue in java.util.Timer","body":"<p>How many tasks can be scheduled to call later on &amp; is there any limit on that? I can't see any max limit specified anywhere.\nExample: Can I schedule 1000000 tasks to execute after 10 hour. I will be scheduling them  just to give delay before execution of the tasks by adding them in queue.</p>\n"},{"tags":["java","spring-boot","kubernetes","devops","minikube"],"comments":[{"owner":{"account_id":16481646,"reputation":143,"user_id":11908262,"display_name":"user11908262"},"score":0,"creation_date":1674407097,"post_id":75173708,"comment_id":132703261,"body_markdown":"Hey, I&#39;m also stuck with on the docker section. In the order services, what should I pass in place of DB_SERVER env variable while running the docker? I&#39;ve created one group for this course by daily code buffer. You can join via the following link:\nDiscord: https://discord.gg/FVUgRxCw\nTelegram: https://t.me/+PP7q6Fq4AeQ0ZTg1","body":"Hey, I&#39;m also stuck with on the docker section. In the order services, what should I pass in place of DB_SERVER env variable while running the docker? I&#39;ve created one group for this course by daily code buffer. You can join via the following link: Discord: <a href=\"https://discord.gg/FVUgRxCw\" rel=\"nofollow noreferrer\">discord.gg/FVUgRxCw</a> Telegram: <a href=\"https://t.me/+PP7q6Fq4AeQ0ZTg1\" rel=\"nofollow noreferrer\">t.me/+PP7q6Fq4AeQ0ZTg1</a>"}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1674480207,"post_id":75207850,"comment_id":132716192,"body_markdown":"I added health check for this purpose to check whether if it up or not. I still couldn&#39;t solve it. Is it possible to test it if you have any information about it?","body":"I added health check for this purpose to check whether if it up or not. I still couldn&#39;t solve it. Is it possible to test it if you have any information about it?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1674739948,"post_id":75207850,"comment_id":132780843,"body_markdown":"I couldn&#39;t fix it. Can you look through the deployment.yaml file if you don&#39;t mind?","body":"I couldn&#39;t fix it. Can you look through the deployment.yaml file if you don&#39;t mind?"},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1674742119,"post_id":75207850,"comment_id":132781589,"body_markdown":"What&#39;s the problem now? Do the config service start but too late?","body":"What&#39;s the problem now? Do the config service start but too late?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1674742397,"post_id":75207850,"comment_id":132781699,"body_markdown":"Config server starts but I think it works a bit lately. Can you test it if you don&#39;t mind? I also edited my post.","body":"Config server starts but I think it works a bit lately. Can you test it if you don&#39;t mind? I also edited my post."},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1674745880,"post_id":75207850,"comment_id":132783038,"body_markdown":"I don&#39;t see a bootstrap configuration (in orderservice) file which contains the Config Server connection. In this file, you should add the &quot;retry&quot; configuration I&#39;ve explained in the last paragraph.","body":"I don&#39;t see a bootstrap configuration (in orderservice) file which contains the Config Server connection. In this file, you should add the &quot;retry&quot; configuration I&#39;ve explained in the last paragraph."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1674775045,"post_id":75207850,"comment_id":132791117,"body_markdown":"I can run all services in local and on Docker. There is no problem for them. I defined health for each service in Kubernetes deployment yaml file not it didn&#39;t work.","body":"I can run all services in local and on Docker. There is no problem for them. I defined health for each service in Kubernetes deployment yaml file not it didn&#39;t work."},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1674828132,"post_id":75207850,"comment_id":132801986,"body_markdown":"I don&#39;t mean in Kubernetes, but in Spring Boot, can you add this configuration https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry in orderservice?","body":"I don&#39;t mean in Kubernetes, but in Spring Boot, can you add this configuration <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-static/spring-cloud-config/&hellip;</a> in orderservice?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675378046,"post_id":75207850,"comment_id":132922179,"body_markdown":"I still couldn&#39;t fix it. Can you test it if you don&#39;t mind?","body":"I still couldn&#39;t fix it. Can you test it if you don&#39;t mind?"}],"tags":[],"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467649,"creation_date":1674467649,"answer_id":75207850,"question_id":75173708,"body_markdown":"When working in a microservices architecture, you can&#39;t rely on dependencies between services. What if a single service shuts down due to hardware problems? All the platform will be unavailable?\r\n\r\nIn fact, each microservice must be prepared to unavailable services. You can do it with Circuit Breaker. As far as I know, Kubernetes doesn&#39;t support this kind of dependency.\r\n\r\nNevertheless, I&#39;ve found some hacks that can be used here: https://www.alibabacloud.com/blog/kubernetes-demystified-solving-service-dependencies_594110\r\n\r\nIn your case, with the Service Config Server which is unavailable when starting the other services, you can add some retry mechanism to the services. This way, they will try to reach the Service Config Server after 5 or 5 attempts. Take a look here, https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry","title":"Kubernetes Issue in Spring Boot Microservices java.net.SocketTimeoutException: connect timed out","body":"<p>When working in a microservices architecture, you can't rely on dependencies between services. What if a single service shuts down due to hardware problems? All the platform will be unavailable?</p>\n<p>In fact, each microservice must be prepared to unavailable services. You can do it with Circuit Breaker. As far as I know, Kubernetes doesn't support this kind of dependency.</p>\n<p>Nevertheless, I've found some hacks that can be used here: <a href=\"https://www.alibabacloud.com/blog/kubernetes-demystified-solving-service-dependencies_594110\" rel=\"nofollow noreferrer\">https://www.alibabacloud.com/blog/kubernetes-demystified-solving-service-dependencies_594110</a></p>\n<p>In your case, with the Service Config Server which is unavailable when starting the other services, you can add some retry mechanism to the services. This way, they will try to reach the Service Config Server after 5 or 5 attempts. Take a look here, <a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.1.4.RELEASE/multi/multi__spring_cloud_config_client.html#config-client-retry</a></p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675378033,"creation_date":1674138074,"question_id":75173708,"body_markdown":"I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.\r\n\r\nHere is the commands to open dashboards.\r\n\r\n    1 ) minikube start\r\n    2 ) minikube dashboard \r\n\r\nNext, I run all services through this command.\r\n\r\n    kubectl apply -f k8s\r\n\r\nAfter waiting for a certain amount of time, I got this issue shown below.\r\n\r\n    15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\r\n     at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n     at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n     at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n     at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n     at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n     at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n     at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n     at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n     at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\r\n     ... 35 common frames omitted\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n     at java.base/java.net.Socket.connect(Socket.java:609)\r\n     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\r\n     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\r\n     at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n     at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n     at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n     ... 39 common frames omitted\r\n\r\n\r\nHere is my deployment.yaml file shown below.\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: auth-service-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: auth-service-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: auth-service-app\r\n        spec:\r\n          containers:\r\n            - name: auth-service-app\r\n              image: noyandocker/authservice\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 7777\r\n              env:\r\n                - name: CONFIG_SERVER_URL\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: config-cm\r\n                      key: config_url\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n                - name: DB_HOST\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: mysql-cm\r\n                      key: hostname\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: auth-service-svc\r\n    spec:\r\n      selector:\r\n        app: auth-service-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 7777\r\n\r\n\r\nHere is the config map yaml file \r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: config-cm\r\n    data:\r\n      config_url: &quot;config-server-svc&quot;\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: eureka-cm\r\n    data:\r\n      eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\r\n    \r\n    ---\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: mysql-cm\r\n    data:\r\n      hostname: &quot;mysql-0.mysql&quot;\r\n\r\n\r\nHere is the config-server-deployment.yaml file \r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: config-server-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: config-server-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: config-server-app\r\n        spec:\r\n          containers:\r\n            - name: config-server-app\r\n              image: noyandocker/configserver\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 9296\r\n              readinessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 20\r\n                timeoutSeconds: 10\r\n                periodSeconds: 3\r\n                failureThreshold: 2\r\n              livenessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 30\r\n                timeoutSeconds: 2\r\n                periodSeconds: 8\r\n                failureThreshold: 1\r\n              env:\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: config-server-svc\r\n    spec:\r\n      selector:\r\n        app: config-server-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 9296\r\n\r\n\r\n\r\nI thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running. \r\n\r\n**Edited**\r\n\r\nSomeone said the message to me.\r\n\r\nIN Kubernetes all the services will start simultaneously. Config Server is the Dependent Service for all other Services. i.e Order, Payment, and Product.\r\n\r\nSp Ideally your Order service should not start until the COnfig Server service is up and running. We saw a similar thing implemented in Docker using Depends_on properties.\r\n\r\nIN Kubernetes, We can implement it using Probes. You need to implement Lineness and Readiness probe for your application for Config Server.\r\n\r\nYou add a Config for Order Service that checks that Config Server is Up or not and then it will start.\r\n\r\nI still couldn&#39;t fix the issue.\r\n\r\n\r\nHow can I do that?\r\n\r\nHere is my repo : [Link][1]\r\n\r\nHere is my docker hub : [Link][2]\r\n\r\nHere is git backend system : [Link][3]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [2]: https://hub.docker.com/search?q=noyandocker\r\n  [3]: https://github.com/Rapter1990/springappconfig","title":"Kubernetes Issue in Spring Boot Microservices java.net.SocketTimeoutException: connect timed out","body":"<p>I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.</p>\n<p>Here is the commands to open dashboards.</p>\n<pre><code>1 ) minikube start\n2 ) minikube dashboard \n</code></pre>\n<p>Next, I run all services through this command.</p>\n<pre><code>kubectl apply -f k8s\n</code></pre>\n<p>After waiting for a certain amount of time, I got this issue shown below.</p>\n<pre><code>15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\n at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\n at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\n at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\n at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\n ... 35 common frames omitted\nCaused by: java.net.SocketTimeoutException: connect timed out\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n at java.base/java.net.Socket.connect(Socket.java:609)\n at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\n at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\n at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n ... 39 common frames omitted\n</code></pre>\n<p>Here is my deployment.yaml file shown below.</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: auth-service-app\nspec:\n  selector:\n    matchLabels:\n      app: auth-service-app\n  template:\n    metadata:\n      labels:\n        app: auth-service-app\n    spec:\n      containers:\n        - name: auth-service-app\n          image: noyandocker/authservice\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 7777\n          env:\n            - name: CONFIG_SERVER_URL\n              valueFrom:\n                configMapKeyRef:\n                  name: config-cm\n                  key: config_url\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n            - name: DB_HOST\n              valueFrom:\n                configMapKeyRef:\n                  name: mysql-cm\n                  key: hostname\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: auth-service-svc\nspec:\n  selector:\n    app: auth-service-app\n  ports:\n    - port: 80\n      targetPort: 7777\n</code></pre>\n<p>Here is the config map yaml file</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: config-cm\ndata:\n  config_url: &quot;config-server-svc&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: eureka-cm\ndata:\n  eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: mysql-cm\ndata:\n  hostname: &quot;mysql-0.mysql&quot;\n</code></pre>\n<p>Here is the config-server-deployment.yaml file</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: config-server-app\nspec:\n  selector:\n    matchLabels:\n      app: config-server-app\n  template:\n    metadata:\n      labels:\n        app: config-server-app\n    spec:\n      containers:\n        - name: config-server-app\n          image: noyandocker/configserver\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9296\n          readinessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 20\n            timeoutSeconds: 10\n            periodSeconds: 3\n            failureThreshold: 2\n          livenessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 30\n            timeoutSeconds: 2\n            periodSeconds: 8\n            failureThreshold: 1\n          env:\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: config-server-svc\nspec:\n  selector:\n    app: config-server-app\n  ports:\n    - port: 80\n      targetPort: 9296\n</code></pre>\n<p>I thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running.</p>\n<p><strong>Edited</strong></p>\n<p>Someone said the message to me.</p>\n<p>IN Kubernetes all the services will start simultaneously. Config Server is the Dependent Service for all other Services. i.e Order, Payment, and Product.</p>\n<p>Sp Ideally your Order service should not start until the COnfig Server service is up and running. We saw a similar thing implemented in Docker using Depends_on properties.</p>\n<p>IN Kubernetes, We can implement it using Probes. You need to implement Lineness and Readiness probe for your application for Config Server.</p>\n<p>You add a Config for Order Service that checks that Config Server is Up or not and then it will start.</p>\n<p>I still couldn't fix the issue.</p>\n<p>How can I do that?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is my docker hub : <a href=\"https://hub.docker.com/search?q=noyandocker\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is git backend system : <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring-boot","kubernetes","devops","minikube"],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675229977,"post_id":75148943,"comment_id":132881418,"body_markdown":"I still couldn&#39;t fix the issue. I also share config server and config map yaml files.","body":"I still couldn&#39;t fix the issue. I also share config server and config map yaml files."}],"tags":[],"owner":{"account_id":24877985,"reputation":11,"user_id":18751556,"display_name":"Jeffery K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673970632,"creation_date":1673970632,"answer_id":75148943,"question_id":75148729,"body_markdown":"If you have a dependency you need other services to wait on, I&#39;d suggest implementing an init container, which will allow you to program the k8s deployment to wait for some dependency to exist or finish starting up. We&#39;ve done something similar for a database, since many of our spring boot services in k8s need a database to be up. \r\nhttps://kubernetes.io/docs/concepts/workloads/pods/init-containers/\r\n\r\nAlso, make sure you familiarize yourself with the way the k8s network routing works, and DNS for other pods, which uses their name. \r\nhttps://kubernetes.io/docs/concepts/services-networking/dns-pod-service/\r\n","title":"Spring Boot Microservices cannot run on Kubernetes (java.net.SocketTimeoutException: connect timed out)","body":"<p>If you have a dependency you need other services to wait on, I'd suggest implementing an init container, which will allow you to program the k8s deployment to wait for some dependency to exist or finish starting up. We've done something similar for a database, since many of our spring boot services in k8s need a database to be up.\n<a href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/workloads/pods/init-containers/</a></p>\n<p>Also, make sure you familiarize yourself with the way the k8s network routing works, and DNS for other pods, which uses their name.\n<a href=\"https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/</a></p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675377948,"creation_date":1673969537,"question_id":75148729,"body_markdown":"I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.\r\n\r\nHere is the commands to open dashboards.\r\n\r\n    1 ) minikube start\r\n    2 ) minikube dashboard \r\n\r\nNext, I run all services through this command.\r\n\r\n    kubectl apply -f k8s\r\n\r\nAfter waiting for a certain amount of time, I got this issue shown below.\r\n\r\n    15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\r\n    org.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\r\n     at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\r\n     at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\r\n     at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\r\n     at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n     at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n     at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\r\n     at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\r\n     at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\r\n     at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\r\n     at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\r\n     at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n     at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n     at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n     at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n     at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n     at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\n    Caused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n     at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n     at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\r\n     at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\r\n     ... 35 common frames omitted\r\n    Caused by: java.net.SocketTimeoutException: connect timed out\r\n     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n     at java.base/java.net.Socket.connect(Socket.java:609)\r\n     at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\r\n     at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\r\n     at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\r\n     at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n     at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\r\n     at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n     at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n     at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n     at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\r\n     ... 39 common frames omitted\r\n\r\n\r\nHere is my deployment.yaml file shown below.\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: auth-service-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: auth-service-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: auth-service-app\r\n        spec:\r\n          containers:\r\n            - name: auth-service-app\r\n              image: noyandocker/authservice\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 7777\r\n              env:\r\n                - name: CONFIG_SERVER_URL\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: config-cm\r\n                      key: config_url\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n                - name: DB_HOST\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: mysql-cm\r\n                      key: hostname\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: auth-service-svc\r\n    spec:\r\n      selector:\r\n        app: auth-service-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 7777\r\n\r\n\r\n\r\nHere is the configmap yaml file shown below\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: config-cm\r\n    data:\r\n      config_url: &quot;config-server-svc&quot;\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: eureka-cm\r\n    data:\r\n      eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: mysql-cm\r\n    data:\r\n      hostname: &quot;mysql-0.mysql&quot;\r\n\r\n\r\nHere is the config server yaml file shown below\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: config-server-app\r\n    spec:\r\n      selector:\r\n        matchLabels:\r\n          app: config-server-app\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: config-server-app\r\n        spec:\r\n          containers:\r\n            - name: config-server-app\r\n              image: noyandocker/configserver\r\n              imagePullPolicy: IfNotPresent\r\n              ports:\r\n                - containerPort: 9296\r\n              readinessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 20\r\n                timeoutSeconds: 10\r\n                periodSeconds: 3\r\n                failureThreshold: 10\r\n              livenessProbe:\r\n                httpGet:\r\n                  path: /actuator/health\r\n                  port: 9296\r\n                initialDelaySeconds: 30\r\n                timeoutSeconds: 2\r\n                periodSeconds: 8\r\n                failureThreshold: 10\r\n              env:\r\n                - name: EUREKA_SERVER_ADDRESS\r\n                  valueFrom:\r\n                    configMapKeyRef:\r\n                      name: eureka-cm\r\n                      key: eureka_service_address\r\n    \r\n    ---\r\n    \r\n    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: config-server-svc\r\n    spec:\r\n      selector:\r\n        app: config-server-app\r\n      ports:\r\n        - port: 80\r\n          targetPort: 9296\r\n\r\nI thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running. \r\n\r\n**Editted**\r\n\r\nI added this code snippets shown below in cloud_gateway_deployment.yaml file but it didn&#39;t work.\r\n\r\n      initContainers:\r\n        - name: init-configserver\r\n          image: noyandocker/configserver\r\n          command: [ &#39;sh&#39;, &#39;-c&#39;, &quot;until nslookup config-server-svc.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for config server; sleep 2; done&quot; ]\r\n       \r\n\r\nHow can I do that?\r\n\r\nHere is my repo : [Link][1]\r\n\r\nHere is my docker hub : [Link][2]\r\n\r\nHere is git backend system : [Link][3]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/springbootmicroservicedailybuffer\r\n  [2]: https://hub.docker.com/search?q=noyandocker\r\n  [3]: https://github.com/Rapter1990/springappconfig\r\n","title":"Spring Boot Microservices cannot run on Kubernetes (java.net.SocketTimeoutException: connect timed out)","body":"<p>I have a problem about running Spring Boot Microservices on Kubernetes. After I installed minikube, I started it and open its dashboard.</p>\n<p>Here is the commands to open dashboards.</p>\n<pre><code>1 ) minikube start\n2 ) minikube dashboard \n</code></pre>\n<p>Next, I run all services through this command.</p>\n<pre><code>kubectl apply -f k8s\n</code></pre>\n<p>After waiting for a certain amount of time, I got this issue shown below.</p>\n<pre><code>15:22:37.395 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.cloud.config.client.ConfigClientFailFastException: Could not locate PropertySource and the resource is not optional, failing\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:197)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:102)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.load(ConfigServerConfigDataLoader.java:61)\n at org.springframework.boot.context.config.ConfigDataLoaders.load(ConfigDataLoaders.java:107)\n at org.springframework.boot.context.config.ConfigDataImporter.load(ConfigDataImporter.java:128)\n at org.springframework.boot.context.config.ConfigDataImporter.resolveAndLoad(ConfigDataImporter.java:86)\n at org.springframework.boot.context.config.ConfigDataEnvironmentContributors.withProcessedImports(ConfigDataEnvironmentContributors.java:116)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processWithProfiles(ConfigDataEnvironment.java:311)\n at org.springframework.boot.context.config.ConfigDataEnvironment.processAndApply(ConfigDataEnvironment.java:232)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:102)\n at org.springframework.boot.context.config.ConfigDataEnvironmentPostProcessor.postProcessEnvironment(ConfigDataEnvironmentPostProcessor.java:94)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEnvironmentPreparedEvent(EnvironmentPostProcessorApplicationListener.java:102)\n at org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.onApplicationEvent(EnvironmentPostProcessorApplicationListener.java:87)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:85)\n at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:66)\n at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120)\n at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114)\n at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:65)\n at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:344)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n at com.microservice.orderservice.OrderServiceApplication.main(OrderServiceApplication.java:15)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://config-server-svc:9296/ORDER-SERVICE/default&quot;: connect timed out; nested exception is java.net.SocketTimeoutException: connect timed out\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\n at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.getRemoteEnvironment(ConfigServerConfigDataLoader.java:303)\n at org.springframework.cloud.config.client.ConfigServerConfigDataLoader.doLoad(ConfigServerConfigDataLoader.java:118)\n ... 35 common frames omitted\nCaused by: java.net.SocketTimeoutException: connect timed out\n at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n at java.base/java.net.Socket.connect(Socket.java:609)\n at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:508)\n at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\n at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:276)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:375)\n at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:396)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1253)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1015)\n at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)\n ... 39 common frames omitted\n</code></pre>\n<p>Here is my deployment.yaml file shown below.</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: auth-service-app\nspec:\n  selector:\n    matchLabels:\n      app: auth-service-app\n  template:\n    metadata:\n      labels:\n        app: auth-service-app\n    spec:\n      containers:\n        - name: auth-service-app\n          image: noyandocker/authservice\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 7777\n          env:\n            - name: CONFIG_SERVER_URL\n              valueFrom:\n                configMapKeyRef:\n                  name: config-cm\n                  key: config_url\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n            - name: DB_HOST\n              valueFrom:\n                configMapKeyRef:\n                  name: mysql-cm\n                  key: hostname\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: auth-service-svc\nspec:\n  selector:\n    app: auth-service-app\n  ports:\n    - port: 80\n      targetPort: 7777\n</code></pre>\n<p>Here is the configmap yaml file shown below</p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: config-cm\ndata:\n  config_url: &quot;config-server-svc&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: eureka-cm\ndata:\n  eureka_service_address: &quot;http://eureka-0.eureka:8761/eureka&quot;\n\n---\n\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: mysql-cm\ndata:\n  hostname: &quot;mysql-0.mysql&quot;\n</code></pre>\n<p>Here is the config server yaml file shown below</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: config-server-app\nspec:\n  selector:\n    matchLabels:\n      app: config-server-app\n  template:\n    metadata:\n      labels:\n        app: config-server-app\n    spec:\n      containers:\n        - name: config-server-app\n          image: noyandocker/configserver\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9296\n          readinessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 20\n            timeoutSeconds: 10\n            periodSeconds: 3\n            failureThreshold: 10\n          livenessProbe:\n            httpGet:\n              path: /actuator/health\n              port: 9296\n            initialDelaySeconds: 30\n            timeoutSeconds: 2\n            periodSeconds: 8\n            failureThreshold: 10\n          env:\n            - name: EUREKA_SERVER_ADDRESS\n              valueFrom:\n                configMapKeyRef:\n                  name: eureka-cm\n                  key: eureka_service_address\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: config-server-svc\nspec:\n  selector:\n    app: config-server-app\n  ports:\n    - port: 80\n      targetPort: 9296\n</code></pre>\n<p>I thought all the services will start simultaneously. Config Server is the Dependent Service for all other Serivces like auth service and this Auth service should not start until Config Server service is up and running.</p>\n<p><strong>Editted</strong></p>\n<p>I added this code snippets shown below in cloud_gateway_deployment.yaml file but it didn't work.</p>\n<pre><code>  initContainers:\n    - name: init-configserver\n      image: noyandocker/configserver\n      command: [ 'sh', '-c', &quot;until nslookup config-server-svc.$(cat /var/run/secrets/kubernetes.io/serviceaccount/namespace).svc.cluster.local; do echo waiting for config server; sleep 2; done&quot; ]\n   \n</code></pre>\n<p>How can I do that?</p>\n<p>Here is my repo : <a href=\"https://github.com/Rapter1990/springbootmicroservicedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is my docker hub : <a href=\"https://hub.docker.com/search?q=noyandocker\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is git backend system : <a href=\"https://github.com/Rapter1990/springappconfig\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","testing","integration-testing","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1599952,"reputation":1083,"user_id":1481187,"accept_rate":73,"display_name":"Guillaume le Floch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631728234,"creation_date":1631728234,"answer_id":69197768,"question_id":69193281,"body_markdown":"Running integration test will require the final artifact to be built. \r\n\r\nThus before running the test task, you will need to run a `quarkusBuild`. Once your app is build, and if your tests are in `src/test/java` you can simply run `gradle test` to run them. \r\n\r\nIn order to make sure your artifact is always available before you run your integration tests, you can create a new task of type test, that will depend on `quarkusBuild`, that would only run those tests. For example :\r\n\r\n```\r\ntask integrationTest(type: Test) {\r\n    description = &quot;Runs integration tests&quot;\r\n    group = &quot;verification&quot;\r\n    useJUnitPlatform()\r\n\r\n    // Include only integration test package\r\n    include &#39;io/quarkus/gradle/integrationtest/*.class&#39;\r\n}\r\n\r\nintegrationTest.dependsOn(quarkusBuild)\r\n```\r\n\r\nor you can create a custom source set and put your test there, this is documented here: https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests","title":"How to run @QuarkusIntegrationTest in a Gradle project?","body":"<p>Running integration test will require the final artifact to be built.</p>\n<p>Thus before running the test task, you will need to run a <code>quarkusBuild</code>. Once your app is build, and if your tests are in <code>src/test/java</code> you can simply run <code>gradle test</code> to run them.</p>\n<p>In order to make sure your artifact is always available before you run your integration tests, you can create a new task of type test, that will depend on <code>quarkusBuild</code>, that would only run those tests. For example :</p>\n<pre><code>task integrationTest(type: Test) {\n    description = &quot;Runs integration tests&quot;\n    group = &quot;verification&quot;\n    useJUnitPlatform()\n\n    // Include only integration test package\n    include 'io/quarkus/gradle/integrationtest/*.class'\n}\n\nintegrationTest.dependsOn(quarkusBuild)\n</code></pre>\n<p>or you can create a custom source set and put your test there, this is documented here: <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests</a></p>\n"},{"comments":[{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":1,"creation_date":1654679216,"post_id":72040678,"comment_id":128145992,"body_markdown":"with `quarkusIntTest`, before my `@QuarkusIntegrationTest` test are executed, my unit test are executed as well- How can I skip them?","body":"with <code>quarkusIntTest</code>, before my <code>@QuarkusIntegrationTest</code> test are executed, my unit test are executed as well- How can I skip them?"},{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":1,"creation_date":1654686469,"post_id":72040678,"comment_id":128148799,"body_markdown":".\\gradlew -x test quarkusIntTest ?","body":".\\gradlew -x test quarkusIntTest ?"}],"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651135776,"creation_date":1651135776,"answer_id":72040678,"question_id":69193281,"body_markdown":"If your `build.gradle` file contains\r\n\r\n    plugins {\r\n        id &#39;io.quarkus&#39;\r\n    }\r\n\r\nthen you should be able to run the `@QuarkusIntegrationTest` tests with\r\n\r\n    .\\gradlew quarkusIntTest","title":"How to run @QuarkusIntegrationTest in a Gradle project?","body":"<p>If your <code>build.gradle</code> file contains</p>\n<pre><code>plugins {\n    id 'io.quarkus'\n}\n</code></pre>\n<p>then you should be able to run the <code>@QuarkusIntegrationTest</code> tests with</p>\n<pre><code>.\\gradlew quarkusIntTest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675377610,"creation_date":1675377610,"answer_id":75329661,"question_id":69193281,"body_markdown":"In my case I&#39;ve used quarkus plugin to create a ready gradle project and the task to run integration tests was the command bellow, also check this [Sample project][1].\r\n\r\nThe tests looks like:\r\n\r\n    @QuarkusIntegrationTest\r\n    class SolverSystemIT {\r\n    ....\r\n\r\nThe command to run this kind of test:\r\n\r\n    $ ./gradlew build testNative\r\n    &gt; Task :testNative\r\n    Finished generating test XML results (0.001 secs) into: .../build/test-results/testNative\r\n    Generating HTML test report...\r\n\r\n\r\n\r\n\r\n[1]: https://github.com/mageddo/java-examples/tree/62bb380d161e16cfc40601d881f0338e8d8becf1/quarkus/quarkus-2-simple\r\n","title":"How to run @QuarkusIntegrationTest in a Gradle project?","body":"<p>In my case I've used quarkus plugin to create a ready gradle project and the task to run integration tests was the command bellow, also check this <a href=\"https://github.com/mageddo/java-examples/tree/62bb380d161e16cfc40601d881f0338e8d8becf1/quarkus/quarkus-2-simple\" rel=\"nofollow noreferrer\">Sample project</a>.</p>\n<p>The tests looks like:</p>\n<pre><code>@QuarkusIntegrationTest\nclass SolverSystemIT {\n....\n</code></pre>\n<p>The command to run this kind of test:</p>\n<pre><code>$ ./gradlew build testNative\n&gt; Task :testNative\nFinished generating test XML results (0.001 secs) into: .../build/test-results/testNative\nGenerating HTML test report...\n</code></pre>\n"}],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1675377610,"creation_date":1631709420,"question_id":69193281,"body_markdown":"I want to run a Quarkus integration test in order to verify OpenAPI yaml generated from the source code. According to the documentation, [it should be possible][1] to do it using the `@QuarkusIntegrationTest` annotation. However the it is not explained how to mek it work.\r\n\r\n&gt;  \tAs a test annotated with @QuarkusIntegrationTest tests the result of the build, it should be run as part of the integration test suite - i.e. via the maven-failsafe-plugin if using Maven or an additional task if using Gradle.\r\n\r\nUnfortunately, it is not clear what this means and how to configure that &quot;additional task&quot; in Gradle.\r\n\r\n**Question:** How to run a Quarkus Integration Test in a Gradle project?\r\n\r\n  [1]: https://quarkus.io/guides/getting-started-testing#quarkus-integration-test","title":"How to run @QuarkusIntegrationTest in a Gradle project?","body":"<p>I want to run a Quarkus integration test in order to verify OpenAPI yaml generated from the source code. According to the documentation, <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-integration-test\" rel=\"nofollow noreferrer\">it should be possible</a> to do it using the <code>@QuarkusIntegrationTest</code> annotation. However the it is not explained how to mek it work.</p>\n<blockquote>\n<p>As a test annotated with @QuarkusIntegrationTest tests the result of the build, it should be run as part of the integration test suite - i.e. via the maven-failsafe-plugin if using Maven or an additional task if using Gradle.</p>\n</blockquote>\n<p>Unfortunately, it is not clear what this means and how to configure that &quot;additional task&quot; in Gradle.</p>\n<p><strong>Question:</strong> How to run a Quarkus Integration Test in a Gradle project?</p>\n"},{"tags":["java","database","sqlite","oop","jdbc"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675377829,"post_id":75329606,"comment_id":132922127,"body_markdown":"You need to make use of the `binaryStream` methods of the `PreparedStatement` to write data to and read it from. For [example](https://stackoverflow.com/questions/20752432/convert-bufferedinputstream-into-image/20753089#20753089) and [example](https://stackoverflow.com/questions/35069359/trying-to-retrieve-both-text-and-blob-from-mysql-to-jtable/35072936#35072936). These examples make use of `ImageIO` to read the image and convert it to a &quot;know&quot; format for insertion, you don&#39;t &quot;have&quot; to do this, by that was the context of the question been asked.","body":"You need to make use of the <code>binaryStream</code> methods of the <code>PreparedStatement</code> to write data to and read it from. For <a href=\"https://stackoverflow.com/questions/20752432/convert-bufferedinputstream-into-image/20753089#20753089\">example</a> and <a href=\"https://stackoverflow.com/questions/35069359/trying-to-retrieve-both-text-and-blob-from-mysql-to-jtable/35072936#35072936\">example</a>. These examples make use of <code>ImageIO</code> to read the image and convert it to a &quot;know&quot; format for insertion, you don&#39;t &quot;have&quot; to do this, by that was the context of the question been asked."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675377869,"post_id":75329606,"comment_id":132922135,"body_markdown":"If the image is on the filesystem, you can simply use a `FileInputStream` to read it and write it out using `FileOutputStream` depending on your needs. You &quot;could&quot; use `Blob`, but I&#39;ve never had much success with it, especially across different databases","body":"If the image is on the filesystem, you can simply use a <code>FileInputStream</code> to read it and write it out using <code>FileOutputStream</code> depending on your needs. You &quot;could&quot; use <code>Blob</code>, but I&#39;ve never had much success with it, especially across different databases"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675392579,"post_id":75329606,"comment_id":132924247,"body_markdown":"Blob blobImage = resultSet.getBlob(&quot;image&quot;); if (blobImage != null){\n                String imageFileName=&quot;/home/demo/TTT-&quot;+id+&quot;.jpg&quot;;\n                byte byteArray[] = blobImage.getBytes(1,(int)blobImage.length());\n                FileOutputStream outPutStream = new FileOutputStream(imageFileName);\n                outPutStream.write(byteArray);\n                System.out.println(&quot;SAVE IMAGE TO &quot;+imageFileName );\n            } else {\n                System.out.println(&quot;IMAGE IS NULL&quot;);\n            }","body":"Blob blobImage = resultSet.getBlob(&quot;image&quot;); if (blobImage != null){                 String imageFileName=&quot;/home/demo/TTT-&quot;+id+&quot;.jpg&quot;;                 byte byteArray[] = blobImage.getBytes(1,(int)blobImage.length());                 FileOutputStream outPutStream = new FileOutputStream(imageFileName);                 outPutStream.write(byteArray);                 System.out.println(&quot;SAVE IMAGE TO &quot;+imageFileName );             } else {                 System.out.println(&quot;IMAGE IS NULL&quot;);             }"}],"owner":{"account_id":23610440,"reputation":1,"user_id":17645543,"display_name":"Nicolas Bayer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675377134,"creation_date":1675377134,"question_id":75329606,"body_markdown":"I have such a problem, I have a class for working with a database, but since I am not familiar with java, I have a problem with adding an image to the database. If in c# I would simply create an array of bytes and add it to the line, then here I don’t know how this can be implemented.\r\n\r\nExample create sql line in c#\r\n\r\n```\r\nstring sqlLine = $&quot;insert .... values({bytes})&quot;\r\n```\r\n\r\nClass DataBase in java\r\n\r\nMethod command is responsible for sending the command to the database, the cmd argument is just the same sql query.\r\n\r\n```\r\npackage Models;\r\n\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class DataBase {\r\n\r\n    // url connection\r\n    private final String url = &quot;jdbc:sqlite:----&quot;;\r\n    private Connection connection = null;\r\n    private ResultSet resultSet = null;\r\n    private Statement statement = null;\r\n    private ArrayList&lt;ArrayList&lt;String&gt;&gt; info = null;\r\n\r\n    /*\r\n     *  Database connection\r\n     *  Param = none\r\n     *  Return = none\r\n     * */\r\n    private void connectionOpen()\r\n    {\r\n        try {\r\n            connection = DriverManager.getConnection(url);\r\n        }\r\n        catch (SQLException ex){\r\n            connection = null;\r\n        }\r\n    }\r\n\r\n    /*\r\n     *  Closing the database connection\r\n     *  Param - None\r\n     *  Return - None\r\n     * */\r\n    private void connectionClose() throws SQLException\r\n    {\r\n        if(connection != null) {\r\n\r\n            connection.close();\r\n            connection = null;\r\n        }\r\n    }\r\n\r\n    public Connection getConnection() { return connection; }\r\n\r\n    private void writeDataToList() throws SQLException {\r\n        info = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        ResultSetMetaData resultSetMetaData = resultSet.getMetaData();\r\n        final int ColumnCount = resultSetMetaData.getColumnCount();\r\n\r\n        while (resultSet.next()) {\r\n            ArrayList&lt;String&gt; temp = new ArrayList&lt;&gt;();\r\n            for (int j = 1; j &lt;= ColumnCount; j++)\r\n                temp.add(resultSet.getString(j));\r\n            info.add(temp);\r\n        }\r\n    }\r\n\r\n    /*\r\n     *  Sending sql query to database\r\n     *  Param - cmd (sql request)\r\n     *  Return - ArrayList&lt;ArrayList&lt;String&gt;&gt;\r\n     * */\r\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; command(String cmd) throws SQLException {\r\n        return command(cmd, CommandType.Another);\r\n    }\r\n\r\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; command(String cmd, CommandType type) throws SQLException {\r\n\r\n        connectionOpen();\r\n\r\n        if(connection != null) {\r\n\r\n            try {\r\n\r\n                statement = connection.createStatement();\r\n                resultSet = statement.executeQuery(cmd);\r\n\r\n                if(type == CommandType.Select) {\r\n\r\n                    writeDataToList();\r\n                }\r\n                \r\n            } catch (SQLException ex) {\r\n                System.out.println(ex.getMessage());\r\n\r\n            } finally {\r\n                try {\r\n                    resultSet.close();\r\n                } catch (Exception e) { /* Ignored */ }\r\n                try {\r\n                    statement.close();\r\n                } catch (Exception e) { /* Ignored */ }\r\n                try {\r\n                    connectionClose();\r\n                } catch (Exception e) { /* Ignored */ }\r\n            }\r\n        }else\r\n            throw new SQLException(&quot;Failed connection&quot;);\r\n\r\n        return info;\r\n    }\r\n\r\n    public enum CommandType{\r\n        Select, Another\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried to create a sql query using PreparedStatement, but the problem is that you can’t get the connection variable from outside, and I can’t figure out how to correctly form a method that would generate this query.","title":"Addition image to database java","body":"<p>I have such a problem, I have a class for working with a database, but since I am not familiar with java, I have a problem with adding an image to the database. If in c# I would simply create an array of bytes and add it to the line, then here I don’t know how this can be implemented.</p>\n<p>Example create sql line in c#</p>\n<pre><code>string sqlLine = $&quot;insert .... values({bytes})&quot;\n</code></pre>\n<p>Class DataBase in java</p>\n<p>Method command is responsible for sending the command to the database, the cmd argument is just the same sql query.</p>\n<pre><code>package Models;\n\nimport java.sql.*;\nimport java.util.ArrayList;\n\npublic class DataBase {\n\n    // url connection\n    private final String url = &quot;jdbc:sqlite:----&quot;;\n    private Connection connection = null;\n    private ResultSet resultSet = null;\n    private Statement statement = null;\n    private ArrayList&lt;ArrayList&lt;String&gt;&gt; info = null;\n\n    /*\n     *  Database connection\n     *  Param = none\n     *  Return = none\n     * */\n    private void connectionOpen()\n    {\n        try {\n            connection = DriverManager.getConnection(url);\n        }\n        catch (SQLException ex){\n            connection = null;\n        }\n    }\n\n    /*\n     *  Closing the database connection\n     *  Param - None\n     *  Return - None\n     * */\n    private void connectionClose() throws SQLException\n    {\n        if(connection != null) {\n\n            connection.close();\n            connection = null;\n        }\n    }\n\n    public Connection getConnection() { return connection; }\n\n    private void writeDataToList() throws SQLException {\n        info = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n        ResultSetMetaData resultSetMetaData = resultSet.getMetaData();\n        final int ColumnCount = resultSetMetaData.getColumnCount();\n\n        while (resultSet.next()) {\n            ArrayList&lt;String&gt; temp = new ArrayList&lt;&gt;();\n            for (int j = 1; j &lt;= ColumnCount; j++)\n                temp.add(resultSet.getString(j));\n            info.add(temp);\n        }\n    }\n\n    /*\n     *  Sending sql query to database\n     *  Param - cmd (sql request)\n     *  Return - ArrayList&lt;ArrayList&lt;String&gt;&gt;\n     * */\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; command(String cmd) throws SQLException {\n        return command(cmd, CommandType.Another);\n    }\n\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; command(String cmd, CommandType type) throws SQLException {\n\n        connectionOpen();\n\n        if(connection != null) {\n\n            try {\n\n                statement = connection.createStatement();\n                resultSet = statement.executeQuery(cmd);\n\n                if(type == CommandType.Select) {\n\n                    writeDataToList();\n                }\n                \n            } catch (SQLException ex) {\n                System.out.println(ex.getMessage());\n\n            } finally {\n                try {\n                    resultSet.close();\n                } catch (Exception e) { /* Ignored */ }\n                try {\n                    statement.close();\n                } catch (Exception e) { /* Ignored */ }\n                try {\n                    connectionClose();\n                } catch (Exception e) { /* Ignored */ }\n            }\n        }else\n            throw new SQLException(&quot;Failed connection&quot;);\n\n        return info;\n    }\n\n    public enum CommandType{\n        Select, Another\n    }\n}\n\n</code></pre>\n<p>I tried to create a sql query using PreparedStatement, but the problem is that you can’t get the connection variable from outside, and I can’t figure out how to correctly form a method that would generate this query.</p>\n"},{"tags":["java","android","date","formatting","android-studio"],"comments":[{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1382968514,"post_id":19636583,"comment_id":29154341,"body_markdown":"For this need, I would just use some `if/else if/else` statements.","body":"For this need, I would just use some <code>if&#47;else if&#47;else</code> statements."},{"owner":{"account_id":3320383,"reputation":1548,"user_id":2791703,"display_name":"dARKpRINCE"},"score":0,"creation_date":1382968643,"post_id":19636583,"comment_id":29154439,"body_markdown":"Depending on how much granularity you need, using conditional statements would make most sense.","body":"Depending on how much granularity you need, using conditional statements would make most sense."},{"owner":{"account_id":1605503,"reputation":123,"user_id":1485686,"display_name":"Thomas K"},"score":0,"creation_date":1382968800,"post_id":19636583,"comment_id":29154549,"body_markdown":"Maybe a nice Lib for that: http://ocpsoft.org/prettytime/","body":"Maybe a nice Lib for that: <a href=\"http://ocpsoft.org/prettytime/\" rel=\"nofollow noreferrer\">ocpsoft.org/prettytime</a>"},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1382970011,"post_id":19636583,"comment_id":29155431,"body_markdown":"There&#39;s `android.text.format.DateUtils` with various relative time formatting helpers e.g. `getRelativeTimeSpanString()`. The implementation isn&#39;t structurally too different from yours: https://github.com/android/platform_frameworks_base/blob/master/core/java/android/text/format/DateUtils.java","body":"There&#39;s <code>android.text.format.DateUtils</code> with various relative time formatting helpers e.g. <code>getRelativeTimeSpanString()</code>. The implementation isn&#39;t structurally too different from yours: <a href=\"https://github.com/android/platform_frameworks_base/blob/master/core/java/android/text/format/DateUtils.java\" rel=\"nofollow noreferrer\">github.com/android/platform_frameworks_base/blob/master/core&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"score":1,"creation_date":1382970806,"post_id":19636583,"comment_id":29155931,"body_markdown":"Solved it, if you watched answers before, I had a little mistake in the code, so &quot;refresh&quot; it and enjoy :)","body":"Solved it, if you watched answers before, I had a little mistake in the code, so &quot;refresh&quot; it and enjoy :)"},{"owner":{"account_id":1763666,"reputation":1908,"user_id":1610071,"accept_rate":55,"display_name":"Jammo"},"score":0,"creation_date":1382970957,"post_id":19636583,"comment_id":29156024,"body_markdown":"Yes, thanks. I saw you missed &quot;day&quot;. I&#39;ve used your version with a slight change. Many thanks","body":"Yes, thanks. I saw you missed &quot;day&quot;. I&#39;ve used your version with a slight change. Many thanks"}],"answers":[{"comments":[{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1598582206,"post_id":19636746,"comment_id":112512285,"body_markdown":"This is nice. Clean and simple.","body":"This is nice. Clean and simple."},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1598585390,"post_id":19636746,"comment_id":112512904,"body_markdown":"I modified this with an additional conditional, which is `minutes%60 == 0`, and instead of displaying &quot;0 minutes&quot; it just displays the hours, like &quot;3 hours&quot;. Much cleaner for those hourly durations.","body":"I modified this with an additional conditional, which is <code>minutes%60 == 0</code>, and instead of displaying &quot;0 minutes&quot; it just displays the hours, like &quot;3 hours&quot;. Much cleaner for those hourly durations."},{"owner":{"account_id":7916052,"reputation":1505,"user_id":5978440,"display_name":"Sniffer"},"score":0,"creation_date":1640943228,"post_id":19636746,"comment_id":124695332,"body_markdown":"Can you update the answer @JoshuaPinter","body":"Can you update the answer @JoshuaPinter"},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":1,"creation_date":1641330565,"post_id":19636746,"comment_id":124776639,"body_markdown":"@Sniffer Updated, including better sample output! Happy New Year!","body":"@Sniffer Updated, including better sample output! Happy New Year!"},{"owner":{"account_id":7916052,"reputation":1505,"user_id":5978440,"display_name":"Sniffer"},"score":1,"creation_date":1644736297,"post_id":19636746,"comment_id":125682057,"body_markdown":"@JoshuaPinter Thanks man. It&#39;s works perfectly,\n Happy New Year too :)","body":"@JoshuaPinter Thanks man. It&#39;s works perfectly,  Happy New Year too :)"}],"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641330534,"creation_date":1382968773,"answer_id":19636746,"question_id":19636583,"body_markdown":"I would use some dummy `if/else if/else` statements : \r\n\r\n    public static String convert(int minutes) {\r\n      if(minutes &lt; 60) {\r\n        return String.format(&quot;%d mins&quot;, minutes);\r\n      } else if(minutes % 60 == 0) { // No minutes - i.e. not a fractional hour.\r\n        return String.format(&quot;%d hrs&quot;, minutes/60);\r\n      } else if(minutes &lt; 1440) { //1 day = 1440 minutes\r\n        return String.format(&quot;%d hrs, %d mins&quot;, minutes/60, minutes%60);\r\n      } else {\r\n        return String.format(&quot;%d days&quot;, minutes / 1440);\r\n      }\r\n    }\r\n\r\n### Sample Output\r\n    \r\n    System.out.println(convert(24));   //=&gt; 24 mins\r\n    System.out.println(convert(120));  //=&gt; 2 hrs\r\n    System.out.println(convert(84));   //=&gt; 1 hrs, 24 mins\r\n    System.out.println(convert(2880)); //=&gt; 2 days\r\n","title":"Convert minutes into a human readable format","body":"<p>I would use some dummy <code>if/else if/else</code> statements :</p>\n<pre><code>public static String convert(int minutes) {\n  if(minutes &lt; 60) {\n    return String.format(&quot;%d mins&quot;, minutes);\n  } else if(minutes % 60 == 0) { // No minutes - i.e. not a fractional hour.\n    return String.format(&quot;%d hrs&quot;, minutes/60);\n  } else if(minutes &lt; 1440) { //1 day = 1440 minutes\n    return String.format(&quot;%d hrs, %d mins&quot;, minutes/60, minutes%60);\n  } else {\n    return String.format(&quot;%d days&quot;, minutes / 1440);\n  }\n}\n</code></pre>\n<h3>Sample Output</h3>\n<pre><code>System.out.println(convert(24));   //=&gt; 24 mins\nSystem.out.println(convert(120));  //=&gt; 2 hrs\nSystem.out.println(convert(84));   //=&gt; 1 hrs, 24 mins\nSystem.out.println(convert(2880)); //=&gt; 2 days\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382969263,"creation_date":1382968967,"answer_id":19636827,"question_id":19636583,"body_markdown":"maybe this helps you\r\n\r\n\tprivate static final int MINUTES_PER_HOUR = 60;\r\n\tprivate static final int MINUTES_PER_DAY = MINUTES_PER_HOUR * 24;\r\n\r\n\tpublic String minutesToHumanReadable(long minutes) {\r\n\t\tif (minutes &gt; MINUTES_PER_DAY) {\r\n\t\t\treturn String.format(&quot;&gt; %d days&quot;, minutes / MINUTES_PER_DAY);\r\n\t\t} else if (minutes &gt; MINUTES_PER_HOUR) {\r\n\t\t\treturn String.format(&quot;&gt; %d hours&quot;, minutes / MINUTES_PER_HOUR);\r\n\t\t}\r\n\r\n\t\treturn String.format(&quot;%d minutes&quot;, minutes);\r\n\t}\r\n","title":"Convert minutes into a human readable format","body":"<p>maybe this helps you</p>\n\n<pre><code>private static final int MINUTES_PER_HOUR = 60;\nprivate static final int MINUTES_PER_DAY = MINUTES_PER_HOUR * 24;\n\npublic String minutesToHumanReadable(long minutes) {\n    if (minutes &gt; MINUTES_PER_DAY) {\n        return String.format(\"&gt; %d days\", minutes / MINUTES_PER_DAY);\n    } else if (minutes &gt; MINUTES_PER_HOUR) {\n        return String.format(\"&gt; %d hours\", minutes / MINUTES_PER_HOUR);\n    }\n\n    return String.format(\"%d minutes\", minutes);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1763666,"reputation":1908,"user_id":1610071,"accept_rate":55,"display_name":"Jammo"},"score":0,"creation_date":1382970981,"post_id":19637037,"comment_id":29156035,"body_markdown":"Thanks. I used this with a slight change (now you&#39;ve also changed yours to include &#39;day&#39;)\n\n        int[] minBoundaries =    {1,     60,   60*24, 60*24*7, 60*24*7*4, 60*24*365};\n        String[] boundaryNames = {&quot;min&quot;, &quot;hr&quot;, &quot;day&quot;, &quot;wk&quot;,    &quot;mth&quot;,     &quot;yr&quot;};","body":"Thanks. I used this with a slight change (now you&#39;ve also changed yours to include &#39;day&#39;)          int[] minBoundaries =    {1,     60,   60*24, 60*24*7, 60*24*7*4, 60*24*365};         String[] boundaryNames = {&quot;min&quot;, &quot;hr&quot;, &quot;day&quot;, &quot;wk&quot;,    &quot;mth&quot;,     &quot;yr&quot;};"},{"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"score":0,"creation_date":1382971062,"post_id":19637037,"comment_id":29156081,"body_markdown":"Yea I forgot to add &quot;days&quot; first :)","body":"Yea I forgot to add &quot;days&quot; first :)"}],"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1382970491,"creation_date":1382969518,"answer_id":19637037,"question_id":19636583,"body_markdown":"Well it is possible, I figure it out and I am proud of it! :)\r\nNote that you can easily add any other value without changing the method itself, only by changing values in these two arrays. For example, if &quot;years&quot; are not enough for you, you can add &quot;decades&quot; and &quot;centuries&quot;...\r\n\r\nThis code also adding &quot;s&quot; letter at the end, if you have more than 1 of output value.\r\n\r\n    public class SuperMinutesChangerClass {\r\n        public static int[] barriers = {1, 60, 60*24, 60*24*7, 60*24*365, Integer.MAX_VALUE};\r\n        public static String[] text = {&quot;min&quot;, &quot;hr&quot;, &quot;day&quot;, &quot;week&quot;, &quot;year&quot;};\r\n            \r\n        public static String minutesToHumanReadable(int minutes){\r\n            String toReturn = &quot;&quot;;\r\n            for (int i = 1; i &lt; barriers.length; i++) {\r\n                if (minutes &lt; barriers[i]){\r\n                    int ammount = (minutes/barriers[i-1]);\r\n                    toReturn = &quot;&gt;&quot; + (ammount) + &quot; &quot; + text[i-1];\r\n                    if (ammount &gt; 1){\r\n                        toReturn += &quot;s&quot;;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            return toReturn;\r\n        }         \r\n    }\r\n\r\nSample input :\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(minutesToHumanReadable(10));\r\n            System.out.println(minutesToHumanReadable(60));\r\n            System.out.println(minutesToHumanReadable(61));\r\n            System.out.println(minutesToHumanReadable(121));\r\n            System.out.println(minutesToHumanReadable(8887));\r\n            System.out.println(minutesToHumanReadable(9999743));\r\n        }  \r\n\r\nOutput is :\r\n\r\n    &gt;10 mins\r\n    &gt;1 hr\r\n    &gt;1 hr\r\n    &gt;2 hrs\r\n    &gt;6 days\r\n    &gt;19 years","title":"Convert minutes into a human readable format","body":"<p>Well it is possible, I figure it out and I am proud of it! :)\nNote that you can easily add any other value without changing the method itself, only by changing values in these two arrays. For example, if \"years\" are not enough for you, you can add \"decades\" and \"centuries\"...</p>\n\n<p>This code also adding \"s\" letter at the end, if you have more than 1 of output value.</p>\n\n<pre><code>public class SuperMinutesChangerClass {\n    public static int[] barriers = {1, 60, 60*24, 60*24*7, 60*24*365, Integer.MAX_VALUE};\n    public static String[] text = {\"min\", \"hr\", \"day\", \"week\", \"year\"};\n\n    public static String minutesToHumanReadable(int minutes){\n        String toReturn = \"\";\n        for (int i = 1; i &lt; barriers.length; i++) {\n            if (minutes &lt; barriers[i]){\n                int ammount = (minutes/barriers[i-1]);\n                toReturn = \"&gt;\" + (ammount) + \" \" + text[i-1];\n                if (ammount &gt; 1){\n                    toReturn += \"s\";\n                }\n                break;\n            }\n        }\n        return toReturn;\n    }         \n}\n</code></pre>\n\n<p>Sample input :</p>\n\n<pre><code>    public static void main(String[] args) {\n        System.out.println(minutesToHumanReadable(10));\n        System.out.println(minutesToHumanReadable(60));\n        System.out.println(minutesToHumanReadable(61));\n        System.out.println(minutesToHumanReadable(121));\n        System.out.println(minutesToHumanReadable(8887));\n        System.out.println(minutesToHumanReadable(9999743));\n    }  \n</code></pre>\n\n<p>Output is :</p>\n\n<pre><code>&gt;10 mins\n&gt;1 hr\n&gt;1 hr\n&gt;2 hrs\n&gt;6 days\n&gt;19 years\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17864232,"reputation":1,"user_id":21136580,"display_name":"EJV "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675376831,"creation_date":1675376690,"answer_id":75329549,"question_id":19636583,"body_markdown":"Improving answer by Joshua Pinter and Arnaud Denoyelle.\r\n\r\n   \r\n\r\n \r\n\r\n        fun convertMinutesToHumanReadable(minutes: Int, context: Context): String {\r\n        return if (minutes &lt; 60) {\r\n            &quot;$minutes ${context.resources.getQuantityString(R.plurals.minutes_abbrev, minutes)}&quot;\r\n        } else if (minutes % 60 == 0 &amp;&amp; minutes &lt; 1440) {\r\n            val hours1 = minutes / 60\r\n            &quot;$hours1 ${context.resources.getQuantityString(R.plurals.hours_abbrev, hours1)}&quot;\r\n        } else if (minutes &lt; 1440) {\r\n            val hours1 = minutes / 60\r\n            val minutes1 = minutes % 60\r\n            &quot;$hours1 ${\r\n                context.resources.getQuantityString(\r\n                    R.plurals.hours_abbrev, hours1\r\n                )\r\n            }, $minutes1 ${\r\n                context.resources.getQuantityString(\r\n                    R.plurals.minutes_abbrev, minutes1\r\n                )\r\n            } &quot;\r\n        } else if (minutes % 1440 == 0) {\r\n            val days1 = minutes / 1440\r\n            &quot;$days1 ${context.resources.getQuantityString(R.plurals.days, days1)}&quot;\r\n        } else {\r\n            val days1 = minutes / 1440\r\n            &quot;$days1 ${context.resources.getQuantityString(R.plurals.days, days1)}, &quot;.plus(\r\n                convertMinutesHumanReadable(minutes % 1440, context)\r\n            )\r\n        }\r\n    }\r\n\r\nAnd add this to res/values/strings.xml file\r\n\r\n    &lt;plurals name=&quot;minutes_abbrev&quot;&gt;\r\n            &lt;item quantity=&quot;one&quot;&gt;min&lt;/item&gt;\r\n            &lt;item quantity=&quot;other&quot;&gt;mins&lt;/item&gt;\r\n        &lt;/plurals&gt;\r\n        &lt;plurals name=&quot;hours_abbrev&quot;&gt;\r\n            &lt;item quantity=&quot;one&quot;&gt;hr&lt;/item&gt;\r\n            &lt;item quantity=&quot;other&quot;&gt;hrs&lt;/item&gt;\r\n        &lt;/plurals&gt;\r\n        &lt;plurals name=&quot;days&quot;&gt;\r\n            &lt;item quantity=&quot;one&quot;&gt;day&lt;/item&gt;\r\n            &lt;item quantity=&quot;other&quot;&gt;days&lt;/item&gt;\r\n        &lt;/plurals&gt;\r\n\r\nIn this way it will show singular or plural depending on the amount and also supports values ​​larger than one day.  For example: 2 days, 8 hrs, 23 mins or 1 day, 2 hrs, 1 min","title":"Convert minutes into a human readable format","body":"<p>Improving answer by Joshua Pinter and Arnaud Denoyelle.</p>\n<pre><code>    fun convertMinutesToHumanReadable(minutes: Int, context: Context): String {\n    return if (minutes &lt; 60) {\n        &quot;$minutes ${context.resources.getQuantityString(R.plurals.minutes_abbrev, minutes)}&quot;\n    } else if (minutes % 60 == 0 &amp;&amp; minutes &lt; 1440) {\n        val hours1 = minutes / 60\n        &quot;$hours1 ${context.resources.getQuantityString(R.plurals.hours_abbrev, hours1)}&quot;\n    } else if (minutes &lt; 1440) {\n        val hours1 = minutes / 60\n        val minutes1 = minutes % 60\n        &quot;$hours1 ${\n            context.resources.getQuantityString(\n                R.plurals.hours_abbrev, hours1\n            )\n        }, $minutes1 ${\n            context.resources.getQuantityString(\n                R.plurals.minutes_abbrev, minutes1\n            )\n        } &quot;\n    } else if (minutes % 1440 == 0) {\n        val days1 = minutes / 1440\n        &quot;$days1 ${context.resources.getQuantityString(R.plurals.days, days1)}&quot;\n    } else {\n        val days1 = minutes / 1440\n        &quot;$days1 ${context.resources.getQuantityString(R.plurals.days, days1)}, &quot;.plus(\n            convertMinutesHumanReadable(minutes % 1440, context)\n        )\n    }\n}\n</code></pre>\n<p>And add this to res/values/strings.xml file</p>\n<pre><code>&lt;plurals name=&quot;minutes_abbrev&quot;&gt;\n        &lt;item quantity=&quot;one&quot;&gt;min&lt;/item&gt;\n        &lt;item quantity=&quot;other&quot;&gt;mins&lt;/item&gt;\n    &lt;/plurals&gt;\n    &lt;plurals name=&quot;hours_abbrev&quot;&gt;\n        &lt;item quantity=&quot;one&quot;&gt;hr&lt;/item&gt;\n        &lt;item quantity=&quot;other&quot;&gt;hrs&lt;/item&gt;\n    &lt;/plurals&gt;\n    &lt;plurals name=&quot;days&quot;&gt;\n        &lt;item quantity=&quot;one&quot;&gt;day&lt;/item&gt;\n        &lt;item quantity=&quot;other&quot;&gt;days&lt;/item&gt;\n    &lt;/plurals&gt;\n</code></pre>\n<p>In this way it will show singular or plural depending on the amount and also supports values ​​larger than one day.  For example: 2 days, 8 hrs, 23 mins or 1 day, 2 hrs, 1 min</p>\n"}],"owner":{"account_id":1763666,"reputation":1908,"user_id":1610071,"accept_rate":55,"display_name":"Jammo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2086,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":19637037,"answer_count":4,"score":5,"last_activity_date":1675376831,"creation_date":1382968303,"question_id":19636583,"body_markdown":"quick question.\r\n\r\nIs there a smarter/sleeker way to convert minutes into a more readable format, showing only the most significant digit?\r\n\r\nI&#39;m using Android Studio&#39;s Java.\r\n\r\n    public String MinutesToHumanReadable(Long minutes) {\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\nie \r\n\r\n    2 mins = &quot;2 mins&quot;\r\n    45 mins = &quot;45 mins&quot;\r\n    60 mins = &quot;&gt;1 hr&quot;\r\n    85 mins = &quot;&gt;1 hr&quot;\r\n    120 mins = &quot;&gt;2 hrs&quot;\r\n    200 mins = &quot;&gt;3 hrs&quot;\r\n    1500 mins = &quot;&gt;1 day&quot;\r\n\r\nMy code is very cumbersome, sloppy, and somewhat unreadable.\r\n\r\n    public String MinutesToHumanReadable(long minutes) {\r\n        String sReturn = &quot;&quot;;\r\n\r\n        if (minutes &gt; 515600) {\r\n            sReturn = &quot;&gt; 1 yr&quot;;\r\n\r\n        } else if (minutes &gt; 43200) {\r\n            sReturn = (minutes / 43200) + &quot; mths&quot;;\r\n\r\n        } else if (minutes &gt; 10080) {\r\n            sReturn = (minutes / 10080) + &quot; wks&quot;;\r\n\r\n        } else if (minutes &gt; 1440) {\r\n            sReturn = (minutes / 1440) + &quot; days&quot;;\r\n\r\n        } else if (minutes &gt; 60) {\r\n            sReturn = (minutes / 60) + &quot; hrs&quot;;\r\n\r\n        } else {\r\n            //&lt;60\r\n            sReturn = minutes + &quot; mins&quot;;\r\n\r\n        }\r\n\r\n        return sReturn;\r\n    }\r\n\r\n\r\nMany thanks,\r\nJ","title":"Convert minutes into a human readable format","body":"<p>quick question.</p>\n\n<p>Is there a smarter/sleeker way to convert minutes into a more readable format, showing only the most significant digit?</p>\n\n<p>I'm using Android Studio's Java.</p>\n\n<pre><code>public String MinutesToHumanReadable(Long minutes) {\n\n...\n\n}\n</code></pre>\n\n<p>ie </p>\n\n<pre><code>2 mins = \"2 mins\"\n45 mins = \"45 mins\"\n60 mins = \"&gt;1 hr\"\n85 mins = \"&gt;1 hr\"\n120 mins = \"&gt;2 hrs\"\n200 mins = \"&gt;3 hrs\"\n1500 mins = \"&gt;1 day\"\n</code></pre>\n\n<p>My code is very cumbersome, sloppy, and somewhat unreadable.</p>\n\n<pre><code>public String MinutesToHumanReadable(long minutes) {\n    String sReturn = \"\";\n\n    if (minutes &gt; 515600) {\n        sReturn = \"&gt; 1 yr\";\n\n    } else if (minutes &gt; 43200) {\n        sReturn = (minutes / 43200) + \" mths\";\n\n    } else if (minutes &gt; 10080) {\n        sReturn = (minutes / 10080) + \" wks\";\n\n    } else if (minutes &gt; 1440) {\n        sReturn = (minutes / 1440) + \" days\";\n\n    } else if (minutes &gt; 60) {\n        sReturn = (minutes / 60) + \" hrs\";\n\n    } else {\n        //&lt;60\n        sReturn = minutes + \" mins\";\n\n    }\n\n    return sReturn;\n}\n</code></pre>\n\n<p>Many thanks,\nJ</p>\n"},{"tags":["java","junit5","cartesian-product","parameterized-unit-test"],"answers":[{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1675372394,"post_id":75328546,"comment_id":132920884,"body_markdown":"JUnit Pioneer is what I always see when people start talking about caresian products.  Worth expanding out into its own full, separate answer","body":"JUnit Pioneer is what I always see when people start talking about caresian products.  Worth expanding out into its own full, separate answer"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1675373144,"post_id":75328546,"comment_id":132921068,"body_markdown":"@M.Justin Unfortunately JUnit Pioneer is not an option for me. Something about corporate security policy. :(","body":"@M.Justin Unfortunately JUnit Pioneer is not an option for me. Something about corporate security policy. :("}],"tags":[],"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675376433,"creation_date":1675369233,"answer_id":75328546,"question_id":63577965,"body_markdown":"For my use-case I was able to do something like this:\r\n\r\n    import com.google.common.collect.Lists;\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.MethodSource;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class SampleTest {\r\n    \r\n        @ParameterizedTest\r\n        @MethodSource\r\n        void testSomething(List&lt;String&gt; list) {\r\n            System.out.println(list);\r\n            // do something\r\n            // assert something\r\n        }\r\n    \r\n        private static Stream&lt;List&lt;String&gt;&gt; testSomething() {\r\n            List&lt;String&gt; one = Arrays.asList(&quot;waz&quot;, &quot;yaz&quot;, &quot;zaz&quot;);\r\n            List&lt;String&gt; two = Arrays.asList(&quot;foo&quot;, &quot;bar&quot;);\r\n            List&lt;List&lt;String&gt;&gt; product = Lists.cartesianProduct(one, two);\r\n            return product.stream();\r\n        }\r\n    }\r\n\r\nYou would have to read your .csv into some `List` or something similar. Of course getting the name of the .csv from an annotation could be a challenge; maybe [Custom Annotation][1] could help, but I did not dig that far.\r\n\r\nPossibly also worth looking at: [Introduce ArgumentsProvider that computes the cartesian product of collections of datapoints][2], which will lead you to [JUnit Pioneer][3].\r\n\r\n\r\n  [1]: https://www.baeldung.com/parameterized-tests-junit-5#8-custom-annotation\r\n  [2]: https://github.com/junit-team/junit5/issues/1427\r\n  [3]: https://github.com/junit-pioneer/junit-pioneer","title":"JUnit5 multiple sources for different arguments (cartesian product)","body":"<p>For my use-case I was able to do something like this:</p>\n<pre><code>import com.google.common.collect.Lists;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.MethodSource;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Stream;\n\npublic class SampleTest {\n\n    @ParameterizedTest\n    @MethodSource\n    void testSomething(List&lt;String&gt; list) {\n        System.out.println(list);\n        // do something\n        // assert something\n    }\n\n    private static Stream&lt;List&lt;String&gt;&gt; testSomething() {\n        List&lt;String&gt; one = Arrays.asList(&quot;waz&quot;, &quot;yaz&quot;, &quot;zaz&quot;);\n        List&lt;String&gt; two = Arrays.asList(&quot;foo&quot;, &quot;bar&quot;);\n        List&lt;List&lt;String&gt;&gt; product = Lists.cartesianProduct(one, two);\n        return product.stream();\n    }\n}\n</code></pre>\n<p>You would have to read your .csv into some <code>List</code> or something similar. Of course getting the name of the .csv from an annotation could be a challenge; maybe <a href=\"https://www.baeldung.com/parameterized-tests-junit-5#8-custom-annotation\" rel=\"nofollow noreferrer\">Custom Annotation</a> could help, but I did not dig that far.</p>\n<p>Possibly also worth looking at: <a href=\"https://github.com/junit-team/junit5/issues/1427\" rel=\"nofollow noreferrer\">Introduce ArgumentsProvider that computes the cartesian product of collections of datapoints</a>, which will lead you to <a href=\"https://github.com/junit-pioneer/junit-pioneer\" rel=\"nofollow noreferrer\">JUnit Pioneer</a>.</p>\n"}],"owner":{"account_id":10826427,"reputation":509,"user_id":7962200,"display_name":"Madjosz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1007,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1675376433,"creation_date":1598355300,"question_id":63577965,"body_markdown":"I am trying to write a test with JUnit 5 which should test multiple combinations of some parameters. Essentially I want to test some cartesian product of inputs from different sources. Consider the following test:\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.CsvFileSource;\r\n    class CartesianProductTest {\r\n\r\n        @ParameterizedTest\r\n        @CsvFileSource(resources = { &quot;values.csv&quot; })\r\n        void testIt(int input, int expected, int otherParameter) {\r\n            assertEquals(expected, methodUnderTest(input, otherParameter));\r\n        }\r\n    }\r\n\r\nThe problem is now that I only have `input` and `expected` in the `values.csv` and the `otherParameter` should be tested for some fixed values that `methodUnderTest()` always returns the expected value for all these values. Somehow I have to provide a cartesian product of all the values in my CSV and all the values `otherParameter` can take. I looked at https://stackoverflow.com/a/57648088/7962200 but this needs to either hardcode all my test cases or read the CSV manually to provide a Stream of the values. I thought more of something like\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import java.util.stream.Stream;\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.Arguments;\r\n    import org.junit.jupiter.params.provider.CsvFileSource;\r\n    class CartesianProductTest {\r\n\r\n        @ParameterizedTest\r\n        @MethodSource\r\n        void testIt(int input, int expected, int otherParameter) {\r\n            assertEquals(expected, methodUnderTest(input, otherParameter));\r\n        }\r\n\r\n        static Stream&lt;Arguments&gt; testIt() {\r\n             return csvValues().flatMap(csv -&gt;\r\n                 otherParams().map(otherParam -&gt; Arguments.of(csv, otherParam)));\r\n        }\r\n\r\n        @CsvFileSource(resources = { &quot;values.csv&quot; })\r\n        static Stream&lt;Arguments&gt; csvValues() {/* get somehow from Annotation */}\r\n        @CsvFileSource(resources = { &quot;otherparam.csv&quot; })\r\n        static Stream&lt;Arguments&gt; otherParams() {/* get somehow from Annotation */}\r\n    }","title":"JUnit5 multiple sources for different arguments (cartesian product)","body":"<p>I am trying to write a test with JUnit 5 which should test multiple combinations of some parameters. Essentially I want to test some cartesian product of inputs from different sources. Consider the following test:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.CsvFileSource;\nclass CartesianProductTest {\n\n    @ParameterizedTest\n    @CsvFileSource(resources = { &quot;values.csv&quot; })\n    void testIt(int input, int expected, int otherParameter) {\n        assertEquals(expected, methodUnderTest(input, otherParameter));\n    }\n}\n</code></pre>\n<p>The problem is now that I only have <code>input</code> and <code>expected</code> in the <code>values.csv</code> and the <code>otherParameter</code> should be tested for some fixed values that <code>methodUnderTest()</code> always returns the expected value for all these values. Somehow I have to provide a cartesian product of all the values in my CSV and all the values <code>otherParameter</code> can take. I looked at <a href=\"https://stackoverflow.com/a/57648088/7962200\">https://stackoverflow.com/a/57648088/7962200</a> but this needs to either hardcode all my test cases or read the CSV manually to provide a Stream of the values. I thought more of something like</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport java.util.stream.Stream;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.Arguments;\nimport org.junit.jupiter.params.provider.CsvFileSource;\nclass CartesianProductTest {\n\n    @ParameterizedTest\n    @MethodSource\n    void testIt(int input, int expected, int otherParameter) {\n        assertEquals(expected, methodUnderTest(input, otherParameter));\n    }\n\n    static Stream&lt;Arguments&gt; testIt() {\n         return csvValues().flatMap(csv -&gt;\n             otherParams().map(otherParam -&gt; Arguments.of(csv, otherParam)));\n    }\n\n    @CsvFileSource(resources = { &quot;values.csv&quot; })\n    static Stream&lt;Arguments&gt; csvValues() {/* get somehow from Annotation */}\n    @CsvFileSource(resources = { &quot;otherparam.csv&quot; })\n    static Stream&lt;Arguments&gt; otherParams() {/* get somehow from Annotation */}\n}\n</code></pre>\n"},{"tags":["java","libgdx","apache-commons-compress"],"comments":[{"owner":{"account_id":14664831,"reputation":57,"user_id":10590961,"display_name":"Happy Man"},"score":1,"creation_date":1681197677,"post_id":75329244,"comment_id":134013341,"body_markdown":"I am also facing the same problem. Did you find a solution?","body":"I am also facing the same problem. Did you find a solution?"},{"owner":{"account_id":330135,"reputation":4446,"user_id":654070,"accept_rate":62,"display_name":"Will Calderwood"},"score":0,"creation_date":1689097579,"post_id":75329244,"comment_id":135163971,"body_markdown":"It&#39;s related to the Gradle build tools version, but that&#39;s all I&#39;ve managed to establish so far. I get the same issue with 7.2.2.","body":"It&#39;s related to the Gradle build tools version, but that&#39;s all I&#39;ve managed to establish so far. I get the same issue with 7.2.2."},{"owner":{"account_id":330135,"reputation":4446,"user_id":654070,"accept_rate":62,"display_name":"Will Calderwood"},"score":0,"creation_date":1689097823,"post_id":75329244,"comment_id":135164011,"body_markdown":"Reverting back to 4.2.0 resolves the issue, but this obviously doesn&#39;t explain the cause and isn&#39;t a long term fix.","body":"Reverting back to 4.2.0 resolves the issue, but this obviously doesn&#39;t explain the cause and isn&#39;t a long term fix."}],"owner":{"account_id":27689240,"reputation":1,"user_id":21136295,"display_name":"user21136295"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675376228,"creation_date":1675374105,"question_id":75329244,"body_markdown":"EDIT: I fixed it, the problem was that I was not using the same android api and sdks as the ones used by libgdx.\r\n\r\nI am trying to build my first libgdx project on android studio but I get an error:\r\n\r\n`A build operation failed.\r\n    &#39;void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)&#39;\r\n&#39;void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)&#39;`\r\n\r\n[image of the error][1]\r\n\r\n\r\n\r\nI am using the latest version of android studio, the latest libgdx setup tool and jdk 18.\r\n\r\nThe following is my build.gradle file\r\n\r\n`buildscript {\r\n    \r\n\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &#39;org.wisepersist:gwt-gradle-plugin:1.1.16&#39;\r\n        classpath &#39;org.gretty:gretty:3.0.7&#39;\r\n        classpath &#39;com.android.tools.build:gradle:7.2.2&#39;\r\n        classpath &#39;com.mobidevelop.robovm:robovm-gradle-plugin:2.3.16&#39;\r\n        \r\n\r\n    }\r\n}\r\n\r\nallprojects {\r\n    apply plugin: &quot;eclipse&quot;\r\n\r\n    version = &#39;1.0&#39;\r\n    ext {\r\n        appName = &quot;JumpMaster&quot;\r\n        gdxVersion = &#39;1.11.0&#39;\r\n        roboVMVersion = &#39;2.3.16&#39;\r\n        box2DLightsVersion = &#39;1.5&#39;\r\n        ashleyVersion = &#39;1.7.4&#39;\r\n        aiVersion = &#39;1.8.2&#39;\r\n        gdxControllersVersion = &#39;2.2.1&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n        google()\r\n        gradlePluginPortal()\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n}\r\n\r\nproject(&quot;:desktop&quot;) {\r\n    apply plugin: &quot;java-library&quot;\r\n\r\n\r\n    dependencies {\r\n        implementation project(&quot;:core&quot;)\r\n        api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-desktop&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-desktop:$gdxControllersVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\r\n        \r\n    }\r\n}\r\n\r\nproject(&quot;:android&quot;) {\r\n    apply plugin: &quot;com.android.application&quot;\r\n\r\n    configurations { natives }\r\n\r\n    dependencies {\r\n        implementation project(&quot;:core&quot;)\r\n        api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-bullet:$gdxVersion&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-x86&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-x86_64&quot;\r\n        api &quot;com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion&quot;\r\n        api &quot;com.badlogicgames.ashley:ashley:$ashleyVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-ai:$aiVersion&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-android:$gdxControllersVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\r\n        natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\r\n        \r\n    }\r\n}\r\n\r\nproject(&quot;:ios&quot;) {\r\n    apply plugin: &quot;java-library&quot;\r\n    apply plugin: &quot;robovm&quot;\r\n\r\n\r\n    dependencies {\r\n        implementation project(&quot;:core&quot;)\r\n        api &quot;com.mobidevelop.robovm:robovm-rt:$roboVMVersion&quot;\r\n        api &quot;com.mobidevelop.robovm:robovm-cocoatouch:$roboVMVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-backend-robovm:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-ios&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-ios&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-ios&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-ios:$gdxControllersVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-ios&quot;\r\n        \r\n    }\r\n}\r\n\r\nproject(&quot;:html&quot;) {\r\n    apply plugin: &quot;java-library&quot;\r\n    apply plugin: &quot;gwt&quot;\r\n    apply plugin: &quot;war&quot;\r\n    apply plugin: &quot;org.gretty&quot;\r\n\r\n\r\n    dependencies {\r\n        implementation project(&quot;:core&quot;)\r\n        api &quot;com.badlogicgames.gdx:gdx-backend-gwt:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx:$gdxVersion:sources&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-backend-gwt:$gdxVersion:sources&quot;\r\n        api &quot;com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion:sources&quot;\r\n        api &quot;com.badlogicgames.ashley:ashley:$ashleyVersion:sources&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-ai:$aiVersion:sources&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-core:$gdxControllersVersion:sources&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-gwt:$gdxControllersVersion&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-gwt:$gdxControllersVersion:sources&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion:sources&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d-gwt:$gdxVersion:sources&quot;\r\n        \r\n    }\r\n}\r\n\r\nproject(&quot;:core&quot;) {\r\n    apply plugin: &quot;java-library&quot;\r\n\r\n\r\n    dependencies {\r\n        api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-bullet:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion&quot;\r\n        api &quot;com.badlogicgames.ashley:ashley:$ashleyVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-ai:$aiVersion&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-core:$gdxControllersVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n        \r\n    }\r\n}\r\n`\r\n\r\nI tried rebuilding it several times and making new projects but for some reason my project won&#39;t build in android studio. I even tried in IntelliJ Idea but that didn&#39;t work either (im pretty sure that&#39;s because android studio is built off of intellij idea).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wenS8.png","title":"Libgdx and android studio","body":"<p>EDIT: I fixed it, the problem was that I was not using the same android api and sdks as the ones used by libgdx.</p>\n<p>I am trying to build my first libgdx project on android studio but I get an error:</p>\n<p><code>A build operation failed. 'void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)' 'void org.apache.commons.compress.archivers.zip.ZipFile.&lt;init&gt;(java.nio.channels.SeekableByteChannel)'</code></p>\n<p><a href=\"https://i.stack.imgur.com/wenS8.png\" rel=\"nofollow noreferrer\">image of the error</a></p>\n<p>I am using the latest version of android studio, the latest libgdx setup tool and jdk 18.</p>\n<p>The following is my build.gradle file</p>\n<p>`buildscript {</p>\n<pre><code>repositories {\n    mavenLocal()\n    mavenCentral()\n    gradlePluginPortal()\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n    google()\n}\ndependencies {\n    classpath 'org.wisepersist:gwt-gradle-plugin:1.1.16'\n    classpath 'org.gretty:gretty:3.0.7'\n    classpath 'com.android.tools.build:gradle:7.2.2'\n    classpath 'com.mobidevelop.robovm:robovm-gradle-plugin:2.3.16'\n    \n\n}\n</code></pre>\n<p>}</p>\n<p>allprojects {\napply plugin: &quot;eclipse&quot;</p>\n<pre><code>version = '1.0'\next {\n    appName = &quot;JumpMaster&quot;\n    gdxVersion = '1.11.0'\n    roboVMVersion = '2.3.16'\n    box2DLightsVersion = '1.5'\n    ashleyVersion = '1.7.4'\n    aiVersion = '1.8.2'\n    gdxControllersVersion = '2.2.1'\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    google()\n    gradlePluginPortal()\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n    maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\n    maven { url &quot;https://jitpack.io&quot; }\n}\n</code></pre>\n<p>}</p>\n<p>project(&quot;:desktop&quot;) {\napply plugin: &quot;java-library&quot;</p>\n<pre><code>dependencies {\n    implementation project(&quot;:core&quot;)\n    api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\n    api &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-desktop&quot;\n    api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-desktop:$gdxControllersVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\n    \n}\n</code></pre>\n<p>}</p>\n<p>project(&quot;:android&quot;) {\napply plugin: &quot;com.android.application&quot;</p>\n<pre><code>configurations { natives }\n\ndependencies {\n    implementation project(&quot;:core&quot;)\n    api &quot;com.badlogicgames.gdx:gdx-backend-android:$gdxVersion&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-armeabi-v7a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-arm64-v8a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-x86_64&quot;\n    api &quot;com.badlogicgames.gdx:gdx-bullet:$gdxVersion&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-armeabi-v7a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-arm64-v8a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-x86&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-x86_64&quot;\n    api &quot;com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion&quot;\n    api &quot;com.badlogicgames.ashley:ashley:$ashleyVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-armeabi-v7a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-arm64-v8a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-x86_64&quot;\n    api &quot;com.badlogicgames.gdx:gdx-ai:$aiVersion&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-android:$gdxControllersVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-armeabi-v7a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-arm64-v8a&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86&quot;\n    natives &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-x86_64&quot;\n    \n}\n</code></pre>\n<p>}</p>\n<p>project(&quot;:ios&quot;) {\napply plugin: &quot;java-library&quot;\napply plugin: &quot;robovm&quot;</p>\n<pre><code>dependencies {\n    implementation project(&quot;:core&quot;)\n    api &quot;com.mobidevelop.robovm:robovm-rt:$roboVMVersion&quot;\n    api &quot;com.mobidevelop.robovm:robovm-cocoatouch:$roboVMVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-backend-robovm:$gdxVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-ios&quot;\n    api &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-ios&quot;\n    api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-ios&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-ios:$gdxControllersVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-ios&quot;\n    \n}\n</code></pre>\n<p>}</p>\n<p>project(&quot;:html&quot;) {\napply plugin: &quot;java-library&quot;\napply plugin: &quot;gwt&quot;\napply plugin: &quot;war&quot;\napply plugin: &quot;org.gretty&quot;</p>\n<pre><code>dependencies {\n    implementation project(&quot;:core&quot;)\n    api &quot;com.badlogicgames.gdx:gdx-backend-gwt:$gdxVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx:$gdxVersion:sources&quot;\n    api &quot;com.badlogicgames.gdx:gdx-backend-gwt:$gdxVersion:sources&quot;\n    api &quot;com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion:sources&quot;\n    api &quot;com.badlogicgames.ashley:ashley:$ashleyVersion:sources&quot;\n    api &quot;com.badlogicgames.gdx:gdx-ai:$aiVersion:sources&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-core:$gdxControllersVersion:sources&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-gwt:$gdxControllersVersion&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-gwt:$gdxControllersVersion:sources&quot;\n    api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion:sources&quot;\n    api &quot;com.badlogicgames.gdx:gdx-box2d-gwt:$gdxVersion:sources&quot;\n    \n}\n</code></pre>\n<p>}</p>\n<p>project(&quot;:core&quot;) {\napply plugin: &quot;java-library&quot;</p>\n<pre><code>dependencies {\n    api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-bullet:$gdxVersion&quot;\n    api &quot;com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion&quot;\n    api &quot;com.badlogicgames.ashley:ashley:$ashleyVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-freetype:$gdxVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-ai:$aiVersion&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-core:$gdxControllersVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\n    \n}\n</code></pre>\n<p>}\n`</p>\n<p>I tried rebuilding it several times and making new projects but for some reason my project won't build in android studio. I even tried in IntelliJ Idea but that didn't work either (im pretty sure that's because android studio is built off of intellij idea).</p>\n"},{"tags":["java","docker"],"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675431794,"answer_count":0,"score":0,"last_activity_date":1675376114,"creation_date":1675376114,"question_id":75329496,"body_markdown":"I have a tool that produces the following nice console output\r\n\r\n        \t                  \r\n             &#176;  ┌────┐\r\n     ┌    ┌──┴───────┘\r\n     └────┘        &#176;  \r\n       &#176;&#176;             \r\n    Jinni - version: 2.1.481\r\n    get help with: jinni help\r\n\r\nWhen I put this into a very simple docker container (debian:bullseye) the output becomes distorted to \r\n                      \r\n             ?  ??????\r\n     ?    ????????????\r\n     ??????        ?  \r\n       ??             \r\n    Jinni - version: 2.1.482-pc\r\n    get help with: jinni help\r\n    \r\n    \r\nIs there an obvious fix for this character mess-up?\r\n\r\n","title":"Character in docker console output","body":"<p>I have a tool that produces the following nice console output</p>\n<pre><code>         °  ┌────┐\n ┌    ┌──┴───────┘\n └────┘        °  \n   °°             \nJinni - version: 2.1.481\nget help with: jinni help\n</code></pre>\n<p>When I put this into a very simple docker container (debian:bullseye) the output becomes distorted to</p>\n<pre><code>         ?  ??????\n ?    ????????????\n ??????        ?  \n   ??             \nJinni - version: 2.1.482-pc\nget help with: jinni help\n</code></pre>\n<p>Is there an obvious fix for this character mess-up?</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1675331919,"post_id":75321369,"comment_id":132907332,"body_markdown":"have you tried: MOne one = new MOne(); and so forth?","body":"have you tried: MOne one = new MOne(); and so forth?"},{"owner":{"account_id":1570181,"reputation":304,"user_id":1458041,"accept_rate":0,"display_name":"Mich&#232;le S."},"score":0,"creation_date":1675332911,"post_id":75321369,"comment_id":132907660,"body_markdown":"And how could this help? I want any class, which inherits from Calculation instantiate. I am developing a framework and I don&#39;t know, how the multiply Method will look like, the user has to take care, as well as the user has to choose the class name. The only thing I know is, he will inherit from Calculation.","body":"And how could this help? I want any class, which inherits from Calculation instantiate. I am developing a framework and I don&#39;t know, how the multiply Method will look like, the user has to take care, as well as the user has to choose the class name. The only thing I know is, he will inherit from Calculation."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675332994,"post_id":75321369,"comment_id":132907692,"body_markdown":"your (abstract) base class isn&#39;t supposed to know about inheriting classes. You could, I guess, on loading your classes load all the beans and check if they pass an instanceof test. But if the classes are in another library, good luck with that one","body":"your (abstract) base class isn&#39;t supposed to know about inheriting classes. You could, I guess, on loading your classes load all the beans and check if they pass an instanceof test. But if the classes are in another library, good luck with that one"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675333424,"post_id":75321369,"comment_id":132907824,"body_markdown":"Could you elaborate on this &quot;framework&quot;? How is it supposed to be used? Because this could be as simple as just having the user provide the `Calculation` implementation to as complex as run-time discovery of implementations with instantiation via reflection (one might consider making use of the [service loader mechanism](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ServiceLoader.html) to be &quot;between&quot; those two extremes).","body":"Could you elaborate on this &quot;framework&quot;? How is it supposed to be used? Because this could be as simple as just having the user provide the <code>Calculation</code> implementation to as complex as run-time discovery of implementations with instantiation via reflection (one might consider making use of the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">service loader mechanism</a> to be &quot;between&quot; those two extremes)."}],"answers":[{"comments":[{"owner":{"account_id":1570181,"reputation":304,"user_id":1458041,"accept_rate":0,"display_name":"Mich&#232;le S."},"score":0,"creation_date":1675361960,"post_id":75325972,"comment_id":132918004,"body_markdown":"Thank you very much, but this is not, what I am looking for. I don&#39;t want to loop any class that extend Calculation. If someone calls MOne.main(&quot;5&quot;) I want the result to be 5. If someone calls MTwo.main(&quot;5&quot;) I want the result to be 10 and so on. So the static main Method needs to know, what class was used to call the main method.","body":"Thank you very much, but this is not, what I am looking for. I don&#39;t want to loop any class that extend Calculation. If someone calls MOne.main(&quot;5&quot;) I want the result to be 5. If someone calls MTwo.main(&quot;5&quot;) I want the result to be 10 and so on. So the static main Method needs to know, what class was used to call the main method."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675366973,"post_id":75325972,"comment_id":132919446,"body_markdown":"Understood - I have posted another answer","body":"Understood - I have posted another answer"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675374904,"post_id":75325972,"comment_id":132921520,"body_markdown":"@Mich&#232;leS. Note that static methods are not inherited. If someone calls `MTwo.main(new String[]{&quot;5&quot;})` then it will call the `main` method in `Calculation`, unless you define another `main` method (with the same signature) in the subclass so that it **hides** (not overrides) the one in the superclass.","body":"@Mich&#232;leS. Note that static methods are not inherited. If someone calls <code>MTwo.main(new String[]{&quot;5&quot;})</code> then it will call the <code>main</code> method in <code>Calculation</code>, unless you define another <code>main</code> method (with the same signature) in the subclass so that it <b>hides</b> (not overrides) the one in the superclass."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675354381,"creation_date":1675354381,"answer_id":75325972,"question_id":75321369,"body_markdown":"It&#39;s possible but expensive because you have to search all classes on the classpath to find those that extend Calculation. A good tool for this is [ClassGraph][1].\r\n\r\nTry this code: \r\n\r\n    List&lt;Class&lt;Calculation&gt;&gt; calculations;\r\n    try (ScanResult scanResult = new ClassGraph().enableClassInfo().scan()) {\r\n        calculations = scanResult\r\n            .getSubclasses(Calculation.class.getName())\r\n            .loadClasses(Calculation.class);\r\n    }\r\n    for(Class&lt;Calculation&gt; calculation : calculations) {\r\n        Calculation calculationInstance = calculation.newInstance(); // needs null constructor\r\n        System.out.println(&quot;Java &quot; + calculation.getName() + &quot; &quot; + calculationInstance.multiply(5));\r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/classgraph","title":"Instantiating derived class Object in Base-Class main-Method in Java","body":"<p>It's possible but expensive because you have to search all classes on the classpath to find those that extend Calculation. A good tool for this is <a href=\"https://www.baeldung.com/classgraph\" rel=\"nofollow noreferrer\">ClassGraph</a>.</p>\n<p>Try this code:</p>\n<pre><code>List&lt;Class&lt;Calculation&gt;&gt; calculations;\ntry (ScanResult scanResult = new ClassGraph().enableClassInfo().scan()) {\n    calculations = scanResult\n        .getSubclasses(Calculation.class.getName())\n        .loadClasses(Calculation.class);\n}\nfor(Class&lt;Calculation&gt; calculation : calculations) {\n    Calculation calculationInstance = calculation.newInstance(); // needs null constructor\n    System.out.println(&quot;Java &quot; + calculation.getName() + &quot; &quot; + calculationInstance.multiply(5));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675376038,"creation_date":1675366949,"answer_id":75328205,"question_id":75321369,"body_markdown":"Try this. You may need to find the equivalent to `sun.java.command` for non-Oracle JVM. \r\n\r\n    public abstract class Calculation {\r\n    \tabstract public int multiply(int x);\r\n    \r\n    \tpublic final static void main(String[] args)\r\n    \t\t\tthrows ClassNotFoundException, IllegalAccessException, IllegalArgumentException, InvocationTargetException,\r\n    \t\t\tInstantiationException, NoSuchMethodException, SecurityException {\r\n        String className = System.getProperty(&quot;sun.java.command&quot;).split(&quot; &quot;)[0]; // Oracle JVM only\r\n        Class&lt;?&gt; loadedClass = Class.forName(className);\r\n        Method multiplyMethod = loadedClass.getMethod(&quot;multiply&quot;, int.class);\r\n        Object newInstance = loadedClass.newInstance();\r\n\r\n        for(int i=0; i&lt;args.length; i++){\r\n            int x = Integer.parseInt(args[i]);\r\n\r\n\t\t\tSystem.out.println(&quot;java &quot; + &quot;className &quot; +multiplyMethod.invoke(newInstance, x));\r\n             \r\n        }  \r\n    }\r\n\r\nRun it with the name of the inheriting class as the first argument and inheriting and base class on classpath:\r\n\r\n    java -cp path/to/jar;path/to/mine_class MOne 5","title":"Instantiating derived class Object in Base-Class main-Method in Java","body":"<p>Try this. You may need to find the equivalent to <code>sun.java.command</code> for non-Oracle JVM.</p>\n<pre><code>public abstract class Calculation {\n    abstract public int multiply(int x);\n\n    public final static void main(String[] args)\n            throws ClassNotFoundException, IllegalAccessException, IllegalArgumentException, InvocationTargetException,\n            InstantiationException, NoSuchMethodException, SecurityException {\n    String className = System.getProperty(&quot;sun.java.command&quot;).split(&quot; &quot;)[0]; // Oracle JVM only\n    Class&lt;?&gt; loadedClass = Class.forName(className);\n    Method multiplyMethod = loadedClass.getMethod(&quot;multiply&quot;, int.class);\n    Object newInstance = loadedClass.newInstance();\n\n    for(int i=0; i&lt;args.length; i++){\n        int x = Integer.parseInt(args[i]);\n\n        System.out.println(&quot;java &quot; + &quot;className &quot; +multiplyMethod.invoke(newInstance, x));\n         \n    }  \n}\n</code></pre>\n<p>Run it with the name of the inheriting class as the first argument and inheriting and base class on classpath:</p>\n<pre><code>java -cp path/to/jar;path/to/mine_class MOne 5\n</code></pre>\n"}],"owner":{"account_id":1570181,"reputation":304,"user_id":1458041,"accept_rate":0,"display_name":"Mich&#232;le S."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675376038,"creation_date":1675331814,"question_id":75321369,"body_markdown":"I have got the following problem (I simplified it).\r\n\r\nI programmed an abstract class, like this:\r\n\r\n    public abstract class Calculation{\r\n        abstract public int multiply(int x);\r\n        public final static void main(String[] args){\r\n            for(int i=0; i&lt;args.length; i++){\r\n                int x = Integer.parseInt(args[i]);\r\n                // I want to call the Method multiply here. \r\n                // Therefore I need an object here!\r\n            }\r\n        }\r\n    }\r\n\r\nMy abstract class has a main-Method which should evaulate my args and then call the method multiply. Now I want to make some other classes like\r\n\r\n    public class MOne extends Calculation{\r\n        public int multiply(int x){\r\n            return x;\r\n        }\r\n    }\r\n    public class MTwo extends Calculation{\r\n        public int multiply(int x){\r\n            return 2*x;\r\n        }\r\n\r\n    }\r\n    public class MThree extends Calculation{\r\n        public int multiply(int x){\r\n            return 3*x;\r\n        }\r\n\r\n    }\r\n\r\nIf I call on the console:\r\n\r\n    java MOne 5\r\n    java MTwo 5\r\n    java MThree 5\r\n\r\nI want java to print 5,10 and 15.\r\n\r\nSadly I don&#39;t know how to instanciate the MOne-class respectivly MTwo and MThree in the Calculation-class. Does anyone know, how to make it?","title":"Instantiating derived class Object in Base-Class main-Method in Java","body":"<p>I have got the following problem (I simplified it).</p>\n<p>I programmed an abstract class, like this:</p>\n<pre><code>public abstract class Calculation{\n    abstract public int multiply(int x);\n    public final static void main(String[] args){\n        for(int i=0; i&lt;args.length; i++){\n            int x = Integer.parseInt(args[i]);\n            // I want to call the Method multiply here. \n            // Therefore I need an object here!\n        }\n    }\n}\n</code></pre>\n<p>My abstract class has a main-Method which should evaulate my args and then call the method multiply. Now I want to make some other classes like</p>\n<pre><code>public class MOne extends Calculation{\n    public int multiply(int x){\n        return x;\n    }\n}\npublic class MTwo extends Calculation{\n    public int multiply(int x){\n        return 2*x;\n    }\n\n}\npublic class MThree extends Calculation{\n    public int multiply(int x){\n        return 3*x;\n    }\n\n}\n</code></pre>\n<p>If I call on the console:</p>\n<pre><code>java MOne 5\njava MTwo 5\njava MThree 5\n</code></pre>\n<p>I want java to print 5,10 and 15.</p>\n<p>Sadly I don't know how to instanciate the MOne-class respectivly MTwo and MThree in the Calculation-class. Does anyone know, how to make it?</p>\n"},{"tags":["java","lstm","recurrent-neural-network","deeplearning4j","dl4j"],"answers":[{"comments":[{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1675220696,"post_id":75304799,"comment_id":132880305,"body_markdown":"thanks for the reply. Unfortunately the outputs are still almost identical after normalizing inputs using both of the above methods. I&#39;ll update the code and output to show the result with normalization.","body":"thanks for the reply. Unfortunately the outputs are still almost identical after normalizing inputs using both of the above methods. I&#39;ll update the code and output to show the result with normalization."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675223541,"post_id":75304799,"comment_id":132880626,"body_markdown":"So..let&#39;s move on to tuning and also caveat some things. Not all data has signal. Randomly specified data that doesn&#39;t have any inherent signal isn&#39;t guaranteed to work. One other thing to consider is you are suffering from what I like to call the &quot;toy problem&quot; effect. In ML, gradients are usually normalized by the batch size.  You aren&#39;t really solving a real problem so you end up with worse training due to that normalization. What you want would be to avoid that since you are training on the whole thing.  Let me update my answer a bit with the solution to that.","body":"So..let&#39;s move on to tuning and also caveat some things. Not all data has signal. Randomly specified data that doesn&#39;t have any inherent signal isn&#39;t guaranteed to work. One other thing to consider is you are suffering from what I like to call the &quot;toy problem&quot; effect. In ML, gradients are usually normalized by the batch size.  You aren&#39;t really solving a real problem so you end up with worse training due to that normalization. What you want would be to avoid that since you are training on the whole thing.  Let me update my answer a bit with the solution to that."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675223865,"post_id":75304799,"comment_id":132880662,"body_markdown":"I updated my comment with another thing you can try.","body":"I updated my comment with another thing you can try."},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1675227583,"post_id":75304799,"comment_id":132881085,"body_markdown":"yeah my training set is tiny, I tried to shorten my data for the question just to show how it was formatted but my training set is still only ~100 examples. the data should  be fine, its from a statistics training set for linear regression. I tried reducing the layers down to one and turning off minibatching, but the results still have very little deviation from each other. Not too sure if that&#39;s expected; my only experience with neural nets has been MLP, but the results were much more accurate for the same training set. I updated my code &amp; output above.","body":"yeah my training set is tiny, I tried to shorten my data for the question just to show how it was formatted but my training set is still only ~100 examples. the data should  be fine, its from a statistics training set for linear regression. I tried reducing the layers down to one and turning off minibatching, but the results still have very little deviation from each other. Not too sure if that&#39;s expected; my only experience with neural nets has been MLP, but the results were much more accurate for the same training set. I updated my code &amp; output above."},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1675228197,"post_id":75304799,"comment_id":132881162,"body_markdown":"One other thing; I increased the number of epochs to see if the accuracy increased, and noticed a strange warning concerning the shape of my data occurs every cycle. I attached it in the output (I believe the &quot;99&quot; the warning refers to is the my total number of training examples)","body":"One other thing; I increased the number of epochs to see if the accuracy increased, and noticed a strange warning concerning the shape of my data occurs every cycle. I attached it in the output (I believe the &quot;99&quot; the warning refers to is the my total number of training examples)"},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675229530,"post_id":75304799,"comment_id":132881344,"body_markdown":"Try my update tips and let me know what you find.","body":"Try my update tips and let me know what you find."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675229805,"post_id":75304799,"comment_id":132881381,"body_markdown":"Try reducing your number of layers to 1 as well.","body":"Try reducing your number of layers to 1 as well."},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1675273546,"post_id":75304799,"comment_id":132894927,"body_markdown":"Using one layer did seem to increase the range of the outputs significantly, though it&#39;s still pretty small and severely underfits the data. I edited my code and output with the results (note I did also try a sigmoid activation function as well on that one layer, with similar results). Again, not too sure if I should expect this from such a small training set, but I did have better results with an MLP, which fit the same training set with much better accuracy. Thanks again for all the help, let me know if you have any other ideas.","body":"Using one layer did seem to increase the range of the outputs significantly, though it&#39;s still pretty small and severely underfits the data. I edited my code and output with the results (note I did also try a sigmoid activation function as well on that one layer, with similar results). Again, not too sure if I should expect this from such a small training set, but I did have better results with an MLP, which fit the same training set with much better accuracy. Thanks again for all the help, let me know if you have any other ideas."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675287926,"post_id":75304799,"comment_id":132899107,"body_markdown":"Ah apologies. Please leave the output layer on there. Change the identity function to an alternative activation function *only* on the first layer. Try tanh or sigmoid. Let me know what you find from that.","body":"Ah apologies. Please leave the output layer on there. Change the identity function to an alternative activation function <i>only</i> on the first layer. Try tanh or sigmoid. Let me know what you find from that."},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1675299338,"post_id":75304799,"comment_id":132901374,"body_markdown":"my bad, I updated that output and code. Along with tanh I tried RELU &amp; sigmoid, they all performed similarly.","body":"my bad, I updated that output and code. Along with tanh I tried RELU &amp; sigmoid, they all performed similarly."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1675340435,"post_id":75304799,"comment_id":132910159,"body_markdown":"Change your updater to ADAM and reduce your learning rate.","body":"Change your updater to ADAM and reduce your learning rate."},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1675375494,"post_id":75304799,"comment_id":132921646,"body_markdown":"yea no luck with Adam &amp; lowering the learning rate (0.001 &amp; 0.0001)","body":"yea no luck with Adam &amp; lowering the learning rate (0.001 &amp; 0.0001)"}],"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675223854,"creation_date":1675214917,"answer_id":75304799,"question_id":75304532,"body_markdown":"This is always either a  tuning issue or input data. In your case your input data is wrong. \r\n\r\nYou almost always need need to normalize your input data or your network won&#39;t learn anything. This is also true for your outputs. Your output labels should also be normalized.  \r\nSnippets below:\r\n```\r\n //Normalize data, including labels (fitLabel=true)\r\n        NormalizerMinMaxScaler normalizer = new NormalizerMinMaxScaler(0, 1);\r\n        normalizer.fitLabel(true);\r\n        normalizer.fit(trainData);              //Collect training data statistics\r\n\r\n        normalizer.transform(trainData);\r\n        normalizer.transform(testData);\r\n```\r\n\r\n\r\nHere&#39;s how to revert:\r\n```\r\n\r\n        //Revert data back to original values for plotting\r\n        normalizer.revert(trainData);\r\n        normalizer.revert(testData);\r\n        normalizer.revertLabels(predicted);\r\n```\r\n\r\n\r\nThere are different kinds of normalizers, the below just does 0 to 1. Sometimes NormalizeStandardize could be better here. That will normalize the data by subtracting the mean and dividing by the variance in the data.\r\n That will be something like this:\r\n\r\n```\r\n       NormalizerStandardize myNormalizer = new NormalizerStandardize();\r\n        myNormalizer.fitLabel(true);\r\n        myNormalizer.fit(sampleDataSet);\r\n```\r\n\r\nAfterwards your network should train normally.\r\n\r\nEdit: If that doesn&#39;t work,due to the size of your dataset dl4j also has a knob (I explained this in my comment below) that normally is true where we assume your data is minibatch. On most reasonable problems (read: not 10 data points) this works. Otherwise the training can be all over the place. We can turn off the minibatch assumption with:\r\n```\r\n  ComputationGraphConfiguration conf = new NeuralNetConfiguration.Builder()\r\n                .miniBatch(false)\r\n```\r\n\r\nThe same is true for multilayer network as well.\r\n\r\nAlso of note is your architecture is vastly overkill for what is a VERY small unrealistic problem for DL. DL usually requires a lot more data to work properly. That is why you see layers stacked multiple times. For a problem like this I would suggest reducing the number of layers to 1.\r\n\r\n At each layer what&#39;s essentially happening is a form of compression of information. When your number of data points is small, you eventually lose signal through the network when you&#39;ve saturated it. Subsequent layers tend to not learn very well in that case.\r\n","title":"LSTM in DL4J - All output values are the same","body":"<p>This is always either a  tuning issue or input data. In your case your input data is wrong.</p>\n<p>You almost always need need to normalize your input data or your network won't learn anything. This is also true for your outputs. Your output labels should also be normalized.<br />\nSnippets below:</p>\n<pre><code> //Normalize data, including labels (fitLabel=true)\n        NormalizerMinMaxScaler normalizer = new NormalizerMinMaxScaler(0, 1);\n        normalizer.fitLabel(true);\n        normalizer.fit(trainData);              //Collect training data statistics\n\n        normalizer.transform(trainData);\n        normalizer.transform(testData);\n</code></pre>\n<p>Here's how to revert:</p>\n<pre><code>\n        //Revert data back to original values for plotting\n        normalizer.revert(trainData);\n        normalizer.revert(testData);\n        normalizer.revertLabels(predicted);\n</code></pre>\n<p>There are different kinds of normalizers, the below just does 0 to 1. Sometimes NormalizeStandardize could be better here. That will normalize the data by subtracting the mean and dividing by the variance in the data.\nThat will be something like this:</p>\n<pre><code>       NormalizerStandardize myNormalizer = new NormalizerStandardize();\n        myNormalizer.fitLabel(true);\n        myNormalizer.fit(sampleDataSet);\n</code></pre>\n<p>Afterwards your network should train normally.</p>\n<p>Edit: If that doesn't work,due to the size of your dataset dl4j also has a knob (I explained this in my comment below) that normally is true where we assume your data is minibatch. On most reasonable problems (read: not 10 data points) this works. Otherwise the training can be all over the place. We can turn off the minibatch assumption with:</p>\n<pre><code>  ComputationGraphConfiguration conf = new NeuralNetConfiguration.Builder()\n                .miniBatch(false)\n</code></pre>\n<p>The same is true for multilayer network as well.</p>\n<p>Also of note is your architecture is vastly overkill for what is a VERY small unrealistic problem for DL. DL usually requires a lot more data to work properly. That is why you see layers stacked multiple times. For a problem like this I would suggest reducing the number of layers to 1.</p>\n<p>At each layer what's essentially happening is a form of compression of information. When your number of data points is small, you eventually lose signal through the network when you've saturated it. Subsequent layers tend to not learn very well in that case.</p>\n"}],"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675375460,"creation_date":1675211608,"question_id":75304532,"body_markdown":"I&#39;m trying to create a simple LSTM using DeepLearning4J, with 2 input features and a timeseries length of 1. I&#39;m having a strange issue however; after training the network, inputting test data yields the same, arbitrary result regardless of the input values. My code is shown below.\r\n\r\n**(UPDATED)**\r\n```\r\npublic class LSTMRegression {\r\n\tpublic static final int inputSize = 2,\r\n\t\t\t\t\t\t\tlstmLayerSize = 4,\r\n\t\t\t\t\t\t\toutputSize = 1;\r\n\t\r\n\tpublic static final double learningRate = 0.0001;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint miniBatchSize = 99;\r\n\t\t\r\n\t\tMultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n\t\t\t\t.miniBatch(false)\r\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\r\n                .updater(new Adam(learningRate))\r\n                .list()\r\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.TANH).build())\r\n//                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n//                        .weightInit(WeightInit.XAVIER)\r\n//                        .activation(Activation.SIGMOID).build())\r\n//                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\r\n//                        .weightInit(WeightInit.XAVIER)\r\n//                        .activation(Activation.SIGMOID).build())\r\n                .layer(1, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                        .weightInit(WeightInit.XAVIER)\r\n                        .activation(Activation.IDENTITY)\r\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\r\n                \r\n                .backpropType(BackpropType.TruncatedBPTT)\r\n                .tBPTTForwardLength(miniBatchSize)\r\n                .tBPTTBackwardLength(miniBatchSize)\r\n                .build();\r\n\t\t\r\n\t\tfinal var network = new MultiLayerNetwork(conf);\r\n\t\tfinal DataSet train = getTrain();\r\n\t\tfinal INDArray test = getTest();\r\n\t\t\r\n\t\tfinal DataNormalization normalizer = new NormalizerMinMaxScaler(0, 1);\r\n//\t\t\t\t\t\t\t\t\t\t\t= new NormalizerStandardize();\r\n\t\t\r\n        normalizer.fitLabel(true);\r\n        normalizer.fit(train);\r\n\r\n        normalizer.transform(train);\r\n        normalizer.transform(test);\r\n\t\t\r\n\t\tnetwork.init();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 100; i++)\r\n\t\t\tnetwork.fit(train);\r\n\t\t\r\n\t\tfinal INDArray output = network.output(test);\r\n\t\t\r\n\t\tnormalizer.revertLabels(output);\r\n\t\t\r\n\t\tSystem.out.println(output);\r\n\t}\r\n\t\r\n\tpublic static INDArray getTest() {\r\n\t\tdouble[][][] test = new double[][][]{\r\n            {{20}, {203}},\r\n            {{16}, {183}},\r\n            {{20}, {190}},\r\n            {{18.6}, {193}},\r\n            {{18.9}, {184}},\r\n            {{17.2}, {199}},\r\n            {{20}, {190}},\r\n            {{17}, {181}},\r\n            {{19}, {197}},\r\n            {{16.5}, {198}},\r\n            ...\r\n\t\t};\r\n\t\t\r\n\t\tINDArray input = Nd4j.create(test);\r\n\t\t\r\n\t\treturn input;\r\n\t}\r\n\t\r\n\tpublic static DataSet getTrain() {\r\n\t\tdouble[][][] inputArray = {\r\n\t\t\t{{18.7}, {181}},\r\n\t\t\t{{17.4}, {186}},\r\n\t\t\t{{18}, {195}},\r\n\t\t\t{{19.3}, {193}},\r\n\t\t\t{{20.6}, {190}},\r\n\t\t\t{{17.8}, {181}},\r\n\t\t\t{{19.6}, {195}},\r\n\t\t\t{{18.1}, {193}},\r\n\t\t\t{{20.2}, {190}},\r\n\t\t\t{{17.1}, {186}},\r\n\t\t\t...\r\n\t\t};\r\n\t\t\r\n\t\tdouble[][] outputArray = {\r\n\t\t\t\t{3750},\r\n\t\t\t\t{3800},\r\n\t\t\t\t{3250},\r\n\t\t\t\t{3450},\r\n\t\t\t\t{3650},\r\n\t\t\t\t{3625},\r\n\t\t\t\t{4675},\r\n\t\t\t\t{3475},\r\n\t\t\t\t{4250},\r\n\t\t\t\t{3300},\r\n\t\t\t\t...\r\n\t\t};\r\n\t\t\r\n\t\tINDArray input = Nd4j.create(inputArray);\r\n\t\tINDArray labels = Nd4j.create(outputArray);\r\n\t\t\r\n\t\treturn new DataSet(input, labels);\r\n\t}\r\n}\r\n```\r\n\r\nHere&#39;s an example of the output:\r\n\r\n**(UPDATED)**\r\n```\r\n00:06:04.554 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.554 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1]\tand labels with shape [99, 1]\r\n\r\n[[[3198.1614]], \r\n\r\n [[2986.7781]], \r\n\r\n [[3059.7017]], \r\n\r\n [[3105.3828]], \r\n\r\n [[2994.0127]], \r\n\r\n [[3191.4468]], \r\n\r\n [[3059.7017]], \r\n\r\n [[2962.4341]], \r\n\r\n [[3147.4412]], \r\n\r\n [[3183.5991]]]\r\n\r\n```\r\n\r\nSo far I&#39;ve tried tried changing a number of hyperparameters, including the updater (previously Adam), the activation function in the hidden layers (previously ReLU), and the learning rate; none of which fixed the issue.\r\n\r\nThank you.","title":"LSTM in DL4J - All output values are the same","body":"<p>I'm trying to create a simple LSTM using DeepLearning4J, with 2 input features and a timeseries length of 1. I'm having a strange issue however; after training the network, inputting test data yields the same, arbitrary result regardless of the input values. My code is shown below.</p>\n<p><strong>(UPDATED)</strong></p>\n<pre><code>public class LSTMRegression {\n    public static final int inputSize = 2,\n                            lstmLayerSize = 4,\n                            outputSize = 1;\n    \n    public static final double learningRate = 0.0001;\n\n    public static void main(String[] args) {\n        int miniBatchSize = 99;\n        \n        MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n                .miniBatch(false)\n                .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT)\n                .updater(new Adam(learningRate))\n                .list()\n                .layer(0, new LSTM.Builder().nIn(inputSize).nOut(lstmLayerSize)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.TANH).build())\n//                .layer(1, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n//                        .weightInit(WeightInit.XAVIER)\n//                        .activation(Activation.SIGMOID).build())\n//                .layer(2, new LSTM.Builder().nIn(lstmLayerSize).nOut(lstmLayerSize)\n//                        .weightInit(WeightInit.XAVIER)\n//                        .activation(Activation.SIGMOID).build())\n                .layer(1, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                        .weightInit(WeightInit.XAVIER)\n                        .activation(Activation.IDENTITY)\n                        .nIn(lstmLayerSize).nOut(outputSize).build())\n                \n                .backpropType(BackpropType.TruncatedBPTT)\n                .tBPTTForwardLength(miniBatchSize)\n                .tBPTTBackwardLength(miniBatchSize)\n                .build();\n        \n        final var network = new MultiLayerNetwork(conf);\n        final DataSet train = getTrain();\n        final INDArray test = getTest();\n        \n        final DataNormalization normalizer = new NormalizerMinMaxScaler(0, 1);\n//                                          = new NormalizerStandardize();\n        \n        normalizer.fitLabel(true);\n        normalizer.fit(train);\n\n        normalizer.transform(train);\n        normalizer.transform(test);\n        \n        network.init();\n        \n        for (int i = 0; i &lt; 100; i++)\n            network.fit(train);\n        \n        final INDArray output = network.output(test);\n        \n        normalizer.revertLabels(output);\n        \n        System.out.println(output);\n    }\n    \n    public static INDArray getTest() {\n        double[][][] test = new double[][][]{\n            {{20}, {203}},\n            {{16}, {183}},\n            {{20}, {190}},\n            {{18.6}, {193}},\n            {{18.9}, {184}},\n            {{17.2}, {199}},\n            {{20}, {190}},\n            {{17}, {181}},\n            {{19}, {197}},\n            {{16.5}, {198}},\n            ...\n        };\n        \n        INDArray input = Nd4j.create(test);\n        \n        return input;\n    }\n    \n    public static DataSet getTrain() {\n        double[][][] inputArray = {\n            {{18.7}, {181}},\n            {{17.4}, {186}},\n            {{18}, {195}},\n            {{19.3}, {193}},\n            {{20.6}, {190}},\n            {{17.8}, {181}},\n            {{19.6}, {195}},\n            {{18.1}, {193}},\n            {{20.2}, {190}},\n            {{17.1}, {186}},\n            ...\n        };\n        \n        double[][] outputArray = {\n                {3750},\n                {3800},\n                {3250},\n                {3450},\n                {3650},\n                {3625},\n                {4675},\n                {3475},\n                {4250},\n                {3300},\n                ...\n        };\n        \n        INDArray input = Nd4j.create(inputArray);\n        INDArray labels = Nd4j.create(outputArray);\n        \n        return new DataSet(input, labels);\n    }\n}\n</code></pre>\n<p>Here's an example of the output:</p>\n<p><strong>(UPDATED)</strong></p>\n<pre><code>00:06:04.554 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.554 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n00:06:04.555 [main] WARN  o.d.nn.multilayer.MultiLayerNetwork - Cannot do truncated BPTT with non-3d inputs or labels. Expect input with shape [miniBatchSize,nIn,timeSeriesLength], got [99, 2, 1] and labels with shape [99, 1]\n\n[[[3198.1614]], \n\n [[2986.7781]], \n\n [[3059.7017]], \n\n [[3105.3828]], \n\n [[2994.0127]], \n\n [[3191.4468]], \n\n [[3059.7017]], \n\n [[2962.4341]], \n\n [[3147.4412]], \n\n [[3183.5991]]]\n\n</code></pre>\n<p>So far I've tried tried changing a number of hyperparameters, including the updater (previously Adam), the activation function in the hidden layers (previously ReLU), and the learning rate; none of which fixed the issue.</p>\n<p>Thank you.</p>\n"},{"tags":["java","url","audio","audio-streaming","internet-radio"],"comments":[{"owner":{"account_id":149787,"reputation":160287,"user_id":362536,"accept_rate":88,"display_name":"Brad"},"score":0,"creation_date":1669068161,"post_id":74515327,"comment_id":131555029,"body_markdown":"Are you trying to compare audio vs. not audio, or live audio vs. an audio file?","body":"Are you trying to compare audio vs. not audio, or live audio vs. an audio file?"},{"owner":{"account_id":13043607,"reputation":91,"user_id":9426164,"display_name":"HayreddinLuo"},"score":0,"creation_date":1669588340,"post_id":74515327,"comment_id":131670021,"body_markdown":"I am trying to compare live audio url vs audio url, like https://media-ssl.musicradio.com/LBCUK vs https://www.audiocheck.net/download.php?filename=Audio/audiocheck.net_WhiteNoise_15min.mp3","body":"I am trying to compare live audio url vs audio url, like <a href=\"https://media-ssl.musicradio.com/LBCUK\" rel=\"nofollow noreferrer\">media-ssl.musicradio.com/LBCUK</a> vs <a href=\"https://www.audiocheck.net/download.php?filename=Audio/audiocheck.net_WhiteNoise_15min.mp3\" rel=\"nofollow noreferrer\">audiocheck.net/download.php?filename=Audio/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669016486,"creation_date":1669016486,"answer_id":74515621,"question_id":74515327,"body_markdown":"I&#39;d request the resource but check the Content-Type header. It should give an impression of the response content. There are multiple values used for audio, but probably only very few are used for streaming. But there are indications that you might have to look at the file name extension.\r\n\r\n- https://mimetype.io/all-types/#audio\r\n- https://stackoverflow.com/questions/8801071/mime-type-audio-mpeg-is-not-streaming\r\n\r\nIf you want to check the mimetype before downloading the complete audio stream (which would never end by design), run an HTTP HEAD request.\r\n\r\nFrom https://www.rfc-editor.org/rfc/rfc7231#section-4.3.2:\r\n\r\n*The HEAD method is identical to GET except that the server MUST NOT\r\nsend a message body in the response (i.e., the response terminates at\r\nthe end of the header section).  The server SHOULD send the same\r\nheader fields in response to a HEAD request as it would have sent if\r\nthe request had been a GET, except that the payload header fields\r\n(Section 3.3) MAY be omitted.  This method can be used for obtaining\r\nmetadata about the selected representation without transferring the\r\nrepresentation data and is often used for testing hypertext links for\r\nvalidity, accessibility, and recent modification.*","title":"Java how to detect if an audio URL is a streaming(radio) audio?","body":"<p>I'd request the resource but check the Content-Type header. It should give an impression of the response content. There are multiple values used for audio, but probably only very few are used for streaming. But there are indications that you might have to look at the file name extension.</p>\n<ul>\n<li><a href=\"https://mimetype.io/all-types/#audio\" rel=\"nofollow noreferrer\">https://mimetype.io/all-types/#audio</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8801071/mime-type-audio-mpeg-is-not-streaming\">MIME type audio/mpeg is not streaming?</a></li>\n</ul>\n<p>If you want to check the mimetype before downloading the complete audio stream (which would never end by design), run an HTTP HEAD request.</p>\n<p>From <a href=\"https://www.rfc-editor.org/rfc/rfc7231#section-4.3.2\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7231#section-4.3.2</a>:</p>\n<p><em>The HEAD method is identical to GET except that the server MUST NOT\nsend a message body in the response (i.e., the response terminates at\nthe end of the header section).  The server SHOULD send the same\nheader fields in response to a HEAD request as it would have sent if\nthe request had been a GET, except that the payload header fields\n(Section 3.3) MAY be omitted.  This method can be used for obtaining\nmetadata about the selected representation without transferring the\nrepresentation data and is often used for testing hypertext links for\nvalidity, accessibility, and recent modification.</em></p>\n"},{"tags":[],"owner":{"account_id":149787,"reputation":160287,"user_id":362536,"accept_rate":88,"display_name":"Brad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669614191,"creation_date":1669614191,"answer_id":74596439,"question_id":74515327,"body_markdown":"Unfortunately, it&#39;s not really possible to definitively say whether a URL is &quot;live&quot; or not.  Though, there are several heuristics you can use:\r\n\r\n## Response has `Content-Length` header\r\n\r\nA live radio stream has no determinate ending, and therefore no length.  If the response declares that it *does* have a length, you can usually guess that it is *not live*.\r\n\r\nJust keep in mind that the inverse is not always true.  There are still servers that do not provide a `Content-Length` even if the length can be known.  (All the examples I can think of are poorly configured reverse proxies, but they do exist.)\r\n\r\nAlso, sometimes a streaming server will return a very large length.  This allows it to comply with HTTP/1.1 without using chunked transfer encoding.  (Many streaming clients do not support chunked transfer encoding.)  If you rely on this method, make sure the `Content-Length` is actually some sane value, and not `MAX_INT`.\r\n\r\n## `Server` response header contains &quot;SHOUTcast&quot; or &quot;Icecast&quot;\r\n\r\nThese are the two most popular HTTP progressive streaming servers, and serve almost all of the typical radio streams.  If the server identifies itself as one of these, it&#39;s likely a live radio stream.\r\n\r\nA caveat is that at least Icecast can also be used to serve static files.  It&#39;s not uncommon to see it serving recordings of streams, for example.\r\n\r\nAlso, servers can say they are anything they want, so there&#39;s no guarantee the server isn&#39;t lying to you.\r\n\r\n## Response rate\r\n\r\nIf the server sends you 30 minutes worth of audio data in 30 seconds, then that&#39;s a really good indicator that it isn&#39;t live.  :-)\r\n\r\nIt&#39;s rarely that clear cut though.  Streaming servers are usually configured with a decent buffer size that they will send to you as quickly as possible upon connect.  Sometimes it&#39;s super small, like 64 KB.  Other times it&#39;s a whole megabyte.  So, if you want to rely on this you&#39;ll have to fetch a decent amount of data to get a good indication.\r\n\r\nSome not-live servers will also throttle their responses for regular pre-recorded files if they think they can &quot;stream&quot; it to you.  I haven&#39;t seen this recently, but it used to be a common way to deter people from downloading as it would take a long time.  And then, there are servers which just don&#39;t have the bandwidth to deliver to you quickly, so the stream may seem &quot;live&quot; even if it isn&#39;t.\r\n\r\n## &quot;As-live&quot; streams\r\n\r\nMany channels are generated programmatically and are recordings sent to you as if they were live.  There isn&#39;t a way to determine this.\r\n\r\n# So, what to do?\r\n\r\nThis depends on your **specific needs**.  If you&#39;re making a crawler or something, connect to the stream and if it doesn&#39;t end after [some bytes] or [some duration] or [some length of connection time], then flag it as &quot;probably live&quot; and move on.","title":"Java how to detect if an audio URL is a streaming(radio) audio?","body":"<p>Unfortunately, it's not really possible to definitively say whether a URL is &quot;live&quot; or not.  Though, there are several heuristics you can use:</p>\n<h2>Response has <code>Content-Length</code> header</h2>\n<p>A live radio stream has no determinate ending, and therefore no length.  If the response declares that it <em>does</em> have a length, you can usually guess that it is <em>not live</em>.</p>\n<p>Just keep in mind that the inverse is not always true.  There are still servers that do not provide a <code>Content-Length</code> even if the length can be known.  (All the examples I can think of are poorly configured reverse proxies, but they do exist.)</p>\n<p>Also, sometimes a streaming server will return a very large length.  This allows it to comply with HTTP/1.1 without using chunked transfer encoding.  (Many streaming clients do not support chunked transfer encoding.)  If you rely on this method, make sure the <code>Content-Length</code> is actually some sane value, and not <code>MAX_INT</code>.</p>\n<h2><code>Server</code> response header contains &quot;SHOUTcast&quot; or &quot;Icecast&quot;</h2>\n<p>These are the two most popular HTTP progressive streaming servers, and serve almost all of the typical radio streams.  If the server identifies itself as one of these, it's likely a live radio stream.</p>\n<p>A caveat is that at least Icecast can also be used to serve static files.  It's not uncommon to see it serving recordings of streams, for example.</p>\n<p>Also, servers can say they are anything they want, so there's no guarantee the server isn't lying to you.</p>\n<h2>Response rate</h2>\n<p>If the server sends you 30 minutes worth of audio data in 30 seconds, then that's a really good indicator that it isn't live.  :-)</p>\n<p>It's rarely that clear cut though.  Streaming servers are usually configured with a decent buffer size that they will send to you as quickly as possible upon connect.  Sometimes it's super small, like 64 KB.  Other times it's a whole megabyte.  So, if you want to rely on this you'll have to fetch a decent amount of data to get a good indication.</p>\n<p>Some not-live servers will also throttle their responses for regular pre-recorded files if they think they can &quot;stream&quot; it to you.  I haven't seen this recently, but it used to be a common way to deter people from downloading as it would take a long time.  And then, there are servers which just don't have the bandwidth to deliver to you quickly, so the stream may seem &quot;live&quot; even if it isn't.</p>\n<h2>&quot;As-live&quot; streams</h2>\n<p>Many channels are generated programmatically and are recordings sent to you as if they were live.  There isn't a way to determine this.</p>\n<h1>So, what to do?</h1>\n<p>This depends on your <strong>specific needs</strong>.  If you're making a crawler or something, connect to the stream and if it doesn't end after [some bytes] or [some duration] or [some length of connection time], then flag it as &quot;probably live&quot; and move on.</p>\n"}],"owner":{"account_id":13043607,"reputation":91,"user_id":9426164,"display_name":"HayreddinLuo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675375352,"creation_date":1669014575,"question_id":74515327,"body_markdown":"I am working on an audio related project, and is there a way to know if an audio URL is a streaming(radio) audio programmatically? Like from the header information or somewhere else. I am trying to apply some filter or process differently based on if the audio is a streaming(radio) audio or not.","title":"Java how to detect if an audio URL is a streaming(radio) audio?","body":"<p>I am working on an audio related project, and is there a way to know if an audio URL is a streaming(radio) audio programmatically? Like from the header information or somewhere else. I am trying to apply some filter or process differently based on if the audio is a streaming(radio) audio or not.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1675375740,"post_id":75329393,"comment_id":132921696,"body_markdown":"Naive approach 1: check that your current candidate has all numbers in it, if not, move to the next one.","body":"Naive approach 1: check that your current candidate has all numbers in it, if not, move to the next one."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1675375858,"post_id":75329393,"comment_id":132921713,"body_markdown":"Semi-naive 2: [0,1,2,3,4] + X:[any 4 elements of Z with repetitions, in ascending order], now do all regular permutations (with repetitions?) of that, cycle through all possible X.","body":"Semi-naive 2: [0,1,2,3,4] + X:[any 4 elements of Z with repetitions, in ascending order], now do all regular permutations (with repetitions?) of that, cycle through all possible X."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1675375917,"post_id":75329393,"comment_id":132921719,"body_markdown":"This site is not a code-writing service. We can help you with *specific* questions about *your* code, ideally accompanied by an [MCVE]. Please show what you have tried, because this site expects some research by the asker and usually showing your attempt at a solution, even if it has errors, clarifies what you want to achieve. See also [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166).","body":"This site is not a code-writing service. We can help you with <i>specific</i> questions about <i>your</i> code, ideally accompanied by an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please show what you have tried, because this site expects some research by the asker and usually showing your attempt at a solution, even if it has errors, clarifies what you want to achieve. See also <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>."}],"owner":{"account_id":379284,"reputation":9840,"user_id":732539,"accept_rate":50,"display_name":"K2xL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675375861,"answer_count":0,"score":1,"last_activity_date":1675375264,"creation_date":1675375264,"question_id":75329393,"body_markdown":"I am trying to produce all permutations of an array of size N (i.e. `N = 9`) with possible elements Z (i.e. `Z = [0,1,2,3,4]`)\r\n\r\nDuplicates are allowed, but there needs to be at _least_ one. I am able to write the algorithm to go through all possibilities but the minimum of at least one of each of Z is the part I&#39;m having trouble with.\r\n\r\nLooking to do this algorithm in java. Can someone help?","title":"Permutations of array with at minimum 1 element","body":"<p>I am trying to produce all permutations of an array of size N (i.e. <code>N = 9</code>) with possible elements Z (i.e. <code>Z = [0,1,2,3,4]</code>)</p>\n<p>Duplicates are allowed, but there needs to be at <em>least</em> one. I am able to write the algorithm to go through all possibilities but the minimum of at least one of each of Z is the part I'm having trouble with.</p>\n<p>Looking to do this algorithm in java. Can someone help?</p>\n"},{"tags":["java","spring-boot","spring-kafka","spring-camel","confluent-cloud"],"owner":{"account_id":6304715,"reputation":615,"user_id":4898146,"accept_rate":70,"display_name":"Renan Geraldo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675375099,"creation_date":1675375099,"question_id":75329366,"body_markdown":"I have an application which uses camel Spring Boot with debeezium to listen to a mysql database and to publish in a Kafka topic.\r\n\r\nIt was all working fine since I changed the kafka from local to use confluent cloud. I have some other applications (normal producers and consumers) that connect to confluent cloud and all works fine.\r\n\r\nThis is my application.yml. I removed the debeezium-mysql part because it works fine. So I left only the config part of Kafka/Confluent. \r\n    \r\n    routes:\r\n      debezium:\r\n        allow-public-key-retrieval: true\r\n        bootstrap-servers: ${application.kafka.brokers}\r\n        offset-storage:\r\n          topic-cleanup-policy: compact\r\n    \r\n    camel:\r\n      component:\r\n        debezium-mysql:\r\n         ALL CONFIG with mysql, it is not here because it is working fine\r\n        kafka:\r\n          brokers: ${application.kafka.brokers}\r\n          schema-registry-u-r-l: ${application.schema-registry.base-urls}\r\n          value-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          additional-properties:\r\n             #CCloud Schema Registry Connection parameter\r\n            schema.registry.basic.auth.credentials.source: USER_INFO\r\n            schema.registry.basic.auth.user.info: ${SCHEMA_REGISTRY_ACCESS_KEY}:${SCHEMA_REGISTRY_SECRET_KEY}\r\n            ssl.endpoint.identification.algorithm: https\r\n            client.dns.lookup: use_all_dns_ips\r\n          sasl-jaas-config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;${CONFLUENT_CLOUD_USERNAME}&quot; password=&quot;${CONFLUENT_CLOUD_PASSWORD}&quot;;\r\n          security-protocol: SASL_SSL\r\n          retry-backoff-ms: 500\r\n          request-timeout-ms: 20000\r\n          sasl-mechanism: PLAIN\r\n\r\nWith this config, it keeps giving me an error when I try to star the app:\r\n\r\n    [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n    2023-02-02 16:57:24.853  INFO 9644 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Cancelled in-flight API_VERSIONS request with correlation id 0 due to node -1 being disconnected (elapsed time since creation: 146ms, elapsed time since send: 146ms, request timeout: 3600000ms)\r\n\r\nI could check that the problem is in this AdminConfig, which doesn&#39;t get the right properties. An example, the security.protocol should be SASL_SSL, but it gets PLAINTEXT. But when creating the producer and consumer it gets the right values. \r\n\r\nReally, I have been struggling with this two days. I would be really happy with any help. Thank you.\r\n","title":"How to integrate Camel Spring boot with Kafka in Confluent Cloud?","body":"<p>I have an application which uses camel Spring Boot with debeezium to listen to a mysql database and to publish in a Kafka topic.</p>\n<p>It was all working fine since I changed the kafka from local to use confluent cloud. I have some other applications (normal producers and consumers) that connect to confluent cloud and all works fine.</p>\n<p>This is my application.yml. I removed the debeezium-mysql part because it works fine. So I left only the config part of Kafka/Confluent.</p>\n<pre><code>routes:\n  debezium:\n    allow-public-key-retrieval: true\n    bootstrap-servers: ${application.kafka.brokers}\n    offset-storage:\n      topic-cleanup-policy: compact\n\ncamel:\n  component:\n    debezium-mysql:\n     ALL CONFIG with mysql, it is not here because it is working fine\n    kafka:\n      brokers: ${application.kafka.brokers}\n      schema-registry-u-r-l: ${application.schema-registry.base-urls}\n      value-serializer: io.confluent.kafka.serializers.KafkaAvroSerializer\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      additional-properties:\n         #CCloud Schema Registry Connection parameter\n        schema.registry.basic.auth.credentials.source: USER_INFO\n        schema.registry.basic.auth.user.info: ${SCHEMA_REGISTRY_ACCESS_KEY}:${SCHEMA_REGISTRY_SECRET_KEY}\n        ssl.endpoint.identification.algorithm: https\n        client.dns.lookup: use_all_dns_ips\n      sasl-jaas-config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;${CONFLUENT_CLOUD_USERNAME}&quot; password=&quot;${CONFLUENT_CLOUD_PASSWORD}&quot;;\n      security-protocol: SASL_SSL\n      retry-backoff-ms: 500\n      request-timeout-ms: 20000\n      sasl-mechanism: PLAIN\n</code></pre>\n<p>With this config, it keeps giving me an error when I try to star the app:</p>\n<pre><code>[AdminClient clientId=adminclient-1] Node -1 disconnected.\n2023-02-02 16:57:24.853  INFO 9644 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Cancelled in-flight API_VERSIONS request with correlation id 0 due to node -1 being disconnected (elapsed time since creation: 146ms, elapsed time since send: 146ms, request timeout: 3600000ms)\n</code></pre>\n<p>I could check that the problem is in this AdminConfig, which doesn't get the right properties. An example, the security.protocol should be SASL_SSL, but it gets PLAINTEXT. But when creating the producer and consumer it gets the right values.</p>\n<p>Really, I have been struggling with this two days. I would be really happy with any help. Thank you.</p>\n"},{"tags":["java","angular","angularjs","spring-boot"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1675369839,"post_id":75328609,"comment_id":132920211,"body_markdown":"It looks like you want `@RequestBody Login user` as the parameter. You don&#39;t need to use `ObjectMapper` manually.","body":"It looks like you want <code>@RequestBody Login user</code> as the parameter. You don&#39;t need to use <code>ObjectMapper</code> manually."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675374972,"creation_date":1675374972,"answer_id":75329353,"question_id":75328609,"body_markdown":"Change your controller like this:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/login&quot;)\r\n    public class LoginController {\r\n    @PostMapping(&quot;/login&quot;)\r\n    public static String login(@RequestBody Login login) throws Exception{\r\n        System.out.println(login);\r\n        \r\n        if(login.checkUser().equals(&quot;ok&quot;)){\r\n            if(login.checkPassword().equals(&quot;ok&quot;)){\r\n                return &quot;logged&quot;;\r\n            } else {\r\n                return login.checkPassword();\r\n            }\r\n        }\r\n\r\n        return login.checkUser();\r\n\r\n        }\r\n    }\r\n\r\n\r\n","title":"POST request from Angular to SpringBoot API not sending parameters","body":"<p>Change your controller like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/login&quot;)\npublic class LoginController {\n@PostMapping(&quot;/login&quot;)\npublic static String login(@RequestBody Login login) throws Exception{\n    System.out.println(login);\n    \n    if(login.checkUser().equals(&quot;ok&quot;)){\n        if(login.checkPassword().equals(&quot;ok&quot;)){\n            return &quot;logged&quot;;\n        } else {\n            return login.checkPassword();\n        }\n    }\n\n    return login.checkUser();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23400771,"reputation":3,"user_id":19026951,"display_name":"Luis Ros&#250;a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75329353,"answer_count":1,"score":0,"last_activity_date":1675374972,"creation_date":1675369780,"question_id":75328609,"body_markdown":"I have this code, where I send an object to the API:\r\n\r\n\r\n```\r\n  validateLogin(user:User):Observable&lt;string&gt;{\r\n    console.log(JSON.stringify(user));\r\n    return this.http.post&lt;string&gt;(`http://localhost:8080/login/login`, user).pipe(\r\n      map((resp)=&gt;{\r\n        return this.repareString(JSON.stringify(resp));\r\n      })\r\n    )\r\n  }\r\n```\r\nI don&#39;t see anything wrong, but Spring Boot says &quot;required request parameter &#39;user&#39; for method parameter type String is not present&quot;. I&#39;ve also tried sending it as a JSON object but it says the same. I believe that this is caused by the code in angular, that&#39;s why I post it here.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/login&quot;)\r\npublic class LoginController {\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public static String login(@RequestParam String user) throws Exception{\r\n        System.out.println(user);\r\n        Login l = new ObjectMapper().readValue(user, Login.class);\r\n        if(l.checkUser().equals(&quot;ok&quot;)){\r\n            if(l.checkPassword().equals(&quot;ok&quot;)){\r\n                return &quot;logged&quot;;\r\n            } else {\r\n                return l.checkPassword();\r\n            }\r\n        }\r\n\r\n        return l.checkUser();\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\nAnd the Login class:\r\n\r\n\r\n```\r\npublic class Login extends Database{\r\n    public String email;\r\n    public String pass;\r\n    public Statement stm;\r\n\r\n    public Login(String email, String pass) throws Exception{\r\n        this.email = email;\r\n        this.pass = pass;\r\n        this.stm = (Statement) this.con.createStatement();\r\n    }\r\n```\r\n\r\n\r\nI have tried sending it as a JSON string and I&#39;ve also tried sending the object properties individually as various params.","title":"POST request from Angular to SpringBoot API not sending parameters","body":"<p>I have this code, where I send an object to the API:</p>\n<pre><code>  validateLogin(user:User):Observable&lt;string&gt;{\n    console.log(JSON.stringify(user));\n    return this.http.post&lt;string&gt;(`http://localhost:8080/login/login`, user).pipe(\n      map((resp)=&gt;{\n        return this.repareString(JSON.stringify(resp));\n      })\n    )\n  }\n</code></pre>\n<p>I don't see anything wrong, but Spring Boot says &quot;required request parameter 'user' for method parameter type String is not present&quot;. I've also tried sending it as a JSON object but it says the same. I believe that this is caused by the code in angular, that's why I post it here.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/login&quot;)\npublic class LoginController {\n\n    @PostMapping(&quot;/login&quot;)\n    public static String login(@RequestParam String user) throws Exception{\n        System.out.println(user);\n        Login l = new ObjectMapper().readValue(user, Login.class);\n        if(l.checkUser().equals(&quot;ok&quot;)){\n            if(l.checkPassword().equals(&quot;ok&quot;)){\n                return &quot;logged&quot;;\n            } else {\n                return l.checkPassword();\n            }\n        }\n\n        return l.checkUser();\n\n\n    }\n\n\n}\n</code></pre>\n<p>And the Login class:</p>\n<pre><code>public class Login extends Database{\n    public String email;\n    public String pass;\n    public Statement stm;\n\n    public Login(String email, String pass) throws Exception{\n        this.email = email;\n        this.pass = pass;\n        this.stm = (Statement) this.con.createStatement();\n    }\n</code></pre>\n<p>I have tried sending it as a JSON string and I've also tried sending the object properties individually as various params.</p>\n"},{"tags":["java","gradle","executable-jar"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1675375169,"post_id":75329346,"comment_id":132921580,"body_markdown":"Make sure your `JAVA_HOME` environment variable is pointing to the v17 and not v11.  You might need to close your command/console window and open it again (so it picks up the newer variable value.","body":"Make sure your <code>JAVA_HOME</code> environment variable is pointing to the v17 and not v11.  You might need to close your command/console window and open it again (so it picks up the newer variable value."}],"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675508633,"answer_count":0,"score":0,"last_activity_date":1675374941,"creation_date":1675374941,"question_id":75329346,"body_markdown":"So, I&#39;m trying to run a jar file which was created using Gradle through the command line of Intellij (I want to later use a bat file to open it, that&#39;s why I don&#39;t open it through Intellij directly, tho it works if I do it directly).\r\nThe error I get when trying to run the command is this one: \r\n\r\n    D:\\User\\&lt;Name&gt;\\AppData\\Local\\JetBrains\\Projects\\TribusSpring\\build\\libs&gt;java -jar TribusSpring-0.0.1-SNAPSHOT.jar\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: \r\n    com/tribus/tribusspring/TribusSpringApplication has been compiled by a more recent version of \r\n    the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes \r\n    class file versions up to 55.0\r\n\r\n\r\nI looked around and saw, that the reason for that is, that the project was built in java 17, and apparently I try to run it with java 11? I don&#39;t have java 11 on my pc and installed jre 17 on my pc a few hours ago. Furthermore, I also went to the Gradle settings and those show, that java 17 is used, same for the project settings. What exactly is causing this?","title":"Trying to run jar through console results in Java Runtime error","body":"<p>So, I'm trying to run a jar file which was created using Gradle through the command line of Intellij (I want to later use a bat file to open it, that's why I don't open it through Intellij directly, tho it works if I do it directly).\nThe error I get when trying to run the command is this one:</p>\n<pre><code>D:\\User\\&lt;Name&gt;\\AppData\\Local\\JetBrains\\Projects\\TribusSpring\\build\\libs&gt;java -jar TribusSpring-0.0.1-SNAPSHOT.jar\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: \ncom/tribus/tribusspring/TribusSpringApplication has been compiled by a more recent version of \nthe Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes \nclass file versions up to 55.0\n</code></pre>\n<p>I looked around and saw, that the reason for that is, that the project was built in java 17, and apparently I try to run it with java 11? I don't have java 11 on my pc and installed jre 17 on my pc a few hours ago. Furthermore, I also went to the Gradle settings and those show, that java 17 is used, same for the project settings. What exactly is causing this?</p>\n"},{"tags":["java","telosys"],"comments":[{"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"score":0,"creation_date":1675093070,"post_id":75262625,"comment_id":132848940,"body_markdown":"&quot;.dbrep&quot; is an old model file format that no longer exists since version 4","body":"&quot;.dbrep&quot; is an old model file format that no longer exists since version 4"}],"answers":[{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675092983,"creation_date":1675092983,"answer_id":75286664,"question_id":75262625,"body_markdown":"You can&#39;t override the default conversion behavior,  \r\nbut you can change the type in the templates (.vm files) using Velocity language.\r\n\r\n1) If you want to convert the type systematically (for all attributes of all entities) you can proceed like these:\r\n\r\n&gt; #if ( $attribute.neutralType == &#39;timestamp&#39; )  \r\n&gt; #set ($mytype = &#39;OffsetDateTime&#39;)  \r\n&gt; #else  \r\n&gt; #set ($mytype = $attribute.simpleType )  \r\n&gt; #end\r\n\r\nif this operation must be repeated in several templates you can define a macro\r\n\r\n\r\n\r\n2) If you want to force the conversion only for some attributes :\r\n- in the model (&quot;.entity&quot;) add a tag to the concerned attributes :\r\n\r\n&gt; myField : timestamp { **#tagetType**(OffsetDateTime) } ;\r\n\r\n- use this tag value in the templates (and keep the standard type as default value)\r\n\r\n&gt; $attribute.tagValue( &#39;**targetType**&#39;, $attribute.simpleType )\r\n\r\nIn both cases, do not forget to import &#39;java.time.OffsetDateTime&#39;\r\n","title":"Telosys Type Overriding - `timestamp` -&gt; `OffsetDateTime`","body":"<p>You can't override the default conversion behavior,<br />\nbut you can change the type in the templates (.vm files) using Velocity language.</p>\n<ol>\n<li>If you want to convert the type systematically (for all attributes of all entities) you can proceed like these:</li>\n</ol>\n<blockquote>\n<p>#if ( $attribute.neutralType == 'timestamp' )<br />\n#set ($mytype = 'OffsetDateTime')<br />\n#else<br />\n#set ($mytype = $attribute.simpleType )<br />\n#end</p>\n</blockquote>\n<p>if this operation must be repeated in several templates you can define a macro</p>\n<ol start=\"2\">\n<li>If you want to force the conversion only for some attributes :</li>\n</ol>\n<ul>\n<li>in the model (&quot;.entity&quot;) add a tag to the concerned attributes :</li>\n</ul>\n<blockquote>\n<p>myField : timestamp { <strong>#tagetType</strong>(OffsetDateTime) } ;</p>\n</blockquote>\n<ul>\n<li>use this tag value in the templates (and keep the standard type as default value)</li>\n</ul>\n<blockquote>\n<p>$attribute.tagValue( '<strong>targetType</strong>', $attribute.simpleType )</p>\n</blockquote>\n<p>In both cases, do not forget to import 'java.time.OffsetDateTime'</p>\n"},{"tags":[],"owner":{"account_id":901873,"reputation":851,"user_id":937808,"accept_rate":33,"display_name":"Michael Ressler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675374743,"creation_date":1675374743,"answer_id":75329323,"question_id":75262625,"body_markdown":"For anyone looking here in the future, I ended up going with the answer @Igu suggested (#1) - which isn&#39;t necessarily for all attributes of all entities. (Unless I&#39;m missing how it should be applied).\r\n\r\nThe macro looked like:\r\n\r\n```\r\n#macro( typeFor $attribute )\r\n#if ( $attribute.neutralType == &#39;timestamp&#39; )OffsetDateTime#else$attribute.simpleType#end\r\n#end\r\n```\r\n\r\nUnfortunately, the formatting seems to be necessary in order to not add extra newlines or spaces in the generated `.java` file. I added this macro definition to a common `#parse` file and was able to use it across Models &amp; DTOs alike.\r\n\r\nInvoking the macro looks like this:\r\n\r\n```\r\n#foreach( $attribute in $entity.nonKeyAttributes )\r\n$jpa.fieldAnnotations(2, $attribute)\r\n  private #typeFor( $attribute ) $attribute.name#if($attribute.hasInitialValue()) = ${attribute.initialValue}#end;\r\n#end\r\n```","title":"Telosys Type Overriding - `timestamp` -&gt; `OffsetDateTime`","body":"<p>For anyone looking here in the future, I ended up going with the answer @Igu suggested (#1) - which isn't necessarily for all attributes of all entities. (Unless I'm missing how it should be applied).</p>\n<p>The macro looked like:</p>\n<pre><code>#macro( typeFor $attribute )\n#if ( $attribute.neutralType == 'timestamp' )OffsetDateTime#else$attribute.simpleType#end\n#end\n</code></pre>\n<p>Unfortunately, the formatting seems to be necessary in order to not add extra newlines or spaces in the generated <code>.java</code> file. I added this macro definition to a common <code>#parse</code> file and was able to use it across Models &amp; DTOs alike.</p>\n<p>Invoking the macro looks like this:</p>\n<pre><code>#foreach( $attribute in $entity.nonKeyAttributes )\n$jpa.fieldAnnotations(2, $attribute)\n  private #typeFor( $attribute ) $attribute.name#if($attribute.hasInitialValue()) = ${attribute.initialValue}#end;\n#end\n</code></pre>\n"}],"owner":{"account_id":901873,"reputation":851,"user_id":937808,"accept_rate":33,"display_name":"Michael Ressler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75286664,"answer_count":2,"score":0,"last_activity_date":1675374743,"creation_date":1674848223,"question_id":75262625,"body_markdown":"My entities contain a `timestamp` attribute that is getting converted to a `LocalDateTime` as [the docs specify][1]. However, I would like to convert the `timestamp` into an `OffsetDateTime`. Is there any way to override the default conversion behavior?\r\n\r\n[This question][2] mentions a .dbrep, but I don&#39;t have such a file in my project.\r\n\r\n\r\n  [1]: https://doc.telosys.org/target-languages/java#types-conversion\r\n  [2]: https://stackoverflow.com/questions/65591822/telosys-timestamp-generation-date-problem-missing-nanosecond-precision","title":"Telosys Type Overriding - `timestamp` -&gt; `OffsetDateTime`","body":"<p>My entities contain a <code>timestamp</code> attribute that is getting converted to a <code>LocalDateTime</code> as <a href=\"https://doc.telosys.org/target-languages/java#types-conversion\" rel=\"nofollow noreferrer\">the docs specify</a>. However, I would like to convert the <code>timestamp</code> into an <code>OffsetDateTime</code>. Is there any way to override the default conversion behavior?</p>\n<p><a href=\"https://stackoverflow.com/questions/65591822/telosys-timestamp-generation-date-problem-missing-nanosecond-precision\">This question</a> mentions a .dbrep, but I don't have such a file in my project.</p>\n"},{"tags":["java","spring","caching","guava"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1675298302,"post_id":75317561,"comment_id":132901217,"body_markdown":"Why do you think there&#39;s a specific limit?","body":"Why do you think there&#39;s a specific limit?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1675369222,"post_id":75317561,"comment_id":132920035,"body_markdown":"Would you consider ArrayList to have a limit?  A Cache has a limit like that.  (It might cap out around Integer.MAX_VALUE.)","body":"Would you consider ArrayList to have a limit?  A Cache has a limit like that.  (It might cap out around Integer.MAX_VALUE.)"}],"answers":[{"tags":[],"owner":{"account_id":131689,"reputation":451,"user_id":331864,"accept_rate":67,"display_name":"isomeme"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675374732,"creation_date":1675374732,"answer_id":75329321,"question_id":75317561,"body_markdown":"Extending what Louis Wasserman said...\r\n\r\nLet&#39;s assume the absolute limit on cache size (entry count) is `Integer.MAX_VALUE`, which is a bit over 2 billion. In realistic caching scenarios you&#39;re very likely to run out of heap memory long before you get anywhere near the theoretical maximum cache size.\r\n\r\nFor example, if we assume `Long` keys mapping to `String` values that each use 20 bytes, that&#39;s 24 bytes per entry exclusive of overhead, so a maximal cache would contain roughly 50 GiB of data. Few machines can support a 50+ GiB heap allocation. And remember that overhead (e.g., the cache data structure itself) would make the real memory usage even larger.","title":"Guava cache maximum number of elements if maximumSize is not set","body":"<p>Extending what Louis Wasserman said...</p>\n<p>Let's assume the absolute limit on cache size (entry count) is <code>Integer.MAX_VALUE</code>, which is a bit over 2 billion. In realistic caching scenarios you're very likely to run out of heap memory long before you get anywhere near the theoretical maximum cache size.</p>\n<p>For example, if we assume <code>Long</code> keys mapping to <code>String</code> values that each use 20 bytes, that's 24 bytes per entry exclusive of overhead, so a maximal cache would contain roughly 50 GiB of data. Few machines can support a 50+ GiB heap allocation. And remember that overhead (e.g., the cache data structure itself) would make the real memory usage even larger.</p>\n"}],"owner":{"account_id":18925974,"reputation":37,"user_id":13809107,"display_name":"Skul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75329321,"answer_count":1,"score":0,"last_activity_date":1675374732,"creation_date":1675297616,"question_id":75317561,"body_markdown":"I&#39;m trying to figure out what the number of elements the cache can hold if I do not specify any maximum size. \r\n\r\nIs there any upper-bound to how many entries can be contained by `cacheWithoutSize` ?\r\n\r\n `\r\nCache&lt;String, Object&gt; cacheWithoutSize = CacheBuilder.newBuilder()\r\n.build();\r\n`\r\n\r\nI read through the release doc, could not find any answer : https://guava.dev/releases/18.0/api/docs/com/google/common/cache/CacheBuilder.html#:~:text=maximumSize(10000)%20.","title":"Guava cache maximum number of elements if maximumSize is not set","body":"<p>I'm trying to figure out what the number of elements the cache can hold if I do not specify any maximum size.</p>\n<p>Is there any upper-bound to how many entries can be contained by <code>cacheWithoutSize</code> ?</p>\n<p><code>Cache&lt;String, Object&gt; cacheWithoutSize = CacheBuilder.newBuilder() .build();</code></p>\n<p>I read through the release doc, could not find any answer : <a href=\"https://guava.dev/releases/18.0/api/docs/com/google/common/cache/CacheBuilder.html#:%7E:text=maximumSize(10000)%20\" rel=\"nofollow noreferrer\">https://guava.dev/releases/18.0/api/docs/com/google/common/cache/CacheBuilder.html#:~:text=maximumSize(10000)%20</a>.</p>\n"},{"tags":["java","rest","authentication","processmaker","processmaker-api"],"comments":[{"owner":{"account_id":3732948,"reputation":203,"user_id":3104722,"display_name":"Ethan Presberg"},"score":0,"creation_date":1664454778,"post_id":73866375,"comment_id":130478754,"body_markdown":"ProcessMaker 4 has native SDKs for exactly this use case! If you want to learn more about our SDKs that interact with the API, we have a Livestream tomorrow on precisely this topic. You would gain a lot of value by tuning in if you can or watch the recording on our channel later. https://youtu.be/rR79byOjSYo","body":"ProcessMaker 4 has native SDKs for exactly this use case! If you want to learn more about our SDKs that interact with the API, we have a Livestream tomorrow on precisely this topic. You would gain a lot of value by tuning in if you can or watch the recording on our channel later. <a href=\"https://youtu.be/rR79byOjSYo\" rel=\"nofollow noreferrer\">youtu.be/rR79byOjSYo</a>"}],"answers":[{"comments":[{"owner":{"account_id":4408505,"reputation":3,"user_id":3619914,"display_name":"Javaz81"},"score":0,"creation_date":1664369479,"post_id":73873435,"comment_id":130455511,"body_markdown":"yeah I see it but I can&#39;t figure auth how to manage authentication. With PM3 I could create OAuth clientID for my third party application easily. If I enter as administrator i see Auth Client section, but I don&#39;t know how to create client ID and key to let my third party app use it as authentication. Some example?","body":"yeah I see it but I can&#39;t figure auth how to manage authentication. With PM3 I could create OAuth clientID for my third party application easily. If I enter as administrator i see Auth Client section, but I don&#39;t know how to create client ID and key to let my third party app use it as authentication. Some example?"},{"owner":{"account_id":2825306,"reputation":394,"user_id":2428072,"accept_rate":75,"display_name":"osantos"},"score":0,"creation_date":1664393002,"post_id":73873435,"comment_id":130463836,"body_markdown":"Did you already create an Authenticated client as described in https://processmaker.gitbook.io/processmaker/processmaker-administration/auth-client-management/manage-client-authentications/create-a-new-client-authentication-key ?","body":"Did you already create an Authenticated client as described in <a href=\"https://processmaker.gitbook.io/processmaker/processmaker-administration/auth-client-management/manage-client-authentications/create-a-new-client-authentication-key\" rel=\"nofollow noreferrer\">processmaker.gitbook.io/processmaker/&hellip;</a> ?"},{"owner":{"account_id":2825306,"reputation":394,"user_id":2428072,"accept_rate":75,"display_name":"osantos"},"score":0,"creation_date":1664399114,"post_id":73873435,"comment_id":130465464,"body_markdown":"I have extended my answer. Hope this helps. This is for basic password authentication.","body":"I have extended my answer. Hope this helps. This is for basic password authentication."},{"owner":{"account_id":4408505,"reputation":3,"user_id":3619914,"display_name":"Javaz81"},"score":0,"creation_date":1664439563,"post_id":73873435,"comment_id":130473416,"body_markdown":"Yeah! It worked. That&#39;s what I needed!.  I used OkHttp and Gson library to build a simple java app that authenticates and does a GET on environment variables for testing.  Thanks so much!","body":"Yeah! It worked. That&#39;s what I needed!.  I used OkHttp and Gson library to build a simple java app that authenticates and does a GET on environment variables for testing.  Thanks so much!"},{"owner":{"account_id":2825306,"reputation":394,"user_id":2428072,"accept_rate":75,"display_name":"osantos"},"score":0,"creation_date":1664445428,"post_id":73873435,"comment_id":130475476,"body_markdown":"I am glad it worked. I am new to processmaker, do you have experience developing PHP scripted tasks in processmaker?","body":"I am glad it worked. I am new to processmaker, do you have experience developing PHP scripted tasks in processmaker?"},{"owner":{"account_id":4408505,"reputation":3,"user_id":3619914,"display_name":"Javaz81"},"score":0,"creation_date":1692773704,"post_id":73873435,"comment_id":135668378,"body_markdown":"Sorry for the late reply, but I rarely log in SO in these period of my life. I&#39;m very sorry, but I really do not have any experience in PHP scripting, so I can&#39;t be of any help.","body":"Sorry for the late reply, but I rarely log in SO in these period of my life. I&#39;m very sorry, but I really do not have any experience in PHP scripting, so I can&#39;t be of any help."}],"tags":[],"owner":{"account_id":2825306,"reputation":394,"user_id":2428072,"accept_rate":75,"display_name":"osantos"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664444919,"creation_date":1664310218,"answer_id":73873435,"question_id":73866375,"body_markdown":"You can access the restful API documentation by logging into processmaker 4 and then accessing the following url http://youserver:yourport/api/documentation.\r\nYou shoud get a swager screen where you can see the Restfull endpoints and the parameters they take. You can even execute the calls from there if you click on the autorize button.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn order to be able to authenticate to access the API you first need to create an [Auth Client][2] and enable password grant.\r\n\r\nOnce you create an Auth client take note of the Client ID (the number not the name you provided when creating the client), and the secret.\r\n\r\nYou can obtain the access_token and the refresh_tokens by making a post request to the url https://yourhostname/oauth/token with content type &quot;application/json&quot; and the following body contents:\r\n\r\n    {\r\n      &quot;grant_type&quot;: &quot;password&quot;,\r\n      &quot;scope&quot;: &quot;*&quot;,\r\n      &quot;client_id&quot;: 6,\r\n      &quot;client_secret&quot;: &quot;zBBO.........30p0iHQ3&quot;,\r\n      &quot;username&quot;: &quot;yourusername&quot;,\r\n      &quot;password&quot;: &quot;yourpassword&quot;\r\n    }\r\n\r\nOf course you must replace the client_id, the secret, the username and password to your specific values. \r\n\r\n  [1]: https://i.stack.imgur.com/WRY5w.png\r\n  [2]: https://processmaker.gitbook.io/processmaker/processmaker-administration/auth-client-management/manage-client-authentications/create-a-new-client-authentication-key","title":"How to write a Java application with processMaker 4.0 API?","body":"<p>You can access the restful API documentation by logging into processmaker 4 and then accessing the following url http://youserver:yourport/api/documentation.\nYou shoud get a swager screen where you can see the Restfull endpoints and the parameters they take. You can even execute the calls from there if you click on the autorize button.\n<a href=\"https://i.stack.imgur.com/WRY5w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WRY5w.png\" alt=\"enter image description here\" /></a></p>\n<p>In order to be able to authenticate to access the API you first need to create an <a href=\"https://processmaker.gitbook.io/processmaker/processmaker-administration/auth-client-management/manage-client-authentications/create-a-new-client-authentication-key\" rel=\"nofollow noreferrer\">Auth Client</a> and enable password grant.</p>\n<p>Once you create an Auth client take note of the Client ID (the number not the name you provided when creating the client), and the secret.</p>\n<p>You can obtain the access_token and the refresh_tokens by making a post request to the url https://yourhostname/oauth/token with content type &quot;application/json&quot; and the following body contents:</p>\n<pre><code>{\n  &quot;grant_type&quot;: &quot;password&quot;,\n  &quot;scope&quot;: &quot;*&quot;,\n  &quot;client_id&quot;: 6,\n  &quot;client_secret&quot;: &quot;zBBO.........30p0iHQ3&quot;,\n  &quot;username&quot;: &quot;yourusername&quot;,\n  &quot;password&quot;: &quot;yourpassword&quot;\n}\n</code></pre>\n<p>Of course you must replace the client_id, the secret, the username and password to your specific values.</p>\n"}],"owner":{"account_id":4408505,"reputation":3,"user_id":3619914,"display_name":"Javaz81"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73873435,"answer_count":1,"score":0,"last_activity_date":1675374284,"creation_date":1664275835,"question_id":73866375,"body_markdown":"Good morning,\r\n\r\ni have downloaded and install the pm4-core docker image and installed it.\r\nI can run PM4, create and admin my pm4 instance without issues, but i want to develop a java program that uses the PM 4 restful API to edit some process data.\r\nI search on YouTube but I have found something about restful api usage with PM 3.2 not 4.\r\nFurthermore, in the &quot;Auth client&quot; section, the &quot;Enable direct API access&quot; option is missing.\r\n\r\nDoes someone have a simple piece of code written in java,kotlin, C#, swift etc... that authenticates and use restful PM4 API to share with?\r\n","title":"How to write a Java application with processMaker 4.0 API?","body":"<p>Good morning,</p>\n<p>i have downloaded and install the pm4-core docker image and installed it.\nI can run PM4, create and admin my pm4 instance without issues, but i want to develop a java program that uses the PM 4 restful API to edit some process data.\nI search on YouTube but I have found something about restful api usage with PM 3.2 not 4.\nFurthermore, in the &quot;Auth client&quot; section, the &quot;Enable direct API access&quot; option is missing.</p>\n<p>Does someone have a simple piece of code written in java,kotlin, C#, swift etc... that authenticates and use restful PM4 API to share with?</p>\n"},{"tags":["java","selenium","cucumber-serenity"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661324638,"post_id":73468762,"comment_id":129741549,"body_markdown":"ehm ... OK? what part is deprecated? Just check the documentation of that method, and it&#39;ll tell you what to use instead.","body":"ehm ... OK? what part is deprecated? Just check the documentation of that method, and it&#39;ll tell you what to use instead."},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661324786,"post_id":73468762,"comment_id":129741596,"body_markdown":"org.apache.http.params.CoreConnectionPNames is deprecated","body":"org.apache.http.params.CoreConnectionPNames is deprecated"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661325610,"post_id":73468762,"comment_id":129741869,"body_markdown":"so check the documentation of that class","body":"so check the documentation of that class"},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661325946,"post_id":73468762,"comment_id":129741994,"body_markdown":"Documentation says:\n\n@Deprecated \npublic interface CoreConnectionPNames\nDeprecated\n\n  org.apache.http.params\n  Maven: org.apache.httpcomponents:httpcore:4.4.9 (httpcore-4.4.9.jar)","body":"Documentation says:  @Deprecated  public interface CoreConnectionPNames Deprecated    org.apache.http.params   Maven: org.apache.httpcomponents:httpcore:4.4.9 (httpcore-4.4.9.jar)"},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661326015,"post_id":73468762,"comment_id":129742020,"body_markdown":"No documentation found for org.apache.http.params","body":"No documentation found for org.apache.http.params"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661326694,"post_id":73468762,"comment_id":129742251,"body_markdown":"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html","body":"<a href=\"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/&hellip;</a>"},{"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"score":0,"creation_date":1661328351,"post_id":73468762,"comment_id":129742897,"body_markdown":"I&#39;m sorry but I don&#39;t really get what I should use instead","body":"I&#39;m sorry but I don&#39;t really get what I should use instead"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661328655,"post_id":73468762,"comment_id":129742996,"body_markdown":"Deprecated. \n(4.3) use configuration classes provided &#39;org.apache.http.config&#39; and &#39;org.apache.http.client.config&#39;","body":"Deprecated.  (4.3) use configuration classes provided &#39;org.apache.http.config&#39; and &#39;org.apache.http.client.config&#39;"}],"answers":[{"tags":[],"owner":{"account_id":961675,"reputation":4991,"user_id":985906,"accept_rate":93,"display_name":"JoshDM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675374205,"creation_date":1675374205,"answer_id":75329255,"question_id":73468762,"body_markdown":"`org.apache.http.params.CoreConnectionPNames` is deprecated and the class was removed.  This prevents you from using the pre-made constants.\r\n\r\nAccording to [Android Developer Reference for `CoreConnectionPNames`][1]:\r\n* The String value for `SO_TIMEOUT` was `&quot;http.socket.timeout&quot;`.\r\n    * according to [the JavaDocs][2], replacement guidance references `java.net.SocketOptions.SO_TIMEOUT`, but this is an `int` so this may not be proper guidance\r\n* The String value for `CONNECTION_TIMEOUT` was `&quot;http.connection.timeout&quot;`. \r\n    * there is no replacement guidance\r\n\r\nSubstituting these for the constants or creating your own constants can replace the original constants; however there is no guarantee these settings will be recognized going forward.  [This SO answer][3] should provide guidance on how to proceed forward modernizing the timeout.\r\n\r\nBroad guidance is to swap to applying `org.apache.http.client.config.RequestConfig`. \r\n\r\n```\r\nRequestConfig.custom().setSocketTimeout(timeout).setConnectTimeout(timeout).build();\r\n```\r\n\r\n  [1]: https://developer.android.com/reference/org/apache/http/params/CoreConnectionPNames\r\n  [2]: https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html#SO_TIMEOUT\r\n  [3]: https://stackoverflow.com/questions/3000214/java-http-client-request-with-defined-timeout","title":"Need help replacing this method since CoreConnectionPNames is deprecated (org.apache.http.params)","body":"<p><code>org.apache.http.params.CoreConnectionPNames</code> is deprecated and the class was removed.  This prevents you from using the pre-made constants.</p>\n<p>According to <a href=\"https://developer.android.com/reference/org/apache/http/params/CoreConnectionPNames\" rel=\"nofollow noreferrer\">Android Developer Reference for <code>CoreConnectionPNames</code></a>:</p>\n<ul>\n<li>The String value for <code>SO_TIMEOUT</code> was <code>&quot;http.socket.timeout&quot;</code>.\n<ul>\n<li>according to <a href=\"https://javadoc.io/doc/org.apache.httpcomponents/httpcore/4.4/org/apache/http/params/CoreConnectionPNames.html#SO_TIMEOUT\" rel=\"nofollow noreferrer\">the JavaDocs</a>, replacement guidance references <code>java.net.SocketOptions.SO_TIMEOUT</code>, but this is an <code>int</code> so this may not be proper guidance</li>\n</ul>\n</li>\n<li>The String value for <code>CONNECTION_TIMEOUT</code> was <code>&quot;http.connection.timeout&quot;</code>.\n<ul>\n<li>there is no replacement guidance</li>\n</ul>\n</li>\n</ul>\n<p>Substituting these for the constants or creating your own constants can replace the original constants; however there is no guarantee these settings will be recognized going forward.  <a href=\"https://stackoverflow.com/questions/3000214/java-http-client-request-with-defined-timeout\">This SO answer</a> should provide guidance on how to proceed forward modernizing the timeout.</p>\n<p>Broad guidance is to swap to applying <code>org.apache.http.client.config.RequestConfig</code>.</p>\n<pre><code>RequestConfig.custom().setSocketTimeout(timeout).setConnectTimeout(timeout).build();\n</code></pre>\n"}],"owner":{"account_id":26146657,"reputation":11,"user_id":19835179,"display_name":"khadjolees"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675374205,"creation_date":1661324559,"question_id":73468762,"body_markdown":"I am using this method to set CONNECTION_TIMEOUT and SO_TIMEOUT\r\n    \r\n    public void setConfig(ContentType contentType, Integer timeout) {\r\n                setConfig(SerenityRest.config()\r\n                        .sslConfig(new SSLConfig().allowAllHostnames().relaxedHTTPSValidation())\r\n                        .httpClient(HttpClientConfig.httpClientConfig()\r\n                        .setParam(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout)\r\n                        .setParam(CoreConnectionPNames.SO_TIMEOUT, timeout)))\r\n                        .addHeader(HttpHeaders.CONTENT_TYPE, contentType.toString());\r\n            }","title":"Need help replacing this method since CoreConnectionPNames is deprecated (org.apache.http.params)","body":"<p>I am using this method to set CONNECTION_TIMEOUT and SO_TIMEOUT</p>\n<pre><code>public void setConfig(ContentType contentType, Integer timeout) {\n            setConfig(SerenityRest.config()\n                    .sslConfig(new SSLConfig().allowAllHostnames().relaxedHTTPSValidation())\n                    .httpClient(HttpClientConfig.httpClientConfig()\n                    .setParam(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout)\n                    .setParam(CoreConnectionPNames.SO_TIMEOUT, timeout)))\n                    .addHeader(HttpHeaders.CONTENT_TYPE, contentType.toString());\n        }\n</code></pre>\n"},{"tags":["java","xml","validation","schema"],"answers":[{"tags":[],"owner":{"account_id":27689474,"reputation":1,"user_id":21136475,"display_name":"Pomme"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675373923,"creation_date":1675373923,"answer_id":75329217,"question_id":71797513,"body_markdown":"There are a number of tools available from vendors who validate against the actual SMPTE specification. Photon is Netflix specific. ","title":"Is there any alternative to Netflix Photon library for validating IMF packages?","body":"<p>There are a number of tools available from vendors who validate against the actual SMPTE specification. Photon is Netflix specific.</p>\n"}],"owner":{"account_id":235278,"reputation":2907,"user_id":501986,"accept_rate":96,"display_name":"Dchris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675373923,"creation_date":1649422907,"question_id":71797513,"body_markdown":"I am validating [IMF packages][1] in Java and i want to use a new version of [CPL][2] which uses the namespace xmlns:cc=&quot;[http://www.smpte-ra.org/ns/2067-2/2020][3]&quot;.\r\nIt seems that Netflix Photon([even latest version 4.8.0][4]) -  is only supporting the below two CPL schema URIs(supportedCPLSchemaURIs constant in code):\r\n\r\n&gt; 1) http://www.smpte-ra.org/schemas/2067-3/2013 \r\n&gt; 2) http://www.smpte-ra.org/schemas/2067-3/2016\r\n\r\nWhen i try to validate the CPL i am getting the following error:\r\n\r\n&gt; Please check the CPL document and namespace URI, currently we only\r\n&gt; support the following schema URIs \r\n&gt; http://www.smpte-ra.org/schemas/2067-3/2013\r\n&gt; http://www.smpte-ra.org/schemas/2067-3/2016  [Photon version: 4.8.0]\r\n\r\n\r\nI was not able to find solution for the above.\r\n\r\nIs there any alternative library which can bypass the above error?\r\n\r\n\r\n  [1]: http://www.telestream.net/pdfs/datasheets/App-brief-Vantage-IMF.pdf\r\n  [2]: https://ieeexplore.ieee.org/document/7290378\r\n  [3]: https://ieeexplore.ieee.org/document/9097478\r\n  [4]: https://github.com/Netflix/photon/tree/feature/IMF2020","title":"Is there any alternative to Netflix Photon library for validating IMF packages?","body":"<p>I am validating <a href=\"http://www.telestream.net/pdfs/datasheets/App-brief-Vantage-IMF.pdf\" rel=\"nofollow noreferrer\">IMF packages</a> in Java and i want to use a new version of <a href=\"https://ieeexplore.ieee.org/document/7290378\" rel=\"nofollow noreferrer\">CPL</a> which uses the namespace xmlns:cc=&quot;<a href=\"https://ieeexplore.ieee.org/document/9097478\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/ns/2067-2/2020</a>&quot;.\nIt seems that Netflix Photon(<a href=\"https://github.com/Netflix/photon/tree/feature/IMF2020\" rel=\"nofollow noreferrer\">even latest version 4.8.0</a>) -  is only supporting the below two CPL schema URIs(supportedCPLSchemaURIs constant in code):</p>\n<blockquote>\n<ol>\n<li><a href=\"http://www.smpte-ra.org/schemas/2067-3/2013\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2013</a></li>\n<li><a href=\"http://www.smpte-ra.org/schemas/2067-3/2016\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2016</a></li>\n</ol>\n</blockquote>\n<p>When i try to validate the CPL i am getting the following error:</p>\n<blockquote>\n<p>Please check the CPL document and namespace URI, currently we only\nsupport the following schema URIs\n<a href=\"http://www.smpte-ra.org/schemas/2067-3/2013\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2013</a>\n<a href=\"http://www.smpte-ra.org/schemas/2067-3/2016\" rel=\"nofollow noreferrer\">http://www.smpte-ra.org/schemas/2067-3/2016</a>  [Photon version: 4.8.0]</p>\n</blockquote>\n<p>I was not able to find solution for the above.</p>\n<p>Is there any alternative library which can bypass the above error?</p>\n"},{"tags":["java","ssh","jsch","multiplexing","sshj"],"owner":{"account_id":12385654,"reputation":1,"user_id":21089897,"display_name":"cjsd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675373705,"creation_date":1675373705,"question_id":75329188,"body_markdown":"I&#39;m implementing an application that creates SSH connections and port forwards in those connections. A use case is that exactly the same connection; same host, same port, same forwards is requested again at a later point in time. Researching this, I found the multiplex protocol implemented in SSH. When testing this with a local OpenSSH binary everything works as expected, I see the socket file (ControlPath option) being created and the connection is being reused.\r\n\r\nI was looking for a Java implementation of this process but it seems none of the existing libraries work as I expect. I&#39;ve tried Jsch, sshj, mina-sshd, ..\r\n\r\nOnly by using the processbuilder and actually using a OpenSSH binary, I see the socket file being created and the connection being reused across JVM shutdowns. Have I made programming mistake or is it just not possible? The only project actually stating to support this feature is sshj, but when testing I didn&#39;t see any socket files being created..\r\n\r\nDo these pure Java implementations just work differently? Don&#39;t they create these socket files? Has anyone have any experience at all trying to make this work and can you point me in a direction?","title":"SSH Multiplexing in Java","body":"<p>I'm implementing an application that creates SSH connections and port forwards in those connections. A use case is that exactly the same connection; same host, same port, same forwards is requested again at a later point in time. Researching this, I found the multiplex protocol implemented in SSH. When testing this with a local OpenSSH binary everything works as expected, I see the socket file (ControlPath option) being created and the connection is being reused.</p>\n<p>I was looking for a Java implementation of this process but it seems none of the existing libraries work as I expect. I've tried Jsch, sshj, mina-sshd, ..</p>\n<p>Only by using the processbuilder and actually using a OpenSSH binary, I see the socket file being created and the connection being reused across JVM shutdowns. Have I made programming mistake or is it just not possible? The only project actually stating to support this feature is sshj, but when testing I didn't see any socket files being created..</p>\n<p>Do these pure Java implementations just work differently? Don't they create these socket files? Has anyone have any experience at all trying to make this work and can you point me in a direction?</p>\n"},{"tags":["java","spring-boot","netty"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675372942,"creation_date":1675372942,"answer_id":75329090,"question_id":75327145,"body_markdown":"Spring boot only has a single Netty service. All you are doing is changing the port for the single service.\r\n\r\nAdding more Netty services is fairly simple, eg [here][1]\r\n\r\nHowever, plugging in all the Spring Boot facilities (handlers, controllers) to provide their ease of use is a serious exercise.\r\n\r\n\r\n  [1]: https://developer.okta.com/blog/2019/11/25/java-netty-webflux","title":"How can I run Netty on multiple ports in Springboot application","body":"<p>Spring boot only has a single Netty service. All you are doing is changing the port for the single service.</p>\n<p>Adding more Netty services is fairly simple, eg <a href=\"https://developer.okta.com/blog/2019/11/25/java-netty-webflux\" rel=\"nofollow noreferrer\">here</a></p>\n<p>However, plugging in all the Spring Boot facilities (handlers, controllers) to provide their ease of use is a serious exercise.</p>\n"}],"owner":{"account_id":781169,"reputation":195,"user_id":5896333,"accept_rate":50,"display_name":"Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675372942,"creation_date":1675360590,"question_id":75327145,"body_markdown":"I have a Springboot application using Netty and I want it to run on multiple ports 8080, 8082, 8084. \r\n\r\nI tried using NettyServerCustomizer using the code below, but then it only works on the last mentioned port (8084 in this example) \r\n```\r\n@Component\r\npublic class NettyWebServerFactoryPortCustomizer \r\n  implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\r\n\r\n    @Override\r\n    public void customize(NettyReactiveWebServerFactory serverFactory) {\r\n        //serverFactory.setPort(8088);\r\n        serverFactory.addServerCustomizers(new PortCustomizer(8080));\r\n        serverFactory.addServerCustomizers(new PortCustomizer(8082));\r\n        serverFactory.addServerCustomizers(new PortCustomizer(8084));\r\n    }\r\n    \r\n    private static class PortCustomizer implements NettyServerCustomizer {\r\n        private final int port;\r\n\r\n        private PortCustomizer(int port) {\r\n            this.port = port;\r\n        }\r\n    \r\n        @Override\r\n        public HttpServer apply(HttpServer httpServer) {\r\n            return httpServer.port(port);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAny tips would be useful. \r\n\r\nThanks ","title":"How can I run Netty on multiple ports in Springboot application","body":"<p>I have a Springboot application using Netty and I want it to run on multiple ports 8080, 8082, 8084.</p>\n<p>I tried using NettyServerCustomizer using the code below, but then it only works on the last mentioned port (8084 in this example)</p>\n<pre><code>@Component\npublic class NettyWebServerFactoryPortCustomizer \n  implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\n\n    @Override\n    public void customize(NettyReactiveWebServerFactory serverFactory) {\n        //serverFactory.setPort(8088);\n        serverFactory.addServerCustomizers(new PortCustomizer(8080));\n        serverFactory.addServerCustomizers(new PortCustomizer(8082));\n        serverFactory.addServerCustomizers(new PortCustomizer(8084));\n    }\n    \n    private static class PortCustomizer implements NettyServerCustomizer {\n        private final int port;\n\n        private PortCustomizer(int port) {\n            this.port = port;\n        }\n    \n        @Override\n        public HttpServer apply(HttpServer httpServer) {\n            return httpServer.port(port);\n        }\n    }\n}\n</code></pre>\n<p>Any tips would be useful.</p>\n<p>Thanks</p>\n"},{"tags":["java","writer"],"answers":[{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1305030337,"creation_date":1305030337,"answer_id":5949971,"question_id":5949926,"body_markdown":"`Append()` can take a `CharSequence`, whereas `write()` takes a `String`.\r\n\r\nSince `String` is an implementation of `CharSequence`, you can also pass a `String` to `append()`.  But you can also pass a `StringBuilder` or `StringBuffer` to `append`, which you can&#39;t do with `write()`.","title":"What is the difference between append and write methods of java.io.writer?","body":"<p><code>Append()</code> can take a <code>CharSequence</code>, whereas <code>write()</code> takes a <code>String</code>.</p>\n\n<p>Since <code>String</code> is an implementation of <code>CharSequence</code>, you can also pass a <code>String</code> to <code>append()</code>.  But you can also pass a <code>StringBuilder</code> or <code>StringBuffer</code> to <code>append</code>, which you can't do with <code>write()</code>.</p>\n"},{"comments":[{"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"score":0,"creation_date":1305030499,"post_id":5949975,"comment_id":6860163,"body_markdown":"Does that mean that I should use append rather than write? Why couldn&#39;t they just have called the overloads with CharSequence write as well and made the old write methods return the writer too?","body":"Does that mean that I should use append rather than write? Why couldn&#39;t they just have called the overloads with CharSequence write as well and made the old write methods return the writer too?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1305030805,"post_id":5949975,"comment_id":6860258,"body_markdown":"@Svish,  That would break backward compatibility.  When code is compiled, the return type is part of the byte code signature and you wouldn&#39;t be able to use the new method without re-compiling the code from source. Also you may replace `write(int)` with `write(char)` in Java (which some code changes) but you definitive need to re-compile it.  I would suggest you use `append` if you have no preference.  The reason it has this name is to be consistent with StringBuffer which always used append. StringBuilder/StringBuffer/Writer all share the Appendable interface now.","body":"@Svish,  That would break backward compatibility.  When code is compiled, the return type is part of the byte code signature and you wouldn&#39;t be able to use the new method without re-compiling the code from source. Also you may replace <code>write(int)</code> with <code>write(char)</code> in Java (which some code changes) but you definitive need to re-compile it.  I would suggest you use <code>append</code> if you have no preference.  The reason it has this name is to be consistent with StringBuffer which always used append. StringBuilder/StringBuffer/Writer all share the Appendable interface now."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1305030350,"creation_date":1305030350,"answer_id":5949975,"question_id":5949926,"body_markdown":"There are minor differences between append() and write(). All of which you can work out by reading the Javadocs. Hint. ;)\r\n\r\n* write will only take a String which must not be null and returns `void`\r\n* append will take any CharSequence which can be null and return the Writer so it can be chained.\r\n\r\nwrite is an older style format created before CharSequence was available.\r\n\r\nThese methods are overloaded so that there is a \r\n\r\n* `write(int)` where the `int` is cast to a char. `append(char)` must be a char type.\r\n* `write(char[] chars)` takes an array of char, there is no equivalent append().","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>There are minor differences between append() and write(). All of which you can work out by reading the Javadocs. Hint. ;)</p>\n\n<ul>\n<li>write will only take a String which must not be null and returns <code>void</code></li>\n<li>append will take any CharSequence which can be null and return the Writer so it can be chained.</li>\n</ul>\n\n<p>write is an older style format created before CharSequence was available.</p>\n\n<p>These methods are overloaded so that there is a </p>\n\n<ul>\n<li><code>write(int)</code> where the <code>int</code> is cast to a char. <code>append(char)</code> must be a char type.</li>\n<li><code>write(char[] chars)</code> takes an array of char, there is no equivalent append().</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":309202,"reputation":1116,"user_id":2739211,"display_name":"joe776"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503648201,"creation_date":1305030390,"answer_id":5949985,"question_id":5949926,"body_markdown":"`Writer.append(c)` returns the Writer instance. Thus you can chain multiple calls to append, e.g. `out.append(&quot;Hello&quot;).append(&quot;World&quot;)`;","title":"What is the difference between append and write methods of java.io.writer?","body":"<p><code>Writer.append(c)</code> returns the Writer instance. Thus you can chain multiple calls to append, e.g. <code>out.append(\"Hello\").append(\"World\")</code>;</p>\n"},{"tags":[],"owner":{"account_id":380511,"reputation":1898,"user_id":734579,"display_name":"jjwchoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1305030413,"creation_date":1305030413,"answer_id":5949994,"question_id":5949926,"body_markdown":"Probably to conform to the Appendable interface: http://download.oracle.com/javase/6/docs/api/java/lang/Appendable.html\r\n","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>Probably to conform to the Appendable interface: <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Appendable.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/lang/Appendable.html</a></p>\n"},{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305031283,"creation_date":1305030455,"answer_id":5950003,"question_id":5949926,"body_markdown":"Looks to me like it&#39;s a byproduct of the `Appendable` interface which `java.io.Writer` implements in order to provide compatibility with `java.util.Formatter`.  As you noted, the documentation points out that for `java.io.Writer` there is no practical difference between the two methods.\r\n","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>Looks to me like it's a byproduct of the <code>Appendable</code> interface which <code>java.io.Writer</code> implements in order to provide compatibility with <code>java.util.Formatter</code>.  As you noted, the documentation points out that for <code>java.io.Writer</code> there is no practical difference between the two methods.</p>\n"},{"tags":[],"owner":{"account_id":387173,"reputation":199,"user_id":745368,"accept_rate":100,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305030518,"creation_date":1305030518,"answer_id":5950013,"question_id":5949926,"body_markdown":"As you can see from the documentation, append also returns the Writer you have just written to so that you can perform multiple appends such as:\r\n\r\n    out.append(a).append(b).append(c)\r\n","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>As you can see from the documentation, append also returns the Writer you have just written to so that you can perform multiple appends such as:</p>\n\n<pre><code>out.append(a).append(b).append(c)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3306342,"reputation":651,"user_id":2781042,"accept_rate":57,"display_name":"cadebe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675372768,"creation_date":1675372768,"answer_id":75329061,"question_id":5949926,"body_markdown":"What has been noted above is true. The different flavours of `BufferWiter`&#39;s `append()` method return a `Writer`, which implements `Appendable`, among others, thereby affording you the ability to chain calls. In addition, `append()` allows you to pass a `CharSequence` as well as a `char`, as opposed to an `int`, `String` or `char[]`, as with the `write()` methods. All correct.\r\n\r\nHowever, as the question states, an important issue to point out that the underlying behaviour of `append()` is still much the same as that of `write()`. Despite the somewhat misleading nomenclature, existing file content will be overwritten, **not appended**, unless your `FileWriter` is instantiated otherwise:\r\n\r\n    try (var writer = new BufferedWriter(new FileWriter(&quot;myFile.txt&quot;, true));) {\r\n        writer.append(&quot;XXX&quot;).append(&quot;ZZZ&quot;);\r\n    }\r\n\r\nIn that sense I think the original question raises a valid point.","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>What has been noted above is true. The different flavours of <code>BufferWiter</code>'s <code>append()</code> method return a <code>Writer</code>, which implements <code>Appendable</code>, among others, thereby affording you the ability to chain calls. In addition, <code>append()</code> allows you to pass a <code>CharSequence</code> as well as a <code>char</code>, as opposed to an <code>int</code>, <code>String</code> or <code>char[]</code>, as with the <code>write()</code> methods. All correct.</p>\n<p>However, as the question states, an important issue to point out that the underlying behaviour of <code>append()</code> is still much the same as that of <code>write()</code>. Despite the somewhat misleading nomenclature, existing file content will be overwritten, <strong>not appended</strong>, unless your <code>FileWriter</code> is instantiated otherwise:</p>\n<pre><code>try (var writer = new BufferedWriter(new FileWriter(&quot;myFile.txt&quot;, true));) {\n    writer.append(&quot;XXX&quot;).append(&quot;ZZZ&quot;);\n}\n</code></pre>\n<p>In that sense I think the original question raises a valid point.</p>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39612,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":5949975,"answer_count":7,"score":35,"last_activity_date":1675372768,"creation_date":1305030098,"question_id":5949926,"body_markdown":"The [java.io.Writer][1] interface has two methods called append and write. What are the differences between these two? It even says that\r\n\r\n&gt; An invocation of this method of the form `out.append(c)` behaves in exactly the same way as the invocation `out.write(c) `\r\n\r\nso what is the reason for having two method name variants? \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/Writer.html","title":"What is the difference between append and write methods of java.io.writer?","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/Writer.html\">java.io.Writer</a> interface has two methods called append and write. What are the differences between these two? It even says that</p>\n\n<blockquote>\n  <p>An invocation of this method of the form <code>out.append(c)</code> behaves in exactly the same way as the invocation <code>out.write(c)</code></p>\n</blockquote>\n\n<p>so what is the reason for having two method name variants? </p>\n"},{"tags":["java","android-studio","owl-api","opencascade"],"owner":{"account_id":27578426,"reputation":1,"user_id":21048109,"display_name":"hannah176"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675371590,"creation_date":1674200693,"question_id":75181088,"body_markdown":"I want to add the Open Cascade library to my existing Java project in Android Studio.   \r\n\r\nI have created the gradle.properties and the build.gradle as in the instructions on GitHub. However, I keep getting the error code:\r\n&gt;&quot;Could not set unknown property &#39;plugins&#39; for object of type org.gradle.api.internal.plugins.DefaultObjectConfigurationAction&quot;\r\n\r\nDoes somebody has the same problem? I also want to add the owlapi library and it also doesn&#39;t work.\r\n\r\nThat&#39;s my build.gradle code:\r\n\r\n```\r\napply plugins: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdk 33\r\n    buildToolsVersion &quot;30.0.0&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.layoutgeneration&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n\r\n        ndk {\r\n            abiFilters &quot;arm64-v8a&quot;\r\n        }\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                arguments &quot;-DOCCT_ROOT=&quot; + OCCT_ROOT,\r\n                        &quot;-DFREETYPE_ROOT=&quot; + FREETYPE_ROOT,\r\n                        &quot;-DANDROID_STL=gnustl_shared&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        main {\r\n            manifest.srcFile &#39;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main&#39;\r\n            assets.srcDirs = [OCCT_ROOT]\r\n        }\r\n\r\n        externalNativeBuild {\r\n            cmake {\r\n                path &quot;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\CMakeLists.txt&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\java\\\\com\\\\opencascade\\\\jnisample&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support.appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n        implementation &#39;org.semanticwen.owlapi:owlapi-parent:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-distribution:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-apibinding:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-impl:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-parsers:5.5.0&#39;\r\n        implementation &#39;org.semanticweb.owlapi:owlapi-osgidistribution&#39;\r\n        implementation &#39;org.semanticweb.rulewerk:rulewerk-owlapi&#39;\r\n\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parent:5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-api/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-distribution/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-apibinding/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-impl/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parsers/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-osgidistribution/5.5.0&#39;\r\n            &#39;https://mvnrepository.com/artifact/org.semanticweb.rulewerk/rulewerk-owlapi/0.9.0&#39;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Add OCCT library in Android Studio","body":"<p>I want to add the Open Cascade library to my existing Java project in Android Studio.</p>\n<p>I have created the gradle.properties and the build.gradle as in the instructions on GitHub. However, I keep getting the error code:</p>\n<blockquote>\n<p>&quot;Could not set unknown property 'plugins' for object of type org.gradle.api.internal.plugins.DefaultObjectConfigurationAction&quot;</p>\n</blockquote>\n<p>Does somebody has the same problem? I also want to add the owlapi library and it also doesn't work.</p>\n<p>That's my build.gradle code:</p>\n<pre><code>apply plugins: 'com.android.application'\n\nandroid {\n    compileSdk 33\n    buildToolsVersion &quot;30.0.0&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.layoutgeneration&quot;\n        minSdk 24\n        targetSdk 33\n\n        ndk {\n            abiFilters &quot;arm64-v8a&quot;\n        }\n\n        externalNativeBuild {\n            cmake {\n                arguments &quot;-DOCCT_ROOT=&quot; + OCCT_ROOT,\n                        &quot;-DFREETYPE_ROOT=&quot; + FREETYPE_ROOT,\n                        &quot;-DANDROID_STL=gnustl_shared&quot;\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    sourceSets {\n        main {\n            manifest.srcFile 'C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main'\n            assets.srcDirs = [OCCT_ROOT]\n        }\n\n        externalNativeBuild {\n            cmake {\n                path &quot;C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\CMakeLists.txt&quot;\n            }\n        }\n    }\n\n    dependencies {\n        implementation fileTree(dir: 'C:\\\\Users\\\\schre\\\\AndroidStudioProjects\\\\LayoutGeneration\\\\OCCTBibliothek\\\\opencascade-7.7.0\\\\opencascade-7.7.0\\\\samples\\\\java\\\\jniviewer\\\\app\\\\src\\\\main\\\\java\\\\com\\\\opencascade\\\\jnisample', include: ['*.jar'])\n        implementation 'com.android.support.appcompat-v7:28.0.0'\n        implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n        implementation 'org.semanticwen.owlapi:owlapi-parent:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-distribution:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-apibinding:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-impl:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-parsers:5.5.0'\n        implementation 'org.semanticweb.owlapi:owlapi-osgidistribution'\n        implementation 'org.semanticweb.rulewerk:rulewerk-owlapi'\n\n    }\n\n    repositories {\n        mavenCentral()\n        maven {\n            url\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parent:5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-api/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-distribution/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-apibinding/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-impl/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-parsers/5.5.0'\n            'https://mvnrepository.com/artifact/net.sourceforge.owlapi/owlapi-osgidistribution/5.5.0'\n            'https://mvnrepository.com/artifact/org.semanticweb.rulewerk/rulewerk-owlapi/0.9.0'\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":0,"creation_date":1396266090,"post_id":22760554,"comment_id":34696639,"body_markdown":"Have you looked at [Mixing Joined and Table per concrete class inheritance](http://stackoverflow.com/questions/5977717/mixing-joined-and-table-per-concrete-class-inheritance)?","body":"Have you looked at <a href=\"http://stackoverflow.com/questions/5977717/mixing-joined-and-table-per-concrete-class-inheritance\">Mixing Joined and Table per concrete class inheritance</a>?"}],"answers":[{"tags":[],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396268821,"creation_date":1396268821,"answer_id":22761526,"question_id":22760554,"body_markdown":"While mixing inheritance strategies in an inheritance tree _can_ be sort of accomplished (https://stackoverflow.com/a/3916998/131929 refers to [Java Persistence with Hibernate][1]\r\n-&gt; 5.1.5 Mixing inheritance strategies (p207-p210)) I, and everybody else I know, advise against it.\r\n\r\nSidenote, I suggest you always use `@MappedSuperclass` rather than `@Entity` for abstract classes.\r\n\r\n  [1]: http://www.manning.com/bauer2/","title":"Hibernate inheritance JOINED + TABLE PER CLASS","body":"<p>While mixing inheritance strategies in an inheritance tree <em>can</em> be sort of accomplished (<a href=\"https://stackoverflow.com/a/3916998/131929\">https://stackoverflow.com/a/3916998/131929</a> refers to <a href=\"http://www.manning.com/bauer2/\" rel=\"nofollow noreferrer\">Java Persistence with Hibernate</a>\n-> 5.1.5 Mixing inheritance strategies (p207-p210)) I, and everybody else I know, advise against it.</p>\n\n<p>Sidenote, I suggest you always use <code>@MappedSuperclass</code> rather than <code>@Entity</code> for abstract classes.</p>\n"}],"owner":{"account_id":996936,"reputation":4882,"user_id":1012646,"accept_rate":47,"display_name":"Ido Barash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22761526,"answer_count":1,"score":0,"last_activity_date":1675371557,"creation_date":1396265784,"question_id":22760554,"body_markdown":"I have this strange hierarchy:\r\n\r\n - Class `A` is abstract (but it is an entity) \r\n - Class `B` (abstract) and C both extend class `A` (TABLE_PER_CLASS).\r\n - Class `B` is also extended by classes `D` and `E` but this time it is JOINED.\r\n\r\nI want the `ID` of the `A` class to be the `ID` of all others.\r\n\r\nCan this be done?\r\n\r\nI get strange errors of IDs. can any one show me how to map?\r\n\r\nThis is how I did it:\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class A {\r\n          @Id\r\n        \t@GeneratedValue(strategy = GenerationType.TABLE)\r\n    \tprotected Integer id;\r\n    }\r\n\r\n\r\nClass C:\r\n\r\n    @Entity\r\n    @Table(name = &quot;managers&quot;)\r\n    public class C extends A {\r\n\r\n\r\nClass B:\r\n\r\n    @Entity\r\n    @Table(name = &quot;bb&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @DiscriminatorColumn(name = &quot;discriminator&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public abstract class B extends A {\r\n\r\n\r\n\r\nClass C,D:\r\n\r\n    @Entity\r\n    @Table(name = &quot;cc&quot;/&quot;dd&quot;)\r\n    @DiscriminatorValue(&quot;CC&quot;/&quot;DD&quot;)\r\n    public class C (or D) extends B {\r\n\r\n\r\n","title":"Hibernate inheritance JOINED + TABLE PER CLASS","body":"<p>I have this strange hierarchy:</p>\n<ul>\n<li>Class <code>A</code> is abstract (but it is an entity)</li>\n<li>Class <code>B</code> (abstract) and C both extend class <code>A</code> (TABLE_PER_CLASS).</li>\n<li>Class <code>B</code> is also extended by classes <code>D</code> and <code>E</code> but this time it is JOINED.</li>\n</ul>\n<p>I want the <code>ID</code> of the <code>A</code> class to be the <code>ID</code> of all others.</p>\n<p>Can this be done?</p>\n<p>I get strange errors of IDs. can any one show me how to map?</p>\n<p>This is how I did it:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class A {\n      @Id\n        @GeneratedValue(strategy = GenerationType.TABLE)\n    protected Integer id;\n}\n</code></pre>\n<p>Class C:</p>\n<pre><code>@Entity\n@Table(name = &quot;managers&quot;)\npublic class C extends A {\n</code></pre>\n<p>Class B:</p>\n<pre><code>@Entity\n@Table(name = &quot;bb&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\n@DiscriminatorColumn(name = &quot;discriminator&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class B extends A {\n</code></pre>\n<p>Class C,D:</p>\n<pre><code>@Entity\n@Table(name = &quot;cc&quot;/&quot;dd&quot;)\n@DiscriminatorValue(&quot;CC&quot;/&quot;DD&quot;)\npublic class C (or D) extends B {\n</code></pre>\n"},{"tags":["java","maven","docker"],"answers":[{"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1517385550,"post_id":48525666,"comment_id":84069256,"body_markdown":"Rather than the update section... why not just correct the mistake in your answer?","body":"Rather than the update section... why not just correct the mistake in your answer?"}],"tags":[],"owner":{"account_id":3206807,"reputation":2883,"user_id":2707727,"accept_rate":51,"display_name":"Casey Harrils"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574444170,"creation_date":1517328019,"answer_id":48525666,"question_id":48523558,"body_markdown":"I found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a &quot;previous&quot; version on another machine)\r\n\r\nBasically, I used Maven to put the project together.\r\n\r\nTo build the project, I set up the command below and ran it under Jenkins:\r\n\r\n    $ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\r\n\r\n\r\nIn the pom.xml file, I did not specify : \r\n\r\n    &lt;artifactId&gt;&lt;/artifactId&gt;\r\n\r\nWhen I went ahead and set it \r\n\r\n    ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \r\n\r\nDocker started the jar file correctly and everything worked fine.\r\n\r\n\r\n**UPDATE**\r\nNeed to report items more accurately.\r\n\r\n    &lt;artifactId&gt;&lt;/artifactId&gt;\r\n\r\nwas defined. But\r\n\r\n    &lt;artifactId&gt;stuff&lt;/artifactId&gt; =&gt; worked\r\n    &lt;artifactId&gt;ccinfieldworkserver&lt;/artifactId&gt; =&gt; worked\r\n    &lt;artifactId&gt;BackEndRestFunctionality&lt;/artifactId&gt; =&gt; did not work.\r\n\r\nTIA","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>I found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a \"previous\" version on another machine)</p>\n\n<p>Basically, I used Maven to put the project together.</p>\n\n<p>To build the project, I set up the command below and ran it under Jenkins:</p>\n\n<pre><code>$ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\n</code></pre>\n\n<p>In the pom.xml file, I did not specify : </p>\n\n<pre><code>&lt;artifactId&gt;&lt;/artifactId&gt;\n</code></pre>\n\n<p>When I went ahead and set it </p>\n\n<pre><code>ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \n</code></pre>\n\n<p>Docker started the jar file correctly and everything worked fine.</p>\n\n<p><strong>UPDATE</strong>\nNeed to report items more accurately.</p>\n\n<pre><code>&lt;artifactId&gt;&lt;/artifactId&gt;\n</code></pre>\n\n<p>was defined. But</p>\n\n<pre><code>&lt;artifactId&gt;stuff&lt;/artifactId&gt; =&gt; worked\n&lt;artifactId&gt;ccinfieldworkserver&lt;/artifactId&gt; =&gt; worked\n&lt;artifactId&gt;BackEndRestFunctionality&lt;/artifactId&gt; =&gt; did not work.\n</code></pre>\n\n<p>TIA</p>\n"},{"tags":[],"owner":{"account_id":3206807,"reputation":2883,"user_id":2707727,"accept_rate":51,"display_name":"Casey Harrils"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517328180,"creation_date":1517328180,"answer_id":48525718,"question_id":48523558,"body_markdown":"\r\n\r\nI found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a &quot;previous&quot; version on another machine)\r\n\r\nBasically, I used Maven to put the project together. I executed the following command from Jenkins to build the .jar file\r\n\r\n    $ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\r\n\r\n\r\nIn the pom.xml file, I did not specify : \r\n\r\n    &lt;artifactId&gt;&lt;/artifactId&gt;\r\n\r\nWhen I went ahead and set it \r\n\r\n    ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \r\n\r\nDocker started the jar file correctly and everything worked fine.\r\n","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>I found out what the problem was - thank goodness for having a version in Gitlab to refer to (as well as a \"previous\" version on another machine)</p>\n\n<p>Basically, I used Maven to put the project together. I executed the following command from Jenkins to build the .jar file</p>\n\n<pre><code>$ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\n</code></pre>\n\n<p>In the pom.xml file, I did not specify : </p>\n\n<pre><code>&lt;artifactId&gt;&lt;/artifactId&gt;\n</code></pre>\n\n<p>When I went ahead and set it </p>\n\n<pre><code>ex: &lt;artifactId&gt;stuff&lt;/artifactId&gt; \n</code></pre>\n\n<p>Docker started the jar file correctly and everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636647837,"creation_date":1636647837,"answer_id":69931667,"question_id":48523558,"body_markdown":"(Solved)\r\nin my case, I had the same problem (ClassNotfoundException) when starting my docker container.\r\n\r\nWhen I generated my image in docker I would specify a jar from my project which I had specified before with maven.\r\n\r\n**The error was that when generating said .jar it did not specify the Main Class well, and when docker was executing the jar it did not know where the main was.**\r\n\r\nTo fix it you must specify where your main class is located.\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- DO NOT include log4j.properties file in your Jar --&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/log4j.properties&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;!-- Jar file entry point --&gt;\r\n                            &lt;mainClass&gt;com.carmuno.aleniet.dbcs.dbcdApplication&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>(Solved)\nin my case, I had the same problem (ClassNotfoundException) when starting my docker container.</p>\n<p>When I generated my image in docker I would specify a jar from my project which I had specified before with maven.</p>\n<p><strong>The error was that when generating said .jar it did not specify the Main Class well, and when docker was executing the jar it did not know where the main was.</strong></p>\n<p>To fix it you must specify where your main class is located.</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!-- DO NOT include log4j.properties file in your Jar --&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/log4j.properties&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;!-- Jar file entry point --&gt;\n                            &lt;mainClass&gt;com.carmuno.aleniet.dbcs.dbcdApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27446337,"reputation":1,"user_id":20940037,"display_name":"lLagger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675371325,"creation_date":1675371325,"answer_id":75328844,"question_id":48523558,"body_markdown":"Here is my solition.\r\nmy old code:\r\n\r\n    FROM openjdk:11\r\n    \r\n    RUN mkdir /app\r\n    \r\n    COPY src/main/java/org/example/ /app\r\n    \r\n    WORKDIR /app\r\n    \r\n    CMD java Main\r\nhere is my new code;\r\n\r\n    FROM openjdk:11\r\n    \r\n    RUN mkdir /app\r\n    \r\n    COPY src/main/java/org/example/ /app\r\n    \r\n    WORKDIR /app\r\n    \r\n    CMD java Main.java\r\n\r\nso i just added .java to my Main from CMD","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>Here is my solition.\nmy old code:</p>\n<pre><code>FROM openjdk:11\n\nRUN mkdir /app\n\nCOPY src/main/java/org/example/ /app\n\nWORKDIR /app\n\nCMD java Main\n</code></pre>\n<p>here is my new code;</p>\n<pre><code>FROM openjdk:11\n\nRUN mkdir /app\n\nCOPY src/main/java/org/example/ /app\n\nWORKDIR /app\n\nCMD java Main.java\n</code></pre>\n<p>so i just added .java to my Main from CMD</p>\n"}],"owner":{"account_id":3206807,"reputation":2883,"user_id":2707727,"accept_rate":51,"display_name":"Casey Harrils"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13005,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":48525718,"answer_count":4,"score":6,"last_activity_date":1675371325,"creation_date":1517321764,"question_id":48523558,"body_markdown":"I am having a problem starting a .jar file within a Docker Container. The error message I am getting is: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassNotFoundException:\r\n&gt; ccinfw.MainApplication\r\n\r\nI have added information below. Why am I getting this error and how can I fix it?\r\n\r\nTIA\r\n\r\n**Manifest File**\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: SpringBootErrorHandlingDemoy\r\n    Implementation-Version: 0.0.1-SNAPSHOT\r\n    Archiver-Version: Plexus Archiver\r\n    Built-By: root\r\n    Implementation-Vendor-Id: ccinfw\r\n    Spring-Boot-Version: 1.5.4.RELEASE\r\n    Implementation-Vendor: Pivotal Software, Inc.\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Start-Class: ccinfw.MainApplication\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Created-By: Apache Maven 3.3.9\r\n    Build-Jdk: 1.8.0_131\r\n    Implementation-URL: http://maven.apache.org\r\n\r\n\r\n**ran jar -xvf BackEndRestFunctionality-0.0.1-SNAPSHOT.jar &gt; expanded. Below is a portion of the output. MainApplication.class does exist in the jar file**\r\n\r\n     [... snip ...]\r\n    \r\n     inflated: BOOT-INF/classes/ccinfw/security/user/ApplicationUser.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/SecurityConstants.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/AccountCredentials.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/WebSecurity.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthenticationFilter.class\r\n     inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthorizationFilter.class\r\n     **inflated: BOOT-INF/classes/ccinfw/MainApplication.class**\r\n     inflated: BOOT-INF/classes/ccinfw/dao/MstrgenroletypeDAO.class\r\n     inflated: BOOT-INF/classes/application.properties\r\n      created: META-INF/maven/\r\n      created: META-INF/maven/ccinfw/\r\n      created: META-INF/maven/ccinfw/BackEndRestFunctionality/\r\n     inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.xml\r\n     inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.properties\r\n      created: BOOT-INF/lib/\r\n    extracted: BOOT-INF/lib/slf4j-api-1.7.25.jar\r\n    \r\n    [... snip ...]\r\n\r\n\r\n**I am using the following software**\r\n\r\n    jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# java -version\r\n    openjdk version &quot;1.8.0_131&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_131-8u131-b11-2ubuntu1.16.04.3-b11)\r\n    OpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n    \r\n    jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# javac -version\r\n    javac 1.8.0_131\r\n    \r\n    jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# mvn -version\r\n    Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)\r\n    Maven home: /opt/maven\r\n    Java version: 1.8.0_131, vendor: Oracle Corporation\r\n    Java home: /usr/lib/jvm/java-8-openjdk-amd64/jre\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;4.4.0-87-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n\r\n**Maven Dependencies**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**I am getting the following error message when starting it:**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: ccinfw.MainApplication\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n\r\n \r\n**the maven command executed within Jenkins**\r\n\r\n    $ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\r\n\r\n\r\n**portion of pom.xml file responsible for building**\r\n\r\n&lt;profiles&gt;\r\n\r\n\t&lt;profile&gt;\r\n\t\t&lt;id&gt;development&lt;/id&gt;\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;tasks&gt;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t&lt;copy\r\n\t\t\t\t\t\t\t\t\t\tfile=&quot;${project.build.outputDirectory}/application.development.properties&quot;\r\n\t\t\t\t\t\t\t\t\t\ttofile=&quot;${project.build.outputDirectory}/application.properties&quot; /&gt;\r\n\t\t\t\t\t\t\t\t&lt;/tasks&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;imageName&gt;apostx-cc-restapi-dev&lt;/imageName&gt;\r\n\r\n\t\t\t\t\t\t&lt;baseImage&gt;java:8&lt;/baseImage&gt;\r\n\t\t\t\t\t\t&lt;entryPoint&gt;[&quot;java&quot;, &quot;-jar&quot;, &quot;/${project.build.finalName}.jar&quot;]&lt;/entryPoint&gt;\r\n\t\t\t\t\t\t&lt;!-- copy the service&#39;s jar file from target into the root directory \r\n\t\t\t\t\t\t\tof the image --&gt;\r\n\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t&lt;targetPath&gt;/&lt;/targetPath&gt;\r\n\t\t\t\t\t\t\t\t&lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;!-- Build an executable JAR --&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;!-- &lt;version&gt;2.6&lt;/version&gt; --&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;analyze&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;failBuild&gt;true&lt;/failBuild&gt;\r\n\t\t\t\t\t\t\t\t&lt;ignoreDirect&gt;false&lt;/ignoreDirect&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t&lt;mainClass&gt;ccinfw.MainApplication&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/profile&gt;\r\n\r\n\r\n**the Dockerfile being accessed**\r\n\r\n    FROM java:8\r\n    ADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar&quot;]\r\n    ~\r\n\r\n**Here is a part of the Jenkins log file where the Docker Image file is being built using the generated .jar file - again - the .jar file works fine when ran on its own**\r\n\r\n    [INFO] Copying /var/jenkins/workspace/build-cc-restapi-dev/target/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar -&gt; /var/jenkins/workspace/build-cc-restapi-dev/target/docker/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\r\n    [INFO] Building image apostx-cc-restapi-dev\r\n    Step 1/3 : FROM java:8\r\n     ---&gt; d23bdf5b1b1b\r\n    Step 2/3 : ADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\r\n     ---&gt; abfcb05b4173\r\n    Removing intermediate container f573f737009a\r\n    Step 3/3 : ENTRYPOINT java -jar /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\r\n     ---&gt; Running in 28bb20467e70\r\n     ---&gt; 2ffb803f96dc\r\n    Removing intermediate container 28bb20467e70\r\n    ProgressMessage{id=null, status=null, stream=null, error=null, progress=null, progressDetail=null}\r\n    Successfully built 2ffb803f96dc\r\n    Successfully tagged apostx-cc-restapi-dev:latest\r\n    [INFO] Built apostx-cc-restapi-dev\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 30.181 s\r\n    [INFO] Finished at: 2018-01-30T06:18:18+00:00\r\n    [INFO] Final Memory: 36M/95M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n**Docker Image Layers**\r\n\r\n    351.5 MB \t\r\n    RUN set -x &amp;&amp; apt-get update &amp;&amp; apt-get install -y openjdk-8-jdk=&quot;$JAVA_DEBIAN_VERSION&quot; ca-certificates-java=&quot;$CA_CERTIFICATES_JAVA_VERSION&quot; &amp;&amp; rm -rf /var/lib/apt/lists/* &amp;&amp; [ &quot;$JAVA_HOME&quot; = &quot;$(docker-java-home)&quot; ]\r\n    123 MB \t\r\n    ADD file:89ecb642d662ee7edbb868340551106d51336c7e589fdaca4111725ec64da957 in /\r\n    122.6 MB \t\r\n    RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzr git mercurial openssh-client subversion procps &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    44.3 MB \t\r\n    RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends ca-certificates curl wget &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    32.9 MB \t\r\n    ADD file:565dae161b3b516b50d596648650278591d96fe820e36a3eeef0ee7c33d7915d in //\r\n    1.3 MB \t\r\n    RUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzip2 unzip xz-utils &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n    418.5 kB \t\r\n    RUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\r\n    87 B \t\r\n    RUN { echo &#39;#!/bin/sh&#39;; echo &#39;set -e&#39;; echo; echo &#39;dirname &quot;$(dirname &quot;$(readlink -f &quot;$(which javac || which java)&quot;)&quot;)&quot;&#39;; } &gt; /usr/local/bin/docker-java-home &amp;&amp; chmod +x /usr/local/bin/docker-java-home\r\n    55 B \t\r\n    RUN echo &#39;deb http://deb.debian.org/debian jessie-backports main&#39; &gt; /etc/apt/sources.list.d/jessie-backports.list\r\n    0 B \t\r\n    CMD [&quot;/bin/bash&quot;]\r\n    0 B \t\r\n    ENV LANG=C.UTF-8\r\n    0 B \t\r\n    ENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    0 B \t\r\n    ENV JAVA_VERSION=8u111\r\n    0 B \t\r\n    ENV JAVA_DEBIAN_VERSION=8u111-b14-2~bpo8+1\r\n    0 B \t\r\n    ENV CA_CERTIFICATES_JAVA_VERSION=20140324\r\n    0 B \t\r\n    ENTRYPOINT [&quot;java&quot; &quot;-jar&quot; &quot;/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar&quot;] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MziS8.png","title":"getting a java.lang.ClassNotFoundException when starting a Docker container","body":"<p>I am having a problem starting a .jar file within a Docker Container. The error message I am getting is: </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.ClassNotFoundException:\n  ccinfw.MainApplication</p>\n</blockquote>\n\n<p>I have added information below. Why am I getting this error and how can I fix it?</p>\n\n<p>TIA</p>\n\n<p><strong>Manifest File</strong></p>\n\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: SpringBootErrorHandlingDemoy\nImplementation-Version: 0.0.1-SNAPSHOT\nArchiver-Version: Plexus Archiver\nBuilt-By: root\nImplementation-Vendor-Id: ccinfw\nSpring-Boot-Version: 1.5.4.RELEASE\nImplementation-Vendor: Pivotal Software, Inc.\nMain-Class: org.springframework.boot.loader.JarLauncher\nStart-Class: ccinfw.MainApplication\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nCreated-By: Apache Maven 3.3.9\nBuild-Jdk: 1.8.0_131\nImplementation-URL: http://maven.apache.org\n</code></pre>\n\n<p><strong>ran jar -xvf BackEndRestFunctionality-0.0.1-SNAPSHOT.jar > expanded. Below is a portion of the output. MainApplication.class does exist in the jar file</strong></p>\n\n<pre><code> [... snip ...]\n\n inflated: BOOT-INF/classes/ccinfw/security/user/ApplicationUser.class\n inflated: BOOT-INF/classes/ccinfw/security/security/SecurityConstants.class\n inflated: BOOT-INF/classes/ccinfw/security/security/AccountCredentials.class\n inflated: BOOT-INF/classes/ccinfw/security/security/WebSecurity.class\n inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthenticationFilter.class\n inflated: BOOT-INF/classes/ccinfw/security/security/JWTAuthorizationFilter.class\n **inflated: BOOT-INF/classes/ccinfw/MainApplication.class**\n inflated: BOOT-INF/classes/ccinfw/dao/MstrgenroletypeDAO.class\n inflated: BOOT-INF/classes/application.properties\n  created: META-INF/maven/\n  created: META-INF/maven/ccinfw/\n  created: META-INF/maven/ccinfw/BackEndRestFunctionality/\n inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.xml\n inflated: META-INF/maven/ccinfw/BackEndRestFunctionality/pom.properties\n  created: BOOT-INF/lib/\nextracted: BOOT-INF/lib/slf4j-api-1.7.25.jar\n\n[... snip ...]\n</code></pre>\n\n<p><strong>I am using the following software</strong></p>\n\n<pre><code>jenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# java -version\nopenjdk version \"1.8.0_131\"\nOpenJDK Runtime Environment (build 1.8.0_131-8u131-b11-2ubuntu1.16.04.3-b11)\nOpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)\n\njenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# javac -version\njavac 1.8.0_131\n\njenkins-slave-one:/var/jenkins/workspace/build-cc-restapi-dev/target/docker# mvn -version\nApache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)\nMaven home: /opt/maven\nJava version: 1.8.0_131, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-8-openjdk-amd64/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"4.4.0-87-generic\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p><strong>Maven Dependencies</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/MziS8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MziS8.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I am getting the following error message when starting it:</strong></p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassNotFoundException: ccinfw.MainApplication\nat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:46)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n</code></pre>\n\n<p><strong>the maven command executed within Jenkins</strong></p>\n\n<pre><code>$ /opt/maven/bin/mvn -f /var/jenkins/workspace/build-cc-restapi-dev/pom.xml -Pdevelopment clean package docker:build -B\n</code></pre>\n\n<p><strong>portion of pom.xml file responsible for building</strong></p>\n\n<p></p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;development&lt;/id&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;tasks&gt;\n\n                                &lt;copy\n                                    file=\"${project.build.outputDirectory}/application.development.properties\"\n                                    tofile=\"${project.build.outputDirectory}/application.properties\" /&gt;\n                            &lt;/tasks&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n\n                &lt;configuration&gt;\n                    &lt;imageName&gt;apostx-cc-restapi-dev&lt;/imageName&gt;\n\n                    &lt;baseImage&gt;java:8&lt;/baseImage&gt;\n                    &lt;entryPoint&gt;[\"java\", \"-jar\", \"/${project.build.finalName}.jar\"]&lt;/entryPoint&gt;\n                    &lt;!-- copy the service's jar file from target into the root directory \n                        of the image --&gt;\n                    &lt;resources&gt;\n                        &lt;resource&gt;\n                            &lt;targetPath&gt;/&lt;/targetPath&gt;\n                            &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n                            &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\n                        &lt;/resource&gt;\n                    &lt;/resources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;!-- &lt;version&gt;2.6&lt;/version&gt; --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;analyze&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;failBuild&gt;true&lt;/failBuild&gt;\n                            &lt;ignoreDirect&gt;false&lt;/ignoreDirect&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;ccinfw.MainApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n\n<p><strong>the Dockerfile being accessed</strong></p>\n\n<pre><code>FROM java:8\nADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\nENTRYPOINT [\"java\", \"-jar\", \"/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\"]\n~\n</code></pre>\n\n<p><strong>Here is a part of the Jenkins log file where the Docker Image file is being built using the generated .jar file - again - the .jar file works fine when ran on its own</strong></p>\n\n<pre><code>[INFO] Copying /var/jenkins/workspace/build-cc-restapi-dev/target/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar -&gt; /var/jenkins/workspace/build-cc-restapi-dev/target/docker/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\n[INFO] Building image apostx-cc-restapi-dev\nStep 1/3 : FROM java:8\n ---&gt; d23bdf5b1b1b\nStep 2/3 : ADD /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar //\n ---&gt; abfcb05b4173\nRemoving intermediate container f573f737009a\nStep 3/3 : ENTRYPOINT java -jar /BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\n ---&gt; Running in 28bb20467e70\n ---&gt; 2ffb803f96dc\nRemoving intermediate container 28bb20467e70\nProgressMessage{id=null, status=null, stream=null, error=null, progress=null, progressDetail=null}\nSuccessfully built 2ffb803f96dc\nSuccessfully tagged apostx-cc-restapi-dev:latest\n[INFO] Built apostx-cc-restapi-dev\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 30.181 s\n[INFO] Finished at: 2018-01-30T06:18:18+00:00\n[INFO] Final Memory: 36M/95M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p><strong>Docker Image Layers</strong></p>\n\n<pre><code>351.5 MB    \nRUN set -x &amp;&amp; apt-get update &amp;&amp; apt-get install -y openjdk-8-jdk=\"$JAVA_DEBIAN_VERSION\" ca-certificates-java=\"$CA_CERTIFICATES_JAVA_VERSION\" &amp;&amp; rm -rf /var/lib/apt/lists/* &amp;&amp; [ \"$JAVA_HOME\" = \"$(docker-java-home)\" ]\n123 MB  \nADD file:89ecb642d662ee7edbb868340551106d51336c7e589fdaca4111725ec64da957 in /\n122.6 MB    \nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzr git mercurial openssh-client subversion procps &amp;&amp; rm -rf /var/lib/apt/lists/*\n44.3 MB     \nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends ca-certificates curl wget &amp;&amp; rm -rf /var/lib/apt/lists/*\n32.9 MB     \nADD file:565dae161b3b516b50d596648650278591d96fe820e36a3eeef0ee7c33d7915d in //\n1.3 MB  \nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends bzip2 unzip xz-utils &amp;&amp; rm -rf /var/lib/apt/lists/*\n418.5 kB    \nRUN /var/lib/dpkg/info/ca-certificates-java.postinst configure\n87 B    \nRUN { echo '#!/bin/sh'; echo 'set -e'; echo; echo 'dirname \"$(dirname \"$(readlink -f \"$(which javac || which java)\")\")\"'; } &gt; /usr/local/bin/docker-java-home &amp;&amp; chmod +x /usr/local/bin/docker-java-home\n55 B    \nRUN echo 'deb http://deb.debian.org/debian jessie-backports main' &gt; /etc/apt/sources.list.d/jessie-backports.list\n0 B     \nCMD [\"/bin/bash\"]\n0 B     \nENV LANG=C.UTF-8\n0 B     \nENV JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n0 B     \nENV JAVA_VERSION=8u111\n0 B     \nENV JAVA_DEBIAN_VERSION=8u111-b14-2~bpo8+1\n0 B     \nENV CA_CERTIFICATES_JAVA_VERSION=20140324\n0 B     \nENTRYPOINT [\"java\" \"-jar\" \"/BackEndRestFunctionality-0.0.1-SNAPSHOT.jar\"] \n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1271365842,"post_id":2648984,"comment_id":2664937,"body_markdown":"Did I understand you correctly that if I found your site in google and opened the link then you logged &#39;google.com&#39;?","body":"Did I understand you correctly that if I found your site in google and opened the link then you logged &#39;google.com&#39;?"}],"answers":[{"comments":[{"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"score":2,"creation_date":1351857999,"post_id":2648995,"comment_id":17961785,"body_markdown":"does it make a difference &quot;referer&quot; &amp; &quot;Referer&quot; ?","body":"does it make a difference &quot;referer&quot; &amp; &quot;Referer&quot; ?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":8,"creation_date":1351858204,"post_id":2648995,"comment_id":17961887,"body_markdown":"@ante: no, the header lookup is case insensitive.","body":"@ante: no, the header lookup is case insensitive."},{"owner":{"account_id":33655,"reputation":26403,"user_id":94363,"accept_rate":74,"display_name":"rds"},"score":3,"creation_date":1451861213,"post_id":2648995,"comment_id":56910247,"body_markdown":"Note that any header can be `null`.","body":"Note that any header can be <code>null</code>."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":3,"down_vote_count":0,"up_vote_count":337,"is_accepted":true,"score":337,"last_activity_date":1538143498,"creation_date":1271365793,"answer_id":2648995,"question_id":2648984,"body_markdown":"It&#39;s available in the [HTTP `referer` header][1]. You can get it in a servlet as follows:\r\n\r\n    String referrer = request.getHeader(&quot;referer&quot;); // Yes, with the legendary misspelling.\r\n\r\nYou, however, need to realize that this is a client-controlled value and can thus be spoofed to something entirely different or even removed. Thus, whatever value it returns, you should not use it for any critical business processes in the backend, but only for presentation control (e.g. hiding/showing/changing certain pure layout parts) and/or statistics.\r\n\r\nFor the interested, background about the misspelling can be found in [Wikipedia][2].\r\n\r\n\r\n  [1]: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.36\r\n  [2]: https://en.wikipedia.org/wiki/HTTP_referer#Etymology","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>It's available in the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.36\" rel=\"noreferrer\">HTTP <code>referer</code> header</a>. You can get it in a servlet as follows:</p>\n\n<pre><code>String referrer = request.getHeader(\"referer\"); // Yes, with the legendary misspelling.\n</code></pre>\n\n<p>You, however, need to realize that this is a client-controlled value and can thus be spoofed to something entirely different or even removed. Thus, whatever value it returns, you should not use it for any critical business processes in the backend, but only for presentation control (e.g. hiding/showing/changing certain pure layout parts) and/or statistics.</p>\n\n<p>For the interested, background about the misspelling can be found in <a href=\"https://en.wikipedia.org/wiki/HTTP_referer#Etymology\" rel=\"noreferrer\">Wikipedia</a>.</p>\n"},{"tags":[],"owner":{"account_id":21342,"reputation":12066,"user_id":51789,"accept_rate":75,"display_name":"Chris K"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1411163694,"creation_date":1271365877,"answer_id":2649000,"question_id":2648984,"body_markdown":"The URLs are passed in the request: `request.getRequestURL()`. \r\n\r\nIf you mean other sites that are linking to you?  You want to capture the HTTP Referrer, which you can do by calling: \r\n\r\n    request.getHeader(&quot;referer&quot;);","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>The URLs are passed in the request: <code>request.getRequestURL()</code>. </p>\n\n<p>If you mean other sites that are linking to you?  You want to capture the HTTP Referrer, which you can do by calling: </p>\n\n<pre><code>request.getHeader(\"referer\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":11,"creation_date":1369518539,"post_id":16568540,"comment_id":24134418,"body_markdown":"From the Java EE API docs for the method [`getHeader(String name)`](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getHeader(java.lang.String)) (quote): `&quot;The header name is case insensitive.&quot;`","body":"From the Java EE API docs for the method <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getHeader(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getHeader(String name)</code></a> (quote): <code>&quot;The header name is case insensitive.&quot;</code>"},{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":8,"creation_date":1420487636,"post_id":16568540,"comment_id":43983558,"body_markdown":"upvote anyway for HttpHeaders reference. Apache HTTP is another good one: `org.apache.http.HttpHeaders`","body":"upvote anyway for HttpHeaders reference. Apache HTTP is another good one: <code>org.apache.http.HttpHeaders</code>"},{"owner":{"account_id":11006342,"reputation":165,"user_id":9109799,"display_name":"Loner"},"score":0,"creation_date":1683441559,"post_id":16568540,"comment_id":134365309,"body_markdown":"`org.apache.http.HttpHeaders` doesn&#39;t have ORIGIN header? `com.google.common.net.HttpHeaders` has it.","body":"<code>org.apache.http.HttpHeaders</code> doesn&#39;t have ORIGIN header? <code>com.google.common.net.HttpHeaders</code> has it."}],"tags":[],"owner":{"account_id":2772037,"reputation":795,"user_id":2386444,"display_name":"wpodgorski"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1368630071,"creation_date":1368630071,"answer_id":16568540,"question_id":2648984,"body_markdown":"Actually it&#39;s: \r\n`request.getHeader(&quot;Referer&quot;)`, \r\nor even better, and to be 100% sure, \r\n`request.getHeader(HttpHeaders.REFERER)`, \r\nwhere HttpHeaders is `com.google.common.net.HttpHeaders`","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>Actually it's: \n<code>request.getHeader(\"Referer\")</code>, \nor even better, and to be 100% sure, \n<code>request.getHeader(HttpHeaders.REFERER)</code>, \nwhere HttpHeaders is <code>com.google.common.net.HttpHeaders</code></p>\n"},{"tags":[],"owner":{"account_id":7666616,"reputation":726,"user_id":5810178,"display_name":"Don D"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1488452287,"creation_date":1488263849,"answer_id":42501831,"question_id":2648984,"body_markdown":"As all have mentioned it is\r\n\r\n    request.getHeader(&quot;referer&quot;);\r\n\r\nI would like to add some more details about security aspect of **referer** header in contrast with accepted answer. In Open Web Application Security Project([OWASP][1]) cheat sheets, under [Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet][2] it mentions about importance of **referer** header.\r\n\r\n&gt; More importantly for this recommended Same Origin check, a number of HTTP request headers can&#39;t be set by JavaScript because they are on the &#39;forbidden&#39; headers list. Only the browsers themselves can set values for these headers, making them more trustworthy because not even an XSS vulnerability can be used to modify them.\r\n&gt; \r\n&gt; The Source Origin check recommended here relies on three of these\r\n&gt; protected headers: Origin, Referer, and Host, making it a pretty\r\n&gt; strong CSRF defense all on its own.\r\n\r\nYou can refer [Forbidden header list here][3]. User agent(ie:browser) has the full control over these headers not the user.\r\n\r\n\r\n  [1]: https://www.owasp.org/index.php/About_OWASP\r\n  [2]: https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Checking_the_Referer_Header\r\n  [3]: https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>As all have mentioned it is</p>\n\n<pre><code>request.getHeader(\"referer\");\n</code></pre>\n\n<p>I would like to add some more details about security aspect of <strong>referer</strong> header in contrast with accepted answer. In Open Web Application Security Project(<a href=\"https://www.owasp.org/index.php/About_OWASP\" rel=\"noreferrer\">OWASP</a>) cheat sheets, under <a href=\"https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF)_Prevention_Cheat_Sheet#Checking_the_Referer_Header\" rel=\"noreferrer\">Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet</a> it mentions about importance of <strong>referer</strong> header.</p>\n\n<blockquote>\n  <p>More importantly for this recommended Same Origin check, a number of HTTP request headers can't be set by JavaScript because they are on the 'forbidden' headers list. Only the browsers themselves can set values for these headers, making them more trustworthy because not even an XSS vulnerability can be used to modify them.</p>\n  \n  <p>The Source Origin check recommended here relies on three of these\n  protected headers: Origin, Referer, and Host, making it a pretty\n  strong CSRF defense all on its own.</p>\n</blockquote>\n\n<p>You can refer <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name\" rel=\"noreferrer\">Forbidden header list here</a>. User agent(ie:browser) has the full control over these headers not the user.</p>\n"}],"owner":{"account_id":58485,"reputation":2081,"user_id":175086,"accept_rate":53,"display_name":"shane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170001,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":2648995,"answer_count":4,"score":158,"last_activity_date":1675371257,"creation_date":1271365683,"question_id":2648984,"body_markdown":"I need to log URLs that are linking to my site in a Java Servlet.","title":"HttpServletRequest - how to obtain the referring URL?","body":"<p>I need to log URLs that are linking to my site in a Java Servlet.</p>\n"},{"tags":["java","maven","quarkus","jacoco","maven-surefire-plugin"],"answers":[{"comments":[{"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"score":0,"creation_date":1680811301,"post_id":75328795,"comment_id":133964989,"body_markdown":"Had the same issue, this worked for me. [Creating a jandex index](https://quarkus.io/guides/cdi-reference#how-to-generate-a-jandex-index) worked, too","body":"Had the same issue, this worked for me. <a href=\"https://quarkus.io/guides/cdi-reference#how-to-generate-a-jandex-index\" rel=\"nofollow noreferrer\">Creating a jandex index</a> worked, too"}],"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675371029,"creation_date":1675371029,"answer_id":75328795,"question_id":75181872,"body_markdown":"You need to add an empty beans.xml in /src/main/resources/META-INF, so that Quarkus can scan external jars. ","title":"Quarkus Jacoco coverage not working when code and unit tests are in different modules","body":"<p>You need to add an empty beans.xml in /src/main/resources/META-INF, so that Quarkus can scan external jars.</p>\n"}],"owner":{"account_id":13301008,"reputation":73,"user_id":9602528,"display_name":"XuBo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675371029,"creation_date":1674205865,"question_id":75181872,"body_markdown":"In my Quarkus app I have 2 modules, `module-api` and `module-impl`. Unit tests for both modules are in `module-impl`. When I run `mvn verify` the report only contains coverage for code in the `module-impl`. Code in `module-api` is at 0% even though I have unit tests for it.\r\n\r\nHowever, if I move api tests from `module-impl` to `module-api`, then I will get correct coverage of the `module-api` code. Why isnt it working when I have all the tests in a single module?\r\n\r\nI have followed the official guide: https://quarkus.io/guides/tests-with-coverage#coverage-for-tests-not-using-quarkustest\r\n\r\nProject structure:\r\n\r\n    |- pom.xml (root)\r\n    |\r\n    |-- module-api\r\n    |--- src\r\n    |---- main\r\n    |--- pom.xml\r\n    |\r\n    |-- module-impl\r\n    |--- src\r\n    |---- main\r\n    |---- test\r\n    |--- pom.xml\r\n\r\n**pom.xml (root)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;modules&gt;\r\n            &lt;module&gt;module-api&lt;/module&gt;\r\n            &lt;module&gt;module-impl&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n        &lt;properties&gt;\r\n            &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\r\n            &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n            &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n            &lt;quarkus.platform.version&gt;2.15.3.Final&lt;/quarkus.platform.version&gt;\r\n            &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n            &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-jacoco&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                                &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                                &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerArgs&gt;\r\n                            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                        &lt;/compilerArgs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;systemPropertyVariables&gt;\r\n                                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\r\n                                    &lt;/native.image.path&gt;\r\n                                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                                &lt;/systemPropertyVariables&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;native&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;property&gt;\r\n                        &lt;name&gt;native&lt;/name&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n                    &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n**pom.xml (module-api)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;module-api&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**pom.xml (module-impl)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;module-impl&lt;/artifactId&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                &lt;artifactId&gt;module-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;","title":"Quarkus Jacoco coverage not working when code and unit tests are in different modules","body":"<p>In my Quarkus app I have 2 modules, <code>module-api</code> and <code>module-impl</code>. Unit tests for both modules are in <code>module-impl</code>. When I run <code>mvn verify</code> the report only contains coverage for code in the <code>module-impl</code>. Code in <code>module-api</code> is at 0% even though I have unit tests for it.</p>\n<p>However, if I move api tests from <code>module-impl</code> to <code>module-api</code>, then I will get correct coverage of the <code>module-api</code> code. Why isnt it working when I have all the tests in a single module?</p>\n<p>I have followed the official guide: <a href=\"https://quarkus.io/guides/tests-with-coverage#coverage-for-tests-not-using-quarkustest\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/tests-with-coverage#coverage-for-tests-not-using-quarkustest</a></p>\n<p>Project structure:</p>\n<pre><code>|- pom.xml (root)\n|\n|-- module-api\n|--- src\n|---- main\n|--- pom.xml\n|\n|-- module-impl\n|--- src\n|---- main\n|---- test\n|--- pom.xml\n</code></pre>\n<p><strong>pom.xml (root)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;module-api&lt;/module&gt;\n        &lt;module&gt;module-impl&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;properties&gt;\n        &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;2.15.3.Final&lt;/quarkus.platform.version&gt;\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\n        &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jacoco&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\n                                &lt;/native.image.path&gt;\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                            &lt;/systemPropertyVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;native&lt;/name&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;skipITs&gt;false&lt;/skipITs&gt;\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>pom.xml (module-api)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;module-api&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>pom.xml (module-impl)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;jacoco-demo4&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;module-impl&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;module-api&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","eclipse","shortcut","launch"],"answers":[{"comments":[{"owner":{"account_id":61288,"reputation":1217,"user_id":182737,"accept_rate":70,"display_name":"Frank Meulenaar"},"score":0,"creation_date":1266073423,"post_id":2257701,"comment_id":2217835,"body_markdown":"I know that, but that&#39;s not what I want.","body":"I know that, but that&#39;s not what I want."}],"tags":[],"owner":{"account_id":57077,"reputation":39235,"user_id":170974,"accept_rate":70,"display_name":"tangens"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1266067976,"creation_date":1266067976,"answer_id":2257701,"question_id":2257692,"body_markdown":"You can configure your launch behaviour so &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;F11&lt;/kbd&gt; will launch the last launched application again, regardless of your current editor selection.\r\n\r\nLook at &quot;Run/Debug&quot; - &quot;Launching&quot; within the eclipse preferences.","title":"Eclipse shortcut to run a class","body":"<p>You can configure your launch behaviour so <kbd>Ctrl</kbd>-<kbd>F11</kbd> will launch the last launched application again, regardless of your current editor selection.</p>\n\n<p>Look at \"Run/Debug\" - \"Launching\" within the eclipse preferences.</p>\n"},{"comments":[{"owner":{"account_id":4571052,"reputation":408,"user_id":3710743,"display_name":"FonzTech"},"score":0,"creation_date":1576603410,"post_id":2257979,"comment_id":104950458,"body_markdown":"This is the real answer. Thanks bro. I was struggling because my Eclipse, when the Run shortcut is hit, it always run my app as a standard Java application, not Maven Build, so basically nothing worked. It was a pain to always nagivate to the menu to just launch an application!!","body":"This is the real answer. Thanks bro. I was struggling because my Eclipse, when the Run shortcut is hit, it always run my app as a standard Java application, not Maven Build, so basically nothing worked. It was a pain to always nagivate to the menu to just launch an application!!"}],"tags":[],"owner":{"account_id":96101,"reputation":3895,"user_id":261378,"accept_rate":75,"display_name":"Verhagen"},"comment_count":1,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1533969317,"creation_date":1266073642,"answer_id":2257979,"question_id":2257692,"body_markdown":" - Open the workspace preferences by the menu: `Window &gt; Preferences`\r\n - Select from the tree: `Run/Debug &gt; Launching`\r\n - Now the `Launching` preferences are seen.\r\n - At the bottom there is `Launch Operation`\r\n - Use the option `Always launch the previously launched application`\r\n","title":"Eclipse shortcut to run a class","body":"<ul>\n<li>Open the workspace preferences by the menu: <code>Window &gt; Preferences</code></li>\n<li>Select from the tree: <code>Run/Debug &gt; Launching</code></li>\n<li>Now the <code>Launching</code> preferences are seen.</li>\n<li>At the bottom there is <code>Launch Operation</code></li>\n<li>Use the option <code>Always launch the previously launched application</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":90553,"reputation":829,"user_id":249234,"display_name":"Hubert"},"score":1,"creation_date":1266086378,"post_id":2257995,"comment_id":2218740,"body_markdown":"+1 because it&#39;s what I would say too but it requires that the Main class is focused.","body":"+1 because it&#39;s what I would say too but it requires that the Main class is focused."}],"tags":[],"owner":{"account_id":40058,"reputation":18491,"user_id":115890,"accept_rate":76,"display_name":"ibrahimyilmaz"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1266073959,"creation_date":1266073959,"answer_id":2257995,"question_id":2257692,"body_markdown":"alt+shift+x+J  Rocks","title":"Eclipse shortcut to run a class","body":"<p>alt+shift+x+J  Rocks</p>\n"},{"comments":[{"owner":{"account_id":3055,"reputation":50920,"user_id":4321,"accept_rate":46,"display_name":"JW."},"score":0,"creation_date":1266089573,"post_id":2258724,"comment_id":2218929,"body_markdown":"Yeah, I&#39;m pretty sure you can&#39;t assign shortcuts to launch configurations in Eclipse. Wish you could.","body":"Yeah, I&#39;m pretty sure you can&#39;t assign shortcuts to launch configurations in Eclipse. Wish you could."}],"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"comment_count":1,"down_vote_count":3,"up_vote_count":6,"is_accepted":true,"score":3,"last_activity_date":1266089090,"creation_date":1266089090,"answer_id":2258724,"question_id":2257692,"body_markdown":"You should put in a feature request in the eclipse bug tracker (or vote up an existing equivalent feature request) or code it yourself.","title":"Eclipse shortcut to run a class","body":"<p>You should put in a feature request in the eclipse bug tracker (or vote up an existing equivalent feature request) or code it yourself.</p>\n"},{"tags":[],"owner":{"account_id":183038,"reputation":43,"user_id":418172,"accept_rate":60,"display_name":"Faboo03"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1311236440,"creation_date":1311236440,"answer_id":6773156,"question_id":2257692,"body_markdown":"I cannot this the answer here but : CTRL+SHIFT+T do apparently exactly what you want! :) Maybe it&#39;s because you code it by yourself by time...\r\n\r\nWatch here: http://eclipse.dzone.com/news/effective-eclipse-shortcut-key for more.\r\n","title":"Eclipse shortcut to run a class","body":"<p>I cannot this the answer here but : CTRL+SHIFT+T do apparently exactly what you want! :) Maybe it's because you code it by yourself by time...</p>\n\n<p>Watch here: <a href=\"http://eclipse.dzone.com/news/effective-eclipse-shortcut-key\" rel=\"nofollow\">http://eclipse.dzone.com/news/effective-eclipse-shortcut-key</a> for more.</p>\n"},{"comments":[{"owner":{"account_id":1158669,"reputation":654,"user_id":1138642,"accept_rate":20,"display_name":"Dan A.S."},"score":0,"creation_date":1607004436,"post_id":36855678,"comment_id":115139927,"body_markdown":"Where is documented this &quot;standard&quot;?","body":"Where is documented this &quot;standard&quot;?"}],"tags":[],"owner":{"account_id":8323743,"reputation":1749,"user_id":6254435,"display_name":"Dan Ortega"},"comment_count":1,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1461647230,"creation_date":1461647230,"answer_id":36855678,"question_id":2257692,"body_markdown":"Just use Ctrl + F11. (This is the standard keyboard shortcut to run the class you are working on)\r\n\r\nI wish this is what you are looking for... buddy.\r\n","title":"Eclipse shortcut to run a class","body":"<p>Just use Ctrl + F11. (This is the standard keyboard shortcut to run the class you are working on)</p>\n\n<p>I wish this is what you are looking for... buddy.</p>\n"},{"tags":[],"owner":{"account_id":1719857,"reputation":11,"user_id":1576065,"display_name":"xentaros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467216429,"creation_date":1467216429,"answer_id":38104882,"question_id":2257692,"body_markdown":"If you&#39;ve added these classes to your favorite run configurations (available from the run/debug toolbar buttons as &quot;Organize Favorites...&quot;), then the shortcut key combo is Alt+R,T,1 to run your first favorite, Alt+R,T,2 to run your second, etc. Alt+R,H,# works for debug configs.","title":"Eclipse shortcut to run a class","body":"<p>If you've added these classes to your favorite run configurations (available from the run/debug toolbar buttons as \"Organize Favorites...\"), then the shortcut key combo is Alt+R,T,1 to run your first favorite, Alt+R,T,2 to run your second, etc. Alt+R,H,# works for debug configs.</p>\n"},{"tags":[],"owner":{"account_id":5747534,"reputation":717,"user_id":4538337,"accept_rate":94,"display_name":"Mayur Kharche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559882688,"creation_date":1559882688,"answer_id":56488078,"question_id":2257692,"body_markdown":"I faced this problem in eclipse too. I have customized the configuration for me.\r\n\r\nWindows -&gt; preferances -&gt; keys\r\n\r\nSearch for your configuration eg &quot;Run Java Application&quot; or just look for its icon.\r\n\r\nSelect it\r\n\r\nand below in the binding field press keyboard keys which you want to add a shortcut for this configuration eg. ctrl + shift + T\r\n\r\nand Apply\r\n\r\nYou are good to go use the same shortcut keys to whenever you need it.","title":"Eclipse shortcut to run a class","body":"<p>I faced this problem in eclipse too. I have customized the configuration for me.</p>\n\n<p>Windows -> preferances -> keys</p>\n\n<p>Search for your configuration eg \"Run Java Application\" or just look for its icon.</p>\n\n<p>Select it</p>\n\n<p>and below in the binding field press keyboard keys which you want to add a shortcut for this configuration eg. ctrl + shift + T</p>\n\n<p>and Apply</p>\n\n<p>You are good to go use the same shortcut keys to whenever you need it.</p>\n"},{"tags":[],"owner":{"account_id":16416443,"reputation":41,"user_id":11858526,"display_name":"TuringGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572865140,"creation_date":1572865140,"answer_id":58692027,"question_id":2257692,"body_markdown":"You can go Window -&gt; Preferences -&gt; General -&gt; Key and bind anything you want!I hope it helps!","title":"Eclipse shortcut to run a class","body":"<p>You can go Window -> Preferences -> General -> Key and bind anything you want!I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":15928879,"reputation":11,"user_id":11493809,"display_name":"ilyas naghiyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604141292,"creation_date":1604141292,"answer_id":64620893,"question_id":2257692,"body_markdown":"on Windows machine \r\nctrl+Fn F11            ---        running \r\nctrl+Fn+Shift F11      ---        debugging","title":"Eclipse shortcut to run a class","body":"<p>on Windows machine\nctrl+Fn F11            ---        running\nctrl+Fn+Shift F11      ---        debugging</p>\n"},{"tags":[],"owner":{"account_id":20893541,"reputation":31,"user_id":15348365,"display_name":"Joydeep Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615129366,"creation_date":1615129366,"answer_id":66517900,"question_id":2257692,"body_markdown":"It is **Ctrl+F11**\r\n\r\nCtrl+Shift+X or Ctrl+Shift+J didn&#39;t worked for me!","title":"Eclipse shortcut to run a class","body":"<p>It is <strong>Ctrl+F11</strong></p>\n<p>Ctrl+Shift+X or Ctrl+Shift+J didn't worked for me!</p>\n"},{"tags":[],"owner":{"account_id":16601830,"reputation":11,"user_id":11997259,"display_name":"krishna prasad peram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621708056,"creation_date":1621708056,"answer_id":67652908,"question_id":2257692,"body_markdown":"If you are someone like me who wants to create a shortcut to run a class/program in java directly, you can create your own preferable shortcut in **ECLIPSE**!\r\n\r\n****Follow these steps:****\r\n\r\n`Window` &gt; `Preferences` &gt; `General` &gt; `Keys`\r\n\r\n 1. Select **run** from `command` column \r\n 2. Enter your own shortcut in `Binding` section\r\n 3. **Apply and close!!**\r\n\r\n\r\n**WARNING**: Make sure you don&#39;t create a shortcut which is already assigned for a different task! \r\n\r\n","title":"Eclipse shortcut to run a class","body":"<p>If you are someone like me who wants to create a shortcut to run a class/program in java directly, you can create your own preferable shortcut in <strong>ECLIPSE</strong>!</p>\n<p><strong><strong>Follow these steps:</strong></strong></p>\n<p><code>Window</code> &gt; <code>Preferences</code> &gt; <code>General</code> &gt; <code>Keys</code></p>\n<ol>\n<li>Select <strong>run</strong> from <code>command</code> column</li>\n<li>Enter your own shortcut in <code>Binding</code> section</li>\n<li><strong>Apply and close!!</strong></li>\n</ol>\n<p><strong>WARNING</strong>: Make sure you don't create a shortcut which is already assigned for a different task!</p>\n"},{"tags":[],"owner":{"account_id":23816688,"reputation":1,"user_id":17824855,"display_name":"Olivier Juin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675370970,"creation_date":1675370698,"answer_id":75328737,"question_id":2257692,"body_markdown":"Just create an &quot;External tool configuration&quot; instead of a standard configuration for the class you want to run, and assign a shortcut key to &quot;Run last launched external Tool&quot;.\r\n\r\nOf course, there shall be no other external tool configuration.\r\n\r\nEven if other java programs have been launched, or the current class contains a main() method, hitting the shortcut key will always run the same configured class.","title":"Eclipse shortcut to run a class","body":"<p>Just create an &quot;External tool configuration&quot; instead of a standard configuration for the class you want to run, and assign a shortcut key to &quot;Run last launched external Tool&quot;.</p>\n<p>Of course, there shall be no other external tool configuration.</p>\n<p>Even if other java programs have been launched, or the current class contains a main() method, hitting the shortcut key will always run the same configured class.</p>\n"}],"owner":{"account_id":61288,"reputation":1217,"user_id":182737,"accept_rate":70,"display_name":"Frank Meulenaar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66352,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":2258724,"answer_count":13,"score":30,"last_activity_date":1675370970,"creation_date":1266067860,"question_id":2257692,"body_markdown":"I have an Eclipse project where I often launch the same java class. I have added my run configuration to the favorites menu, but to launch it I still need to click on the run-drop-down menu and click the icon - is there any way to associate a shortcut to this? When I searched for it I got lost in all the plugins &amp; other things which seemed to be not so simple.\r\n\r\n\r\nedit: Let me clarify, I want something I can type the moment I start eclipse, regardless of what page I&#39;m viewing, so no &quot;run last&quot; or &quot;run current&quot;; I want F12 to link to &quot;launch foo.bar.MainClass&quot;.","title":"Eclipse shortcut to run a class","body":"<p>I have an Eclipse project where I often launch the same java class. I have added my run configuration to the favorites menu, but to launch it I still need to click on the run-drop-down menu and click the icon - is there any way to associate a shortcut to this? When I searched for it I got lost in all the plugins &amp; other things which seemed to be not so simple.</p>\n\n<p>edit: Let me clarify, I want something I can type the moment I start eclipse, regardless of what page I'm viewing, so no \"run last\" or \"run current\"; I want F12 to link to \"launch foo.bar.MainClass\".</p>\n"},{"tags":["java","overloading","log4j2"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675359519,"post_id":75326876,"comment_id":132917215,"body_markdown":"There&#39;s something wrong with the `logAtLevel` call (a missing parenthesis). I suspect I know where it belongs, but it suggests that you&#39;re not showing us exactly the code that you&#39;re executing. Please [edit] your question to fix that.","body":"There&#39;s something wrong with the <code>logAtLevel</code> call (a missing parenthesis). I suspect I know where it belongs, but it suggests that you&#39;re not showing us exactly the code that you&#39;re executing. Please <a href=\"https://stackoverflow.com/posts/75326876/edit\">edit</a> your question to fix that."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1675359727,"post_id":75326876,"comment_id":132917288,"body_markdown":"Use `logger.log(priority, messageSupplier.get());` and `logger.log(priority, messageSupplier.get(), thrown);`. Currently, it&#39;s using `messageSupplier.toString()` and with this update, it will use `messageSupplier.get().toString()` giving you the desired result.","body":"Use <code>logger.log(priority, messageSupplier.get());</code> and <code>logger.log(priority, messageSupplier.get(), thrown);</code>. Currently, it&#39;s using <code>messageSupplier.toString()</code> and with this update, it will use <code>messageSupplier.get().toString()</code> giving you the desired result."},{"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"score":0,"creation_date":1675360242,"post_id":75326876,"comment_id":132917462,"body_markdown":"@JoachimSauer: Thanks for the catch. I did not want to copy company code to stackO and retyped it.","body":"@JoachimSauer: Thanks for the catch. I did not want to copy company code to stackO and retyped it."},{"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"score":0,"creation_date":1675360335,"post_id":75326876,"comment_id":132917495,"body_markdown":"@ArvindKumarAvinash: I discarded this approach since it would defeat the benefit of the lazy evaluation of the log-message.","body":"@ArvindKumarAvinash: I discarded this approach since it would defeat the benefit of the lazy evaluation of the log-message."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1675360482,"post_id":75326876,"comment_id":132917550,"body_markdown":"@leuchtstoffratte No, it will still be evaluated lazily.","body":"@leuchtstoffratte No, it will still be evaluated lazily."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675361312,"post_id":75326876,"comment_id":132917822,"body_markdown":"*&quot;something or other: &lt;object.toString()&gt;&quot; however I got &quot;lambda@1223454&quot; instead.* to be strict, this is exactly what you get - lambda#toString(). Since you are wrapping that, you can try to cast it again (without any additional work ). I wonder if it will work then.","body":"<i>&quot;something or other: &lt;object.toString()&gt;&quot; however I got &quot;lambda@1223454&quot; instead.</i> to be strict, this is exactly what you get - lambda#toString(). Since you are wrapping that, you can try to cast it again (without any additional work ). I wonder if it will work then."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1675361427,"post_id":75326876,"comment_id":132917855,"body_markdown":"Maybe you are not using that version of Logger you think you do :)","body":"Maybe you are not using that version of Logger you think you do :)"},{"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"score":0,"creation_date":1675362065,"post_id":75326876,"comment_id":132918028,"body_markdown":"Eclipse gives the method as `void org.apache.logging.log4j.Logger.log(Level level, Object message)` if I use the code as is and `void org.apache.logging.log4j.Logger.log(Level level, String message)` if I append a get() as Arvind suggested.","body":"Eclipse gives the method as <code>void org.apache.logging.log4j.Logger.log(Level level, Object message)</code> if I use the code as is and <code>void org.apache.logging.log4j.Logger.log(Level level, String message)</code> if I append a get() as Arvind suggested."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675362133,"post_id":75326876,"comment_id":132918048,"body_markdown":"but be aware that `get()` will be evaluated when (before) the `log()` method is called, no matter if logging is enabled or not for given `Level` - that is, NOT lazy! In Eclipse you can check which `Logger` is being used, from which Library (seems like an older version, based on API doc)","body":"but be aware that <code>get()</code> will be evaluated when (before) the <code>log()</code> method is called, no matter if logging is enabled or not for given <code>Level</code> - that is, NOT lazy! In Eclipse you can check which <code>Logger</code> is being used, from which Library (seems like an older version, based on API doc)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675362326,"creation_date":1675362326,"answer_id":75327456,"question_id":75326876,"body_markdown":"Doing a level lookup for every call, when your intent is to avoid every nanosecond for levels that don&#39;t matter, is probably something you need to reconsider.\r\n\r\nAt any rate, there is nothing immediately obvious about your snippet that would explain what you observe. Thus, let&#39;s get into debugging it, and likely causes.\r\n\r\n1. The code you are running isn&#39;t the code you wrote. For example, because you haven&#39;t (re)compiled.\r\n\r\n2. `logger.log` is overloaded, and older versions of slf4j exist that contain only the &#39;object&#39; variant, which just calls toString(), which would lead to precisely the behaviour you are now witnessing.\r\n\r\nYou can do some debugging on both of these problems by applying the following trick:\r\n\r\n* Add `System.out.println(TheClassThisCodeIsIn.class.getResource(&quot;TheClassThisCodeIsIn.class&quot;));` - this will tell you _exactly_ where the class file is at.\r\n* Then use `javap -v -c path/to/that/file.class` and check the actual call to logger.log - is the &#39;signature&#39; that it links to the `Supplier` variant or the `Object` variant?\r\n\r\nThe different effects and what it means:\r\n\r\n* The sysout call isn&#39;t showing up. Then you aren&#39;t running the code you are looking at, and you need to investigate your toolstack. How are you compiling it, because it&#39;s not working.\r\n* The javap output shows that the &#39;Object&#39; variant is invoked. In which case __the compilation step__ is using an old version of log4j2 in its classpath. It&#39;s not about the slf4j version that exists at runtime, it&#39;s what the compiler is using, as that determines which overload is chosen.\r\n* Everything looks fine and yet you are still seeing `lambda@...` - then I would start suspecting that this is the _actual output_ of your lambda code somehow, or something really, really wonky is going on. The only things I can think of that get you here are ridiculously exotic, not worth mentioning.\r\n","title":"Method resolution during logging: Why is ()-&gt;String.format(...) not recoginzed as Supplier&lt;String&gt;?","body":"<p>Doing a level lookup for every call, when your intent is to avoid every nanosecond for levels that don't matter, is probably something you need to reconsider.</p>\n<p>At any rate, there is nothing immediately obvious about your snippet that would explain what you observe. Thus, let's get into debugging it, and likely causes.</p>\n<ol>\n<li><p>The code you are running isn't the code you wrote. For example, because you haven't (re)compiled.</p>\n</li>\n<li><p><code>logger.log</code> is overloaded, and older versions of slf4j exist that contain only the 'object' variant, which just calls toString(), which would lead to precisely the behaviour you are now witnessing.</p>\n</li>\n</ol>\n<p>You can do some debugging on both of these problems by applying the following trick:</p>\n<ul>\n<li>Add <code>System.out.println(TheClassThisCodeIsIn.class.getResource(&quot;TheClassThisCodeIsIn.class&quot;));</code> - this will tell you <em>exactly</em> where the class file is at.</li>\n<li>Then use <code>javap -v -c path/to/that/file.class</code> and check the actual call to logger.log - is the 'signature' that it links to the <code>Supplier</code> variant or the <code>Object</code> variant?</li>\n</ul>\n<p>The different effects and what it means:</p>\n<ul>\n<li>The sysout call isn't showing up. Then you aren't running the code you are looking at, and you need to investigate your toolstack. How are you compiling it, because it's not working.</li>\n<li>The javap output shows that the 'Object' variant is invoked. In which case <strong>the compilation step</strong> is using an old version of log4j2 in its classpath. It's not about the slf4j version that exists at runtime, it's what the compiler is using, as that determines which overload is chosen.</li>\n<li>Everything looks fine and yet you are still seeing <code>lambda@...</code> - then I would start suspecting that this is the <em>actual output</em> of your lambda code somehow, or something really, really wonky is going on. The only things I can think of that get you here are ridiculously exotic, not worth mentioning.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675370797,"creation_date":1675370797,"answer_id":75328758,"question_id":75326876,"body_markdown":"Your `Supplier` is not Log4j2&#39;s `Supplier`!\r\n\r\n[`java.util.function.Supplier`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html) was introduced in Java 8. At around the same time (version 2.4, cf. [LOG4J2-599](https://issues.apache.org/jira/browse/LOG4J2-599)) Log4j2 introduced [`org.apache.logging.log4j.util.Supplier`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/Supplier.html) so that the library can be used on Java 7.\r\n\r\nThat is why your code does not call `log(Level, Supplier&lt;?&gt;, Throwable)` but `log(Level, Object, Throwable)` and you end up with `Supplier#toString()` being logged instead of `Supplier#get()`.\r\n\r\nThis is probably something that should change and I filed a wish list bug about it (cf. [#1262](https://github.com/apache/logging-log4j2/issues/1262)).\r\n\r\n**Remark:** Wrapping well established logging APIs like Log4j2 API and SLF4J into custom wrappers is not a good idea (cf. [this question](https://stackoverflow.com/q/75256959/11748454)). While it is not rocket science to write a good wrapper, there are many details you should consider. For example your wrapper breaks location information.","title":"Method resolution during logging: Why is ()-&gt;String.format(...) not recoginzed as Supplier&lt;String&gt;?","body":"<p>Your <code>Supplier</code> is not Log4j2's <code>Supplier</code>!</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>java.util.function.Supplier</code></a> was introduced in Java 8. At around the same time (version 2.4, cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-599\" rel=\"nofollow noreferrer\">LOG4J2-599</a>) Log4j2 introduced <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/util/Supplier.html\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j.util.Supplier</code></a> so that the library can be used on Java 7.</p>\n<p>That is why your code does not call <code>log(Level, Supplier&lt;?&gt;, Throwable)</code> but <code>log(Level, Object, Throwable)</code> and you end up with <code>Supplier#toString()</code> being logged instead of <code>Supplier#get()</code>.</p>\n<p>This is probably something that should change and I filed a wish list bug about it (cf. <a href=\"https://github.com/apache/logging-log4j2/issues/1262\" rel=\"nofollow noreferrer\">#1262</a>).</p>\n<p><strong>Remark:</strong> Wrapping well established logging APIs like Log4j2 API and SLF4J into custom wrappers is not a good idea (cf. <a href=\"https://stackoverflow.com/q/75256959/11748454\">this question</a>). While it is not rocket science to write a good wrapper, there are many details you should consider. For example your wrapper breaks location information.</p>\n"}],"owner":{"account_id":27127357,"reputation":73,"user_id":20670147,"display_name":"leuchtstoffratte"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75328758,"answer_count":2,"score":0,"last_activity_date":1675370797,"creation_date":1675359132,"question_id":75326876,"body_markdown":"I have made a call to the log4j-v2-API like this:\r\n\r\n\r\n```\r\nLogger logger = LogManager.getLogger(&quot;MyLogger&quot;);\r\n\r\n/**\r\n * syntactic sugar as part of a facade\r\n */\r\nprivate void logAtLevel(String level, Supplier&lt;String&gt; messageSupplier, Throwable thrown){\r\n      Level priority = Level.toLevel(level, Level.ALL);\r\n      if (null == thrown) {\r\n         logger.log(priority, messageSupplier);\r\n      } else {\r\n         logger.log(priority, messageSupplier, thrown);\r\n      }\r\n\r\n}\r\n\r\n/**\r\n * method calling logger\r\n */\r\nprivate void callLogging(Object value){\r\n   logAtLevel(&quot;Debug&quot;, ()-&gt;String.format(&quot;something or other: %s&quot;, value), null);\r\n\r\n}\r\n```\r\n\r\nMy expectations would have been that the above call creates a log entry `&quot;something or other: &lt;object.toString()&gt;&quot;` however I got `&quot;lambda@1223454&quot;` instead.\r\n\r\nThis suggests to me that the method that was executed is [`log(level, object)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-java.lang.Object-) rather than the expected [`log(level, supplier)`](https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-org.apache.logging.log4j.util.Supplier-)\r\n\r\n\r\nWhy are the methods resolved the way they are and how can I prevent this (preferably without casting)?","title":"Method resolution during logging: Why is ()-&gt;String.format(...) not recoginzed as Supplier&lt;String&gt;?","body":"<p>I have made a call to the log4j-v2-API like this:</p>\n<pre><code>Logger logger = LogManager.getLogger(&quot;MyLogger&quot;);\n\n/**\n * syntactic sugar as part of a facade\n */\nprivate void logAtLevel(String level, Supplier&lt;String&gt; messageSupplier, Throwable thrown){\n      Level priority = Level.toLevel(level, Level.ALL);\n      if (null == thrown) {\n         logger.log(priority, messageSupplier);\n      } else {\n         logger.log(priority, messageSupplier, thrown);\n      }\n\n}\n\n/**\n * method calling logger\n */\nprivate void callLogging(Object value){\n   logAtLevel(&quot;Debug&quot;, ()-&gt;String.format(&quot;something or other: %s&quot;, value), null);\n\n}\n</code></pre>\n<p>My expectations would have been that the above call creates a log entry <code>&quot;something or other: &lt;object.toString()&gt;&quot;</code> however I got <code>&quot;lambda@1223454&quot;</code> instead.</p>\n<p>This suggests to me that the method that was executed is <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>log(level, object)</code></a> rather than the expected <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#log-org.apache.logging.log4j.Level-org.apache.logging.log4j.util.Supplier-\" rel=\"nofollow noreferrer\"><code>log(level, supplier)</code></a></p>\n<p>Why are the methods resolved the way they are and how can I prevent this (preferably without casting)?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1626953746,"post_id":68483928,"comment_id":121031996,"body_markdown":"Which exact JUnit version are you using? How exactly do you start the JUnit test?","body":"Which exact JUnit version are you using? How exactly do you start the JUnit test?"},{"owner":{"account_id":16536700,"reputation":499,"user_id":11948496,"display_name":"MDK"},"score":3,"creation_date":1626957434,"post_id":68483928,"comment_id":121033672,"body_markdown":"[This](https://github.com/junit-team/junit5/issues/2087) github issue discusses the same problem and suggests a few workarounds","body":"<a href=\"https://github.com/junit-team/junit5/issues/2087\" rel=\"nofollow noreferrer\">This</a> github issue discusses the same problem and suggests a few workarounds"},{"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"score":0,"creation_date":1651955914,"post_id":68483928,"comment_id":127490604,"body_markdown":"Does this answer your question? [How to fail a test after a timeout is exceeded in JUnit 5?](https://stackoverflow.com/questions/57116801/how-to-fail-a-test-after-a-timeout-is-exceeded-in-junit-5)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57116801/how-to-fail-a-test-after-a-timeout-is-exceeded-in-junit-5\">How to fail a test after a timeout is exceeded in JUnit 5?</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652028907,"post_id":68483928,"comment_id":127501471,"body_markdown":"@laszlok I fail to see how this question is a duplicate of that question. The OP is already using `@Timeout` as suggested in the answers to that question.","body":"@laszlok I fail to see how this question is a duplicate of that question. The OP is already using <code>@Timeout</code> as suggested in the answers to that question."},{"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"score":0,"creation_date":1652116671,"post_id":68483928,"comment_id":127523252,"body_markdown":"@MarkRotteveel please read the question and its accepted answer more carefully. `@Timeout` is used in the question there, and using it is unsurprisingly _not_ suggested in the answer.","body":"@MarkRotteveel please read the question and its accepted answer more carefully. <code>@Timeout</code> is used in the question there, and using it is unsurprisingly <i>not</i> suggested in the answer."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652174631,"post_id":68483928,"comment_id":127536519,"body_markdown":"@laszlok I have read the question: question asks what the replacement is for the old JUnit 4 `timeout` **parameter** of the `@Test` annotation (so it mention JUnit 5 `@Timeout` at all), and the accepted answer refers to using `@Timeout` or `assertTimeout` or `assertTimeoutPreemptively()`. Neither that question asks nor its answers answer why `@Timeout` might not be working, and as such it is not a duplicate, even if using `assertTimeout` or `assertTimeoutPreemptively()` would be the solution.","body":"@laszlok I have read the question: question asks what the replacement is for the old JUnit 4 <code>timeout</code> <b>parameter</b> of the <code>@Test</code> annotation (so it mention JUnit 5 <code>@Timeout</code> at all), and the accepted answer refers to using <code>@Timeout</code> or <code>assertTimeout</code> or <code>assertTimeoutPreemptively()</code>. Neither that question asks nor its answers answer why <code>@Timeout</code> might not be working, and as such it is not a duplicate, even if using <code>assertTimeout</code> or <code>assertTimeoutPreemptively()</code> would be the solution."},{"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"score":0,"creation_date":1652266122,"post_id":68483928,"comment_id":127563195,"body_markdown":"@MarkRotteveel I guess it depends on your interpretation - mine was that the question asks &quot;how to do exactly the same thing as JUnit 4 @Timeout&quot; and the answer clearly explains that the way to do it is `assertTimeoutPreemptively` (while also mentioning other, similar things that OP might prefer to use). Anyway, since you disagree, I&#39;ve added a substantial answer here now.","body":"@MarkRotteveel I guess it depends on your interpretation - mine was that the question asks &quot;how to do exactly the same thing as JUnit 4 @Timeout&quot; and the answer clearly explains that the way to do it is <code>assertTimeoutPreemptively</code> (while also mentioning other, similar things that OP might prefer to use). Anyway, since you disagree, I&#39;ve added a substantial answer here now."}],"answers":[{"tags":[],"owner":{"account_id":1170478,"reputation":2410,"user_id":1147783,"display_name":"laszlok"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652265731,"creation_date":1652265731,"answer_id":72199622,"question_id":68483928,"body_markdown":"A test configured with the @Timeout annotation will fail if its execution time exceeds a given duration. If the timeout is exceeded, the thread executing the test is interrupted from another thread, and is then expected to complete.\r\n\r\nIn your case, the interrupt does nothing, as you aren&#39;t performing any blocking operations, so your test continues to run forever.\r\n\r\nWhat you can do instead is use one of the `assertTimeoutPreemptively` methods - [see the documentation](https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html). In your example:\r\n\r\n`assertTimeoutPreemptively(Duration.ofSeconds(5), SomeClass::doSomething);`\r\n\r\nDo be aware that this will use a separate thread to execute `SomeClass::doSomething`. It is therefore up to you to ensure that everything you need (for the actual computation in the separate thread, or for subsequent assertions in the main thread) is correctly visible.","title":"JUnit 5, Test not failing despite @Timeout","body":"<p>A test configured with the @Timeout annotation will fail if its execution time exceeds a given duration. If the timeout is exceeded, the thread executing the test is interrupted from another thread, and is then expected to complete.</p>\n<p>In your case, the interrupt does nothing, as you aren't performing any blocking operations, so your test continues to run forever.</p>\n<p>What you can do instead is use one of the <code>assertTimeoutPreemptively</code> methods - <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html\" rel=\"nofollow noreferrer\">see the documentation</a>. In your example:</p>\n<p><code>assertTimeoutPreemptively(Duration.ofSeconds(5), SomeClass::doSomething);</code></p>\n<p>Do be aware that this will use a separate thread to execute <code>SomeClass::doSomething</code>. It is therefore up to you to ensure that everything you need (for the actual computation in the separate thread, or for subsequent assertions in the main thread) is correctly visible.</p>\n"},{"tags":[],"owner":{"account_id":4613621,"reputation":11,"user_id":3740924,"display_name":"chorandrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675370761,"creation_date":1675370761,"answer_id":75328752,"question_id":68483928,"body_markdown":"For me, the code below was the solution. It seems like `Timeout` doesn&#39;t work as expected when a long running computation and the code responsible for halting this computation run in the same thread. \r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Timeout;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\nimport static org.junit.jupiter.api.Timeout.ThreadMode.SEPARATE_THREAD;\r\n\r\nclass SomeUtilsTest {\r\n\r\n    @Test\r\n    @Timeout(value = 3, unit = TimeUnit.SECONDS, threadMode = SEPARATE_THREAD)\r\n    void testSomething() {\r\n        assertEquals (1, SomeClass.doSomething());\r\n    }\r\n}\r\n```","title":"JUnit 5, Test not failing despite @Timeout","body":"<p>For me, the code below was the solution. It seems like <code>Timeout</code> doesn't work as expected when a long running computation and the code responsible for halting this computation run in the same thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Timeout;\n\nimport java.util.concurrent.TimeUnit;\nimport static org.junit.jupiter.api.Timeout.ThreadMode.SEPARATE_THREAD;\n\nclass SomeUtilsTest {\n\n    @Test\n    @Timeout(value = 3, unit = TimeUnit.SECONDS, threadMode = SEPARATE_THREAD)\n    void testSomething() {\n        assertEquals (1, SomeClass.doSomething());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3333323,"reputation":410,"user_id":2801660,"accept_rate":75,"display_name":"Pradyumn"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675370761,"creation_date":1626952911,"question_id":68483928,"body_markdown":"I wonder what I am missing, but my JUnit 5 test with @Timeout is not failing when it should.\r\n\r\nHere is my test class:\r\n\r\n    package tests;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Timeout;\r\n    \r\n    import main.SomeClass;\r\n    \r\n    class SomeUtilsTest {\r\n    \r\n    \t@Test\r\n    \t@Timeout (5)\r\n    \tvoid testSomething() {\r\n    \t\tassertEquals (1, SomeClass.doSomething());\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd here is the class that I am testing:\r\n\r\n    package main;\r\n    \r\n    public class SomeClass {\r\n    \r\n    \tpublic static Integer doSomething() {\r\n    \t\twhile (true);\r\n    \t}\r\n    \r\n    }\r\n\r\nIt should fail after five seconds, but no matter how long I wait, the test never fails; the program continues to &quot;run&quot;, and I can only manually terminate it.\r\n\r\n\r\n\r\n","title":"JUnit 5, Test not failing despite @Timeout","body":"<p>I wonder what I am missing, but my JUnit 5 test with @Timeout is not failing when it should.</p>\n<p>Here is my test class:</p>\n<pre><code>package tests;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Timeout;\n\nimport main.SomeClass;\n\nclass SomeUtilsTest {\n\n    @Test\n    @Timeout (5)\n    void testSomething() {\n        assertEquals (1, SomeClass.doSomething());\n    }\n\n}\n</code></pre>\n<p>And here is the class that I am testing:</p>\n<pre><code>package main;\n\npublic class SomeClass {\n\n    public static Integer doSomething() {\n        while (true);\n    }\n\n}\n</code></pre>\n<p>It should fail after five seconds, but no matter how long I wait, the test never fails; the program continues to &quot;run&quot;, and I can only manually terminate it.</p>\n"},{"tags":["java","spring","spring-security","saml","spring-saml"],"answers":[{"tags":[],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1503408869,"creation_date":1503408869,"answer_id":45819160,"question_id":45798251,"body_markdown":"**Solution**\r\n\r\n**1)** Created a custom SAMLLogoutFilter (**CustomSAMLLogoutFilter**) and i am passing the url of the original request to the **CustomLogoutHandler**:\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package oidc.security;\r\n    \r\n    import java.io.IOException;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.springframework.security.saml.SAMLLogoutFilter;\r\n    import org.springframework.security.web.authentication.logout.LogoutHandler;\r\n    import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\n    import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\n    \r\n    /**\r\n     *\r\n     * @author GOXR3PLUS\r\n     */\r\n    public class CustomSAMLLogoutFilter extends SAMLLogoutFilter {\r\n    \r\n        private LogoutSuccessHandler logoutSuccessHandler;\r\n    \r\n        public CustomSAMLLogoutFilter(String successUrl, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\r\n            super(successUrl, localHandler, globalHandlers);\r\n        }\r\n    \r\n        public CustomSAMLLogoutFilter(LogoutSuccessHandler logoutSuccessHandler, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\r\n            super(logoutSuccessHandler, localHandler, globalHandlers);\r\n            this.logoutSuccessHandler = logoutSuccessHandler;\r\n        }\r\n    \r\n        @Override\r\n        public void processLogout(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            super.processLogout(request, response, chain);\r\n    \r\n            //   System.out.println(&quot;Hello from [ CustomSAMLLogoutFilter ] &quot;);\r\n            //Lets print some information here\r\n            System.out.println(&quot;FULL HttpServletRequest URL is : &quot; + getFullURL(request));\r\n    \r\n            //Downcast and pass it as parameter\r\n            ((CustomLogoutSuccessHandler) logoutSuccessHandler).setOriginalURL(getFullURL(request));\r\n            //   System.out.println(&quot;Chao chao from [ CustomSAMLLogoutFilter ] \\n&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Returns the full URL of the HTTPServletRequest\r\n         */\r\n        public static String getFullURL(HttpServletRequest request) {\r\n            StringBuffer requestURL = request.getRequestURL();\r\n            String queryString = request.getQueryString();\r\n    \r\n            if (queryString == null) {\r\n                return requestURL.toString();\r\n            } else {\r\n                return requestURL.append(&#39;?&#39;).append(queryString).toString();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**2)** The code of the **CustomLogoutHandler** :\r\n\r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    package oidc.security;\r\n    \r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\n    //import org.springframework.security.web.authentication.logout.SimpleUrlLogoutSuccessHandler;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import java.util.regex.Pattern;\r\n    import org.springframework.util.MultiValueMap;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    public class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\r\n    \r\n        /**\r\n         * This variable is used in order to keep track of the original URL the user\r\n         * passed before he logged out\r\n         */\r\n        private String originalURL;\r\n    \r\n        @Override\r\n        public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\r\n            if (authentication != null &amp;&amp; authentication.getDetails() != null) {\r\n                try {\r\n                    request.getSession().invalidate();\r\n                    System.out.println(&quot;User Successfully Logout&quot;);\r\n                    //you can add more codes here when the user successfully logs out,\r\n                    //such as updating the database for last active.\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            //Set the Server Status\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n    \r\n            //----------- Choose where to redirect------------------\r\n            System.out.println(&quot;Hello from [ CustomLogoutSuccessHandler ] \\n&quot;);\r\n            System.out.println(&quot;Original URL is : &quot; + originalURL);\r\n    \r\n            //Check if any parameters have been passed\r\n            String redirectURL = null;\r\n            if (originalURL != null) {\r\n    \r\n                try {\r\n                    //Get all the parameters from the url\r\n                    MultiValueMap&lt;String, String&gt; parameters\r\n                            = UriComponentsBuilder.fromUriString(originalURL).build().getQueryParams();\r\n    \r\n                    //--Get the parameter value \r\n                    List&lt;String&gt; value = parameters.get(&quot;redirect&quot;);\r\n                    if (value.size() != 0) { //if it exists\r\n                        redirectURL = value.get(0);\r\n                    }\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            // Decide where to redirect\r\n            System.out.println(&quot; Redirect : &quot; + redirectURL);\r\n            if (redirectURL == null) {\r\n                response.sendRedirect(&quot;/oidc/&quot;);\r\n            } else {\r\n                response.sendRedirect(redirectURL);\r\n            }\r\n        }\r\n    \r\n        public void setOriginalURL(String originalURL) {\r\n            this.originalURL = originalURL;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**3)** On the user-context.xml i changed only two things\r\n\r\n```&lt;!-- Handler for successful logout --&gt;\r\n    &lt;bean id=&quot;successLogoutHandler&quot; class=&quot;oidc.security.CustomLogoutSuccessHandler&quot;&gt;&lt;/bean&gt;```\r\n\r\n   and \r\n\r\n```&lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\r\n    &lt;bean id=&quot;samlLogoutFilter&quot; class=&quot;oidc.security.CustomSAMLLogoutFilter&quot;&gt;\r\n        &lt;constructor-arg index=&quot;0&quot; ref=&quot;successLogoutHandler&quot;/&gt;\r\n        &lt;constructor-arg index=&quot;1&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n        &lt;constructor-arg index=&quot;2&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n    &lt;/bean&gt;```  \r\n\r\nin order for them to see the new custom java files `java/..../security`\r\n\r\n\r\n---\r\n\r\nFinally case you want to see all the user-context.xml here it is :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--\r\n      Copyright 2015 The MITRE Corporation \r\n        and the MIT Kerberos and Internet Trust Consortium\r\n      \r\n      Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n      you may not use this file except in compliance with the License.\r\n      You may obtain a copy of the License at\r\n      \r\n        http://www.apache.org/licenses/LICENSE-2.0\r\n      \r\n      Unless required by applicable law or agreed to in writing, software\r\n      distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n      See the License for the specific language governing permissions and\r\n      limitations under the License.\r\n    --&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot;\r\n    \r\n           profile=&quot;!local&quot;&gt;\r\n    \r\n    \r\n        &lt;context:property-placeholder location=&quot;classpath:application.oidc.properties&quot;/&gt;\r\n    \r\n        &lt;!-- Enable auto-wiring --&gt;\r\n        &lt;context:annotation-config/&gt;\r\n    \r\n        &lt;!-- Scan for auto-wiring classes in spring saml packages --&gt;\r\n        &lt;context:component-scan base-package=&quot;org.springframework.security.saml&quot;/&gt;\r\n    \r\n        &lt;!-- Unsecured pages --&gt;\r\n        &lt;security:http security=&quot;none&quot; pattern=&quot;/translate-sp-entity-id&quot; create-session=&quot;never&quot;/&gt;\r\n    \r\n        &lt;!-- Secured pages with SAML as entry point --&gt;\r\n        &lt;security:http entry-point-ref=&quot;samlEntryPoint&quot; use-expressions=&quot;true&quot; create-session=&quot;never&quot;&gt;\r\n            &lt;security:intercept-url pattern=&quot;/authorize&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot; /&gt;\r\n            &lt;security:intercept-url pattern=&quot;/**&quot; access=&quot;permitAll&quot; /&gt;\r\n            &lt;security:custom-filter before=&quot;FIRST&quot; ref=&quot;metadataGeneratorFilter&quot;/&gt;\r\n            &lt;security:custom-filter before=&quot;PRE_AUTH_FILTER&quot; ref=&quot;clientIdFilter&quot;/&gt;\r\n            &lt;security:custom-filter ref=&quot;authRequestFilter&quot; after=&quot;SECURITY_CONTEXT_FILTER&quot; /&gt;\r\n            &lt;security:custom-filter after=&quot;BASIC_AUTH_FILTER&quot; ref=&quot;samlFilter&quot;/&gt;\r\n            &lt;!--&lt;security:anonymous /&gt;--&gt;\r\n            &lt;security:headers&gt;\r\n                &lt;security:frame-options policy=&quot;DENY&quot; /&gt;\r\n            &lt;/security:headers&gt;\r\n            &lt;security:csrf request-matcher-ref=&quot;apiCsrfProtectionMatcher&quot;/&gt;\r\n        &lt;/security:http&gt;\r\n    \r\n        &lt;!-- Logger for SAML messages and events --&gt;\r\n        &lt;bean id=&quot;clientIdFilter&quot; class=&quot;oidc.security.ClientIdFilter&quot;/&gt;\r\n    \r\n        &lt;!-- Filters for processing of SAML messages --&gt;\r\n        &lt;bean id=&quot;samlFilter&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n            &lt;security:filter-chain-map request-matcher=&quot;ant&quot;&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/login/**&quot; filters=&quot;samlEntryPoint&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/logout/**&quot; filters=&quot;samlLogoutFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/metadata/**&quot; filters=&quot;metadataDisplayFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSO/**&quot; filters=&quot;samlWebSSOProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSOHoK/**&quot; filters=&quot;samlWebSSOHoKProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SingleLogout/**&quot; filters=&quot;samlLogoutProcessingFilter&quot;/&gt;\r\n            &lt;/security:filter-chain-map&gt;\r\n        &lt;/bean&gt;\r\n      \r\n      \r\n    \r\n        &lt;!-- Handler deciding where to redirect user after successful login --&gt;\r\n        &lt;bean id=&quot;successRedirectHandler&quot;\r\n              class=&quot;org.springframework.security.web.authentication.SavedRequestAwareAuthenticationSuccessHandler&quot;&gt;\r\n            &lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        \r\n        &lt;!--\r\n        Use the following for interpreting RelayState coming from unsolicited response as redirect URL:\r\n        &lt;bean id=&quot;successRedirectHandler&quot; class=&quot;org.springframework.security.saml.SAMLRelayStateSuccessHandler&quot;&gt;\r\n           &lt;property name=&quot;defaultTargetUrl&quot; value=&quot;/&quot; /&gt;\r\n        &lt;/bean&gt;\r\n        --&gt;\r\n    \r\n        &lt;!-- Handler deciding where to redirect user after failed login --&gt;\r\n        &lt;bean id=&quot;failureRedirectHandler&quot;\r\n              class=&quot;org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler&quot;&gt;\r\n            &lt;property name=&quot;useForward&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/error.jsp&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Handler for successful logout --&gt;\r\n        &lt;bean id=&quot;successLogoutHandler&quot; class=&quot;oidc.security.CustomLogoutSuccessHandler&quot;&gt;&lt;/bean&gt;\r\n      \r\n        &lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\r\n        &lt;bean id=&quot;samlLogoutFilter&quot; class=&quot;oidc.security.CustomSAMLLogoutFilter&quot;&gt;\r\n            &lt;constructor-arg index=&quot;0&quot; ref=&quot;successLogoutHandler&quot;/&gt;\r\n            &lt;constructor-arg index=&quot;1&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n            &lt;constructor-arg index=&quot;2&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n        \r\n        &lt;!-- Filter processing incoming logout messages --&gt;\r\n        &lt;!-- First argument determines URL user will be redirected to after successful global logout --&gt;\r\n        &lt;bean id=&quot;samlLogoutProcessingFilter&quot; class=&quot;org.springframework.security.saml.SAMLLogoutProcessingFilter&quot;&gt;\r\n            &lt;constructor-arg index=&quot;0&quot; ref=&quot;successLogoutHandler&quot;/&gt;\r\n            &lt;constructor-arg index=&quot;1&quot; ref=&quot;logoutHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    \r\n        &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n            &lt;!-- Register authentication manager for SAML provider --&gt;\r\n            &lt;security:authentication-provider ref=&quot;samlAuthenticationProvider&quot;/&gt;\r\n        &lt;/security:authentication-manager&gt;\r\n    \r\n        &lt;!-- Logger for SAML messages and events --&gt;\r\n        &lt;bean id=&quot;samlLogger&quot; class=&quot;org.springframework.security.saml.log.SAMLDefaultLogger&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;keyStoreLocator&quot; class=&quot;oidc.saml.KeyStoreLocator&quot;/&gt;\r\n    \r\n        &lt;!-- Central storage of cryptographic keys --&gt;\r\n        &lt;bean id=&quot;keyManager&quot; class=&quot;org.springframework.security.saml.key.JKSKeyManager&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean factory-bean=&quot;keyStoreLocator&quot;\r\n                      factory-method=&quot;createKeyStore&quot;&gt;\r\n                    &lt;constructor-arg value=&quot;${idp.entity.id}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${idp.public.certificate}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.entity.id}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.public.certificate}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.private.key}&quot;/&gt;\r\n                    &lt;constructor-arg value=&quot;${sp.passphrase}&quot;/&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;${sp.entity.id}&quot; value=&quot;${sp.passphrase}&quot;/&gt;\r\n                &lt;/map&gt;\r\n            &lt;/constructor-arg&gt;\r\n            &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;${sp.entity.id}&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Entry point to initialize authentication, default values taken from properties file --&gt;\r\n        &lt;bean id=&quot;samlEntryPoint&quot; class=&quot;oidc.saml.ProxySAMLEntryPoint&quot;/&gt;\r\n    \r\n        &lt;!-- Filter automatically generates default SP metadata --&gt;\r\n        &lt;bean id=&quot;metadataGeneratorFilter&quot; class=&quot;org.springframework.security.saml.metadata.MetadataGeneratorFilter&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean class=&quot;org.springframework.security.saml.metadata.MetadataGenerator&quot;&gt;\r\n                    &lt;property name=&quot;entityId&quot; value=&quot;${sp.entity.id}&quot;/&gt;\r\n                    &lt;property name=&quot;entityBaseURL&quot; value=&quot;${sp.entity.base.url}&quot;/&gt;\r\n                    &lt;property name=&quot;extendedMetadata&quot;&gt;\r\n                        &lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadata&quot;&gt;\r\n                            &lt;property name=&quot;signMetadata&quot; value=&quot;true&quot;/&gt;\r\n                            &lt;property name=&quot;idpDiscoveryEnabled&quot; value=&quot;false&quot;/&gt;\r\n                        &lt;/bean&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- The filter is waiting for connections on URL suffixed with filterSuffix and presents SP metadata there --&gt;\r\n        &lt;bean id=&quot;metadataDisplayFilter&quot; class=&quot;org.springframework.security.saml.metadata.MetadataDisplayFilter&quot;/&gt;\r\n    \r\n        &lt;bean id=&quot;metadataManager&quot; class=&quot;org.springframework.security.saml.metadata.CachingMetadataManager&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;list&gt;\r\n                    &lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadataDelegate&quot;&gt;\r\n                        &lt;constructor-arg&gt;\r\n                            &lt;bean class=&quot;org.opensaml.saml2.metadata.provider.HTTPMetadataProvider&quot;&gt;\r\n                                &lt;constructor-arg&gt;\r\n                                    &lt;value type=&quot;java.lang.String&quot;&gt;${idp.metadata.url}&lt;/value&gt;\r\n                                &lt;/constructor-arg&gt;\r\n                                &lt;constructor-arg&gt;\r\n                                    &lt;value type=&quot;int&quot;&gt;30000&lt;/value&gt;\r\n                                &lt;/constructor-arg&gt;\r\n                                &lt;property name=&quot;parserPool&quot; ref=&quot;parserPool&quot;/&gt;\r\n                                &lt;property name=&quot;requireValidMetadata&quot; value=&quot;false&quot;/&gt;\r\n                            &lt;/bean&gt;\r\n                        &lt;/constructor-arg&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/list&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- IDP Metadata configuration - paths to metadata of IDPs in circle of trust is here --&gt;\r\n        &lt;bean class=&quot;org.springframework.security.saml.metadata.ExtendedMetadataDelegate&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;metadataManager&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;defaultSAMLUserDetailsService&quot; class=&quot;oidc.saml.DefaultSAMLUserDetailsService&quot;&gt;\r\n            &lt;constructor-arg value=&quot;${sp.entity.id}&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- SAML Authentication Provider responsible for validating of received SAML messages --&gt;\r\n        &lt;bean id=&quot;samlAuthenticationProvider&quot; class=&quot;oidc.saml.FederatedSAMLAuthenticationProvider&quot;&gt;\r\n            &lt;property name=&quot;userDetails&quot; ref=&quot;defaultSAMLUserDetailsService&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Provider of default SAML Context --&gt;\r\n        &lt;bean id=&quot;contextProvider&quot; class=&quot;org.springframework.security.saml.context.SAMLContextProviderImpl&quot;/&gt;\r\n    \r\n        &lt;!-- Processing filter for WebSSO profile messages --&gt;\r\n        &lt;bean id=&quot;samlWebSSOProcessingFilter&quot; class=&quot;org.springframework.security.saml.SAMLProcessingFilter&quot;&gt;\r\n            &lt;property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\r\n            &lt;property name=&quot;authenticationSuccessHandler&quot; ref=&quot;successRedirectHandler&quot;/&gt;\r\n            &lt;property name=&quot;authenticationFailureHandler&quot; ref=&quot;failureRedirectHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Processing filter for WebSSO Holder-of-Key profile --&gt;\r\n        &lt;bean id=&quot;samlWebSSOHoKProcessingFilter&quot; class=&quot;org.springframework.security.saml.SAMLWebSSOHoKProcessingFilter&quot;&gt;\r\n            &lt;property name=&quot;authenticationManager&quot; ref=&quot;authenticationManager&quot;/&gt;\r\n            &lt;property name=&quot;authenticationSuccessHandler&quot; ref=&quot;successRedirectHandler&quot;/&gt;\r\n            &lt;property name=&quot;authenticationFailureHandler&quot; ref=&quot;failureRedirectHandler&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Logout handler terminating local session --&gt;\r\n        &lt;bean id=&quot;logoutHandler&quot;\r\n              class=&quot;org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler&quot;&gt;\r\n            &lt;property name=&quot;invalidateHttpSession&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Class loading incoming SAML messages from httpRequest stream --&gt;\r\n        &lt;bean id=&quot;processor&quot; class=&quot;org.springframework.security.saml.processor.SAMLProcessorImpl&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;list&gt;\r\n                    &lt;ref bean=&quot;redirectBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;postBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;artifactBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;soapBinding&quot;/&gt;\r\n                    &lt;ref bean=&quot;paosBinding&quot;/&gt;\r\n                &lt;/list&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- SAML 2.0 WebSSO Assertion Consumer --&gt;\r\n        &lt;bean id=&quot;webSSOprofileConsumer&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerImpl&quot;&gt;\r\n            &lt;property name=&quot;maxAuthenticationAge&quot; value=&quot;43200&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Holder-of-Key WebSSO Assertion Consumer --&gt;\r\n        &lt;bean id=&quot;hokWebSSOprofileConsumer&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Web SSO profile --&gt;\r\n        &lt;bean id=&quot;webSSOprofile&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Holder-of-Key Web SSO profile --&gt;\r\n        &lt;bean id=&quot;hokWebSSOProfile&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 ECP profile --&gt;\r\n        &lt;bean id=&quot;ecpprofile&quot; class=&quot;org.springframework.security.saml.websso.WebSSOProfileECPImpl&quot;/&gt;\r\n    \r\n        &lt;!-- SAML 2.0 Logout Profile --&gt;\r\n        &lt;bean id=&quot;logoutprofile&quot; class=&quot;org.springframework.security.saml.websso.SingleLogoutProfileImpl&quot;/&gt;\r\n    \r\n        &lt;!-- Bindings, encoders and decoders used for creating and parsing messages --&gt;\r\n        &lt;bean id=&quot;postBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPPostBinding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n            &lt;constructor-arg ref=&quot;velocityEngine&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;redirectBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPRedirectDeflateBinding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;artifactBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPArtifactBinding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n            &lt;constructor-arg ref=&quot;velocityEngine&quot;/&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;bean class=&quot;org.springframework.security.saml.websso.ArtifactResolutionProfileImpl&quot;&gt;\r\n                    &lt;constructor-arg&gt;\r\n                        &lt;bean class=&quot;org.apache.commons.httpclient.HttpClient&quot;&gt;\r\n                            &lt;constructor-arg&gt;\r\n                                &lt;bean class=&quot;org.apache.commons.httpclient.MultiThreadedHttpConnectionManager&quot;/&gt;\r\n                            &lt;/constructor-arg&gt;\r\n                        &lt;/bean&gt;\r\n                    &lt;/constructor-arg&gt;\r\n                    &lt;property name=&quot;processor&quot;&gt;\r\n                        &lt;bean class=&quot;org.springframework.security.saml.processor.SAMLProcessorImpl&quot;&gt;\r\n                            &lt;constructor-arg ref=&quot;soapBinding&quot;/&gt;\r\n                        &lt;/bean&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;soapBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPSOAP11Binding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;paosBinding&quot; class=&quot;org.springframework.security.saml.processor.HTTPPAOS11Binding&quot;&gt;\r\n            &lt;constructor-arg ref=&quot;parserPool&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Initialization of OpenSAML library--&gt;\r\n        &lt;bean class=&quot;org.springframework.security.saml.SAMLBootstrap&quot;/&gt;\r\n    \r\n        &lt;!-- Initialization of the velocity engine --&gt;\r\n        &lt;bean id=&quot;velocityEngine&quot; class=&quot;org.springframework.security.saml.util.VelocityFactory&quot; factory-method=&quot;getEngine&quot;/&gt;\r\n    \r\n        &lt;!-- XML parser pool needed for OpenSAML parsing --&gt;\r\n        &lt;bean id=&quot;parserPool&quot; class=&quot;org.opensaml.xml.parse.StaticBasicParserPool&quot; init-method=&quot;initialize&quot;&gt;\r\n            &lt;property name=&quot;builderFeatures&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;http://apache.org/xml/features/dom/defer-node-expansion&quot; value=&quot;false&quot;/&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;parserPoolHolder&quot; class=&quot;org.springframework.security.saml.parser.ParserPoolHolder&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\n\r\n","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<p><strong>Solution</strong></p>\n\n<p><strong>1)</strong> Created a custom SAMLLogoutFilter (<strong>CustomSAMLLogoutFilter</strong>) and i am passing the url of the original request to the <strong>CustomLogoutHandler</strong>:</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage oidc.security;\n\nimport java.io.IOException;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.springframework.security.saml.SAMLLogoutFilter;\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\n\n/**\n *\n * @author GOXR3PLUS\n */\npublic class CustomSAMLLogoutFilter extends SAMLLogoutFilter {\n\n    private LogoutSuccessHandler logoutSuccessHandler;\n\n    public CustomSAMLLogoutFilter(String successUrl, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\n        super(successUrl, localHandler, globalHandlers);\n    }\n\n    public CustomSAMLLogoutFilter(LogoutSuccessHandler logoutSuccessHandler, LogoutHandler[] localHandler, LogoutHandler[] globalHandlers) {\n        super(logoutSuccessHandler, localHandler, globalHandlers);\n        this.logoutSuccessHandler = logoutSuccessHandler;\n    }\n\n    @Override\n    public void processLogout(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        super.processLogout(request, response, chain);\n\n        //   System.out.println(\"Hello from [ CustomSAMLLogoutFilter ] \");\n        //Lets print some information here\n        System.out.println(\"FULL HttpServletRequest URL is : \" + getFullURL(request));\n\n        //Downcast and pass it as parameter\n        ((CustomLogoutSuccessHandler) logoutSuccessHandler).setOriginalURL(getFullURL(request));\n        //   System.out.println(\"Chao chao from [ CustomSAMLLogoutFilter ] \\n\");\n    }\n\n    /**\n     * Returns the full URL of the HTTPServletRequest\n     */\n    public static String getFullURL(HttpServletRequest request) {\n        StringBuffer requestURL = request.getRequestURL();\n        String queryString = request.getQueryString();\n\n        if (queryString == null) {\n            return requestURL.toString();\n        } else {\n            return requestURL.append('?').append(queryString).toString();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>2)</strong> The code of the <strong>CustomLogoutHandler</strong> :</p>\n\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage oidc.security;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\n//import org.springframework.security.web.authentication.logout.SimpleUrlLogoutSuccessHandler;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.List;\nimport java.util.regex.Pattern;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.web.util.UriComponentsBuilder;\n\npublic class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\n\n    /**\n     * This variable is used in order to keep track of the original URL the user\n     * passed before he logged out\n     */\n    private String originalURL;\n\n    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException, ServletException {\n        if (authentication != null &amp;&amp; authentication.getDetails() != null) {\n            try {\n                request.getSession().invalidate();\n                System.out.println(\"User Successfully Logout\");\n                //you can add more codes here when the user successfully logs out,\n                //such as updating the database for last active.\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        //Set the Server Status\n        response.setStatus(HttpServletResponse.SC_OK);\n\n        //----------- Choose where to redirect------------------\n        System.out.println(\"Hello from [ CustomLogoutSuccessHandler ] \\n\");\n        System.out.println(\"Original URL is : \" + originalURL);\n\n        //Check if any parameters have been passed\n        String redirectURL = null;\n        if (originalURL != null) {\n\n            try {\n                //Get all the parameters from the url\n                MultiValueMap&lt;String, String&gt; parameters\n                        = UriComponentsBuilder.fromUriString(originalURL).build().getQueryParams();\n\n                //--Get the parameter value \n                List&lt;String&gt; value = parameters.get(\"redirect\");\n                if (value.size() != 0) { //if it exists\n                    redirectURL = value.get(0);\n                }\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        // Decide where to redirect\n        System.out.println(\" Redirect : \" + redirectURL);\n        if (redirectURL == null) {\n            response.sendRedirect(\"/oidc/\");\n        } else {\n            response.sendRedirect(redirectURL);\n        }\n    }\n\n    public void setOriginalURL(String originalURL) {\n        this.originalURL = originalURL;\n    }\n\n}\n</code></pre>\n\n<p><strong>3)</strong> On the user-context.xml i changed only two things</p>\n\n<p><code>&lt;!-- Handler for successful logout --&gt;\n    &lt;bean id=\"successLogoutHandler\" class=\"oidc.security.CustomLogoutSuccessHandler\"&gt;&lt;/bean&gt;</code></p>\n\n<p>and </p>\n\n<p><code>&lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\n    &lt;bean id=\"samlLogoutFilter\" class=\"oidc.security.CustomSAMLLogoutFilter\"&gt;\n        &lt;constructor-arg index=\"0\" ref=\"successLogoutHandler\"/&gt;\n        &lt;constructor-arg index=\"1\" ref=\"logoutHandler\"/&gt;\n        &lt;constructor-arg index=\"2\" ref=\"logoutHandler\"/&gt;\n    &lt;/bean&gt;</code>  </p>\n\n<p>in order for them to see the new custom java files <code>java/..../security</code></p>\n\n<hr>\n\n<p>Finally case you want to see all the user-context.xml here it is :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!--\n  Copyright 2015 The MITRE Corporation \n    and the MIT Kerberos and Internet Trust Consortium\n\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n--&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:security=\"http://www.springframework.org/schema/security\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\"\n\n       profile=\"!local\"&gt;\n\n\n    &lt;context:property-placeholder location=\"classpath:application.oidc.properties\"/&gt;\n\n    &lt;!-- Enable auto-wiring --&gt;\n    &lt;context:annotation-config/&gt;\n\n    &lt;!-- Scan for auto-wiring classes in spring saml packages --&gt;\n    &lt;context:component-scan base-package=\"org.springframework.security.saml\"/&gt;\n\n    &lt;!-- Unsecured pages --&gt;\n    &lt;security:http security=\"none\" pattern=\"/translate-sp-entity-id\" create-session=\"never\"/&gt;\n\n    &lt;!-- Secured pages with SAML as entry point --&gt;\n    &lt;security:http entry-point-ref=\"samlEntryPoint\" use-expressions=\"true\" create-session=\"never\"&gt;\n        &lt;security:intercept-url pattern=\"/authorize\" access=\"hasRole('ROLE_USER')\" /&gt;\n        &lt;security:intercept-url pattern=\"/**\" access=\"permitAll\" /&gt;\n        &lt;security:custom-filter before=\"FIRST\" ref=\"metadataGeneratorFilter\"/&gt;\n        &lt;security:custom-filter before=\"PRE_AUTH_FILTER\" ref=\"clientIdFilter\"/&gt;\n        &lt;security:custom-filter ref=\"authRequestFilter\" after=\"SECURITY_CONTEXT_FILTER\" /&gt;\n        &lt;security:custom-filter after=\"BASIC_AUTH_FILTER\" ref=\"samlFilter\"/&gt;\n        &lt;!--&lt;security:anonymous /&gt;--&gt;\n        &lt;security:headers&gt;\n            &lt;security:frame-options policy=\"DENY\" /&gt;\n        &lt;/security:headers&gt;\n        &lt;security:csrf request-matcher-ref=\"apiCsrfProtectionMatcher\"/&gt;\n    &lt;/security:http&gt;\n\n    &lt;!-- Logger for SAML messages and events --&gt;\n    &lt;bean id=\"clientIdFilter\" class=\"oidc.security.ClientIdFilter\"/&gt;\n\n    &lt;!-- Filters for processing of SAML messages --&gt;\n    &lt;bean id=\"samlFilter\" class=\"org.springframework.security.web.FilterChainProxy\"&gt;\n        &lt;security:filter-chain-map request-matcher=\"ant\"&gt;\n            &lt;security:filter-chain pattern=\"/saml/login/**\" filters=\"samlEntryPoint\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/logout/**\" filters=\"samlLogoutFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/metadata/**\" filters=\"metadataDisplayFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSO/**\" filters=\"samlWebSSOProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSOHoK/**\" filters=\"samlWebSSOHoKProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SingleLogout/**\" filters=\"samlLogoutProcessingFilter\"/&gt;\n        &lt;/security:filter-chain-map&gt;\n    &lt;/bean&gt;\n\n\n\n    &lt;!-- Handler deciding where to redirect user after successful login --&gt;\n    &lt;bean id=\"successRedirectHandler\"\n          class=\"org.springframework.security.web.authentication.SavedRequestAwareAuthenticationSuccessHandler\"&gt;\n        &lt;property name=\"defaultTargetUrl\" value=\"/\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\n    Use the following for interpreting RelayState coming from unsolicited response as redirect URL:\n    &lt;bean id=\"successRedirectHandler\" class=\"org.springframework.security.saml.SAMLRelayStateSuccessHandler\"&gt;\n       &lt;property name=\"defaultTargetUrl\" value=\"/\" /&gt;\n    &lt;/bean&gt;\n    --&gt;\n\n    &lt;!-- Handler deciding where to redirect user after failed login --&gt;\n    &lt;bean id=\"failureRedirectHandler\"\n          class=\"org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler\"&gt;\n        &lt;property name=\"useForward\" value=\"true\"/&gt;\n        &lt;property name=\"defaultFailureUrl\" value=\"/error.jsp\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Handler for successful logout --&gt;\n    &lt;bean id=\"successLogoutHandler\" class=\"oidc.security.CustomLogoutSuccessHandler\"&gt;&lt;/bean&gt;\n\n    &lt;!-- Override default logout processing filter with the one processing SAML messages --&gt;\n    &lt;bean id=\"samlLogoutFilter\" class=\"oidc.security.CustomSAMLLogoutFilter\"&gt;\n        &lt;constructor-arg index=\"0\" ref=\"successLogoutHandler\"/&gt;\n        &lt;constructor-arg index=\"1\" ref=\"logoutHandler\"/&gt;\n        &lt;constructor-arg index=\"2\" ref=\"logoutHandler\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Filter processing incoming logout messages --&gt;\n    &lt;!-- First argument determines URL user will be redirected to after successful global logout --&gt;\n    &lt;bean id=\"samlLogoutProcessingFilter\" class=\"org.springframework.security.saml.SAMLLogoutProcessingFilter\"&gt;\n        &lt;constructor-arg index=\"0\" ref=\"successLogoutHandler\"/&gt;\n        &lt;constructor-arg index=\"1\" ref=\"logoutHandler\"/&gt;\n    &lt;/bean&gt;\n\n\n    &lt;security:authentication-manager alias=\"authenticationManager\"&gt;\n        &lt;!-- Register authentication manager for SAML provider --&gt;\n        &lt;security:authentication-provider ref=\"samlAuthenticationProvider\"/&gt;\n    &lt;/security:authentication-manager&gt;\n\n    &lt;!-- Logger for SAML messages and events --&gt;\n    &lt;bean id=\"samlLogger\" class=\"org.springframework.security.saml.log.SAMLDefaultLogger\"/&gt;\n\n    &lt;bean id=\"keyStoreLocator\" class=\"oidc.saml.KeyStoreLocator\"/&gt;\n\n    &lt;!-- Central storage of cryptographic keys --&gt;\n    &lt;bean id=\"keyManager\" class=\"org.springframework.security.saml.key.JKSKeyManager\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean factory-bean=\"keyStoreLocator\"\n                  factory-method=\"createKeyStore\"&gt;\n                &lt;constructor-arg value=\"${idp.entity.id}\"/&gt;\n                &lt;constructor-arg value=\"${idp.public.certificate}\"/&gt;\n                &lt;constructor-arg value=\"${sp.entity.id}\"/&gt;\n                &lt;constructor-arg value=\"${sp.public.certificate}\"/&gt;\n                &lt;constructor-arg value=\"${sp.private.key}\"/&gt;\n                &lt;constructor-arg value=\"${sp.passphrase}\"/&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n        &lt;constructor-arg&gt;\n            &lt;map&gt;\n                &lt;entry key=\"${sp.entity.id}\" value=\"${sp.passphrase}\"/&gt;\n            &lt;/map&gt;\n        &lt;/constructor-arg&gt;\n        &lt;constructor-arg type=\"java.lang.String\" value=\"${sp.entity.id}\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Entry point to initialize authentication, default values taken from properties file --&gt;\n    &lt;bean id=\"samlEntryPoint\" class=\"oidc.saml.ProxySAMLEntryPoint\"/&gt;\n\n    &lt;!-- Filter automatically generates default SP metadata --&gt;\n    &lt;bean id=\"metadataGeneratorFilter\" class=\"org.springframework.security.saml.metadata.MetadataGeneratorFilter\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean class=\"org.springframework.security.saml.metadata.MetadataGenerator\"&gt;\n                &lt;property name=\"entityId\" value=\"${sp.entity.id}\"/&gt;\n                &lt;property name=\"entityBaseURL\" value=\"${sp.entity.base.url}\"/&gt;\n                &lt;property name=\"extendedMetadata\"&gt;\n                    &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadata\"&gt;\n                        &lt;property name=\"signMetadata\" value=\"true\"/&gt;\n                        &lt;property name=\"idpDiscoveryEnabled\" value=\"false\"/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- The filter is waiting for connections on URL suffixed with filterSuffix and presents SP metadata there --&gt;\n    &lt;bean id=\"metadataDisplayFilter\" class=\"org.springframework.security.saml.metadata.MetadataDisplayFilter\"/&gt;\n\n    &lt;bean id=\"metadataManager\" class=\"org.springframework.security.saml.metadata.CachingMetadataManager\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;list&gt;\n                &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadataDelegate\"&gt;\n                    &lt;constructor-arg&gt;\n                        &lt;bean class=\"org.opensaml.saml2.metadata.provider.HTTPMetadataProvider\"&gt;\n                            &lt;constructor-arg&gt;\n                                &lt;value type=\"java.lang.String\"&gt;${idp.metadata.url}&lt;/value&gt;\n                            &lt;/constructor-arg&gt;\n                            &lt;constructor-arg&gt;\n                                &lt;value type=\"int\"&gt;30000&lt;/value&gt;\n                            &lt;/constructor-arg&gt;\n                            &lt;property name=\"parserPool\" ref=\"parserPool\"/&gt;\n                            &lt;property name=\"requireValidMetadata\" value=\"false\"/&gt;\n                        &lt;/bean&gt;\n                    &lt;/constructor-arg&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- IDP Metadata configuration - paths to metadata of IDPs in circle of trust is here --&gt;\n    &lt;bean class=\"org.springframework.security.saml.metadata.ExtendedMetadataDelegate\"&gt;\n        &lt;constructor-arg ref=\"metadataManager\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"defaultSAMLUserDetailsService\" class=\"oidc.saml.DefaultSAMLUserDetailsService\"&gt;\n        &lt;constructor-arg value=\"${sp.entity.id}\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- SAML Authentication Provider responsible for validating of received SAML messages --&gt;\n    &lt;bean id=\"samlAuthenticationProvider\" class=\"oidc.saml.FederatedSAMLAuthenticationProvider\"&gt;\n        &lt;property name=\"userDetails\" ref=\"defaultSAMLUserDetailsService\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Provider of default SAML Context --&gt;\n    &lt;bean id=\"contextProvider\" class=\"org.springframework.security.saml.context.SAMLContextProviderImpl\"/&gt;\n\n    &lt;!-- Processing filter for WebSSO profile messages --&gt;\n    &lt;bean id=\"samlWebSSOProcessingFilter\" class=\"org.springframework.security.saml.SAMLProcessingFilter\"&gt;\n        &lt;property name=\"authenticationManager\" ref=\"authenticationManager\"/&gt;\n        &lt;property name=\"authenticationSuccessHandler\" ref=\"successRedirectHandler\"/&gt;\n        &lt;property name=\"authenticationFailureHandler\" ref=\"failureRedirectHandler\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Processing filter for WebSSO Holder-of-Key profile --&gt;\n    &lt;bean id=\"samlWebSSOHoKProcessingFilter\" class=\"org.springframework.security.saml.SAMLWebSSOHoKProcessingFilter\"&gt;\n        &lt;property name=\"authenticationManager\" ref=\"authenticationManager\"/&gt;\n        &lt;property name=\"authenticationSuccessHandler\" ref=\"successRedirectHandler\"/&gt;\n        &lt;property name=\"authenticationFailureHandler\" ref=\"failureRedirectHandler\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Logout handler terminating local session --&gt;\n    &lt;bean id=\"logoutHandler\"\n          class=\"org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler\"&gt;\n        &lt;property name=\"invalidateHttpSession\" value=\"false\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Class loading incoming SAML messages from httpRequest stream --&gt;\n    &lt;bean id=\"processor\" class=\"org.springframework.security.saml.processor.SAMLProcessorImpl\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;list&gt;\n                &lt;ref bean=\"redirectBinding\"/&gt;\n                &lt;ref bean=\"postBinding\"/&gt;\n                &lt;ref bean=\"artifactBinding\"/&gt;\n                &lt;ref bean=\"soapBinding\"/&gt;\n                &lt;ref bean=\"paosBinding\"/&gt;\n            &lt;/list&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- SAML 2.0 WebSSO Assertion Consumer --&gt;\n    &lt;bean id=\"webSSOprofileConsumer\" class=\"org.springframework.security.saml.websso.WebSSOProfileConsumerImpl\"&gt;\n        &lt;property name=\"maxAuthenticationAge\" value=\"43200\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- SAML 2.0 Holder-of-Key WebSSO Assertion Consumer --&gt;\n    &lt;bean id=\"hokWebSSOprofileConsumer\" class=\"org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 Web SSO profile --&gt;\n    &lt;bean id=\"webSSOprofile\" class=\"org.springframework.security.saml.websso.WebSSOProfileImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 Holder-of-Key Web SSO profile --&gt;\n    &lt;bean id=\"hokWebSSOProfile\" class=\"org.springframework.security.saml.websso.WebSSOProfileConsumerHoKImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 ECP profile --&gt;\n    &lt;bean id=\"ecpprofile\" class=\"org.springframework.security.saml.websso.WebSSOProfileECPImpl\"/&gt;\n\n    &lt;!-- SAML 2.0 Logout Profile --&gt;\n    &lt;bean id=\"logoutprofile\" class=\"org.springframework.security.saml.websso.SingleLogoutProfileImpl\"/&gt;\n\n    &lt;!-- Bindings, encoders and decoders used for creating and parsing messages --&gt;\n    &lt;bean id=\"postBinding\" class=\"org.springframework.security.saml.processor.HTTPPostBinding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n        &lt;constructor-arg ref=\"velocityEngine\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"redirectBinding\" class=\"org.springframework.security.saml.processor.HTTPRedirectDeflateBinding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"artifactBinding\" class=\"org.springframework.security.saml.processor.HTTPArtifactBinding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n        &lt;constructor-arg ref=\"velocityEngine\"/&gt;\n        &lt;constructor-arg&gt;\n            &lt;bean class=\"org.springframework.security.saml.websso.ArtifactResolutionProfileImpl\"&gt;\n                &lt;constructor-arg&gt;\n                    &lt;bean class=\"org.apache.commons.httpclient.HttpClient\"&gt;\n                        &lt;constructor-arg&gt;\n                            &lt;bean class=\"org.apache.commons.httpclient.MultiThreadedHttpConnectionManager\"/&gt;\n                        &lt;/constructor-arg&gt;\n                    &lt;/bean&gt;\n                &lt;/constructor-arg&gt;\n                &lt;property name=\"processor\"&gt;\n                    &lt;bean class=\"org.springframework.security.saml.processor.SAMLProcessorImpl\"&gt;\n                        &lt;constructor-arg ref=\"soapBinding\"/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"soapBinding\" class=\"org.springframework.security.saml.processor.HTTPSOAP11Binding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"paosBinding\" class=\"org.springframework.security.saml.processor.HTTPPAOS11Binding\"&gt;\n        &lt;constructor-arg ref=\"parserPool\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Initialization of OpenSAML library--&gt;\n    &lt;bean class=\"org.springframework.security.saml.SAMLBootstrap\"/&gt;\n\n    &lt;!-- Initialization of the velocity engine --&gt;\n    &lt;bean id=\"velocityEngine\" class=\"org.springframework.security.saml.util.VelocityFactory\" factory-method=\"getEngine\"/&gt;\n\n    &lt;!-- XML parser pool needed for OpenSAML parsing --&gt;\n    &lt;bean id=\"parserPool\" class=\"org.opensaml.xml.parse.StaticBasicParserPool\" init-method=\"initialize\"&gt;\n        &lt;property name=\"builderFeatures\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"http://apache.org/xml/features/dom/defer-node-expansion\" value=\"false\"/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"parserPoolHolder\" class=\"org.springframework.security.saml.parser.ParserPoolHolder\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5762184,"reputation":757,"user_id":4548231,"display_name":"sawprogramming"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655217618,"creation_date":1655217618,"answer_id":72618923,"question_id":45798251,"body_markdown":"You can use the `RelayState` parameter in the logout requests your application sends to the IDP to accomplish this. Per the [SAML bindings specification][1]:\r\n\r\n&gt; Some bindings define a &quot;RelayState&quot; mechanism for preserving and conveying state information. When such a mechanism is used in conveying a request message as the initial step of a SAML protocol, it places requirements on the selection and use of the binding subsequently used to convey the response. Namely, if a SAML request message is accompanied by RelayState data, then the SAML responder MUST return its SAML protocol response using a binding that also supports a RelayState mechanism, and it MUST place the exact RelayState data it received with the request into the corresponding RelayState parameter in the response.\r\n\r\nSince the `RelayState` in the logout response will be whatever you set it to in the request, if you set it to the desired redirect URL in the logout request, you can retrieve it again when you process the logout response.\r\n\r\n While the SAML message encoder of the SAML HTTP redirect binding ultimately adds the `RelayState` parameter to the logout request made to the IDP, it grabs the value from the `org.opensaml.common.binding.SAMLMessageContext` of the logout request. You can set the value of the `RelayState` in the SAML message context for logout requests by extending the `org.springframework.security.saml.websso.SingleLogoutProfileImpl` class and overriding the \r\n`sendLogoutRequest` method, which has access to both the original HTTP request and the SAML message context.\r\n\r\nAssuming you&#39;re supplying the redirect URL using the `redirect` parameter, that code looks something like this:\r\n\r\n~~~java\r\n@Override\r\npublic void sendLogoutRequest(final SAMLMessageContext context, final SAMLCredential credential)\r\n    throws SAMLException, MetadataProviderException, MessageEncodingException\r\n{\r\n    if (context.getInboundMessageTransport() instanceof HttpServletRequestAdapter) {\r\n        Optional\r\n            .ofNullable (((HttpServletRequestAdapter)context.getInboundMessageTransport()).getParameterValue(&quot;redirect&quot;))\r\n            .flatMap    (it -&gt; Strings.isBlank(it) ? Optional.empty() : Optional.of(it))\r\n            .ifPresent  (context::setRelayState);\r\n    }\r\n    super.sendLogoutRequest(context, credential);\r\n}\r\n~~~\r\n\r\nThen, your logout success handler can be configured to redirect to the value determined from either the `redirect` or the `RelayState` parameter of the HTTP request:\r\n\r\n~~~java\r\n@Override\r\npublic void onLogoutSuccess(\r\n    final HttpServletRequest  request,\r\n    final HttpServletResponse response,\r\n    final Authentication      authentication\r\n) throws IOException, ServletException {\r\n    if (authentication != null &amp;&amp; authentication.getDetails() != null) {\r\n        try {\r\n            request.getSession().invalidate();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Set the Server Status\r\n    response.setStatus(HttpServletResponse.SC_OK);\r\n\r\n    // Decide where to redirect\r\n    final String redirectParameterValue   = request.getParameter(&quot;redirect&quot;);\r\n    final String relayStateParameterValue = request.getParameter(&quot;RelayState&quot;);\r\n    if (redirectParameterValue != null &amp;&amp; !redirectParameterValue.isEmpty()) {\r\n        response.sendRedirect(redirectParameterValue);\r\n    } else if (relayStateParameterValue != null &amp;&amp; !relayStateParameterValue.isEmpty()) {\r\n        response.sendRedirect(relayStateParameterValue);\r\n    } else {\r\n        response.sendRedirect(&quot;/oidc/&quot;);\r\n    }\r\n}\r\n~~~\r\n\r\n  [1]: http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<p>You can use the <code>RelayState</code> parameter in the logout requests your application sends to the IDP to accomplish this. Per the <a href=\"http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf\" rel=\"nofollow noreferrer\">SAML bindings specification</a>:</p>\n<blockquote>\n<p>Some bindings define a &quot;RelayState&quot; mechanism for preserving and conveying state information. When such a mechanism is used in conveying a request message as the initial step of a SAML protocol, it places requirements on the selection and use of the binding subsequently used to convey the response. Namely, if a SAML request message is accompanied by RelayState data, then the SAML responder MUST return its SAML protocol response using a binding that also supports a RelayState mechanism, and it MUST place the exact RelayState data it received with the request into the corresponding RelayState parameter in the response.</p>\n</blockquote>\n<p>Since the <code>RelayState</code> in the logout response will be whatever you set it to in the request, if you set it to the desired redirect URL in the logout request, you can retrieve it again when you process the logout response.</p>\n<p>While the SAML message encoder of the SAML HTTP redirect binding ultimately adds the <code>RelayState</code> parameter to the logout request made to the IDP, it grabs the value from the <code>org.opensaml.common.binding.SAMLMessageContext</code> of the logout request. You can set the value of the <code>RelayState</code> in the SAML message context for logout requests by extending the <code>org.springframework.security.saml.websso.SingleLogoutProfileImpl</code> class and overriding the\n<code>sendLogoutRequest</code> method, which has access to both the original HTTP request and the SAML message context.</p>\n<p>Assuming you're supplying the redirect URL using the <code>redirect</code> parameter, that code looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void sendLogoutRequest(final SAMLMessageContext context, final SAMLCredential credential)\n    throws SAMLException, MetadataProviderException, MessageEncodingException\n{\n    if (context.getInboundMessageTransport() instanceof HttpServletRequestAdapter) {\n        Optional\n            .ofNullable (((HttpServletRequestAdapter)context.getInboundMessageTransport()).getParameterValue(&quot;redirect&quot;))\n            .flatMap    (it -&gt; Strings.isBlank(it) ? Optional.empty() : Optional.of(it))\n            .ifPresent  (context::setRelayState);\n    }\n    super.sendLogoutRequest(context, credential);\n}\n</code></pre>\n<p>Then, your logout success handler can be configured to redirect to the value determined from either the <code>redirect</code> or the <code>RelayState</code> parameter of the HTTP request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onLogoutSuccess(\n    final HttpServletRequest  request,\n    final HttpServletResponse response,\n    final Authentication      authentication\n) throws IOException, ServletException {\n    if (authentication != null &amp;&amp; authentication.getDetails() != null) {\n        try {\n            request.getSession().invalidate();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Set the Server Status\n    response.setStatus(HttpServletResponse.SC_OK);\n\n    // Decide where to redirect\n    final String redirectParameterValue   = request.getParameter(&quot;redirect&quot;);\n    final String relayStateParameterValue = request.getParameter(&quot;RelayState&quot;);\n    if (redirectParameterValue != null &amp;&amp; !redirectParameterValue.isEmpty()) {\n        response.sendRedirect(redirectParameterValue);\n    } else if (relayStateParameterValue != null &amp;&amp; !relayStateParameterValue.isEmpty()) {\n        response.sendRedirect(relayStateParameterValue);\n    } else {\n        response.sendRedirect(&quot;/oidc/&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675370290,"creation_date":1675169035,"answer_id":75297345,"question_id":45798251,"body_markdown":"If you omit the logout confirmation screen you can get the parameters directly by doing this:\r\n```\r\n.logout()\r\n.logoutSuccessHandler(customLogoutSuccessHandler)\r\n.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;));\r\n```\r\nThe in the `CustomLogoutSuccessHandler` you will see any parameters in the URL.\r\n\r\nThe problem is the screen in the &quot;middle&quot;.","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<p>If you omit the logout confirmation screen you can get the parameters directly by doing this:</p>\n<pre><code>.logout()\n.logoutSuccessHandler(customLogoutSuccessHandler)\n.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;));\n</code></pre>\n<p>The in the <code>CustomLogoutSuccessHandler</code> you will see any parameters in the URL.</p>\n<p>The problem is the screen in the &quot;middle&quot;.</p>\n"}],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45819160,"answer_count":3,"score":1,"last_activity_date":1675370290,"creation_date":1503321718,"question_id":45798251,"body_markdown":"&gt; The server i am deploying is this\r\n&gt; https://github.com/OpenConext/OpenConext-oidc , i am extending it&#39;s\r\n&gt; logout capabilities , (`Logout` etc).\r\n\r\nNow i have a request ,  the logout is done using  :\r\n`http:/www.example.com:8080/server app/saml/logout` ,\r\n\r\n i want to add parameters on the URL like this . `http:/www.example.com:8080/server app/saml/logout?value=www.youtube.com` , so i can redirect to different pages the user .\r\n\r\n---\r\nFor that purpose i have created a custom **CustomLogoutSuccessHandler** :\r\n\r\n    public class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\r\n    \r\n        @Override\r\n        public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse httpServletResponse, Authentication authentication) throws IOException, ServletException {\r\n            if (authentication != null &amp;&amp; authentication.getDetails() != null) {\r\n                try {\r\n                    request.getSession().invalidate();\r\n                    System.out.println(&quot;User Successfully Logout&quot;);\r\n                    //you can add more codes here when the user successfully logs out,\r\n                    //such as updating the database for last active.\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            //Set the Server Status\r\n            httpServletResponse.setStatus(HttpServletResponse.SC_OK);\r\n    \r\n            //redirect to login\r\n            String queryString = request.getParameter(&quot;value&quot;);\r\n    \r\n            //Check if no parameters have been passed\r\n            if (queryString == null) {\r\n                httpServletResponse.sendRedirect(&quot;http://www.youtube.com&quot;);\r\n            } else {\r\n                httpServletResponse.sendRedirect(&quot;http://www.&quot; + queryString + &quot;.com&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**The problem is that the `request.getParameter(&quot;value&quot;);` always returns null! Why that happens ? I am catching too late the URL or what?**\r\n\r\n**I am always getting back the url `http:/www.example.com:8080/server app/saml/SingleLogout**\r\n\r\n\r\n---\r\n\r\nOn the user-context.xml (Logout is defined like this)(it works here there is no problem).\r\n\r\n    ...\r\n    \r\n    &lt;!-- Filters for processing of SAML messages --&gt;\r\n        &lt;bean id=&quot;samlFilter&quot; class=&quot;org.springframework.security.web.FilterChainProxy&quot;&gt;\r\n            &lt;security:filter-chain-map request-matcher=&quot;ant&quot;&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/login/**&quot; filters=&quot;samlEntryPoint&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/logout/**&quot; filters=&quot;samlLogoutFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/metadata/**&quot; filters=&quot;metadataDisplayFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSO/**&quot; filters=&quot;samlWebSSOProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SSOHoK/**&quot; filters=&quot;samlWebSSOHoKProcessingFilter&quot;/&gt;\r\n                &lt;security:filter-chain pattern=&quot;/saml/SingleLogout/**&quot; filters=&quot;samlLogoutProcessingFilter&quot;/&gt;\r\n            &lt;/security:filter-chain-map&gt;\r\n        &lt;/bean&gt;\r\n    \r\n    !-- Handler for successful logout --&gt;\r\n        &lt;bean id=&quot;successLogoutHandler&quot; class=&quot;oidc.security.CustomLogoutSuccessHandler&quot;&gt;&lt;/bean&gt;\r\n    \r\n    ...","title":"Pass URL Parameters to Spring Security custom LogoutSuccessHandler","body":"<blockquote>\n  <p>The server i am deploying is this\n  <a href=\"https://github.com/OpenConext/OpenConext-oidc\" rel=\"nofollow noreferrer\">https://github.com/OpenConext/OpenConext-oidc</a> , i am extending it's\n  logout capabilities , (<code>Logout</code> etc).</p>\n</blockquote>\n\n<p>Now i have a request ,  the logout is done using  :\n<code>http:/www.example.com:8080/server app/saml/logout</code> ,</p>\n\n<p>i want to add parameters on the URL like this . <code>http:/www.example.com:8080/server app/saml/logout?value=www.youtube.com</code> , so i can redirect to different pages the user .</p>\n\n<hr>\n\n<p>For that purpose i have created a custom <strong>CustomLogoutSuccessHandler</strong> :</p>\n\n<pre><code>public class CustomLogoutSuccessHandler implements LogoutSuccessHandler {\n\n    @Override\n    public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse httpServletResponse, Authentication authentication) throws IOException, ServletException {\n        if (authentication != null &amp;&amp; authentication.getDetails() != null) {\n            try {\n                request.getSession().invalidate();\n                System.out.println(\"User Successfully Logout\");\n                //you can add more codes here when the user successfully logs out,\n                //such as updating the database for last active.\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n\n        //Set the Server Status\n        httpServletResponse.setStatus(HttpServletResponse.SC_OK);\n\n        //redirect to login\n        String queryString = request.getParameter(\"value\");\n\n        //Check if no parameters have been passed\n        if (queryString == null) {\n            httpServletResponse.sendRedirect(\"http://www.youtube.com\");\n        } else {\n            httpServletResponse.sendRedirect(\"http://www.\" + queryString + \".com\");\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>The problem is that the <code>request.getParameter(\"value\");</code> always returns null! Why that happens ? I am catching too late the URL or what?</strong></p>\n\n<p><strong>I am always getting back the url `http:/www.example.com:8080/server app/saml/SingleLogout</strong></p>\n\n<hr>\n\n<p>On the user-context.xml (Logout is defined like this)(it works here there is no problem).</p>\n\n<pre><code>...\n\n&lt;!-- Filters for processing of SAML messages --&gt;\n    &lt;bean id=\"samlFilter\" class=\"org.springframework.security.web.FilterChainProxy\"&gt;\n        &lt;security:filter-chain-map request-matcher=\"ant\"&gt;\n            &lt;security:filter-chain pattern=\"/saml/login/**\" filters=\"samlEntryPoint\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/logout/**\" filters=\"samlLogoutFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/metadata/**\" filters=\"metadataDisplayFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSO/**\" filters=\"samlWebSSOProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SSOHoK/**\" filters=\"samlWebSSOHoKProcessingFilter\"/&gt;\n            &lt;security:filter-chain pattern=\"/saml/SingleLogout/**\" filters=\"samlLogoutProcessingFilter\"/&gt;\n        &lt;/security:filter-chain-map&gt;\n    &lt;/bean&gt;\n\n!-- Handler for successful logout --&gt;\n    &lt;bean id=\"successLogoutHandler\" class=\"oidc.security.CustomLogoutSuccessHandler\"&gt;&lt;/bean&gt;\n\n...\n</code></pre>\n"},{"tags":["java","jndi","java-annotations"],"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675369886,"creation_date":1675369886,"question_id":75328623,"body_markdown":"Can I capture exceptions from resources looked up via @Resource?   In the example below, a resource is being looked up via JNDI.  There may not be a JNDI when running the app locally so I want to add an exception handler to capture this &amp; create the data source another way.\r\n\r\n\t@Resource(lookup=&quot;jdbc/ds_demo&quot;,\r\n\t\t\tdescription=&quot;Primary DataSource&quot;, \r\n\t\t\tauthenticationType=AuthenticationType.CONTAINER, \r\n\t\t\tshareable=false,\r\n\t\t\tmappedName=&quot;ds_demo&quot;)\r\n\tprivate DataSource primaryDataSource;","title":"How to handle exceptions with @Resource (javax.annotation.resource)","body":"<p>Can I capture exceptions from resources looked up via @Resource?   In the example below, a resource is being looked up via JNDI.  There may not be a JNDI when running the app locally so I want to add an exception handler to capture this &amp; create the data source another way.</p>\n<pre><code>@Resource(lookup=&quot;jdbc/ds_demo&quot;,\n        description=&quot;Primary DataSource&quot;, \n        authenticationType=AuthenticationType.CONTAINER, \n        shareable=false,\n        mappedName=&quot;ds_demo&quot;)\nprivate DataSource primaryDataSource;\n</code></pre>\n"},{"tags":["java","json","spring","hibernate","jackson"],"comments":[{"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"score":0,"creation_date":1675369415,"post_id":75328390,"comment_id":132920080,"body_markdown":"In order to print array you need to use `Arrays.toString()` method. For example: `&quot;, columnHeaders=&quot; + Arrays.toString(columnHeaders) +`","body":"In order to print array you need to use <code>Arrays.toString()</code> method. For example: <code>&quot;, columnHeaders=&quot; + Arrays.toString(columnHeaders) +</code>"}],"answers":[{"comments":[{"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"score":1,"creation_date":1675369295,"post_id":75328522,"comment_id":132920055,"body_markdown":"`ColumnHeader.toString()` is already implemented.","body":"<code>ColumnHeader.toString()</code> is already implemented."},{"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"score":1,"creation_date":1675369554,"post_id":75328522,"comment_id":132920120,"body_markdown":"You&#39;re right in that the array is valid.  I get the expected response when I add logger.info(&quot;Column Headers Array: &quot; + Arrays.toString(budgetEffortResponse.getColumnHeaders())); to the main method. I&#39;m having issues with a similar array and thought that the fact that I was getting a reference to the array instead of the values was the issue. I will update the question.","body":"You&#39;re right in that the array is valid.  I get the expected response when I add logger.info(&quot;Column Headers Array: &quot; + Arrays.toString(budgetEffortResponse.getColumnHeaders())); to the main method. I&#39;m having issues with a similar array and thought that the fact that I was getting a reference to the array instead of the values was the issue. I will update the question."},{"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"score":0,"creation_date":1675369866,"post_id":75328522,"comment_id":132920221,"body_markdown":"I have updated my answer - the update should work.","body":"I have updated my answer - the update should work."}],"tags":[],"owner":{"account_id":1642450,"reputation":481,"user_id":1514647,"display_name":"luckyluke"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675369828,"creation_date":1675368997,"answer_id":75328522,"question_id":75328390,"body_markdown":"The response you get is ok. And also the Array is good. The line \r\n\r\n```\r\nlogger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\r\n```\r\n\r\nuses an indirect cast to String of the Object budgetEffortResponse. In this case all `toString()` methods of the objects are called. What you need to do in order to print out the Objects is to implement/add the `toString()` method in the class `com.example.etl.entity.budgetEffort.ColumnHeader` \r\n\r\nUpdate:\r\n--------\r\nAs the toString method is already implemented, the above is partially wrong. But there is a way to use a setting of the ObjectMapper:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\n// pretty print\r\nString json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(budgetEffortResponse);\r\nlogger.info(&quot;BudgetEffortResponse: &quot; + json);\r\n```","title":"How do I get an array value instead of reference from ObjectMapper in Jackson?","body":"<p>The response you get is ok. And also the Array is good. The line</p>\n<pre><code>logger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\n</code></pre>\n<p>uses an indirect cast to String of the Object budgetEffortResponse. In this case all <code>toString()</code> methods of the objects are called. What you need to do in order to print out the Objects is to implement/add the <code>toString()</code> method in the class <code>com.example.etl.entity.budgetEffort.ColumnHeader</code></p>\n<h2>Update:</h2>\n<p>As the toString method is already implemented, the above is partially wrong. But there is a way to use a setting of the ObjectMapper:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n// pretty print\nString json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(budgetEffortResponse);\nlogger.info(&quot;BudgetEffortResponse: &quot; + json);\n</code></pre>\n"}],"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75328522,"answer_count":1,"score":1,"last_activity_date":1675369828,"creation_date":1675368202,"question_id":75328390,"body_markdown":"I am trying to get a result from an API response and am able to map everything except for columnHeaders, which is an array of ColumnHeaders.  I am instead getting a reference to an array.  The code is below.\r\n\r\n\r\nResponse Class\r\n\r\n```\r\npublic class Response {\r\n\r\n    @JsonProperty(&quot;searchApiFormatVersion&quot;)\r\n    private String searchApiFormatVersion;\r\n\r\n    @JsonProperty(&quot;searchName&quot;)\r\n    private String searchName;\r\n\r\n    @JsonProperty(&quot;description&quot;)\r\n    private String description;\r\n\r\n    @JsonProperty(&quot;columnHeaders&quot;)\r\n    private ColumnHeader[] columnHeaders;\r\n\r\npublic Response(String searchApiFormatVersion, String searchName, String description,\r\n                    ColumnHeader[] columnHeaders) {\r\n        this.searchApiFormatVersion = searchApiFormatVersion;\r\n        this.searchName = searchName;\r\n        this.description = description;\r\n        this.columnHeaders = columnHeaders;\r\n    }\r\n\r\n    public Response(){\r\n\r\n    }\r\n\r\n    public String getSearchApiFormatVersion() {\r\n        return searchApiFormatVersion;\r\n    }\r\n\r\n    public void setSearchApiFormatVersion(String searchApiFormatVersion) {\r\n        this.searchApiFormatVersion = searchApiFormatVersion;\r\n    }\r\n\r\n    public String getSearchName() {\r\n        return searchName;\r\n    }\r\n\r\n    public void setSearchName(String searchName) {\r\n        this.searchName = searchName;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    \r\n    public ColumnHeader[] getColumnHeaders() {\r\n        return columnHeaders;\r\n    }\r\n\r\n    public void setColumnHeaders(ColumnHeader[] columnHeaders) {\r\n        this.columnHeaders = columnHeaders;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Response{&quot; +\r\n                &quot;searchApiFormatVersion=&#39;&quot; + searchApiFormatVersion + &#39;\\&#39;&#39; +\r\n                &quot;, searchName=&#39;&quot; + searchName + &#39;\\&#39;&#39; +\r\n                &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                &quot;, totalRowCount=&quot; + totalRowCount +\r\n                &quot;, returnedRowCount=&quot; + returnedRowCount +\r\n                &quot;, startingReturnedRowNumber=&quot; + startingReturnedRowNumber +\r\n                &quot;, basetype=&#39;&quot; + basetype + &#39;\\&#39;&#39; +\r\n                &quot;, columnCount=&quot; + columnCount +\r\n                &quot;, columnHeaders=&quot; + columnHeaders +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\nColumnHeader class\r\n\r\n\r\n```\r\npublic class ColumnHeader {\r\n\r\n    @JsonProperty(&quot;text&quot;)\r\n    private String text;\r\n\r\n    @JsonProperty(&quot;dataType&quot;)\r\n    private String dataType;\r\n\r\n    @JsonProperty(&quot;hierarchy&quot;)\r\n    private int hierarchy;\r\n\r\n    @JsonProperty(&quot;parentName&quot;)\r\n    private String parentName;\r\n\r\n    @JsonProperty(&quot;isEntity&quot;)\r\n    private Boolean isEntity;\r\n\r\n    @JsonProperty(&quot;isEset&quot;)\r\n    private Boolean isEset;\r\n\r\n    public ColumnHeader(String text, String dataType, int hierarchy, String parentName, Boolean isEntity, Boolean isEset) {\r\n        this.text = text;\r\n        this.dataType = dataType;\r\n        this.hierarchy = hierarchy;\r\n        this.parentName = parentName;\r\n        this.isEntity = isEntity;\r\n        this.isEset = isEset;\r\n    }\r\n\r\n    public ColumnHeader(){\r\n\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getDataType() {\r\n        return dataType;\r\n    }\r\n\r\n    public void setDataType(String dataType) {\r\n        this.dataType = dataType;\r\n    }\r\n\r\n    public int getHierarchy() {\r\n        return hierarchy;\r\n    }\r\n\r\n    public void setHierarchy(int hierarchy) {\r\n        this.hierarchy = hierarchy;\r\n    }\r\n\r\n    public String getParentName() {\r\n        return parentName;\r\n    }\r\n\r\n    public void setParentName(String parentName) {\r\n        this.parentName = parentName;\r\n    }\r\n\r\n    public Boolean getEntity() {\r\n        return isEntity;\r\n    }\r\n\r\n    public void setEntity(Boolean entity) {\r\n        isEntity = entity;\r\n    }\r\n\r\n    public Boolean getEset() {\r\n        return isEset;\r\n    }\r\n\r\n    public void setEset(Boolean eset) {\r\n        isEset = eset;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ColumnHeader{&quot; +\r\n                &quot;text=&#39;&quot; + text + &#39;\\&#39;&#39; +\r\n                &quot;, dataType=&#39;&quot; + dataType + &#39;\\&#39;&#39; +\r\n                &quot;, hierarchy=&quot; + hierarchy +\r\n                &quot;, parentName=&#39;&quot; + parentName + &#39;\\&#39;&#39; +\r\n                &quot;, isEntity=&quot; + isEntity +\r\n                &quot;, isEset=&quot; + isEset +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nService Class\r\n\r\n```\r\npublic class BudgetEffortResponseService {\r\n\r\n    Logger logger = LoggerFactory.getLogger(Response.class);\r\n\r\n    public Response getResponseFromStringJsonApiResponse(String stringJsonResponse) throws JsonProcessingException {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper(); //Used to map objects from JSON values specified in Award under @JsonProperty annotation\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n        JSONObject stringJsonResponseTurnedIntoJsonObject = new JSONObject(stringJsonResponse);\r\n\r\n        logger.info(&quot;stringJsonResponseTurnedIntoJsonObject: &quot; + stringJsonResponseTurnedIntoJsonObject);\r\n\r\n        return objectMapper.readValue(stringJsonResponseTurnedIntoJsonObject.toString(), Response.class);\r\n\r\n    }\r\n}\r\n```\r\n\r\nMain Class\r\n\r\n```\r\n@SpringBootApplication\r\npublic class EtlApplication {\r\n\r\n    public static final String API_USERNAME = System.getenv(&quot;API_USERNAME&quot;);\r\n    public static final String API_PASSWORD = System.getenv(&quot;API_PASSWORD&quot;);\r\n    public static final String API_PREFIX = System.getenv(&quot;API_PREFIX&quot;);\r\n    public static final String API_PATH = System.getenv(&quot;API_PATH&quot;);\r\n\r\n    public static void main(String[] args) throws URISyntaxException, JsonProcessingException {\r\n\r\n        Logger logger = LoggerFactory.getLogger(EtlApplication.class);\r\n        logger.info(&quot;--------------------Starting process--------------------&quot;);\r\n\r\n        AwardRepository awardRepository = new AwardRepository();\r\n        AwardService awardService = new AwardService();\r\n        ApiResponseRowService apiResponseRowService = new ApiResponseRowService();\r\n        ApiResponseRepository apiResponseRepository = new ApiResponseRepository();\r\n        BudgetEffortResponseService budgetEffortResponseService = new BudgetEffortResponseService();\r\n\r\n        Date startDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 1).getTime();\r\n        Date endDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 2).getTime();\r\n\r\n        logger.info(&quot;============Starting BudgetEffort API pull from Huron===============&quot;);\r\n\r\n        HttpResponse&lt;String&gt; budgetEffortHttpResponse = apiResponseRepository.getHttpResponseFromApi(startDateForApiPull,\r\n        endDateForApiPull, 1, -1, API_PREFIX, API_PATH,\r\n        API_USERNAME, API_PASSWORD);\r\n\r\n        logger.info(&quot;BudgetEffortHttpResponse: &quot; + budgetEffortHttpResponse);\r\n\r\n        logger.info(&quot;============End of BudgetEffort API pull from Huron===============&quot;);\r\n\r\n        //Get body of http response string\r\n        String budgetEffortResponseString = budgetEffortHttpResponse.body();\r\n        logger.info(&quot;BudgetEffortResponseString: &quot; + budgetEffortResponseString);\r\n\r\n        Response budgetEffortResponse = budgetEffortResponseService.getResponseFromStringJsonApiResponse(budgetEffortResponseString);\r\n\r\n        logger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\r\n\r\n        logger.info(&quot;--------------------End of process--------------------&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThe response.  I&#39;m noticing that I&#39;m getting the reference to the array for columnHeaders and not the values.  How would I get the values?  Thank you.\r\n\r\n\r\n```\r\nBudgetEffortResponse: Response{searchApiFormatVersion=&#39;1.0&#39;, searchName=&#39;Personnel Details for Authorized allocations on Active Awards&#39;, description=&#39;&#39;, columnHeaders=[Lcom.example.etl.entity.budgetEffort.ColumnHeader;@7a7471ce}\r\n```\r\n\r\n","title":"How do I get an array value instead of reference from ObjectMapper in Jackson?","body":"<p>I am trying to get a result from an API response and am able to map everything except for columnHeaders, which is an array of ColumnHeaders.  I am instead getting a reference to an array.  The code is below.</p>\n<p>Response Class</p>\n<pre><code>public class Response {\n\n    @JsonProperty(&quot;searchApiFormatVersion&quot;)\n    private String searchApiFormatVersion;\n\n    @JsonProperty(&quot;searchName&quot;)\n    private String searchName;\n\n    @JsonProperty(&quot;description&quot;)\n    private String description;\n\n    @JsonProperty(&quot;columnHeaders&quot;)\n    private ColumnHeader[] columnHeaders;\n\npublic Response(String searchApiFormatVersion, String searchName, String description,\n                    ColumnHeader[] columnHeaders) {\n        this.searchApiFormatVersion = searchApiFormatVersion;\n        this.searchName = searchName;\n        this.description = description;\n        this.columnHeaders = columnHeaders;\n    }\n\n    public Response(){\n\n    }\n\n    public String getSearchApiFormatVersion() {\n        return searchApiFormatVersion;\n    }\n\n    public void setSearchApiFormatVersion(String searchApiFormatVersion) {\n        this.searchApiFormatVersion = searchApiFormatVersion;\n    }\n\n    public String getSearchName() {\n        return searchName;\n    }\n\n    public void setSearchName(String searchName) {\n        this.searchName = searchName;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    \n    public ColumnHeader[] getColumnHeaders() {\n        return columnHeaders;\n    }\n\n    public void setColumnHeaders(ColumnHeader[] columnHeaders) {\n        this.columnHeaders = columnHeaders;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Response{&quot; +\n                &quot;searchApiFormatVersion='&quot; + searchApiFormatVersion + '\\'' +\n                &quot;, searchName='&quot; + searchName + '\\'' +\n                &quot;, description='&quot; + description + '\\'' +\n                &quot;, totalRowCount=&quot; + totalRowCount +\n                &quot;, returnedRowCount=&quot; + returnedRowCount +\n                &quot;, startingReturnedRowNumber=&quot; + startingReturnedRowNumber +\n                &quot;, basetype='&quot; + basetype + '\\'' +\n                &quot;, columnCount=&quot; + columnCount +\n                &quot;, columnHeaders=&quot; + columnHeaders +\n                '}';\n    }\n}\n\n</code></pre>\n<p>ColumnHeader class</p>\n<pre><code>public class ColumnHeader {\n\n    @JsonProperty(&quot;text&quot;)\n    private String text;\n\n    @JsonProperty(&quot;dataType&quot;)\n    private String dataType;\n\n    @JsonProperty(&quot;hierarchy&quot;)\n    private int hierarchy;\n\n    @JsonProperty(&quot;parentName&quot;)\n    private String parentName;\n\n    @JsonProperty(&quot;isEntity&quot;)\n    private Boolean isEntity;\n\n    @JsonProperty(&quot;isEset&quot;)\n    private Boolean isEset;\n\n    public ColumnHeader(String text, String dataType, int hierarchy, String parentName, Boolean isEntity, Boolean isEset) {\n        this.text = text;\n        this.dataType = dataType;\n        this.hierarchy = hierarchy;\n        this.parentName = parentName;\n        this.isEntity = isEntity;\n        this.isEset = isEset;\n    }\n\n    public ColumnHeader(){\n\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public String getDataType() {\n        return dataType;\n    }\n\n    public void setDataType(String dataType) {\n        this.dataType = dataType;\n    }\n\n    public int getHierarchy() {\n        return hierarchy;\n    }\n\n    public void setHierarchy(int hierarchy) {\n        this.hierarchy = hierarchy;\n    }\n\n    public String getParentName() {\n        return parentName;\n    }\n\n    public void setParentName(String parentName) {\n        this.parentName = parentName;\n    }\n\n    public Boolean getEntity() {\n        return isEntity;\n    }\n\n    public void setEntity(Boolean entity) {\n        isEntity = entity;\n    }\n\n    public Boolean getEset() {\n        return isEset;\n    }\n\n    public void setEset(Boolean eset) {\n        isEset = eset;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ColumnHeader{&quot; +\n                &quot;text='&quot; + text + '\\'' +\n                &quot;, dataType='&quot; + dataType + '\\'' +\n                &quot;, hierarchy=&quot; + hierarchy +\n                &quot;, parentName='&quot; + parentName + '\\'' +\n                &quot;, isEntity=&quot; + isEntity +\n                &quot;, isEset=&quot; + isEset +\n                '}';\n    }\n}\n</code></pre>\n<p>Service Class</p>\n<pre><code>public class BudgetEffortResponseService {\n\n    Logger logger = LoggerFactory.getLogger(Response.class);\n\n    public Response getResponseFromStringJsonApiResponse(String stringJsonResponse) throws JsonProcessingException {\n\n        ObjectMapper objectMapper = new ObjectMapper(); //Used to map objects from JSON values specified in Award under @JsonProperty annotation\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n        JSONObject stringJsonResponseTurnedIntoJsonObject = new JSONObject(stringJsonResponse);\n\n        logger.info(&quot;stringJsonResponseTurnedIntoJsonObject: &quot; + stringJsonResponseTurnedIntoJsonObject);\n\n        return objectMapper.readValue(stringJsonResponseTurnedIntoJsonObject.toString(), Response.class);\n\n    }\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>@SpringBootApplication\npublic class EtlApplication {\n\n    public static final String API_USERNAME = System.getenv(&quot;API_USERNAME&quot;);\n    public static final String API_PASSWORD = System.getenv(&quot;API_PASSWORD&quot;);\n    public static final String API_PREFIX = System.getenv(&quot;API_PREFIX&quot;);\n    public static final String API_PATH = System.getenv(&quot;API_PATH&quot;);\n\n    public static void main(String[] args) throws URISyntaxException, JsonProcessingException {\n\n        Logger logger = LoggerFactory.getLogger(EtlApplication.class);\n        logger.info(&quot;--------------------Starting process--------------------&quot;);\n\n        AwardRepository awardRepository = new AwardRepository();\n        AwardService awardService = new AwardService();\n        ApiResponseRowService apiResponseRowService = new ApiResponseRowService();\n        ApiResponseRepository apiResponseRepository = new ApiResponseRepository();\n        BudgetEffortResponseService budgetEffortResponseService = new BudgetEffortResponseService();\n\n        Date startDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 1).getTime();\n        Date endDateForApiPull = new GregorianCalendar(2023, Calendar.FEBRUARY, 2).getTime();\n\n        logger.info(&quot;============Starting BudgetEffort API pull from Huron===============&quot;);\n\n        HttpResponse&lt;String&gt; budgetEffortHttpResponse = apiResponseRepository.getHttpResponseFromApi(startDateForApiPull,\n        endDateForApiPull, 1, -1, API_PREFIX, API_PATH,\n        API_USERNAME, API_PASSWORD);\n\n        logger.info(&quot;BudgetEffortHttpResponse: &quot; + budgetEffortHttpResponse);\n\n        logger.info(&quot;============End of BudgetEffort API pull from Huron===============&quot;);\n\n        //Get body of http response string\n        String budgetEffortResponseString = budgetEffortHttpResponse.body();\n        logger.info(&quot;BudgetEffortResponseString: &quot; + budgetEffortResponseString);\n\n        Response budgetEffortResponse = budgetEffortResponseService.getResponseFromStringJsonApiResponse(budgetEffortResponseString);\n\n        logger.info(&quot;BudgetEffortResponse: &quot; + budgetEffortResponse);\n\n        logger.info(&quot;--------------------End of process--------------------&quot;);\n    }\n\n}\n</code></pre>\n<p>The response.  I'm noticing that I'm getting the reference to the array for columnHeaders and not the values.  How would I get the values?  Thank you.</p>\n<pre><code>BudgetEffortResponse: Response{searchApiFormatVersion='1.0', searchName='Personnel Details for Authorized allocations on Active Awards', description='', columnHeaders=[Lcom.example.etl.entity.budgetEffort.ColumnHeader;@7a7471ce}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception"],"owner":{"account_id":3971224,"reputation":447,"user_id":3275784,"accept_rate":50,"display_name":"user3275784"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675369245,"creation_date":1675369245,"question_id":75328551,"body_markdown":"I&#39;m writing a simple online shop using spring boot, for learning purposes. Right now I have purchasing-service and a product-service. The purchasing-service makes requests to the product-service via REST APIs for querying for product information. All of this is working, but I&#39;m unclear on if I&#39;m using exceptions correctly within the product-service.\r\n\r\nI have an endpoint in my controller called retrieveProductById that retrieves information about a product given the product id. This id is passed to a service, which then uses a repository to look up the product in the database and return the product information. If the product id does not exist in the database, it throws a ProductDoesNotExistException. This is then handled by an ErrorHandlerControllerAdvice class that simply returns a 400 bad request response with the erorr message to the caller.\r\n\r\n**My question is:** should my ProductDoesNotExistException be checked, or unchecked? To me, it makes sense for it to be checked, because as a developer or even a consumer of the API, you can clearly infer that if you give an invalid product id to the API, it will throw a ProductDoesNotExistException. If I change the exception to be unchecked, this is not as clear, as the IDE does not enforce me to explicitly add a throws ProductDoesNotExistException to the method signature.\r\n\r\nSo what would be the correct approach here? I do feel like it almost doesn&#39;t matter which I choose, as the controller advice class will handle the exception regardless of the type when it is thrown, so is the decision just a matter of preference on the developer part? See code below:\r\n\r\nController\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/products&quot;)\r\n    @Slf4j\r\n    public class ProductController {\r\n    \r\n        private final ProductService productService;\r\n        private final RestApiResponseFactory restApiResponseFactory;\r\n    \r\n        public ProductController(final ProductService productService,\r\n                final RestApiResponseFactory restApiResponseFactory) {\r\n            this.productService = productService;\r\n            this.restApiResponseFactory = restApiResponseFactory;\r\n        }\r\n    \r\n    \r\n        @GetMapping(&quot;/{productId}&quot;)\r\n        public ResponseEntity&lt;RestApiResponse&lt;ProductVO&gt;&gt; retrieveProductById(\r\n                @PathVariable final String productId) throws ProductDoesNotExistException {\r\n            log.info(&quot;Request made to find product {}&quot;, productId);\r\n            final ProductVO productVO = this.productService.retrieveProductById(\r\n                    Integer.parseInt(productId));\r\n            return ResponseEntity.ok(this.restApiResponseFactory.createSuccessResponse(productVO));\r\n        }\r\n    }\r\n\r\nService\r\n\r\n    @Service\r\n    @Slf4j\r\n    public class ProductService {\r\n    \r\n        private final ProductRepository productRepository;\r\n    \r\n        public ProductService(final ProductRepository productRepository) {\r\n            this.productRepository = productRepository;\r\n        }\r\n    \r\n        public ProductVO retrieveProductById(final int productId) throws ProductDoesNotExistException {\r\n            final Product product = findProductById(productId).orElseThrow(\r\n                    () -&gt; new ProductDoesNotExistException(productId));\r\n            return new ProductVO(product);\r\n        }\r\n    \r\n        private Optional&lt;Product&gt; findProductById(final int productId) {\r\n            return this.productRepository.findById(productId);\r\n        }\r\n    \r\n    }\r\n\r\nException\r\n\r\n    public class ProductDoesNotExistException extends Exception {\r\n    \r\n        public ProductDoesNotExistException(final int productId) {\r\n            super(&quot;No product with Product ID &quot; + productId + &quot; exists&quot;);\r\n        }\r\n    }\r\n\r\nError handler\r\n\r\n    @ControllerAdvice\r\n    public class ErrorHandlerControllerAdvice {\r\n    \r\n        private final RestApiResponseFactory restApiResponseFactory;\r\n    \r\n        public ErrorHandlerControllerAdvice(final RestApiResponseFactory restApiResponseFactory) {\r\n            this.restApiResponseFactory = restApiResponseFactory;\r\n        }\r\n    \r\n        /**\r\n         * Return 400 if a product does not exist\r\n         */\r\n        @ExceptionHandler(ProductDoesNotExistException.class)\r\n        public ResponseEntity&lt;RestApiResponse&gt; handleProductDoesNotExistException(\r\n                final ProductDoesNotExistException e) {\r\n            return ResponseEntity.badRequest()\r\n                    .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\r\n        }\r\n    \r\n        /**\r\n         * Catch all exception handler. In case any exceptions slip through the cracks, we want to\r\n         * return a 500\r\n         *\r\n         * @param e the exception\r\n         * @return\r\n         */\r\n        @ExceptionHandler(Exception.class)\r\n        public ResponseEntity&lt;RestApiResponse&gt; handleGeneralException(final Exception e) {\r\n            return ResponseEntity.internalServerError()\r\n                    .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\r\n        }\r\n    \r\n    }","title":"Should my custom exception be checked or unchecked in my spring boot application","body":"<p>I'm writing a simple online shop using spring boot, for learning purposes. Right now I have purchasing-service and a product-service. The purchasing-service makes requests to the product-service via REST APIs for querying for product information. All of this is working, but I'm unclear on if I'm using exceptions correctly within the product-service.</p>\n<p>I have an endpoint in my controller called retrieveProductById that retrieves information about a product given the product id. This id is passed to a service, which then uses a repository to look up the product in the database and return the product information. If the product id does not exist in the database, it throws a ProductDoesNotExistException. This is then handled by an ErrorHandlerControllerAdvice class that simply returns a 400 bad request response with the erorr message to the caller.</p>\n<p><strong>My question is:</strong> should my ProductDoesNotExistException be checked, or unchecked? To me, it makes sense for it to be checked, because as a developer or even a consumer of the API, you can clearly infer that if you give an invalid product id to the API, it will throw a ProductDoesNotExistException. If I change the exception to be unchecked, this is not as clear, as the IDE does not enforce me to explicitly add a throws ProductDoesNotExistException to the method signature.</p>\n<p>So what would be the correct approach here? I do feel like it almost doesn't matter which I choose, as the controller advice class will handle the exception regardless of the type when it is thrown, so is the decision just a matter of preference on the developer part? See code below:</p>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/products&quot;)\n@Slf4j\npublic class ProductController {\n\n    private final ProductService productService;\n    private final RestApiResponseFactory restApiResponseFactory;\n\n    public ProductController(final ProductService productService,\n            final RestApiResponseFactory restApiResponseFactory) {\n        this.productService = productService;\n        this.restApiResponseFactory = restApiResponseFactory;\n    }\n\n\n    @GetMapping(&quot;/{productId}&quot;)\n    public ResponseEntity&lt;RestApiResponse&lt;ProductVO&gt;&gt; retrieveProductById(\n            @PathVariable final String productId) throws ProductDoesNotExistException {\n        log.info(&quot;Request made to find product {}&quot;, productId);\n        final ProductVO productVO = this.productService.retrieveProductById(\n                Integer.parseInt(productId));\n        return ResponseEntity.ok(this.restApiResponseFactory.createSuccessResponse(productVO));\n    }\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\n@Slf4j\npublic class ProductService {\n\n    private final ProductRepository productRepository;\n\n    public ProductService(final ProductRepository productRepository) {\n        this.productRepository = productRepository;\n    }\n\n    public ProductVO retrieveProductById(final int productId) throws ProductDoesNotExistException {\n        final Product product = findProductById(productId).orElseThrow(\n                () -&gt; new ProductDoesNotExistException(productId));\n        return new ProductVO(product);\n    }\n\n    private Optional&lt;Product&gt; findProductById(final int productId) {\n        return this.productRepository.findById(productId);\n    }\n\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>public class ProductDoesNotExistException extends Exception {\n\n    public ProductDoesNotExistException(final int productId) {\n        super(&quot;No product with Product ID &quot; + productId + &quot; exists&quot;);\n    }\n}\n</code></pre>\n<p>Error handler</p>\n<pre><code>@ControllerAdvice\npublic class ErrorHandlerControllerAdvice {\n\n    private final RestApiResponseFactory restApiResponseFactory;\n\n    public ErrorHandlerControllerAdvice(final RestApiResponseFactory restApiResponseFactory) {\n        this.restApiResponseFactory = restApiResponseFactory;\n    }\n\n    /**\n     * Return 400 if a product does not exist\n     */\n    @ExceptionHandler(ProductDoesNotExistException.class)\n    public ResponseEntity&lt;RestApiResponse&gt; handleProductDoesNotExistException(\n            final ProductDoesNotExistException e) {\n        return ResponseEntity.badRequest()\n                .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\n    }\n\n    /**\n     * Catch all exception handler. In case any exceptions slip through the cracks, we want to\n     * return a 500\n     *\n     * @param e the exception\n     * @return\n     */\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;RestApiResponse&gt; handleGeneralException(final Exception e) {\n        return ResponseEntity.internalServerError()\n                .body(restApiResponseFactory.createErrorResponse(e.getMessage()));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","git","maven"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675362159,"post_id":75327377,"comment_id":132918055,"body_markdown":"You mean `git mv`? What specific problem are you having?","body":"You mean <code>git mv</code>? What specific problem are you having?"},{"owner":{"account_id":6098218,"reputation":707,"user_id":4758320,"accept_rate":72,"display_name":"Dev Anand Sadasivam"},"score":0,"creation_date":1675362207,"post_id":75327377,"comment_id":132918065,"body_markdown":"I&#39;ve tried executing `git mv src/ src/main/`. But I have got a error like,- `fatal: can not move directory into itself, source=src, destination=src/main`","body":"I&#39;ve tried executing <code>git mv src&#47; src&#47;main&#47;</code>. But I have got a error like,- <code>fatal: can not move directory into itself, source=src, destination=src&#47;main</code>"}],"answers":[{"comments":[{"owner":{"account_id":6098218,"reputation":707,"user_id":4758320,"accept_rate":72,"display_name":"Dev Anand Sadasivam"},"score":0,"creation_date":1675371195,"post_id":75328550,"comment_id":132920575,"body_markdown":"After this I did `git add *`, `git commit -m &quot;my comment&quot;`, `git pull` and `git push`. So it had been checked-in successfully!","body":"After this I did <code>git add *</code>, <code>git commit -m &quot;my comment&quot;</code>, <code>git pull</code> and <code>git push</code>. So it had been checked-in successfully!"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1675371550,"post_id":75328550,"comment_id":132920691,"body_markdown":"@DevAnandSadasivam Well done! Don&#39;t forget that git add is used with a dot, not &#39;`*`&#39;. See &quot;**[Difference between `.` (dot) and `*` (asterisk) wildcards in git](https://stackoverflow.com/a/53509019/6309)**&quot;.","body":"@DevAnandSadasivam Well done! Don&#39;t forget that git add is used with a dot, not &#39;<code>*</code>&#39;. See &quot;<b><a href=\"https://stackoverflow.com/a/53509019/6309\">Difference between <code>.</code> (dot) and <code>*</code> (asterisk) wildcards in git</a></b>&quot;."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675369239,"creation_date":1675369239,"answer_id":75328550,"question_id":75327377,"body_markdown":"You might need to move the content of `src/` rather than src/ itself\r\n\r\n```bash\r\ncd src\r\nmkdir main\r\ngit mv -k * ./main/\r\n```\r\n\r\nOn the [`git mv -k` option][1], see &quot;[Move all files of a git directory into subdirectory and maintain history][2]&quot;\r\n\r\n\r\n  [1]: https://git-scm.com/docs/git-mv#Documentation/git-mv.txt--k\r\n  [2]: https://stackoverflow.com/a/35201800/6309","title":"How to move git repository folder into new folder like,- src/* to src/main/* for converting Eclipse based Java Application to Maven Project","body":"<p>You might need to move the content of <code>src/</code> rather than src/ itself</p>\n<pre class=\"lang-bash prettyprint-override\"><code>cd src\nmkdir main\ngit mv -k * ./main/\n</code></pre>\n<p>On the <a href=\"https://git-scm.com/docs/git-mv#Documentation/git-mv.txt--k\" rel=\"nofollow noreferrer\"><code>git mv -k</code> option</a>, see &quot;<a href=\"https://stackoverflow.com/a/35201800/6309\">Move all files of a git directory into subdirectory and maintain history</a>&quot;</p>\n"}],"owner":{"account_id":6098218,"reputation":707,"user_id":4758320,"accept_rate":72,"display_name":"Dev Anand Sadasivam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75328550,"answer_count":1,"score":0,"last_activity_date":1675369239,"creation_date":1675361961,"question_id":75327377,"body_markdown":"I am in the process making my Java application Maven-based.\r\n\r\nSo I have to move my `src/*` into `src/main/*`.\r\n\r\nPlease help me out with the `git` commands.","title":"How to move git repository folder into new folder like,- src/* to src/main/* for converting Eclipse based Java Application to Maven Project","body":"<p>I am in the process making my Java application Maven-based.</p>\n<p>So I have to move my <code>src/*</code> into <code>src/main/*</code>.</p>\n<p>Please help me out with the <code>git</code> commands.</p>\n"},{"tags":["java","intellij-idea","glassfish","payara"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1530870322,"post_id":51207430,"comment_id":89395817,"body_markdown":"This has no relation to IntelliJ IDEA since the port of the externally started server is not accepting the connections.","body":"This has no relation to IntelliJ IDEA since the port of the externally started server is not accepting the connections."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1530870769,"post_id":51207430,"comment_id":89396125,"body_markdown":"*Debug* checkbox is disabled in your server settings according to the provided screenshot, therefore the server is not listening for the debugger on port 9009.","body":"<i>Debug</i> checkbox is disabled in your server settings according to the provided screenshot, therefore the server is not listening for the debugger on port 9009."},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1530870776,"post_id":51207430,"comment_id":89396129,"body_markdown":"@CrazyCoder - thanks, the reason I mention IntelliJ, is because I only started getting this error after I enabled HotSwap in IntelliJ. Now I get the error even if I don&#39;t use the HotSwap config.","body":"@CrazyCoder - thanks, the reason I mention IntelliJ, is because I only started getting this error after I enabled HotSwap in IntelliJ. Now I get the error even if I don&#39;t use the HotSwap config."},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1530871645,"post_id":51207430,"comment_id":89396702,"body_markdown":"@CrazyCoder - thanks I will enable it, and try.","body":"@CrazyCoder - thanks I will enable it, and try."},{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":1,"creation_date":1531207902,"post_id":51207430,"comment_id":89497313,"body_markdown":"It seems something is blocking the 9009 port. Try setting the debug port to something else, e.g. 9019 in both Payara Server and IntelliJ settings.","body":"It seems something is blocking the 9009 port. Try setting the debug port to something else, e.g. 9019 in both Payara Server and IntelliJ settings."}],"answers":[{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539116640,"creation_date":1539077520,"answer_id":52717704,"question_id":51207430,"body_markdown":" 1. In glassfish\\domains\\domain1\\config\\domain.xml :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n&quot; java-home=&quot;C:\\Program Files\\Java\\jdk1.8.0_162&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nor in http://localhost:4848/common/index.jsf\r\n[![Glassfish 4 debug-enabled=&quot;true&quot; address=9009,server=y,suspend=n][2]][2]\r\n2. In current Idea - Server Run Configuration - Debug - Port - address\r\n[![Server Run Configuration - Debug - Port - address][3]][3]\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/5J2Si.png\r\n  [3]: https://i.stack.imgur.com/pOJL0.png","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<ol>\n<li>In glassfish\\domains\\domain1\\config\\domain.xml :</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;java-config classpath-suffix=\"\" debug-options=\"-agentlib:jdwp=transport=dt_socket,address=9009,server=y,suspend=n\" java-home=\"C:\\Program Files\\Java\\jdk1.8.0_162\" debug-enabled=\"true\" system-classpath=\"\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or in <a href=\"http://localhost:4848/common/index.jsf\" rel=\"nofollow noreferrer\">http://localhost:4848/common/index.jsf</a>\n<a href=\"https://i.stack.imgur.com/5J2Si.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5J2Si.png\" alt=\"Glassfish 4 debug-enabled=&quot;true&quot; address=9009,server=y,suspend=n\"></a>\n2. In current Idea - Server Run Configuration - Debug - Port - address\n<a href=\"https://i.stack.imgur.com/pOJL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pOJL0.png\" alt=\"Server Run Configuration - Debug - Port - address\"></a></p>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1873,"user_id":10275943,"display_name":"Ikbel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634814907,"creation_date":1634814907,"answer_id":69660955,"question_id":51207430,"body_markdown":"I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name &quot;localhost&quot;, in case you&#39;re using this hostname.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kuvpa.png","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<p>I had the same problem and this solution also did the trick for me: Provide the IP 127.0.0.1 in the Intellij Debug configuration instead of the host name &quot;localhost&quot;, in case you're using this hostname.</p>\n<p><a href=\"https://i.stack.imgur.com/Kuvpa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kuvpa.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22962876,"reputation":1,"user_id":17092442,"display_name":"Onkar Shinde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675369170,"creation_date":1675369061,"answer_id":75328527,"question_id":51207430,"body_markdown":"I have simple solution on that but its not permanent fix on this issue. You can invalidate and restart your IntelliJ Idea and try again to debug your codebase.","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<p>I have simple solution on that but its not permanent fix on this issue. You can invalidate and restart your IntelliJ Idea and try again to debug your codebase.</p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28911,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1675369170,"creation_date":1530869949,"question_id":51207430,"body_markdown":"I am using IntelliJ 2017.3 with Payara 4.1.2.172. I used to just start the server from the command line had a Remote Debug running on port 9009, and everything used to work fine.\r\n[![enter image description here][1]][1]\r\n\r\nThen I set up an plugged in server with attached modules in IntelliJ, to enable HotSwap. I run this server in debug mode, and it works fine.\r\n\r\nNow, if I don&#39;t use the plugged in server, but want to start the server as previous, when I run the debug remote, I get the following:\r\n\r\n**Error**\r\n\r\n&gt; Error running &#39;Debug Glassfish OSM&#39;: Unable to open debugger port\r\n&gt; (localhost:9009): java.net.ConnectException &quot;Connection refused:\r\n&gt; connect&quot;\r\n\r\nI have run a netstat and there&#39;s nothing running on port 9009.\r\n\r\n**Question**\r\n\r\nHow do I get the remote debug working on the server?\r\n\r\n\r\n**More info**\r\n\r\nThe domail.xml has:\r\n\r\n    &lt;system-property name=&quot;JAVA_DEBUGGER_PORT&quot; value=&quot;9009&quot;&gt;&lt;/system-property&gt;\r\n\r\nAnd in the server-config JVM Settings:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**More info**\r\n\r\nI set the above &#39;Enable&#39; checkbox to on, but now I get the following error when I try start the server, i.e. the server won&#39;t start now. (netstat shows noting running on port 9009)\r\n\r\n&gt; ERROR: transport error 202: connect failed: Connection refused ERROR:\r\n&gt; JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\r\n&gt; JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports\r\n&gt; initialized [debugInit.c:750]\r\n\r\nIf I set it to off in the damain.cml, I still get the error and am unable to start the server.\r\n\r\n    &lt;java-config classpath-suffix=&quot;&quot; debug-options=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=${JAVA_DEBUGGER_PORT}&quot; debug-enabled=&quot;true&quot; system-classpath=&quot;&quot;&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/Jvv4m.png\r\n  [2]: https://i.stack.imgur.com/EOjzP.png","title":"IntelliJ - Remote debug - Unable to open debugger port","body":"<p>I am using IntelliJ 2017.3 with Payara 4.1.2.172. I used to just start the server from the command line had a Remote Debug running on port 9009, and everything used to work fine.\n<a href=\"https://i.stack.imgur.com/Jvv4m.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Jvv4m.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I set up an plugged in server with attached modules in IntelliJ, to enable HotSwap. I run this server in debug mode, and it works fine.</p>\n\n<p>Now, if I don't use the plugged in server, but want to start the server as previous, when I run the debug remote, I get the following:</p>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Error running 'Debug Glassfish OSM': Unable to open debugger port\n  (localhost:9009): java.net.ConnectException \"Connection refused:\n  connect\"</p>\n</blockquote>\n\n<p>I have run a netstat and there's nothing running on port 9009.</p>\n\n<p><strong>Question</strong></p>\n\n<p>How do I get the remote debug working on the server?</p>\n\n<p><strong>More info</strong></p>\n\n<p>The domail.xml has:</p>\n\n<pre><code>&lt;system-property name=\"JAVA_DEBUGGER_PORT\" value=\"9009\"&gt;&lt;/system-property&gt;\n</code></pre>\n\n<p>And in the server-config JVM Settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EOjzP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EOjzP.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>More info</strong></p>\n\n<p>I set the above 'Enable' checkbox to on, but now I get the following error when I try start the server, i.e. the server won't start now. (netstat shows noting running on port 9009)</p>\n\n<blockquote>\n  <p>ERROR: transport error 202: connect failed: Connection refused ERROR:\n  JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)\n  JDWP exit error AGENT_ERROR_TRANSPORT_INIT(197): No transports\n  initialized [debugInit.c:750]</p>\n</blockquote>\n\n<p>If I set it to off in the damain.cml, I still get the error and am unable to start the server.</p>\n\n<pre><code>&lt;java-config classpath-suffix=\"\" debug-options=\"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=${JAVA_DEBUGGER_PORT}\" debug-enabled=\"true\" system-classpath=\"\"&gt;\n</code></pre>\n"},{"tags":["java","multithreading","performance","concurrency","threadpool"],"answers":[{"comments":[{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1366495999,"post_id":16125701,"comment_id":23033481,"body_markdown":"Thanks a lot Gray for the suggestion. Some more information- I am doing my Load and Performance testing on the lnp boxes (similar to Production boxes we have here). And yes throughput for 20 threads is way larger than one thread. So you are suggesting, I should lower the threads from 20 to somewhat lower number and then try it out? Right?","body":"Thanks a lot Gray for the suggestion. Some more information- I am doing my Load and Performance testing on the lnp boxes (similar to Production boxes we have here). And yes throughput for 20 threads is way larger than one thread. So you are suggesting, I should lower the threads from 20 to somewhat lower number and then try it out? Right?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1366496043,"post_id":16125701,"comment_id":23033492,"body_markdown":"Right.  Play around with the number until you maximize your throughput.  Understand that if you switch architectures, you will have to do another speed run @TechGeeky.","body":"Right.  Play around with the number until you maximize your throughput.  Understand that if you switch architectures, you will have to do another speed run @TechGeeky."},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1366496201,"post_id":16125701,"comment_id":23033529,"body_markdown":"Sure. The other thing I have confusion is- You said maximize the throughput? But I am wondering if I lower down the threads number then throughput will keep on going less right?","body":"Sure. The other thing I have confusion is- You said maximize the throughput? But I am wondering if I lower down the threads number then throughput will keep on going less right?"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1366496452,"post_id":16125701,"comment_id":23033590,"body_markdown":"Possibly not.  For example, if you go to 10 threads and it takes (let&#39;s say) 15ms per then you will be faster overall because you are using 1/2 the threads but the time is less than 1/2.","body":"Possibly not.  For example, if you go to 10 threads and it takes (let&#39;s say) 15ms per then you will be faster overall because you are using 1/2 the threads but the time is less than 1/2."},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1366499251,"post_id":16125701,"comment_id":23034195,"body_markdown":"I see. hmm, Yeah make sense kind of. I also updated my question with my machine config spec as well from where I am running my program. Does that look ok to you meaning it can sustain the load?","body":"I see. hmm, Yeah make sense kind of. I also updated my question with my machine config spec as well from where I am running my program. Does that look ok to you meaning it can sustain the load?"},{"owner":{"account_id":120792,"reputation":30183,"user_id":313421,"accept_rate":83,"display_name":"Xaqron"},"score":0,"creation_date":1366509673,"post_id":16125701,"comment_id":23035943,"body_markdown":"Then what about CPU cores?","body":"Then what about CPU cores?"},{"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"score":0,"creation_date":1366523580,"post_id":16125701,"comment_id":23037862,"body_markdown":"@Xaqron, you asked me a question or Gray?","body":"@Xaqron, you asked me a question or Gray?"},{"owner":{"account_id":120792,"reputation":30183,"user_id":313421,"accept_rate":83,"display_name":"Xaqron"},"score":0,"creation_date":1366548108,"post_id":16125701,"comment_id":23042593,"body_markdown":"@TechGeeky: I commented the answer so Gary.","body":"@TechGeeky: I commented the answer so Gary."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1366555537,"post_id":16125701,"comment_id":23044625,"body_markdown":"To the JVM, CPU cores is the same as separate CPUs.  When I say CPUs I mean cores as well @Xaqron.","body":"To the JVM, CPU cores is the same as separate CPUs.  When I say CPUs I mean cores as well @Xaqron."}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":9,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1591297439,"creation_date":1366495704,"answer_id":16125701,"question_id":16125626,"body_markdown":"&gt; Can anyone tell me what can be the reason for such high performance issues with `newSingleThreadExecutor` vs `newFixedThreadPool(20)`...\r\n\r\nIf you are running many more tasks in parallel (20 in the case) than you have processors (I doubt that you have 20+ processor box) then yes, each individual task is going to take longer to complete.  It is easier for the computer to execute one task at a time instead of switching between multiple threads running at the same time.  Even if you limit the number of threads in the pool to the number of CPUs you have, each task probably will run slower, albeit slightly.\r\n\r\nIf, however, you compare the _throughput_ (amount of time needed to complete a number of tasks) of your different sized thread pools, you should see that the 20 thread throughput should be higher.  If you execute 1000 tasks with 20 threads, they overall will finish much sooner than with just 1 thread.  Each task may take longer but they will be executing in parallel.  It will probably not be 20 times faster given thread overhead, etc. but it might be something like 15 times faster.\r\n\r\nYou should not be worrying about the individual task speed but rather you should be trying to maximize the task throughput by tuning the number of threads in your pool.  How many threads to use depends heavily on the amount of IO, the CPU cycles used by each task, locks, synchronized blocks, other applications running on the OS, and other factors.\r\n\r\nPeople often use 1-2 times the number of CPUs as a good place to start in terms of the number of threads in the pool to maximize throughput.  More IO requests or thread blocking operations then add more threads.  More CPU bound then reduce the number of threads to be closer to the number of CPUs available.  If your application is competing for OS cycles with other more important applications on the server then even less threads may be required.\r\n","title":"Performance Issues with newFixedThreadPool vs newSingleThreadExecutor","body":"<blockquote>\n  <p>Can anyone tell me what can be the reason for such high performance issues with <code>newSingleThreadExecutor</code> vs <code>newFixedThreadPool(20)</code>...</p>\n</blockquote>\n\n<p>If you are running many more tasks in parallel (20 in the case) than you have processors (I doubt that you have 20+ processor box) then yes, each individual task is going to take longer to complete.  It is easier for the computer to execute one task at a time instead of switching between multiple threads running at the same time.  Even if you limit the number of threads in the pool to the number of CPUs you have, each task probably will run slower, albeit slightly.</p>\n\n<p>If, however, you compare the <em>throughput</em> (amount of time needed to complete a number of tasks) of your different sized thread pools, you should see that the 20 thread throughput should be higher.  If you execute 1000 tasks with 20 threads, they overall will finish much sooner than with just 1 thread.  Each task may take longer but they will be executing in parallel.  It will probably not be 20 times faster given thread overhead, etc. but it might be something like 15 times faster.</p>\n\n<p>You should not be worrying about the individual task speed but rather you should be trying to maximize the task throughput by tuning the number of threads in your pool.  How many threads to use depends heavily on the amount of IO, the CPU cycles used by each task, locks, synchronized blocks, other applications running on the OS, and other factors.</p>\n\n<p>People often use 1-2 times the number of CPUs as a good place to start in terms of the number of threads in the pool to maximize throughput.  More IO requests or thread blocking operations then add more threads.  More CPU bound then reduce the number of threads to be closer to the number of CPUs available.  If your application is competing for OS cycles with other more important applications on the server then even less threads may be required.</p>\n"}],"owner":{"account_id":335839,"reputation":23526,"user_id":663148,"accept_rate":90,"display_name":"arsenal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7017,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":16125701,"answer_count":1,"score":6,"last_activity_date":1675369053,"creation_date":1366495095,"question_id":16125626,"body_markdown":"I am trying to Benchmark our Client code. So I decided I will write a multithreading program to do the benchmarking of my client code. I am trying to measure how much `time (95 Percentile)` below method will take-\r\n\r\n`attributes = deClient.getDEAttributes(columnsList);`\r\n\r\nSo below is the multithreaded code I wrote to do the benchmarking on the above method. I am seeing lot of variations in my two scenarios-\r\n\r\n1) Firstly, with multithreaded code by using `20 threads` and `running for 15 minutes`. I get 95 percentile as `37ms`. And I am using-\r\n   \r\n    ExecutorService service = Executors.newFixedThreadPool(20);\r\n\r\n2) But If I am running my same program for `15 minutes` using-\r\n\r\n`ExecutorService service = Executors.newSingleThreadExecutor();` \r\n\r\ninstead of\r\n\r\n`ExecutorService service = Executors.newFixedThreadPool(20);`\r\n\r\nI get 95 percentile as `7ms` which is way less than the above number when I am running my code with `newFixedThreadPool(20)`.\r\n\r\n**Can anyone tell me what can be the reason for such high performance issues with-**\r\n\r\n`newSingleThreadExecutor vs newFixedThreadPool(20)`\r\n\r\nAnd by both ways I am running my program for `15 minutes`.\r\n\r\n\r\nBelow is my code-\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \ttry {\r\n    \r\n    \t\t// create thread pool with given size\r\n    \t\t//ExecutorService service = Executors.newFixedThreadPool(20);\r\n    \t\tExecutorService service = Executors.newSingleThreadExecutor();\r\n    \r\n    \t\tlong startTime = System.currentTimeMillis();\r\n    \t\tlong endTime = startTime + (15 * 60 * 1000);//Running for 15 minutes\r\n    \r\n    \t\tfor (int i = 0; i &lt; threads; i++) {\r\n    \t\t\tservice.submit(new ServiceTask(endTime, serviceList));\r\n    \t\t}\r\n    \r\n    \t\t// wait for termination        \r\n    \t\tservice.shutdown();\r\n    \t\tservice.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\r\n    \t} catch (InterruptedException e) {\r\n    \t\r\n    \t} catch (Exception e) {\r\n    \t\r\n    \t}\r\n    }\r\n\t\r\n\r\nBelow is the class that implements Runnable interface-\r\n\t\r\n    class ServiceTask implements Runnable {\r\n    \r\n    \tprivate static final Logger LOG = Logger.getLogger(ServiceTask.class.getName());\r\n    \tprivate static Random random = new SecureRandom();\r\n    \t\r\n    \tpublic static volatile AtomicInteger countSize = new AtomicInteger();\r\n    \t\r\n    \tprivate final long endTime;\r\n    \tprivate final LinkedHashMap&lt;String, ServiceInfo&gt; tableLists;\r\n    \t\r\n    \tpublic static ConcurrentHashMap&lt;Long, Long&gt; selectHistogram = new ConcurrentHashMap&lt;Long, Long&gt;();\r\n    \r\n    \r\n        public ServiceTask(long endTime, LinkedHashMap&lt;String, ServiceInfo&gt; tableList) {\r\n        \tthis.endTime = endTime;\r\n        \tthis.tableLists = tableList;\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\twhile (System.currentTimeMillis() &lt;= endTime) {\r\n    \r\n    \t\t\t\tdouble randomNumber = random.nextDouble() * 100.0;\r\n    \r\n    \t\t\t\tServiceInfo service = selectRandomService(randomNumber);\r\n    \r\n    \t\t\t\tfinal String id = generateRandomId(random);\r\n    \t\t\t\tfinal List&lt;String&gt; columnsList = getColumns(service.getColumns());\r\n    \r\n    \t\t\t\tList&lt;DEAttribute&lt;?&gt;&gt; attributes = null;\r\n    \r\n    \t\t\t\tDEKey bk = new DEKey(service.getKeys(), id);\r\n    \t\t\t\tList&lt;DEKey&gt; list = new ArrayList&lt;DEKey&gt;();\r\n    \t\t\t\tlist.add(bk);\r\n    \r\n    \t\t\t\tClient deClient = new Client(list);\r\n    \r\n    \t\t\t\tfinal long start = System.nanoTime();\r\n    \r\n    \t\t\t\tattributes = deClient.getDEAttributes(columnsList);\r\n    \r\n    \t\t\t\tfinal long end = System.nanoTime() - start;\r\n    \t\t\t\tfinal long key = end / 1000000L;\r\n    \t\t\t\tboolean done = false;\r\n    \t\t\t\twhile(!done) {\r\n    \t\t\t\t\tLong oldValue = selectHistogram.putIfAbsent(key, 1L);\r\n    \t\t\t\t\tif(oldValue != null) {\r\n    \t\t\t\t\t\tdone = selectHistogram.replace(key, oldValue, oldValue + 1);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tdone = true;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tcountSize.getAndAdd(attributes.size());\r\n    \r\n    \t\t\t\thandleDEAttribute(attributes);\r\n    \r\n    \t\t\t\tif (BEServiceLnP.sleepTime &gt; 0L) {\r\n    \t\t\t\t\tThread.sleep(BEServiceLnP.sleepTime);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Updated:-**\r\n\r\nHere is my processor spec- I am running my program from Linux machine with 2 processors defined as:\r\n\r\n    vendor_id       : GenuineIntel\r\n    cpu family      : 6\r\n    model           : 45\r\n    model name      : Intel(R) Xeon(R) CPU E5-2670 0 @ 2.60GHz\r\n    stepping        : 7\r\n    cpu MHz         : 2599.999\r\n    cache size      : 20480 KB\r\n    fpu             : yes\r\n    fpu_exception   : yes\r\n    cpuid level     : 13\r\n    wp              : yes\r\n    flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 popcnt aes hypervisor lahf_lm arat pln pts\r\n    bogomips        : 5199.99\r\n    clflush size    : 64\r\n    cache_alignment : 64\r\n    address sizes   : 40 bits physical, 48 bits virtual\r\n    power management:\r\n","title":"Performance Issues with newFixedThreadPool vs newSingleThreadExecutor","body":"<p>I am trying to Benchmark our Client code. So I decided I will write a multithreading program to do the benchmarking of my client code. I am trying to measure how much <code>time (95 Percentile)</code> below method will take-</p>\n\n<p><code>attributes = deClient.getDEAttributes(columnsList);</code></p>\n\n<p>So below is the multithreaded code I wrote to do the benchmarking on the above method. I am seeing lot of variations in my two scenarios-</p>\n\n<p>1) Firstly, with multithreaded code by using <code>20 threads</code> and <code>running for 15 minutes</code>. I get 95 percentile as <code>37ms</code>. And I am using-</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(20);\n</code></pre>\n\n<p>2) But If I am running my same program for <code>15 minutes</code> using-</p>\n\n<p><code>ExecutorService service = Executors.newSingleThreadExecutor();</code> </p>\n\n<p>instead of</p>\n\n<p><code>ExecutorService service = Executors.newFixedThreadPool(20);</code></p>\n\n<p>I get 95 percentile as <code>7ms</code> which is way less than the above number when I am running my code with <code>newFixedThreadPool(20)</code>.</p>\n\n<p><strong>Can anyone tell me what can be the reason for such high performance issues with-</strong></p>\n\n<p><code>newSingleThreadExecutor vs newFixedThreadPool(20)</code></p>\n\n<p>And by both ways I am running my program for <code>15 minutes</code>.</p>\n\n<p>Below is my code-</p>\n\n<pre><code>public static void main(String[] args) {\n\n    try {\n\n        // create thread pool with given size\n        //ExecutorService service = Executors.newFixedThreadPool(20);\n        ExecutorService service = Executors.newSingleThreadExecutor();\n\n        long startTime = System.currentTimeMillis();\n        long endTime = startTime + (15 * 60 * 1000);//Running for 15 minutes\n\n        for (int i = 0; i &lt; threads; i++) {\n            service.submit(new ServiceTask(endTime, serviceList));\n        }\n\n        // wait for termination        \n        service.shutdown();\n        service.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS);\n    } catch (InterruptedException e) {\n\n    } catch (Exception e) {\n\n    }\n}\n</code></pre>\n\n<p>Below is the class that implements Runnable interface-</p>\n\n<pre><code>class ServiceTask implements Runnable {\n\n    private static final Logger LOG = Logger.getLogger(ServiceTask.class.getName());\n    private static Random random = new SecureRandom();\n\n    public static volatile AtomicInteger countSize = new AtomicInteger();\n\n    private final long endTime;\n    private final LinkedHashMap&lt;String, ServiceInfo&gt; tableLists;\n\n    public static ConcurrentHashMap&lt;Long, Long&gt; selectHistogram = new ConcurrentHashMap&lt;Long, Long&gt;();\n\n\n    public ServiceTask(long endTime, LinkedHashMap&lt;String, ServiceInfo&gt; tableList) {\n        this.endTime = endTime;\n        this.tableLists = tableList;\n    }\n\n    @Override\n    public void run() {\n\n        try {\n\n            while (System.currentTimeMillis() &lt;= endTime) {\n\n                double randomNumber = random.nextDouble() * 100.0;\n\n                ServiceInfo service = selectRandomService(randomNumber);\n\n                final String id = generateRandomId(random);\n                final List&lt;String&gt; columnsList = getColumns(service.getColumns());\n\n                List&lt;DEAttribute&lt;?&gt;&gt; attributes = null;\n\n                DEKey bk = new DEKey(service.getKeys(), id);\n                List&lt;DEKey&gt; list = new ArrayList&lt;DEKey&gt;();\n                list.add(bk);\n\n                Client deClient = new Client(list);\n\n                final long start = System.nanoTime();\n\n                attributes = deClient.getDEAttributes(columnsList);\n\n                final long end = System.nanoTime() - start;\n                final long key = end / 1000000L;\n                boolean done = false;\n                while(!done) {\n                    Long oldValue = selectHistogram.putIfAbsent(key, 1L);\n                    if(oldValue != null) {\n                        done = selectHistogram.replace(key, oldValue, oldValue + 1);\n                    } else {\n                        done = true;\n                    }\n                }\n                countSize.getAndAdd(attributes.size());\n\n                handleDEAttribute(attributes);\n\n                if (BEServiceLnP.sleepTime &gt; 0L) {\n                    Thread.sleep(BEServiceLnP.sleepTime);\n                }\n            }\n        } catch (Exception e) {\n\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Updated:-</strong></p>\n\n<p>Here is my processor spec- I am running my program from Linux machine with 2 processors defined as:</p>\n\n<pre><code>vendor_id       : GenuineIntel\ncpu family      : 6\nmodel           : 45\nmodel name      : Intel(R) Xeon(R) CPU E5-2670 0 @ 2.60GHz\nstepping        : 7\ncpu MHz         : 2599.999\ncache size      : 20480 KB\nfpu             : yes\nfpu_exception   : yes\ncpuid level     : 13\nwp              : yes\nflags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss syscall nx rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology tsc_reliable nonstop_tsc aperfmperf pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 popcnt aes hypervisor lahf_lm arat pln pts\nbogomips        : 5199.99\nclflush size    : 64\ncache_alignment : 64\naddress sizes   : 40 bits physical, 48 bits virtual\npower management:\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"score":0,"creation_date":1658455752,"post_id":73073519,"comment_id":129061261,"body_markdown":"it is interesting that ``permitAll()`` didn&#39;t  work but i think you need to use ``ignoring()`` on wagger url. check out this post [link](https://stackoverflow.com/questions/37671125/how-to-configure-spring-security-to-allow-swagger-url-to-be-accessed-without-aut)","body":"it is interesting that <code>permitAll()</code> didn&#39;t  work but i think you need to use <code>ignoring()</code> on wagger url. check out this post <a href=\"https://stackoverflow.com/questions/37671125/how-to-configure-spring-security-to-allow-swagger-url-to-be-accessed-without-aut\">link</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1658481918,"post_id":73073519,"comment_id":129067186,"body_markdown":"@pooya As you can see, I also used ignoring() but it didn&#39;t work. I also defined all these links regarding swagger securityFilterChain method but nothing changed.","body":"@pooya As you can see, I also used ignoring() but it didn&#39;t work. I also defined all these links regarding swagger securityFilterChain method but nothing changed."},{"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"score":0,"creation_date":1658512972,"post_id":73073519,"comment_id":129078514,"body_markdown":"i looked again on your code so i am thinking  you should check first if you can set your configuration to ignore any URL from doing security process like create the test controller and see if it can get through the spring security. i said that because you didn&#39;t use ``public void configure(WebSecurity web)`` method for your configuration so if you find out your test controller can get through the spring security you must search how to exclude the URL by ``SecurityFilterChain`` . if your test controller couldn&#39;t get through the spring security you must change your method configuration and use","body":"i looked again on your code so i am thinking  you should check first if you can set your configuration to ignore any URL from doing security process like create the test controller and see if it can get through the spring security. i said that because you didn&#39;t use <code>public void configure(WebSecurity web)</code> method for your configuration so if you find out your test controller can get through the spring security you must search how to exclude the URL by <code>SecurityFilterChain</code> . if your test controller couldn&#39;t get through the spring security you must change your method configuration and use"},{"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"score":0,"creation_date":1658512991,"post_id":73073519,"comment_id":129078522,"body_markdown":"``public void configure(WebSecurity web)``","body":"<code>public void configure(WebSecurity web)</code>"},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1679129997,"post_id":73073519,"comment_id":133668664,"body_markdown":"Please check my answer on **[How to run Swagger 3 on Spring Boot 3](https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3)**","body":"Please check my answer on <b><a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\">How to run Swagger 3 on Spring Boot 3</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658609572,"creation_date":1658609572,"answer_id":73094120,"question_id":73073519,"body_markdown":"Here is the answer\r\n\r\nI can access the url through `localhost:8080/swagger-ui.html`","title":"Cannot open Swagger UI in its Version 3 in my Spring Boot Example","body":"<p>Here is the answer</p>\n<p>I can access the url through <code>localhost:8080/swagger-ui.html</code></p>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675159823,"creation_date":1675159823,"answer_id":75295552,"question_id":73073519,"body_markdown":"If you are using `Spring Security`, use the following security configuration to allow public access to `Swagger UI` resources:\r\n\r\n```\r\npublic class SecurityConfig {\r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n\r\n            // for Swagger UI v2\r\n            &quot;/v2/api-docs&quot;,\r\n            &quot;/swagger-ui.html&quot;,\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/configuration/ui&quot;,\r\n            &quot;/configuration/security&quot;,\r\n            &quot;/webjars/**&quot;,\r\n\r\n            // for Swagger UI v3 (OpenAPI)\r\n            &quot;/v3/api-docs/**&quot;,\r\n            &quot;/swagger-ui/**&quot;\r\n    };\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\r\n        httpSecurity\r\n                // ... other configuration settings                \r\n                .antMatchers(AUTH_WHITELIST).permitAll();\r\n        // ...\r\n    }\r\n}\r\n```","title":"Cannot open Swagger UI in its Version 3 in my Spring Boot Example","body":"<p>If you are using <code>Spring Security</code>, use the following security configuration to allow public access to <code>Swagger UI</code> resources:</p>\n<pre><code>public class SecurityConfig {\n\n    private static final String[] AUTH_WHITELIST = {\n\n            // for Swagger UI v2\n            &quot;/v2/api-docs&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;/configuration/ui&quot;,\n            &quot;/configuration/security&quot;,\n            &quot;/webjars/**&quot;,\n\n            // for Swagger UI v3 (OpenAPI)\n            &quot;/v3/api-docs/**&quot;,\n            &quot;/swagger-ui/**&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\n        httpSecurity\n                // ... other configuration settings                \n                .antMatchers(AUTH_WHITELIST).permitAll();\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5830,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675368998,"creation_date":1658444685,"question_id":73073519,"body_markdown":"I have a problem about opening swagger ui in my Spring Boot Example.\r\n\r\nI get this kind of error when I access to localhost:8080/swagger-ui or localhost:8080/root-api-name:swagger-ui\r\n\r\n    Securing GET /springboot-blog-rest-api/swagger-ui\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /springboot-blog-rest-api/swagger-ui] with attributes [authenticated]\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n    2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error\r\n    2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n    \r\n    org.springframework.security.access.AccessDeniedException: Access is denied\r\n\r\nI used springfox-swagger2 version 3 , springfox-boot-starter version 3 and lastly springfox-swagger-ui version 2.9.\r\n\r\nHow can I fix my issue?\r\n\r\n\r\nHere is my SwaggerConfig File.\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n        public static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\r\n    \r\n        private ApiKey apiKey(){\r\n            return new ApiKey(&quot;JWT&quot;, AUTHORIZATION_HEADER, &quot;header&quot;);\r\n        }\r\n    \r\n        private ApiInfo apiInfo(){\r\n            return new ApiInfo(\r\n                    &quot;Spring Boot Blog REST APIs&quot;,\r\n                    &quot;Spring Boot Blog REST API Documentation&quot;,\r\n                    &quot;1&quot;,\r\n                    &quot;Terms of service&quot;,\r\n                    new Contact(&quot;Name&quot;, &quot;website-address&quot;, &quot;Email&quot;),\r\n                    &quot;License of API&quot;,\r\n                    &quot;API license URL&quot;,\r\n                    Collections.emptyList()\r\n            );\r\n        }\r\n    \r\n        @Bean\r\n        public Docket api(){\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .apiInfo(apiInfo())\r\n                    .securityContexts(Arrays.asList(securityContext()))\r\n                    .securitySchemes(Arrays.asList(apiKey()))\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        private SecurityContext securityContext(){\r\n            return SecurityContext.builder().securityReferences(defaultAuth()).build();\r\n        }\r\n    \r\n        private List&lt;SecurityReference&gt; defaultAuth(){\r\n            AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\r\n            AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\r\n            authorizationScopes[0] = authorizationScope;\r\n            return Arrays.asList(new SecurityReference(&quot;JWT&quot;, authorizationScopes));\r\n        }\r\n    }\r\n\r\nHere is my SecurityConfig file\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig {\r\n    \r\n    \r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n    \r\n        @Bean\r\n        public JwtAuthenticationFilter jwtAuthenticationFilter(){\r\n            return  new JwtAuthenticationFilter();\r\n        }\r\n    \r\n        @Bean\r\n        PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.ignoring().antMatchers(&quot;/v2/api-docs/**&quot;, \r\n            \t\t&quot;/swagger-ui/**&quot;,&quot;/swagger-resources/**&quot;,&quot;/swagger-ui.html&quot;,&quot;/webjars/**&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        protected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        \t\r\n            http\r\n                    .csrf().disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(authenticationEntryPoint)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests((authorize) -&gt; authorize\r\n                            .antMatchers(HttpMethod.GET, &quot;/api/v1/**&quot;).permitAll()\r\n                            .antMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                            .anyRequest()\r\n                            .authenticated()\r\n                    );\r\n            http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(\r\n                AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n        \r\n    \r\n    \r\n    }\r\n\r\n","title":"Cannot open Swagger UI in its Version 3 in my Spring Boot Example","body":"<p>I have a problem about opening swagger ui in my Spring Boot Example.</p>\n<p>I get this kind of error when I access to localhost:8080/swagger-ui or localhost:8080/root-api-name:swagger-ui</p>\n<pre><code>Securing GET /springboot-blog-rest-api/swagger-ui\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /springboot-blog-rest-api/swagger-ui] with attributes [authenticated]\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-07-22 01:38:58.820 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error\n2022-07-22 01:38:58.821 DEBUG 30576 --- [nio-8080-exec-4] a.DefaultWebInvocationPrivilegeEvaluator : filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n\norg.springframework.security.access.AccessDeniedException: Access is denied\n</code></pre>\n<p>I used springfox-swagger2 version 3 , springfox-boot-starter version 3 and lastly springfox-swagger-ui version 2.9.</p>\n<p>How can I fix my issue?</p>\n<p>Here is my SwaggerConfig File.</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    public static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\n\n    private ApiKey apiKey(){\n        return new ApiKey(&quot;JWT&quot;, AUTHORIZATION_HEADER, &quot;header&quot;);\n    }\n\n    private ApiInfo apiInfo(){\n        return new ApiInfo(\n                &quot;Spring Boot Blog REST APIs&quot;,\n                &quot;Spring Boot Blog REST API Documentation&quot;,\n                &quot;1&quot;,\n                &quot;Terms of service&quot;,\n                new Contact(&quot;Name&quot;, &quot;website-address&quot;, &quot;Email&quot;),\n                &quot;License of API&quot;,\n                &quot;API license URL&quot;,\n                Collections.emptyList()\n        );\n    }\n\n    @Bean\n    public Docket api(){\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .securityContexts(Arrays.asList(securityContext()))\n                .securitySchemes(Arrays.asList(apiKey()))\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private SecurityContext securityContext(){\n        return SecurityContext.builder().securityReferences(defaultAuth()).build();\n    }\n\n    private List&lt;SecurityReference&gt; defaultAuth(){\n        AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\n        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\n        authorizationScopes[0] = authorizationScope;\n        return Arrays.asList(new SecurityReference(&quot;JWT&quot;, authorizationScopes));\n    }\n}\n</code></pre>\n<p>Here is my SecurityConfig file</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig {\n\n\n    @Autowired\n    private JwtAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter(){\n        return  new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().antMatchers(&quot;/v2/api-docs/**&quot;, \n                &quot;/swagger-ui/**&quot;,&quot;/swagger-resources/**&quot;,&quot;/swagger-ui.html&quot;,&quot;/webjars/**&quot;);\n    }\n\n    @Bean\n    protected SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http\n                .csrf().disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests((authorize) -&gt; authorize\n                        .antMatchers(HttpMethod.GET, &quot;/api/v1/**&quot;).permitAll()\n                        .antMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                        .anyRequest()\n                        .authenticated()\n                );\n        http.addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n    \n\n\n}\n</code></pre>\n"},{"tags":["java","arrays","reverse","code.org"],"comments":[{"owner":{"account_id":3766938,"reputation":1294,"user_id":3130218,"accept_rate":86,"display_name":"bb94"},"score":1,"creation_date":1675362506,"post_id":75327332,"comment_id":132918160,"body_markdown":"What code are you using to test the method?","body":"What code are you using to test the method?"}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675368859,"creation_date":1675368859,"answer_id":75328495,"question_id":75327332,"body_markdown":"This is how I&#39;d write it:\r\n\r\n      public static void reverseShapes(Shape[][] shapes) {\r\n        for(Shape[] row : shapes) {\r\n          for(int left=0, right=row.length-1; left&lt;right; left++, right--) {\r\n            Shape tmp = row[left];\r\n            row[left] = row[right];\r\n            row[right] = tmp;\r\n          }\r\n        }\r\n      }\r\n\r\nI think it&#39;s much easier to understand with the enhanced `for` loop syntax pulling a row out at a time, and then the indexed `for` loop using two different variables, &quot;left&quot; and &quot;right&quot; moving inwards from the ends towards the middle without needing to calculate any indices.\r\n","title":"Reversing a 2D array of objects; Java","body":"<p>This is how I'd write it:</p>\n<pre><code>  public static void reverseShapes(Shape[][] shapes) {\n    for(Shape[] row : shapes) {\n      for(int left=0, right=row.length-1; left&lt;right; left++, right--) {\n        Shape tmp = row[left];\n        row[left] = row[right];\n        row[right] = tmp;\n      }\n    }\n  }\n</code></pre>\n<p>I think it's much easier to understand with the enhanced <code>for</code> loop syntax pulling a row out at a time, and then the indexed <code>for</code> loop using two different variables, &quot;left&quot; and &quot;right&quot; moving inwards from the ends towards the middle without needing to calculate any indices.</p>\n"}],"owner":{"account_id":27182466,"reputation":3,"user_id":20717467,"display_name":"Doot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75328495,"answer_count":1,"score":0,"last_activity_date":1675368859,"creation_date":1675361699,"question_id":75327332,"body_markdown":"I need to reverse the objects in a 2D Array\r\n\r\nIt starts with:\r\n{triangle, circle, square}, {star, pentagon, donut}\r\n\r\nAnd should end with:\r\n{square, circle, triangle}, {donut, pentagon, star}\r\n\r\nCurrently it outputs:\r\ntriangle, circle, square, star, pentagon, donut\r\n\r\nI have looked at [this question](https://stackoverflow.com/questions/21920939/reverse-the-rows-of-a-2d-array) but even copying and pasting working code from that question doesn&#39;t work.\r\n\r\nHere is the current code I have:\r\n\r\n```\r\nShape[][] myShapes = {{triangle, circle, square}, {star, pentagon, donut}};\r\n\r\npublic static void reverseShapes(Shape[][] myShapes) {\r\n    // TO DO #1: Implement your algorithm to reverse myShapes.\r\n    for(int row = 0; row &lt; myShapes.length; row++){\r\n      \r\n      for(int col = 0; col &lt; myShapes[row].length / 2; col++) {\r\n        Shape temp = myShapes[row][col];\r\n        myShapes[row][col] = myShapes[row][myShapes[row].length - col - 1];\r\n        myShapes[row][myShapes[row].length - col - 1] = temp;\r\n      }\r\n    }\r\n    \r\n  }//end of reverseShapes\r\n```\r\n","title":"Reversing a 2D array of objects; Java","body":"<p>I need to reverse the objects in a 2D Array</p>\n<p>It starts with:\n{triangle, circle, square}, {star, pentagon, donut}</p>\n<p>And should end with:\n{square, circle, triangle}, {donut, pentagon, star}</p>\n<p>Currently it outputs:\ntriangle, circle, square, star, pentagon, donut</p>\n<p>I have looked at <a href=\"https://stackoverflow.com/questions/21920939/reverse-the-rows-of-a-2d-array\">this question</a> but even copying and pasting working code from that question doesn't work.</p>\n<p>Here is the current code I have:</p>\n<pre><code>Shape[][] myShapes = {{triangle, circle, square}, {star, pentagon, donut}};\n\npublic static void reverseShapes(Shape[][] myShapes) {\n    // TO DO #1: Implement your algorithm to reverse myShapes.\n    for(int row = 0; row &lt; myShapes.length; row++){\n      \n      for(int col = 0; col &lt; myShapes[row].length / 2; col++) {\n        Shape temp = myShapes[row][col];\n        myShapes[row][col] = myShapes[row][myShapes[row].length - col - 1];\n        myShapes[row][myShapes[row].length - col - 1] = temp;\n      }\n    }\n    \n  }//end of reverseShapes\n</code></pre>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675368741,"creation_date":1675368741,"answer_id":75328473,"question_id":75317103,"body_markdown":"No there is no such capability at the moment.","title":"List diffs in the context of usingRecursiveComparison()","body":"<p>No there is no such capability at the moment.</p>\n"}],"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75328473,"answer_count":1,"score":0,"last_activity_date":1675368741,"creation_date":1675292556,"question_id":75317103,"body_markdown":"This is an AssertJ specific question. Consider the tests below where two lists are compared first directly and then nested in some other object through `usingRecursiveComparison()`.\r\n\r\n```java\r\npublic class RecursiveComparisonWithNestedListsTest {\r\n    @Test\r\n    void topLevelList() {\r\n        assertThat(List.of(&quot;Bob&quot;, &quot;Chris&quot;))\r\n                .containsExactlyElementsOf(List.of(&quot;Bob&quot;));\r\n    }\r\n    @Test\r\n    void nestedList() {\r\n        assertThat(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;, &quot;Chris&quot;)))\r\n                .usingRecursiveComparison()\r\n                .isEqualTo(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;)));\r\n    }\r\n}\r\nrecord Person(String name, List&lt;String&gt; friends) {\r\n}\r\n```\r\n\r\nIn the first case the message is more helpful, specifying the missing element:\r\n```\r\nExpecting actual:\r\n  [&quot;Bob&quot;, &quot;Chris&quot;]\r\nto contain exactly (and in same order):\r\n  [&quot;Bob&quot;]\r\nbut some elements were not expected:\r\n  [&quot;Chris&quot;]\r\n```\r\n\r\nIn the second case the message just mentions that the size differs:\r\n```\r\nExpecting actual:\r\n  Person[name=Amy, friends=[Bob, Chris]]\r\nto be equal to:\r\n  Person[name=Amy, friends=[Bob]]\r\nwhen recursively comparing field by field, but found the following difference:\r\n\r\nfield/property &#39;friends&#39; differ:\r\n- actual value  : [&quot;Bob&quot;, &quot;Chris&quot;]\r\n- expected value: [&quot;Bob&quot;]\r\nactual and expected values are collections of different size, actual size=2 when expected size=1\r\n```\r\n\r\nThis is just a simple example; the actual use case involves more complex objects and much larger lists. In that context, specifying what item is missing from the list makes a big difference. This brings me to my question: Is there any way to configure the recursive comparison to compare lists just like in the first example?\r\n\r\nI certainly have the workaround to ignore the list in the recursive comparison and then assert list equality separately, but I was wondering if there&#39;s some trick to get it all in one step.\r\n","title":"List diffs in the context of usingRecursiveComparison()","body":"<p>This is an AssertJ specific question. Consider the tests below where two lists are compared first directly and then nested in some other object through <code>usingRecursiveComparison()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RecursiveComparisonWithNestedListsTest {\n    @Test\n    void topLevelList() {\n        assertThat(List.of(&quot;Bob&quot;, &quot;Chris&quot;))\n                .containsExactlyElementsOf(List.of(&quot;Bob&quot;));\n    }\n    @Test\n    void nestedList() {\n        assertThat(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;, &quot;Chris&quot;)))\n                .usingRecursiveComparison()\n                .isEqualTo(new Person(&quot;Amy&quot;, List.of(&quot;Bob&quot;)));\n    }\n}\nrecord Person(String name, List&lt;String&gt; friends) {\n}\n</code></pre>\n<p>In the first case the message is more helpful, specifying the missing element:</p>\n<pre><code>Expecting actual:\n  [&quot;Bob&quot;, &quot;Chris&quot;]\nto contain exactly (and in same order):\n  [&quot;Bob&quot;]\nbut some elements were not expected:\n  [&quot;Chris&quot;]\n</code></pre>\n<p>In the second case the message just mentions that the size differs:</p>\n<pre><code>Expecting actual:\n  Person[name=Amy, friends=[Bob, Chris]]\nto be equal to:\n  Person[name=Amy, friends=[Bob]]\nwhen recursively comparing field by field, but found the following difference:\n\nfield/property 'friends' differ:\n- actual value  : [&quot;Bob&quot;, &quot;Chris&quot;]\n- expected value: [&quot;Bob&quot;]\nactual and expected values are collections of different size, actual size=2 when expected size=1\n</code></pre>\n<p>This is just a simple example; the actual use case involves more complex objects and much larger lists. In that context, specifying what item is missing from the list makes a big difference. This brings me to my question: Is there any way to configure the recursive comparison to compare lists just like in the first example?</p>\n<p>I certainly have the workaround to ignore the list in the recursive comparison and then assert list equality separately, but I was wondering if there's some trick to get it all in one step.</p>\n"},{"tags":["java","kotlin","amazon-dynamodb","aws-sdk-java-2.0","dynamodb-enhanced-client"],"comments":[{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1674156352,"post_id":75176090,"comment_id":132660566,"body_markdown":"Where did you find the logic to create your HTTP client? Can you share the AWS docs which reference it?\n\n`val httpClient: HttpHandler = OkHttp()`\n`val awsHttpClient = AwsSdkClient(httpClient)`","body":"Where did you find the logic to create your HTTP client? Can you share the AWS docs which reference it?  <code>val httpClient: HttpHandler = OkHttp()</code> <code>val awsHttpClient = AwsSdkClient(httpClient)</code>"},{"owner":{"account_id":3647615,"reputation":23076,"user_id":3040446,"accept_rate":35,"display_name":"Ted"},"score":0,"creation_date":1674200870,"post_id":75176090,"comment_id":132667165,"body_markdown":"Good point, we are using defaultOkHttpClient() from http4k https://www.http4k.org/api/org.http4k.client/-ok-http/","body":"Good point, we are using defaultOkHttpClient() from http4k <a href=\"https://www.http4k.org/api/org.http4k.client/-ok-http/\" rel=\"nofollow noreferrer\">http4k.org/api/org.http4k.client/-ok-http</a>"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1674203333,"post_id":75176090,"comment_id":132667832,"body_markdown":"Do you get the same error if you use the AWS client directly (without using http4k-connect at all). I wonder if the problem is related to the link you shared to the other question (and that the default http client from http4k might not have compression enabled).","body":"Do you get the same error if you use the AWS client directly (without using http4k-connect at all). I wonder if the problem is related to the link you shared to the other question (and that the default http client from http4k might not have compression enabled)."}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674204826,"creation_date":1674204826,"answer_id":75181689,"question_id":75176090,"body_markdown":"I have not seen others use OkHttp for their AWS clients before, and I believe that this HTTP client uses gzip compression by default. To change the configuration you would need to write a network interceptor as described [here](https://square.github.io/okhttp/features/interceptors/). \r\n\r\nI suggest first building with the default HTTP client, which just requires you to remove 2 lines of code. That will allow you to understand if OkHTTP is in fact the issue. ","title":"Getting Crc32MismatchException when using dynamodb enhanced client","body":"<p>I have not seen others use OkHttp for their AWS clients before, and I believe that this HTTP client uses gzip compression by default. To change the configuration you would need to write a network interceptor as described <a href=\"https://square.github.io/okhttp/features/interceptors/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I suggest first building with the default HTTP client, which just requires you to remove 2 lines of code. That will allow you to understand if OkHTTP is in fact the issue.</p>\n"},{"tags":[],"owner":{"account_id":15964230,"reputation":26,"user_id":11520388,"display_name":"Tim Gonzalez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675368651,"creation_date":1675368627,"answer_id":75328452,"question_id":75176090,"body_markdown":"If you are using Okhttp as client, you can add a custom header configuration: Accept-Encoding: gzip\r\n\r\nYou can do something like this in kotlin:\r\n```\r\nval httpClient: HttpHandler = OkHttp()\r\nval awsHttpClient = AwsSdkClient(httpClient)\r\nval dynamoDbClient: DynamoDbClient =\r\n    DynamoDbClient.builder()\r\n        .region(Region.of(environment.getAwsRegion()))\r\n        .httpClient(awsHttpClient)\r\n        .overrideConfiguration { o -&gt; o.putHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;) }\r\n        .build()\r\n\r\nval enhancedClient: DynamoDbEnhancedClient =\r\n    DynamoDbEnhancedClient.builder()\r\n        .dynamoDbClient(dynamoDbClient)\r\n        .build()\r\nval tableName = ...\r\nval schema = ...\r\nval table = enhancedClient.table(tableName, schema)\r\nval key = ..\r\ntable.getItem(key)\r\n\r\n```","title":"Getting Crc32MismatchException when using dynamodb enhanced client","body":"<p>If you are using Okhttp as client, you can add a custom header configuration: Accept-Encoding: gzip</p>\n<p>You can do something like this in kotlin:</p>\n<pre><code>val httpClient: HttpHandler = OkHttp()\nval awsHttpClient = AwsSdkClient(httpClient)\nval dynamoDbClient: DynamoDbClient =\n    DynamoDbClient.builder()\n        .region(Region.of(environment.getAwsRegion()))\n        .httpClient(awsHttpClient)\n        .overrideConfiguration { o -&gt; o.putHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;) }\n        .build()\n\nval enhancedClient: DynamoDbEnhancedClient =\n    DynamoDbEnhancedClient.builder()\n        .dynamoDbClient(dynamoDbClient)\n        .build()\nval tableName = ...\nval schema = ...\nval table = enhancedClient.table(tableName, schema)\nval key = ..\ntable.getItem(key)\n\n</code></pre>\n"}],"owner":{"account_id":3647615,"reputation":23076,"user_id":3040446,"accept_rate":35,"display_name":"Ted"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75328452,"answer_count":2,"score":1,"last_activity_date":1675368651,"creation_date":1674149321,"question_id":75176090,"body_markdown":"**Describe the bug**\r\n\r\nWe tried to getItem using DynamoDbEnhancedClient but we got Crc32MismatchException.\r\n\r\n**Expected Behavior**\r\n\r\nI should be able to getItem\r\n\r\n**Current Behavior**\r\n\r\ngetting error:\r\n\r\n&gt; software.amazon.awssdk.core.exception.Crc32MismatchException: Expected\r\n&gt; 1657156166 as the Crc32 checksum but the actual calculated checksum\r\n&gt; was 3693931191 \tat\r\n&gt; software.amazon.awssdk.core.exception.Crc32MismatchException$BuilderImpl.build(Crc32MismatchException.java:88)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.validateChecksum(Crc32ChecksumValidatingInputStream.java:62)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.close(Crc32ChecksumValidatingInputStream.java:50)\r\n&gt; \tat java.base/java.io.FilterInputStream.close(Unknown Source) \tat\r\n&gt; software.amazon.awssdk.utils.FunctionalUtils.lambda$safeRunnable$5(FunctionalUtils.java:124)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.utils.FunctionalUtils.invokeSafely(FunctionalUtils.java:140)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.lambda$handle$4(JsonResponseHandler.java:94)\r\n&gt; \tat java.base/java.util.Optional.ifPresent(Unknown Source) \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:94)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.protocols.json.internal.unmarshall.AwsJsonResponseHandler.handle(AwsJsonResponseHandler.java:44)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:64)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:94)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$resultTransformationResponseHandler$7(BaseClientHandler.java:287)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleSuccessResponse(CombinedResponseHandler.java:97)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:72)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:59)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:40)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:80)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:135)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:161)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:114)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:169)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:95)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:55)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.services.dynamodb.DefaultDynamoDbClient.getItem(DefaultDynamoDbClient.java:3107)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.operations.CommonOperation.execute(CommonOperation.java:114)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.operations.TableOperation.executeOnPrimaryIndex(TableOperation.java:59)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:139)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:146)\r\n&gt; \tat\r\n&gt; software.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:151)\r\n\r\n**Reproduction Steps**\r\n\r\n    // https://www.http4k.org/api/org.http4k.client/-ok-http/\r\n    val httpClient: HttpHandler = OkHttp()\r\n    val awsHttpClient = AwsSdkClient(httpClient)\r\n    val dynamoDbClient: DynamoDbClient =\r\n        DynamoDbClient.builder()\r\n            .region(Region.of(environment.getAwsRegion()))\r\n            .httpClient(awsHttpClient)\r\n            .build()\r\n\r\n    val enhancedClient: DynamoDbEnhancedClient =\r\n        DynamoDbEnhancedClient.builder()\r\n            .dynamoDbClient(dynamoDbClient)\r\n            .build()\r\n    val tableName = ...\r\n    val schema = ...\r\n    val table = enhancedClient.table(tableName, schema)\r\n    val key = ..\r\n    table.getItem(key)\r\n\r\n**Possible Solution**\r\n\r\nThis has happened in aws-sdk-java, maybe it is missed in v2?\r\naws/aws-sdk-java#1018\r\n\r\n\r\n**AWS Java SDK version used**\r\n\r\n2.17.27\r\n\r\n**JDK version used**\r\n\r\njava 11\r\n\r\n**Operating System and version**\r\n\r\nAmazon Linux 2\r\n\r\nReported to [github/aws/aws-sdk-java-v2][1]\r\n\r\n[Related but not the same stackoverflow question][2]\r\n\r\n\r\n  [1]: https://github.com/aws/aws-sdk-java-v2/issues/3703\r\n  [2]: https://stackoverflow.com/questions/29931897/aws-crc32-mismatch-dynamo","title":"Getting Crc32MismatchException when using dynamodb enhanced client","body":"<p><strong>Describe the bug</strong></p>\n<p>We tried to getItem using DynamoDbEnhancedClient but we got Crc32MismatchException.</p>\n<p><strong>Expected Behavior</strong></p>\n<p>I should be able to getItem</p>\n<p><strong>Current Behavior</strong></p>\n<p>getting error:</p>\n<blockquote>\n<p>software.amazon.awssdk.core.exception.Crc32MismatchException: Expected\n1657156166 as the Crc32 checksum but the actual calculated checksum\nwas 3693931191    at\nsoftware.amazon.awssdk.core.exception.Crc32MismatchException$BuilderImpl.build(Crc32MismatchException.java:88)\nat\nsoftware.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.validateChecksum(Crc32ChecksumValidatingInputStream.java:62)\nat\nsoftware.amazon.awssdk.core.internal.util.Crc32ChecksumValidatingInputStream.close(Crc32ChecksumValidatingInputStream.java:50)\nat java.base/java.io.FilterInputStream.close(Unknown Source)    at\nsoftware.amazon.awssdk.utils.FunctionalUtils.lambda$safeRunnable$5(FunctionalUtils.java:124)\nat\nsoftware.amazon.awssdk.utils.FunctionalUtils.invokeSafely(FunctionalUtils.java:140)\nat\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.lambda$handle$4(JsonResponseHandler.java:94)\nat java.base/java.util.Optional.ifPresent(Unknown Source)   at\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:94)\nat\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.JsonResponseHandler.handle(JsonResponseHandler.java:36)\nat\nsoftware.amazon.awssdk.protocols.json.internal.unmarshall.AwsJsonResponseHandler.handle(AwsJsonResponseHandler.java:44)\nat\nsoftware.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.lambda$handle$0(MetricCollectingHttpResponseHandler.java:52)\nat\nsoftware.amazon.awssdk.core.internal.util.MetricUtils.measureDurationUnsafe(MetricUtils.java:64)\nat\nsoftware.amazon.awssdk.core.http.MetricCollectingHttpResponseHandler.handle(MetricCollectingHttpResponseHandler.java:52)\nat\nsoftware.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:94)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$resultTransformationResponseHandler$7(BaseClientHandler.java:287)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleSuccessResponse(CombinedResponseHandler.java:97)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:72)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:59)\nat\nsoftware.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:40)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:80)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\nat\nsoftware.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\nat\nsoftware.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\nat\nsoftware.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:135)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:161)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:114)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:169)\nat\nsoftware.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:95)\nat\nsoftware.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\nat\nsoftware.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:55)\nat\nsoftware.amazon.awssdk.services.dynamodb.DefaultDynamoDbClient.getItem(DefaultDynamoDbClient.java:3107)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.operations.CommonOperation.execute(CommonOperation.java:114)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.operations.TableOperation.executeOnPrimaryIndex(TableOperation.java:59)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:139)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:146)\nat\nsoftware.amazon.awssdk.enhanced.dynamodb.internal.client.DefaultDynamoDbTable.getItem(DefaultDynamoDbTable.java:151)</p>\n</blockquote>\n<p><strong>Reproduction Steps</strong></p>\n<pre><code>// https://www.http4k.org/api/org.http4k.client/-ok-http/\nval httpClient: HttpHandler = OkHttp()\nval awsHttpClient = AwsSdkClient(httpClient)\nval dynamoDbClient: DynamoDbClient =\n    DynamoDbClient.builder()\n        .region(Region.of(environment.getAwsRegion()))\n        .httpClient(awsHttpClient)\n        .build()\n\nval enhancedClient: DynamoDbEnhancedClient =\n    DynamoDbEnhancedClient.builder()\n        .dynamoDbClient(dynamoDbClient)\n        .build()\nval tableName = ...\nval schema = ...\nval table = enhancedClient.table(tableName, schema)\nval key = ..\ntable.getItem(key)\n</code></pre>\n<p><strong>Possible Solution</strong></p>\n<p>This has happened in aws-sdk-java, maybe it is missed in v2?\naws/aws-sdk-java#1018</p>\n<p><strong>AWS Java SDK version used</strong></p>\n<p>2.17.27</p>\n<p><strong>JDK version used</strong></p>\n<p>java 11</p>\n<p><strong>Operating System and version</strong></p>\n<p>Amazon Linux 2</p>\n<p>Reported to <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/3703\" rel=\"nofollow noreferrer\">github/aws/aws-sdk-java-v2</a></p>\n<p><a href=\"https://stackoverflow.com/questions/29931897/aws-crc32-mismatch-dynamo\">Related but not the same stackoverflow question</a></p>\n"},{"tags":["java","android","android-layout","runnable"],"answers":[{"comments":[{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1675161435,"post_id":75290635,"comment_id":132864359,"body_markdown":"Hi, I have updated the formula(x,y) function as I forgot to say that  I am setting margin of a third element after doing a mathematical operation with both width&#39;s. I thought that setting some attributes of an element like the margins in this case should be done in the onCreate() method and not in the onStart() method. I have seen that in this post https://stackoverflow.com/questions/3591784/views-getwidth-and-getheight-returns-0/24035591#24035591 none of the answers say to use the onStart() method and I am surprised that it is as simple as that.","body":"Hi, I have updated the formula(x,y) function as I forgot to say that  I am setting margin of a third element after doing a mathematical operation with both width&#39;s. I thought that setting some attributes of an element like the margins in this case should be done in the onCreate() method and not in the onStart() method. I have seen that in this post <a href=\"https://stackoverflow.com/questions/3591784/views-getwidth-and-getheight-returns-0/24035591#24035591\" title=\"views getwidth and getheight returns 0\">stackoverflow.com/questions/3591784/&hellip;</a> none of the answers say to use the onStart() method and I am surprised that it is as simple as that."},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1675161481,"post_id":75290635,"comment_id":132864368,"body_markdown":"Then, is it okay to use what you said in your answer although I need both width&#39;s to setMargins of another element?","body":"Then, is it okay to use what you said in your answer although I need both width&#39;s to setMargins of another element?"},{"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"score":0,"creation_date":1675254225,"post_id":75290635,"comment_id":132887875,"body_markdown":"So you need to use the width of view1 and view2 to calculate the margin of let&#39;s say view3. And I am guessing widths of view1 and 2 are calculated and not static (let me know if this is wrong). `onStart()` is called after everything is rendered on the user&#39;s screen. Depending on how and where you set the width1 and width2, you can either do it in the `onCreate()` or in `onStart()`. If you did it using extended style sheets object or just the stylesheet object, then I think you should be able to call `getWidth` and `setWidth` without the `post` inside the `onCreate`, and this way is fine.","body":"So you need to use the width of view1 and view2 to calculate the margin of let&#39;s say view3. And I am guessing widths of view1 and 2 are calculated and not static (let me know if this is wrong). <code>onStart()</code> is called after everything is rendered on the user&#39;s screen. Depending on how and where you set the width1 and width2, you can either do it in the <code>onCreate()</code> or in <code>onStart()</code>. If you did it using extended style sheets object or just the stylesheet object, then I think you should be able to call <code>getWidth</code> and <code>setWidth</code> without the <code>post</code> inside the <code>onCreate</code>, and this way is fine."},{"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"score":0,"creation_date":1675345397,"post_id":75290635,"comment_id":132911967,"body_markdown":"Is everything alright now?","body":"Is everything alright now?"},{"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"score":0,"creation_date":1675369150,"post_id":75290635,"comment_id":132920013,"body_markdown":"Hi, I have edited the question to let you see how I am changing the width of view1 and view2 in the onCreate() method. If I get width in onCreate() method it returns 0, what it is working is using the post, as I need to get both values `after the new margins are applied`. And after obtaining both width&#39;s I need to setMargins of a third element, but as I have used setMargins() for view1 and view2 in onCreate(), if I obtain the width  in the onStart() method, I would have to setMargins of third element in onStart() method instead of onCreate() as view1 and view2? is that right?","body":"Hi, I have edited the question to let you see how I am changing the width of view1 and view2 in the onCreate() method. If I get width in onCreate() method it returns 0, what it is working is using the post, as I need to get both values <code>after the new margins are applied</code>. And after obtaining both width&#39;s I need to setMargins of a third element, but as I have used setMargins() for view1 and view2 in onCreate(), if I obtain the width  in the onStart() method, I would have to setMargins of third element in onStart() method instead of onCreate() as view1 and view2? is that right?"},{"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"score":0,"creation_date":1675461196,"post_id":75290635,"comment_id":132941616,"body_markdown":"Yes that&#39;s right. And I am guessing that will cause a change on the user&#39;s UI after the it is loaded, which is not that pretty.","body":"Yes that&#39;s right. And I am guessing that will cause a change on the user&#39;s UI after the it is loaded, which is not that pretty."}],"tags":[],"owner":{"account_id":11944159,"reputation":767,"user_id":8739916,"accept_rate":71,"display_name":"JollyRoger"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675116188,"creation_date":1675116188,"answer_id":75290635,"question_id":75290335,"body_markdown":"Please see the activity lifecycle here: https://developer.android.com/guide/components/activities/activity-lifecycle.\r\n\r\nThe drawing is already over when the `onStart()` method is called. So you can directly call `view1.getWidth()` and `view2.getWidth()` inside this method, without using the `post()` call.","title":"Get width of two elements after the drawing phase at the same time","body":"<p>Please see the activity lifecycle here: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/activity-lifecycle</a>.</p>\n<p>The drawing is already over when the <code>onStart()</code> method is called. So you can directly call <code>view1.getWidth()</code> and <code>view2.getWidth()</code> inside this method, without using the <code>post()</code> call.</p>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675368643,"creation_date":1675114000,"question_id":75290335,"body_markdown":"I have seen in the following answer: https://stackoverflow.com/a/24035591 of another post that to get the width of an element after the drawing phase I can do the following:\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.my_activity);\r\n        View view1,view2;\r\n        int width1,width2;&#180;\r\n\r\n\r\n            view1.post(() -&gt; {\r\n              width1=view1.getWidth();\r\n                            }\r\n    }\r\n\r\nWhat if I want to get the width of 2 elements (view1 and view2) instead of only one element as I am using both values in the same mathematical formula?\r\n\r\nShould I do this? --&gt;\r\n\r\n    view1.post(() -&gt; {\r\n                  width1=view1.getWidth();\r\n                  width2=view2.getWidth();\r\n                     formula(width1,width2);\r\n                                }\r\n\r\nOr should I do this(I don&#39;t know if it is okay to put a runnable inside another runnable) --&gt;\r\n\r\n    view1.post(() -&gt; {\r\n                  width1=view1.getWidth();\r\n                  view2.post(() -&gt; {\r\n                   width2=view2.getWidth();\r\n                   formula(width1,width2);\r\n\r\n                   }\r\n                                }\r\n\r\nI can&#39;t do the following as I need both width&#39;s to be used in the same formula:\r\n\r\n    view1.post(() -&gt; {\r\n                  width1=view1.getWidth();\r\n                                }\r\n    view2.post(() -&gt; {\r\n                  width2=view2.getWidth();\r\n                                }\r\n\r\nBoth of the possibilities are working, but I would like to know which one is better or if there is another option to get both width&#39;s as I need them together as I am using them in one mathematical formula.\r\n\r\nNote that formula(x,y) will use both width&#39;s to setMargins of another element:\r\n\r\n    TextView text1;\r\n    formula(x,y){\r\n    int z = x + y;\r\n        ConstraintLayout.LayoutParams params = \r\n       (ConstraintLayout.LayoutParams) text1.getLayoutParams();\r\n        params.setMargins(0,z,0,0);\r\n        text1.setLayoutParams(params);\r\n    }\r\n\r\nEDIT:\r\n\r\nwhat I have in OnCreate:\r\n\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.my_activity);\r\n\r\n     /*I set margins of view1 and view2 so that the width of both \r\n     is changing (this is why if I call getWidth of view1 and view2 in this \r\n     method, it will take the very first width (the width without the new \r\n     margins) */\r\n     \r\n        ConstraintLayout.LayoutParams params1 = \r\n       (ConstraintLayout.LayoutParams) view1.getLayoutParams();\r\n        params1.setMargins(X,0,X,0);\r\n        view1.setLayoutParams(params1);\r\n\r\n\r\n        ConstraintLayout.LayoutParams params2 = \r\n       (ConstraintLayout.LayoutParams) view2.getLayoutParams();\r\n        params2.setMargins(X,0,X,0);\r\n        view2.setLayoutParams(params2);\r\n\r\n        //X is a non-static value \r\n\r\n     }","title":"Get width of two elements after the drawing phase at the same time","body":"<p>I have seen in the following answer: <a href=\"https://stackoverflow.com/a/24035591\">https://stackoverflow.com/a/24035591</a> of another post that to get the width of an element after the drawing phase I can do the following:</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.my_activity);\n    View view1,view2;\n    int width1,width2;´\n\n\n        view1.post(() -&gt; {\n          width1=view1.getWidth();\n                        }\n}\n</code></pre>\n<p>What if I want to get the width of 2 elements (view1 and view2) instead of only one element as I am using both values in the same mathematical formula?</p>\n<p>Should I do this? --&gt;</p>\n<pre><code>view1.post(() -&gt; {\n              width1=view1.getWidth();\n              width2=view2.getWidth();\n                 formula(width1,width2);\n                            }\n</code></pre>\n<p>Or should I do this(I don't know if it is okay to put a runnable inside another runnable) --&gt;</p>\n<pre><code>view1.post(() -&gt; {\n              width1=view1.getWidth();\n              view2.post(() -&gt; {\n               width2=view2.getWidth();\n               formula(width1,width2);\n\n               }\n                            }\n</code></pre>\n<p>I can't do the following as I need both width's to be used in the same formula:</p>\n<pre><code>view1.post(() -&gt; {\n              width1=view1.getWidth();\n                            }\nview2.post(() -&gt; {\n              width2=view2.getWidth();\n                            }\n</code></pre>\n<p>Both of the possibilities are working, but I would like to know which one is better or if there is another option to get both width's as I need them together as I am using them in one mathematical formula.</p>\n<p>Note that formula(x,y) will use both width's to setMargins of another element:</p>\n<pre><code>TextView text1;\nformula(x,y){\nint z = x + y;\n    ConstraintLayout.LayoutParams params = \n   (ConstraintLayout.LayoutParams) text1.getLayoutParams();\n    params.setMargins(0,z,0,0);\n    text1.setLayoutParams(params);\n}\n</code></pre>\n<p>EDIT:</p>\n<p>what I have in OnCreate:</p>\n<pre><code>protected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.my_activity);\n\n /*I set margins of view1 and view2 so that the width of both \n is changing (this is why if I call getWidth of view1 and view2 in this \n method, it will take the very first width (the width without the new \n margins) */\n \n    ConstraintLayout.LayoutParams params1 = \n   (ConstraintLayout.LayoutParams) view1.getLayoutParams();\n    params1.setMargins(X,0,X,0);\n    view1.setLayoutParams(params1);\n\n\n    ConstraintLayout.LayoutParams params2 = \n   (ConstraintLayout.LayoutParams) view2.getLayoutParams();\n    params2.setMargins(X,0,X,0);\n    view2.setLayoutParams(params2);\n\n    //X is a non-static value \n\n }\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1675423277,"post_id":75328434,"comment_id":132930623,"body_markdown":"Thanks, but as you see my problem is java, so your javascript sample does not really help","body":"Thanks, but as you see my problem is java, so your javascript sample does not really help"},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1675426038,"post_id":75328434,"comment_id":132931393,"body_markdown":"Ok, good point and correct problem is the same for every language. Actually I try to follow your advice and transfer it to my code.","body":"Ok, good point and correct problem is the same for every language. Actually I try to follow your advice and transfer it to my code."},{"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"score":0,"creation_date":1675451367,"post_id":75328434,"comment_id":132939430,"body_markdown":"maybe you have a sketch where i can see what points x1, x2, x3 are ...  a image says more than 1000 words approach :-)","body":"maybe you have a sketch where i can see what points x1, x2, x3 are ...  a image says more than 1000 words approach :-)"}],"owner":{"account_id":1426774,"reputation":6585,"user_id":1350066,"accept_rate":47,"display_name":"Al Phaba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675368482,"creation_date":1675368482,"question_id":75328434,"body_markdown":"My aim is to add a image to a pdf and write a text above this image. I have centered the image and the text should be center above the image with a little margin to the image. \r\n\r\nCurrently the image will be added and centered but the text is not centered. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cVI1S.jpg\r\n\r\nHere my current code. The interesting part is where the method drawTitleAtTop will be called. Here i have added the height of the newly added image to the y postion plus a margin of 3. The x coordinate I calculate depending on the incoming text but there is some miscalculation. Any advice? \r\n\r\n\r\n    private static void addScaledImage(ImageData imgData, PDDocument pdDocument, Dimension thePdfDimension) {\r\n        ImageHelper helper = Scalr::resize;\r\n        byte[] scaledImage = ImageUtils.resizeImageKeepAspectRatio(helper, imgData.getImageBinary(), thePdfDimension.width);\r\n\r\n        PDRectangle rectangle = pdDocument.getPage(0).getMediaBox();\r\n        PDPage page = new PDPage(rectangle);\r\n        pdDocument.addPage(page);\r\n        PDImageXObject pdImage = null;\r\n        try {\r\n            pdImage = PDImageXObject.createFromByteArray(pdDocument, scaledImage, null);\r\n            LOG.debug(&quot;size of scaled image is x: {0} y {1}&quot;, pdImage.getWidth(), pdImage.getHeight());\r\n            int xForImage = (thePdfDimension.width - pdImage.getWidth()) / 2 ;\r\n            int yForImage = (thePdfDimension.height - pdImage.getHeight()) / 2;\r\n            LOG.debug(&quot;new x {0} new y {1}&quot;, xForImage, yForImage);\r\n            try (PDPageContentStream contentStream = new PDPageContentStream(pdDocument, page, AppendMode.APPEND, true, true)) {\r\n                if (StringUtils.isNotBlank(imgData.getTitle())) {\r\n                    yForImage = xForImage - 20;\r\n                    contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\r\n                    drawTitelAtTop(imgData, page, xForImage , yForImage + pdImage.getHeight() + 3, contentStream);\r\n                } else {\r\n                    contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static void drawTitelAtTop(ImageData imgData, PDPage page, int x, int y,  PDPageContentStream contentStream) throws IOException {\r\n        PDFont font = PDType1Font.COURIER;\r\n        int fontSize = FONT_SIZE_FOR_TITLE;\r\n\r\n        float titleWidth = font.getStringWidth(imgData.getTitle()) / 1000 * fontSize;\r\n        LOG.debug(&quot;title width is &quot; + titleWidth);\r\n        contentStream.setFont(font, fontSize);\r\n        contentStream.beginText();\r\n        float tx = ((x - titleWidth) / 2) + x;\r\n        //float tx = x;\r\n        //float ty = page.getMediaBox().getHeight() - marginTop + (marginTop / 4);\r\n        float ty = y;\r\n        LOG.debug(&quot;title offset x {0} y {1}&quot;, tx, ty);\r\n        contentStream.newLineAtOffset(tx,\r\n            ty);\r\n\r\n        contentStream.showText(imgData.getTitle());\r\n        contentStream.endText();\r\n\r\n    }\r\n\r\n\r\n","title":"How to add a text above a previous added image and center it above this image with pdfbox?","body":"<p>My aim is to add a image to a pdf and write a text above this image. I have centered the image and the text should be center above the image with a little margin to the image.</p>\n<p>Currently the image will be added and centered but the text is not centered.</p>\n<p><a href=\"https://i.stack.imgur.com/cVI1S.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cVI1S.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here my current code. The interesting part is where the method drawTitleAtTop will be called. Here i have added the height of the newly added image to the y postion plus a margin of 3. The x coordinate I calculate depending on the incoming text but there is some miscalculation. Any advice?</p>\n<pre><code>private static void addScaledImage(ImageData imgData, PDDocument pdDocument, Dimension thePdfDimension) {\n    ImageHelper helper = Scalr::resize;\n    byte[] scaledImage = ImageUtils.resizeImageKeepAspectRatio(helper, imgData.getImageBinary(), thePdfDimension.width);\n\n    PDRectangle rectangle = pdDocument.getPage(0).getMediaBox();\n    PDPage page = new PDPage(rectangle);\n    pdDocument.addPage(page);\n    PDImageXObject pdImage = null;\n    try {\n        pdImage = PDImageXObject.createFromByteArray(pdDocument, scaledImage, null);\n        LOG.debug(&quot;size of scaled image is x: {0} y {1}&quot;, pdImage.getWidth(), pdImage.getHeight());\n        int xForImage = (thePdfDimension.width - pdImage.getWidth()) / 2 ;\n        int yForImage = (thePdfDimension.height - pdImage.getHeight()) / 2;\n        LOG.debug(&quot;new x {0} new y {1}&quot;, xForImage, yForImage);\n        try (PDPageContentStream contentStream = new PDPageContentStream(pdDocument, page, AppendMode.APPEND, true, true)) {\n            if (StringUtils.isNotBlank(imgData.getTitle())) {\n                yForImage = xForImage - 20;\n                contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\n                drawTitelAtTop(imgData, page, xForImage , yForImage + pdImage.getHeight() + 3, contentStream);\n            } else {\n                contentStream.drawImage(pdImage, xForImage, yForImage, pdImage.getWidth(), pdImage.getHeight());\n            }\n        }\n\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate static void drawTitelAtTop(ImageData imgData, PDPage page, int x, int y,  PDPageContentStream contentStream) throws IOException {\n    PDFont font = PDType1Font.COURIER;\n    int fontSize = FONT_SIZE_FOR_TITLE;\n\n    float titleWidth = font.getStringWidth(imgData.getTitle()) / 1000 * fontSize;\n    LOG.debug(&quot;title width is &quot; + titleWidth);\n    contentStream.setFont(font, fontSize);\n    contentStream.beginText();\n    float tx = ((x - titleWidth) / 2) + x;\n    //float tx = x;\n    //float ty = page.getMediaBox().getHeight() - marginTop + (marginTop / 4);\n    float ty = y;\n    LOG.debug(&quot;title offset x {0} y {1}&quot;, tx, ty);\n    contentStream.newLineAtOffset(tx,\n        ty);\n\n    contentStream.showText(imgData.getTitle());\n    contentStream.endText();\n\n}\n</code></pre>\n"},{"tags":["java","rest","jax-rs","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1674818230,"post_id":75256948,"comment_id":132798870,"body_markdown":"I have never used it, but `@ClientURI` may be the solution (https://docs.jboss.org/resteasy/docs/3.8.1.Final/userguide/html_single/index.html#ClientURI).\nLet me know!","body":"I have never used it, but <code>@ClientURI</code> may be the solution (<a href=\"https://docs.jboss.org/resteasy/docs/3.8.1.Final/userguide/html_single/index.html#ClientURI\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/3.8.1.Final/userguide/html_sin&zwnj;&#8203;gle/&hellip;</a>). Let me know!"}],"answers":[{"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675368248,"creation_date":1675368248,"answer_id":75328394,"question_id":75256948,"body_markdown":"You should use Regex in your @Path definition, something like this:\r\n\r\n    @GET\r\n    @Path(“/{varPath : .+}”)\r\n    Response getJson(@PathParam(“varPath”) String endpoint);\r\n\r\nThis will match anything that comes after /json. \r\n\r\nFor more info search: “JAXRS path Regex”, on Google.  ","title":"Variable length endpoints in jax-rs/microprofile client with Quarkus","body":"<p>You should use Regex in your @Path definition, something like this:</p>\n<pre><code>@GET\n@Path(“/{varPath : .+}”)\nResponse getJson(@PathParam(“varPath”) String endpoint);\n</code></pre>\n<p>This will match anything that comes after /json.</p>\n<p>For more info search: “JAXRS path Regex”, on Google.</p>\n"}],"owner":{"account_id":17332604,"reputation":53,"user_id":12555300,"display_name":"Grizzlyman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675368248,"creation_date":1674815939,"question_id":75256948,"body_markdown":"I&#39;m facing the following issue and have been able to find a proper fix.\r\n\r\nAs a use case example, let&#39;s imagine a Rest client that fetches a json object from a server, where the request is the path to the object. This api does not accept query parameters nor bodies, and no catalogue is available.\r\n\r\nsay that I have the following RestClient:\r\n\r\n```\r\n@Path(&quot;/json&quot;)\r\n@RegisterRestClient(configKey=&quot;json-api&quot;)\r\npublic interface JsonService {\r\n\r\n    @GET\r\n    @Path(&quot;/{MyVariableLengthEndpoint}&quot;)\r\n    Response getJson(@PathParam(&quot;MyVariableLengthEndpoint&quot;) ????? endpoint);\r\n}\r\n```\r\n\r\nExamples of requests could be :\r\n- ```/json/employees/Dwight/jobs/assistantRegionalManager/salary```\r\n- ```/json/games/theLastOfUs/rating```\r\n\r\n\r\nPassing a string with / characters gets encoded with %. To bypass this, I&#39;ve tried:\r\n- Using the @Encoded annotation\r\n- Adding a regex in the pathParameter ```{MyVariableLengthEndpoint: .*}```\r\n- Passing a ```List&lt;PathSegment&gt;```\r\n\r\nNone of those worked.\r\n\r\nIs there a proper way to do this ?\r\n","title":"Variable length endpoints in jax-rs/microprofile client with Quarkus","body":"<p>I'm facing the following issue and have been able to find a proper fix.</p>\n<p>As a use case example, let's imagine a Rest client that fetches a json object from a server, where the request is the path to the object. This api does not accept query parameters nor bodies, and no catalogue is available.</p>\n<p>say that I have the following RestClient:</p>\n<pre><code>@Path(&quot;/json&quot;)\n@RegisterRestClient(configKey=&quot;json-api&quot;)\npublic interface JsonService {\n\n    @GET\n    @Path(&quot;/{MyVariableLengthEndpoint}&quot;)\n    Response getJson(@PathParam(&quot;MyVariableLengthEndpoint&quot;) ????? endpoint);\n}\n</code></pre>\n<p>Examples of requests could be :</p>\n<ul>\n<li><code>/json/employees/Dwight/jobs/assistantRegionalManager/salary</code></li>\n<li><code>/json/games/theLastOfUs/rating</code></li>\n</ul>\n<p>Passing a string with / characters gets encoded with %. To bypass this, I've tried:</p>\n<ul>\n<li>Using the @Encoded annotation</li>\n<li>Adding a regex in the pathParameter <code>{MyVariableLengthEndpoint: .*}</code></li>\n<li>Passing a <code>List&lt;PathSegment&gt;</code></li>\n</ul>\n<p>None of those worked.</p>\n<p>Is there a proper way to do this ?</p>\n"},{"tags":["java","security","ssl","tls1.2"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1675369242,"post_id":75295692,"comment_id":132920040,"body_markdown":"you can enable ciphers by deleting those from ```jdk.tls.disabledAlgorithms``` but that is a bad idea. your customer should configure the client to not use old/unsupported ciphers.","body":"you can enable ciphers by deleting those from <code>jdk.tls.disabledAlgorithms</code> but that is a bad idea. your customer should configure the client to not use old/unsupported ciphers."}],"owner":{"account_id":27664912,"reputation":1,"user_id":21116956,"display_name":"Bernhard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675368046,"creation_date":1675160515,"question_id":75295692,"body_markdown":"we use Java Version 11.0.17 for our dataconverter. Now a customer send an http string to our DMZ Server and i can see a Client Hello with \r\n\r\n```\r\n&quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n&quot;random&quot;              : &quot;63 D7 9D B4 73 10 AC 67 B6 8A 12 BA 20 07 5D FE 61 B8 0C 36 36 BF 6C B7 30 78 F2 78 16 50 DB 05&quot;,\r\n&quot;session id&quot;          : &quot;&quot;,\r\n&quot;cipher suites&quot;       : &quot;[TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), \r\nTLS_RSA_WITH_CAMELLIA_256_GCM_SHA384(0xC07B), \r\nTLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), \r\nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA256(0x00C0), \r\nTLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), \r\nTLS_RSA_WITH_CAMELLIA_128_GCM_SHA256(0xC07A), \r\nTLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), \r\nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA256(0x00BA), \r\nTLS_RSA_WITH_AES_256_CBC_SHA(0x0035), \r\nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA(0x0084), \r\nTLS_RSA_WITH_AES_128_CBC_SHA(0x002F), \r\nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA(0x0041), \r\nSSL_RSA_WITH_3DES_EDE_CBC_SHA(0x000A), \r\nSSL_RSA_WITH_RC4_128_SHA(0x0005)]&quot;,\r\n&quot;compression methods&quot; : &quot;00&quot;,\r\n&quot;extensions&quot;          : [\r\n&quot;renegotiation_info (65,281)&quot;: {\r\n&quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\r\n},\r\n&quot;signature_algorithms (13)&quot;: {\r\n&quot;signature schemes&quot;: [rsa_pkcs1_sha256, dsa_sha256, rsa_pkcs1_sha384, dsa_sha384, rsa_pkcs1_sha512, dsa_sha512, rsa_pkcs1_sha1, dsa_sha1]\r\n```\r\nand than I see the error\r\n```\r\njavax.net.ssl|ERROR|8B|qtp469987539-139|2023-01-30 11:36:36.396 CET|TransportContext.java:345|Fatal (HANDSHAKE_FAILURE): no cipher suites in common (\r\n&quot;throwable&quot; : {\r\n\r\njavax.net.ssl.SSLHandshakeException: no cipher suites in common\r\n```\r\nNow my question is has these something to do with the java.security file and where in these file must we enter these ciphers ?","title":"no cipher suites in common java.security","body":"<p>we use Java Version 11.0.17 for our dataconverter. Now a customer send an http string to our DMZ Server and i can see a Client Hello with</p>\n<pre><code>&quot;client version&quot;      : &quot;TLSv1.2&quot;,\n&quot;random&quot;              : &quot;63 D7 9D B4 73 10 AC 67 B6 8A 12 BA 20 07 5D FE 61 B8 0C 36 36 BF 6C B7 30 78 F2 78 16 50 DB 05&quot;,\n&quot;session id&quot;          : &quot;&quot;,\n&quot;cipher suites&quot;       : &quot;[TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), \nTLS_RSA_WITH_CAMELLIA_256_GCM_SHA384(0xC07B), \nTLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), \nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA256(0x00C0), \nTLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), \nTLS_RSA_WITH_CAMELLIA_128_GCM_SHA256(0xC07A), \nTLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), \nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA256(0x00BA), \nTLS_RSA_WITH_AES_256_CBC_SHA(0x0035), \nTLS_RSA_WITH_CAMELLIA_256_CBC_SHA(0x0084), \nTLS_RSA_WITH_AES_128_CBC_SHA(0x002F), \nTLS_RSA_WITH_CAMELLIA_128_CBC_SHA(0x0041), \nSSL_RSA_WITH_3DES_EDE_CBC_SHA(0x000A), \nSSL_RSA_WITH_RC4_128_SHA(0x0005)]&quot;,\n&quot;compression methods&quot; : &quot;00&quot;,\n&quot;extensions&quot;          : [\n&quot;renegotiation_info (65,281)&quot;: {\n&quot;renegotiated connection&quot;: [&lt;no renegotiated connection&gt;]\n},\n&quot;signature_algorithms (13)&quot;: {\n&quot;signature schemes&quot;: [rsa_pkcs1_sha256, dsa_sha256, rsa_pkcs1_sha384, dsa_sha384, rsa_pkcs1_sha512, dsa_sha512, rsa_pkcs1_sha1, dsa_sha1]\n</code></pre>\n<p>and than I see the error</p>\n<pre><code>javax.net.ssl|ERROR|8B|qtp469987539-139|2023-01-30 11:36:36.396 CET|TransportContext.java:345|Fatal (HANDSHAKE_FAILURE): no cipher suites in common (\n&quot;throwable&quot; : {\n\njavax.net.ssl.SSLHandshakeException: no cipher suites in common\n</code></pre>\n<p>Now my question is has these something to do with the java.security file and where in these file must we enter these ciphers ?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":9143806,"reputation":324,"user_id":6800811,"display_name":"Brunaldo"},"score":0,"creation_date":1477257277,"post_id":40207849,"comment_id":67680235,"body_markdown":"Include your code in the question please.","body":"Include your code in the question please."},{"owner":{"account_id":4937836,"reputation":7207,"user_id":3975480,"accept_rate":93,"display_name":"manniL"},"score":2,"creation_date":1477257289,"post_id":40207849,"comment_id":67680238,"body_markdown":"Please do not post your code as image!","body":"Please do not post your code as image!"},{"owner":{"account_id":2791991,"reputation":4341,"user_id":2402061,"accept_rate":88,"display_name":"Ricky Mutschlechner"},"score":0,"creation_date":1477258485,"post_id":40207849,"comment_id":67680554,"body_markdown":"To swap two of anything, a and b, you must do something like the following. `tmp = a; a = b; b = tmp;`","body":"To swap two of anything, a and b, you must do something like the following. <code>tmp = a; a = b; b = tmp;</code>"}],"answers":[{"comments":[{"owner":{"account_id":7020515,"reputation":1,"user_id":7040637,"display_name":"Mike"},"score":0,"creation_date":1477259602,"post_id":40208150,"comment_id":67680846,"body_markdown":"Part of the reason I want to exchange the nodes is because I am trying to gain a deeper understanding of nodes. I know it may not be the most effective method but I care more about the understanding for now.","body":"Part of the reason I want to exchange the nodes is because I am trying to gain a deeper understanding of nodes. I know it may not be the most effective method but I care more about the understanding for now."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477261770,"creation_date":1477259368,"answer_id":40208150,"question_id":40207849,"body_markdown":"Why exchange nodes, when you can exchange the data?\r\n\r\n    public void swap(int i, int j) {\r\n\r\n        sllNode ithNode = head;\r\n        for (int z = 0; z &lt; i; z++) {\r\n            ithNode = ithNode.next;\r\n        }\r\n\r\n        sllNode jthNode = head;\r\n        for (int q = 0; q &lt; j; q++) {\r\n            jthNode = jthNode.next;\r\n        }\r\n\r\n        // Swap the data        \r\n        String data = ithNode.data;\r\n        ithNode.data = jthNode.data;\r\n        jthNode.data = data;\r\n    }\r\n\r\nIt would make sense to use a method:\r\n\r\n    public sllNode get(int i) {\r\n        sllNode current = head;\r\n        while (i &gt; 0) {\r\n            current = current.next;\r\n        }\r\n        return current;\r\n    }\r\n\r\nBy the way:\r\n\r\n- The convention for class names is a beginning capital: `SllNode`.\r\n- Do not use fields for things like `current` and `current2` where they can be local variables.\r\n\r\n--------------------------------\r\n***Exchanging nodes, the hard way***\r\n\r\nHere one has to think, so it is best to deal with special cases first, and then only treat `i &lt; j`.\r\n\r\n    public void swap(int i, int j) {\r\n        if (i &gt;= size() || j &gt;= size()) {\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        if (i == j) {\r\n            return;\r\n        }\r\n        if (j &lt; i) {\r\n            swap(j, i);\r\n            return;\r\n        }\r\n\r\n        // i &lt; j\r\n\r\n        sllNode ithPredecessor = null;\r\n        sllNode ithNode = head;\r\n        for (int z = 0; z &lt; i; z++) {\r\n            ithPredecessor = ithNode;\r\n            ithNode = ithNode.next;\r\n        }\r\n\r\n        sllNode jthPredecessor = ithNode;\r\n        sllNode jthNode = ithNode.next;\r\n        for (int q = i + 1; q &lt; j; q++) {\r\n            jthPredecessor = jthNode;\r\n            jthNode = jthNode.next;\r\n        }\r\n\r\n        // Relink both nodes in the list:\r\n\r\n        // - The jthNode:\r\n        if (ithPredecessor == null) {\r\n            head = jthNode;\r\n        } else {\r\n            ithPredecessor.next = jthNode;\r\n        }\r\n        sllNode jNext = jthNode.next;\r\n        //if (ithNode.next == jthNode) {\r\n        if (jthPredecessor == ithNode) {\r\n            jthNode.next = ithNode;\r\n        } else {\r\n            jthNode.next = ithNode.next;\r\n        }\r\n        \r\n        // - The ithNode:\r\n        if (jthPredecessor == ithNode) {\r\n        } else {\r\n            jthPredecessor.next = ithNode;\r\n        }\r\n        ithNode.next = jNext;\r\n    }\r\n\r\nNo guarantee that the logic is okay. There are tricks:\r\n\r\n        //if (ithNode.next == jthNode) {\r\n        if (jthPredecessor == ithNode) {\r\n\r\nBoth conditions test whether `i + 1 == j`, but testing on a .next and then assigning makes the condition a momentary state. As you see it would have been easier to have one single `if (i + 1 == j) { ... } else { ... }` and handle both the ithNode and jthNode.","title":"Swapping nodes in a singly linked list java","body":"<p>Why exchange nodes, when you can exchange the data?</p>\n\n<pre><code>public void swap(int i, int j) {\n\n    sllNode ithNode = head;\n    for (int z = 0; z &lt; i; z++) {\n        ithNode = ithNode.next;\n    }\n\n    sllNode jthNode = head;\n    for (int q = 0; q &lt; j; q++) {\n        jthNode = jthNode.next;\n    }\n\n    // Swap the data        \n    String data = ithNode.data;\n    ithNode.data = jthNode.data;\n    jthNode.data = data;\n}\n</code></pre>\n\n<p>It would make sense to use a method:</p>\n\n<pre><code>public sllNode get(int i) {\n    sllNode current = head;\n    while (i &gt; 0) {\n        current = current.next;\n    }\n    return current;\n}\n</code></pre>\n\n<p>By the way:</p>\n\n<ul>\n<li>The convention for class names is a beginning capital: <code>SllNode</code>.</li>\n<li>Do not use fields for things like <code>current</code> and <code>current2</code> where they can be local variables.</li>\n</ul>\n\n<hr>\n\n<p><strong><em>Exchanging nodes, the hard way</em></strong></p>\n\n<p>Here one has to think, so it is best to deal with special cases first, and then only treat <code>i &lt; j</code>.</p>\n\n<pre><code>public void swap(int i, int j) {\n    if (i &gt;= size() || j &gt;= size()) {\n        throw new IndexOutOfBoundsException();\n    }\n    if (i == j) {\n        return;\n    }\n    if (j &lt; i) {\n        swap(j, i);\n        return;\n    }\n\n    // i &lt; j\n\n    sllNode ithPredecessor = null;\n    sllNode ithNode = head;\n    for (int z = 0; z &lt; i; z++) {\n        ithPredecessor = ithNode;\n        ithNode = ithNode.next;\n    }\n\n    sllNode jthPredecessor = ithNode;\n    sllNode jthNode = ithNode.next;\n    for (int q = i + 1; q &lt; j; q++) {\n        jthPredecessor = jthNode;\n        jthNode = jthNode.next;\n    }\n\n    // Relink both nodes in the list:\n\n    // - The jthNode:\n    if (ithPredecessor == null) {\n        head = jthNode;\n    } else {\n        ithPredecessor.next = jthNode;\n    }\n    sllNode jNext = jthNode.next;\n    //if (ithNode.next == jthNode) {\n    if (jthPredecessor == ithNode) {\n        jthNode.next = ithNode;\n    } else {\n        jthNode.next = ithNode.next;\n    }\n\n    // - The ithNode:\n    if (jthPredecessor == ithNode) {\n    } else {\n        jthPredecessor.next = ithNode;\n    }\n    ithNode.next = jNext;\n}\n</code></pre>\n\n<p>No guarantee that the logic is okay. There are tricks:</p>\n\n<pre><code>    //if (ithNode.next == jthNode) {\n    if (jthPredecessor == ithNode) {\n</code></pre>\n\n<p>Both conditions test whether <code>i + 1 == j</code>, but testing on a .next and then assigning makes the condition a momentary state. As you see it would have been easier to have one single <code>if (i + 1 == j) { ... } else { ... }</code> and handle both the ithNode and jthNode.</p>\n"},{"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477260115,"creation_date":1477260115,"answer_id":40208237,"question_id":40207849,"body_markdown":"To do this, you need to swap 2 things: the node as next from the previous node, and the next node.\r\n\r\nOnce you found `current` and `current2` which are the previous nodes of the nodes you want to swap, do this:\r\n\r\nSwap the nodes:\r\n\r\n    sllNode tmp = current.next;\r\n    current.next = current2.next;\r\n    current2.next = tmp;\r\n\r\nThen swap the next:\r\n\r\n    tmp = current.next.next;\r\n    current.next.next = current2.next.next;\r\n    current2.next.next = tmp;","title":"Swapping nodes in a singly linked list java","body":"<p>To do this, you need to swap 2 things: the node as next from the previous node, and the next node.</p>\n\n<p>Once you found <code>current</code> and <code>current2</code> which are the previous nodes of the nodes you want to swap, do this:</p>\n\n<p>Swap the nodes:</p>\n\n<pre><code>sllNode tmp = current.next;\ncurrent.next = current2.next;\ncurrent2.next = tmp;\n</code></pre>\n\n<p>Then swap the next:</p>\n\n<pre><code>tmp = current.next.next;\ncurrent.next.next = current2.next.next;\ncurrent2.next.next = tmp;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6009008,"reputation":17,"user_id":4719987,"display_name":"Salil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675367777,"creation_date":1675367777,"answer_id":75328329,"question_id":40207849,"body_markdown":"// Swapping two elements in a Linked List using  Java\r\n  \r\nimport java.util.*;\r\n  \r\nclass SwappingTwoElements {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n  \r\n        LinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;();\r\n  \r\n        // Adding elements to Linked List\r\n        ll.add(10);\r\n        ll.add(11);\r\n        ll.add(12);\r\n        ll.add(13);\r\n        ll.add(14);\r\n        ll.add(15);\r\n  \r\n        // Elements to swap\r\n        int element1 = 11;\r\n        int element2 = 14;\r\n  \r\n        System.out.println(&quot;Linked List Before Swapping :-&quot;);\r\n  \r\n        for (int i : ll) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n  \r\n        // Swapping the elements\r\n        swap(ll, element1, element2);\r\n        System.out.println();\r\n        System.out.println();\r\n  \r\n        System.out.println(&quot;Linked List After Swapping :-&quot;);\r\n  \r\n        for (int i : ll) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n    }\r\n  \r\n    // Swap Function\r\n    public static void swap(LinkedList&lt;Integer&gt; list,\r\n                            int ele1, int ele2)\r\n    {\r\n  \r\n        // Getting the positions of the elements\r\n        int index1 = list.indexOf(ele1);\r\n        int index2 = list.indexOf(ele2);\r\n  \r\n        // Returning if the element is not present in the\r\n        // LinkedList\r\n        if (index1 == -1 || index2 == -1) {\r\n            return;\r\n        }\r\n  \r\n        // Swapping the elements\r\n        list.set(index1, ele2);\r\n        list.set(index2, ele1);\r\n    }\r\n}\r\nOutput\r\nBefore Swapping Linked List  :-\r\n10 11 12 13 14 15 \r\n\r\nAfter Swapping Linked List  :-\r\n10 14 12 13 11 15\r\nTime Complexity: O(N), where N is the  Linked List length ","title":"Swapping nodes in a singly linked list java","body":"<p>// Swapping two elements in a Linked List using  Java</p>\n<p>import java.util.*;</p>\n<p>class SwappingTwoElements {</p>\n<pre><code>public static void main(String[] args)\n{\n\n    LinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;();\n\n    // Adding elements to Linked List\n    ll.add(10);\n    ll.add(11);\n    ll.add(12);\n    ll.add(13);\n    ll.add(14);\n    ll.add(15);\n\n    // Elements to swap\n    int element1 = 11;\n    int element2 = 14;\n\n    System.out.println(&quot;Linked List Before Swapping :-&quot;);\n\n    for (int i : ll) {\n        System.out.print(i + &quot; &quot;);\n    }\n\n    // Swapping the elements\n    swap(ll, element1, element2);\n    System.out.println();\n    System.out.println();\n\n    System.out.println(&quot;Linked List After Swapping :-&quot;);\n\n    for (int i : ll) {\n        System.out.print(i + &quot; &quot;);\n    }\n}\n\n// Swap Function\npublic static void swap(LinkedList&lt;Integer&gt; list,\n                        int ele1, int ele2)\n{\n\n    // Getting the positions of the elements\n    int index1 = list.indexOf(ele1);\n    int index2 = list.indexOf(ele2);\n\n    // Returning if the element is not present in the\n    // LinkedList\n    if (index1 == -1 || index2 == -1) {\n        return;\n    }\n\n    // Swapping the elements\n    list.set(index1, ele2);\n    list.set(index2, ele1);\n}\n</code></pre>\n<p>}\nOutput\nBefore Swapping Linked List  :-\n10 11 12 13 14 15</p>\n<p>After Swapping Linked List  :-\n10 14 12 13 11 15\nTime Complexity: O(N), where N is the  Linked List length</p>\n"}],"owner":{"account_id":7020515,"reputation":1,"user_id":7040637,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675367777,"creation_date":1477257049,"question_id":40207849,"body_markdown":"I have been trying to come up with an algorithm to swap 2 nodes (not necesarily right next to each other) in a singly linked list for 2 days but for some reason I cannot do it.\r\nHere is what I have, I am really new to coding and have been really stressed:\r\n[![enter image description here][1]][1]\r\nI have managed to place a temp node in but can&#39;t actually swap the nodes.\r\n\r\n    public void swap(int i, int j) {\r\n        current = head;\r\n        current2 = head;\r\n        sllNode temp = new sllNode(&quot; &quot;);\r\n        sllNode temp2 = new sllNode(&quot; &quot;);\r\n\r\n        for(int z = 0; i&gt;z; z++)\r\n            current=current.next;\r\n        for(int q = 0; j&gt;q; q++)\r\n            current2 = current2.next;\r\n    \r\n        temp.next = current2.next.next;\r\n        current.next = temp;\r\n        current.next = current2.next.next;\r\n        current2.next = current;\r\n\r\n  [1]: https://i.stack.imgur.com/v3uLu.png","title":"Swapping nodes in a singly linked list java","body":"<p>I have been trying to come up with an algorithm to swap 2 nodes (not necesarily right next to each other) in a singly linked list for 2 days but for some reason I cannot do it.\nHere is what I have, I am really new to coding and have been really stressed:\n<a href=\"https://i.stack.imgur.com/v3uLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v3uLu.png\" alt=\"enter image description here\"></a>\nI have managed to place a temp node in but can't actually swap the nodes.</p>\n\n<pre><code>public void swap(int i, int j) {\n    current = head;\n    current2 = head;\n    sllNode temp = new sllNode(\" \");\n    sllNode temp2 = new sllNode(\" \");\n\n    for(int z = 0; i&gt;z; z++)\n        current=current.next;\n    for(int q = 0; j&gt;q; q++)\n        current2 = current2.next;\n\n    temp.next = current2.next.next;\n    current.next = temp;\n    current.next = current2.next.next;\n    current2.next = current;\n</code></pre>\n"},{"tags":["java","visual-studio-code","intellij-idea","run-configuration"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1657776017,"post_id":72969698,"comment_id":128891684,"body_markdown":"I&#39;m sorry it&#39;s a little hard to understand what exactly you are trying to achieve. Can you describe your problem in detail and clearly?","body":"I&#39;m sorry it&#39;s a little hard to understand what exactly you are trying to achieve. Can you describe your problem in detail and clearly?"},{"owner":{"account_id":3787829,"reputation":159,"user_id":3145178,"accept_rate":38,"display_name":"the_begging_beginner"},"score":1,"creation_date":1657777682,"post_id":72969698,"comment_id":128891998,"body_markdown":"Essentially when I click the &quot;Run&quot; button on the top right. It runs those settings in IntelliJ. I want to be able to do the same thing in VSCode. That particular configuration (the picture you see) runs all the Junit tests with those specific settings. How can I do the same thing in VSCode?","body":"Essentially when I click the &quot;Run&quot; button on the top right. It runs those settings in IntelliJ. I want to be able to do the same thing in VSCode. That particular configuration (the picture you see) runs all the Junit tests with those specific settings. How can I do the same thing in VSCode?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1657783008,"post_id":72969698,"comment_id":128893487,"body_markdown":"[`task.json`](https://code.visualstudio.com/docs/editor/tasks) might help you.","body":"<a href=\"https://code.visualstudio.com/docs/editor/tasks\" rel=\"nofollow noreferrer\"><code>task.json</code></a> might help you."},{"owner":{"account_id":3787829,"reputation":159,"user_id":3145178,"accept_rate":38,"display_name":"the_begging_beginner"},"score":0,"creation_date":1657806147,"post_id":72969698,"comment_id":128901819,"body_markdown":"I know but I dont know how to map it properly. If I know the cmd line commands for Intellij I might be able to map it.","body":"I know but I dont know how to map it properly. If I know the cmd line commands for Intellij I might be able to map it."}],"answers":[{"comments":[{"owner":{"account_id":3787829,"reputation":159,"user_id":3145178,"accept_rate":38,"display_name":"the_begging_beginner"},"score":0,"creation_date":1658401312,"post_id":73049338,"comment_id":129044897,"body_markdown":"I understand that, but I dont know what fields are compatible/I should put. The screenshot is those fields, but when I put &quot;gradle&quot; as key and value &quot;dee_api_gw&quot;, it does nothing. So im not sure what to put","body":"I understand that, but I dont know what fields are compatible/I should put. The screenshot is those fields, but when I put &quot;gradle&quot; as key and value &quot;dee_api_gw&quot;, it does nothing. So im not sure what to put"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1658452861,"post_id":73049338,"comment_id":129060878,"body_markdown":"If you&#39;re talking about how to add environment variables, the `env` is exactly for that. Could you pls share your launch.json configuration?","body":"If you&#39;re talking about how to add environment variables, the <code>env</code> is exactly for that. Could you pls share your launch.json configuration?"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658310281,"creation_date":1658310281,"answer_id":73049338,"question_id":72969698,"body_markdown":"1. If .vscode/launch.json doesn&#39;t exist in your workspace, you could click the link &quot;**create a launch.json file**&quot; and Java Debugger will create a initial launch.json file with some base configuration for your Java application.\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n2. Type a `&quot;&quot;` in launch.json, VS Code will provide a list of completion suggestions on the supported configs. If you want to add environment variables for your program, you can type `&quot;env&quot;: { &quot;key&quot;: &quot;value&quot;}`.\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VQcJr.png\r\n  [2]: https://i.stack.imgur.com/ZmxvD.png","title":"How do I map the Run Configuration from IntelliJ to VSCode?","body":"<ol>\n<li><p>If .vscode/launch.json doesn't exist in your workspace, you could click the link &quot;<strong>create a launch.json file</strong>&quot; and Java Debugger will create a initial launch.json file with some base configuration for your Java application.</p>\n<p><a href=\"https://i.stack.imgur.com/VQcJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQcJr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Type a <code>&quot;&quot;</code> in launch.json, VS Code will provide a list of completion suggestions on the supported configs. If you want to add environment variables for your program, you can type <code>&quot;env&quot;: { &quot;key&quot;: &quot;value&quot;}</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/ZmxvD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmxvD.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5287258,"reputation":305,"user_id":4220809,"display_name":"Gabriel"},"score":1,"creation_date":1694460092,"post_id":75328292,"comment_id":135891214,"body_markdown":"This didn&#39;t work for me. The output configuration is empty:\n{\n  &quot;configurations&quot;: []\n}","body":"This didn&#39;t work for me. The output configuration is empty: {   &quot;configurations&quot;: [] }"}],"tags":[],"owner":{"account_id":2641373,"reputation":1324,"user_id":2284927,"display_name":"Navid Mitchell"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675367555,"creation_date":1675367555,"answer_id":75328292,"question_id":72969698,"body_markdown":"There is this project which lets you convert Jetbrains run configurations to VSCode \r\n\r\n[jetbrains-vscode](https://github.com/topscoder/jetbrains-vscode)","title":"How do I map the Run Configuration from IntelliJ to VSCode?","body":"<p>There is this project which lets you convert Jetbrains run configurations to VSCode</p>\n<p><a href=\"https://github.com/topscoder/jetbrains-vscode\" rel=\"nofollow noreferrer\">jetbrains-vscode</a></p>\n"}],"owner":{"account_id":3787829,"reputation":159,"user_id":3145178,"accept_rate":38,"display_name":"the_begging_beginner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3154,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675367555,"creation_date":1657730007,"question_id":72969698,"body_markdown":"I want to have the same run configuration I have on `Intellij` the same as I do for `VS Code`. But I am not sure how to go about doing that. I tried the `launch.json` on VSCode but I am not sure what fields I have to put to make it work. \r\n\r\nAnyone with experience with this?\r\n\r\n**Here is what I am referencing:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Kvyg.png\r\n\r\nEssentially when I click the Run Button on the top right of the intellij it runs that particular run configuration picture. \r\n\r\nIs there a way for me to do the same on VSCode?","title":"How do I map the Run Configuration from IntelliJ to VSCode?","body":"<p>I want to have the same run configuration I have on <code>Intellij</code> the same as I do for <code>VS Code</code>. But I am not sure how to go about doing that. I tried the <code>launch.json</code> on VSCode but I am not sure what fields I have to put to make it work.</p>\n<p>Anyone with experience with this?</p>\n<p><strong>Here is what I am referencing:</strong>\n<a href=\"https://i.stack.imgur.com/6Kvyg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Kvyg.png\" alt=\"enter image description here\" /></a></p>\n<p>Essentially when I click the Run Button on the top right of the intellij it runs that particular run configuration picture.</p>\n<p>Is there a way for me to do the same on VSCode?</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"score":0,"creation_date":1332499309,"post_id":9837754,"comment_id":12536035,"body_markdown":"Can you share the situation, why you want this?","body":"Can you share the situation, why you want this?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1332499396,"post_id":9837754,"comment_id":12536068,"body_markdown":"Note that `InputStream` deals with *binary* data. Strings are *text* data. Which encoding are you interested in?","body":"Note that <code>InputStream</code> deals with <i>binary</i> data. Strings are <i>text</i> data. Which encoding are you interested in?"},{"owner":{"account_id":190564,"reputation":9340,"user_id":430615,"accept_rate":56,"display_name":"Marc Polizzi"},"score":0,"creation_date":1332499655,"post_id":9837754,"comment_id":12536156,"body_markdown":"You&#39;re right I forgot to precise : UTF-8 only.","body":"You&#39;re right I forgot to precise : UTF-8 only."},{"owner":{"account_id":1948359,"reputation":726,"user_id":2596762,"accept_rate":81,"display_name":"Rahul Dabas"},"score":0,"creation_date":1411671954,"post_id":9837754,"comment_id":40802255,"body_markdown":"How did you finally accomplish creating an InputStream from List&lt;String&gt; Marc? I have to do the same thing. Any Input will help.","body":"How did you finally accomplish creating an InputStream from List&lt;String&gt; Marc? I have to do the same thing. Any Input will help."}],"answers":[{"comments":[{"owner":{"account_id":29195,"reputation":2503,"user_id":78666,"accept_rate":53,"display_name":"benmmurphy"},"score":0,"creation_date":1332499985,"post_id":9837872,"comment_id":12536300,"body_markdown":"You can implement a InputStream yourself and convert each String to a byte array as you go along and wrap it in a ByteArrayInputStream and forward the calls to the ByteArrayInputStream. Though, seeing as you will have to have logic dealing with splitting reads across Strings it&#39;s probably just as easy to do all the logic yourself and not use ByteArrayInputStream at all.","body":"You can implement a InputStream yourself and convert each String to a byte array as you go along and wrap it in a ByteArrayInputStream and forward the calls to the ByteArrayInputStream. Though, seeing as you will have to have logic dealing with splitting reads across Strings it&#39;s probably just as easy to do all the logic yourself and not use ByteArrayInputStream at all."},{"owner":{"account_id":387529,"reputation":18068,"user_id":745924,"accept_rate":100,"display_name":"Piotr Praszmo"},"score":0,"creation_date":1332501965,"post_id":9837872,"comment_id":12536939,"body_markdown":"@Marc avoiding this copy is not necessary a good idea. It allows you to process all the data at once. If the strings are small this can save you a lot of object allocations. It can be faster and in some cases even consume less memory. Whatever you do, benchmark it on sample data and make sure it really is more efficient.","body":"@Marc avoiding this copy is not necessary a good idea. It allows you to process all the data at once. If the strings are small this can save you a lot of object allocations. It can be faster and in some cases even consume less memory. Whatever you do, benchmark it on sample data and make sure it really is more efficient."},{"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"score":0,"creation_date":1332502882,"post_id":9837872,"comment_id":12537180,"body_markdown":"@Marc You *can* avoid the copy, but not without writing a significant amount of code. You would have to implement InputStream yourself, and somehow adapt all of its methods to working over a List of Strings, which will be an enormous pain to do, and won&#39;t buy you that much in terms of performance or reduced memory footprint.","body":"@Marc You <i>can</i> avoid the copy, but not without writing a significant amount of code. You would have to implement InputStream yourself, and somehow adapt all of its methods to working over a List of Strings, which will be an enormous pain to do, and won&#39;t buy you that much in terms of performance or reduced memory footprint."}],"tags":[],"owner":{"account_id":29195,"reputation":2503,"user_id":78666,"accept_rate":53,"display_name":"benmmurphy"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1332499634,"creation_date":1332499574,"answer_id":9837872,"question_id":9837754,"body_markdown":"You can concatenate all the lines together to create a String then convert it to a byte array using `String#getBytes` and pass it into [ByteArrayInputStream][1]. However this is not the most efficient way of doing it.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can concatenate all the lines together to create a String then convert it to a byte array using <code>String#getBytes</code> and pass it into <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html\" rel=\"noreferrer\">ByteArrayInputStream</a>. However this is not the most efficient way of doing it.</p>\n"},{"comments":[{"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"score":0,"creation_date":1332501055,"post_id":9837905,"comment_id":12536688,"body_markdown":"This is the best way of doing it if it&#39;s a one-off. If you have to reuse instances of the InputStream all over the place though, you could always implement the InputStream interface, and do all of the above under the hood.","body":"This is the best way of doing it if it&#39;s a one-off. If you have to reuse instances of the InputStream all over the place though, you could always implement the InputStream interface, and do all of the above under the hood."},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1426066661,"post_id":9837905,"comment_id":46215149,"body_markdown":"Good example, but it would be nice to encourage best practice by specifying a charset during `getBytes()`.","body":"Good example, but it would be nice to encourage best practice by specifying a charset during <code>getBytes()</code>."}],"tags":[],"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1332501342,"creation_date":1332499710,"answer_id":9837905,"question_id":9837754,"body_markdown":"You can read from a `ByteArrayOutputStream` and you can create your source `byte[]` array using a `ByteArrayInputStream`.\r\n\r\nSo create the array as follows:\r\n\r\n     List&lt;String&gt; source = new ArrayList&lt;String&gt;();\r\n     source.add(&quot;one&quot;);\r\n     source.add(&quot;two&quot;);\r\n     source.add(&quot;three&quot;);\r\n     ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n     \r\n     for (String line : source) {\r\n       baos.write(line.getBytes());\r\n     }\r\n     \r\n     byte[] bytes = baos.toByteArray();\r\n\r\nAnd reading from it is as simple as:\r\n\r\n     InputStream in = new ByteArrayInputStream(bytes);\r\n\r\nAlternatively, depending on what you&#39;re trying to do, a [`StringReader`][1] might be better.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/StringReader.html","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can read from a <code>ByteArrayOutputStream</code> and you can create your source <code>byte[]</code> array using a <code>ByteArrayInputStream</code>.</p>\n\n<p>So create the array as follows:</p>\n\n<pre><code> List&lt;String&gt; source = new ArrayList&lt;String&gt;();\n source.add(\"one\");\n source.add(\"two\");\n source.add(\"three\");\n ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n for (String line : source) {\n   baos.write(line.getBytes());\n }\n\n byte[] bytes = baos.toByteArray();\n</code></pre>\n\n<p>And reading from it is as simple as:</p>\n\n<pre><code> InputStream in = new ByteArrayInputStream(bytes);\n</code></pre>\n\n<p>Alternatively, depending on what you're trying to do, a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/StringReader.html\" rel=\"noreferrer\"><code>StringReader</code></a> might be better.</p>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1332509841,"creation_date":1332499825,"answer_id":9837932,"question_id":9837754,"body_markdown":"In short, no, there is no way of doing this using existing JDK classes. You could, however, implement your own [InputStream][1] that read from a List of Strings.\r\n\r\nEDIT: Dave Web has an answer above, which I think is the way to go. If you need a reusable class, then something like this might do:\r\n\r\n&lt;pre&gt;\r\n&lt;!-- language: lang-java --&gt;\r\n&lt;code&gt;\r\npublic class StringsInputStream&amp;lt;T extends Iterable&amp;lt;String&amp;gt;&amp;gt; extends InputStream {\r\n\r\n   private ByteArrayInputStream bais = null;\r\n\r\n   public StringsInputStream(final T strings) throws IOException {\r\n      ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n      for (String line : strings) {\r\n         outputStream.write(line.getBytes());\r\n      }\r\n      bais = new ByteArrayInputStream(outputStream.toByteArray());\r\n   }\r\n\r\n   @Override\r\n   public int read() throws IOException {\r\n      return bais.read();\r\n   }\r\n\r\n   @Override\r\n   public int read(byte[] b) throws IOException {\r\n      return bais.read(b);\r\n   }\r\n\r\n   @Override\r\n   public int read(byte[] b, int off, int len) throws IOException {\r\n      return bais.read(b, off, len);\r\n   }\r\n\r\n   @Override\r\n   public long skip(long n) throws IOException {\r\n      return bais.skip(n);\r\n   }\r\n\r\n   @Override\r\n   public int available() throws IOException {\r\n      return bais.available();\r\n   }\r\n\r\n   @Override\r\n   public void close() throws IOException {\r\n      bais.close();\r\n   }\r\n\r\n   @Override\r\n   public synchronized void mark(int readlimit) {\r\n      bais.mark(readlimit);\r\n   }\r\n\r\n   @Override\r\n   public synchronized void reset() throws IOException {\r\n      bais.reset();\r\n   }\r\n\r\n   @Override\r\n   public boolean markSupported() {\r\n      return bais.markSupported();\r\n   }\r\n\r\n   public static void main(String[] args) throws Exception {\r\n      List&lt;String&gt; source = new ArrayList&lt;String&gt;();\r\n      source.add(&quot;foo &quot;);\r\n      source.add(&quot;bar &quot;);\r\n      source.add(&quot;baz&quot;);\r\n\r\n      StringsInputStream&amp;lt;List&amp;lt;String&amp;gt;&amp;gt; in = new StringsInputStream&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;(source);\r\n\r\n      int read = in.read();\r\n      while (read != -1) {\r\n         System.out.print((char) read);\r\n         read = in.read();\r\n      }\r\n   }\r\n}\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nThis basically an adapter for `ByteArrayInputStream`.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html","title":"Java: accessing a List of Strings as an InputStream","body":"<p>In short, no, there is no way of doing this using existing JDK classes. You could, however, implement your own <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\" rel=\"noreferrer\">InputStream</a> that read from a List of Strings.</p>\n\n<p>EDIT: Dave Web has an answer above, which I think is the way to go. If you need a reusable class, then something like this might do:</p>\n\n<pre>\n<code>\npublic class StringsInputStream&lt;T extends Iterable&lt;String&gt;&gt; extends InputStream {\n\n   private ByteArrayInputStream bais = null;\n\n   public StringsInputStream(final T strings) throws IOException {\n      ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n      for (String line : strings) {\n         outputStream.write(line.getBytes());\n      }\n      bais = new ByteArrayInputStream(outputStream.toByteArray());\n   }\n\n   @Override\n   public int read() throws IOException {\n      return bais.read();\n   }\n\n   @Override\n   public int read(byte[] b) throws IOException {\n      return bais.read(b);\n   }\n\n   @Override\n   public int read(byte[] b, int off, int len) throws IOException {\n      return bais.read(b, off, len);\n   }\n\n   @Override\n   public long skip(long n) throws IOException {\n      return bais.skip(n);\n   }\n\n   @Override\n   public int available() throws IOException {\n      return bais.available();\n   }\n\n   @Override\n   public void close() throws IOException {\n      bais.close();\n   }\n\n   @Override\n   public synchronized void mark(int readlimit) {\n      bais.mark(readlimit);\n   }\n\n   @Override\n   public synchronized void reset() throws IOException {\n      bais.reset();\n   }\n\n   @Override\n   public boolean markSupported() {\n      return bais.markSupported();\n   }\n\n   public static void main(String[] args) throws Exception {\n      List source = new ArrayList();\n      source.add(\"foo \");\n      source.add(\"bar \");\n      source.add(\"baz\");\n\n      StringsInputStream&lt;List&lt;String&gt;&gt; in = new StringsInputStream&lt;List&lt;String&gt;&gt;(source);\n\n      int read = in.read();\n      while (read != -1) {\n         System.out.print((char) read);\n         read = in.read();\n      }\n   }\n}\n</code>\n</pre>\n\n<p>This basically an adapter for <code>ByteArrayInputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":1282189,"reputation":833,"user_id":1236051,"accept_rate":38,"display_name":"Riddhish.Chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332500117,"creation_date":1332500117,"answer_id":9837992,"question_id":9837754,"body_markdown":"you can also do this way create a Serializable List\r\n\r\n    List&lt;String&gt; quarks = Arrays.asList(\r\n          &quot;up&quot;, &quot;down&quot;, &quot;strange&quot;, &quot;charm&quot;, &quot;top&quot;, &quot;bottom&quot;\r\n        );\r\n\r\n    //serialize the List\r\n    //note the use of abstract base class references\r\n\r\n    try{\r\n      //use buffering\r\n      OutputStream file = new FileOutputStream( &quot;quarks.ser&quot; );\r\n      OutputStream buffer = new BufferedOutputStream( file );\r\n      ObjectOutput output = new ObjectOutputStream( buffer );\r\n      try{\r\n        output.writeObject(quarks);\r\n      }\r\n      finally{\r\n        output.close();\r\n      }\r\n    }  \r\n    catch(IOException ex){\r\n      fLogger.log(Level.SEVERE, &quot;Cannot perform output.&quot;, ex);\r\n    }\r\n\r\n    //deserialize the quarks.ser file\r\n    //note the use of abstract base class references\r\n    \r\n    try{\r\n      //use buffering\r\n      InputStream file = new FileInputStream( &quot;quarks.ser&quot; );\r\n      InputStream buffer = new BufferedInputStream( file );\r\n      ObjectInput input = new ObjectInputStream ( buffer );\r\n      try{\r\n        //deserialize the List\r\n        List&lt;String&gt; recoveredQuarks = (List&lt;String&gt;)input.readObject();\r\n        //display its data\r\n        for(String quark: recoveredQuarks){\r\n          System.out.println(&quot;Recovered Quark: &quot; + quark);\r\n        }\r\n      }\r\n      finally{\r\n        input.close();\r\n      }\r\n    }\r\n    catch(ClassNotFoundException ex){\r\n      fLogger.log(Level.SEVERE, &quot;Cannot perform input. Class not found.&quot;, ex);\r\n    }\r\n    catch(IOException ex){\r\n      fLogger.log(Level.SEVERE, &quot;Cannot perform input.&quot;, ex);\r\n    }\r\n  ","title":"Java: accessing a List of Strings as an InputStream","body":"<p>you can also do this way create a Serializable List</p>\n\n<pre><code>List&lt;String&gt; quarks = Arrays.asList(\n      \"up\", \"down\", \"strange\", \"charm\", \"top\", \"bottom\"\n    );\n\n//serialize the List\n//note the use of abstract base class references\n\ntry{\n  //use buffering\n  OutputStream file = new FileOutputStream( \"quarks.ser\" );\n  OutputStream buffer = new BufferedOutputStream( file );\n  ObjectOutput output = new ObjectOutputStream( buffer );\n  try{\n    output.writeObject(quarks);\n  }\n  finally{\n    output.close();\n  }\n}  \ncatch(IOException ex){\n  fLogger.log(Level.SEVERE, \"Cannot perform output.\", ex);\n}\n\n//deserialize the quarks.ser file\n//note the use of abstract base class references\n\ntry{\n  //use buffering\n  InputStream file = new FileInputStream( \"quarks.ser\" );\n  InputStream buffer = new BufferedInputStream( file );\n  ObjectInput input = new ObjectInputStream ( buffer );\n  try{\n    //deserialize the List\n    List&lt;String&gt; recoveredQuarks = (List&lt;String&gt;)input.readObject();\n    //display its data\n    for(String quark: recoveredQuarks){\n      System.out.println(\"Recovered Quark: \" + quark);\n    }\n  }\n  finally{\n    input.close();\n  }\n}\ncatch(ClassNotFoundException ex){\n  fLogger.log(Level.SEVERE, \"Cannot perform input. Class not found.\", ex);\n}\ncatch(IOException ex){\n  fLogger.log(Level.SEVERE, \"Cannot perform input.\", ex);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29195,"reputation":2503,"user_id":78666,"accept_rate":53,"display_name":"benmmurphy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332500379,"creation_date":1332500379,"answer_id":9838059,"question_id":9837754,"body_markdown":"You can do something similar to this:\r\n\r\nhttps://commons.apache.org/sandbox/flatfile/xref/org/apache/commons/flatfile/util/ConcatenatedInputStream.html\r\n\r\nIt just implements the read() method of InputStream and has a list of InputStreams it is concatenating. Once it reads an EOF it starts reading from the next InputStream. Just convert the Strings to ByteArrayInputStreams.","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can do something similar to this:</p>\n\n<p><a href=\"https://commons.apache.org/sandbox/flatfile/xref/org/apache/commons/flatfile/util/ConcatenatedInputStream.html\" rel=\"nofollow\">https://commons.apache.org/sandbox/flatfile/xref/org/apache/commons/flatfile/util/ConcatenatedInputStream.html</a></p>\n\n<p>It just implements the read() method of InputStream and has a list of InputStreams it is concatenating. Once it reads an EOF it starts reading from the next InputStream. Just convert the Strings to ByteArrayInputStreams.</p>\n"},{"comments":[{"owner":{"account_id":14066053,"reputation":2457,"user_id":10160865,"display_name":"Dennis Gloss"},"score":1,"creation_date":1566904998,"post_id":53330879,"comment_id":101794127,"body_markdown":"That&#39;s actually a great idea. In my case I can&#39;t operate on whole list or else I&#39;d get OutOfMemory.","body":"That&#39;s actually a great idea. In my case I can&#39;t operate on whole list or else I&#39;d get OutOfMemory."}],"tags":[],"owner":{"account_id":2044891,"reputation":3271,"user_id":4503311,"display_name":"Mike Shauneu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542337827,"creation_date":1542337827,"answer_id":53330879,"question_id":9837754,"body_markdown":"You can create some kind of IterableInputStream \r\n\r\n    public class IterableInputStream&lt;T&gt; extends InputStream {\r\n\r\n        public static final int EOF = -1;\r\n    \r\n        private static final InputStream EOF_IS = new InputStream() {\r\n            @Override public int read() throws IOException {\r\n                return EOF;\r\n            }\r\n        };\r\n    \r\n        private final Iterator&lt;T&gt; iterator;\r\n        private final Function&lt;T, byte[]&gt; mapper;\r\n    \r\n        private InputStream current;\r\n    \r\n        public IterableInputStream(Iterable&lt;T&gt; iterable, Function&lt;T, byte[]&gt; mapper) {\r\n            this.iterator = iterable.iterator();\r\n            this.mapper = mapper;\r\n            next();\r\n        }\r\n    \r\n        @Override\r\n        public int read() throws IOException {\r\n            int n = current.read();\r\n            while (n == EOF &amp;&amp; current != EOF_IS) {\r\n                next();\r\n                n = current.read();\r\n            }\r\n            return n;\r\n        }\r\n    \r\n        private void next() {\r\n            current = iterator.hasNext() \r\n                ? new ByteArrayInputStream(mapper.apply(iterator.next())) \r\n                : EOF_IS;\r\n        }\r\n    }\r\n\r\nTo use it\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Iterable&lt;String&gt; strings = Arrays.asList(&quot;1&quot;, &quot;22&quot;, &quot;333&quot;, &quot;4444&quot;);\r\n        try (InputStream is = new IterableInputStream&lt;String&gt;(strings, String::getBytes)) {\r\n            for (int b = is.read(); b != -1; b = is.read()) {\r\n                System.out.print((char) b);\r\n            }\r\n        }\r\n    }    ","title":"Java: accessing a List of Strings as an InputStream","body":"<p>You can create some kind of IterableInputStream </p>\n\n<pre><code>public class IterableInputStream&lt;T&gt; extends InputStream {\n\n    public static final int EOF = -1;\n\n    private static final InputStream EOF_IS = new InputStream() {\n        @Override public int read() throws IOException {\n            return EOF;\n        }\n    };\n\n    private final Iterator&lt;T&gt; iterator;\n    private final Function&lt;T, byte[]&gt; mapper;\n\n    private InputStream current;\n\n    public IterableInputStream(Iterable&lt;T&gt; iterable, Function&lt;T, byte[]&gt; mapper) {\n        this.iterator = iterable.iterator();\n        this.mapper = mapper;\n        next();\n    }\n\n    @Override\n    public int read() throws IOException {\n        int n = current.read();\n        while (n == EOF &amp;&amp; current != EOF_IS) {\n            next();\n            n = current.read();\n        }\n        return n;\n    }\n\n    private void next() {\n        current = iterator.hasNext() \n            ? new ByteArrayInputStream(mapper.apply(iterator.next())) \n            : EOF_IS;\n    }\n}\n</code></pre>\n\n<p>To use it</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    Iterable&lt;String&gt; strings = Arrays.asList(\"1\", \"22\", \"333\", \"4444\");\n    try (InputStream is = new IterableInputStream&lt;String&gt;(strings, String::getBytes)) {\n        for (int b = is.read(); b != -1; b = is.read()) {\n            System.out.print((char) b);\n        }\n    }\n}    \n</code></pre>\n"},{"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":1,"creation_date":1602034900,"post_id":56634919,"comment_id":113589890,"body_markdown":"Thanks for sharing. Awesome solution! Worked perfectly for me.","body":"Thanks for sharing. Awesome solution! Worked perfectly for me."},{"owner":{"account_id":3788784,"reputation":225,"user_id":3145929,"accept_rate":50,"display_name":"Stephan van Hoof"},"score":1,"creation_date":1603902815,"post_id":56634919,"comment_id":114185105,"body_markdown":"Thanks, nice solution. But because the Collectors.joining does *not* add a final line feed I switched to a enhanced-loop solution (so last line in file also ends with a line feed).","body":"Thanks, nice solution. But because the Collectors.joining does <i>not</i> add a final line feed I switched to a enhanced-loop solution (so last line in file also ends with a line feed)."},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":0,"creation_date":1603904736,"post_id":56634919,"comment_id":114186054,"body_markdown":"@StephanvanHoof for the final line feed just try `Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;)`. BTW I&#39;ve just updated my answer :)","body":"@StephanvanHoof for the final line feed just try <code>Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;)</code>. BTW I&#39;ve just updated my answer :)"},{"owner":{"account_id":3788784,"reputation":225,"user_id":3145929,"accept_rate":50,"display_name":"Stephan van Hoof"},"score":0,"creation_date":1603921186,"post_id":56634919,"comment_id":114192868,"body_markdown":"Cool, I didn&#39;t know of this method overload","body":"Cool, I didn&#39;t know of this method overload"},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":1,"creation_date":1613135562,"post_id":56634919,"comment_id":116989555,"body_markdown":"I copied this solution, but as I needed a EOF character for different platforms (Windows and Linux), I used `System.lineSeparator()` instead of `&quot;\\n&quot;`.","body":"I copied this solution, but as I needed a EOF character for different platforms (Windows and Linux), I used <code>System.lineSeparator()</code> instead of <code>&quot;\\n&quot;</code>."},{"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"score":1,"creation_date":1613136769,"post_id":56634919,"comment_id":116990040,"body_markdown":"@FelipeWindmoller thanks for the suggestion,I’ll update My answer","body":"@FelipeWindmoller thanks for the suggestion,I’ll update My answer"}],"tags":[],"owner":{"account_id":134590,"reputation":26825,"user_id":336827,"accept_rate":61,"display_name":"freedev"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603904781,"creation_date":1560786921,"answer_id":56634919,"question_id":9837754,"body_markdown":"In my case I had to convert a list of string in the equivalent file (with a line feed for each line). \r\n\r\nThis was my solution:\r\n\r\n    List&lt;String&gt; inputList = Arrays.asList(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;);\r\n\r\n    byte[] bytes = inputList.stream().collect(Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;)).getBytes();\r\n\r\n    InputStream inputStream = new ByteArrayInputStream(bytes);\r\n","title":"Java: accessing a List of Strings as an InputStream","body":"<p>In my case I had to convert a list of string in the equivalent file (with a line feed for each line).</p>\n<p>This was my solution:</p>\n<pre><code>List&lt;String&gt; inputList = Arrays.asList(&quot;line1&quot;, &quot;line2&quot;, &quot;line3&quot;);\n\nbyte[] bytes = inputList.stream().collect(Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;)).getBytes();\n\nInputStream inputStream = new ByteArrayInputStream(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1395196,"reputation":629,"user_id":1325109,"accept_rate":22,"display_name":"dmgcodevil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366880,"creation_date":1675332147,"answer_id":75321449,"question_id":9837754,"body_markdown":"I&#39;d like to propose my simple solution:\r\n\r\n```java\r\npublic class StringListInputStream extends InputStream {\r\n    private final List&lt;String&gt; strings;\r\n    private int pos = 0;\r\n    private byte[] bytes = null;\r\n    private int i = 0;\r\n\r\n    public StringListInputStream(List&lt;String&gt; strings) {\r\n        this.strings = strings;\r\n        this.bytes = strings.get(0).getBytes();\r\n    }\r\n\r\n    @Override\r\n    public int read() throws IOException {\r\n        if (pos &gt;= bytes.length) {\r\n            if (!next()) return -1;\r\n            else return read();\r\n        }\r\n        return bytes[pos++];\r\n    }\r\n\r\n    private boolean next() {\r\n        if (i + 1 &gt;= strings.size()) return false;\r\n        pos = 0;\r\n        bytes = strings.get(++i).getBytes();\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Java: accessing a List of Strings as an InputStream","body":"<p>I'd like to propose my simple solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringListInputStream extends InputStream {\n    private final List&lt;String&gt; strings;\n    private int pos = 0;\n    private byte[] bytes = null;\n    private int i = 0;\n\n    public StringListInputStream(List&lt;String&gt; strings) {\n        this.strings = strings;\n        this.bytes = strings.get(0).getBytes();\n    }\n\n    @Override\n    public int read() throws IOException {\n        if (pos &gt;= bytes.length) {\n            if (!next()) return -1;\n            else return read();\n        }\n        return bytes[pos++];\n    }\n\n    private boolean next() {\n        if (i + 1 &gt;= strings.size()) return false;\n        pos = 0;\n        bytes = strings.get(++i).getBytes();\n        return true;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":190564,"reputation":9340,"user_id":430615,"accept_rate":56,"display_name":"Marc Polizzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38818,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":9837872,"answer_count":8,"score":23,"last_activity_date":1675366880,"creation_date":1332499127,"question_id":9837754,"body_markdown":"Is there any way `InputStream` wrapping a list of UTF-8 `String`? I&#39;d like to do something like:\r\n\r\n    InputStream in = new XyzInputStream( List&lt;String&gt; lines )\r\n","title":"Java: accessing a List of Strings as an InputStream","body":"<p>Is there any way <code>InputStream</code> wrapping a list of UTF-8 <code>String</code>? I'd like to do something like:</p>\n\n<pre><code>InputStream in = new XyzInputStream( List&lt;String&gt; lines )\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","junit"],"comments":[{"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"score":0,"creation_date":1463164338,"post_id":37205962,"comment_id":61965177,"body_markdown":"In the Maven Projects panel, when you open up Profiles in the tree view, does the profile you want show up with or without a checkbox?  Can you turn it on and off with the checkbox?  If not, then the profile is probably bound to something in the environment, like a property value.","body":"In the Maven Projects panel, when you open up Profiles in the tree view, does the profile you want show up with or without a checkbox?  Can you turn it on and off with the checkbox?  If not, then the profile is probably bound to something in the environment, like a property value."},{"owner":{"account_id":1138093,"reputation":1442,"user_id":1122720,"accept_rate":71,"display_name":"sukhmel"},"score":1,"creation_date":1553288377,"post_id":37205962,"comment_id":97343607,"body_markdown":"@HankD the problem is not in profile, but in the fact that when run with IDE tests completely ignore active profile (which is sensible and probably can not be overridden)","body":"@HankD the problem is not in profile, but in the fact that when run with IDE tests completely ignore active profile (which is sensible and probably can not be overridden)"}],"answers":[{"comments":[{"owner":{"account_id":1803672,"reputation":669,"user_id":4856922,"accept_rate":27,"display_name":"Jonathan Lermitage"},"score":2,"creation_date":1463133112,"post_id":37206502,"comment_id":61944846,"body_markdown":"Unfortunately it doesn&#39;t work. I added active profiles to the settings.xml, they appeared automatically activated in the Maven Projects panel, but it still doesn&#39;t work.","body":"Unfortunately it doesn&#39;t work. I added active profiles to the settings.xml, they appeared automatically activated in the Maven Projects panel, but it still doesn&#39;t work."},{"owner":{"account_id":5624554,"reputation":581,"user_id":4453384,"display_name":"ervidio"},"score":0,"creation_date":1463134227,"post_id":37206502,"comment_id":61945651,"body_markdown":"You can also configure a maven test in Intellij if you click on Run &gt; Edit Configurations... &gt; &quot;+&quot; Icon &gt; select Maven and configure all the params. There you should specify the profile or profiles that you want to use","body":"You can also configure a maven test in Intellij if you click on Run &gt; Edit Configurations... &gt; &quot;+&quot; Icon &gt; select Maven and configure all the params. There you should specify the profile or profiles that you want to use"},{"owner":{"account_id":1803672,"reputation":669,"user_id":4856922,"accept_rate":27,"display_name":"Jonathan Lermitage"},"score":7,"creation_date":1463135392,"post_id":37206502,"comment_id":61946388,"body_markdown":"Yes, it works but I loose some IntelliJ integration. Per example I can&#39;t easily run a single test class/method, rerun failed tests, start debugger on tests, etc.","body":"Yes, it works but I loose some IntelliJ integration. Per example I can&#39;t easily run a single test class/method, rerun failed tests, start debugger on tests, etc."}],"tags":[],"owner":{"account_id":5624554,"reputation":581,"user_id":4453384,"display_name":"ervidio"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463132314,"creation_date":1463132314,"answer_id":37206502,"question_id":37205962,"body_markdown":"You should add the profiles to the Maven setting.xml file (you should find it in the path ${YOUR_MAVEN_HOME}\\apache-maven-3.1.1\\conf\\setting.xml).\r\nThen, you have to open intellij, click on View &gt; Tool Windows &gt; Maven Projects. There, you should see your profiles (ci and release) and select the correct one.\r\n\r\nHope this can help you.","title":"IntelliJ: activate Maven profile when running Junit tests","body":"<p>You should add the profiles to the Maven setting.xml file (you should find it in the path ${YOUR_MAVEN_HOME}\\apache-maven-3.1.1\\conf\\setting.xml).\nThen, you have to open intellij, click on View > Tool Windows > Maven Projects. There, you should see your profiles (ci and release) and select the correct one.</p>\n\n<p>Hope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366515,"creation_date":1675363887,"answer_id":75327726,"question_id":37205962,"body_markdown":"Just finally solved it.\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;profile-to-be-activated-on-build&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;&lt;!-- on your flavor --&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;mvn-profile-env-var-trigger&lt;/name&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n\r\nGoto JUnit default profile (aka configuration template). Add into JVM args: \r\n\r\n    -Dmvn-profile-env-var-trigger\r\n\r\nYou may need to manually reload maven profiles in IDE.\r\n\r\nAlso make sure on [Settings &gt; Build Tools &gt; Maven &gt; Running tests] envVars is checked (or better everything).","title":"IntelliJ: activate Maven profile when running Junit tests","body":"<p>Just finally solved it.</p>\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;profile-to-be-activated-on-build&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;&lt;!-- on your flavor --&gt;\n            &lt;property&gt;\n                &lt;name&gt;mvn-profile-env-var-trigger&lt;/name&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>Goto JUnit default profile (aka configuration template). Add into JVM args:</p>\n<pre><code>-Dmvn-profile-env-var-trigger\n</code></pre>\n<p>You may need to manually reload maven profiles in IDE.</p>\n<p>Also make sure on [Settings &gt; Build Tools &gt; Maven &gt; Running tests] envVars is checked (or better everything).</p>\n"}],"owner":{"account_id":1803672,"reputation":669,"user_id":4856922,"accept_rate":27,"display_name":"Jonathan Lermitage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8476,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1675366515,"creation_date":1463130891,"question_id":37205962,"body_markdown":"I have declared some properties that are specific to Maven profiles. A part of my pom.xml:\r\n\r\n    &lt;profiles&gt;\r\n                &lt;profile&gt;\r\n                    &lt;id&gt;release&lt;/id&gt;\r\n                    &lt;activation&gt;\r\n                        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                    &lt;/activation&gt;\r\n                    &lt;properties&gt;\r\n                        &lt;my.properties.file&gt;foo.xml&lt;/my.properties.file&gt;\r\n                    &lt;/properties&gt;\r\n                &lt;/profile&gt;\r\n                &lt;profile&gt;\r\n                  &lt;id&gt;ci&lt;/id&gt;\r\n                  &lt;properties&gt;\r\n                    &lt;my.properties.file&gt;bar.xml&lt;/my.properties.file&gt;\r\n                  &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nI encounter some problem to use the &quot;ci&quot; Maven profile when I start Junit tests via IntelliJ IDEA 2016.  \r\nI activate my profile via the &quot;Maven Projects&quot; panel, then I start tests. The problem is the &quot;my.properties.file&quot; property value is equal to &quot;foo.xml&quot;, not &quot;bar.xml&quot;.\r\n\r\nI have no problem with command-line (I can use the &quot;-Pci&quot; flag). How can I tell IntelliJ to use the &quot;ci&quot; profile? Thx.","title":"IntelliJ: activate Maven profile when running Junit tests","body":"<p>I have declared some properties that are specific to Maven profiles. A part of my pom.xml:</p>\n\n<pre><code>&lt;profiles&gt;\n            &lt;profile&gt;\n                &lt;id&gt;release&lt;/id&gt;\n                &lt;activation&gt;\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n                &lt;/activation&gt;\n                &lt;properties&gt;\n                    &lt;my.properties.file&gt;foo.xml&lt;/my.properties.file&gt;\n                &lt;/properties&gt;\n            &lt;/profile&gt;\n            &lt;profile&gt;\n              &lt;id&gt;ci&lt;/id&gt;\n              &lt;properties&gt;\n                &lt;my.properties.file&gt;bar.xml&lt;/my.properties.file&gt;\n              &lt;/properties&gt;\n        &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>I encounter some problem to use the \"ci\" Maven profile when I start Junit tests via IntelliJ IDEA 2016.<br>\nI activate my profile via the \"Maven Projects\" panel, then I start tests. The problem is the \"my.properties.file\" property value is equal to \"foo.xml\", not \"bar.xml\".</p>\n\n<p>I have no problem with command-line (I can use the \"-Pci\" flag). How can I tell IntelliJ to use the \"ci\" profile? Thx.</p>\n"},{"tags":["java","docker","selenium","selenium-grid","remotewebdriver"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1675364183,"post_id":75327329,"comment_id":132918690,"body_markdown":"please, format your question properly","body":"please, format your question properly"}],"answers":[{"comments":[{"owner":{"account_id":27117713,"reputation":1,"user_id":20661813,"display_name":"miya dura"},"score":0,"creation_date":1675369938,"post_id":75328093,"comment_id":132920240,"body_markdown":"WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4444/wd/hub&quot;), options);        By changing the local host address in the URL,  its working now. Thank you.","body":"WebDriver driver = new RemoteWebDriver(new URL(&quot;<a href=\"http://127.0.0.1:4444/wd/hub&quot;\" rel=\"nofollow noreferrer\">127.0.0.1:4444/wd/hub&quot;</a>), options);        By changing the local host address in the URL,  its working now. Thank you."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366165,"creation_date":1675366165,"answer_id":75328093,"question_id":75327329,"body_markdown":"Add _`/wd/hub`_ at the end of the your driver URL as:\r\n\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), options);\r\n\r\nor\r\n\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4444/wd/hub&quot;), options);","title":"SessionNotCreatedException: Could not start a new session. Unable to parse remote response error using SeleniumGrid","body":"<p>Add <em><code>/wd/hub</code></em> at the end of the your driver URL as:</p>\n<pre><code>WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), options);\n</code></pre>\n<p>or</p>\n<pre><code>WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:4444/wd/hub&quot;), options);\n</code></pre>\n"}],"owner":{"account_id":27117713,"reputation":1,"user_id":20661813,"display_name":"miya dura"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675366424,"creation_date":1675361675,"question_id":75327329,"body_markdown":"I am implementing selenium grid and the capability to launch the tests using the RemoteWebDriver. I am using docker standalone image.\r\nBelow is my code\r\n```\r\npublic void setUp() throws MalformedURLException {\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--no-sandbox&quot;);\r\n    options.addArguments(&quot;--headless&quot;);\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;),options);\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    driver.get(&quot;www.google.com&quot;);\r\n    driver.manage().window().maximize();\r\n}\r\n```\r\nCommand:\r\n\r\n    docker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest\r\n```\r\nCONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS         PORTS                                                      NAMES\r\n1f810511cbe2   selenium/standalone-chrome:latest   &quot;/opt/bin/entry_poin…&quot;   9 seconds ago   Up 7 seconds   0.0.0.0:4444-\\&gt;4444/tcp, 0.0.0.0:7900-\\&gt;7900/tcp, 5900/tcp   modest_keller\r\n```\r\nI have also added selenium-java, selenium-manager and testing dependencies in pom.xml. I am using:\r\n\r\n- Java 11\r\n- Selenium 4.8.0\r\n- Selenium Manager 4.8.0\r\n- Chrome version 109.0.5414.119\r\n- IDE IntelliJ\r\n- MacOS\r\n\r\nI am getting below errors:\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Unable to parse remote response:     var json = Object.freeze(&#39;{&quot;consoleLink&quot;: &quot;\\\\u002fgrid\\\\u002fconsole&quot;,&quot;type&quot;: &quot;Grid Hub&quot;,&quot;class&quot;: &quot;org.openqa.grid.web.servlet.DisplayHelpHandler$DisplayHelpServletConfig&quot;,&quot;version&quot;: &quot;3.141.59&quot;}&#39;);\r\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:134)\r\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\r\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\r\n    at baseTest.BaseTest.setUp(BaseTest.java:30)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\r\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\r\n    at org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:180)\r\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:829)\r\n    at org.testng.TestRunner.run(TestRunner.java:602)\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\r\n    at org.testng.TestNG.run(TestNG.java:1067)\r\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\nCaused by: org.openqa.selenium.json.JsonException: Unable to parse: \\&lt;!DOCTYPE html\\&gt;\r\n\r\n   \tat org.openqa.selenium.json.Json.toType(Json.java:57)\r\n\tat org.openqa.selenium.json.Json.toType(Json.java:50)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:131)\r\n\t... 34 more\r\nCaused by: org.openqa.selenium.json.JsonException: Unable to determine type from: &lt;. Last 1 characters read: &lt;\r\nBuild info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.1&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: driver.version: RemoteWebDriver\r\n\tat org.openqa.selenium.json.JsonInput.peek(JsonInput.java:126)\r\n\tat org.openqa.selenium.json.JsonTypeCoercer.lambda$buildCoercer$6(JsonTypeCoercer.java:141)\r\n\tat org.openqa.selenium.json.JsonTypeCoercer.coerce(JsonTypeCoercer.java:127)\r\n\tat org.openqa.selenium.json.Json.toType(Json.java:71)\r\n\tat org.openqa.selenium.json.Json.toType(Json.java:55)\r\n\t... 36 more\r\n```","title":"SessionNotCreatedException: Could not start a new session. Unable to parse remote response error using SeleniumGrid","body":"<p>I am implementing selenium grid and the capability to launch the tests using the RemoteWebDriver. I am using docker standalone image.\nBelow is my code</p>\n<pre><code>public void setUp() throws MalformedURLException {\n\n    ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--no-sandbox&quot;);\n    options.addArguments(&quot;--headless&quot;);\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444&quot;),options);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n    driver.get(&quot;www.google.com&quot;);\n    driver.manage().window().maximize();\n}\n</code></pre>\n<p>Command:</p>\n<pre><code>docker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest\n</code></pre>\n<pre><code>CONTAINER ID   IMAGE                               COMMAND                  CREATED         STATUS         PORTS                                                      NAMES\n1f810511cbe2   selenium/standalone-chrome:latest   &quot;/opt/bin/entry_poin…&quot;   9 seconds ago   Up 7 seconds   0.0.0.0:4444-\\&gt;4444/tcp, 0.0.0.0:7900-\\&gt;7900/tcp, 5900/tcp   modest_keller\n</code></pre>\n<p>I have also added selenium-java, selenium-manager and testing dependencies in pom.xml. I am using:</p>\n<ul>\n<li>Java 11</li>\n<li>Selenium 4.8.0</li>\n<li>Selenium Manager 4.8.0</li>\n<li>Chrome version 109.0.5414.119</li>\n<li>IDE IntelliJ</li>\n<li>MacOS</li>\n</ul>\n<p>I am getting below errors:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Unable to parse remote response:     var json = Object.freeze('{&quot;consoleLink&quot;: &quot;\\\\u002fgrid\\\\u002fconsole&quot;,&quot;type&quot;: &quot;Grid Hub&quot;,&quot;class&quot;: &quot;org.openqa.grid.web.servlet.DisplayHelpHandler$DisplayHelpServletConfig&quot;,&quot;version&quot;: &quot;3.141.59&quot;}');\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:134)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:106)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\n    at baseTest.BaseTest.setUp(BaseTest.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\n    at org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:180)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:829)\n    at org.testng.TestRunner.run(TestRunner.java:602)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:437)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:431)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:391)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n\nCaused by: org.openqa.selenium.json.JsonException: Unable to parse: \\&lt;!DOCTYPE html\\&gt;\n\n    at org.openqa.selenium.json.Json.toType(Json.java:57)\n    at org.openqa.selenium.json.Json.toType(Json.java:50)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:131)\n    ... 34 more\nCaused by: org.openqa.selenium.json.JsonException: Unable to determine type from: &lt;. Last 1 characters read: &lt;\nBuild info: version: '4.8.0', revision: '267030adea'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.1', java.version: '11.0.17'\nDriver info: driver.version: RemoteWebDriver\n    at org.openqa.selenium.json.JsonInput.peek(JsonInput.java:126)\n    at org.openqa.selenium.json.JsonTypeCoercer.lambda$buildCoercer$6(JsonTypeCoercer.java:141)\n    at org.openqa.selenium.json.JsonTypeCoercer.coerce(JsonTypeCoercer.java:127)\n    at org.openqa.selenium.json.Json.toType(Json.java:71)\n    at org.openqa.selenium.json.Json.toType(Json.java:55)\n    ... 36 more\n</code></pre>\n"},{"tags":["java","launch4j"],"comments":[{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1584967042,"post_id":60813265,"comment_id":107595118,"body_markdown":"Java -version is showing a JRE.  You need your command line PATH/JAVA_HOME to be pointing to a JDK if you want to use javac.  JDK includes a JRE. What OS are you running?","body":"Java -version is showing a JRE.  You need your command line PATH/JAVA_HOME to be pointing to a JDK if you want to use javac.  JDK includes a JRE. What OS are you running?"},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584973250,"post_id":60813265,"comment_id":107598207,"body_markdown":"I am running Windows 10. Yes, variables PATH and JAVA_HOME are pointing to JDK.","body":"I am running Windows 10. Yes, variables PATH and JAVA_HOME are pointing to JDK."},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584973289,"post_id":60813265,"comment_id":107598228,"body_markdown":"javac -version produces the output: javac 14","body":"javac -version produces the output: javac 14"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1584974713,"post_id":60813265,"comment_id":107599107,"body_markdown":"can you run launch4j.exe?","body":"can you run launch4j.exe?"},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584975101,"post_id":60813265,"comment_id":107599341,"body_markdown":"The same output: This application requires a Java Runtime Environment 1.6.0","body":"The same output: This application requires a Java Runtime Environment 1.6.0"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1584976724,"post_id":60813265,"comment_id":107600207,"body_markdown":"Java 14 just came out.  I use Java professionally, and we are only on java 8. I very much doubt launch4j supports java 14.  you likely need to install JDK 8, and point JAVA_HOME and PATH to the JDK 8 installation.","body":"Java 14 just came out.  I use Java professionally, and we are only on java 8. I very much doubt launch4j supports java 14.  you likely need to install JDK 8, and point JAVA_HOME and PATH to the JDK 8 installation."},{"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"score":0,"creation_date":1584980161,"post_id":60813265,"comment_id":107602022,"body_markdown":"Yep!  For java 8 everything works! Thank you!","body":"Yep!  For java 8 everything works! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":4140209,"reputation":549,"user_id":3395778,"accept_rate":100,"display_name":"AndreaTaroni86"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600077405,"creation_date":1600077405,"answer_id":63882071,"question_id":60813265,"body_markdown":"Launch4j seems to be limited with new java versions...\r\nIn last update they shows up a detailed info about supported jvm, the last one is 1.8.9 and there is a ticket about compliance with java 9 and later...\r\n[changelog and tickets launch4j][1]\r\n\r\n[![Launch4j popup with message][2]][2]\r\n\r\n\r\n  [1]: http://launch4j.sourceforge.net/changelog.html\r\n  [2]: https://i.stack.imgur.com/Gbej8.png","title":"Why Launch4j does not find installed JDK?","body":"<p>Launch4j seems to be limited with new java versions...\nIn last update they shows up a detailed info about supported jvm, the last one is 1.8.9 and there is a ticket about compliance with java 9 and later...\n<a href=\"http://launch4j.sourceforge.net/changelog.html\" rel=\"nofollow noreferrer\">changelog and tickets launch4j</a></p>\n<p><a href=\"https://i.stack.imgur.com/Gbej8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gbej8.png\" alt=\"Launch4j popup with message\" /></a></p>\n"},{"comments":[{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1624146667,"post_id":64855566,"comment_id":120279109,"body_markdown":"Yeah but the executables made by Launch4J have the same problem (they don&#39;t find a JDK 16 installation from adoptopenjdk.net)","body":"Yeah but the executables made by Launch4J have the same problem (they don&#39;t find a JDK 16 installation from adoptopenjdk.net)"}],"tags":[],"owner":{"account_id":5806085,"reputation":11,"user_id":4578654,"display_name":"Georg.Haupt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605519407,"creation_date":1605519407,"answer_id":64855566,"question_id":60813265,"body_markdown":"Instead of starting the launch4j.exe as windows executable, you may start the launch4.jar with your jdk. Therefore, mark the launch4j.jar in the file explorer, right click, choose open with, and reference your installed jdk, e.g. Open JDK platform binary","title":"Why Launch4j does not find installed JDK?","body":"<p>Instead of starting the launch4j.exe as windows executable, you may start the launch4.jar with your jdk. Therefore, mark the launch4j.jar in the file explorer, right click, choose open with, and reference your installed jdk, e.g. Open JDK platform binary</p>\n"},{"tags":[],"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675366415,"creation_date":1675366415,"answer_id":75328131,"question_id":60813265,"body_markdown":"Install Oracle&#39;s JRE to get Launch4j to work.\r\n\r\nLaunch4j has limited recognition for versions and providers of the JVM. I had only AdoptOpenJDK 1.8 installed, and Launch4j&#39;s exe didn&#39;t work. When I installed Oracle&#39;s JRE 1.8, then it launched my jar application without any problems.\r\n\r\nEven though I was getting the Java 1.6 Error message, I was still sure the jar application worked with Java 1.8. I think it was due to Launch4j being stale and not under recent updates at the time I integrated it into my application.","title":"Why Launch4j does not find installed JDK?","body":"<p>Install Oracle's JRE to get Launch4j to work.</p>\n<p>Launch4j has limited recognition for versions and providers of the JVM. I had only AdoptOpenJDK 1.8 installed, and Launch4j's exe didn't work. When I installed Oracle's JRE 1.8, then it launched my jar application without any problems.</p>\n<p>Even though I was getting the Java 1.6 Error message, I was still sure the jar application worked with Java 1.8. I think it was due to Launch4j being stale and not under recent updates at the time I integrated it into my application.</p>\n"}],"owner":{"account_id":18035863,"reputation":11,"user_id":13109310,"display_name":"Keine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675366415,"creation_date":1584965198,"question_id":60813265,"body_markdown":"I have Launch4j and JDK installed on my computer and I am trying to convert jar-file to exe. When I start Launch4j I get the following error:\r\n\r\n&gt; This application requires a Java Runtime Environment 1.6.0\r\n\r\nHow can I fix this? What is the Launch4j search strategy to find installed jres/jdks?\r\n\r\nJDK version:\r\n\r\n    java -version\r\n\r\nOutput: \r\n\r\n&gt; java version &quot;14&quot; 2020-03-17 Java(TM) SE Runtime Environment (build\r\n&gt; 14+36-1461) Java HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed\r\n&gt; mode, sharing)\r\n\r\nI have JDK-path in both variables PATH and JAVA_HOME. I tried to uninstall the JDK and install JRE, but I first need to compile *.java to *.class files with the javac command. So in this case I have different versions of JDK and JRE.\r\n\r\nThe [official documentation][1] says: \r\n\r\n&gt; Launch4j requires an xml configuration file for each output\r\n&gt; executable.\r\n\r\nSo I can use *jre* tag with *jdkPreference* attribute to specify a preference for a public JRE or a private JDK runtime in configuration file. But how can I add this to build.xml file?\r\n\r\nbuild.xml:\r\n\r\n    &lt;project name=&quot;launch4j&quot; default=&quot;compile&quot; basedir=&quot;.&quot;&gt;\r\n    \t&lt;property name=&quot;src&quot; location=&quot;src&quot; /&gt;\r\n    \t&lt;property name=&quot;lib&quot; location=&quot;lib&quot; /&gt;\r\n    \t&lt;property name=&quot;build&quot; location=&quot;build&quot; /&gt;\r\n    \t&lt;property name=&quot;jar&quot; location=&quot;./${ant.project.name}.jar&quot; /&gt;\r\n    \t&lt;property name=&quot;launch4j.dir&quot; location=&quot;.&quot; /&gt;\r\n    \t&lt;property name=&quot;maven&quot; location=&quot;maven&quot; /&gt;\r\n    \r\n    \t&lt;path id=&quot;dist.classpath&quot;&gt;\r\n    \t\t&lt;pathelement path=&quot;${build}&quot; /&gt;\r\n    \t\t&lt;fileset dir=&quot;${lib}&quot;&gt;\r\n    \t\t\t&lt;include name=&quot;**/*.jar&quot; /&gt;\r\n    \t\t&lt;/fileset&gt;\r\n    \t&lt;/path&gt;\r\n    \r\n    \t&lt;target name=&quot;init&quot;&gt;\r\n    \t\t&lt;tstamp /&gt;\r\n    \t\t&lt;mkdir dir=&quot;${build}&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;compile&quot; depends=&quot;init&quot; description=&quot;compile the source&quot;&gt;\r\n    \t\t&lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}&quot; classpathref=&quot;dist.classpath&quot; source=&quot;1.6&quot; debug=&quot;on&quot; includeantruntime=&quot;false&quot; /&gt;\r\n    \t\t&lt;copy todir=&quot;${build}/images&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${src}/images&quot;&gt;\r\n    \t\t\t\t&lt;include name=&quot;**/*&quot; /&gt;\r\n    \t\t\t&lt;/fileset&gt;\r\n    \t\t&lt;/copy&gt;\r\n    \t\t&lt;copy todir=&quot;${build}&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${src}&quot;&gt;\r\n    \t\t\t\t&lt;include name=&quot;**/*.properties&quot; /&gt;\r\n    \t\t\t&lt;/fileset&gt;\r\n    \t\t&lt;/copy&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;jar&quot; depends=&quot;compile&quot; description=&quot;create jar&quot;&gt;\r\n    \t\t&lt;fileset dir=&quot;${lib}&quot; id=&quot;lib.dist.fileset&quot;&gt;\r\n    \t\t\t&lt;include name=&quot;**/*.jar&quot; /&gt;\r\n    \t\t&lt;/fileset&gt;\r\n    \t\t&lt;pathconvert pathsep=&quot; &quot; property=&quot;dist.classpath&quot; refid=&quot;lib.dist.fileset&quot;&gt;\r\n    \t\t\t&lt;map from=&quot;${lib}&quot; to=&quot;./lib&quot; /&gt;\r\n    \t\t&lt;/pathconvert&gt;\r\n    \t\t&lt;!-- Put everything in ${build} into a jar file --&gt;\r\n    \t\t&lt;jar jarfile=&quot;${jar}&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${build}&quot; excludes=&quot;**/messages_es.properties&quot; /&gt;\r\n    \t\t\t&lt;manifest&gt;\r\n    \t\t\t\t&lt;attribute name=&quot;Main-Class&quot; value=&quot;net.sf.launch4j.Main&quot; /&gt;\r\n    \t\t\t\t&lt;attribute name=&quot;Class-Path&quot; value=&quot;. ${dist.classpath}&quot; /&gt;\r\n    \t\t\t&lt;/manifest&gt;\r\n    \t\t&lt;/jar&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;demo&quot; depends=&quot;jar&quot; description=&quot;build the demos&quot;&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/ConsoleApp&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/SimpleApp&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \r\n    \t&lt;target name=&quot;clean&quot; description=&quot;clean up&quot;&gt;\r\n    \t\t&lt;delete dir=&quot;${build}&quot; /&gt;\r\n    \t\t&lt;delete file=&quot;${jar}&quot; /&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/ConsoleApp&quot; target=&quot;clean&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t\t&lt;ant dir=&quot;./demo/SimpleApp&quot; target=&quot;clean&quot; inheritAll=&quot;false&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    \t\r\n    \t&lt;target name=&quot;switch-to-maven&quot; description=&quot;switch project to maven&quot;&gt;\r\n    \t\t&lt;copy todir=&quot;.&quot; overwrite=&quot;true&quot;&gt;\r\n    \t\t\t&lt;fileset dir=&quot;${maven}&quot;&gt;\r\n    \t\t\t\t&lt;include name=&quot;**/*&quot; /&gt;\r\n    \t\t\t&lt;/fileset&gt;\r\n    \t\t&lt;/copy&gt;\r\n    \t\t&lt;delete dir=&quot;${lib}&quot; /&gt;\r\n    \t\t&lt;mkdir dir=&quot;./target&quot; /&gt;\r\n    \t&lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\nThanks\r\n  [1]: http://launch4j.sourceforge.net/docs.html\r\n","title":"Why Launch4j does not find installed JDK?","body":"<p>I have Launch4j and JDK installed on my computer and I am trying to convert jar-file to exe. When I start Launch4j I get the following error:</p>\n\n<blockquote>\n  <p>This application requires a Java Runtime Environment 1.6.0</p>\n</blockquote>\n\n<p>How can I fix this? What is the Launch4j search strategy to find installed jres/jdks?</p>\n\n<p>JDK version:</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>Output: </p>\n\n<blockquote>\n  <p>java version \"14\" 2020-03-17 Java(TM) SE Runtime Environment (build\n  14+36-1461) Java HotSpot(TM) 64-Bit Server VM (build 14+36-1461, mixed\n  mode, sharing)</p>\n</blockquote>\n\n<p>I have JDK-path in both variables PATH and JAVA_HOME. I tried to uninstall the JDK and install JRE, but I first need to compile *.java to *.class files with the javac command. So in this case I have different versions of JDK and JRE.</p>\n\n<p>The <a href=\"http://launch4j.sourceforge.net/docs.html\" rel=\"nofollow noreferrer\">official documentation</a> says: </p>\n\n<blockquote>\n  <p>Launch4j requires an xml configuration file for each output\n  executable.</p>\n</blockquote>\n\n<p>So I can use <em>jre</em> tag with <em>jdkPreference</em> attribute to specify a preference for a public JRE or a private JDK runtime in configuration file. But how can I add this to build.xml file?</p>\n\n<p>build.xml:</p>\n\n<pre><code>&lt;project name=\"launch4j\" default=\"compile\" basedir=\".\"&gt;\n    &lt;property name=\"src\" location=\"src\" /&gt;\n    &lt;property name=\"lib\" location=\"lib\" /&gt;\n    &lt;property name=\"build\" location=\"build\" /&gt;\n    &lt;property name=\"jar\" location=\"./${ant.project.name}.jar\" /&gt;\n    &lt;property name=\"launch4j.dir\" location=\".\" /&gt;\n    &lt;property name=\"maven\" location=\"maven\" /&gt;\n\n    &lt;path id=\"dist.classpath\"&gt;\n        &lt;pathelement path=\"${build}\" /&gt;\n        &lt;fileset dir=\"${lib}\"&gt;\n            &lt;include name=\"**/*.jar\" /&gt;\n        &lt;/fileset&gt;\n    &lt;/path&gt;\n\n    &lt;target name=\"init\"&gt;\n        &lt;tstamp /&gt;\n        &lt;mkdir dir=\"${build}\" /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"compile\" depends=\"init\" description=\"compile the source\"&gt;\n        &lt;javac srcdir=\"${src}\" destdir=\"${build}\" classpathref=\"dist.classpath\" source=\"1.6\" debug=\"on\" includeantruntime=\"false\" /&gt;\n        &lt;copy todir=\"${build}/images\"&gt;\n            &lt;fileset dir=\"${src}/images\"&gt;\n                &lt;include name=\"**/*\" /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n        &lt;copy todir=\"${build}\"&gt;\n            &lt;fileset dir=\"${src}\"&gt;\n                &lt;include name=\"**/*.properties\" /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"jar\" depends=\"compile\" description=\"create jar\"&gt;\n        &lt;fileset dir=\"${lib}\" id=\"lib.dist.fileset\"&gt;\n            &lt;include name=\"**/*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;pathconvert pathsep=\" \" property=\"dist.classpath\" refid=\"lib.dist.fileset\"&gt;\n            &lt;map from=\"${lib}\" to=\"./lib\" /&gt;\n        &lt;/pathconvert&gt;\n        &lt;!-- Put everything in ${build} into a jar file --&gt;\n        &lt;jar jarfile=\"${jar}\"&gt;\n            &lt;fileset dir=\"${build}\" excludes=\"**/messages_es.properties\" /&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=\"Main-Class\" value=\"net.sf.launch4j.Main\" /&gt;\n                &lt;attribute name=\"Class-Path\" value=\". ${dist.classpath}\" /&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"demo\" depends=\"jar\" description=\"build the demos\"&gt;\n        &lt;ant dir=\"./demo/ConsoleApp\" inheritAll=\"false\" /&gt;\n        &lt;ant dir=\"./demo/SimpleApp\" inheritAll=\"false\" /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"clean\" description=\"clean up\"&gt;\n        &lt;delete dir=\"${build}\" /&gt;\n        &lt;delete file=\"${jar}\" /&gt;\n        &lt;ant dir=\"./demo/ConsoleApp\" target=\"clean\" inheritAll=\"false\" /&gt;\n        &lt;ant dir=\"./demo/SimpleApp\" target=\"clean\" inheritAll=\"false\" /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=\"switch-to-maven\" description=\"switch project to maven\"&gt;\n        &lt;copy todir=\".\" overwrite=\"true\"&gt;\n            &lt;fileset dir=\"${maven}\"&gt;\n                &lt;include name=\"**/*\" /&gt;\n            &lt;/fileset&gt;\n        &lt;/copy&gt;\n        &lt;delete dir=\"${lib}\" /&gt;\n        &lt;mkdir dir=\"./target\" /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","localization","jfilechooser","customizing"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1675110674,"post_id":75287956,"comment_id":132854550,"body_markdown":"[Another similar question](https://stackoverflow.com/q/74475473/6746785) was asked earlier, so I just link to it here. As for the question I think the `UIManager` keys depend on the selected [L&amp;F](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html). If that&#39;s true, but you also go with the `UIManager` solution, then you will be tied to the selected L&amp;F (which in its turn should mean the default cross platfrom L&amp;F since this is the reason I am assuming you are using Java in the first place).","body":"<a href=\"https://stackoverflow.com/q/74475473/6746785\">Another similar question</a> was asked earlier, so I just link to it here. As for the question I think the <code>UIManager</code> keys depend on the selected <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/index.html\" rel=\"nofollow noreferrer\">L&amp;F</a>. If that&#39;s true, but you also go with the <code>UIManager</code> solution, then you will be tied to the selected L&amp;F (which in its turn should mean the default cross platfrom L&amp;F since this is the reason I am assuming you are using Java in the first place)."}],"answers":[{"comments":[{"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"score":0,"creation_date":1675113275,"post_id":75288748,"comment_id":132855233,"body_markdown":"Thank you!\n\nIt looks really promising.\nI will test it as soon as I get a chance.\n\nHowever I would also like to know how I can find and interact with the Resource Bundles that come as standard.\nIt would be interesting to look for the keys there and compare the different Languages / Locales.\nany ideas where to look for those?","body":"Thank you!  It looks really promising. I will test it as soon as I get a chance.  However I would also like to know how I can find and interact with the Resource Bundles that come as standard. It would be interesting to look for the keys there and compare the different Languages / Locales. any ideas where to look for those?"},{"owner":{"account_id":17033457,"reputation":31,"user_id":12323075,"display_name":"alcan"},"score":0,"creation_date":1675116281,"post_id":75288748,"comment_id":132856024,"body_markdown":"I just found this post where they explain how setDefaultLocale is affecting to the JFileChooser (it doesn&#39;t change the language of the user interface), so if you want to translate the entire UIDefaults, you can create a ResourceBundle with all the names and do UIManager.getDefaults().addResourceBundle. This way UIManager will search each key in the bundle before looking in UIDefaults. https://stackoverflow.com/questions/58873985/how-can-my-default-locale-be-taken-into-account-by-the-swing-components (also edited my response)","body":"I just found this post where they explain how setDefaultLocale is affecting to the JFileChooser (it doesn&#39;t change the language of the user interface), so if you want to translate the entire UIDefaults, you can create a ResourceBundle with all the names and do UIManager.getDefaults().addResourceBundle. This way UIManager will search each key in the bundle before looking in UIDefaults. <a href=\"https://stackoverflow.com/questions/58873985/how-can-my-default-locale-be-taken-into-account-by-the-swing-components\" title=\"how can my default locale be taken into account by the swing components\">stackoverflow.com/questions/58873985/&hellip;</a> (also edited my response)"},{"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"score":0,"creation_date":1675191388,"post_id":75288748,"comment_id":132874413,"body_markdown":"Thanks again for your support! \nI have now looked at this link:\nhttps://stackoverflow.com/questions/1951558/list-of-java-swing-ui-properties\nFrom there I felt like this link was the best for text keys:\nhttps://thebadprogrammer.com/swing-uimanager-keys/\nIf one is looking for graphics and icons some of the other links will be better.\nStill this key was missing: &quot;saveInLabelText&quot;.\nThis one is for the &quot;Save in&quot; text in the save file dialogue.\nBut I managed to figure this out. :p\nSeems like I have managed to replace all the texts in both the open and save windows of the JFileChooser.","body":"Thanks again for your support!  I have now looked at this link: <a href=\"https://stackoverflow.com/questions/1951558/list-of-java-swing-ui-properties\" title=\"list of java swing ui properties\">stackoverflow.com/questions/1951558/&hellip;</a> From there I felt like this link was the best for text keys: <a href=\"https://thebadprogrammer.com/swing-uimanager-keys/\" rel=\"nofollow noreferrer\">thebadprogrammer.com/swing-uimanager-keys</a> If one is looking for graphics and icons some of the other links will be better. Still this key was missing: &quot;saveInLabelText&quot;. This one is for the &quot;Save in&quot; text in the save file dialogue. But I managed to figure this out. :p Seems like I have managed to replace all the texts in both the open and save windows of the JFileChooser."},{"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"score":0,"creation_date":1675191396,"post_id":75288748,"comment_id":132874415,"body_markdown":"Yes I am very curious about ResourceBundles.\nBut not really in creating my own.\nI am much more interested in finding the built in ones.\nAny idea how I can get to them?\nThey must exist I guess since changing Locale to e.g. Germany is able to automatically replace all texts in the FileChooser.","body":"Yes I am very curious about ResourceBundles. But not really in creating my own. I am much more interested in finding the built in ones. Any idea how I can get to them? They must exist I guess since changing Locale to e.g. Germany is able to automatically replace all texts in the FileChooser."},{"owner":{"account_id":17033457,"reputation":31,"user_id":12323075,"display_name":"alcan"},"score":0,"creation_date":1675283322,"post_id":75288748,"comment_id":132897841,"body_markdown":"I think it works with germany because this language is in the user interface translation list of the JRE version that you are using (for example, this is the list of jre10 supported locales: https://www.oracle.com/java/technologies/javase/jdk10-and-jre10-suported-locales.html#translation). After setting one of these supported locales, you should be able to access to the translated texts using UIManager.getDefaults() (that return the default hashtable of all the texts). HTH!","body":"I think it works with germany because this language is in the user interface translation list of the JRE version that you are using (for example, this is the list of jre10 supported locales: <a href=\"https://www.oracle.com/java/technologies/javase/jdk10-and-jre10-suported-locales.html#translation\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a>). After setting one of these supported locales, you should be able to access to the translated texts using UIManager.getDefaults() (that return the default hashtable of all the texts). HTH!"}],"tags":[],"owner":{"account_id":17033457,"reputation":31,"user_id":12323075,"display_name":"alcan"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675115531,"creation_date":1675103975,"answer_id":75288748,"question_id":75287956,"body_markdown":"You can find the full list (including FileChooser keys) in the first answer of this post: https://stackoverflow.com/questions/1951558/list-of-java-swing-ui-properties\r\n\r\n\r\nI think it will be enough setting only the properties ending in &quot;Text&quot;.\r\n\r\n\r\nAFAIK UIManager.put is just updating [UIDefaults][1] (the map that contains all the default names) so, as long as there is just one language available in the application, there is no need to use a ResourceBundle.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/UIDefaults.html","title":"How to make a JFileChooser with a different language?","body":"<p>You can find the full list (including FileChooser keys) in the first answer of this post: <a href=\"https://stackoverflow.com/questions/1951558/list-of-java-swing-ui-properties\">List of Java Swing UI properties?</a></p>\n<p>I think it will be enough setting only the properties ending in &quot;Text&quot;.</p>\n<p>AFAIK UIManager.put is just updating <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/UIDefaults.html\" rel=\"nofollow noreferrer\">UIDefaults</a> (the map that contains all the default names) so, as long as there is just one language available in the application, there is no need to use a ResourceBundle.</p>\n"},{"tags":[],"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675366275,"creation_date":1675329779,"answer_id":75320984,"question_id":75287956,"body_markdown":"So correct me if I am wrong.\r\nBut I think the answer is something like this:\r\nIf you want to use one of the languages that is supported for the Swing Component just set the correct Locale and you are done.\r\n\r\nIf not it seems like using UIManager.put is the best way to go.\r\n\r\nI was hoping to find a resource bundle containing all of the text strings but now I do no longer think that such a thing exists.\r\n\r\nSo my understanding at the moment is this:\r\n\r\nThe JComponents such as the FileChooser are generalized Components that are meant to work on many different platforms and operative systems.\r\n\r\nAnd they use classes called &quot;Look &amp; Feel&quot; to get their final form depending on the intended Platform.\r\n\r\nThis is where the UIManager comes in.\r\n\r\nIt allows you to decide what &quot;Look &amp; Feel&quot; you want to use.\r\n\r\nSo in my case it will use a look and feel called:\r\n&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;.\r\n\r\nYou can get this information using:\t\r\n\r\n    System.out.println(UIManager.getSystemLookAndFeelClassName()); \r\n\r\nAnd I believe that the UIManager will create classes called UIDefaults using some algorithm.\r\n\r\nThe UIDefaults will contain the values that gives the JComponents their &quot;Look &amp; Feel&quot; i.e. their appearance &amp; behaviour.\r\n\r\nBut the UIDefaults classes are not pre-existing.\r\nThey are created based on setup.\r\n\r\nHowever I believe that they will get some of their data from a resource file that is not truly a ResourceBundle but at least extends the ResourceBundle class.\r\nBut this still does not contain all the necessary Strings to fully customize the FileChooser.\r\nThis link shows an example of these resource files that are specific to the Windows version (L&amp;F) of the FileChooser:\r\nhttps://code.yawk.at/java/6/com/sun/java/swing/plaf/windows/resources/\r\n\r\nSo the data is apparently split up and it does not come from a single source.\r\nIt is collected from different sources and put into the UIDefaults class that works like a Database for the values.\r\n\r\nTo sum it all up.\r\nThe best way to go might be to create a class that has a method to put all the String values into the UIDefaults using the UIManager.\r\nAnd I suppose you could prepare for internationalization by letting this method get it&#39;s strings from a resource bundle that you have created yourself.\r\n\r\nThe best list of Keys seems to be this one:\r\nhttps://thebadprogrammer.com/swing-uimanager-keys/\r\n\r\nBut unfortunately although seemingly exhausting there is still information missing.\r\n\r\nTo fully customize all the Strings in the FileChooser in addition to the Keys you will find in this list you will also need to change the value of this Key:\r\n\r\n&quot;saveInLabelText&quot;.\r\n\r\nSo these are all the String I changed and I believe they will customize most of the Strings for the Windows version of the FileChooser:\r\n\r\n    \t\t//Strings for Open file-dialogue:\t***************************************************************************\r\n\t\t\r\n\t\t//The numbers in the comments refers to the order of appearance of the Stirng values in the Frame\r\n\t\t\r\n        UIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;Open&quot;);\t\t\t\t//1.\t\t\r\n        UIManager.put(&quot;FileChooser.lookInLabelText&quot;,&quot;Look in:&quot;); \t\t\t\t//2.\r\n        UIManager.put(&quot;FileChooser.fileNameLabelText&quot;,&quot;File name:&quot;); \t\t\t\t//3.\r\n        UIManager.put(&quot;FileChooser.filesOfTypeLabelText&quot;,&quot;Files of type:&quot;); \t//4.     \r\n        UIManager.put(&quot;FileChooser.openButtonText&quot;,&quot;Open&quot;);\t\t\t\t\t//5.\t        \r\n\t\tUIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);  \t\t\t\t//6.        \r\n        UIManager.put(&quot;FileChooser.acceptAllFileFilterText&quot;,&quot;All Files&quot;);\t\t//7.\r\n\t\t\r\n\t\t//End of Open file-dialogue\t***************************************************************************\r\n        \r\n\t\t//Strings for Save file-dialogue\t***************************************************************************\r\n        \r\n        UIManager.put(&quot;FileChooser.saveDialogTitleText&quot;,&quot;Save as&quot;);\t\t//1.        \r\n        UIManager.put(&quot;FileChooser.saveInLabelText&quot;,&quot;Save in:&quot;);\t\t//2.  This was not in the list but works!\r\n        // The strings with number 3 &amp; 4 are the same as the ones for the Open file-dialogue so you do not need to set them here.\r\n        UIManager.put(&quot;FileChooser.saveButtonText&quot;,&quot;Save&quot;);\t\t//5.      \r\n\r\n  ","title":"How to make a JFileChooser with a different language?","body":"<p>So correct me if I am wrong.\nBut I think the answer is something like this:\nIf you want to use one of the languages that is supported for the Swing Component just set the correct Locale and you are done.</p>\n<p>If not it seems like using UIManager.put is the best way to go.</p>\n<p>I was hoping to find a resource bundle containing all of the text strings but now I do no longer think that such a thing exists.</p>\n<p>So my understanding at the moment is this:</p>\n<p>The JComponents such as the FileChooser are generalized Components that are meant to work on many different platforms and operative systems.</p>\n<p>And they use classes called &quot;Look &amp; Feel&quot; to get their final form depending on the intended Platform.</p>\n<p>This is where the UIManager comes in.</p>\n<p>It allows you to decide what &quot;Look &amp; Feel&quot; you want to use.</p>\n<p>So in my case it will use a look and feel called:\n&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;.</p>\n<p>You can get this information using:</p>\n<pre><code>System.out.println(UIManager.getSystemLookAndFeelClassName()); \n</code></pre>\n<p>And I believe that the UIManager will create classes called UIDefaults using some algorithm.</p>\n<p>The UIDefaults will contain the values that gives the JComponents their &quot;Look &amp; Feel&quot; i.e. their appearance &amp; behaviour.</p>\n<p>But the UIDefaults classes are not pre-existing.\nThey are created based on setup.</p>\n<p>However I believe that they will get some of their data from a resource file that is not truly a ResourceBundle but at least extends the ResourceBundle class.\nBut this still does not contain all the necessary Strings to fully customize the FileChooser.\nThis link shows an example of these resource files that are specific to the Windows version (L&amp;F) of the FileChooser:\n<a href=\"https://code.yawk.at/java/6/com/sun/java/swing/plaf/windows/resources/\" rel=\"nofollow noreferrer\">https://code.yawk.at/java/6/com/sun/java/swing/plaf/windows/resources/</a></p>\n<p>So the data is apparently split up and it does not come from a single source.\nIt is collected from different sources and put into the UIDefaults class that works like a Database for the values.</p>\n<p>To sum it all up.\nThe best way to go might be to create a class that has a method to put all the String values into the UIDefaults using the UIManager.\nAnd I suppose you could prepare for internationalization by letting this method get it's strings from a resource bundle that you have created yourself.</p>\n<p>The best list of Keys seems to be this one:\n<a href=\"https://thebadprogrammer.com/swing-uimanager-keys/\" rel=\"nofollow noreferrer\">https://thebadprogrammer.com/swing-uimanager-keys/</a></p>\n<p>But unfortunately although seemingly exhausting there is still information missing.</p>\n<p>To fully customize all the Strings in the FileChooser in addition to the Keys you will find in this list you will also need to change the value of this Key:</p>\n<p>&quot;saveInLabelText&quot;.</p>\n<p>So these are all the String I changed and I believe they will customize most of the Strings for the Windows version of the FileChooser:</p>\n<pre><code>        //Strings for Open file-dialogue:   ***************************************************************************\n    \n    //The numbers in the comments refers to the order of appearance of the Stirng values in the Frame\n    \n    UIManager.put(&quot;FileChooser.openDialogTitleText&quot;,&quot;Open&quot;);                //1.        \n    UIManager.put(&quot;FileChooser.lookInLabelText&quot;,&quot;Look in:&quot;);                //2.\n    UIManager.put(&quot;FileChooser.fileNameLabelText&quot;,&quot;File name:&quot;);                //3.\n    UIManager.put(&quot;FileChooser.filesOfTypeLabelText&quot;,&quot;Files of type:&quot;);     //4.     \n    UIManager.put(&quot;FileChooser.openButtonText&quot;,&quot;Open&quot;);                 //5.            \n    UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancel&quot;);                //6.        \n    UIManager.put(&quot;FileChooser.acceptAllFileFilterText&quot;,&quot;All Files&quot;);       //7.\n    \n    //End of Open file-dialogue ***************************************************************************\n    \n    //Strings for Save file-dialogue    ***************************************************************************\n    \n    UIManager.put(&quot;FileChooser.saveDialogTitleText&quot;,&quot;Save as&quot;);     //1.        \n    UIManager.put(&quot;FileChooser.saveInLabelText&quot;,&quot;Save in:&quot;);        //2.  This was not in the list but works!\n    // The strings with number 3 &amp; 4 are the same as the ones for the Open file-dialogue so you do not need to set them here.\n    UIManager.put(&quot;FileChooser.saveButtonText&quot;,&quot;Save&quot;);     //5.      \n</code></pre>\n"}],"owner":{"account_id":27659079,"reputation":41,"user_id":21112318,"display_name":"Oscar Josefsson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675366275,"creation_date":1675099266,"question_id":75287956,"body_markdown":"I want to know how I can make a JFileChooser in the Swedish language.\r\nUnfortunately it turns out that if I could use a JDK version 10 or earlier i could actually do this by creating a Locale object and make it the default.\r\nBut we are discouraged to use this old version for any new programs.\r\nBut from JDK version 11 and forward choosing Swedish Locale no longer works.\r\n\r\nSo I have seen that people have been able to change individual strings for the FileChooser like in this example:\r\nhttps://coderanch.com/t/475470/java/customizing-JFIleChooser\r\nBut this feels unsatisfactory to me.\r\nAt least for as long as I do not know how I can learn about how I can find those Strings and where they are located.\r\nMaybe I will run into the same problem again with some other GUI component and then I still don&#39;t know what to do. \r\n\r\n\r\n\r\n\r\nThis works with JDK v. 10 or earlier:\r\n\r\n```\r\n\r\n//This is in my Main:\r\n\r\n\t\tLocale sverje = new Locale(&quot;sv&quot;, &quot;SE&quot;);\t//Creates a instance of Locale for Swedish, Sweden.\r\n\t\tLocale.setDefault(sverje); //Sets this to default.\r\n\r\n//Then I call a class that opens a Frame and handles the FileChooser.\r\n\r\n```\r\n\r\nThis is an example of modifying an individual string:\r\n```\r\nUIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancelar&quot;); //Changing cancel button text to Portugese\r\n```\r\n\r\n\r\n\r\nIf I need to use this method it would be nice to know how to find the strings like I said before.\r\n\r\nIt would also be nice to know what is going on when you &quot;put&quot; in the new String value like in the example.\r\n\r\nI believe that the JFileChooser somehow inherits the Strings in several steps, and that is what allows us to write &quot;FileChooser.cancelButtonText&quot; even if there actually is no &quot;cancelButtonText&quot; in the FileChooser class, rather (I&#39;m guessing!) it inherits it from a so called ResourceBundle and then from there to the Localeclass and from there to some other class or classes before the FileChooser uses it.\r\n\r\nSo is this a correct assumption and how can you trace the Key / name / location of those strings from the FileChooser class to where the actually are?\r\n\r\nIs it the ResourceBundle or the FileChooser or some other part that was changed since it stopped working from version 11?\r\nCan / should I try to make changes to the ResourceBundle to fix this in the most professional way?","title":"How to make a JFileChooser with a different language?","body":"<p>I want to know how I can make a JFileChooser in the Swedish language.\nUnfortunately it turns out that if I could use a JDK version 10 or earlier i could actually do this by creating a Locale object and make it the default.\nBut we are discouraged to use this old version for any new programs.\nBut from JDK version 11 and forward choosing Swedish Locale no longer works.</p>\n<p>So I have seen that people have been able to change individual strings for the FileChooser like in this example:\n<a href=\"https://coderanch.com/t/475470/java/customizing-JFIleChooser\" rel=\"nofollow noreferrer\">https://coderanch.com/t/475470/java/customizing-JFIleChooser</a>\nBut this feels unsatisfactory to me.\nAt least for as long as I do not know how I can learn about how I can find those Strings and where they are located.\nMaybe I will run into the same problem again with some other GUI component and then I still don't know what to do.</p>\n<p>This works with JDK v. 10 or earlier:</p>\n<pre><code>\n//This is in my Main:\n\n        Locale sverje = new Locale(&quot;sv&quot;, &quot;SE&quot;); //Creates a instance of Locale for Swedish, Sweden.\n        Locale.setDefault(sverje); //Sets this to default.\n\n//Then I call a class that opens a Frame and handles the FileChooser.\n\n</code></pre>\n<p>This is an example of modifying an individual string:</p>\n<pre><code>UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Cancelar&quot;); //Changing cancel button text to Portugese\n</code></pre>\n<p>If I need to use this method it would be nice to know how to find the strings like I said before.</p>\n<p>It would also be nice to know what is going on when you &quot;put&quot; in the new String value like in the example.</p>\n<p>I believe that the JFileChooser somehow inherits the Strings in several steps, and that is what allows us to write &quot;FileChooser.cancelButtonText&quot; even if there actually is no &quot;cancelButtonText&quot; in the FileChooser class, rather (I'm guessing!) it inherits it from a so called ResourceBundle and then from there to the Localeclass and from there to some other class or classes before the FileChooser uses it.</p>\n<p>So is this a correct assumption and how can you trace the Key / name / location of those strings from the FileChooser class to where the actually are?</p>\n<p>Is it the ResourceBundle or the FileChooser or some other part that was changed since it stopped working from version 11?\nCan / should I try to make changes to the ResourceBundle to fix this in the most professional way?</p>\n"},{"tags":["java","hash","sha256"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":3,"creation_date":1675365599,"post_id":75327995,"comment_id":132919103,"body_markdown":"64 hexadecimal characters. `char(64)` would be sufficient.","body":"64 hexadecimal characters. <code>char(64)</code> would be sufficient."},{"owner":{"account_id":3020615,"reputation":49,"user_id":2561759,"accept_rate":0,"display_name":"supercommando440"},"score":2,"creation_date":1675365801,"post_id":75327995,"comment_id":132919154,"body_markdown":"hmm a quick google search shows this; &quot;SHA256 hashes have 256 bits of output, which translates to 64 characters in hex. That&#39;s double the length of the 32-character MD5 hash in hex. Base64 encoded SHA256 characters are only 44 bytes in length (and the last = for padding is omitted anyway).&quot;","body":"hmm a quick google search shows this; &quot;SHA256 hashes have 256 bits of output, which translates to 64 characters in hex. That&#39;s double the length of the 32-character MD5 hash in hex. Base64 encoded SHA256 characters are only 44 bytes in length (and the last = for padding is omitted anyway).&quot;"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1675365997,"post_id":75327995,"comment_id":132919198,"body_markdown":"yes and so what&#39;s the problem ?","body":"yes and so what&#39;s the problem ?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1675369154,"post_id":75327995,"comment_id":132920015,"body_markdown":"@supercommando440: If a quick google search showed you that info then what is your question?","body":"@supercommando440: If a quick google search showed you that info then what is your question?"},{"owner":{"account_id":3020615,"reputation":49,"user_id":2561759,"accept_rate":0,"display_name":"supercommando440"},"score":0,"creation_date":1675446733,"post_id":75327995,"comment_id":132938192,"body_markdown":"obviously the question has been answered.. after I posted it. So there&#39; no problem.","body":"obviously the question has been answered.. after I posted it. So there&#39; no problem."}],"answers":[{"comments":[{"owner":{"account_id":10460312,"reputation":7660,"user_id":7711283,"accept_rate":100,"display_name":"Claudio"},"score":1,"creation_date":1675367733,"post_id":75328084,"comment_id":132919656,"body_markdown":"In other words: 256-bit integer represented as hexadecimal string where each hexadecimal character specifies 4 bit (16 values: 0,1,...,9,A,...,F) of the integer requires 256/4 = 64 characters.","body":"In other words: 256-bit integer represented as hexadecimal string where each hexadecimal character specifies 4 bit (16 values: 0,1,...,9,A,...,F) of the integer requires 256/4 = 64 characters."}],"tags":[],"owner":{"account_id":21846694,"reputation":109,"user_id":16139417,"display_name":"Binary_Beast"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675366102,"creation_date":1675366102,"answer_id":75328084,"question_id":75327995,"body_markdown":"SHA256 generates a 256-**bit** hash.\r\n\r\nBut its **hexadecimal** representation will be 64 characters (2^256 = 16^64)\r\n\r\nEx **Text**: stackoverflow\r\n**Hash**: 126cfbe1fd5413ba4d604c50a74bfc80471cec367b1604ade4d081f31c3f4f34\r\n\r\nHence **char(64)** would be a sufficient datatype for your column.","title":"How large of a String does Sha256 produce?","body":"<p>SHA256 generates a 256-<strong>bit</strong> hash.</p>\n<p>But its <strong>hexadecimal</strong> representation will be 64 characters (2^256 = 16^64)</p>\n<p>Ex <strong>Text</strong>: stackoverflow\n<strong>Hash</strong>: 126cfbe1fd5413ba4d604c50a74bfc80471cec367b1604ade4d081f31c3f4f34</p>\n<p>Hence <strong>char(64)</strong> would be a sufficient datatype for your column.</p>\n"}],"owner":{"account_id":3020615,"reputation":49,"user_id":2561759,"accept_rate":0,"display_name":"supercommando440"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675366102,"creation_date":1675365497,"question_id":75327995,"body_markdown":"How large of a String does Sha256 produce? \r\n\r\nDoes the answer depend on how large of a String I am using to get a hash using Sha256?\r\n\r\nI plan to store the Sha256-produced hash String in a mySQL table, in a column defined as a varchar(500).","title":"How large of a String does Sha256 produce?","body":"<p>How large of a String does Sha256 produce?</p>\n<p>Does the answer depend on how large of a String I am using to get a hash using Sha256?</p>\n<p>I plan to store the Sha256-produced hash String in a mySQL table, in a column defined as a varchar(500).</p>\n"},{"tags":["java","android","delphi"],"answers":[{"comments":[{"owner":{"account_id":3814324,"reputation":3408,"user_id":3164070,"accept_rate":60,"display_name":"Dave Nottage"},"score":0,"creation_date":1526507601,"post_id":36479645,"comment_id":87777060,"body_markdown":"You&#39;ve linked your answer to a site that has been down for 2 weeks now. If you update your answer to include the details, I&#39;ll remove the downvote :-)","body":"You&#39;ve linked your answer to a site that has been down for 2 weeks now. If you update your answer to include the details, I&#39;ll remove the downvote :-)"}],"tags":[],"owner":{"account_id":1638678,"reputation":83,"user_id":1511545,"accept_rate":67,"display_name":"Oliver"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1460040303,"creation_date":1460040303,"answer_id":36479645,"question_id":36425929,"body_markdown":"This problem has been solved. I needed to extend the com.embarcadero.firemonkey.FMXNativeActivity.\r\n\r\nThe details of the full solution can be found here [Embaradero Forum with link to Source][1]\r\n\r\n\r\n  [1]: https://forums.embarcadero.com/thread.jspa?threadID=205636","title":"Consuming a 3rd Party Android API in Delphi","body":"<p>This problem has been solved. I needed to extend the com.embarcadero.firemonkey.FMXNativeActivity.</p>\n\n<p>The details of the full solution can be found here <a href=\"https://forums.embarcadero.com/thread.jspa?threadID=205636\" rel=\"nofollow\">Embaradero Forum with link to Source</a></p>\n"}],"owner":{"account_id":1638678,"reputation":83,"user_id":1511545,"accept_rate":67,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36479645,"answer_count":1,"score":0,"last_activity_date":1675365727,"creation_date":1459857938,"question_id":36425929,"body_markdown":"I am trying to use a Honeywell SDK in Delphi Seattle to control a scanner on an Android device.\r\n\r\nHoneywell provided me with a SDK jar called DataCollection.jar. I used the Java2OP utility to create my JNI bridge but am having trouble with it. To be honest I am a novice on this and am not sure where to look or how to implement this. I have searched for similar examples too.\r\n\r\nI know I have to create an object of type TJAidmanager to access the barcode reader functions , it is defined as :\r\n\r\n    JAidcManagerClass = interface(JObjectClass)\r\n    [&#39;{EE70EF80-4CA8-4FE0-B912-6453CA0336CD}&#39;]\r\n    {class} function _GetBARCODE_DEVICE_CONNECTED: Integer; cdecl;\r\n    {class} function _GetBARCODE_DEVICE_DISCONNECTED: Integer; cdecl;\r\n    {class} procedure addBarcodeDeviceListener(P1:      JAidcManager_BarcodeDeviceListener); cdecl;\r\n    {class} procedure close; cdecl;\r\n    {class} procedure create(P1: JContext; P2: JAidcManager_CreatedCallback);    cdecl;\r\n    {class} function createBarcodeReader: JBarcodeReader; cdecl; overload;\r\n    {class} function createBarcodeReader(P1: JString): JBarcodeReader; cdecl;     overload;\r\n    {class} function listBarcodeDevices: JList; cdecl;\r\n    {class} function listConnectedBarcodeDevices: JList; cdecl;\r\n    {class} procedure removeBarcodeDeviceListener(P1:    JAidcManager_BarcodeDeviceListener); cdecl;\r\n    {class} property BARCODE_DEVICE_CONNECTED: Integer read     _GetBARCODE_DEVICE_CONNECTED;\r\n    {class} property BARCODE_DEVICE_DISCONNECTED: Integer read   _GetBARCODE_DEVICE_DISCONNECTED;\r\n    end;\r\n\r\n    [JavaSignature(&#39;com/honeywell/aidc/AidcManager&#39;)]\r\n    JAidcManager = interface(JObject)\r\n    [&#39;{98A668C5-9204-4F0C-98B0-A8E1F1124738}&#39;]\r\n    end;\r\n    TJAidcManager = class(TJavaGenericImport&lt;JAidcManagerClass, JAidcManager&gt;)    end;\r\n\r\nThe java sample code looks like this :\r\n\r\n    import com.honeywell.aidc.*;\r\n    public class MainActivity extends Activity {\r\n    private AidcManager manager;\r\n    private BarcodeReader reader;\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    \r\n    // create the AidcManager providing a Context and an\r\n    // CreatedCallback implementation.\r\n    AidcManager.create(this, new AidcManager.CreatedCallback() {\r\n    \r\n    @Override\r\n    public void onCreated(AidcManager aidcManager) {\r\n    manager = aidcManager;\r\n    reader = manager.createBarcodeReader();\r\n    }\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n    super.onDestroy();\r\n    // make sure that AidcManager isn&#39;t null\r\n    if (reader != null) {\r\n    // close BarcodeReader to clean up resources.\r\n    // once closed, the object can no longer be used.\r\n    reader.close();\r\n    }\r\n    if (manager != null) {\r\n    // close AidcManager to disconnect from the scanner service.\r\n    // once closed, the object can no longer be used.\r\n    manager.close();\r\n    }\r\n    }\r\n    }\r\n\r\n\r\nNow when I try and use this in delphi , I have tried this but get a segmentation fault :\r\n\r\n    var cb : JAidcManager_CreatedCallback;\r\n    begin\r\n          TJAidcManager.JavaClass.create(SharedActivity,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\r\n\r\n\r\nThe JAidcManager_CreatedCallback is defined as :\r\n\r\n     JAidcManager_CreatedCallbackClass = interface(IJavaClass)\r\n        [&#39;{E27EF6BB-C642-42B6-98CA-6C270A1AD5D1}&#39;]\r\n        {class} procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\r\n      end;\r\n    \r\n      [JavaSignature(&#39;com/honeywell/aidc/AidcManager$CreatedCallback&#39;)]\r\n      JAidcManager_CreatedCallback = interface(IJavaInstance)\r\n        [&#39;{E2713D70-1CE6-43AA-9181-7054BD787F1B}&#39;]\r\n      end;\r\n      TJAidcManager_CreatedCallback =   class(TJavaGenericImport&lt;JAidcManager_CreatedCallbackClass,   JAidcManager_CreatedCallback&gt;) end;\r\n\r\nI assume I have to implement an onCreated Event for a variable of type TJAidcManager but I am not sure how to link these all together.\r\n\r\nI then tried this :\r\n\r\n    var   cb : JObject;\r\n    begin\r\n      cb := TjObject.Create;\r\n      TJAidcManager.JavaClass.create(SharedActivityContext,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\r\n\r\nI also added this to the JNIBridge Unit in the implementation section :\r\n\r\n    procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\r\n    begin\r\n       Form2.manager := P1;\r\n    end;\r\n\r\nWhen running this, I get a &quot;java.lang.SecurityException: Not allowed to bind to  service Intent {acct=com.honeywell.decode.DecodeService cmp=com.intermec.datacollectionservice/.DataCollectionService}&quot; error. I tried adding &quot;Bind Remoteviews&quot; to permissions but that didn&#39;t help.\r\n\r\nIf anyone could advise me or point me in the correct direction on how to create the AidcManager in Delphi, that would be appreciated.  ","title":"Consuming a 3rd Party Android API in Delphi","body":"<p>I am trying to use a Honeywell SDK in Delphi Seattle to control a scanner on an Android device.</p>\n\n<p>Honeywell provided me with a SDK jar called DataCollection.jar. I used the Java2OP utility to create my JNI bridge but am having trouble with it. To be honest I am a novice on this and am not sure where to look or how to implement this. I have searched for similar examples too.</p>\n\n<p>I know I have to create an object of type TJAidmanager to access the barcode reader functions , it is defined as :</p>\n\n<pre><code>JAidcManagerClass = interface(JObjectClass)\n['{EE70EF80-4CA8-4FE0-B912-6453CA0336CD}']\n{class} function _GetBARCODE_DEVICE_CONNECTED: Integer; cdecl;\n{class} function _GetBARCODE_DEVICE_DISCONNECTED: Integer; cdecl;\n{class} procedure addBarcodeDeviceListener(P1:      JAidcManager_BarcodeDeviceListener); cdecl;\n{class} procedure close; cdecl;\n{class} procedure create(P1: JContext; P2: JAidcManager_CreatedCallback);    cdecl;\n{class} function createBarcodeReader: JBarcodeReader; cdecl; overload;\n{class} function createBarcodeReader(P1: JString): JBarcodeReader; cdecl;     overload;\n{class} function listBarcodeDevices: JList; cdecl;\n{class} function listConnectedBarcodeDevices: JList; cdecl;\n{class} procedure removeBarcodeDeviceListener(P1:    JAidcManager_BarcodeDeviceListener); cdecl;\n{class} property BARCODE_DEVICE_CONNECTED: Integer read     _GetBARCODE_DEVICE_CONNECTED;\n{class} property BARCODE_DEVICE_DISCONNECTED: Integer read   _GetBARCODE_DEVICE_DISCONNECTED;\nend;\n\n[JavaSignature('com/honeywell/aidc/AidcManager')]\nJAidcManager = interface(JObject)\n['{98A668C5-9204-4F0C-98B0-A8E1F1124738}']\nend;\nTJAidcManager = class(TJavaGenericImport&lt;JAidcManagerClass, JAidcManager&gt;)    end;\n</code></pre>\n\n<p>The java sample code looks like this :</p>\n\n<pre><code>import com.honeywell.aidc.*;\npublic class MainActivity extends Activity {\nprivate AidcManager manager;\nprivate BarcodeReader reader;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\n\n// create the AidcManager providing a Context and an\n// CreatedCallback implementation.\nAidcManager.create(this, new AidcManager.CreatedCallback() {\n\n@Override\npublic void onCreated(AidcManager aidcManager) {\nmanager = aidcManager;\nreader = manager.createBarcodeReader();\n}\n}\n}\n\n@Override\npublic void onDestroy() {\nsuper.onDestroy();\n// make sure that AidcManager isn't null\nif (reader != null) {\n// close BarcodeReader to clean up resources.\n// once closed, the object can no longer be used.\nreader.close();\n}\nif (manager != null) {\n// close AidcManager to disconnect from the scanner service.\n// once closed, the object can no longer be used.\nmanager.close();\n}\n}\n}\n</code></pre>\n\n<p>Now when I try and use this in delphi , I have tried this but get a segmentation fault :</p>\n\n<pre><code>var cb : JAidcManager_CreatedCallback;\nbegin\n      TJAidcManager.JavaClass.create(SharedActivity,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\n</code></pre>\n\n<p>The JAidcManager_CreatedCallback is defined as :</p>\n\n<pre><code> JAidcManager_CreatedCallbackClass = interface(IJavaClass)\n    ['{E27EF6BB-C642-42B6-98CA-6C270A1AD5D1}']\n    {class} procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\n  end;\n\n  [JavaSignature('com/honeywell/aidc/AidcManager$CreatedCallback')]\n  JAidcManager_CreatedCallback = interface(IJavaInstance)\n    ['{E2713D70-1CE6-43AA-9181-7054BD787F1B}']\n  end;\n  TJAidcManager_CreatedCallback =   class(TJavaGenericImport&lt;JAidcManager_CreatedCallbackClass,   JAidcManager_CreatedCallback&gt;) end;\n</code></pre>\n\n<p>I assume I have to implement an onCreated Event for a variable of type TJAidcManager but I am not sure how to link these all together.</p>\n\n<p>I then tried this :</p>\n\n<pre><code>var   cb : JObject;\nbegin\n  cb := TjObject.Create;\n  TJAidcManager.JavaClass.create(SharedActivityContext,TJAidcManager_CreatedCallback.Wrap((cb as ILocalObject).getobjectID));\n</code></pre>\n\n<p>I also added this to the JNIBridge Unit in the implementation section :</p>\n\n<pre><code>procedure onCreated(P1: JAidcManager); cdecl;//Deprecated\nbegin\n   Form2.manager := P1;\nend;\n</code></pre>\n\n<p>When running this, I get a \"java.lang.SecurityException: Not allowed to bind to  service Intent {acct=com.honeywell.decode.DecodeService cmp=com.intermec.datacollectionservice/.DataCollectionService}\" error. I tried adding \"Bind Remoteviews\" to permissions but that didn't help.</p>\n\n<p>If anyone could advise me or point me in the correct direction on how to create the AidcManager in Delphi, that would be appreciated.  </p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675363900,"post_id":75327421,"comment_id":132918586,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675409777,"post_id":75327421,"comment_id":132926796,"body_markdown":"How to [Get spinner selected items text?](https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text)","body":"How to <a href=\"https://stackoverflow.com/questions/5787809/get-spinner-selected-items-text\">Get spinner selected items text?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675365548,"creation_date":1675365548,"answer_id":75328005,"question_id":75327421,"body_markdown":"I find it very helpful when I look at error logs and ask or google a question based on that. because Error logs give you a clue on to what happened and why.\r\n\r\nin your question, my guess would be your `if` clause in ` if (companies.getSelectedItem().equals(&quot;Google&quot;)) {` . selected item may not be a String. and to acces selected String value, try to add `onItemSelectedistener` to companies(Spinner) \r\n\r\na quick look on [android developers page][1] gives you an example like the following.\r\n\r\n```Java\r\nSpinner companies = findViewById(R.id....);\r\nString selected;\r\n\r\ncompanies.setOnItemSelectedListener(new AdapterView.onItemSelectedListener(){\r\n\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\r\n            int pos, long id) {\r\n        // An item was selected. You can retrieve the selected item using\r\n        selected = parent.getItemAtPosition(pos); // Use this in your onClick.\r\n\r\n    }\r\n\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n        // Another interface callback\r\n    }\r\n\r\n\r\n});\r\n\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/components/spinner#java","title":"Launch different contents in activity depending on spinner selection","body":"<p>I find it very helpful when I look at error logs and ask or google a question based on that. because Error logs give you a clue on to what happened and why.</p>\n<p>in your question, my guess would be your <code>if</code> clause in <code> if (companies.getSelectedItem().equals(&quot;Google&quot;)) {</code> . selected item may not be a String. and to acces selected String value, try to add <code>onItemSelectedistener</code> to companies(Spinner)</p>\n<p>a quick look on <a href=\"https://developer.android.com/develop/ui/views/components/spinner#java\" rel=\"nofollow noreferrer\">android developers page</a> gives you an example like the following.</p>\n<pre><code>Spinner companies = findViewById(R.id....);\nString selected;\n\ncompanies.setOnItemSelectedListener(new AdapterView.onItemSelectedListener(){\n\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view,\n            int pos, long id) {\n        // An item was selected. You can retrieve the selected item using\n        selected = parent.getItemAtPosition(pos); // Use this in your onClick.\n\n    }\n\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n        // Another interface callback\n    }\n\n\n});\n\n</code></pre>\n"}],"owner":{"account_id":27665508,"reputation":1,"user_id":21117426,"display_name":"shmookh qattan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675365548,"creation_date":1675362135,"question_id":75327421,"body_markdown":"i have a spinner with two values and a button to go to the next activity if selected the first the second activity will contain an image and text \r\nif the second is selected the second activity will contain another image and text \r\nbut when i press the button to go to the second activity it always crashes\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    Spinner companies;\r\n    Button infoButton;\r\n    Button linkButton;\r\n    ArrayList&lt;String&gt; alCompanies;\r\n    ImageView cLogo;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        companies = findViewById(R.id.main_sp_companies);\r\n        infoButton = findViewById(R.id.main_btn_info);\r\n        linkButton = findViewById(R.id.main_btn_link);\r\n        alCompanies = new ArrayList&lt;&gt;();\r\n        alCompanies.add(&quot;Google&quot;);\r\n        alCompanies.add(&quot;Microsoft&quot;);\r\n        ArrayAdapter&lt;String&gt; arrayAdapterCompanies = new ArrayAdapter&lt;String&gt;(getApplicationContext(),\r\n                android.R.layout.simple_spinner_item, alCompanies);\r\n        arrayAdapterCompanies.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        companies.setAdapter(arrayAdapterCompanies);\r\n        infoButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\r\n                    Intent intent = new Intent(MainActivity.this, ActivityOne.class);\r\n                    cLogo.setImageResource(R.drawable.googlelogo);\r\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n                    startActivity(intent);\r\n                }\r\n                else {\r\n                    companies.getSelectedItem();\r\n                    Intent intent = new Intent (MainActivity.this,ActivityOne.class);\r\n                    cLogo.setImageResource(R.drawable.micrsoftlogo);\r\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n        }); \r\n```\r\n\r\nthis the mian\r\n\r\n```\r\npublic class ActivityOne extends AppCompatActivity {\r\n    public static final String EXTRA_INFO = &quot;info&quot;;\r\n\r\n    //Spinner companies = findViewById(R.id.main_sp_companies);\r\n    ImageView cLogo;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_one);\r\n        Intent intent = getIntent();\r\n      /* if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\r\n            cLogo.setImageResource(R.drawable.googlelogo);\r\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n        }\r\n        else {\r\n           companies.getSelectedItem();\r\n            cLogo.setImageResource(R.drawable.micrsoftlogo);\r\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\r\n        }*/\r\n    }\r\n}\r\n```\r\n\r\n\r\nthis is the first activity\r\n\r\ni want the user chose from the spinner and depends on their choice will be the second activity \r\nif Google was chosen the logo and the description will be the one about google but Microsoft will be about the Microsoft","title":"Launch different contents in activity depending on spinner selection","body":"<p>i have a spinner with two values and a button to go to the next activity if selected the first the second activity will contain an image and text\nif the second is selected the second activity will contain another image and text\nbut when i press the button to go to the second activity it always crashes</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    Spinner companies;\n    Button infoButton;\n    Button linkButton;\n    ArrayList&lt;String&gt; alCompanies;\n    ImageView cLogo;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        companies = findViewById(R.id.main_sp_companies);\n        infoButton = findViewById(R.id.main_btn_info);\n        linkButton = findViewById(R.id.main_btn_link);\n        alCompanies = new ArrayList&lt;&gt;();\n        alCompanies.add(&quot;Google&quot;);\n        alCompanies.add(&quot;Microsoft&quot;);\n        ArrayAdapter&lt;String&gt; arrayAdapterCompanies = new ArrayAdapter&lt;String&gt;(getApplicationContext(),\n                android.R.layout.simple_spinner_item, alCompanies);\n        arrayAdapterCompanies.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        companies.setAdapter(arrayAdapterCompanies);\n        infoButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\n                    Intent intent = new Intent(MainActivity.this, ActivityOne.class);\n                    cLogo.setImageResource(R.drawable.googlelogo);\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\n                    startActivity(intent);\n                }\n                else {\n                    companies.getSelectedItem();\n                    Intent intent = new Intent (MainActivity.this,ActivityOne.class);\n                    cLogo.setImageResource(R.drawable.micrsoftlogo);\n                    cLogo.setContentDescription(companies.getSelectedItem().toString());\n                    startActivity(intent);\n                }\n            }\n        }); \n</code></pre>\n<p>this the mian</p>\n<pre><code>public class ActivityOne extends AppCompatActivity {\n    public static final String EXTRA_INFO = &quot;info&quot;;\n\n    //Spinner companies = findViewById(R.id.main_sp_companies);\n    ImageView cLogo;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_one);\n        Intent intent = getIntent();\n      /* if (companies.getSelectedItem().equals(&quot;Google&quot;)) {\n            cLogo.setImageResource(R.drawable.googlelogo);\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\n        }\n        else {\n           companies.getSelectedItem();\n            cLogo.setImageResource(R.drawable.micrsoftlogo);\n           cLogo.setContentDescription(companies.getSelectedItem().toString());\n        }*/\n    }\n}\n</code></pre>\n<p>this is the first activity</p>\n<p>i want the user chose from the spinner and depends on their choice will be the second activity\nif Google was chosen the logo and the description will be the one about google but Microsoft will be about the Microsoft</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1363556,"reputation":193,"user_id":1300461,"display_name":"Zartc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675365461,"creation_date":1675365096,"answer_id":75327923,"question_id":75327540,"body_markdown":"After having tried several techniques for a while and reading answers to nearby questions, I found a working solution. I answer my own question so that it might help others who are strugling with the same problem (Greg. L. DTSI/SI, I&#39;m thinking about you).\r\n\r\nThe solution is to provide MapStruct with a hand written function that test for the desired condition and route to another mapping methods. \r\nYou must inform MapStruct to call your handwritten routing function by using `qualifiedByName=&quot;&lt;name&gt;&quot;` and `@Named(&quot;&lt;name&gt;&quot;)`.\r\n\r\nThe control flow starts from a *MapStruct-generated function* `--to--&gt;` *your handwritten routing function* `--and back--&gt;` *to one of the MapStruct-generated functions* selected by your routing function.\r\n\r\nExample Mapper code:\r\n```java\r\ninterface Mapper {\r\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;.&quot;, qualifiedByName=&quot;map_a_or_b&quot;)\r\n    Target map(Source source);\r\n\r\n    @Named(&quot;map_a_or_b&quot;)\r\n    default AorB mapAorB(Source source) {\r\n        return (source.flag) ? map(source.a) : map(source.b);\r\n    }\r\n\r\n    AorB map(A a); // this mapper func should be invoqued when source.flag == true\r\n    AorB map(B b); // this mapper func should be invoqued when source.flag == false\r\n}\r\n```\r\n\r\nAnd the MapStruct generated code will be something like:\r\n```java\r\npublic class MapperImpl implements Mapper {\r\n    @Override\r\n    public Target map(Source source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n\r\n        Target target = new Target();\r\n\r\n        // this is here that MapStruct call your handwritten routing function\r\n        target.a_or_b = mapAorB( source );\r\n        ...\r\n    }\r\n\r\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == true\r\n    AorB map(A a) {...}\r\n\r\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == false\r\n    AorB map(B b) {...} \r\n}\r\n\r\n```\r\n","title":"How to make MapStruct select alternate source fields to map to a single target field based on a flag in the source class","body":"<p>After having tried several techniques for a while and reading answers to nearby questions, I found a working solution. I answer my own question so that it might help others who are strugling with the same problem (Greg. L. DTSI/SI, I'm thinking about you).</p>\n<p>The solution is to provide MapStruct with a hand written function that test for the desired condition and route to another mapping methods.\nYou must inform MapStruct to call your handwritten routing function by using <code>qualifiedByName=&quot;&lt;name&gt;&quot;</code> and <code>@Named(&quot;&lt;name&gt;&quot;)</code>.</p>\n<p>The control flow starts from a <em>MapStruct-generated function</em> <code>--to--&gt;</code> <em>your handwritten routing function</em> <code>--and back--&gt;</code> <em>to one of the MapStruct-generated functions</em> selected by your routing function.</p>\n<p>Example Mapper code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Mapper {\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;.&quot;, qualifiedByName=&quot;map_a_or_b&quot;)\n    Target map(Source source);\n\n    @Named(&quot;map_a_or_b&quot;)\n    default AorB mapAorB(Source source) {\n        return (source.flag) ? map(source.a) : map(source.b);\n    }\n\n    AorB map(A a); // this mapper func should be invoqued when source.flag == true\n    AorB map(B b); // this mapper func should be invoqued when source.flag == false\n}\n</code></pre>\n<p>And the MapStruct generated code will be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapperImpl implements Mapper {\n    @Override\n    public Target map(Source source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        Target target = new Target();\n\n        // this is here that MapStruct call your handwritten routing function\n        target.a_or_b = mapAorB( source );\n        ...\n    }\n\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == true\n    AorB map(A a) {...}\n\n    // this mapper func is invoqued, not by MapStruct, but by your provided mapAorB() func when source.flag == false\n    AorB map(B b) {...} \n}\n\n</code></pre>\n"}],"owner":{"account_id":1363556,"reputation":193,"user_id":1300461,"display_name":"Zartc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675365461,"creation_date":1675362831,"question_id":75327540,"body_markdown":"```\r\n// the Source and Target classes:\r\n\r\npublic class Source {                   public class Target {    \r\n    public A a;  ----------------\\\r\n                    XOR           &gt; ------&gt; AorB a_or_b;\r\n    public B b;  ----------------/\r\n                                        }\r\n    public boolean flag;\r\n}\r\n\r\n\r\n// The Mapper\r\ninterface Mapper {\r\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.a&quot;, conditionExpression = &quot;java(source.flag == true)&quot;)\r\n    // MapStruct complain on the following line with a java: Target property &quot;a_or_b&quot; must not be mapped more than once.\r\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.b&quot;, conditionExpression = &quot;java(source.flag == false)&quot;)\r\n    Target map(Source source);\r\n\r\n    AorB map(A a); // this mapper func should be invoqued by MapStruct when source.flag == true\r\n    AorB map(B b); // this mapper func should be invoqued by MapStruct when source.flag == false\r\n}\r\n```\r\n\r\nI&#39;d like to be able to map either `Source.a` *XOR* `Source.b` into `target.a_or_b`.  \r\nKnowing that I have the mapper functions ready to `map from A to AorB` and to `map from B to AorB`, my problem is to make MapStruct choose the right source field depending upon the `source.flag` value.\r\n\r\nIs it possible ?\r\n","title":"How to make MapStruct select alternate source fields to map to a single target field based on a flag in the source class","body":"<pre><code>// the Source and Target classes:\n\npublic class Source {                   public class Target {    \n    public A a;  ----------------\\\n                    XOR           &gt; ------&gt; AorB a_or_b;\n    public B b;  ----------------/\n                                        }\n    public boolean flag;\n}\n\n\n// The Mapper\ninterface Mapper {\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.a&quot;, conditionExpression = &quot;java(source.flag == true)&quot;)\n    // MapStruct complain on the following line with a java: Target property &quot;a_or_b&quot; must not be mapped more than once.\n    @Mapping(target = &quot;a_or_b&quot;, source = &quot;source.b&quot;, conditionExpression = &quot;java(source.flag == false)&quot;)\n    Target map(Source source);\n\n    AorB map(A a); // this mapper func should be invoqued by MapStruct when source.flag == true\n    AorB map(B b); // this mapper func should be invoqued by MapStruct when source.flag == false\n}\n</code></pre>\n<p>I'd like to be able to map either <code>Source.a</code> <em>XOR</em> <code>Source.b</code> into <code>target.a_or_b</code>.<br />\nKnowing that I have the mapper functions ready to <code>map from A to AorB</code> and to <code>map from B to AorB</code>, my problem is to make MapStruct choose the right source field depending upon the <code>source.flag</code> value.</p>\n<p>Is it possible ?</p>\n"},{"tags":["java","android","json","api","android-volley"],"answers":[{"tags":[],"owner":{"account_id":23786916,"reputation":26,"user_id":17926797,"display_name":"Max"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675364477,"creation_date":1675364382,"answer_id":75327805,"question_id":75327585,"body_markdown":"Since the ressource you are calling returns a JSON array, simply change the volley request type from `JsonObectRequest` to `JsonArrayRequest`.\r\n\r\nShould look like this then:\r\n\r\n    RequestQueue mRequestQueue = Volley.newRequestQueue(this);\r\n    String url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\r\n\r\n        final JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\r\n                response -&gt; Log.d(&quot;krok_data&quot;, response.toString()),\r\n                error -&gt; {\r\n                    Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\r\n                    error.printStackTrace();\r\n        });\r\n        mRequestQueue.add(request);","title":"Why isn&#39;t Android Volley request working?","body":"<p>Since the ressource you are calling returns a JSON array, simply change the volley request type from <code>JsonObectRequest</code> to <code>JsonArrayRequest</code>.</p>\n<p>Should look like this then:</p>\n<pre><code>RequestQueue mRequestQueue = Volley.newRequestQueue(this);\nString url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\n\n    final JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\n            response -&gt; Log.d(&quot;krok_data&quot;, response.toString()),\n            error -&gt; {\n                Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\n                error.printStackTrace();\n    });\n    mRequestQueue.add(request);\n</code></pre>\n"}],"owner":{"account_id":18072152,"reputation":639,"user_id":13136530,"display_name":"kirvel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327805,"answer_count":1,"score":0,"last_activity_date":1675364477,"creation_date":1675363103,"question_id":75327585,"body_markdown":"I simply trying to get JSON data from url (https://krokapp.by/api/rest/tags/?format=json):\r\n\r\n    RequestQueue mRequestQueue;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mRequestQueue = Volley.newRequestQueue(this);\r\n        String url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\r\n\r\n        final JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, response -&gt; {\r\n                    Log.d(&quot;krok_data&quot;, response.toString());\r\n                }, error -&gt; {\r\n                    Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\r\n                    error.printStackTrace();\r\n                });\r\n        mRequestQueue.add(request);\r\n    }\r\n\r\nHowever, when I try this with different JSON api, for example:\r\nhttps://samples.openweathermap.org/data/2.5/weather?id=2172797&amp;appid=b6907d289e10d714a6e88b30761fae22\r\neverything works fine. Is there something wrong with the API I&#39;m trying to get data from?","title":"Why isn&#39;t Android Volley request working?","body":"<p>I simply trying to get JSON data from url (<a href=\"https://krokapp.by/api/rest/tags/?format=json\" rel=\"nofollow noreferrer\">https://krokapp.by/api/rest/tags/?format=json</a>):</p>\n<pre><code>RequestQueue mRequestQueue;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mRequestQueue = Volley.newRequestQueue(this);\n    String url = &quot;https://krokapp.by/api/rest/tags/?format=json&quot;;\n\n    final JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null, response -&gt; {\n                Log.d(&quot;krok_data&quot;, response.toString());\n            }, error -&gt; {\n                Log.d(&quot;krok_data&quot;, &quot;Error&quot;);\n                error.printStackTrace();\n            });\n    mRequestQueue.add(request);\n}\n</code></pre>\n<p>However, when I try this with different JSON api, for example:\n<a href=\"https://samples.openweathermap.org/data/2.5/weather?id=2172797&amp;appid=b6907d289e10d714a6e88b30761fae22\" rel=\"nofollow noreferrer\">https://samples.openweathermap.org/data/2.5/weather?id=2172797&amp;appid=b6907d289e10d714a6e88b30761fae22</a>\neverything works fine. Is there something wrong with the API I'm trying to get data from?</p>\n"},{"tags":["java","garbage-collection","g1gc"],"owner":{"account_id":313546,"reputation":7830,"user_id":628242,"accept_rate":55,"display_name":"Lokesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675364091,"creation_date":1675364091,"question_id":75327761,"body_markdown":"I am using 16gb Heap along with `G1GC`. \r\nFor some of batches I am seeing continuous `GC pause (G1 Evacuation Pause)` multiple times within a second which is drastically slowing down the batch.\r\nI have noticed that despite evacuation pause memory doesn&#39;t seem to be freed up (as shown in screenshot below, it stays at 14gb). So i tried increasing heap from 16gb to 40gb and even then Evacuation pause for Young generation is continuous. It does reduce from multiple times per second to once or twice per second.\r\n\r\nI tried increasing `XX:MaxGCPauseMillis` to 3 seconds but that has not helped.\r\n\r\nAny suggestions on what can help with this situation ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NDHhs.png","title":"G1GC: Continuous G1 evacuation phase","body":"<p>I am using 16gb Heap along with <code>G1GC</code>.\nFor some of batches I am seeing continuous <code>GC pause (G1 Evacuation Pause)</code> multiple times within a second which is drastically slowing down the batch.\nI have noticed that despite evacuation pause memory doesn't seem to be freed up (as shown in screenshot below, it stays at 14gb). So i tried increasing heap from 16gb to 40gb and even then Evacuation pause for Young generation is continuous. It does reduce from multiple times per second to once or twice per second.</p>\n<p>I tried increasing <code>XX:MaxGCPauseMillis</code> to 3 seconds but that has not helped.</p>\n<p>Any suggestions on what can help with this situation ?</p>\n<p><a href=\"https://i.stack.imgur.com/NDHhs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NDHhs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mvvm","android-room","android-livedata"],"answers":[{"tags":[],"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675363742,"creation_date":1675363742,"answer_id":75327698,"question_id":75327202,"body_markdown":"Moving from top to bottom,\r\n\r\n1. You are observing `mRunViewModel.getAllRuns()`\r\n2. Your `mRunViewModel.getAllRuns()` is `mRepository.getAllRuns();`\r\n3. Your `mRepository.getAllRuns();` is `mRunDao.getRunsByDate();`\r\n\r\nSo you are so far just unconditionally routing LiveData from Room to your view. \r\n\r\nSimplest way to achieve switching could be this:\r\n\r\n1. Change your `RunDao` to have single parameterized method like this example\r\n\r\n```\r\n@Query(&quot;SELECT * FROM Persons ORDER BY \r\n        CASE WHEN :isAsc = 1 THEN first_name END ASC, \r\n        CASE WHEN :isAsc = 0 THEN first_name END DESC&quot;)\r\nList&lt;Person&gt; getPersonsAlphabetically(boolean isAsc);\r\n```\r\n(your implementation will be different, including return type and parameter type, but the above should give the idea)\r\n\r\n2. Route the above dao method into repo and use updated repo inside vm. Every time view decides it&#39;s time to show some different sorting order, it will talk to view model, viewmodel will pull repo&#39;s method and repo will pull dao with proper parameter, dao will give you back livedata with properly sorted content.","title":"How to sort LiveData in room database by clicking a sort button?","body":"<p>Moving from top to bottom,</p>\n<ol>\n<li>You are observing <code>mRunViewModel.getAllRuns()</code></li>\n<li>Your <code>mRunViewModel.getAllRuns()</code> is <code>mRepository.getAllRuns();</code></li>\n<li>Your <code>mRepository.getAllRuns();</code> is <code>mRunDao.getRunsByDate();</code></li>\n</ol>\n<p>So you are so far just unconditionally routing LiveData from Room to your view.</p>\n<p>Simplest way to achieve switching could be this:</p>\n<ol>\n<li>Change your <code>RunDao</code> to have single parameterized method like this example</li>\n</ol>\n<pre><code>@Query(&quot;SELECT * FROM Persons ORDER BY \n        CASE WHEN :isAsc = 1 THEN first_name END ASC, \n        CASE WHEN :isAsc = 0 THEN first_name END DESC&quot;)\nList&lt;Person&gt; getPersonsAlphabetically(boolean isAsc);\n</code></pre>\n<p>(your implementation will be different, including return type and parameter type, but the above should give the idea)</p>\n<ol start=\"2\">\n<li>Route the above dao method into repo and use updated repo inside vm. Every time view decides it's time to show some different sorting order, it will talk to view model, viewmodel will pull repo's method and repo will pull dao with proper parameter, dao will give you back livedata with properly sorted content.</li>\n</ol>\n"}],"owner":{"account_id":20453215,"reputation":25,"user_id":15007502,"display_name":"Apelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327698,"answer_count":1,"score":0,"last_activity_date":1675363742,"creation_date":1675360885,"question_id":75327202,"body_markdown":"I&#39;m trying to figure out how to sort my recyclerview&#39;s data by click of a button. So far I&#39;ve got it sorted initially as I start the application and add new items on the list. But I&#39;d like to be able to sort it by different parameters as I&#39;m using the app, by clicking a button &quot;Sort by distance&quot;. \r\nI&#39;m using the MVVM architecture and am working with LiveData.\r\n\r\nHere&#39;s my MainActivity (Not completely, but irrelevant parts are omitted)\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\r\n        final RunListAdapter adapter = new RunListAdapter(new RunListAdapter.RunDiff());\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mRunViewModel = new ViewModelProvider(this).get(RunViewModel.class);\r\n        mRunViewModel.getAllRuns().observe(this, runs -&gt; {\r\n            adapter.submitList(runs);\r\n        });\r\n\r\n sortByDistanceButton = findViewById(R.id.sortByDistance);\r\n        sortByDistanceButton.setOnClickListener(view -&gt; {\r\n             //DO SOMETHING\r\n        });\r\n```\r\n\r\nHere&#39;s my RunViewModel\r\n\r\n\r\n```\r\npublic class RunViewModel extends AndroidViewModel {\r\n\r\n    private RunRepository mRepository;\r\n    private final LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\r\n\r\n\r\n    public RunViewModel(Application application) {\r\n        super(application);\r\n        mRepository = new RunRepository(application);\r\n        mAllRuns = mRepository.getAllRuns();\r\n    }\r\n\r\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\r\n            return mRepository.getAllRuns();\r\n    }\r\n\r\n    public void insert(Run run) {\r\n        mRepository.insert(run);\r\n    }\r\n\r\n    public void delete(Run run) {\r\n        mRepository.delete(run);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere&#39;s my RunRepository\r\n\r\n```\r\npublic class RunRepository {\r\n\r\n    private RunDao mRunDao;\r\n    private LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\r\n\r\n    RunRepository(Application application) {\r\n        RunRoomDatabase db = RunRoomDatabase.getDatabase(application);\r\n        mRunDao = db.runDao();\r\n        mAllRuns = mRunDao.getRunsByDate();\r\n    }\r\n\r\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\r\n        return mRunDao.getRunsByDate();\r\n    }\r\n\r\n\r\n    void insert(Run run) {\r\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt;\r\n                mRunDao.insert(run));\r\n    }\r\n\r\n    public void delete(Run run) {\r\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\r\n            mRunDao.deleteRun(run);\r\n        });\r\n    }\r\n\r\n}\r\n```\r\nAnd finally here&#39;s my RunDao\r\n\r\n\r\n```\r\npublic interface RunDao {\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insert(Run run);\r\n\r\n    @Query(&quot;DELETE FROM run_table&quot;)\r\n    void deleteAll();\r\n\r\n    @Query(&quot;SELECT * FROM run_table ORDER BY date&quot;)\r\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDate();\r\n\r\n    @Query(&quot;SELECT * FROM run_table ORDER BY distance ASC&quot;)\r\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDistance();\r\n\r\n    @Query(&quot;SELECT * FROM run_table ORDER BY duration ASC&quot;)\r\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDuration();\r\n    @Delete\r\n    void deleteRun(Run run);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to pass on a &quot;choice&quot; argument and setting the choice to a different one, but to no avail. I&#39;ve tried to read about other&#39;s having similar problems, but I haven&#39;t been able to figure how to apply any of them to my situation. I&#39;m completely stumped.\r\n\r\nHere are some SO questions I&#39;ve read and tried to wrap my head around.\r\nThis one actually is very similar to mine and the original question asked figured out a solution, but never shared the details of the implementation =)\r\nhttps://stackoverflow.com/questions/61463186/how-to-sort-livedata-from-room-database-doing-a-button-to-switch-recyclerviews\r\n\r\nhttps://www.reddit.com/r/androiddev/comments/n9nraa/i_want_to_sort_a_livedatalistplayers_from_room_in/\r\n\r\nhttps://stackoverflow.com/questions/62866270/how-to-properly-sort-a-list-using-repository-pattern-and-live-data-in-an-mvvm-an\r\n","title":"How to sort LiveData in room database by clicking a sort button?","body":"<p>I'm trying to figure out how to sort my recyclerview's data by click of a button. So far I've got it sorted initially as I start the application and add new items on the list. But I'd like to be able to sort it by different parameters as I'm using the app, by clicking a button &quot;Sort by distance&quot;.\nI'm using the MVVM architecture and am working with LiveData.</p>\n<p>Here's my MainActivity (Not completely, but irrelevant parts are omitted)</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        RecyclerView recyclerView = findViewById(R.id.recyclerview);\n        final RunListAdapter adapter = new RunListAdapter(new RunListAdapter.RunDiff());\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        mRunViewModel = new ViewModelProvider(this).get(RunViewModel.class);\n        mRunViewModel.getAllRuns().observe(this, runs -&gt; {\n            adapter.submitList(runs);\n        });\n\n sortByDistanceButton = findViewById(R.id.sortByDistance);\n        sortByDistanceButton.setOnClickListener(view -&gt; {\n             //DO SOMETHING\n        });\n</code></pre>\n<p>Here's my RunViewModel</p>\n<pre><code>public class RunViewModel extends AndroidViewModel {\n\n    private RunRepository mRepository;\n    private final LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\n\n\n    public RunViewModel(Application application) {\n        super(application);\n        mRepository = new RunRepository(application);\n        mAllRuns = mRepository.getAllRuns();\n    }\n\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\n            return mRepository.getAllRuns();\n    }\n\n    public void insert(Run run) {\n        mRepository.insert(run);\n    }\n\n    public void delete(Run run) {\n        mRepository.delete(run);\n    }\n\n}\n</code></pre>\n<p>Here's my RunRepository</p>\n<pre><code>public class RunRepository {\n\n    private RunDao mRunDao;\n    private LiveData&lt;List&lt;Run&gt;&gt; mAllRuns;\n\n    RunRepository(Application application) {\n        RunRoomDatabase db = RunRoomDatabase.getDatabase(application);\n        mRunDao = db.runDao();\n        mAllRuns = mRunDao.getRunsByDate();\n    }\n\n    LiveData&lt;List&lt;Run&gt;&gt; getAllRuns() {\n        return mRunDao.getRunsByDate();\n    }\n\n\n    void insert(Run run) {\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt;\n                mRunDao.insert(run));\n    }\n\n    public void delete(Run run) {\n        RunRoomDatabase.databaseWriteExecutor.execute(() -&gt; {\n            mRunDao.deleteRun(run);\n        });\n    }\n\n}\n</code></pre>\n<p>And finally here's my RunDao</p>\n<pre><code>public interface RunDao {\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    void insert(Run run);\n\n    @Query(&quot;DELETE FROM run_table&quot;)\n    void deleteAll();\n\n    @Query(&quot;SELECT * FROM run_table ORDER BY date&quot;)\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDate();\n\n    @Query(&quot;SELECT * FROM run_table ORDER BY distance ASC&quot;)\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDistance();\n\n    @Query(&quot;SELECT * FROM run_table ORDER BY duration ASC&quot;)\n    LiveData&lt;List&lt;Run&gt;&gt; getRunsByDuration();\n    @Delete\n    void deleteRun(Run run);\n}\n\n</code></pre>\n<p>I've tried to pass on a &quot;choice&quot; argument and setting the choice to a different one, but to no avail. I've tried to read about other's having similar problems, but I haven't been able to figure how to apply any of them to my situation. I'm completely stumped.</p>\n<p>Here are some SO questions I've read and tried to wrap my head around.\nThis one actually is very similar to mine and the original question asked figured out a solution, but never shared the details of the implementation =)\n<a href=\"https://stackoverflow.com/questions/61463186/how-to-sort-livedata-from-room-database-doing-a-button-to-switch-recyclerviews\">How to sort LiveData from Room Database? Doing a button to switch recyclerview&#39;s item&#39;s order</a></p>\n<p><a href=\"https://www.reddit.com/r/androiddev/comments/n9nraa/i_want_to_sort_a_livedatalistplayers_from_room_in/\" rel=\"nofollow noreferrer\">https://www.reddit.com/r/androiddev/comments/n9nraa/i_want_to_sort_a_livedatalistplayers_from_room_in/</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62866270/how-to-properly-sort-a-list-using-repository-pattern-and-live-data-in-an-mvvm-an\">how to properly sort a list using repository pattern and live data in an MVVM android application?</a></p>\n"},{"tags":["java","maven","netbeans","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1675219658,"post_id":75304211,"comment_id":132880166,"body_markdown":"Is there an import in your code?","body":"Is there an import in your code?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675239917,"post_id":75304211,"comment_id":132883457,"body_markdown":"You should rework your maven project so you only use artifacts available from maven central.","body":"You should rework your maven project so you only use artifacts available from maven central."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1675241775,"post_id":75304211,"comment_id":132884006,"body_markdown":"&quot;It finds the jar file I downloaded and put in the src/java/main directory&quot; is weird, it shouldn&#39;t put jar files there. It should add a dependency in the pom.xml file, and maven should do the rest when building. (You have to run the build once, I forgot to mention; the answer will do that, i.e. run a &quot;priming build&quot;)","body":"&quot;It finds the jar file I downloaded and put in the src/java/main directory&quot; is weird, it shouldn&#39;t put jar files there. It should add a dependency in the pom.xml file, and maven should do the rest when building. (You have to run the build once, I forgot to mention; the answer will do that, i.e. run a &quot;priming build&quot;)"},{"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"score":0,"creation_date":1675269363,"post_id":75304211,"comment_id":132893434,"body_markdown":"@TilmanHausherr That&#39;s what I&#39;m trying to do.  If I just enter the import statement, Netbeans complains that it can&#39;t find it.  Also, I tried just using the Maven search through Netbeans and it failed to find it. That&#39;s why I ran the mvn command above to add it to my local repository.","body":"@TilmanHausherr That&#39;s what I&#39;m trying to do.  If I just enter the import statement, Netbeans complains that it can&#39;t find it.  Also, I tried just using the Maven search through Netbeans and it failed to find it. That&#39;s why I ran the mvn command above to add it to my local repository."},{"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"score":0,"creation_date":1675269699,"post_id":75304211,"comment_id":132893545,"body_markdown":"@Thorbj&#248;rnRavnAndersen Yes, only using Maven Central would be ideal, but it doesn&#39;t solve this problem. Before I downloaded the jar file, the Search In Maven Repositories couldn&#39;t find it. There was nothing in the Matching Artifacts pane.","body":"@Thorbj&#248;rnRavnAndersen Yes, only using Maven Central would be ideal, but it doesn&#39;t solve this problem. Before I downloaded the jar file, the Search In Maven Repositories couldn&#39;t find it. There was nothing in the Matching Artifacts pane."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1675270994,"post_id":75304211,"comment_id":132893995,"body_markdown":"Netbeans usually work fine in my experience.  Can you create a minimal example showing your problem and put it on e.g. Github for others to experiment with?","body":"Netbeans usually work fine in my experience.  Can you create a minimal example showing your problem and put it on e.g. Github for others to experiment with?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1675309686,"post_id":75304211,"comment_id":132902781,"body_markdown":"What happens if you run the build, i.e. &quot;mvn install&quot; from the command line, or by right-clicking on the project and then click &quot;build&quot;? Are you behind a company proxy?","body":"What happens if you run the build, i.e. &quot;mvn install&quot; from the command line, or by right-clicking on the project and then click &quot;build&quot;? Are you behind a company proxy?"}],"answers":[{"comments":[{"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"score":0,"creation_date":1676074895,"post_id":75327653,"comment_id":133071297,"body_markdown":"Thanks @Thorbj&#248;rn Ravn Andersen. I am trying to upload a tiny version of my project to github but having login problems because I changed to 2 factor auth. Sigh. I will let you know when I get it loaded. Note that I had to deliver something so I made a screenshot and delivered it with an image panel. I still want to fix this problem for future Help items though it is a lower priority.","body":"Thanks @Thorbj&#248;rn Ravn Andersen. I am trying to upload a tiny version of my project to github but having login problems because I changed to 2 factor auth. Sigh. I will let you know when I get it loaded. Note that I had to deliver something so I made a screenshot and delivered it with an image panel. I still want to fix this problem for future Help items though it is a lower priority."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1676142894,"post_id":75327653,"comment_id":133079852,"body_markdown":"@AlexHomeBrew You may want to focus on getting it to work on the command line.  If you have a normal Maven project which is self-contained and does not rely on jar files being magically present on the system, Netbeans should load it.  You may want to experiment with a freshly cloned copy.","body":"@AlexHomeBrew You may want to focus on getting it to work on the command line.  If you have a normal Maven project which is self-contained and does not rely on jar files being magically present on the system, Netbeans should load it.  You may want to experiment with a freshly cloned copy."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675363453,"creation_date":1675363453,"answer_id":75327653,"question_id":75304211,"body_markdown":"The artifact is available on Maven Central (https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox/2.0.27).  This mean that a well-formed Maven project with an empty local repository - no files under `.m2/repository` - should be able to download it and build your source.\r\n\r\nIf you cannot do that on the command line (you may have to install Maven first) then it is your code that should be fixed before trying to open in Netbeans.\r\n\r\nIf the project builds from the command line, but not in Netbeans 16 when you open the project (it should have a small M on the folder icon to indicate that a Maven project has been detected), your Netbeans installation may be broken.  If so, uninstall it and reinstall a freshly downloaded copy of the appropriate installer.  ","title":"How can I get Netbeans to recognize the org.apache.pdfbox jar?","body":"<p>The artifact is available on Maven Central (<a href=\"https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox/2.0.27\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.pdfbox/pdfbox/2.0.27</a>).  This mean that a well-formed Maven project with an empty local repository - no files under <code>.m2/repository</code> - should be able to download it and build your source.</p>\n<p>If you cannot do that on the command line (you may have to install Maven first) then it is your code that should be fixed before trying to open in Netbeans.</p>\n<p>If the project builds from the command line, but not in Netbeans 16 when you open the project (it should have a small M on the folder icon to indicate that a Maven project has been detected), your Netbeans installation may be broken.  If so, uninstall it and reinstall a freshly downloaded copy of the appropriate installer.</p>\n"}],"owner":{"account_id":7577131,"reputation":127,"user_id":5749128,"display_name":"AlexHomeBrew"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675363453,"creation_date":1675207941,"question_id":75304211,"body_markdown":"I prototyped a PDF viewer in Intellij Idea and am trying to integrate it into a Netbeans project. I have been unable to get Netbeans to recognize the jar file that contains the classes I use.\r\n\r\nNetbeans Version - 15.0.2, JDK version - 15, Windows 10\r\n\r\nHere is one of the errors in the code:\r\n\r\n[![Hover over red underline][1]][1]\r\n\r\nFrom the first line of the following method:\r\n```\r\n    private void initializeFile(File file)\r\n    {\r\n        PDDocument doc = PDDocument.load(file);\r\n\r\n        // Getting/calculating screen dimensions...\r\n        float realWidth = doc.getPage(0).getMediaBox().getWidth();\r\n        float realHeight = doc.getPage(0).getMediaBox().getHeight();\r\n\r\n        System.out.println(&quot;RealW, RealH: &quot; + realWidth + &quot;, &quot; + realHeight);\r\n\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        double ratio = 0.6;\r\n\r\n        this.height = (int) (screenSize.getHeight() * ratio);\r\n        this.width = (int) ((height * realWidth) / realHeight);\r\n\r\n        this.numberOfPages = doc.getNumberOfPages();\r\n\r\n        renderer = PDFRenderer(doc);\r\n\r\n        System.out.println(&quot;Number of pages = &quot; + numberOfPages);\r\n    }\r\n```\r\nAlt-Enter on the red underline:\r\n\r\n[![Alt-Enter on the red underline][2]][2]\r\n\r\n\r\nWhen I select the Search Dependency at Maven Repositories for PDFDocument, I get this:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIt finds the jar file I downloaded and put in the `src/java/main` directory. When I click on the `Add` button, it works for a few seconds and then displays this in the status line:\r\n```Finished retrieving dependencies from remote repositories.```\r\nBut the error remains, it still can&#39;t find the class PDDocument.\r\n\r\nI tried the following command line which didn&#39;t fail but didn&#39;t remove the error.\r\n```\r\n$ mvn install:install-file -Dfile=&quot;pdfbox-app-2.0.27.jar&quot; -DgroupId=&quot;org.apache.pdfbox&quot; -DartifactId=&quot;pdfbox&quot; -Dversion=2.0.27 -Dpackaging=jar\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom ---\r\n[INFO] Installing E:\\hg\\project\\MyName\\src\\main\\pdfbox-app-2.0.27.jar to C:\\Users\\ME\\.m2\\repository\\org\\apache\\pdfbox\\pdfbox\\2.0.27\\pdfbox-2.0.27.jar\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.328 s\r\n[INFO] Finished at: 2023-01-31T10:25:05-08:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nHere is the section of my pom.xml\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.27&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI&#39;ve gone through all of these suggestions to no avail:\r\n\r\n`https://stackoverflow.com/questions/17693040/adding-external-jar-to-maven-project-in-netbeans`\r\n\r\nHere is the relevant section of my Project&#39;s dependencies:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIs there a log somewhere where I can see what Netbeans did behind the curtain, especially if it encountered an error? What else can I try?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gHrB0.png\r\n  [2]: https://i.stack.imgur.com/G4tfd.png\r\n  [3]: https://i.stack.imgur.com/LK5sA.png\r\n  [4]: https://i.stack.imgur.com/IzIfP.png\r\n  [5]: https://i.stack.imgur.com/yDY4u.png","title":"How can I get Netbeans to recognize the org.apache.pdfbox jar?","body":"<p>I prototyped a PDF viewer in Intellij Idea and am trying to integrate it into a Netbeans project. I have been unable to get Netbeans to recognize the jar file that contains the classes I use.</p>\n<p>Netbeans Version - 15.0.2, JDK version - 15, Windows 10</p>\n<p>Here is one of the errors in the code:</p>\n<p><a href=\"https://i.stack.imgur.com/gHrB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gHrB0.png\" alt=\"Hover over red underline\" /></a></p>\n<p>From the first line of the following method:</p>\n<pre><code>    private void initializeFile(File file)\n    {\n        PDDocument doc = PDDocument.load(file);\n\n        // Getting/calculating screen dimensions...\n        float realWidth = doc.getPage(0).getMediaBox().getWidth();\n        float realHeight = doc.getPage(0).getMediaBox().getHeight();\n\n        System.out.println(&quot;RealW, RealH: &quot; + realWidth + &quot;, &quot; + realHeight);\n\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        double ratio = 0.6;\n\n        this.height = (int) (screenSize.getHeight() * ratio);\n        this.width = (int) ((height * realWidth) / realHeight);\n\n        this.numberOfPages = doc.getNumberOfPages();\n\n        renderer = PDFRenderer(doc);\n\n        System.out.println(&quot;Number of pages = &quot; + numberOfPages);\n    }\n</code></pre>\n<p>Alt-Enter on the red underline:</p>\n<p><a href=\"https://i.stack.imgur.com/G4tfd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4tfd.png\" alt=\"Alt-Enter on the red underline\" /></a></p>\n<p>When I select the Search Dependency at Maven Repositories for PDFDocument, I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/IzIfP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IzIfP.png\" alt=\"enter image description here\" /></a></p>\n<p>It finds the jar file I downloaded and put in the <code>src/java/main</code> directory. When I click on the <code>Add</code> button, it works for a few seconds and then displays this in the status line:\n<code>Finished retrieving dependencies from remote repositories.</code>\nBut the error remains, it still can't find the class PDDocument.</p>\n<p>I tried the following command line which didn't fail but didn't remove the error.</p>\n<pre><code>$ mvn install:install-file -Dfile=&quot;pdfbox-app-2.0.27.jar&quot; -DgroupId=&quot;org.apache.pdfbox&quot; -DartifactId=&quot;pdfbox&quot; -Dversion=2.0.27 -Dpackaging=jar\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO]\n[INFO] --- maven-install-plugin:2.4:install-file (default-cli) @ standalone-pom ---\n[INFO] Installing E:\\hg\\project\\MyName\\src\\main\\pdfbox-app-2.0.27.jar to C:\\Users\\ME\\.m2\\repository\\org\\apache\\pdfbox\\pdfbox\\2.0.27\\pdfbox-2.0.27.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.328 s\n[INFO] Finished at: 2023-01-31T10:25:05-08:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>Here is the section of my pom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.27&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I've gone through all of these suggestions to no avail:</p>\n<p><code>https://stackoverflow.com/questions/17693040/adding-external-jar-to-maven-project-in-netbeans</code></p>\n<p>Here is the relevant section of my Project's dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/yDY4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yDY4u.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a log somewhere where I can see what Netbeans did behind the curtain, especially if it encountered an error? What else can I try?</p>\n<p>Thanks</p>\n"},{"tags":["java","sql","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674637556,"post_id":75231658,"comment_id":132754783,"body_markdown":"Does this answer your question? [Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags](https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl\">Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags</a>"},{"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"score":0,"creation_date":1674637795,"post_id":75231658,"comment_id":132754841,"body_markdown":"It is similar in some ways, but is different, because here I want to fetch tree structure of object that is parent and child simultaneously.","body":"It is similar in some ways, but is different, because here I want to fetch tree structure of object that is parent and child simultaneously."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674638195,"post_id":75231658,"comment_id":132754975,"body_markdown":"It doesn&#39;t matter how the structure looks exactly. The issue is about multiple `@OneToMany` with list type","body":"It doesn&#39;t matter how the structure looks exactly. The issue is about multiple <code>@OneToMany</code> with list type"},{"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"score":0,"creation_date":1674639418,"post_id":75231658,"comment_id":132755359,"body_markdown":"Updated the post with my try of using Vlad&#39;s proposal. It does matter actually in my point of view.","body":"Updated the post with my try of using Vlad&#39;s proposal. It does matter actually in my point of view."},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1674642208,"post_id":75231658,"comment_id":132756309,"body_markdown":"When I have to store a tree un a DB, I usually add a relation to the root node of the tree on all nodes. This helps loading in the whole tree with a single request and do the rest of the processing in memory. Of course this is only possible if the number of nodes is reasonable.","body":"When I have to store a tree un a DB, I usually add a relation to the root node of the tree on all nodes. This helps loading in the whole tree with a single request and do the rest of the processing in memory. Of course this is only possible if the number of nodes is reasonable."},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1674646093,"post_id":75231658,"comment_id":132757554,"body_markdown":"This is particularly usefull when you store several independent trees in the same table of the db.","body":"This is particularly usefull when you store several independent trees in the same table of the db."},{"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"score":0,"creation_date":1674646241,"post_id":75231658,"comment_id":132757600,"body_markdown":"The overall process is something like this\n1. Parse and save xml file\n2. Create or update unique tree table&#39;s nodes and relations with data from xml table\n\nTo fill in unique tree table I have to match trees from new incoming data with data already presented in the unique tree table.","body":"The overall process is something like this 1. Parse and save xml file 2. Create or update unique tree table&#39;s nodes and relations with data from xml table  To fill in unique tree table I have to match trees from new incoming data with data already presented in the unique tree table."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675363221,"creation_date":1675363221,"answer_id":75327624,"question_id":75231658,"body_markdown":"You will need a recursive CTE to model this, and since Hibernate has no support for a recursive fetch join, you will also have to build the object graph yourself.\r\n\r\nThe idea is to write a HQL query like this:\r\n\r\n```sql\r\nwith nodes as (\r\n    select :rootId as id, null as parentId\r\n    from (values (1)) t(x)\r\n\r\n    union all\r\n\r\n    select c.id as id, xo.id as parentId\r\n    from XmlObject xo \r\n    join nodes n on xo.id = n.id \r\n    join xo.childObjects c\r\n)\r\nselect o, n.parentId\r\nfrom nodes n\r\njoin XmlObject o on o.id = n.id\r\nleft join fetch o.xmlPeriods \r\n```\r\n\r\nYou will need Hibernate 6.2 for that or [Blaze-Persistence][1].\r\n\r\nThe result is a list of all nodes, you will then only have to wire them up correctly\r\n\r\n  [1]: https://persistence.blazebit.com/documentation/1.6/core/manual/en_US/#recursive-ctes","title":"Join Fetch same object to N level and join fetch different object on N level","body":"<p>You will need a recursive CTE to model this, and since Hibernate has no support for a recursive fetch join, you will also have to build the object graph yourself.</p>\n<p>The idea is to write a HQL query like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>with nodes as (\n    select :rootId as id, null as parentId\n    from (values (1)) t(x)\n\n    union all\n\n    select c.id as id, xo.id as parentId\n    from XmlObject xo \n    join nodes n on xo.id = n.id \n    join xo.childObjects c\n)\nselect o, n.parentId\nfrom nodes n\njoin XmlObject o on o.id = n.id\nleft join fetch o.xmlPeriods \n</code></pre>\n<p>You will need Hibernate 6.2 for that or <a href=\"https://persistence.blazebit.com/documentation/1.6/core/manual/en_US/#recursive-ctes\" rel=\"nofollow noreferrer\">Blaze-Persistence</a>.</p>\n<p>The result is a list of all nodes, you will then only have to wire them up correctly</p>\n"}],"owner":{"account_id":2617457,"reputation":33,"user_id":2266229,"display_name":"Alex A"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327624,"answer_count":1,"score":0,"last_activity_date":1675363221,"creation_date":1674637314,"question_id":75231658,"body_markdown":"So I want to fetch the whole XmlObject with tree structure. The object has parent-child OneToMany relation childObjects to himself and OneToMany relation to xmlPeriods. xmlPeriods are at last level only.\r\n\r\nTree is something like this.\r\n\r\n```\r\nXmlObject\r\n\r\n  |_XmlObject\r\n\r\n     |_XmlObject\r\n\r\n       |_XmlObject\r\n\r\n         |_XmlPeriod\r\n```\r\n\r\nHere are my Entity&#39;s relations.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;xml_object&quot;)\r\npublic class XmlObject implements Serializable {\r\n\r\n    @Fetch(value = FetchMode.SELECT)\r\n    @BatchSize(size = 50)\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n    @JoinTable(\r\n            name = &quot;xml_object_tree&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;id&quot;)}\r\n    )\r\n    @ToString.Exclude\r\n    private List&lt;XmlObject&gt; childObjects;\r\n\r\n    @Fetch(value = FetchMode.SUBSELECT) // FetchMode.JOIN loads eagerly always\r\n    @OneToMany(cascade = {CascadeType.ALL}, fetch = FetchType.LAZY, orphanRemoval = false)\r\n    @JoinColumn(name = &quot;xml_object_id&quot;, nullable = false)\r\n    @ToString.Exclude\r\n    private List&lt;XmlPeriod&gt; xmlPeriods;\r\n```\r\n\r\nI&#39;ve started with this query.\r\n\r\n```\r\n    @Query(value = &quot;select xo.id from XmlObject xo &quot; +\r\n            &quot; where xo.objectType = :type and bw_and(xo.status, :status) = 0&quot;)\r\n    Optional&lt;List&lt;Long&gt;&gt; findAllObjectsIdsOfTypeAndNotInStatusesAndNotDeletedN(\r\n            ObjectTypeEnum type, Integer status, Pageable pageable);\r\n```\r\n\r\n*bw_and* - it is bitwise *and* applied via custom Postgres dialect\r\n\r\nI don&#39;t want to set fetch = FetchType.EAGER, I don&#39;t want to hide the problem under Set to suppress error below\r\n\r\n```\r\ncannot simultaneously fetch multiple bags\r\n```\r\n\r\nI can&#39;t use two query [solution](https://stackoverflow.com/a/51055523/2266229) from Vlad Mihalcea because the object has reference to himself and the xmlPeriod are on the last level.\r\n\r\n\r\nFrom that post I can&#39;t understand how to request the full tree of childs. I can use the code below to request the 1st level, but how to request N?\r\n\r\n```\r\n    private Set&lt;XmlObject&gt; getXOToProcessVM() {\r\n\r\n        List&lt;XmlObject&gt; xmlObjects = entityManager.createQuery(\r\n                        &quot; select distinct p &quot; +\r\n                                &quot; from XmlObject p &quot; +\r\n                                &quot; left join fetch p.childObjects &quot; +\r\n                                &quot; where p.id between :minId and :maxId&quot;, XmlObject.class)\r\n                .setParameter(&quot;minId&quot;, 1L)\r\n                .setParameter(&quot;maxId&quot;, 50L)\r\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n                .getResultList();\r\n\r\n        xmlObjects = entityManager.createQuery(\r\n                        &quot; select distinct p &quot; +\r\n                                &quot; from XmlObject p &quot; +\r\n                                &quot; left join fetch p.childObjects &quot; +\r\n                                &quot; where p in :xmlObjects&quot;, XmlObject.class)\r\n                .setParameter(&quot;xmlObjects&quot;, xmlObjects)\r\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\r\n                .getResultList();\r\n\r\n        return Set.copyOf(xmlObjects);\r\n        \r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nBesides of other tries, I&#39;ve tried this Native Query in Repository, that seemed to be what I really need from Postgres perspective\r\n\r\n```\r\n    @Query(value = &quot;select DISTINCT * from xml_object message &quot; +\r\n            &quot; left join xml_object_tree tree1 on message.id = tree1.parent_id &quot; +\r\n            &quot; left join xml_object sender on sender.id = tree1.child_id &quot; +\r\n            &quot; left join xml_object_tree tree2 on sender.id = tree2.parent_id &quot; +\r\n            &quot; left join xml_object area on area.id = tree2.child_id &quot; +\r\n            &quot; left join xml_object_tree tree3 on area.id = tree3.parent_id &quot; +\r\n            &quot; left join xml_object measuringPoint on measuringPoint.id = tree3.child_id &quot; +\r\n            &quot; left join xml_object_tree tree4 on measuringPoint.id = tree4.parent_id &quot; +\r\n            &quot; left join xml_object measuringChannel on measuringChannel.id = tree4.child_id &quot; +\r\n            &quot; left join xml_period period on period.xml_object_id = measuringChannel.id &quot; +\r\n            &quot; where message.id IN :ids&quot;, nativeQuery = true)\r\n    Set&lt;XmlObject&gt; findAllObjectsByIdsFetchChildsAndPeriods(Iterable&lt;Long&gt; ids);\r\n```\r\n\r\nBut it returns several rows for each object cause of joins, which is unacceptable.\r\n\r\nI&#39;ve tried this Query from Hibernate perspective, but it fetch only first level of childs, but I need all tree plus XmlPeriods from the last level. Can&#39;t use several JOIN FETCH cause of Cartesian Product(Set) and JPA restrictions(List)\r\n\r\n```\r\n    @Query(value = &quot;select xo from XmlObject xo &quot; +\r\n            &quot; join fetch xo.childObjects senders &quot; +\r\n            &quot; where xo.id IN :ids&quot;)\r\n    List&lt;XmlObject&gt; findAllObjectsByIdsFetchingChilds(Iterable&lt;Long&gt; ids);\r\n```\r\n\r\nI","title":"Join Fetch same object to N level and join fetch different object on N level","body":"<p>So I want to fetch the whole XmlObject with tree structure. The object has parent-child OneToMany relation childObjects to himself and OneToMany relation to xmlPeriods. xmlPeriods are at last level only.</p>\n<p>Tree is something like this.</p>\n<pre><code>XmlObject\n\n  |_XmlObject\n\n     |_XmlObject\n\n       |_XmlObject\n\n         |_XmlPeriod\n</code></pre>\n<p>Here are my Entity's relations.</p>\n<pre><code>@Entity\n@Table(name = &quot;xml_object&quot;)\npublic class XmlObject implements Serializable {\n\n    @Fetch(value = FetchMode.SELECT)\n    @BatchSize(size = 50)\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinTable(\n            name = &quot;xml_object_tree&quot;,\n            joinColumns = {@JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;child_id&quot;, referencedColumnName = &quot;id&quot;)}\n    )\n    @ToString.Exclude\n    private List&lt;XmlObject&gt; childObjects;\n\n    @Fetch(value = FetchMode.SUBSELECT) // FetchMode.JOIN loads eagerly always\n    @OneToMany(cascade = {CascadeType.ALL}, fetch = FetchType.LAZY, orphanRemoval = false)\n    @JoinColumn(name = &quot;xml_object_id&quot;, nullable = false)\n    @ToString.Exclude\n    private List&lt;XmlPeriod&gt; xmlPeriods;\n</code></pre>\n<p>I've started with this query.</p>\n<pre><code>    @Query(value = &quot;select xo.id from XmlObject xo &quot; +\n            &quot; where xo.objectType = :type and bw_and(xo.status, :status) = 0&quot;)\n    Optional&lt;List&lt;Long&gt;&gt; findAllObjectsIdsOfTypeAndNotInStatusesAndNotDeletedN(\n            ObjectTypeEnum type, Integer status, Pageable pageable);\n</code></pre>\n<p><em>bw_and</em> - it is bitwise <em>and</em> applied via custom Postgres dialect</p>\n<p>I don't want to set fetch = FetchType.EAGER, I don't want to hide the problem under Set to suppress error below</p>\n<pre><code>cannot simultaneously fetch multiple bags\n</code></pre>\n<p>I can't use two query <a href=\"https://stackoverflow.com/a/51055523/2266229\">solution</a> from Vlad Mihalcea because the object has reference to himself and the xmlPeriod are on the last level.</p>\n<p>From that post I can't understand how to request the full tree of childs. I can use the code below to request the 1st level, but how to request N?</p>\n<pre><code>    private Set&lt;XmlObject&gt; getXOToProcessVM() {\n\n        List&lt;XmlObject&gt; xmlObjects = entityManager.createQuery(\n                        &quot; select distinct p &quot; +\n                                &quot; from XmlObject p &quot; +\n                                &quot; left join fetch p.childObjects &quot; +\n                                &quot; where p.id between :minId and :maxId&quot;, XmlObject.class)\n                .setParameter(&quot;minId&quot;, 1L)\n                .setParameter(&quot;maxId&quot;, 50L)\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n                .getResultList();\n\n        xmlObjects = entityManager.createQuery(\n                        &quot; select distinct p &quot; +\n                                &quot; from XmlObject p &quot; +\n                                &quot; left join fetch p.childObjects &quot; +\n                                &quot; where p in :xmlObjects&quot;, XmlObject.class)\n                .setParameter(&quot;xmlObjects&quot;, xmlObjects)\n                .setHint(QueryHints.PASS_DISTINCT_THROUGH, false)\n                .getResultList();\n\n        return Set.copyOf(xmlObjects);\n        \n    }\n</code></pre>\n<p>Besides of other tries, I've tried this Native Query in Repository, that seemed to be what I really need from Postgres perspective</p>\n<pre><code>    @Query(value = &quot;select DISTINCT * from xml_object message &quot; +\n            &quot; left join xml_object_tree tree1 on message.id = tree1.parent_id &quot; +\n            &quot; left join xml_object sender on sender.id = tree1.child_id &quot; +\n            &quot; left join xml_object_tree tree2 on sender.id = tree2.parent_id &quot; +\n            &quot; left join xml_object area on area.id = tree2.child_id &quot; +\n            &quot; left join xml_object_tree tree3 on area.id = tree3.parent_id &quot; +\n            &quot; left join xml_object measuringPoint on measuringPoint.id = tree3.child_id &quot; +\n            &quot; left join xml_object_tree tree4 on measuringPoint.id = tree4.parent_id &quot; +\n            &quot; left join xml_object measuringChannel on measuringChannel.id = tree4.child_id &quot; +\n            &quot; left join xml_period period on period.xml_object_id = measuringChannel.id &quot; +\n            &quot; where message.id IN :ids&quot;, nativeQuery = true)\n    Set&lt;XmlObject&gt; findAllObjectsByIdsFetchChildsAndPeriods(Iterable&lt;Long&gt; ids);\n</code></pre>\n<p>But it returns several rows for each object cause of joins, which is unacceptable.</p>\n<p>I've tried this Query from Hibernate perspective, but it fetch only first level of childs, but I need all tree plus XmlPeriods from the last level. Can't use several JOIN FETCH cause of Cartesian Product(Set) and JPA restrictions(List)</p>\n<pre><code>    @Query(value = &quot;select xo from XmlObject xo &quot; +\n            &quot; join fetch xo.childObjects senders &quot; +\n            &quot; where xo.id IN :ids&quot;)\n    List&lt;XmlObject&gt; findAllObjectsByIdsFetchingChilds(Iterable&lt;Long&gt; ids);\n</code></pre>\n<p>I</p>\n"},{"tags":["java","spring","server","internals"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675363189,"creation_date":1675363189,"answer_id":75327613,"question_id":75327295,"body_markdown":"You can use `@Size` annotation for string length min/max value. It can&#39;t be used for `ProviderEnum` as exception message indicates.\r\n\r\nhttps://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/","title":"I have an Interface of which an openApi output, I override some methods (Get and Put) of it in my controller. I can&#39;t send request with those methods","body":"<p>You can use <code>@Size</code> annotation for string length min/max value. It can't be used for <code>ProviderEnum</code> as exception message indicates.</p>\n<p><a href=\"https://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/</a></p>\n"}],"owner":{"account_id":26444600,"reputation":13,"user_id":20088596,"display_name":"gkhand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75327613,"answer_count":1,"score":1,"last_activity_date":1675363189,"creation_date":1675361473,"question_id":75327295,"body_markdown":"In my project, we use api first design approach and we have some autocreated classes/interfaces as an output of openApi. I override a GET and a PUT method in this interface, then I send requests through those methods on Postman and/or swagger, I receive below errors in postman and console:\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-02-02T17:25:26.548+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/con&quot;\r\n}\r\n\r\nand\r\n\r\njavax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;javax.validation.constraints.Size&#39; validating type &#39;com.xxxxx.xxxxxx.swagger.model.ConDto$ProviderEnum&#39;. Check configuration for &#39;provider&#39; \r\n\r\nAfter that I have created my manual HTTP methods in my controller, and they work correct. I really spent really long time on this, however I am still away from the solution. Please excuse me since I am a junior Java Spring Boot Developer.\r\n\r\n\r\n\r\nI created replica HTTP methods and worked on them, they work correct, so I cant get why the one coming from Interface does not work.","title":"I have an Interface of which an openApi output, I override some methods (Get and Put) of it in my controller. I can&#39;t send request with those methods","body":"<p>In my project, we use api first design approach and we have some autocreated classes/interfaces as an output of openApi. I override a GET and a PUT method in this interface, then I send requests through those methods on Postman and/or swagger, I receive below errors in postman and console:\n{\n&quot;timestamp&quot;: &quot;2023-02-02T17:25:26.548+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;path&quot;: &quot;/con&quot;\n}</p>\n<p>and</p>\n<p>javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'javax.validation.constraints.Size' validating type 'com.xxxxx.xxxxxx.swagger.model.ConDto$ProviderEnum'. Check configuration for 'provider'</p>\n<p>After that I have created my manual HTTP methods in my controller, and they work correct. I really spent really long time on this, however I am still away from the solution. Please excuse me since I am a junior Java Spring Boot Developer.</p>\n<p>I created replica HTTP methods and worked on them, they work correct, so I cant get why the one coming from Interface does not work.</p>\n"},{"tags":["java","android","bitmap","start-activity"],"comments":[{"owner":{"account_id":6919952,"reputation":4216,"user_id":5312929,"accept_rate":93,"display_name":"Nilabja"},"score":0,"creation_date":1675331036,"post_id":75320435,"comment_id":132907052,"body_markdown":"when using activityResultLauncher  you can try something like this intent.getData().getPath()  (first check for null )","body":"when using activityResultLauncher  you can try something like this intent.getData().getPath()  (first check for null )"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675328185,"creation_date":1675328185,"answer_id":75320686,"question_id":75320435,"body_markdown":"In ```NewStartActivityForResult``` , just manage code as mentioned below\r\n\r\nFrom\r\n\r\n```\r\nUri imageUriPath = GotResults.getData();\r\n```\r\n\r\nTo\r\n```\r\nimageUriPath = GotResults.getData();\r\n```\r\n\r\nYou are declaring and initalising variable instead of only initalising ","title":"Uploading an image using activityResultLauncher , convert URI into bitmap","body":"<p>In <code>NewStartActivityForResult</code> , just manage code as mentioned below</p>\n<p>From</p>\n<pre><code>Uri imageUriPath = GotResults.getData();\n</code></pre>\n<p>To</p>\n<pre><code>imageUriPath = GotResults.getData();\n</code></pre>\n<p>You are declaring and initalising variable instead of only initalising</p>\n"}],"owner":{"account_id":27618635,"reputation":5,"user_id":21080209,"display_name":"Pavlos Katsioulis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75320686,"answer_count":1,"score":0,"last_activity_date":1675362910,"creation_date":1675326739,"question_id":75320435,"body_markdown":"I am very new to this, and I am trying to put the pieces together so I will get the result I want. I don&#39;t really understand what I am doing wrong. The problem is when I am trying to put a profile photo, by the time I am pressing the selected photo to show on image view, the app crashes and I got a message like &quot;URI cannot be null&quot;.\r\n\r\n\r\n\r\n```\r\npublic class Profile extends AppCompatActivity {\r\n\r\nprivate ImageView ProfileImg;\r\n\r\nprivate String Tag;\r\n\r\nprivate Uri imagePath = null;\r\n\r\nprivate Uri imageUriPath;\r\n\r\nProgressBar progressBar;\r\n\r\n\r\n\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_profile);\r\n    progressBar = findViewById(R.id.progressBar);\r\n    Button btnUpload = findViewById(R.id.btnUploadPhoto);\r\n    Button btnLogOut = findViewById(R.id.btnLogOut);\r\n    ProfileImg = findViewById(R.id.profile_img);\r\n\r\n\r\n    /* START ACTIVITY FOR RESULT*/\r\n\r\n\r\n\r\n    btnLogOut.setOnClickListener(view -&gt; {\r\n\r\n        FirebaseAuth.getInstance().signOut();\r\n        startActivity(new Intent(Profile.this,MainActivity.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_CLEAR_TOP));\r\n        finish();\r\n\r\n    });\r\n\r\n    ProfileImg.setOnClickListener(view -&gt; {\r\n\r\n        Intent photoIntent = new Intent(Intent.ACTION_PICK);\r\n        photoIntent.setType(&quot;image/*&quot;);\r\n        NewStartActivityForResult.launch(photoIntent);\r\n\r\n    });\r\n    \r\n    btnUpload.setOnClickListener(view -&gt; {\r\n        \r\n        uploadImage();\r\n        \r\n    });\r\n\r\n\r\n\r\n    /*Select photo from device*/\r\n\r\n\r\n}\r\n\r\nprivate ActivityResultLauncher&lt;Intent&gt; NewStartActivityForResult = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n\r\n    if (result.getResultCode() == Activity.RESULT_OK){\r\n\r\n        Intent GotResults = result.getData();\r\n\r\n        if(GotResults == null)\r\n        {\r\n            Log.d(Tag,&quot;InitializedActivityLaunchers: intent data is null&quot;);\r\n            return;\r\n        }\r\n        Uri imageUriPath = GotResults.getData();\r\n        GetImageInView();\r\n    }\r\n\r\n\r\n});\r\n\r\nprivate void uploadImage() {\r\n\r\n    FirebaseStorage.getInstance().getReference(&quot;images/&quot; + UUID.randomUUID().toString()).putFile(imagePath).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n            if (task.isSuccessful())\r\n            {\r\n                Toast.makeText(Profile.this, &quot;Image Uploaded!&quot;,Toast.LENGTH_SHORT).show();\r\n            }else {\r\n                Toast.makeText(Profile.this, &quot;Something went Wrong!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    });\r\n\r\n}\r\n\r\nprivate void GetImageInView(){\r\n\r\n    Bitmap bitmap = null;\r\n    try{\r\n        bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUriPath);\r\n    }catch (IOException e){\r\n        e.printStackTrace();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI first had a problem with startOnActivityResult in which I had a line through the command saying that is deprecated and MediaStore.Images.Media.getBitmap in which I had the same &quot;error&quot;, deprecated on getBitmap, and I tried to use the new methods watching tutorials and other forums, but I think I cannot connect the activityResultLauncher with Bitmap because the output of activityResultLauncher is Intent and Bitmap needs URI.","title":"Uploading an image using activityResultLauncher , convert URI into bitmap","body":"<p>I am very new to this, and I am trying to put the pieces together so I will get the result I want. I don't really understand what I am doing wrong. The problem is when I am trying to put a profile photo, by the time I am pressing the selected photo to show on image view, the app crashes and I got a message like &quot;URI cannot be null&quot;.</p>\n<pre><code>public class Profile extends AppCompatActivity {\n\nprivate ImageView ProfileImg;\n\nprivate String Tag;\n\nprivate Uri imagePath = null;\n\nprivate Uri imageUriPath;\n\nProgressBar progressBar;\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n    progressBar = findViewById(R.id.progressBar);\n    Button btnUpload = findViewById(R.id.btnUploadPhoto);\n    Button btnLogOut = findViewById(R.id.btnLogOut);\n    ProfileImg = findViewById(R.id.profile_img);\n\n\n    /* START ACTIVITY FOR RESULT*/\n\n\n\n    btnLogOut.setOnClickListener(view -&gt; {\n\n        FirebaseAuth.getInstance().signOut();\n        startActivity(new Intent(Profile.this,MainActivity.class).setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_CLEAR_TOP));\n        finish();\n\n    });\n\n    ProfileImg.setOnClickListener(view -&gt; {\n\n        Intent photoIntent = new Intent(Intent.ACTION_PICK);\n        photoIntent.setType(&quot;image/*&quot;);\n        NewStartActivityForResult.launch(photoIntent);\n\n    });\n    \n    btnUpload.setOnClickListener(view -&gt; {\n        \n        uploadImage();\n        \n    });\n\n\n\n    /*Select photo from device*/\n\n\n}\n\nprivate ActivityResultLauncher&lt;Intent&gt; NewStartActivityForResult = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n\n    if (result.getResultCode() == Activity.RESULT_OK){\n\n        Intent GotResults = result.getData();\n\n        if(GotResults == null)\n        {\n            Log.d(Tag,&quot;InitializedActivityLaunchers: intent data is null&quot;);\n            return;\n        }\n        Uri imageUriPath = GotResults.getData();\n        GetImageInView();\n    }\n\n\n});\n\nprivate void uploadImage() {\n\n    FirebaseStorage.getInstance().getReference(&quot;images/&quot; + UUID.randomUUID().toString()).putFile(imagePath).addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n            if (task.isSuccessful())\n            {\n                Toast.makeText(Profile.this, &quot;Image Uploaded!&quot;,Toast.LENGTH_SHORT).show();\n            }else {\n                Toast.makeText(Profile.this, &quot;Something went Wrong!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n\n}\n\nprivate void GetImageInView(){\n\n    Bitmap bitmap = null;\n    try{\n        bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),imageUriPath);\n    }catch (IOException e){\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>I first had a problem with startOnActivityResult in which I had a line through the command saying that is deprecated and MediaStore.Images.Media.getBitmap in which I had the same &quot;error&quot;, deprecated on getBitmap, and I tried to use the new methods watching tutorials and other forums, but I think I cannot connect the activityResultLauncher with Bitmap because the output of activityResultLauncher is Intent and Bitmap needs URI.</p>\n"},{"tags":["java","reactjs","spring-boot","oauth-2.0"],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675362865,"creation_date":1675359465,"question_id":75326963,"body_markdown":"I am new to reactJS so perhaps the question I am making is stupid. However, I have a springboot service configured to perform **authorization code flow**, it is responsible for exchanging the code for an access token, creating an http only session cookie and sending it back to the react app, where each subsequent requests will contain this cookie.\r\nHere is the code of the backend:\r\n```\r\n    @Bean\r\n    SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n\r\n        http.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\r\n                .oauth2Login()//Setting Oauth2Login\r\n                .authenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(&quot;http://localhost:3000/&quot;))\r\n                .and()\r\n                .logout(logout -&gt; logout //Setting Oauth2Logout\r\n                        .logoutHandler(logoutHandler())\r\n                        .logoutSuccessHandler(oidcLogoutSuccessHandler()));\r\n        //.csrf(csrf -&gt; csrf.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse())); //Enabling csrf (all post/patch/put/... requests will need a csrf token in X-XSRF-TOKEN header\r\n        http.csrf().disable();\r\n        return http.build();\r\n\r\n    }\r\n\r\n    private ServerLogoutSuccessHandler oidcLogoutSuccessHandler() {\r\n        OidcClientInitiatedServerLogoutSuccessHandler oidcLogoutSuccessHandler =\r\n                new OidcClientInitiatedServerLogoutSuccessHandler(this.clientRegistrationRepository);\r\n        // Sets the location that the End-User&#39;s User Agent will be redirected to\r\n        // after the logout has been performed at the Provider\r\n        oidcLogoutSuccessHandler.setPostLogoutRedirectUri(&quot;http://localhost:3000/login&quot;);\r\n        return oidcLogoutSuccessHandler;\r\n    }\r\n\r\n    private DelegatingServerLogoutHandler logoutHandler() {\r\n        //Invalidate session on logout (invalidate session on keycloak and deletes sessionid from redis cache)\r\n        return new DelegatingServerLogoutHandler(\r\n                new SecurityContextServerLogoutHandler(), new WebSessionServerLogoutHandler());\r\n    }\r\n```\r\nI simply want to use Keycloak&#39;s login UI, so that when a user accesses the webapp, it gets redirected to that login UI and on success sets the cookie: http://localhost:8080/auth/realms/myrealm. How can i achieve this in reactJS, preferably using useEffect hook?\r\n\r\nUPDATE\r\n\r\nI found a way, but it seems like a dirty workaround, what do you guys think?\r\n```\r\nfunction RedirectExample() {\r\n  window.location.replace(&#39;http://localhost:8080/auth/realms/myrealm&#39;);\r\n  return &lt;&gt;&lt;/&gt;;\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    &lt;div&gt;\r\n      &lt;RedirectExample/&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n```\r\n ","title":"Oauth2 Login ReactJS and Springboot backend","body":"<p>I am new to reactJS so perhaps the question I am making is stupid. However, I have a springboot service configured to perform <strong>authorization code flow</strong>, it is responsible for exchanging the code for an access token, creating an http only session cookie and sending it back to the react app, where each subsequent requests will contain this cookie.\nHere is the code of the backend:</p>\n<pre><code>    @Bean\n    SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n\n        http.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\n                .oauth2Login()//Setting Oauth2Login\n                .authenticationSuccessHandler(new RedirectServerAuthenticationSuccessHandler(&quot;http://localhost:3000/&quot;))\n                .and()\n                .logout(logout -&gt; logout //Setting Oauth2Logout\n                        .logoutHandler(logoutHandler())\n                        .logoutSuccessHandler(oidcLogoutSuccessHandler()));\n        //.csrf(csrf -&gt; csrf.csrfTokenRepository(CookieServerCsrfTokenRepository.withHttpOnlyFalse())); //Enabling csrf (all post/patch/put/... requests will need a csrf token in X-XSRF-TOKEN header\n        http.csrf().disable();\n        return http.build();\n\n    }\n\n    private ServerLogoutSuccessHandler oidcLogoutSuccessHandler() {\n        OidcClientInitiatedServerLogoutSuccessHandler oidcLogoutSuccessHandler =\n                new OidcClientInitiatedServerLogoutSuccessHandler(this.clientRegistrationRepository);\n        // Sets the location that the End-User's User Agent will be redirected to\n        // after the logout has been performed at the Provider\n        oidcLogoutSuccessHandler.setPostLogoutRedirectUri(&quot;http://localhost:3000/login&quot;);\n        return oidcLogoutSuccessHandler;\n    }\n\n    private DelegatingServerLogoutHandler logoutHandler() {\n        //Invalidate session on logout (invalidate session on keycloak and deletes sessionid from redis cache)\n        return new DelegatingServerLogoutHandler(\n                new SecurityContextServerLogoutHandler(), new WebSessionServerLogoutHandler());\n    }\n</code></pre>\n<p>I simply want to use Keycloak's login UI, so that when a user accesses the webapp, it gets redirected to that login UI and on success sets the cookie: http://localhost:8080/auth/realms/myrealm. How can i achieve this in reactJS, preferably using useEffect hook?</p>\n<p>UPDATE</p>\n<p>I found a way, but it seems like a dirty workaround, what do you guys think?</p>\n<pre><code>function RedirectExample() {\n  window.location.replace('http://localhost:8080/auth/realms/myrealm');\n  return &lt;&gt;&lt;/&gt;;\n}\n\nfunction App() {\n  return (\n    &lt;div&gt;\n      &lt;RedirectExample/&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongotemplate"],"comments":[{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1675349615,"post_id":75321201,"comment_id":132913600,"body_markdown":"Can you add what you have tried so far?","body":"Can you add what you have tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675334123,"creation_date":1675334123,"answer_id":75321861,"question_id":75321201,"body_markdown":"Simply use:\r\n\r\n```java\r\nAggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\r\n```\r\n\r\nAnd you can get the data with something like this:\r\n\r\n```java\r\n// Create aggregation step\r\nAggregateOperation groupOperation = Aggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\r\n\r\n// Create aggregation object\r\nAggregation aggregation = Aggregation.newAggregation(groupOperation);\r\n\r\n// Run the aggregate query\r\nAggregationResults&lt;YourClass&gt; result = mongoTemplate.aggregate(aggregation, &quot;mycollection&quot;, YourClass.class);\r\n\r\n// Get result as list\r\nList&lt;YourClass&gt; listResult = result.getMappedResults();\r\n```","title":"MongoTemplate : group by on multiple fields with max operator","body":"<p>Simply use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Aggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\n</code></pre>\n<p>And you can get the data with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create aggregation step\nAggregateOperation groupOperation = Aggregation.group(&quot;somefield.id&quot;).max(&quot;_id&quot;).as(&quot;xyz&quot;);\n\n// Create aggregation object\nAggregation aggregation = Aggregation.newAggregation(groupOperation);\n\n// Run the aggregate query\nAggregationResults&lt;YourClass&gt; result = mongoTemplate.aggregate(aggregation, &quot;mycollection&quot;, YourClass.class);\n\n// Get result as list\nList&lt;YourClass&gt; listResult = result.getMappedResults();\n</code></pre>\n"}],"owner":{"account_id":27683769,"reputation":1,"user_id":21131939,"display_name":"Johnson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675362865,"creation_date":1675330968,"question_id":75321201,"body_markdown":"Want to convert following query to Java Mongo template aggregation but don&#39;t know how to write multiple fields in group operator with max operator condition.\r\n```\r\ndb.getCollection(&#39;mycollection&#39;).aggregate([\r\n  {\r\n    $group: {\r\n      _id: &quot;$somefield.$id&quot;,\r\n      xyz: {\r\n       &quot;$max&quot;: &quot;$_id&quot;\r\n      }\r\n    }\r\n  }\r\n])\r\n```\r\ntried to find on mongodb forums, and other website but no solution.","title":"MongoTemplate : group by on multiple fields with max operator","body":"<p>Want to convert following query to Java Mongo template aggregation but don't know how to write multiple fields in group operator with max operator condition.</p>\n<pre><code>db.getCollection('mycollection').aggregate([\n  {\n    $group: {\n      _id: &quot;$somefield.$id&quot;,\n      xyz: {\n       &quot;$max&quot;: &quot;$_id&quot;\n      }\n    }\n  }\n])\n</code></pre>\n<p>tried to find on mongodb forums, and other website but no solution.</p>\n"},{"tags":["java","generics","type-inference","jls"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675362457,"post_id":75327431,"comment_id":132918138,"body_markdown":"Link  it next time please :)","body":"Link  it next time please :)"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675362743,"post_id":75327431,"comment_id":132918228,"body_markdown":"Not a leading question, but did you read the definition of [&quot;pertinent to applicability&quot;](https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.12.2.2)? What is your understanding of it?","body":"Not a leading question, but did you read the definition of <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.12.2.2\" rel=\"nofollow noreferrer\">&quot;pertinent to applicability&quot;</a>? What is your understanding of it?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675363208,"post_id":75327431,"comment_id":132918374,"body_markdown":"I guess a hand-wavey and oversimplified explanation is that non-pertinent-to-applicability expressions are mostly lambdas (and compound expressions containing lambdas), and lambdas are expressions whose type is often inferred. You can&#39;t really use an expression whose type must be inferred to infer what method it applies to. There&#39;s a circular reasoning about that, which is why it&#39;s a special case.","body":"I guess a hand-wavey and oversimplified explanation is that non-pertinent-to-applicability expressions are mostly lambdas (and compound expressions containing lambdas), and lambdas are expressions whose type is often inferred. You can&#39;t really use an expression whose type must be inferred to infer what method it applies to. There&#39;s a circular reasoning about that, which is why it&#39;s a special case."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1675363783,"post_id":75327431,"comment_id":132918546,"body_markdown":"@Michael : But then why are only &quot;non-pertinent&quot; elements included in the constraint set determination and not the &quot;pertinent&quot; expressions ? - your point it right that &quot;You can&#39;t really use an expression whose type must be inferred to infer what method it applies to.&quot; - that is what I want to know exactly that why is it included in invocation type determination - but not in the applicability determination - but the &quot;pertinent-to-applicability&quot; excluded from invocation type determination?","body":"@Michael : But then why are only &quot;non-pertinent&quot; elements included in the constraint set determination and not the &quot;pertinent&quot; expressions ? - your point it right that &quot;You can&#39;t really use an expression whose type must be inferred to infer what method it applies to.&quot; - that is what I want to know exactly that why is it included in invocation type determination - but not in the applicability determination - but the &quot;pertinent-to-applicability&quot; excluded from invocation type determination?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675363909,"post_id":75327431,"comment_id":132918591,"body_markdown":"&quot;*But then why are **only** &quot;non-pertinent&quot; elements included in the constraint set determination*&quot; That&#39;s not what it says. You&#39;re not reading the whole thing. &quot;*Additional constraints may be included, depending on the form of ei*&quot;","body":"&quot;<i>But then why are <b>only</b> &quot;non-pertinent&quot; elements included in the constraint set determination</i>&quot; That&#39;s not what it says. You&#39;re not reading the whole thing. &quot;<i>Additional constraints may be included, depending on the form of ei</i>&quot;"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1675364410,"post_id":75327431,"comment_id":132918782,"body_markdown":"Indeed - the additional constraints may be on throws clauses or conditional expressions etc - but in the current question I am referring to the basic constraint that gets added in the set &quot;C&quot; ‹ei → Fi θ›&quot;","body":"Indeed - the additional constraints may be on throws clauses or conditional expressions etc - but in the current question I am referring to the basic constraint that gets added in the set &quot;C&quot; ‹ei → Fi θ›&quot;"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675362447,"creation_date":1675362181,"question_id":75327431,"body_markdown":"Consider the following article in JLS:9 ([18.5.2.2. Additional Argument Constraints](https://docs.oracle.com/javase/specs/jls/se9/html/jls-18.html#jls-18.5.2.2))\r\n- Here while adding actual arguments to form the set of Constraints - after the Type Parameters have been Reduced and Incorporated - we have the following clause:\r\n\r\n&gt; Let θ be the substitution [P1:=α1, ..., Pp:=αp] defined in &#167;18.5.1 to replace the type parameters of m with inference variables.\r\n&gt; Then, for all i (1 ≤ i ≤ k):\r\n&gt; If ei is not pertinent to applicability, C contains ‹ei → Fi θ›.\r\n\r\nClearly - when determining the &quot;Invocation Applicability&quot; the actual arguments expressions supplied are tested if they are &quot;Pertinent to Applicabilility&quot; and the Constraint set is being reduced and resolved and merged with the bound set.\r\n\r\n**My question is - that when we are trying to infer the &quot;Invocation Type&quot; why are actual argument expressions `ei` included in the set of valid constraints only when  they are &quot;not pertinent to applicability&quot;?**\r\n\r\n\r\n","title":"Method Invocation Type inference in JLS","body":"<p>Consider the following article in JLS:9 (<a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-18.html#jls-18.5.2.2\" rel=\"nofollow noreferrer\">18.5.2.2. Additional Argument Constraints</a>)</p>\n<ul>\n<li>Here while adding actual arguments to form the set of Constraints - after the Type Parameters have been Reduced and Incorporated - we have the following clause:</li>\n</ul>\n<blockquote>\n<p>Let θ be the substitution [P1:=α1, ..., Pp:=αp] defined in §18.5.1 to replace the type parameters of m with inference variables.\nThen, for all i (1 ≤ i ≤ k):\nIf ei is not pertinent to applicability, C contains ‹ei → Fi θ›.</p>\n</blockquote>\n<p>Clearly - when determining the &quot;Invocation Applicability&quot; the actual arguments expressions supplied are tested if they are &quot;Pertinent to Applicabilility&quot; and the Constraint set is being reduced and resolved and merged with the bound set.</p>\n<p><strong>My question is - that when we are trying to infer the &quot;Invocation Type&quot; why are actual argument expressions <code>ei</code> included in the set of valid constraints only when  they are &quot;not pertinent to applicability&quot;?</strong></p>\n"},{"tags":["java","spring","spring-jdbc"],"comments":[{"owner":{"account_id":3808391,"reputation":4885,"user_id":3160089,"accept_rate":77,"display_name":"Endzeit"},"score":3,"creation_date":1675362347,"post_id":75327423,"comment_id":132918108,"body_markdown":"Without having looked into this any further, I would recommend updating only one major version at a time, thus first update to 5.x before migrating to 6.x.","body":"Without having looked into this any further, I would recommend updating only one major version at a time, thus first update to 5.x before migrating to 6.x."},{"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"score":0,"creation_date":1675362475,"post_id":75327423,"comment_id":132918147,"body_markdown":"@Endzeit I&#39;m not facing this issue with 5.x version.\nMy only concern is to moving higher version like 6.x","body":"@Endzeit I&#39;m not facing this issue with 5.x version. My only concern is to moving higher version like 6.x"},{"owner":{"account_id":3040588,"reputation":15236,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1675362608,"post_id":75327423,"comment_id":132918185,"body_markdown":"Please post your pom to see if any dependence is not right","body":"Please post your pom to see if any dependence is not right"}],"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675362238,"creation_date":1675362147,"question_id":75327423,"body_markdown":"I&#39;m trying to upgrade my multi module old spring project. Current version is 4.2.3.RELESE and I&#39;m trying to upgrade to latest version 6.0.4.\r\n\r\nI&#39;m upgrading all the spring dependencies like spring-bean, spring-context, spring-jdbc, spring-orm etc.\r\n\r\n\r\nafter upgrading when I try to build the project, I&#39;m getting the compilation error which means cannot import/access **SqlRowSet** from spring-jdbc:\r\n\r\n```\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] Project-Name\\src\\main\\java\\com\\rest\\retest\\entity\\ads\\Test.java:[6,46] error: cannot access SqlRowSet\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary:\r\n[INFO]\r\n```\r\nHere are my imports\r\n```\r\nimport org.springframework.jdbc.support.rowset.SqlRowSet;\r\nimport org.springframework.jdbc.support.rowset.SqlRowSetMetaData;\r\n\r\npublic abstract class Iterator {\r\n\r\n\tprotected SqlRowSet rowSet;\r\n\r\n\tpublic void setSqlRowSet(SqlRowSet rowSet) {\r\n\t\tthis.rowSet = rowSet;\r\n\r\n\t\tSqlRowSetMetaData metaData = rowSet.getMetaData();\r\n\r\n\t\tString[] columnNames = metaData.getColumnNames();\r\n\r\n\t\tsetIndexes(columnNames);\r\n\t}\r\n}\r\n\r\n```\r\nIn the sub module maven dependency folder I&#39;m able to see this complete package and class\r\n```org.springframework.jdbc.support.rowset.SqlRowSet```\r\n\r\nAny suggestions would be helpful.","title":"Upgrading Spring Project from 4.2.3.RELEASE to 6.0.4","body":"<p>I'm trying to upgrade my multi module old spring project. Current version is 4.2.3.RELESE and I'm trying to upgrade to latest version 6.0.4.</p>\n<p>I'm upgrading all the spring dependencies like spring-bean, spring-context, spring-jdbc, spring-orm etc.</p>\n<p>after upgrading when I try to build the project, I'm getting the compilation error which means cannot import/access <strong>SqlRowSet</strong> from spring-jdbc:</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] Project-Name\\src\\main\\java\\com\\rest\\retest\\entity\\ads\\Test.java:[6,46] error: cannot access SqlRowSet\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO]\n</code></pre>\n<p>Here are my imports</p>\n<pre><code>import org.springframework.jdbc.support.rowset.SqlRowSet;\nimport org.springframework.jdbc.support.rowset.SqlRowSetMetaData;\n\npublic abstract class Iterator {\n\n    protected SqlRowSet rowSet;\n\n    public void setSqlRowSet(SqlRowSet rowSet) {\n        this.rowSet = rowSet;\n\n        SqlRowSetMetaData metaData = rowSet.getMetaData();\n\n        String[] columnNames = metaData.getColumnNames();\n\n        setIndexes(columnNames);\n    }\n}\n\n</code></pre>\n<p>In the sub module maven dependency folder I'm able to see this complete package and class\n<code>org.springframework.jdbc.support.rowset.SqlRowSet</code></p>\n<p>Any suggestions would be helpful.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","oracle19c"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1674145430,"post_id":75175257,"comment_id":132656879,"body_markdown":"remove column name id and default from the query, that should work","body":"remove column name id and default from the query, that should work"},{"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"score":0,"creation_date":1674145690,"post_id":75175257,"comment_id":132656976,"body_markdown":"JPA is generating the query, I have no control. I am looking if JPA has any option to exclude identity column from Entity while generating query.","body":"JPA is generating the query, I have no control. I am looking if JPA has any option to exclude identity column from Entity while generating query."},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1674146635,"post_id":75175257,"comment_id":132657306,"body_markdown":"Does this answer your question? [what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?](https://stackoverflow.com/questions/20603638/what-is-the-use-of-annotations-id-and-generatedvaluestrategy-generationtype)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20603638/what-is-the-use-of-annotations-id-and-generatedvaluestrategy-generationtype\">what is the use of annotations @Id and @GeneratedValue(strategy = GenerationType.IDENTITY)? Why the generationtype is identity?</a>"},{"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"score":0,"creation_date":1674147832,"post_id":75175257,"comment_id":132657814,"body_markdown":"Yes, It(Sequence Generation Startegy) works. But unfortunately I can not use this.","body":"Yes, It(Sequence Generation Startegy) works. But unfortunately I can not use this."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1674172850,"post_id":75175257,"comment_id":132664509,"body_markdown":"This works with other providers - I&#39;m surprised Hibernate tries to insert &#39;default&#39; when it doesn&#39;t need to pass in anything. You might be able to write your own behavior as described here https://dnikiforov.wordpress.com/2015/02/14/oracle-12c-identity-and-popular-orms/ or try another provider. Alternatively, a different generation strategy would be better. Preallocation is generally better performance for batch inserts, and using something like a UUID generator means no fetching it from the DB at all.","body":"This works with other providers - I&#39;m surprised Hibernate tries to insert &#39;default&#39; when it doesn&#39;t need to pass in anything. You might be able to write your own behavior as described here <a href=\"https://dnikiforov.wordpress.com/2015/02/14/oracle-12c-identity-and-popular-orms/\" rel=\"nofollow noreferrer\">dnikiforov.wordpress.com/2015/02/14/&hellip;</a> or try another provider. Alternatively, a different generation strategy would be better. Preallocation is generally better performance for batch inserts, and using something like a UUID generator means no fetching it from the DB at all."}],"answers":[{"comments":[{"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"score":0,"creation_date":1674147736,"post_id":75175634,"comment_id":132657773,"body_markdown":"This does not work with view(In Oracle DB). Getting below exception.\n\n&#39;ORA-32575: Explicit column default is not supported for modifying views&#39;","body":"This does not work with view(In Oracle DB). Getting below exception.  &#39;ORA-32575: Explicit column default is not supported for modifying views&#39;"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1674147842,"post_id":75175634,"comment_id":132657817,"body_markdown":"Wait, so you&#39;re saying that your problem is a limitation of Oracle, and nothing at all to do with Hibernate?","body":"Wait, so you&#39;re saying that your problem is a limitation of Oracle, and nothing at all to do with Hibernate?"},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1674148250,"post_id":75175634,"comment_id":132657975,"body_markdown":"Perhaps if you can first figure out what *SQL* works for inserting into this view, *then* we can help you figure out how to generate that SQL using Hibernate.","body":"Perhaps if you can first figure out what <i>SQL</i> works for inserting into this view, <i>then</i> we can help you figure out how to generate that SQL using Hibernate."},{"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"score":0,"creation_date":1674148667,"post_id":75175634,"comment_id":132658101,"body_markdown":"Yes, It can be limitation of Oracle which does not allow me to insert into a view. And I have no control over that.\n\nDo we have any way in JPA using which we can tell JPA to not to include the primary key column while generating insert statement?","body":"Yes, It can be limitation of Oracle which does not allow me to insert into a view. And I have no control over that.  Do we have any way in JPA using which we can tell JPA to not to include the primary key column while generating insert statement?"},{"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"score":0,"creation_date":1674148783,"post_id":75175634,"comment_id":132658145,"body_markdown":"insert into home_view(email, first_name, last_name) values (&#39;abc@gmail.com&#39;,&#39;abc&#39;,&#39;xyz&#39;);\n\nThe above SQL works for inserting into view.","body":"insert into home_view(email, first_name, last_name) values (&#39;abc@gmail.com&#39;,&#39;abc&#39;,&#39;xyz&#39;);  The above SQL works for inserting into view."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674159156,"creation_date":1674146939,"answer_id":75175634,"question_id":75175257,"body_markdown":"Use:\r\n\r\n```\r\n@Id @GeneratedValue(strategy=IDENTITY)\r\nLong id;\r\n```\r\n\r\nUPDATE: For a _view_ on Oracle, use:\r\n\r\n- `@Id @Generated` in Hibernate 6.2 (soon to be released), or\r\n- the `SelectGenerator`, in either Hibernate 5 or 6.\r\n\r\nBut note that you will have to identify a `@NaturalId` of your entity, since otherwise Hibernate has no way of locating the just-inserted row to retrieve the generated id.\r\n\r\nIn your case, the natural id is the email address, I suppose.","title":"ORA-32795: cannot insert into a generated always identity column | Hibernate ORM","body":"<p>Use:</p>\n<pre><code>@Id @GeneratedValue(strategy=IDENTITY)\nLong id;\n</code></pre>\n<p>UPDATE: For a <em>view</em> on Oracle, use:</p>\n<ul>\n<li><code>@Id @Generated</code> in Hibernate 6.2 (soon to be released), or</li>\n<li>the <code>SelectGenerator</code>, in either Hibernate 5 or 6.</li>\n</ul>\n<p>But note that you will have to identify a <code>@NaturalId</code> of your entity, since otherwise Hibernate has no way of locating the just-inserted row to retrieve the generated id.</p>\n<p>In your case, the natural id is the email address, I suppose.</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675360825,"creation_date":1675360825,"answer_id":75327192,"question_id":75175257,"body_markdown":"Oracle only supports identity columns as of version 12. You didn&#39;t mention which version you are using, but I guess this is the reason for the Oracle error. Either way, Oracle just recently stopped supporting versions older than 19c, so either you update or you have to use a different generation strategy i.e. sequence, table or uuid.","title":"ORA-32795: cannot insert into a generated always identity column | Hibernate ORM","body":"<p>Oracle only supports identity columns as of version 12. You didn't mention which version you are using, but I guess this is the reason for the Oracle error. Either way, Oracle just recently stopped supporting versions older than 19c, so either you update or you have to use a different generation strategy i.e. sequence, table or uuid.</p>\n"}],"owner":{"account_id":13437089,"reputation":1,"user_id":9695235,"display_name":"pranav tiwari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675362060,"creation_date":1674145205,"question_id":75175257,"body_markdown":"I am trying to insert in a oracle view using JPA. JPA generates below SQL statement-\r\n```\r\ninsert into home_view (id, email, first_name, last_name) values (default, ?, ?, ?)\r\n```\r\nAnd when it executes query, Oracle DB throws below error-\r\n\r\n```\r\nORA-32575: Explicit column default is not supported for modifying views\r\n```\r\n\r\nAs per my understanding above query can not work with view because we can not insert into a view if its underlying table column is IDENTITY column.\r\n\r\nDo we have any option in hibernate which helps exclusion of identity column while saving object to DB?\r\n\r\nNote- I do not want to use raw SQL statement to insert my object.\r\n\r\nI used GenerationType.SEQUENCE strategy and it is working fine, but only problem is I have to provide sequence name. I do not want to provide hard coded sequence name in Java Entity.\r\n\r\nThanks for your help!","title":"ORA-32795: cannot insert into a generated always identity column | Hibernate ORM","body":"<p>I am trying to insert in a oracle view using JPA. JPA generates below SQL statement-</p>\n<pre><code>insert into home_view (id, email, first_name, last_name) values (default, ?, ?, ?)\n</code></pre>\n<p>And when it executes query, Oracle DB throws below error-</p>\n<pre><code>ORA-32575: Explicit column default is not supported for modifying views\n</code></pre>\n<p>As per my understanding above query can not work with view because we can not insert into a view if its underlying table column is IDENTITY column.</p>\n<p>Do we have any option in hibernate which helps exclusion of identity column while saving object to DB?</p>\n<p>Note- I do not want to use raw SQL statement to insert my object.</p>\n<p>I used GenerationType.SEQUENCE strategy and it is working fine, but only problem is I have to provide sequence name. I do not want to provide hard coded sequence name in Java Entity.</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","multithreading","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1675362686,"post_id":75327373,"comment_id":132918211,"body_markdown":"Don&#39;t use a while loop with a Thread.sleep(...) on the Event Dispatch Thread (EDT). This  prevents the GUI from repainting itself until the loop is finished. Instead you can use the looping/sleeping code in a `SwingWorker` and &quot;publish&quot; results for display in the editor pane. Read the section from the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information.","body":"Don&#39;t use a while loop with a Thread.sleep(...) on the Event Dispatch Thread (EDT). This  prevents the GUI from repainting itself until the loop is finished. Instead you can use the looping/sleeping code in a <code>SwingWorker</code> and &quot;publish&quot; results for display in the editor pane. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information."},{"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"score":1,"creation_date":1675363366,"post_id":75327373,"comment_id":132918423,"body_markdown":"Thanks! Did not know about SwingWorkers. Got it to work with a worker!","body":"Thanks! Did not know about SwingWorkers. Got it to work with a worker!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675373685,"post_id":75327373,"comment_id":132921213,"body_markdown":"@smilly Good to hear you solved it. Now you can post and accept an Answer to your own Question for posterity.","body":"@smilly Good to hear you solved it. Now you can post and accept an Answer to your own Question for posterity."}],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675361925,"creation_date":1675361925,"question_id":75327373,"body_markdown":"I am working on a GUI program that has a &quot;start&quot; button and when pressed it starts a botThread and the start button turns into a stop button. Pretty simple so far.\r\n\r\nNow when I press on stop, I want my EditorPane to look like this:\r\n\r\n    19:10:40.027 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...\r\n    19:10:41.096 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(1s)\r\n    19:10:42.099 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(2s)\r\n    19:10:43.158 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(3s)\r\n    19:10:44.160 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(4s)\r\n    19:10:45.106 [AWT-EventQueue-0] INFO  bot.StartStopListener - Bot stopped\r\nThe above output is from my console where everything works fine. Every second it prints a new line.\r\n\r\nOn my EditorPane, there are no lines printed every second. They get printed all at once when the botThread is dead.\r\n\r\nWhy is that the case?\r\nHere is the code that gets executed when the stop button is pressed:\r\n\r\n    stop = true;\r\n    settingsPanel.getStartButton().setEnabled(false);\r\n    LOGGER.info(&quot;Stopping bot...&quot;);\r\n\r\n    //wait for the bot thread to die\r\n    SwingUtilities.invokeLater(() -&gt; {\r\n        long last = System.currentTimeMillis();\r\n        int seconds = 0;\r\n        while(botThread.isAlive()){\r\n            try {\r\n                long now = System.currentTimeMillis();\r\n                if(now-last &gt; 1000){\r\n                    seconds++;\r\n                    last = now;\r\n                    LOGGER.info(String.format(&quot;Stopping bot...(%ds)&quot;, seconds));\r\n                }\r\n                Thread.sleep(50);\r\n            } catch (InterruptedException ex) {\r\n                LOGGER.error(&quot;BotThread Interrupted&quot;);\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n        LOGGER.info(&quot;Bot stopped&quot;);\r\n    });\r\n\r\nFor the logging on the Editorpane, there is this line in my logback.xml:\r\n\r\n    &lt;appender name=&quot;TEXTAREA&quot; class=&quot;io.logging.EditorPaneAppender&quot;/&gt;\r\n\r\nI do not know if this is necessary, but also here is my EditorPaneAppender class:\r\n\r\n    public class EditorPaneAppender extends AppenderBase&lt;ILoggingEvent&gt; {\r\n    \r\n        private final static SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n        public final static JEditorPane editorPane;\r\n    \r\n        static{\r\n            editorPane = new JEditorPane();\r\n            editorPane.setEditorKit(JEditorPane.createEditorKitForContentType(&quot;text/html&quot;));\r\n            editorPane.setEditable(false);\r\n        }\r\n    \r\n        @Override\r\n        protected void append(final ILoggingEvent e) {\r\n            String txt = editorPane.getText();\r\n            txt = txt.replace(&quot;&lt;html&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/html&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;body&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/body&gt;&quot;,&quot;&quot;) // im too lazy to do it properly\r\n                    .replace(&quot;&lt;head&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/head&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;p style=\\&quot;margin-top: 0\\&quot;&gt;&quot;,&quot;&quot;)\r\n                    .replace(&quot;&lt;/p&gt;&quot;,&quot;&quot;);\r\n    \r\n    \r\n            String colored_level_template = switch (e.getLevel().toInt()) {\r\n                case 20000 -&gt; //info\r\n                        &quot;&lt;span style=\\&quot;color:2259E3FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\r\n                case 30000 -&gt; //warn\r\n                        &quot;&lt;span style=\\&quot;color:E38E0AFF\\&quot;&gt;%s&lt;/span&gt;&quot;;\r\n                case 40000 -&gt; //error\r\n                        &quot;&lt;span style=\\&quot;color:E71019FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\r\n                default -&gt; &quot;&quot;;\r\n            };\r\n    \r\n            editorPane.setText(txt + String.format(&quot;&lt;span&gt;[%s]&lt;/span&gt; %s - %s&quot;\r\n                    , sdf.format(new Date(e.getTimeStamp()))\r\n                    , String.format(colored_level_template, e.getLevel())\r\n                    , e.getFormattedMessage()) + &quot;&lt;br&gt;&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to log the time it takes for a thread to die on a swing EditorPane each second?","body":"<p>I am working on a GUI program that has a &quot;start&quot; button and when pressed it starts a botThread and the start button turns into a stop button. Pretty simple so far.</p>\n<p>Now when I press on stop, I want my EditorPane to look like this:</p>\n<pre><code>19:10:40.027 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...\n19:10:41.096 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(1s)\n19:10:42.099 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(2s)\n19:10:43.158 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(3s)\n19:10:44.160 [AWT-EventQueue-0] INFO  bot.StartStopListener - Stopping bot...(4s)\n19:10:45.106 [AWT-EventQueue-0] INFO  bot.StartStopListener - Bot stopped\n</code></pre>\n<p>The above output is from my console where everything works fine. Every second it prints a new line.</p>\n<p>On my EditorPane, there are no lines printed every second. They get printed all at once when the botThread is dead.</p>\n<p>Why is that the case?\nHere is the code that gets executed when the stop button is pressed:</p>\n<pre><code>stop = true;\nsettingsPanel.getStartButton().setEnabled(false);\nLOGGER.info(&quot;Stopping bot...&quot;);\n\n//wait for the bot thread to die\nSwingUtilities.invokeLater(() -&gt; {\n    long last = System.currentTimeMillis();\n    int seconds = 0;\n    while(botThread.isAlive()){\n        try {\n            long now = System.currentTimeMillis();\n            if(now-last &gt; 1000){\n                seconds++;\n                last = now;\n                LOGGER.info(String.format(&quot;Stopping bot...(%ds)&quot;, seconds));\n            }\n            Thread.sleep(50);\n        } catch (InterruptedException ex) {\n            LOGGER.error(&quot;BotThread Interrupted&quot;);\n            throw new RuntimeException(ex);\n        }\n    }\n    LOGGER.info(&quot;Bot stopped&quot;);\n});\n</code></pre>\n<p>For the logging on the Editorpane, there is this line in my logback.xml:</p>\n<pre><code>&lt;appender name=&quot;TEXTAREA&quot; class=&quot;io.logging.EditorPaneAppender&quot;/&gt;\n</code></pre>\n<p>I do not know if this is necessary, but also here is my EditorPaneAppender class:</p>\n<pre><code>public class EditorPaneAppender extends AppenderBase&lt;ILoggingEvent&gt; {\n\n    private final static SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    public final static JEditorPane editorPane;\n\n    static{\n        editorPane = new JEditorPane();\n        editorPane.setEditorKit(JEditorPane.createEditorKitForContentType(&quot;text/html&quot;));\n        editorPane.setEditable(false);\n    }\n\n    @Override\n    protected void append(final ILoggingEvent e) {\n        String txt = editorPane.getText();\n        txt = txt.replace(&quot;&lt;html&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/html&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;body&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/body&gt;&quot;,&quot;&quot;) // im too lazy to do it properly\n                .replace(&quot;&lt;head&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/head&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;p style=\\&quot;margin-top: 0\\&quot;&gt;&quot;,&quot;&quot;)\n                .replace(&quot;&lt;/p&gt;&quot;,&quot;&quot;);\n\n\n        String colored_level_template = switch (e.getLevel().toInt()) {\n            case 20000 -&gt; //info\n                    &quot;&lt;span style=\\&quot;color:2259E3FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\n            case 30000 -&gt; //warn\n                    &quot;&lt;span style=\\&quot;color:E38E0AFF\\&quot;&gt;%s&lt;/span&gt;&quot;;\n            case 40000 -&gt; //error\n                    &quot;&lt;span style=\\&quot;color:E71019FF\\&quot;&gt;%s&lt;/span&gt;&quot;;\n            default -&gt; &quot;&quot;;\n        };\n\n        editorPane.setText(txt + String.format(&quot;&lt;span&gt;[%s]&lt;/span&gt; %s - %s&quot;\n                , sdf.format(new Date(e.getTimeStamp()))\n                , String.format(colored_level_template, e.getLevel())\n                , e.getFormattedMessage()) + &quot;&lt;br&gt;&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","triggers","h2"],"comments":[{"owner":{"account_id":264385,"reputation":108,"user_id":550633,"display_name":"Erwan Leroux"},"score":0,"creation_date":1676207313,"post_id":75327356,"comment_id":133087087,"body_markdown":"I couldn&#39;t reproduce the error using your code using H2 2.1.214, which version of H2 are you on ?","body":"I couldn&#39;t reproduce the error using your code using H2 2.1.214, which version of H2 are you on ?"},{"owner":{"account_id":6566530,"reputation":11,"user_id":14734784,"display_name":"Rodrigo Bittencourt de Lima"},"score":0,"creation_date":1676290109,"post_id":75327356,"comment_id":133101013,"body_markdown":"@ErwanLeroux thanks for the reply. I&#39;m using H2 2.1.210. At the moment I&#39;m trying another solution without H2 trigger, due to project&#39;s urgency.","body":"@ErwanLeroux thanks for the reply. I&#39;m using H2 2.1.210. At the moment I&#39;m trying another solution without H2 trigger, due to project&#39;s urgency."}],"owner":{"account_id":6566530,"reputation":11,"user_id":14734784,"display_name":"Rodrigo Bittencourt de Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675361812,"creation_date":1675361812,"question_id":75327356,"body_markdown":"I need to run insert operations inside a H2 db view. So I created a trigger based on the sample *h2/src/test/org/h2/samples/UpdatableView.java*. Unfortunately when I try to use the trigger, a error *H2Trigger cannot be cast to org.h2.api.Trigger* occurs. Below is the code used:\r\n\r\n```\r\nimport org.h2.tools.TriggerAdapter;\r\n\r\npublic class H2Trigger extends TriggerAdapter {\r\n\r\nprivate PreparedStatement prepDelete, prepInsert;\r\n\r\n@Override\r\npublic void init(Connection conn, String schemaName, String triggerName, String tableName, boolean before, int type)\r\n\t\tthrows SQLException {\r\n\tprepDelete = conn.prepareStatement(&quot;DELETE FROM H2_TABLE WHERE ID = ?&quot;);\r\n\tprepInsert = conn.prepareStatement(&quot;SELECT * FROM FINAL TABLE(INSERT INTO H2_TABLE VALUES (?, ?))&quot;);\r\n\tsuper.init(conn, schemaName, triggerName, tableName, before, type);\r\n}\r\n\r\n@Override\r\npublic void fire(Connection conn, ResultSet oldRow, ResultSet newRow) throws SQLException {\r\n\tif (oldRow != null &amp;&amp; oldRow.next()) {\r\n\t\tprepDelete.setLong(1, oldRow.getLong(1));\r\n\t\tprepDelete.execute();\r\n\t}\r\n\tif (newRow != null &amp;&amp; newRow.next()) {\r\n\t\tlong id = newRow.getLong(1);\r\n\t\tif (newRow.wasNull()) {\r\n\t\t\tprepInsert.setNull(1, Types.BIGINT);\r\n\t\t} else {\r\n\t\t\tprepInsert.setLong(1, id);\r\n\t\t}\r\n\t\tprepInsert.setString(2, newRow.getString(2));\r\n\t\ttry (ResultSet rs = prepInsert.executeQuery()) {\r\n\t\t\trs.next();\r\n\t\t\tnewRow.updateLong(1, rs.getLong(1));\r\n\t\t\tnewRow.updateString(2, rs.getString(2));\r\n\t\t\tnewRow.rowUpdated();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n@Override\r\npublic void close() throws SQLException {\r\n\tprepInsert.close();\r\n\tprepDelete.close();\r\n}\r\n\r\n}\r\n```\r\n\r\nAnd the trigger declaration:\r\n\r\n```\r\ntry (Connection conn = getDatasource().getConnection(); Statement stm = conn.createStatement()) {\r\n\r\nstm.execute(&quot;CREATE TRIGGER T_H2_VIEW INSTEAD OF INSERT, UPDATE, DELETE ON H2_VIEW FOR EACH ROW CALL \\&quot;&quot; + H2Trigger.class.getName() + &#39;&quot;&#39;);\r\n    stm.executeUpdate(&quot;INSERT INTO H2_VIEW ( SELECT * FROM H2_VIEW_2 )&quot;);\r\n\r\n}\r\n```\r\n\r\nDo you have any idea what the problem could be? Thanks in advance!\r\n\r\nI need to run insert operations inside a H2 db view. So I created a trigger based on the sample *h2/src/test/org/h2/samples/UpdatableView.java*. Unfortunately when I try to use the trigger, a error *H2Trigger cannot be cast to org.h2.api.Trigger* occurs.","title":"Cast error when trying to create a updatable view in H2","body":"<p>I need to run insert operations inside a H2 db view. So I created a trigger based on the sample <em>h2/src/test/org/h2/samples/UpdatableView.java</em>. Unfortunately when I try to use the trigger, a error <em>H2Trigger cannot be cast to org.h2.api.Trigger</em> occurs. Below is the code used:</p>\n<pre><code>import org.h2.tools.TriggerAdapter;\n\npublic class H2Trigger extends TriggerAdapter {\n\nprivate PreparedStatement prepDelete, prepInsert;\n\n@Override\npublic void init(Connection conn, String schemaName, String triggerName, String tableName, boolean before, int type)\n        throws SQLException {\n    prepDelete = conn.prepareStatement(&quot;DELETE FROM H2_TABLE WHERE ID = ?&quot;);\n    prepInsert = conn.prepareStatement(&quot;SELECT * FROM FINAL TABLE(INSERT INTO H2_TABLE VALUES (?, ?))&quot;);\n    super.init(conn, schemaName, triggerName, tableName, before, type);\n}\n\n@Override\npublic void fire(Connection conn, ResultSet oldRow, ResultSet newRow) throws SQLException {\n    if (oldRow != null &amp;&amp; oldRow.next()) {\n        prepDelete.setLong(1, oldRow.getLong(1));\n        prepDelete.execute();\n    }\n    if (newRow != null &amp;&amp; newRow.next()) {\n        long id = newRow.getLong(1);\n        if (newRow.wasNull()) {\n            prepInsert.setNull(1, Types.BIGINT);\n        } else {\n            prepInsert.setLong(1, id);\n        }\n        prepInsert.setString(2, newRow.getString(2));\n        try (ResultSet rs = prepInsert.executeQuery()) {\n            rs.next();\n            newRow.updateLong(1, rs.getLong(1));\n            newRow.updateString(2, rs.getString(2));\n            newRow.rowUpdated();\n        }\n    }\n}\n\n@Override\npublic void close() throws SQLException {\n    prepInsert.close();\n    prepDelete.close();\n}\n\n}\n</code></pre>\n<p>And the trigger declaration:</p>\n<pre><code>try (Connection conn = getDatasource().getConnection(); Statement stm = conn.createStatement()) {\n\nstm.execute(&quot;CREATE TRIGGER T_H2_VIEW INSTEAD OF INSERT, UPDATE, DELETE ON H2_VIEW FOR EACH ROW CALL \\&quot;&quot; + H2Trigger.class.getName() + '&quot;');\n    stm.executeUpdate(&quot;INSERT INTO H2_VIEW ( SELECT * FROM H2_VIEW_2 )&quot;);\n\n}\n</code></pre>\n<p>Do you have any idea what the problem could be? Thanks in advance!</p>\n<p>I need to run insert operations inside a H2 db view. So I created a trigger based on the sample <em>h2/src/test/org/h2/samples/UpdatableView.java</em>. Unfortunately when I try to use the trigger, a error <em>H2Trigger cannot be cast to org.h2.api.Trigger</em> occurs.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-mvc-test"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675344045,"post_id":75323783,"comment_id":132911430,"body_markdown":"this may be a duplicate, not sure: https://stackoverflow.com/questions/46212246/no-serializer-found-for-class-java-io-bytearrayinputstream","body":"this may be a duplicate, not sure: <a href=\"https://stackoverflow.com/questions/46212246/no-serializer-found-for-class-java-io-bytearrayinputstream\" title=\"no serializer found for class java io bytearrayinputstream\">stackoverflow.com/questions/46212246/&hellip;</a>"},{"owner":{"account_id":19820555,"reputation":1,"user_id":14517237,"display_name":"Nishant"},"score":0,"creation_date":1675344569,"post_id":75323783,"comment_id":132911640,"body_markdown":"no this has not worked for me","body":"no this has not worked for me"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675351563,"post_id":75323783,"comment_id":132914411,"body_markdown":"Please show us the complete stacktrace so that we can understand where the serialization is occurring.","body":"Please show us the complete stacktrace so that we can understand where the serialization is occurring."}],"owner":{"account_id":19820555,"reputation":1,"user_id":14517237,"display_name":"Nishant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675361653,"creation_date":1675343943,"question_id":75323783,"body_markdown":"I am trying to consume a rest api to upload a Multipart file. I have set MultipartFile in UploadFIleObject and I am sending the same to rest api. However when trying to invoke a rest API as below, I am getting error  No serializer found for class java.io.ByteArrayInputStream\r\n\r\n\r\n    public class UploadFileObject implements Serializable{\r\n    \r\n      MultipartFile file;\r\n    \r\n    //getters and setters\r\n    }\r\n\r\n    public void uploadFile() {\r\n    \r\n    Path path = Paths.get(&quot;C:/Accounts.txt&quot;);\r\n    byte[] content = null;\r\n    \r\n    try{\r\n        content =  Files.readAllBytes(path);   \r\n    } catch(final IOException e){\r\n    }\r\n    \r\n    MultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,&quot;ABC.txt&quot;,&quot;text/plain&quot;, content);\r\n        \r\n    UploadFileObject obj = new UploadFileObject();\r\n    obj.setFile(file)\r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n     headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    headers.set(MediaType.MULTIPART_FORM_DATA);\r\n    headers.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    headers.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\r\n    \r\n    HttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\r\n    \r\n    String result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\r\n    \r\n    }\r\n\r\nin application.yml\r\n\r\nI have set \r\n\r\n    spring.serialization.fail-on-empty-beans: false\r\n\r\nand in pom.xml I have below of version 2.12.3\r\n\r\n    jackson-annotation\r\n    jackson-core\r\n    jackson-databind\r\n    jackson-dataformat\r\n    jackson-dataformat-xml\r\n    }","title":"When trying to invoke a rest api to upload multipart file Getting error No serializer found for class java.io.ByteArrayInputStream?","body":"<p>I am trying to consume a rest api to upload a Multipart file. I have set MultipartFile in UploadFIleObject and I am sending the same to rest api. However when trying to invoke a rest API as below, I am getting error  No serializer found for class java.io.ByteArrayInputStream</p>\n<pre><code>public class UploadFileObject implements Serializable{\n\n  MultipartFile file;\n\n//getters and setters\n}\n\npublic void uploadFile() {\n\nPath path = Paths.get(&quot;C:/Accounts.txt&quot;);\nbyte[] content = null;\n\ntry{\n    content =  Files.readAllBytes(path);   \n} catch(final IOException e){\n}\n\nMultipartFile file = new MockMultipartFile(&quot;ABC.txt&quot;,&quot;ABC.txt&quot;,&quot;text/plain&quot;, content);\n    \nUploadFileObject obj = new UploadFileObject();\nobj.setFile(file)\n\nHttpHeaders headers = new HttpHeaders();\n headers.setContentType(MediaType.MULTIPART_FORM_DATA);\nheaders.set(MediaType.MULTIPART_FORM_DATA);\nheaders.setContentType(&quot;Accept&quot;, Mediatype.APPLICATION_JSON_VALUE);\nheaders.setContentType(&quot;Content-type&quot;, Mediatype.APPLICATION_JSON_VALUE);\n\nHttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(obj, headers);\n\nString result = getRestTemplate().postForEntity(&quot;url&quot;, requestEntity, String.class);\n\n}\n</code></pre>\n<p>in application.yml</p>\n<p>I have set</p>\n<pre><code>spring.serialization.fail-on-empty-beans: false\n</code></pre>\n<p>and in pom.xml I have below of version 2.12.3</p>\n<pre><code>jackson-annotation\njackson-core\njackson-databind\njackson-dataformat\njackson-dataformat-xml\n}\n</code></pre>\n"},{"tags":["java","date","datetime-format","epoch","datetime-conversion"],"comments":[{"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"score":0,"creation_date":1674766180,"post_id":75251007,"comment_id":132789175,"body_markdown":"Just a bit of a guess, but it seems like it would be a time zone offset value (maybe `ZZZZ`)","body":"Just a bit of a guess, but it seems like it would be a time zone offset value (maybe <code>ZZZZ</code>)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674768231,"post_id":75251007,"comment_id":132789711,"body_markdown":"*&quot;and then use a `java.text.SimpleDateFormat` instance to get the expected result&quot;* and, no, don&#39;t do that.  Instead make use of the newer and improved `java.time` APIs","body":"<i>&quot;and then use a <code>java.text.SimpleDateFormat</code> instance to get the expected result&quot;</i> and, no, don&#39;t do that.  Instead make use of the newer and improved <code>java.time</code> APIs"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674768427,"post_id":75251007,"comment_id":132789760,"body_markdown":"`new Date(16747622680000)` and again, no, don&#39;t do that.  Use `LocalDateTime.now()` or `ZonedDateTime.now()` instead","body":"<code>new Date(16747622680000)</code> and again, no, don&#39;t do that.  Use <code>LocalDateTime.now()</code> or <code>ZonedDateTime.now()</code> instead"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1674769794,"post_id":75251007,"comment_id":132790058,"body_markdown":"Did you really mean 14 digits in your example input of `16747622680000`? Or is that an typo, one too many zero digits on the end?","body":"Did you really mean 14 digits in your example input of <code>16747622680000</code>? Or is that an typo, one too many zero digits on the end?"}],"answers":[{"comments":[{"owner":{"account_id":2524784,"reputation":57,"user_id":2194358,"display_name":"user2194358"},"score":0,"creation_date":1674821454,"post_id":75252072,"comment_id":132799738,"body_markdown":"The count of milliseconds until 9999-12-31T00:00:00Z are 253402214400000. So we don&#39;t talk about a typo.","body":"The count of milliseconds until 9999-12-31T00:00:00Z are 253402214400000. So we don&#39;t talk about a typo."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675361268,"creation_date":1674770325,"answer_id":75252072,"question_id":75251007,"body_markdown":"# tl;dr\r\n\r\nThe `+0000` means an offset from UTC of zero hours-minutes-seconds.\r\n\r\n(Deleted last digit zero (`0`) of example input, presumed to be a typo)\r\n\r\n    Instant\r\n    .ofEpochMilli( \r\n        &quot;/Date(1674762268000)/&quot;.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; )\r\n    )\r\n    .toString()\r\n\r\nSee this [code run at IdeOne.com][2].\r\n\r\n&gt;2023-01-26T19:44:28Z\r\n\r\n&#128073; The `Z` on the end and the `+0000` seen in your Question, both mean an [**offset from UTC**][1] of zero hours-minutes-seconds.\r\n\r\n# *java.time*\r\n\r\n&gt; an instance of java.util.Date today = new Date(16747622680000); and then use a java.text.SimpleDateFormat\r\n\r\nNo, never use `Date` &amp; `SimpleDateFormat`. These classes are now legacy and are terribly flawed, designed by people who did not understand date-time handling. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n&gt; we have the date/time in epoch format &quot;/Date(16747622680000)/&quot; \r\n\r\nFirst, clean your input string to get only digits.\r\n\r\nAlso, I assume you made a typo, with an extra zero digit at the end. I removed that digit.\r\n\r\n```java\r\nString input = &quot;/Date(1674762268000)/&quot;;\r\nString inputDigits = input.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; );\r\nlong countFromEpoch1970Utc = Long.parseLong( inputDigits );\r\n```\r\n\r\nAt this point, we have a `long` integer number with the value 1_674_762_268_000L. \r\n\r\n&gt;countFromEpoch1970Utc = 1674762268000\r\n\r\nParse that number as a count of milliseconds since the epoch reference of the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, 1970-01-01T00:00Z. \r\n\r\n```java\r\nInstant instant = Instant.ofEpochMilli( countFromEpoch1970Utc );\r\n```\r\n\r\nSee this [code run at IdeOne.com][2].\r\n\r\n&gt;instant.toString(): 2023-01-26T19:44:28Z\r\n\r\n# ISO 8601\r\n\r\nThe text in the string `2023-01-26T19:44:28Z` is in a format defined by the [ISO 8601][3] standard. I suggest you educate the publisher of your data about the virtues of using only ISO 8601 formats when communicating date-time data textually.\r\n\r\n&#128073; The `Z` on the end is pronounced “Zulu”, and means an offset from UTC of zero hours-minutes-seconds. Another standard way to write an offset of zero is `+00:00`. The ISO 8601 standard permits omitting the COLON character, to get `+0000` as seen in your Question. \r\n\r\nI recommend always including the COLON character in an offset, as well as always including the leading padding zero when needed. While both are optional in the standard, I have seen multiple libraries and protocols that expect them.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [2]: https://ideone.com/Nh6MkJ\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to convert the date format &quot;/Date(253402214400000+0000)/&quot; into yyyyMMdd:hhmmss in Java?","body":"<h1>tl;dr</h1>\n<p>The <code>+0000</code> means an offset from UTC of zero hours-minutes-seconds.</p>\n<p>(Deleted last digit zero (<code>0</code>) of example input, presumed to be a typo)</p>\n<pre><code>Instant\n.ofEpochMilli( \n    &quot;/Date(1674762268000)/&quot;.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; )\n)\n.toString()\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Nh6MkJ\" rel=\"nofollow noreferrer\">code run at IdeOne.com</a>.</p>\n<blockquote>\n<p>2023-01-26T19:44:28Z</p>\n</blockquote>\n<p>👉 The <code>Z</code> on the end and the <code>+0000</code> seen in your Question, both mean an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\"><strong>offset from UTC</strong></a> of zero hours-minutes-seconds.</p>\n<h1><em>java.time</em></h1>\n<blockquote>\n<p>an instance of java.util.Date today = new Date(16747622680000); and then use a java.text.SimpleDateFormat</p>\n</blockquote>\n<p>No, never use <code>Date</code> &amp; <code>SimpleDateFormat</code>. These classes are now legacy and are terribly flawed, designed by people who did not understand date-time handling. They were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<blockquote>\n<p>we have the date/time in epoch format &quot;/Date(16747622680000)/&quot;</p>\n</blockquote>\n<p>First, clean your input string to get only digits.</p>\n<p>Also, I assume you made a typo, with an extra zero digit at the end. I removed that digit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;/Date(1674762268000)/&quot;;\nString inputDigits = input.replace( &quot;/&quot; , &quot;&quot; ).replace( &quot;Date(&quot; , &quot;&quot; ).replace( &quot;)&quot; , &quot;&quot; ).replace( &quot;/&quot; , &quot;&quot; );\nlong countFromEpoch1970Utc = Long.parseLong( inputDigits );\n</code></pre>\n<p>At this point, we have a <code>long</code> integer number with the value 1_674_762_268_000L.</p>\n<blockquote>\n<p>countFromEpoch1970Utc = 1674762268000</p>\n</blockquote>\n<p>Parse that number as a count of milliseconds since the epoch reference of the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, 1970-01-01T00:00Z.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant instant = Instant.ofEpochMilli( countFromEpoch1970Utc );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Nh6MkJ\" rel=\"nofollow noreferrer\">code run at IdeOne.com</a>.</p>\n<blockquote>\n<p>instant.toString(): 2023-01-26T19:44:28Z</p>\n</blockquote>\n<h1>ISO 8601</h1>\n<p>The text in the string <code>2023-01-26T19:44:28Z</code> is in a format defined by the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. I suggest you educate the publisher of your data about the virtues of using only ISO 8601 formats when communicating date-time data textually.</p>\n<p>👉 The <code>Z</code> on the end is pronounced “Zulu”, and means an offset from UTC of zero hours-minutes-seconds. Another standard way to write an offset of zero is <code>+00:00</code>. The ISO 8601 standard permits omitting the COLON character, to get <code>+0000</code> as seen in your Question.</p>\n<p>I recommend always including the COLON character in an offset, as well as always including the leading padding zero when needed. While both are optional in the standard, I have seen multiple libraries and protocols that expect them.</p>\n"}],"owner":{"account_id":2524784,"reputation":57,"user_id":2194358,"display_name":"user2194358"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674800584,"answer_count":1,"score":0,"last_activity_date":1675361268,"creation_date":1674762800,"question_id":75251007,"body_markdown":"Today we have the date/time in epoch format ```&quot;/Date(16747622680000)/&quot;``` which can be easy converted into yyyyMMdd:hhmmss when getting the digits as milliseconds from the String and pass it to an instance of ```java.util.Date today = new Date(16747622680000);``` and then use a ```java.text.SimpleDateFormat``` instance to get the expected result.\r\n\r\nBut what does the ```&quot;+0000&quot;``` in ```&quot;/Date(253402214400000+0000)/&quot;``` mean and how to convert that value?","title":"How to convert the date format &quot;/Date(253402214400000+0000)/&quot; into yyyyMMdd:hhmmss in Java?","body":"<p>Today we have the date/time in epoch format <code>&quot;/Date(16747622680000)/&quot;</code> which can be easy converted into yyyyMMdd:hhmmss when getting the digits as milliseconds from the String and pass it to an instance of <code>java.util.Date today = new Date(16747622680000);</code> and then use a <code>java.text.SimpleDateFormat</code> instance to get the expected result.</p>\n<p>But what does the <code>&quot;+0000&quot;</code> in <code>&quot;/Date(253402214400000+0000)/&quot;</code> mean and how to convert that value?</p>\n"},{"tags":["java","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675260562,"post_id":75310300,"comment_id":132890112,"body_markdown":"I think the answer to your question is here: https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api: the `&lt;int-jdbc:outbound-gateway&gt;` is what you need in your solution.","body":"I think the answer to your question is here: <a href=\"https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api\" title=\"how to invoke spring channel adapter from rest api\">stackoverflow.com/questions/75307260/&hellip;</a>: the <code>&lt;int-jdbc:outbound-gateway&gt;</code> is what you need in your solution."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675361144,"creation_date":1675361144,"answer_id":75327242,"question_id":75310300,"body_markdown":"See similar question here: https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api\r\n\r\nThe Inbound Channel Adapter is a thing by itself and it does its work via constant polling cycle. It just does not fit to your requirement. \r\n\r\nSince you say you&#39;d like to do something via REST call, then it is an event-driven by end-user action. Therefore you need to look into a `&lt;int-jdbc:outbound-gateway&gt;` instead which is going to receive a message via its `input-channel` and do some DB action and produce a reply for you. \r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway.\r\n\r\nIn addition you may look into a `@MessagingGateway` contract to not deal with channels in your REST controller: https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway","title":"How to write jdbc inbound channel adapter programmatically to read data from DB and pass to output channel?","body":"<p>See similar question here: <a href=\"https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api\">How to invoke Spring channel adapter from rest api?</a></p>\n<p>The Inbound Channel Adapter is a thing by itself and it does its work via constant polling cycle. It just does not fit to your requirement.</p>\n<p>Since you say you'd like to do something via REST call, then it is an event-driven by end-user action. Therefore you need to look into a <code>&lt;int-jdbc:outbound-gateway&gt;</code> instead which is going to receive a message via its <code>input-channel</code> and do some DB action and produce a reply for you.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-outbound-gateway</a>.</p>\n<p>In addition you may look into a <code>@MessagingGateway</code> contract to not deal with channels in your REST controller: <a href=\"https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/messaging-endpoints.html#gateway</a></p>\n"}],"owner":{"account_id":20547205,"reputation":31,"user_id":15080722,"display_name":"sammy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675361144,"creation_date":1675255076,"question_id":75310300,"body_markdown":"I am new to spring integration and i want to write the below flow programmatically\r\n\r\nI have below inbound channel adapter in which I query the DB and passing it to OutChannel\r\nand from OutChannel to AccountOutputChannel. AccountOutputChannel has refernce of a class which calls onMessage when message is available on AccountOutputChannel\r\n\r\nHow can I do this all programmatically\r\n\r\n    &lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\r\n                                          channel=&quot;OutChannel&quot;\r\n                                          data-source=&quot;dataSource&quot;\r\n                                          query=&quot;SELECT * FROM Accounts&quot;\r\n                                          max-rows-per-poll=&quot;100&quot;\r\n                                          row-mapper=&quot;AccountRowMapper&quot;&gt;\r\n            &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\r\n        &lt;/int-jdbc:inbound-channel-adapter&gt;\r\n    \r\n    &lt;int:channel id=&quot;OutChannel&quot;/&gt;\r\n    \r\n    &lt;int:bridge input-channel=&quot;OutChannel&quot; output-channel=&quot;AccountOutputChannel&quot;/&gt;\r\n    \r\n    &lt;int:channel id=&quot;AccountOutputChannel&quot;&gt;\r\n       &lt;int:dispatcher task-executor=&quot;executorPool&quot;/&gt;\r\n    &lt;/int:channel&gt;\r\n    \r\n    &lt;int:service-activator input-channel=&quot;AccountOutputChannel&quot; ref=&quot;AccountService&quot; method=&quot;onMessage&quot;/&gt;","title":"How to write jdbc inbound channel adapter programmatically to read data from DB and pass to output channel?","body":"<p>I am new to spring integration and i want to write the below flow programmatically</p>\n<p>I have below inbound channel adapter in which I query the DB and passing it to OutChannel\nand from OutChannel to AccountOutputChannel. AccountOutputChannel has refernce of a class which calls onMessage when message is available on AccountOutputChannel</p>\n<p>How can I do this all programmatically</p>\n<pre><code>&lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\n                                      channel=&quot;OutChannel&quot;\n                                      data-source=&quot;dataSource&quot;\n                                      query=&quot;SELECT * FROM Accounts&quot;\n                                      max-rows-per-poll=&quot;100&quot;\n                                      row-mapper=&quot;AccountRowMapper&quot;&gt;\n        &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\n    &lt;/int-jdbc:inbound-channel-adapter&gt;\n\n&lt;int:channel id=&quot;OutChannel&quot;/&gt;\n\n&lt;int:bridge input-channel=&quot;OutChannel&quot; output-channel=&quot;AccountOutputChannel&quot;/&gt;\n\n&lt;int:channel id=&quot;AccountOutputChannel&quot;&gt;\n   &lt;int:dispatcher task-executor=&quot;executorPool&quot;/&gt;\n&lt;/int:channel&gt;\n\n&lt;int:service-activator input-channel=&quot;AccountOutputChannel&quot; ref=&quot;AccountService&quot; method=&quot;onMessage&quot;/&gt;\n</code></pre>\n"},{"tags":["java","algorithm","montecarlo","union-find"],"answers":[{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1675361496,"post_id":75327234,"comment_id":132917869,"body_markdown":"Also note that gridMap and some other fields are declared `static` - so should not be initialised in a contructor. It looks like they should be declarated as instance members.","body":"Also note that gridMap and some other fields are declared <code>static</code> - so should not be initialised in a contructor. It looks like they should be declarated as instance members."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675361109,"creation_date":1675361109,"answer_id":75327234,"question_id":75327007,"body_markdown":"You have not set `gridMap`, though it is mentioned in a method called `public int Percolation (int n)`. Perhaps you intended that `Percolation` is called from body of the constructor which you declared as `public percolation(int n)`. \r\n\r\nThe fix should be simple: move the `public int Percolation (int n)` code into the constructor or make constructor `public percolation(int n)` call `Percolation(n)`.\r\n\r\nThe class should follow conventions and renamed to `Percolation`.\r\n\r\n","title":"percolation problem (java -cannot run appropriately)","body":"<p>You have not set <code>gridMap</code>, though it is mentioned in a method called <code>public int Percolation (int n)</code>. Perhaps you intended that <code>Percolation</code> is called from body of the constructor which you declared as <code>public percolation(int n)</code>.</p>\n<p>The fix should be simple: move the <code>public int Percolation (int n)</code> code into the constructor or make constructor <code>public percolation(int n)</code> call <code>Percolation(n)</code>.</p>\n<p>The class should follow conventions and renamed to <code>Percolation</code>.</p>\n"}],"owner":{"account_id":26560981,"reputation":3,"user_id":20313875,"display_name":"DTJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327234,"answer_count":1,"score":0,"last_activity_date":1675361109,"creation_date":1675359765,"question_id":75327007,"body_markdown":"I have a problem relating to the percolation model with the latest version of Java\r\n\r\nMy project includes three file a illegalargumentexception.java file (use to handle illegal arguments), a percolation.java file (the datatype), and the PercolationStats.java file (use to calculate and generate the statistic)\r\n\r\nIn my expectation, the code should generate the probability of the percolated model (after a specific time of trials)\r\n\r\nAnd here is my code:\r\n\r\nthe percolation datatype:\r\n\r\n```\r\nimport edu.princeton.cs.algs4.WeightedQuickUnionUF;\r\n\r\npublic class percolation {\r\n      \r\n    public static boolean[] grid;                        \r\n    public static WeightedQuickUnionUF  gridMap  ;                            \r\n    public static int openCell;              \r\n    public static int top = 0;       \r\n    private static int current_index;\r\n    public int bottom;\r\n    private int n;\r\n    public percolation(int n) {\r\n    }\r\n\r\n    // creates n-by-n grid, with all sites initially blocked \r\n    public int Percolation (int n) {  \r\n       \r\n        gridMap = new WeightedQuickUnionUF(n*n + 2);\r\n        grid = new boolean[n*n + 2];\r\n        this.n =n;\r\n         openCell = 0;\r\n        top = 0;\r\n        bottom = n*n +1;\r\n        if (n &lt;=0) {\r\n            throw new IllegalArgumentException(&quot;Grid&#39;s number can not negative or equal to zero&quot;);\r\n        }\r\n        return n ;\r\n    }\r\n    \r\n    // opens the site (row, col) if it is not open already \r\n    public void open( int row, int col) {\r\n        current_index = (row-1)*n + (col-1);\r\n        grid[percolation.current_index] = true;\r\n        percolation.openCell++;\r\n        if (row == 1) \r\n            gridMap.union(percolation.current_index, top);\r\n        if(row == this.n) \r\n            gridMap.union(current_index, col);\r\n        \r\n\r\n        if (row &gt; this.n || col &gt; this.n)\r\n            throw new IllegalArgumentException(&quot;Out of bound&quot;);\r\n    \r\n        if (row &lt;1 || col &lt;1)\r\n            throw new IllegalArgumentException(&quot;The index must be greater than zero&quot;);\r\n        \r\n        if(row &gt;1 &amp;&amp; isOpen(row-1, col)) // above cell\r\n         {\r\n            assert(current_index &gt; n);\r\n            gridMap.union(current_index,current_index-n);\r\n        }\r\n\r\n\r\n        if (row &lt; this.n &amp;&amp; isOpen(row + 1 , col))  // below cell     \r\n        {                                       \r\n            assert(current_index + n &lt; n * n);                                       \r\n            gridMap.union(current_index , current_index + n);                                   \r\n            }\r\n        if(col &gt; 1 &amp;&amp; isOpen(row, col - 1))  //left cell\r\n            {                                       \r\n            gridMap.union(current_index,current_index- 1);                                   \r\n                }\r\n        if(col &lt; this.n &amp;&amp; isOpen(row, col + 1))  //right cell\r\n         {\r\n            gridMap.union(current_index,current_index + 1);\r\n        }\r\n        \r\n        return ;\r\n    }\r\n\r\n    // is the site (row, col) open?\r\n    public boolean isOpen(int row, int col) {\r\n      return grid[current_index];\r\n    }\r\n\r\n    // is the site (row, col) full?\r\n    public boolean isFull(int row, int col) \r\n    {\r\n        if(!isOpen(row,col)) return false;                                                       \r\n        return gridMap.find(current_index) == gridMap.find(top);  \r\n\r\n    }\r\n        \r\n    public int numberOfOpenSites()  // returns the number of open sites \r\n    {\r\n        return percolation.openCell;\r\n    }\r\n\r\n    // does the system percolate?\r\n    public boolean percolates() {\r\n        return gridMap.find(top) == gridMap.find(bottom);\r\n       \r\n    }\r\n   \r\n    // test client (optional)\r\n    public static void main(String[] args) {\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\nthe PercolationStats.java file \r\n\r\n```\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport edu.princeton.cs.algs4.StdStats;\r\npublic class PercolationStats {\r\n  \r\n    \r\n   public static double[] result;\r\n   public static int trials;\r\n        // perform independent trials on an n-by-n grid\r\n        public PercolationStats(int n, int trials) {\r\n                \r\n           \r\n            double[] result = new double[trials];\r\n            int test_row ;\r\n            int test_col ;\r\n            for (int i=0; i &lt;trials; i++) {\r\n             percolation per =  new percolation(n);\r\n             while (!per.percolates()) {\r\n                test_row = (int)((StdRandom.uniformInt(n)*n) +1 );\r\n                test_col = (int)((StdRandom.uniformInt(n)*n) +1 );\r\n                \r\n                if( !per.isOpen(test_row,test_col) ) \r\n                    per.open(test_row,test_col);\r\n                \r\n             }\r\n             result[i] = (double)(per.numberOfOpenSites()) / (n * n);\r\n            }\r\n            \r\n                if(n &lt;= 0 || trials &lt;= 0) throw new IllegalArgumentException(&quot;Must greater than zero&quot;);\r\n        }\r\n    \r\n        // sample mean of percolation threshold\r\n        public double mean() {\r\n            \r\n            return StdStats.mean(result);\r\n\r\n        }\r\n    \r\n        // sample standard deviation of percolation threshold\r\n        public double stddev() {\r\n            return StdStats.stddev(result) ;\r\n\r\n        }\r\n    \r\n        // low endpoint of 95% confidence interval\r\n        public double Low_confidence() {\r\n            return (mean() - (1.96 * stddev())/ Math.sqrt(trials));\r\n\r\n        }\r\n    \r\n        // high endpoint of 95% confidence interval\r\n        public double High_confidenceHi() {\r\n            return mean() + (1.96 * stddev())/ Math.sqrt(trials);\r\n\r\n        }\r\n    \r\n       // test client (see below)\r\n       public static void main(String[] args) {\r\n        PercolationStats s = new PercolationStats(50,10000);\r\n        System.out.println(&quot;Mean:&quot; + s.mean());\r\n        System.out.println(&quot;Standard Deviation:&quot;+ s.stddev());\r\n        System.out.println(&quot;High Confidence&quot; + s.High_confidenceHi());\r\n        System.out.println(&quot;Low Confidence&quot; + s.Low_confidence());\r\n       }\r\n    \r\n    \r\n}\r\n```\r\n\r\n\r\nMy expectation is when I compile the PercolationStats file it will generate the result of the percolating probability threshold like this: (the result if you give the input 200 by 200 grid and try the simulation 100 times\r\n\r\n```\r\n~/Desktop/percolation&gt; java-algs4 PercolationStats 200 100\r\nmean                    = 0.5929934999999997\r\nstddev                  = 0.00876990421552567\r\n95% confidence interval = [0.5912745987737567, 0.5947124012262428]\r\n```\r\nbut my result is a bunch of errors that:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;edu.princeton.cs.algs4.WeightedQuickUnionUF.find(int)&quot; because &quot;percolation.gridMap&quot; is null\r\n        at percolation.percolates(percolation.java:93)\r\n        at PercolationStats.&lt;init&gt;(PercolationStats.java:17)\r\n        at PercolationStats.main(PercolationStats.java:58)\\\r\n```\r\nI believe this is to be caused by the percolate datatype, and to be more specific is the line:\r\n```\r\npublic boolean percolates() {\r\n        return gridMap.find(top) == gridMap.find(bottom);\r\n       \r\n    }\r\n```\r\nIt states that the gridMap variable of Union-Find is null - I don&#39;t know why this happens, I speculate this can relate to the scope of the &quot;gridMap&quot; variable, which is not applicable to all methods in the datatype. That is my hypothesis It could be wrong.\r\n\r\n\r\n**Can anyone give me a clue for why this happens and what should I fix for the successful compilation (I means to generate the probability)**\r\n\r\nThanks in advance!","title":"percolation problem (java -cannot run appropriately)","body":"<p>I have a problem relating to the percolation model with the latest version of Java</p>\n<p>My project includes three file a illegalargumentexception.java file (use to handle illegal arguments), a percolation.java file (the datatype), and the PercolationStats.java file (use to calculate and generate the statistic)</p>\n<p>In my expectation, the code should generate the probability of the percolated model (after a specific time of trials)</p>\n<p>And here is my code:</p>\n<p>the percolation datatype:</p>\n<pre><code>import edu.princeton.cs.algs4.WeightedQuickUnionUF;\n\npublic class percolation {\n      \n    public static boolean[] grid;                        \n    public static WeightedQuickUnionUF  gridMap  ;                            \n    public static int openCell;              \n    public static int top = 0;       \n    private static int current_index;\n    public int bottom;\n    private int n;\n    public percolation(int n) {\n    }\n\n    // creates n-by-n grid, with all sites initially blocked \n    public int Percolation (int n) {  \n       \n        gridMap = new WeightedQuickUnionUF(n*n + 2);\n        grid = new boolean[n*n + 2];\n        this.n =n;\n         openCell = 0;\n        top = 0;\n        bottom = n*n +1;\n        if (n &lt;=0) {\n            throw new IllegalArgumentException(&quot;Grid's number can not negative or equal to zero&quot;);\n        }\n        return n ;\n    }\n    \n    // opens the site (row, col) if it is not open already \n    public void open( int row, int col) {\n        current_index = (row-1)*n + (col-1);\n        grid[percolation.current_index] = true;\n        percolation.openCell++;\n        if (row == 1) \n            gridMap.union(percolation.current_index, top);\n        if(row == this.n) \n            gridMap.union(current_index, col);\n        \n\n        if (row &gt; this.n || col &gt; this.n)\n            throw new IllegalArgumentException(&quot;Out of bound&quot;);\n    \n        if (row &lt;1 || col &lt;1)\n            throw new IllegalArgumentException(&quot;The index must be greater than zero&quot;);\n        \n        if(row &gt;1 &amp;&amp; isOpen(row-1, col)) // above cell\n         {\n            assert(current_index &gt; n);\n            gridMap.union(current_index,current_index-n);\n        }\n\n\n        if (row &lt; this.n &amp;&amp; isOpen(row + 1 , col))  // below cell     \n        {                                       \n            assert(current_index + n &lt; n * n);                                       \n            gridMap.union(current_index , current_index + n);                                   \n            }\n        if(col &gt; 1 &amp;&amp; isOpen(row, col - 1))  //left cell\n            {                                       \n            gridMap.union(current_index,current_index- 1);                                   \n                }\n        if(col &lt; this.n &amp;&amp; isOpen(row, col + 1))  //right cell\n         {\n            gridMap.union(current_index,current_index + 1);\n        }\n        \n        return ;\n    }\n\n    // is the site (row, col) open?\n    public boolean isOpen(int row, int col) {\n      return grid[current_index];\n    }\n\n    // is the site (row, col) full?\n    public boolean isFull(int row, int col) \n    {\n        if(!isOpen(row,col)) return false;                                                       \n        return gridMap.find(current_index) == gridMap.find(top);  \n\n    }\n        \n    public int numberOfOpenSites()  // returns the number of open sites \n    {\n        return percolation.openCell;\n    }\n\n    // does the system percolate?\n    public boolean percolates() {\n        return gridMap.find(top) == gridMap.find(bottom);\n       \n    }\n   \n    // test client (optional)\n    public static void main(String[] args) {\n\n    }\n\n\n\n}\n</code></pre>\n<p>the PercolationStats.java file</p>\n<pre><code>import edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.StdStats;\npublic class PercolationStats {\n  \n    \n   public static double[] result;\n   public static int trials;\n        // perform independent trials on an n-by-n grid\n        public PercolationStats(int n, int trials) {\n                \n           \n            double[] result = new double[trials];\n            int test_row ;\n            int test_col ;\n            for (int i=0; i &lt;trials; i++) {\n             percolation per =  new percolation(n);\n             while (!per.percolates()) {\n                test_row = (int)((StdRandom.uniformInt(n)*n) +1 );\n                test_col = (int)((StdRandom.uniformInt(n)*n) +1 );\n                \n                if( !per.isOpen(test_row,test_col) ) \n                    per.open(test_row,test_col);\n                \n             }\n             result[i] = (double)(per.numberOfOpenSites()) / (n * n);\n            }\n            \n                if(n &lt;= 0 || trials &lt;= 0) throw new IllegalArgumentException(&quot;Must greater than zero&quot;);\n        }\n    \n        // sample mean of percolation threshold\n        public double mean() {\n            \n            return StdStats.mean(result);\n\n        }\n    \n        // sample standard deviation of percolation threshold\n        public double stddev() {\n            return StdStats.stddev(result) ;\n\n        }\n    \n        // low endpoint of 95% confidence interval\n        public double Low_confidence() {\n            return (mean() - (1.96 * stddev())/ Math.sqrt(trials));\n\n        }\n    \n        // high endpoint of 95% confidence interval\n        public double High_confidenceHi() {\n            return mean() + (1.96 * stddev())/ Math.sqrt(trials);\n\n        }\n    \n       // test client (see below)\n       public static void main(String[] args) {\n        PercolationStats s = new PercolationStats(50,10000);\n        System.out.println(&quot;Mean:&quot; + s.mean());\n        System.out.println(&quot;Standard Deviation:&quot;+ s.stddev());\n        System.out.println(&quot;High Confidence&quot; + s.High_confidenceHi());\n        System.out.println(&quot;Low Confidence&quot; + s.Low_confidence());\n       }\n    \n    \n}\n</code></pre>\n<p>My expectation is when I compile the PercolationStats file it will generate the result of the percolating probability threshold like this: (the result if you give the input 200 by 200 grid and try the simulation 100 times</p>\n<pre><code>~/Desktop/percolation&gt; java-algs4 PercolationStats 200 100\nmean                    = 0.5929934999999997\nstddev                  = 0.00876990421552567\n95% confidence interval = [0.5912745987737567, 0.5947124012262428]\n</code></pre>\n<p>but my result is a bunch of errors that:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;edu.princeton.cs.algs4.WeightedQuickUnionUF.find(int)&quot; because &quot;percolation.gridMap&quot; is null\n        at percolation.percolates(percolation.java:93)\n        at PercolationStats.&lt;init&gt;(PercolationStats.java:17)\n        at PercolationStats.main(PercolationStats.java:58)\\\n</code></pre>\n<p>I believe this is to be caused by the percolate datatype, and to be more specific is the line:</p>\n<pre><code>public boolean percolates() {\n        return gridMap.find(top) == gridMap.find(bottom);\n       \n    }\n</code></pre>\n<p>It states that the gridMap variable of Union-Find is null - I don't know why this happens, I speculate this can relate to the scope of the &quot;gridMap&quot; variable, which is not applicable to all methods in the datatype. That is my hypothesis It could be wrong.</p>\n<p><strong>Can anyone give me a clue for why this happens and what should I fix for the successful compilation (I means to generate the probability)</strong></p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"score":0,"creation_date":1268055325,"post_id":2401134,"comment_id":2381243,"body_markdown":"do you want the enum or the string to be the key?","body":"do you want the enum or the string to be the key?"},{"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"score":0,"creation_date":1293743619,"post_id":2401134,"comment_id":5009525,"body_markdown":"instead of all that reflection stuff, you can just do `klass.getEnumConstants()`","body":"instead of all that reflection stuff, you can just do <code>klass.getEnumConstants()</code>"}],"answers":[{"comments":[{"owner":{"account_id":67351,"reputation":2454,"user_id":197125,"accept_rate":85,"display_name":"vijay.shad"},"score":3,"creation_date":1268050820,"post_id":2401152,"comment_id":2380813,"body_markdown":"This is the very HARD way indeed. Don&#39;t there exists any thing out of box? There must be something........","body":"This is the very HARD way indeed. Don&#39;t there exists any thing out of box? There must be something........"},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1268051023,"post_id":2401152,"comment_id":2380830,"body_markdown":"@vijay.shad see my update. If you give more details in your question, you increase the chances of getting exactly what you are looking for :-)","body":"@vijay.shad see my update. If you give more details in your question, you increase the chances of getting exactly what you are looking for :-)"},{"owner":{"account_id":61169,"reputation":1527,"user_id":182462,"accept_rate":58,"display_name":"malaverdiere"},"score":0,"creation_date":1268052525,"post_id":2401152,"comment_id":2380986,"body_markdown":"There is no easier way given to you by Java... sorry","body":"There is no easier way given to you by Java... sorry"},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":0,"creation_date":1268053683,"post_id":2401152,"comment_id":2381073,"body_markdown":"How is a loop containing one line (three lines total including the closing brace if you use them) the &quot;very HARD way indeed&quot;?","body":"How is a loop containing one line (three lines total including the closing brace if you use them) the &quot;very HARD way indeed&quot;?"},{"owner":{"account_id":67351,"reputation":2454,"user_id":197125,"accept_rate":85,"display_name":"vijay.shad"},"score":0,"creation_date":1268059892,"post_id":2401152,"comment_id":2381851,"body_markdown":"The point is: I may need to come back to code and update the map; every time a user type is added in the enum. I have used enum to define my constants and I want to access then as a Map.","body":"The point is: I may need to come back to code and update the map; every time a user type is added in the enum. I have used enum to define my constants and I want to access then as a Map."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1268060250,"post_id":2401152,"comment_id":2381904,"body_markdown":"@vijay: **why** do you need it as a Map? Are you aware of the `valueOf()` method provided by all enums? What do you want to solve that&#39;s not solved by `UserType.valueOf(someString).getName()`?","body":"@vijay: <b>why</b> do you need it as a Map? Are you aware of the <code>valueOf()</code> method provided by all enums? What do you want to solve that&#39;s not solved by <code>UserType.valueOf(someString).getName()</code>?"},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":5,"creation_date":1268060435,"post_id":2401152,"comment_id":2381935,"body_markdown":"For clarification: Vijay&#39;s first comment is about an earlier version of my answer, which did not yet contain the second solution with the loop. I believe the latter version satisfies his requirement.","body":"For clarification: Vijay&#39;s first comment is about an earlier version of my answer, which did not yet contain the second solution with the loop. I believe the latter version satisfies his requirement."}],"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":7,"down_vote_count":2,"up_vote_count":25,"is_accepted":true,"score":23,"last_activity_date":1268050929,"creation_date":1268050519,"answer_id":2401152,"question_id":2401134,"body_markdown":"Provided you need to map from the textual values to the enum instances:\r\n\r\n    Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\r\n    map.put(RESELLER.getName(), RESELLER);\r\n    map.put(SERVICE_MANAGER.getName(), SERVICE_MANAGER);\r\n    map.put(HOST.getName(), HOST);\r\n\r\nor a more generic approach:\r\n\r\n    for (UserType userType : UserType.values()) {\r\n        map.put(userType.getName(), userType);\r\n    }\r\n","title":"Easiest way to get Enum in to Key Value pair","body":"<p>Provided you need to map from the textual values to the enum instances:</p>\n\n<pre><code>Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\nmap.put(RESELLER.getName(), RESELLER);\nmap.put(SERVICE_MANAGER.getName(), SERVICE_MANAGER);\nmap.put(HOST.getName(), HOST);\n</code></pre>\n\n<p>or a more generic approach:</p>\n\n<pre><code>for (UserType userType : UserType.values()) {\n    map.put(userType.getName(), userType);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1268050756,"creation_date":1268050756,"answer_id":2401178,"question_id":2401134,"body_markdown":"You could use the values() method on the enum, giving you all possible combinations, and put that in a map using the iterator.\r\n\r\n    Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\r\n    for (UserType userType : UserType.values()) {\r\n        map.put(userType.name(), userType);\r\n    }","title":"Easiest way to get Enum in to Key Value pair","body":"<p>You could use the values() method on the enum, giving you all possible combinations, and put that in a map using the iterator.</p>\n\n<pre><code>Map&lt;String, UserType&gt; map = new HashMap&lt;String, UserType&gt;();\nfor (UserType userType : UserType.values()) {\n    map.put(userType.name(), userType);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62777,"reputation":341,"user_id":186252,"display_name":"Lior Bornshtain"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1314097290,"creation_date":1314097290,"answer_id":7160002,"question_id":2401134,"body_markdown":"I think that the eaiest method for using an Enum as a key in a map is using an EnumMap http://download.oracle.com/javase/1,5.0/docs/api/java/util/EnumMap.html\r\n\r\n","title":"Easiest way to get Enum in to Key Value pair","body":"<p>I think that the eaiest method for using an Enum as a key in a map is using an EnumMap <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/util/EnumMap.html\" rel=\"nofollow\">http://download.oracle.com/javase/1,5.0/docs/api/java/util/EnumMap.html</a></p>\n"},{"tags":[],"owner":{"account_id":4233984,"reputation":1840,"user_id":3465683,"display_name":"Rinor"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1550154019,"creation_date":1550154019,"answer_id":54692594,"question_id":2401134,"body_markdown":"Java 8 way:\r\n\r\n    Arrays.stream(UserType.values())\r\n          .collect(Collectors.toMap(UserType::getName, Function.identity()))\r\n\r\nUnderstandably store it in a variable :)","title":"Easiest way to get Enum in to Key Value pair","body":"<p>Java 8 way:</p>\n\n<pre><code>Arrays.stream(UserType.values())\n      .collect(Collectors.toMap(UserType::getName, Function.identity()))\n</code></pre>\n\n<p>Understandably store it in a variable :)</p>\n"},{"tags":[],"owner":{"account_id":5764642,"reputation":1732,"user_id":4549952,"display_name":"Chamin Wickramarathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621740678,"creation_date":1621740678,"answer_id":67655881,"question_id":2401134,"body_markdown":"You could use EnumMap which is a Map implementation that exclusively takes Enum as its keys.\r\n\r\n    EnumMap&lt;UserType, String&gt; activityMap = new EnumMap&lt;&gt;(UserType.class);\r\n\r\n&gt; However, EnumMap requires the key type in the constructor.\r\n\r\nReference: https://www.baeldung.com/java-enum-map","title":"Easiest way to get Enum in to Key Value pair","body":"<p>You could use EnumMap which is a Map implementation that exclusively takes Enum as its keys.</p>\n<pre><code>EnumMap&lt;UserType, String&gt; activityMap = new EnumMap&lt;&gt;(UserType.class);\n</code></pre>\n<blockquote>\n<p>However, EnumMap requires the key type in the constructor.</p>\n</blockquote>\n<p>Reference: <a href=\"https://www.baeldung.com/java-enum-map\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-enum-map</a></p>\n"},{"tags":[],"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675361106,"creation_date":1675361106,"answer_id":75327233,"question_id":2401134,"body_markdown":"With Java 8 stream api and assignment immediately to the desired structure:\r\n\r\n    HashMap&lt;String, UserType&gt; collect = Arrays.stream(UserType.values())\r\n        .collect(Collectors.toMap(\r\n                UserType::getName,\r\n                Function.identity(),\r\n                (prev, next) -&gt; next, HashMap::new)\r\n        );","title":"Easiest way to get Enum in to Key Value pair","body":"<p>With Java 8 stream api and assignment immediately to the desired structure:</p>\n<pre><code>HashMap&lt;String, UserType&gt; collect = Arrays.stream(UserType.values())\n    .collect(Collectors.toMap(\n            UserType::getName,\n            Function.identity(),\n            (prev, next) -&gt; next, HashMap::new)\n    );\n</code></pre>\n"}],"owner":{"account_id":67351,"reputation":2454,"user_id":197125,"accept_rate":85,"display_name":"vijay.shad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95953,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":2401152,"answer_count":6,"score":18,"last_activity_date":1675361106,"creation_date":1268050279,"question_id":2401134,"body_markdown":"I have defined my Enums like this.\r\n\r\n    public enum UserType {\r\n\r\n        RESELLER(&quot;Reseller&quot;),\r\n\r\n        SERVICE_MANAGER(&quot;Manager&quot;),\r\n\r\n        HOST(&quot;Host&quot;);\r\n\r\n        private String name;\r\n\r\n        private UserType(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n    }\r\n\r\nWhat should be the easiest way to get a key-value pair form the enum values?\r\n\r\nThe output map i want to create should be like this\r\n    \r\n    key   = Enum(example:- HOST)\r\n    value = Host\r\n\r\nThe map I want do define is \r\n    \r\n    Map&lt;String, String&gt; constansts = new HashMap&lt;String, String&gt;();\r\n\r\nAns: What I Did\r\n  \r\nI have created a Generic Method to access any enum and change values from that to a Map. I got this IDEA, form a code fragment found at here in any other thread.\r\n\r\n\tpublic static &lt;T extends Enum&lt;T&gt;&gt; Map&lt;String, String&gt; getConstantMap(\r\n\t\t\tClass&lt;T&gt; klass) {\r\n\r\n\t\tMap&lt;String, String&gt; vals = new HashMap&lt;String, String&gt;(0);\r\n\r\n\t\ttry {\r\n\t\t\tMethod m = klass.getMethod(&quot;values&quot;, null);\r\n\t\t\tObject obj = m.invoke(null, null);\r\n\r\n\t\t\tfor (Enum&lt;T&gt; enumval : (Enum&lt;T&gt;[]) obj) {\r\n\t\t\t\tvals.put(enumval.name(), enumval.toString());\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception ex) {\r\n\t\t\t// shouldn&#39;t happen...\r\n\t\t}\r\n\r\n\t\treturn vals;\r\n\t}\r\n\r\nNow, After this all I have to do is call this method with all the enum constructs and i am Done.\r\n\r\nOne More thing\r\n\r\nTo get This done i have to orverride the toString Method like this\r\n\r\n        public String toString() {\r\n            return name;\r\n        }\r\n\r\nThanks.","title":"Easiest way to get Enum in to Key Value pair","body":"<p>I have defined my Enums like this.</p>\n\n<pre><code>public enum UserType {\n\n    RESELLER(\"Reseller\"),\n\n    SERVICE_MANAGER(\"Manager\"),\n\n    HOST(\"Host\");\n\n    private String name;\n\n    private UserType(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n}\n</code></pre>\n\n<p>What should be the easiest way to get a key-value pair form the enum values?</p>\n\n<p>The output map i want to create should be like this</p>\n\n<pre><code>key   = Enum(example:- HOST)\nvalue = Host\n</code></pre>\n\n<p>The map I want do define is </p>\n\n<pre><code>Map&lt;String, String&gt; constansts = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>Ans: What I Did</p>\n\n<p>I have created a Generic Method to access any enum and change values from that to a Map. I got this IDEA, form a code fragment found at here in any other thread.</p>\n\n<pre><code>public static &lt;T extends Enum&lt;T&gt;&gt; Map&lt;String, String&gt; getConstantMap(\n        Class&lt;T&gt; klass) {\n\n    Map&lt;String, String&gt; vals = new HashMap&lt;String, String&gt;(0);\n\n    try {\n        Method m = klass.getMethod(\"values\", null);\n        Object obj = m.invoke(null, null);\n\n        for (Enum&lt;T&gt; enumval : (Enum&lt;T&gt;[]) obj) {\n            vals.put(enumval.name(), enumval.toString());\n        }\n\n    } catch (Exception ex) {\n        // shouldn't happen...\n    }\n\n    return vals;\n}\n</code></pre>\n\n<p>Now, After this all I have to do is call this method with all the enum constructs and i am Done.</p>\n\n<p>One More thing</p>\n\n<p>To get This done i have to orverride the toString Method like this</p>\n\n<pre><code>    public String toString() {\n        return name;\n    }\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","kubernetes","google-kubernetes-engine","google-secret-manager"],"owner":{"account_id":12145408,"reputation":1,"user_id":8867960,"display_name":"Fran Luz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675361038,"creation_date":1672346054,"question_id":74955829,"body_markdown":"I have a problem with my java pod application:\r\n\r\nI put a service account in the deployment.yaml, my code is:\r\n\r\n```\r\n@RestController\r\npublic class HelloSecretController{\r\n    @Value(&quot;${sm://myjavasecret}&quot;)\r\n    String myJavaSecret;\r\n    @Autowired\r\n    private Quickstart quick;\r\n    @Autowired\r\n    private GoogleCredentialsConfig config;\r\n    @GetMapping\r\n    public String hello(){\r\n        String resultado =&quot;&quot;;\r\n        try{\r\n             resultado = myJavaSecret + &quot; World&quot;;\r\n        }\r\n        catch(com.google.api.gax.rpc.PermissionDeniedException deniedException){\r\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ deniedException.getMessage());\r\n\t\t\tthrow deniedException;\r\n        }\r\n        catch(Exception exception){\r\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ exception.getMessage());\r\n\t     }\r\n        return resultado;\r\n    }\r\n}\r\n```\r\nalso put the reference in the properties.\r\nBut insede of the gke in GCP I&#39;m getting this error:\r\n\r\nInjection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Permission &#39;secretmanager.versions.access&#39; denied for resource\r\n\r\nCan somebody please help? \r\n\r\nI tryed declare a externalSecret, set this with a clusterStorage and set the same namespace at my deployment pod. I expected just print a simple hello word.","title":"Java springboot gke + secret manager","body":"<p>I have a problem with my java pod application:</p>\n<p>I put a service account in the deployment.yaml, my code is:</p>\n<pre><code>@RestController\npublic class HelloSecretController{\n    @Value(&quot;${sm://myjavasecret}&quot;)\n    String myJavaSecret;\n    @Autowired\n    private Quickstart quick;\n    @Autowired\n    private GoogleCredentialsConfig config;\n    @GetMapping\n    public String hello(){\n        String resultado =&quot;&quot;;\n        try{\n             resultado = myJavaSecret + &quot; World&quot;;\n        }\n        catch(com.google.api.gax.rpc.PermissionDeniedException deniedException){\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ deniedException.getMessage());\n            throw deniedException;\n        }\n        catch(Exception exception){\n            System.out.println(&quot;Houve um erro ao tentar pegar o SECRET MANAGER  {}&quot;+ exception.getMessage());\n         }\n        return resultado;\n    }\n}\n</code></pre>\n<p>also put the reference in the properties.\nBut insede of the gke in GCP I'm getting this error:</p>\n<p>Injection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Permission 'secretmanager.versions.access' denied for resource</p>\n<p>Can somebody please help?</p>\n<p>I tryed declare a externalSecret, set this with a clusterStorage and set the same namespace at my deployment pod. I expected just print a simple hello word.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":0,"creation_date":1675339955,"post_id":75322950,"comment_id":132909997,"body_markdown":"You could try passing those values as Bean method arguments: `public ClientHttpConnector getConnector(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout, @Value(&quot;${responseTimeout}&quot;) int responseTimeout) { .. }`","body":"You could try passing those values as Bean method arguments: <code>public ClientHttpConnector getConnector(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout, @Value(&quot;${responseTimeout}&quot;) int responseTimeout) { .. }</code>"},{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675340500,"post_id":75322950,"comment_id":132910184,"body_markdown":"What values do I pass to getConnector() when I create WebClient after this as it now requires those two arguments?","body":"What values do I pass to getConnector() when I create WebClient after this as it now requires those two arguments?"},{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":0,"creation_date":1675340657,"post_id":75322950,"comment_id":132910253,"body_markdown":"Also pass the same values to your `webClient()` bean and then just pass them down to `getConnector()`","body":"Also pass the same values to your <code>webClient()</code> bean and then just pass them down to <code>getConnector()</code>"},{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675341155,"post_id":75322950,"comment_id":132910412,"body_markdown":"It still appears not to load when it is needed -org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;getConnector&#39; defined in ...config.Config: Unsatisfied dependency expressed through method &#39;getConnector&#39; parameter 0; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${connectionTimeout}&quot;","body":"It still appears not to load when it is needed -org.springframework.beans.factory.UnsatisfiedDependencyExce&zwnj;&#8203;ption: Error creating bean with name &#39;getConnector&#39; defined in ...config.Config: Unsatisfied dependency expressed through method &#39;getConnector&#39; parameter 0; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${connectionTimeout}&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675344529,"post_id":75322950,"comment_id":132911629,"body_markdown":"What happens in your initial case? Are they 0? Are they really in the `application.properties`. When is this configuration loaded, how are you loading things. Too many questions.","body":"What happens in your initial case? Are they 0? Are they really in the <code>application.properties</code>. When is this configuration loaded, how are you loading things. Too many questions."},{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675345711,"post_id":75322950,"comment_id":132912087,"body_markdown":"Every way I try, they are not loaded, shows up as null if I use Environment, shows up as &quot;${connectionTimeout}&quot; if I try @Value. The thing that is different from my typical projects is that this spring context gets loaded as a module in guice. Not too familiar with it, so don&#39;t know if that is the reason.","body":"Every way I try, they are not loaded, shows up as null if I use Environment, shows up as &quot;${connectionTimeout}&quot; if I try @Value. The thing that is different from my typical projects is that this spring context gets loaded as a module in guice. Not too familiar with it, so don&#39;t know if that is the reason."}],"answers":[{"comments":[{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675341757,"post_id":75323091,"comment_id":132910629,"body_markdown":"I still get same type of exceptions, could it be that properties just can&#39;t be loaded at initialization if this spring context is loaded as a module in guice?\n org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;config&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${connectionTimeout}&quot;","body":"I still get same type of exceptions, could it be that properties just can&#39;t be loaded at initialization if this spring context is loaded as a module in guice?  org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;config&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;int&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;${connectionTimeout}&quot;"},{"owner":{"account_id":7774266,"reputation":186,"user_id":5882852,"display_name":"Thorne"},"score":0,"creation_date":1675343025,"post_id":75323091,"comment_id":132911084,"body_markdown":"It says that it cannot convert String to int, which leads me to believe that you are probably not setting your `application.properties` correctly. Could you please post your `application.properties`?","body":"It says that it cannot convert String to int, which leads me to believe that you are probably not setting your <code>application.properties</code> correctly. Could you please post your <code>application.properties</code>?"},{"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"score":0,"creation_date":1675343296,"post_id":75323091,"comment_id":132911180,"body_markdown":"Edited, but they are same as every other project I had used before","body":"Edited, but they are same as every other project I had used before"}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675340441,"creation_date":1675340441,"answer_id":75323091,"question_id":75322950,"body_markdown":"Try injecting the values via constructor:\r\n\r\n```\r\npublic Config(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout,\r\n              @Value(&quot;${responseTimeout}&quot;) int responseTimeout) {\r\n    // assign to fields\r\n}\r\n```","title":"Using @Value in spring beans at initialization","body":"<p>Try injecting the values via constructor:</p>\n<pre><code>public Config(@Value(&quot;${connectionTimeout}&quot;) int connectionTimeout,\n              @Value(&quot;${responseTimeout}&quot;) int responseTimeout) {\n    // assign to fields\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675354560,"creation_date":1675354560,"answer_id":75325998,"question_id":75322950,"body_markdown":"Try using Environment class.\r\n\r\n    @Configuration\r\n    public class Config {\r\n\r\n       private final Environment environment;\r\n\r\n       @Autowired\r\n       public Config(Environment environment) {\r\n           this.environment = environment;\r\n       }\r\n\r\n       @Bean\r\n       public SimpleBean simpleBean() {\r\n           SimpleBean simpleBean = new SimpleBean();\r\n           simpleBean.setConfOne(environment.getProperty(&quot;conf.one&quot;));\r\n           simpleBean.setConfTwo(environment.getProperty(&quot;conf.two&quot;));\r\n           return simpleBean;\r\n       } \r\n    }\r\n\r\n ","title":"Using @Value in spring beans at initialization","body":"<p>Try using Environment class.</p>\n<pre><code>@Configuration\npublic class Config {\n\n   private final Environment environment;\n\n   @Autowired\n   public Config(Environment environment) {\n       this.environment = environment;\n   }\n\n   @Bean\n   public SimpleBean simpleBean() {\n       SimpleBean simpleBean = new SimpleBean();\n       simpleBean.setConfOne(environment.getProperty(&quot;conf.one&quot;));\n       simpleBean.setConfTwo(environment.getProperty(&quot;conf.two&quot;));\n       return simpleBean;\n   } \n}\n</code></pre>\n"}],"owner":{"account_id":27684419,"reputation":1,"user_id":21132469,"display_name":"NotMyRealName32"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675360498,"creation_date":1675339690,"question_id":75322950,"body_markdown":"I need to provide timeouts from application.properties file, but at initialization it fails because properties are not yet loaded. What is best practice to get them loaded?\r\n```\r\n@Configuration\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class Config {\r\n\r\n    @Value(&quot;${connectionTimeout}&quot;) \r\n    int connectionTimeout;\r\n    @Value(&quot;${responseTimeout}&quot;) \r\n    int responseTimeout;\r\n\r\n    @Bean\r\n    public ClientHttpConnector getConnector() {\r\n        HttpClient client = HttpClient.create();\r\n\r\n        client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\r\n                .responseTimeout(Duration.ofMillis(responseTimeout));\r\n\r\n        return new ReactorClientHttpConnector(client);\r\n\r\n    }\r\n    @Bean\r\n    public WebClient webClient() {\r\n        return WebClient.builder().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n                .clientConnector(getConnector())\r\n                .build();\r\n    }\r\n```\r\napplication.properties from resource folder\r\n\r\n    connectionTimeout=30000\r\n    responseTimeout=30000\r\n\r\n\r\nAs suggested in other similar posts I tried using `@ConfigurationProperties`, but that didn&#39;t work at all. Is there some easier way to get them loaded that I am not aware of?","title":"Using @Value in spring beans at initialization","body":"<p>I need to provide timeouts from application.properties file, but at initialization it fails because properties are not yet loaded. What is best practice to get them loaded?</p>\n<pre><code>@Configuration\n@AllArgsConstructor\n@Slf4j\npublic class Config {\n\n    @Value(&quot;${connectionTimeout}&quot;) \n    int connectionTimeout;\n    @Value(&quot;${responseTimeout}&quot;) \n    int responseTimeout;\n\n    @Bean\n    public ClientHttpConnector getConnector() {\n        HttpClient client = HttpClient.create();\n\n        client.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, connectionTimeout)\n                .responseTimeout(Duration.ofMillis(responseTimeout));\n\n        return new ReactorClientHttpConnector(client);\n\n    }\n    @Bean\n    public WebClient webClient() {\n        return WebClient.builder().defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n                .clientConnector(getConnector())\n                .build();\n    }\n</code></pre>\n<p>application.properties from resource folder</p>\n<pre><code>connectionTimeout=30000\nresponseTimeout=30000\n</code></pre>\n<p>As suggested in other similar posts I tried using <code>@ConfigurationProperties</code>, but that didn't work at all. Is there some easier way to get them loaded that I am not aware of?</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570776627,"creation_date":1570776627,"answer_id":58335695,"question_id":50945923,"body_markdown":"**NOTE**: This approach relies on exploitation of an internal implementation, which may change in the future. You have been warned.\r\n\r\nThe class responsible for naming the health indicator is called `HealthIndicatorNameFactory` and looks like this in Spring Boot 2.0.5.RELEASE:\r\n\r\n    public class HealthIndicatorNameFactory implements Function&lt;String, String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String apply(String name) {\r\n    \t\tint index = name.toLowerCase(Locale.ENGLISH).indexOf(&quot;healthindicator&quot;);\r\n    \t\tif (index &gt; 0) {\r\n    \t\t\treturn name.substring(0, index);\r\n    \t\t}\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis means that if you name your `@Component` to (say) `@Component(&quot;fooBarHealthIndicator&quot;)` you should be able to get by without any bean name clashes. The name clash occurs when Spring is wiring up your beans, not by the Actuator itself.","title":"(Re) name Spring Boot HealthIndicator","body":"<p><strong>NOTE</strong>: This approach relies on exploitation of an internal implementation, which may change in the future. You have been warned.</p>\n\n<p>The class responsible for naming the health indicator is called <code>HealthIndicatorNameFactory</code> and looks like this in Spring Boot 2.0.5.RELEASE:</p>\n\n<pre><code>public class HealthIndicatorNameFactory implements Function&lt;String, String&gt; {\n\n    @Override\n    public String apply(String name) {\n        int index = name.toLowerCase(Locale.ENGLISH).indexOf(\"healthindicator\");\n        if (index &gt; 0) {\n            return name.substring(0, index);\n        }\n        return name;\n    }\n\n}\n</code></pre>\n\n<p>This means that if you name your <code>@Component</code> to (say) <code>@Component(\"fooBarHealthIndicator\")</code> you should be able to get by without any bean name clashes. The name clash occurs when Spring is wiring up your beans, not by the Actuator itself.</p>\n"},{"tags":[],"owner":{"account_id":449410,"reputation":3835,"user_id":844177,"accept_rate":71,"display_name":"Oliver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675360341,"creation_date":1675360341,"answer_id":75327112,"question_id":50945923,"body_markdown":"You can create the bean for your health indicator via a configuration class and set via name of your health indicator via the `@Bean` annotation, as shown  below.\r\n\r\n```java\r\n@Configuration\r\npublic class HealthIndicatorConfiguration {\r\n    @Bean(&quot;MyServiceIndicator&quot;)\r\n    public HealthIndicator healthIndicatorForMyService() {\r\n        return new MyHealthIndicator();\r\n    }\r\n}\r\n\r\n```","title":"(Re) name Spring Boot HealthIndicator","body":"<p>You can create the bean for your health indicator via a configuration class and set via name of your health indicator via the <code>@Bean</code> annotation, as shown  below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class HealthIndicatorConfiguration {\n    @Bean(&quot;MyServiceIndicator&quot;)\n    public HealthIndicator healthIndicatorForMyService() {\n        return new MyHealthIndicator();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2357514,"reputation":1444,"user_id":3890673,"accept_rate":55,"display_name":"crusy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2005,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675360341,"creation_date":1529490169,"question_id":50945923,"body_markdown":"I&#39;ve got the following [HealthIndicator][1]:\r\n\r\n    @Component\r\n    public class FooBarHealthIndicator implements HealthIndicator {\r\n      // ...\r\n\r\nWhich, **on production**, results in a JSON like:\r\n\r\n    status &quot;DOWN&quot;\r\n      details\r\n        fooBar\r\n          status &quot;DOWN&quot;\r\n\r\nBut in my integration test the JSON looks like\r\n\r\n    status &quot;DOWN&quot;\r\n      details\r\n        com.acme.fooBar\r\n          status &quot;DOWN&quot;\r\n\r\nNote the package path.\r\n\r\nSo my question is: Who&#39;s responsible for naming HealthIndicators within the `/health` JSON? And (how) can I configure this?\r\n\r\nPS: I already passed a name to `@Component`:\r\n\r\n    @Component(&quot;fooBar&quot;) // name clash!!\r\n    public class FooBarHealthIndicator implements HealthIndicator {\r\n      // ...\r\n\r\n which did the trick, but as `FooBarHealthIndicator` monitors a class `FooBar`, a bean of that name already is present. However, as it works in production without naming the `HealthIndicator`, there must be an additional way...\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthIndicator.html","title":"(Re) name Spring Boot HealthIndicator","body":"<p>I've got the following <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/actuate/health/HealthIndicator.html\" rel=\"nofollow noreferrer\">HealthIndicator</a>:</p>\n\n<pre><code>@Component\npublic class FooBarHealthIndicator implements HealthIndicator {\n  // ...\n</code></pre>\n\n<p>Which, <strong>on production</strong>, results in a JSON like:</p>\n\n<pre><code>status \"DOWN\"\n  details\n    fooBar\n      status \"DOWN\"\n</code></pre>\n\n<p>But in my integration test the JSON looks like</p>\n\n<pre><code>status \"DOWN\"\n  details\n    com.acme.fooBar\n      status \"DOWN\"\n</code></pre>\n\n<p>Note the package path.</p>\n\n<p>So my question is: Who's responsible for naming HealthIndicators within the <code>/health</code> JSON? And (how) can I configure this?</p>\n\n<p>PS: I already passed a name to <code>@Component</code>:</p>\n\n<pre><code>@Component(\"fooBar\") // name clash!!\npublic class FooBarHealthIndicator implements HealthIndicator {\n  // ...\n</code></pre>\n\n<p>which did the trick, but as <code>FooBarHealthIndicator</code> monitors a class <code>FooBar</code>, a bean of that name already is present. However, as it works in production without naming the <code>HealthIndicator</code>, there must be an additional way...</p>\n"},{"tags":["java","guava"],"answers":[{"comments":[{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":1,"creation_date":1273089155,"post_id":2776245,"comment_id":2810574,"body_markdown":"Thanks for the answer - I forgot to mention that I need the key of the min value","body":"Thanks for the answer - I forgot to mention that I need the key of the min value"},{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":0,"creation_date":1273090407,"post_id":2776245,"comment_id":2810724,"body_markdown":"Thanks a lot, by the way, I would also need to get ranks of a sorted map. I would like to use the index as rank (1,2,3...) What might be the best way to do this with maps as here its not possible to obtain the index. It is rather inconvinient to create a list from the map each time","body":"Thanks a lot, by the way, I would also need to get ranks of a sorted map. I would like to use the index as rank (1,2,3...) What might be the best way to do this with maps as here its not possible to obtain the index. It is rather inconvinient to create a list from the map each time"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1273090729,"post_id":2776245,"comment_id":2810764,"body_markdown":"If you want an index, you&#39;ll really need to use a `List&lt;SomeObject&gt;` instead in combination with a suitable `Comparator&lt;SomeObject&gt;` or maybe `Comparable&lt;SomeObject&gt;`. The `SomeObject` in turn can then hold the original map key and value. A `Set&lt;SomeObject&gt;` may also be suitable, you&#39;ll only count the index yourself.","body":"If you want an index, you&#39;ll really need to use a <code>List&lt;SomeObject&gt;</code> instead in combination with a suitable <code>Comparator&lt;SomeObject&gt;</code> or maybe <code>Comparable&lt;SomeObject&gt;</code>. The <code>SomeObject</code> in turn can then hold the original map key and value. A <code>Set&lt;SomeObject&gt;</code> may also be suitable, you&#39;ll only count the index yourself."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":3,"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1273090662,"creation_date":1273088533,"answer_id":2776245,"question_id":2776176,"body_markdown":"You can use the standard [`Collections#min()`][1] for this.\r\n\r\n    Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\r\n    map.put(&quot;1.1&quot;, 1.1);\r\n    map.put(&quot;0.1&quot;, 0.1);\r\n    map.put(&quot;2.1&quot;, 2.1);\r\n    \r\n    Double min = Collections.min(map.values());\r\n    System.out.println(min); // 0.1\r\n\r\n**Update**: since you need the key as well, well, I don&#39;t see ways in [`Collections`][2] or Google [`Collections2`][3] API since a `Map` is not a `Collection`. The [`Maps#filterEntries()`][4] is also not really useful, since you only know the actual result at *end* of iteration.\r\n\r\nMost straightforward solution would then be this:\r\n\r\n    Entry&lt;String, Double&gt; min = null;\r\n    for (Entry&lt;String, Double&gt; entry : map.entrySet()) {\r\n        if (min == null || min.getValue() &gt; entry.getValue()) {\r\n            min = entry;\r\n        }\r\n    }\r\n    \r\n    System.out.println(min.getKey()); // 0.1\r\n\r\n(nullcheck on `min` left aside)\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min%28java.util.Collection%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Collections.html\r\n  [3]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html\r\n  [4]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Maps.html#filterEntries%28java.util.Map,%20com.google.common.base.Predicate%29","title":"Get minvalue of a Map(Key,Double)","body":"<p>You can use the standard <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html#min%28java.util.Collection%29\" rel=\"noreferrer\"><code>Collections#min()</code></a> for this.</p>\n\n<pre><code>Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\nmap.put(\"1.1\", 1.1);\nmap.put(\"0.1\", 0.1);\nmap.put(\"2.1\", 2.1);\n\nDouble min = Collections.min(map.values());\nSystem.out.println(min); // 0.1\n</code></pre>\n\n<p><strong>Update</strong>: since you need the key as well, well, I don't see ways in <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Collections.html\" rel=\"noreferrer\"><code>Collections</code></a> or Google <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html\" rel=\"noreferrer\"><code>Collections2</code></a> API since a <code>Map</code> is not a <code>Collection</code>. The <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Maps.html#filterEntries%28java.util.Map,%20com.google.common.base.Predicate%29\" rel=\"noreferrer\"><code>Maps#filterEntries()</code></a> is also not really useful, since you only know the actual result at <em>end</em> of iteration.</p>\n\n<p>Most straightforward solution would then be this:</p>\n\n<pre><code>Entry&lt;String, Double&gt; min = null;\nfor (Entry&lt;String, Double&gt; entry : map.entrySet()) {\n    if (min == null || min.getValue() &gt; entry.getValue()) {\n        min = entry;\n    }\n}\n\nSystem.out.println(min.getKey()); // 0.1\n</code></pre>\n\n<p>(nullcheck on <code>min</code> left aside)</p>\n"},{"comments":[{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":0,"creation_date":1273090848,"post_id":2776274,"comment_id":2810778,"body_markdown":"If I sort the map according to the values, I get a new sorted Map, for example:\n(A,1),(B,2),(C,3)\nHere, I can take just the key of the first element.","body":"If I sort the map according to the values, I get a new sorted Map, for example: (A,1),(B,2),(C,3) Here, I can take just the key of the first element."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1273095696,"post_id":2776274,"comment_id":2811427,"body_markdown":"@chris-gr: it takes much longer and uses more memory than necessary.","body":"@chris-gr: it takes much longer and uses more memory than necessary."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273088762,"creation_date":1273088762,"answer_id":2776274,"question_id":2776176,"body_markdown":"&gt; In traditional way, I would have to\r\n&gt; sort the map according to the values,\r\n&gt; and take the first/last one. thanks\r\n\r\nNo, you wouldn&#39;t. You would have to iterate through all values and at each step compare the current element with the smallest one seen so far. That&#39;s O(n), compared with O(n*log(n)) for sorting - a potentially *huge* difference.\r\n\r\nBTW, this is exactly how `Collections.min()` works.","title":"Get minvalue of a Map(Key,Double)","body":"<blockquote>\n  <p>In traditional way, I would have to\n  sort the map according to the values,\n  and take the first/last one. thanks</p>\n</blockquote>\n\n<p>No, you wouldn't. You would have to iterate through all values and at each step compare the current element with the smallest one seen so far. That's O(n), compared with O(n*log(n)) for sorting - a potentially <em>huge</em> difference.</p>\n\n<p>BTW, this is exactly how <code>Collections.min()</code> works.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273097760,"creation_date":1273090125,"answer_id":2776409,"question_id":2776176,"body_markdown":"In order to do it efficiently, you may want to define your own data structure, such that it implements the Map interface,but also allows efficient getMin() operation. \r\n\r\nThis can be done using two internal data structures: a map and a tree (or heap data structure). Each time a new pair (K,V) is added, add them to the map, and also to the tree (as a single entry). This allows O(1) time for get(Key) operations, and O(log n) time for addition, removal, and getMin operations.\r\n\r\n","title":"Get minvalue of a Map(Key,Double)","body":"<p>In order to do it efficiently, you may want to define your own data structure, such that it implements the Map interface,but also allows efficient getMin() operation. </p>\n\n<p>This can be done using two internal data structures: a map and a tree (or heap data structure). Each time a new pair (K,V) is added, add them to the map, and also to the tree (as a single entry). This allows O(1) time for get(Key) operations, and O(log n) time for addition, removal, and getMin operations.</p>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1273090839,"post_id":2776468,"comment_id":2810777,"body_markdown":"Nice oneliner, but not really efficient.","body":"Nice oneliner, but not really efficient."},{"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"score":0,"creation_date":1273090991,"post_id":2776468,"comment_id":2810814,"body_markdown":"But it can be that the values are of the same value (double) Which key do I get in this case?","body":"But it can be that the values are of the same value (double) Which key do I get in this case?"},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1273091559,"post_id":2776468,"comment_id":2810889,"body_markdown":"@chris, it has to do with what is the key and what is the value in the map, not their types. In the end, at runtime, they are all Object anyway.","body":"@chris, it has to do with what is the key and what is the value in the map, not their types. In the end, at runtime, they are all Object anyway."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1273091636,"post_id":2776468,"comment_id":2810902,"body_markdown":"@BalusC, Certainly not, but that may not matter. If the map is large and often used bidirectionally, it could be stored in a BiMap in the first place. inverse() is a cheap operation in that case.","body":"@BalusC, Certainly not, but that may not matter. If the map is large and often used bidirectionally, it could be stored in a BiMap in the first place. inverse() is a cheap operation in that case."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1273090521,"creation_date":1273090521,"answer_id":2776468,"question_id":2776176,"body_markdown":"I&#39;d be inclined to use a Google Collections BiMap:\r\n\r\n         String minKey = HashBiMap.create(map).inverse().get(Collections.min(map.values()));\r\n\r\nOr something like that (not tested).","title":"Get minvalue of a Map(Key,Double)","body":"<p>I'd be inclined to use a Google Collections BiMap:</p>\n\n<pre><code>     String minKey = HashBiMap.create(map).inverse().get(Collections.min(map.values()));\n</code></pre>\n\n<p>Or something like that (not tested).</p>\n"},{"tags":[],"owner":{"account_id":30005,"reputation":1041,"user_id":81501,"display_name":"superfav"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1675360308,"creation_date":1273167991,"answer_id":2783216,"question_id":2776176,"body_markdown":"You still can use `Collections.min` with a custom `Comparator` to get the `Map.Entry` with the lower value:\r\n\r\n    Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\r\n    map.put(&quot;1.1&quot;, 1.1);\r\n    map.put(&quot;0.1&quot;, 0.1);\r\n    map.put(&quot;2.1&quot;, 2.1);\r\n    Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(), new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\r\n    \tpublic int compare(Map.Entry&lt;String, Double&gt; entry1, Map.Entry&lt;String, Double&gt; entry2) {\r\n    \t\treturn entry1.getValue().compareTo(entry2.getValue());\r\n    \t}\r\n    });\r\n    System.out.printf(&quot;%s: %f&quot;, min.getKey(), min.getValue()); // 0.1: 0.100000\r\n\r\nWith Java 8+:\r\n\r\n    Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(),\r\n                                                    Map.Entry.comparingByValue());","title":"Get minvalue of a Map(Key,Double)","body":"<p>You still can use <code>Collections.min</code> with a custom <code>Comparator</code> to get the <code>Map.Entry</code> with the lower value:</p>\n<pre><code>Map&lt;String, Double&gt; map = new HashMap&lt;String, Double&gt;();\nmap.put(&quot;1.1&quot;, 1.1);\nmap.put(&quot;0.1&quot;, 0.1);\nmap.put(&quot;2.1&quot;, 2.1);\nMap.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(), new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\n    public int compare(Map.Entry&lt;String, Double&gt; entry1, Map.Entry&lt;String, Double&gt; entry2) {\n        return entry1.getValue().compareTo(entry2.getValue());\n    }\n});\nSystem.out.printf(&quot;%s: %f&quot;, min.getKey(), min.getValue()); // 0.1: 0.100000\n</code></pre>\n<p>With Java 8+:</p>\n<pre><code>Map.Entry&lt;String, Double&gt; min = Collections.min(map.entrySet(),\n                                                Map.Entry.comparingByValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":309150,"reputation":10269,"user_id":621449,"accept_rate":83,"display_name":"Tarrasch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474021466,"creation_date":1460433902,"answer_id":36563441,"question_id":2776176,"body_markdown":"Using java 8 (and static imports). We can make @superfav&#39;s solution much tidier:\r\n\r\n    Map&lt;String, Double&gt; myMap;\r\n    String theKeyWithHighestValue = Collections.min(myMap.entrySet(), comparingDouble(Entry::getValue)).getKey()","title":"Get minvalue of a Map(Key,Double)","body":"<p>Using java 8 (and static imports). We can make @superfav's solution much tidier:</p>\n\n<pre><code>Map&lt;String, Double&gt; myMap;\nString theKeyWithHighestValue = Collections.min(myMap.entrySet(), comparingDouble(Entry::getValue)).getKey()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515928592,"creation_date":1468832449,"answer_id":38432532,"question_id":2776176,"body_markdown":"Using Java 8 streams:\r\n\r\n    return map\r\n                .entrySet()\r\n                .stream()\r\n                .sorted(Comparator.comparingDouble(Map.Entry::getValue))\r\n                .findFirst()\r\n                .map(Map.Entry::getValue);\r\n\r\nOr\r\n\r\n    return map\r\n                .entrySet()\r\n                .stream()\r\n                .min(Comparator.comparingDouble(Map.Entry::getValue))\r\n                .map(Map.Entry::getValue);\r\n\r\nBut if you want to do it multiple times, then definitely give [heap](https://en.wikipedia.org/wiki/Heap_(data_structure)) a look.","title":"Get minvalue of a Map(Key,Double)","body":"<p>Using Java 8 streams:</p>\n\n<pre><code>return map\n            .entrySet()\n            .stream()\n            .sorted(Comparator.comparingDouble(Map.Entry::getValue))\n            .findFirst()\n            .map(Map.Entry::getValue);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>return map\n            .entrySet()\n            .stream()\n            .min(Comparator.comparingDouble(Map.Entry::getValue))\n            .map(Map.Entry::getValue);\n</code></pre>\n\n<p>But if you want to do it multiple times, then definitely give <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">heap</a> a look.</p>\n"},{"comments":[{"owner":{"account_id":11357627,"reputation":397,"user_id":8326782,"display_name":"spectrum"},"score":1,"creation_date":1549129775,"post_id":54277886,"comment_id":95796923,"body_markdown":"nice, but can lead to errors using `.get()`.  These create an &#39;Optional.get()&#39; without &#39;isPresent()&#39; warning.  Check out [this page](https://stackoverflow.com/questions/30686215/avoid-nosuchelementexception-with-stream) for some safer alternatives","body":"nice, but can lead to errors using <code>.get()</code>.  These create an &#39;Optional.get()&#39; without &#39;isPresent()&#39; warning.  Check out <a href=\"https://stackoverflow.com/questions/30686215/avoid-nosuchelementexception-with-stream\">this page</a> for some safer alternatives"}],"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547997530,"creation_date":1547997530,"answer_id":54277886,"question_id":2776176,"body_markdown":"In Java 8 we can get easily:\r\n\r\n    Double minValue = map.entrySet().stream().min(Map.Entry.comparingByValue()).get().getValue();\r\n    Double maxValue = map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getValue();\r\n","title":"Get minvalue of a Map(Key,Double)","body":"<p>In Java 8 we can get easily:</p>\n\n<pre><code>Double minValue = map.entrySet().stream().min(Map.Entry.comparingByValue()).get().getValue();\nDouble maxValue = map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1574277623,"creation_date":1556894849,"answer_id":55972222,"question_id":2776176,"body_markdown":"Java8 One-Liner\r\n```java\r\nKey key = Collections.min(map.entrySet(), Map.Entry.comparingByValue()).getKey()\r\n```","title":"Get minvalue of a Map(Key,Double)","body":"<p>Java8 One-Liner</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Key key = Collections.min(map.entrySet(), Map.Entry.comparingByValue()).getKey()\n</code></pre>\n"}],"owner":{"account_id":128652,"reputation":519,"user_id":326667,"accept_rate":62,"display_name":"user326667"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109779,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":2776245,"answer_count":9,"score":37,"last_activity_date":1675360308,"creation_date":1273087725,"question_id":2776176,"body_markdown":"Is there a method (maybe with Google Collections) to obtain the min value of a `Map(Key, Double)`?\r\n\r\nIn the traditional way, I would have to sort the map according to the values, and take the first/last one.","title":"Get minvalue of a Map(Key,Double)","body":"<p>Is there a method (maybe with Google Collections) to obtain the min value of a <code>Map(Key, Double)</code>?</p>\n\n<p>In the traditional way, I would have to sort the map according to the values, and take the first/last one.</p>\n"},{"tags":["java","concurrency"],"answers":[{"tags":[],"owner":{"account_id":291800,"reputation":15905,"user_id":594183,"display_name":"esaj"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1326815498,"creation_date":1326815498,"answer_id":8897599,"question_id":8897449,"body_markdown":"Simply using a boolean-flag should take care of this:\r\n\r\n    private ReentrantLock lock = new ReentrantLock();\r\n\r\n    boolean lockAcquired = false;\r\n\r\n    try\r\n    {\r\n      lock.lockInterruptably();\r\n      lockAcquired = true;\r\n    }\r\n    catch( InterruptedException e )\r\n    {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n    finally\r\n    {\r\n      if(lockAcquired)\r\n      {\r\n        lock.unlock();\r\n      }\r\n    }\r\n\r\n","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>Simply using a boolean-flag should take care of this:</p>\n\n<pre><code>private ReentrantLock lock = new ReentrantLock();\n\nboolean lockAcquired = false;\n\ntry\n{\n  lock.lockInterruptably();\n  lockAcquired = true;\n}\ncatch( InterruptedException e )\n{\n  Thread.currentThread.interrupt();\n}\nfinally\n{\n  if(lockAcquired)\n  {\n    lock.unlock();\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1326870480,"post_id":8897601,"comment_id":11139539,"body_markdown":"I was first using `isHeldByCurrentThread`, but after reading all the comments, I think this version is the only one that is really correct.","body":"I was first using <code>isHeldByCurrentThread</code>, but after reading all the comments, I think this version is the only one that is really correct."},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":0,"creation_date":1359481104,"post_id":8897601,"comment_id":20363854,"body_markdown":"@WimDeblauwe which comments are you referring to, and why do you think using `isHeldByCurrentThread` is not correct?","body":"@WimDeblauwe which comments are you referring to, and why do you think using <code>isHeldByCurrentThread</code> is not correct?"},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1359535397,"post_id":8897601,"comment_id":20382888,"body_markdown":"@RobinGreen as it has been over 1 year, I don&#39;t exactly remember, but I have the feeling there used to be more/other answers on this question. Anyway, the proper way to do it is given in this answer, so that is all that is important in the end.","body":"@RobinGreen as it has been over 1 year, I don&#39;t exactly remember, but I have the feeling there used to be more/other answers on this question. Anyway, the proper way to do it is given in this answer, so that is all that is important in the end."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1359551059,"post_id":8897601,"comment_id":20390915,"body_markdown":"@RobinGreen - there is a deleted answer which attempted to use `isHeldByCurrentThread` to determine if the lock should be released, however it would not work correctly if the lock was held re-entrantly.","body":"@RobinGreen - there is a deleted answer which attempted to use <code>isHeldByCurrentThread</code> to determine if the lock should be released, however it would not work correctly if the lock was held re-entrantly."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":4,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1675359939,"creation_date":1326815505,"answer_id":8897601,"question_id":8897449,"body_markdown":"the `lockInterruptibly()` call should be _outside_ the finally block.  note, this is always true when using the `Lock` API (whether you use `lock()` or `lockInterruptibly()`), as you _don&#39;t_ want to do the &quot;unlock&quot; work unless you have acquired the lock.\r\n\r\n    try {\r\n      lock.lockInterruptibly();\r\n      try {\r\n        // do locked work here\r\n      } finally {\r\n        lock.unlock();\r\n      }\r\n    } catch( InterruptedException e ) {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n\r\n","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>the <code>lockInterruptibly()</code> call should be <em>outside</em> the finally block.  note, this is always true when using the <code>Lock</code> API (whether you use <code>lock()</code> or <code>lockInterruptibly()</code>), as you <em>don't</em> want to do the &quot;unlock&quot; work unless you have acquired the lock.</p>\n<pre><code>try {\n  lock.lockInterruptibly();\n  try {\n    // do locked work here\n  } finally {\n    lock.unlock();\n  }\n} catch( InterruptedException e ) {\n  Thread.currentThread.interrupt();\n}\n</code></pre>\n"}],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17526,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":8897601,"answer_count":2,"score":7,"last_activity_date":1675359939,"creation_date":1326814927,"question_id":8897449,"body_markdown":"I want to replace a `syncronized` block with a `ReentrantLock` to support interruption of waiting for the lock. For this, I use the `lockInterruptibly()` method and the idiomatic try/finally block:\r\n\r\n    private ReentrantLock lock = new ReentrantLock();\r\n\r\n    try\r\n    {\r\n      lock.lockInterruptably();\r\n    }\r\n    catch( InterruptedException e )\r\n    {\r\n      Thread.currentThread.interrupt();\r\n    }\r\n    finally\r\n    {\r\n      lock.unlock();\r\n    }\r\n\r\nThe problem is that the finally ofcourse also happens when the InterruptedException happens. This results in an `IllegalMonitorStateException`, because the lock is not held by the current thread.\r\n\r\nThis simple program proves this:\r\n\r\n    public class LockTest\r\n    {\r\n\tpublic static void main( String[] args )\r\n\t{\r\n\t\tSystem.out.println(&quot;START&quot;);\r\n\t\t\r\n\t\tThread interruptThread = new Thread( new MyRunnable( Thread.currentThread() ) );\r\n\t\tinterruptThread.start();\r\n\t\tReentrantLock lock = new ReentrantLock();\r\n\t\t\r\n\t\tThread takeLockThread = new Thread( new TakeLockRunnable( lock ) );\r\n\t\ttakeLockThread.start();\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tThread.sleep( 500 );\r\n\t\t\tSystem.out.println(&quot;Trying to take lock on thread &quot; + Thread.currentThread().getName());\r\n\t\t\tlock.lockInterruptibly();\r\n\t\t}\r\n\t\tcatch (InterruptedException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tlock.unlock();\r\n\t\t}\r\n\r\n\t\tSystem.out.println( &quot;DONE&quot;);\r\n\t}\r\n\r\n\tprivate static class MyRunnable implements Runnable\r\n\t{\r\n\t\tprivate Thread m_thread;\r\n\r\n\t\tprivate MyRunnable( Thread thread)\r\n\t\t{\r\n\t\t\tm_thread = thread;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tThread.sleep( 1000 );\r\n\t\t\t}\r\n\t\t\tcatch (InterruptedException e)\r\n\t\t\t{\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\tSystem.out.println( &quot;Interrupting thread &quot; + m_thread.getName() );\r\n\t\t\tm_thread.interrupt();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static class TakeLockRunnable implements Runnable\r\n\t{\r\n\t\tprivate ReentrantLock m_lock;\r\n\r\n\t\tpublic TakeLockRunnable( ReentrantLock lock )\r\n\t\t{\r\n\t\t\tm_lock = lock;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Taking lock on thread &quot; + Thread.currentThread().getName());\r\n\t\t\t\tm_lock.lock();\r\n\t\t\t\tThread.sleep( 20000 );\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tfinally {\r\n\t\t\t\tm_lock.unlock();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\nIt prints this output:\r\n&lt;pre&gt;\r\nSTART\r\nTaking lock on thread Thread-1\r\nTrying to take lock on thread main\r\njava.lang.InterruptedException\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireInterruptibly(AbstractQueuedSynchronizer.java:877)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1201)\r\n\tat java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:312)\r\n\tat LockTest.main(LockTest.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\nException in thread &quot;main&quot; java.lang.IllegalMonitorStateException\r\n\tat java.util.concurrent.locks.ReentrantLock$Sync.tryRelease(ReentrantLock.java:127)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1239)\r\n\tat java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:431)\r\n\tat LockTest.main(LockTest.java:32)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\nInterrupting thread main\r\n&lt;/pre&gt;\r\n\r\nAny idea on what the best way is to avoid this?","title":"How to avoid IllegalMonitorStateException when using lockInterruptibly on Reentrantlock","body":"<p>I want to replace a <code>syncronized</code> block with a <code>ReentrantLock</code> to support interruption of waiting for the lock. For this, I use the <code>lockInterruptibly()</code> method and the idiomatic try/finally block:</p>\n\n<pre><code>private ReentrantLock lock = new ReentrantLock();\n\ntry\n{\n  lock.lockInterruptably();\n}\ncatch( InterruptedException e )\n{\n  Thread.currentThread.interrupt();\n}\nfinally\n{\n  lock.unlock();\n}\n</code></pre>\n\n<p>The problem is that the finally ofcourse also happens when the InterruptedException happens. This results in an <code>IllegalMonitorStateException</code>, because the lock is not held by the current thread.</p>\n\n<p>This simple program proves this:</p>\n\n<pre><code>public class LockTest\n{\npublic static void main( String[] args )\n{\n    System.out.println(\"START\");\n\n    Thread interruptThread = new Thread( new MyRunnable( Thread.currentThread() ) );\n    interruptThread.start();\n    ReentrantLock lock = new ReentrantLock();\n\n    Thread takeLockThread = new Thread( new TakeLockRunnable( lock ) );\n    takeLockThread.start();\n\n    try\n    {\n        Thread.sleep( 500 );\n        System.out.println(\"Trying to take lock on thread \" + Thread.currentThread().getName());\n        lock.lockInterruptibly();\n    }\n    catch (InterruptedException e)\n    {\n        e.printStackTrace();\n    }\n    finally {\n        lock.unlock();\n    }\n\n    System.out.println( \"DONE\");\n}\n\nprivate static class MyRunnable implements Runnable\n{\n    private Thread m_thread;\n\n    private MyRunnable( Thread thread)\n    {\n        m_thread = thread;\n    }\n\n    @Override\n    public void run()\n    {\n        try\n        {\n            Thread.sleep( 1000 );\n        }\n        catch (InterruptedException e)\n        {\n            // ignore\n        }\n        System.out.println( \"Interrupting thread \" + m_thread.getName() );\n        m_thread.interrupt();\n    }\n}\n\nprivate static class TakeLockRunnable implements Runnable\n{\n    private ReentrantLock m_lock;\n\n    public TakeLockRunnable( ReentrantLock lock )\n    {\n        m_lock = lock;\n    }\n\n    @Override\n    public void run()\n    {\n        try\n        {\n            System.out.println(\"Taking lock on thread \" + Thread.currentThread().getName());\n            m_lock.lock();\n            Thread.sleep( 20000 );\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n        finally {\n            m_lock.unlock();\n        }\n    }\n}\n}\n</code></pre>\n\n<p>It prints this output:</p>\n\n<pre>\nSTART\nTaking lock on thread Thread-1\nTrying to take lock on thread main\njava.lang.InterruptedException\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireInterruptibly(AbstractQueuedSynchronizer.java:877)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1201)\n    at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:312)\n    at LockTest.main(LockTest.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nException in thread \"main\" java.lang.IllegalMonitorStateException\n    at java.util.concurrent.locks.ReentrantLock$Sync.tryRelease(ReentrantLock.java:127)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1239)\n    at java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:431)\n    at LockTest.main(LockTest.java:32)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\nInterrupting thread main\n</pre>\n\n<p>Any idea on what the best way is to avoid this?</p>\n"},{"tags":["java","gradle","maven-publish"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675359390,"post_id":75326910,"comment_id":132917173,"body_markdown":"Why would you need them? For downstream consumers of your project, they don&#39;t care how exactly you tested it. From their perspective, the tests have already been run and passed.","body":"Why would you need them? For downstream consumers of your project, they don&#39;t care how exactly you tested it. From their perspective, the tests have already been run and passed."},{"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"score":0,"creation_date":1675359493,"post_id":75326910,"comment_id":132917209,"body_markdown":"we also publish the test jar as the main consumer needs that for extra testing, so it also acts as documentation what is needed for the test jar to work fully","body":"we also publish the test jar as the main consumer needs that for extra testing, so it also acts as documentation what is needed for the test jar to work fully"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1675361660,"post_id":75326910,"comment_id":132917916,"body_markdown":"That&#39;s not how test jars work. `test` scope dependencies are not transitive, even for test jars. If you want that behaviour, make a first-class module for the shared stuff called eg. &quot;test-utils&quot; and depend upon that in both places with `test` scope.","body":"That&#39;s not how test jars work. <code>test</code> scope dependencies are not transitive, even for test jars. If you want that behaviour, make a first-class module for the shared stuff called eg. &quot;test-utils&quot; and depend upon that in both places with <code>test</code> scope."},{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1675395986,"post_id":75326910,"comment_id":132924671,"body_markdown":"If you want them published in the pom, despite it not being good practice, change `testImplementation` to just plain `implementation`.","body":"If you want them published in the pom, despite it not being good practice, change <code>testImplementation</code> to just plain <code>implementation</code>."}],"owner":{"account_id":216207,"reputation":2038,"user_id":471293,"accept_rate":47,"display_name":"ekaqu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675359530,"creation_date":1675359270,"question_id":75326910,"body_markdown":"I have a project that uses buildSrc to create a plugin to avoid duplicate logic, one of this type of duplicate is test dependencies.\r\n\r\nI notice that when we publish the jar that the test dependencies are not included in the pom file.  I tried modifying the versionMapping but can&#39;t find a solution to get the dependencies added\r\n\r\ntried\r\n\r\n```      \r\nversionMapping {\r\n  allVariants {\r\n    fromResolutionOf(&#39;testRuntimeClasspath&#39;)\r\n  }\r\n}\r\n```\r\n\r\nbut see the test dependencies are still not found.\r\n\r\nThe buildSrc plugin defines the following dependencies\r\n\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n    testImplementation &#39;ch.qos.logback:logback-classic:1.2.3&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n}\r\n```\r\n\r\nHow do I get these dependencies to show up in the published pom?\r\n\r\nThanks!\r\n\r\n\r\nEdit: The main reason we want this is to act as documentation on how to use the -tests.jar also published, as the main consumer of this library uses -tests.jar for testing","title":"How to get test dependencies to show up in maven pom when they are added via a plugin?","body":"<p>I have a project that uses buildSrc to create a plugin to avoid duplicate logic, one of this type of duplicate is test dependencies.</p>\n<p>I notice that when we publish the jar that the test dependencies are not included in the pom file.  I tried modifying the versionMapping but can't find a solution to get the dependencies added</p>\n<p>tried</p>\n<pre><code>versionMapping {\n  allVariants {\n    fromResolutionOf('testRuntimeClasspath')\n  }\n}\n</code></pre>\n<p>but see the test dependencies are still not found.</p>\n<p>The buildSrc plugin defines the following dependencies</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testImplementation 'ch.qos.logback:logback-classic:1.2.3'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n}\n</code></pre>\n<p>How do I get these dependencies to show up in the published pom?</p>\n<p>Thanks!</p>\n<p>Edit: The main reason we want this is to act as documentation on how to use the -tests.jar also published, as the main consumer of this library uses -tests.jar for testing</p>\n"},{"tags":["java","android","android-camera","android-camera2","usb-camera"],"comments":[{"owner":{"account_id":16420385,"reputation":330,"user_id":11861734,"display_name":"Wasim Ansari"},"score":0,"creation_date":1663434719,"post_id":73690460,"comment_id":130241127,"body_markdown":"https://stackoverflow.com/questions/57846505/accessing-a-usb-camera-using-android-camera2-api check this thread","body":"<a href=\"https://stackoverflow.com/questions/57846505/accessing-a-usb-camera-using-android-camera2-api\" title=\"accessing a usb camera using android camera2 api\">stackoverflow.com/questions/57846505/&hellip;</a> check this thread"}],"answers":[{"tags":[],"owner":{"account_id":27687868,"reputation":11,"user_id":21135244,"display_name":"Cyclops"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675359316,"creation_date":1675359316,"answer_id":75326923,"question_id":73690460,"body_markdown":"The solutions are all complex with advantages and disadvantages. Information on USB and UVC is freely available from the USB IF web site, although there are many hundreds of pages of detail. The main issue is that the isochronous transfer method is missing from the Android framework, although descriptor retrieval, control, interrupt and bulk are implemented. Hence, most of the usb access can be done in Java or Kotlin, but the streaming side is a real pain. Using method one below and a Logitek C615 webcam, I obtained 640x480@30 fps on a Lenovo Tab10 using Android 6, and 1920x1080@30fps on a Lenovo IdeaPad 520 Miix using Android9 x86. The Tab10 appears to run at USB v1 speeds although it has a USB v2 micro-B socket. The Miix has a type A USB socket and does not need an OTG converter. I know of three methods:\r\n1. Use Libusb. This requires a separate compilation and build in Android Studio to a shared library. Write C++ code to setup, transfer packets and teardown the webcam. Write Java code for the user interface, decompress MJPEG, display preview and write JPEGs to storage. Connect the two via JNI. The C++ and Java run in separate threads but are non blocking. The inefficiency is in memcopying from a native image frame array to a JNI array and then freeing for garbage collection after each frame. Android apps run in a container, which means a special startup for Libusb and some functions fail, probably because of selinux violations.\r\n2. Use JNA to wrap the Libc libray. JNA is obtained from a repository and does not require a separate build. Libc is in Android Studio. All the code is Java, but IOCTL is used to control the usb file streams and the small stuff is really sweated. Libusb does much of the low level stuff in design choice 1.\r\n3. Use the external camera option with the Camera2 API. Non of my devices support an external camera, not even my Samsung Android 13 phone. I suspect this is meant for systems integrators to build custom versions of Android with the appropriate settings as documented by Google, implemented on SBCs for point-of-sale etc.\r\n","title":"How can I implement function for usb camera for my application?","body":"<p>The solutions are all complex with advantages and disadvantages. Information on USB and UVC is freely available from the USB IF web site, although there are many hundreds of pages of detail. The main issue is that the isochronous transfer method is missing from the Android framework, although descriptor retrieval, control, interrupt and bulk are implemented. Hence, most of the usb access can be done in Java or Kotlin, but the streaming side is a real pain. Using method one below and a Logitek C615 webcam, I obtained 640x480@30 fps on a Lenovo Tab10 using Android 6, and 1920x1080@30fps on a Lenovo IdeaPad 520 Miix using Android9 x86. The Tab10 appears to run at USB v1 speeds although it has a USB v2 micro-B socket. The Miix has a type A USB socket and does not need an OTG converter. I know of three methods:</p>\n<ol>\n<li>Use Libusb. This requires a separate compilation and build in Android Studio to a shared library. Write C++ code to setup, transfer packets and teardown the webcam. Write Java code for the user interface, decompress MJPEG, display preview and write JPEGs to storage. Connect the two via JNI. The C++ and Java run in separate threads but are non blocking. The inefficiency is in memcopying from a native image frame array to a JNI array and then freeing for garbage collection after each frame. Android apps run in a container, which means a special startup for Libusb and some functions fail, probably because of selinux violations.</li>\n<li>Use JNA to wrap the Libc libray. JNA is obtained from a repository and does not require a separate build. Libc is in Android Studio. All the code is Java, but IOCTL is used to control the usb file streams and the small stuff is really sweated. Libusb does much of the low level stuff in design choice 1.</li>\n<li>Use the external camera option with the Camera2 API. Non of my devices support an external camera, not even my Samsung Android 13 phone. I suspect this is meant for systems integrators to build custom versions of Android with the appropriate settings as documented by Google, implemented on SBCs for point-of-sale etc.</li>\n</ol>\n"}],"owner":{"account_id":26314259,"reputation":1,"user_id":19977306,"display_name":"Roshni Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675359316,"creation_date":1662990896,"question_id":73690460,"body_markdown":"I am creating an application for tablet in android where, I want to use usb camera as a default camera when I start my application. I want to click picture and save them in either jpeg,jpg or png format. I could not find any helpful resources on web. How can I implement such functionality? Any help would be appreciated. ","title":"How can I implement function for usb camera for my application?","body":"<p>I am creating an application for tablet in android where, I want to use usb camera as a default camera when I start my application. I want to click picture and save them in either jpeg,jpg or png format. I could not find any helpful resources on web. How can I implement such functionality? Any help would be appreciated.</p>\n"},{"tags":["java","arrays","replaceall"],"owner":{"account_id":27687806,"reputation":1,"user_id":21135194,"display_name":"kanyshh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675359239,"answer_count":0,"score":0,"last_activity_date":1675359088,"creation_date":1675359088,"question_id":75326866,"body_markdown":" public static void main(String[] args)\r\n    {  \t\r\n     \r\n\t    String text = &quot;Вася заработал 5000 рублей, Петя - 7563 рубля, а Маша - 30000 рублей&quot;;\r\n\t    String[] arr = text.split(&quot;, &quot;);\r\n\t    for (int i = 0; i &lt; arr.length; i++) {\r\n\t    \tarr[i].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n\t    \tSystem.out.println(arr[i]);\r\n\t    };\r\n\r\ni want to replace all of the letters with empty space","title":"why it doesnt work out? i want it to change all three lines","body":"<p>public static void main(String[] args)\n{</p>\n<pre><code>    String text = &quot;Вася заработал 5000 рублей, Петя - 7563 рубля, а Маша - 30000 рублей&quot;;\n    String[] arr = text.split(&quot;, &quot;);\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n        System.out.println(arr[i]);\n    };\n</code></pre>\n<p>i want to replace all of the letters with empty space</p>\n"},{"tags":["java","zoneddatetime"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675334905,"post_id":75321780,"comment_id":132908307,"body_markdown":"So you want to compare the actual time they identify? Then convert them to `Instant` and compare those.","body":"So you want to compare the actual time they identify? Then convert them to <code>Instant</code> and compare those."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675357979,"post_id":75321780,"comment_id":132916679,"body_markdown":"Related: [IST mapped to wrong ZoneId in java.time library](https://stackoverflow.com/questions/57733849/ist-mapped-to-wrong-zoneid-in-java-time-library)","body":"Related: <a href=\"https://stackoverflow.com/questions/57733849/ist-mapped-to-wrong-zoneid-in-java-time-library\">IST mapped to wrong ZoneId in java.time library</a>"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675335078,"creation_date":1675335078,"answer_id":75322074,"question_id":75321780,"body_markdown":"The time zone abbreviations used by Java when parsing depend on the locale, so you cannot compare the result to a fixed value. See [this answer][1].\r\n\r\nI would convert the `ZonedDateTime` objects to `OffsetDateTime` before comparing them, or even to `Instant`, as Joachim suggested.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59386011/1374678","title":"Different timezone id for the same short timezone name","body":"<p>The time zone abbreviations used by Java when parsing depend on the locale, so you cannot compare the result to a fixed value. See <a href=\"https://stackoverflow.com/a/59386011/1374678\">this answer</a>.</p>\n<p>I would convert the <code>ZonedDateTime</code> objects to <code>OffsetDateTime</code> before comparing them, or even to <code>Instant</code>, as Joachim suggested.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1675358243,"post_id":75326361,"comment_id":132916764,"body_markdown":"Actually, those pseudo zones can be 2-4 characters long, not just 3. Examples: [CT](https://www.timeanddate.com/time/zones/ct) and [AEST](https://www.timeanddate.com/time/zones/aest).","body":"Actually, those pseudo zones can be 2-4 characters long, not just 3. Examples: <a href=\"https://www.timeanddate.com/time/zones/ct\" rel=\"nofollow noreferrer\">CT</a> and <a href=\"https://www.timeanddate.com/time/zones/aest\" rel=\"nofollow noreferrer\">AEST</a>."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675358997,"creation_date":1675356360,"answer_id":75326361,"question_id":75321780,"body_markdown":"First of all, I suggest you ask the publisher of your data to avoid using abbreviated timezone IDs. In most cases, these abbreviations are 3 characters long but they may be 2 or 4 characters long (e.g. [CT](https://www.timeanddate.com/time/zones/ct) and [AEST](https://www.timeanddate.com/time/zones/aest)) as commented by [Basil Bourque](https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name/75326361?noredirect=1#comment132916764_75326361). \r\n\r\nGiven below is a note from the Java 7 `Timezone` [documentation](https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html):\r\n\r\n&gt; ### Three-letter time zone IDs\r\n&gt;For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\r\n&gt; also supported. However, **their use is deprecated** because the same\r\n&gt; abbreviation is often used for multiple time zones (for example, &quot;CST&quot;\r\n&gt; could be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\r\n&gt; the Java platform can then only recognize one of them.\r\n\r\nThere is already a good [suggestion by Joachim Sauer](https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name#comment132908307_75321780). Alternatively, you can retrieve the `ZoneId` from the parsed date-time and use it while constructing your `ZonedDateTime`.\r\n\r\n**Demo**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;, Locale.ENGLISH);\r\n            String strNextPaymentDate = &quot;02:00:00 Feb 05, 2023 PST&quot;;\r\n            ZonedDateTime zdtNextPaymentDate = ZonedDateTime.parse(strNextPaymentDate, parser);\r\n            ZonedDateTime zdtExpectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, zdtNextPaymentDate.getZone());\r\n            System.out.println(zdtNextPaymentDate);\r\n            System.out.println(zdtExpectedDate);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2023-02-05T02:00-08:00[America/Los_Angeles]\r\n    2023-02-05T02:00-08:00[America/Los_Angeles]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/bRYRBE)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Different timezone id for the same short timezone name","body":"<p>First of all, I suggest you ask the publisher of your data to avoid using abbreviated timezone IDs. In most cases, these abbreviations are 3 characters long but they may be 2 or 4 characters long (e.g. <a href=\"https://www.timeanddate.com/time/zones/ct\" rel=\"nofollow noreferrer\">CT</a> and <a href=\"https://www.timeanddate.com/time/zones/aest\" rel=\"nofollow noreferrer\">AEST</a>) as commented by <a href=\"https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name/75326361?noredirect=1#comment132916764_75326361\">Basil Bourque</a>.</p>\n<p>Given below is a note from the Java 7 <code>Timezone</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<h3>Three-letter time zone IDs</h3>\n<p>For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\nalso supported. However, <strong>their use is deprecated</strong> because the same\nabbreviation is often used for multiple time zones (for example, &quot;CST&quot;\ncould be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\nthe Java platform can then only recognize one of them.</p>\n</blockquote>\n<p>There is already a good <a href=\"https://stackoverflow.com/questions/75321780/different-timezone-id-for-the-same-short-timezone-name#comment132908307_75321780\">suggestion by Joachim Sauer</a>. Alternatively, you can retrieve the <code>ZoneId</code> from the parsed date-time and use it while constructing your <code>ZonedDateTime</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;, Locale.ENGLISH);\n        String strNextPaymentDate = &quot;02:00:00 Feb 05, 2023 PST&quot;;\n        ZonedDateTime zdtNextPaymentDate = ZonedDateTime.parse(strNextPaymentDate, parser);\n        ZonedDateTime zdtExpectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, zdtNextPaymentDate.getZone());\n        System.out.println(zdtNextPaymentDate);\n        System.out.println(zdtExpectedDate);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-02-05T02:00-08:00[America/Los_Angeles]\n2023-02-05T02:00-08:00[America/Los_Angeles]\n</code></pre>\n<p><a href=\"https://ideone.com/bRYRBE\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":18534646,"reputation":303,"user_id":13504606,"display_name":"KarloSpacapan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75322074,"answer_count":2,"score":1,"last_activity_date":1675358997,"creation_date":1675333744,"question_id":75321780,"body_markdown":"I have a string `&quot;02:00:00 Feb 05, 2023 PST&quot;` which I parse:\r\n```java\r\nZonedDateTime d = ZonedDateTime.parse(nextPaymentDate, DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;));\r\n```\r\nComparing it a constructed date:\r\n```java\r\nZonedDateTime expectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, ZoneId.of(ZoneId.SHORT_IDS.get(&quot;PST&quot;)));\r\n```\r\nfails, because:\r\n```\r\nExpected :2023-02-05T02:00-08:00[America/Los_Angeles]\r\nActual   :2023-02-05T02:00-08:00[America/Tijuana]\r\n```\r\n\r\nSetting exact timezone id (e.g. fixing `America/Tijuana`) does not work, as the timezone is parsed differently on another machine (as `America/Los_Angeles` instead of `America/Tijuana` like on my machine).\r\n\r\nHow can I assert the dates are equal in this case?","title":"Different timezone id for the same short timezone name","body":"<p>I have a string <code>&quot;02:00:00 Feb 05, 2023 PST&quot;</code> which I parse:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime d = ZonedDateTime.parse(nextPaymentDate, DateTimeFormatter.ofPattern(&quot;H:m:s MMM d, uuuu z&quot;));\n</code></pre>\n<p>Comparing it a constructed date:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime expectedDate = ZonedDateTime.of(2023, 2, 5, 2, 0, 0, 0, ZoneId.of(ZoneId.SHORT_IDS.get(&quot;PST&quot;)));\n</code></pre>\n<p>fails, because:</p>\n<pre><code>Expected :2023-02-05T02:00-08:00[America/Los_Angeles]\nActual   :2023-02-05T02:00-08:00[America/Tijuana]\n</code></pre>\n<p>Setting exact timezone id (e.g. fixing <code>America/Tijuana</code>) does not work, as the timezone is parsed differently on another machine (as <code>America/Los_Angeles</code> instead of <code>America/Tijuana</code> like on my machine).</p>\n<p>How can I assert the dates are equal in this case?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673839727,"post_id":75126706,"comment_id":132579870,"body_markdown":"Have you tried using a batchsize annotation on the collection mappings? I don’t know if hibernate will respect it with a fetch graph, but will if the collection is lazily accessed. It will force one query to return multiple collection results, so greatly reduces the number of queries involved","body":"Have you tried using a batchsize annotation on the collection mappings? I don’t know if hibernate will respect it with a fetch graph, but will if the collection is lazily accessed. It will force one query to return multiple collection results, so greatly reduces the number of queries involved"},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1673857224,"post_id":75126706,"comment_id":132582581,"body_markdown":"even if my batch size is 100 and I only have 1 instance of each child type, it will still do 25 queries for each father to get each child type","body":"even if my batch size is 100 and I only have 1 instance of each child type, it will still do 25 queries for each father to get each child type"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673885942,"post_id":75126706,"comment_id":132591872,"body_markdown":"Pick your poison. 25 queries, or 1 query (if it would work) that returned the same father row data N^25 times, where N is the number of children in the average collection. At least with batch queries, you are going to get a fixed number of queries (26) instead of 1+N*25 for N parents returned. Not using fetch joins across ToMany relationships means you can use pagination as well. Other providers have other options around batch reading https://www.eclipse.org/eclipselink/documentation/2.7/solutions/performance001.htm#CHDFHFEB","body":"Pick your poison. 25 queries, or 1 query (if it would work) that returned the same father row data N^25 times, where N is the number of children in the average collection. At least with batch queries, you are going to get a fixed number of queries (26) instead of 1+N*25 for N parents returned. Not using fetch joins across ToMany relationships means you can use pagination as well. Other providers have other options around batch reading <a href=\"https://www.eclipse.org/eclipselink/documentation/2.7/solutions/performance001.htm#CHDFHFEB\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.7/solutions/&hellip;</a>"},{"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"score":0,"creation_date":1673941271,"post_id":75126706,"comment_id":132603075,"body_markdown":"even a fixed number of 25 queries per entity is too much for me because I might have 2000 fathers and that 50k queries for children if it is lazy","body":"even a fixed number of 25 queries per entity is too much for me because I might have 2000 fathers and that 50k queries for children if it is lazy"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673970380,"post_id":75126706,"comment_id":132612612,"body_markdown":"With batch reading, there will only be 1+ 25 queries, no matter how many fathers (depending on the batch size). batching is different in that while it is a separate query from the one to bring in fathers, it brings in the children to populate the collections for multiple fathers. See the solution in EclipseLink as they have more options and IMO better descriptions of the problem it solves. It greatly reduces the number of queries involved, while not suffering from the cartesian join issue if you were to join all those relationships into one query.","body":"With batch reading, there will only be 1+ 25 queries, no matter how many fathers (depending on the batch size). batching is different in that while it is a separate query from the one to bring in fathers, it brings in the children to populate the collections for multiple fathers. See the solution in EclipseLink as they have more options and IMO better descriptions of the problem it solves. It greatly reduces the number of queries involved, while not suffering from the cartesian join issue if you were to join all those relationships into one query."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675358773,"creation_date":1675358773,"answer_id":75326814,"question_id":75126706,"body_markdown":"Like Chris mentioned in the comments, there is always a tradeoff with joins vs batch queries. I think this is a perfect use case for [Blaze-Persistence Entity Views][1] though since it offers the [MULTISET fetch strategy][2] that represents the best of both worlds.\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(GrandFather.class)\r\n    public interface GrandFatherDto {\r\n        @IdMapping\r\n        Integer getId();\r\n        String getName();\r\n        Set&lt;FatherDto&gt; getFathers();\r\n\r\n        @EntityView(Father.class)\r\n        interface FatherDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n            @Mapping(fetch = MULTISET)\r\n            Set&lt;Child1Dto&gt; getTypeOneChildren();\r\n            //...\r\n            @Mapping(fetch = MULTISET)\r\n            Set&lt;Child25Dto&gt; getTypeTwentyFiveChildren();\r\n        }\r\n        @EntityView(Child1.class)\r\n        interface Child1Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n\r\n        //...\r\n\r\n        @EntityView(Child25.class)\r\n        interface Child25Dto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`GrandFatherDto a = entityViewManager.find(entityManager, GrandFatherDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;GrandFatherDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage\r\n  [2]: https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy","title":"JPA Multiple collections eager fetch with named entity graph","body":"<p>Like Chris mentioned in the comments, there is always a tradeoff with joins vs batch queries. I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> though since it offers the <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#multiset-fetch-strategy\" rel=\"nofollow noreferrer\">MULTISET fetch strategy</a> that represents the best of both worlds.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(GrandFather.class)\npublic interface GrandFatherDto {\n    @IdMapping\n    Integer getId();\n    String getName();\n    Set&lt;FatherDto&gt; getFathers();\n\n    @EntityView(Father.class)\n    interface FatherDto {\n        @IdMapping\n        Long getId();\n        String getName();\n        @Mapping(fetch = MULTISET)\n        Set&lt;Child1Dto&gt; getTypeOneChildren();\n        //...\n        @Mapping(fetch = MULTISET)\n        Set&lt;Child25Dto&gt; getTypeTwentyFiveChildren();\n    }\n    @EntityView(Child1.class)\n    interface Child1Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n\n    //...\n\n    @EntityView(Child25.class)\n    interface Child25Dto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>GrandFatherDto a = entityViewManager.find(entityManager, GrandFatherDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;GrandFatherDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":15194394,"reputation":63,"user_id":10964215,"display_name":"hido"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675358773,"creation_date":1673801125,"question_id":75126706,"body_markdown":"Is there a way to use `@NamedEntityGraph` for eager fetch of multiple collections of entities? I&#39;m using Spring boot with Spring data and hibernate.\r\n\r\nI have 2 entities- grandfather and father who have `OneToMany` relation. I need to get all of the grandfather fathers and then use a function on each of them (for simplicity let&#39;s say `.toString()`)\r\n The problem is that the `Father` entity has 25 different type of children and each one is a collection with `FetchType.LAZY` and relations of `ManyToMany`, so calling `toString` loades all of the children collections and make the function very slow.\r\nThe entities looks like that:\r\n\r\n    public class GrandFather() {\r\n      private Integer id;\r\n      @OneToMany(fetch = FetchType.LAZY)\r\n      private Set&lt;Father&gt; fathers;\r\n    }\r\n    \r\n    public class Father() {\r\n      private Integer id;\r\n      @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(\r\n        name = &quot;father_child_type_one&quot;\r\n        joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_one&quot;, referencedColumnName = &quot;id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_one_id&quot;, referencedColumnName = &quot;id&quot;)\r\n      )\r\n      private Set&lt;Child1&gt; typeOneChildren;\r\n    \r\n    .\r\n    .\r\n    .\r\n    \r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n      @JoinTable(\r\n        name = &quot;father_child_type_twenty_five&quot;\r\n        joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_twenty_five&quot;, referencedColumnName = &quot;id&quot;),\r\n       inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_twenty_five_id&quot;, referencedColumnName = &quot;id&quot;)\r\n      )\r\n      private Set&lt;Child25&gt; typeTwentyFiveChildren;\r\n\r\n      public void toString() {\r\n        typeOneChildren.stream().forEach(child -&gt; child.toString());\r\n        .\r\n        .\r\n        .\r\n        typeTwentyFiveChildren.stream().forEach(child -&gt; child.toString());\r\n      }\r\n    }\r\n\r\nEach one of the children are a different Entity with different properties.\r\n\r\nI tried adding `@NamedEntityGraph` to `GrandFather` like this:\r\n\r\n    @NamedEntityGraph(name = &quot;fetchGrandFatherWithChildren&quot;,\r\n    \t\tattributeNodes = {\r\n    \t\t\t\t@NamedAttributeNode(value = &quot;fathers&quot;, subgraph = &quot;father_subgraph&quot;)\r\n    \t\t},\r\n    \t\tsubgraphs = {\r\n    \t\t\t\t@NamedSubgraph(name = &quot;father_subgraph&quot;, type = Father.class, attributeNodes = {\r\n    \t\t\t\t\t\t@NamedAttributeNode(&quot;typeOneChildren&quot;),\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t.\r\n    \t\t\t\t\t\t@NamedAttributeNode(&quot;typeTwentyFiveChildren&quot;)\r\n    \t\t\t\t})\r\n    \t\t})\r\nbut this EntityGraph only worked when I put it on `findById` (most of the app uses this function and doesn&#39;t need the graph) in `GrandFatherRepository`, every other name and it didn&#39;t work - either just kept on doing all the lazy fetching for each father on each child type or throwing `MultipleBagFetchException` (which make sense with all of the collections and Cartesian results).\r\n\r\n    public class GrandFatherService {\r\n        GrandFatherRepository grandFatherRepository;\r\n        public void toString(Integer grandfatherId) {\r\n          Set&lt;Father&gt; fathers = grandFatherRepository.findById(grandfatherId);\r\n          fathers.stream().forEach(Father::toString);\r\n        }\r\n    }\r\n\r\nThe other solution I found was based on the answer for this [qestion][1]\r\nand it as follows (it works but very messy):\r\nin my `GrandFatherService` in the function that I try to fetch the GrandFather with all of his grandchildren eagerly, I get the GrandFather with the fathers eagerly, and then I fetch each type of child for all of the fathers and set them.\r\n(`findWithFathersById` uses a basic entity graph)\r\n\r\n    public class GrandFatherService {\r\n      GrandFatherRepository grandFatherRepository;\r\n      FatherRepository fatherRepository;\r\n      public void toString(Integer grandfatherId) {\r\n        Set&lt;Father&gt; fathers = grandFatherRepository.findWithFathersById(grandfatherId);\r\n    \r\n        Map&lt;Interer, Father&gt; fatherChildOne = fatherRepository.findAllWithChildTypeOne(grandfatherId);\r\n        .\r\n        .\r\n        .\r\n        Map&lt;Interer, Father&gt; fatherChildTwentyFive = fatherRepository.findAllWithChildTypeTwentyFive(grandfatherId);\r\n    \r\n       fathers.stream().forEach(father -&gt; {\r\n         Integer fatherId = father.getId();\r\n         father.setChildTypeOne(fatherChildOne.get(fatherId).getChildOne);\r\n         .\r\n         .\r\n         .\r\n         father.setChildTypeTwentyFive(fatherChildTwentyFive.get(fatherId).getChildTwentyFive);\r\n         father.toString();\r\n       }\r\n      }\r\n    }\r\n\r\n    public interface FatherRepository extends JpaRepository&lt;Father, Integer&gt; {\r\n      @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeOneChildren&quot;)\r\n\t  Set&lt;Father&gt; findAllWithChildTypeOne(Integer trialId);\r\n      .\r\n      .\r\n      .\r\n      @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeTwentyFiveChildren&quot;)\r\n\t  Set&lt;Father&gt; findAllWithChildTypeTwentyFive(Integer trialId);\r\n    }\r\n\r\nFor conclusion, my question is: Is there a less messy way to eager fetch all of the grand children/ to make the first entity graph to work not with findById?\r\n\r\n  [1]: https://stackoverflow.com/questions/30479748/jpa-how-to-define-namedentitygraph-for-3-levels","title":"JPA Multiple collections eager fetch with named entity graph","body":"<p>Is there a way to use <code>@NamedEntityGraph</code> for eager fetch of multiple collections of entities? I'm using Spring boot with Spring data and hibernate.</p>\n<p>I have 2 entities- grandfather and father who have <code>OneToMany</code> relation. I need to get all of the grandfather fathers and then use a function on each of them (for simplicity let's say <code>.toString()</code>)\nThe problem is that the <code>Father</code> entity has 25 different type of children and each one is a collection with <code>FetchType.LAZY</code> and relations of <code>ManyToMany</code>, so calling <code>toString</code> loades all of the children collections and make the function very slow.\nThe entities looks like that:</p>\n<pre><code>public class GrandFather() {\n  private Integer id;\n  @OneToMany(fetch = FetchType.LAZY)\n  private Set&lt;Father&gt; fathers;\n}\n\npublic class Father() {\n  private Integer id;\n  @ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(\n    name = &quot;father_child_type_one&quot;\n    joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_one&quot;, referencedColumnName = &quot;id&quot;),\n   inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_one_id&quot;, referencedColumnName = &quot;id&quot;)\n  )\n  private Set&lt;Child1&gt; typeOneChildren;\n\n.\n.\n.\n\n@ManyToMany(fetch = FetchType.LAZY)\n  @JoinTable(\n    name = &quot;father_child_type_twenty_five&quot;\n    joinColumns = @JoinColumn(name = &quot;fk_father_id_child_type_twenty_five&quot;, referencedColumnName = &quot;id&quot;),\n   inverseJoinColumns = @JoinColumn(name = &quot;fk_father_child_type_twenty_five_id&quot;, referencedColumnName = &quot;id&quot;)\n  )\n  private Set&lt;Child25&gt; typeTwentyFiveChildren;\n\n  public void toString() {\n    typeOneChildren.stream().forEach(child -&gt; child.toString());\n    .\n    .\n    .\n    typeTwentyFiveChildren.stream().forEach(child -&gt; child.toString());\n  }\n}\n</code></pre>\n<p>Each one of the children are a different Entity with different properties.</p>\n<p>I tried adding <code>@NamedEntityGraph</code> to <code>GrandFather</code> like this:</p>\n<pre><code>@NamedEntityGraph(name = &quot;fetchGrandFatherWithChildren&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;fathers&quot;, subgraph = &quot;father_subgraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(name = &quot;father_subgraph&quot;, type = Father.class, attributeNodes = {\n                        @NamedAttributeNode(&quot;typeOneChildren&quot;),\n                        .\n                        .\n                        .\n                        @NamedAttributeNode(&quot;typeTwentyFiveChildren&quot;)\n                })\n        })\n</code></pre>\n<p>but this EntityGraph only worked when I put it on <code>findById</code> (most of the app uses this function and doesn't need the graph) in <code>GrandFatherRepository</code>, every other name and it didn't work - either just kept on doing all the lazy fetching for each father on each child type or throwing <code>MultipleBagFetchException</code> (which make sense with all of the collections and Cartesian results).</p>\n<pre><code>public class GrandFatherService {\n    GrandFatherRepository grandFatherRepository;\n    public void toString(Integer grandfatherId) {\n      Set&lt;Father&gt; fathers = grandFatherRepository.findById(grandfatherId);\n      fathers.stream().forEach(Father::toString);\n    }\n}\n</code></pre>\n<p>The other solution I found was based on the answer for this <a href=\"https://stackoverflow.com/questions/30479748/jpa-how-to-define-namedentitygraph-for-3-levels\">qestion</a>\nand it as follows (it works but very messy):\nin my <code>GrandFatherService</code> in the function that I try to fetch the GrandFather with all of his grandchildren eagerly, I get the GrandFather with the fathers eagerly, and then I fetch each type of child for all of the fathers and set them.\n(<code>findWithFathersById</code> uses a basic entity graph)</p>\n<pre><code>public class GrandFatherService {\n  GrandFatherRepository grandFatherRepository;\n  FatherRepository fatherRepository;\n  public void toString(Integer grandfatherId) {\n    Set&lt;Father&gt; fathers = grandFatherRepository.findWithFathersById(grandfatherId);\n\n    Map&lt;Interer, Father&gt; fatherChildOne = fatherRepository.findAllWithChildTypeOne(grandfatherId);\n    .\n    .\n    .\n    Map&lt;Interer, Father&gt; fatherChildTwentyFive = fatherRepository.findAllWithChildTypeTwentyFive(grandfatherId);\n\n   fathers.stream().forEach(father -&gt; {\n     Integer fatherId = father.getId();\n     father.setChildTypeOne(fatherChildOne.get(fatherId).getChildOne);\n     .\n     .\n     .\n     father.setChildTypeTwentyFive(fatherChildTwentyFive.get(fatherId).getChildTwentyFive);\n     father.toString();\n   }\n  }\n}\n\npublic interface FatherRepository extends JpaRepository&lt;Father, Integer&gt; {\n  @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeOneChildren&quot;)\n  Set&lt;Father&gt; findAllWithChildTypeOne(Integer trialId);\n  .\n  .\n  .\n  @Query(value = &quot;select f from Father f LEFT JOIN FETCH f.typeTwentyFiveChildren&quot;)\n  Set&lt;Father&gt; findAllWithChildTypeTwentyFive(Integer trialId);\n}\n</code></pre>\n<p>For conclusion, my question is: Is there a less messy way to eager fetch all of the grand children/ to make the first entity graph to work not with findById?</p>\n"},{"tags":["java","iterator","iterable"],"comments":[{"owner":{"account_id":3327594,"reputation":1669,"user_id":2797254,"accept_rate":65,"display_name":"Weishi Z"},"score":0,"creation_date":1661990439,"post_id":6863182,"comment_id":129905281,"body_markdown":"`Iterable&lt;Integer&gt; iterable = () -&gt; list.iterator();`\nand \n`Iterator&lt;Integer&gt; iterator = iterable.iterator();`","body":"<code>Iterable&lt;Integer&gt; iterable = () -&gt; list.iterator();</code> and  <code>Iterator&lt;Integer&gt; iterator = iterable.iterator();</code>"}],"answers":[{"comments":[{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":2,"creation_date":1360190408,"post_id":6863238,"comment_id":20625996,"body_markdown":"FYI a java.util.Collection always implements java.util.Iterable.","body":"FYI a java.util.Collection always implements java.util.Iterable."},{"owner":{"account_id":3568325,"reputation":1079,"user_id":2979310,"accept_rate":87,"display_name":"ulab"},"score":2,"creation_date":1470043110,"post_id":6863238,"comment_id":64768899,"body_markdown":"Is it not `java.lang.Iterable` ?","body":"Is it not <code>java.lang.Iterable</code> ?"},{"owner":{"account_id":1958700,"reputation":17413,"user_id":1760984,"accept_rate":80,"display_name":"aldok"},"score":0,"creation_date":1517112657,"post_id":6863238,"comment_id":83959089,"body_markdown":"It&#39;s `java.lang.Iterable`","body":"It&#39;s <code>java.lang.Iterable</code>"}],"tags":[],"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1311874786,"creation_date":1311874786,"answer_id":6863238,"question_id":6863182,"body_markdown":"If a collection is iterable, then it can be iterated using an iterator (and consequently can be used in a for each loop.) The iterator is the actual object that will iterate through the collection.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>If a collection is iterable, then it can be iterated using an iterator (and consequently can be used in a for each loop.) The iterator is the actual object that will iterate through the collection.</p>\n"},{"comments":[{"owner":{"account_id":181829,"reputation":14010,"user_id":416100,"accept_rate":67,"display_name":"sakhunzai"},"score":1,"creation_date":1435821630,"post_id":6863258,"comment_id":50362377,"body_markdown":"will that matter if `Iterable` has `interal` or `external` iterator or it is possible to have any of them ?","body":"will that matter if <code>Iterable</code> has <code>interal</code> or <code>external</code> iterator or it is possible to have any of them ?"}],"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":1,"down_vote_count":0,"up_vote_count":270,"is_accepted":true,"score":270,"last_activity_date":1311874900,"creation_date":1311874900,"answer_id":6863258,"question_id":6863182,"body_markdown":"An `Iterable` is a simple representation of a series of elements that can be iterated over. It does not have any iteration state such as a &quot;current element&quot;. Instead, it has one method that produces an `Iterator`.\r\n\r\nAn `Iterator` is the object with iteration state. It lets you check if it has more elements using `hasNext()` and move to the next element (if any) using `next()`.\r\n\r\nTypically, an `Iterable` should be able to produce any number of valid `Iterator`s.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An <code>Iterable</code> is a simple representation of a series of elements that can be iterated over. It does not have any iteration state such as a \"current element\". Instead, it has one method that produces an <code>Iterator</code>.</p>\n\n<p>An <code>Iterator</code> is the object with iteration state. It lets you check if it has more elements using <code>hasNext()</code> and move to the next element (if any) using <code>next()</code>.</p>\n\n<p>Typically, an <code>Iterable</code> should be able to produce any number of valid <code>Iterator</code>s.</p>\n"},{"tags":[],"owner":{"account_id":443137,"reputation":7855,"user_id":834176,"accept_rate":90,"display_name":"Keith Pinson"},"comment_count":0,"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1454079292,"creation_date":1311875019,"answer_id":6863299,"question_id":6863182,"body_markdown":"An implementation of `Iterable` is one that provides an `Iterator` of itself:\r\n\r\n    public interface Iterable&lt;T&gt;\r\n    {\r\n        Iterator&lt;T&gt; iterator();\r\n    }\r\n\r\nAn iterator is a simple way of allowing some to loop through a collection of data without assignment privileges (though with ability to remove).\r\n\r\n    public interface Iterator&lt;E&gt;\r\n    {\r\n        boolean hasNext();\r\n        E next();\r\n        void remove();\r\n    }\r\n\r\nSee [Javadoc][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An implementation of <code>Iterable</code> is one that provides an <code>Iterator</code> of itself:</p>\n\n<pre><code>public interface Iterable&lt;T&gt;\n{\n    Iterator&lt;T&gt; iterator();\n}\n</code></pre>\n\n<p>An iterator is a simple way of allowing some to loop through a collection of data without assignment privileges (though with ability to remove).</p>\n\n<pre><code>public interface Iterator&lt;E&gt;\n{\n    boolean hasNext();\n    E next();\n    void remove();\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html\" rel=\"noreferrer\">Javadoc</a>.</p>\n"},{"comments":[{"owner":{"account_id":4562965,"reputation":415,"user_id":3734690,"accept_rate":67,"display_name":"Chinmaya B"},"score":1,"creation_date":1423640536,"post_id":24611768,"comment_id":45226098,"body_markdown":"If any class is implementing Iterable it should have a Iterator() method in it right??? Correct me if I am wrong.","body":"If any class is implementing Iterable it should have a Iterator() method in it right??? Correct me if I am wrong."},{"owner":{"account_id":357350,"reputation":9194,"user_id":697461,"accept_rate":59,"display_name":"agent.smith"},"score":0,"creation_date":1429024532,"post_id":24611768,"comment_id":47404862,"body_markdown":"yes. It should have interface&#39;s unimplemented method. In this case it is Iterator.","body":"yes. It should have interface&#39;s unimplemented method. In this case it is Iterator."},{"owner":{"account_id":3218249,"reputation":1098,"user_id":2716301,"accept_rate":75,"display_name":"EricGreg"},"score":0,"creation_date":1478102913,"post_id":24611768,"comment_id":68021092,"body_markdown":"Thanks for an intelligent answer. I came here to double check my understanding of Iterable vs Iterator. You confirmed it. All the other answers talk about the structure, which I guess is fine, but doesn&#39;t answer the question of WHY I&#39;d use one over the other.","body":"Thanks for an intelligent answer. I came here to double check my understanding of Iterable vs Iterator. You confirmed it. All the other answers talk about the structure, which I guess is fine, but doesn&#39;t answer the question of WHY I&#39;d use one over the other."},{"owner":{"account_id":5425697,"reputation":869,"user_id":4318036,"accept_rate":55,"display_name":"Sam"},"score":0,"creation_date":1486595970,"post_id":24611768,"comment_id":71419014,"body_markdown":"For me, this is the best answer.","body":"For me, this is the best answer."},{"owner":{"account_id":13876098,"reputation":171,"user_id":10017725,"display_name":"Neeraj"},"score":0,"creation_date":1563301671,"post_id":24611768,"comment_id":100652016,"body_markdown":"I wanted to know what is the benefit of  For each loop for String s: someClass. Since someClass is java class object and s String ref. Under what cirsumstances one should go with such sort of implementations.","body":"I wanted to know what is the benefit of  For each loop for String s: someClass. Since someClass is java class object and s String ref. Under what cirsumstances one should go with such sort of implementations."}],"tags":[],"owner":{"account_id":288369,"reputation":7565,"user_id":588747,"accept_rate":65,"display_name":"Nageswaran"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1404739801,"creation_date":1404739801,"answer_id":24611768,"question_id":6863182,"body_markdown":"Implementing Iterable interface allows an object to be the target of the &quot;foreach&quot; statement.\r\n\r\n    class SomeClass implements Iterable&lt;String&gt; {}\r\n    \r\n    class Main \r\n    {\r\n      public void method()\r\n      {\r\n         SomeClass someClass = new SomeClass();\r\n         .....\r\n    \r\n        for(String s : someClass) {\r\n         //do something\r\n        }\r\n      }\r\n    }\r\n\r\nIterator is an interface, which has implementation for iterate over elements. Iterable is an interface which provides Iterator.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Implementing Iterable interface allows an object to be the target of the \"foreach\" statement.</p>\n\n<pre><code>class SomeClass implements Iterable&lt;String&gt; {}\n\nclass Main \n{\n  public void method()\n  {\n     SomeClass someClass = new SomeClass();\n     .....\n\n    for(String s : someClass) {\n     //do something\n    }\n  }\n}\n</code></pre>\n\n<p>Iterator is an interface, which has implementation for iterate over elements. Iterable is an interface which provides Iterator.</p>\n"},{"comments":[{"owner":{"account_id":1577535,"reputation":1048,"user_id":1463629,"accept_rate":50,"display_name":"Kanad"},"score":3,"creation_date":1556033775,"post_id":25518557,"comment_id":98296291,"body_markdown":"I was wondering why collection classes do not implement Iterator interface directly (instead of implementing Iterable and returning Iterator object). This answer made it clear that - in that case it wouldn&#39;t have been possible to traverse collection multiple times (and also simultaneously by multiple threads). This is very important answer.","body":"I was wondering why collection classes do not implement Iterator interface directly (instead of implementing Iterable and returning Iterator object). This answer made it clear that - in that case it wouldn&#39;t have been possible to traverse collection multiple times (and also simultaneously by multiple threads). This is very important answer."}],"tags":[],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1409110674,"creation_date":1409110674,"answer_id":25518557,"question_id":6863182,"body_markdown":"The most important consideration is whether the item in question should be able to be traversed more than once. This is because you can always rewind an Iterable by calling iterator() again, but there is no way to rewind an Iterator.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>The most important consideration is whether the item in question should be able to be traversed more than once. This is because you can always rewind an Iterable by calling iterator() again, but there is no way to rewind an Iterator.</p>\n"},{"tags":[],"owner":{"account_id":10790919,"reputation":11,"user_id":7938463,"display_name":"Rf Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493409771,"creation_date":1493409771,"answer_id":43688091,"question_id":6863182,"body_markdown":"Question:Difference between Iterable and Iterator? &lt;br&gt;\r\nAns:\r\n\r\niterable: It is related to forEach loop\t&lt;br&gt;\r\niterator: Is is related to Collection\r\n\r\nThe target element of the forEach loop shouble be iterable.\t&lt;br&gt;\r\nWe can use Iterator to get the object one by one from the Collection\r\n\r\nIterable present in java.ḷang package\t\r\nIterator present in java.util package\r\n\r\nContains only one method iterator()\t&lt;br&gt;\r\nContains three method hasNext(), next(), remove()\r\n\r\nIntroduced in 1.5 version &lt;br&gt;\r\nIntroduced in 1.2 version\r\n\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Question:Difference between Iterable and Iterator? <br>\nAns:</p>\n\n<p>iterable: It is related to forEach loop <br>\niterator: Is is related to Collection</p>\n\n<p>The target element of the forEach loop shouble be iterable. <br>\nWe can use Iterator to get the object one by one from the Collection</p>\n\n<p>Iterable present in java.ḷang package<br>\nIterator present in java.util package</p>\n\n<p>Contains only one method iterator() <br>\nContains three method hasNext(), next(), remove()</p>\n\n<p>Introduced in 1.5 version <br>\nIntroduced in 1.2 version</p>\n"},{"tags":[],"owner":{"account_id":4454871,"reputation":259,"user_id":3625510,"display_name":"shahrukhamd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496243101,"creation_date":1496243101,"answer_id":44288314,"question_id":6863182,"body_markdown":"***In addition to [ColinD][1] and [Seeker][2] answers.***\r\n\r\nIn simple terms, **Iterable** and **Iterator** are both interfaces provided in Java&#39;s Collection Framework. \r\n\r\n**Iterable**\r\n\r\nA class has to implement the Iterable interface if it wants to have a *for-each* loop to iterate over its collection. However, **the for-each loop can only be used to cycle through the collection in the forward direction and you won&#39;t be able to modify the elements in this collection**. But, if all you want is to read the elements data, then it&#39;s very simple and thanks to Java lambda expression it&#39;s often one liner. For example:\r\n\r\n    iterableElements.forEach (x -&gt; System.out.println(x) );\r\n\r\n**Iterator**\r\n\r\nThis interface enables you to iterate over a collection, obtaining and removing its elements. Each of the collection classes provides a **iterator()** method that returns an iterator to the start of the collection. The advantage of this interface over iterable is that with this interface **you can add, modify or remove elements in a collection**. But, accessing elements needs a little more code than iterable. For example:\r\n\r\n    for (Iterator i = c.iterator(); i.hasNext(); ) {\r\n           Element e = i.next();    //Get the element\r\n           System.out.println(e);    //access or modify the element\r\n    }\r\n\r\n\r\n----------\r\n**Sources:**\r\n\r\n 1. [Java Doc Iterable][3] \r\n 2. [Java Doc Iterator][4]\r\n\r\n  [1]: https://stackoverflow.com/users/13792/colind\r\n  [2]: https://stackoverflow.com/users/5053862/seeker\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html","title":"What is the difference between iterator and iterable and how to use them?","body":"<p><strong><em>In addition to <a href=\"https://stackoverflow.com/users/13792/colind\">ColinD</a> and <a href=\"https://stackoverflow.com/users/5053862/seeker\">Seeker</a> answers.</em></strong></p>\n\n<p>In simple terms, <strong>Iterable</strong> and <strong>Iterator</strong> are both interfaces provided in Java's Collection Framework. </p>\n\n<p><strong>Iterable</strong></p>\n\n<p>A class has to implement the Iterable interface if it wants to have a <em>for-each</em> loop to iterate over its collection. However, <strong>the for-each loop can only be used to cycle through the collection in the forward direction and you won't be able to modify the elements in this collection</strong>. But, if all you want is to read the elements data, then it's very simple and thanks to Java lambda expression it's often one liner. For example:</p>\n\n<pre><code>iterableElements.forEach (x -&gt; System.out.println(x) );\n</code></pre>\n\n<p><strong>Iterator</strong></p>\n\n<p>This interface enables you to iterate over a collection, obtaining and removing its elements. Each of the collection classes provides a <strong>iterator()</strong> method that returns an iterator to the start of the collection. The advantage of this interface over iterable is that with this interface <strong>you can add, modify or remove elements in a collection</strong>. But, accessing elements needs a little more code than iterable. For example:</p>\n\n<pre><code>for (Iterator i = c.iterator(); i.hasNext(); ) {\n       Element e = i.next();    //Get the element\n       System.out.println(e);    //access or modify the element\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Sources:</strong></p>\n\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\">Java Doc Iterable</a> </li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\">Java Doc Iterator</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10298445,"reputation":418,"user_id":7597849,"display_name":"Doomed93"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496848260,"creation_date":1496848260,"answer_id":44416512,"question_id":6863182,"body_markdown":"Basically speaking, both of them are very closely related to each other.\r\n\r\nConsider **Iterator** to be an interface which helps us in traversing through a collection with the help of some undefined methods like *hasNext(), next() and remove()*\r\n\r\nOn the flip side, **Iterable** is another interface, which, if implemented by a class forces the class to be Iterable and is a target for For-Each construct.\r\nIt has only one method named iterator() which comes from Iterator interface itself.\r\n\r\nWhen a collection is iterable, then it can be iterated using an iterator.\r\n\r\nFor understanding visit these:\r\n\r\n**ITERABLE:**  http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java\r\n\r\n**ITERATOR** http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java\r\n\r\n\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Basically speaking, both of them are very closely related to each other.</p>\n\n<p>Consider <strong>Iterator</strong> to be an interface which helps us in traversing through a collection with the help of some undefined methods like <em>hasNext(), next() and remove()</em></p>\n\n<p>On the flip side, <strong>Iterable</strong> is another interface, which, if implemented by a class forces the class to be Iterable and is a target for For-Each construct.\nIt has only one method named iterator() which comes from Iterator interface itself.</p>\n\n<p>When a collection is iterable, then it can be iterated using an iterator.</p>\n\n<p>For understanding visit these:</p>\n\n<p><strong>ITERABLE:</strong>  <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Iterable.java</a></p>\n\n<p><strong>ITERATOR</strong> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Iterator.java</a></p>\n"},{"tags":[],"owner":{"account_id":11568815,"reputation":21,"user_id":8476173,"display_name":"Abhishek Malviya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545639962,"creation_date":1502950093,"answer_id":45727709,"question_id":6863182,"body_markdown":"Consider an example having 10 apples.\r\nWhen it implements Iterable, it is like putting each apple in boxes from 1 to 10 and return an iterator which can be used to navigate.\r\n\r\nBy implementing iterator, we can get any apple, apple in next boxes etc.\r\n\r\nSo implementing iterable gives an iterator to navigate its elements although to navigate, iterator needs to be implemented.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Consider an example having 10 apples.\nWhen it implements Iterable, it is like putting each apple in boxes from 1 to 10 and return an iterator which can be used to navigate.</p>\n\n<p>By implementing iterator, we can get any apple, apple in next boxes etc.</p>\n\n<p>So implementing iterable gives an iterator to navigate its elements although to navigate, iterator needs to be implemented.</p>\n"},{"tags":[],"owner":{"account_id":11320264,"reputation":31,"user_id":8300785,"display_name":"Sangeeta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510642892,"creation_date":1510637271,"answer_id":47278293,"question_id":6863182,"body_markdown":"As explained [here][1], The “*Iterable*” was introduced to be able to use in the `foreach` loop. A class implementing the *Iterable* interface can be iterated over. \r\n\r\nIterator is class that manages iteration over an *Iterable*. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.\r\n\r\n\r\n  [1]: https://www.java-success.com/%E2%99%A5-java-iterable-vs-iterator-differences-and-know-how/","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>As explained <a href=\"https://www.java-success.com/%E2%99%A5-java-iterable-vs-iterator-differences-and-know-how/\" rel=\"nofollow noreferrer\">here</a>, The “<em>Iterable</em>” was introduced to be able to use in the <code>foreach</code> loop. A class implementing the <em>Iterable</em> interface can be iterated over. </p>\n\n<p>Iterator is class that manages iteration over an <em>Iterable</em>. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.</p>\n"},{"comments":[{"owner":{"account_id":5137801,"reputation":1752,"user_id":4115996,"display_name":"Prasanna"},"score":0,"creation_date":1592148935,"post_id":47706549,"comment_id":110314717,"body_markdown":"I Understood this post, but what if I want to write a method whose return type is `Iterable&lt;T&gt;` then in this scenario what steps do we need to implement? Please suggest that example also.","body":"I Understood this post, but what if I want to write a method whose return type is <code>Iterable&lt;T&gt;</code> then in this scenario what steps do we need to implement? Please suggest that example also."}],"tags":[],"owner":{"account_id":3544068,"reputation":692,"user_id":2960480,"accept_rate":0,"display_name":"Jaemoon Hwang"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1571146277,"creation_date":1512697845,"answer_id":47706549,"question_id":6863182,"body_markdown":"I will answer the question especially about ArrayList as an example in order to help you understand better..\r\n\r\n\r\n1. Iterable interface forces its subclasses to implement abstract method &#39;iterator()&#39;.\r\n\r\n&gt;     public interface Iterable {\r\n&gt;     \t...\r\n&gt;     \tabstract Iterator&lt;T&gt; iterator(); //Returns an &#39;Iterator&#39;(not iterator) over elements of type T.\r\n&gt;     \t...\r\n&gt;     }\r\n\r\n2. Iterator interface forces its subclasses to implement abstract method &#39;hasNext()&#39; and &#39;next()&#39;.\r\n\r\n&gt;     public interface Iterator&#160;{\r\n&gt;     \t...\r\n&gt;     \tabstract boolean hasNext();\t//Returns&#160;true&#160;if the iteration has more elements.\r\n&gt;     \tabstract E next();\t        //Returns the next element in the iteration.\r\n&gt;     \t...\r\n&gt;     }\r\n\r\n\r\n3. ArrayList implements List, List extends Collection and Collection extends Iterable..\r\nThat is, you could see the relationship like \r\n&gt; &#39;Iterable &lt;- Collection &lt;- List &lt;- ArrayList&#39;\r\n\r\n. \r\nAnd Iterable, Collection and List just declare abstract method &#39;iterator()&#39; and ArrayList alone implements it.\r\n\r\n\r\n4. I am going to show ArrayList source code with &#39;iterator()&#39; method as follows for more detailed information.\r\n\r\n&#39;iterator()&#39; method returns an object of class &#39;Itr&#39; which implements &#39;Iterator&lt;E&gt;&#39;.\r\n\r\n\r\n&gt;     public class ArrayList&lt;E&gt; ... implements List&lt;E&gt;, ...\r\n&gt;     {\r\n&gt;     \t...\r\n&gt;     \tpublic Iterator&lt;E&gt; iterator() {\r\n&gt;           \t\treturn new Itr();\r\n&gt;     \t}\r\n&gt;     \r\n&gt;     \r\n&gt;     \tprivate class Itr implements Iterator&lt;E&gt; {\r\n&gt;     \t        ...\r\n&gt;     \t        \r\n&gt;     \t        public boolean hasNext() {\r\n&gt;     \t            return cursor != size;\r\n&gt;     \t        }\r\n&gt;     \t        @SuppressWarnings(&quot;unchecked&quot;)\r\n&gt;     \t        public E next() {\r\n&gt;     \t            checkForComodification();\r\n&gt;     \t            int i = cursor;\r\n&gt;     \t            if (i &gt;= size)\r\n&gt;     \t                throw new NoSuchElementException();\r\n&gt;     \t            Object[] elementData = ArrayList.this.elementData;\r\n&gt;     \t            if (i &gt;= elementData.length)\r\n&gt;     \t                throw new ConcurrentModificationException();\r\n&gt;     \t            cursor = i + 1;\r\n&gt;     \t            return (E) elementData[lastRet = i];\r\n&gt;     \t        }\r\n&gt;     \t        ...\r\n&gt;     \t}\r\n&gt;     }\r\n\r\n5. Some other methods or classes will iterate elements of collections like ArrayList through making use of Iterator&lt;E&gt; (Itr).\r\n\r\n&gt; Here is a simple example.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;a&quot;);\r\n        list.add(&quot;b&quot;);\r\n        list.add(&quot;c&quot;);\r\n        list.add(&quot;d&quot;);\r\n        list.add(&quot;e&quot;);\r\n        list.add(&quot;f&quot;);\r\n\r\n        Iterator&lt;String&gt; iterator = list.iterator();\r\n        while (iterator.hasNext()) {\r\n            String string = iterator.next();\r\n            System.out.println(string);\r\n        }\r\n    }\r\n\r\n\r\n\r\nNow, is it clear? :)\r\n\r\n","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I will answer the question especially about ArrayList as an example in order to help you understand better..</p>\n\n<ol>\n<li>Iterable interface forces its subclasses to implement abstract method 'iterator()'.</li>\n</ol>\n\n<blockquote>\n<pre><code>public interface Iterable {\n  ...\n  abstract Iterator&lt;T&gt; iterator(); //Returns an 'Iterator'(not iterator) over elements of type T.\n  ...\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"2\">\n<li>Iterator interface forces its subclasses to implement abstract method 'hasNext()' and 'next()'.</li>\n</ol>\n\n<blockquote>\n<pre><code>public interface Iterator {\n  ...\n  abstract boolean hasNext(); //Returns true if the iteration has more elements.\n  abstract E next();          //Returns the next element in the iteration.\n  ...\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"3\">\n<li>ArrayList implements List, List extends Collection and Collection extends Iterable..\nThat is, you could see the relationship like \n\n<blockquote>\n  <p>'Iterable &lt;- Collection &lt;- List &lt;- ArrayList'</p>\n</blockquote></li>\n</ol>\n\n<p>. \nAnd Iterable, Collection and List just declare abstract method 'iterator()' and ArrayList alone implements it.</p>\n\n<ol start=\"4\">\n<li>I am going to show ArrayList source code with 'iterator()' method as follows for more detailed information.</li>\n</ol>\n\n<p>'iterator()' method returns an object of class 'Itr' which implements 'Iterator'.</p>\n\n<blockquote>\n<pre><code>public class ArrayList&lt;E&gt; ... implements List&lt;E&gt;, ...\n{\n  ...\n  public Iterator&lt;E&gt; iterator() {\n              return new Itr();\n  }\n\n\n  private class Itr implements Iterator&lt;E&gt; {\n          ...\n\n          public boolean hasNext() {\n              return cursor != size;\n          }\n          @SuppressWarnings(\"unchecked\")\n          public E next() {\n              checkForComodification();\n              int i = cursor;\n              if (i &gt;= size)\n                  throw new NoSuchElementException();\n              Object[] elementData = ArrayList.this.elementData;\n              if (i &gt;= elementData.length)\n                  throw new ConcurrentModificationException();\n              cursor = i + 1;\n              return (E) elementData[lastRet = i];\n          }\n          ...\n  }\n}\n</code></pre>\n</blockquote>\n\n<ol start=\"5\">\n<li>Some other methods or classes will iterate elements of collections like ArrayList through making use of Iterator (Itr).</li>\n</ol>\n\n<blockquote>\n  <p>Here is a simple example.</p>\n</blockquote>\n\n<pre><code>public static void main(String[] args) {\n\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(\"a\");\n    list.add(\"b\");\n    list.add(\"c\");\n    list.add(\"d\");\n    list.add(\"e\");\n    list.add(\"f\");\n\n    Iterator&lt;String&gt; iterator = list.iterator();\n    while (iterator.hasNext()) {\n        String string = iterator.next();\n        System.out.println(string);\n    }\n}\n</code></pre>\n\n<p>Now, is it clear? :)</p>\n"},{"comments":[{"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"score":0,"creation_date":1549477407,"post_id":54559469,"comment_id":95919595,"body_markdown":"Welcome to SO, you could always take the tour [here](https://stackoverflow.com/tour), so that your answer would be more helpful and clean. In our case the question is asking for an explanation regarding the two classes, but your answer is quite confusing instead of clearing things out. Also try to keep a ref, while posting snippets from known/valid/certified sources, to make your answer more concrete.","body":"Welcome to SO, you could always take the tour <a href=\"https://stackoverflow.com/tour\">here</a>, so that your answer would be more helpful and clean. In our case the question is asking for an explanation regarding the two classes, but your answer is quite confusing instead of clearing things out. Also try to keep a ref, while posting snippets from known/valid/certified sources, to make your answer more concrete."}],"tags":[],"owner":{"account_id":15278730,"reputation":11,"user_id":11023747,"display_name":"Ranuj Mahajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549477965,"creation_date":1549474554,"answer_id":54559469,"question_id":6863182,"body_markdown":"`Iterable` were introduced to use in for each loop in java\r\n\r\n    public interface Collection&lt;E&gt; extends Iterable&lt;E&gt;  \r\n\r\n`Iterator` is class that manages iteration over an `Iterable`. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p><code>Iterable</code> were introduced to use in for each loop in java</p>\n\n<pre><code>public interface Collection&lt;E&gt; extends Iterable&lt;E&gt;  \n</code></pre>\n\n<p><code>Iterator</code> is class that manages iteration over an <code>Iterable</code>. It maintains a state of where we are in the current iteration, and knows what the next element is and how to get it.</p>\n"},{"comments":[{"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"score":0,"creation_date":1603802723,"post_id":62681180,"comment_id":114146763,"body_markdown":"very good example.. So cant we say... shelf of books is the thing and to go over it we have librarian. without librarian bookshelf has no value as we cant iterate over them","body":"very good example.. So cant we say... shelf of books is the thing and to go over it we have librarian. without librarian bookshelf has no value as we cant iterate over them"}],"tags":[],"owner":{"account_id":3805427,"reputation":381,"user_id":3157995,"display_name":"Edgar"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1593620585,"creation_date":1593620585,"answer_id":62681180,"question_id":6863182,"body_markdown":"I know this is an old question, but for anybody reading this who is stuck with the same question and who may be overwhelmed with all the terminology, here&#39;s a good, simple analogy to help you understand this distinction between iterables and iterators: \r\n\r\nThink of a public library. Old school. With paper books.  Yes, that kind of library.  \r\n\r\nA shelf full of books would be like an iterable.  You can see the long line of books in the shelf.  You may not know how many, but you can see that it is a long collection of books.  \r\n\r\nThe librarian would be like the iterator.  He can point to a specific book at any moment in time.  He can insert/remove/modify/read the book at that location where he&#39;s pointing.  He points, in sequence, to each book at a time every time you yell out &quot;next!&quot; to him.  So, you normally would ask him: &quot;has Next?&quot;, and he&#39;ll say &quot;yes&quot;, to which you say &quot;next!&quot; and he&#39;ll point to the next book.  He also knows when he&#39;s reached the end of the shelf, so that when you ask: &quot;has Next?&quot; he&#39;ll say &quot;no&quot;.  \r\n\r\nI know it&#39;s a bit silly, but I hope this helps.","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I know this is an old question, but for anybody reading this who is stuck with the same question and who may be overwhelmed with all the terminology, here's a good, simple analogy to help you understand this distinction between iterables and iterators:</p>\n<p>Think of a public library. Old school. With paper books.  Yes, that kind of library.</p>\n<p>A shelf full of books would be like an iterable.  You can see the long line of books in the shelf.  You may not know how many, but you can see that it is a long collection of books.</p>\n<p>The librarian would be like the iterator.  He can point to a specific book at any moment in time.  He can insert/remove/modify/read the book at that location where he's pointing.  He points, in sequence, to each book at a time every time you yell out &quot;next!&quot; to him.  So, you normally would ask him: &quot;has Next?&quot;, and he'll say &quot;yes&quot;, to which you say &quot;next!&quot; and he'll point to the next book.  He also knows when he's reached the end of the shelf, so that when you ask: &quot;has Next?&quot; he'll say &quot;no&quot;.</p>\n<p>I know it's a bit silly, but I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1317368,"reputation":28514,"user_id":1263942,"accept_rate":96,"display_name":"Bruno Grieder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643362364,"creation_date":1643354951,"answer_id":70890188,"question_id":6863182,"body_markdown":"An anonymous class easily converts an `Iterator` to an `Iterable` and lets you use the `Iterable` syntax (for loops, `forEach()`).\r\n\r\nExample: consider an `Iterator&lt;T&gt; it`\r\n\r\n```java\r\nfor (T element : new Iterable&lt;T&gt;() {\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return it;\r\n    }\r\n\r\n}) {\r\n    //do something with `T element`\r\n}\r\n```\r\n\r\nAbstracted in a function\r\n\r\n```java\r\nstatic &lt;T&gt; Iterable&lt;T&gt; toIterable(Iterator&lt;T&gt; it) {\r\n    return new Iterable&lt;T&gt;() {\r\n\r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return it;\r\n        }\r\n\r\n    };\r\n}\r\n```\r\nUsage \r\n```java\r\nfor (T element: toIterable(it) {\r\n...\r\n}\r\n```","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>An anonymous class easily converts an <code>Iterator</code> to an <code>Iterable</code> and lets you use the <code>Iterable</code> syntax (for loops, <code>forEach()</code>).</p>\n<p>Example: consider an <code>Iterator&lt;T&gt; it</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (T element : new Iterable&lt;T&gt;() {\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return it;\n    }\n\n}) {\n    //do something with `T element`\n}\n</code></pre>\n<p>Abstracted in a function</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Iterable&lt;T&gt; toIterable(Iterator&lt;T&gt; it) {\n    return new Iterable&lt;T&gt;() {\n\n        @Override\n        public Iterator&lt;T&gt; iterator() {\n            return it;\n        }\n\n    };\n}\n</code></pre>\n<p>Usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (T element: toIterable(it) {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675358481,"creation_date":1675358481,"answer_id":75326759,"question_id":6863182,"body_markdown":"Most java interfaces ends with ***&#39;able&#39;***. examples are **Iterable**, **Cloneable**, **Serializable**, **Runnable**, etc. Therefore, **Iterable** is an interface that has an abstract method called iterator() which returns an Iterator object. \r\n\r\n    public interface Iterable {\r\n      abstract Iterator&lt;T&gt; iterator(); \r\n    }\r\n\r\nIterator interface has abstract method &#39;hasNext()&#39; and &#39;next()&#39;.\r\n\r\n    public interface Iterator {\r\n     abstract boolean hasNext();\r\n     abstract E next();          \r\n    }\r\n\r\nA clear use is a List which extends-&gt;Collections Interface-&gt;extends Iterable\r\n[![enter image description here][1]][1]\r\n   \r\n    List&lt;String&gt; countrylist = new ArrayList&lt;&gt;();\r\n    list.add(&quot;US&quot;);\r\n    list.add(&quot;China&quot;);\r\n    list.add(&quot;Japan&quot;);\r\n    list.add(&quot;India&quot;);\r\n\r\n    Iterator&lt;String&gt; it = countrylist.iterator();\r\n    while (it.hasNext()) {\r\n        String string = it.next();\r\n        System.out.println(string);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JTV4g.jpg","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>Most java interfaces ends with <em><strong>'able'</strong></em>. examples are <strong>Iterable</strong>, <strong>Cloneable</strong>, <strong>Serializable</strong>, <strong>Runnable</strong>, etc. Therefore, <strong>Iterable</strong> is an interface that has an abstract method called iterator() which returns an Iterator object.</p>\n<pre><code>public interface Iterable {\n  abstract Iterator&lt;T&gt; iterator(); \n}\n</code></pre>\n<p>Iterator interface has abstract method 'hasNext()' and 'next()'.</p>\n<pre><code>public interface Iterator {\n abstract boolean hasNext();\n abstract E next();          \n}\n</code></pre>\n<p>A clear use is a List which extends-&gt;Collections Interface-&gt;extends Iterable\n<a href=\"https://i.stack.imgur.com/JTV4g.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JTV4g.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>List&lt;String&gt; countrylist = new ArrayList&lt;&gt;();\nlist.add(&quot;US&quot;);\nlist.add(&quot;China&quot;);\nlist.add(&quot;Japan&quot;);\nlist.add(&quot;India&quot;);\n\nIterator&lt;String&gt; it = countrylist.iterator();\nwhile (it.hasNext()) {\n    String string = it.next();\n    System.out.println(string);\n}\n</code></pre>\n"}],"owner":{"account_id":251400,"reputation":2741,"user_id":528750,"accept_rate":33,"display_name":"Charles Cai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185406,"favorite_count":0,"down_vote_count":0,"up_vote_count":255,"accepted_answer_id":6863258,"answer_count":15,"score":255,"last_activity_date":1675358481,"creation_date":1311874507,"question_id":6863182,"body_markdown":"I am new in Java and I&#39;m really confused with iterator and iterable. Can anyone explain to me and give some examples?","title":"What is the difference between iterator and iterable and how to use them?","body":"<p>I am new in Java and I'm really confused with iterator and iterable. Can anyone explain to me and give some examples?</p>\n"},{"tags":["java","datetime","datetime-conversion"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1671074489,"post_id":74806407,"comment_id":132021133,"body_markdown":"`LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;).atZone(ZoneId.of(&quot;US/Eastern&quot;)).toInstant()`","body":"<code>LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;).atZone(ZoneId&zwnj;&#8203;.of(&quot;US&#47;Eastern&quot;)).t&zwnj;&#8203;oInstant()</code>"},{"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"score":0,"creation_date":1671086438,"post_id":74806407,"comment_id":132022880,"body_markdown":"@AndreyB.Panfilov This suits my needs well. thanks!","body":"@AndreyB.Panfilov This suits my needs well. thanks!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671178535,"post_id":74806407,"comment_id":132047251,"body_markdown":"Did you search? Please do. Similar questions have been asked and answered over and over. I believe you would get a good answer faster that way.","body":"Did you search? Please do. Similar questions have been asked and answered over and over. I believe you would get a good answer faster that way."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671178617,"post_id":74806407,"comment_id":132047276,"body_markdown":"US/Eastern is a deprecated time zone ID. It works, but prefer America/New_York (which is what you get anyway). Time zone IDs are in *region/city* format.","body":"US/Eastern is a deprecated time zone ID. It works, but prefer America/New_York (which is what you get anyway). Time zone IDs are in <i>region/city</i> format."}],"answers":[{"comments":[{"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"score":0,"creation_date":1671086299,"post_id":74806822,"comment_id":132022850,"body_markdown":"Thanks, it worked :) The output converted to string in this case would be &quot;2022-12-22T23:20Z[UTC]&quot;. Using @AndreyB.Panfilov &#39;s answer we can get a string without the timezone &quot;2022-12-22T23:20:00Z&quot;.","body":"Thanks, it worked :) The output converted to string in this case would be &quot;2022-12-22T23:20Z[UTC]&quot;. Using @AndreyB.Panfilov &#39;s answer we can get a string without the timezone &quot;2022-12-22T23:20:00Z&quot;."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1671086370,"post_id":74806822,"comment_id":132022865,"body_markdown":"Good Answer, but I would make that second line an `OffsetDateTime` as there is no time zone, only an offset.","body":"Good Answer, but I would make that second line an <code>OffsetDateTime</code> as there is no time zone, only an offset."}],"tags":[],"owner":{"account_id":38390,"reputation":2635,"user_id":110156,"accept_rate":80,"display_name":"Jamie Bisotti"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675358157,"creation_date":1671078451,"answer_id":74806822,"question_id":74806407,"body_markdown":"** **Update** **\r\n\r\nA better version, thanks to Arvind&#39;s response below.\r\n\r\n```java\r\n    final ZonedDateTime americaNewYork =\r\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\r\n                         .atZone(ZoneId.of(&quot;America/New_York&quot;));\r\n    final Instant utc = americaNewYork.toInstant();\r\n```\r\n\r\n---\r\n**First Pass**\r\n\r\nI&#39;m not at a computer where I can test this but I think this might do the trick...\r\n\r\n```java\r\n    final ZonedDateTime usEastern =\r\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;, DateTimeFormatter.ISO_DATE_TIME)\r\n                         .atZone(ZoneId.of(&quot;US/Eastern&quot;));\r\n    final ZonedDateTime utc = usEastern.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\r\n```","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>** <strong>Update</strong> **</p>\n<p>A better version, thanks to Arvind's response below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final ZonedDateTime americaNewYork =\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\n                         .atZone(ZoneId.of(&quot;America/New_York&quot;));\n    final Instant utc = americaNewYork.toInstant();\n</code></pre>\n<hr />\n<p><strong>First Pass</strong></p>\n<p>I'm not at a computer where I can test this but I think this might do the trick...</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final ZonedDateTime usEastern =\n            LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;, DateTimeFormatter.ISO_DATE_TIME)\n                         .atZone(ZoneId.of(&quot;US/Eastern&quot;));\n    final ZonedDateTime utc = usEastern.withZoneSameInstant(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673521642,"creation_date":1673521642,"answer_id":75095380,"question_id":74806407,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/74806822/10819573) is correct but there are a few things that are important for future visitors to this page.\r\n\r\nYou do not need to specify a `DateTimeFormatter`\r\n--\r\n\r\n`java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need to specify a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, `2015-03-21T11:08:14.859831`).\r\n\r\nGet an [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) out of the `ZonedDateTime`\r\n--\r\n\r\nOnce you convert the `LocalDateTime`, parsed from the given date-time string, into a `ZonedDateTime`, I recommend you get an `Instant` out of this `ZonedDateTime`. An `Instant` is an instantaneous point on the timeline, and normally this is represented using a UTC timescale.\r\n\r\n*US/Eastern* is deprecated \r\n--\r\n\r\nAs you find at [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones), *US/Eastern* is deprecated. I recommend you avoid using *US/Eastern* and use *America/New_York* instead.\r\n\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.List;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n    \r\n            ZonedDateTime zdt = LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\r\n                                             .atZone(zone);\r\n            // Alternatively\r\n            // zdt = ZonedDateTime.of(LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;), zone);\r\n    \r\n            Instant instant = zdt.toInstant();\r\n            System.out.println(instant);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-22T23:20:00Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/wnrEqa)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/74806822/10819573\">accepted answer</a> is correct but there are a few things that are important for future visitors to this page.</p>\n<h2>You do not need to specify a <code>DateTimeFormatter</code></h2>\n<p><code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need to specify a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, <code>2015-03-21T11:08:14.859831</code>).</p>\n<h2>Get an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> out of the <code>ZonedDateTime</code></h2>\n<p>Once you convert the <code>LocalDateTime</code>, parsed from the given date-time string, into a <code>ZonedDateTime</code>, I recommend you get an <code>Instant</code> out of this <code>ZonedDateTime</code>. An <code>Instant</code> is an instantaneous point on the timeline, and normally this is represented using a UTC timescale.</p>\n<h2><em>US/Eastern</em> is deprecated</h2>\n<p>As you find at <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">List of tz database time zones</a>, <em>US/Eastern</em> is deprecated. I recommend you avoid using <em>US/Eastern</em> and use <em>America/New_York</em> instead.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.List;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n        ZonedDateTime zdt = LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;)\n                                         .atZone(zone);\n        // Alternatively\n        // zdt = ZonedDateTime.of(LocalDateTime.parse(&quot;2022-12-22T18:20:00.000&quot;), zone);\n\n        Instant instant = zdt.toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-22T23:20:00Z\n</code></pre>\n<p><a href=\"https://ideone.com/wnrEqa\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":24015987,"reputation":25,"user_id":17998931,"display_name":"Lingua Franca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74806822,"answer_count":2,"score":0,"last_activity_date":1675358157,"creation_date":1671073556,"question_id":74806407,"body_markdown":"For example, I have an ISO string &quot;2022-12-22T18:20:00.000&quot;, and a timezone string &quot;US/Eastern&quot;. How do I convert them into a UTC time in the same format (iso 8601), using Java?","title":"Given ISO and timezone strings, how to convert them to UTC string in Java?","body":"<p>For example, I have an ISO string &quot;2022-12-22T18:20:00.000&quot;, and a timezone string &quot;US/Eastern&quot;. How do I convert them into a UTC time in the same format (iso 8601), using Java?</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675357688,"creation_date":1675357688,"answer_id":75326629,"question_id":75114625,"body_markdown":"You marked the column as `insertable = false, updatable = false`, so there is nothing to audit here, because Hibernate can never change the value of that column.","title":"@ManyToOne relationship is not audited","body":"<p>You marked the column as <code>insertable = false, updatable = false</code>, so there is nothing to audit here, because Hibernate can never change the value of that column.</p>\n"}],"owner":{"account_id":4651858,"reputation":87,"user_id":3768526,"accept_rate":14,"display_name":"braab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675357688,"creation_date":1673645324,"question_id":75114625,"body_markdown":"I have two entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;entity_a&quot;)\r\n    @Audited\r\n    public class EntityA {\r\n    \r\n        @Column(name = &quot;entity_a_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID uuid = UUID.randomUUID();\r\n    \r\n        /**\r\n         * @deprecated in favor of uuid\r\n         */\r\n        @Deprecated\r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name = &quot;entity_a_id&quot;)\r\n        private Integer id;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n        @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false)\r\n        @BatchSize(size = 100)\r\n        @NotAudited\r\n        private List&lt;EntityB&gt; entityBs = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Audited\r\n    @Table(name = &quot;entity_b&quot;)\r\n    public class EntityB {\r\n    \r\n        @Id\r\n        @Column(name = &quot;entity_b_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        private UUID uuid = UUID.randomUUID();\r\n    \r\n        @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false, insertable = false, updatable = false)\r\n        private EntityA entityA;\r\n    }\r\n\r\nEach is correctly audited into two tables `entity_a_audit` and `entity_b_audit`. However, the `entity_a_id` field in `entity_b_audit` is *always* null.\r\n\r\nSome details:\r\n\r\n 1. If I do not have the `@NotAudited` in `EntityA`, I will get an error that says something to the effect of: The table `EntityA_EntityB_audit` does not exist. This seems like it&#39;s trying to audit them as a single table, which I do not want.\r\n\r\n2. I have tried applying `@Audited(targetAuditMode = elationTargetAuditMode.NOT_AUDITED)` to each side. If applied only in `EntityA`, I get the above error. If applied only in `EntityB`, nothing changes. If applied in both, I get the error above. If applied to neither, I get the error above.\r\n\r\n3. I suspect the `entity_a_id` is null in `entity_b_audit` because the id isn&#39;t generated until EntityA hits the DB. `entity_a_id` is auto-incrementing in the `entity_a` table.\r\n\r\n4. Using `hibernate-envers-5.4.32.Final.jar`\r\n\r\nUltimately, I would like for `entity_a_id` to not be null in `entity_b_audit`. Alternatively, if I could somehow get `entity_a_uuid` to be captured instead, that would also suffice.\r\n\r\nAny help would be greatly appreciated! Thanks.","title":"@ManyToOne relationship is not audited","body":"<p>I have two entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;entity_a&quot;)\n@Audited\npublic class EntityA {\n\n    @Column(name = &quot;entity_a_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid = UUID.randomUUID();\n\n    /**\n     * @deprecated in favor of uuid\n     */\n    @Deprecated\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;entity_a_id&quot;)\n    private Integer id;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false)\n    @BatchSize(size = 100)\n    @NotAudited\n    private List&lt;EntityB&gt; entityBs = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Audited\n@Table(name = &quot;entity_b&quot;)\npublic class EntityB {\n\n    @Id\n    @Column(name = &quot;entity_b_uuid&quot;, columnDefinition = &quot;char&quot;, updatable = false)\n    @Type(type = &quot;uuid-char&quot;)\n    private UUID uuid = UUID.randomUUID();\n\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;entity_a_id&quot;, nullable = false, insertable = false, updatable = false)\n    private EntityA entityA;\n}\n</code></pre>\n<p>Each is correctly audited into two tables <code>entity_a_audit</code> and <code>entity_b_audit</code>. However, the <code>entity_a_id</code> field in <code>entity_b_audit</code> is <em>always</em> null.</p>\n<p>Some details:</p>\n<ol>\n<li><p>If I do not have the <code>@NotAudited</code> in <code>EntityA</code>, I will get an error that says something to the effect of: The table <code>EntityA_EntityB_audit</code> does not exist. This seems like it's trying to audit them as a single table, which I do not want.</p>\n</li>\n<li><p>I have tried applying <code>@Audited(targetAuditMode = elationTargetAuditMode.NOT_AUDITED)</code> to each side. If applied only in <code>EntityA</code>, I get the above error. If applied only in <code>EntityB</code>, nothing changes. If applied in both, I get the error above. If applied to neither, I get the error above.</p>\n</li>\n<li><p>I suspect the <code>entity_a_id</code> is null in <code>entity_b_audit</code> because the id isn't generated until EntityA hits the DB. <code>entity_a_id</code> is auto-incrementing in the <code>entity_a</code> table.</p>\n</li>\n<li><p>Using <code>hibernate-envers-5.4.32.Final.jar</code></p>\n</li>\n</ol>\n<p>Ultimately, I would like for <code>entity_a_id</code> to not be null in <code>entity_b_audit</code>. Alternatively, if I could somehow get <code>entity_a_uuid</code> to be captured instead, that would also suffice.</p>\n<p>Any help would be greatly appreciated! Thanks.</p>\n"},{"tags":["java","android","react-native","facebook"],"answers":[{"comments":[{"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"score":0,"creation_date":1675355391,"post_id":75325354,"comment_id":132915764,"body_markdown":"I am running first npm start only.","body":"I am running first npm start only."},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675356091,"post_id":75325354,"comment_id":132915987,"body_markdown":"Ok. The problem here is pretty much clear. If you see the description of the error &quot;Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;)&quot;, it simply states that still, your app is looking to make a call to the metro server to get the javascript( debug apk and release apk should not do this). Could you try to clear the gradle cache and metro cache before running the above steps using below commands? command 1:  cd android &amp;&amp; ./gradlew clean 2: npm start --reset-cache.","body":"Ok. The problem here is pretty much clear. If you see the description of the error &quot;Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;)&quot;, it simply states that still, your app is looking to make a call to the metro server to get the javascript( debug apk and release apk should not do this). Could you try to clear the gradle cache and metro cache before running the above steps using below commands? command 1:  cd android &amp;&amp; ./gradlew clean 2: npm start --reset-cache."},{"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"score":1,"creation_date":1675357112,"post_id":75325354,"comment_id":132916311,"body_markdown":"Have done it all. build is working fine on local machine. The release apk on bamboo throws this error on app launch","body":"Have done it all. build is working fine on local machine. The release apk on bamboo throws this error on app launch"},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675360933,"post_id":75325354,"comment_id":132917696,"body_markdown":"If it is the release build, i would suggest you the check this link. https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339","body":"If it is the release build, i would suggest you the check this link. <a href=\"https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339\" rel=\"nofollow noreferrer\">github.com/react-native-community/upgrade-support/issues/&hellip;</a>"},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675408593,"post_id":75325354,"comment_id":132926552,"body_markdown":"@Swetha., any luck with the above comment? I suspect the issue is with the release build","body":"@Swetha., any luck with the above comment? I suspect the issue is with the release build"},{"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"score":0,"creation_date":1675409732,"post_id":75325354,"comment_id":132926786,"body_markdown":"Hi, Still no luck. No workaround is helping. The issue persists with release build.","body":"Hi, Still no luck. No workaround is helping. The issue persists with release build."},{"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"score":0,"creation_date":1675425191,"post_id":75325354,"comment_id":132931159,"body_markdown":"Ok. I thought the above link would solve the issue. But I have a question here. Are you still running npm start as the first step? I think this step would be needed only if you are building debug apk. But as you are building release one, you should not run that step I believe. This link mentions 4 steps that needs to be followed. https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339.","body":"Ok. I thought the above link would solve the issue. But I have a question here. Are you still running npm start as the first step? I think this step would be needed only if you are building debug apk. But as you are building release one, you should not run that step I believe. This link mentions 4 steps that needs to be followed. <a href=\"https://github.com/react-native-community/upgrade-support/issues/38#issuecomment-1209353339\" rel=\"nofollow noreferrer\">github.com/react-native-community/upgrade-support/issues/&hellip;</a>."}],"tags":[],"owner":{"account_id":6257222,"reputation":488,"user_id":8988448,"display_name":"Gavara.Suneel"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675351602,"creation_date":1675351602,"answer_id":75325354,"question_id":75324373,"body_markdown":"Before doing the first step i.e., `mkdir android/app/src/main/assets`, you have to run the metro server using the `npm start` command. The below link has all the steps required to create an offline APk in debug mode.I can see that the first step is missing.\r\n\r\nhttps://stackoverflow.com/a/37965603/8988448","title":"Error: Unable to load script. Make sure you are either running a Metro server or your bundle &#39;index.android.bundle&#39; is packaged correctly for release","body":"<p>Before doing the first step i.e., <code>mkdir android/app/src/main/assets</code>, you have to run the metro server using the <code>npm start</code> command. The below link has all the steps required to create an offline APk in debug mode.I can see that the first step is missing.</p>\n<p><a href=\"https://stackoverflow.com/a/37965603/8988448\">https://stackoverflow.com/a/37965603/8988448</a></p>\n"}],"owner":{"account_id":24261328,"reputation":31,"user_id":18210851,"display_name":"shweta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675357667,"creation_date":1675347019,"question_id":75324373,"body_markdown":"I upgraded my React Native project from 0.63.3 to 0.66.4 with the help of this resource \r\nhttps://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4 (followed every instruction in it).\r\n\r\nBut after generating the apk and I see the below error during the launch -&gt;\r\n\r\n```\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: java.lang.RuntimeException: Unable to load script. Make sure you&#39;re either running Metro (run &#39;npx react-native start&#39;) or that your bundle &#39;index.android.bundle&#39; is packaged correctly for release.\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:2)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:1)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:3)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o.s(ReactInstanceManager.java:39)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o.c(ReactInstanceManager.java:1)\r\n01-27 19:12:46.364  9223  9895 E AndroidRuntime: \tat com.facebook.react.o$f.run(ReactInstanceManager.java:12)\r\n\r\n```\r\n\r\nMy index.android.bundle is getting generated in the correct path And I tried every possible solution below to resolve this error, but nothing seems to resolve the above error:\r\n\r\n - $ mkdir android/app/src/main/assets\r\n\r\n   $ react-native bundle --platform android --dev false --entry-file index.android.js -- \r\n   bundle-output android/app/src/main/assets/index.android.bundle --assets-dest \r\n   android/app/src/main/res\r\n\r\n - In Project build.gradle =&gt; \r\n\r\n      project.ext.react=&#160;[\r\n\r\n     &#160;bundleInDebug:&#160;true,\r\n\r\n   &#160;bundleInRelease:&#160;true ]\r\n\r\n - In androidManifest.xml =&gt; \r\n\r\n   android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n   tools:ignore=&quot;GoogleAppIndexingWarning\r\n\r\n - In Project build.gradle =&gt;\r\n\r\n   project.ext.react=&#160;[\r\n\r\n   entryFile:&#160;&quot;index.js&quot;,\r\n\r\n   bundleAssetName:&#160;&quot;index.android.bundle&quot;,\r\n \r\n   devDisabledInAppDev:&#160;true,\r\n  \r\n   devDisabledInRelease:&#160;true ]\r\n\r\n - https://stackoverflow.com/a/49143330/18210851\r\n\r\n**Please suggest some solution.**","title":"Error: Unable to load script. Make sure you are either running a Metro server or your bundle &#39;index.android.bundle&#39; is packaged correctly for release","body":"<p>I upgraded my React Native project from 0.63.3 to 0.66.4 with the help of this resource\n<a href=\"https://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4\" rel=\"nofollow noreferrer\">https://react-native-community.github.io/upgrade-helper/?from=0.63.3&amp;to=0.66.4</a> (followed every instruction in it).</p>\n<p>But after generating the apk and I see the below error during the launch -&gt;</p>\n<pre><code>01-27 19:12:46.364  9223  9895 E AndroidRuntime: java.lang.RuntimeException: Unable to load script. Make sure you're either running Metro (run 'npx react-native start') or that your bundle 'index.android.bundle' is packaged correctly for release.\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.jniLoadScriptFromAssets(Native Method)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.loadScriptFromAssets(CatalystInstanceImpl.java:2)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.JSBundleLoader$1.loadScript(JSBundleLoader.java:1)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.bridge.CatalystInstanceImpl.runJSBundle(CatalystInstanceImpl.java:3)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o.s(ReactInstanceManager.java:39)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o.c(ReactInstanceManager.java:1)\n01-27 19:12:46.364  9223  9895 E AndroidRuntime:    at com.facebook.react.o$f.run(ReactInstanceManager.java:12)\n\n</code></pre>\n<p>My index.android.bundle is getting generated in the correct path And I tried every possible solution below to resolve this error, but nothing seems to resolve the above error:</p>\n<ul>\n<li><p>$ mkdir android/app/src/main/assets</p>\n<p>$ react-native bundle --platform android --dev false --entry-file index.android.js --\nbundle-output android/app/src/main/assets/index.android.bundle --assets-dest\nandroid/app/src/main/res</p>\n</li>\n<li><p>In Project build.gradle =&gt;</p>\n<p>project.ext.react= [</p>\n<p> bundleInDebug: true,</p>\n<p> bundleInRelease: true ]</p>\n</li>\n<li><p>In androidManifest.xml =&gt;</p>\n<p>android:usesCleartextTraffic=&quot;true&quot;</p>\n<p>tools:ignore=&quot;GoogleAppIndexingWarning</p>\n</li>\n<li><p>In Project build.gradle =&gt;</p>\n<p>project.ext.react= [</p>\n<p>entryFile: &quot;index.js&quot;,</p>\n<p>bundleAssetName: &quot;index.android.bundle&quot;,</p>\n<p>devDisabledInAppDev: true,</p>\n<p>devDisabledInRelease: true ]</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/49143330/18210851\">https://stackoverflow.com/a/49143330/18210851</a></p>\n</li>\n</ul>\n<p><strong>Please suggest some solution.</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9543,"page":680,"page_size":100}
